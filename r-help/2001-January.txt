From Bill.Venables at CMIS.CSIRO.AU  Mon Jan  1 02:18:15 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Mon, 1 Jan 2001 11:18:15 +1000 
Subject: [R] The book: S Programming 
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B6B@roper-cv.qld.cmis.CSIRO.AU>

Mike Meyer writes:

> -----Original Message-----
> From: Michael M. Meyer [mailto:mikem at salter-point.com]
> Sent: Monday, 1 January 2001 7:58
> To: Andrew Criswell
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] The book: S Programming 
> 
> 
> The Synopsis on Amazon.co.uk seems to refer to the book "Modern Applied 
> Statistics with S-Plus, but otherwise these are the same two books.  
> The US price of 59.95 converts to about 40.16 UK pounds (using a recent 
> exchange rate).  Thus, except for the cost of mailing, it would seem 
> that the US price is slightly better.  I would suggest you explore the 
> shipping options (both price and delivery time) for the two sites and 
> make a choice based on that.  My guess is that the US site will have a 
> slightly lower shipping price and slightly faster delivery.

I hate to mention this now, but for some odd reason before Christmas
amazon.com had S Programming on a special price of ...  US$17.98, a 70%
reduction on the normal price. I was quite depressed about it at the time
but now it is back to its normal (= exhorbitant) price I don't feel quite so
bad!

I kept an eye on it while it was at its low price and its rank shot up from
around the 50000 mark to about the 5000 mark, so they must have shifted a
few before Christmas.  That's my reason for mentioning this: if anyone is
thinking about buying it now

(a) kick yourself for missing the 18 buck price, and
(b) get in quickly since supply is probably getting a bit low.

It is now back down to the 22000s and sliding so I suspect things are (not
surprisingly!) slowing down a bit.

I agree entirely with Brian that trying to get the message across either to
publishers or online booksellers is a totally futile business.  I speak from
bitter experience as well.

While I am on the Amazon business, I have to say the reviews are not always
the most sensitive and perceptive around, too.  The first one for S Prog
says, in effect, "I was looking for an introductory book on this subject.
This is not one and does not claim to be one.  Nevertheless I went ahead and
bought it anyway and, you know what, I found it very tough going...
Therefore it's crap.  Buy something else."  I loved it.  I can't work out
why so many customers did not find it useful... :-)


> You (or perhaps Brian Ripley or Bill Venables) might want to contact 
> Amazon.co.uk and suggest that they correct their catalog.  
> Unfortunately, I don't have much influence on these matters.

No one has much influence on these matters.  What you are observing is the
purest form of random process this side of quantum physics.

My best wishes to everyone for a happy new year.

Bill.
--
Bill Venables, CSIRO/CMIS Environmetrics Project
Email: Bill.Venables at cmis.csiro.au
Phone: +61 7 3826 7251
Fax:   +61 7 3826 7304
Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Jan  1 14:25:48 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 1 Jan 2001 14:25:48 +0100
Subject: [R] Dynamic Memory Allocation Errors in 1.2.0?
In-Reply-To: <OF5C0EC161.6D0EF2AA-ON852569C3.004837F1@mksinst.com>
References: <OF5C0EC161.6D0EF2AA-ON852569C3.004837F1@mksinst.com>
Message-ID: <14928.34140.375635.21054@mithrandir.hornik.net>

>>>>> Jeff Lischer writes:

> Let me first say I'm new to R and new to this mail list, so I apologize
> ahead if this issue has already been discussed here.

> The dynamic memory allocation of 1.2.0 seems to be an improvement over the
> static allocation of 1.1.1. However, I have run across at least one case
> where the dynamic allocation might be corrupting my results. I am
> interested in calculating the 95% confidence margins of performance results
> based on the number of wins, draws, and losses in a match. For example, for
> a match with 10 wins, 20 draws, and 10 losses, the observed performance is
> 50% and the 95% margins are about (39.0%, 61.0%).

> I wrote the following simple file to calculate these margins using the ABC
> method from Resampling:

>      # main function to calculate margins based on ABC method
>      margins.abc <- function(W,D,L) {
>         # Create arrays with correct number of wins, draws, and losses
>         w <- rep(1.0,W)
>         d <- rep(0.5,D)
>         l <- rep(0.0,L)

>         # Call abcnon with the mean as the function being used
>         results.abc <<- abcnon(c(w,d,l),function(p,x) {sum(p*x)/sum(p)},
>                         alpha = c(0.025, 0.975))

>         print("Actual Results")
>         print(c(results.abc$stats$t0))
>         print("Estimated 95% Margins")
>         results.abc$limits
>      }

> The 'abcnon' routine is from the 'bootstrap' package and it also calculates
> the margins based on standard theory so you can easily see the difference
> between standard and ABC margins. In R 1.1.1, my file always seems to work
> just fine. However, when I run the same file in 1.2.0 I get incorrect
> results when the number of games in the match is large.

> ** Score **    **************  95 % Margins (%)   *************
> W/D/L          Standard  1.1.1           1.2.0

> 10/20/10  (39.0, 61.0)   (39.0, 61.0)    (39.0, 61.0)
> 100/200/100    (46.5, 53.5)   (46.5, 53.5)    (46.5, 53.5)
> 400/800/400    (48.3, 51.7)   (48.3, 51.7)    (45.8, 49.2)
> 800/1600/800   (48.8, 51.2)   (48.8, 51.2)    (52.8, 55.8)

> The 1.1.1 results are always the same as the standard results, which
> is correct for these symmetric cases. The 1.2.0 results, however, are
> meaningless for the largest two cases as they don't even enclose the
> observed result of 50%. My guess is that some critical data is getting
> written over by the dynamic memory allocation. I got the same results
> on Windows 98 and Windows NT with various settings of the
> min/max/vsize/nsize parameters. I also tried using the 'abc.ci'
> routine from the 'boot' package but got similar results for large
> matches.

> Has anyone else observed this behaviour in 1.2.0? Is there anything I
> can do differently to prevent it from happening? Until I figure this
> out, I will stay with 1.1.1 -- I don't want to be always worrying
> about the validity of the 1.2.0 results.

On Debian GNU/Linux, I get

R> margins.abc(400, 800, 400)
[1] "Actual Results"
[1] 0.5
[1] "Estimated 95% Margins"
     alpha       abc      stan
[1,] 0.025 0.4826762 0.4826762
[2,] 0.975 0.5173238 0.5173238
R> margins.abc(800, 1600, 800)
[1] "Actual Results"
[1] 0.5
[1] "Estimated 95% Margins"
     alpha       abc      stan
[1,] 0.025 0.4877502 0.4877502
[2,] 0.975 0.5122498 0.5122498

which seems right.  Maybe this is only a problem on Windows?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvlad at bigfoot.com  Mon Jan  1 22:51:10 2001
From: pvlad at bigfoot.com (pvlad@bigfoot.com)
Date: Mon, 01 Jan 2001 16:51:10 -0500 (EST)
Subject: [R] The book: S Programming
In-Reply-To: <2B7F04539DAFD311B61D009027D0DDA20C3B6B@roper-cv.qld.cmis.CSIRO.AU>
Message-ID: <XFMail.20010101165110.pvlad@bigfoot.com>

I bough my copy at www.bookpool.com
prices there are always better than any other online tech book retailer.

Although, 18$ for that book... way too good...

Vladislav


On 01-Jan-2001 Bill.Venables at CMIS.CSIRO.AU wrote:
> Mike Meyer writes:
> 
>> -----Original Message-----
>> From: Michael M. Meyer [mailto:mikem at salter-point.com]
>> Sent: Monday, 1 January 2001 7:58
>> To: Andrew Criswell
>> Cc: r-help at stat.math.ethz.ch
>> Subject: Re: [R] The book: S Programming 
>> 
>> 
>> The Synopsis on Amazon.co.uk seems to refer to the book "Modern Applied 
>> Statistics with S-Plus, but otherwise these are the same two books.  
>> The US price of 59.95 converts to about 40.16 UK pounds (using a recent 
>> exchange rate).  Thus, except for the cost of mailing, it would seem 
>> that the US price is slightly better.  I would suggest you explore the 
>> shipping options (both price and delivery time) for the two sites and 
>> make a choice based on that.  My guess is that the US site will have a 
>> slightly lower shipping price and slightly faster delivery.
> 
> I hate to mention this now, but for some odd reason before Christmas
> amazon.com had S Programming on a special price of ...  US$17.98, a 70%
> reduction on the normal price. I was quite depressed about it at the time
> but now it is back to its normal (= exhorbitant) price I don't feel quite so
> bad!
> 
> I kept an eye on it while it was at its low price and its rank shot up from
> around the 50000 mark to about the 5000 mark, so they must have shifted a
> few before Christmas.  That's my reason for mentioning this: if anyone is
> thinking about buying it now
> 
> (a) kick yourself for missing the 18 buck price, and
> (b) get in quickly since supply is probably getting a bit low.
> 
> It is now back down to the 22000s and sliding so I suspect things are (not
> surprisingly!) slowing down a bit.
> 
> I agree entirely with Brian that trying to get the message across either to
> publishers or online booksellers is a totally futile business.  I speak from
> bitter experience as well.
> 
> While I am on the Amazon business, I have to say the reviews are not always
> the most sensitive and perceptive around, too.  The first one for S Prog
> says, in effect, "I was looking for an introductory book on this subject.
> This is not one and does not claim to be one.  Nevertheless I went ahead and
> bought it anyway and, you know what, I found it very tough going...
> Therefore it's crap.  Buy something else."  I loved it.  I can't work out
> why so many customers did not find it useful... :-)
> 
> 
>> You (or perhaps Brian Ripley or Bill Venables) might want to contact 
>> Amazon.co.uk and suggest that they correct their catalog.  
>> Unfortunately, I don't have much influence on these matters.
> 
> No one has much influence on these matters.  What you are observing is the
> purest form of random process this side of quantum physics.
> 
> My best wishes to everyone for a happy new year.
> 
> Bill.
> --
> Bill Venables, CSIRO/CMIS Environmetrics Project
> Email: Bill.Venables at cmis.csiro.au
> Phone: +61 7 3826 7251
> Fax:   +61 7 3826 7304
> Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

----------------------------------
E-Mail: pvlad at bigfoot.com
Date: 01-Jan-2001
Time: 16:48:53

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue Jan  2 11:57:36 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 2 Jan 2001 11:57:36 +0100 
Subject: [R] sink() does not seem to release the file
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E90E@exdkba03.novo.dk>

I run Win2000, and when I try to write to a file and later use it
it seems that R 1.02.0 has a firm grip on it:

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R              
> sink("foo")
> cat("some text")
> sink()
> shell("type foo")
some text
> shell("dir f*")
 Volume in drive N is Local Disk
 Volume Serial Number is 1C5E-3A70

 Directory of N:\Bendix\Steno\JaSv\iddm

02-01-2001  11:33                    9 foo
               1 File(s)              9 bytes
               0 Dir(s)  172.857.344.000 bytes free
> shell("del foo")
N:\Bendix\Steno\JaSv\iddm\foo
The process cannot access the file because it is being used by another
process.


However, when I fire up my old R 1.01.1 (which is not installed under
Win2000,
but merely a verbatim copy from my old NT4 machine), I get:

> version
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         
> sink("oof")
> cat("any text")
> sink()
> shell("type oof")
any text
> shell("dir oo*")
 Volume in drive N is Local Disk
 Volume Serial Number is 1C5E-3A70

 Directory of N:\Bendix\Steno\JaSv\iddm

02-01-2001  11:37                    8 oof
               1 File(s)              8 bytes
               0 Dir(s)  172.857.339.904 bytes free
> shell("del oof")
> shell("dir oo*")
 Volume in drive N is Local Disk
 Volume Serial Number is 1C5E-3A70

 Directory of N:\Bendix\Steno\JaSv\iddm

File Not Found
Warning message: 
cmd execution failed with error code 1 in: shell("dir oo*") 
> 

Is this a new bug or a new facility??

I have a vague recollection that a similar problem was also present in an
older version of R, too.
The workaround in R 1.2 is to:

> shell("copy foo oof")

and then use oof for the relevant purpose.

The background for this is that I use R to write a small SAS-program
that writes a SAS-dataset in a read.table format, that I then read into
R. But when strted from withn R, SAS complains that the program file just 
sink()ed by R is in use (apparently by R). 

Any one interested can get the rather clumsy sas.get.R and the corresponding
%out SAS-macro from me on request. Requires that SAS is on your macine 
as well. No bells and whistles at all.

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  2 12:32:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Jan 2001 12:32:03 +0100
Subject: [R] sink() does not seem to release the file
In-Reply-To: "BXC's message of "Tue, 2 Jan 2001 11:57:36 +0100"
References: <D5A7D734C9C5D211B9E30008C78923020609E90E@exdkba03.novo.dk>
Message-ID: <x2vgrytcjw.fsf@blueberry.kubism.ku.dk>

"BXC (Bendix Carstensen)" <bxc at novonordisk.com> writes:

> I run Win2000, and when I try to write to a file and later use it
> it seems that R 1.02.0 has a firm grip on it:

[Proof deleted]

This was on the R-devel list 2 weeks ago:

On Tue, 19 Dec 2000, Prof Brian D Ripley wrote:

> On Tue, 19 Dec 2000 Setzer.Woodrow at epamail.epa.gov wrote:
> 
> > When I use sink(filename) to save the results of the run, the file
> > does not seem to be closed or released back to the OS after I issue
> > the "sink()" command.  Here is a baby example:
> 
> sink works on connections, not files, as from 1.2.0.
> 
> > sink("test.txt")
> > tdta <- data.frame(x = x <- 0:10,y = 2 * x + rnorm(11))
> > 
> > print(summary(lm(y ~ x, data=tdta)))
> > sink()
> > 
> > At this point (even after refreshing the Explorer window) the filesize of
> > "test.txt" is listed as 0 bytes, and as long as Rgui is running, I
> > cannot delete the file.  Emacs cannot read the file (but Notepad can).  This happens both in the gui
> > and when the commands are in a file run via "source()".
> 
> Yes, but what is the bug exactly?  The connection is still open so you can
> switch output back to it.  If you want different behaviour, you can open a
> connection and close it yourself.  As in
> 
> zz <- file("test.txt", "w")
> sink(zz)
> tdta <- data.frame(x = x <- 0:10,y = 2 * x + rnorm(11))
> print(summary(lm(y ~ x, data=tdta)))
> sink()
> close(zz)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  2 12:33:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 2 Jan 2001 11:33:10 +0000 (GMT)
Subject: [R] sink() does not seem to release the file
In-Reply-To: <x2vgrytcjw.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10101021130200.18334-100000@toucan.stats>

To add to that, this behaviour has been changed in the R-patched version
(and hence for 1.2.1): from NEWS/BUG FIXES

    o   Explicitly close files opened by sink() for OSes (such as
        Windows) that benefit from it.

In other words, sink() will close the connection for you.


On 2 Jan 2001, Peter Dalgaard BSA wrote:

> "BXC (Bendix Carstensen)" <bxc at novonordisk.com> writes:
> 
> > I run Win2000, and when I try to write to a file and later use it
> > it seems that R 1.02.0 has a firm grip on it:
> 
> [Proof deleted]
> 
> This was on the R-devel list 2 weeks ago:
> 
> On Tue, 19 Dec 2000, Prof Brian D Ripley wrote:
> 
> > On Tue, 19 Dec 2000 Setzer.Woodrow at epamail.epa.gov wrote:
> > 
> > > When I use sink(filename) to save the results of the run, the file
> > > does not seem to be closed or released back to the OS after I issue
> > > the "sink()" command.  Here is a baby example:
> > 
> > sink works on connections, not files, as from 1.2.0.
> > 
> > > sink("test.txt")
> > > tdta <- data.frame(x = x <- 0:10,y = 2 * x + rnorm(11))
> > > 
> > > print(summary(lm(y ~ x, data=tdta)))
> > > sink()
> > > 
> > > At this point (even after refreshing the Explorer window) the filesize of
> > > "test.txt" is listed as 0 bytes, and as long as Rgui is running, I
> > > cannot delete the file.  Emacs cannot read the file (but Notepad can).  This happens both in the gui
> > > and when the commands are in a file run via "source()".
> > 
> > Yes, but what is the bug exactly?  The connection is still open so you can
> > switch output back to it.  If you want different behaviour, you can open a
> > connection and close it yourself.  As in
> > 
> > zz <- file("test.txt", "w")
> > sink(zz)
> > tdta <- data.frame(x = x <- 0:10,y = 2 * x + rnorm(11))
> > print(summary(lm(y ~ x, data=tdta)))
> > sink()
> > close(zz)
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Tue Jan  2 13:39:18 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Tue, 02 Jan 2001 12:39:18 +0000
Subject: [R] chron blues
Message-ID: <3.0.5.32.20010102123918.0094a8f0@bute.st-and.ac.uk>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1599 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010102/cf0e43dd/attachment.bin

From lhomer at teleport.com  Tue Jan  2 14:51:17 2001
From: lhomer at teleport.com (lhomer)
Date: Tue, 2 Jan 2001 05:51:17 -0800
Subject: [R] Transporting s-plus routines to R
Message-ID: <007001c074c3$15504240$cc051ad8@oemcomputer>

I have used S-Plus for Windows for some time and have a large collection of personal programs. I have recently installed R-1.1.1 under Linux. I can read the .ssc files from S-Plus into emacs and save to R, but this is apt to be tedious. Any shortcuts to recommend? Will linux R read the _Data files from Windows S-Plus? Would Windows R serve as a useful intermediate transfer?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010102/9a0dea92/attachment.html

From p.dalgaard at biostat.ku.dk  Tue Jan  2 15:46:34 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Jan 2001 15:46:34 +0100
Subject: [R] chron blues
In-Reply-To: Bernie McConnell's message of "Tue, 02 Jan 2001 12:39:18 +0000"
References: <3.0.5.32.20010102123918.0094a8f0@bute.st-and.ac.uk>
Message-ID: <x2pui6t3jp.fsf@blueberry.kubism.ku.dk>

Bernie McConnell <bm8 at st-andrews.ac.uk> writes:

> GoodDay,
> 
> Could someone please tell me why b (below) does not return a vector of 10
> chron objects?  Hopefuly I am being remarkably naive or have missed
> something obvious in the chron documentation.  I'm running Win NT 4.0

I don't think you're particularly naive...
The root of this seems to be this

Browse[1]> unclass(e1)+c(1.5,1.5)
[1] 3658.5 3658.5
Browse[1]> unclass(e1)+c(1.5)
[1] 3658.5
attr(,"format")
[1] "d/m/y" "h:m:s"
attr(,"origin")
month   day  year 
    1     1  1970 


This is a generic issue, recycling kills attributes:

> x<-1
> attr(x,"foo")<-"bar"
> x+1
[1] 2
attr(,"foo")
[1] "bar"
> x+1:2
[1] 2 3

I forget whether there's a logic to this, but S-Plus 3.4 is doing the
same thing. Hence, Ops.dates inside chron probably needs fixing.
Specifically at the line

   val <- NextMethod(.Generic)

(original problem:)

> > library(chron)
> > gps.start.date <<- chron("06/01/80",
> +                         "00:00:00",  
> +                         format=c("d/m/y","h:m:s"))
..
> <bold>> b <<- gps.start.date + rep(1.5,10)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jan  2 16:36:03 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 02 Jan 2001 16:36:03 +0100
Subject: [R] Transporting s-plus routines to R
References: <007001c074c3$15504240$cc051ad8@oemcomputer>
Message-ID: <3A51F563.AC231802@statistik.uni-dortmund.de>

> lhomer wrote:
> 
> I have used S-Plus for Windows for some time and have a large
> collection of personal programs. I have recently installed R-1.1.1
> under Linux. I can read the .ssc files from S-Plus into emacs and save
> to R, but this is apt to be tedious. Any shortcuts to recommend? 

Yes. If all functions used within the *.ssc files are well known by R,
simply rename the files to *.r.

> Will linux R read the _Data files from Windows S-Plus? 

There is a function in the package Rstreams (available at CRAN), which
reads some binary S-Plus files.

> Would Windows R serve as a useful intermediate transfer?

The above mentioned methods work also on Linux.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Jan  2 18:46:45 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 2 Jan 2001 18:46:45 +0100
Subject: [R] chron blues
In-Reply-To: <x2pui6t3jp.fsf@blueberry.kubism.ku.dk>
References: <3.0.5.32.20010102123918.0094a8f0@bute.st-and.ac.uk>
	<x2pui6t3jp.fsf@blueberry.kubism.ku.dk>
Message-ID: <14930.5125.951538.117995@mithrandir.hornik.net>

>>>>> Peter Dalgaard BSA writes:

> Bernie McConnell <bm8 at st-andrews.ac.uk> writes:
>> GoodDay,
>> 
>> Could someone please tell me why b (below) does not return a vector of 10
>> chron objects?  Hopefuly I am being remarkably naive or have missed
>> something obvious in the chron documentation.  I'm running Win NT 4.0

> I don't think you're particularly naive...
> The root of this seems to be this

> Browse[1]> unclass(e1)+c(1.5,1.5)
> [1] 3658.5 3658.5
> Browse[1]> unclass(e1)+c(1.5)
> [1] 3658.5
> attr(,"format")
> [1] "d/m/y" "h:m:s"
> attr(,"origin")
> month   day  year 
>     1     1  1970 


> This is a generic issue, recycling kills attributes:

>> x<-1
>> attr(x,"foo")<-"bar"
>> x+1
> [1] 2
> attr(,"foo")
> [1] "bar"
>> x+1:2
> [1] 2 3

> I forget whether there's a logic to this, but S-Plus 3.4 is doing the
> same thing. Hence, Ops.dates inside chron probably needs fixing.
> Specifically at the line

>    val <- NextMethod(.Generic)

> (original problem:)

>> > library(chron)
>> > gps.start.date <<- chron("06/01/80",
>> +                         "00:00:00",  
>> +                         format=c("d/m/y","h:m:s"))
> ..
>> <bold>> b <<- gps.start.date + rep(1.5,10)

Thanks for spotting this, Peter.

Bernie, could we convince you to use the date/time features added to R
1.2.0 instead?

R> as.POSIXct("1980-06-01") + rep(1.5,10)
 [1] "1980-06-01 00:00:01" "1980-06-01 00:00:01" "1980-06-01 00:00:01"
 [4] "1980-06-01 00:00:01" "1980-06-01 00:00:01" "1980-06-01 00:00:01"
 [7] "1980-06-01 00:00:01" "1980-06-01 00:00:01" "1980-06-01 00:00:01"
[10] "1980-06-01 00:00:01"

works without any problems ... (although you perhaps want to add 1.5
days rather than seconds)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Wed Jan  3 12:05:46 2001
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 03 Jan 2001 11:05:46 +0000
Subject: [R] R as a daemon?
In-Reply-To: kmself@ix.netcom.com's message of "Sat, 30 Dec 2000 19:08:39 -0800"
References: <20001230190839.D2884@ix.netcom.com>
Message-ID: <szi8zos6gl1.fsf@stats.mth.uea.ac.uk>

kmself at ix.netcom.com writes:

> I have a GNU/Linux / Unix application in which I'd like to have an R
> process running in a persistant state, while receiving instructions (and
> data) from another process, and returning results to this process.
[...]
> Has anyone experimented with this or developed a similar solution?

I intend to work on a similar thing from Perl for release 5 of Rcgi,
but that's a little way off just yet.  (Release 4 should be out this
week.)  The benefits of this are obvious: one of the heaviest bits of
Rcgi is the repeated start-up of R; if maybe not as great as first
thought: after the first start, most of R will be cached in memory if
you have a reasonable amount and there's a performance loss from the
extra housekeeping.

My first thought is to connect it to a local socket via a process
doing access control, some stupidity checking (such as not passing
EOFs on to R) and housekeeping.  Is that sane?
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Wed Jan  3 12:44:29 2001
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Wed, 3 Jan 2001 03:44:29 -0800
Subject: [R] R as a daemon?
In-Reply-To: <szi8zos6gl1.fsf@stats.mth.uea.ac.uk>; from mjr@stats.mth.uea.ac.uk on Wed, Jan 03, 2001 at 11:05:46AM +0000
References: <20001230190839.D2884@ix.netcom.com> <szi8zos6gl1.fsf@stats.mth.uea.ac.uk>
Message-ID: <20010103034429.E32183@ix.netcom.com>

on Wed, Jan 03, 2001 at 11:05:46AM +0000, MJ Ray (mjr at stats.mth.uea.ac.uk) wrote:
> kmself at ix.netcom.com writes:
> 
> > I have a GNU/Linux / Unix application in which I'd like to have an R
> > process running in a persistant state, while receiving instructions (and
> > data) from another process, and returning results to this process.
> [...]
> > Has anyone experimented with this or developed a similar solution?
> 
> I intend to work on a similar thing from Perl for release 5 of Rcgi,
> but that's a little way off just yet.  (Release 4 should be out this
> week.)  The benefits of this are obvious: one of the heaviest bits of
> Rcgi is the repeated start-up of R; if maybe not as great as first
> thought: after the first start, most of R will be cached in memory if
> you have a reasonable amount and there's a performance loss from the
> extra housekeeping.
> 
> My first thought is to connect it to a local socket via a process
> doing access control, some stupidity checking (such as not passing
> EOFs on to R) and housekeeping.  Is that sane?

EOFs were my first concern.  Keeping the workspace clean my second.

If the daemon is serving requests from multiple clients, you have to
start thinking about security models.  Otherwise, an option would be to
create a per-client bidirectional client.  I think the "persistant
companion process" model is the way I'd like to fly.  Not really a true
daemon, more a helper app.  Simplifies the problem and should suffice.

-- 
Karsten M. Self <kmself at ix.netcom.com>    http://kmself.home.netcom.com/
 Evangelist, Zelerate, Inc.                      http://www.zelerate.org
  What part of "Gestalt" don't you understand?      There is no K5 cabal
   http://gestalt-system.sourceforge.net/        http://www.kuro5hin.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010103/3da57a0d/attachment.bin

From ripley at stats.ox.ac.uk  Wed Jan  3 13:47:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 3 Jan 2001 12:47:48 +0000 (GMT)
Subject: [R] R as a daemon?
In-Reply-To: <szi8zos6gl1.fsf@stats.mth.uea.ac.uk>
Message-ID: <Pine.GSO.4.05.10101031236390.19908-100000@toucan.stats>

On 3 Jan 2001, MJ Ray wrote:

> kmself at ix.netcom.com writes:
> 
> > I have a GNU/Linux / Unix application in which I'd like to have an R
> > process running in a persistant state, while receiving instructions (and
> > data) from another process, and returning results to this process.
> [...]
> > Has anyone experimented with this or developed a similar solution?
> 
> I intend to work on a similar thing from Perl for release 5 of Rcgi,
> but that's a little way off just yet.  (Release 4 should be out this
> week.)  The benefits of this are obvious: one of the heaviest bits of
> Rcgi is the repeated start-up of R; if maybe not as great as first
> thought: after the first start, most of R will be cached in memory if
> you have a reasonable amount and there's a performance loss from the
> extra housekeeping.
> 
> My first thought is to connect it to a local socket via a process
> doing access control, some stupidity checking (such as not passing
> EOFs on to R) and housekeeping.  Is that sane?

That's been done a few times.  R --slave is there for such purposes: just
connect stdin and stdout/err to pipes, feed a command to stdin and read
the output on stdout (if any), watching that you send complete
expressions.  As of 1.2.0 you can embed Unix R (you have been able to do
so for ages on Windows) and that might be a neater solution.

For an cgi version I would be worried about statefulness.
How are you going to stop one command doing something (overwriting
system functions, for example) that does not affect later ones
submitted by other people?   This applies to DCOM servers etc too,
but there one usually has more idea of what might happen.

There are more possibilities using Omegahat componentry: look on
www.omegahat.org.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Jan  3 15:10:01 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 3 Jan 2001 15:10:01 +0100 (MET)
Subject: [R] Re: [Rd] problems with glm (PR#771)
In-Reply-To: <Pine.GSO.4.05.10012290715540.13944-100000@auk.stats> from "Prof Brian D Ripley" at Dec 29, 2000 08:02:14 AM
Message-ID: <200101031410.PAA28684@alpha.luc.ac.be>

> 
> [We do have a TooMuchAtOnce category, but it is easier to cope with
> short separate reports with informative subject lines for, e.g. the BUGS
> list.]
> 
> On Mon, 18 Dec 2000 james.lindsey at luc.ac.be wrote:
> 
> > R1.2.0 with Linux RH5.2
> > 
> > I do not believe that the problems below are new to 1.2 but I only
> > cover this sort of thing once a year in my course and some of that
> > happened to be last Friday so too late to report for 1.2. I see that
> > one or two things that I was going to report have been corrected.
> > I like the fact that interactions now show : instead of .
> > 
> > Here is some output with comments inserted.
> > 
> [...]
> 
> > > wt <- codes(Reg66)!=codes(Reg71)
> 
> Why not just wt <- Reg66 != Reg71  ?

Simple: I do not trust R factor levels (among others, for reasons
outlined below).
  For any serious work involving factor variables, I use GLIM4.

> 
> [...]
> 
> > First problem: with diagonal values weighted out in a transition matrix
> > (mover-stayer model), glm wrongly estimates the diagonals to be the
> > observed plus 0.1. This was correct in 90.1 a year ago but already
> > wrong in 1.0.1. I don't have any versions in between installed.
> 
> I think this is the same as
> 
> [Rd] glm gives incorrect results for zero-weight cases (PR#780)

Good. That patch was posted after I submitted my bug report.

> 
> in which case it is already fixed in R-patched.  That does look to have
> solved this one too.  Note that glm has *not* `estimated the diagonals'
> at all.  These are predictions (the cases are not in the model), and
> predict.glm did get them right.

It *has* estimated the diagonals under the fitted mover-stayer model
(that is, if it were doing it right). They are estimates of certain
parameters in this model. (Another way to fit the same model is to use
a 4-level factor variable on the diagonal instead of weighting it out,
but that does not supply the desired estimates.) R incorrectly calls
them fitted values in its objects and printouts. GLIM4 clearly prints
them out in a distinct way so that there is no confusion.

> 
> predict(z, data)
>       1       2       3       4       5       6       7       8 
> 0.61337 3.30334 3.45098 4.51559 3.33786 6.02783 6.17548 7.24009 
>       9      10      11      12      13      14      15      16 
> 3.50109 6.19106 6.33871 7.40332 4.57309 7.26306 7.41071 8.47532 
> 
> [...]
> 
> > Second problem: the man page for factors states that the levels are
> > sorted, but gl does not do this. It keeps them in the order of the
> 
> There is a help page for factor(), not for factors, and I don't believe
> that does state so. It says that *factor* sorts them by default, which is
> true.  Where is the `man page for factors'?

Sorry. Typo.

Here is what the docs say:

The levels of a factor are by default sorted, but the sort order
may well depend on the locale at the time of creation, and should
not be assumed to be ASCII.

Because this is the only documentation on factor variables and it does
not mention the factor function explicitly, I take it to be a general
statement.

> 
> > labels. This is inconsistent with everything else, confusing for
> > students, and liable to induce errors in data analysis. In the example
> > below, it is not too important because the baseline category is the
> > same in the two cases but that will not generally be the case.
> > 
> > As an addition comment, I would strongly recommend that, if labels can
> > be coerced to numeric, they be ordered, not sorted. This is because
> > the order is very confusing if there are more than 9: for example, the
> > sorted 10 comes near the beginning and not at the end.
> 
> You can do that, of course, by specifying the order of the levels.  
> However, we teach students that the details of the coding of linear models
> are details, and that they should regard coefficients as secondary and
> predictions as primary.  aov() has the right idea in suppressing the
> individual coefficients.  If you want to interpret coefficients you need to
> understand codings. Period.

I do not see what aov has to do with it when discussing glm's. It is
for lm and, as far as I know, produces the old-fashioned material for
tests that more and more scientific journals are rightly refusing. In
say a standard high-dimensional contingency table (or a factorial
design), the first thing that scientists and industry people want is
to know which levels of factor variables yield scientifically
important effects.  Only then do they want measures of statistical
significance. What are required are first the appropriate coefficients
and then the corresponding intervals.
  The idea about predictions may be theoretically fine, at least in
simple models, but is practically useless in realistically complex
cases involving multidimensional contingency tables (or multi-
factorial designs, from which factor variables take their name, for
that matter), where one wants to extract the relative effects of the
various factor levels and interactions. The predictions are virtually
useless to disentangle such effects.
  I teach that all different constraint sets are equivalent because
they give the same predictions so choose that set which is most
appropriate or most easily interpretable for the problem at hand. If
one level of a factor is of particular interest, use baseline
constraints (so-called treatment contrasts); if levels are rather
symmetric, use mean value constraints (so-called sum contrasts). In
other cases, special contrasts need to be set up. Contrasts are a
property of a variable, not a design so that it would be nice to have
an automatic way of doing this for each factor variable rather than a
global contrast option. But I know of no software that allows this.

R makes it extremely difficult to understand codings. They are very
obscure and easily lead to errors of interpretation.  Everything seems
to be done to discourage their use (as opposed simply to looking at
tests) when their correct interpretation is essential. That is my
whole point.

> 
> I don't see the value of changing the default for factor: it would not be
> backwards-compatible, and some people have thought thought what the default
                                             ^^^^^^^^^^^^^^^

Does this mean that they thought twice about it or is it a type like
my "factors" above?

> would be and accepted it. 
> 
> > > reg66 <- gl(4,1,16,labels=c("CC","LY","WM","GL"))
> > > z
> > 
> > Call:  glm(formula = Freq ~ Reg66 + Reg71, family = poisson) 
> > 
> > Coefficients:
> > (Intercept)      Reg66GL      Reg66LY      Reg66WM      Reg71GL      Reg71LY  
> >      0.6134       3.9022       2.6900       2.8376       3.9597       2.7245  
> >     Reg71WM  
> >      2.8877  
> > 
> > Degrees of Freedom: 15 Total (i.e. Null);  9 Residual
> > Null Deviance:	    40740 
> > Residual Deviance: 19880 	AIC: 20000 
> > > print(za <- glm(Freq~reg66+Reg71,family=poisson))
> > 
> > Call:  glm(formula = Freq ~ reg66 + Reg71, family = poisson) 
> > 
> > Coefficients:
> > (Intercept)      reg66LY      reg66WM      reg66GL      Reg71GL      Reg71LY  
> >      0.6134       2.6900       2.8376       3.9022       3.9597       2.7245  
> >     Reg71WM  
> >      2.8877  
> > 
> > Degrees of Freedom: 15 Total (i.e. Null);  9 Residual
> > Null Deviance:	    40740 
> > Residual Deviance: 19880 	AIC: 20000 
> 
> 
> > Third problem: if mean value contrasts are used, the level names are
> > not attached to the variable name, but simply the number of the
> > category. This rightly drives students mad and is simply
> > uninterpretable if the levels have been sorted. It takes a great deal
> > of extreme care to try to find out to what the numbers refer.
> 
> Are we supposed to guess that `mean value contrasts' means contr.sum?  In
> which case the numbers refer to the number of the *contrast*: they do not
> refer to levels, nor are single levels relevant. As in

I stated above, in a part that you cut, to pay attention to the
contrasts options that I set. "Mean value constraints" is standard
terminology in the fields where I have worked for the simple reason
that the coefficients give differences from the mean value.
"Conventional constraints" is also commonly used but is less
informative.

What does the "number of the *contrast*" mean and how do you easily
find out what it is after the levels have been sorted around? In a log
linear model (or complex factorial design), they do refer to differences
("contrasts") of each level from the mean value. Single levels are at
least as relevant here as for any other contrast set.

> 
> > contr.sum(levels(Reg66))
>    [,1] [,2] [,3]
> CC    1    0    0
> GL    0    1    0
> LY    0    0    1
> WM   -1   -1   -1
> > contr.treatment(levels(Reg66))
>    GL LY WM
> CC  0  0  0
> GL  1  0  0
> LY  0  1  0
> WM  0  0  1
> 
> Now, what should the column labels be in the first case?  And in what sense
> are these `mean value contrasts'?

They should be CC GL LY. The coefficient for WM is minus the sum of
the other three. The coefficients will be differences from the mean
value (on the log scale for log linear models) and are symmetric in
all factor levels (in the sense that no particular category is chosen
as special). Some statistical software packages very nicely print out
the coefficients for all levels instead of arbitrarily dropping the
last one.

> 
> Do you really want labels like "CCvWM"?  They could get very cumbersome.
> 

You have lost me here. The answer is, of course, No. What a
suggestion! It does not mean that at all. It compares CC to the mean
not to WM. To me, that looks like the appropriate label for baseline
constraints with the last category as baseline (what R calls treatment
but is more usually placebo!).

> (One could argue that contr.treatment is already wrong, but as they
> are not even contrasts ....)
> 
> [...]
> 
> > Additional comment: I recommend that the aic functions for poisson and
> > binomial have the explicit calculation of the log density replaced by
> > the corresponding d function with the log option. This will avoid the
> > production of NAs in certain cases of zeroes in tables.
> 
> Good idea, but could you supply examples so we can put them in the
> regression tests?

Here is a simple and unrealistic (as no one would ever fit the model
to these data) example that illustrates what can happen in more
complex tables:

y <- matrix(c(2,0,7,3,0,9), ncol=2)
x <- gl(3,1)
glm(y~x, family=binomial)

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Wed Jan  3 18:17:07 2001
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 03 Jan 2001 17:17:07 +0000
Subject: [R] R as a daemon?
In-Reply-To: Prof Brian Ripley's message of "Wed, 3 Jan 2001 12:47:48 +0000 (GMT)"
References: <Pine.GSO.4.05.10101031236390.19908-100000@toucan.stats>
Message-ID: <szihf3g4kto.fsf@stats.mth.uea.ac.uk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> expressions.  As of 1.2.0 you can embed Unix R (you have been able to do
> so for ages on Windows) and that might be a neater solution.

How do you mean "embed"?  Sorry for naivity on this, but I've only
done that within Gnome so far.  Just a link would be fine.

> For an cgi version I would be worried about statefulness.
> How are you going to stop one command doing something (overwriting
> system functions, for example) that does not affect later ones
> submitted by other people?   This applies to DCOM servers etc too,
> but there one usually has more idea of what might happen.

As kmself pointed out, the sensible way to do this is by giving each
client their own R.  This makes sense from two performance ways: the
same client is likely to send multiple requests in succession; if they
break their session by doing something "silly", it's their own fault
and affects only them.

> There are more possibilities using Omegahat componentry: look on
> www.omegahat.org.

I'm confused.  Although the front page says you can call Perl from R
_and vice-versa_, only calling Perl from R seems to be documented at
first glance.  The python one looks more useful in that way.

-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  3 18:41:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 3 Jan 2001 17:41:29 +0000 (GMT)
Subject: [R] R as a daemon?
In-Reply-To: <szihf3g4kto.fsf@stats.mth.uea.ac.uk>
Message-ID: <Pine.GSO.4.05.10101031727090.21482-100000@toucan.stats>

On 3 Jan 2001, MJ Ray wrote:

> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > expressions.  As of 1.2.0 you can embed Unix R (you have been able to do
> > so for ages on Windows) and that might be a neater solution.
> 
> How do you mean "embed"?  Sorry for naivity on this, but I've only
> done that within Gnome so far.  Just a link would be fine.

See http://developer.r-project.org/embedded.html

NEWS says

    o   Preliminary support for building R as a shared library (`libR')
        under Unix.  Use configure with option `--enable-R-shlib' or do
        `make libR' in directory `src/main' to create the shared
        library.
        
        There is also a linker front-end `R CMD LINK' which is useful
        for creating executable programs linked against the R shared
        library.

and that's about all there is.

The idea is that you can make a shared library version of R. libR.so, and
link your application against it.  There are even some examples, but I
don't know of a link to those.

> > For an cgi version I would be worried about statefulness.
> > How are you going to stop one command doing something (overwriting
> > system functions, for example) that does not affect later ones
> > submitted by other people?   This applies to DCOM servers etc too,
> > but there one usually has more idea of what might happen.
> 
> As kmself pointed out, the sensible way to do this is by giving each
> client their own R.  This makes sense from two performance ways: the
> same client is likely to send multiple requests in succession; if they
> break their session by doing something "silly", it's their own fault
> and affects only them.

How can cgi identify the client?  You may have fail-safe ways of doing so,
but there is nothing to stop me having two applets in one browser each
talking to the cgi-server, so they will not be straightforward ones.
Perhaps I am thinking much more generally than you intend to implement.

> > There are more possibilities using Omegahat componentry: look on
> > www.omegahat.org.
> 
> I'm confused.  Although the front page says you can call Perl from R
> _and vice-versa_, only calling Perl from R seems to be documented at
> first glance.  The python one looks more useful in that way.

I thought about CORBA, or Perl. (I believe you can go both ways, but if
you tell Duncan what is missing information he is happy to provide it, in
my experience.)  But I would try embedding R first, and you may need to
ask Duncan Temple Lang for his test examples.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jan  3 18:53:43 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 3 Jan 2001 12:53:43 -0500 (EST)
Subject: [R] R as a daemon?
Message-ID: <200101031753.MAA27523@jessie.research.bell-labs.com>



> From: kmself at ix.netcom.com
> Date: Sat, 30 Dec 2000 19:08:39 -0800
> User-Agent: Mutt/1.3.12i
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> 
> --oj4kGyHlBMXGt3Le
> Content-Type: text/plain; charset=us-ascii
> Content-Disposition: inline
> Content-Transfer-Encoding: quoted-printable
> 
> I have a GNU/Linux / Unix application in which I'd like to have an R
> process running in a persistant state, while receiving instructions (and
> data) from another process, and returning results to this process.
> 
> My initial thoughts are to set something up with named pipes or such,
> but I believe that the R process will terminate when it reads EOF (^D)
> from the input pipe.  The client process is meant to be a Python script.
> 
> Has anyone experimented with this or developed a similar solution?
> 

Hi Karsten,

(I have been away from e-mail for a week or so and will be back
in the office on Monday 8th. So I'll send this  in the hope that is
useful as the other mail continues on this subject.)


The RSPython interface (http://www.omegahat.org/RSPython) will
probably do what you want quite conveniently. It should be faster than
inter-process communication (since the R interpreter is running within
the python process and sharing the same address space). Also,  it avoids
using strings which are highly server (i.e. R in this case) specific,
lose semantic information and do not allow one to do the things that
we do in the Java, Python, Perl interfaces from R & Splus.

If your architecture does require separate processes for client and
server, CORBA, SOAP or some similar object-oriented remote method
invocation mechanism will probably be mreore robust and useful to you
and others and involve about the same amount of time as implementing
ad-hoc solutions for reading R commands from sockets, etc.  Since R
has a CORBA package and an XML parser, each of these would be
relatively easy to implement for your application .  A CGI script or
whatever would know which "companion object" to send tasks to
and that would handle the persistence of the R process/server.

It might be useful for some of you to know also that I have started
work on an R module for the Apache web server so that R can handle URL
requests directly and generate the contents from a peristent R.  This,
the Perl, Python, Java and CORBA interfaces, the embedded R in
Postgres, etc. are leading towards the need for a threaded version of
R in the longer term. (I would like to know if and how people feel
this would be useful.) And given that framework and possible use , a
security model becomes more necessary and may get implemented. (The
last of these is much further in the future.)  Also, I intend to look
at putting support for SOAP into R and SPlus.

 Hope this helps.
 D.




-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jan  3 19:24:45 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 3 Jan 2001 13:24:45 -0500 (EST)
Subject: [R] R as a daemon?
Message-ID: <200101031824.NAA04481@jessie.research.bell-labs.com>


> Date: Wed, 3 Jan 2001 17:41:29 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> cc: kmself at ix.netcom.com, r-help mailing list <r-help at stat.math.ethz.ch>
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> On 3 Jan 2001, MJ Ray wrote:
> 
> > Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> > 
> > > expressions.  As of 1.2.0 you can embed Unix R (you have been able to do
> > > so for ages on Windows) and that might be a neater solution.
> > 
> > How do you mean "embed"?  Sorry for naivity on this, but I've only
> > done that within Gnome so far.  Just a link would be fine.
> 
> See http://developer.r-project.org/embedded.html
> 
> NEWS says
> 
>     o   Preliminary support for building R as a shared library (`libR')
>         under Unix.  Use configure with option `--enable-R-shlib' or do
>         `make libR' in directory `src/main' to create the shared
>         library.
>         
>         There is also a linker front-end `R CMD LINK' which is useful
>         for creating executable programs linked against the R shared
>         library.
> 
> and that's about all there is.
> 
> The idea is that you can make a shared library version of R. libR.so, and
> link your application against it.  There are even some examples, but I
> don't know of a link to those.
> 

The RlibTest link in 
    http://www.omegahat.org/download/R/other/
will give you some code that Kurt H. and I used to check
all was well with the linking against libR.so and also provide
some basic examples. 

More comprehensive examples are in the different Omegahat packages
such as the RSPython, RSPerl( and more recently from the CVS tree in
the R module under Apache.)

 D.


 

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jan  3 19:26:02 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 3 Jan 2001 13:26:02 -0500 (EST)
Subject: [R] R as a daemon?
Message-ID: <200101031826.NAA04807@jessie.research.bell-labs.com>



> > > There are more possibilities using Omegahat componentry: look on
> > > www.omegahat.org.
> > 
> > I'm confused.  Although the front page says you can call Perl from R
> > _and vice-versa_, only calling Perl from R seems to be documented at
> > first glance.  The python one looks more useful in that way.

There is code in the CVS module that allows Perl call R just as in the
Python case, but it is not as comprehensively documented or integrated
for Perl as it is for RSPython. If you want to use it, I can put
complete it quite quickly. The main reason it is not as complete as
the Perl interface is that there has been less immediate interest in
it than Python. Let me know if it would be worth getting it done
rapidly.

 D.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Jan  3 22:52:07 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 3 Jan 2001 15:52:07 -0600 (CST)
Subject: [R] update on large object disorientation (fwd)
Message-ID: <Pine.SOL.3.96.1010103154640.8396K-100000@ysidro>


A few weeks ago I sent a note to R-help inquiring about strategies for
implementing lm fitting with large datasets using one or another of
the new database schemes.  Having received some encouragement, but
no very concrete suggestions, I decided to proceed with a rather
naive implementation using RMySQL.  The objective was to produce
a version of lm(), say LM() that would be able to estimate a
model of infant birthweight based on a sample of 2.4 Million observations
on 18 variables from the 1997 U.S. Natality Survey, using only
modest memory requirements, say 150Mb.  Obviously, trying to work with
the entire dataset as one object in a case like this would require vastly 
more memory, hence the "object disorientation" orientation of our approach.

Alvaro Novo and I now have a working version of such an LM() function
that satisfies our original objectives.  It is available and described 
in detail at:

	http://www.econ.uiuc.edu/~roger/research/rq/LM.html

The function provides quite a complete lm() functionality, formulae,
weights, subsets, etc.  Unfortunately, the interaction with MySQL is
not as quick as we had hoped, so the above test case takes about 10 minutes
on one of our linux boxes.  This is about equivalent to what would
be required to read the data in ascii using scan.  We would
greatly appreciate hearing from anyone who might have suggestions
about alternative strategies, particularly if they might  be expected
to yield significant efficiency gains in getting data from MySQL into R.

In fact the LM implementation is really just a stalking horse for a
parallel development of a quantile regression function of this type.
And for this, an efficient way of passing through the data to check
signs of residuals is essential. 

url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Wed Jan  3 23:30:52 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 4 Jan 2001 11:30:52 +1300
Subject: [R] package/ date/ download problem
Message-ID: <200101032231.f03MV9Q43415@storm.niwa.cri.nz>

Colleagues

I want to download the package "date" from CRAN <http://cran.r-
project.org/>  to get the R-scripts (for version 1.2.0)

*** date/INDEX *** 
as.date Coerce Data to Dates 
date.ddmmmyy Format a Julian date 
date.mdy Convert from Julian Dates to Month, Day, and Year 
date.mmddyy Format a Julian date 
date.mmddyyyy Format a Julian date 
date.object Date Objects 
mdy.date Convert to Julian Dates  

However, the clickable download from ver.1.2-5 gives me only two R files
date.R
zzz.R

although I do get the help files for 
as.date.Rd 
date.ddmmmyy.Rd 
date.mdy.Rd  
date.mmddyy.Rd  
date.mmddyyyy.Rd  
date.object.Rd 
mdy.date.Rd  

As an alternate method I tried using the install.packages function from R

> install.packages("date","C:\Program Files\R 
environment\rw1020\library\","http://www.r-project.org",method = "auto", 
available = NULL, destdir = NULL)
Error: syntax error

but was not successful (I'm not sure why).

Any advice would be helpful.

Thanks

Sam


Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  4 08:36:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 4 Jan 2001 07:36:42 +0000 (GMT)
Subject: [R] package/ date/ download problem
In-Reply-To: <200101032231.f03MV9Q43415@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.05.10101040726340.18324-100000@auk.stats>

On Thu, 4 Jan 2001, S.McClatchie wrote:

> Colleagues
> 
> I want to download the package "date" from CRAN <http://cran.r-
> project.org/>  to get the R-scripts (for version 1.2.0)

Um. It is package, not scripts, and needs to be installed as a package.

> *** date/INDEX *** 
> as.date Coerce Data to Dates 
> date.ddmmmyy Format a Julian date 
> date.mdy Convert from Julian Dates to Month, Day, and Year 
> date.mmddyy Format a Julian date 
> date.mmddyyyy Format a Julian date 
> date.object Date Objects 
> mdy.date Convert to Julian Dates  
> 
> However, the clickable download from ver.1.2-5 gives me only two R files
> date.R
> zzz.R

So?  All the R code is in those files.

> although I do get the help files for 
> as.date.Rd 
> date.ddmmmyy.Rd 
> date.mdy.Rd  
> date.mmddyy.Rd  
> date.mmddyyyy.Rd  
> date.object.Rd 
> mdy.date.Rd  

One you got that, you would need to be able to install it as a source
package, and I wonder if you have the means to do that, since you are
clearly on Windows?

> As an alternate method I tried using the install.packages function from R
> 
> > install.packages("date","C:\Program Files\R 
> environment\rw1020\library\","http://www.r-project.org",method = "auto", 
> available = NULL, destdir = NULL)
> Error: syntax error
> 
> but was not successful (I'm not sure why).

You need to specify paths with \\ or /, not \, in R quoted strings.
And you need to use cran.r-project.org (or a local mirror), not
www.r-project.org (looks like a documentation bug).  Why set arguments that
you don't understand rather than use defaults?

If you have wget.exe installed, try just

install.packages("date")

or get the pre-compiled date.zip yourself from the Windows contrib area,
and read the Windows-specific documentation on how to install it
(just install.packages(".../date.zip") should do it).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Thu Jan  4 08:25:05 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Thu, 4 Jan 2001 08:25:05 +0100 
Subject: [R] running Rcmd INSTALL (creating help files revisited)
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640C6@xms1.tirol.gv.at>

It is embarrassing, but I just can't get "Rcmd INSTALL" to work.

I'm using R1.2.0 under Windows NT4.0, and what I do is open a commands
window (cmd.exe) in directory "D:\", and then try the following:

----- 
REM this is how my PATH is set:
D:\>set path =
%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\system32\nls\DEUTSC
H;d:\PROGRA~1\pfe;
d:\PROGRA~1\perl\bin;D:\Programme\PGPNT;D:\Programme\R\rw1020
\bin;D:\Programme\R\rw1020\tools;D:\Programme\R\rw1020\share\perl\R

REM "rgui" is found and launched correctly, so I suppose my path is ok:
D:\>rgui

REM when typing "rcmd", no error message is given, so I suppose this is
found as well:
D:\>rcmd

REM But trying to get help for "rcmd install" gives an error message, saying
(in German) that the command is wrong or could not be found:
D:\>rcmd INSTALL --help
Der Befehl ist entweder falsch geschrieben oder konnte nicht gefunden
werden.
Bitte ?berpr?fen Sie die Schreibweise und die Umgebungsvariable 'PATH'.
-----

Hm. At this point I suspect the problem is with perl file "INSTALL"; to
check this, I rename "INSTALL" to "INSTALL.pl" and try to run this directly
- and get the following error message:

D:\>INSTALL.pl
Can't locate R/Dcf.pm in @INC (@INC contains: d:\programme\perl\lib
d:\programme
\perl\site\lib .) at D:\Programme\R\rw1020\bin\Install.pl line 25.
BEGIN failed--compilation aborted at D:\Programme\R\rw1020\bin\Install.pl
line 25.

That's the point where I start reading PERL documentation (as I am by no
ways an expert in PERL - naively enough, I thought that simply installing it
would suffice for usage with R...).
I learn that @INC is an array which tells PERL where to look for libraries,
and I think it might help to insert the line "use lib
'D:\Programme\R\rw1020\share\perl';" to the beginning of the INSTALL file. I
do so, save this as "INSTALL2.pl", run this, and get:
-----
D:\>INSTALL2.pl
Error: Environment variable R_HOME not found
----

Well now, I think I'm lost. Before I wade deeper into muddy waters, I'm
asking r-help one more time. I know the answer might well be "Get a book on
WindowsNT!" or "Go to the library and learn something about PERL!", but then
at least I'd know where to start.
Am I the only one who's ever had problems with this? Any
experiences/suggestions what I might be doing wrong?
readme.packages at some point says "All of these need to be installed and in
your path, and the appropriate environment variables set." So is my PATH
incomplete? Or do I have to make modifications to some of the PERL files
(which ones)?

Heinrich Rinner.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Thu Jan  4 12:14:43 2001
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 04 Jan 2001 11:14:43 +0000
Subject: [R] R as a daemon?
In-Reply-To: Duncan Temple Lang's message of "Wed, 3 Jan 2001 13:26:02 -0500 (EST)"
References: <200101031826.NAA04807@jessie.research.bell-labs.com>
Message-ID: <sziitnv36xo.fsf@stats.mth.uea.ac.uk>

Duncan Temple Lang <duncan at research.bell-labs.com> writes:

> There is code in the CVS module that allows Perl call R just as in the
> Python case, but it is not as comprehensively documented or integrated
> for Perl as it is for RSPython. If you want to use it, I can put
> complete it quite quickly. The main reason it is not as complete as
> the Perl interface is that there has been less immediate interest in
> it than Python. Let me know if it would be worth getting it done
> rapidly.

That would be useful, but I would gladly move to Python (which I find
myself using more and more for things which are not for release 5
if someone can tell me how to make python processes persistent in a
similar way to Perl's CGI::SpeedyCGI, or does byte-compiling Python
means it's not worthwhile?
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grosso at mail.ru  Thu Jan  4 22:59:30 2001
From: grosso at mail.ru (Pavel V. Stupin)
Date: Thu, 4 Jan 2001 13:59:30 -0800
Subject: [R] anova
In-Reply-To: <2B7F04539DAFD311B61D009027D0DDA20C3B67@roper-cv.qld.cmis.CSIRO.AU>
References: <2B7F04539DAFD311B61D009027D0DDA20C3B67@roper-cv.qld.cmis.CSIRO.AU>
Message-ID: <E14ECnm-00032c-00@mx7.port.ru>

On Thu, 28 Dec 2000 17:26:54 +1000
Bill.Venables at CMIS.CSIRO.AU wrote about RE: [R] anova:

>
>No, it is not that difficult at all, but unless you are prepared to look at
>the documentation and spend a little time studying the examples you are
>going to find it very tough going.
>
>Bill Venables.

Bill,

I'm sorry for the late-late-late response....
Thanks (both Bill and Uve) for your detailed answers.
It works!



Best wishes,
Pavel.



--

As usual, this being a 1.3.x release, I haven't even compiled this
kernel yet.  So if it works, you should be doubly impressed.
(Linus Torvalds, announcing kernel 1.3.3 on the linux-kernel mailing list.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RSAY at esdu.com  Thu Jan  4 18:38:25 2001
From: RSAY at esdu.com (Richard Sayers)
Date: Thu, 4 Jan 2001 17:38:25 -0000
Subject: [R] Confidence Limits for Non-Linear Regression
Message-ID: <E14EEKj-000IC1-0V@anchor-post-31.mail.demon.net>

Dear Sir/Madam,

Could you please inform me as to whether or not there are any R 
functions which can calculate the confidence limits for a non-linear 
regression curve?


Thank you




____________________________
Richard Sayers
ESDU International plc
27 Corsham Street
London N1 6UA
England

Tel: 44-(0)20 7566 5714
Fax: 44-(0)20 7490 2701
Email: rsay at esdu.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  4 18:48:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Jan 2001 17:48:29 +0000 (GMT)
Subject: [R] Confidence Limits for Non-Linear Regression
In-Reply-To: <E14EEKj-000IC1-0V@anchor-post-31.mail.demon.net>
Message-ID: <Pine.GSO.4.05.10101041747350.6808-100000@toucan.stats>

On Thu, 4 Jan 2001, Richard Sayers wrote:

> Dear Sir/Madam,
> 
> Could you please inform me as to whether or not there are any R 
> functions which can calculate the confidence limits for a non-linear 
> regression curve?

confint.nls in package MASS in bundle VR, if you are using nls for fit.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Thu Jan  4 22:56:30 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 5 Jan 2001 08:56:30 +1100 
Subject: [R] regression constraints?
Message-ID: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>

gday R gurus,

I have a multivariate regression for which I want to constrain the
coefficients to be > 0.  Is this possible?

I've check the doco and searched CRAN but can't find anything. 

thanks,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agehr at mozart.depaul.edu  Fri Jan  5 01:58:31 2001
From: agehr at mozart.depaul.edu (Adam Gehr)
Date: Thu, 04 Jan 2001 18:58:31 -0600
Subject: [R] regression constraints?
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <3A551C37.3EBFDE95@mozart.fin.depaul.edu>



"Strumila, John" wrote:
> 
> gday R gurus,
> 
> I have a multivariate regression for which I want to constrain the
> coefficients to be > 0.  Is this possible?
> 
> I've check the doco and searched CRAN but can't find anything.
> 
> thanks,
> John Strumila

I've been doing something like that (regression coefficients
constrained 
to be > 0 and also forced to sum to 1) using the quadratic
programming program solve.QP in package quadprog. 

    Adam Gehr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jan  5 03:51:15 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Thu, 4 Jan 2001 21:51:15 -0500 (EST)
Subject: [R] segfault when calling C code
Message-ID: <Pine.SGI.3.96.1010104214309.385180A-100000@ln.nimh.nih.gov>

Hi, all.

I've got some C code that I've used successfully, and fairly extensively,
in R-1.1.1, which is suddenly causing segmentation faults in R-1.2.0.  The
original code used calloc (just plain calloc) with a free at the end, but
I've tried replacing the calloc with R_alloc (based on the Writing R
extensions documentation, which I'm not sure I've understood properly),
and also passing in variables with enough space (I know how much it will
be).  Neither change gets rid of the segmentation fault.

In case it helps, here's one of the 2 callocs (the other is identical,
with a different name):

trunccdfs = (double *) calloc(*nbins * *nconds, sizeof(double));

Before jumping in with a debugger (and running R with debugging for the
first time) I thought I'd see whether this rang any bells with anyone.
Again, the part that confuses me (but that may be the clue as to what's
wrong) is that this code worked fine with R-1.1.1.

If more details would be helpful I'd be happy to provide them.  This
message is, as I said, just in case this is a common problem in the
transition to R-1.2.0.

Thanks,

Matt Wiener
Laboratory of Neuropsychology 
National Institutes of Health
Bethesda, MD  20892


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 08:42:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 5 Jan 2001 07:42:30 +0000 (GMT)
Subject: [R] segfault when calling C code
In-Reply-To: <Pine.SGI.3.96.1010104214309.385180A-100000@ln.nimh.nih.gov>
Message-ID: <Pine.GSO.4.05.10101050737270.2909-100000@auk.stats>

On Thu, 4 Jan 2001, Matthew Wiener wrote:

> Hi, all.
> 
> I've got some C code that I've used successfully, and fairly extensively,
> in R-1.1.1, which is suddenly causing segmentation faults in R-1.2.0.  The
> original code used calloc (just plain calloc) with a free at the end, but
> I've tried replacing the calloc with R_alloc (based on the Writing R
> extensions documentation, which I'm not sure I've understood properly),
> and also passing in variables with enough space (I know how much it will
> be).  Neither change gets rid of the segmentation fault.
> 
> In case it helps, here's one of the 2 callocs (the other is identical,
> with a different name):
> 
> trunccdfs = (double *) calloc(*nbins * *nconds, sizeof(double));
> 
> Before jumping in with a debugger (and running R with debugging for the
> first time) I thought I'd see whether this rang any bells with anyone.
> Again, the part that confuses me (but that may be the clue as to what's
> wrong) is that this code worked fine with R-1.1.1.
> 
> If more details would be helpful I'd be happy to provide them.  This
> message is, as I said, just in case this is a common problem in the
> transition to R-1.2.0.

What platform?

We saw a few examples in which array over-runs caused problems with 1.2.0
and not 1.1.1.  I also saw a couple of Windows-specific problems.
The `free' in 1.1.1 was very robust (mainly because it didn't free 
quite often), and that used in 1.2.0 is less so.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 08:52:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 5 Jan 2001 07:52:13 +0000 (GMT)
Subject: [R] regression constraints?
In-Reply-To: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.05.10101050744440.2909-100000@auk.stats>

On Fri, 5 Jan 2001, Strumila, John wrote:

> gday R gurus,
> 
> I have a multivariate regression for which I want to constrain the
> coefficients to be > 0.  Is this possible?

Is that multiple linear regression?  (one y, lots of x's?)  Multivariate
regression might be thought to have many y's and only model part of the
relationship amongst them by many x's.

Fitting by least-squares, it is a quadratic programming problem.
So either use the quadprog package on CRAN, or use a general
minimizer with constraints: set forward optim().

Here's an example from the VR script ch08.R:

library(MASS)
data(whiteside)
attach(whiteside)
Gas <- Gas[Insul=="Before"]
Temp <- -Temp[Insul=="Before"]
#nnls.fit(cbind(1, -1, Temp), Gas) : this is an S-PLUS function
# can use box-constrained optimizer
fn <- function(par) sum((Gas - par[1] - par[2]*Temp)^2)
optim(rep(0,2), fn, lower=0, method="L-BFGS-B")$par
rm(Gas, Temp)
detach()

You can do non-linear regression and non-LS fitting the same way.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Fri Jan  5 10:01:59 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Fri, 5 Jan 2001 10:01:59 +0100 
Subject: [R] running Rcmd INSTALL, again
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640CB@xms1.tirol.gv.at>

Ok, one last try. R1.2.0, WinNT 4.0:
[R is installed in: R_HOME=D:\Programme\R\rw1020]

Can anyone give a hint what the following error message (when running Rcmd
INSTALL) means and what to do about it? 

cd D:\Programme\R\rw1020\src\library
D:\Programme\R\rw1020\bin\rcmd install testfunctions
make: Entering directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
dlltool -k --as as   --dllname R.dll --def R.exp --output-lib libR.a
make: dlltool: Command not found
make: *** [libR.a] Error 127
make: Leaving directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
*** Installation of testfunctions failed ***

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jan  5 10:11:44 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 05 Jan 2001 10:11:44 +0100
Subject: [R] By which function I can limit the precision of numbers??
Message-ID: <3A558FD0.28E73B40@molgen.mpg.de>

Hi!
I want to plot some numerical results in a graphic. I use the function
text(x,y, result).
What i want is to limit the precision of the numbers stored in result to
2 decimal places for layout reasons. How to do it??
thx Witek


--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan  5 10:34:49 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 05 Jan 2001 10:34:49 +0100
Subject: [R] By which function I can limit the precision of numbers??
References: <3A558FD0.28E73B40@molgen.mpg.de>
Message-ID: <3A559539.78BDB179@statistik.uni-dortmund.de>



Witold Eryk Wolski wrote:
> 
> Hi!
> I want to plot some numerical results in a graphic. I use the function
> text(x,y, result).
> What i want is to limit the precision of the numbers stored in result to
> 2 decimal places for layout reasons. How to do it??
> thx Witek

text(x, y, round(result, 2))

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan  5 11:08:18 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jan 2001 11:08:18 +0100
Subject: [R] running Rcmd INSTALL, again
In-Reply-To: RINNER Heinrich's message of "Fri, 5 Jan 2001 10:01:59 +0100"
References: <C4D44AB4CB62D311BA6500041202E8862640CB@xms1.tirol.gv.at>
Message-ID: <x2snmywbu5.fsf@blueberry.kubism.ku.dk>

RINNER Heinrich <H.RINNER at TIROL.GV.AT> writes:

> Ok, one last try. R1.2.0, WinNT 4.0:
> [R is installed in: R_HOME=D:\Programme\R\rw1020]
> 
> Can anyone give a hint what the following error message (when running Rcmd
> INSTALL) means and what to do about it? 
> 
> cd D:\Programme\R\rw1020\src\library
> D:\Programme\R\rw1020\bin\rcmd install testfunctions
> make: Entering directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> dlltool -k --as as   --dllname R.dll --def R.exp --output-lib libR.a
> make: dlltool: Command not found
> make: *** [libR.a] Error 127
> make: Leaving directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> *** Installation of testfunctions failed ***

That would seem to mean that dlltool is not in your PATH or
nonexistant. I'm more than a bit rusty on the native Windows builds,
but I believe dlltool is supposed to be found among all the other
gnuwin32 tools like gcc.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jan  5 11:11:30 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 05 Jan 2001 11:11:30 +0100
Subject: [R] By which function I can limit the precision of numbers??
References: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6B7@mail.nsabp.pitt.edu>
Message-ID: <3A559DD1.A41A9D74@molgen.mpg.de>

THX for fast help.
Eryk

"Richards, Tom" wrote:

> Try round() and signif() functions.  I think,
>
> text(x,y,as.character(round(result,2)))
>
> will work, or try signif, also.
>
> Tom
>
> > -----Original Message-----
> > From: Witold Eryk Wolski [mailto:wolski at molgen.mpg.de]
> > Sent: Friday, January 05, 2001 4:12 AM
> > To: R-help
> > Subject: [R] By which function I can limit the precision of numbers??
> >
> >
> > Hi!
> > I want to plot some numerical results in a graphic. I use the function
> > text(x,y, result).
> > What i want is to limit the precision of the numbers stored
> > in result to
> > 2 decimal places for layout reasons. How to do it??
> > thx Witek
> >
> >
> > --
> > Witold Eryk Wolski
> > Max Plank Institut fuer Molekulare Genetik
> > Ihnestr73 14195 Berlin
> > Germany
> > tel.:
> > Work 0049-30-84131426
> > http://www.molgen.mpg.de/~wolski
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan  5 11:14:11 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 5 Jan 2001 11:14:11 +0100 (=?X-UNKNOWN?Q?Westeurop=E4ische_Normalzeit?=)
Subject: [R] running Rcmd INSTALL, again
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640CB@xms1.tirol.gv.at>
Message-ID: <Pine.WNT.4.31.0101051111460.218-100000@rechenknecht.statistik.uni-dortmund.de>



On Fri, 5 Jan 2001, RINNER Heinrich wrote:

> Ok, one last try. R1.2.0, WinNT 4.0:
> [R is installed in: R_HOME=D:\Programme\R\rw1020]
>
> Can anyone give a hint what the following error message (when running Rcmd
> INSTALL) means and what to do about it?
>
> cd D:\Programme\R\rw1020\src\library
> D:\Programme\R\rw1020\bin\rcmd install testfunctions
> make: Entering directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> dlltool -k --as as   --dllname R.dll --def R.exp --output-lib libR.a
> make: dlltool: Command not found

dlltool.exe is part of the c compiler, e.g. gcc-2.95.2 from the mingw32
distribution.

Did you install it properly? Is the path set correctly?


> make: *** [libR.a] Error 127
> make: Leaving directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> *** Installation of testfunctions failed ***

Uwe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Fri Jan  5 11:25:51 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Fri, 5 Jan 2001 11:25:51 +0100 
Subject: AW: [R] running Rcmd INSTALL, again
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640CE@xms1.tirol.gv.at>

Indeed, there is no file named "dlltool" anywhere around here!
So, at last I am beginning to suspect that my collection of tools is
incomplete.
What I have got is "rw1020sp.zip" and
"http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip". These are properly
istalled, I think.

readme.packages says "If your package has no C nor Fortran nor C++ sources,
see `Simple ports' 
near the bottom of this file." I don't have any of these sources; going to
the bottom, readme.packages says:
"You will need 
suitable versions of Unix tools including make, sh, rm, sed, awk,
mkdir, echo, cp and cat; we have packaged a set at
http://www.stats.ox.ac.uk/pub/Rtools/tools.zip.
perl5, available via http://www.activestate.com/Products/ActivePerl/"

I might have misunderstood something here.
Q: Do I have to compile R myself in order to be able to use Rcmd?
Q: Do I have to get "bin-msvcrt-2000-03-27.zip",
"binutils-19990818-1-msvcrt.zip", and "gcc-2.95.2-1-msvcrt.zip" from
"http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip", even if my package has
no C nor Fortran nor C++ sources?

Heinrich.

> ----------
> Von: 	Peter Dalgaard BSA[SMTP:p.dalgaard at biostat.ku.dk]
> Gesendet: 	Freitag, 05. J?nner 2001 11:08
> An: 	RINNER Heinrich
> Cc: 	'r-help at stat.math.ethz.ch'
> Betreff: 	Re: [R] running Rcmd INSTALL, again
> 
> RINNER Heinrich <H.RINNER at TIROL.GV.AT> writes:
> 
> > Ok, one last try. R1.2.0, WinNT 4.0:
> > [R is installed in: R_HOME=D:\Programme\R\rw1020]
> > 
> > Can anyone give a hint what the following error message (when running
> Rcmd
> > INSTALL) means and what to do about it? 
> > 
> > cd D:\Programme\R\rw1020\src\library
> > D:\Programme\R\rw1020\bin\rcmd install testfunctions
> > make: Entering directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> > dlltool -k --as as   --dllname R.dll --def R.exp --output-lib libR.a
> > make: dlltool: Command not found
> > make: *** [libR.a] Error 127
> > make: Leaving directory `/cygdrive/d/Programme/R/rw1020/src/gnuwin32'
> > *** Installation of testfunctions failed ***
> 
> That would seem to mean that dlltool is not in your PATH or
> nonexistant. I'm more than a bit rusty on the native Windows builds,
> but I believe dlltool is supposed to be found among all the other
> gnuwin32 tools like gcc.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 11:56:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 5 Jan 2001 10:56:05 +0000 (GMT)
Subject: AW: [R] running Rcmd INSTALL, again
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640CE@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.05.10101051045200.8064-100000@toucan.stats>

As ever, please do check that you have used exactly the addresses in the
documentation, and followed just one set of instructions.  You seem to
have used half of one and half of another here.  There's a fix at the
bottom.

On Fri, 5 Jan 2001, RINNER Heinrich wrote:

> Indeed, there is no file named "dlltool" anywhere around here!
> So, at last I am beginning to suspect that my collection of tools is
> incomplete.
> What I have got is "rw1020sp.zip" and
> "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip". These are properly
> istalled, I think.

Eh?  There is no such file, nor is that what readme.packages says.

auk% wget http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip
--10:52:38--  http://www.stats.ox.ac.uk:80/pub/bdr/RWin/tools.zip
           => `tools.zip'
Connecting to www.stats.ox.ac.uk:80... connected!
HTTP request sent, awaiting response... 404 Not Found
10:52:39 ERROR 404: Not Found.


> readme.packages says "If your package has no C nor Fortran nor C++ sources,
> see `Simple ports' 
> near the bottom of this file." I don't have any of these sources; going to
> the bottom, readme.packages says:
> "You will need 
> suitable versions of Unix tools including make, sh, rm, sed, awk,
> mkdir, echo, cp and cat; we have packaged a set at
> http://www.stats.ox.ac.uk/pub/Rtools/tools.zip.
> perl5, available via http://www.activestate.com/Products/ActivePerl/"
> 
> I might have misunderstood something here.
> Q: Do I have to compile R myself in order to be able to use Rcmd?

No.

> Q: Do I have to get "bin-msvcrt-2000-03-27.zip",
> "binutils-19990818-1-msvcrt.zip", and "gcc-2.95.2-1-msvcrt.zip" from
> "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip", even if my package has
> no C nor Fortran nor C++ sources?

You do to use Rcmd INSTALL. That's not mentioned in that section, is it?
And that's not where you get them.

I think the simplest way out for you is to change the line in
src/gnuwin/32/Makefile (from rw1020sp.zip)

from

pkg-%:  libR.a #../include/globalvar.h

to

pkg-%:  #libR.a #../include/globalvar.h

(just insert a #).

If you ever do want to make a package with C etc, you will need to get the
compilers and remove the #.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri Jan  5 12:08:13 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 5 Jan 2001 12:08:13 +0100
Subject: [R] running Rcmd INSTALL, again
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640CE@xms1.tirol.gv.at>; from H.RINNER@TIROL.GV.AT on Fri, Jan 05, 2001 at 11:25:51AM +0100
References: <C4D44AB4CB62D311BA6500041202E8862640CE@xms1.tirol.gv.at>
Message-ID: <20010105120813.A11162@sirio.stat.unipd.it>

On Fri, Jan 05, 2001 at 11:25:51AM +0100, RINNER Heinrich wrote:
> Indeed, there is no file named "dlltool" anywhere around here!
> So, at last I am beginning to suspect that my collection of tools is
> incomplete.
> What I have got is "rw1020sp.zip" and
> "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip". These are properly
> istalled, I think.
> 
> readme.packages says "If your package has no C nor Fortran nor C++ sources,
> see `Simple ports' 
> near the bottom of this file." I don't have any of these sources; going to
> the bottom, readme.packages says:
> "You will need 
> suitable versions of Unix tools including make, sh, rm, sed, awk,
> mkdir, echo, cp and cat; we have packaged a set at
> http://www.stats.ox.ac.uk/pub/Rtools/tools.zip.
> perl5, available via http://www.activestate.com/Products/ActivePerl/"
> 
> I might have misunderstood something here.
> Q: Do I have to compile R myself in order to be able to use Rcmd?

  No.

> Q: Do I have to get "bin-msvcrt-2000-03-27.zip",
> "binutils-19990818-1-msvcrt.zip", and "gcc-2.95.2-1-msvcrt.zip" from
> "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip", even if my package has
> no C nor Fortran nor C++ sources?

  No/Yes.
  No: you don't need the C and Fortran compiler but  
  Yes: if I understand, you have been found a problem in the
  src/gnuwin32/Makefile distributed in rwxxxxsp.zip. This Makefile
  try to build the export library for R.dll also for packages
  which don't need them.
  
  You can try the following routes:
  1) edit src/gnuwin32/Makefile, find the line 
     pkg-%: libR.a #...
     and change it to
     pkg-%: #libR.a ...
     i.e., move the # before libR.a
     This should works but I can test it now (I haven't a Windows
     system at hand). Keep in mind that the modified Makefile
     will be useless for installing packages with C or Fortran sources.

  or

  2) install binutils-19.... dlltool lives there.

 guido

        
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Jan  5 13:03:25 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 05 Jan 2001 13:03:25 +0100
Subject: [R] By which function I can limit the precision of
  numbers??
Message-ID: <3.0.32.20010105130325.00911760@162.38.183.200>

At 10:11 05/01/01 +0100, you wrote:
>Hi!
>I want to plot some numerical results in a graphic. I use the function
>text(x,y, result).
>What i want is to limit the precision of the numbers stored in result to
>2 decimal places for layout reasons. How to do it??
>thx Witek

Use the function round(), e.g.:

> pi
[1] 3,141593
> round(pi, 2)
[1] 3,14


EP
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From calvinw at ces.clemson.edu  Fri Jan  5 13:16:10 2001
From: calvinw at ces.clemson.edu (Calvin L. Williams, Ph.D.)
Date: Fri, 5 Jan 2001 07:16:10 -0500
Subject: [R] Optimization Problem
Message-ID: <v04210104b67b6ac1992f@[130.127.112.185]>

R-users,
I'm trying to code an optimization problem. Can anyone offer a reasonable
approach to doing this in R (or S-plus for that matter)?

Given the real positive valued vectors p (kx1) and r (kx1) and a
unknown real positive valued matrix Q (kxk).....

Can we find a doubly stochastic matrix Q, that optimizes the relation
p=Qr ? I'm trying to do this in L1 and L2. Any suggestions or references
would be greatly appreciated.


Calvin L. Williams

====================  Calvin L. Williams, Ph.D.  ====================
      Department of Mathematical Sciences, Clemson University
                             Box 340975 ,   0-323 Martin Hall
                       Clemson, South Carolina 29634-0975
       VOICE: (864) 656-5241  or leave message (864) 654-7187
                  EMAIL: calvinw at ces.clemson.edu
                                FAX: 1-(864) 656-5230
         WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From burkett at uriacc.uri.edu  Fri Jan  5 15:06:12 2001
From: burkett at uriacc.uri.edu (John P. Burkett)
Date: Fri, 05 Jan 2001 09:06:12 -0500
Subject: [R] regression constraints?
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au> <3A551C37.3EBFDE95@mozart.fin.depaul.edu>
Message-ID: <3A55D4D4.2080106@uriacc.uri.edu>

A Bayesian approach to regression with inequality constraints on 
coefficients is to first estimate the regression without constraints, 
then sample from the distribution of the coefficients, discarding all 
draws that violate the constraints, and finally calculate summary 
statistics from the subsample that is consistent with the constraints.  
Andrew Gelman et al. explain how to do that in their Bayesian Data 
Analysis.  I believe they implemented their procedures in S-Plus.  If 
any one has written similar programs in R, I would like very much to 
hear them.

Adam Gehr wrote:

> 
> "Strumila, John" wrote:
> 
>> gday R gurus,
>> 
>> I have a multivariate regression for which I want to constrain the
>> coefficients to be > 0.  Is this possible?
>> 
>> I've check the doco and searched CRAN but can't find anything.
>> 
>> thanks,
>> John Strumila
> 
> 
> I've been doing something like that (regression coefficients
> constrained 
> to be > 0 and also forced to sum to 1) using the quadratic
> programming program solve.QP in package quadprog. 
> 
>     Adam Gehr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
John P. Burkett
Department of Economics
University of Rhode Island
10 Chafee Road, Suite 3
Kingston, RI 02881-0808

phone (401) 874-4122
fax   (401) 874-2858

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010105/4de32c4f/attachment.html

From burkett at uri.edu  Fri Jan  5 14:52:30 2001
From: burkett at uri.edu (John P. Burkett)
Date: Fri, 5 Jan 2001 08:52:30 -0500
Subject: [R] regression constraints?
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <000001c07723$652d4440$0500a8c0@sking1.ri.home.com>

A Bayesian approach to regression with inequality constraints on the
coefficients is to estimate the regression without constraints, sample from
the distribution of the coefficients, discard draws that violate the
inequality constraints, and finally compute summary statistics from the
remaining subsample.  Andrew Gelman et al. explain how to do that in
Bayesian Data Analysis.  I believe they implemented their procedures in
S-Plus.  If any one has written similar programs in R, please let us know.
----- Original Message -----
From: Strumila, John <John.Strumila at team.telstra.com>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, January 04, 2001 4:56 PM
Subject: [R] regression constraints?


> gday R gurus,
>
> I have a multivariate regression for which I want to constrain the
> coefficients to be > 0.  Is this possible?
>
> I've check the doco and searched CRAN but can't find anything.
>
> thanks,
> John Strumila
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From burkett at uri.edu  Fri Jan  5 14:56:47 2001
From: burkett at uri.edu (John P. Burkett)
Date: Fri, 5 Jan 2001 08:56:47 -0500
Subject: [R] regression constraints?
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <000101c07723$65674000$0500a8c0@sking1.ri.home.com>

A Bayesian approach to regression with inequality constraints on the
coefficients is to estimate the regression without constraints, sample from
the distribution of the coefficients, discard draws that violate the
inequality constraints, and finally compute summary statistics from the
remaining subsample.  Andrew Gelman et al. explain how to do that in
Bayesian Data Analysis.  I believe they implemented their procedures in
S-Plus.  If any one has written similar programs in R, please let us know.

----- Original Message -----
From: Strumila, John <John.Strumila at team.telstra.com>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, January 04, 2001 4:56 PM
Subject: [R] regression constraints?


> gday R gurus,
>
> I have a multivariate regression for which I want to constrain the
> coefficients to be > 0.  Is this possible?
>
> I've check the doco and searched CRAN but can't find anything.
>
> thanks,
> John Strumila
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Fri Jan  5 13:12:32 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Fri, 5 Jan 2001 13:12:32 +0100 
Subject: AW: [R] running Rcmd INSTALL: working now!
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640D0@xms1.tirol.gv.at>

I almost didn't believe in it anymore, but Rcmd INSTALL finally is working
for me!
Thanks to all who helped on this, especially to Guido Masarotto, Brian
Ripley, John Fox, Peter Dalgaard, Uwe Ligges.

Anyway, I do think the documentation is a bit confusing here (at least for
me, I don't know if others have felt the same). It might be a good idea to
add the essence of Brians and Guidos replies to the "Simple ports" section
of readme.packages ?

As for the link to "tools.zip" (Brian Ripley mentioned that in his post):
Right, the correct link to this is
"http://www.stats.ox.ac.uk/pub/Rtools/tools.zip", and that's where I
actually  got it from.
The confusion stems from the fact that tools.zip (I have downloaded this on
Dec27, 2000) includes (or included?) a  file "readme.txt" in which the wrong
link "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip" is (was?) given.

Thanks again to everyone who helped on this,

Heinrich.

> ----------
> Von: 	Guido Masarotto[SMTP:guido at sirio.stat.unipd.it]
> Gesendet: 	Freitag, 05. J?nner 2001 12:08
> An: 	RINNER Heinrich
> Cc: 	r-help at stat.math.ethz.ch
> Betreff: 	Re: [R] running Rcmd INSTALL, again
> 
> On Fri, Jan 05, 2001 at 11:25:51AM +0100, RINNER Heinrich wrote:
> > Indeed, there is no file named "dlltool" anywhere around here!
> > So, at last I am beginning to suspect that my collection of tools is
> > incomplete.
> > What I have got is "rw1020sp.zip" and
> > "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip". These are properly
> > istalled, I think.
> > 
> > readme.packages says "If your package has no C nor Fortran nor C++
> sources,
> > see `Simple ports' 
> > near the bottom of this file." I don't have any of these sources; going
> to
> > the bottom, readme.packages says:
> > "You will need 
> > suitable versions of Unix tools including make, sh, rm, sed, awk,
> > mkdir, echo, cp and cat; we have packaged a set at
> > http://www.stats.ox.ac.uk/pub/Rtools/tools.zip.
> > perl5, available via http://www.activestate.com/Products/ActivePerl/"
> > 
> > I might have misunderstood something here.
> > Q: Do I have to compile R myself in order to be able to use Rcmd?
> 
>   No.
> 
> > Q: Do I have to get "bin-msvcrt-2000-03-27.zip",
> > "binutils-19990818-1-msvcrt.zip", and "gcc-2.95.2-1-msvcrt.zip" from
> > "http://www.stats.ox.ac.uk/pub/bdr/RWin/tools.zip", even if my package
> has
> > no C nor Fortran nor C++ sources?
> 
>   No/Yes.
>   No: you don't need the C and Fortran compiler but  
>   Yes: if I understand, you have been found a problem in the
>   src/gnuwin32/Makefile distributed in rwxxxxsp.zip. This Makefile
>   try to build the export library for R.dll also for packages
>   which don't need them.
>   
>   You can try the following routes:
>   1) edit src/gnuwin32/Makefile, find the line 
>      pkg-%: libR.a #...
>      and change it to
>      pkg-%: #libR.a ...
>      i.e., move the # before libR.a
>      This should works but I can test it now (I haven't a Windows
>      system at hand). Keep in mind that the modified Makefile
>      will be useless for installing packages with C or Fortran sources.
> 
>   or
> 
>   2) install binutils-19.... dlltool lives there.
> 
>  guido
> 
>         
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 13:27:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 5 Jan 2001 12:27:11 +0000 (GMT)
Subject: AW: [R] running Rcmd INSTALL: working now!
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640D0@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.05.10101051224290.8626-100000@toucan.stats>

On Fri, 5 Jan 2001, RINNER Heinrich wrote:

> I almost didn't believe in it anymore, but Rcmd INSTALL finally is working
> for me!
> Thanks to all who helped on this, especially to Guido Masarotto, Brian
> Ripley, John Fox, Peter Dalgaard, Uwe Ligges.
> 
> Anyway, I do think the documentation is a bit confusing here (at least for
> me, I don't know if others have felt the same). It might be a good idea to
> add the essence of Brians and Guidos replies to the "Simple ports" section
> of readme.packages ?

Well, you did not come close to following the instructions, and
mix-and-match just will not work.

The "Simple ports" section for 1.2.1 have a new target make pkgnoC-mypkg,
and do work.  Rcmd INSTALL will still need the compiler installed, as the
instructions say.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Fri Jan  5 17:04:02 2001
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Fri, 5 Jan 2001 09:04:02 -0700
Subject: [R] Job Annoucement
In-Reply-To: <3A55D4D4.2080106@uriacc.uri.edu>
Message-ID: <NEBBIAGCDACDCIIENIIHKEBDCPAA.stockton@neptuneandco.com>

Neptune and Company is currently looking for statisticians who are interested in
working with a dynamic group of statisticians and other scientists to perform
multi-disciplinary work in the environmental arena.  We are looking for
expertise in the following areas:  statistical planning and design, data
analysis, data mining, spatial statistics, decision analysis, Bayesian methods,
and probabilistic modeling of environmental systems.  Expertise in S-Plus/R is
strongly preferred, and familiarity with other statistical software packages
such as Arcview, spreadsheet and data base software, modeling software,
web-based tools and computer graphics is desired.  Knowledge of environmental
regulations is a plus.  Excellent written and interpersonal communication skills
are necessary to excel in this position. The successful candidate will be able
to convey statistical concepts to technical and non-technical audiences, will be
adept at abstract problem solving, and will have a strong desire to work with
others to solve environmental problems.  The statisticians we are seeking will
be self-starters who are detail minded and broad thinking.  MS/Ph.D or
equivalent experience is required.  Potential job locations are Denver,
Washington DC, Albuquerque, or Los Alamos.

For further information on Neptune and Company check our web site:
www.neptuneandco.com

Send resume, cover letter and salary requirements to
Paul Black
2031 Kerr Gulch Road
Evergreen, CO  80439
or send email to pblack at neptuneandco.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jan  5 18:00:32 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 5 Jan 2001 12:00:32 -0500 (EST)
Subject: [R] dyn.load the same code more than once?
Message-ID: <Pine.SGI.3.96.1010105115150.489375B-100000@ln.nimh.nih.gov>


Hi.  I'm still working on figuring out why some C code that interfaced
nicely with R-1.1.1 is causing segmentation faults in R-1.2.0.  Brian
Ripley advised me that R-1.2.0 can be more sensitive to array overruns
than was R-1.1.1, so I'm looking for overruns.  But in the course of
running R with a debugger I've come across something else.

Without thinking about it much, I put the dyn.load statement loading my
compiled code into the function immediately before the code is called.
This means that the dyn.load call is being executed over and over.  This
has never seemed to cause a problem, but under the debugger I get an error
after several times that some address cannot be accessed (the exact
address changes from time to time).  If I'm not in the debugger, this
doesn't happen, but perhaps it has something to do with my eventual memory
corruption.

So my question is:  can multiple loading of code cause a problem?  If so,
what kind? 

Also, I'll try loading the code in my .First function instead.  Can this
lead to any problems (like memory issues if I load lots of functions)?

I'm working on an alpha running Red Hat Linux.

Thanks,

Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Fri Jan  5 18:45:57 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Fri, 5 Jan 2001 18:45:57 +0100 (CET)
Subject: [R] Why doesn't as.vector() return a vector?
Message-ID: <Pine.LNX.4.21.0101051833280.747-100000@kleigh.nl>


I use as.vector() on a data frame and I get a data frame in
return. No warning. I have to use as.matrix() first. Why is
that? Doesn't make sense to me. I'm using R 1.2.0 on Linux.

    > F <- data.frame(a = c(1,2,3), b = c(4,5,6))
    > F
      a b
    1 1 4
    2 2 5
    3 3 6
    > V <- as.vector(F)
    > V
      a b
    1 1 4
    2 2 5
    3 3 6
    > attributes(V)
    $names
    [1] "a" "b"
    
    $row.names
    [1] "1" "2" "3"
    
    $class
    [1] "data.frame"
    
    > as.vector(as.matrix(F))
    [1] 1 2 3 4 5 6 

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 18:59:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 5 Jan 2001 17:59:08 +0000 (GMT)
Subject: [R] Why doesn't as.vector() return a vector?
In-Reply-To: <Pine.LNX.4.21.0101051833280.747-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.05.10101051756280.9772-100000@toucan.stats>

On Fri, 5 Jan 2001, Peter Kleiweg wrote:

> 
> I use as.vector() on a data frame and I get a data frame in
> return. No warning. I have to use as.matrix() first. Why is
> that? Doesn't make sense to me. I'm using R 1.2.0 on Linux.

A data frame is a list. A list is a vector, ....

The documentation for as.vector has already been corrected.

Try

> as.vector(F, mode="numeric")
Error in as.vector(F, mode = "numeric") : (list) object cannot be coerced
to vector type 14

which is probably what you might have expected, and correctly gives an
error.

> 
>     > F <- data.frame(a = c(1,2,3), b = c(4,5,6))
>     > F
>       a b
>     1 1 4
>     2 2 5
>     3 3 6
>     > V <- as.vector(F)
>     > V
>       a b
>     1 1 4
>     2 2 5
>     3 3 6
>     > attributes(V)
>     $names
>     [1] "a" "b"
>     
>     $row.names
>     [1] "1" "2" "3"
>     
>     $class
>     [1] "data.frame"
>     
>     > as.vector(as.matrix(F))
>     [1] 1 2 3 4 5 6 
> 
> -- 
> Peter Kleiweg
> http://www.let.rug.nl/~kleiweg/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 19:09:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 5 Jan 2001 18:09:38 +0000 (GMT)
Subject: [R] dyn.load the same code more than once?
In-Reply-To: <Pine.SGI.3.96.1010105115150.489375B-100000@ln.nimh.nih.gov>
Message-ID: <Pine.GSO.4.05.10101051806100.9772-100000@toucan.stats>

On Fri, 5 Jan 2001, Matthew Wiener wrote:

> 
> Hi.  I'm still working on figuring out why some C code that interfaced
> nicely with R-1.1.1 is causing segmentation faults in R-1.2.0.  Brian
> Ripley advised me that R-1.2.0 can be more sensitive to array overruns
> than was R-1.1.1, so I'm looking for overruns.  But in the course of
> running R with a debugger I've come across something else.
> 
> Without thinking about it much, I put the dyn.load statement loading my
> compiled code into the function immediately before the code is called.
> This means that the dyn.load call is being executed over and over.  This
> has never seemed to cause a problem, but under the debugger I get an error
> after several times that some address cannot be accessed (the exact
> address changes from time to time).  If I'm not in the debugger, this
> doesn't happen, but perhaps it has something to do with my eventual memory
> corruption.
> 
> So my question is:  can multiple loading of code cause a problem?  If so,
> what kind? 

Well, there are finite resources in src/unix/dynload.c, like for 100
loads.

> Also, I'll try loading the code in my .First function instead.  Can this
> lead to any problems (like memory issues if I load lots of functions)?

Not at all.  You only load the code, don't find all the entry points.
It is what we advise.

> 
> I'm working on an alpha running Red Hat Linux.
> 
> Thanks,
> 
> Matt Wiener
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jan  5 19:56:06 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 5 Jan 2001 13:56:06 -0500 (EST)
Subject: [R] Why doesn't as.vector() return a vector?
Message-ID: <200101051856.NAA29866@cattell.psych.upenn.edu>

A data.frame is a much more flexible object than a matrix.
I don't think the kind of behavior you want could work in
general.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Jan  5 22:22:06 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 05 Jan 2001 15:22:06 -0600 (CST)
Subject: [R] Trends for many units
Message-ID: <XFMail.20010105152206.s-luppescu@uchicago.edu>

I have data on every grade in all elementary schools in Chicago over 5 years. I
would like to estimate a trend over time for each grade in each school. There
are 17,600 data all together (about 460 schools, nearly 8 grades each, over 5
years). Is there a not-so-hard way to do this in R (I was thinking of using
rlm)?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
You can't run away forever,
But there's nothing wrong with getting a good head start.
                -- Jim Steinman, "Rock and Roll Dreams Come Through"
>> Sent on 05-Jan-2001 at 15:16:09 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  5 22:37:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 5 Jan 2001 21:37:25 +0000 (GMT)
Subject: [R] Trends for many units
In-Reply-To: <XFMail.20010105152206.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.31.0101052130300.4019-100000@auk.stats>

On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:

> I have data on every grade in all elementary schools in Chicago over 5 years. I
> would like to estimate a trend over time for each grade in each school. There
> are 17,600 data all together (about 460 schools, nearly 8 grades each, over 5
> years). Is there a not-so-hard way to do this in R (I was thinking of using
> rlm)?

And the statistical model is?  5 years is a short series, and I would have
thought a multilevel model was appropriate (and in R that means using lme).
I'l leave it to someone who understands the terms (grades are a response
in my terminology) to suggest a model.

rlm and friends assume independent errors, which looks dubious here.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Jan  5 23:24:15 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 05 Jan 2001 16:24:15 -0600 (CST)
Subject: [R] Trends for many units
In-Reply-To: <Pine.GSO.4.31.0101052130300.4019-100000@auk.stats>
Message-ID: <XFMail.20010105162415.s-luppescu@uchicago.edu>

On 05-Jan-2001 Prof Brian D Ripley wrote:
> On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:
> 
>> I have data on every grade in all elementary schools in Chicago over 5
>> years. I
>> would like to estimate a trend over time for each grade in each school.
>> There
>> are 17,600 data all together (about 460 schools, nearly 8 grades each, over
>> 5
>> years). Is there a not-so-hard way to do this in R (I was thinking of using
>> rlm)?
> 
> And the statistical model is?  5 years is a short series, and I would have
> thought a multilevel model was appropriate (and in R that means using lme).
> I'l leave it to someone who understands the terms (grades are a response
> in my terminology) to suggest a model.

Yes, there may be some ambiguity in the terminology. ``Grade'' refers to the
year in school (as in, ``first grade'', ``second grade'', etc.). Here is a small
portion of the data set:

Unit     Year      Grade     Pct.Excl
2010      1996         1       0.0789
2010      1997         1       0.0000
2010      1998         1       0.1034
2010      1999         1       0.0286
2010      2000         1       0.0000
2010      1996         2       0.1471
2010      1997         2       0.1282
2010      1998         2       0.0250
2010      1999         2       0.0800
2010      2000         2       0.0588
2010      1996         3       0.0938
2010      1997         3       0.2188
2010      1998         3       0.2000
2010      1999         3       0.1020
2010      2000         3       0.1000

Unit is the school number. Basically, I want to do something like:
rlm(Pct.Excl ~ Year) for each Unit-Grade combination.

> rlm and friends assume independent errors, which looks dubious here.

I chose rlm because with the small number of data points (max of 5 per
school-grade) a single outlier can have a very large influence. I don't know
why errors shouldn't be independent here, but I'm willing to be convinced.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
If computers take over (which seems to be their natural tendency), it will
serve us right.
                -- Alistair Cooke
>> Sent on 05-Jan-2001 at 16:16:53 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan  6 00:45:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 5 Jan 2001 23:45:18 +0000 (GMT)
Subject: [R] Trends for many units
In-Reply-To: <XFMail.20010105162415.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.31.0101052322050.7325-100000@auk.stats>

On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:

> On 05-Jan-2001 Prof Brian D Ripley wrote:
> > On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:
> >
> >> I have data on every grade in all elementary schools in Chicago over 5
> >> years. I
> >> would like to estimate a trend over time for each grade in each school.
> >> There
> >> are 17,600 data all together (about 460 schools, nearly 8 grades each, over
> >> 5
> >> years). Is there a not-so-hard way to do this in R (I was thinking of using
> >> rlm)?
> >
> > And the statistical model is?  5 years is a short series, and I would have
> > thought a multilevel model was appropriate (and in R that means using lme).
> > I'l leave it to someone who understands the terms (grades are a response
> > in my terminology) to suggest a model.
>
> Yes, there may be some ambiguity in the terminology. ``Grade'' refers to the
> year in school (as in, ``first grade'', ``second grade'', etc.). Here is a small
> portion of the data set:
>
> Unit     Year      Grade     Pct.Excl
> 2010      1996         1       0.0789
> 2010      1997         1       0.0000
> 2010      1998         1       0.1034
> 2010      1999         1       0.0286
> 2010      2000         1       0.0000
> 2010      1996         2       0.1471
> 2010      1997         2       0.1282
> 2010      1998         2       0.0250
> 2010      1999         2       0.0800
> 2010      2000         2       0.0588
> 2010      1996         3       0.0938
> 2010      1997         3       0.2188
> 2010      1998         3       0.2000
> 2010      1999         3       0.1020
> 2010      2000         3       0.1000
>
> Unit is the school number. Basically, I want to do something like:
> rlm(Pct.Excl ~ Year) for each Unit-Grade combination.
>
> > rlm and friends assume independent errors, which looks dubious here.
>
> I chose rlm because with the small number of data points (max of 5 per
> school-grade) a single outlier can have a very large influence. I don't know
> why errors shouldn't be independent here, but I'm willing to be convinced.

Wouldn't you expect two grades in one school to be more similar than two
grades in different schools?  And would not slopes for different grades
in one school be more similar than across schools?  Those translate into
dependence.

For an lm-type model you can circumvent this by treating all the
school-grade combinations as fixed effects.  Thus

(r)lm(Pct.Excl ~ Unit*Grade*Year)

(and I would centre Year on 1998) fits 3520 lines with a common assumed
error variance. That's a lot of parameters to fit in one go, and you will
probably find lmList in package nlme helpful.  But my suggestion for a
model is

i Unit
j Grade
t Year

y_{ijt} = mu + beta_j + gamma * t + eta_i + zeta_{ij} + epsilon_{ijt}

eta, zeta, epsilon iid with common variances in each group.

that is fixed effects for Grade, random effects for Unit and Unit | Grade.
You may or may not need additional random effects

lambda_i * Year + kappa_{ij} * Year

As set up here, independence of all the rvs is plausible, but lme does not
require it.  The predict.lme will give you BLUP lines for each Unit-Grade
combination, and they will not be the fitted values in the fixed-effects
model.  Most social statisticians I know (and we have have some local
stars) think that the second is more valuable, and routinely use it.

Snijders, T.A.B. and Bosker, R.J. (1999) Multilevel Analysis. Sage.

have an example of IQ tests adminstered to students in classes in schools
done in exactly this way.  (And that was the ref the experts recommended
for social applications.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Sat Jan  6 01:34:53 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Fri, 5 Jan 2001 16:34:53 -0800 (PST)
Subject: [R] export graph/data to Word/Excel
Message-ID: <20010106003453.99794.qmail@web11508.mail.yahoo.com>

Hi,

I have some data and plot some graphs using R. Can
anybody tell me
1. how to save my data as a dataset in R?
2. how to export those data/graphs to other
applications like Word/Excel?
I use RODBC to import data.

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Yahoo! Photos - Share your holiday photos online!
http://photos.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jan  6 10:40:38 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 06 Jan 2001 10:40:38 +0100
Subject: [R] export graph/data to Word/Excel
References: <20010106003453.99794.qmail@web11508.mail.yahoo.com>
Message-ID: <3A56E816.A61402E2@statistik.uni-dortmund.de>

Yu-Ling Wu wrote:
> 
> Hi,
> 
> I have some data and plot some graphs using R. Can
> anybody tell me
> 1. how to save my data as a dataset in R?
> 2. how to export those data/graphs to other
> applications like Word/Excel?
> I use RODBC to import data.

"data":
Please read the "R Data Import/Export" manual, which is included in
R-1.2.0.
Anyway, in most cases I would simply try write.table().

"graphs":
You can produce several formats (e.g.: ps, png, bmp, jpg). 
?device  gives a short overview and points you to serveral functions.

You might also want to read "An Introduction to R".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Jan  6 13:18:59 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 6 Jan 2001 07:18:59 -0500
Subject: [R] Trends for many units
In-Reply-To: <Pine.GSO.4.31.0101052322050.7325-100000@auk.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEEECAAA.cyg@sympatico.ca>

Hi,

As I read this thread. I can not stop to think that we rarely see this kind
of discussion here and even less in books. Since most of the time, question
like these just die out because they are a bit out of line in a manner of
speaking. I wonder if it would be possible to either accept gracefully more
of these kind of questions here or maybe (just maybe) create a new list
dedicated to discussion on applied statistics using R or something along
those lines.

Just a thought.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian D Ripley
> Envoye : Friday, January 05, 2001 6:45 PM
> A : s-luppescu at uchicago.edu
> Cc : R Help List
> Objet : Re: [R] Trends for many units
>
>
> On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:
>
> > On 05-Jan-2001 Prof Brian D Ripley wrote:
> > > On Fri, 5 Jan 2001 s-luppescu at uchicago.edu wrote:
> > >
> > >> I have data on every grade in all elementary schools in
> Chicago over 5
> > >> years. I
> > >> would like to estimate a trend over time for each grade in
> each school.
> > >> There
> > >> are 17,600 data all together (about 460 schools, nearly 8
> grades each, over
> > >> 5
> > >> years). Is there a not-so-hard way to do this in R (I was
> thinking of using
> > >> rlm)?
> > >
> > > And the statistical model is?  5 years is a short series, and
> I would have
> > > thought a multilevel model was appropriate (and in R that
> means using lme).
> > > I'l leave it to someone who understands the terms (grades are
> a response
> > > in my terminology) to suggest a model.
> >
> > Yes, there may be some ambiguity in the terminology. ``Grade''
> refers to the
> > year in school (as in, ``first grade'', ``second grade'',
> etc.). Here is a small
> > portion of the data set:
> >
> > Unit     Year      Grade     Pct.Excl
> > 2010      1996         1       0.0789
> > 2010      1997         1       0.0000
> > 2010      1998         1       0.1034
> > 2010      1999         1       0.0286
> > 2010      2000         1       0.0000
> > 2010      1996         2       0.1471
> > 2010      1997         2       0.1282
> > 2010      1998         2       0.0250
> > 2010      1999         2       0.0800
> > 2010      2000         2       0.0588
> > 2010      1996         3       0.0938
> > 2010      1997         3       0.2188
> > 2010      1998         3       0.2000
> > 2010      1999         3       0.1020
> > 2010      2000         3       0.1000
> >
> > Unit is the school number. Basically, I want to do something like:
> > rlm(Pct.Excl ~ Year) for each Unit-Grade combination.
> >
> > > rlm and friends assume independent errors, which looks dubious here.
> >
> > I chose rlm because with the small number of data points (max of 5 per
> > school-grade) a single outlier can have a very large influence.
> I don't know
> > why errors shouldn't be independent here, but I'm willing to be
> convinced.
>
> Wouldn't you expect two grades in one school to be more similar than two
> grades in different schools?  And would not slopes for different grades
> in one school be more similar than across schools?  Those translate into
> dependence.
>
> For an lm-type model you can circumvent this by treating all the
> school-grade combinations as fixed effects.  Thus
>
> (r)lm(Pct.Excl ~ Unit*Grade*Year)
>
> (and I would centre Year on 1998) fits 3520 lines with a common assumed
> error variance. That's a lot of parameters to fit in one go, and you will
> probably find lmList in package nlme helpful.  But my suggestion for a
> model is
>
> i Unit
> j Grade
> t Year
>
> y_{ijt} = mu + beta_j + gamma * t + eta_i + zeta_{ij} + epsilon_{ijt}
>
> eta, zeta, epsilon iid with common variances in each group.
>
> that is fixed effects for Grade, random effects for Unit and Unit | Grade.
> You may or may not need additional random effects
>
> lambda_i * Year + kappa_{ij} * Year
>
> As set up here, independence of all the rvs is plausible, but lme does not
> require it.  The predict.lme will give you BLUP lines for each Unit-Grade
> combination, and they will not be the fitted values in the fixed-effects
> model.  Most social statisticians I know (and we have have some local
> stars) think that the second is more valuable, and routinely use it.
>
> Snijders, T.A.B. and Bosker, R.J. (1999) Multilevel Analysis. Sage.
>
> have an example of IQ tests adminstered to students in classes in schools
> done in exactly this way.  (And that was the ref the experts recommended
> for social applications.)
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From E97249 at edu.essec.fr  Sat Jan  6 14:47:55 2001
From: E97249 at edu.essec.fr (E97249@edu.essec.fr)
Date: Sat, 06 Jan 2001 14:47:55 +0100
Subject: [R] 3D package in R
Message-ID: <3.0.5.32.20010106144755.0090db90@edu.essec.fr>

Hi all,

I am considering writing a 3D visualisation package for R. 

Purposes:
- Visualise 3 dimension data 
- Manipulate the data or series or any other object with the mouse as in any 3D software (3D Studio Max, Lightwave...)
- Eventually display more than just 3D objects.

Justification:
- It's always interesting to plot data before performing any analysis
- Manipulating (rotating, zooming) can give hints on critical facts blind analysis would take ages to reveal
- Up until now, the best solution to display 4D or more objects is to use KATIA, which really is a CAD (Computer Assisted Design) software. It seems the workarounds chosen by this program are the best available. But KATIA was initially made by Dassault aviation to design Combat aircrafts... So it's extremely heavy and doesn't run on my K6-2 (to say the least).

So I guess it would be a good thing to bring the KATIA method to R because few poeple have had the opportunity to use it despite its quality

Questions:
- Has anyone heard of such a thing already existing?
- Who thinks this is a bad idea and why?
- What other extensions or interests would like to see in such a project?
- Is anyone interested in actually working on this project with me?

Concise specifications:
- If you want to know what gave me this idea, www.blender.nl. It's a 3D suite that's very similar to the more renowned ones, but it's extremely light (1Mo download) and it's free. You can create objects and move them around very easily.
- It would be written with opengl or mesagl, either in C or in Fortran.

Vincent.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jan  6 16:04:37 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 6 Jan 2001 10:04:37 -0500 (EST)
Subject: [R] 3D package in R
Message-ID: <200101061504.KAA08469@cattell.psych.upenn.edu>

Before starting to write this, you might want to look at
http://www.research.att.com/areas/stat/xgobi/

There is also a contributed R package (in CRAN) which (it seems)
creates an interface between R and Xgobi.

What is apparently missing is an RPM file for for the latest
version of Xgobi.  (And I can't even find the rpm for the old
version anymore.)

I originally got it because I wanted to do "parallel coordinate
plots" (a feature of Systat, which I gave up when I gave up
Windows).  But then I discovered how to do them using matplot.* I
find these better for visualizing three (or four, or ...)
dimensional data than 3D plots, once you get used to them.

*If you have a matrix m1 with each column a variable and each row a
subject (say), then matplot(t(m1),type="l") will do it.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan  6 16:47:27 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jan 2001 16:47:27 +0100
Subject: [R] 3D package in R
In-Reply-To: E97249@edu.essec.fr's message of "Sat, 06 Jan 2001 14:47:55 +0100"
References: <3.0.5.32.20010106144755.0090db90@edu.essec.fr>
Message-ID: <x2wvc8r8c0.fsf@blueberry.kubism.ku.dk>

E97249 at edu.essec.fr writes:

> Hi all,
> 
> I am considering writing a 3D visualisation package for R. 
> 
> Purposes:
> - Visualise 3 dimension data 
> - Manipulate the data or series or any other object with the mouse as in any 3D software (3D Studio Max, Lightwave...)
> - Eventually display more than just 3D objects.
> 
....
> Concise specifications:
> - If you want to know what gave me this idea, www.blender.nl. It's a 3D suite that's very similar to the more renowned ones, but it's extremely light (1Mo download) and it's free. You can create objects and move them around very easily.

Take a look at the VTK visualisation toolkit as well

http://www.kitware.com/vtk.html

This has (a) dazzling pictures (b) language bindings with Tcl, Java,
and Python, which might make it quite easy to integrate with the
existing language embedding tools. (Notice "might" in that
sentence...) 

There's some mumblebumble about patented algorithms inside VTK, but it
seems you can just avoid installing/using them... The
Copyright/license claims to be OpenSource of some kind.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Jan  6 18:10:02 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 6 Jan 2001 12:10:02 -0500
Subject: [R] 3D package in R
In-Reply-To: <200101061504.KAA08469@cattell.psych.upenn.edu>
Message-ID: <NEBBJKDJHEFCOOLFFAKKIEEFCAAA.cyg@sympatico.ca>

Hi,

I would agree with Jonathan Baron if Xgobi wasn't such a fuss to use under
Windows. For all practical purposes it's not very useful at least under
Windows. I think a 3D visualization package for R is a very good idea as
long as it can be used like any other package on all supported platforms. I
went to have a look at Blender and I think I understand your idea. If I can
humbly suggest using an existing and portable library in a manner similar to
how the core developers have used say Linpack or other similar libraries. A
common denominator could be OpenGL as it is available for most platform
AFAIK.

Regards.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Jonathan Baron
> Envoy? : Saturday, January 06, 2001 10:05 AM
> ? : E97249 at edu.essec.fr; r-help at stat.math.ethz.ch
> Objet : Re: [R] 3D package in R
>
>
> Before starting to write this, you might want to look at
> http://www.research.att.com/areas/stat/xgobi/
>
> There is also a contributed R package (in CRAN) which (it seems)
> creates an interface between R and Xgobi.
>
> What is apparently missing is an RPM file for for the latest
> version of Xgobi.  (And I can't even find the rpm for the old
> version anymore.)
>
> I originally got it because I wanted to do "parallel coordinate
> plots" (a feature of Systat, which I gave up when I gave up
> Windows).  But then I discovered how to do them using matplot.* I
> find these better for visualizing three (or four, or ...)
> dimensional data than 3D plots, once you get used to them.
>
> *If you have a matrix m1 with each column a variable and each row a
> subject (say), then matplot(t(m1),type="l") will do it.
>
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> Home page: http://www.sas.upenn.edu/~jbaron
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kbryan at eclipse.net  Sat Jan  6 19:26:43 2001
From: kbryan at eclipse.net (Kirk Bryan)
Date: Sat, 6 Jan 2001 13:26:43 -0500 (EST)
Subject: [R] Linux Install
Message-ID: <Pine.BSI.4.05L.10101061306260.6304-100000@mail.eclipse.net>

Dear Help:

          I have a recent version of Red Hat(Version 6)  Linux (One Year
Old). When I
tried to invoke the rpm --install I got the following:

[root at localhost /root]# rpm --install R-base-1.2.0-3.alpha.rpm
 only packages with major numbers <= 3 are supported by this version of
RPM
error: R-base-1.2.0-3.alpha.rpm cannot be installed 

What to do?
                           Kirk Bryan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan  6 19:30:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 6 Jan 2001 18:30:21 +0000 (GMT Standard Time)
Subject: [R] 3D package in R
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKIEEFCAAA.cyg@sympatico.ca>
Message-ID: <Pine.WNT.4.31.0101061821580.238-100000@tern.stats>

On Sat, 6 Jan 2001, Yves Gauvreau wrote:

> Hi,
>
> I would agree with Jonathan Baron if Xgobi wasn't such a fuss to use under
> Windows. For all practical purposes it's not very useful at least under
> Windows. I think a 3D visualization package for R is a very good idea as

I would disagree: for me with my XServer/graphics card it works reliably
and transparently as just another window, just quite a bit slower than
under Linux on the same machine,

GGobi promises to be much easier to use under Windows (it uses GTK+ and
GIMP shows that works well as a native Windows application), and easier to
integrate with R.  When I looked (www.ggobi.org) the Windows binaries were
not there, and when I tried it out on Linux it seemed to have a lot of
missing functionality (either it said so or nothing happened). But the
promise is there.

My own view is that GTK+ looks dreadful everywhere, but that is a matter of
taste.

> long as it can be used like any other package on all supported platforms. I
> went to have a look at Blender and I think I understand your idea. If I can
> humbly suggest using an existing and portable library in a manner similar to
> how the core developers have used say Linpack or other similar libraries. A
> common denominator could be OpenGL as it is available for most platform
> AFAIK.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sat Jan  6 19:42:17 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 06 Jan 2001 10:42:17 -0800
Subject: [R] 3D package in R
In-Reply-To: E97249@edu.essec.fr's message of "Sat, 06 Jan 2001 14:47:55 +0100"
References: <3.0.5.32.20010106144755.0090db90@edu.essec.fr>
Message-ID: <87lmsoed4m.fsf@jeeves.blindglobe.net>


We are working on such a toolkit.  Orca.

http://pyrite.cfas.washington.edu/orca

the R interface is in development, but it uses Java3d/VisAD for
displaying.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Jan  6 20:20:26 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 6 Jan 2001 14:20:26 -0500
Subject: [R] 3D package in R
In-Reply-To: <Pine.WNT.4.31.0101061821580.238-100000@tern.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEEGCAAA.cyg@sympatico.ca>




> -----Message d'origine-----
> De : ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Envoye : Saturday, January 06, 2001 1:30 PM
> A : Yves Gauvreau
> Cc : Jonathan Baron; E97249 at edu.essec.fr; r-help at stat.math.ethz.ch
> Objet : RE: [R] 3D package in R
>
>
> On Sat, 6 Jan 2001, Yves Gauvreau wrote:
>
> > Hi,
> >
> > I would agree with Jonathan Baron if Xgobi wasn't such a fuss
> to use under
> > Windows. For all practical purposes it's not very useful at least under
> > Windows. I think a 3D visualization package for R is a very good idea as
>
> I would disagree: for me with my XServer/graphics card it works reliably
> and transparently as just another window, just quite a bit slower than
> under Linux on the same machine,

These are actually the reasons why I said Xgobi is not very practical to use
under Windows. I should have pointed out my concerns about speed and the
need for special hardware and/or software. At this time I have a lowly Intel
P166 and if I use Xgobi and a software based XServer it behave just like a
486 40~66 mhz. You may call this practical if that's your pleasure. But for
those of us with low end PC's it becomes a big bit to slow for our pleasure.

Beside that I don't have any grudge whatsoever against Xgobi per say.

Regards.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

>
> GGobi promises to be much easier to use under Windows (it uses GTK+ and
> GIMP shows that works well as a native Windows application), and easier to
> integrate with R.  When I looked (www.ggobi.org) the Windows binaries were
> not there, and when I tried it out on Linux it seemed to have a lot of
> missing functionality (either it said so or nothing happened). But the
> promise is there.
>
> My own view is that GTK+ looks dreadful everywhere, but that is a
> matter of
> taste.
>
> > long as it can be used like any other package on all supported
> platforms. I
> > went to have a look at Blender and I think I understand your
> idea. If I can
> > humbly suggest using an existing and portable library in a
> manner similar to
> > how the core developers have used say Linpack or other similar
> libraries. A
> > common denominator could be OpenGL as it is available for most platform
> > AFAIK.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jan  6 20:29:41 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 6 Jan 2001 14:29:41 -0500 (EST)
Subject: [R] Linux Install
Message-ID: <200101061929.OAA16274@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Sat Jan  6 14:21:42 2001
>I have a recent version of Red Hat(Version 6)  Linux (One Year
>Old). When I
>tried to invoke the rpm --install I got the following:
>
>[root at localhost /root]# rpm --install R-base-1.2.0-3.alpha.rpm
> only packages with major numbers <= 3 are supported by this version of
>RPM
>error: R-base-1.2.0-3.alpha.rpm cannot be installed 

First, try the RPM for i386, not the one for alpha.  (Alpha is a
different processor, much less common, I think.  You didn't say
you had it, so probably you don't.)

If that doesn't work, try updating rpm, which will be in the
"updates" section of www.redhat.com (and its mirrors, and also
surely in http://rpmfind.net/linux/RPM).  You should do this
anyway if you haven't done it.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sat Jan  6 20:38:09 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sat, 06 Jan 2001 19:38:09 GMT
Subject: [R] 3D package in R
In-Reply-To: <3.0.5.32.20010106144755.0090db90@edu.essec.fr>
References: <3.0.5.32.20010106144755.0090db90@edu.essec.fr>
Message-ID: <3a586fc1.15067185@smtp1.sympatico.ca>

On Sat, 06 Jan 2001 14:47:55 +0100, you wrote:

>I am considering writing a 3D visualisation package for R. 
>
>Purposes:
>- Visualise 3 dimension data 
>- Manipulate the data or series or any other object with the mouse as in any 3D software (3D Studio Max, Lightwave...)
>- Eventually display more than just 3D objects.

I'm in the process of writing a package which is somewhat less
ambitious than what you seem to be hoping for, but it might give you
some ideas.  Mine is based on OpenGL; I'm planning on versions for
Windows and X.  There are OpenGL implementations for the Mac and OS/2
as well, but I don't know of any on other platforms; I don't have
access to anything but Windows and X for testing, so I'm not planning
to support anything else.

Right now I've got a Windows-only version with the underlying code
written in Delphi; later I'll simplify and rewrite in C for Windows,
then do the port to X.  If anyone is interested in a binary-only
preview of the Windows version, I could send you one.  I'm not ready
for the translation yet; once it's in C, it'll be much harder to
modify and debug, so I want to make sure the feature set is stable
first.

I've got no plans for more than 3 dimensions, though it wouldn't be
hard to add, if you could decide how you wanted to select the
projections.

Here's the current INDEX file:

This package contains routines for 3D graphics based on the OpenGL 
graphics library.  See the opengl help topic for details.

lines3d		Draw a joined set of line segments
segments3d	Draw a set of separate line segments
points3d	Draw a set of points 
triangles3d	Draw a set of triangles
quads3d		Draw a set of quadrilaterals
text3d		Draw text in 3D

persp3d		Draw a surface plot of a matrix (like persp)
hist3d		Draw a histogram of two variables (like hist)

open3d		Open a new 3D window
close3d		Close a 3D window
clear3d		Clear a 3D window

setcolors3d	Set the colors of a 3D object
setnormals3d	Set the normal vectors of a 3D object
setpoints3d	Set the coordinates of a 3D object
settext3d	Set the text of a text3d object

axis3d		Draw a single 3D axis
axes3d		Draw a set of 3D axes
box3d		Draw a 3D box around the plot
mtext3d		Draw marginal text on the plot
title3d		Draw titles and axis labels on the plot

scale3d		Create a 4x4 matrix to rescale
translate3d	Create a 4x4 matrix to do a linear translation
rotate3d	Create a 4x4 matrix to rotate

begingroup3d	Start a new group, returning the handle of the old one
endgroup3d	End a group, inserting it into an old one

colorlist	A list of color names and hex codes
colorname.to.hex	Convert a color name to hex code
hex.to.rgb	Convert a color hex code to a packed rgb integer
color.to.rgb	Convert a color to a packed rgb integer
rgb.to.hex	Convert a packed rgb integer to hex
rgb.to.color	Convert a packed rgb integer to a color name

ThreeDHandle	The default window handle

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat Jan  6 20:47:20 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Sun, 7 Jan 2001 08:47:20 +1300
Subject: [R] 3D package in R
References: <NEBBJKDJHEFCOOLFFAKKIEEFCAAA.cyg@sympatico.ca>
Message-ID: <001b01c07819$7c2b4560$126e36d2@kokangwang>


----- Original Message -----
From: "Yves Gauvreau" <cyg at sympatico.ca>
To: "Jonathan Baron" <baron at cattell.psych.upenn.edu>; <E97249 at edu.essec.fr>;
<r-help at stat.math.ethz.ch>
Sent: Sunday, January 07, 2001 6:10 AM
Subject: RE: [R] 3D package in R


> Hi,
>
> I would agree with Jonathan Baron if Xgobi wasn't such a fuss to use under
> Windows. For all practical purposes it's not very useful at least under
> Windows

As I heard there is a Windows version of XGobi coming up.  It is called
Ggobi.  Don't think it is officially released at the moment, but I've found
a copy located on Nicholas Lewin-Koh's page,
http://www.public.iastate.edu/~nlewin/ggobi/.
At the moment you can download winggobi.zip, which is a compiled binary
version and can be run as a Win32 executable file.  I believe, from my own
experience, it still has got some bugs though.  I haven't tried Rggobi.zip
yet.

Alternatively, the offical page for GGobi is at http://www.ggobi.org/.

Cheers,

Ko-Kang Wang


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sqmishra at excite.com  Sun Jan  7 19:02:19 2001
From: sqmishra at excite.com (Samir Mishra)
Date: Sun, 7 Jan 2001 10:02:19 -0800 (PST)
Subject: [R] Selective column loads with scan()
Message-ID: <13647958.978890539491.JavaMail.imail@ringo.excite.com>

Help!

I have a very large data file with about 100 columns. Instead of loading 
all of the columns using read.table() (my PC won't be able to handle the
resulting data frame), I'd like to read in one column of the datafile at 
a time using scan() in conjunction with the 'what = ' option. I've tried 
loading just the third column using -

> scan(file.name, what = list(NULL, NULL, "", rep(NULL, 97)). ... )

along with a couple of other options but I can't get the results I want 
(if I avoid an error). For example - 
> list(NULL, NULL, "", rep(NULL, 97))
[[1]]
NULL

[[2]]
NULL

[[3]]
[1] ""

[[4]]
NULL

is not what i'm looking for. 

Is there a better way to selectively read in individual columns from a tab
separated data file?

I've done this before, and that makes this exercise even more frustrating.

Thanks in advance. 

Samir Mishra
===========================================
Please send replies to :
sqmishra at acm.org
===========================================





_______________________________________________________
Send a cool gift with your E-Card
http://www.bluemountain.com/giftcenter/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Sun Jan  7 19:51:54 2001
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Sun, 7 Jan 2001 18:51:54 +0000 (GMT)
Subject: [R] boxplot question
Message-ID: <200101071851.SAA07741@achill.nmrc.ucc.ie>

Hi All,

As a follow-on from the mail below, it is possible to have boxplots based on 
means and variance for more than one input, i.e.,

bxp(input1,input2,....)


Thanks in Advance,
Dermot

******** Previous Mail on this subject ***********

>I have a couple more questions about boxplots. In the books I've read on
>statistics (I'm not a statistics expert but just a poor engineer trying
>to help his wife with the analysis of the data she gathered for her
>medieval history PhD), I seen two kinds of box plots: one using
>quartiles to determine the height of the rectangles and whiskers which
>is what the standard R boxplot does, from what I read in the doc, and
>another one using  the the variance (rectangle height = 2s, whiskers
>going from +1s to +2s and -1s to -2s). Is there a way to produce such
>boxplot with R ?

Yes, by using the bxp() function on a data structure containing the relevant 
values:

        #
        # using a standard R dataset
        #
        data(ToothGrowth)
        attach(ToothGrowth)

        #
        # standard boxplot
        #
        boxplot(len)

        #
        # get stats for the standard boxplot
        #
        bp.stats <- boxplot.stats(len)

        #
        # have a look at the structure (list) returned by boxplot.stats()
        #
        bp.stats

        #
        # we can recreate this structure but with means and SDs ...
        #
        bp.limits <- as.matrix(c(mean(len) - 2 * sd(len),
                                mean(len) - sd(len),
                                mean(len),
                                mean(len) + sd(len),
                                mean(len) + 2 * sd(len)))
        bp.stats <- list(stats = bp.limits, n = length(len), conf = NULL,
                         out = numeric(0))

        #
        # and plot it ...
        #
        bxp(bp.stats)

This could be rolled up into a function ... in essence you create a structure 
(list)
that bxp() can use. Watch out for NA values in the mean(), and sd().

I think that there is an error in the R documentation about the bxp() structure 
...
$stats should be a matrix not a vector ... but I may have that wrong.

>Second question: I would like to ponderate the plotted variable with
>another variable. To take an example, the grouping factor A is a
>production city, X is a unitary price and Y is a quantity bought from
>city Ai at price Xi. I would like to make a boxplot of the prices
>ponderated by the quantity bought. Since it sounds like a fairly
>standard visualization, I suppose ther's an easy way to do this with R.

This looks like a problem for coplot() if X and Y are continuous and you want 
scatters
of them by levels of factors. With boxplot() you need to use the 'interaction' 
term in
the formula you supply to boxplot. With a standard R dataset:

        data(ToothGrowth)
        boxplot(len~interaction(supp, dose), data = ToothGrowth)

You could make it clearer with by adding colour:

        boxplot(len~interaction(supp, dose), data = ToothGrowth, col = c(7,3))

It only works with data.frames (I think).


**************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jan  7 19:54:21 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 7 Jan 2001 19:54:21 +0100 (CET)
Subject: [R] Selective column loads with scan()
In-Reply-To: <13647958.978890539491.JavaMail.imail@ringo.excite.com>
Message-ID: <Pine.LNX.4.21.0101071952560.597-100000@rechenknecht.statistik.uni-dortmund.de>



On Sun, 7 Jan 2001, Samir Mishra wrote:

> Help!
> 
> I have a very large data file with about 100 columns. Instead of loading 
> all of the columns using read.table() (my PC won't be able to handle the
> resulting data frame), I'd like to read in one column of the datafile at 
> a time using scan() in conjunction with the 'what = ' option. I've tried 
> loading just the third column using -
> 
> > scan(file.name, what = list(NULL, NULL, "", rep(NULL, 97)). ... )
> 
> along with a couple of other options but I can't get the results I want 
> (if I avoid an error). For example - 
> > list(NULL, NULL, "", rep(NULL, 97))
> [[1]]
> NULL
> 
> [[2]]
> NULL
> 
> [[3]]
> [1] ""
> 
> [[4]]
> NULL
> 
> is not what i'm looking for. 
> 
> Is there a better way to selectively read in individual columns from a tab
> separated data file?
> 
> I've done this before, and that makes this exercise even more frustrating.


Try 

  scan(file.name, what = list(, , ""), flush = TRUE)


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan  7 20:42:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 7 Jan 2001 19:42:16 +0000 (GMT)
Subject: [R] Selective column loads with scan()
In-Reply-To: <Pine.LNX.4.21.0101071952560.597-100000@rechenknecht.statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10101071930280.13341-100000@toucan.stats>

On Sun, 7 Jan 2001, Uwe Ligges wrote:

> On Sun, 7 Jan 2001, Samir Mishra wrote:
> 
> > Help!
> > 
> > I have a very large data file with about 100 columns. Instead of loading 
> > all of the columns using read.table() (my PC won't be able to handle the
> > resulting data frame), I'd like to read in one column of the datafile at 
> > a time using scan() in conjunction with the 'what = ' option. I've tried 
> > loading just the third column using -
> > 
> > > scan(file.name, what = list(NULL, NULL, "", rep(NULL, 97)). ... )
> > 
> > along with a couple of other options but I can't get the results I want 
> > (if I avoid an error). For example - 
> > > list(NULL, NULL, "", rep(NULL, 97))
> > [[1]]
> > NULL
> > 
> > [[2]]
> > NULL
> > 
> > [[3]]
> > [1] ""
> > 
> > [[4]]
> > NULL
> > 
> > is not what i'm looking for. 
> > 
> > Is there a better way to selectively read in individual columns from a tab
> > separated data file?
> > 
> > I've done this before, and that makes this exercise even more frustrating.
> 
> 
> Try 
> 
>   scan(file.name, what = list(, , ""), flush = TRUE)

Unfortunately that gives you the first column.  With S you need the NULLs
in there (and then it is a known trick), but they are not accepted in R.

BTW,

> list(, , "")
[[1]]:
[1] ""

> list(NULL, NULL, "")
[[1]]:
NULL

[[2]]:
NULL

[[3]]:
[1] ""

are different.

I don't know a good way to do this in R, but then I would not try it.
Either use `cut' to extract the columns(s) needed from the file, or
use a database and a connection such as RODBC to do the extraction in the
database.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Sun Jan  7 18:07:15 2001
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Sun, 7 Jan 2001 12:07:15 -0500
Subject: [R] "Invalid character 32" problem with Pager??
Message-ID: <01010712071503.10795@ewilliam.ucsd.edu>

Hi all,

I'm having a very minor problem.  Most every time I use the pager (I think) I 
get the following error about character 32.  It works fine, but the error is 
a bit annoying.

> ?version
sh: invalid character 32 in exportstr for export R_NSIZE
sh: invalid character 32 in exportstr for export R_VSIZE
R.Version                package:base                R Documentation
(and then the rest is fine)

or

> library(help=quadprog)
sh: invalid character 32 in exportstr for export R_NSIZE
sh: invalid character 32 in exportstr for export R_VSIZE
solve.QP                 Solve a Quadratic Programming Problem
solve.QP.compact         Solve a Quadratic Programming Problem

My system info:
> R.version
platform i586-pc-linux-gnu
arch     i586             
os       linux-gnu        
system   i586, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R                

And I'm running Mandrake 7.2 with the Mandrake 1.2 R rpm (which I just got 
about a week ago).

What do I need to change to make the error go away?

Thanks in advance.  
Elliot.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jan  7 22:50:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2001 22:50:02 +0100
Subject: [R] "Invalid character 32" problem with Pager??
In-Reply-To: Elliot Williams's message of "Sun, 7 Jan 2001 12:07:15 -0500"
References: <01010712071503.10795@ewilliam.ucsd.edu>
Message-ID: <x2ofxjnib9.fsf@blueberry.kubism.ku.dk>

Elliot Williams <ewilliams at ucsd.edu> writes:

> Hi all,
> 
> I'm having a very minor problem.  Most every time I use the pager (I think) I 
> get the following error about character 32.  It works fine, but the error is 
> a bit annoying.
> 
> > ?version
> sh: invalid character 32 in exportstr for export R_NSIZE
> sh: invalid character 32 in exportstr for export R_VSIZE
> R.Version                package:base                R Documentation
> (and then the rest is fine)
> 
> or
> 
> > library(help=quadprog)
> sh: invalid character 32 in exportstr for export R_NSIZE
> sh: invalid character 32 in exportstr for export R_VSIZE
> solve.QP                 Solve a Quadratic Programming Problem
> solve.QP.compact         Solve a Quadratic Programming Problem
..
> And I'm running Mandrake 7.2 with the Mandrake 1.2 R rpm (which I just got 
> about a week ago).
> 
> What do I need to change to make the error go away?

Sounds like something is up with the R_NSIZE and R_VSIZE environment
variables (a blank crept in?). Have you done anything to tamper with
those? 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan  8 00:00:55 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jan 2001 00:00:55 +0100
Subject: [R] Selective column loads with scan()
In-Reply-To: Prof Brian Ripley's message of "Sun, 7 Jan 2001 19:42:16 +0000 (GMT)"
References: <Pine.GSO.4.05.10101071930280.13341-100000@toucan.stats>
Message-ID: <x2d7dzc6hk.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > Try 
> > 
> >   scan(file.name, what = list(, , ""), flush = TRUE)

[ really: scan(file.name, what = list(NULL, NULL, ""), flush = TRUE)

> Unfortunately that gives you the first column.  With S you need the NULLs
> in there (and then it is a known trick), but they are not accepted in R.
...> 
> I don't know a good way to do this in R, but then I would not try it.
> Either use `cut' to extract the columns(s) needed from the file, or
> use a database and a connection such as RODBC to do the extraction in the
> database.

Doesn't look like rocket science to make the NULL entries work in R,
but probably a tad late for 1.2.1 (next Monday)

Basically, I think it would amount to (in src/main/scan.c): 

 * The allocation code in scanFrame should stick in a NULL for ans[i]
   rather than error out if what[i] is NULL. Also watch for this when
   the n == blksize && colsread == 0 condition is handled.

 * fillBuffer should treat NULL as STRSXP

 * extractItem should ignore NULL types (does already, it seems)

On the other hand, it might make better sense to have a mask= argument
controlling which columns that are kept/discarded. Or select=.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Mon Jan  8 00:33:12 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Mon, 8 Jan 2001 00:33:12 +0100 (CET)
Subject: [R] "Invalid character 32" problem with Pager??
In-Reply-To: <01010712071503.10795@ewilliam.ucsd.edu>
Message-ID: <Pine.LNX.4.30.0101080029570.3021-100000@localhost.localdomain>

On Sun, 7 Jan 2001, Elliot Williams wrote:

> I'm having a very minor problem.  Most every time I use the pager (I think) I
> get the following error about character 32.  It works fine, but the error is
> a bit annoying.
>
> > ?version
> sh: invalid character 32 in exportstr for export R_NSIZE
> sh: invalid character 32 in exportstr for export R_VSIZE
> R.Version                package:base                R Documentation
> (and then the rest is fine)

> My system info:
> > R.version
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    2.0
> year     2000
> month    12
> day      15
> language R

> And I'm running Mandrake 7.2 with the Mandrake 1.2 R rpm (which I just got
> about a week ago).

I have your identical architecture, mandrake version and rpm package, but
everything works ok; could be something you've configured ?

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon Jan  8 02:37:38 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Mon, 8 Jan 2001 12:37:38 +1100 
Subject: [R] regression constraints?
Message-ID: <61411576E951D211AF330008C7245DD9079B2DC7@ntmsg0005.corpmail.telstra.com.au>

I hate to chew up list bandwidth but I just gotta say thanks to Brian
Ripley, John Burkett and Adam Gehr.  

As usual, excellent advice.

John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Mon Jan  8 12:12:00 2001
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Mon, 8 Jan 2001 12:12:00 +0100 (CET)
Subject: [R] sparse matrix
Message-ID: <Pine.LNX.4.21.0101081120200.3667-100000@atys.fi.muni.cz>

Hi R users,

I have problem with very large matrix - sparse matrix. Is in R any
possibility how effective use matrix with a lots of the same number (0 or
some X)?    

I think every element of matrix in R now needs own memory space.

Thanks
	Martin Gotz  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  8 12:41:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 8 Jan 2001 11:41:06 +0000 (GMT)
Subject: [R] sparse matrix
In-Reply-To: <Pine.LNX.4.21.0101081120200.3667-100000@atys.fi.muni.cz>
Message-ID: <Pine.GSO.4.05.10101081136450.14286-100000@toucan.stats>

On Mon, 8 Jan 2001, Martin Gotz wrote:

> Hi R users,
> 
> I have problem with very large matrix - sparse matrix. Is in R any
> possibility how effective use matrix with a lots of the same number (0 or
> some X)?    
> 
> I think every element of matrix in R now needs own memory space.

A matrix in R is a vector plus a dim atttribute.  I presume you mean a
numeric matrix (there are other types).  Then it needs a 8byte space per
entry.

There are other ways to handle matrices: look at package Matrix, for
example.

One obvious representation is to store the non-zero elements and their
locations.

Just how large is this matrix, and does it have a pattern to its sparsity?
And what do you want to do with it?  Doing things with sparse matrices has
a tendency to make them less sparse.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Mon Jan  8 13:05:07 2001
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 08 Jan 2001 12:05:07 +0000
Subject: [R] Linux Install
In-Reply-To: Kirk Bryan's message of "Sat, 6 Jan 2001 13:26:43 -0500 (EST)"
References: <Pine.BSI.4.05L.10101061306260.6304-100000@mail.eclipse.net>
Message-ID: <szihf3az1u4.fsf@stats.mth.uea.ac.uk>

Kirk Bryan <kbryan at eclipse.net> writes:

> [root at localhost /root]# rpm --install R-base-1.2.0-3.alpha.rpm
>  only packages with major numbers <= 3 are supported by this version of
> RPM
> error: R-base-1.2.0-3.alpha.rpm cannot be installed 
> 
> What to do?

1. Make sure you're using the correct package for your machine (are
you really using a DEC/Compaq Alpha?  Not a i386 PC?)
2. Upgrade RPM (I think there's a version 4 of the file format... ugh)
3. If all else fails, compile it yourself...
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Mon Jan  8 15:49:14 2001
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Mon, 8 Jan 2001 15:49:14 +0100 (CET)
Subject: [R] sparse matrix
In-Reply-To: <Pine.GSO.4.05.10101081136450.14286-100000@toucan.stats>
Message-ID: <Pine.LNX.4.21.0101081535590.6122-100000@atys.fi.muni.cz>

On Mon, 8 Jan 2001, Prof Brian Ripley wrote:

> A matrix in R is a vector plus a dim atttribute.  I presume you mean a
> numeric matrix (there are other types).  Then it needs a 8byte space per
> entry.

Yes. Numeric matrix.

> There are other ways to handle matrices: look at package Matrix, for
> example.
> 
> One obvious representation is to store the non-zero elements and their
> locations.
> 
> Just how large is this matrix, and does it have a pattern to its sparsity?

10000 x 10000 elements and 50 000 x 50 000 elements
There is no pattern of sparsity. Values in matrix means some distance
between words (for 10000 and 5 0000 words). 
98% of elements in matrix are the same (with value 7500)

> And what do you want to do with it?  Doing things with sparse matrices has
> a tendency to make them less sparse.

Hierarchical clustering. Input matrix is distance matrix for hierarchical
clustering with function hclust.   


Thank you 
		 Martin Gotz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Mon Jan  8 16:19:20 2001
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Mon, 8 Jan 2001 16:19:20 +0100 (MET)
Subject: [R] R-1.2.0: gdb doesn't find functions in shared lib
Message-ID: <200101081519.QAA02017@compute2.gmd.de>

I'm trying to debug some C functions I've written for use with R. Until
recently debugging them with gdb was no problem. But since I switched to
R-1.2.0 (from R-1.0.1)  gdb can no longer find the entry points of my
functions. It either pretends to set break points but doesn't stop there or
it only stops at the end of the function.

R version R-1.2.0
gdb version GNU gdb 4.18
gcc version  2.95.2 
Linux version SUSE 7.0


I tried to recompile without the O2 option, but to no avail. I also tried
both R INSTALL <my_lib> and doing R SHLIB <my_file.c> and then manually loading
the .so file.

I would be glad to receive any hints

--  Dr. Joerg Kindermann                        Knowledge Discovery Team
    GMD   - German National Research Center for Information Technology -
    	       phone: +49 02241 142437 fax: +49 02241 142342
			   http://ais.gmd.de/KD/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wtautz at math.uwaterloo.ca  Mon Jan  8 16:21:14 2001
From: wtautz at math.uwaterloo.ca (Walter Tautz)
Date: Mon, 08 Jan 2001 10:21:14 -0500
Subject: [R] can help.start() point to a http:// style url rather than ~/.R/doc etc
Message-ID: <3A59DAEA.179AFC54@math.uwaterloo.ca>

In our situation we sometimes run netscape from a another platform via
ssh and so
the machine netscape is running on may not contain any R software and
consequently
having it look into the users ~/.R will not work. I would like to have
easy way
to specificy a documentation root which is an actual URL. I s there a
place
I can specify in the configuration. Failing that can the source file
./src/library/base/R/unix/help.start.R seems to be relevant as does the
script
lib/R/bin/help.links

-walter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  8 16:23:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 8 Jan 2001 15:23:40 +0000 (GMT)
Subject: [R] sparse matrix
In-Reply-To: <Pine.LNX.4.21.0101081535590.6122-100000@atys.fi.muni.cz>
Message-ID: <Pine.GSO.4.05.10101081522010.14541-100000@toucan.stats>

On Mon, 8 Jan 2001, Martin Gotz wrote:

> On Mon, 8 Jan 2001, Prof Brian Ripley wrote:
> 
> > A matrix in R is a vector plus a dim atttribute.  I presume you mean a
> > numeric matrix (there are other types).  Then it needs a 8byte space per
> > entry.
> 
> Yes. Numeric matrix.
> 
> > There are other ways to handle matrices: look at package Matrix, for
> > example.
> > 
> > One obvious representation is to store the non-zero elements and their
> > locations.
> > 
> > Just how large is this matrix, and does it have a pattern to its sparsity?
> 
> 10000 x 10000 elements and 50 000 x 50 000 elements
> There is no pattern of sparsity. Values in matrix means some distance
> between words (for 10000 and 5 0000 words). 
> 98% of elements in matrix are the same (with value 7500)
> 
> > And what do you want to do with it?  Doing things with sparse matrices has
> > a tendency to make them less sparse.
> 
> Hierarchical clustering. Input matrix is distance matrix for hierarchical
> clustering with function hclust.   

No chance. You need to find an algorithm that does not store the
distance matrix.  I think *any* clustering algorithm on 50 000
elements is going to be pretty pointless, but other low-storage algorithms
do exist.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Jan  8 16:53:06 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Mon, 08 Jan 2001 09:53:06 -0600 (CST)
Subject: [R] Trends for many units
In-Reply-To: <Pine.GSO.4.31.0101052322050.7325-100000@auk.stats>
Message-ID: <XFMail.20010108095306.s-luppescu@uchicago.edu>

On 05-Jan-2001 Prof Brian D Ripley wrote:
> Wouldn't you expect two grades in one school to be more similar than two
> grades in different schools?  And would not slopes for different grades
> in one school be more similar than across schools?  Those translate into
> dependence.

Yes, indeed, but I wasn't anticipating estimating all effects at the same time.
What I have done before with this type of problem in SAS is to estimate
parameters for one unit at a time, and doing the recalculation of the weights
and the iteration manually (in a macro loop), so between unit dependence is not
an issue.

> For an lm-type model you can circumvent this by treating all the
> school-grade combinations as fixed effects.  Thus
> 
> (r)lm(Pct.Excl ~ Unit*Grade*Year)
> 
> (and I would centre Year on 1998) fits 3520 lines with a common assumed
> error variance. That's a lot of parameters to fit in one go, and you will
> probably find lmList in package nlme helpful.  But my suggestion for a
> model is
> 
> i Unit
> j Grade
> t Year
> 
> y_{ijt} = mu + beta_j + gamma * t + eta_i + zeta_{ij} + epsilon_{ijt}
> 
> eta, zeta, epsilon iid with common variances in each group.
> 
> that is fixed effects for Grade, random effects for Unit and Unit | Grade.
> You may or may not need additional random effects
> 
> lambda_i * Year + kappa_{ij} * Year
> 
> As set up here, independence of all the rvs is plausible, but lme does not
> require it.  The predict.lme will give you BLUP lines for each Unit-Grade
> combination, and they will not be the fitted values in the fixed-effects
> model.  Most social statisticians I know (and we have have some local
> stars) think that the second is more valuable, and routinely use it.
> 
> Snijders, T.A.B. and Bosker, R.J. (1999) Multilevel Analysis. Sage.
> 
> have an example of IQ tests adminstered to students in classes in schools
> done in exactly this way.  (And that was the ref the experts recommended
> for social applications.)

Thank you very much for the very valuable help (as always).
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
History tends to exaggerate.
                -- Col. Green, "The Savage Curtain", stardate 5906.4
>> Sent on 08-Jan-2001 at 09:49:27 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Mon Jan  8 17:36:15 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Mon, 8 Jan 2001 09:36:15 -0700
Subject: [R] S Programming Book at Amazon.com
Message-ID: <007201c07991$1e70c660$ad56e43f@91qez>

As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming book by
Venables and Ripley was once again selling for 17.98 American dollars at
Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus" by
Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
opposed to about $70 a little while ago.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Jan  8 20:55:52 2001
From: arnholt at math.appstate.edu (Alan Arnholt)
Date: Mon, 8 Jan 2001 14:55:52 -0500 (EST)
Subject: [R] Problem with MASS data
In-Reply-To: <Pine.LNX.4.21.0101081535590.6122-100000@atys.fi.muni.cz>
Message-ID: <SIMEON.10101081452.A@arnholt.math.appstate.edu>



I have run into a problem accessing data sets in the MASS library.  Not sure why...
I still have R version 1.1 installed on several machines and have no problems.  However,
I installed R version 1.2 on three machines today and could not access data sets in 
the MASS library on any of the machines.  The file directory indicates the data sets
are in the correct location ... but R says:

> library(MASS)
> data(cats)
Warning message: 
Data set `cats' not found in: data(cats) 
  
> data(Boston)
Warning message: 
Data set `Boston' not found in: data(Boston) 

The problem seems to be only with the MASS package.  

> library(boot)
> data(aids)
> aids
    year quarter delay dud time   y
1   1983       3     0   0    1   2
2   1983       3     2   0    1   6
3   1983       3     5   0    1   0

After typing  
data(package="MASS")

the data sets I should be able to access appear....

Data sets in package `MASS':

abbey           nickel in syenite rock
accdeaths       US accidental deaths 1973-8
Aids2           Australian AIDS survival data
Animals         body and brain weights from Rousseeuw & Leroy
anorexia        anorexia data on weight change
austres         quarterly series of the number of Australian residents
beav1           time series of body temperatures of two beavers
....

Have I missed something in the new release?  Any ideas?  

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R     

Thanks in advance

Alan

----------------------
Alan T. Arnholt
Associate Professor
Dept. of Mathematical Sciences
TEL: (828) 262-2863
FAX: (828) 265-8617
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Jan  8 21:20:56 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Mon, 08 Jan 2001 14:20:56 -0600 (CST)
Subject: [R] S Programming Book at Amazon.com
In-Reply-To: <007201c07991$1e70c660$ad56e43f@91qez>
Message-ID: <XFMail.20010108142056.s-luppescu@uchicago.edu>

On 08-Jan-2001 Bill Oliver wrote:
> As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming book by
> Venables and Ripley was once again selling for 17.98 American dollars at
> Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus" by
> Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
> opposed to about $70 a little while ago.

Yeah, but S Programming is out of stock. It's like that old joke:

A woman goes into a produce store and asks the price of broccoli. The clerk
tells her it's 0.89 a pound. She says, ``But down the street it's only 0.49 a
pound.''
``Well, why don't you buy it there?'' the clerk asks.
``They don't have any more in stock,'' she replies.
``Well, when we're out of it, it's 0.49 a pound here, too.''
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
Newman's Discovery:
        Your best dreams may not come true; fortunately, neither will
        your worst dreams.
>> Sent on 08-Jan-2001 at 14:16:48 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  8 21:28:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 8 Jan 2001 20:28:15 +0000 (GMT)
Subject: [R] Problem with MASS data
In-Reply-To: <SIMEON.10101081452.A@arnholt.math.appstate.edu>
Message-ID: <Pine.GSO.4.31.0101082022230.27101-100000@auk.stats>

On Mon, 8 Jan 2001, Alan Arnholt wrote:

>
>
> I have run into a problem accessing data sets in the MASS library.  Not sure why...
> I still have R version 1.1 installed on several machines and have no problems.  However,
> I installed R version 1.2 on three machines today and could not access data sets in
> the MASS library on any of the machines.  The file directory indicates the data sets

The file MASS/data/filedata is corrupt in a version I put up recently.
I will put a revised version up shortly.  To fix this for now,
go to MASS/data, delete filedata and unzip Rdata.zip.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hxue at stat.wvu.edu  Mon Jan  8 23:21:49 2001
From: hxue at stat.wvu.edu (Hengyi Xue)
Date: Mon, 8 Jan 2001 17:21:49 -0500
Subject: [R] Excel-to-R Interface
Message-ID: <000801c079c1$651974b0$5a6fb69d@ideal.wvu.edu>

Hi,

I have some questions about Excel-to-R interface and I hope somebody can help me. Is it possible to call functions in a self-defined package from Excel using the Excel-to-R interface? We created the package successfully and can run all the functions inside R. But when we tried to run them from Excel, we kept running into problems. It seems we can not run anything that is not in the base package. I know that the DCOM server is communicating with R compiled as DLL. Is it possible to compile our self defined package into DLL?

Any help will be appreciated.

Hengyi Xue
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010108/6176989a/attachment.html

From mikem at salter-point.com  Tue Jan  9 00:02:42 2001
From: mikem at salter-point.com (Michael M. Meyer)
Date: Mon, 08 Jan 2001 15:02:42 -0800
Subject: [R] S Programming Book at Amazon.com 
In-Reply-To: Message from s-luppescu@uchicago.edu 
   of "Mon, 08 Jan 2001 14:20:56 CST." <XFMail.20010108142056.s-luppescu@uchicago.edu> 
Message-ID: <200101082302.PAA22459@home.salter-point.com>

It was in stock, this morning.  Some of us even bought a copy :-).

s-luppescu at uchicago.edu said:
> On 08-Jan-2001 Bill Oliver wrote:
> As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming
> book by
> Venables and Ripley was once again selling for 17.98 American dollars
> at
> Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus"
> by
> Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
> opposed to about $70 a little while ago.

> Yeah, but S Programming is out of stock. It's like that old joke:

> A woman goes into a produce store and asks the price of broccoli. The
> clerk tells her it's 0.89 a pound. She says, ``But down the street
> it's only 0.49 a pound.'' ``Well, why don't you buy it there?'' the
> clerk asks. ``They don't have any more in stock,'' she replies.
> ``Well, when we're out of it, it's 0.49 a pound here, too.''
> ________________________________________________________________


Mike Meyer, Salter Point Associates, Seattle WA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 00:24:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 8 Jan 2001 23:24:18 +0000 (GMT)
Subject: [R] Excel-to-R Interface
In-Reply-To: <000801c079c1$651974b0$5a6fb69d@ideal.wvu.edu>
Message-ID: <Pine.GSO.4.31.0101082310160.27530-100000@auk.stats>

On Mon, 8 Jan 2001, Hengyi Xue wrote:

> Hi,
>
> I have some questions about Excel-to-R interface and I hope somebody
can help me. Is it possible to call functions in a self-defined package
from Excel using the Excel-to-R interface? We created the package
successfully and can run all the functions inside R. But when we tried
to run them from Excel, we kept running into problems. It seems
we can not run anything that is not in the base package.
I know that the DCOM server is communicating with R compiled as DLL.
Is it possible to compile our self defined package into DLL?

Is this about Erich Neuwirth's RServer Excel add-in on Windows?
It's not very obvious, and on CRAN that is called an R-Excel Interface.
With addons to R it is often most effective to ask the author direct.

Let me pick up on the last point.  The DCOM server communicates with R,
period.  The base package is not in the DLL, and it is exactly the same R
as used by the GUI and terminal front-ends.  So if you send "library(foo)"
via the DCOM execute method, it works just as if you typed it at the
command line.  It makes no sense (to me) to `compile our self defined
package into DLL': packages are mainly interpreted code.

The extras in the DCOM interface are means to transfer simple R objects to
and fro.  As far as I recall you have access to the full DCOM interface
from RServer via writing VBA.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Tue Jan  9 01:51:22 2001
From: d.scott at auckland.ac.nz (David Scott)
Date: Tue, 9 Jan 2001 13:51:22 +1300 (NZDT)
Subject: [R] S Programming Book at Amazon.com
In-Reply-To: <007201c07991$1e70c660$ad56e43f@91qez>
Message-ID: <Pine.SOL.3.96.1010109134526.9025A-100000@aitken.scitec.auckland.ac.nz>

On Mon, 8 Jan 2001, Bill Oliver wrote:

> As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming book by
> Venables and Ripley was once again selling for 17.98 American dollars at
> Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus" by
> Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
> opposed to about $70 a little while ago.
> 

Very strange stuff. Amazon says S Programming is out of stock at the
publishers and wait for reprinting. The publishers, Springer, say it is in
stock. Also Pinheiro and Bates is listed at US$69.95 at the Springer site.

David Scott
_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdm at xnet.com  Tue Jan  9 02:50:37 2001
From: jdm at xnet.com (Jeff Miller)
Date: Mon, 8 Jan 2001 19:50:37 -0600
Subject: [R] running functions at fixed times
References: <Pine.GSO.4.31.0101082310160.27530-100000@auk.stats>
Message-ID: <006a01c079de$910b2060$cee7fea9@x2t9h6>


   Is there an easy way to automatically run an R function at fixed
intervals of time?

    For example, if I have a file,  mydata.txt, which is updated every
minute or so,
    is there an R or an S function which would execute the command

    mydata <- read.table("mydata.txt")

    each minute?  Basically I just want "mydata" to be constantly updated
without
    my having to bother with it.

    Thanks in advance,

        Jeff Miller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at mcauliffe.com  Tue Jan  9 03:07:35 2001
From: jon at mcauliffe.com (Jon McAuliffe)
Date: Mon, 08 Jan 2001 18:07:35 -0800
Subject: [R] S Programming Book at Amazon.com
References: <Pine.SOL.3.96.1010109134526.9025A-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <3A5A7267.D48E5702@mcauliffe.com>


not really that strange. amazon had some in inventory, all of
which apparently got snapped up this morning at the fire sale
price. apart from that inventory, the best info amazon currently
has is that the publisher is out of stock. if someone makes an
inquiry to amazon customer service, and the publisher is not
actually out of stock, the status will eventually change (though
it'd be surprising if the price stayed at ~$18 after re-ordering
from springer). certainly either springer or amazon is wrong, but
i wouldn't take for granted which one; there's inevitably some
latency in availability data on a website.

i know of at least a couple of people besides me who successfully
ordered the book this morning.

cheers
jon.


David Scott wrote:
> 
> On Mon, 8 Jan 2001, Bill Oliver wrote:
> 
> > As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming book by
> > Venables and Ripley was once again selling for 17.98 American dollars at
> > Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus" by
> > Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
> > opposed to about $70 a little while ago.
> >
> 
> Very strange stuff. Amazon says S Programming is out of stock at the
> publishers and wait for reprinting. The publishers, Springer, say it is in
> stock. Also Pinheiro and Bates is listed at US$69.95 at the Springer site.
> 
> David Scott
> _________________________________________________________________
> David Scott     Department of Statistics
>                 The University of Auckland, PB 92019
>                 Auckland        NEW ZEALAND
> Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018
> Email:  d.scott at Auckland.ac.nz
> 
> President, New Zealand Statistical Association
> Head, Department of Statistics, University of Auckland
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Tue Jan  9 07:25:37 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Tue, 09 Jan 2001 07:25:37 +0100 (CET)
Subject: [R] running functions at fixed times
In-Reply-To: <006a01c079de$910b2060$cee7fea9@x2t9h6>
Message-ID: <XFMail.010109072537.detlef.steuer@unibw-hamburg.de>

Hi!

I can only speak for the Linux/Unix enviroment:

Try 

while(TRUE)
{
system("sleep 60")

mydata <- read.table(...)
}

to update mydata after a 60 second break. 
An alternative is to use "cron" or "at". Both allow the specification
of exact execution times, while the "while" approach tries to imitate
a real time system. 


Have a nice day
Detlef


Detlef Steuer ** Universitt der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de



On 09-Jan-01 Jeff Miller wrote:
> 
>    Is there an easy way to automatically run an R function at fixed
> intervals of time?
> 
>     For example, if I have a file,  mydata.txt, which is updated every
> minute or so,
>     is there an R or an S function which would execute the command
> 
>     mydata <- read.table("mydata.txt")
> 
>     each minute?  Basically I just want "mydata" to be constantly updated
> without
>     my having to bother with it.
> 
>     Thanks in advance,
> 
>         Jeff Miller
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 08:45:23 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Jan 2001 07:45:23 +0000 (GMT)
Subject: [R] running functions at fixed times
In-Reply-To: <XFMail.010109072537.detlef.steuer@unibw-hamburg.de>
Message-ID: <Pine.GSO.4.31.0101090728120.27799-100000@auk.stats>

On Tue, 9 Jan 2001 detlef.steuer at unibw-hamburg.de wrote:

> Hi!
>
> I can only speak for the Linux/Unix enviroment:
>
> Try
>
> while(TRUE)
> {
> system("sleep 60")
>
> mydata <- read.table(...)
> }
>
> to update mydata after a 60 second break.
> An alternative is to use "cron" or "at". Both allow the specification
> of exact execution times, while the "while" approach tries to imitate
> a real time system.
>

There is a Sys.sleep function in R these days.  BUT, under that
approach, the R process does nothing but update its internal copy of
.RData, and I don't think that is useful.  In particular, nothing can ever
be done with mydata, as nothing else can be run.

What I think Jeff Miller wants is for a task to be run in the background of
the R session to update mydata, while he gets on with some work at the
prompt. That's a lot harder. R is single-threaded and does not have
(user-specified timer) events.  Not quite impossible, though, as it does
have an event loop to handle UI events, and one could subvert this by some
C programming.

The difference between Sys.sleep(60.0) and system("sleep 60") is that the
former keeps the event loop ticking over, and that it works across
platforms.

Jeff mentioned S. S version 4 does have events and monitors, but I have
never been sure how much of that is operational in S-PLUS 5/6.x.

> Have a nice day
> Detlef
>
>
> Detlef Steuer ** Universitt der Bw ** 22043 Hamburg
> Tel: (0049) (0)40/6541-2819
> steuer at unibw-hamburg.de
>
>
>
> On 09-Jan-01 Jeff Miller wrote:
> >
> >    Is there an easy way to automatically run an R function at fixed
> > intervals of time?
> >
> >     For example, if I have a file,  mydata.txt, which is updated every
> > minute or so,
> >     is there an R or an S function which would execute the command
> >
> >     mydata <- read.table("mydata.txt")
> >
> >     each minute?  Basically I just want "mydata" to be constantly updated
> > without
> >     my having to bother with it.
> >
> >     Thanks in advance,
> >
> >         Jeff Miller
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hedderich at medinfo.uni-kiel.de  Tue Jan  9 09:44:37 2001
From: hedderich at medinfo.uni-kiel.de (Juergen Hedderich)
Date: Tue, 09 Jan 2001 09:44:37 +0100
Subject: [R] quantile function for noncentral f-distribution
Message-ID: <3A5ACF75.6221C497@medinfo.uni-kiel.de>


hello R-friends,
I'm looking for a quantile function for the noncentral
f-distribution in the area of equivalence hypotheses testing.
Can somebody help me?

Many thanks 

-----------------------------------------------------------------
Dipl. Inform. J. Hedderich              
Institut f?r Medizinische Informatik       Phone : 0431 /
5973182               
und Statistik im Klinikum an der CAU       Fax   : 0431 / 5973193
               
Brunswiker Str.
10                                                          
24105 Kiel                  
E-mail:hedderich at medinfo.uni-kiel.de                                            
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 09:50:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 08:50:13 +0000 (GMT)
Subject: [R] S Programming Book at Amazon.com
In-Reply-To: <Pine.SOL.3.96.1010109134526.9025A-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <Pine.GSO.4.05.10101090842380.15908-100000@toucan.stats>

On Tue, 9 Jan 2001, David Scott wrote:

> On Mon, 8 Jan 2001, Bill Oliver wrote:
> 
> > As of a moment ago (9 a.m., Monday, Jan. 8, 2001), the S Programming book by
> > Venables and Ripley was once again selling for 17.98 American dollars at
> > Amazon.com. Alas, I notice that "Mixed Effects Models in S and S-Plus" by
> > Pinheiro and Bates now lists at Amazon for 97.25 American dollars, as
> > opposed to about $70 a little while ago.
> > 
> 
> Very strange stuff. Amazon says S Programming is out of stock at the
> publishers and wait for reprinting. The publishers, Springer, say it is in
> stock. Also Pinheiro and Bates is listed at US$69.95 at the Springer site.

The authors' understanding is that `S Programming' is in print at
Springer, but is about to reprint.  It would not the the first time
the publisher had it wrong: at least once there were no copies of MASS
in the US and thousands in Germany.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 10:00:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 09:00:00 +0000 (GMT)
Subject: [R] quantile function for noncentral f-distribution
In-Reply-To: <3A5ACF75.6221C497@medinfo.uni-kiel.de>
Message-ID: <Pine.GSO.4.05.10101090850270.15908-100000@toucan.stats>

On Tue, 9 Jan 2001, Juergen Hedderich wrote:

> 
> hello R-friends,
> I'm looking for a quantile function for the noncentral
> f-distribution in the area of equivalence hypotheses testing.
> Can somebody help me?

Since pf has a non-centrality parameter, you can easily invert it.

myqf <- function(p, df1, df2, ncp)
{
uniroot(function(x) pf(x, df1, df2, ncp) - p, , 0, 100)$root
}

adjust 100 to suit (one can surely come up with an useful computed upper
bound if ncp might be large), and add a tol arg to uniroot if you care.


> 
> Many thanks 
> 
> -----------------------------------------------------------------
> Dipl. Inform. J. Hedderich              
> Institut fr Medizinische Informatik       Phone : 0431 /
> 5973182               
> und Statistik im Klinikum an der CAU       Fax   : 0431 / 5973193
>                
> Brunswiker Str.
> 10                                                          
> 24105 Kiel                  
> E-mail:hedderich at medinfo.uni-kiel.de                                            
> -----------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sqmishra at excite.com  Tue Jan  9 13:43:19 2001
From: sqmishra at excite.com (Samir Mishra)
Date: Tue, 9 Jan 2001 04:43:19 -0800 (PST)
Subject: [R] RODBC Bug?
Message-ID: <4557909.979044199514.JavaMail.imail@ringo.excite.com>

I'm not sure if this problem is repeatable or particular to my machine. 

The following works fine -
> odbcConnect("demoteam", uid = "demo", pwd = "demo")

This causes R to crash -
> oracle.info <- list(channel = "demoteam", uid = "demo", pwd = "demo")
> demo.db.connect <- function(ora.info = oracle.info) {
+ 	channel <- odbcConnect(ora.info$channel, uid = ora.info$uid, 
+ 	pwd = ora.info$pwd)
+ 	if(channel == -1) stop("Connection Failure")
+ 	channel
+}
> #R shuts down as soon as I submit the next command
> channel <- demo.db.connect()

Thanks.

Samir Mishra
===========================================
Please send replies to :
sqmishra at acm.org
===========================================





_______________________________________________________
Send a cool gift with your E-Card
http://www.bluemountain.com/giftcenter/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 13:52:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 12:52:06 +0000 (GMT)
Subject: [R] RODBC Bug?
Message-ID: <200101091252.MAA29101@toucan.stats.ox.ac.uk>


> Date: Tue, 9 Jan 2001 04:43:19 -0800 (PST)
> From: Samir Mishra <sqmishra at excite.com>
> 
> I'm not sure if this problem is repeatable or particular to my machine. 
> 
> The following works fine -
> > odbcConnect("demoteam", uid = "demo", pwd = "demo")
> 
> This causes R to crash -
> > oracle.info <- list(channel = "demoteam", uid = "demo", pwd = "demo")
> > demo.db.connect <- function(ora.info = oracle.info) {
> + 	channel <- odbcConnect(ora.info$channel, uid = ora.info$uid, 
> + 	pwd = ora.info$pwd)
> + 	if(channel == -1) stop("Connection Failure")
> + 	channel
> +}
> > #R shuts down as soon as I submit the next command
> > channel <- demo.db.connect()

It's very unlikely that we can debug this for you, especially as you
haven't told us what version you are using of anything.  In particular,
the problem may well be in your ODBC client library and not in R.

RODBC works well for me on both Windows and Linux, but I don't use
Oracle.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Tue Jan  9 14:02:27 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Tue, 09 Jan 2001 14:02:27 +0100
Subject: [R] Is there a function similar to identify() but for image() plots?
Message-ID: <3A5B0BE3.F95F2DE4@molgen.mpg.de>

Hi!
Sombody knows a function similar to identify for image() plots??
THX
Eryk
--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sqmishra at excite.com  Tue Jan  9 14:33:35 2001
From: sqmishra at excite.com (Samir Mishra)
Date: Tue, 9 Jan 2001 05:33:35 -0800 (PST)
Subject: [R] RODBC Bug?
Message-ID: <4734175.979047215129.JavaMail.imail@ringo.excite.com>

My last message did not provide all the relevant information, sorry about
the oversight. I'll start again...

I'm not sure if this problem is repeatable or particular to my machine. 

The following works fine -
> odbcConnect("demoteam", uid = "demo", pwd = "demo")

This also works as expected -
> demo.db.connect <- function(channel = "demoteam", uid = "demo", 
+ pwd = "demo") {
+ 	channel <- odbcConnect(channel = channel, uid = uid, pwd = pwd)
+ 	if(channel == -1) stop("Connection Failure")
+	channel
+}
> channel <- demo.db.connect()


This causes R to crash -
> oracle.info <- list(channel = "demoteam", uid = "demo", pwd = "demo")
> demo.db.connect <- function(ora.info = oracle.info) {
+ 	channel <- odbcConnect(ora.info$channel, uid = ora.info$uid, 
+ 		pwd = ora.info$pwd)
+ 	if(channel == -1) stop("Connection Failure")
+	channel
+}
> #R shuts down as soon as I submit the next command
> channel <- demo.db.connect()



Version Info - 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15             
language R              

Platform - WinNT
ODBC Driver  - Oracle ODBC Driver Ver. 8.01.05.00 (02/02/99)

I've worked around the problem so this is not an issue, but I was curious to
know if anyione else had experienced similar problems. Also, I was curious
to know if there were any other issues I ought to be aware of, just so I can
save some time later.

Thanks.

SM





Samir Mishra
===========================================
Please send replies to :
sqmishra at acm.org
===========================================





_______________________________________________________
Send a cool gift with your E-Card
http://www.bluemountain.com/giftcenter/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 14:38:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 13:38:45 +0000 (GMT)
Subject: [R] RODBC Bug?
Message-ID: <200101091338.NAA29736@toucan.stats.ox.ac.uk>


> Date: Tue, 9 Jan 2001 05:33:35 -0800 (PST)
> From: Samir Mishra <sqmishra at excite.com>

[...]

> Platform - WinNT
> ODBC Driver  - Oracle ODBC Driver Ver. 8.01.05.00 (02/02/99)
> 
> I've worked around the problem so this is not an issue, but I was curious to
> know if anyione else had experienced similar problems. Also, I was curious
> to know if there were any other issues I ought to be aware of, just so I can
> save some time later.

How about saving R-help's readers' time instead, even though you
value it much below your own?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fberchtold at mail.bip.net  Tue Jan  9 15:11:25 2001
From: fberchtold at mail.bip.net (Fredrik Berchtold)
Date: Tue, 9 Jan 2001 15:11:25 +0100
Subject: [R] Fuzzy Logic and Rough Set
Message-ID: <LPBBKAOHICHGIHDHGMBAEEHACDAA.fberchtold@mail.bip.net>

Hi all,
Any plans for implementation of Fuzzy Logic and Rough Set in R?
Regards,
/fb
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Jan  9 15:35:26 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 9 Jan 2001 09:35:26 -0500 (EST)
Subject: [R] running functions at fixed times
In-Reply-To: <006a01c079de$910b2060$cee7fea9@x2t9h6>
Message-ID: <Pine.SGI.3.96.1010109093347.525064A-100000@ln.nimh.nih.gov>


I haven't gotten around to trying this, but there's a perl script called
"atchange" available at www.lecb.ncifcrf.gov/~toms/atchange.html that
apparently monitors a file and runs some instructions when the file
changes.

It might do what you want.

Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Jan  9 17:32:46 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 9 Jan 2001 16:32:46 +0000 (GMT)
Subject: [R] log(0) problem in max likelihood estimation
Message-ID: <Pine.LNX.4.10.10101091624380.3549-100000@localhost.localdomain>

This practical problem in maximum likelihood estimation must be
encountered quite a bit. What do you do when a data point has a
probability that comes out in numerical evaluation to zero? In calculating
the log likelihood you then have a log(0) problem.

Here is a simple example (probit) which illustrates the problem:

x<-c(1,2,3,4,100)
ntrials<-100
yes<-round(ntrials*pnorm((x-3)/1)) #points fall on normal CDF mean=3, sd=1
no<-ntrials-yes
pyes<-yes/ntrials
py<-function(b,x) pnorm((x-b[1])/b[2])
loglike<-function(b) -sum( yes*log(py(b,x)) + no*log(1-py(b,x)) )
out<-nlm(loglike,p=c(3,1),hessian=TRUE)

In this example the right-most point gives a p(yes) of 1; 1-1=0; log(0)
gives "NA/Inf replaced by maximum positive value"

Please tell me how to deal with this problem.  Thanks very much for any
help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue Jan  9 17:36:27 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 9 Jan 2001 17:36:27 +0100 
Subject: [R] Intentional behaviour of par()$usr?
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E91E@exdkba03.novo.dk>

I had some trouble getting some text in the right place on a 
plot with logartimic y-axis, until I discovered:

> plot(NA, xlim=1:2, ylim=c(5,500), log="y")
> par()$usr
[1] 0.96000 2.04000 0.61897 2.77897
> 10^(par()$usr[3:4])
[1]   4.158819 601.132217

Is this a bug or a facility? 
It is not mentioned under par -> usr in the manual.

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Tue Jan  9 17:38:28 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Tue, 9 Jan 2001 23:38:28 +0700
Subject: [R] Spot price of S Programming Book
References: <Pine.GSO.4.05.10101090842380.15908-100000@toucan.stats>
Message-ID: <00f601c07a5a$99a3fb80$61d994cb@andrew8gpipq9q>

Hello All:

I will suggest the Wall Street Journal carry on its front page below quotes
for West Texas Crude and DRAM, the latest spot market quote for Ripley and
Venable's "S Programming". The Chicago Mercantile Exchange may be interested
in setting up a futures pit for trading contracts in "S-Programming",
options and other exotic derivative products could then quickly blossom.

Best wishes,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Tue Jan  9 17:52:36 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Tue, 9 Jan 2001 17:52:36 +0100
Subject: [R] How to start R in a directory with the right mouse button (Windows)
Message-ID: <NBBBIJMBGLHMKHGCPFJKKEPFCFAA.dieter.menne@menne-biomed.de>

To start R from the Windows Explorer in a given
directory, prepare and possibly modify the following
script, calling it RunRHere.reg (only part withing ---)

------------------------------------------
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\shell\Run R]

[HKEY_CLASSES_ROOT\Directory\shell\Run R\command]
@="\"C:\\Program Files\\rw1021\\bin\\Rgui.exe\""
------------------------------------------------

Double click this script.
Use the right mouse button on a directory of your choice
and select "Run R"

This Reg-file was tested with Windows 2000. You may have
to adapt it to your version of Windows. Don't forget the
double quotes and the double \\

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 17:57:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 16:57:19 +0000 (GMT)
Subject: [R] log(0) problem in max likelihood estimation
In-Reply-To: <Pine.LNX.4.10.10101091624380.3549-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.31.0101091648170.6910-100000@toucan.stats>

On Tue, 9 Jan 2001, Bill Simpson wrote:

> This practical problem in maximum likelihood estimation must be
> encountered quite a bit. What do you do when a data point has a
> probability that comes out in numerical evaluation to zero? In calculating
> the log likelihood you then have a log(0) problem.
>
> Here is a simple example (probit) which illustrates the problem:
>
> x<-c(1,2,3,4,100)
> ntrials<-100
> yes<-round(ntrials*pnorm((x-3)/1)) #points fall on normal CDF mean=3, sd=1
> no<-ntrials-yes
> pyes<-yes/ntrials
> py<-function(b,x) pnorm((x-b[1])/b[2])
> loglike<-function(b) -sum( yes*log(py(b,x)) + no*log(1-py(b,x)) )
> out<-nlm(loglike,p=c(3,1),hessian=TRUE)
>
> In this example the right-most point gives a p(yes) of 1; 1-1=0; log(0)
> gives "NA/Inf replaced by maximum positive value"
>
> Please tell me how to deal with this problem.  Thanks very much for any
> help.

Calculate your log-likelihood correctly!   0*log(0) is 0, not NaN.
It is an example of good S programming on page 94 of V&R3.

More generally, I think you should be using the full 5-arg form of pnorm,
since

pnorm(x, 3, 1, FALSE, TRUE)

is a lot more accurate than your calculation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Tue Jan  9 18:17:46 2001
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Tue, 09 Jan 2001 17:17:46 +0000
Subject: [R] Is there a function similar to identify() but for image()
 plots?
In-Reply-To: <3A5B0BE3.F95F2DE4@molgen.mpg.de>
Message-ID: <3.0.1.32.20010109171746.00763918@pop3.ucd.ie>

try:
x_ matrix(rnorm(100),10)
image(1:10,1:10,x)
identify(row(x),col(x))


At 02:02 PM 1/9/01 +0100, you wrote:
>Hi!
>Sombody knows a function similar to identify for image() plots??
>THX
>Eryk
>--
>Witold Eryk Wolski
>Max Plank Institut fuer Molekulare Genetik
>Ihnestr73 14195 Berlin
>Germany
>tel.:
>Work 0049-30-84131426
>http://www.molgen.mpg.de/~wolski
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Tue Jan  9 18:44:16 2001
From: a.salim at ucc.ie (Agus Salim)
Date: Tue, 09 Jan 2001 17:44:16 +0000
Subject: [R] problem with Rcmd check
In-Reply-To: <Pine.GSO.4.05.10101090850270.15908-100000@toucan.stats>
References: <3A5ACF75.6221C497@medinfo.uni-kiel.de>
Message-ID: <3.0.1.32.20010109174416.006f7c6c@bureau.ucc.ie>

Hi R-users!

I'm building R package using R 1.2.0 for windows. To check
the completeness of the program I used the following command:

from c:/rw1020/rw1020
cd src/library
Rcmd check meanscore

(# `meanscore' is the name of a subdirectory contains the package.)

However, I got the following error message (see the last line)

* using log directory C:/rw1020/rw1020/src/meanscore.Rcheck
* checking for file `library/meanscore/DESCRIPTION' ... OK
* checking package directory ... OK
* checking DESCRIPTION Package entry ... OK
* checking DESCRIPTION Version entry ... OK
* checking DESCRIPTION Title entry ... OK
* checking DESCRIPTION License entry ... OK
* checking DESCRIPTION Author entry ... OK
* checking Rd files ... OK
* checking for undocumented objects ... OK
* creating meanscore-Ex.R ... ERROR

But when I'm using the primitive command `make pkgcheck'
from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
is successfully created and the output is correct.

I've already checked the AUTOEXEC file and all the required paths 
are there. I'm using Perl 5.6.0 build 623 on windows 98 OS. 

The set of rtools I'm using is the one from
http://www.stats.ox.ac.uk/pub/Rtools/tools.zip
(downloaded 09/01/01). And I don't have C/Fortran codes in the package.

Is this something to do with the `check' perlscript at R_HOME/bin
or do I need to edit the Mkrules file?

Any suggestion will be very appreciated,


Agus
------------------------
Agus Salim
PhD student
Dept. of Statistics
University College Cork,
Ireland
Tel: 353-21-4902197
------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Tue Jan  9 18:55:14 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Tue, 09 Jan 2001 18:55:14 +0100
Subject: [R] R installation problems...
Message-ID: <3A5B5082.306BA9D@Kuonen.com>

Dear all

I already posted this problem to r-help in mid-decembre; see

  http://www.r-project.org/nocvs/mail/r-help/2000/3876.html

But, up to now it did not manage to get R properly working.

I reinstalled R-1.0.0, R-1.1.1 and R-1.2.0 from scratch, and 
always run into the same error message:

  ...
  [Previously saved workspace restored]

  now dyn.load(/usr/R/lib/R/library/ctest/libs/ctest.so)..
  >R_ReplConsole(): before "for(;;)" {main.c}
  Segmentation fault (core dumped)

Note that within each directory (i.e. /usr/R-1.0.0, /usr/R-1.1.1 
or /usr/R-1.2.0) I did the following commands:

   $ ./configure --with-f2c --prefix=/usr/R 
   $ make 

and R was configured with

  Source directory:          .
  Installation directory:    /usr/R
  C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
  C++ compiler:              c++  -mieee-fp -g -O2
  FORTRAN compiler:          f2c 
  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  R profiling support:       yes
  R as a shared library:     no
 
Before each call of "make install", I cleaned the "/usr/R" directory. 
Each time I used the command

  $ /usr/R/bin/R

I even tried to install the RPMS and SRPMS, but I always get the same
error message :-(

There's sth. strange going on and I would appreciate any help.

Greets

  Diego

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  9 19:26:16 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2001 19:26:16 +0100
Subject: [R] problem with Rcmd check
In-Reply-To: Agus Salim's message of "Tue, 09 Jan 2001 17:44:16 +0000"
References: <3A5ACF75.6221C497@medinfo.uni-kiel.de> <3.0.1.32.20010109174416.006f7c6c@bureau.ucc.ie>
Message-ID: <x23desinuf.fsf@blueberry.kubism.ku.dk>

Agus Salim <a.salim at ucc.ie> writes:

> * creating meanscore-Ex.R ... ERROR
> 
> But when I'm using the primitive command `make pkgcheck'
> from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
> is successfully created and the output is correct.

I think the thing to do at this point is to run something like

rterm.exe --vanilla < meanscore-Ex.R

(except that one or both of rterm.exe and meanscore.R probably need to
have a full path). Then watch the output and see where the error
comes from.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Jan 11 02:30:12 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 10 Jan 2001 20:30:12 -0500 (EST)
Subject: [R] log(0) problem in max likelihood estimation
In-Reply-To: <Pine.LNX.4.10.10101091624380.3549-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.30.0101102025560.9987-100000@bolker.zoo.ufl.edu>


  You can use the "log" and "lower.tail" options to get around these
numeric difficulties; essentially, "log" returns the log-probability
calculation directly from pnorm().
  You're right that this is a fairly standard problem in maximizing
likelihoods.

py<-function(b,x,...) pnorm((x-b[1])/b[2],log=TRUE,...)
loglike<-function(b) -sum( yes*py(b,x) + no*py(b,x,lower.tail=FALSE))
out<-nlm(loglike,p=c(3,1),hessian=TRUE)



On Tue, 9 Jan 2001, Bill Simpson wrote:

> This practical problem in maximum likelihood estimation must be
> encountered quite a bit. What do you do when a data point has a
> probability that comes out in numerical evaluation to zero? In calculating
> the log likelihood you then have a log(0) problem.
>
> Here is a simple example (probit) which illustrates the problem:
>
> x<-c(1,2,3,4,100)
> ntrials<-100
> yes<-round(ntrials*pnorm((x-3)/1)) #points fall on normal CDF mean=3, sd=1
> no<-ntrials-yes
> pyes<-yes/ntrials
> py<-function(b,x) pnorm((x-b[1])/b[2])
> loglike<-function(b) -sum( yes*log(py(b,x)) + no*log(1-py(b,x)) )
> out<-nlm(loglike,p=c(3,1),hessian=TRUE)
>
> In this example the right-most point gives a p(yes) of 1; 1-1=0; log(0)
> gives "NA/Inf replaced by maximum positive value"
>
> Please tell me how to deal with this problem.  Thanks very much for any
> help.
>
> Bill Simpson
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 19:27:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Jan 2001 18:27:28 +0000 (GMT)
Subject: [R] problem with Rcmd check
In-Reply-To: <x23desinuf.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.31.0101091821550.10815-100000@auk.stats>

On 9 Jan 2001, Peter Dalgaard BSA wrote:

> Agus Salim <a.salim at ucc.ie> writes:
>
> > * creating meanscore-Ex.R ... ERROR
> >
> > But when I'm using the primitive command `make pkgcheck'
> > from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
> > is successfully created and the output is correct.
>
> I think the thing to do at this point is to run something like
>
> rterm.exe --vanilla < meanscore-Ex.R
>
> (except that one or both of rterm.exe and meanscore.R probably need to
> have a full path). Then watch the output and see where the error
> comes from.

The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
what he asked me privately a while ago.  I have no idea, and him to debug
the perl on his system.  I got no reply!  The error would appear
to be from Rcmd massage-Examples.sh.

I have used this literally hundreds of times and never seen this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  9 19:38:42 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2001 19:38:42 +0100
Subject: [R] R installation problems...
In-Reply-To: Diego Kuonen's message of "Tue, 09 Jan 2001 18:55:14 +0100"
References: <3A5B5082.306BA9D@Kuonen.com>
Message-ID: <x2zoh0h8p8.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego at kuonen.com> writes:

> Dear all
> 
> I already posted this problem to r-help in mid-decembre; see
> 
>   http://www.r-project.org/nocvs/mail/r-help/2000/3876.html
> 
> But, up to now it did not manage to get R properly working.
...
> I even tried to install the RPMS and SRPMS, but I always get the same
> error message :-(
> 
> There's sth. strange going on and I would appreciate any help.

Is this still RedHat 6.0? Have you considered an upgrade?
I wouldn't be too surprised if e.g. glibc had an error affecting dynamic
loading in that particular version.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Tue Jan  9 19:38:18 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Tue, 09 Jan 2001 19:38:18 +0100
Subject: [R] R installation problems...
References: <3A5B5082.306BA9D@Kuonen.com> <x2zoh0h8p8.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A5B5A9A.B615A12D@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> Is this still RedHat 6.0? Have you considered an upgrade?

Most packages are upgraded on a regular basis (incl. kernel), and
so the term "RedHat 6.0" may be vague on my PC. For instance the 
version of gcc is 2.7.2.3, GNU ld is version 2.9.1, and glibc is
version 2.1.3.

> I wouldn't be too surprised if e.g. glibc had an error affecting 
> dynamic loading in that particular version.

But, how comes that I always worked before, i.e. with releases
smaller than 1.0.0 and even with 1.0.0 it worked some time ago.

Greets + thanks for your help.

  Diego 

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  9 19:51:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2001 19:51:53 +0100
Subject: [R] problem with Rcmd check
In-Reply-To: Prof Brian D Ripley's message of "Tue, 9 Jan 2001 18:27:28 +0000 (GMT)"
References: <Pine.GSO.4.31.0101091821550.10815-100000@auk.stats>
Message-ID: <x2wvc4h83a.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On 9 Jan 2001, Peter Dalgaard BSA wrote:
> 
> > Agus Salim <a.salim at ucc.ie> writes:
> >
> > > * creating meanscore-Ex.R ... ERROR
        ^^^^^^^^

> > > But when I'm using the primitive command `make pkgcheck'
> > > from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
> > > is successfully created and the output is correct.
> >
> > I think the thing to do at this point is to run something like
> >
> > rterm.exe --vanilla < meanscore-Ex.R
> >
> > (except that one or both of rterm.exe and meanscore.R probably need to
> > have a full path). Then watch the output and see where the error
> > comes from.
> 
> The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
> what he asked me privately a while ago.  I have no idea, and him to debug
> the perl on his system.  I got no reply!  The error would appear
> to be from Rcmd massage-Examples.sh.

Argh! Sorry. But the strategy persists: Try doing the relevant steps
manually and get more clues, either in the form of error messages or
in pinpointing which spot in the input files triggers the error.

A "set -x" inserted near the beginning of the massage-Examples script
might be helpful (um, this is Bash, right?).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at deimos.tc.uaslp.mx  Tue Jan  9 12:54:19 2001
From: mandevip at deimos.tc.uaslp.mx (Peter B. Mandeville)
Date: Tue, 09 Jan 2001 12:54:19
Subject: [R] Chambers and Hastie Data Sets
Message-ID: <3.0.5.16.20010109125419.2e57b59a@deimos.tc.uaslp.mx>

Is there any place where the Chambers and Hastie 1993 Statistical Models in
S data sets can be found?

Thank you very much.

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 20:38:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Jan 2001 19:38:52 +0000 (GMT)
Subject: [R] Chambers and Hastie Data Sets
In-Reply-To: <3.0.5.16.20010109125419.2e57b59a@deimos.tc.uaslp.mx>
Message-ID: <Pine.GSO.4.31.0101091933220.14077-100000@auk.stats>

On Tue, 9 Jan 2001, Peter B. Mandeville wrote:

> Is there any place where the Chambers and Hastie 1993 Statistical Models in
> S data sets can be found?

(1992 on my copy, although it was published in 1991 and received by me on
1991-11-28.  Is there a 1993 revision?)

In S-PLUS (they are part of the S tape on which S-PLUS 3.x was based, as
far as I know)?  If you had specific ones in mind we may be able tell you
about alternative sources: ethanol is at Jeff Simonoff's book's site, for
example, one or two are in packages rpart ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at borasky-research.com  Tue Jan  9 21:47:03 2001
From: znmeb at borasky-research.com (znmeb@borasky-research.com)
Date: Tue, 9 Jan 2001 12:47:03 -0800 (PST)
Subject: [R] Sad story with happy ending
In-Reply-To: <3A5B5082.306BA9D@Kuonen.com>
Message-ID: <Pine.GSO.4.10.10101091235080.28665-100000@user2.teleport.com>

Sequence of events:

1. I loaded a two-processor Pentium Pro system with Red Hat Linux 7.0. I
loaded *everything*.

2. I downloaded R-base-1.1.1-3.i386.rpm from the CRAN archive and
installed it with no problems.

3. Then I spotted R-base-1.2.0-2.i386.rpm and downloaded it. It
installed fine, but when I tried to execute the "demo("graphics")"
command it gave some errors.

4. Then I downloaded R-base-1.2.0-3.src.rpm and tried to build it. The
build job blew up.

5. Finally, I downloaded the latest gcc (2.96-69) and latest glibc (2.2-9)
from Red Hat and installed them.

6. Now the R-base-1.2.0-3.src.rpm builds successfully, and the resulting
R-base-1.2.0-3.i386.rpm installs and the 'demo("graphics")' runs to
completion.
--
znmeb at teleport.com (M. Edward Borasky) http://www.borasky-research.com

How to Stop A Folksinger Cold # 3
"If you miss the train I'm on..."
Tough.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Jan  9 21:52:58 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 09 Jan 2001 15:52:58 -0500
Subject: [R] problem with Rcmd check
In-Reply-To: <Pine.GSO.4.31.0101091821550.10815-100000@auk.stats>
References: <Pine.GSO.4.31.0101091821550.10815-100000@auk.stats>
Message-ID: <3a60783f.18876789@fisher.stats.uwo.ca>

On Tue, 9 Jan 2001 18:27:28 +0000 (GMT), Prof Brian D Ripley
<ripley at stats.ox.ac.uk> wrote in message
<Pine.GSO.4.31.0101091821550.10815-100000 at auk.stats>:

>The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
>what he asked me privately a while ago.  I have no idea, and him to debug
>the perl on his system.  I got no reply!  The error would appear
>to be from Rcmd massage-Examples.sh.
>
>I have used this literally hundreds of times and never seen this.

I get the same error with "Rcmd CHECK", and not with "make pkgcheck".
How do I debug the perl?.  Is there a "verbose" option that would help
narrow down where the error is happening? 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 21:55:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Jan 2001 20:55:12 +0000 (GMT Standard Time)
Subject: [R] problem with Rcmd check
In-Reply-To: <3a60783f.18876789@fisher.stats.uwo.ca>
Message-ID: <Pine.WNT.4.31.0101092054040.264-100000@tern.stats>

On Tue, 9 Jan 2001, Duncan Murdoch wrote:

> On Tue, 9 Jan 2001 18:27:28 +0000 (GMT), Prof Brian D Ripley
> <ripley at stats.ox.ac.uk> wrote in message
> <Pine.GSO.4.31.0101091821550.10815-100000 at auk.stats>:
>
> >The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
> >what he asked me privately a while ago.  I have no idea, and him to debug
> >the perl on his system.  I got no reply!  The error would appear
> >to be from Rcmd massage-Examples.sh.
> >
> >I have used this literally hundreds of times and never seen this.
>
> I get the same error with "Rcmd CHECK", and not with "make pkgcheck".
> How do I debug the perl?.  Is there a "verbose" option that would help
> narrow down where the error is happening?

No. You need to add some print statements. It's interpreted code.
However, the log statements give a pretty good idea of progress.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Tue Jan  9 22:44:19 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Tue, 9 Jan 2001 22:44:19 +0100 (CET)
Subject: [R] Setting fontsize in dev.copy2eps
Message-ID: <Pine.LNX.4.21.0101092203190.693-100000@kleigh.nl>


I have a figure on screen with a legend. I want to copy this
image to EPS, and use:

    dev.copy2eps(file="file1.eps", width=5, height=5) 

The legend that looks OK on screen doesn't look OK in the
PostScript image: the text extends out of the box.

I try adding a fontsize command:

    dev.copy2eps(file="file1.eps", width=5, height=5, pointsize=5)

This options seems to get ignored.

I try setting cex to a smaller value, replotting the figure, and
copying the result to EPS. Result: the font is smaller, but so
is the text. Legend text still expands outside the legend box.
    
All works well if I leave out the width and height arguments to
dev.copy2eps. But then, the figure gets too large, and scaling
down the figure to a reasonable size when including the figure
in a document, things like linewidth become to small.

The only way out of this as I see it (apart from not using
dev.copy2eps) is to enlarge all objects like linewidths,
fontsizes, etc. So, when the figure is scaled down (when
including it in a document, leaving it at its default size at
the moment of saving with dev.copy2eps), the linewidths and
fontsize come out OK. This seems a bit drastic. Is it even 
possible to resize all elements? For instance, can I enlarge
dashpatterns? Is there an easier solution?

So, these are my problems:

1. I can't seem to set the fontsize with dev.copy2eps
2. I don't really want to set the fontsize with
   dev.copy2eps. The fontsize is OK. The legend box is too
   small.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  9 22:59:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 21:59:11 +0000 (GMT)
Subject: [R] Setting fontsize in dev.copy2eps
In-Reply-To: <Pine.LNX.4.21.0101092203190.693-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.31.0101092151350.7456-100000@toucan.stats>

On Tue, 9 Jan 2001, Peter Kleiweg wrote:

>
> I have a figure on screen with a legend. I want to copy this
> image to EPS, and use:
>
>     dev.copy2eps(file="file1.eps", width=5, height=5)
>
> The legend that looks OK on screen doesn't look OK in the
> PostScript image: the text extends out of the box.
>
> I try adding a fontsize command:
>
>     dev.copy2eps(file="file1.eps", width=5, height=5, pointsize=5)
>
> This options seems to get ignored.
>
> I try setting cex to a smaller value, replotting the figure, and
> copying the result to EPS. Result: the font is smaller, but so
> is the text. Legend text still expands outside the legend box.
>
> All works well if I leave out the width and height arguments to
> dev.copy2eps. But then, the figure gets too large, and scaling
> down the figure to a reasonable size when including the figure
> in a document, things like linewidth become to small.
>
> The only way out of this as I see it (apart from not using
> dev.copy2eps) is to enlarge all objects like linewidths,
> fontsizes, etc. So, when the figure is scaled down (when
> including it in a document, leaving it at its default size at
> the moment of saving with dev.copy2eps), the linewidths and
> fontsize come out OK. This seems a bit drastic. Is it even
> possible to resize all elements? For instance, can I enlarge
> dashpatterns? Is there an easier solution?

Just plotting on a postscript() device?  The issue here is that dev.copy
copies the display list, and that has been done with a particular
pointsize.  It's a convenience, only.  You can set the pointsize, but it
does nothing when re-plotting, as I understand it.

> So, these are my problems:
>
> 1. I can't seem to set the fontsize with dev.copy2eps
> 2. I don't really want to set the fontsize with
>    dev.copy2eps. The fontsize is OK. The legend box is too
>    small.

That's a font metric mismatch, I think.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From quesadaj at psych.colorado.edu  Tue Jan  9 23:42:30 2001
From: quesadaj at psych.colorado.edu (Jose Quesada)
Date: Tue, 09 Jan 2001 15:42:30 -0700
Subject: [R] PAM clustering (using triangular matrix)
Message-ID: <3A5B93D6.B0712E63@psych.colorado.edu>

Hi,

I'm trying to use a similarity matrix (triangular) as input for pam() or
fanny() clustering algorithms.
The problem is that this algorithms can only accept a dissimilarity
matrix, normally generated by daisy().

However, daisy only accept 'data matrix or dataframe. Dissimilarities
will be computed between the rows of x'.
Is there any way to say to that your data are already a similarity
matrix (triangular)?
In Kaufman and Rousseeuw's FORTRAN implementation (1990), they showed an
option like this one:

"Maybe you already have correlations coefficients between variables.
Your input data constist on a lower triangular matrix of pairwise
correlations. You wish to calculate dissimilarities between the
variables."

But I couldn't find this alternative in the R implementation.

I can not use foo <- as.dist(foo), neither daisy(foo...) because
"Dissimilarities will be computed between the rows of x", and this is
not
what I mean.

You can easily transform your similarities into dissimilarities like
this (also recommended in Kaufman and Rousseeuw ,1990):

foo <- (1 - abs(foo)) # where foo are similarities

But then pam() will complain like this:

" x is not of class dissimilarity and can not be converted to this
class."

Can anyone help me? I also appreciate any advice about other clustering
algorithms that can accept this type of input.

Thanks a lot in advance,

Jose Quesada

Dept. of Experimental Psychology,
University of Granada, Spain.

Visitor researcher at the
institute of cognitive science
University of Colorado, Boulder, Us.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: quesadaj.vcf
Type: text/x-vcard
Size: 501 bytes
Desc: Card for Jose Quesada
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010109/a0e0927e/quesadaj.vcf

From quesadaj at psych.colorado.edu  Tue Jan  9 23:53:36 2001
From: quesadaj at psych.colorado.edu (Jose Quesada)
Date: Tue, 09 Jan 2001 15:53:36 -0700
Subject: [R] PAM clustering (using triangular matrix)
Message-ID: <3A5B9670.40599BC@psych.colorado.edu>

Hi,

I'm trying to use a similarity matrix (triangular) as input for pam() or

fanny() clustering algorithms.
The problem is that this algorithms can only accept a dissimilarity
matrix, normally generated by daisy().

However, daisy only accept 'data matrix or dataframe. Dissimilarities
will be computed between the rows of x'.
Is there any way to say to that your data are already a similarity
matrix (triangular)?
In Kaufman and Rousseeuw's FORTRAN implementation (1990), they showed an

option like this one:

"Maybe you already have correlations coefficients between variables.
Your input data constist on a lower triangular matrix of pairwise
correlations. You wish to calculate dissimilarities between the
variables."

But I couldn't find this alternative in the R implementation.

I can not use foo <- as.dist(foo), neither daisy(foo...) because
"Dissimilarities will be computed between the rows of x", and this is
not
what I mean.

You can easily transform your similarities into dissimilarities like
this (also recommended in Kaufman and Rousseeuw ,1990):

foo <- (1 - abs(foo)) # where foo are similarities

But then pam() will complain like this:

" x is not of class dissimilarity and can not be converted to this
class."

Can anyone help me? I also appreciate any advice about other clustering
algorithms that can accept this type of input.

Thanks a lot in advance,

Jose Quesada

Dept. of Experimental Psychology,
University of Granada, Spain.

Visitor researcher at the
institute of cognitive science
University of Colorado, Boulder, Us.





  visitor researcher
  Institute of Cognitive Science
  University of Colorado (Boulder)
                                         <quesadaj at psych.colorado.edu>
  Muenzinger psychology building Campus Box 344
  Univeristy of colorado at Boulder Boulder, CO
  80309-0344 http://geneura.ugr.es/~jose
  http://lsa.colorado.edu/~quesadaj
                                         Home: 303 545 2082
                                         Work: 303 492 4574













-------------- next part --------------
A non-text attachment was scrubbed...
Name: quesadaj.vcf
Type: text/x-vcard
Size: 501 bytes
Desc: Card for Jose Quesada
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010109/987feb25/quesadaj.vcf

From ripley at stats.ox.ac.uk  Wed Jan 10 00:37:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Jan 2001 23:37:14 +0000 (GMT)
Subject: [R] Setting fontsize in dev.copy2eps
In-Reply-To: <Pine.GSO.4.31.0101092151350.7456-100000@toucan.stats>
Message-ID: <Pine.GSO.4.31.0101092325560.7609-100000@toucan.stats>

On Tue, 9 Jan 2001, Prof Brian Ripley wrote:

> Just plotting on a postscript() device?  The issue here is that dev.copy
> copies the display list, and that has been done with a particular
> pointsize.  It's a convenience, only.  You can set the pointsize, but it
> does nothing when re-plotting, as I understand it.
>
> > So, these are my problems:
> >
> > 1. I can't seem to set the fontsize with dev.copy2eps
> > 2. I don't really want to set the fontsize with
> >    dev.copy2eps. The fontsize is OK. The legend box is too
> >    small.
>
> That's a font metric mismatch, I think.

That's sometimes the problem (font metrics do differ by device
surprisingly much), but the basic problem is in legend. That computes the
text width and height and converts them to user coordinates, those in use
at the time legend() is run. Try resizing a plot with a legend on (as Ross
says he likes to do to fine-tune the layout). The text stays of fixed size
but the box changes size.

I think you do need to draw on a device at the target size to work around
this. That is what I have always done: reuse the plotting commands on a
postscript device, suitably tuned.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jan 10 04:31:21 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Wed, 10 Jan 2001 16:31:21 +1300
Subject: [R] Auto Demonstration...
Message-ID: <002301c07ab5$cda84480$637e37d2@kokangwang>

Dear List,

Suppose I want to do a demonstration with R, which I will be showing a couple of different graphs (e.g. demo(graphics) ).  However I want R to run through each graphics automatically.  I can achieve this by changing the line in demo(graphics):
    opar <- par(ask = interactive() &&
            (.Device %in% c("X11", "GTK", "windows", "Macintosh")))
to
    opar <- par(ask = FALSE &&
            (.Device %in% c("X11", "GTK", "windows", "Macintosh")))

However, I am not sure how I can delay the speed of changing between graphs.  In other words, as soon as R finish painting one graph, it will start painting the next one immediately.  What can I do to make R wait for, say 5 seconds, before it start painting the next graph?

Thanks a lot,

Ko-Kang Wang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010110/1e6d9e6b/attachment.html

From cyg at sympatico.ca  Wed Jan 10 06:00:28 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 10 Jan 2001 00:00:28 -0500
Subject: [R] Auto Demonstration...
In-Reply-To: <002301c07ab5$cda84480$637e37d2@kokangwang>
Message-ID: <NEBBJKDJHEFCOOLFFAKKEEFFCAAA.cyg@sympatico.ca>

You could use Sys.sleep(5) between each of your plots.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Ko-Kang at xtra.co.nz
Envoye : Tuesday, January 09, 2001 10:31 PM
A : R Help
Objet : [R] Auto Demonstration...


Dear List,

Suppose I want to do a demonstration with R, which I will be showing a
couple of different graphs (e.g. demo(graphics) ).  However I want R to run
through each graphics automatically.  I can achieve this by changing the
line in demo(graphics):
    opar <- par(ask = interactive() &&
            (.Device %in% c("X11", "GTK", "windows", "Macintosh")))
to
    opar <- par(ask = FALSE &&
            (.Device %in% c("X11", "GTK", "windows", "Macintosh")))

However, I am not sure how I can delay the speed of changing between graphs.
In other words, as soon as R finish painting one graph, it will start
painting the next one immediately.  What can I do to make R wait for, say 5
seconds, before it start painting the next graph?

Thanks a lot,

Ko-Kang Wang

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Wed Jan 10 08:54:13 2001
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Wed, 10 Jan 2001 08:54:13 +0100
Subject: [R] Package Java for R
Message-ID: <3A5C1525.224C7C62@ifp.fr>

Hello R-users,

I would like to install the Java package delivered by the  Omegahat
project. I'm working on a Windows NT4.0 workstation.
Can someone explain me ( in details please) the way to install this
package. I've already read the doc relative to this topic, but I'm
afraid to be too bad in Informatic to understand really well the install
process.

I hope someone has an answer for me

Thanks in advance,

Isabelle Zabalza-Mezghani

--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010110/ab50beed/attachment.html

From ripley at stats.ox.ac.uk  Wed Jan 10 09:50:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 08:50:03 +0000 (GMT)
Subject: [R] Package Java for R
In-Reply-To: <3A5C1525.224C7C62@ifp.fr>
Message-ID: <Pine.GSO.4.31.0101100842260.8008-100000@toucan.stats>

On Wed, 10 Jan 2001, isabelle Zabalza-Mezghani wrote:

> Hello R-users,
>
> I would like to install the Java package delivered by the  Omegahat
> project. I'm working on a Windows NT4.0 workstation.
> Can someone explain me ( in details please) the way to install this
> package. I've already read the doc relative to this topic, but I'm
> afraid to be too bad in Informatic to understand really well the install
> process.

I think you might do better to ask on an omegahat list.  Things have
changed a bit since I tried this, but

http://www.omegahat.org/RSJava/index.html

has a Windows binary package and instructions.  (The links appear to be to
version 0.57 and the instructions for 0.61: you may need to take that up
with Duncan Temple Lang.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Jan 10 10:12:38 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 10 Jan 2001 09:12:38 +0000 (GMT)
Subject: [R] log(0) problem in max likelihood estimation
In-Reply-To: <Pine.GSO.4.31.0101091648170.6910-100000@toucan.stats>
Message-ID: <Pine.LNX.4.10.10101100912160.4319-100000@localhost.localdomain>

Thanks very much Brian and Ben for your helpful replies.

Bill


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jan 10 10:30:48 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 10 Jan 2001 10:30:48 +0100
Subject: [R] PAM clustering (using triangular matrix)
In-Reply-To: <3A5B93D6.B0712E63@psych.colorado.edu>
References: <3A5B93D6.B0712E63@psych.colorado.edu>
Message-ID: <14940.11208.139866.777264@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 09 Jan 2001 15:42:30 -0700,
>>>>> Jose Quesada (JQ) wrote:

  > Hi,
  > I'm trying to use a similarity matrix (triangular) as input for pam() or
  > fanny() clustering algorithms.
  > The problem is that this algorithms can only accept a dissimilarity
  > matrix, normally generated by daisy().

  > However, daisy only accept 'data matrix or dataframe. Dissimilarities
  > will be computed between the rows of x'.
  > Is there any way to say to that your data are already a similarity
  > matrix (triangular)?
  > In Kaufman and Rousseeuw's FORTRAN implementation (1990), they showed an
  > option like this one:

  > "Maybe you already have correlations coefficients between variables.
  > Your input data constist on a lower triangular matrix of pairwise
  > correlations. You wish to calculate dissimilarities between the
  > variables."

  > But I couldn't find this alternative in the R implementation.

  > I can not use foo <- as.dist(foo), neither daisy(foo...) because
  > "Dissimilarities will be computed between the rows of x", and this is
  > not
  > what I mean.

  > You can easily transform your similarities into dissimilarities like
  > this (also recommended in Kaufman and Rousseeuw ,1990):

  > foo <- (1 - abs(foo)) # where foo are similarities

  > But then pam() will complain like this:

  > " x is not of class dissimilarity and can not be converted to this
  > class."

  > Can anyone help me? I also appreciate any advice about other clustering
  > algorithms that can accept this type of input.

Hmm, I don't understand your problem, because proceeding as the docs
describe it works for me ...

If foo is a similarity matrix (with 1 meaning identical objects), then

bar <- as.dist(1 - abs(foo))
fanny(bar, ...)

works for me:

## create a random 12x12 similarity matrix, make it symmetric and set the
## diagonal to 1
> x <- matrix(runif(144), nc=12)
> x <- x+t(x)
> diag(x) <- 1

## now proceed as described in the docs
> y <- as.dist(1-x)
> fanny(y, 3)
iterations  objective 
 42.000000   3.303235 
Membership coefficients:
        [,1]      [,2]      [,3]
1  0.3333333 0.3333333 0.3333333
2  0.3333333 0.3333333 0.3333333
3  0.3333334 0.3333333 0.3333333
4  0.3333333 0.3333333 0.3333333
...

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jan 10 10:41:40 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 10 Jan 2001 10:41:40 +0100 (CET)
Subject: [R] Sad story with happy ending
In-Reply-To: <Pine.GSO.4.10.10101091235080.28665-100000@user2.teleport.com>
Message-ID: <XFMail.010110104140.plummer@iarc.fr>

I'm sorry you had so much difficulty getting R to install on Red Hat
Linux 7.0.  The moral of this story is that you should keep your box up
to date with the latest official updates from Red Hat. Specifically

- To run R, you should upgrade glibc.  The version that comes "out
  of the box" on RH7.0 is a pre-release version of glibc 2.2 and is
  buggy.

- To build R yourself, you should upgrade gcc. The version that comes
  with RH7.0 is contains two bugs that prevent R from working correctly.
  These are detailed at
  ftp://calvin.iarc.fr/pub/R/RedHat/7.x/i386/DIY/ReadMe
  gcc-2.96-65 and above contains patches for these bugs.

Martyn

On 09-Jan-01 znmeb at borasky-research.com wrote:
> Sequence of events:
> 
> 1. I loaded a two-processor Pentium Pro system with Red Hat Linux 7.0. I
> loaded *everything*.
> 
> 2. I downloaded R-base-1.1.1-3.i386.rpm from the CRAN archive and
> installed it with no problems.
> 
> 3. Then I spotted R-base-1.2.0-2.i386.rpm and downloaded it. It
> installed fine, but when I tried to execute the "demo("graphics")"
> command it gave some errors.
> 
> 4. Then I downloaded R-base-1.2.0-3.src.rpm and tried to build it. The
> build job blew up.
> 
> 5. Finally, I downloaded the latest gcc (2.96-69) and latest glibc (2.2-9)
> from Red Hat and installed them.
> 
> 6. Now the R-base-1.2.0-3.src.rpm builds successfully, and the resulting
> R-base-1.2.0-3.i386.rpm installs and the 'demo("graphics")' runs to
> completion.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Wed Jan 10 11:17:00 2001
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?=22Dr=2E_Jens_Oehlschl=E4gel=22?=)
Date: Wed, 10 Jan 2001 11:17:00 +0100
Subject: [R] optmizing with monotone stepfunctions?
Message-ID: <01C07AF6.DA9909E0.jens.oehlschlaegel@bbdo-interone.de>


Before re-inventing the wheel I would like to ask: does anyone know about 
an optimizer in R which can reliably identify which value of X (Xopt) leads 
to Y (Yopt) closest to Ytarget in

Y <- MonotoneStepFun(X)

optionally with the restriction that Yopt <= Ytarget
(at least if any Y <= Ytarget, otherwise any Yopt > Ytarget would be the 
preferred answer)

If none is known, I will write one.

Thank you

--
Dr. Jens Oehlschl?gel
Analyse
BBDO InterOne GmbH
K?nigsallee 92
40212 D?sseldorf

Tel.: 0211 1379-8187
Fax.: 0211 1379-8787

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Wed Jan 10 13:24:55 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Wed, 10 Jan 2001 13:24:55 +0100 (CET)
Subject: [R] Sad story with happy ending
In-Reply-To: <XFMail.010110104140.plummer@iarc.fr>
Message-ID: <Pine.LNX.4.21.0101101323050.986-100000@kleigh.nl>

Martyn Plummer skriver...

> I'm sorry you had so much difficulty getting R to install on Red Hat
> Linux 7.0.  The moral of this story is that you should keep your box up
> to date with the latest official updates from Red Hat. Specifically
> 
> - To run R, you should upgrade glibc.  The version that comes "out
>   of the box" on RH7.0 is a pre-release version of glibc 2.2 and is
>   buggy.
> 
> - To build R yourself, you should upgrade gcc. The version that comes
>   with RH7.0 is contains two bugs that prevent R from working correctly.
>   These are detailed at
>   ftp://calvin.iarc.fr/pub/R/RedHat/7.x/i386/DIY/ReadMe
>   gcc-2.96-65 and above contains patches for these bugs.

I built R 1.1.0 and R 1.2.0 without problems on RedHat 5.0,
with gcc version 2.7.2.3.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jan 10 14:09:14 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 10 Jan 2001 14:09:14 +0100 (CET)
Subject: [R] Sad story with happy ending
In-Reply-To: <Pine.LNX.4.21.0101101323050.986-100000@kleigh.nl>
Message-ID: <XFMail.010110140914.plummer@iarc.fr>

On 10-Jan-01 Peter Kleiweg wrote:
> I built R 1.1.0 and R 1.2.0 without problems on RedHat 5.0,
> with gcc version 2.7.2.3.

My comments were specific to Red Hat 7.0.  I'm sorry if this
wasn't clear.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Wed Jan 10 14:28:14 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Wed, 10 Jan 2001 14:28:14 +0100 (CET)
Subject: [R] Sad story with happy ending
In-Reply-To: <XFMail.010110140914.plummer@iarc.fr>
Message-ID: <Pine.LNX.4.21.0101101426280.986-100000@kleigh.nl>

Martyn Plummer skriver...

> On 10-Jan-01 Peter Kleiweg wrote:
>
> > I built R 1.1.0 and R 1.2.0 without problems on RedHat 5.0,
> > with gcc version 2.7.2.3.
> 
> My comments were specific to Red Hat 7.0.  I'm sorry if this
> wasn't clear.

You wrote: "The moral of this story is that you should keep your
box up to date with the latest official updates from Red Hat." 

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 10 14:52:18 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 10 Jan 2001 14:52:18 +0100
Subject: [R] optmizing with monotone stepfunctions?
In-Reply-To: <01C07AF6.DA9909E0.jens.oehlschlaegel@bbdo-interone.de>
References: <01C07AF6.DA9909E0.jens.oehlschlaegel@bbdo-interone.de>
Message-ID: <14940.26898.701185.328282@gargle.gargle.HOWL>

>>>>> "Jens" == Jens Oehlschlaegel <jens.oehlschlaegel at bbdo-interone.de> writes:

    Jens> Before re-inventing the wheel I would like to ask: does anyone
    Jens> know about an optimizer in R which can reliably identify which
    Jens> value of X (Xopt) leads to Y (Yopt) closest to Ytarget in

    Jens> Y <- MonotoneStepFun(X)

    Jens> optionally with the restriction that Yopt <= Ytarget (at least if
    Jens> any Y <= Ytarget, otherwise any Yopt > Ytarget would be the
    Jens> preferred answer)

    Jens> If none is known, I will write one.

Do you mean monotone (also called "isotone" or "isotonic") regression?
It is known that the solution of the monotone regression problem
*is* a step function.

Now, MASS in the VR bundle does isotonic regression "inside" isoMDS().

I have recently written some code even using a class with a print and plot
method, relying on MASS' code.
I've actually wanted to propose to Bill and Brian to incorporate a form of
this into MASS 
-- or to allow to put their C code (and my R code) into "Standard R"... 

Here is my code : Function definitions and example calls 

-------------- next part --------------
### Simplification of MASS' Shepard()   [plot:]
##
## `` Given a dissimilarity d and configuration x, compute Shepard plot ''
###
### which is in /usr/local/app/R/R_local/src/VR/MASS/R/isoMDS.R
### C is in /usr/local/app/R/R_local/src/VR/MASS/src/MASS.c --> "VR_mds_"

## Note that `Shepard()' in MASS is not really documented ..
require(MASS)

isoreg <- function(x, y)
{
  ##-- strong simplification of MASS' Shepard()
  ord <- order(x) #- this is the only thing we need from `x'
  pn <- length(ord)
  y <- y[ord]
  Z <- .C("VR_mds_fn",
	  as.double(y),
	  yf = double(pn),
	  pn = pn,
	  ssq = double(1),
	  pd = as.integer(order(ord)-1),
          ## the next 4 args are just dummies here:
	  x = double(1),## as.double(x),
	  integer(1),	## "pr" as.integer(n),
	  integer(1),	## "pncol" as.integer(k),
          double (1),	## double(n*k),
          do.deriv = FALSE
          , DUP = FALSE, PACKAGE = "MASS"
	  )
  structure(list(x = x[ord], y = y, yf = Z$yf, ord = ord, call = match.call()),
            class = "isoreg")
}

print.isoreg <- function(x, digits = getOption("digits"), ...) {
  cat("Isotonic regression: ")#, x$call)
  str(x)
  invisible(x)
}

plot.isoreg <-
function(x, main = paste("Isotonic regression",deparse(x$call)),
         col.wise = FALSE,
         mar = .1 + c(3.5,2.5,1,1), 
         mgp = c(1.6, 0.7, 0),
         grid = length(x$x) < 12,
         col = "red",
         cex.main = par("cex.main"),
         col.main = par("col.main"),
         font.main = par("font.main"), ...) {
    if(!is.null(main)) main.wid <- 2
    op <- par(mfcol = if(col.wise) 1:2 else 2:1,
              oma = c(0,0, main.wid, 0), mar = mar, mgp = mgp) 
    on.exit(par(op))

    x0 <- x$x ; x0 <- c(x0[1] - min(diff(x0)), x0)
    cy <- cumsum(c(0, x$y))
    cf <- cumsum(c(0, x$yf))
    i <- cy == cf

    ## Plot of "Data" + Fit
    plot(x0, c(NA,x$y), ..., ylab = "x$y")
    lines (x$x, x$yf, col = col, lwd = 2, type = "S")
    points(x$x[i[-1]], x$yf[i[-1]], col = col, pch = 18, cex = 1.5)
    if(grid) {
        u <- par("usr") 
        abline(v = floor(u[1]):ceiling(u[2]),
               h = floor(u[3]):ceiling(u[4]), col = "gray70", lty = 3)
    }
    ## Cumulative Plot
    plot (x0, cy, type = "n", ylab = "cumsum(x$y)", ylim = range(cy,cf), ...)
    lines(x0, cf, col = col, lwd = 1.5)
    points(x0[i], cy[i], col = col, cex = 1.5, pch = 19)
    if(grid) abline(v = x0[i], col = "gray70", lty = 3, xpd = !col.wise)
    points(x0[-1], cy[-1])# over draw

    if(!is.null(main))
        mtext(main, side = 3, outer = TRUE,
              cex = cex.main, col = col.main, font = font.main)
    invisible()
}

s <- isoreg(1:9, c(1,0,4,3,3,5,4,2,0))
plot(s)
## `same' plot,  "proving" that only ranks of `x' are important
plot(isoreg(2^(1:9), c(1,0,4,3,3,5,4,2,0)), log = "x")

plot(s3 <- isoreg(   1:9,  y3 <- c(1,0,4,3,3,5,4,2, 3)))# last "3", not "0"

## experiment a bit (C-c C-j)
plot(isoreg(sample(9),  y3))

plot(ir <- isoreg(sample(10), sample(10, replace = TRUE)), col.wise = FALSE)

##> nice examples (use with x = 1:10):
plot(s4 <- isoreg(1:10, y4 <- c(5, 9, 1:2, 5:8, 3, 8)))
s4

From cyg at sympatico.ca  Wed Jan 10 15:21:22 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 10 Jan 2001 09:21:22 -0500
Subject: [R] Rcmd ?
Message-ID: <NEBBJKDJHEFCOOLFFAKKCEFICAAA.cyg@sympatico.ca>

Hi,

I tried running Rcmd.exe to no avail. It doesn't even start because it tries
to read some memory address that NT says it can't and terminate.

I tried downloading and reinstalling rw1020sp.zip with the installer twice
just in case it got corrupted somehow in transport but it resulted in the
same problem.

What should I do?

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

Thanks

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jan 10 15:30:37 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 10 Jan 2001 15:30:37 +0100 (CET)
Subject: [R] Sad story with happy ending
In-Reply-To: <Pine.LNX.4.21.0101101426280.986-100000@kleigh.nl>
Message-ID: <XFMail.010110153037.plummer@iarc.fr>

On 10-Jan-01 Peter Kleiweg wrote:
> Martyn Plummer skriver...
> 
>> On 10-Jan-01 Peter Kleiweg wrote:
>>
>> > I built R 1.1.0 and R 1.2.0 without problems on RedHat 5.0,
>> > with gcc version 2.7.2.3.
>> 
>> My comments were specific to Red Hat 7.0.  I'm sorry if this
>> wasn't clear.
> 
> You wrote: "The moral of this story is that you should keep your
> box up to date with the latest official updates from Red Hat." 

And so you should.  But an update is not the same thing as an upgrade.
Red Hat releases security fixes, bug fixes and package enhancements for
each release. See

http://www.redhat.com/errata

This is what I am referring to. They are equivalent to the "service packs"
released by Microsoft. There are about 80 updates for Red Hat 5.0.

Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Wed Jan 10 15:38:52 2001
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Wed, 10 Jan 2001 14:38:52 +0000 (GMT)
Subject: [R] Levenberg-Marquardt algorithm
Message-ID: <200101101438.OAA12616@achill.nmrc.ucc.ie>

Hi All,

Is the Levenberg-Marquardt algorithm available in R. This method combines the 
steepest descent algorithm and Newton's method.

Thanks in Advance,
Dermot MacSweeney.


**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 15:48:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 14:48:34 +0000 (GMT)
Subject: [R] Rcmd ?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKCEFICAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.31.0101101444580.8681-100000@toucan.stats>

On Wed, 10 Jan 2001, Yves Gauvreau wrote:

> Hi,
>
> I tried running Rcmd.exe to no avail. It doesn't even start because it tries
> to read some memory address that NT says it can't and terminate.
>
> I tried downloading and reinstalling rw1020sp.zip with the installer twice
> just in case it got corrupted somehow in transport but it resulted in the
> same problem.
>
> What should I do?

Shorten your PATH, please, as it's the same problem as rwinst.exe.
It needs to be less than 264 chars.  Alternatively, get

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/rw1021sp.zip

and extract Rcmd.exe from it (but please don't use anything else).

>
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.0
> year     2000
> month    12
> day      15
> language R
>
> Thanks
>
> Yves Gauvreau
> B.E.F.P. Universit du Qubec  Montral
> cyg at sympatico.ca
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Wed Jan 10 16:05:11 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Wed, 10 Jan 2001 16:05:11 +0100
Subject: [R] R installation problems...
References: <3A5B5082.306BA9D@Kuonen.com> <x2zoh0h8p8.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A5C7A27.92906875@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> Is this still RedHat 6.0? Have you considered an upgrade?
> I wouldn't be too surprised if e.g. glibc had an error affecting dynamic
> loading in that particular version.

With regard to Martyn Plummer's recent posting (thanks 2 Martyn 4 this), 
I just updated to gcc 2.96-69 and glibc 2.2-9 from Red Hat, but I run 
exactly into the same error messages. What's strange is that the

  make check

works without any problems! Moreover, I get plenty of 

  warning: nothing can be pasted after this token 
 
when compiling. I read Paul Johnson's comments on this: 

  http://www.ens.gu.edu.au/robertk/R/help/00b/1121.html

but I already took the updated cpp version as explained
on

  ftp://calvin.iarc.fr/pub/R/RedHat/7.x/i386/DIY/ReadMe

or

  http://www.redhat.com/support/errata/RHBA-2000-132.html

I also tried Luke Tierney's suggestion

  http://www.ens.gu.edu.au/robertk/R/help/00b/1058.html

but did not get sth. like

  ".""so" 

Once again, note that "make check" worked properly!

I tried this with R-1.1.1 and R-1.2.0.

Do I need to downgrade to gcc 2.95? 

I appreciate any help.

Sincerely

  Diego Kuonen


-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 16:14:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 15:14:30 +0000 (GMT)
Subject: [R] Levenberg-Marquardt algorithm
In-Reply-To: <200101101438.OAA12616@achill.nmrc.ucc.ie>
Message-ID: <Pine.GSO.4.31.0101101454100.8681-100000@toucan.stats>

On Wed, 10 Jan 2001, Dermot MacSweeney wrote:

> Hi All,
>
> Is the Levenberg-Marquardt algorithm available in R. This method combines the
> steepest descent algorithm and Newton's method.

My books have it as a modified Gauss-Newton method for non-linear least
squares problems, and although its some years since I read the papers,
I am pretty sure that is what the author's tackled.  Another way to look
at it is that it uses ridge regression on the local linearizations
to find the step.

1) R does not specialised software for non-linear least squares: nls is
Gauss-Newton inside, I believe.  (I could not find that documented, except
for the S version.)  But NLS is a specialized problem and not that common
in my experience.

2) Levenberg-Marquardt is hardly competitive these days. It probably
was not by the time of Marquardt(1963) in statistical problems, which are
normally in optimization parlance `large residual problems'.  That is, the
best fit is not nearly exact.

For such problems general optimization algorithms (e.g. those in optim)
are often at least as good as specialized NLS methods.  So I did not
think it worth implementing the current crop of specialized NLS methods.

The Nocedal and Wright (1999) reference in ?optim is an excellent
overview: I had page 267 open as I wrote this.

`Performance of the Gauss-Newton and Levenberg-Marquardt algorithms is
usual poor in the large-residual case.'

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 16:23:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 15:23:38 +0000 (GMT)
Subject: [R] R installation problems...
In-Reply-To: <3A5C7A27.92906875@Kuonen.com>
Message-ID: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats>

On Wed, 10 Jan 2001, Diego Kuonen wrote:

> Peter Dalgaard BSA wrote:
> >
> > Is this still RedHat 6.0? Have you considered an upgrade?
> > I wouldn't be too surprised if e.g. glibc had an error affecting dynamic
> > loading in that particular version.
>
> With regard to Martyn Plummer's recent posting (thanks 2 Martyn 4 this),
> I just updated to gcc 2.96-69 and glibc 2.2-9 from Red Hat, but I run
> exactly into the same error messages. What's strange is that the
>
>   make check
>
> works without any problems! Moreover, I get plenty of
>
>   warning: nothing can be pasted after this token

Those are just warnings.  I am convinced that the R code was right
(according to C99 at least) but I don't think the gcc maintainers have
been.

Could you please try R-patched.  This has a workaround for this, and as
1.2.1 is due next week, we would be happy to know if the warnings go away.
Also, you will get a better R using R-patched.

[...]

>    _                                          _
>   (o-             Diego Kuonen               -o)
>   //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\
>  .v_/_......................................_\_v.
> / Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
> : http://stat.kuonen.com   http://www.Statoo.com :
> : ` Never trust an operating system you don't    :
> :   have sources for ;-) '    http://www.LUGO.ch :

But don't trust RH7.0 either!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Wed Jan 10 16:29:08 2001
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Wed, 10 Jan 2001 16:29:08 +0100
Subject: [R] R and memory
Message-ID: <3A5C7FC4.429E693C@info.univ-angers.fr>

Hello
I have some problems to read large data file with R.
can someone tell me why running
R --visze=30M --nsize=2000k
uses in fact 63M?
thank you
meriema

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 10 17:04:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jan 2001 17:04:19 +0100
Subject: [R] R installation problems...
In-Reply-To: Diego Kuonen's message of "Wed, 10 Jan 2001 16:05:11 +0100"
References: <3A5B5082.306BA9D@Kuonen.com> <x2zoh0h8p8.fsf@blueberry.kubism.ku.dk> <3A5C7A27.92906875@Kuonen.com>
Message-ID: <x2d7dv2y2k.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego at kuonen.com> writes:

> Peter Dalgaard BSA wrote:
> > 
> > Is this still RedHat 6.0? Have you considered an upgrade?
> > I wouldn't be too surprised if e.g. glibc had an error affecting dynamic
> > loading in that particular version.
> 
> With regard to Martyn Plummer's recent posting (thanks 2 Martyn 4 this), 
> I just updated to gcc 2.96-69 and glibc 2.2-9 from Red Hat, but I run 
> exactly into the same error messages. What's strange is that the
> 
>   make check
> 
> works without any problems! Moreover, I get plenty of 
> 
>   warning: nothing can be pasted after this token 

I think we settled that these are (annoying but) benign.

> Once again, note that "make check" worked properly!
> 
> I tried this with R-1.1.1 and R-1.2.0.
> 
> Do I need to downgrade to gcc 2.95? 

Somehow I don't think that would help. If "make" can run R, so can
you! Something else must be getting in the way. Can you run "/path/to/R
--vanilla"? Do you perhaps have any strange environment variables? 
Can you run the version of R that is in your build directory?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toots at info.com.ph  Wed Jan 10 16:56:11 2001
From: toots at info.com.ph (Jose Ramon G. Albert)
Date: Wed, 10 Jan 2001 23:56:11 +0800
Subject: [R] gini index
Message-ID: <007701c07b1d$f1ca2a00$73f3a3ca@dlsu.edu.ph>

Hi. 

I have some data from a survey w/c include income data. 
Was not quite sure how to generate the gini index on these
data.

Jose Ramon Albert
Statistical Research and Training Center
www.srtc.gov.ph 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From absd00t at c1186.ae.ge.com  Wed Jan 10 17:23:07 2001
From: absd00t at c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Wed, 10 Jan 2001 11:23:07 -0500 (EST)
Subject: [R] virus
Message-ID: <14940.35763.594458.94998@c1406.ae.ge.com>

To win*/NT users:
I just recieved a mail from r-help with a virus attachment. I am on
an unix system but our mail server deleted the message anyways. here it is:

Received: by stat.math.ethz.ch (8.9.1/8.9.1) id RAA27614
        for r-help-gang-use; Wed, 10 Jan 2001 17:01:56 +0100 (MET)
Received: (from daemon at localhost)
        by stat.math.ethz.ch (8.9.1/8.9.1) id RAA27412
        for <r-help at stat.math.ethz.ch>; Wed, 10 Jan 2001 17:01:28 +0100 (MET)
Received: from UNKNOWN(203.172.11.25), claiming to be "monumento.info.com.ph"
 via SMTP by hypatia, id smtpdAAAa006fx; Wed Jan 10 17:01:17 2001
Received: from guest (info3-167.info.com.ph [202.163.242.167])
        by monumento.info.com.ph (8.9.3/8.9.3) with SMTP id AAA21587
        for <r-help at stat.math.ethz.ch>; Thu, 11 Jan 2001 00:01:35 +0800 (HKT)
From: toots at info.com.ph
Date: Thu, 11 Jan 2001 00:01:35 +0800 (HKT)
Message-Id: <200101101601.AAA21587 at monumento.info.com.ph>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="==i3.9.0oisdboibsd((kncd"
Sender: owner-r-help at stat.math.ethz.ch
Precedence: bulk

--==i3.9.0oisdboibsd((kncd
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

------------------  Virus Warning Message (on mailrelay03-geids)

Found virus TROJ_MTX.A in file METALLICA_SONG.MP3.pif
The file is deleted.

---------------------------------------------------------


--==i3.9.0oisdboibsd((kncd
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


------------------  Virus Warning Message (on mailrelay03-geids)

METALLICA_SONG.MP3.pif is removed from here because it contains a virus.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Jan 10 17:25:14 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 10 Jan 2001 17:25:14 +0100
Subject: [R] gini index
References: <007701c07b1d$f1ca2a00$73f3a3ca@dlsu.edu.ph>
Message-ID: <3A5C8CEA.20610DD4@ci.tuwien.ac.at>

"Jose Ramon G. Albert" wrote:
> 
> Hi.
> 
> I have some data from a survey w/c include income data.
> Was not quite sure how to generate the gini index on these
> data.

Have a look at the package "ineq" on CRAN. There you will find functions
for the Gini index and a couple of other inequality and concentration
measures.
Achim


-------------------------------
Achim Zeileis
Institut f?r Statistik
Technische Universit?t Wien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 10 18:16:57 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 10 Jan 2001 18:16:57 +0100
Subject: [R] virus
In-Reply-To: <14940.35763.594458.94998@c1406.ae.ge.com>
References: <14940.35763.594458.94998@c1406.ae.ge.com>
Message-ID: <14940.39177.893631.63538@gargle.gargle.HOWL>

>>>>> "Osman" == U-E59264-Osman F Buyukisik <absd00t at c1186.ae.ge.com> writes:

    Osman> To win*/NT users: I just recieved a mail from r-help with a
    Osman> virus attachment. I am on an unix system but our mail server
    Osman> deleted the message anyways. here it is:

    ...........

    Osman> ------------------ Virus Warning Message (on mailrelay03-geids)

    Osman> Found virus TROJ_MTX.A in file METALLICA_SONG.MP3.pif The file
    Osman> is deleted.

    Osman> ---------------------------------------------------------

    ..........

    Osman> ------------------ Virus Warning Message (on mailrelay03-geids)

    Osman> METALLICA_SONG.MP3.pif is removed from here because it contains
    Osman> a virus.

Thanks a lot Osman!

The bad thing is that it was sent misusing a regular R-help user's E-mail,
namely
	"Jose Ramon G. Albert" <toots at info.com.ph>

[[ Jose,  your computer is probably infected !!! ]]

So, even if R-help would only accept E-mail from regular subscribers,
this would still have gone through...

A very drastic measure would be to  forbid attachments completely....
Any other ideas?

Your list maintainer :

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Wed Jan 10 18:29:02 2001
From: a.salim at ucc.ie (Agus Salim)
Date: Wed, 10 Jan 2001 17:29:02 +0000
Subject: [R] problem with Rcmd check
In-Reply-To: <x2wvc4h83a.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.31.0101091821550.10815-100000@auk.stats>
Message-ID: <3.0.5.32.20010110172902.00895920@bureau.ucc.ie>

At 19:51 09/01/01 +0100, Peter Dalgaard BSA wrote:
>Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
>
>> On 9 Jan 2001, Peter Dalgaard BSA wrote:
>> 
>> > Agus Salim <a.salim at ucc.ie> writes:
>> >
>> > > * creating meanscore-Ex.R ... ERROR
>        ^^^^^^^^
>
>> > > But when I'm using the primitive command `make pkgcheck'
>> > > from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
>> > > is successfully created and the output is correct.
>> >
>> > I think the thing to do at this point is to run something like
>> >
>> > rterm.exe --vanilla < meanscore-Ex.R
>> >
>> > (except that one or both of rterm.exe and meanscore.R probably need to
>> > have a full path). Then watch the output and see where the error
>> > comes from.
>> 
>> The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
>> what he asked me privately a while ago.  I have no idea, and him to debug
>> the perl on his system.  I got no reply!  The error would appear
>> to be from Rcmd massage-Examples.sh.
>
>Argh! Sorry. But the strategy persists: Try doing the relevant steps
>manually and get more clues, either in the form of error messages or
>in pinpointing which spot in the input files triggers the error.
>
>A "set -x" inserted near the beginning of the massage-Examples script
>might be helpful (um, this is Bash, right?).


Thanks to Prof. Dalgaard and Prof. Ripley. Honestly, I'm new to Perl
so I couldn't check the script file to locate the problem. However,
I just managed to get an introductory book on Perl, I'll see what
I can learn from it.


Thanks a lot,

Agus
Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 10 18:31:45 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 10 Jan 2001 12:31:45 -0500
Subject: [R] Rcmd ?
In-Reply-To: <Pine.GSO.4.31.0101101444580.8681-100000@toucan.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEFKCAAA.cyg@sympatico.ca>



> -----Message d'origine-----
> De : Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Envoy? : Wednesday, January 10, 2001 9:49 AM
> ? : Yves Gauvreau
> Cc : r-help at stat.math.ethz.ch
> Objet : Re: [R] Rcmd ?
>
>
> On Wed, 10 Jan 2001, Yves Gauvreau wrote:
>
> > Hi,
> >
> > I tried running Rcmd.exe to no avail. It doesn't even start
> because it tries
> > to read some memory address that NT says it can't and terminate.
> >
> > I tried downloading and reinstalling rw1020sp.zip with the
> installer twice
> > just in case it got corrupted somehow in transport but it
> resulted in the
> > same problem.
> >
> > What should I do?
>
> Shorten your PATH, please, as it's the same problem as rwinst.exe.
> It needs to be less than 264 chars.  Alternatively, get
>
> http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/rw1021sp.zip
>
> and extract Rcmd.exe from it (but please don't use anything else).

Ok I can do that (get the new file) no problem. I don't understand the
relation with rwinst.exe. I've install R1020 with rwinst and it worked fine
with the same environment PATH string. I just updated it to the new R
location and did the same to RHOME. I even used it again to add packages
with no problems. But rcmd doesn't even start and you say that rwinst should
not work either with this long path is that it?

Regards

Yves Gauvreau

PS. I got the new rcmd.exe as you suggested and it works fine now. (Thanks)

>
> >
> > platform i386-pc-mingw32
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    2.0
> > year     2000
> > month    12
> > day      15
> > language R
> >
> > Thanks
> >
> > Yves Gauvreau
> > B.E.F.P. Universit? du Qu?bec ? Montr?al
> > cyg at sympatico.ca
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 18:30:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 17:30:01 +0000 (GMT)
Subject: [R] R and memory
In-Reply-To: <3A5C7FC4.429E693C@info.univ-angers.fr>
Message-ID: <Pine.GSO.4.31.0101101719140.8914-100000@toucan.stats>

On Wed, 10 Jan 2001, Meriema Belaidouni wrote:

> Hello
> I have some problems to read large data file with R.

We need to know more to be able to help with that.

> can someone tell me why running
> R --visze=30M --nsize=2000k
> uses in fact 63M?

Let me try.  That allocates (modulo a typo) 30Mb of heap and 2 million
cons cells.  I will assume you are using a 32-bit system and a version of
R prior to 1.2.0.  Then a cons cell is 20 bytes, and so the total space is
38.2Mb for those.  So (and I tried it) the workspace is 68.2Mb. However,
depending on your system, not all of that may appear under say top, and in
any case the R process needs another 4Mb or so for code.

The current version of R may well behave differently, and we do suggest
that you do not use those flags any more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 18:33:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 17:33:11 +0000 (GMT)
Subject: [R] Rcmd ?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKGEFKCAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.31.0101101730310.8914-100000@toucan.stats>

On Wed, 10 Jan 2001, Yves Gauvreau wrote:

>
>
> > -----Message d'origine-----
> > De : Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> > Envoy : Wednesday, January 10, 2001 9:49 AM
> >  : Yves Gauvreau
> > Cc : r-help at stat.math.ethz.ch
> > Objet : Re: [R] Rcmd ?
> >
> >
> > On Wed, 10 Jan 2001, Yves Gauvreau wrote:
> >
> > > Hi,
> > >
> > > I tried running Rcmd.exe to no avail. It doesn't even start
> > because it tries
> > > to read some memory address that NT says it can't and terminate.
> > >
> > > I tried downloading and reinstalling rw1020sp.zip with the
> > installer twice
> > > just in case it got corrupted somehow in transport but it
> > resulted in the
> > > same problem.
> > >
> > > What should I do?
> >
> > Shorten your PATH, please, as it's the same problem as rwinst.exe.
> > It needs to be less than 264 chars.  Alternatively, get
> >
> > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/rw1021sp.zip
> >
> > and extract Rcmd.exe from it (but please don't use anything else).
>
> Ok I can do that (get the new file) no problem. I don't understand the
> relation with rwinst.exe. I've install R1020 with rwinst and it worked fine
> with the same environment PATH string. I just updated it to the new R
> location and did the same to RHOME. I even used it again to add packages
> with no problems. But rcmd doesn't even start and you say that rwinst should
> not work either with this long path is that it?

We replaced rwinst.exe after a couple of days and several reports.
The original one failed if RHOME was not set and the PATH was over 264
chars and you tried to install a package.

Perhaps I should stop trying to explain why, and just say what to do.

> Regards
>
> Yves Gauvreau
>
> PS. I got the new rcmd.exe as you suggested and it works fine now. (Thanks)
>

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 10 18:49:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Jan 2001 17:49:01 +0000 (GMT)
Subject: [R] problem with Rcmd check
In-Reply-To: <3.0.5.32.20010110172902.00895920@bureau.ucc.ie>
Message-ID: <Pine.GSO.4.31.0101101733200.8914-100000@toucan.stats>

Thanks to some debugging by Duncan Murdoch, it looks like this is a Perl
problem on Win98/ME at least.  As far as I can tell Perl's system command
calls command.com on that system, and at times that gets caught out by
line lengths and redirections.

So please let me know which version of Windows you have.

It's pretty unpredictable, and this did work on my Win98 mini-notebook
with a very small example (ash) but the undoc check failed there.
I was able to get it all to work by changing shell using COMSPEC, but
I cannot distribute the shell I did use.  Anyone know of a reliable
shell foo.exe for Win98 that uses `foo.exe /c commands...' ?  Otherwise
I can write a wrapper for sh.  Actually, I might be able to avoid the
shell here by using a list argument for system....

You might begin to see why Guido and I changed to NT about 2 years' ago.


On Wed, 10 Jan 2001, Agus Salim wrote:

> At 19:51 09/01/01 +0100, Peter Dalgaard BSA wrote:
> >Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> >
> >> On 9 Jan 2001, Peter Dalgaard BSA wrote:
> >>
> >> > Agus Salim <a.salim at ucc.ie> writes:
> >> >
> >> > > * creating meanscore-Ex.R ... ERROR
> >        ^^^^^^^^
> >
> >> > > But when I'm using the primitive command `make pkgcheck'
> >> > > from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
> >> > > is successfully created and the output is correct.
> >> >
> >> > I think the thing to do at this point is to run something like
> >> >
> >> > rterm.exe --vanilla < meanscore-Ex.R
> >> >
> >> > (except that one or both of rterm.exe and meanscore.R probably need to
> >> > have a full path). Then watch the output and see where the error
> >> > comes from.
> >>
> >> The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
> >> what he asked me privately a while ago.  I have no idea, and him to debug
> >> the perl on his system.  I got no reply!  The error would appear
> >> to be from Rcmd massage-Examples.sh.
> >
> >Argh! Sorry. But the strategy persists: Try doing the relevant steps
> >manually and get more clues, either in the form of error messages or
> >in pinpointing which spot in the input files triggers the error.
> >
> >A "set -x" inserted near the beginning of the massage-Examples script
> >might be helpful (um, this is Bash, right?).
>
>
> Thanks to Prof. Dalgaard and Prof. Ripley. Honestly, I'm new to Perl
> so I couldn't check the script file to locate the problem. However,
> I just managed to get an introductory book on Perl, I'll see what
> I can learn from it.
>
>
> Thanks a lot,
>
> Agus
> Agus Salim
> PhD student
> Dept. of Statistics
> University College Cork
> Ireland
> Tel:353-21-4902197
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 10 18:48:15 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 10 Jan 2001 18:48:15 +0100
Subject: [R] Intentional behaviour of par()$usr?
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E91E@exdkba03.novo.dk>
References: <D5A7D734C9C5D211B9E30008C78923020609E91E@exdkba03.novo.dk>
Message-ID: <14940.41055.862793.837596@gargle.gargle.HOWL>

>>>>> "BXC" == BXC (Bendix Carstensen) <bxc at novonordisk.com> writes:

    BXC> I had some trouble getting some text in the right place on a plot
    BXC> with logartimic y-axis, until I discovered:

what trouble did you have exactly ?

  plot(NA, xlim=1:2, ylim=c(5,500), log="y") 
  text(1,200, "(1,200)", adj = 0)

works perfectly for me.

    >> plot(NA, xlim=1:2, ylim=c(5,500), log="y") 
    >> par()$usr
    BXC> [1] 0.96000 2.04000 0.61897 2.77897
    >> 10^(par()$usr[3:4])
    BXC> [1] 4.158819 601.132217

    BXC> Is this a bug or a facility?  

"feature" is how we call these ...

    BXC> It is not mentioned under par -> usr in the manual.

what do you propose to say there?

  { Ideally we get a diff of src/library/base/man/par.Rd }

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Wed Jan 10 19:09:35 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Wed, 10 Jan 2001 19:09:35 +0100
Subject: [R] R installation problems...
References: <3A5B5082.306BA9D@Kuonen.com> <x2zoh0h8p8.fsf@blueberry.kubism.ku.dk> <3A5C7A27.92906875@Kuonen.com> <x2d7dv2y2k.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A5CA55F.A0801CD7@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> Somehow I don't think that would help. If "make" can run R, so can
> you! Something else must be getting in the way. Can you run "/path/to/R
> --vanilla"? 

Within the build directories:

   $ /usr2/R-1.0.0/bin/R --verbose --vanilla
   R : Copyright 2000, The R Development Core Team
   Version 1.0.0  (February 29, 2000)
   ...
   >R_ReplConsole(): before "for(;;)" {main.c}
   Segmentation fault


   $ /usr2/R-1.1.1/bin/R --verbose --vanilla
   R : Copyright 2000, The R Development Core Team
   Version 1.1.1  (August 15, 2000)
   ...
   >R_ReplConsole(): before "for(;;)" {main.c}
   Segmentation fault


   $ /usr2/R-1.2.0/bin/R --verbose --vanilla
   R : Copyright 2000, The R Development Core Team
   Version 1.2.0  (2000-12-15)
   ...
   now dyn.load(/usr2/R-1.2.0/library/ctest/libs/ctest.so)..
   >R_ReplConsole(): before "for(;;)" {main.c}
   Segmentation fault


I configured all version with 

   ./configure --with-f2c --prefix=/usr/R 

and before "make install" I always performed a "make check" and
removed all files in "/usr/R", except all contributed libraries.

I get the same error messages as above, and the "make check" always
worked properly.

Thanks for your help.

Greets

  Diego

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Wed Jan 10 19:37:59 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Wed, 10 Jan 2001 19:37:59 +0100
Subject: [R] R installation problems...
References: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats>
Message-ID: <3A5CAC07.66E5E9BF@Kuonen.com>

Prof Brian Ripley wrote:
> 
> Could you please try R-patched.  This has a workaround for this, and as
> 1.2.1 is due next week, we would be happy to know if the warnings go away.
> Also, you will get a better R using R-patched.

Ok. Thanks. After downloading the latest R-patched from

  http://cran.r-project.org/src/devel/

I did

  $ gzip -dc R-patched.tar.gz | tar xvf -
  $ cd R-patched/
  $ ./configure --prefix=/usr/R
  ...
  R is now configured for i686-pc-linux-gnu

    Source directory:          .
    Installation directory:    /usr/R
    C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
    C++ compiler:              c++  -mieee-fp -g -O2
    FORTRAN compiler:          g77  -g -O2

    X11 support:               yes
    Gnome support:             no
    Tcl/Tk support:            yes

    R profiling support:       yes
    R as a shared library:     no
  $ make
  ...

And, indeed, all warnings went away :-) 

The "make" performed properly as well as the "make check", but:

  $ /usr2/R-patched/bin/R --verbose --vanilla
  R : Copyright 2001, The R Development Core Team
  Version 1.2.0 Patched (2001-01-09)
  ...
  now dyn.load(/usr2/R-patched/library/ctest/libs/ctest.so)..
  >R_ReplConsole(): before "for(;;)" {main.c}
  Segmentation fault

After a "make install" nothing changes:

  $ /usr/R/bin/R --verbose --vanilla
  R : Copyright 2001, The R Development Core Team
  Version 1.2.0 Patched (2001-01-09)
  ...
  now dyn.load(/usr/R/lib/R/library/ctest/libs/ctest.so)..
  >R_ReplConsole(): before "for(;;)" {main.c}
  Segmentation fault

:-(
 
> But don't trust RH7.0 either!

:-) that's a good point :-)

Greets + thanks...

  Diego


-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 10 20:06:19 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 10 Jan 2001 11:06:19 -0800 (PST)
Subject: [R] R and memory
In-Reply-To: <3A5C7FC4.429E693C@info.univ-angers.fr>
Message-ID: <Pine.GSO.4.21.0101101105000.6757-100000@atlas.biostat.washington.edu>

On Wed, 10 Jan 2001, Meriema Belaidouni wrote:

> Hello
> I have some problems to read large data file with R.
> can someone tell me why running
> R --visze=30M --nsize=2000k
> uses in fact 63M?

It potentially uses even more than that. You have asked for 30Mb of vector
heap and 2 million cons cells. Each cons cell takes 32 bytes (I think), so
this would be 90Mb plus whatever the R program itself uses.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 10 20:38:16 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jan 2001 20:38:16 +0100
Subject: [R] R installation problems...
In-Reply-To: Diego Kuonen's message of "Wed, 10 Jan 2001 19:37:59 +0100"
References: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats> <3A5CAC07.66E5E9BF@Kuonen.com>
Message-ID: <x2vgrn19lj.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego at kuonen.com> writes:

> The "make" performed properly as well as the "make check", but:
> 
>   $ /usr2/R-patched/bin/R --verbose --vanilla
>   R : Copyright 2001, The R Development Core Team
>   Version 1.2.0 Patched (2001-01-09)
>   ...
>   now dyn.load(/usr2/R-patched/library/ctest/libs/ctest.so)..
>   >R_ReplConsole(): before "for(;;)" {main.c}
>   Segmentation fault
> 
> After a "make install" nothing changes:
> 
>   $ /usr/R/bin/R --verbose --vanilla
>   R : Copyright 2001, The R Development Core Team
>   Version 1.2.0 Patched (2001-01-09)
>   ...
>   now dyn.load(/usr/R/lib/R/library/ctest/libs/ctest.so)..
>   >R_ReplConsole(): before "for(;;)" {main.c}
>   Segmentation fault

This is perplexing! Could you please try "/path/to/R -d gdb" and
inside gdb do 

run  --verbose --vanilla

then at the point of the crash do a "bt" command and tell us what it
says.

One thing that could cause trouble is if some higher directory (eg
/usr/R) is not readable, since make is generally using relative paths. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jan 10 20:38:47 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 10 Jan 2001 14:38:47 -0500
Subject: [R] problem with Rcmd check
In-Reply-To: <Pine.GSO.4.31.0101101733200.8914-100000@toucan.stats>
References: <Pine.GSO.4.31.0101101733200.8914-100000@toucan.stats>
Message-ID: <3a5fb9a1.18057864@fisher.stats.uwo.ca>

On Wed, 10 Jan 2001 17:49:01 +0000 (GMT), you wrote in message
<Pine.GSO.4.31.0101101733200.8914-100000 at toucan.stats>:

>Thanks to some debugging by Duncan Murdoch, it looks like this is a Perl
>problem on Win98/ME at least.  As far as I can tell Perl's system command
>calls command.com on that system, and at times that gets caught out by
>line lengths and redirections.

I've been reading up on Perl, and a workaround that looks possible is
to open a file and print `some command` into it, instead of calling
system("some command > file").  You lose the possibility of seeing an
error code.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Wed Jan 10 22:33:04 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Wed, 10 Jan 2001 16:33:04 -0500
Subject: [R] Some Packages Won't Run under RH 7
References: <Pine.LNX.4.30.0101102025560.9987-100000@bolker.zoo.ufl.edu>
Message-ID: <3A5CD510.2CB24673@nauticom.net>

I recently installed Red Hat Linux 7.0. I installed Version 1.2.0  (2000-12-15) of
R. I installed a number of packages including chron, date, ellipse, sgeostat,
survival5, and xtable. the "library()" command shows that they are installed.

chron works but I get the following for survival5:

> library(survival5)
/usr/lib/R/bin/R.bin: error while loading shared libraries: /usr/lib/R/bin/R.bin:
symbol __sysconf, version GLIBC_2.2 not defined in file libc.so.6 with link time
reference

Process R exited abnormally with code 127 at Wed Jan 10 15:59:22 2001

Similarly, for sgeostat:

> library(sgeostat)
Loading required package: mva
/usr/lib/R/bin/R.bin: error while loading shared libraries: /usr/lib/R/bin/R.bin:
symbol __sysconf, version GLIBC_2.2 not defined in file libc.so.6 with link time
reference

Process R exited abnormally with code 127 at Wed Jan 10 16:20:39 2001

Does anyone know what is going wrong? When I install the packages, no errors or
warnings are reported.

Rick Bilonick


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregg_rosenkranz at fishgame.state.ak.us  Thu Jan 11 03:05:17 2001
From: gregg_rosenkranz at fishgame.state.ak.us (Gregg Rosenkranz)
Date: Wed, 10 Jan 2001 17:05:17 -0900
Subject: [R] nls error handling
Message-ID: <3A5D14DD.9C31348C@fishgame.state.ak.us>

I'm written a function that uses nls in a loop to fit a model to resampled data.  Occasionally a sample is drawn such that the algorithm (apparently) can't converge and 

step factor reduced below minimum

is printed to the screen.  I tried a few different settings for the minFactor parameter in nls.control with no different result.  When this happens, I would like my function to put NAs in the output matrix that holds the parameter estimates and move to the next iteration.  As it is, the function terminates upon error and the partially-filled result matrix is not returned.  Any suggestions?

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.0            
year     2000           
month    12             
day      15 


Thanks for your time,
Gregg    

<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>
Gregg Rosenkranz
Scallop Biometrician
Alaska Department of Fish and Game 
211 Mission Road
Kodiak, AK 99615

phone 907.486.1858
fax 907.486.1824
gregg_rosenkranz at fishgame.state.ak.us
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alistair.Merrifield at med.govt.nz  Thu Jan 11 04:12:18 2001
From: Alistair.Merrifield at med.govt.nz (Alistair Merrifield)
Date: Thu, 11 Jan 2001 16:12:18 +1300
Subject: [R] Reading Excel files from within R.
Message-ID: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>

Dear all,

I am interested in reading Excel spreadsheets (*.xls) directly into R (I am
using version 1.1.1 at the moment). I have not had much luck so far. 

For the time being, I have been converting Excel files to comma delimited
files (*.csv) and reading these into R (using commands such as "read.csv").
This works well, but it would be more efficient if I could read the Excel
files directly.

I have noticed that there is an Excel interface for R. However, this seems
to be a backwards approach to my problem . I would prefer to read Excel into
R, not use R in Excel!

I am sure this cannot be an uncommon thing to want to do (given that Excel
is a popular programme), although I have not had much success searching in
the CRAN archives for information. Any comments would be appreciated.

Cheers, Al.


Al Merrifield

Energy Analyst
Energy Modelling & Statistics
Ministry of Economic Development
PO Box 1473
Wellington
NEW ZEALAND

Phone: (04) 470 2338
Fax:     (04) 473 9930
E-mail: Alistair.Merrifield at med.govt.nz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Thu Jan 11 04:45:32 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Thu, 11 Jan 2001 14:45:32 +1100
Subject: [R] lm variable name limit?
Message-ID: <61411576E951D211AF330008C7245DD9079B2F97@ntmsg0005.corpmail.telstra.com.au>

gday R gurus,

has anyone seen this lm problem?

When I add 2 bytes to the variable name (via names), lm returns an error.
It's as if there's a limit to the size of the variable names.

Any suggestions?

thanks,
John Strumila

>  names(y)[12:14]
[1] "Log.SQLServer.Locks.RID.Lock.Wait" "Log.SQLServer.Lock"               
[3] "xxaa"                             
>  names(y)[12]<-"Log.SQLServer.Locks.RID.Lock.Wa"
>
my.formula<-as.formula(paste(paste("y$",names(y)[12:14],collapse="+",sep="")
,' ~ ',paste('x$"',names(x),'"',sep="",collapse="+"),"-1"))
> lm(my.formula)

Call:
lm(formula = my.formula)

Coefficients:
 x$\"1\"   x$\"2\"   x$\"3\"   x$\"4\"   x$\"6\"   x$\"7\"   x$\"8\"
x$\"9\"  
       0        NA        NA        NA         0         0        NA
NA  
x$\"10\"  x$\"11\"  x$\"12\"  x$\"13\"  x$\"14\"  x$\"15\"  x$\"16\"
x$\"17\"  
       0        NA        NA        NA         0        NA         0
NA  
x$\"18\"  x$\"19\"  x$\"20\"  x$\"21\"  x$\"22\"  x$\"23\"  x$\"24\"
x$\"25\"  
       0        NA        NA        NA         0        NA         0
NA  
x$\"26\"  x$\"27\"  x$\"28\"  x$\"29\"  x$\"30\"  x$\"32\"  x$\"33\"
x$\"34\"  
      NA         0        NA        NA         0        NA        NA
NA  
x$\"35\"  x$\"36\"  x$\"37\"  x$\"38\"  x$\"39\"  x$\"40\"  x$\"41\"
x$\"42\"  
      NA        NA         0        NA         0        NA        NA
NA  
x$\"44\"  x$\"45\"  x$\"46\"  x$\"47\"  x$\"49\"  x$\"50\"  x$\"52\"
x$\"53\"  
      NA        NA        NA        NA         0        NA         0
NA  
x$\"54\"  x$\"55\"  x$\"56\"  x$\"57\"  x$\"58\"  
       0        NA         0        NA        NA  

>  names(y)[12]<-"Log.SQLServer.Locks.RID.Lock.Wait"   #<== add 2 chars to
variable name
>
my.formula<-as.formula(paste(paste("y$",names(y)[12:14],collapse="+",sep="")
,' ~ ',paste('x$"',names(x),'"',sep="",collapse="+"),"-1"))
> lm(my.formula)
Error in y$Log.SQLServer.Locks.RID.Lock.Wait + y$Log.SQLServer.Lock +  : 
        non-numeric argument to binary operator
> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.0              
year     2000             
month    June             
day      15               
language R        


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at borasky-research.com  Thu Jan 11 05:24:11 2001
From: znmeb at borasky-research.com (M. Edward Borasky)
Date: Wed, 10 Jan 2001 20:24:11 -0800
Subject: [R] problem with Rcmd check
In-Reply-To: <Pine.GSO.4.31.0101101733200.8914-100000@toucan.stats>
Message-ID: <HBEHIIBBKKNOBLMPKCBBCEMJCDAA.znmeb@borasky-research.com>

Perl on Win95/Win98/WinME is limited by the capabilities of the command-line
editor. There are applications that flat-out can't use it; check the Perl
Data Language (PDL) pages for the gory details. I have personally given up
on Windows ME, though for different reasons: the worst thing that happened
to me was the Visual Studio blue-screened when trying to do post-build
commands. This is probably something to do with the lame command line
interpreter. I went out the next day and spent $330 -- $300 for Windows 2000
Professional and $30 for Red Hat Linux. I am now a happy dual-booter :-).

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Prof Brian Ripley
Sent: Wednesday, January 10, 2001 9:49 AM
To: Agus Salim
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] problem with Rcmd check


Thanks to some debugging by Duncan Murdoch, it looks like this is a Perl
problem on Win98/ME at least.  As far as I can tell Perl's system command
calls command.com on that system, and at times that gets caught out by
line lengths and redirections.

So please let me know which version of Windows you have.

It's pretty unpredictable, and this did work on my Win98 mini-notebook
with a very small example (ash) but the undoc check failed there.
I was able to get it all to work by changing shell using COMSPEC, but
I cannot distribute the shell I did use.  Anyone know of a reliable
shell foo.exe for Win98 that uses `foo.exe /c commands...' ?  Otherwise
I can write a wrapper for sh.  Actually, I might be able to avoid the
shell here by using a list argument for system....

You might begin to see why Guido and I changed to NT about 2 years' ago.


On Wed, 10 Jan 2001, Agus Salim wrote:

> At 19:51 09/01/01 +0100, Peter Dalgaard BSA wrote:
> >Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> >
> >> On 9 Jan 2001, Peter Dalgaard BSA wrote:
> >>
> >> > Agus Salim <a.salim at ucc.ie> writes:
> >> >
> >> > > * creating meanscore-Ex.R ... ERROR
> >        ^^^^^^^^
> >
> >> > > But when I'm using the primitive command `make pkgcheck'
> >> > > from c:/rw1020/rw1020/src/gnuwin32, the meanscore-Ex.R file
> >> > > is successfully created and the output is correct.
> >> >
> >> > I think the thing to do at this point is to run something like
> >> >
> >> > rterm.exe --vanilla < meanscore-Ex.R
> >> >
> >> > (except that one or both of rterm.exe and meanscore.R probably need
to
> >> > have a full path). Then watch the output and see where the error
> >> > comes from.
> >>
> >> The error is in creating meanscore-Ex.R.  Agus Salim is asking the list
> >> what he asked me privately a while ago.  I have no idea, and him to
debug
> >> the perl on his system.  I got no reply!  The error would appear
> >> to be from Rcmd massage-Examples.sh.
> >
> >Argh! Sorry. But the strategy persists: Try doing the relevant steps
> >manually and get more clues, either in the form of error messages or
> >in pinpointing which spot in the input files triggers the error.
> >
> >A "set -x" inserted near the beginning of the massage-Examples script
> >might be helpful (um, this is Bash, right?).
>
>
> Thanks to Prof. Dalgaard and Prof. Ripley. Honestly, I'm new to Perl
> so I couldn't check the script file to locate the problem. However,
> I just managed to get an introductory book on Perl, I'll see what
> I can learn from it.
>
>
> Thanks a lot,
>
> Agus
> Agus Salim
> PhD student
> Dept. of Statistics
> University College Cork
> Ireland
> Tel:353-21-4902197
>
>
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Thu Jan 11 06:09:59 2001
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Thu, 11 Jan 2001 15:09:59 +1000
Subject: [R] Bootstrapping
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B155D@TBACRMEXH001>

HI All, 

I am trying to analyse the results of a heap of samples, to determine how 
many samples are required to meet a defined confidence interval.
I checked out the R manual for bootstrapping and re-sampling methods, but
did not find anything.  Are there any contributed procedures that deal with
this?

thanks, 

Matt Redding
Soil Scientist
Intensive Livestock Environmental Management-Research
Department of Primary Industries, Queensland
Australia.  ph 61 7 46 881372
	fax 61 7 46 881192
	reddinm at dpi.qld.gov.au
            http://www.dpi.qld.gov.au/ilems


********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 11 06:13:22 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 11 Jan 2001 00:13:22 -0500
Subject: [R] Reading Excel files from within R.
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>
Message-ID: <NEBBJKDJHEFCOOLFFAKKIEFOCAAA.cyg@sympatico.ca>

You already use the simplest method I can think of that is comma delimited
files.

I think we'll probably never see this as part of R for obvious reasons but
what would be very nice is to have an ActiveX interface. That is the
possibility of creating an Ole object and using it's properties and methods.

The next best thing I can think of would be to use an intermediary DLL that
would create and use Ole objects (such as Excel) and transfer the data you
need and/or do whatever else you could think of. But it would be a lot of
work just to transfer data back and forth.

Maybe a much simpler approach would be to use a vbscript | jscript |
perl-script. Any of these is Ole aware and you could write an R function to
run your script which would extract the data you want, put it in a file that
R can read back. That is the quickest and easiest expedient you could use to
control everything from R.

Regards.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Alistair Merrifield
> Envoy? : Wednesday, January 10, 2001 10:12 PM
> ? : 'r-help at lists.r-project.org'
> Objet : [R] Reading Excel files from within R.
>
>
> Dear all,
>
> I am interested in reading Excel spreadsheets (*.xls) directly
> into R (I am
> using version 1.1.1 at the moment). I have not had much luck so far.
>
> For the time being, I have been converting Excel files to comma delimited
> files (*.csv) and reading these into R (using commands such as
> "read.csv").
> This works well, but it would be more efficient if I could read the Excel
> files directly.
>
> I have noticed that there is an Excel interface for R. However, this seems
> to be a backwards approach to my problem . I would prefer to read
> Excel into
> R, not use R in Excel!
>
> I am sure this cannot be an uncommon thing to want to do (given that Excel
> is a popular programme), although I have not had much success searching in
> the CRAN archives for information. Any comments would be appreciated.
>
> Cheers, Al.
>
>
> Al Merrifield
>
> Energy Analyst
> Energy Modelling & Statistics
> Ministry of Economic Development
> PO Box 1473
> Wellington
> NEW ZEALAND
>
> Phone: (04) 470 2338
> Fax:     (04) 473 9930
> E-mail: Alistair.Merrifield at med.govt.nz
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jan 11 06:14:27 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 10 Jan 2001 23:14:27 -0600 (CST)
Subject: [R] Reading Excel files from within R.
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>
References: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>
Message-ID: <14941.16691.5990.380508@sonny.eddelbuettel.com>


  Alistair>  Dear all, I am interested in reading Excel spreadsheets (*.xls)
  Alistair> directly into R (I am using version 1.1.1 at the moment). I have
  Alistair> not had much luck so far.

As you probably know, Excel is not exactly an open source program. Further,
there is little available documentation on the .xls file format, and no
guarantee whatsoever that it won't change once you figured one version out.
In short, not a promising avenue for open source.

That being said, there are few choices

a) a little bit of alpha-stage code in the CPAN (i.e. Perl) archives for both
reading (Spreadsheet-ParseExcel) and writing Excel (Spreadsheet-WriteExcel,
this also has a few more references) spreadsheets

b) the ActiveState Perl implementation for Windows can read .xls files by
"driving" Excel through OLE, this does of course require Excel on a Windoze
machine

c) a little while ago Brian Ripley posted on the list how he used ODBC to
read from .xls files 

d) lastly, the Gnumeric spreadsheet knows how to read .xls files, you could try
to learn from its code and create a R function read.xls if you truly need
this.

Take your pick. Saving as .csv still seems like the easiest solution to me
though I also do a bit of b).

Hope this helps,  Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at borasky-research.com  Thu Jan 11 06:34:56 2001
From: znmeb at borasky-research.com (M. Edward Borasky)
Date: Wed, 10 Jan 2001 21:34:56 -0800
Subject: [R] Reading Excel files from within R.
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>
Message-ID: <HBEHIIBBKKNOBLMPKCBBOEMLCDAA.znmeb@borasky-research.com>

Try setting up an ODBC interface to your spreadsheet. In the Control Panel
(Win2K) open Administrative Tools, then Data Sources (ODBC). Select the File
DSN tab and do an ADD. You'll be able to attach a Data Source Name (DSN) to
your Excel spreadsheet. After you have this done, you'll be able to get data
from the spreadsheet with an ODBC query.

Then you need to install the R-ODBC package. I haven't done this part
myself, but I have done the other part that I just described. The R-ODBC
package will let you do queries against the ODBC name you just defined.
--
M. Edward Borasky
Borasky Research
http://www.borasky-research.com
mailto:znmeb at borasky-research.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Alistair Merrifield
> Sent: Wednesday, January 10, 2001 7:12 PM
> To: 'r-help at lists.r-project.org'
> Subject: [R] Reading Excel files from within R.
>
>
> Dear all,
>
> I am interested in reading Excel spreadsheets (*.xls) directly
> into R (I am
> using version 1.1.1 at the moment). I have not had much luck so far.
>
> For the time being, I have been converting Excel files to comma delimited
> files (*.csv) and reading these into R (using commands such as
> "read.csv").
> This works well, but it would be more efficient if I could read the Excel
> files directly.
>
> I have noticed that there is an Excel interface for R. However, this seems
> to be a backwards approach to my problem . I would prefer to read
> Excel into
> R, not use R in Excel!
>
> I am sure this cannot be an uncommon thing to want to do (given that Excel
> is a popular programme), although I have not had much success searching in
> the CRAN archives for information. Any comments would be appreciated.
>
> Cheers, Al.
>
>
> Al Merrifield
>
> Energy Analyst
> Energy Modelling & Statistics
> Ministry of Economic Development
> PO Box 1473
> Wellington
> NEW ZEALAND
>
> Phone: (04) 470 2338
> Fax:     (04) 473 9930
> E-mail: Alistair.Merrifield at med.govt.nz
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 08:53:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Jan 2001 07:53:20 +0000 (GMT)
Subject: [R] nls error handling
In-Reply-To: <3A5D14DD.9C31348C@fishgame.state.ak.us>
Message-ID: <Pine.GSO.4.31.0101110752370.27104-100000@auk.stats>

On Wed, 10 Jan 2001, Gregg Rosenkranz wrote:

> I'm written a function that uses nls in a loop to fit a model to resampled data.  Occasionally a sample is drawn such that the algorithm (apparently) can't converge and
>
> step factor reduced below minimum
>
> is printed to the screen.  I tried a few different settings for the minFactor parameter in nls.control with no different result.  When this happens, I would like my function to put NAs in the output matrix that holds the parameter estimates and move to the next iteration.  As it is, the function terminates upon error and the partially-filled result matrix is not returned.  Any suggestions?

Use try() around the nls call. See help(try).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Jan 11 09:05:15 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 11 Jan 2001 09:05:15 +0100 (MET)
Subject: [R] Bootstrapping
In-Reply-To: <FB599DB5ACE2D211887500A0C9D334E40B155D@TBACRMEXH001>
Message-ID: <Pine.LNX.4.21.0101110904200.21034-100000@artemis.imbe.med.uni-erlangen.de>

> HI All, 
> 
> I am trying to analyse the results of a heap of samples, to determine how 
> many samples are required to meet a defined confidence interval.
> I checked out the R manual for bootstrapping and re-sampling methods, but
> did not find anything.  Are there any contributed procedures that deal with
> this?

packages boot and bootstrap on CRAN/contrib

Torsten

> 
> thanks, 
> 
> Matt Redding
> Soil Scientist
> Intensive Livestock Environmental Management-Research
> Department of Primary Industries, Queensland
> Australia.  ph 61 7 46 881372
> 	fax 61 7 46 881192
> 	reddinm at dpi.qld.gov.au
>             http://www.dpi.qld.gov.au/ilems
> 
> 
> ********************************DISCLAIMER****************************
> The information contained in the above e-mail message or messages 
> (which includes any attachments) is confidential and may be legally 
> privileged.  It is intended only for the use of the person or entity 
> to which it is addressed.  If you are not the addressee any form of 
> disclosure, copying, modification, distribution or any action taken 
> or omitted in reliance on the information is unauthorised.  Opinions 
> contained in the message(s) do not necessarily reflect the opinions 
> of the Queensland Government and its authorities.  If you received 
> this communication in error, please notify the sender immediately and 
> delete it from your computer system network.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 09:05:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Jan 2001 08:05:18 +0000 (GMT)
Subject: [R] Reading Excel files from within R.
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02977B35@wnant21.moc.govt.nz>
Message-ID: <Pine.GSO.4.31.0101110759320.27104-100000@auk.stats>

On Thu, 11 Jan 2001, Alistair Merrifield wrote:

> Dear all,
>
> I am interested in reading Excel spreadsheets (*.xls) directly into R (I am
> using version 1.1.1 at the moment). I have not had much luck so far.

Short answer: upgrade. 1.2.0 comes with a manual `R Data Import/Export'
which describes all known ways to do this.

> For the time being, I have been converting Excel files to comma delimited
> files (*.csv) and reading these into R (using commands such as "read.csv").
> This works well, but it would be more efficient if I could read the Excel
> files directly.

You don't actually say what platform this is on.  Excel is a proprietary
format, and I know people who have tried hard and failed to read it on
other platforms.

> I have noticed that there is an Excel interface for R. However, this seems
> to be a backwards approach to my problem . I would prefer to read Excel into
> R, not use R in Excel!
>
> I am sure this cannot be an uncommon thing to want to do (given that Excel
> is a popular programme), although I have not had much success searching in
> the CRAN archives for information. Any comments would be appreciated.

Well, Excel is widely used on Windows.  It is not popular with R
developers.  So if anyone wants to contribute code ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Thu Jan 11 09:34:17 2001
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Thu, 11 Jan 2001 09:34:17 +0100 (CET)
Subject: [R] Reading Excel files from within R.
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKIEFOCAAA.cyg@sympatico.ca>
Message-ID: <Pine.LNX.4.21.0101110932290.963-100000@leo.logilab.fr>

On Thu, 11 Jan 2001, Yves Gauvreau wrote:

> Maybe a much simpler approach would be to use a vbscript | jscript |
> perl-script. Any of these is Ole aware and you could write an R function to
> run your script which would extract the data you want, put it in a file that
> R can read back. That is the quickest and easiest expedient you could use to
> control everything from R.

I heard that R was Python-aware. Python on windows has some COM modules
that could be used to do just that without changing R. 


Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Thu Jan 11 09:40:01 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Thu, 11 Jan 2001 09:40:01 +0100
Subject: [R] Bootstrapping
References: <FB599DB5ACE2D211887500A0C9D334E40B155D@TBACRMEXH001>
Message-ID: <3A5D7161.1CF68A70@Kuonen.com>

"Redding, Matthew" wrote:
> 
> I checked out the R manual for bootstrapping and re-sampling methods, but
> did not find anything.  Are there any contributed procedures that deal with
> this?

For contributed packages u need 2 check

  http://cran.r-project.org/src/contrib/PACKAGES.html

and you'll find for example the "boot" library:

  http://cran.r-project.org/src/contrib/PACKAGES.html#boot

Greets

  Diego

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Thu Jan 11 09:53:09 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Thu, 11 Jan 2001 09:53:09 +0100
Subject: [R] R installation problems...
References: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats> <3A5CAC07.66E5E9BF@Kuonen.com> <x2vgrn19lj.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A5D7475.2B04787C@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> This is perplexing! Could you please try "/path/to/R -d gdb" and
> inside gdb do
> 
> run  --verbose --vanilla
> 
> then at the point of the crash do a "bt" command and tell us what it
> says.

  $ /usr2/R-patched/bin/R -d gdb 
  GNU gdb 4.17
  ...
  (gdb) run  --verbose --vanilla
  Starting program: /usr2/R-patched/bin/R.bin --verbose --vanilla
  R : Copyright 2001, The R Development Core Team
  Version 1.2.0 Patched (2001-01-09)
  ...
  now dyn.load(/usr2/R-patched/library/ctest/libs/ctest.so)..
  >R_ReplConsole(): before "for(;;)" {main.c}

  Program received signal SIGSEGV, Segmentation fault.
  0x4011e1d1 in _IO_fflush (fp=0x401cce60) at iofflush.c:41
  iofflush.c:41: No such file or directory.
  (gdb) bt
  #0  0x4011e1d1 in _IO_fflush (fp=0x401cce60) at iofflush.c:41
  #1  0x4004e738 in rl_prep_terminal ()
  #2  0x4005835b in _rl_callback_newline ()
  #3  0x400583c1 in rl_callback_handler_install ()
  #4  0x80ec24e in Rstd_ReadConsole (prompt=0x81e3c00 "> ", buf=0xbfffec90 "", 
      len=1024, addtohistory=1) at sys-std.c:369
  #5  0x80e9c14 in R_ReadConsole (prompt=0x81e3c00 "> ", buf=0xbfffec90 "", len=1024, 
      addtohistory=1) at system.c:61
  #6  0x80990b1 in R_ReplConsole (rho=0x81e5a6c, savestack=0, browselevel=0)
      at main.c:135
  #7  0x80998e1 in run_Rmainloop () at main.c:491
  #8  0x8099914 in Rf_mainloop () at main.c:505
  #9  0x80e9cd6 in main (ac=3, av=0xbffff164) at system.c:88
  #10 0x400cdbfc in __libc_start_main (main=0x80e9cc0 <main>, argc=3, 
      ubp_av=0xbffff164, init=0x8056568 <_init>, fini=0x8125c6c <_fini>, 
      rtld_fini=0x4000d674 <_dl_fini>, stack_end=0xbffff15c)
      at ../sysdeps/generic/libc-start.c:118
  (gdb) quit


With R-1.2.0 (release) I get exactly the same messages.

> One thing that could cause trouble is if some higher directory (eg
> /usr/R) is not readable, since make is generally using relative paths.

Everything is owned by root, and I'm running R as root, so this should
not be the case.

Greets + many thanks for your help.

  Diego Kuonen

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 11 10:22:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jan 2001 10:22:07 +0100
Subject: [R] R installation problems...
In-Reply-To: Diego Kuonen's message of "Thu, 11 Jan 2001 09:53:09 +0100"
References: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats> <3A5CAC07.66E5E9BF@Kuonen.com> <x2vgrn19lj.fsf@blueberry.kubism.ku.dk> <3A5D7475.2B04787C@Kuonen.com>
Message-ID: <x2snmqh29s.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego at kuonen.com> writes:

> Peter Dalgaard BSA wrote:
> > 
> > This is perplexing! Could you please try "/path/to/R -d gdb" and
> > inside gdb do
> > 
> > run  --verbose --vanilla
> > 
> > then at the point of the crash do a "bt" command and tell us what it
> > says.
> 
>   $ /usr2/R-patched/bin/R -d gdb 
>   GNU gdb 4.17
>   ...
>   (gdb) run  --verbose --vanilla
>   Starting program: /usr2/R-patched/bin/R.bin --verbose --vanilla
>   R : Copyright 2001, The R Development Core Team
>   Version 1.2.0 Patched (2001-01-09)
>   ...
>   now dyn.load(/usr2/R-patched/library/ctest/libs/ctest.so)..
>   >R_ReplConsole(): before "for(;;)" {main.c}
> 
>   Program received signal SIGSEGV, Segmentation fault.
>   0x4011e1d1 in _IO_fflush (fp=0x401cce60) at iofflush.c:41
>   iofflush.c:41: No such file or directory.
>   (gdb) bt
>   #0  0x4011e1d1 in _IO_fflush (fp=0x401cce60) at iofflush.c:41
>   #1  0x4004e738 in rl_prep_terminal ()
>   #2  0x4005835b in _rl_callback_newline ()
>   #3  0x400583c1 in rl_callback_handler_install ()
>   #4  0x80ec24e in Rstd_ReadConsole (prompt=0x81e3c00 "> ", buf=0xbfffec90 "", 

Aha. I think you need to look at your readline library installation.
Can you run R --no-readline ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ucc.ie  Thu Jan 11 11:08:48 2001
From: iosu at ucc.ie (Jesus Maria Frias Celayeta)
Date: Thu, 11 Jan 2001 10:08:48 +0000
Subject: [R] nls error handling
References: <3A5D14DD.9C31348C@fishgame.state.ak.us>
Message-ID: <3A5D8630.71CB6913@ucc.ie>

Hi!

Gregg Rosenkranz wrote:
> 
> I'm written a function that uses nls in a loop to fit a model to resampled data.  Occasionally a sample > is drawn such that the algorithm (apparently) can't converge and...

	Have a look to try(). If you do a try(nls(...)) your script will continue even
if your nls reports an error.

cheers,

IOsu


-- 

Jesus Maria Frias Celayeta, PhD.
Process Engineering Department
University College Cork,Cork
Ireland
phone: 353-21-903096
fax:   353-21-270249
http://www.ucc.ie/acad/departments/processeng/staff/friasj.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Thu Jan 11 10:55:37 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Thu, 11 Jan 2001 10:55:37 +0100
Subject: [R] R installation problems...
References: <Pine.GSO.4.31.0101101516360.8681-100000@toucan.stats> <3A5CAC07.66E5E9BF@Kuonen.com> <x2vgrn19lj.fsf@blueberry.kubism.ku.dk> <3A5D7475.2B04787C@Kuonen.com> <x2snmqh29s.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A5D8319.A4EB4AE3@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> Aha. I think you need to look at your readline library installation.
> Can you run R --no-readline ?

So cool: "R --no-readline" works properly :-)

I just upgraded to readline version 4.1-5, but even after an entire
recompilation of R-patched it still dumps without the "--no-readline"
flag. Do I need to upgrade other packages as well?

I appreciate your help.

Greets

  Diego 

-- 
   _                                          _  
  (o-             Diego Kuonen               -o)
  //\  DMA-Ecublens, EPFL, CH-1015 Lausanne  /\\  
 .v_/_......................................_\_v.
/ Phone: +41(0)21 6935508  Fax: +41(0)21 6934250 \
: http://stat.kuonen.com   http://www.Statoo.com :
: ` Never trust an operating system you don't    : 
:   have sources for ;-) '    http://www.LUGO.ch :
\................................................/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 11 12:54:16 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 11 Jan 2001 06:54:16 -0500
Subject: [R] Reading Excel files from within R.
In-Reply-To: <Pine.LNX.4.21.0101110932290.963-100000@leo.logilab.fr>
Message-ID: <NEBBJKDJHEFCOOLFFAKKMEGACAAA.cyg@sympatico.ca>



> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Alexandre Fayolle
> Envoye : Thursday, January 11, 2001 3:34 AM
> A : r-help at stat.math.ethz.ch
> Objet : RE: [R] Reading Excel files from within R.
>
>
> On Thu, 11 Jan 2001, Yves Gauvreau wrote:
>
> > Maybe a much simpler approach would be to use a vbscript | jscript |
> > perl-script. Any of these is Ole aware and you could write an R
> function to
> > run your script which would extract the data you want, put it
> in a file that
> > R can read back. That is the quickest and easiest expedient you
> could use to
> > control everything from R.
>
> I heard that R was Python-aware. Python on windows has some COM modules
> that could be used to do just that without changing R.
>

I forgot, if it's just reading and writing Excel files you want RODBC is
every thing you nead.

YG

>
> Alexandre Fayolle
> --
> http://www.logilab.com
> Narval is the first software agent available as free software (GPL).
> LOGILAB, Paris (France).
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Thu Jan 11 12:55:31 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Thu, 11 Jan 2001 22:55:31 +1100
Subject: [R] lm variable name limit?
Message-ID: <61411576E951D211AF330008C7245DD9079B2FD7@ntmsg0005.corpmail.telstra.com.au>

whoops, that's not how you do it.  I see my error now.

John Strumila

> -----Original Message-----
> From: Strumila, John [mailto:John.Strumila at team.telstra.com]
> Sent: Thursday, 11 January 2001 2:46 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] lm variable name limit?
> 
> 
> gday R gurus,
> 
> has anyone seen this lm problem?
> 
> When I add 2 bytes to the variable name (via names), lm 
> returns an error.
> It's as if there's a limit to the size of the variable names.
> 
> Any suggestions?
> 
> thanks,
> John Strumila
> 
> >  names(y)[12:14]
> [1] "Log.SQLServer.Locks.RID.Lock.Wait" "Log.SQLServer.Lock"  
>              
> [3] "xxaa"                             
> >  names(y)[12]<-"Log.SQLServer.Locks.RID.Lock.Wa"
> >
> my.formula<-as.formula(paste(paste("y$",names(y)[12:14],collap
> se="+",sep="")
> ,' ~ ',paste('x$"',names(x),'"',sep="",collapse="+"),"-1"))
> > lm(my.formula)
> 
> Call:
> lm(formula = my.formula)
> 
> Coefficients:
>  x$\"1\"   x$\"2\"   x$\"3\"   x$\"4\"   x$\"6\"   x$\"7\"   x$\"8\"
> x$\"9\"  
>        0        NA        NA        NA         0         0        NA
> NA  
> x$\"10\"  x$\"11\"  x$\"12\"  x$\"13\"  x$\"14\"  x$\"15\"  x$\"16\"
> x$\"17\"  
>        0        NA        NA        NA         0        NA         0
> NA  
> x$\"18\"  x$\"19\"  x$\"20\"  x$\"21\"  x$\"22\"  x$\"23\"  x$\"24\"
> x$\"25\"  
>        0        NA        NA        NA         0        NA         0
> NA  
> x$\"26\"  x$\"27\"  x$\"28\"  x$\"29\"  x$\"30\"  x$\"32\"  x$\"33\"
> x$\"34\"  
>       NA         0        NA        NA         0        NA        NA
> NA  
> x$\"35\"  x$\"36\"  x$\"37\"  x$\"38\"  x$\"39\"  x$\"40\"  x$\"41\"
> x$\"42\"  
>       NA        NA         0        NA         0        NA        NA
> NA  
> x$\"44\"  x$\"45\"  x$\"46\"  x$\"47\"  x$\"49\"  x$\"50\"  x$\"52\"
> x$\"53\"  
>       NA        NA        NA        NA         0        NA         0
> NA  
> x$\"54\"  x$\"55\"  x$\"56\"  x$\"57\"  x$\"58\"  
>        0        NA         0        NA        NA  
> 
> >  names(y)[12]<-"Log.SQLServer.Locks.RID.Lock.Wait"   #<== 
> add 2 chars to
> variable name
> >
> my.formula<-as.formula(paste(paste("y$",names(y)[12:14],collap
> se="+",sep="")
> ,' ~ ',paste('x$"',names(x),'"',sep="",collapse="+"),"-1"))
> > lm(my.formula)
> Error in y$Log.SQLServer.Locks.RID.Lock.Wait + 
> y$Log.SQLServer.Lock +  : 
>         non-numeric argument to binary operator
> > version
>          _                
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R        
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 11 13:44:24 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 11 Jan 2001 07:44:24 -0500
Subject: [R] Principal component?
In-Reply-To: <14936.51912.845881.674706@sonny.eddelbuettel.com>
Message-ID: <NEBBJKDJHEFCOOLFFAKKCEGBCAAA.cyg@sympatico.ca>

Hi everyone,

I did a principal component analysis (princomp) on a dataset I have, I
plotted the first two columns and labeled the points by their index number.
I observed that most index sequences (points 50:65 for example) kind of form
arc shape trajectories on the graph (even loops), some of those seem to
converge at some particular location and those specific patterns just happen
to have some interest. Beside that the plot seems like a set of randomly
distributed points and there is no obvious grouping.

I wonder if anyone as ever observe something similar and if there could be
some particular meaning to these arc shape trajectories?

Thanks for your time.

PS. If you need more details I'll gladly comply.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomassi at dina.kvl.dk  Thu Jan 11 15:30:58 2001
From: thomassi at dina.kvl.dk (Thomas S. Iversen)
Date: Thu, 11 Jan 2001 15:30:58 +0100 (CET)
Subject: [R] Help evaluating and R object over an C list
Message-ID: <Pine.LNX.4.21.0101111530420.4251-100000@dirac.dina.kvl.dk>

Hello there

I have some problems getting my code running. Basically I'm writting an C
library which performs some data manipulation.

I have an list of floats in C (float *list)
I also have an R function (represnted by a SEXP)

and I need to obtain an list of floats again by evaluating
each float in the in list using the R function.

How do I do that???

Please answer to my email adress as I'm not on this list.

Yours Thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Thu Jan 11 15:58:54 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Thu, 11 Jan 2001 09:58:54 -0500
Subject: [R] Some Packages Won't Run under RH 7
References: <200101110108.f0B18Tn09970@biomat1.marc.hort.cri.nz>
Message-ID: <3A5DCA2E.ACF78AD5@nauticom.net>

Patrick Connolly wrote:

> According to Richard A. Bilonick:
> |>
> |> I recently installed Red Hat Linux 7.0. I installed Version 1.2.0  (2000-12-15) of
> |> R. I installed a number of packages including chron, date, ellipse, sgeostat,
> |> survival5, and xtable. the "library()" command shows that they are installed.
> |>
> |> chron works but I get the following for survival5:
> |>
> |> > library(survival5)
> |> /usr/lib/R/bin/R.bin: error while loading shared libraries: /usr/lib/R/bin/R.bin:
> |> symbol __sysconf, version GLIBC_2.2 not defined in file libc.so.6 with link time
> |> reference
>
> Just a guess: looks like you didn't get the updates (of RH7.0) which
> fixed several bugs.
>
> best
>
> --
> *************************************************************
> Patrick Connolly
> HortResearch
> Mt Albert               It's better to do nothing than to waste time
> Auckland                                      ..... Viktoras Kulvinskas
> New Zealand
> Ph: +64-9 815 4200 x 7188
> *************************************************************

I installed the updates, re-installed survival5 and I get the same error message.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Thu Jan 11 16:57:00 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Thu, 11 Jan 2001 10:57:00 -0500
Subject: ORe: [R] Some Packages Won't Run under RH 7
References: <200101110108.f0B18Tn09970@biomat1.marc.hort.cri.nz>
Message-ID: <3A5DD7CC.3FC84BF7@nauticom.net>

Patrick Connolly wrote:

> According to Richard A. Bilonick:
> |>
> |> I recently installed Red Hat Linux 7.0. I installed Version 1.2.0  (2000-12-15) of
> |> R. I installed a number of packages including chron, date, ellipse, sgeostat,
> |> survival5, and xtable. the "library()" command shows that they are installed.
> |>
> |> chron works but I get the following for survival5:
> |>
> |> > library(survival5)
> |> /usr/lib/R/bin/R.bin: error while loading shared libraries: /usr/lib/R/bin/R.bin:
> |> symbol __sysconf, version GLIBC_2.2 not defined in file libc.so.6 with link time
> |> reference
>
> Just a guess: looks like you didn't get the updates (of RH7.0) which
> fixed several bugs.
>
> best
>
> --
> *************************************************************
> Patrick Connolly
> HortResearch
> Mt Albert               It's better to do nothing than to waste time
> Auckland                                      ..... Viktoras Kulvinskas
> New Zealand
> Ph: +64-9 815 4200 x 7188
> *************************************************************

Ignore my previous message. Once I installed the relevant ugrades, the packages work OK.
Thanks.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Thu Jan 11 19:07:37 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Fri, 12 Jan 2001 01:07:37 +0700
Subject: [R] Reformatting dates using chron
Message-ID: <000e01c07bf9$94b8b520$b0da94cb@andrew8gpipq9q>

Hello All:

I am trying to generate a sequence of dates using library(chron). Using the following code, I got most of what I want,

         dts <- seq.dates("01/02/1998", "01/10/2001", by="day")
         dts <- dts[!is.weekend(dts)]

a sequence of weekdays only (no weekend dates), with first observation appearing as 01/02/98 and the last 01/10/01. But I would like it to appear as 1998/01/02 to 2001/01/10.

Is there some way to change the order of the output and allow "year" to appear with four digits and slash signs between year, month and day?

(I am using R 1.2.0 on a Windows 2000 platform.)

Thanks (in advance),
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010112/48332d11/attachment.html

From yuling5 at yahoo.com  Thu Jan 11 19:19:18 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Thu, 11 Jan 2001 10:19:18 -0800 (PST)
Subject: [R] read data into R with some constraints
Message-ID: <20010111181918.60873.qmail@web11503.mail.yahoo.com>

Hi,

I have a big data file (over 30,000 records) looks
like this:

100, 20, 46, 70
103,  0, 22, 45
117, -1, 34, 65
120, 15,  0, 25
113,  0,  -1, 32
142, -1, -1, 55
.....

I want to read only those records having positive
values in all of the  four 
columns. That is, I don't want to read record # 3, 5,
and 6 into R. However,
when I type:

read.csv("data.csv", sep=",")  -> rawdata

it reads the whole thing into R including those
records I don't want.
Could anyone tell me how I can read only those records
I want?

Thanks,
Yu-Ling Wu




__________________________________________________
Do You Yahoo!?
Yahoo! Photos - Share your holiday photos online!
http://photos.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 19:33:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Jan 2001 18:33:35 +0000 (GMT)
Subject: [R] Reformatting dates using chron
In-Reply-To: <000e01c07bf9$94b8b520$b0da94cb@andrew8gpipq9q>
Message-ID: <Pine.GSO.4.31.0101111824030.1498-100000@auk.stats>

On Fri, 12 Jan 2001, Andrew Criswell wrote:

> Hello All:
>
> I am trying to generate a sequence of dates using library(chron). Using the following code, I got most of what I want,
>
>          dts <- seq.dates("01/02/1998", "01/10/2001", by="day")
>          dts <- dts[!is.weekend(dts)]
>
> a sequence of weekdays only (no weekend dates), with first observation appearing as 01/02/98 and the last 01/10/01. But I would like it to appear as 1998/01/02 to 2001/01/10.
>
> Is there some way to change the order of the output and allow "year" to appear with four digits and slash signs between year, month and day?
>
> (I am using R 1.2.0 on a Windows 2000 platform.)

That's how they print.

attr(dts, "format") <- "y/m/d"

gives

> dts[1]
[1] 98/01/02

I can't get `year' to work in there, so try

format(as.POSIXct(dts), "%Y/%m/%d")

which does work and is very flexible.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 19:45:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Jan 2001 18:45:04 +0000 (GMT)
Subject: [R] read data into R with some constraints
In-Reply-To: <20010111181918.60873.qmail@web11503.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0101111834200.1498-100000@auk.stats>

On Thu, 11 Jan 2001, Yu-Ling Wu wrote:

> Hi,
>
> I have a big data file (over 30,000 records) looks
> like this:
>
> 100, 20, 46, 70
> 103,  0, 22, 45
> 117, -1, 34, 65
> 120, 15,  0, 25
> 113,  0,  -1, 32
> 142, -1, -1, 55
> .....
>
> I want to read only those records having positive
> values in all of the  four
> columns. That is, I don't want to read record # 3, 5,
> and 6 into R. However,
> when I type:
>
> read.csv("data.csv", sep=",")  -> rawdata

Um, read.csv uses sep =",", and you need header=FALSE.

> it reads the whole thing into R including those
> records I don't want.
> Could anyone tell me how I can read only those records
> I want?

You can't!  Until you have read the record, you cannot tell if all the
entries are positive.

Is this really a problem?  You only have around 120k numbers, and I just
did it very easily.

rawdata <- read.csv("data.csv", header=F)

Perhaps better is to use a matrix and scan():

rawdata <- matrix(scan("data.csv", sep=","), , 4, byrow=TRUE)
keep <- (rawdata <= 0) %*% rep(1,4) == 0
rawdata[keep, ]

Takes a few seconds and a few Mb.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Thu Jan 11 20:18:14 2001
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 11 Jan 2001 09:18:14 -1000
Subject: [R] read data into R with some constraints
References: <20010111181918.60873.qmail@web11503.mail.yahoo.com>
Message-ID: <3A5E06F6.57725651@honlab.nmfs.hawaii.edu>

You can filter the data after reading as follows:

> rawdata <- read.csv("data.csv", sep=",",header=FALSE)
> rawdata <- rawdata[apply(rawdata,1,function(x)all(x>=0)),]

   Cheers, Pierre

Yu-Ling Wu wrote:
> 
> Hi,
> 
> I have a big data file (over 30,000 records) looks
> like this:
> 
> 100, 20, 46, 70
> 103,  0, 22, 45
> 117, -1, 34, 65
> 120, 15,  0, 25
> 113,  0,  -1, 32
> 142, -1, -1, 55
> .....
> 
> I want to read only those records having positive
> values in all of the  four
> columns. That is, I don't want to read record # 3, 5,
> and 6 into R. However,
> when I type:
> 
> read.csv("data.csv", sep=",")  -> rawdata
> 
> it reads the whole thing into R including those
> records I don't want.
> Could anyone tell me how I can read only those records
> I want?
> 
> Thanks,
> Yu-Ling Wu
> 
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Photos - Share your holiday photos online!
> http://photos.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jan 11 20:51:16 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 11 Jan 2001 14:51:16 -0500 (EST)
Subject: [R] read data into R with some constraints
Message-ID: <200101111951.OAA25891@cattell.psych.upenn.edu>

>I have a big data file (over 30,000 records) looks
>like this:
>
>100, 20, 46, 70
>103,  0, 22, 45
>117, -1, 34, 65
>120, 15,  0, 25
>113,  0,  -1, 32
>142, -1, -1, 55
>.....
>
>I want to read only those records having positive
>values in all of the  four 
>columns. That is, I don't want to read record # 3, 5,
>and 6 into R.

Perhaps someone knows how to do this with R, but, if
I had to do it right now, I would pre-process with grep
before reading into R:

grep -v "-" myddata > myshorterdata

The "grep" tool is available on Unix and Linux.  If you have
Windows, it would be useful to get the "unix tools for windows",
which, unfornuately, I have just been unable to find after 10
minutes of searching www.gnu.org.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 21:17:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Jan 2001 20:17:30 +0000 (GMT)
Subject: [R] read data into R with some constraints
In-Reply-To: <200101111951.OAA25891@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.31.0101112016490.1702-100000@auk.stats>

On Thu, 11 Jan 2001, Jonathan Baron wrote:

> >I have a big data file (over 30,000 records) looks
> >like this:
> >
> >100, 20, 46, 70
> >103,  0, 22, 45
> >117, -1, 34, 65
> >120, 15,  0, 25
> >113,  0,  -1, 32
> >142, -1, -1, 55
> >.....
> >
> >I want to read only those records having positive
> >values in all of the  four
> >columns. That is, I don't want to read record # 3, 5,
> >and 6 into R.
>
> Perhaps someone knows how to do this with R, but, if
> I had to do it right now, I would pre-process with grep
> before reading into R:
>
> grep -v "-" myddata > myshorterdata
>
> The "grep" tool is available on Unix and Linux.  If you have
> Windows, it would be useful to get the "unix tools for windows",
> which, unfornuately, I have just been unable to find after 10
> minutes of searching www.gnu.org.

http://www.stats.ox.ac.uk/pub/Rtools

would be a good start.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 11 22:16:06 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 11 Jan 2001 16:16:06 -0500
Subject: [R] read data into R with some constraints (Just out of curiosity)
In-Reply-To: <Pine.GSO.4.31.0101111834200.1498-100000@auk.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKCEGECAAA.cyg@sympatico.ca>

Hi Brian

I'm not sure about this but could this kind of selective records reading be
done (at least under Windoze) using RODBC since there is a driver for ASCII
file sources?

Assuming the answer is Yes. I would then ask if RODBC could also be used to
do the same for a file residing on a Linux (Ext2fs) drive or any other file
system for that matter?

(I think not because RODBC is just an interface that call upon the existing
drivers on the system.)


Regards

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian D Ripley
> Envoye : Thursday, January 11, 2001 1:45 PM
> A : Yu-Ling Wu
> Cc : R-help at stat.math.ethz.ch
> Objet : Re: [R] read data into R with some constraints
>
>
> On Thu, 11 Jan 2001, Yu-Ling Wu wrote:
>
> > Hi,
> >
> > I have a big data file (over 30,000 records) looks
> > like this:
> >
> > 100, 20, 46, 70
> > 103,  0, 22, 45
> > 117, -1, 34, 65
> > 120, 15,  0, 25
> > 113,  0,  -1, 32
> > 142, -1, -1, 55
> > .....
> >
> > I want to read only those records having positive
> > values in all of the  four
> > columns. That is, I don't want to read record # 3, 5,
> > and 6 into R. However,
> > when I type:
> >
> > read.csv("data.csv", sep=",")  -> rawdata
>
> Um, read.csv uses sep =",", and you need header=FALSE.
>
> > it reads the whole thing into R including those
> > records I don't want.
> > Could anyone tell me how I can read only those records
> > I want?
>
> You can't!  Until you have read the record, you cannot tell if all the
> entries are positive.
>
> Is this really a problem?  You only have around 120k numbers, and I just
> did it very easily.
>
> rawdata <- read.csv("data.csv", header=F)
>
> Perhaps better is to use a matrix and scan():
>
> rawdata <- matrix(scan("data.csv", sep=","), , 4, byrow=TRUE)
> keep <- (rawdata <= 0) %*% rep(1,4) == 0
> rawdata[keep, ]
>
> Takes a few seconds and a few Mb.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 11 22:13:32 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 11 Jan 2001 21:13:32 +0000 (GMT)
Subject: [R] read data into R with some constraints (Just out of curiosity)
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKCEGECAAA.cyg@sympatico.ca>
Message-ID: <Pine.LNX.4.21.0101112112280.6579-100000@localhost>

On Thu, 11 Jan 2001, Yves Gauvreau wrote:

> Hi Brian
> 
> I'm not sure about this but could this kind of selective records reading be
> done (at least under Windoze) using RODBC since there is a driver for ASCII
> file sources?

Yes, it could.

> Assuming the answer is Yes. I would then ask if RODBC could also be used to
> do the same for a file residing on a Linux (Ext2fs) drive or any other file
> system for that matter?

Don't think so.

Had the request been 100x larger, I would have suggested that.

> 
> (I think not because RODBC is just an interface that call upon the existing
> drivers on the system.)
> 
> 
> Regards
> 
> Yves Gauvreau
> B.E.F.P. Universite du Quebec a Montreal
> cyg at sympatico.ca
> 
> > -----Message d'origine-----
> > De : owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian D Ripley
> > Envoye : Thursday, January 11, 2001 1:45 PM
> > A : Yu-Ling Wu
> > Cc : R-help at stat.math.ethz.ch
> > Objet : Re: [R] read data into R with some constraints
> >
> >
> > On Thu, 11 Jan 2001, Yu-Ling Wu wrote:
> >
> > > Hi,
> > >
> > > I have a big data file (over 30,000 records) looks
> > > like this:
> > >
> > > 100, 20, 46, 70
> > > 103,  0, 22, 45
> > > 117, -1, 34, 65
> > > 120, 15,  0, 25
> > > 113,  0,  -1, 32
> > > 142, -1, -1, 55
> > > .....
> > >
> > > I want to read only those records having positive
> > > values in all of the  four
> > > columns. That is, I don't want to read record # 3, 5,
> > > and 6 into R. However,
> > > when I type:
> > >
> > > read.csv("data.csv", sep=",")  -> rawdata
> >
> > Um, read.csv uses sep =",", and you need header=FALSE.
> >
> > > it reads the whole thing into R including those
> > > records I don't want.
> > > Could anyone tell me how I can read only those records
> > > I want?
> >
> > You can't!  Until you have read the record, you cannot tell if all the
> > entries are positive.
> >
> > Is this really a problem?  You only have around 120k numbers, and I just
> > did it very easily.
> >
> > rawdata <- read.csv("data.csv", header=F)
> >
> > Perhaps better is to use a matrix and scan():
> >
> > rawdata <- matrix(scan("data.csv", sep=","), , 4, byrow=TRUE)
> > keep <- (rawdata <= 0) %*% rep(1,4) == 0
> > rawdata[keep, ]
> >
> > Takes a few seconds and a few Mb.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Jan 12 00:57:07 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 12 Jan 2001 12:57:07 +1300
Subject: [R] read data into R with some constraints (Just out of curiosity)
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKCEGECAAA.cyg@sympatico.ca>; from cyg@sympatico.ca on Thu, Jan 11, 2001 at 04:16:06PM -0500
References: <Pine.GSO.4.31.0101111834200.1498-100000@auk.stats> <NEBBJKDJHEFCOOLFFAKKCEGECAAA.cyg@sympatico.ca>
Message-ID: <20010112125707.A2149@camille.indigoindustrial.co.nz>


> Assuming the answer is Yes. I would then ask if RODBC could also be used to
> do the same for a file residing on a Linux (Ext2fs) drive or any other file
> system for that matter?

Not an arbitrary filesystem, but if it's on a Linux box, and
it's really a big file, you might want to:

1) export the file to the Windows box via Samba.
2) apply the Windows ODBC text driver.
3) use RODBC to read the file.

Far too involved for a file this size, unless this is part
of a dynamic data / updating regularly problem.  In which case,
I'd suggest using a real database (Oracle, PgSQL, etc) and an
ODBC driver.

I say again: the above steps are really too convoluted for
everyday use, particularly if you don't have Samba set up 
already.  

Cheers,

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kawa at aris.ss.uci.edu  Fri Jan 12 01:08:43 2001
From: kawa at aris.ss.uci.edu (Hiroyuki Kawakatsu)
Date: Thu, 11 Jan 2001 16:08:43 -0800 (PST)
Subject: [R] Levenberg-Marquardt algorithm
Message-ID: <Pine.GSO.4.30.0101111603240.14160-100000@aris.ss.uci.edu>

On Wed, 10 Jan 2001, Prof Brian Ripley wrote:

> 1) R does not specialised software for non-linear least squares: nls
> is Gauss-Newton inside, I believe. (I could not find that
> documented, except for the S version.) But NLS is a specialized
> problem and not that common in my experience.

Maybe in statistics, but not quite in econometrics. Most econometrics
textbooks discuss non-linear least squares in quite details. See, for
example, my favorite textbook

Davidson and MacKinnon (1993) Estimation and Inference in
Econometrics, Oxford University Press.

> For such problems general optimization algorithms (e.g. those in
> optim) are often at least as good as specialized NLS methods. So I
> did not think it worth implementing the current crop of specialized
> NLS methods.

There is an issue of what is meant by "good." Most NLS models
estimated in econometrics are small dimension "dense" models and for
these problems there is evidence that specialized algorithms produce
"better" results in terms of accuracy. There is a recent article^(1)
that compares the numerical accuracy of NLS estimates in canned
statistical packages using the NLS problems posted at NIST's
statistical reference datasets page at

http://www.nist.gov/itl/div898/strd/nls/nls_main.shtml

It is my experience that, at least for the dense NIST problems, the
specialized algorithms (for example, TOMS algorithm 573, NL2SOL
written by Dennis, Gay, and Welsch in 1981) return more accurate
estimates than general minimization routines that do not exploit the
least squares structure. I do not recall whether R was tested in the
article sited below, but it would be great if someone could volunteer
to test the accuracy of the R optimizer for the NIST problems.

(1) McCullough, BD. "Assessing the reliability of statistical
software"
Part  I: AMERICAN STATISTICIAN, 1998 NOV, V52 N4:358-366.
Part II: AMERICAN STATISTICIAN, 1999 MAY, V53 N2:149-159.

h.
--------------------------------------------------------------------
Time series regression studies give no sign of converging toward the
truth. (Phillip Cagan)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jan 12 05:57:58 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 11 Jan 2001 22:57:58 -0600
Subject: [R] Levenberg-Marquardt algorithm
In-Reply-To: Hiroyuki Kawakatsu's message of "Thu, 11 Jan 2001 16:08:43 -0800 (PST)"
References: <Pine.GSO.4.30.0101111603240.14160-100000@aris.ss.uci.edu>
Message-ID: <6rae8x1i5l.fsf@franz.stat.wisc.edu>

Hiroyuki Kawakatsu <kawa at aris.ss.uci.edu> writes:

> There is a recent article^(1)
> that compares the numerical accuracy of NLS estimates in canned
> statistical packages using the NLS problems posted at NIST's
> statistical reference datasets page at
> 
> http://www.nist.gov/itl/div898/strd/nls/nls_main.shtml
> 
> It is my experience that, at least for the dense NIST problems, the
> specialized algorithms (for example, TOMS algorithm 573, NL2SOL
> written by Dennis, Gay, and Welsch in 1981) return more accurate
> estimates than general minimization routines that do not exploit the
> least squares structure. I do not recall whether R was tested in the
> article sited below, but it would be great if someone could volunteer
> to test the accuracy of the R optimizer for the NIST problems.
> 
> (1) McCullough, BD. "Assessing the reliability of statistical
> software"
> Part  I: AMERICAN STATISTICIAN, 1998 NOV, V52 N4:358-366.
> Part II: AMERICAN STATISTICIAN, 1999 MAY, V53 N2:149-159.

Bruce McCullough does not compare R with the other software but he
does have S-PLUS in his comparisons and the algorithms in S-PLUS and
in R are the same although the implementations are different.  I know
because I wrote both of them.

There is an R package on CRAN called NISTnls that contains the data
sets from the NIST URL you give.  If you run individual examples from
that package you can see how the nls function performs on each
example.  To run all the examples you can use 
  R CMD check NISTnls

NIST gives two sets of starting estimates for each problem.
Frequently the example in the NISTnls documentation for a data set
will show four or more attempts at converging - 2 without using the
"plinear" algorithm that takes advantage of partial linearity and 2
with "plinear".  Generally all four converge but the ones using
"plinear" are more stable.  For example, on the Bennett5 data the
first attempt (without "plinear") does not converge, the second
attempt (without "plinear") does converge but has to reduce the
residual sum of squares from an initial value of 57261.1 down to
0.000524 at convergence, the third attempt (using "plinear") does
converge from an initial RSS of 0.53381 and the fourth attempt (using
"plinear") also converges from an initial RSS of 2.075 (this is wrong
in the 0.9-5 version of the package but will be corrected in 0.9-6).

Some of these test problems are made artificially difficult by
choosing ridiculous starting estimates.  Consider the Eckerle4
example.  They want to fit the location and scale parameters for a
Gaussian curve as well as a scale factor.  A plot of the data clearly
shows that the peak is around x = 450 and the half-height bandwidth
would be around 5.  These would be the natural starting estimates for
the parameters b2 and b3 in their form of the model.  Instead they
start at b2 = 10 and b3 = 500.  That is, they are starting the
estimate for the location parameter about 10 standard deviations away
from the peak of the curve.  This is nonsense.

One of the interesting points that Bruce McCullough noted in his
comparisons is that S-PLUS is one of only two packages that does not
declare convergence falsely.  R also has this property.  S-PLUS and R
use an orthogonality convergence criterion that gives an unambiguous
indication of convergence.  They don't always converge but when they
do declare convergence they can be trusted to have converged.  Most
other software packages use a criterion based on the progress of the
algorithm and such criteria can be fooled.

For some of the examples the convergence criterion in R is not met
because the example has an "exact" solution and the numerical
imprecision in the evaluation of derivatives exceeds the size of the
residuals.  Such difficulties are encountered only in artificial
examples.  It amazes me that numerical analysts talk about the
properties of algorithms on "large residual" problems then test the
algorithms on artificial data that is generated without error.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Fri Jan 12 08:33:36 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Fri, 12 Jan 2001 08:33:36 +0100
Subject: [R] Confidence Limits for Non-Linear Regression
Message-ID: <NBBBIJMBGLHMKHGCPFJKKEPKCFAA.dieter.menne@menne-biomed.de>

Dear friends of nls,

I have tried confint.nls on a few logistic regression fit; all curves are
well-behaved. Only in 1 out of 3 cases, the method converged, it stopped on the
other cases with "singular matrix" or "number of iterations exceeded". I have
put in the intermediate step by computing the profiles first and manipulating
alphamax and delta.t, but I could not find a compromise that worked.

Anybody can give me a hint?


Dieter



(Sorry, could not find the right method to reply to a thread found in the
archives)
---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Jan 12 08:50:02 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 12 Jan 2001 08:50:02 +0100
Subject: [R] Reformatting dates using chron
In-Reply-To: <Pine.GSO.4.31.0101111824030.1498-100000@auk.stats>
References: <000e01c07bf9$94b8b520$b0da94cb@andrew8gpipq9q>
	<Pine.GSO.4.31.0101111824030.1498-100000@auk.stats>
Message-ID: <14942.46890.547596.133961@mithrandir.hornik.net>

>>>>> Prof Brian D Ripley writes:

> On Fri, 12 Jan 2001, Andrew Criswell wrote:
>> Hello All:
>> 
>> I am trying to generate a sequence of dates using library(chron). Using the following code, I got most of what I want,
>> 
>> dts <- seq.dates("01/02/1998", "01/10/2001", by="day")
>> dts <- dts[!is.weekend(dts)]
>> 
>> a sequence of weekdays only (no weekend dates), with first observation appearing as 01/02/98 and the last 01/10/01. But I would like it to appear as 1998/01/02 to 2001/01/10.
>> 
>> Is there some way to change the order of the output and allow "year" to appear with four digits and slash signs between year, month and day?
>> 
>> (I am using R 1.2.0 on a Windows 2000 platform.)

> That's how they print.

> attr(dts, "format") <- "y/m/d"

> gives

>> dts[1]
> [1] 98/01/02

> I can't get `year' to work in there, so try

> format(as.POSIXct(dts), "%Y/%m/%d")

> which does work and is very flexible.

Using the standard formatting tools from chron, you can do e.g.

	format(dts) <- "year month day"

which will give

R> dts
[1] 1998 January 02 1998 January 03 1998 January 04 1998 January 05

etc, but you cannot get a full year immediately followed by a non space
separtor.  You could write a *function* which produces the format you
want ... but as Brian correctly points out, using the new date/time
classes in R 1.2 is much more convenient.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 12 08:50:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 Jan 2001 07:50:37 +0000 (GMT)
Subject: [R] Confidence Limits for Non-Linear Regression
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKKEPKCFAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.GSO.4.31.0101120736040.3062-100000@auk.stats>

On Fri, 12 Jan 2001, Dieter Menne wrote:

> Dear friends of nls,
>
> I have tried confint.nls on a few logistic regression fit; all curves are
> well-behaved. Only in 1 out of 3 cases, the method converged, it stopped on the
> other cases with "singular matrix" or "number of iterations exceeded". I have
> put in the intermediate step by computing the profiles first and manipulating
> alphamax and delta.t, but I could not find a compromise that worked.
>
> Anybody can give me a hint?

Probably your problem is too hard for profile.nls.  I don't see that this
is much to do with confint.nls:  that calls profile[.nls] and the
latter is failing.  `the method' that is not converging is nls as called by
profile[.nls], I think.

I had thought if you turn tracing on, you would see the area in parameter
space where profile.nls gets in trouble, but profiling seems to turn it
off.  You could try increasing maxiter in nls.control.

Incidentally to Doug Bates: the `trace' argument of nls is missing from the
described arguments.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 11 16:22:26 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jan 2001 16:22:26 +0100
Subject: [R] Some Packages Won't Run under RH 7
In-Reply-To: "Richard A. Bilonick"'s message of "Thu, 11 Jan 2001 09:58:54 -0500"
References: <200101110108.f0B18Tn09970@biomat1.marc.hort.cri.nz> <3A5DCA2E.ACF78AD5@nauticom.net>
Message-ID: <x2n1cydsgd.fsf@blueberry.kubism.ku.dk>

"Richard A. Bilonick" <rab at nauticom.net> writes:


> I installed the updates, re-installed survival5 and I get the same error message.

You also need to reinstall R itself.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Fri Jan 12 09:54:41 2001
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Fri, 12 Jan 2001 09:54:41 +0100 (CET)
Subject: [R] unix tools for windows
In-Reply-To: <200101111951.OAA25891@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.21.0101120953150.2687-100000@leo.logilab.fr>

On Thu, 11 Jan 2001, Jonathan Baron wrote:
> The "grep" tool is available on Unix and Linux.  If you have
> Windows, it would be useful to get the "unix tools for windows",
> which, unfornuately, I have just been unable to find after 10
> minutes of searching www.gnu.org.

You may want to try http://sources.redhat.com/cygwin/

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Jan 12 10:57:56 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 12 Jan 2001 10:57:56 +0100
Subject: [R] strange loss of accuracies under Win NT
Message-ID: <3.0.32.20010112105756.00918e50@162.38.183.200>

Dear All,

It's been several times I observed a very strange behaviour with R 1.2.0
under Windows NT 4.0 (with sp5): accuracies are lost in many cases. Things
are back to normal when I exit R and restart it. Here is an example of my
last encounter with this:

> bt1 <- c(7.3, 8.1, 8.4, 7, 6, 7.2, 6.7, 8.3, 9, 7.4, 8.6, 6.2, 6.9, 7.6,
5.3, 5.6)
> bt1
 [1] 7 8 8 7 6 7 6 8 9 7 8 6 6 7 5 5
> 1000*0.1
[1] 0
> log(0.9999)
[1] -Inf
> log(1.9999)
[1] 0
> log(2)
[1] 0,6931472


I used R 1.1.1 on the same computer quite a lot, and never saw this. Has
anyone seen this with R 1.2.0?


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cozzuol at enter-net.com.br  Fri Jan 12 03:46:14 2001
From: cozzuol at enter-net.com.br (Mario Alberto Cozzuol)
Date: Sat, 12 Jan 2001 02:46:14 UTC
Subject: [R] Subject: R and gui=X11
Message-ID: <TradeClient.0.7.3-35.Linux-2.2.16-22.010111224614FFFFFFF9.2590@mario>

Hi,
I just subscribed the list and I am very new to R. I was in desperate
need of a statistical package like R for Linux and finaly found it.
The first question I have is about ussing R in a graphic environment.
The manual says almost nothing on that. I tryed to use R --gui=X11 (I
use KDE 2.01, so, have not gnome, the other option, in my Linux box),
but nothing happed (or I think that). No desktop interfase. What I am
doing wrong?
This was probably this was asked before, but I did not found it in the
archives.
Tanks in advance.

Mario


Mario A. Cozzuol
Caixa Postal 444
78900-970 Porto Velho, RO
Brasil
Tel. +55 69 227-2235
Fax +55 69 227-2235
E-mail cozzuol at enter-net.com.br
            mario at unir.br
`To get the full flavor of life, get big bites. Moderation is for monks`
Time Enough for Love
R.A.Heinlein

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Fri Jan 12 13:42:20 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Fri, 12 Jan 2001 13:42:20 +0100 (CET)
Subject: [R] CRAN unavailable?
Message-ID: <Pine.LNX.4.21.0101121338500.632-100000@kleigh.nl>


Again, CRAN and all of its mirrors are unreachable. My
impression is this happens quite often. What is going on?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan 12 15:50:40 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 12 Jan 2001 15:50:40 +0100
Subject: [R] CRAN unavailable?
References: <Pine.LNX.4.21.0101121338500.632-100000@kleigh.nl>
Message-ID: <3A5F19C0.F454ECEF@statistik.uni-dortmund.de>



Peter Kleiweg wrote:
> 
> Again, CRAN and all of its mirrors are unreachable. My
> impression is this happens quite often. What is going on?

Are you sure? For me it works.
Maybe you have got some troubles with your local internet connections?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jan 12 16:09:26 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 Jan 2001 09:09:26 -0600
Subject: [R] Confidence Limits for Non-Linear Regression
In-Reply-To: Prof Brian D Ripley's message of "Fri, 12 Jan 2001 07:50:37 +0000 (GMT)"
References: <Pine.GSO.4.31.0101120736040.3062-100000@auk.stats>
Message-ID: <6rsnmoq02h.fsf@franz.stat.wisc.edu>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> I had thought if you turn tracing on, you would see the area in parameter
> space where profile.nls gets in trouble, but profiling seems to turn it
> off.  You could try increasing maxiter in nls.control.

It works if trace = TRUE in the original call to nls that creates the
object being profiled.  Try

example(Bennett5, package = "NISTnls")
pr2 <- profile(fm2)


Dieter: If you fitting a conventional three parameter logistic model
or a four parameter model you may want to try the self-starting model
functions in the nls package (SSlogis or SSfpl).  Those functions use
a parameterization that has proven to be very stable.  Often the
difficulties in assessing the variability in parameter estimates is
due to a poorly chosen parameterization for the model.

If you would be willing to send me one of the problematic data sets I
could try to assess what is going wrong for you.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Fri Jan 12 16:25:09 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Fri, 12 Jan 2001 22:25:09 +0700
Subject: [R] Reformatting dates using chron
Message-ID: <009301c07cab$dbb68e40$adda94cb@andrew8gpipq9q>

Hello All:

Thank you, Prof. Ripley for your suggestion. My newbiesque workaround to the problem was this:

        # Compute sequence of dates for weekdays only (exclude weekends)

           dts <- seq.dates("01/02/98", "01/10/01", by="day")
           dts <- dts[!is.weekend(dts)]

        # Reformat dates as YYYY/MM/DD

           m <- as.numeric(months(dts))
           m <- ifelse(m<10,paste(0,m,sep=""),m)

           d <- as.numeric(days(dts))
           d <- ifelse(d<10,paste(0,d,sep=""),d)

           dte <- paste(years(dts),m,d,sep="/")

There must be a more elegant and aesthetically pleasing alternative than this.

Best wishes,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010112/07f13a32/attachment.html

From murdoch at stats.uwo.ca  Fri Jan 12 17:17:00 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 12 Jan 2001 11:17:00 -0500
Subject: [R] strange loss of accuracies under Win NT
In-Reply-To: <3.0.32.20010112105756.00918e50@162.38.183.200>
References: <3.0.32.20010112105756.00918e50@162.38.183.200>
Message-ID: <3a682d60.92237189@fisher.stats.uwo.ca>

On Fri, 12 Jan 2001 10:57:56 +0100, you wrote in message
<3.0.32.20010112105756.00918e50 at 162.38.183.200>:

>Dear All,
>
>It's been several times I observed a very strange behaviour with R 1.2.0
>under Windows NT 4.0 (with sp5): accuracies are lost in many cases. Things
>are back to normal when I exit R and restart it. Here is an example of my
>last encounter with this:
>
>> bt1 <- c(7.3, 8.1, 8.4, 7, 6, 7.2, 6.7, 8.3, 9, 7.4, 8.6, 6.2, 6.9, 7.6,
>5.3, 5.6)
>> bt1
> [1] 7 8 8 7 6 7 6 8 9 7 8 6 6 7 5 5

 ...

log(2)
[1] 0,6931472

>I used R 1.1.1 on the same computer quite a lot, and never saw this. Has
>anyone seen this with R 1.2.0?

I haven't seen this, but my guess is that it's based on your
localization.  The last example shows that you're using a comma as the
decimal separator; probably the parser is getting confused by the use
of the period as the decimal separator in the input lines.

I've no idea why this comes and goes, though...

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jan 12 18:46:51 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 12 Jan 2001 18:46:51 +0100
Subject: [R] sorting ascending descending?
Message-ID: <3A5F430A.D7B14AE6@molgen.mpg.de>

HI!
By xx[order(xx)] I can sort the array ascendin. How to sort them
descending.

eg.:
> a<-c(2,3,110,23,4)
> a[order(a)]
[1]   2   3   4  23 110

but i wont.
[1] 110  23   4   3   2

???
THX in advance
Eryk

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Fri Jan 12 18:53:40 2001
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Fri, 12 Jan 2001 17:53:40 +0000
Subject: Unix tools (was: [R] read data into R with some constraints)
References: <200101111951.OAA25891@cattell.psych.upenn.edu>
Message-ID: <3A5F44A4.CC259874@clara.net>


Thu, 11 Jan 2001 14:51:16 -0500 (EST) Jonathan Baron wrote:
> 
> >I have a big data file (over 30,000 records) looks
> >like this:
> >
> >100, 20, 46, 70
> >103,  0, 22, 45
> >117, -1, 34, 65
> >120, 15,  0, 25
> >113,  0,  -1, 32
> >142, -1, -1, 55
> >.....
> >
> >I want to read only those records having positive
> >values in all of the  four
> >columns. That is, I don't want to read record # 3, 5,
> >and 6 into R.
> 
> Perhaps someone knows how to do this with R, but, if
> I had to do it right now, I would pre-process with grep
> before reading into R:
> 
> grep -v "-" myddata > myshorterdata
> 
> The "grep" tool is available on Unix and Linux.  If you have
> Windows, it would be useful to get the "unix tools for windows",
> which, unfornuately, I have just been unable to find after 10
> minutes of searching www.gnu.org.

I recommend the DJGPP (DOS/DPMI) ports of the Gnu tools available at
http://www.delorie.com/
They are absolute magic for anybody who is frustrated by Windows and has
not yet moved to Gnu/Linux. I find "gawk" (or "awk") especially useful.

Clive Jenkins 

--->8
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jan 12 19:17:43 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 12 Jan 2001 19:17:43 +0100
Subject: [R] sorting ascending descending! & THX@coling
References: <4.3.2.7.0.20010112175942.00aa9480@titan.stams.strath.ac.uk>
Message-ID: <3A5F4A47.5D018AAA@molgen.mpg.de>

THX.
You are right!!


 a[order(-1*a)]
[1] 110  23   4   3   2


Eryk


coling wrote:

> Hi,
>
>         I know very little of R, but one suggestion could be to multiply your list
> by "-1", then order, then multiply by "-1" again.
>
> Not very nice I realize. But it's "better than a poke in the eye with a
> sharp stick" as a wise man once said.
>
> Hope this helps.
>
> Colin Gillespie

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jan 12 19:37:39 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 12 Jan 2001 19:37:39 +0100 (MET)
Subject: [R] sorting ascending descending?
In-Reply-To: <3A5F430A.D7B14AE6@molgen.mpg.de>
Message-ID: <Pine.LNX.4.21.0101121937200.32029-100000@artemis.imbe.med.uni-erlangen.de>


> HI!
> By xx[order(xx)] I can sort the array ascendin. How to sort them
> descending.
> 
> eg.:
> > a<-c(2,3,110,23,4)
> > a[order(a)]
> [1]   2   3   4  23 110
> 
> but i wont.
> [1] 110  23   4   3   2

rev(a[order(a)]

Torsten

> 
> ???
> THX in advance
> Eryk
> 
> --
> Witold Eryk Wolski
> Max Plank Institut fuer Molekulare Genetik
> Ihnestr73 14195 Berlin
> Germany
> tel.:
> Work 0049-30-84131426
> http://www.molgen.mpg.de/~wolski
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Jan 12 19:38:56 2001
From: dj at research.bell-labs.com (David James)
Date: Fri, 12 Jan 2001 13:38:56 -0500 (EST)
Subject: [R] Reformatting dates using chron
Message-ID: <200101121838.NAA06904@jessie.research.bell-labs.com>

Hi,

You may tailor the format to be anything by specifying your own 
formatting function, e.g., 
    
    format(dts) <- myfun

for example,

dts <- seq.dates("01/02/98", "01/10/01", by="day")
dts <- dts[!is.weekend(dts)]

format(dts) <- function(d){
  two.digits <- function(x) paste(ifelse(x<10, "0", ""), x, sep="")
  a <- month.day.year(as.integer(d), origin(d))
  paste(a$year, two.digits(a$month), two.digits(a$day), sep="/")
}

If you don't want to put the entire function in the object, simply
put its name (R symbol)

myformat <- function(d){
   ... same as before ...
}

format(dts) <- as.name("myformat")

Thus,

> dts[1:5]
[1] 1998/01/02 1998/01/05 1998/01/06 1998/01/07 1998/01/08
> dts[1:5] + 3    
[1] 1998/01/05 1998/01/08 1998/01/09 1998/01/10 1998/01/11
> format(dts[1:5])
[1] "1998/01/02" "1998/01/05" "1998/01/06" "1998/01/07" "1998/01/08"

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

------------- Begin Forwarded Message -------------

From: "Andrew Criswell" <andy at arcriswell.com>
To: <R-help at stat.math.ethz.ch>
Subject: [R] Reformatting dates using chron
Date: Fri, 12 Jan 2001 22:25:09 +0700
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700

Hello All:

Thank you, Prof. Ripley for your suggestion. My newbiesque workaround to the 
problem was this:

        # Compute sequence of dates for weekdays only (exclude weekends)

           dts <- seq.dates("01/02/98", "01/10/01", by="day")
           dts <- dts[!is.weekend(dts)]

        # Reformat dates as YYYY/MM/DD

           m <- as.numeric(months(dts))
           m <- ifelse(m<10,paste(0,m,sep=""),m)

           d <- as.numeric(days(dts))
           d <- ifelse(d<10,paste(0,d,sep=""),d)

           dte <- paste(years(dts),m,d,sep="/")

There must be a more elegant and aesthetically pleasing alternative than this.

Best wishes,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University




------------- End Forwarded Message -------------


-------------- next part --------------
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
<META content="MSHTML 5.00.2920.0" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial size=2>Hello All:</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Thank you, Prof. Ripley for your suggestion. My 
newbiesque workaround to the problem was this:</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # Compute 
sequence of dates for weekdays only (exclude weekends)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
dts &lt;- seq.dates("01/02/98", "01/10/01", by="day")<BR>&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; dts &lt;- dts[!is.weekend(dts)]</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; # Reformat 
dates as YYYY/MM/DD</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
m &lt;- as.numeric(months(dts))<BR>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp; m &lt;- ifelse(m&lt;10,paste(0,m,sep=""),m)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
d &lt;- as.numeric(days(dts))<BR>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp; d &lt;- ifelse(d&lt;10,paste(0,d,sep=""),d)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
dte &lt;- paste(years(dts),m,d,sep="/")</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>There must be a more elegant and aesthetically 
pleasing alternative than this.</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Best wishes,</FONT></DIV>
<DIV><FONT face=Arial size=2>ANDREW</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Andrew Criswell</FONT></DIV>
<DIV><FONT face=Arial size=2>Professor of Finance</FONT></DIV>
<DIV><FONT face=Arial size=2>Graduate School, Bangkok University</FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><BR>&nbsp;</DIV></FONT></BODY></HTML>

From ripley at stats.ox.ac.uk  Fri Jan 12 19:40:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 Jan 2001 18:40:01 +0000 (GMT)
Subject: Unix tools (was: [R] read data into R with some constraints)
In-Reply-To: <3A5F44A4.CC259874@clara.net>
Message-ID: <Pine.GSO.4.31.0101121831040.22322-100000@auk.stats>

On Fri, 12 Jan 2001, Clive Jenkins wrote:

>
> Thu, 11 Jan 2001 14:51:16 -0500 (EST) Jonathan Baron wrote:
> >
> > >I have a big data file (over 30,000 records) looks
> > >like this:
> > >
> > >100, 20, 46, 70
> > >103,  0, 22, 45
> > >117, -1, 34, 65
> > >120, 15,  0, 25
> > >113,  0,  -1, 32
> > >142, -1, -1, 55
> > >.....
> > >
> > >I want to read only those records having positive
> > >values in all of the  four
> > >columns. That is, I don't want to read record # 3, 5,
> > >and 6 into R.
> >
> > Perhaps someone knows how to do this with R, but, if
> > I had to do it right now, I would pre-process with grep
> > before reading into R:
> >
> > grep -v "-" myddata > myshorterdata
> >
> > The "grep" tool is available on Unix and Linux.  If you have
> > Windows, it would be useful to get the "unix tools for windows",
> > which, unfornuately, I have just been unable to find after 10
> > minutes of searching www.gnu.org.
>
> I recommend the DJGPP (DOS/DPMI) ports of the Gnu tools available at
> http://www.delorie.com/
> They are absolute magic for anybody who is frustrated by Windows and has
> not yet moved to Gnu/Linux. I find "gawk" (or "awk") especially useful.

Can I emphatically *not* recommend those, but the genuine Windows ones at
http://www.cygwin.com instead?  Particularly if you have NT/2000 and NTFS
file systems.  The DJGPP tools have frustrating limitations (e.g. on line
lengths) even for Win95 users.  And DJ Delorie works for Cygwin anyway.

As I posted earlier, a subset of the Cygwin tools and some others
have been collected for building R, at

http://www.stats.ox.ac.uk/pub/Rtools

We keep these up to date, but not in the (common) cases where the latest
versions are broken.  What is there will have built R in the last few days.

There quite a few other Unix-alike tool sets around, but none that
I have found anything like as good.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 12 19:42:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 Jan 2001 18:42:48 +0000 (GMT)
Subject: [R] sorting ascending descending?
In-Reply-To: <Pine.LNX.4.21.0101121937200.32029-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.GSO.4.31.0101121840390.22322-100000@auk.stats>

On Fri, 12 Jan 2001, Torsten Hothorn wrote:

>
> > HI!
> > By xx[order(xx)] I can sort the array ascendin. How to sort them
> > descending.
> >
> > eg.:
> > > a<-c(2,3,110,23,4)
> > > a[order(a)]
> > [1]   2   3   4  23 110
> >
> > but i wont.
> > [1] 110  23   4   3   2
>
> rev(a[order(a)]
>

Or a[rev(order(a))], which is useful if you want to sort arrays not
vectors (just add a comma or two).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jan 12 19:47:05 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 12 Jan 2001 13:47:05 -0500 (EST)
Subject: [R] sorting ascending descending?
Message-ID: <200101121847.NAA23129@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Fri Jan 12 13:42:13 2001
>HI!
>By xx[order(xx)] I can sort the array ascendin. How to sort them
>descending.

>eg.:
>> a<-c(2,3,110,23,4)
>> a[order(a)]
>[1]   2   3   4  23 110
>
>but i wont.
>[1] 110  23   4   3   2

a[order(-a)]

or

-sort(-a)

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Fri Jan 12 19:54:08 2001
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Fri, 12 Jan 2001 19:54:08 +0100
Subject: [R] sorting ascending descending?
In-Reply-To: <3A5F430A.D7B14AE6@molgen.mpg.de>
References: <3A5F430A.D7B14AE6@molgen.mpg.de>
Message-ID: <01011219550500.00804@ligarto>

On Fri, 12 Jan 2001, Witold Eryk Wolski wrote:
> HI!
> By xx[order(xx)] I can sort the array ascendin. How to sort them
> descending.
> 
> eg.:
> > a<-c(2,3,110,23,4)
> > a[order(a)]
> [1]   2   3   4  23 110
> 
> but i wont.
> [1] 110  23   4   3   2
> 


You can do:

a[order(-a)]


Ramn


-- 
Ramn Daz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Jan 12 20:09:33 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 12 Jan 2001 14:09:33 -0500
Subject: [R] sorting ascending descending! & THX@coling
In-Reply-To: Witold Eryk Wolski's message of "Fri, 12 Jan 2001 19:17:43 +0100"
References: <4.3.2.7.0.20010112175942.00aa9480@titan.stams.strath.ac.uk>
	<3A5F4A47.5D018AAA@molgen.mpg.de>
Message-ID: <pxk880a8pe.fsf@infiniti.ece.cmu.edu>


Witold Eryk Wolski <wolski at molgen.mpg.de> writes:

> THX.
> You are right!!
> 
> 
>  a[order(-1*a)]
> [1] 110  23   4   3   2
> 
> 
> Eryk

hmm, I would have thought rev(order(...)) to be more intuitive:

x[order(x)] sorts in ascending order,
x[rev(order(x))] sorts in descending order...

Enjoy,
  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Jan 12 20:15:02 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 12 Jan 2001 14:15:02 -0500
Subject: [R] Histogram for factors
Message-ID: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu>


Hi,

I keep running into this:
R> hist (f)
Error in hist.default(f) : `x' must be numeric

To which of course something like (simplified but not beyond repair):
R> hist.factor <- function (ff) {
  jj <- table (ff)
  jb <- barplot (jj, ylab="Frequency", xlab=deparse(substitute(ff)))
  axis (1, jb, names (jj))
}
R> hist (f)
is a possible solution.

Why is a 'hist.factor' not part of the base distribution?  Is this
kind of thing discouraged?  Usually not needed?  Am I missing sth else?

Thanks,
  -tom


-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jan 12 20:19:16 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 12 Jan 2001 14:19:16 -0500 (EST)
Subject: [R] sorting ascending descending?
In-Reply-To: <3A5F430A.D7B14AE6@molgen.mpg.de>
Message-ID: <Pine.LNX.4.30.0101121417440.13131-100000@bolker.zoo.ufl.edu>


xx[rev(order(xx))]

On Fri, 12 Jan 2001, Witold Eryk Wolski wrote:

> HI!
> By xx[order(xx)] I can sort the array ascendin. How to sort them
> descending.
>
> eg.:
> > a<-c(2,3,110,23,4)
> > a[order(a)]
> [1]   2   3   4  23 110
>
> but i wont.
> [1] 110  23   4   3   2
>
> ???
> THX in advance
> Eryk
>
> --
> Witold Eryk Wolski
> Max Plank Institut fuer Molekulare Genetik
> Ihnestr73 14195 Berlin
> Germany
> tel.:
> Work 0049-30-84131426
> http://www.molgen.mpg.de/~wolski
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 12 20:50:47 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jan 2001 20:50:47 +0100
Subject: [R] Histogram for factors
In-Reply-To: Thomas Vogels's message of "12 Jan 2001 14:15:02 -0500"
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu>
Message-ID: <x21yu84kiw.fsf@blueberry.kubism.ku.dk>

Thomas Vogels <tov at ece.cmu.edu> writes:

> Hi,
> 
> I keep running into this:
> R> hist (f)
> Error in hist.default(f) : `x' must be numeric
> 
> To which of course something like (simplified but not beyond repair):
> R> hist.factor <- function (ff) {
>   jj <- table (ff)
>   jb <- barplot (jj, ylab="Frequency", xlab=deparse(substitute(ff)))
>   axis (1, jb, names (jj))
> }
> R> hist (f)
> is a possible solution.
> 
> Why is a 'hist.factor' not part of the base distribution?  Is this
> kind of thing discouraged?  Usually not needed?  Am I missing sth else?

Well histograms are density estimates defined for continuous
variables. What you're drawing is a barplot. barplot.factor might be a
good idea, though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 12 21:02:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jan 2001 21:02:59 +0100
Subject: [R] sorting ascending descending! & THX@coling
In-Reply-To: Thomas Vogels's message of "12 Jan 2001 14:09:33 -0500"
References: <4.3.2.7.0.20010112175942.00aa9480@titan.stams.strath.ac.uk> <3A5F4A47.5D018AAA@molgen.mpg.de> <pxk880a8pe.fsf@infiniti.ece.cmu.edu>
Message-ID: <x2y9wg35e4.fsf@blueberry.kubism.ku.dk>

Thomas Vogels <tov at ece.cmu.edu> writes:

> Witold Eryk Wolski <wolski at molgen.mpg.de> writes:
> 
> > THX.
> > You are right!!
> > 
> > 
> >  a[order(-1*a)]
> > [1] 110  23   4   3   2
> > 
> > 
> > Eryk
> 
> hmm, I would have thought rev(order(...)) to be more intuitive:
> 
> x[order(x)] sorts in ascending order,
> x[rev(order(x))] sorts in descending order...

It is, but the sign trick generalizes to multiple sort criteria:

d[order(d$sex,-d$year,-rank(d$ch)),]

(assuming that d$ch is a character vector which you want to sort by in
reverse alphabetical order).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jan 12 21:53:08 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 12 Jan 2001 21:53:08 +0100
Subject: [R] CRAN unavailable?
In-Reply-To: <Pine.LNX.4.21.0101121338500.632-100000@kleigh.nl>
References: <Pine.LNX.4.21.0101121338500.632-100000@kleigh.nl>
Message-ID: <14943.28340.149259.841088@celeborn.at>

>>>>> On Fri, 12 Jan 2001 13:42:20 +0100 (CET),
>>>>> Peter Kleiweg (PK) wrote:

  > Again, CRAN and all of its mirrors are unreachable. My
  > impression is this happens quite often. What is going on?

Hmm, this seems rather unlikely to me ...

Of course the CRAN master site here in Vienna has some donwtimes and
is not available 24 hours 365 days a year, but ``rather often'' is
new. We had only very few downtimes during the last year. The only
thing we have no control over is the internet connection of our
university itself ... but I know that the people of the computing
center are doing their best and downtimes are certainly VERY
competitive compared with other ISP's.

The thing that's puzzling me is the ``all of its mirrors'' ... these
are all completely independent sites at various universities around
the globe (thanks to all the people providing webspace for the R
project!!!) ... and I wouldn't even know how to get all those sites
down at the same time even if I would want to ...

If others also have the impression that the CRAN network is
unreachable quite often: please let us know!

Best,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drapeau at darwin.bio.uci.edu  Sat Jan 13 00:39:03 2001
From: drapeau at darwin.bio.uci.edu (Mark Drapeau)
Date: Fri, 12 Jan 2001 15:39:03 -0800
Subject: [R] R Windows memory
Message-ID: <3.0.6.32.20010112153903.007a2280@darwin.bio.uci.edu>


How do you increase "heap memory" in R for Windows? I used ~6100 Kb heap
memory for an ANOVA but need ~250 Kb more. 

Thanks in advance for any help, 

Mark



-----
Mark D. Drapeau
Graduate Student Researcher
Long Laboratory
Department of Ecology and Evolutionary Biology
321 Steinhaus Hall
University of California
Irvine, CA 92697-2525

Phone: 949-824-5994
Fax: 949-824-2181
Email: drapeau at darwin.bio.uci.edu
www: http://www.markdrapeau.com/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 13 09:03:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 13 Jan 2001 08:03:46 +0000 (GMT)
Subject: [R] R Windows memory
In-Reply-To: <3.0.6.32.20010112153903.007a2280@darwin.bio.uci.edu>
Message-ID: <Pine.GSO.4.31.0101130801360.22792-100000@auk.stats>

On Fri, 12 Jan 2001, Mark Drapeau wrote:

>
> How do you increase "heap memory" in R for Windows? I used ~6100 Kb heap
> memory for an ANOVA but need ~250 Kb more.

See the rw-FAQ or ?Memory.  Or get the current version, which sizes
dynamically.   Any reasonably rcent version wouldhave told you in the error
message to look at ?Memory.

As for where the rw-FAQ is: on the HTML help main screen and in the
top level of the installation, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Jan 13 10:24:07 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 13 Jan 2001 10:24:07 +0100
Subject: [R] R (and ESS) mailing lists : Binary attachments not allowed anymore
Message-ID: <14944.7863.965646.422632@gargle.gargle.HOWL>

In order to prevent viruses being posted on the R (or ESS) mailing lists,
I've disallowed binary attachments (of the "octet-stream" kind) 
as of 15 minutes ago.

BTW, the case of Jan.10 was a typcial "MS Outlook address book" one.
I've received automated e-mails from about 20 sites where the mail delivery
server auto-detected the virus and didn't deliver it to end-recipient.
I've also been told that these strong e-mail filters slow down e-mail
delivery considerably.   Hence, it may not be wise for you to ask your
IT staff for the installation of such filtering...

Regards, and ``happy R-ing'',

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Jan 13 10:31:16 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 13 Jan 2001 10:31:16 +0100
Subject: [R] Histogram for factors
In-Reply-To: <x21yu84kiw.fsf@blueberry.kubism.ku.dk>
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu>
	<x21yu84kiw.fsf@blueberry.kubism.ku.dk>
Message-ID: <14944.8292.121386.126936@gargle.gargle.HOWL>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Thomas Vogels <tov at ece.cmu.edu> writes:
    >> Hi,
    >> 
    >> I keep running into this:
    R> hist (f)
    >> Error in hist.default(f) : `x' must be numeric
    >> 
    >> To which of course something like (simplified but not beyond
    >> repair):
    R> hist.factor <- function (ff) {
    >> jj <- table (ff) jb <- barplot (jj, ylab="Frequency",
    >> xlab=deparse(substitute(ff))) axis (1, jb, names (jj)) }
    R> hist (f)
    >> is a possible solution.
    >> 
    >> Why is a 'hist.factor' not part of the base distribution?  Is this
    >> kind of thing discouraged?  Usually not needed?  Am I missing sth
    >> else?

    PD> Well histograms are density estimates defined for continuous
    PD> variables. What you're drawing is a barplot. barplot.factor might
    PD> be a good idea, though.

Well,
	plot(f) 
already draws a barplot of a factor f (by the  plot.factor method).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Sat Jan 13 15:31:01 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Sat, 13 Jan 2001 15:31:01 +0100 (CET)
Subject: [R] CRAN unavailable?
In-Reply-To: <14943.28340.149259.841088@celeborn.at>
Message-ID: <Pine.LNX.4.21.0101131524090.652-100000@kleigh.nl>

Friedrich Leisch skriver...

> >>>>> On Fri, 12 Jan 2001 13:42:20 +0100 (CET),
> >>>>> Peter Kleiweg (PK) wrote:
> 
>   > Again, CRAN and all of its mirrors are unreachable. My
>   > impression is this happens quite often. What is going on?

> The thing that's puzzling me is the ``all of its mirrors'' ...
> these are all completely independent sites at various
> universities around the globe (thanks to all the people
> providing webspace for the R project!!!) ... and I wouldn't
> even know how to get all those sites down at the same time
> even if I would want to ...

Somehow, the domain names *.r-project.org could not be resolved.
This means, not only all the web sites were unreachable, but
also the ftp-server, and my message to r-help didn't get
through. By the time my message was delivered, the web sites
were also available.

It was only for an hour or so. Not like a few weeks back, when
non of the r-project.org sites were available for days, just at
the time I wanted to install R on a new machine.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Sat Jan 13 15:46:08 2001
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Sat, 13 Jan 2001 09:46:08 -0500
Subject: [R] Histogram for factors
In-Reply-To: <14944.8292.121386.126936@gargle.gargle.HOWL>; from maechler@stat.math.ethz.ch on Sat, Jan 13, 2001 at 10:31:16AM +0100
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu> <x21yu84kiw.fsf@blueberry.kubism.ku.dk> <14944.8292.121386.126936@gargle.gargle.HOWL>
Message-ID: <20010113094608.R29175@jimmy.harvard.edu>

On Sat, Jan 13, 2001 at 10:31:16AM +0100, Martin Maechler wrote:
> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
>     PD> Thomas Vogels <tov at ece.cmu.edu> writes:
>     >> Hi,
>     >> 
>     >> I keep running into this:
>     R> hist (f)
>     >> Error in hist.default(f) : `x' must be numeric
>     >> 
>     >> To which of course something like (simplified but not beyond
>     >> repair):
>     R> hist.factor <- function (ff) {
>     >> jj <- table (ff) jb <- barplot (jj, ylab="Frequency",
>     >> xlab=deparse(substitute(ff))) axis (1, jb, names (jj)) }
>     R> hist (f)
>     >> is a possible solution.
>     >> 
>     >> Why is a 'hist.factor' not part of the base distribution?  Is this
>     >> kind of thing discouraged?  Usually not needed?  Am I missing sth
>     >> else?
> 
>     PD> Well histograms are density estimates defined for continuous
>     PD> variables. What you're drawing is a barplot. barplot.factor might
>     PD> be a good idea, though.
> 
> Well,
> 	plot(f) 
> already draws a barplot of a factor f (by the  plot.factor method).

  Which many of us would think of as being the right "default" plot
for a factor. However, I also think that the right thing for histogram
to do is to inform you that this is not a continuous variable.
I don't think of a barplot (barchart) as a specialized histogram.
 
> 
> Martin
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 13 20:05:30 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 2001 20:05:30 +0100
Subject: [R] CRAN unavailable?
In-Reply-To: Peter Kleiweg's message of "Sat, 13 Jan 2001 15:31:01 +0100 (CET)"
References: <Pine.LNX.4.21.0101131524090.652-100000@kleigh.nl>
Message-ID: <x2ofxbl1c5.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg at let.rug.nl> writes:

> Somehow, the domain names *.r-project.org could not be resolved.
> This means, not only all the web sites were unreachable, but
> also the ftp-server, and my message to r-help didn't get
> through. By the time my message was delivered, the web sites
> were also available.

Most likely, this is the result of a flaky name server somewhere along
the way. I've noticed a similar effect with our Sun servers: if they
lose the connection to the world for a while, they start claiming that
hosts are nonexistent

> It was only for an hour or so. Not like a few weeks back, when
> non of the r-project.org sites were available for days, just at
> the time I wanted to install R on a new machine.

It can actually be quite hard to navigate if the connection to
Wisconsin gets cut off: some sites are aliased to franz, whose web
server then redirects requests. This goes for cran.dk.r-project.org
for instance. Also, the link from the R home page to CRAN is to
cran.r-project.org which requires a nameserver lookup. (Of course if
you *know* that the DK site is really http://sunsite.dk/R, and that
the sources in Austria are at http://www.ci.tuwien.ac.at/R/src,...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sun Jan 14 01:57:54 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 13 Jan 2001 19:57:54 -0500
Subject: [R] CRAN unavailable?
In-Reply-To: <x2ofxbl1c5.fsf@blueberry.kubism.ku.dk>
Message-ID: <NEBBJKDJHEFCOOLFFAKKIEGNCAAA.cyg@sympatico.ca>

Hi,

I don't know if I'm lucky or what but as the R Web site is concern I never
had any problem getting there. Could be because my ISP is Bell Canada and
they probably have more available routes over which they have control.

I notice though that Email is another story. I happens very often that I get
mail from the list that are answers to question I haven't received yet.
Sometimes both question and answer are received at the same time. I know,
you'll tell me that my Email software is requesting mail from the server at
some interval. I agree but then how come I get the answer from one request
and I get the question at the next retrieval? (It doesn't really matter but
I'm surprised every time it happen and it does quite a lot)

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Peter Dalgaard BSA
> Envoye : Saturday, January 13, 2001 2:06 PM
> A : Peter Kleiweg
> Cc : r-help at stat.math.ethz.ch
> Objet : Re: [R] CRAN unavailable?
>
>
> Peter Kleiweg <kleiweg at let.rug.nl> writes:
>
> > Somehow, the domain names *.r-project.org could not be resolved.
> > This means, not only all the web sites were unreachable, but
> > also the ftp-server, and my message to r-help didn't get
> > through. By the time my message was delivered, the web sites
> > were also available.
>
> Most likely, this is the result of a flaky name server somewhere along
> the way. I've noticed a similar effect with our Sun servers: if they
> lose the connection to the world for a while, they start claiming that
> hosts are nonexistent
>
> > It was only for an hour or so. Not like a few weeks back, when
> > non of the r-project.org sites were available for days, just at
> > the time I wanted to install R on a new machine.
>
> It can actually be quite hard to navigate if the connection to
> Wisconsin gets cut off: some sites are aliased to franz, whose web
> server then redirects requests. This goes for cran.dk.r-project.org
> for instance. Also, the link from the R home page to CRAN is to
> cran.r-project.org which requires a nameserver lookup. (Of course if
> you *know* that the DK site is really http://sunsite.dk/R, and that
> the sources in Austria are at http://www.ci.tuwien.ac.at/R/src,...)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Jan 14 04:36:01 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Sun, 14 Jan 2001 16:36:01 +1300
Subject: [R] CRAN unavailable?
References: <NEBBJKDJHEFCOOLFFAKKIEGNCAAA.cyg@sympatico.ca>
Message-ID: <000801c07ddb$1f499640$2a6e36d2@kokangwang>


----- Original Message -----
From: "Yves Gauvreau" <cyg at sympatico.ca>
To: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>; "Peter Kleiweg"
<kleiweg at let.rug.nl>
Cc: <r-help at stat.math.ethz.ch>
Sent: Sunday, January 14, 2001 1:57 PM
Subject: RE: [R] CRAN unavailable?



> I notice though that Email is another story. I happens very often that I
get
> mail from the list that are answers to question I haven't received yet.

Yes.  And sometimes it takes me more than 12 hours to receive the
question(s) I posted to the listed.  Sometimes I even get the answer back
before I received the questions I posted out!

Ko-Kang Wang

> Yves Gauvreau
> B.E.F.P. Universite du Quebec a Montreal
> cyg at sympatico.ca
>
> > -----Message d'origine-----
> > De : owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]De la part de Peter Dalgaard BSA
> > Envoye : Saturday, January 13, 2001 2:06 PM
> > A : Peter Kleiweg
> > Cc : r-help at stat.math.ethz.ch
> > Objet : Re: [R] CRAN unavailable?
> >
> >
> > Peter Kleiweg <kleiweg at let.rug.nl> writes:
> >
> > > Somehow, the domain names *.r-project.org could not be resolved.
> > > This means, not only all the web sites were unreachable, but
> > > also the ftp-server, and my message to r-help didn't get
> > > through. By the time my message was delivered, the web sites
> > > were also available.
> >
> > Most likely, this is the result of a flaky name server somewhere along
> > the way. I've noticed a similar effect with our Sun servers: if they
> > lose the connection to the world for a while, they start claiming that
> > hosts are nonexistent
> >
> > > It was only for an hour or so. Not like a few weeks back, when
> > > non of the r-project.org sites were available for days, just at
> > > the time I wanted to install R on a new machine.
> >
> > It can actually be quite hard to navigate if the connection to
> > Wisconsin gets cut off: some sites are aliased to franz, whose web
> > server then redirects requests. This goes for cran.dk.r-project.org
> > for instance. Also, the link from the R home page to CRAN is to
> > cran.r-project.org which requires a nameserver lookup. (Of course if
> > you *know* that the DK site is really http://sunsite.dk/R, and that
> > the sources in Austria are at http://www.ci.tuwien.ac.at/R/src,...)
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Sun Jan 14 11:10:04 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Sun, 14 Jan 2001 11:10:04 +0100
Subject: [R] Why there are no log="xy" parameter in the hist() function?
Message-ID: <3A617AFC.90BCF4AE@molgen.mpg.de>

Hi!
Why there are no log="xy" parameter in the hist() function?
Im looking for this option.

I am using R1.1.1.



THX in advance.
Eryk
--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 14 13:04:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 Jan 2001 12:04:31 +0000 (GMT)
Subject: [R] Why there are no log="xy" parameter in the hist() function?
In-Reply-To: <3A617AFC.90BCF4AE@molgen.mpg.de>
Message-ID: <Pine.GSO.4.31.0101141200160.8102-100000@auk.stats>

On Sun, 14 Jan 2001, Witold Eryk Wolski wrote:

> Hi!
> Why there are no log="xy" parameter in the hist() function?
> Im looking for this option.

What would it mean?  First, hist gives a density, so plotting on a log x
scale is not correct: you would want the density of log x, not x, and you
cna of course get that by hist(log(x)). Second, if you want to plot a log
density, you should use a better density estimate, one that does not return
0, for example.

If perchance what you are calling hist on is a discrete variate, you should
not be using hist ....

> I am using R1.1.1.

As ever, we suggest you keep R up to date. 1.2.1 is due tomorrow.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sun Jan 14 13:36:48 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sun, 14 Jan 2001 07:36:48 -0500
Subject: [R] Redrawing !
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEGOCAAA.cyg@sympatico.ca>

Hi,

If I may suggest that something be done to the window drawing function of a
plot. As it is now, we don't even have time to resize the window by a tiny
bit before it's invoke and I think it would be an improvement if while the
mouse is down the redrawing was delayed somehow. This is especially true
when the plot is crowded. I also observed that moving the plot window around
was a lot smoother and easier. Which allows us to have much more control
over the positioning then the resizing of the plot window.

Thank for an incredible piece of software.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 14 14:16:32 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 Jan 2001 13:16:32 +0000 (GMT)
Subject: [R] Redrawing !
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKGEGOCAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.31.0101141310580.12832-100000@auk.stats>

On Sun, 14 Jan 2001, Yves Gauvreau wrote:

> Hi,
>
> If I may suggest that something be done to the window drawing function of a
> plot. As it is now, we don't even have time to resize the window by a tiny
> bit before it's invoke and I think it would be an improvement if while the
> mouse is down the redrawing was delayed somehow. This is especially true
> when the plot is crowded. I also observed that moving the plot window around
> was a lot smoother and easier. Which allows us to have much more control
> over the positioning then the resizing of the plot window.

Are you talking about the default device on Windows?  I don't see a
problem, so it may be a graphics card/driver performance issue, or even a
Windows version issue.

This is buried in the GraphApp code which reacts to a Windows WM_SIZE
event, so I have no idea how to change this.  Would you like to submit a
patch?

>
> Thank for an incredible piece of software.
>
> Yves Gauvreau
> B.E.F.P. Universit du Qubec  Montral
> cyg at sympatico.ca
>
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.0
> year     2000
> month    12
> day      15
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sun Jan 14 16:12:33 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sun, 14 Jan 2001 10:12:33 -0500
Subject: [R] Redrawing !
In-Reply-To: <Pine.GSO.4.31.0101141310580.12832-100000@auk.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>



> -----Message d'origine-----
> De : ripley at auk.stats [mailto:ripley at auk.stats]De la part de Prof Brian
> D Ripley
> Envoy? : Sunday, January 14, 2001 8:17 AM
> ? : Yves Gauvreau
> Cc : R-help at lists. R-project. org
> Objet : Re: [R] Redrawing !
>
>
> On Sun, 14 Jan 2001, Yves Gauvreau wrote:
>
> > Hi,
> >
> > If I may suggest that something be done to the window drawing
> function of a
> > plot. As it is now, we don't even have time to resize the
> window by a tiny
> > bit before it's invoke and I think it would be an improvement
> if while the
> > mouse is down the redrawing was delayed somehow. This is especially true
> > when the plot is crowded. I also observed that moving the plot
> window around
> > was a lot smoother and easier. Which allows us to have much more control
> > over the positioning then the resizing of the plot window.
>
> Are you talking about the default device on Windows?  I don't see a
> problem, so it may be a graphics card/driver performance issue, or even a
> Windows version issue.

Yes to the first question if an ordinary call to plot(1:10) goes to the
default device on Windows.
I run NT 4.0 sp 6a and I have a very old graphics card, so this could be the
cause of this behavior I've observed. A question remains though, how come
the behavior is different when I move the device then when I resize it?

I know that moving the device causes a WM_MOVE event and resizing cause a
WM_SIZE event as you said below and that they are being handled differently.
(I looked at the code in GraphApp\event.c)

Just to make sure there is no misunderstanding, I'm not making a complaint
of any kind here, I'm just making an observation. With most Windows
applications I use I observe that resizing a window (in Windoze parlance)
with the mouse kind of blanks the interior of window until we're finish and
then it is redrawn. With R's default device it is as if every WM_MOUSEMOVE
event trigger's a complete redraw of the window which make the feeling quite
different. If changing this behavior in future release is to complicated
then lets just forget it as I and most certainly any other Windows user can
live with that even more so if using a more recent graphic card make the
behavior disappear.

Regards

Yves Gauvreau

>
> This is buried in the GraphApp code which reacts to a Windows WM_SIZE
> event, so I have no idea how to change this.  Would you like to submit a
> patch?


I would like to be able to do that but I don't know how. But I know that if
the code handling the window events where to record globally the state of
the mouse it think it would be relatively easy in the WM_SIZE handling code
to check the mouse state and act accordingly.


>
> >
> > Thank for an incredible piece of software.
> >
> > Yves Gauvreau
> > B.E.F.P. Universit? du Qu?bec ? Montr?al
> > cyg at sympatico.ca
> >
> > platform i386-pc-mingw32
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    2.0
> > year     2000
> > month    12
> > day      15
> > language R
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Sun Jan 14 18:35:02 2001
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Sun, 14 Jan 2001 18:35:02 +0100
Subject: [R] ar(1)
Message-ID: <3A61E346.1A5E8E01@info.univ-angers.fr>

hello,
can some body help me to get
the residuals and the variance of coefficient after an autoregressive
fit.
These values are present in the  ar function of the package ts.
But I don't know how to makes it work.
thank you.
meriema


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e_amiri at yahoo.com  Sun Jan 14 18:40:44 2001
From: e_amiri at yahoo.com (=?iso-8859-1?q?esmail=20amiri?=)
Date: Sun, 14 Jan 2001 09:40:44 -0800 (PST)
Subject: [R] Help
Message-ID: <20010114174044.3426.qmail@web3404.mail.yahoo.com>

Dear sir,

I am using R in windows. I want to extend R Memory
size.
I use the following command, but unfortunately it
doesn't work.
-- vsize=15M --nsize=1000K

Your help is appreciated.

Thanks,

Esmail Amiri.

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sun Jan 14 19:43:19 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sun, 14 Jan 2001 18:43:19 GMT
Subject: [R] Redrawing !
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>
References: <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>
Message-ID: <3a62f1e6.96144724@smtp1.sympatico.ca>

On Sun, 14 Jan 2001 10:12:33 -0500, you wrote:
> With most Windows
>applications I use I observe that resizing a window (in Windoze parlance)
>with the mouse kind of blanks the interior of window until we're finish and
>then it is redrawn. With R's default device it is as if every WM_MOUSEMOVE
>event trigger's a complete redraw of the window which make the feeling quite
>different. If changing this behavior in future release is to complicated
>then lets just forget it as I and most certainly any other Windows user can
>live with that even more so if using a more recent graphic card make the
>behavior disappear.

One of the configuration options in Windows is whether or not to
attempt to redraw the complete window during move & resize operations.
I'm not sure how to set that in NT; in Win 9x/ME, it's in the Control
Panel under Display|Effects, "show window's contents while dragging".
I would guess that you have that option enabled, and that other
applications abort the redraw when they receive another message about
a move. (I'm guessing that because when I have the option enabled I
see what you're describing; I normally operate with it disabled, so I
only see the frame moving when I move or resize the window.)

A future multi-threaded version of R could probably act like other
applications, but it would mean low-level changes in the current
version.  An easier workaround is just to disable that option in
Windows.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Jan 14 20:57:40 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sun, 14 Jan 2001 11:57:40 -0800
Subject: [R] Redrawing !
In-Reply-To: <3a62f1e6.96144724@smtp1.sympatico.ca>
References: <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>
 <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>
Message-ID: <5.0.2.1.2.20010114115549.00aac590@127.0.0.1>

It's there on Windows NT as well:

Control Panel|Display|Plus

"show window contents while dragging"  (checkbox if you want this to be 
True; uncheck if you don't want the behavior).



At 06:43 PM 1/14/01 +0000, Duncan Murdoch wrote:
 >On Sun, 14 Jan 2001 10:12:33 -0500, you wrote:
 >> With most Windows
 >>applications I use I observe that resizing a window (in Windoze parlance)
 >>with the mouse kind of blanks the interior of window until we're finish and
 >>then it is redrawn. With R's default device it is as if every WM_MOUSEMOVE
 >>event trigger's a complete redraw of the window which make the feeling quite
 >>different. If changing this behavior in future release is to complicated
 >>then lets just forget it as I and most certainly any other Windows user can
 >>live with that even more so if using a more recent graphic card make the
 >>behavior disappear.
 >
 >One of the configuration options in Windows is whether or not to
 >attempt to redraw the complete window during move & resize operations.
 >I'm not sure how to set that in NT; in Win 9x/ME, it's in the Control
 >Panel under Display|Effects, "show window's contents while dragging".
 >I would guess that you have that option enabled, and that other
 >applications abort the redraw when they receive another message about
 >a move. (I'm guessing that because when I have the option enabled I
 >see what you're describing; I normally operate with it disabled, so I
 >only see the frame moving when I move or resize the window.)
 >
 >A future multi-threaded version of R could probably act like other
 >applications, but it would mean low-level changes in the current
 >version.  An easier workaround is just to disable that option in
 >Windows.
 >
 >Duncan Murdoch
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sun Jan 14 21:03:43 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sun, 14 Jan 2001 15:03:43 -0500
Subject: [R] Redrawing !
In-Reply-To: <5.0.2.1.2.20010114115549.00aac590@127.0.0.1>
Message-ID: <NEBBJKDJHEFCOOLFFAKKMEHACAAA.cyg@sympatico.ca>

Thanks you all for the tip. Until I get myself a new card this will do just
fine.

Regards

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : Marc R. Feldesman [mailto:feldesmanm at pdx.edu]
> Envoye : Sunday, January 14, 2001 2:58 PM
> A : Duncan Murdoch; Yves Gauvreau
> Cc : R-help at lists. R-project. org
> Objet : Re: [R] Redrawing !
>
>
> It's there on Windows NT as well:
>
> Control Panel|Display|Plus
>
> "show window contents while dragging"  (checkbox if you want this to be
> True; uncheck if you don't want the behavior).
>
>
>
> At 06:43 PM 1/14/01 +0000, Duncan Murdoch wrote:
>  >On Sun, 14 Jan 2001 10:12:33 -0500, you wrote:
>  >> With most Windows
>  >>applications I use I observe that resizing a window (in
> Windoze parlance)
>  >>with the mouse kind of blanks the interior of window until
> we're finish and
>  >>then it is redrawn. With R's default device it is as if every
> WM_MOUSEMOVE
>  >>event trigger's a complete redraw of the window which make the
> feeling quite
>  >>different. If changing this behavior in future release is to
> complicated
>  >>then lets just forget it as I and most certainly any other
> Windows user can
>  >>live with that even more so if using a more recent graphic
> card make the
>  >>behavior disappear.
>  >
>  >One of the configuration options in Windows is whether or not to
>  >attempt to redraw the complete window during move & resize operations.
>  >I'm not sure how to set that in NT; in Win 9x/ME, it's in the Control
>  >Panel under Display|Effects, "show window's contents while dragging".
>  >I would guess that you have that option enabled, and that other
>  >applications abort the redraw when they receive another message about
>  >a move. (I'm guessing that because when I have the option enabled I
>  >see what you're describing; I normally operate with it disabled, so I
>  >only see the frame moving when I move or resize the window.)
>  >
>  >A future multi-threaded version of R could probably act like other
>  >applications, but it would mean low-level changes in the current
>  >version.  An easier workaround is just to disable that option in
>  >Windows.
>  >
>  >Duncan Murdoch
>
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-.-
>  >r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch

>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sun Jan 14 21:09:36 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sun, 14 Jan 2001 21:09:36 +0100
Subject: [R] ar(1)
References: <3A61E346.1A5E8E01@info.univ-angers.fr>
Message-ID: <3A620780.2485F429@ci.tuwien.ac.at>

Meriema Belaidouni wrote:
> 
> hello,
> can some body help me to get
> the residuals and the variance of coefficient after an autoregressive
> fit.
> These values are present in the  ar function of the package ts.
> But I don't know how to makes it work.

Just have a look at the help pages
> help(ar)

If you fit the model by
> ar.fit <- ar(x)

you can have a look at
> ar.fit$resid # the residuals
> ar.fit$ar # the coefficients
> ar.fit$asy.var.coef # the asymptotic-theory variance matrix of
                        the coefficient estimates.
or the other elements of the returned list.

Achim


---------------------------
Achim Zeileis
Institut f?r Statistik
Technische Universit?t Wien


> thank you.
> meriema
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 14 21:55:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 Jan 2001 20:55:40 +0000 (GMT)
Subject: [R] Help
In-Reply-To: <20010114174044.3426.qmail@web3404.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0101142055001.18243-100000@auk.stats>

On Sun, 14 Jan 2001, [iso-8859-1] esmail amiri wrote:

> Dear sir,
>
> I am using R in windows. I want to extend R Memory
> size.
> I use the following command, but unfortunately it
> doesn't work.
> -- vsize=15M --nsize=1000K

(i) No spaces.
(ii) get the current version, rw1020: then you won't need this,

>
> Your help is appreciated.
>
> Thanks,
>
> Esmail Amiri.
>
> __________________________________________________
> Do You Yahoo!?
> Get email at your own domain with Yahoo! Mail.
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at borasky-research.com  Sun Jan 14 22:48:58 2001
From: znmeb at borasky-research.com (M. Edward Borasky)
Date: Sun, 14 Jan 2001 13:48:58 -0800
Subject: [R] Redrawing !
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKGEGPCAAA.cyg@sympatico.ca>
Message-ID: <HBEHIIBBKKNOBLMPKCBBIEJGDBAA.znmeb@borasky-research.com>

While we're on the subject of enhancements to R's amazing graphics
capabilities, here are two I would like:

1. Have the UNIX version produce files which are Windows-friendly. For
example, the Windows version can produce an output file in "wmf" format,
which I can directly import into a Word document. The UNIX version I have
doesn't seem to do this, so I need to either convert PostScript to WMF
somehow, or use a JPEG, which isn't editable in the Microsoft tools and
tends to be of lower visual quality than my users will accept.

2. It looks to me like the Windows version can only set the size of the
picture in a WMF file to the nearest inch. I do a lot of "two-up portrait"
and "four-up landscape" plots. The "natural" size of two-up portrait plots
is (8.5 minus two one-inch margins) by (11 minus two one-inch margins)/2 or
6.5 by 4.5. Similarly, for the four-up landscape plots, it is 4.5 by 3.25. I
can get these sizes on my screen, but I can't seem to get them in a WMF
file. I had to settle for 6 by 4 and 4 by 3, and for the full-page landscape
plots I had to settle for 9 by 6.

--
M. Edward Borasky, Borasky Research
http://www.borasky-research.com
mailto: znmeb at borasky-research.com

"There's no fuel like an old fuel" -- the National Coal Institute

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Jan 14 22:59:30 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 15 Jan 2001 10:59:30 +1300
Subject: [R] Help
References: <20010114174044.3426.qmail@web3404.mail.yahoo.com>
Message-ID: <000901c07e75$45c0a3a0$185d60cb@kokangwang>

You should enter these memory allocation command at the same time you start
R(gui).  For example:
    D:\rw1020\bin\Rgui.exe --vsize=15M --nsize=1000K

It should work.

If you have a short-cut, go to Properties, then make sure you append
    --vsize=15M --nsize=1000K
at the end of your start Target.  However this way Rgui will always start
with the memory you allocated...

Ko-Kang Wang

----- Original Message -----
From: "esmail amiri" <e_amiri at yahoo.com>
To: <r-help at lists.r-project.org>
Sent: Monday, January 15, 2001 6:40 AM
Subject: [R] Help


> Dear sir,
>
> I am using R in windows. I want to extend R Memory
> size.
> I use the following command, but unfortunately it
> doesn't work.
> -- vsize=15M --nsize=1000K
>
> Your help is appreciated.
>
> Thanks,
>
> Esmail Amiri.
>
> __________________________________________________
> Do You Yahoo!?
> Get email at your own domain with Yahoo! Mail.
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 15 07:52:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 15 Jan 2001 06:52:00 +0000 (GMT)
Subject: [R] Redrawing !
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBIEJGDBAA.znmeb@borasky-research.com>
Message-ID: <Pine.GSO.4.31.0101150635590.18804-100000@auk.stats>

On Sun, 14 Jan 2001, M. Edward Borasky wrote:

> While we're on the subject of enhancements to R's amazing graphics
> capabilities, here are two I would like:
>
> 1. Have the UNIX version produce files which are Windows-friendly. For
> example, the Windows version can produce an output file in "wmf" format,
> which I can directly import into a Word document. The UNIX version I have
> doesn't seem to do this, so I need to either convert PostScript to WMF
> somehow, or use a JPEG, which isn't editable in the Microsoft tools and
> tends to be of lower visual quality than my users will accept.

Look at the developer site:

   o  The ability to write WMF on Unix (but it looks as if we know too
      little to achieve this).

We have been unable to either documentation for WMF or any other
application that can give us a clue, so can you provide code, please?

However, Word *can* import postscript, and you can add a preview header
if you like.  EMF is editable in Word, but it tends to make a comprehensive
mess of it.

> 2. It looks to me like the Windows version can only set the size of the
> picture in a WMF file to the nearest inch. I do a lot of "two-up portrait"
> and "four-up landscape" plots. The "natural" size of two-up portrait plots
> is (8.5 minus two one-inch margins) by (11 minus two one-inch margins)/2 or
> 6.5 by 4.5. Similarly, for the four-up landscape plots, it is 4.5 by 3.25. I
> can get these sizes on my screen, but I can't seem to get them in a WMF
> file. I had to settle for 6 by 4 and 4 by 3, and for the full-page landscape
> plots I had to settle for 9 by 6.

(i) Actually R produces EMF not WMF.
(ii) There are problems with it (it is at 1/72" resolution, not the
correct 1/1200"), but most of the problems seem to be with Word.
The file dimensions are certainly not in whole inches.

Again, the source code is there, so can you supply a patch?

I keep saying `please you supply a patch', but I think people are getting
unrealistic expectations.  R is a collaborative project and the core team
has no Windows programmers.  Things like this are just not going to happen
unless contributed.  In particular, I am not prepared to spend a lot of
time looking at code I did not write to add facilities I would never use.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Mon Jan 15 12:25:34 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Mon, 15 Jan 2001 12:25:34 +0100 (CET)
Subject: [R] Redrawing !
In-Reply-To: <Pine.GSO.4.31.0101150635590.18804-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0101151213380.594-100000@kleigh.nl>

Prof Brian D Ripley skriver...

> On Sun, 14 Jan 2001, M. Edward Borasky wrote:

> > 1. Have the UNIX version produce files which are Windows-friendly. For
> > example, the Windows version can produce an output file in "wmf" format,
> > which I can directly import into a Word document. The UNIX version I have
> > doesn't seem to do this, so I need to either convert PostScript to WMF
> > somehow, or use a JPEG, which isn't editable in the Microsoft tools and
> > tends to be of lower visual quality than my users will accept.
> 
> Look at the developer site:
> 
>    o  The ability to write WMF on Unix (but it looks as if we know too
>       little to achieve this).
> 
> We have been unable to either documentation for WMF or any other
> application that can give us a clue, so can you provide code, please?
> 
> However, Word *can* import postscript, and you can add a preview header
> if you like.  EMF is editable in Word, but it tends to make a comprehensive
> mess of it.

Word does not recognize the standard device independent screen
preview, Encapsulated PostScript Interchange format (EPSI). But
it understands TIFF and Metafile previews.

Open the PostScript file in GSview, than select from the menu
bar:

    Edit
    -> Add EPS Preview
       -> Windows Metafile
          -> Save as [EPS Files (*.eps)]

Unless you have a PostScript printer or use something like
Ghostscript to print your Word document, the preview will be
used to print the figure. The preview is just a bitmap. The
resolution of the bitmap depends on how large you had the image
displayed in GSview at the time of adding the preview.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wSS2E0 at wsns0.wiso.uni-erlangen.de  Mon Jan 15 13:26:16 2001
From: wSS2E0 at wsns0.wiso.uni-erlangen.de (wSS2E0@wsns0.wiso.uni-erlangen.de)
Date: Mon, 15 Jan 2001 13:26:16 +0100
Subject: [R] R 1.2.1 is released
Message-ID: <C248F038DA@wsns0.wiso.uni-erlangen.de>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcelo.Castro at lighting.ge.com  Mon Jan 15 13:28:12 2001
From: Marcelo.Castro at lighting.ge.com (Castro, Marcelo T G (GEL, MSX))
Date: Mon, 15 Jan 2001 07:28:12 -0500
Subject: [R] A QUESTION ABOUT TIME SERIES
Message-ID: <BB68EF307163D2119DE400805F6FD5800240B1A1@riolige.light.ge.com>


Dear sirs,

My name is Marcelo Grimaldi and i work for General Electric in the Six Sigma
Program. Recently I became very interested in spectral analysis, because I
think it can be applied to my job. I use Minitab 12 and i have heard that
writing macros for spectral analysis in this software is very difficult.
Could I perform this analysis in a easier way throught "R" ? Have you ever
heard about anybody that perform it using "R"? I would apreciatte very much
if I could get in touch with these specialists.

THANK YOU VERY MUCH,
Marcelo Grimaldi
Six Sigma Black Belt - Manufacturing
GE Lighting Brazil
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 15 17:34:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 15 Jan 2001 16:34:56 +0000 (GMT)
Subject: [R] WMF on Unix
Message-ID: <200101151634.QAA13785@toucan.stats.ox.ac.uk>

A few of you have helpfully sent me references to WMF formats.
There is also some code to _read_ it at

http://www.csn.ul.ie/~caolan/docs/libwmf.html

However, the issue is to _write_ WMF on R under Unix.  I am told (by
someone who has tried) that the problem is the if you write a WMF
file according to the published specs (which were once issued
by Microsoft) you find that e.g. Word does not read it as you expected.

It seems to me that an unreliable WMF writer is worse than none.
In essence we have that problem on R for Windows now: the metafiles
written there are in the wrong resolution (and I do know why) and hence
are misinterpreted.   However, when I try to write them in the
right resolution, they are interpreted worse by Word, but correctly
by another viewer!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 15 17:39:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 15 Jan 2001 16:39:55 +0000 (GMT)
Subject: [R] A QUESTION ABOUT TIME SERIES
Message-ID: <200101151639.QAA13797@toucan.stats.ox.ac.uk>


> From: "Castro, Marcelo T G (GEL, MSX)" <Marcelo.Castro at lighting.ge.com>
> Date: Mon, 15 Jan 2001 07:28:12 -0500
> 
> 
> My name is Marcelo Grimaldi and i work for General Electric in the Six Sigma
> Program. Recently I became very interested in spectral analysis, because I
> think it can be applied to my job. I use Minitab 12 and i have heard that
> writing macros for spectral analysis in this software is very difficult.
> Could I perform this analysis in a easier way throught "R" ? Have you ever
> heard about anybody that perform it using "R"? I would apreciatte very much
> if I could get in touch with these specialists.

R comes with comprehensive support for spectral analysis in its
package ts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Jan 15 19:12:36 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 15 Jan 2001 13:12:36 -0500 (EST)
Subject: [R] A QUESTION ABOUT TIME SERIES
In-Reply-To: <BB68EF307163D2119DE400805F6FD5800240B1A1@riolige.light.ge.com>
Message-ID: <Pine.LNX.4.30.0101151303360.24472-100000@bolker.zoo.ufl.edu>


  Yes, through some built-in code and through an additional package.

  I don't know about "getting in touch with the specialists", though --
your best bet is to start with a good general-purpose time series analysis
book, which will have something about spectral analysis and will lead you
to more specialized references.  Or start from whatever references
suggested spectral analysis to you in the first place.  Or follow
interesting references in the documentation of the R functions.

  If you have a working knowledge of R (from reading documentation and the
various public domain guides accessible through CRAN, or the books listed
at CRAN) and a reasonable knowledge of spectral analysis it should be
quite straightforward to use the SA tools in R.

  It's best to save R-help for specific problems with R, although the
occasional interesting statistical problem will probably get responses ...

  [If I were a better Perl programmer I would write a script that would
try to answer "Can R ... ?" questions automatically by (1) searching the
help pages on CRAN, (2) searching the package sources, (3) searching the
mail archives ...]


On Mon, 15 Jan 2001, Castro, Marcelo T G (GEL, MSX) wrote:

>
> Dear sirs,
>
> My name is Marcelo Grimaldi and i work for General Electric in the Six Sigma
> Program. Recently I became very interested in spectral analysis, because I
> think it can be applied to my job. I use Minitab 12 and i have heard that
> writing macros for spectral analysis in this software is very difficult.
> Could I perform this analysis in a easier way throught "R" ? Have you ever
> heard about anybody that perform it using "R"? I would apreciatte very much
> if I could get in touch with these specialists.
>
> THANK YOU VERY MUCH,
> Marcelo Grimaldi
> Six Sigma Black Belt - Manufacturing
> GE Lighting Brazil
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Mon Jan 15 19:36:18 2001
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Mon, 15 Jan 2001 19:36:18 +0100 (CET)
Subject: [R] a question about time series
In-Reply-To: <BB68EF307163D2119DE400805F6FD5800240B1A1@riolige.light.ge.com>
Message-ID: <Pine.LNX.4.21.0101151933430.16451-100000@leo.logilab.fr>

On Mon, 15 Jan 2001, Castro, Marcelo T G (GEL, MSX) wrote:

> 
> Dear sirs,
> 
> Could I perform this analysis in a easier way throught "R" ? Have you ever
> heard about anybody that perform it using "R"? I would apreciatte very much
> if I could get in touch with these specialists.

I don't know about spectral analysis within R, but I am pretty sure that
such thing is implemented in Matlab and Scilab (which is a free clone of
Matlab by INRIA), and maybe in Octave (yet another free clone of Matlab,
part of the GNU project).

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jan 15 20:35:54 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 15 Jan 2001 20:35:54 +0100 (MET)
Subject: [R] a question about time series
In-Reply-To: <Pine.LNX.4.21.0101151933430.16451-100000@leo.logilab.fr>
Message-ID: <Pine.GSO.4.21.0101152026340.11299-100000@amadeus.statistik.uni-dortmund.de>



On Mon, 15 Jan 2001, Alexandre Fayolle wrote:

> On Mon, 15 Jan 2001, Castro, Marcelo T G (GEL, MSX) wrote:
> 
> > 
> > Dear sirs,
> > 
> > Could I perform this analysis in a easier way throught "R" ? Have you ever
> > heard about anybody that perform it using "R"? I would apreciatte very much
> > if I could get in touch with these specialists.
> 
> I don't know about spectral analysis within R, but I am pretty sure that
> such thing is implemented in Matlab and Scilab (which is a free clone of
> Matlab by INRIA), and maybe in Octave (yet another free clone of Matlab,
> part of the GNU project).

Now I cannot resist to answer to the list (after having sent a private
answer) in the spirit of Ben Bolker's answer:


The real question is: What kind of spectral analysis?

If you want to have a look at the spectrum, the periodogram is the first
thing I am thinking about (an inconsistant(!) estimator for the spectral
density). You can easily calculate it via FFT. Or use
e.g. spectrum(), a user-friendly function which calculates the logarithmic
periodogram [details in the help pages ...].

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Jan 15 22:25:38 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 16 Jan 2001 10:25:38 +1300
Subject: [R] A QUESTION ABOUT TIME SERIES
In-Reply-To: <Pine.LNX.4.30.0101151303360.24472-100000@bolker.zoo.ufl.edu>; from ben@zoo.ufl.edu on Mon, Jan 15, 2001 at 01:12:36PM -0500
References: <BB68EF307163D2119DE400805F6FD5800240B1A1@riolige.light.ge.com> <Pine.LNX.4.30.0101151303360.24472-100000@bolker.zoo.ufl.edu>
Message-ID: <20010116102538.A5084@camille.indigoindustrial.co.nz>


On Mon, Jan 15, 2001 at 01:12:36PM -0500, ben at zoo.ufl.edu wrote:
>   [If I were a better Perl programmer I would write a script that would
> try to answer "Can R ... ?" questions automatically by (1) searching the
> help pages on CRAN, (2) searching the package sources, (3) searching the
> mail archives ...]

It's not quite the answer you're looking for, but...

I run R on my Linux box, which also runs Apache (www.apache.org).
I've set up the html documentation in the publicly available
docs (visible to apache), and set up htdig as my search engine
(www.htdig.org).  I just type in the subject, and get links to
the (very good) html documentation.  This has served my purposes
*very* well, and I'd recommend it any day.  htdig can be quite
flexible about where it searches, and you could re-direct it
to the CRAN site.  I'm on a slow modem, so I haven't done this.

I do this with any html documentation I get, and it's a good
way to find other software that does the job you want in software
you mightn't have thought of.

Hope that helps

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Mon Jan 15 22:24:27 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Mon, 15 Jan 2001 22:24:27 +0100 (CET)
Subject: [R] WMF on Unix
In-Reply-To: <200101151634.QAA13785@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0101152212250.612-100000@kleigh.nl>

Prof Brian Ripley skriver...

> It seems to me that an unreliable WMF writer is worse than none.
> In essence we have that problem on R for Windows now: the metafiles
> written there are in the wrong resolution (and I do know why) and hence
> are misinterpreted.   However, when I try to write them in the
> right resolution, they are interpreted worse by Word, but correctly
> by another viewer!

Asuming WMF is the same as Windows Metafile, GSview seems to
have solved the trick. Why not let GSview deal with it. Why
bother recreating what's already available and working fine.
Perhaps all that's needed is a little documentation on how to
best export graphics from R to Word using GSview.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stein at fieldmuseum.org  Tue Jan 16 00:56:45 2001
From: stein at fieldmuseum.org (Jennifer Steinbachs)
Date: Mon, 15 Jan 2001 17:56:45 -0600 (CST)
Subject: [R] WMF on Unix
In-Reply-To: <Pine.LNX.4.21.0101152212250.612-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.21.0101151741450.998-100000@mail.fmnh.org>


I can understand why one might want to use WMF format (in windows)... for
the ability to manipulate graphic elements after the fact for an even
cleaner display of data.

One solution, for the windows world, is to use eps format and edit the
file in adobe illustrator.  To avoid using AI, one can use
ghostview.  GSview comes with the utility "epstool" that apparently allows
one to create a wmf file
(http://www.cs.wisc.edu/~ghost/gsview/epstool.htm) from an eps
file.  Sorry, can't test this as I purged my systems of the Microsoft
virus a few years ago.

In the linux world, a little program called "sketch", at
http://sketch.sourceforge.net,  (based on tk and python) can easily open
both eps and ai files, outputting to ps or sketch native file format.   

-jennifer

-----------------------------------
J. Steinbachs, Ph.D.
Computational Biologist
The Field Museum
Chicago, IL 60605-2496

office: 312-665-7810
fax: 312-665-7158
http://cb.fmnh.org
-----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Jan 16 01:13:23 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 15 Jan 2001 19:13:23 -0500 (EST)
Subject: [R] A QUESTION ABOUT TIME SERIES
In-Reply-To: <20010116102538.A5084@camille.indigoindustrial.co.nz>
Message-ID: <Pine.LNX.4.30.0101151905080.24894-100000@bolker.zoo.ufl.edu>


  Interesting, and certainly a better solution than hacking Perl scripts.
I was actually more interested in this scripting/htdig option as a
function for other people (e.g., an option set up on the R project web
page) than for myself.  For myself, I'm generally happy enough searching
my local HTML help and searching the packages page on CRAN.  It just seems
that there are many people who are a little too ignorant (no pejorative
connotation intended) or lazy (slight p.c.) to do this search for
themselves, and it might help to have such an engine available.
   Speaking of lazy, the odds of my setting this up are slim, but it might
happen ...

  Ben Bolker


On Tue, 16 Jan 2001, Jason Turner wrote:

>
> On Mon, Jan 15, 2001 at 01:12:36PM -0500, ben at zoo.ufl.edu wrote:
> >   [If I were a better Perl programmer I would write a script that would
> > try to answer "Can R ... ?" questions automatically by (1) searching the
> > help pages on CRAN, (2) searching the package sources, (3) searching the
> > mail archives ...]
>
> It's not quite the answer you're looking for, but...
>
> I run R on my Linux box, which also runs Apache (www.apache.org).
> I've set up the html documentation in the publicly available
> docs (visible to apache), and set up htdig as my search engine
> (www.htdig.org).  I just type in the subject, and get links to
> the (very good) html documentation.  This has served my purposes
> *very* well, and I'd recommend it any day.  htdig can be quite
> flexible about where it searches, and you could re-direct it
> to the CRAN site.  I'm on a slow modem, so I haven't done this.
>
> I do this with any html documentation I get, and it's a good
> way to find other software that does the job you want in software
> you mightn't have thought of.
>
> Hope that helps
>
> Jason
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at borasky-research.com  Tue Jan 16 04:37:40 2001
From: znmeb at borasky-research.com (znmeb@borasky-research.com)
Date: Mon, 15 Jan 2001 19:37:40 -0800 (PST)
Subject: [R] WMF on Unix
In-Reply-To: <Pine.LNX.4.21.0101152212250.612-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.10.10101151936260.7618-100000@user2.teleport.com>

On Mon, 15 Jan 2001, Peter Kleiweg wrote:

> Prof Brian Ripley skriver...
> 
> > It seems to me that an unreliable WMF writer is worse than none.
> > In essence we have that problem on R for Windows now: the metafiles
> > written there are in the wrong resolution (and I do know why) and hence
> > are misinterpreted.   However, when I try to write them in the
> > right resolution, they are interpreted worse by Word, but correctly
> > by another viewer!
> 
> Asuming WMF is the same as Windows Metafile, GSview seems to
> have solved the trick. Why not let GSview deal with it. Why
> bother recreating what's already available and working fine.
> Perhaps all that's needed is a little documentation on how to
> best export graphics from R to Word using GSview.

GSView, I believe, is no longer free.
--
znmeb at teleport.com (M. Edward Borasky) http://www.teleport.com/~znmeb

If God had meant carrots to be eaten cooked, He would have given rabbits
fire.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 16 06:12:16 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 15 Jan 2001 21:12:16 -0800
Subject: [R] WMF on Unix
In-Reply-To: <Pine.GSO.4.10.10101151936260.7618-100000@user2.teleport.com>
References: <Pine.GSO.4.10.10101151936260.7618-100000@user2.teleport.com>
Message-ID: <877l3wgjwv.fsf@jeeves.blindglobe.net>

>>>>> "z" == znmeb  <znmeb at borasky-research.com> writes:

    z> GSView, I believe, is no longer free. 

>From what I can tell from the WWW site, it's as free as it has always
been (request for registration and fee, but it's not required; no
charge is allowed for redistribution).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Tue Jan 16 06:47:47 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Tue, 16 Jan 2001 16:47:47 +1100
Subject: [R] WMF on Unix
In-Reply-To: <Pine.GSO.4.10.10101151936260.7618-100000@user2.teleport.com>
References: <Pine.LNX.4.21.0101152212250.612-100000@kleigh.nl>
Message-ID: <3A647B33.6972.13B2285@localhost>

> 
> GSView, I believe, is no longer free.

If you look at 

http://www.ghostgum.com.au/

http://www.cs.wisc.edu/~ghost/gsview/rjl.htm

I think you will find that GSView is, in fact, free, but that you can - if 
you wish to support its development - register for AUD$40 ($USD25), as I 
did.  There is supposedly a nag screen in the current version of GSView (I 
have not seen it : I paid the registration $), but I know that there was 
no such nag in earlier and quite recent versions, which presumably are 
still available for those who cannot/do not wish to pay the registration. 

John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Tue Jan 16 07:47:43 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 16 Jan 2001 01:47:43 -0500
Subject: [R] Histogram for factors
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu>
	<x21yu84kiw.fsf@blueberry.kubism.ku.dk>
	<14944.8292.121386.126936@gargle.gargle.HOWL>
	<20010113094608.R29175@jimmy.harvard.edu>
Message-ID: <px7l3wm1rk.fsf@infiniti.ece.cmu.edu>


Robert Gentleman <rgentlem at jimmy.harvard.edu> writes:

> On Sat, Jan 13, 2001 at 10:31:16AM +0100, Martin Maechler wrote:
> > >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> > 
[snip]
> > Well,
> > 	plot(f) 
> > already draws a barplot of a factor f (by the  plot.factor method).
> 
>   Which many of us would think of as being the right "default" plot
> for a factor. However, I also think that the right thing for histogram
> to do is to inform you that this is not a continuous variable.
> I don't think of a barplot (barchart) as a specialized histogram.

thanks for the responses.  Yepp, I fell into the trap of trying to use
histogram for a definitely not continuous variable.  I'll go back to
reading a couple of my intro books...

Now the (actually not so) funny thing is that the labels for the
x-axis disappear when I specify colors for the bars.  (R 1.2.1, Linux)
Ok, maybe the other thing I'll have to catch up on is the docu...

Example:
  x <- cut (rnorm (10), 3)
  plot (x)  # has x axis (i.e. cut ranges in this silly example)
  plot (x, col="green")  # no x axis.  Dto. for col=c("green", "red") etc.

Regards,
  -tom


-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 16 08:14:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 16 Jan 2001 07:14:42 +0000 (GMT)
Subject: [R] WMF on Unix
In-Reply-To: <Pine.LNX.4.21.0101151741450.998-100000@mail.fmnh.org>
Message-ID: <Pine.GSO.4.31.0101160712200.15905-100000@auk.stats>

On Mon, 15 Jan 2001, Jennifer Steinbachs wrote:

>
> I can understand why one might want to use WMF format (in windows)... for
> the ability to manipulate graphic elements after the fact for an even
> cleaner display of data.
>
> One solution, for the windows world, is to use eps format and edit the
> file in adobe illustrator.  To avoid using AI, one can use
> ghostview.  GSview comes with the utility "epstool" that apparently allows
> one to create a wmf file
> (http://www.cs.wisc.edu/~ghost/gsview/epstool.htm) from an eps
> file.  Sorry, can't test this as I purged my systems of the Microsoft
> virus a few years ago.

Apparently, but it fact it produces a bitmap, which is not what is
required.

The same applies to GSView.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 16 08:25:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 16 Jan 2001 07:25:49 +0000 (GMT)
Subject: [R] WMF on Unix
In-Reply-To: <Pine.LNX.4.21.0101152212250.612-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.31.0101160715150.15905-100000@auk.stats>

On Mon, 15 Jan 2001, Peter Kleiweg wrote:

> Prof Brian Ripley skriver...
>
> > It seems to me that an unreliable WMF writer is worse than none.
> > In essence we have that problem on R for Windows now: the metafiles
> > written there are in the wrong resolution (and I do know why) and hence
> > are misinterpreted.   However, when I try to write them in the
> > right resolution, they are interpreted worse by Word, but correctly
> > by another viewer!
>
> Asuming WMF is the same as Windows Metafile, GSview seems to
> have solved the trick. Why not let GSview deal with it. Why
> bother recreating what's already available and working fine.
> Perhaps all that's needed is a little documentation on how to
> best export graphics from R to Word using GSview.

Well, perhaps you can tell us how.  I've just searched again the GSView
documentation, which only links to `adding an EPS Preview', and that says
it adds an uncompressed bitmap, not what is required.  We ahve lot sof ways
to produce bitmapped graphics.

We seem to have lots of suggestions, but what we are in need of is
working code that

(a) provides an R graphics driver that runs on Unix
(b) produces vector Windows metafiles, preferably enhanced metafiles
(c) whose output has been tested in a wide range of Windows applications.

Those of you who think this is easy please supply!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 16 10:01:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jan 2001 10:01:13 +0100
Subject: [R] Histogram for factors
In-Reply-To: Thomas Vogels's message of "16 Jan 2001 01:47:43 -0500"
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu> <x21yu84kiw.fsf@blueberry.kubism.ku.dk> <14944.8292.121386.126936@gargle.gargle.HOWL> <20010113094608.R29175@jimmy.harvard.edu> <px7l3wm1rk.fsf@infiniti.ece.cmu.edu>
Message-ID: <x2hf2zhnvq.fsf@blueberry.kubism.ku.dk>

Thomas Vogels <tov at ece.cmu.edu> writes:


> Now the (actually not so) funny thing is that the labels for the
> x-axis disappear when I specify colors for the bars.  (R 1.2.1, Linux)
> Ok, maybe the other thing I'll have to catch up on is the docu...

The logic around "axisnames" in plot.factor looks not quite right.
Could you file a bug report on this so that we dont forget?

barplot(table(factor(1:3)),col="green")
plot(factor(1:3),col="green",axes=T)

both work, although the latter is clearly silly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Tue Jan 16 10:46:04 2001
From: jgoebel at diw.de (Jan Goebel)
Date: Tue, 16 Jan 2001 10:46:04 +0100
Subject: [R] Histogram for factors
In-Reply-To: <px7l3wm1rk.fsf@infiniti.ece.cmu.edu>; from tov@ece.cmu.edu on Tue, Jan 16, 2001 at 01:47:43 -0500
References: <pxg0ioa8g9.fsf@infiniti.ece.cmu.edu> <x21yu84kiw.fsf@blueberry.kubism.ku.dk> <14944.8292.121386.126936@gargle.gargle.HOWL> <20010113094608.R29175@jimmy.harvard.edu> <px7l3wm1rk.fsf@infiniti.ece.cmu.edu>
Message-ID: <20010116104604.C16990@diw14093.diw.de>

On Tue, 16 Jan 2001, Thomas Vogels wrote:

> Now the (actually not so) funny thing is that the labels for the
> x-axis disappear when I specify colors for the bars.  (R 1.2.1, Linux)
> Ok, maybe the other thing I'll have to catch up on is the docu...
> 
> Example:
>   x <- cut (rnorm (10), 3)
>   plot (x)  # has x axis (i.e. cut ranges in this silly example)
>   plot (x, col="green")  # no x axis.  Dto. for col=c("green", "red") etc.

funny ...

>   plot (x, col="green",axes=T)  # works well 

         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R                

jan

-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jan 16 20:04:06 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Jan 2001 13:04:06 -0600
Subject: [R] [OT] getting a ~ character in LaTeX
Message-ID: <6rk87ve2u1.fsf@franz.stat.wisc.edu>

I am writing course notes in LaTeX.  In the part where I am describing
model-fitting functions in R I want to use a ~ character inline.  If I
am displaying an example of R code in its own environment I use the
alltt environment, which protects the ~ character.  I have forgotten
how to protect the ~ when I am writing something like
  The operator `~' is used to define a model formula in \R.
  The left hand side is evaluated as the response.  The right hand
  side can consist of several \Emph{terms} with special meanings

I welcome suggestions.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 16 20:55:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 16 Jan 2001 19:55:18 +0000 (GMT)
Subject: [R] [OT] getting a ~ character in LaTeX
In-Reply-To: <6rk87ve2u1.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.31.0101161948500.14708-100000@auk.stats>

On 16 Jan 2001, Douglas Bates wrote:

> I am writing course notes in LaTeX.  In the part where I am describing
> model-fitting functions in R I want to use a ~ character inline.  If I
> am displaying an example of R code in its own environment I use the
> alltt environment, which protects the ~ character.  I have forgotten
> how to protect the ~ when I am writing something like
>   The operator `~' is used to define a model formula in \R.
>   The left hand side is evaluated as the response.  The right hand
>   side can consist of several \Emph{terms} with special meanings
>
> I welcome suggestions.

There is no really good simple idea. $sim$ is not too bad, \verb|~|
will give a raised tilde in most TeX fonts: you can also use
\textasciitilde (as used by Rdconv) in normal text.

V&R (well, R) made a virtual monospaced font taking ~ from a IBM
public version of Courier, scaled to fit, plus

\def\~{{\tt\char'176}}

which make \~ work as you might hope.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jan 16 21:18:44 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 16 Jan 2001 15:18:44 -0500 (EST)
Subject: [R] [OT] getting a ~ character in LaTeX
Message-ID: <200101162018.PAA10214@cattell.psych.upenn.edu>

Use \verb"~"
for example.  See
http://www.psych.upenn.edu/~baron/rpsych.tex
for examples.  The result is ... rpsych.pdf
Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Jan 16 21:32:46 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 17 Jan 2001 09:32:46 +1300
Subject: [R] Newbie question: Upgrades and packages
Message-ID: <20010117093246.A6615@camille.indigoindustrial.co.nz>

Newbie question:

When upgrading (currently doing 1.1.1 to 1.2.1), do I have
to rebuild all packages as well?  For example, I use RODBC
and netCDF a lot.

Thanks

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jan 16 21:38:29 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 16 Jan 2001 12:38:29 -0800 (PST)
Subject: [R] Newbie question: Upgrades and packages
In-Reply-To: <20010117093246.A6615@camille.indigoindustrial.co.nz>
Message-ID: <Pine.GSO.4.21.0101161236090.495-100000@atlas.biostat.washington.edu>

On Wed, 17 Jan 2001, Jason Turner wrote:

> Newbie question:
> 
> When upgrading (currently doing 1.1.1 to 1.2.1), do I have
> to rebuild all packages as well?  For example, I use RODBC
> and netCDF a lot.

Usually you don't, this time you probably do.  The introduction of the new
memory management scheme in 1.2 broke binary (and even source)
compatibility for a number of packages. It was worth it, though.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Tue Jan 16 22:24:37 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Tue, 16 Jan 2001 15:24:37 -0600 (CST)
Subject: [R] [OT] getting a ~ character in LaTeX
In-Reply-To: <6rk87ve2u1.fsf@franz.stat.wisc.edu>
Message-ID: <XFMail.20010116152437.s-luppescu@uchicago.edu>

On 16-Jan-2001 Douglas Bates wrote:
> I am writing course notes in LaTeX.  In the part where I am describing
> model-fitting functions in R I want to use a ~ character inline.  If I
> am displaying an example of R code in its own environment I use the
> alltt environment, which protects the ~ character.  I have forgotten
> how to protect the ~ when I am writing something like
>   The operator `~' is used to define a model formula in \R.
>   The left hand side is evaluated as the response.  The right hand
>   side can consist of several \Emph{terms} with special meanings

How about \sim? That's what I use when I need a ~ meaning ``is distributed
as.'' You may need \usepackage{amsmath} with this, but I'm not sure.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
Acceptance testing:
        An unsuccessful attempt to find bugs.
>> Sent on 16-Jan-2001 at 15:20:58 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 16 22:45:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jan 2001 22:45:49 +0100
Subject: [R] [OT] getting a ~ character in LaTeX
In-Reply-To: Douglas Bates's message of "16 Jan 2001 13:04:06 -0600"
References: <6rk87ve2u1.fsf@franz.stat.wisc.edu>
Message-ID: <x2itnfmar6.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> I am writing course notes in LaTeX.  In the part where I am describing
> model-fitting functions in R I want to use a ~ character inline.  If I
> am displaying an example of R code in its own environment I use the
> alltt environment, which protects the ~ character.  I have forgotten
> how to protect the ~ when I am writing something like
>   The operator `~' is used to define a model formula in \R.
>   The left hand side is evaluated as the response.  The right hand
>   side can consist of several \Emph{terms} with special meanings
> 
> I welcome suggestions.

I have at a similar spot:

As mentioned earlier, e.g.\ in connection with boxplots and
stripplots, the argument to |lm| is a \emph{model formula}, in which
the  tilde symbol (|~|) should be read as ``described by''.

(with \usepackage{shortvrb} and \MakeShortVerb| )

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Jan 17 08:21:28 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 17 Jan 2001 08:21:28 +0100
Subject: [R] [OT] getting a ~ character in LaTeX
In-Reply-To: <x2itnfmar6.fsf@blueberry.kubism.ku.dk>
References: <6rk87ve2u1.fsf@franz.stat.wisc.edu>
	<x2itnfmar6.fsf@blueberry.kubism.ku.dk>
Message-ID: <14949.18424.358309.106698@mithrandir.hornik.net>

>>>>> Peter Dalgaard BSA writes:

> Douglas Bates <bates at stat.wisc.edu> writes:
>> I am writing course notes in LaTeX.  In the part where I am describing
>> model-fitting functions in R I want to use a ~ character inline.  If I
>> am displaying an example of R code in its own environment I use the
>> alltt environment, which protects the ~ character.  I have forgotten
>> how to protect the ~ when I am writing something like
>> The operator `~' is used to define a model formula in \R.
>> The left hand side is evaluated as the response.  The right hand
>> side can consist of several \Emph{terms} with special meanings
>> 
>> I welcome suggestions.

> I have at a similar spot:

> As mentioned earlier, e.g.\ in connection with boxplots and
> stripplots, the argument to |lm| is a \emph{model formula}, in which
> the  tilde symbol (|~|) should be read as ``described by''.

> (with \usepackage{shortvrb} and \MakeShortVerb| )

That is the most convenient solution, but in Doug's case there might be
a problem with typesetting

	foo ~ bar | baz

:-)

In the short run, I think the official solution is to use
	\textasciitilde
and if you look at the code for this you will see that
	latex.ltx:\DeclareTextCommandDefault{\textasciitilde}{\~{}}
	t1enc.def:\DeclareTextSymbol{\textasciitilde}{T1}{`\~}

In the long run, I realized when working on the newsletter style file
with Fritz that if we have texinfo/HTML like markup commands such as
\code and \file then *inside* these we really want a behavior similar to
alltt or inside \url, i.e., only the escape and the grouping chars
should be special (only `\' `{' and `}').  I am planning to write macros
for this, maybe in a style file of its own so that we can also use it in
Rd.sty, for example.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Perttu.Muurimaki at Helsinki.Fi  Wed Jan 17 10:06:54 2001
From: Perttu.Muurimaki at Helsinki.Fi (=?ISO-8859-1?Q?Perttu_Muurim=E4ki?=)
Date: Wed, 17 Jan 2001 11:06:54 +0200 (EET)
Subject: [R] Huge memory comsumption with foreign and RPgSQL
Message-ID: <Pine.LNX.4.31.0101171053390.574-100000@localhost.localdomain>

I know this is something R isn't meant to do well but I tried it anyway :)

I have this SPSS-datafile (size 31 MB). When I converted it to a R object
with read.spss("datafile.sav") I ended up with a .RData-file which was 229
MB big. Is this considered normal?

Then I tried to dump that object into a database with RPgSQL-package
function db.write.table(object) (Memory ran out first time I tried to
convert SPSS-file into a R-object so I was quite prepared for the
database manouvre ; I increased the size of swap (working with linux) to
2500 MB) The process kept going and going and getting bigger and bigger.
After 6 hours and 30 minutes I aborted it. At that time the process had
grown into 1400 MB:s. Again, is this considered normal? And further more,
am I likely to succeed if I'm patient enough?

-perttu-

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Wed Jan 17 11:16:41 2001
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Wed, 17 Jan 2001 11:16:41 +0100
Subject: [R] R/Java Omegahat Interface
Message-ID: <3A657109.6D5F498D@ifp.fr>

Hello R-users,

I am looking for informations about the R/Java package provided by the
Omegahat project, and which is available on the CRAN site (Package -
Other).
I've already tried to contact the Omega project (Duncan Temple Lang),
but I'm steel without any answer ...
So, I wonder if somebody has already use this R/Java interface on
Windows.

In this case, please help me ! How can I get the 0.61 version, and how
can I install it ? (If you know that an older version works, it interest
me too).

Waiting for your help

Regards

Isabelle Zabalza-Mezghani.

--
Isabelle Zabalza-Mezghani          Tel : 01 47 52 61 99
Institut Fran?ais du P?trole       E-mail : isabelle.zabalza-mezghani at ifp.fr
1-4 Av. Bois Preau - Bat Lauriers
92852 Rueil Malmaison Cedex, France


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010117/ee4bc46a/attachment.html

From p.dalgaard at biostat.ku.dk  Wed Jan 17 12:10:24 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2001 12:10:24 +0100
Subject: [R] Huge memory comsumption with foreign and RPgSQL
In-Reply-To: Perttu Muurim?ki's message of "Wed, 17 Jan 2001 11:06:54 +0200 (EET)"
References: <Pine.LNX.4.31.0101171053390.574-100000@localhost.localdomain>
Message-ID: <x2ely2towv.fsf@blueberry.kubism.ku.dk>

Perttu Muurim?ki <Perttu.Muurimaki at Helsinki.Fi> writes:

> I know this is something R isn't meant to do well but I tried it anyway :)
> 
> I have this SPSS-datafile (size 31 MB). When I converted it to a R object
> with read.spss("datafile.sav") I ended up with a .RData-file which was 229
> MB big. Is this considered normal?

Doesn't sound completely unreasonable: If all your fields fit in a
single byte to begin with and get converted to double in the process,
you'll have an inflation by a factor of 8. 

> Then I tried to dump that object into a database with RPgSQL-package
> function db.write.table(object) (Memory ran out first time I tried to
> convert SPSS-file into a R-object so I was quite prepared for the
> database manouvre ; I increased the size of swap (working with linux) to
> 2500 MB) The process kept going and going and getting bigger and bigger.
> After 6 hours and 30 minutes I aborted it. At that time the process had
> grown into 1400 MB:s. Again, is this considered normal? And further more,
> am I likely to succeed if I'm patient enough?

This, however, sounds a bit excessive, although I wouldn't know
exactly what goes on inside RPgSQL... If it is converting every field
in the entire data frame to string form before sending it to the
database, then I might understand. Might it be possible to send it in
smaller blocks?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Jan 17 12:10:43 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 17 Jan 2001 11:10:43 +0000 (GMT)
Subject: [R] Huge memory comsumption with foreign and RPgSQL (fwd)
Message-ID: <Pine.LNX.4.10.10101171110300.3227-100000@localhost.localdomain>

I don't know anything about this, but I will say something obvious: when
trying something new, use a toy problem that is very small and simple. So
have you tried this with an SPSS file that is something like

x	y
1	4
2	5
3	6

Then you can see if you are proceeding correctly and move on to an example
that is closer to where you want to wind up.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sqmishra at excite.com  Wed Jan 17 13:04:31 2001
From: sqmishra at excite.com (Samir Mishra)
Date: Wed, 17 Jan 2001 04:04:31 -0800 (PST)
Subject: [R] Pattern Matching help
Message-ID: <31629492.979733071798.JavaMail.imail@ringo.excite.com>

Thanks in advance for any help I can get on this.

I'm trying to change variable names between 2 systems - R and old SPSS,
Oracle. I'm using the grep() and gsub() commands but I'm getting the
following result - 

> test.dat <- c("a", "b.c", "d.e.f", "p_q,r")

> test.dat
[1] "a"     "b.c"   "d.e.f" "p_q,r"

> grep(",", test.dat, value = TRUE, extended = FALSE)
[1] "p_q,r"

> grep("_", test.dat, value = TRUE, extended = FALSE)
[1] "p_q,r"

> #NOT WHAT I WANT, I EXPECT TO GET ONLY ELEMENTS 2 & 3 RETURNED
> grep(".", test.dat, value = TRUE, extended = FALSE)
[1] "a"     "b.c"   "d.e.f" "p_q,r"


And similarly, with gsub(), I get -
> gsub(",", "_", test.dat, extended = FALSE)
[1] "a"     "b.c"   "d.e.f" "p_q_r"

> gsub("_", ".", test.dat, extended = FALSE)
[1] "a"     "b.c"   "d.e.f" "p.q,r"

> #NOT WHAT I WANT
> gsub(".", "_", test.dat, extended = FALSE) #NOT WHAT I WANT
[1] "_"     "___"   "_____" "_____"


Am I doing something wrong? 

Samir.



> version
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R







Samir Mishra
===========================================
Please send replies to :
sqmishra at acm.org
===========================================





_______________________________________________________
Send a cool gift with your E-Card
http://www.bluemountain.com/giftcenter/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 17 13:17:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 17 Jan 2001 12:17:15 +0000 (GMT)
Subject: [R] Pattern Matching help
Message-ID: <200101171217.MAA03630@toucan.stats.ox.ac.uk>


> Date: Wed, 17 Jan 2001 04:04:31 -0800 (PST)
> From: Samir Mishra <sqmishra at excite.com>
> 
> Thanks in advance for any help I can get on this.
> 
> I'm trying to change variable names between 2 systems - R and old SPSS,
> Oracle. I'm using the grep() and gsub() commands but I'm getting the
> following result - 
> 
> > test.dat <- c("a", "b.c", "d.e.f", "p_q,r")
> 
> > test.dat
> [1] "a"     "b.c"   "d.e.f" "p_q,r"
> 
> > grep(",", test.dat, value = TRUE, extended = FALSE)
> [1] "p_q,r"
> 
> > grep("_", test.dat, value = TRUE, extended = FALSE)
> [1] "p_q,r"
> 
> > #NOT WHAT I WANT, I EXPECT TO GET ONLY ELEMENTS 2 & 3 RETURNED
> > grep(".", test.dat, value = TRUE, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p_q,r"

Try
> grep("\\.", test.dat, value = TRUE)
[1] "b.c"   "d.e.f"

> And similarly, with gsub(), I get -
> > gsub(",", "_", test.dat, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p_q_r"
> 
> > gsub("_", ".", test.dat, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p.q,r"
> 
> > #NOT WHAT I WANT
> > gsub(".", "_", test.dat, extended = FALSE) #NOT WHAT I WANT
> [1] "_"     "___"   "_____" "_____"

But

> > gsub("\\.", "_", test.dat, extended = FALSE)
[1] "a"     "b_c"   "d_e_f" "p_q,r"


> Am I doing something wrong? 

`.' is a special character in a regexp.   You have to escape it by `\', and
that needs to be escaped in R.

Perhaps we need to say more on the help page, but I am reluctant to
try to define the meaning of `regular expression' there ....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 17 13:43:47 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 17 Jan 2001 13:43:47 +0100
Subject: [R] Pattern Matching help
References: <31629492.979733071798.JavaMail.imail@ringo.excite.com>
Message-ID: <3A659383.6208F30C@statistik.uni-dortmund.de>

Samir Mishra wrote:
> 
> Thanks in advance for any help I can get on this.
> 
> I'm trying to change variable names between 2 systems - R and old SPSS,
> Oracle. I'm using the grep() and gsub() commands but I'm getting the
> following result -
> 
> > test.dat <- c("a", "b.c", "d.e.f", "p_q,r")
> 
> > test.dat
> [1] "a"     "b.c"   "d.e.f" "p_q,r"
> 
> > grep(",", test.dat, value = TRUE, extended = FALSE)
> [1] "p_q,r"
> 
> > grep("_", test.dat, value = TRUE, extended = FALSE)
> [1] "p_q,r"
> 
> > #NOT WHAT I WANT, I EXPECT TO GET ONLY ELEMENTS 2 & 3 RETURNED
> > grep(".", test.dat, value = TRUE, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p_q,r"

grep("\\.", test.dat, value = TRUE, extended = FALSE)


> And similarly, with gsub(), I get -
> > gsub(",", "_", test.dat, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p_q_r"
> 
> > gsub("_", ".", test.dat, extended = FALSE)
> [1] "a"     "b.c"   "d.e.f" "p.q,r"
> 
> > #NOT WHAT I WANT
> > gsub(".", "_", test.dat, extended = FALSE) #NOT WHAT I WANT
> [1] "_"     "___"   "_____" "_____"

gsub("\\.", "_", test.dat, extended = FALSE)


> Am I doing something wrong?


Yes. Think about the "." in regular expressions.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at deimos.tc.uaslp.mx  Wed Jan 17 09:02:39 2001
From: mandevip at deimos.tc.uaslp.mx (Peter B. Mandeville)
Date: Wed, 17 Jan 2001 09:02:39
Subject: [R] panel argument in coplot
Message-ID: <3.0.5.16.20010117090239.3037bd3c@deimos.tc.uaslp.mx>

How can I add a least squares line to each panel in coplot?

Thank you very much.

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at sunysb.edu  Wed Jan 17 16:23:51 2001
From: Timothy.Keitt at sunysb.edu (Timothy H. Keitt)
Date: Wed, 17 Jan 2001 10:23:51 -0500
Subject: [R] Huge memory comsumption with foreign and RPgSQL
References: <Pine.LNX.4.31.0101171053390.574-100000@localhost.localdomain> <x2ely2towv.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A65B907.6080206@SUNYSB.Edu>

I usually import directly into postgresql first and then read the data 
using rpgsql.  In psql, create a table, e.g.,

   create table my_table (col1 int, col2 float, ...)

then format your data as a tab-separated ascii file, one column per 
variable.  In psql,

   \copy my_table from 'filename'

or

   \g copy my_table from 'filename' using delimiters 'delim' with null 
as 'null string'

Once the data are in postgresql, fire up R and read the tables with rpgsql.

Tim

Peter Dalgaard BSA wrote:

> Perttu Muurim?ki <Perttu.Muurimaki at Helsinki.Fi> writes:
> 
> 
>> I know this is something R isn't meant to do well but I tried it anyway :)
>> 
>> I have this SPSS-datafile (size 31 MB). When I converted it to a R object
>> with read.spss("datafile.sav") I ended up with a .RData-file which was 229
>> MB big. Is this considered normal?
> 
> Doesn't sound completely unreasonable: If all your fields fit in a
> single byte to begin with and get converted to double in the process,
> you'll have an inflation by a factor of 8. 
> 
> 
>> Then I tried to dump that object into a database with RPgSQL-package
>> function db.write.table(object) (Memory ran out first time I tried to
>> convert SPSS-file into a R-object so I was quite prepared for the
>> database manouvre ; I increased the size of swap (working with linux) to
>> 2500 MB) The process kept going and going and getting bigger and bigger.
>> After 6 hours and 30 minutes I aborted it. At that time the process had
>> grown into 1400 MB:s. Again, is this considered normal? And further more,
>> am I likely to succeed if I'm patient enough?
> 
> This, however, sounds a bit excessive, although I wouldn't know
> exactly what goes on inside RPgSQL... If it is converting every field
> in the entire data frame to string form before sending it to the
> database, then I might understand. Might it be possible to send it in
> smaller blocks?
> 


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 17 16:29:45 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 17 Jan 2001 10:29:45 -0500
Subject: [R] Scientific notation?
Message-ID: <NEBBJKDJHEFCOOLFFAKKMEHKCAAA.cyg@sympatico.ca>

Hi,

Would there be a function and/or some options to force R to write a value of
say 1.0e-4 as "0.0001"? More specifically I want to use R to write ASCII
file(s) for other programs to read and some of these programs don't know how
to deal numbers in scientific notation or have a different convention.

Thanks in advance.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 17 16:38:57 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 17 Jan 2001 16:38:57 +0100
Subject: [R] panel argument in coplot
References: <3.0.5.16.20010117090239.3037bd3c@deimos.tc.uaslp.mx>
Message-ID: <3A65BC91.2A8B5594@statistik.uni-dortmund.de>

"Peter B. Mandeville" wrote:
> 
> How can I add a least squares line to each panel in coplot?
> 
> Thank you very much.

Let's extend the last example from the help to coplot():

 data(state)
 attach(data.frame(state.x77))
 coplot(Life.Exp ~ Income | Illiteracy * state.region, number = 3,
   panel = function(x, y, ...) {points(x, y, ...); abline(lm(y~x))})
 detach()

So just change the function for the argument 'panel'.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Wed Jan 17 17:20:21 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Wed, 17 Jan 2001 17:20:21 +0100
Subject: [R] Is there a possibility to display the log(frequency) instead of the 
 frequency in the log plot???
Message-ID: <3A65C645.83D89913@molgen.mpg.de>



--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Wed Jan 17 17:23:57 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Wed, 17 Jan 2001 17:23:57 +0100
Subject: [R] Is ther a possibility to display the log(frequency) instead of the 
 frequency in the hist plot?
Message-ID: <3A65C71D.BC1A61F8@molgen.mpg.de>

 Is there a possibility to display the log(frequency) instead of the
frequency in the hist?
--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amami at ma.man.ac.uk  Wed Jan 17 17:46:01 2001
From: amami at ma.man.ac.uk (AHMED MAMI)
Date: Wed, 17 Jan 2001 16:46:01 +0000
Subject: [R] nonlinear least squares
References: <200011281436.OAA11245@toucan.stats.ox.ac.uk>
Message-ID: <3A65CC49.CD1C1894@ma.man.ac.uk>

Hi,

Is there a "R" function that uses the Gauss-Newton method to minimize a
nonlinear regression

model. I mean in the same manner as the "nlsfit"  Splus function, where you can
specify the model and the

derivatives.

regards

ahmed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Wed Jan 17 18:26:56 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 17 Jan 2001 12:26:56 -0500
Subject: [R] Pattern Matching help
In-Reply-To: Prof Brian Ripley's message of "Wed, 17 Jan 2001 12:17:15 +0000 (GMT)"
References: <200101171217.MAA03630@toucan.stats.ox.ac.uk>
Message-ID: <pxr9226qe7.fsf@infiniti.ece.cmu.edu>


Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

<snip>
> `.' is a special character in a regexp.   You have to escape it by `\', and
> that needs to be escaped in R.
> 
> Perhaps we need to say more on the help page, but I am reluctant to
> try to define the meaning of `regular expression' there ....
</snip> 

Since perl is a prerequisite for the installation of R, you might
assume that its man pages are also available.  'man perlre' gives an
overview of the special characters in the subsection "Regular
Expressions".  So, could you refer the reader of the help page for
gsub and friends to the man page of perlre?  (I don't what you would
do for the Windows people...)

Regards,
  -tom


-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 17 18:30:16 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 17 Jan 2001 18:30:16 +0100
Subject: [R] Scientific notation?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKMEHKCAAA.cyg@sympatico.ca>
References: <NEBBJKDJHEFCOOLFFAKKMEHKCAAA.cyg@sympatico.ca>
Message-ID: <14949.54952.479189.968043@gargle.gargle.HOWL>

>>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:

    Yves> Hi, Would there be a function and/or some options to force R to
    Yves> write a value of say 1.0e-4 as "0.0001"? More specifically I want
    Yves> to use R to write ASCII file(s) for other programs to read and
    Yves> some of these programs don't know how to deal numbers in
    Yves> scientific notation or have a different convention.

Probably variations of these will solve your problem :

> formatC(pi * 10^(-7:-3), format = "f", digits = 10)
[1] "0.0000003142" "0.0000031416" "0.0000314159" "0.0003141593" "0.0031415927"

> formatC(pi * 10^(-7:-3), format = "fg", digits = 10)
[1] "0.0000003141592654" "0.000003141592654"  "0.00003141592654"  
[4] "0.0003141592654"    "0.003141592654"    


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 17 18:32:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 17 Jan 2001 17:32:46 +0000 (GMT)
Subject: [R] Pattern Matching help
Message-ID: <200101171732.RAA17815@toucan.stats.ox.ac.uk>

> From: Thomas Vogels <tov at ece.cmu.edu>
> Date: 17 Jan 2001 12:26:56 -0500
> 
> 
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> <snip>
> > `.' is a special character in a regexp.   You have to escape it by `\', and
> > that needs to be escaped in R.
> > 
> > Perhaps we need to say more on the help page, but I am reluctant to
> > try to define the meaning of `regular expression' there ....
> </snip> 
> 
> Since perl is a prerequisite for the installation of R, you might
> assume that its man pages are also available.  

Unfortunately it isn't, for a binary installation (and this was on Windows).

> 'man perlre' gives an
> overview of the special characters in the subsection "Regular
> Expressions".  So, could you refer the reader of the help page for
> gsub and friends to the man page of perlre?  (I don't what you would
> do for the Windows people...)

But these are POSIX not Perl regexps.  The latter are more powerful,
and have more special characters, AFAIK.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 17 18:38:57 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 17 Jan 2001 12:38:57 -0500
Subject: [R] Scientific notation?
In-Reply-To: <14949.54952.479189.968043@gargle.gargle.HOWL>
Message-ID: <NEBBJKDJHEFCOOLFFAKKAEHNCAAA.cyg@sympatico.ca>

Just what I was looking for.

Many thanks

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : Martin Maechler [mailto:maechler at stat.math.ethz.ch]
> Envoye : Wednesday, January 17, 2001 12:30 PM
> A : Yves Gauvreau
> Cc : R-help at lists. R-project. org
> Objet : Re: [R] Scientific notation?
> 
> 
> >>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:
> 
>     Yves> Hi, Would there be a function and/or some options to force R to
>     Yves> write a value of say 1.0e-4 as "0.0001"? More 
> specifically I want
>     Yves> to use R to write ASCII file(s) for other programs to read and
>     Yves> some of these programs don't know how to deal numbers in
>     Yves> scientific notation or have a different convention.
> 
> Probably variations of these will solve your problem :
> 
> > formatC(pi * 10^(-7:-3), format = "f", digits = 10)
> [1] "0.0000003142" "0.0000031416" "0.0000314159" "0.0003141593" 
> "0.0031415927"
> 
> > formatC(pi * 10^(-7:-3), format = "fg", digits = 10)
> [1] "0.0000003141592654" "0.000003141592654"  "0.00003141592654"  
> [4] "0.0003141592654"    "0.003141592654"    
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vigirdas.Mackevicius at maf.vu.lt  Wed Jan 17 18:51:37 2001
From: Vigirdas.Mackevicius at maf.vu.lt (Vigirdas Mackevicius)
Date: Wed, 17 Jan 2001 19:51:37 +0200
Subject: [R] getting a ~ character in LaTeX
Message-ID: <3.0.1.32.20010117195137.007ea100@voruta.vu.lt>

===8<==============Original message text===============
I am writing course notes in LaTeX.  In the part where I am describing
model-fitting functions in R I want to use a ~ character inline.  If I
am displaying an example of R code in its own environment I use the
alltt environment, which protects the ~ character.  I have forgotten
how to protect the ~ when I am writing something like
  The operator `~' is used to define a model formula in \R.
  The left hand side is evaluated as the response.  The right hand
  side can consist of several \Emph{terms} with special meanings

I welcome suggestions.
=======================================================================

In plainTeX, 
I use $\widetilde{\ }$. 
I think this must also work in LaTeX.
Vigirdas Mackevicius
=============================================
Vigirdas MACKEVICIUS
Department of Mathematics and Informatics
Vilnius University
Naugarduko 24
2600 Vilnius
Lithuania
e-mail: vigirdas.mackevicius at maf.vu.lt
www:    http://www.mif.vu.lt/~vigirdas  
fax:    (+370 2) 251585
=============================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Wed Jan 17 21:26:20 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Wed, 17 Jan 2001 21:26:20 +0100
Subject: [R] Pinheiro/Bates Soybean nlme failure
Message-ID: <NBBBIJMBGLHMKHGCPFJKEEAICGAA.dieter.menne@menne-biomed.de>

Dear Mixed Effect Friends,

Somehow, R(1021, Windows) seem to run differently from S Plus:
The soybean example from Pinheiro/Bates on page 290 fails
in R. (Soybean1 is Soybean with the NA and "critical" case
removed. Same procedure with full Soybean).

> fm1Soy.lis<-nlsList(weight~SSlogis(Time,Asym,xmid,scal),data=Soybean1)
> fm1Soy.nlme<-nlme(fm1Soy.lis)
Error: Singularity in backsolve at level 0, block 1
In addition: There were 50 or more warnings (use warnings() to see the first 50)
> warnings()
Warning messages:
1: Singular precision matrix in level -1, block 1
2: Singular precision matrix in level -1, block 1



---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 17 21:41:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 Jan 2001 20:41:52 +0000 (GMT)
Subject: [R] Pinheiro/Bates Soybean nlme failure
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKEEAICGAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.GSO.4.31.0101172038400.280-100000@auk.stats>

On Wed, 17 Jan 2001, Dieter Menne wrote:

> Dear Mixed Effect Friends,
>
> Somehow, R(1021, Windows) seem to run differently from S Plus:
> The soybean example from Pinheiro/Bates on page 290 fails
> in R. (Soybean1 is Soybean with the NA and "critical" case
> removed. Same procedure with full Soybean).
>
> > fm1Soy.lis<-nlsList(weight~SSlogis(Time,Asym,xmid,scal),data=Soybean1)
> > fm1Soy.nlme<-nlme(fm1Soy.lis)
> Error: Singularity in backsolve at level 0, block 1
> In addition: There were 50 or more warnings (use warnings() to see the first 50)
> > warnings()
> Warning messages:
> 1: Singular precision matrix in level -1, block 1
> 2: Singular precision matrix in level -1, block 1

It is not the only such.  nlme-3.1-x,  x >=8 has a different algorithm and
fails much more often for me than nlme-3.1-6, say.  Both fail more
often than nlme 3.3 on S-PLUS (you didn't say what you were using).

The Windows port of nlme does pass Rcmd check, so does run the examples
correctly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 17 22:08:22 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 17 Jan 2001 22:08:22 +0100
Subject: [R] Is ther a possibility to display the log(frequency) instead of 
 the frequency in the hist plot?
References: <3A65C71D.BC1A61F8@molgen.mpg.de>
Message-ID: <3A6609C5.78791154@statistik.uni-dortmund.de>



Witold Eryk Wolski wrote:
> 
>  Is there a possibility to display the log(frequency) instead of the
> frequency in the hist?

I think you want something like the following example:

 x <- runif(100) * 10
 my.hist <- hist(x)
 my.hist   # have a look at the values!
 my.hist$counts <- log(my.hist$counts, 10)  # logarithm with base 10
 plot(my.hist)  # now plot it again with log(frequency)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jan 17 22:17:09 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Jan 2001 15:17:09 -0600
Subject: [R] Pinheiro/Bates Soybean nlme failure
In-Reply-To: Prof Brian D Ripley's message of "Wed, 17 Jan 2001 20:41:52 +0000 (GMT)"
References: <Pine.GSO.4.31.0101172038400.280-100000@auk.stats>
Message-ID: <6ru26x5162.fsf@franz.stat.wisc.edu>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Wed, 17 Jan 2001, Dieter Menne wrote:

> > Somehow, R(1021, Windows) seem to run differently from S Plus:
> > The soybean example from Pinheiro/Bates on page 290 fails
> > in R. (Soybean1 is Soybean with the NA and "critical" case
> > removed. Same procedure with full Soybean).
> >
> > > fm1Soy.lis<-nlsList(weight~SSlogis(Time,Asym,xmid,scal),data=Soybean1)
> > > fm1Soy.nlme<-nlme(fm1Soy.lis)
> > Error: Singularity in backsolve at level 0, block 1
> > In addition: There were 50 or more warnings (use warnings() to see the first 50)
> > > warnings()
> > Warning messages:
> > 1: Singular precision matrix in level -1, block 1
> > 2: Singular precision matrix in level -1, block 1
> 
> It is not the only such.  nlme-3.1-x,  x >=8 has a different algorithm and
> fails much more often for me than nlme-3.1-6, say.  Both fail more
> often than nlme 3.3 on S-PLUS (you didn't say what you were using).

The failures in nlme-3.1-x occur, for the most part, on models that
are overparameterized and do not fit well.  It is interesting to do
the model building for a nonlinear mixed-effects model by including a
random effect for each of the parameters in the per-subject model and
by allowing a general variance-covariance structure but that model is
often very difficult to estimate.

You may be able to fit this model using 
 fm1Soy.nlme <- nlme(fm1Soy.lis, random = pdDiag(Asym + xmid + scal ~ 1))

Even that fit is difficult because the random effects for Asym are
being used to model the systematic dependency of the Asymptote on the
Year and the Variety - behaviour that should properly be modelled in
the fixed-effects terms.

The nonlinear optimization codes used by S-PLUS and R are different.
There are advantages to the code used in R relative to the code used
in S-PLUS but there are also disadvantages.  One of the disadvantages
is that the code in R will try very large steps during its initial
exploration phase then it gets trapped in remote regions of the
parameter space.  For nlme this means that the estimate of the
variance-covariance matrix of the random effects becomes singular.

Recent versions of the nlme library for R have a subdirectory called
scripts that contains R scripts for the examples from each of the
chapters in our book.  If you check them you will see that not all of
the nonlinear examples work in the R version of nlme.  We plan to
modify the choice of starting estimates and the internal algorithms to
improve this but it is a long and laborious process.  I ask for your
patience.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 17 22:17:59 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 17 Jan 2001 22:17:59 +0100
Subject: [R] nonlinear least squares
References: <200011281436.OAA11245@toucan.stats.ox.ac.uk> <3A65CC49.CD1C1894@ma.man.ac.uk>
Message-ID: <3A660C07.A6BCE4EF@statistik.uni-dortmund.de>

AHMED MAMI wrote:
> 
> Hi,
> 
> Is there a "R" function that uses the Gauss-Newton method to minimize a
> nonlinear regression
> 
> model. I mean in the same manner as the "nlsfit"  Splus function, where you can
> specify the model and the
> 
> derivatives.

Hmm. In my version of S-Plus (4.5), there is no function nlsfit()
available.

You might want to take a look in the package "nls".


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crysopa at terra.com.br  Wed Jan 17 22:45:02 2001
From: crysopa at terra.com.br (Ronaldo Reis Jr.)
Date: Wed, 17 Jan 2001 19:45:02 -0200
Subject: [R] how to save results???
Message-ID: <01011719450200.02025@localhost.localdomain>

Hi,
I'm a new R's user. I am using "faq" and "An Introdution to R" to learn.
My main problem for start the learning is: how to save my result in a output 
file?
I has used the sink CMD or $ R > [output file], but the commands go to file 
and can't to be read in Linux Terminal. The workspace saved at the end of 
section save only commands and dont save results.
Anybody can help-me??
Thank you
Inte mais
Ronaldo
-- 
   //|\\   #*******************************************
  ( ? ? )  #Ronaldo Reis J?nior
     V     #ESALQ/USP - Entomologia, Caixa Postal - 09
   / l \   #13418-900 Piracicaba - SP
  /(lin)\  #Fone: 19-429-4199 r.229
 /(linux)\ #crysopa at insecta.ufv.br
/ (linux) \#crysopa at terra.com.br | ICQ#: 5692561
   ( x )   #*******************************************
   _/ \_ Powered by Conectiva Linux 6.0 D+:)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jan 17 22:52:46 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Jan 2001 15:52:46 -0600
Subject: [R] how to save results???
In-Reply-To: "Ronaldo Reis Jr."'s message of "Wed, 17 Jan 2001 19:45:02 -0200"
References: <01011719450200.02025@localhost.localdomain>
Message-ID: <6rhf2x4zip.fsf@franz.stat.wisc.edu>

"Ronaldo Reis Jr." <crysopa at terra.com.br> writes:

> I'm a new R's user. I am using "faq" and "An Introdution to R" to
> learn.  My main problem for start the learning is: how to save my
> result in a output file?

> I has used the sink CMD or $ R > [output file], but the commands go to file 
> and can't to be read in Linux Terminal. The workspace saved at the end of 
> section save only commands and dont save results.

Many people using R under Linux find that the ESS package for emacs
provides the most convenient way of running R.  This may not be the
best advice to a newcomer because learning to use emacs and ess is not
trivial.  Once you do learn, however, these tools are not something
you would want to be without.

If you run R within an Emacs buffer using ESS you have the complete
transcript of your session available to you at all times.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Thu Jan 18 00:25:44 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 17 Jan 2001 18:25:44 -0500 (EST)
Subject: [R] how to save results???
In-Reply-To: <01011719450200.02025@localhost.localdomain>
Message-ID: <Pine.SOL.3.91.1010117181924.15830A-100000@teer23.acpub.duke.edu>

> Hi,
> I'm a new R's user. I am using "faq" and "An Introdution to R" to learn.
> My main problem for start the learning is: how to save my result in a output 
> file?
> I has used the sink CMD or $ R > [output file], but the commands go to file 
> and can't to be read in Linux Terminal. The workspace saved at the end of 
> section save only commands and dont save results.
> Anybody can help-me??
> Thank you
> Inte mais
> Ronaldo

>From an R user (who is very far from being an expert!): I use
"cut-&-paste" (I paste into a text editor (emacs).  I find this very
convenient as it allows me to be selective. 

I hope this helps.

Rashid Nassar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Thu Jan 18 00:30:43 2001
From: mikem at salter-point.com (Michael M. Meyer)
Date: Wed, 17 Jan 2001 15:30:43 -0800
Subject: [R] Can one set --no-save in .Rprofile
Message-ID: <200101172330.PAA08467@home.salter-point.com>

(On Unix/Linux)
Is it possible to set the  --no-save  command line option as an option 
in the .Rprofile file.   I have looked in the sources and do not see 
any obvious (user initiated) ways of changing the command line defaults, 
but I am hoping I have missed something.

I *know* I can write my own shell script wrapper that calls R with 
whatever arguments I want (and I do that).  However there are times 
when I would like to have per-directory control of R, just as the 
Rprofile file does it.

(And yes, it would be trivial to write an R wrapper that looked for a 
file in the local directory that contained command line arguments, 
I just don't want to invent that wheel unless there is nothing simpler).

Regards, --Mike

Mike Meyer, Salter Point Associates, Seattle WA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Jan 18 02:18:40 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 18 Jan 2001 14:18:40 +1300
Subject: [R] ESS Default function template for R
Message-ID: <200101180119.f0I1J4Q22057@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1020 on NT
ESS using emacs ver. 20.4

~/.emacs
; Default function template
(setq ess-insert-function-templates t)
----------------------------------

When loading a new function into the R workspace using ctrl-CD I would 
like the default function template to come up, rather than a blank buffer. I 
thought I had the Default function template set properly in my .emacs file 
(see above), but apparently I do not.

Any idea what I'm missing, please?

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jan 18 03:12:50 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 17 Jan 2001 18:12:50 -0800
Subject: [R] ESS Default function template for R
In-Reply-To: <200101180119.f0I1J4Q22057@storm.niwa.cri.nz>
References: <200101180119.f0I1J4Q22057@storm.niwa.cri.nz>
Message-ID: <87n1cplial.fsf@jeeves.blindglobe.net>


The ess-help list would be an infinitely better list to send this to. 

ess-help at stat.math.ethz.ch

However, since I'm here, as far as I know, this problem is due to
differences in the way that S-PLUS and R handle the dump() command.

It's scheduled to be fixed soon (productivity on ESS, by the
development team, has recently increased).

best,
-tony


>>>>> "SM" == S McClatchie <s.mcclatchie at niwa.cri.nz> writes:


    SM> Colleagues ---------------------------------- System info: R
    SM> version rw1020 on NT ESS using emacs ver. 20.4

    SM> ~/.emacs ; Default function template (setq
    SM> ess-insert-function-templates t)
    SM> ----------------------------------

    SM> When loading a new function into the R workspace using ctrl-CD
    SM> I would like the default function template to come up, rather
    SM> than a blank buffer. I thought I had the Default function
    SM> template set properly in my .emacs file (see above), but
    SM> apparently I do not.

    SM> Any idea what I'm missing, please?

    SM> Help will be appreciated.  Thanks

    SM> Sam

    SM> Sam McClatchie, Research scientist (fisheries
    SM> acoustics)))))))))) NIWA (National Institute of Water &
    SM> Atmospheric Research Ltd) PO Box 14 901, Kilbirnie,
    SM> Wellington, New Zealand s.mcclatchie at niwa.cri.nz

    SM>                     /\
    ...> <xX(?> // \\
    SM>                  /// \\\ //// \\\\ /// <?)Xx><< ///// \\\\\\
    >> <(((?>
    >>> <(((?> ...>><xX(?>O<?)Xx><<

    SM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    SM> r-help mailing list -- Read
    SM> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    SM> "help", or "[un]subscribe" (in the "body", not the subject !)
    SM> To: r-help-request at stat.math.ethz.ch
    SM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Jan 18 03:52:58 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 18 Jan 2001 15:52:58 +1300
Subject: [R] r help message
Message-ID: <200101180253.f0I2rMQ30260@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1020 on NT
ESS using emacs ver. 20.4

----------------------------------

To keep my scripts short and tidy, I want to call sub-functions and return
variables from these for subsequent use in the calling function.

e.g.

"test.smooth.opc.time.series" <-
  function()             

{
  load.opc.ascii.files()
}

Within the sub-function "load.opc.ascii.files" I have tried two ways of
assigning variables for use by the calling function
"test.smooth.opc.time.series":

 dir <<- c('h:/data/nov99_tan9913/opc/')

This works but clutters the workspace.

assign(dir,  c('h:/data/nov99_tan9913/opc/')), envir = 
test.smooth.opc.time.series)          

Which returns an odd error telling me there is an invalid first argument
in assign. I don't see why, after reading the help on this function.

Any suggestions? Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 18 08:13:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Jan 2001 07:13:31 +0000 (GMT)
Subject: [R] r help message
In-Reply-To: <200101180253.f0I2rMQ30260@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0101180707120.6334-100000@auk.stats>

On Thu, 18 Jan 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> R version rw1020 on NT
> ESS using emacs ver. 20.4
>
> ----------------------------------
>
> To keep my scripts short and tidy, I want to call sub-functions and return
> variables from these for subsequent use in the calling function.
>
> e.g.
>
> "test.smooth.opc.time.series" <-
>   function()
>
> {
>   load.opc.ascii.files()
> }
>
> Within the sub-function "load.opc.ascii.files" I have tried two ways of
> assigning variables for use by the calling function
> "test.smooth.opc.time.series":
>
>  dir <<- c('h:/data/nov99_tan9913/opc/')
>
> This works but clutters the workspace.
>
> assign(dir,  c('h:/data/nov99_tan9913/opc/')), envir =
> test.smooth.opc.time.series)
>
> Which returns an odd error telling me there is an invalid first argument
> in assign. I don't see why, after reading the help on this function.

The first argument should be a character vector naming the object.
The help page says:

       x: a variable name (given as a quoted string).

and dir is not a quoted string, is it?  What's odd?

You don't need the c() in either case.

Also, test.smooth.opc.time.series is not an environment: you need
parent.frame(), I think.


Is this really a good idea?  The normal idea is to collect return variables
into a list and return that.  Explicit use of assign or <<- in S/R
user code is normally a sign of design problems, although they are needed
in system code.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 18 08:42:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Jan 2001 07:42:28 +0000 (GMT)
Subject: [R] Can one set --no-save in .Rprofile
In-Reply-To: <200101172330.PAA08467@home.salter-point.com>
Message-ID: <Pine.GSO.4.31.0101180725460.6334-100000@auk.stats>

On Wed, 17 Jan 2001, Michael M. Meyer wrote:

> (On Unix/Linux)
> Is it possible to set the  --no-save  command line option as an option
> in the .Rprofile file.   I have looked in the sources and do not see
> any obvious (user initiated) ways of changing the command line defaults,
> but I am hoping I have missed something.
>
> I *know* I can write my own shell script wrapper that calls R with
> whatever arguments I want (and I do that).  However there are times
> when I would like to have per-directory control of R, just as the
> Rprofile file does it.
>
> (And yes, it would be trivial to write an R wrapper that looked for a
> file in the local directory that contained command line arguments,
> I just don't want to invent that wheel unless there is nothing simpler).

Interesting: no, you can't set this as it gets used at a very early stage:
in batch use it is checked before launching R.  However, it is
only actually used in two cases (as far as I remember):

(i)  As the default arg for q()
(ii) With an implicit q() at the end of file in batch use.

For the first, you can re-define q() in the .Rprofile, as

q <- function (save = "no", status = 0, runLast = TRUE)
.Internal(quit(save, status, runLast))

For the second you can do nothing, but you will have had to specify the
option in the command line, anyway.  (Certain error actions such as
user signals also quit, but they all specify save/nosave.)

Is this enough?  We could provide an options argument to set the default in
q(), or just make it a settable R variable, say .quit.default, if there was
a need not met by the above.


I assume you are not using the GNOME GUI.  That has the annoying (and as
far as I know undocumented) side-effect of saving the --save/--no-save/ask
setting in its configuration file and using it next time around.  Only,
there is no way to specify "ask" on the command line, so the only
way to get back to it is to edit the configuration file.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Thu Jan 18 09:27:30 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Thu, 18 Jan 2001 09:27:30 +0100
Subject: [R] Is ther a possibility to display the log(frequency) instead of 
 the frequency in the hist plot?
References: <3A65C71D.BC1A61F8@molgen.mpg.de> <3A6609C5.78791154@statistik.uni-dortmund.de>
Message-ID: <3A66A8F2.4EC44DA2@molgen.mpg.de>




Uwe Ligges wrote:

> Witold Eryk Wolski wrote:
> >
> >  Is there a possibility to display the log(frequency) instead of the
> > frequency in the hist?
>
> I think you want something like the following example:
>
>  x <- runif(100) * 10
>  my.hist <- hist(x)
>  my.hist   # have a look at the values!
>  my.hist$counts <- log(my.hist$counts, 10)  # logarithm with base 10
>  plot(my.hist)  # now plot it again with log(frequency)
>
> Uwe Ligges
>

Hi Uwe!
First thanks for your answer.
Some questions still remain to me.
1. How take an log if one of the my.hist$counts equals 0?
2. You code expample produces an error message which i doesnt understand.
> plot(my.hist)  # now plot it again with log(frequency)
Error in plot.window(xlim, ylim, log, asp, ...) :
        invalid xlim
3. I tried as workaround something similar.
plot(my.hist$mids,log(my.hist$counts),type="s") And this would work quite good for
my needs.
But problem with log(0) = -Inf still remains.

I think I have to formulate my question more general. Why, and this is an question
which I am asking myself since
I am started using  R becouse im using the hist plot quite often,  the hist plot in
the base package has no similar
options like eg. the histogram plot in XMGR?


THX
Eryk



> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Thu Jan 18 10:06:06 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Thu, 18 Jan 2001 10:06:06 +0100
Subject: [R] dotplot: character size of labels
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640F4@xms1.tirol.gv.at>

Dear R users,

using dotplot (R1.2.0, WinNT4.0), I am trying to change the character size
of the labels of the points:

> # example
> data(VADeaths)
> dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> # I'd like to have smaller character size of the labels (for age and
population groups)
> ?dotplot
> # for argument "cex", this says: "Setting cex to a value smaller than one
can be a useful way of avoiding label overlap."
> dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> # the main title and the plotting characters are smaller now, but not the
labels
> # trying to set other graphics parameters seems to have no effect:
> dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis = 0.5)
> dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab = 0.5)

I'd be grateful for any hint how to do this correctly;

regards,

Heinrich.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Thu Jan 18 10:09:17 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Thu, 18 Jan 2001 10:09:17 +0100 (CET)
Subject: [R] Release of R/GRASS GIS interface for R >= 1.2.x
Message-ID: <Pine.LNX.4.21.0101181001030.27978-100000@reclus.nhh.no>

Release of revised version of R/GRASS GIS raster and sites data interface.

The latest version of the R contributed package "GRASS", release 0.1-6,
may be downloaded from CRAN (cran.r-project.org) - contributed packaged
section, "Devel" directory, file: GRASS_0.1-6.tar.gz. It may also be
downloaded from ftp://reclus.nhh.no/pub/R/GRASS_0.1-6.tar.gz. This version is
intended for R version 1.2.0 or newer, and has been modified to suit the
changed memory handling mechanisms introduced from 1.2.0. The previous
version (0.1-5) works with R up to and including 1.1.1, but not 1.2.0. It
can be found on CRAN under "Old/1.1/Devel", and at my ftp site for those
who have not upgraded R - something to be strongly advised!

Apart from changes to the compiled code, these releases switch the
examples used to the Maas Bank data set printed as Appendix 3 in Burrough
& McDonnell (1998) Principles of Geographical Information Systems. For
this reason, the package may also be of interest to users of other GIS
than GRASS, or indeed just R, as an adjunct to reading chapters 5 and
6 of the book. The data set help file details how the coordinate data
have been re-projected to UTM.

The release has been tested with GRASS 5beta8, 5beta10, and
the 6 January 2001 snapshot - further details may be found at:
http://www.geog.uni-hannover.de/grass/statsgrass/index.html. Please note
that comments there about using "R CMD check" to test the package apply
to earlier versions of R: to run the check (running all the examples in
the help files) with R > 1.2.0, you need to:

1) unpack the gzipped tar file (tar zxvf GRASS_0.1-6.tar.gz) in a suitable
temporary directory;
2) start GRASS (e.g. grass5 -text);
3) choose or create the correct location for the Maas data set;
4) from the GRASS prompt run the checks (R CMD check --no-latex GRASS).

R now creates a directory (GRASS.Rcheck) to store log files and output,
and in addition to running the examples (as before) now makes a temporary
installation of the package, rather than using the installed package. For
further details of using R CMD check, use R CMD check --help.

I am very grateful to users who have contributed suggestions and bug
reports and invite you to continue to help in developing this interface!

Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jpalomo at escet.urjc.es  Thu Jan 18 10:21:22 2001
From: jpalomo at escet.urjc.es (=?iso-8859-1?Q?Jes=FAs?= Palomo =?iso-8859-1?Q?Mart=EDnez?=)
Date: Thu, 18 Jan 2001 10:21:22 +0100
Subject: [R] Contribute
Message-ID: <3A66B591.7FCC48A7@escet.urjc.es>

Hi all,

 We are a Statistics and Decision Sciences Group of an spanish
university, we want to contribute developing R: How can we do, Where can
we found more information about the code,.....

Thanks in advance.

--
#############################################################
Jes?s Palomo Mart?nez               Despacho: 212
Grupo de Estad?stica y Ciencias     tel +34 916647475
de la Decisi?n                      fax +34 916647490
ESCET Universidad Rey Juan Carlos   Web: bayes.escet.urjc.es
M?stoles-Madrid(Espa?a)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010118/161b7631/attachment.html

From ripley at stats.ox.ac.uk  Thu Jan 18 10:35:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 18 Jan 2001 09:35:48 +0000 (GMT)
Subject: [R] dotplot: character size of labels
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640F4@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.31.0101180931210.18794-100000@toucan.stats>

On Thu, 18 Jan 2001, RINNER Heinrich wrote:

> Dear R users,
>
> using dotplot (R1.2.0, WinNT4.0), I am trying to change the character size
> of the labels of the points:
>
> > # example
> > data(VADeaths)
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> > # I'd like to have smaller character size of the labels (for age and
> population groups)
> > ?dotplot
> > # for argument "cex", this says: "Setting cex to a value smaller than one
> can be a useful way of avoiding label overlap."
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> > # the main title and the plotting characters are smaller now, but not the
> labels
> > # trying to set other graphics parameters seems to have no effect:
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis = 0.5)
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab = 0.5)
>
> I'd be grateful for any hint how to do this correctly;

Looks like a bug. Inside dotplot alter to

        for (i in 1:n) mtext(labs[i], side = 2, line = loffset,
            at = y[i], adj = 0, col = color, las = 2, cex = cex, ...)

        for (i in 1:nlevels(groups)) mtext(glabels[i], side = 2,
            line = goffset, at = gpos[i], adj = 0, col = gcolor,
            las = 2, cex = cex, ...)

However, it really needs more than that to calculate the spaces for the
labels correctly.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 18 10:46:22 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 18 Jan 2001 10:46:22 +0100
Subject: [R] Is ther a possibility to display the log(frequency) instead of 
 the frequency in the hist plot?
References: <3A65C71D.BC1A61F8@molgen.mpg.de> <3A6609C5.78791154@statistik.uni-dortmund.de> <3A66A8F2.4EC44DA2@molgen.mpg.de>
Message-ID: <3A66BB6E.A2828FF2@statistik.uni-dortmund.de>

Witold Eryk Wolski wrote:
> 
> Uwe Ligges wrote:
> 
> > Witold Eryk Wolski wrote:
> > >
> > >  Is there a possibility to display the log(frequency) instead of the
> > > frequency in the hist?
> >
> > I think you want something like the following example:
> >
> >  x <- runif(100) * 10
> >  my.hist <- hist(x)
> >  my.hist   # have a look at the values!
> >  my.hist$counts <- log(my.hist$counts, 10)  # logarithm with base 10
> >  plot(my.hist)  # now plot it again with log(frequency)
> >
> > Uwe Ligges
> >
> 
> Hi Uwe!
> First thanks for your answer.
> Some questions still remain to me.
> 1. How take an log if one of the my.hist$counts equals 0?

You want to use a histogram, so you have to think about what you want to
do in that case.


> 2. You code expample produces an error message which i doesnt understand.
> > plot(my.hist)  # now plot it again with log(frequency)
> Error in plot.window(xlim, ylim, log, asp, ...) :
>         invalid xlim

??? 
No, cannot reproduce it with my example! 


> 3. I tried as workaround something similar.
> plot(my.hist$mids,log(my.hist$counts),type="s") And this would work quite good for
> my needs.
> But problem with log(0) = -Inf still remains.

So we have to change the mathematical axioms. ;-)


> I think I have to formulate my question more general. Why, and this is an question
> which I am asking myself since
> I am started using  R becouse im using the hist plot quite often,  the hist plot in
> the base package has no similar
> options like eg. the histogram plot in XMGR?
> 
> THX
> Eryk

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 18 10:57:07 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 18 Jan 2001 10:57:07 +0100
Subject: [R] dotplot: character size of labels
References: <C4D44AB4CB62D311BA6500041202E8862640F4@xms1.tirol.gv.at>
Message-ID: <3A66BDF3.E5A3E287@statistik.uni-dortmund.de>

RINNER Heinrich wrote:
> 
> Dear R users,
> 
> using dotplot (R1.2.0, WinNT4.0), I am trying to change the character size
> of the labels of the points:
> 
> > # example
> > data(VADeaths)
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940")
> > # I'd like to have smaller character size of the labels (for age and
> population groups)
> > ?dotplot
> > # for argument "cex", this says: "Setting cex to a value smaller than one
> can be a useful way of avoiding label overlap."
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex = 0.5)
> > # the main title and the plotting characters are smaller now, but not the
> labels
> > # trying to set other graphics parameters seems to have no effect:
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.axis = 0.5)
> > dotplot(VADeaths, main = "Death Rates in Virginia - 1940", cex.lab = 0.5)
> 
> I'd be grateful for any hint how to do this correctly;


You have to add "cex = cex" in the mtext() calls in the function
dotplot():

63-64:
        for (i in 1:n) mtext(labs[i], side = 2, line = loffset, 
            at = y[i], adj = 0, col = color, las = 2, cex = cex,...)

73-75:
 for (i in 1:nlevels(groups)) mtext(glabels[i], side = 2, 
            line = goffset, at = gpos[i], adj = 0, col = gcolor, 
            las = 2, cex = cex, ...)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 18 11:02:55 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jan 2001 11:02:55 +0100
Subject: [R] Contribute
In-Reply-To: Jess Palomo Mart?nez  	's message of "Thu, 18 Jan 2001 10:21:22 +0100"
References: <3A66B591.7FCC48A7@escet.urjc.es>
Message-ID: <x2lms9yy7k.fsf@blueberry.kubism.ku.dk>

Jes?s Palomo Mart?nez  <jpalomo at escet.urjc.es> writes:


> Hi all,
> 
>  We are a Statistics and Decision Sciences Group of an spanish
> university, we want to contribute developing R: How can we do, Where can
> we found more information about the code,.....
> 
> Thanks in advance.

Um, http://cran.r-project.org ?

(Apologies if you knew that, but you're not really giving much of a
clue about your current level.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Thu Jan 18 16:03:50 2001
From: mikem at salter-point.com (Michael M. Meyer)
Date: Thu, 18 Jan 2001 07:03:50 -0800
Subject: [R] Can one set --no-save in .Rprofile 
In-Reply-To: Message from Prof Brian D Ripley <ripley@stats.ox.ac.uk> 
   of "Thu, 18 Jan 2001 07:42:28 GMT." <Pine.GSO.4.31.0101180725460.6334-100000@auk.stats> 
Message-ID: <200101181503.HAA11784@home.salter-point.com>

Thanks to Brian Ripley and Robert Gentleman
who both suggested  adding

rgentlem at jimmy.harvard.edu said:
>    q<-function (save = "no", status = 0, runLast = TRUE)
>  .Internal(quit(save, status, runLast)) 

to the .Rprofile.

While this works (and I might use it), it is not as clean as I would 
like.  For instance, with this profile, if I subsequently run
	R --save
the "--save" will be ignored.

It would seem a good solution might be to allow something in the 
environement (or .Renvironment file) like

	R_OPTIONS = "--nosave --noreadline ..."

One could then (logically) parse those options  before the command line is read, 
and have the command line override anything set in the R_OPTIONS 
string.  The one wrinkle is the --no-init-file option.  So I guess the 
logic has to go something like.
1) Read command line args (and save them somewhere).
2) if(exists(.Rprofile) and we should read it)  parse that file.
3) re-parse command line options to override the init file.

If one were to go this route, then one probably needs a
	--save-ask
command line option, to restore the default behaviour.

Maybe this is getting too complicated, and I'll just write my little 
wrapper function,

#!/bin/sh
if ([ -f .Roptions ]) then
  exec R `cat .Roptions` $*
elif ([ -f $HOME/.Roptions ]) then
  exec R `cat $HOME/.Roptions` $*
else
  exec R $*
fi



Mike Meyer, Salter Point Associates, Seattle WA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Thu Jan 18 12:46:18 2001
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Thu, 18 Jan 2001 12:46:18 +0100 (CET)
Subject: [R] Is ther a possibility to display the log(frequency) instead
 of  the frequency in the hist plot?
In-Reply-To: <3A66A8F2.4EC44DA2@molgen.mpg.de>
Message-ID: <Pine.LNX.4.21.0101181245230.586-100000@kleigh.nl>

Witold Eryk Wolski skriver...

> Some questions still remain to me.
> 1. How take an log if one of the my.hist$counts equals 0?

log(my.hist$counts + 1)

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Jan 18 12:07:18 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 18 Jan 2001 12:07:18 +0100 (MET)
Subject: [R] How to start ESS?
Message-ID: <Pine.GSO.3.95q.1010118115105.18791C-100000@sun21.math.uni-hamburg.de>

Dear help-list,

because of my request, ESS was installed in our faculties' UNIX-net by our
system administrator. At the moment, we have only R installed to be used
with ESS, no other statistical software.

Reading the ESS online-manual and the R-FAQ, I did not find out how to
start ESS. The chapter on "Using R" in the ESS-manual seems to be missing
(this holds as well for the WWW-manual at the eth-zurich).

I understand the "How to start ESS"-part as follows: I simply have to start
emacs and then I can start an S-session with M-x S.
This gives "no match", which is not very surprising, because S is not 
installed.
But M-x R does as well give "no match".

If I start emacs with a source file with the ending ".S", 
I get a kind of syntax highlighting. For ".R", this does not work.

Very strange.

Possible reasons:
-> I missed an important passage while reading the manual or FAQ.
-> Our installation did not succeed. (But our sysadmin told that everything
   looked nice).
-> There is something to do which is explained nowhere.

Can you help me?

Best regards,
Christian

***

Christian Hennig
Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jan 18 16:43:18 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 18 Jan 2001 07:43:18 -0800
Subject: [R] How to start ESS?
In-Reply-To: <Pine.GSO.3.95q.1010118115105.18791C-100000@sun21.math.uni-hamburg.de>
References: <Pine.GSO.3.95q.1010118115105.18791C-100000@sun21.math.uni-hamburg.de>
Message-ID: <87bst4g92h.fsf@jeeves.blindglobe.net>


Now, this is _NOT_ a simple request, but sounds like it'll take some
work to debug a faulty installation.  

Please send email to the ESS-help list, ess-help at stat.math.ethz.ch.

best,
-tony

>>>>> "CH" == Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:


    CH> Dear help-list, because of my request, ESS was installed in
    CH> our faculties' UNIX-net by our system administrator. At the
    CH> moment, we have only R installed to be used with ESS, no other
    CH> statistical software.

    CH> Reading the ESS online-manual and the R-FAQ, I did not find
    CH> out how to start ESS. The chapter on "Using R" in the
    CH> ESS-manual seems to be missing (this holds as well for the
    CH> WWW-manual at the eth-zurich).

    CH> I understand the "How to start ESS"-part as follows: I simply
    CH> have to start emacs and then I can start an S-session with M-x
    CH> S.  This gives "no match", which is not very surprising,
    CH> because S is not installed.  But M-x R does as well give "no
    CH> match".

    CH> If I start emacs with a source file with the ending ".S", I
    CH> get a kind of syntax highlighting. For ".R", this does not
    CH> work.

    CH> Very strange.

    CH> Possible reasons:
    -> I missed an important passage while reading the manual or FAQ.
    -> Our installation did not succeed. (But our sysadmin told that
    -> everything
    CH>    looked nice).
    -> There is something to do which is explained nowhere.

    CH> Can you help me?

    CH> Best regards, Christian

    CH> ***

    CH> Christian Hennig Fachbereich Mathematik - SPST (Schwerpunkt
    CH> Mathematische Statistik und Stochastische Prozesse, Zentrum
    CH> fuer Modellierung und Simulation) Bundesstrasse 55 D-20146
    CH> Hamburg Tel: x40/42838 4907, privat x40/631 62 79
    CH> hennig at math.uni-hamburg.de
    CH> http://www.math.uni-hamburg.de/home/hennig/



    CH> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    CH> r-help mailing list -- Read
    CH> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    CH> "help", or "[un]subscribe" (in the "body", not the subject !)
    CH> To: r-help-request at stat.math.ethz.ch
    CH> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 18 17:13:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 18 Jan 2001 16:13:05 +0000 (GMT)
Subject: [R] Can one set --no-save in .Rprofile 
Message-ID: <200101181613.QAA19335@toucan.stats.ox.ac.uk>

> Date: Thu, 18 Jan 2001 07:03:50 -0800
> From: "Michael M. Meyer" <mikem at salter-point.com>
> 
> Thanks to Brian Ripley and Robert Gentleman
> who both suggested  adding
> 
> rgentlem at jimmy.harvard.edu said:
> >    q<-function (save = "no", status = 0, runLast = TRUE)
> >  .Internal(quit(save, status, runLast)) 
> 
> to the .Rprofile.
> 
> While this works (and I might use it), it is not as clean as I would 
> like.  For instance, with this profile, if I subsequently run
> 	R --save
> the "--save" will be ignored.
> 
> It would seem a good solution might be to allow something in the 
> environement (or .Renvironment file) like
> 
> 	R_OPTIONS = "--nosave --noreadline ..."
> 
> One could then (logically) parse those options  before the command line is 
read, 
> and have the command line override anything set in the R_OPTIONS 
> string.  The one wrinkle is the --no-init-file option.  So I guess the 
> logic has to go something like.
> 1) Read command line args (and save them somewhere).
> 2) if(exists(.Rprofile) and we should read it)  parse that file.
> 3) re-parse command line options to override the init file.
> 
> If one were to go this route, then one probably needs a
> 	--save-ask
> command line option, to restore the default behaviour.
> 
> Maybe this is getting too complicated, and I'll just write my little 
> wrapper function,

Yes, it is, and one needs a precedence anyway.  Remember that R
comes with half a dozen front-ends and three major groups of OSes.

The logic is 

1) The front-ends set some internal variables, usually via flags, and set
some environment variables via parsing .Renviron.

2) Then the R parser is started, and reads .Rprofile.  On most
platform that reads some environment variables to set defaults.

3) Eventually a prompt appears

with lots of things in the gaps.  It is not at all easy to go backwards
in the sequence.  After all, one platform (Mac) does not even have
environment variables.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jan 18 17:20:35 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 18 Jan 2001 08:20:35 -0800 (PST)
Subject: [R] Can one set --no-save in .Rprofile 
In-Reply-To: <200101181503.HAA11784@home.salter-point.com>
Message-ID: <Pine.GSO.4.21.0101180816580.24783-100000@atlas.biostat.washington.edu>

On Thu, 18 Jan 2001, Michael M. Meyer wrote:

> Thanks to Brian Ripley and Robert Gentleman
> who both suggested  adding
> 
> rgentlem at jimmy.harvard.edu said:
> >    q<-function (save = "no", status = 0, runLast = TRUE)
> >  .Internal(quit(save, status, runLast)) 
> 
> to the .Rprofile.
> 
> While this works (and I might use it), it is not as clean as I would 
> like.  For instance, with this profile, if I subsequently run
> 	R --save
> the "--save" will be ignored.
> 

You can get around this using commandArgs() to find out if --save was
specified (at least on Unix, I haven't checked on Windows)

Define qsave() and qnosave() as quit functions with the
"no" and"yes" defaults and then

if (match("--save",commandArgs(),FALSE))
	q<-qsave
else
	q<-qnosave

  -thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Jan 18 17:26:29 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 18 Jan 2001 11:26:29 -0500 (EST)
Subject: [R] Is ther a possibility to display the log(frequency) instead
 of  the frequency in the hist plot?
In-Reply-To: <3A66A8F2.4EC44DA2@molgen.mpg.de>
Message-ID: <Pine.LNX.4.30.0101181119080.28553-100000@bolker.zoo.ufl.edu>

On Thu, 18 Jan 2001, Witold Eryk Wolski wrote:

> Uwe Ligges wrote:
>
> > Witold Eryk Wolski wrote:
> > >
> > >  Is there a possibility to display the log(frequency) instead of the
> > > frequency in the hist?
> >
> > I think you want something like the following example:
> >
> >  x <- runif(100) * 10
> >  my.hist <- hist(x)
> >  my.hist   # have a look at the values!
> >  my.hist$counts <- log(my.hist$counts, 10)  # logarithm with base 10
> >  plot(my.hist)  # now plot it again with log(frequency)
> >
> > Uwe Ligges
> >
>
> Hi Uwe!
> First thanks for your answer.
> Some questions still remain to me.
> 1. How take an log if one of the my.hist$counts equals 0?

 You could try log10(my.hist$counts+1), which is a standard transformation
in ecology.

> 2. You code expample produces an error message which i doesnt understand.
> > plot(my.hist)  # now plot it again with log(frequency)
> Error in plot.window(xlim, ylim, log, asp, ...) :
>         invalid xlim

  I don't get it here either.  Are you doing _exactly_ what Uwe suggested
above?  Or are you doing the histogram etc. on your own data (rather than
a sample from runif())?  What is the range of your data?

> 3. I tried as workaround something similar.
> plot(my.hist$mids,log(my.hist$counts),type="s") And this would work quite good for
> my needs.
> But problem with log(0) = -Inf still remains.
>
> I think I have to formulate my question more general. Why, and this is an question
> which I am asking myself since
> I am started using  R becouse im using the hist plot quite often,  the hist plot in
> the base package has no similar
> options like eg. the histogram plot in XMGR?

  What are those options?

  The general answers to the questions "why doesn't R have ... ?" are
usually:

  1. it would be a useful feature, but no-one has thought of/suggested it
yet (?);
  2. ditto, but no-one has had the time or energy or specific knowledge
required to code it (e.g. full integration of 3D graphics, GAM);
  3. it represents something that at least some people (the R Core team,
who tend to be awfully knowledgeable about statistical and graphical
issues) think is a bad idea (e.g. type III sums of squares);
  4. it is minor enough, or there is an easy enough way to work around it,
that spending time on it/"bloating" R with it doesn't seem worthwhile.

  Ben

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 18 18:07:58 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 18 Jan 2001 12:07:58 -0500
Subject: [R] How to start ESS?
In-Reply-To: <Pine.GSO.3.95q.1010118115105.18791C-100000@sun21.math.uni-hamburg.de>
Message-ID: <NEBBJKDJHEFCOOLFFAKKCEIDCAAA.cyg@sympatico.ca>

I and maybe other, would like to know this as well but for Windows. At this
time I load|start ESS manually each time I start EMACS. I couldn't find a
better way yet. By the way I use it only as an editor and I like it very
much.

Regards.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Christian Hennig
> Envoye : Thursday, January 18, 2001 6:07 AM
> A : r-help-request Mailing List
> Objet : [R] How to start ESS?
>
>
> Dear help-list,
>
> because of my request, ESS was installed in our faculties' UNIX-net by our
> system administrator. At the moment, we have only R installed to be used
> with ESS, no other statistical software.
>
> Reading the ESS online-manual and the R-FAQ, I did not find out how to
> start ESS. The chapter on "Using R" in the ESS-manual seems to be missing
> (this holds as well for the WWW-manual at the eth-zurich).
>
> I understand the "How to start ESS"-part as follows: I simply
> have to start
> emacs and then I can start an S-session with M-x S.
> This gives "no match", which is not very surprising, because S is not
> installed.
> But M-x R does as well give "no match".
>
> If I start emacs with a source file with the ending ".S",
> I get a kind of syntax highlighting. For ".R", this does not work.
>
> Very strange.
>
> Possible reasons:
> -> I missed an important passage while reading the manual or FAQ.
> -> Our installation did not succeed. (But our sysadmin told that
> everything
>    looked nice).
> -> There is something to do which is explained nowhere.
>
> Can you help me?
>
> Best regards,
> Christian
>
> ***
>
> Christian Hennig
> Fachbereich Mathematik - SPST
>  (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
>  Zentrum fuer Modellierung und Simulation)
> Bundesstrasse 55
> D-20146 Hamburg
> Tel: x40/42838 4907, privat x40/631 62 79
> hennig at math.uni-hamburg.de
> http://www.math.uni-hamburg.de/home/hennig/
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jan 18 18:13:10 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 18 Jan 2001 09:13:10 -0800
Subject: [R] How to start ESS?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKCEIDCAAA.cyg@sympatico.ca>
References: <NEBBJKDJHEFCOOLFFAKKCEIDCAAA.cyg@sympatico.ca>
Message-ID: <87wvbseqc9.fsf@jeeves.blindglobe.net>


Hmm... 

I'd be happy to help, but it would be much better to post to the
ess-help mailing lists...

ess-help at stat.math.ethz.ch

best,
-tony

>>>>> "YG" == Yves Gauvreau <cyg at sympatico.ca> writes:


    YG> I and maybe other, would like to know this as well but for
    YG> Windows. At this time I load|start ESS manually each time I
    YG> start EMACS. I couldn't find a better way yet. By the way I
    YG> use it only as an editor and I like it very much.

    YG> Regards.

    YG> Yves Gauvreau B.E.F.P. Universite du Quebec a Montreal
    YG> cyg at sympatico.ca

    >> -----Message d'origine----- De : owner-r-help at stat.math.ethz.ch
    >> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Christian
    >> Hennig Envoye : Thursday, January 18, 2001 6:07 AM A :
    >> r-help-request Mailing List Objet : [R] How to start ESS?
    >> 
    >> 
    >> Dear help-list,
    >> 
    >> because of my request, ESS was installed in our faculties'
    >> UNIX-net by our system administrator. At the moment, we have
    >> only R installed to be used with ESS, no other statistical
    >> software.
    >> 
    >> Reading the ESS online-manual and the R-FAQ, I did not find out
    >> how to start ESS. The chapter on "Using R" in the ESS-manual
    >> seems to be missing (this holds as well for the WWW-manual at
    >> the eth-zurich).
    >> 
    >> I understand the "How to start ESS"-part as follows: I simply
    >> have to start emacs and then I can start an S-session with M-x
    >> S.  This gives "no match", which is not very surprising,
    >> because S is not installed.  But M-x R does as well give "no
    >> match".
    >> 
    >> If I start emacs with a source file with the ending ".S", I get
    >> a kind of syntax highlighting. For ".R", this does not work.
    >> 
    >> Very strange.
    >> 
    >> Possible reasons:
    -> I missed an important passage while reading the manual or FAQ.
    -> Our installation did not succeed. (But our sysadmin told that
    >> everything looked nice).
    -> There is something to do which is explained nowhere.
    >> Can you help me?
    >> 
    >> Best regards, Christian
    >> 
    >> ***
    >> 
    >> Christian Hennig Fachbereich Mathematik - SPST (Schwerpunkt
    >> Mathematische Statistik und Stochastische Prozesse, Zentrum
    >> fuer Modellierung und Simulation) Bundesstrasse 55 D-20146
    >> Hamburg Tel: x40/42838 4907, privat x40/631 62 79
    >> hennig at math.uni-hamburg.de
    >> http://www.math.uni-hamburg.de/home/hennig/
    >> 
    >> 
    >> 
    >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
    >> -.-.-.-.-.-.- r-help mailing list -- Read
    YG> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    YG> "help", or "[un]subscribe" (in the "body", not the subject !)
    YG> To: r-help-request at stat.math.ethz.ch
    YG> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
    YG> _._

    YG> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    YG> r-help mailing list -- Read
    YG> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    YG> "help", or "[un]subscribe" (in the "body", not the subject !)
    YG> To: r-help-request at stat.math.ethz.ch
    YG> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Jan 18 18:28:07 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 18 Jan 2001 18:28:07 +0100 (MET)
Subject: [R] How to start ESS?
Message-ID: <Pine.GSO.3.95q.1010118182638.18791J-100000@sun21.math.uni-hamburg.de>

Dear list,

I apologize for not using the ESS-list, but for reasons I am not aware of,
it is not possible for me to reach any address at eth-Zurich by e-mail
(I tried ESS-list, M. Maechler and F. Hampel).

However, I would like to know at least:

a) *If* ESS would be installed correctly, *could* I start R-processes by
   M-x R? How else?
b) What is meant exactly by "I start ESS manually each time I start emacs"
   from Y. Gauvreau?

Thank you,
Christian


***

Christian Hennig
Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at linus.mitre.org  Thu Jan 18 20:05:04 2001
From: amorgan at linus.mitre.org (Alexander A. Morgan)
Date: Thu, 18 Jan 2001 14:05:04 -0500 (EST)
Subject: [R] Is ther a possibility to display the log(frequency) instead
 of  the frequency in the hist plot?
In-Reply-To: <Pine.LNX.4.21.0101181245230.586-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.21.0101181400100.4236-100000@carla.mitre.org>

I imagine that the point of logging the histogram count axis is just for
displaying purposes, and your suggestion would alter the scale.  I find it
easier to just leave the 0 counts as zero.

hist(my.data, plot=F)$counts -> my.hist.counts;
my.hist.counts[my.hist.counts != 0] <- 
                      log(my.hist.counts[my.hist.counts!= 0]);
plot(my.hist.counts, type="hist");


-Alex Morgan

Phone: 781-271-6306                       "They laughed at Newton.
Office: 3K-136                            They laughed at Einstein.
AOL Instant Messenger: HomeySage          But they also laughed at Groucho
                                          Marx."
                                                      --Carl Sagan

On Thu, 18 Jan 2001, Peter Kleiweg wrote:

> Witold Eryk Wolski skriver...
> 
> > Some questions still remain to me.
> > 1. How take an log if one of the my.hist$counts equals 0?
> 
> log(my.hist$counts + 1)
> 
> -- 
> Peter Kleiweg
> http://www.let.rug.nl/~kleiweg/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at linus.mitre.org  Thu Jan 18 21:56:31 2001
From: amorgan at linus.mitre.org (Alexander A. Morgan)
Date: Thu, 18 Jan 2001 15:56:31 -0500 (EST)
Subject: [R] Contribute (fwd)
Message-ID: <Pine.GSO.4.21.0101181548350.4481-100000@carla.mitre.org>

>> One thing that might be tedious, but probably helpful, is translation
of
>> some of the R documentation into Spanish.  Getting to know the
>> documentation intimately would also be a good way to get to know a lot
>> more about R.
>>

>There are many documentation translated yet, but I don't know which one
isn't
>translated.
>Where can I find this information?

The only thing that I can tell you is that on CRAN the introduction to R
has been translated into Spanish, and as far as I can tell, that is
all.  All the separate packages have documentation in English only (as far
as I know).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Jan 18 22:54:57 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 18 Jan 2001 16:54:57 -0500 (EST)
Subject: [R] Is ther a possibility to display the log(frequency) instead
 of  the frequency in the hist plot?
In-Reply-To: <Pine.GSO.4.21.0101181400100.4236-100000@carla.mitre.org>
Message-ID: <Pine.LNX.4.30.0101181649280.28820-100000@bolker.zoo.ufl.edu>


  The only potential problem with this solution is that bins with zero
counts and bins with 1 count will both be treated as zeros.

  Consider:

my.data <- c(1.5,1.5,2.5,4.5,5.5,5.5)
my.hist.counts <- hist(my.data, plot=F, breaks=0:6)$counts

etc.

  This is an unlikely event with the default "breaks" settings,
though.  (On the other hand, the fact that you have bins with zero counts
says that you might well have bins with only 1 count.)

  Ben

On Thu, 18 Jan 2001, Alexander A. Morgan wrote:

> I imagine that the point of logging the histogram count axis is just for
> displaying purposes, and your suggestion would alter the scale.  I find it
> easier to just leave the 0 counts as zero.
>
> hist(my.data, plot=F)$counts -> my.hist.counts;
> my.hist.counts[my.hist.counts != 0] <-
>                       log(my.hist.counts[my.hist.counts!= 0]);
> plot(my.hist.counts, type="hist");
>
>
> -Alex Morgan
>
> Phone: 781-271-6306                       "They laughed at Newton.
> Office: 3K-136                            They laughed at Einstein.
> AOL Instant Messenger: HomeySage          But they also laughed at Groucho
>                                           Marx."
>                                                       --Carl Sagan
>
> On Thu, 18 Jan 2001, Peter Kleiweg wrote:
>
> > Witold Eryk Wolski skriver...
> >
> > > Some questions still remain to me.
> > > 1. How take an log if one of the my.hist$counts equals 0?
> >
> > log(my.hist$counts + 1)
> >
> > --
> > Peter Kleiweg
> > http://www.let.rug.nl/~kleiweg/
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Jan 18 23:29:16 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 19 Jan 2001 11:29:16 +1300
Subject: [R] summary/ returning variables from subfunction
Message-ID: <200101182229.f0IMTiQ84654@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1020 on NT
ESS using emacs ver. 20.4

----------------------------------
Below is a summary on returning variable from subfunction, Thanks to 
Brian Ripley and Douglas Bates:

To access the variables within a function, return a list or data structure 
assigned to a variable in the calling function. For more than one varaible, 
assign them to a list variable and separate the components in the calling 
function using listname$variablename.

"test" <-
    function()
  {
    "hello" <-
      function()    
        {
          x <- 1:3
          y <- 23:34
          z <- cbind(x,y)
          return(x,y,z)              
        }
    c <- hello()
    return(c$z,c$x, c$y)
  }

----------------------------

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu Jan 18 23:31:13 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 18 Jan 2001 23:31:13 +0100 (CET)
Subject: [R] How to start ESS? 
Message-ID: <Pine.LNX.4.30.0101182328040.1459-100000@localhost.localdomain>


> > ESS was installed in our faculties' UNIX-net by our
> > system administrator. At the moment, we have only R installed to be used
> > with ESS, no other statistical software.
> >
> > I understand the "How to start ESS"-part as follows: I simply
> > have to start
> > emacs and then I can start an S-session with M-x S.
> > This gives "no match", which is not very surprising, because S is not
> > installed.
> > But M-x R does as well give "no match".

Well, maybe it is a silly suggestion, but probably your sysadmin didn't
edit the .emacs file in your ~/ directory by adding the line

(load "/usr/share/emacs/site-lisp/ESS/lisp/ess-site.elc")

- which is what I have - or whatever the line for your system would be
(if I remember it is different for emacs - I use xemacs - and of course
the path would change). It is explained in the ESS
README file found in the tar.gz package.

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sdfrost at ucsd.edu  Fri Jan 19 03:11:45 2001
From: sdfrost at ucsd.edu (Simon Frost)
Date: Thu, 18 Jan 2001 18:11:45 -0800
Subject: [R] Bayesian Model Averaging
Message-ID: <5.0.2.1.0.20010118180926.00a358f0@popmail.ucsd.edu>

Dear R-Help,

Does anyone have a version of the Bayesian Model Averaging S-Plus code 
(http://www.research.att.com/~volinsky/bma.html) working in R?  I know very 
little about the differences in syntax, and I don't have a copy of S-Plus 
lying around.

TIA
Simon

Simon D.W. Frost, M.A., D.Phil.
Department of Pathology
University of California, San Diego
UCSD Treatment Center
150 W. Washington St., Suite 100
San Diego, CA 92103
USA

Tel: +1 619 543 8080 x275
Fax: +1 619 298 0177
Email: sdfrost at ucsd.edu
WWW: http://www.simonfrost.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jpalomo at escet.urjc.es  Fri Jan 19 10:21:42 2001
From: jpalomo at escet.urjc.es (=?iso-8859-1?Q?Jes=FAs?= Palomo =?iso-8859-1?Q?Mart=EDnez?=)
Date: Fri, 19 Jan 2001 10:21:42 +0100
Subject: [R] Contribute (fwd)
References: <Pine.GSO.4.21.0101181548350.4481-100000@carla.mitre.org>
Message-ID: <3A680726.E16FA79C@escet.urjc.es>

"Alexander A. Morgan" wrote:

> >> One thing that might be tedious, but probably helpful, is translation
> of
> >> some of the R documentation into Spanish.  Getting to know the
> >> documentation intimately would also be a good way to get to know a lot
> >> more about R.
> >>
>
> >There are many documentation translated yet, but I don't know which one
> isn't
> >translated.
> >Where can I find this information?
>
> The only thing that I can tell you is that on CRAN the introduction to R
> has been translated into Spanish, and as far as I can tell, that is
> all.  All the separate packages have documentation in English only (as far
> as I know).
>

Thanks, I will try it. Any recommendation ?

>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
#############################################################
Jes?s Palomo Mart?nez               Despacho: 212
Grupo de Estad?stica y Ciencias     tel +34 916647475
de la Decisi?n                      fax +34 916647490
ESCET Universidad Rey Juan Carlos   Web: bayes.escet.urjc.es
M?stoles-Madrid(Espa?a)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010119/388c6ef8/attachment.html

From fm3a004 at math.uni-hamburg.de  Fri Jan 19 12:51:08 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Fri, 19 Jan 2001 12:51:08 +0100 (MET)
Subject: [R] For Martin Maechler only. Others ignore! 
Message-ID: <Pine.GSO.3.95q.1010119125011.20053D-120000@sun21.math.uni-hamburg.de>



***

Christian Hennig
Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



---------- Forwarded message ----------
Date: Fri, 19 Jan 2001 12:49:37 +0100 (MET)
From: Mail Delivery Subsystem <MAILER-DAEMON at math.uni-hamburg.de>
To: fm3a004 at math.uni-hamburg.de
Subject: Returned mail: User unknown

The original message was received at Fri, 19 Jan 2001 12:49:36 +0100 (MET)
from sun21.math.uni-hamburg.de [134.100.220.81]

   ----- The following addresses had permanent fatal errors -----
<maechler at stat.math.ethz.ch>

   ----- Transcript of session follows -----
.. while talking to hypatia.math.ethz.ch.:
>>> RCPT To:<maechler at stat.math.ethz.ch>
<<< 550 Mail not accepted
550 <maechler at stat.math.ethz.ch>... User unknown
-------------- next part --------------
An embedded message was scrubbed...
From: Christian Hennig <fm3a004 at math.uni-hamburg.de>
Subject: Re: [R] How to start ESS?
Date: Fri, 19 Jan 2001 12:49:36 +0100 (MET)
Size: 2262
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20010119/a6bf368a/attachment.mht

From ernesto at ipimar.pt  Fri Jan 19 12:58:59 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 19 Jan 2001 11:58:59 +0000
Subject: [R] Strange behaviour in 1.2.1
Message-ID: <3A682C02.1F083307@ipimar.pt>

Hi

When I start R (version 1.2.1) I get several objects allready in my
working environment that I never created (see bellow). I've removed this
objects and saved my session on exit. However in the next session they
were back !!

Does anyone knows what's going on ?

Thanks

EJ

--//--

R : Copyright 2001, The R Development Core Team
Version 1.2.1  (2001-01-15)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

 [1] "annual" "cyl"    "gasmpg" "hatch"  "height" "length" "liters"
"price"
 [9] "time"   "trans"  "wbase"  "weight" "width"
[Previously saved workspace restored]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 19 14:33:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 19 Jan 2001 13:33:52 +0000 (GMT)
Subject: [R] Strange behaviour in 1.2.1
In-Reply-To: <3A682C02.1F083307@ipimar.pt>
Message-ID: <Pine.GSO.4.31.0101191329390.20591-100000@toucan.stats>

On Fri, 19 Jan 2001, [iso-8859-1] Jos Ernesto Jardim wrote:

> Hi
>
> When I start R (version 1.2.1) I get several objects allready in my
> working environment that I never created (see bellow). I've removed this
> objects and saved my session on exit. However in the next session they
> were back !!
>
> Does anyone knows what's going on ?

Always test this sort of thing with R --vanilla.  Yes, I think I can
guess. What is in your profiles, .Rprofile or ~/.Rprofile?  And has anyone
altered the site profile, R_HOME/etc/Rprofile?  To avoid the latter you
may need --no-site-file.  See help(Startup).

>
> Thanks
>
> EJ
>
> --//--
>
> R : Copyright 2001, The R Development Core Team
> Version 1.2.1  (2001-01-15)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
>  [1] "annual" "cyl"    "gasmpg" "hatch"  "height" "length" "liters"
> "price"
>  [9] "time"   "trans"  "wbase"  "weight" "width"
> [Previously saved workspace restored]
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Fri Jan 19 14:43:06 2001
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Fri, 19 Jan 2001 14:43:06 +0100
Subject: [R] Web On line help and manual
Message-ID: <200101191348.OAA26759@docsrvr.ish-lyon.cnrs.fr>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1168 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010119/d640fae5/attachment.bin

From paradis at isem.univ-montp2.fr  Fri Jan 19 16:55:51 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 19 Jan 2001 16:55:51 +0100
Subject: [R] Web On line help and manual
Message-ID: <3.0.32.20010119165548.00910100@162.38.183.200>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1668 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010119/d15a06e6/attachment.bin

From joehl at web.de  Fri Jan 19 17:40:43 2001
From: joehl at web.de (=?iso-8859-1?Q? Jens=20Oehlschl=E4gel ?=)
Date: Fri, 19 Jan 2001 17:40:43 +0100
Subject: [R] options(editor="something with parameter")
Message-ID: <200101191640.f0JGehh07517@mailgate4.cinetic.de>

I wouldn't call it a bug, but may be people like to know about it 

My windows editor needs to be called with commandlineparameter -m to create a new instance, which stopped working via options(editor=).
(it used to work until RW1011, it still works using shell() and system())

> x <- 1
> edit(x, editor="textpad -m")
Error in edit(name, file, editor) : unable to run editor textpad -m

My workaround is to start the editor with a batch file that adds -m

_______________________________________________________________________________
Alles unter einem Dach: Informationen, Fun, E-Mails. Bei WEB.DE: http://web.de
Die gro?e Welt der Kommunikation: E-Mail, Fax, SMS, WAP: http://freemail.web.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan 19 18:21:53 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 19 Jan 2001 18:21:53 +0100
Subject: [R] options(editor="something with parameter")
References: <200101191640.f0JGehh07517@mailgate4.cinetic.de>
Message-ID: <3A6877B1.D1E5982@statistik.uni-dortmund.de>

Jens Oehlschl?gel wrote:
> 
> I wouldn't call it a bug, but may be people like to know about it
> 
> My windows editor needs to be called with commandlineparameter -m to create a new instance, which stopped working via options(editor=).
> (it used to work until RW1011, it still works using shell() and system())
> 
> > x <- 1
> > edit(x, editor="textpad -m")
> Error in edit(name, file, editor) : unable to run editor textpad -m
> 
> My workaround is to start the editor with a batch file that adds -m


I don't know "textpad", but everything works fine with for "WinEdt"
using for example:
 editor = "\"e:/programme/winedt/winedt.exe\" -c=\"R-Editor\" -e=r.ini
-V"

I would try e.g.:
1.  edit(x, editor="\"textpad\" -m") 
2.  edit(x, editor="\"c:/fullpath/textpad\" -m")  

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Don.Wingate at intellichem.com  Fri Jan 19 19:11:37 2001
From: Don.Wingate at intellichem.com (Don Wingate)
Date: Fri, 19 Jan 2001 10:11:37 -0800
Subject: [R] built in colors
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B4FEB@athena.Bend.IntelliChem.com>

Hello R Users,

Using: Windows 2000, R version 1.2.0

In the installed directory "etc" there is a file named rgb.txt containing
definitions of [all?] the built in colors. I tried to edit this file to add
a color as well as change an existing color. My efforts have had no effect.
Is this the expected behavior? Is it possible to change or add to the
built-in colors?

Thanks,

Don Wingate.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Don.Wingate at intellichem.com  Fri Jan 19 20:37:09 2001
From: Don.Wingate at intellichem.com (Don Wingate)
Date: Fri, 19 Jan 2001 11:37:09 -0800
Subject: [R] math expressions
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B4FEC@athena.Bend.IntelliChem.com>

Hello R Users,

I am trying to use math expressions as the labels to dotplot. I have a
vector of string values, for example:

names<-c(x1^2, x2^2)

I am trying to do something like this:

dotplot(c(1,2), labels=expression(names))

I had hoped that expression(names) would return a vector of math expressions
which could be used as the labels. It doesn't. Is there any way to do this??

Thank you, 

Don Wingate.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 19 20:53:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 Jan 2001 19:53:51 +0000 (GMT)
Subject: [R] built in colors
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B4FEB@athena.Bend.IntelliChem.com>
Message-ID: <Pine.GSO.4.31.0101191950140.23835-100000@auk.stats>

On Fri, 19 Jan 2001, Don Wingate wrote:

> Hello R Users,
>
> Using: Windows 2000, R version 1.2.0
>
> In the installed directory "etc" there is a file named rgb.txt containing
> definitions of [all?] the built in colors. I tried to edit this file to add
> a color as well as change an existing color. My efforts have had no effect.
> Is this the expected behavior? Is it possible to change or add to the
> built-in colors?

Yes, by re-compiling. The file to be altered is
src/gnuwin32/graphapp/rgb.c.

You can use RGB specifications, just not other names. See ?colors.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan 19 20:03:17 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 19 Jan 2001 20:03:17 +0100
Subject: [R] math expressions
References: <ABB64B4C48ECD44CADC72FA840118B3B4FEC@athena.Bend.IntelliChem.com>
Message-ID: <3A688F75.A7033E56@statistik.uni-dortmund.de>

Don Wingate wrote:
> 
> Hello R Users,
> 
> I am trying to use math expressions as the labels to dotplot. I have a
> vector of string values, for example:
> 
> names<-c(x1^2, x2^2)

This won't work:

  names <- c(x1^2, x2^2)
Error: Object "x1" not found

1. You can set "x1^2" in quotes, to make this assignment work.
2. It is a bad idea to call the vector "names", because it's already a
function.

What you could better do is:

  my.names <- expression(x[1]^2, x[2]^2)
  dotplot(1:2, labels = my.names)


> I am trying to do something like this:
> 
> dotplot(c(1,2), labels=expression(names))
> 
> I had hoped that expression(names) would return a vector of math expressions
> which could be used as the labels. It doesn't. Is there any way to do this??


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Jan 19 22:49:32 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 19 Jan 2001 16:49:32 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OF5F649DB1.D539708E-ON852569D9.0076C137@rtp.epa.gov>

Am I missing a configuration step?  The value returned by date() and
Sys.time() is five hours later than the system time.  Furthermore,
Sys.timezone() returns Eastern Daylight Time, whereas we are really
currently in Eastern Standard Time.  I am running:

         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.1
year     2001
month    01
day      15
language R


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jan 19 23:40:58 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 19 Jan 2001 14:40:58 -0800
Subject: [R] Compiling 1.2.1 to Windows binary
Message-ID: <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1>

I'm having a bit of trouble getting the 1.2.1 source to compile to a 
Windows binary.  The base compiles with no problem, but when the make file 
gets to the point of having to compile the HTML files (.chm), the make file 
quits, and neither the .chm files get built, nor does the make file 
continue on to build any of the packages beyond the base.  I can overcome 
this problem by changing MkRules to only do WinHelp.  The error message I 
get basically says that it can't find the hhc file.  Not only is the hhc 
correctly specified in the MkRules file, but it is also correctly located 
in the Path within the environment.  I can verify this by spawning a 
command prompt (cmd) and simply entering "hhc" at the command line.  It 
brings up hhc.exe without problem.

I've encountered this problem on both WinNT and Windows 2000, but never 
encountered it when I compiled the release prior to 1.2.0 (1.1.0?).

I seem to be missing something obvious here, but I can't figure out what is 
preventing the make file from finding hhc.exe.

I'd appreciate any advice you can offer.

Thanks.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan 19 23:58:26 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 19 Jan 2001 23:58:26 +0100
Subject: [R] math expressions
References: <ABB64B4C48ECD44CADC72FA840118B3B4FED@athena.Bend.IntelliChem.com>
Message-ID: <3A68C692.B50A0467@statistik.uni-dortmund.de>

Don Wingate wrote:
> 
> Dear Uwe (and All R users),
> 
> The problem is that the vector of names I want to use is created dynamically
> at a time independent of the plotting. The situation is a bit complex. An
> object is created, say "object.to.plot" which has as an attribute the vector
> of names, say "labels.names". This vector of names is created dynamically
> according to parameter values present when "object.to.plot" is created
> (using the string manipulating functions, especially paste). When using
> dotplot on the values associated with this object, I can easily use the
> names vector for labels. What I want to do is create a vector of math
> expressions, based on the names vector. Do you think there is a way to do
> this?
> 
> More generally, what I need to do is dynamically create a vector of math
> expressions (using the powers of string manipulation), which can then be
> used as the textual values for a plot function.


What about something like:

   numbers <- 1:2  # the dynamical part
   my.names <- NULL
   for(i in numbers) 
      my.names <- c(my.names, 
         eval(as.expression(substitute(expression(x[i]^2), list(i=i)))))
   dotplot(1:2, labels = my.names)


I don't get it without a loop, but for a plot it shouldn't be too
expensive.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 20 00:03:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 Jan 2001 23:03:24 +0000 (GMT)
Subject: [R] system time is 5 hours off in Windows
In-Reply-To: <OF5F649DB1.D539708E-ON852569D9.0076C137@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0101192258170.24116-100000@auk.stats>

On Fri, 19 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> Am I missing a configuration step?  The value returned by date() and
> Sys.time() is five hours later than the system time.  Furthermore,

That I have not seen.  Entirely possible, given Windows bugs. I am really
sick of having to correct their mistakes in standard C library functions
in this area.

> Sys.timezone() returns Eastern Daylight Time, whereas we are really
> currently in Eastern Standard Time.  I am running:

That's what Windows calls the time zone.  It means it has the possibility
of DST, I think.

>
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.1
> year     2001
> month    01
> day      15
> language R
>
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 20 02:17:28 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jan 2001 02:17:28 +0100
Subject: [R] Compiling 1.2.1 to Windows binary
In-Reply-To: Marc Feldesman's message of "Fri, 19 Jan 2001 14:40:58 -0800"
References: <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1>
Message-ID: <x266jbja3b.fsf@blueberry.kubism.ku.dk>

Marc Feldesman <feldesmanm at pdx.edu> writes:

> I'm having a bit of trouble getting the 1.2.1 source to compile to a 
> Windows binary.  The base compiles with no problem, but when the make file 
> gets to the point of having to compile the HTML files (.chm), the make file 
> quits, and neither the .chm files get built, nor does the make file 
> continue on to build any of the packages beyond the base.  I can overcome 
> this problem by changing MkRules to only do WinHelp.  The error message I 
> get basically says that it can't find the hhc file.  Not only is the hhc 
> correctly specified in the MkRules file, but it is also correctly located 
> in the Path within the environment.  I can verify this by spawning a 
> command prompt (cmd) and simply entering "hhc" at the command line.  It 
> brings up hhc.exe without problem.
> 
> I've encountered this problem on both WinNT and Windows 2000, but never 
> encountered it when I compiled the release prior to 1.2.0 (1.1.0?).
> 
> I seem to be missing something obvious here, but I can't figure out what is 
> preventing the make file from finding hhc.exe.
> 
> I'd appreciate any advice you can offer.

Giving us the exact error message might be helpful (or maybe not, but...)

You could consider replacing the hcc command with its full path.
I'm not sure that paths in Makefile are guaranteed to be the same as
in a shell.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Jan 20 02:27:56 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 19 Jan 2001 17:27:56 -0800
Subject: [R] Compiling 1.2.1 to Windows binary
In-Reply-To: <x266jbja3b.fsf@blueberry.kubism.ku.dk>
References: <Marc Feldesman's message of "Fri, 19 Jan 2001 14:40:58 -0800">
 <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1>
Message-ID: <5.0.2.1.2.20010119171905.00ab5ec0@127.0.0.1>

At 02:17 AM 1/20/01 +0100, Peter Dalgaard BSA wrote:

 >Giving us the exact error message might be helpful (or maybe not, but...)

The exact error message is:

"Make[3]:  hhc:  command not found".

This is then followed by an abort of the attempt to compile the .chm files 
and a termination of the entire make.

Brian Ripley gave me a clue that helped.  I moved hhc.exe (but not all the 
30 odd additional files and 4 subdirectories associated with MS HTML Help 
Workshop) to my rtools directory.  This allowed the .chtml files to be 
built for base and all the packages.  I did get complaints from the OS that 
"hhc.exe is not properly registered", and a series of "Invalid HTML tag 
<JAVASCRIPT> at line xxxx" errors during the compilation.  I'm not sure 
what role some of the supporting files in HTML Help Workshop serve, but 
moving the hhc.exe stub to rtools does allow the make to complete.

As I explained to Brian, the path to HTML Help Workshop is pretty simple:

e:\htmlhelp in PATH and in MkRules as  e:/htmlhelp.

At the cmd prompt:

F:\rdevel\r-1.2.1\src\gnuwin32>hhc    (found immediately).

but

sh
$hhc
hhc not found
hhc not found
 >

Clearly hhc cannot be found from the information available in the PATH 
statement, or in the HHWDIR path within MkRules.  I don't know why.  Tcltk 
is found just fine with a much more complicated path (including spaces in 
the path name).




 >You could consider replacing the hcc command with its full path.
 >I'm not sure that paths in Makefile are guaranteed to be the same as
 >in a shell.
 >
 >--
 >   O__  ---- Peter Dalgaard             Blegdamsvej 3
 >  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 > (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
 >~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jan 20 03:15:13 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 19 Jan 2001 21:15:13 -0500 (EST)
Subject: [R] RPM of R-1.2.1 for RH 7?
Message-ID: <200101200215.VAA07251@cattell.psych.upenn.edu>

There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
What should I do?  I have a new computer with RH7.

I'm willing to try to make one from the SRPM, but I've never done
that before, and I don't want to go to the trouble if someone
else is already planning to do it soon.

Likewise, I could install it from the tgz file.  (I just did that
on a Solaris server, so I ought to be able to do it on my new
computer.)  But if I do that, and then I want to update next time
from an RPM, how do I know I'm putting things where they ought to
go (when I use the tgz file), so I don't wind up with two
versions at some later time?

I did try the RPM for RH 6 and it didn't work on RH 7 (although
it worked fine on my RH 6 computer).

Jon Baron


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Jan 20 03:46:42 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 19 Jan 2001 18:46:42 -0800 (PST)
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: <200101200215.VAA07251@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.21.0101191841350.24455-100000@atlas.biostat.washington.edu>

On Fri, 19 Jan 2001, Jonathan Baron wrote:

> There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
> What should I do?  I have a new computer with RH7.

The easiest thing to do is to install from source.  You will need to
up/downgrade your gcc, though.  The notorious "gcc 2.96" supplied with RH7
causes a number of problems with R.

Installing from source will mean you want to uninstall before installing
an RPM, should one become available. 


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sat Jan 20 04:32:46 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 19 Jan 2001 19:32:46 -0800
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: <Pine.GSO.4.21.0101191841350.24455-100000@atlas.biostat.washington.edu>
References: <Pine.GSO.4.21.0101191841350.24455-100000@atlas.biostat.washington.edu>
Message-ID: <87itna525d.fsf@jeeves.blindglobe.net>

>>>>> "TL" == Thomas Lumley <thomas at biostat.washington.edu> writes:

    TL> On Fri, 19 Jan 2001, Jonathan Baron wrote:
    >> There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
    >> What should I do?  I have a new computer with RH7.

    TL> The easiest thing to do is to install from source.  You will
    TL> need to up/downgrade your gcc, though.  The notorious "gcc
    TL> 2.96" supplied with RH7 causes a number of problems with R.

The hard thing to do is to "upgrade" from RH 7.0 to Debian's "testing"
distribution, add CRAN's Debian archive to the list of sources, and
use Doug Bates' build... :-)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 20 11:58:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jan 2001 11:58:31 +0100
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: Thomas Lumley's message of "Fri, 19 Jan 2001 18:46:42 -0800 (PST)"
References: <Pine.GSO.4.21.0101191841350.24455-100000@atlas.biostat.washington.edu>
Message-ID: <x2g0ie32y0.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> On Fri, 19 Jan 2001, Jonathan Baron wrote:
> 
> > There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
> > What should I do?  I have a new computer with RH7.
> 
> The easiest thing to do is to install from source.  You will need to
> up/downgrade your gcc, though.  The notorious "gcc 2.96" supplied with RH7
> causes a number of problems with R.
> 
> Installing from source will mean you want to uninstall before installing
> an RPM, should one become available. 

Notice that there are RPMs of 1.1.1 for RH7.0 in the updates section
at RedHat, and of 1.2.0 in the rawhide distribution. Both were made
after the (known) remaing issues with 2.96 was fixed and errataed.
(The latter is dated Dec 19 with the release of 1.2.0 on Dec 15, but I
wouldn't expect you to be that lucky this time).

If you build from source, you *must* get the current update for gcc
2.96. 

Besides, what's wrong with Martyn's version sitting at

http://cran.r-project.org/bin/linux/redhat/7.x/i386/R-base-1.2.1-1.i386.rpm 

???.....

[Yeah, I only went to look *after* writing the first bit]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Sat Jan 20 13:30:13 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Sat, 20 Jan 2001 07:30:13 -0500 (EST)
Subject: [R] where to send bug report R/NLME crash
Message-ID: <Pine.SOL.3.91.1010120072805.9687A@bio3.acpub.duke.edu>

I have managed to cause a segmentation fault in R-1.2.1 by (probably
improperly) attempting to update an lme model (package NLME)-- the
problem does not occur if I fit the model "from scratch" (i.e. not
using "update()").  I have prepared a detailed bug report describing
this (which includes the output of gdb).  Is "r-bugs" an appropriate
place to send this?

Many thanks!

Rashid Nassar

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sat Jan 20 14:42:19 2001
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Sat, 20 Jan 2001 21:42:19 +0800
Subject: [R] None of pweibull/dweibull in the derivatives table?
Message-ID: <3A6995BA.74337B5A@email.stat.ncku.edu.tw>

Dear friends in R-world,

It seems like there is none of pweibull/dweibull (and other distribution
functions)
available in the derivatives table.

What I want to do is to feed both gradient and hessian into nlm()
on calculating MLE of Weibull distribution (with censored data),
however, I just can't get gradient by deriv() in R
(not even bother to mention hessian).

In Venables & Ripley's MASS book, this was (mine is 2nd ed., sorry)
discussed with deriv3(), however,
the formation of deriv3 differs from R's deriv.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Jan 20 17:04:48 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 20 Jan 2001 10:04:48 -0600
Subject: [R] where to send bug report R/NLME crash
In-Reply-To: Rashid Nassar's message of "Sat, 20 Jan 2001 07:30:13 -0500 (EST)"
References: <Pine.SOL.3.91.1010120072805.9687A@bio3.acpub.duke.edu>
Message-ID: <6rd7dib467.fsf@franz.stat.wisc.edu>

Rashid Nassar <rnassar at duke.edu> writes:

> I have managed to cause a segmentation fault in R-1.2.1 by (probably
> improperly) attempting to update an lme model (package NLME)-- the
> problem does not occur if I fit the model "from scratch" (i.e. not
> using "update()").  I have prepared a detailed bug report describing
> this (which includes the output of gdb).  Is "r-bugs" an appropriate
> place to send this?

Generally we encourage sending reports of bugs related to specific
packages to the maintainer of the package first.  For the nlme package
that is me.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crysopa at terra.com.br  Sat Jan 20 17:32:26 2001
From: crysopa at terra.com.br (Ronaldo Reis Jr.)
Date: Sat, 20 Jan 2001 14:32:26 -0200
Subject: [R] how to save results???
In-Reply-To: <01011719450200.02025@localhost.localdomain>
References: <01011719450200.02025@localhost.localdomain>
Message-ID: <01012014322605.02514@localhost.localdomain>

Em Quarta 17 Janeiro 2001 19:45, Ronaldo Reis Jr. escreveu:
> Hi,
> I'm a new R's user. I am using "faq" and "An Introdution to R" to learn.
> My main problem for start the learning is: how to save my result in a
> output file?
> I has used the sink CMD or $ R > [output file], but the commands go to file
> and can't to be read in Linux Terminal. The workspace saved at the end of
> section save only commands and dont save results.
> Anybody can help-me??
> Thank you
> Inte mais
> Ronaldo

For save all commands and results in a terminal (LINUX).

script
Script started on Sat Jan 20 14:27:21 2001
[ronaldo at localhost Rwork]$ R

R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type	"?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type	"?contributors" for a list.

Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
Type	"q()" to quit R.

[Previously saved workspace restored]

> demo() m nlm)


	demo(nlm)
	---- ~~~

Type  <Return>	 to start :

> theta <- function(x1, x2) {
    if (x1 > 0)
        return((0.5/pi) * atan(x2/x1))
    else return((0.5/pi) * atan(x2/x1) + 0.5)
}

> f <- function(x) {
    f1 <- 10 * (x[3] - 10 * theta(x[1], x[2]))
    f2 <- 10 * (sqrt(x[1]^2 + x[2]^2) - 1)
    f3 <- x[3]
    return(f1^2 + f2^2 + f3^2)
}

> x <- seq(-1, 2, len = 50)

> y <- seq(-1, 1, len = 50)

> z <- apply(as.matrix(expand.grid(x, y)), 1, function(x) f(c(x, 
    0)))


> contour(x, y, matrix(log10(z), 50, 50))

> nlm(f, c(-1, 0, 0), hessian = TRUE, print = 0)
$minimum
[1] 1.238337e-14

$estimate
[1]  1.000000e-00  3.071555e-09 -6.063119e-09

$gradient
[1] -3.756314e-07  3.486019e-06 -2.202456e-06

$hessian
              [,1]          [,2]          [,3]
[1,]  2.000000e+02   -0.04065842  9.776087e-07
[2,] -4.065842e-02  506.60589960 -3.183099e+02
[3,]  9.776087e-07 -318.30988572  2.020000e+02

$code
[1] 2

$iterations
[1] 27
..
..
..
> q()
Save workspace image? [y/n/c]: n
[ronaldo at localhost Rwork]$ exit
exit

Script conclu?do em Sat Jan 20 14:28:13 2001

All terminal's command will be save in a file named typescript

by
Inte mais

Ronaldo 
-- 
   //|\\   #*******************************************
  ( ? ? )  #Ronaldo Reis J?nior
     V     #ESALQ/USP - Entomologia, Caixa Postal - 09
   / l \   #13418-900 Piracicaba - SP
  /(lin)\  #Fone: 19-429-4199 r.229
 /(linux)\ #crysopa at insecta.ufv.br
/ (linux) \#crysopa at terra.com.br | ICQ#: 5692561
   ( x )   #*******************************************
   _/ \_ Powered by Conectiva Linux 6.0 D+:)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Sat Jan 20 19:21:08 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Sun, 21 Jan 2001 01:21:08 +0700
Subject: [R] Spot price "S Programming"
Message-ID: <001201c0830d$c4356120$23d994cb@andrew8gpipq9q>

Hello All:

Amazon is now at this very moment selling "S Programming" at $59.95 with 2-3 days delivery. Some one among us ought to exploit R to develop a forecasting model to predict when next Amazon markets Venable and Ripley's book again at $17.95.

ANDREW

Andrew Criswell
Professor of finance
Graduate School, Bangkok University
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010121/a4ceefe4/attachment.html

From kjetil.kjernsmo at astro.uio.no  Sat Jan 20 20:20:43 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 20 Jan 2001 20:20:43 +0100 (MET)
Subject: [R] Spot price "S Programming"
In-Reply-To: <001201c0830d$c4356120$23d994cb@andrew8gpipq9q>
Message-ID: <Pine.OSF.4.30.0101202013180.1660-100000@alnair.uio.no>

On Sun, 21 Jan 2001, Andrew Criswell wrote:

>Hello All:
>
>Amazon is now at this very moment selling "S Programming" at $59.95 with
>2-3 days delivery. Some one among us ought to exploit R to develop a
>forecasting model to predict when next Amazon markets Venable and
>Ripley's book again at $17.95.

LOL!

Amazon have been experimenting with changing prices up and down so as to
see what impact prices have on people's willingness to buy. Slashdot has
had a couple of stories on it
<URL:http://slashdot.org/articles/00/09/06/1418246.shtml>
<URL:http://slashdot.org/articles/00/09/13/1237216.shtml>
The latter story says that they are refunding what you paid in excess when
testing is over. So perhaps it doesn't matter... :-)

But then, I'm boycotting Amazon because of spamming, their lack of
respect for customer's privacy and for their one-click-patent.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Sat Jan 20 20:50:12 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Sun, 21 Jan 2001 02:50:12 +0700
Subject: [R] Spot price "S Programming"
References: <Pine.OSF.4.30.0101202013180.1660-100000@alnair.uio.no>
Message-ID: <004501c0831a$35d2ce10$23d994cb@andrew8gpipq9q>

Dear Kjetil:

Thank you for the info on Slashdot. I find quite a great deal of price
discrimination in the global academic book market. Many scientific textbooks
are available in Thailand at prices that are often 10% of those found on
Amazon or on American bookshelves. Sadly, S-Programming is not amongst them.

But, then again, international pharmaceuticals try to sell third world
countries HIV antiroviral drugs at first world prices. See how the world
turns?

Were you to go to the Chulalongkorn University Bookstore website at
http://www.chula.ac.th/ you would discover what prices international
publishers sell their publications to third world nations. Unfortunately,
much of the text on this website is in Thai and may be incomprehensible.

Best wishes,
ANDREW

Andrew Criswell
Professor of finance
Graduate School, Bangkok University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Jan 20 20:54:36 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 20 Jan 2001 20:54:36 +0100 (MET)
Subject: [R] Problem compiling R-1.2.1 on OSF4.0
Message-ID: <Pine.OSF.4.30.0101202043160.1660-100000@alnair.uio.no>

Dear all,

I'm running into trouble when I compile R-1.2.1 on the alphaev6-osf4.0 box
I'm using. I think I've resolved it, but just like to make sure I'm not
doing something stupid:

When running make, it stops at places saying
#make Permission denied
or something similar.
Grepping through Makefiles, I find that lines of the type
	@#$(MAKE) stamp-lo
and when I remove them, it compiles successfully. I assume that these are
commented out, but my make doesn't understand that for some reason, and
that's the reason for the problem. But of course, the # could play an
important role I'm not aware of, so I'm wondering: Am I right?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sun Jan 21 01:05:19 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Sun, 21 Jan 2001 10:05:19 +1000
Subject: [R] Spot price "S Programming"
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3BE6@roper-cv.qld.cmis.CSIRO.AU>



| -----Original Message-----
| From: Andrew Criswell [mailto:andy at arcriswell.com]
| Sent: Sunday, 21 January 2001 4:21
| To: r-help at stat.math.ethz.ch
| Subject: [R] Spot price "S Programming"
| 
| 
| Hello All:

Hello Andrew,

| Amazon is now at this very moment selling "S Programming" at 
| $59.95 with 2-3 days delivery. Some one among us ought to 
| exploit R to develop a forecasting model to predict when next 
| Amazon markets Venable and Ripley's book again at $17.95.

Fascinating.  However, my name is spelt with an "S" at the end.  The name
'Venables' has an interesting history, with which I am about to bore you.
It is an old name that came to England with the conquest.  There is, in
fact, still a little town called 'Venables' just outside Rouen in France
where it all started.  It is connected to other names such as "Venning" and
"Ventner" which share with "venison" a derivation from an older word meaning
"hunter" or "hunted game".  In fact one branch of the family did change the
name to "Hunter" when they stopped using French and started using English,
but we never did.  Now I know the American branch of the family does
occasionally shave off that critical final "S", (probably an Ellis Island
thing), but (and this is the point) we don't.  It's "Venables", OK?  Say it:
"Ven-a-bleS".  Thank you.

It's alright, I feel OK again now.

Hurrumph.

| 
| ANDREW
| 
| Andrew Criswell
| Professor of finance
| Graduate School, Bangkok University
| 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Jan 21 05:42:31 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 20 Jan 2001 20:42:31 -0800
Subject: [R] Compiling 1.2.1 to Windows binary [SUMMARY]
In-Reply-To: <x266jbja3b.fsf@blueberry.kubism.ku.dk>
References: <Marc Feldesman's message of "Fri, 19 Jan 2001 14:40:58 -0800">
 <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1>
Message-ID: <5.0.2.1.2.20010120201842.00aa9b20@127.0.0.1>



Thanks to Brian Ripley and Peter Dalgaard for suggestions that led to *a* 
resolution of the problem compiling R 1.2.1 to a Windows binary.

The basic problem revolved around the inability of the makefile to locate 
the hhc.exe file from the Microsoft HTML Help Workshop.  Although the 
location was completely clear in the path statement at the NT level and 
from within the cygwin shell, it couldn't be located during the 
make.  Brian suggested moving hhc.exe to the Rtools directory, which 
partially solved the problem.  It permitted the .chtml files to be 
produced, but spawned a series of JScript errors along the way.

The crucial resolution lay in an offhand suggestion that Brian made (and 
which Peter hinted at) about other elements being on the same logical drive 
with HTML Help Workshop.  As it turned out, I placed HTML Help Workshop on 
my logical E: drive, while all the other elements needed to make R were 
located on the logical F: drive.  Again, even though the paths were quite 
clear in the shell, placing the different components on different logical 
drives is too confusing in the cygwin environment.  When I uninstalled HTML 
Help Workshop from the E: drive, rebooted and reinstalled it to the F: 
drive, the make proceeded without error.

I don't know whether this should be part of the instructions for building R 
from source or not, but it certainly does appear that everything needs to 
reside on the same logical drive.

Thanks again to Brian and Peter for their helpful suggestions.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Jan 21 12:52:12 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 21 Jan 2001 12:52:12 +0100
Subject: [R] Problem compiling R-1.2.1 on OSF4.0
In-Reply-To: <Pine.OSF.4.30.0101202043160.1660-100000@alnair.uio.no>
References: <Pine.OSF.4.30.0101202043160.1660-100000@alnair.uio.no>
Message-ID: <14954.52588.868963.453868@mithrandir.hornik.net>

>>>>> Kjetil Kjernsmo writes:

> Dear all,
> I'm running into trouble when I compile R-1.2.1 on the alphaev6-osf4.0 box
> I'm using. I think I've resolved it, but just like to make sure I'm not
> doing something stupid:

> When running make, it stops at places saying
> #make Permission denied
> or something similar.
> Grepping through Makefiles, I find that lines of the type
> 	@#$(MAKE) stamp-lo
> and when I remove them, it compiles successfully. I assume that these are
> commented out, but my make doesn't understand that for some reason, and
> that's the reason for the problem. But of course, the # could play an
> important role I'm not aware of, so I'm wondering: Am I right?

Argh.  What kind of make is that?

Anyway, if e.g. in src/appl/Makefile.in you change the line

	@@WANT_R_SHLIB_TRUE@$(MAKE) stamp-lo

to

	@WANT_R_SHLIB_TRUE@	@$(MAKE) stamp-lo

the problem disappears (in that dir), right?

One you confirm this I will change R-release-patched accordingly.

Best,
-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Sun Jan 21 15:44:40 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 21 Jan 2001 15:44:40 +0100
Subject: [R] Compiling 1.2.1 to Windows binary [SUMMARY]
In-Reply-To: <5.0.2.1.2.20010120201842.00aa9b20@127.0.0.1>; from feldesmanm@pdx.edu on Sat, Jan 20, 2001 at 08:42:31PM -0800
References: <Marc <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1> <x266jbja3b.fsf@blueberry.kubism.ku.dk> <5.0.2.1.2.20010120201842.00aa9b20@127.0.0.1>
Message-ID: <20010121154440.A27055@sirio.stat.unipd.it>

On Sat, Jan 20, 2001 at 08:42:31PM -0800, Marc R. Feldesman wrote:
> 
> The crucial resolution lay in an offhand suggestion that Brian made (and 
> which Peter hinted at) about other elements being on the same logical drive 
> with HTML Help Workshop.  As it turned out, I placed HTML Help Workshop on 
> my logical E: drive, while all the other elements needed to make R were 
> located on the logical F: drive.  Again, even though the paths were quite 
> clear in the shell, placing the different components on different logical 
> drives is too confusing in the cygwin environment.  When I uninstalled HTML 
> Help Workshop from the E: drive, rebooted and reinstalled it to the F: 
> drive, the make proceeded without error.
> 
> I don't know whether this should be part of the instructions for building R 
> from source or not, but it certainly does appear that everything needs to 
> reside on the same logical drive.
> 

  Not really sure about this. I have a almost full 'cygwin' in c:/cygwin, 
  'mingw' in c:/Programs/mingw32 but 'perl' and 'Ms Help Workshop'
  in d:/Program Files/. And, it works for me. Boh!!

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jan 21 16:10:33 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jan 2001 16:10:33 +0100
Subject: [R] Compiling 1.2.1 to Windows binary [SUMMARY]
In-Reply-To: Guido Masarotto's message of "Sun, 21 Jan 2001 15:44:40 +0100"
References: <Marc <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1> <x266jbja3b.fsf@blueberry.kubism.ku.dk> <5.0.2.1.2.20010120201842.00aa9b20@127.0.0.1> <20010121154440.A27055@sirio.stat.unipd.it>
Message-ID: <x23dedkkk6.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido at sirio.stat.unipd.it> writes:

> On Sat, Jan 20, 2001 at 08:42:31PM -0800, Marc R. Feldesman wrote:
> > 
> > The crucial resolution lay in an offhand suggestion that Brian made (and 
> > which Peter hinted at) about other elements being on the same logical drive 
> > with HTML Help Workshop.  As it turned out, I placed HTML Help Workshop on 
> > my logical E: drive, while all the other elements needed to make R were 
> > located on the logical F: drive.  Again, even though the paths were quite 
> > clear in the shell, placing the different components on different logical 
> > drives is too confusing in the cygwin environment. 
...
>   Not really sure about this. I have a almost full 'cygwin' in c:/cygwin, 
>   'mingw' in c:/Programs/mingw32 but 'perl' and 'Ms Help Workshop'
>   in d:/Program Files/. And, it works for me. Boh!!

I haven't played with Cygwin for years [*], but isn't there some business
about mounting drives to make them visible to the shell?  

[*] and good riddance. Not that the Cygwin crowd haven't made an
incredible effort - it's just that the kludges necessary to emulate a
Unix environment under Windows get to you after a while. Much
admiration for Brian's and Guido's ability to stay on top of this for
so long.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Sun Jan 21 16:17:13 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 21 Jan 2001 16:17:13 +0100
Subject: [R] Compiling 1.2.1 to Windows binary [SUMMARY]
In-Reply-To: <x23dedkkk6.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Sun, Jan 21, 2001 at 04:10:33PM +0100
References: <Marc <5.0.2.1.2.20010119143540.00b0ea90@127.0.0.1> <x266jbja3b.fsf@blueberry.kubism.ku.dk> <5.0.2.1.2.20010120201842.00aa9b20@127.0.0.1> <20010121154440.A27055@sirio.stat.unipd.it> <x23dedkkk6.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010121161713.A27331@sirio.stat.unipd.it>

On Sun, Jan 21, 2001 at 04:10:33PM +0100, Peter Dalgaard BSA wrote:
> I haven't played with Cygwin for years [*], but isn't there some business
> about mounting drives to make them visible to the shell?  
> 

  Yeah. That's can be the point. Indeed, my D: drive is mounted as
  /d (lot of fantasy, isn't it?) and hence it is accessed as a
  C: sub-dir (same for /floppy and /cdrom).

  guido 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sun Jan 21 18:29:45 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sun, 21 Jan 2001 18:29:45 +0100 (MET)
Subject: [R] Problem compiling R-1.2.1 on OSF4.0
In-Reply-To: <14954.52588.868963.453868@mithrandir.hornik.net>
Message-ID: <Pine.OSF.4.30.0101211645490.1660-100000@alnair.uio.no>

On Sun, 21 Jan 2001, Kurt Hornik wrote:

>Argh.  What kind of make is that?

I have no idea.... :-) It happens to be in /bin/make and that's pretty
early in my $PATH.

>Anyway, if e.g. in src/appl/Makefile.in you change the line
>
>	@@WANT_R_SHLIB_TRUE@$(MAKE) stamp-lo
>
>to
>
>	@WANT_R_SHLIB_TRUE@	@$(MAKE) stamp-lo
>
>the problem disappears (in that dir), right?

Yes it did! Eventually, it did, this was really very weird. I went back
and forth deleting and inserting white space, sometimes it worked,
sometimes it didn't. Well, in src/appl/Makefile.in it work at once, but
in src/main/Makefile.in it took me a long time. Guess that's /bin/make of
mine is a bit weird, eh...?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Jan 22 03:23:17 2001
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 21 Jan 2001 21:23:17 -0500
Subject: [R] building packages in Windows under R 1.2.1
Message-ID: <5.0.0.25.0.20010121205638.018a7510@127.0.0.1>

Dear list members,

I'm experiencing difficulty in building a package in R 1.2.1 under Windows 
2000, using, as far as I can tell, the same approach that I used 
successfully in R 1.2.0.

More specifically, "rcmd build" produces the following error:

	C:\rw1021\src\library>c:\rw1021\bin\rcmd build car
	Please set TMPDIR to a valid temporary directory

It looked to me as if "rcmd build" wanted an environment variable called 
TMPDIR, so I set one, but this didn't help.

Curiously, "rcmd build" under R.1.2.0 (which is also on my system) still works:

	C:\rw1021\src\library>c:\rw1020\bin\rcmd build car
	* checking for file `car/DESCRIPTION' ... OK
	* preparing `car':
	* checking whether `INDEX' is up-to-date ... NO
	* creating new INDEX
	* checking whether `data/00Index' is up-to-date ... NO
	* creating new data/00Index
	* removing junk files
	* building `car_0.6-0.tar.gz'

After this, I can use "rcmd check" and "rcmd install" from version 1.2.1 to 
finish the job:

	C:\rw1021\src\library>c:\rw1021\bin\rcmd check car
	* checking for working latex ... OK
	* using log directory C:/rw1021/src/library/car.Rcheck

	. . .


	C:\rw1021\src\library>c:\rw1021\bin\rcmd install car

	make: Entering directory `/rw1021/src/gnuwin32'
	make DLLNM=  EXTRADOCS= \

	. . .

The package in question includes no compiled code.

Any help you might offer would be appreciated.

Thanks,
  John


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Mon Jan 22 08:35:47 2001
From: orp at intras.es (=?iso-8859-1?Q?Julio_G=F3mez?=)
Date: Mon, 22 Jan 2001 08:35:47 +0100
Subject: [R] Optimization with linear constraints
Message-ID: <000c01c08445$fb409f20$3b1e64c0@dominiointras>

Hello

I'd like to know if there's a way to minimize a non linear function in R
subject to some linear restrictions Ax=b
I have tried to use optim() but it doesn't seem to be able to do it.
Or, by Lagrange multipliers, solve some non linear equations simultaneously.

Anyone can help?

Thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Mon Jan 22 08:35:47 2001
From: orp at intras.es (=?iso-8859-1?Q?Julio_G=F3mez?=)
Date: Mon, 22 Jan 2001 08:35:47 +0100
Subject: [R] Optimization with linear constraints
Message-ID: <000c01c08445$fb409f20$3b1e64c0@dominiointras>

Hello

I'd like to know if there's a way to minimize a non linear function in R
subject to some linear restrictions Ax=b
I have tried to use optim() but it doesn't seem to be able to do it.
Or, by Lagrange multipliers, solve some non linear equations simultaneously.

Anyone can help?

Thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 10:03:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 09:03:49 +0000 (GMT)
Subject: [R] Optimization with linear constraints
In-Reply-To: <000c01c08445$fb409f20$3b1e64c0@dominiointras>
Message-ID: <Pine.GSO.4.31.0101220901390.26873-100000@toucan.stats>

On Mon, 22 Jan 2001, [iso-8859-1] Julio Gmez wrote:

> Hello
>
> I'd like to know if there's a way to minimize a non linear function in R
> subject to some linear restrictions Ax=b
> I have tried to use optim() but it doesn't seem to be able to do it.

Just use Ax = b to reduce the dimension of x.  It's not something you
should expect software to do for you.

> Or, by Lagrange multipliers, solve some non linear equations simultaneously.

Don't turn an optimization problem into a root-finding problem: it is
inefficient.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 22 10:15:18 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2001 10:15:18 +0100
Subject: [R] building packages in Windows under R 1.2.1
In-Reply-To: John Fox's message of "Sun, 21 Jan 2001 21:23:17 -0500"
References: <5.0.0.25.0.20010121205638.018a7510@127.0.0.1>
Message-ID: <x2wvbo3q3d.fsf@blueberry.kubism.ku.dk>

John Fox <jfox at mcmaster.ca> writes:

> More specifically, "rcmd build" produces the following error:
> 
> 	C:\rw1021\src\library>c:\rw1021\bin\rcmd build car
> 	Please set TMPDIR to a valid temporary directory
> 
> It looked to me as if "rcmd build" wanted an environment variable called 
> TMPDIR, so I set one, but this didn't help.

But did you make it contain the name of a valid temporary directory?

The default for TMPDIR is c:/TEMP, so maybe that doesn't exist?
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 10:15:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 09:15:21 +0000 (GMT)
Subject: [R] building packages in Windows under R 1.2.1
In-Reply-To: <5.0.0.25.0.20010121205638.018a7510@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0101220905140.26873-100000@toucan.stats>

On Sun, 21 Jan 2001, John Fox wrote:

> Dear list members,
>
> I'm experiencing difficulty in building a package in R 1.2.1 under Windows
> 2000, using, as far as I can tell, the same approach that I used
> successfully in R 1.2.0.
>
> More specifically, "rcmd build" produces the following error:
>
> 	C:\rw1021\src\library>c:\rw1021\bin\rcmd build car
> 	Please set TMPDIR to a valid temporary directory
>
> It looked to me as if "rcmd build" wanted an environment variable called
> TMPDIR, so I set one, but this didn't help.

Yes, it does (and did under 1.2.0 unless c:/TEMP exists, which I think it
usually does under Windows 2000).  In this version it actually tests for
the existence of the directory.

Which Perl version do you have?  I am baffled: this works for me under NT
and 98 with three different Perl versions.  The symptom is that whatever
Perl things $TMPDIR is does not exist.  Can you print out and check via

if($WINDOWS){
    $tmpdir = R_getenv("TMPDIR", "/TEMP");
    print "tmpdir is $tmpdir\n"; # added line
    die "Please set TMPDIR to a valid temporary directory\n"
        unless (-d $TMPDIR);


>
> Curiously, "rcmd build" under R.1.2.0 (which is also on my system) still works:
>
> 	C:\rw1021\src\library>c:\rw1020\bin\rcmd build car
> 	* checking for file `car/DESCRIPTION' ... OK
> 	* preparing `car':
> 	* checking whether `INDEX' is up-to-date ... NO
> 	* creating new INDEX
> 	* checking whether `data/00Index' is up-to-date ... NO
> 	* creating new data/00Index
> 	* removing junk files
> 	* building `car_0.6-0.tar.gz'
>
> After this, I can use "rcmd check" and "rcmd install" from version 1.2.1 to
> finish the job:
>
> 	C:\rw1021\src\library>c:\rw1021\bin\rcmd check car
> 	* checking for working latex ... OK
> 	* using log directory C:/rw1021/src/library/car.Rcheck
>
> 	. . .

Well, one usually does check before build, and check contains identical
code for the test, so I am even more baffled.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Jan 22 12:39:25 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 22 Jan 2001 12:39:25 +0100 (CET)
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: <200101200215.VAA07251@cattell.psych.upenn.edu>
Message-ID: <XFMail.010122123925.plummer@iarc.fr>

On 20-Jan-01 Jonathan Baron wrote:
> There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
> What should I do?  I have a new computer with RH7.

It's there now.  In fact it was available from
ftp://ftp-fis.iarc.fr/pub/R 
from Friday, but I suppose it had not been mirrored to CRAN when you looked.

I am supporting RH6.2 and RH7.0 at the moment, but RH7.0 takes a little
longer because I do it at home.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Mon Jan 22 13:12:41 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Mon, 22 Jan 2001 13:12:41 +0100
Subject: [R] interaction.plot
Message-ID: <00b401c0846c$a035d1f0$cd981291@psy.uva.nl>

Not sure about the correctness for this list, but anyway...

I notices some indesireable behaviour in interaction.plot. The scaling of
the x-axis labels discards the overall settings for the 'cex' attribute,
leading to unscaled labels. The source for this behaviour is the line

mtext(xlabs, 1, at = xvals)

in interaction.plot.

to get this function to perform conform the manual, change this line to

mtext(xlabs, 1, at = xvals, cex=par("cex"))

and all is well.

because of the simplicity of this 'fix' I assume that it is a crossplatform
thingie, but for the record:

I use R-Win in winNT, 1.2.0, upgrading soon.

just my .02 euro..

I'll just end this mail with a standard declaration of love for R

greetz. Mark M. Span


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Jan 22 13:35:55 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 22 Jan 2001 07:35:55 -0500
Subject: [R] building packages in Windows under R 1.2.1
In-Reply-To: <Pine.GSO.4.31.0101220905140.26873-100000@toucan.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKOEIOCAAA.cyg@sympatico.ca>

Hi,

Could it be because of is PATH and/or RHOME. He says it still works with R
1.2.0.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian Ripley
> Envoye : Monday, January 22, 2001 4:15 AM
> A : John Fox
> Cc : r-help at stat.math.ethz.ch
> Objet : Re: [R] building packages in Windows under R 1.2.1
>
>
> On Sun, 21 Jan 2001, John Fox wrote:
>
> > Dear list members,
> >
> > I'm experiencing difficulty in building a package in R 1.2.1
> under Windows
> > 2000, using, as far as I can tell, the same approach that I used
> > successfully in R 1.2.0.
> >
> > More specifically, "rcmd build" produces the following error:
> >
> > 	C:\rw1021\src\library>c:\rw1021\bin\rcmd build car
> > 	Please set TMPDIR to a valid temporary directory
> >
> > It looked to me as if "rcmd build" wanted an environment variable called
> > TMPDIR, so I set one, but this didn't help.
>
> Yes, it does (and did under 1.2.0 unless c:/TEMP exists, which I think it
> usually does under Windows 2000).  In this version it actually tests for
> the existence of the directory.
>
> Which Perl version do you have?  I am baffled: this works for me under NT
> and 98 with three different Perl versions.  The symptom is that whatever
> Perl things $TMPDIR is does not exist.  Can you print out and check via
>
> if($WINDOWS){
>     $tmpdir = R_getenv("TMPDIR", "/TEMP");
>     print "tmpdir is $tmpdir\n"; # added line
>     die "Please set TMPDIR to a valid temporary directory\n"
>         unless (-d $TMPDIR);
>
>
> >
> > Curiously, "rcmd build" under R.1.2.0 (which is also on my
> system) still works:
> >
> > 	C:\rw1021\src\library>c:\rw1020\bin\rcmd build car
> > 	* checking for file `car/DESCRIPTION' ... OK
> > 	* preparing `car':
> > 	* checking whether `INDEX' is up-to-date ... NO
> > 	* creating new INDEX
> > 	* checking whether `data/00Index' is up-to-date ... NO
> > 	* creating new data/00Index
> > 	* removing junk files
> > 	* building `car_0.6-0.tar.gz'
> >
> > After this, I can use "rcmd check" and "rcmd install" from
> version 1.2.1 to
> > finish the job:
> >
> > 	C:\rw1021\src\library>c:\rw1021\bin\rcmd check car
> > 	* checking for working latex ... OK
> > 	* using log directory C:/rw1021/src/library/car.Rcheck
> >
> > 	. . .
>
> Well, one usually does check before build, and check contains identical
> code for the test, so I am even more baffled.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 13:46:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 12:46:11 +0000 (GMT)
Subject: [R] building packages in Windows under R 1.2.1
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKOEIOCAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.31.0101221240230.27697-100000@toucan.stats>

On Mon, 22 Jan 2001, Yves Gauvreau wrote:

> Hi,
>
> Could it be because of is PATH and/or RHOME. He says it still works with R
> 1.2.0.

The code is new in 1.2.1, and identical code in Rcmd clean works. It looks
like a Windows Perl bug.  On my machines under NT4 and 98 this works
because -d foo seems to be always true!  It is probably different on 2000.

Try changing the line

        unless (-d $TMPDIR);

to
        unless (-e $tmpdir);

It may also depend on the Perl version.  We know that system() is broken
in builds later than ca 619, for example.

It's strange that after years of problems with the make and shell, Perl
is now misbehaving.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Mon Jan 22 14:15:41 2001
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Mon, 22 Jan 2001 14:15:41 +0100
Subject: [R] Error in postscript(....)
Message-ID: <3A6C327D.21A3E000@physik.uni-marburg.de>

Dear R'ers,

I wonder about the reason for the following error message:

Error in postscript(file = paste(getpath(file), getfname(file),
as.character(num),  : 
	X11 fatal IO error: please save work and shut down R

The R process locks completely, it is not possible to save anything.
Thanks for any help
   M. Eger


P.S.:
> R.version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.1              
year     2001             
month    01               
day      15               
language R   
-- 
+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Mon Jan 22 14:17:06 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Mon, 22 Jan 2001 14:17:06 +0100
Subject: [R] Re: R 1.2.1 (beta) for Macintosh
In-Reply-To: <a05001900b68e2542a990@[159.149.74.61]>
References: <20010119085923.07174@hal.stat.unipd.it>
 <a05001900b68e2542a990@[159.149.74.61]>
Message-ID: <p04330100b691c8e0bcb9@[134.76.136.114]>

Hi Stefano! Good work!

As in the last version there was again the problem with plotmath.cell 
plotting text outside the box's boundaries.
Demo("nlm") crashed with error 2 first but after the usual memory 
increase everything went well. It would be nice to get a more 
explanatory error message, though.
help.start() worked well.
(G3 Powerbook with System 9.04)

Thanks a lot!

Ragnar

>Macintosh binaries and sources have been updated to R-1.2.1
>
>You can find them at
>
>			http://www.eco-dip.unimi.it/R
>
>Please remember that this is still at a developer stage. Feedback 
>and interactions with other Macintosh developer is warmly welcome.
>
>			Macintosh-specific changes to R
>			===============================
>
>* help.start() has been implemented. Now R for MacOS calls the 
>standard HTML browser to visualize the HTML help and manuals.
>
>* getenv() in now working. The .Renviron file is assumed to be in 
>"etc" directory. Directory "etc" is assumed to contain the history 
>file, the image session and the environments variables
>
>* a command line has been added. It is possible to specify options 
>as in the Unix/Win implementations. If you don't want to specify 
>options, simply type return after starting R aplication.
>
>* InfoZip code has been included in this version. Help files are now 
>stored in zipped archive to save disk space.
>
>* packages have been recompiled and few other bugs fixed
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-announce mailing list -- Read 
>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Jan 22 14:13:18 2001
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 22 Jan 2001 08:13:18 -0500
Subject: [R] building packages in Windows under R 1.2.1
In-Reply-To: <Pine.GSO.4.31.0101221240230.27697-100000@toucan.stats>
References: <NEBBJKDJHEFCOOLFFAKKOEIOCAAA.cyg@sympatico.ca>
Message-ID: <5.0.0.25.0.20010122080823.018aa4f8@127.0.0.1>

Dear Brian,

At 12:46 PM 22/01/2001 +0000, you wrote:

>The code is new in 1.2.1, and identical code in Rcmd clean works. It looks
>like a Windows Perl bug.  On my machines under NT4 and 98 this works
>because -d foo seems to be always true!  It is probably different on 2000.
>
>Try changing the line
>
>         unless (-d $TMPDIR);
>
>to
>         unless (-e $tmpdir);

Yes, this does the trick for me.

For the record, I have version v5.6.0 of Perl; I do have a c:\temp 
directory; and I did explicitly set TMPDIR to a valid directory when I 
first encountered the problem.

Thanks to Brian for the solution, and to Peter Dalgaard for trying to help.

John

________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Jan 22 14:51:27 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 22 Jan 2001 13:51:27 +0000 (GMT)
Subject: [R] modelling problem
Message-ID: <Pine.LNX.4.10.10101221349170.1603-100000@localhost.localdomain>

I have three different conditions: detect, discrim, sum.
In each condition I measure y at two different x levels.
Thus I have 6 points.

Theory says that the data should obey:

y ~ (x+a)/b		if cond==detect
y ~ (x+a)/(2*b*(1-c))	if cond==discrim
y ~ (x+a)/(2*b*(1+c))	if cond==sum

These are 3 lines, one per condition. I need to estimate a, b, and c.
How to do it in R? (I imagine that lm() will do it somehow)

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 22 14:58:39 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2001 14:58:39 +0100
Subject: [R] Error in postscript(....)
In-Reply-To: Marcus Eger's message of "Mon, 22 Jan 2001 14:15:41 +0100"
References: <3A6C327D.21A3E000@physik.uni-marburg.de>
Message-ID: <x2bsszadtc.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Dear R'ers,
> 
> I wonder about the reason for the following error message:
> 
> Error in postscript(file = paste(getpath(file), getfname(file),
> as.character(num),  : 
> 	X11 fatal IO error: please save work and shut down R
> 
> The R process locks completely, it is not possible to save anything.
> Thanks for any help
>    M. Eger

Argh. I think I saw a version of this on a laptop I borrowed in early
December and forgot about it when I couldn't reproduce the effect on
my other systems. I had it debugged far enough to see that it was
sending the main R loop into a spin where it was seemingly receiving
an X event but never handling it.

What did you do to deserve having your machine do this to you? Shutting
down an X11 window with "destroy" triggered the effect in my case. It
might be window manager dependent snce I've only ever seen it under
FVWM2.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tan at uta.fi  Mon Jan 22 16:33:59 2001
From: tan at uta.fi (Tapio Nummi)
Date: Mon, 22 Jan 2001 18:33:59 +0300
Subject: [R] spectral-decomposition
Message-ID: <f05010400b691fa7ea81f@[153.1.53.97]>


I have the following problem:

I try to make the spectral decomposition
for the following matrix by utilising the
function eigen.

  0.4015427  0.08903581 -0.2304132
  0.08903581 1.60844812  0.9061157
-0.23041322 0.9061157   2.9692562

When checking the result I was not able
to produce the original matrix by using
the decomposition. It also appears that
the product T'T, where T is a matrix of
eigenvectors, is not an identity matrix.

  Tapio Nummi
  University of Tampere

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Mon Jan 22 16:26:04 2001
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Mon, 22 Jan 2001 16:26:04 +0100
Subject: [R] Error in postscript(....)
References: <3A6C327D.21A3E000@physik.uni-marburg.de> <x2bsszadtc.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A6C510C.53ED2C40@physik.uni-marburg.de>

Peter Dalgaard BSA wrote:
> > Error in postscript(file = paste(getpath(file), getfname(file),
> > as.character(num),  :
> >       X11 fatal IO error: please save work and shut down R
> 
> Argh. I think I saw a version of this on a laptop I borrowed in early
> December and forgot about it when I couldn't reproduce the effect on
> my other systems. I had it debugged far enough to see that it was
> sending the main R loop into a spin where it was seemingly receiving
> an X event but never handling it.
> 
> What did you do to deserve having your machine do this to you? Shutting
> down an X11 window with "destroy" triggered the effect in my case. It
> might be window manager dependent snce I've only ever seen it under
> FVWM2.


Yes, I 've got FVWM2 installed, but - as far as I know - I did not
destroy
any window or caused a similar event - though I am not totally sure.
The R process ran inside xemacs (21.2) with ESS on another debian 
machine (2.2) via secure shell.

+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FRohde at birchdavis.com  Mon Jan 22 16:16:41 2001
From: FRohde at birchdavis.com (FRohde@birchdavis.com)
Date: Mon, 22 Jan 2001 10:16:41 -0500
Subject: [R] Can't read foreign datasets
Message-ID: <144544843@birchdavis.com>

R-Team:

I am having difficulty reading a SAS transport or an SPSS portable file in
Windows (Windows 2000) using the 1.2.0 version of foreign.  I had been able to
read them in the 1.0 versions of R.  When I try, I get an unknown error and R
shuts down.  The lookup.xport(fileName) command seems to work -- the number of
variables and rows as reported by lookup.xport are correct.  But when I use
read.xport or read.spss, R generates a popup box on the screen saying "Rgui.exe
has generated errors and will be closed by Windows".

Any help would be appreciated.

Fred Rohde

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Mon Jan 22 16:36:15 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Mon, 22 Jan 2001 09:36:15 -0600
Subject: [R] RPM of R-1.2.1 for RH 7?
Message-ID: <OFB3F4AD02.BF238AB4-ON862569DC.0054E523@mmm.com>


> On Fri, 19 Jan 2001, Jonathan Baron wrote:
>
>> There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
>> What should I do?  I have a new computer with RH7.
>
> The easiest thing to do is to install from source.  You will need to
> up/downgrade your gcc, though.  The notorious "gcc 2.96" supplied with
RH7
> causes a number of problems with R.
>
> Installing from source will mean you want to uninstall before installing
> an RPM, should one become available.
>
>
>    -thomas
>
> Thomas Lumley               Asst. Professor, Biostatistics
> tlumley at u.washington.edu    University of Washington, Seattle
>
The gcc-2.96 compiler has actually been fixed a couple of months ago.  The
current RPM version is 2.96-69.

I am not trying to defend RH for including an "experimental" compiler in
their 7.0 release but, as a matter of fairness, I have to point out that
they did a very good job with the update.  I compiled 1.2.1 with it with no
problems whatsoever.  I ran all the tests with no errors and all the
packages I tried to compile so far work fine.

This is a little off the subject, but the updated 2-.96 compiler also
compiles Linux kernel 2.4.0 with no problems.

Cheers,

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Jan 22 16:42:27 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 22 Jan 2001 10:42:27 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OFF87690DB.3B6DE818-ON852569DC.0055AAE3@rtp.epa.gov>


I thought of the dual boot problem, but this is not a dual boot machine.
In any case, at least in earlier versions of Linux and Win 95, the problem
is that Windows wants to take the system clock literally as local time.  At
least the Red Hat distribution allows you to tell it the time zone for the
system clock.

It does look like this is a problem with my setup, though, since no one
else has reported a similar problem.  Thanks.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                
                    Prof Brian D                                                                                
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                                
                    <ripley at stats        cc:                                                                    
                    .ox.ac.uk>           Subject:     Re: [R] system time is 5 hours off in Windows             
                    Sent by:                                                                                    
                    ripley at auk.st                                                                               
                    ats                                                                                         
                                                                                                                
                                                                                                                
                    01/19/2001                                                                                  
                    06:44 PM                                                                                    
                                                                                                                
                                                                                                                



On Fri, 19 Jan 2001, Prof Brian D Ripley wrote:

> On Fri, 19 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:
>
> > Am I missing a configuration step?  The value returned by date() and
> > Sys.time() is five hours later than the system time.  Furthermore,
>
> That I have not seen.  Entirely possible, given Windows bugs. I am really
> sick of having to correct their mistakes in standard C library functions
> in this area.

To confirm, if I set my NT4 computer to that time zone, it reports
Eastern Daylight Time as the time zone (rather than GB Daylight Time)
but Windows and R do agree on the time.

Looks like a peculiarity of your setup. If it were common I would be
suprised that it had not been reported before. (Some people are all to keen
to report non-bugs.)   I seem to remember there are issues on PCs about
running clocks on UTC or local time that surface if they are dualbootable
(Windows/Linux).

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Jan 22 16:49:33 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 22 Jan 2001 10:49:33 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OF2C49C266.E3A8BCDB-ON852569DC.00569D2A@rtp.epa.gov>


Sorry to take up more bandwidth on a relatively minor point, but, under
R-1.1.1, date() returns the system time, whereas under R-1.2.0 and R-1.2.1,
date() returns system time + 5 hours (as if it were really returning UTC).
Does msvcrt.dll handle the date-time functions?  Maybe I've got a problem
there.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                
                    Prof Brian D                                                                                
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                                
                    <ripley at stats        cc:                                                                    
                    .ox.ac.uk>           Subject:     Re: [R] system time is 5 hours off in Windows             
                    Sent by:                                                                                    
                    ripley at auk.st                                                                               
                    ats                                                                                         
                                                                                                                
                                                                                                                
                    01/19/2001                                                                                  
                    06:44 PM                                                                                    
                                                                                                                
                                                                                                                



On Fri, 19 Jan 2001, Prof Brian D Ripley wrote:

> On Fri, 19 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:
>
> > Am I missing a configuration step?  The value returned by date() and
> > Sys.time() is five hours later than the system time.  Furthermore,
>
> That I have not seen.  Entirely possible, given Windows bugs. I am really
> sick of having to correct their mistakes in standard C library functions
> in this area.

To confirm, if I set my NT4 computer to that time zone, it reports
Eastern Daylight Time as the time zone (rather than GB Daylight Time)
but Windows and R do agree on the time.

Looks like a peculiarity of your setup. If it were common I would be
suprised that it had not been reported before. (Some people are all to keen
to report non-bugs.)   I seem to remember there are issues on PCs about
running clocks on UTC or local time that surface if they are dualbootable
(Windows/Linux).

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 16:57:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 15:57:34 +0000 (GMT)
Subject: [R] spectral-decomposition
In-Reply-To: <f05010400b691fa7ea81f@[153.1.53.97]>
Message-ID: <Pine.GSO.4.31.0101221551590.28378-100000@toucan.stats>

On Mon, 22 Jan 2001, Tapio Nummi wrote:

>
> I have the following problem:
>
> I try to make the spectral decomposition
> for the following matrix by utilising the
> function eigen.
>
>   0.4015427  0.08903581 -0.2304132
>   0.08903581 1.60844812  0.9061157
> -0.23041322 0.9061157   2.9692562
>
> When checking the result I was not able
> to produce the original matrix by using
> the decomposition. It also appears that
> the product T'T, where T is a matrix of
> eigenvectors, is not an identity matrix.

Did your version of R pass make check?  Some compilers have trouble with
eigen, so try example(eigen).

And *PLEASE* give your R version and platform.

On mine (1.2.1, Solaris)

> sm <- eigen(m, sym=TRUE)
> sm
$values
[1] 3.4311626 1.1970027 0.3510817

$vectors
            [,1]       [,2]       [,3]
[1,] -0.05508142 -0.2204659  0.9738382
[2,]  0.44231784 -0.8797867 -0.1741557
[3,]  0.89516533  0.4211533  0.1459759

> V <- sm$vectors
> t(V) %*% V
              [,1]          [,2]          [,3]
[1,]  1.000000e+00 -1.665335e-16 -5.551115e-17
[2,] -1.665335e-16  1.000000e+00  2.428613e-16
[3,] -5.551115e-17  2.428613e-16  1.000000e+00

> V %*% diag(sm$values) %*% t(V)
            [,1]       [,2]       [,3]
[1,]  0.40154270 0.08903581 -0.2304132
[2,]  0.08903581 1.60844812  0.9061157
[3,] -0.23041320 0.90611570  2.9692562

I reckon you have a broken installation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 17:06:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 16:06:38 +0000 (GMT)
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: <OFB3F4AD02.BF238AB4-ON862569DC.0054E523@mmm.com>
Message-ID: <Pine.GSO.4.31.0101221603120.28378-100000@toucan.stats>

On Mon, 22 Jan 2001 apjaworski at mmm.com wrote:

>
> > On Fri, 19 Jan 2001, Jonathan Baron wrote:
> >
> >> There does not seem to be a RPM for Red Hat 7 of version 1.2.1.
> >> What should I do?  I have a new computer with RH7.
> >
> > The easiest thing to do is to install from source.  You will need to
> > up/downgrade your gcc, though.  The notorious "gcc 2.96" supplied with
> RH7
> > causes a number of problems with R.
> >
> > Installing from source will mean you want to uninstall before installing
> > an RPM, should one become available.
> >
> >
> >    -thomas
> >
> > Thomas Lumley               Asst. Professor, Biostatistics
> > tlumley at u.washington.edu    University of Washington, Seattle
> >
> The gcc-2.96 compiler has actually been fixed a couple of months ago.  The
> current RPM version is 2.96-69.
>
> I am not trying to defend RH for including an "experimental" compiler in
> their 7.0 release but, as a matter of fairness, I have to point out that
> they did a very good job with the update.  I compiled 1.2.1 with it with no
> problems whatsoever.  I ran all the tests with no errors and all the
> packages I tried to compile so far work fine.
>
> This is a little off the subject, but the updated 2-.96 compiler also
> compiles Linux kernel 2.4.0 with no problems.

But, see http://gcc.gnu.org/gcc-2.96.html for what the gcc developers
recommend.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 17:02:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 16:02:38 +0000 (GMT)
Subject: [R] Can't read foreign datasets
In-Reply-To: <144544843@birchdavis.com>
Message-ID: <Pine.GSO.4.31.0101221600230.28378-100000@toucan.stats>

On Mon, 22 Jan 2001 FRohde at birchdavis.com wrote:

> R-Team:
>
> I am having difficulty reading a SAS transport or an SPSS portable file in
> Windows (Windows 2000) using the 1.2.0 version of foreign.  I had been able to
> read them in the 1.0 versions of R.  When I try, I get an unknown error and R
> shuts down.  The lookup.xport(fileName) command seems to work -- the number of
> variables and rows as reported by lookup.xport are correct.  But when I use
> read.xport or read.spss, R generates a popup box on the screen saying "Rgui.exe
> has generated errors and will be closed by Windows".
>
> Any help would be appreciated.

Does example(read.spss) work?  It does for me.  You do have the current
versions of R and foreign, do you?  Please check (there is no `1.2.0
version of foreign': it is 0.2-6).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Jan 22 15:19:37 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 22 Jan 2001 15:19:37 +0100
Subject: [R] strange spectrum() plot
Message-ID: <3A6C4F89.6317.1B307F1@localhost>

Dear R-users
I am a beginner and I use some functions without deep understanding of 
math behind them - sorry :-(

I used a spectrum() function from ts library several times. I learned 
from sunspots dataset, that the result shall be a plot with peak(s). I can 
get also a list object with $freq, $spec values and of course some other.

I can make reciprocal of these $freq values which correspond to 
peak(s) at $spec value(s). In case of sunspots series I get something 
close to 11 and as I know that sun spots occurs at 11 year period I can 
deduct that the peak(s) indicates a periodic nature of time series and I 
can compute the time between periods.

My problem is that with my newest time series I have got a bit 
different plot not with peaks but with "valleys". (See attached picture)

My questions are:

Does anybody know if these valeys mean something? Can I deduct 
some facts about my time series from such plot?

The other question:

Can I mimic a peaks() function fro S+ in R?

I am using P133, 32mb memory, W95 and R 1.2.0 but I suppose it is 
irrelevant to my questions.

Thank you.


Petr Pikal
Precheza a.s.
Nabr.Dr.E.Benese 24
tel: 00420 641 25 2257
     +420 (0)724 008 364
     petr.pikal at precheza.cz
     p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Jan 22 15:19:37 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 22 Jan 2001 15:19:37 +0100
Subject: [R] strange spectrum() plot
Message-ID: <3A6C4F89.22436.1B307D0@localhost>

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  Image5.gif
     Date:  22 Jan 2001, 13:58
     Size:  12057 bytes.
     Type:  GIF-image
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Image5.gif
Type: image/gif
Size: 12057 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010122/3917d77b/Image5.gif

From J.C.Rougier at durham.ac.uk  Mon Jan 22 17:54:24 2001
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Mon, 22 Jan 2001 16:54:24 +0000 (GMT)
Subject: [R] spectral-decomposition
In-Reply-To: <f05010400b691fa7ea81f@[153.1.53.97]>
Message-ID: <Pine.GSO.4.20.0101221647200.503-100000@laplace>

On Mon, 22 Jan 2001, Tapio Nummi wrote:

> I try to make the spectral decomposition
> for the following matrix by utilising the
> function eigen.
> 
>   0.4015427  0.08903581 -0.2304132
>   0.08903581 1.60844812  0.9061157
> -0.23041322 0.9061157   2.9692562
> 
> When checking the result I was not able
> to produce the original matrix by using
> the decomposition. It also appears that
> the product T'T, where T is a matrix of
> eigenvectors, is not an identity matrix.

Hi Tapio,

I'm not having your problems:

> A
            [,1]       [,2]       [,3]
[1,]  0.40154270 0.08903581 -0.2304132
[2,]  0.08903581 1.60844812  0.9061157
[3,] -0.23041320 0.90611570  2.9692562

> sdec <- eigen(A, symm=TRUE)

> t(sdec$vectors) %*% sdec$vectors     
              [,1]          [,2]          [,3]
[1,]  1.000000e+00 -1.665335e-16 -5.551115e-17
[2,] -1.665335e-16  1.000000e+00  2.428613e-16
[3,] -5.551115e-17  2.428613e-16  1.000000e+00

> sdec$vectors %*% diag(sdec$values) %*% t(sdec$vectors) - A
              [,1]          [,2]         [,3]
[1,] -5.551115e-17 -2.775558e-17 2.000000e-08
[2,] -5.551115e-17  1.998401e-15 8.881784e-16
[3,] -1.387779e-16  7.771561e-16 2.220446e-15

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 18:47:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Jan 2001 17:47:49 +0000 (GMT)
Subject: [R] strange spectrum() plot
In-Reply-To: <3A6C4F89.6317.1B307F1@localhost>
Message-ID: <Pine.GSO.4.31.0101221740340.28810-100000@toucan.stats>

On Mon, 22 Jan 2001, Petr Pikal wrote:

> Dear R-users
> I am a beginner and I use some functions without deep understanding of
> math behind them - sorry :-(
>
> I used a spectrum() function from ts library several times. I learned
> from sunspots dataset, that the result shall be a plot with peak(s). I can
> get also a list object with $freq, $spec values and of course some other.
>
> I can make reciprocal of these $freq values which correspond to
> peak(s) at $spec value(s). In case of sunspots series I get something
> close to 11 and as I know that sun spots occurs at 11 year period I can
> deduct that the peak(s) indicates a periodic nature of time series and I
> can compute the time between periods.
>
> My problem is that with my newest time series I have got a bit
> different plot not with peaks but with "valleys". (See attached picture)

That's too long to answer here.  Look at the references on the help page,
especially Bloomfield (which has a 2000 2nd ed).

In particular, you really should not the using the default setting sof
spectrum.

> My questions are:
>
> Does anybody know if these valeys mean something? Can I deduct
> some facts about my time series from such plot?
>
> The other question:
>
> Can I mimic a peaks() function fro S+ in R?

Yes, most easily by writing some C code, but also via embed.
Say

span <- 3
z <- embed(series, span)
max.col(z) == 1 + span %/% 2

> I am using P133, 32mb memory, W95 and R 1.2.0 but I suppose it is
> irrelevant to my questions.
>
> Thank you.
>
>
> Petr Pikal
> Precheza a.s.
> Nabr.Dr.E.Benese 24
> tel: 00420 641 25 2257
>      +420 (0)724 008 364
>      petr.pikal at precheza.cz
>      p.pik at volny.cz
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Jan 22 19:27:07 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 22 Jan 2001 18:27:07 +0000 (GMT)
Subject: [R] spectral-decomposition
In-Reply-To: <f05010400b691fa7ea81f@[153.1.53.97]>
Message-ID: <Pine.GSO.4.21.0101221815430.25750-100000@dolphin>

> I try to make the spectral decomposition
> for the following matrix by utilising the
> function eigen.
> 
>   0.4015427  0.08903581 -0.2304132
>   0.08903581 1.60844812  0.9061157
> -0.23041322 0.9061157   2.9692562
> 
> When checking the result I was not able
> to produce the original matrix by using
> the decomposition. It also appears that
> the product T'T, where T is a matrix of
> eigenvectors, is not an identity matrix.

- I think that a couple of people have reported problems with eigen, that
were actually traceable to their BLAS, but I can't now find the messages
in the archive, so I may be mis-remembering.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 

  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Jan 22 19:40:14 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 22 Jan 2001 10:40:14 -0800 (PST)
Subject: [R] spectral-decomposition
In-Reply-To: <Pine.GSO.4.21.0101221815430.25750-100000@dolphin>
Message-ID: <Pine.GSO.4.21.0101221036450.8184-100000@atlas.biostat.washington.edu>

On Mon, 22 Jan 2001, Simon Wood wrote:

> > I try to make the spectral decomposition
> > for the following matrix by utilising the
> > function eigen.
> > 
> >   0.4015427  0.08903581 -0.2304132
> >   0.08903581 1.60844812  0.9061157
> > -0.23041322 0.9061157   2.9692562
> > 
> > When checking the result I was not able
> > to produce the original matrix by using
> > the decomposition. It also appears that
> > the product T'T, where T is a matrix of
> > eigenvectors, is not an identity matrix.
> 
> - I think that a couple of people have reported problems with eigen, that
> were actually traceable to their BLAS, but I can't now find the messages
> in the archive, so I may be mis-remembering.
> 


There was a problem at one time with AIX systems, apparently due to
C/Fortran compatibility issues.  I think it has been resolved, though we
have only tested a few C/Fortran compiler combinations.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Jan 22 18:48:59 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 22 Jan 2001 12:48:59 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OF30037782.A5A5D269-ON852569DC.0061C792@rtp.epa.gov>

Curiouser and curiouser ...

I rewrote the function R_date (do_date is just a wrapper around R_date)
slightly to make it a standalone program (here i did not replace the
trailing '\n' with '\0', and printed out the result):

#include <stdlib.h>
#include <stdio.h>
#include <time.h>
#include <string.h>

int main(void)
{
  time_t t;
  char s[26];

  time(&t);
  strcpy(s, ctime(&t));
  printf("%s\n",s);
  return(0);
}

The result is [gcc is i386-mingw32msvc-gcc.exe from the gcc-2.95.2-1 mingw
distribution ]:

D:\home\setzer\newstuff\tmp>gcc -o testtime testtime.c

D:\home\setzer\newstuff\tmp>testtime
Mon Jan 22 12:31:17 2001

D:\home\setzer\newstuff\tmp>time
Current time is 12:31:27.89p
Enter new time:


A little later, in R-1.2.1:

> date()
[1] "Mon Jan 22 17:32:24 2001"
>

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                       
                    Woodrow                                                                                            
                    Setzer/RTP/USEPA/US@        To:     r-help at lists.R-project.org                                     
                    EPA                         cc:                                                                    
                    Sent by:                    Subject:     [R] system time is 5 hours off in Windows                 
                    owner-r-help at stat.ma                                                                               
                    th.ethz.ch                                                                                         
                                                                                                                       
                                                                                                                       
                    01/19/2001 04:49 PM                                                                                
                                                                                                                       
                                                                                                                       



Am I missing a configuration step?  The value returned by date() and
Sys.time() is five hours later than the system time.  Furthermore,
Sys.timezone() returns Eastern Daylight Time, whereas we are really
currently in Eastern Standard Time.  I am running:

         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.1
year     2001
month    01
day      15
language R


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.azevedo at ic.ac.uk  Mon Jan 22 20:05:59 2001
From: r.azevedo at ic.ac.uk (Ricardo Azevedo)
Date: Mon, 22 Jan 2001 19:05:59 +0000
Subject: [R] Re: R 1.2.1 (beta) for Macintosh bug report
In-Reply-To: <a05001900b68e2542a990@[159.149.74.61]>
Message-ID: <B6923517.74A8%r.azevedo@ic.ac.uk>

Dear Stefano,

First, I would like to thank you for restarting development of R for the
Mac.  I've been longing for that for a long time.

I've just started using your program and the Edit menu has stopped working
several times.  The keyboard shortcuts for the copy/cut/paste functions also
stop working.  I've had to restart the application several times to cure
it...  Otherwise everything is running smoothly.

Hope this helps,

    Ricardo



_____________________

Ricardo Azevedo
Department of Biology
Imperial College
Silwood Park, Ascot
Berks SL5 7PY
United Kingdom
Tel: 0207-5942335
Fax: 0207-5942339
_____________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdenis2 at home.com  Mon Jan 22 20:13:25 2001
From: pdenis2 at home.com (peter denisevich)
Date: Mon, 22 Jan 2001 11:13:25 -0800
Subject: [R] TCL/Tk weirdness with R-1.2.x under Win98 
Message-ID: <5.0.2.1.0.20010122105534.00a05d00@mail>

With R1.2.1 and R1.2.0 (but not 1.1.x) under Win98 I have the following 
problem with the Tk demos
***IFF the Windows taskbar is set to "autohide" ***:

 >demo(tkdensity) [or any other Tk demo]
Tk interactive window opens.
Move mouse into Tk window and the window immediately minimizes onto the 
Windows taskbar .
Move mouse to taskbar and click on Tk icon -- window pops back up.
Move mouse into Tk window and window minimizes back onto taskbar.
Repeat at infinitum...

At this point, changing taskbar setting to not autohide generally allows me 
to close the Tk window, but (with demo(TkFAQ)  I got a string of 
"expression nested too deep..." error msgs.)

If the taskbar is not set to autohide at the start, everything seems OK.

FWIW -- tcl83.dll and tk83.dll are both 8.3.2 dated 8/8/00 of sizes 605 kb 
and 907 kb, respectively, and worked OK under R-1.x.  Graphics adapter is a 
Matrox G200/8 MB with current drivers.

Have I missed something?

Dr. Peter Denisevich
pdenis2 at home.com/pdenis at pangea.stanford.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Jan 22 20:13:03 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 22 Jan 2001 11:13:03 -0800 (PST)
Subject: [R] system time is 5 hours off in Windows
In-Reply-To: <OF30037782.A5A5D269-ON852569DC.0061C792@rtp.epa.gov>
Message-ID: <Pine.GSO.4.21.0101221105240.8184-100000@atlas.biostat.washington.edu>

On Mon, 22 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> Curiouser and curiouser ...
> 
> I rewrote the function R_date (do_date is just a wrapper around R_date)
> slightly to make it a standalone program (here i did not replace the
> trailing '\n' with '\0', and printed out the result):
> 

Since you are in time zone -5 (according to your mail headers) it looks as
if you may well  have a configuration problem. 

It appears that for some reason you are getting UTC rather than your local
time.  I have seen this happen under Linux: there's a choice of whether
the real time clock should run local time or should run UTC and have the
system apply the time zone correction. I don't know anything about the
Windows situation, though.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Mon Jan 22 21:29:52 2001
From: mathieu at lecastor.net (Mathieu \"castor\" Ros)
Date: Mon, 22 Jan 2001 21:29:52 +0100
Subject: [R] Sd2Rd problem
Message-ID: <3A6C9840.E4A53667@lecastor.net>

hello R-users,
Trying to use Sd2Rd I got the following error message :

castor at castor:~/R-DEVEL/MULTIDIM/multidim/man$ Sd2Rd acp
Can't locate R/Utils.pm in @INC (@INC contains:
/usr/lib/perl5/5.005/i386-linux /usr/lib/perl5/5.005
/usr/local/lib/site_perl/i386-linux /usr/local/lib/site_perl
/usr/lib/perl5 .) at /usr/local/bin/Sd2Rd line 23.
BEGIN failed--compilation aborted at /usr/local/bin/Sd2Rd line 23.

I've looked for the @INC variable to set it but can't find it with a
quick 'grep' and I don't know perl enough to understand the problem.
Could someone help me ?
regards,

  Mathieu

platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

--
 Mathieu Ros
 DEA de Math?matiques Appliqu?es, Toulouse.
--



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 20:30:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 22 Jan 2001 19:30:33 +0000 (GMT)
Subject: [R] Sd2Rd problem
In-Reply-To: <3A6C9840.E4A53667@lecastor.net>
Message-ID: <Pine.GSO.4.31.0101221929450.17358-100000@auk.stats>

On Mon, 22 Jan 2001, "Mathieu \"castor\" Ros" wrote:

> hello R-users,
> Trying to use Sd2Rd I got the following error message :
>
> castor at castor:~/R-DEVEL/MULTIDIM/multidim/man$ Sd2Rd acp
> Can't locate R/Utils.pm in @INC (@INC contains:
> /usr/lib/perl5/5.005/i386-linux /usr/lib/perl5/5.005
> /usr/local/lib/site_perl/i386-linux /usr/local/lib/site_perl
> /usr/lib/perl5 .) at /usr/local/bin/Sd2Rd line 23.
> BEGIN failed--compilation aborted at /usr/local/bin/Sd2Rd line 23.

The correct version is the documented

R CMD Sd2Rd acp

If you get an error, *please* read the documentation.


>
> I've looked for the @INC variable to set it but can't find it with a
> quick 'grep' and I don't know perl enough to understand the problem.
> Could someone help me ?
> regards,
>
>   Mathieu
>
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    2.0
> year     2000
> month    12
> day      15
> language R
>
> --
>  Mathieu Ros
>  DEA de Mathmatiques Appliques, Toulouse.
> --
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 22 20:33:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2001 20:33:56 +0100
Subject: [R] TCL/Tk weirdness with R-1.2.x under Win98
In-Reply-To: peter denisevich's message of "Mon, 22 Jan 2001 11:13:25 -0800"
References: <5.0.2.1.0.20010122105534.00a05d00@mail>
Message-ID: <x23deb9yaj.fsf@blueberry.kubism.ku.dk>

peter denisevich <pdenis2 at home.com> writes:

> With R1.2.1 and R1.2.0 (but not 1.1.x) under Win98 I have the following 
> problem with the Tk demos
> ***IFF the Windows taskbar is set to "autohide" ***:
> 
>  >demo(tkdensity) [or any other Tk demo]
> Tk interactive window opens.
> Move mouse into Tk window and the window immediately minimizes onto the 
> Windows taskbar .
> Move mouse to taskbar and click on Tk icon -- window pops back up.
> Move mouse into Tk window and window minimizes back onto taskbar.
> Repeat at infinitum...
> 
> At this point, changing taskbar setting to not autohide generally allows me 
> to close the Tk window, but (with demo(TkFAQ)  I got a string of 
> "expression nested too deep..." error msgs.)
> 
> If the taskbar is not set to autohide at the start, everything seems OK.
> 
> FWIW -- tcl83.dll and tk83.dll are both 8.3.2 dated 8/8/00 of sizes 605 kb 
> and 907 kb, respectively, and worked OK under R-1.x.  Graphics adapter is a 
> Matrox G200/8 MB with current drivers.
> 
> Have I missed something?

Mnnnohhh... Haven't heard about *that* effect before. There are things
we know we aren't doing right in the Tcl interface on Windows, but I
can't see it explain this. I don't think any of the stuff changed from
1.1.1 to 1.2.0 has any bearing on this.

I assume the wish shell is not doing the same thing?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 22 20:32:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 22 Jan 2001 19:32:09 +0000 (GMT)
Subject: [R] TCL/Tk weirdness with R-1.2.x under Win98 
In-Reply-To: <5.0.2.1.0.20010122105534.00a05d00@mail>
Message-ID: <Pine.GSO.4.31.0101221931170.17358-100000@auk.stats>

On Mon, 22 Jan 2001, peter denisevich wrote:

> With R1.2.1 and R1.2.0 (but not 1.1.x) under Win98 I have the following
> problem with the Tk demos
> ***IFF the Windows taskbar is set to "autohide" ***:
>
>  >demo(tkdensity) [or any other Tk demo]
> Tk interactive window opens.
> Move mouse into Tk window and the window immediately minimizes onto the
> Windows taskbar .
> Move mouse to taskbar and click on Tk icon -- window pops back up.
> Move mouse into Tk window and window minimizes back onto taskbar.
> Repeat at infinitum...
>
> At this point, changing taskbar setting to not autohide generally allows me
> to close the Tk window, but (with demo(TkFAQ)  I got a string of
> "expression nested too deep..." error msgs.)
>
> If the taskbar is not set to autohide at the start, everything seems OK.
>
> FWIW -- tcl83.dll and tk83.dll are both 8.3.2 dated 8/8/00 of sizes 605 kb
> and 907 kb, respectively, and worked OK under R-1.x.  Graphics adapter is a
> Matrox G200/8 MB with current drivers.
>
> Have I missed something?

Only not to expect Windows ports (e.g. of Tcl/Tk) to behave sensibly with
unusual defaults, I guess.

>
> Dr. Peter Denisevich
> pdenis2 at home.com/pdenis at pangea.stanford.edu
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Mon Jan 22 22:38:47 2001
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Mon, 22 Jan 2001 22:38:47 +0100
Subject: [R] RMySQL troubles on Mandrake 7.1 and R 1.2.1
Message-ID: <3A6CA867.59BDD378@molgen.mpg.de>

I am using extensively intensively the RMySQL package on linux Mandrake
7.1.
I installed today the release 1.2.1 of R.

I got the following errors:
by loading the package the first time i got the followien error:
library(RMySQL)

The following objects(s) are masked from package:base:
close

and than:
Error in load.MySQLManager(max.con, fetch.default.rec, force.reload):
MySQL driver: (invalid MySQL manager object)

Sorry, for me it means only downgrade to R1.1.1,  and this makes me
really sad, becouse this new memmory allocation, hmmm.....

But maybe somebody could use this info.

THX
Eryk

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
tel.:
Work 0049-30-84131426
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Jan 22 22:47:56 2001
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 22 Jan 2001 22:47:56 +0100
Subject: [R] poisson and peritonitis
Message-ID: <5.0.2.1.0.20010122220415.03a03110@127.0.0.1>


Dear friends. I have a very simple question. In an old paper (Vonesh,Stat 
Med 1990;9:263-271), the rate of peritonitis in 81 peritoneal dialysis 
patients is estimated. The estimated intercept and an effect for race (0,1) 
in a generalized linear model with poisson distribution is given. The 
patients are observed a different length of time but time is not in the 
model, so I cannot see how is accounted for that. Anyhow, the observed 
number of zero incidences (35) is compared to the fitted zero incidences 
(said to be 33.54).
I would guess the way to do that was to let
mm <- exp(0.00149+race*0.7888) (his intercept and effect for race)
sum(dpois(0,mm)) but this doesn't yield but 25.64225

I know the times, but how could I get to the results of Vonesh without 
letting it have an effect ?

In hope of forgiveness if I have totally misunderstood what is going on

Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdenis2 at home.com  Mon Jan 22 23:07:23 2001
From: pdenis2 at home.com (peter denisevich)
Date: Mon, 22 Jan 2001 14:07:23 -0800
Subject: [R] TCL/Tk weirdness with R-1.2.x under Win98
In-Reply-To: <x23deb9yaj.fsf@blueberry.kubism.ku.dk>
References: <peter denisevich's message of "Mon, 22 Jan 2001 11:13:25 -0800">
 <5.0.2.1.0.20010122105534.00a05d00@mail>
Message-ID: <5.0.2.1.0.20010122135603.009fbec0@mail>



The "Tk Widget Tour" behaves normally regardless of "autohide" setting, so 
I don't think it's intrinsic to wish.  However, this is such a minor 
problem (note that I called it "weirdness" not "bug"), that it's probably 
not worth  spending time on.  I've used autohide mainly to avoid accidently 
launching some bloated app. I'm always pleased (and frequently surprised) 
when things work on Windows at all.  Both R and Gimp are amazing examples 
of successful ports.  BTW -- does anyone have anything good/bad to say 
about Windows 2000 Pro (for my next Win/Linux dual-boot machine)?
Best regards,
Peter Denisevich

At 08:33 PM 1/22/01 +0100, Peter Dalgaard wrote:

>peter denisevich <pdenis2 at home.com> writes:
>
> > With R1.2.1 and R1.2.0 (but not 1.1.x) under Win98 I have the following
> > problem with the Tk demos
> > ***IFF the Windows taskbar is set to "autohide" ***:
> >
> >  >demo(tkdensity) [or any other Tk demo]
> > Tk interactive window opens.
> > Move mouse into Tk window and the window immediately minimizes onto the
> > Windows taskbar .
> > Move mouse to taskbar and click on Tk icon -- window pops back up.
> > Move mouse into Tk window and window minimizes back onto taskbar.
> > Repeat at infinitum...
> >
> ><snip>

> > Have I missed something?
>
>Mnnnohhh... Haven't heard about *that* effect before. There are things
>we know we aren't doing right in the Tcl interface on Windows, but I
>can't see it explain this. I don't think any of the stuff changed from
>1.1.1 to 1.2.0 has any bearing on this.
>
>I assume the wish shell is not doing the same thing?
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 23 00:14:42 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jan 2001 00:14:42 +0100
Subject: [R] poisson and peritonitis
In-Reply-To: Troels Ring's message of "Mon, 22 Jan 2001 22:47:56 +0100"
References: <5.0.2.1.0.20010122220415.03a03110@127.0.0.1>
Message-ID: <x2ae8jrxgd.fsf@blueberry.kubism.ku.dk>

Troels Ring <tring at mail1.stofanet.dk> writes:

> Dear friends. I have a very simple question. In an old paper (Vonesh,Stat 
> Med 1990;9:263-271), the rate of peritonitis in 81 peritoneal dialysis 
> patients is estimated. The estimated intercept and an effect for race (0,1) 
> in a generalized linear model with poisson distribution is given. The 
> patients are observed a different length of time but time is not in the 
> model, so I cannot see how is accounted for that. Anyhow, the observed 
> number of zero incidences (35) is compared to the fitted zero incidences 
> (said to be 33.54).
> I would guess the way to do that was to let
> mm <- exp(0.00149+race*0.7888) (his intercept and effect for race)
> sum(dpois(0,mm)) but this doesn't yield but 25.64225
> 
> I know the times, but how could I get to the results of Vonesh without 
> letting it have an effect ?
> 
> In hope of forgiveness if I have totally misunderstood what is going on

It can only be guesswork, but one idea could be that time actually
does enter but in the form exp(0.00149+race*0.7888)*time alias
exp(0.00149+race*0.7888+log(time)) which is a glim with an offset.
Then since the offset is known it might not be given in the results?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Mon Jan 22 19:34:43 2001
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Mon, 22 Jan 2001 18:34:43 +0000
Subject: [R] spectral-decomposition
In-Reply-To: <f05010400b691fa7ea81f@[153.1.53.97]>
Message-ID: <3.0.1.32.20010122183443.00735ab0@pop3.ucd.ie>

Need to set the symmetry argument. Say x = the matrix
  eigen(x,sym=T)

At 06:33 PM 1/22/01 +0300, Tapio Nummi wrote:
>
>I have the following problem:
>
>I try to make the spectral decomposition
>for the following matrix by utilising the
>function eigen.
>
>  0.4015427  0.08903581 -0.2304132
>  0.08903581 1.60844812  0.9061157
>-0.23041322 0.9061157   2.9692562
>
>When checking the result I was not able
>to produce the original matrix by using
>the decomposition. It also appears that
>the product T'T, where T is a matrix of
>eigenvectors, is not an identity matrix.
>
>  Tapio Nummi
>  University of Tampere
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jan 23 00:14:47 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 22 Jan 2001 18:14:47 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OFAC217B88.64ECB705-ON852569DC.007C6C95@rtp.epa.gov>


If I set TZ in the environment to something reasonable (I've used TZ=EST+5
and TZ="EST+5EDT,M4.1.0/2,M10.5.0/2"), R gives correct answers for the
current time, and returns a reasonable timezone string for Sys.time():

D:\home\setzer>set TZ=EST+5EDT,M4.1.0/2,M10.5.0/2

D:\home\setzer>echo %TZ%
EST+5EDT,M4.1.0/2,M10.5.0/2

D:\home\setzer>Rterm

R : Copyright 2001, The R Development Core Team
Version 1.2.1  (2001-01-15)

[...]

[Previously saved workspace restored]

> date()
[1] "Mon Jan 22 17:46:11 2001"
> Sys.time()
[1] "2001-01-22 17:46:16 EST"
> Sys.timezone()
[1] "EST+5EDT,M4.1.0/2,M10.5.0/2"
> q("no")

D:\home\setzer>time
Current time is  5:47:15.76p

If I unset TZ, then the timezone reported in R doesn't make sense, really.

D:\home\setzer>set TZ=

D:\home\setzer>echo %TZ%
ECHO is on

D:\home\setzer>Rterm
[...]

> Sys.time()
[1] "2001-01-22 22:49:49 Eas"
> Sys.timezone()
[1] "Eastern Daylight Time"

So now the time returned is UTC.  When I was experimenting with setting the
timezone, I inadvertantly included double quotes in the TZ string.  When I
asked for Sys.time(), the timezone part of the resulting string was \"Ea,
so the string being reported is just being copied unconditionally into the
output string.

I've found the warning in the documentation for as.POSIXct to try setting
TZ on UNIX-like systems if the POSIX functions give unusual results;
perhaps this should apply to Windows systems, too?  That doesn't explain
the return of date() which relies on the OS to set the time zone (and, when
I execute the same code as a stand-alone program, I get the correct system
time).  It is as if some startup code looks for TZ in the environment, and
if it is not there, sets it to a value which, perhaps, the system does not
recognize as valid, and defaults to GMT.

This is what I get inside Rgui when I query the TZ variable (I have not set
it in the environment):

> Sys.getenv("TZ")
                     TZ
"Eastern Daylight Time"

It seems to me that, if this is going to be used to set the time zone for
POSIX functions, it should look like one of the standard ways of specifying
a time zone (all I know about this is what I read in the libc manual about
the POSIX date-time functions, so I may be way off base here for the
Windows implementation).




R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                       
                    Woodrow                                                                                            
                    Setzer/RTP/USEPA/US@        To:     r-help at lists.R-project.org                                     
                    EPA                         cc:                                                                    
                    Sent by:                    Subject:     [R] system time is 5 hours off in Windows                 
                    owner-r-help at stat.ma                                                                               
                    th.ethz.ch                                                                                         
                                                                                                                       
                                                                                                                       
                    01/19/2001 04:49 PM                                                                                
                                                                                                                       
                                                                                                                       



Am I missing a configuration step?  The value returned by date() and
Sys.time() is five hours later than the system time.  Furthermore,
Sys.timezone() returns Eastern Daylight Time, whereas we are really
currently in Eastern Standard Time.  I am running:

         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.1
year     2001
month    01
day      15
language R


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Jan 23 02:47:55 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 22 Jan 2001 20:47:55 -0500
Subject: [R] Calling R from external code?
Message-ID: <NEBBJKDJHEFCOOLFFAKKEEJECAAA.cyg@sympatico.ca>

Hi every one,

I'm thinking of using some optimization algorithm in conjunction with R
1.2.[01]. I assume that it is usual for this kind of code be given a pointer
to the function to be optimize and a bunch of parameters for both the
algorithm and for the function. In order to be flexible the ideal would be
to be able to write the function to be optimize as a R function. But...

I got myself a copy of "S programming" (I got it from Amazon while it was at
~ $17.98) and I read chapter 6 (6.3). I also read "Writing R extensions".
>From what I've read the authors basically suggest to forget that and the
main reason they give is that the process can be "extremely slow". I even
took a look at optim.c which does exactly what I would like to be able to do
for this algorithm. I also got my hand on the Fortran code for L-BFGS-B from
R. H. Byrd, P. Lu, J. Nocedal and C. Zhu (NETLIB) and they also have the
same example program as R (the extended Rosenbrock function). As expected
the Fortran program is a lot faster.

The functions I would like to optimize will probably be a lot of work for
both the algorithm and within the functions themselves. So this is kind of a
dilemma.

Is the only alternative to this situation is writing the function to be
optimized as external code and setting up things such that the process can
be initiated from an R function?

Thanks in advance, any suggestion(s) are welcome.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Tue Jan 23 07:28:36 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Tue, 23 Jan 2001 08:28:36 +0200
Subject: [R] RPM of R-1.2.1 for RH 7? 
In-Reply-To: Message from apjaworski@mmm.com 
   of "Mon, 22 Jan 2001 09:36:15 CST." <OFB3F4AD02.BF238AB4-ON862569DC.0054E523@mmm.com> 
Message-ID: <200101230628.IAA05375@pc112145.oulu.fi>


apjaworski at mmm.com said:
> The gcc-2.96 compiler has actually been fixed a couple of months ago.
> The current RPM version is 2.96-69. 

What about RH g77? It used to produce broken shared libraries which segfaulted 
R, back in the official Gnu compiler collection in RH6.x series. Is that fixed 
in gcc-"2.96" of RH 7? (That is, should I upgrade to RH7 although I first 
thought it is better to stay far away from RH7.0 and gcc-"2.96").

cheers, jo
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526 (job), mobile +358 40 5136529
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 23 08:37:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 23 Jan 2001 07:37:43 +0000 (GMT)
Subject: [R] system time is 5 hours off in Windows
In-Reply-To: <OFAC217B88.64ECB705-ON852569DC.007C6C95@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0101230734190.17545-100000@auk.stats>

On Mon, 22 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

[...]

> I've found the warning in the documentation for as.POSIXct to try setting
> TZ on UNIX-like systems if the POSIX functions give unusual results;
> perhaps this should apply to Windows systems, too?  That doesn't explain

It seems OK everywhere else, whic is why it is not mentioned there.

> the return of date() which relies on the OS to set the time zone (and, when
> I execute the same code as a stand-alone program, I get the correct system
> time).  It is as if some startup code looks for TZ in the environment, and
> if it is not there, sets it to a value which, perhaps, the system does not
> recognize as valid, and defaults to GMT.

Windows code does not use TZ according to its documentation.

> This is what I get inside Rgui when I query the TZ variable (I have not set
> it in the environment):
>
> > Sys.getenv("TZ")
>                      TZ
> "Eastern Daylight Time"

R sets it for its own purposes.

> It seems to me that, if this is going to be used to set the time zone for
> POSIX functions, it should look like one of the standard ways of specifying
> a time zone (all I know about this is what I read in the libc manual about
> the POSIX date-time functions, so I may be way off base here for the
> Windows implementation).

Right. It is not documented and does not in general work for Windows.
We do it by hand on Windows.  It is possible that what we do (using
tzname and tzset()) is upsetting date(), which I have no idea how it works,


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 23 08:50:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 23 Jan 2001 07:50:59 +0000 (GMT)
Subject: [R] RMySQL troubles on Mandrake 7.1 and R 1.2.1
In-Reply-To: <3A6CA867.59BDD378@molgen.mpg.de>
Message-ID: <Pine.GSO.4.31.0101230745060.17545-100000@auk.stats>

On Mon, 22 Jan 2001, Witold Eryk Wolski wrote:

> I am using extensively intensively the RMySQL package on linux Mandrake
> 7.1.
> I installed today the release 1.2.1 of R.
>
> I got the following errors:
> by loading the package the first time i got the followien error:
> library(RMySQL)
>
> The following objects(s) are masked from package:base:
> close

That's not a problem (if it were it would be the package breaking R not
v.v.).

> and than:
> Error in load.MySQLManager(max.con, fetch.default.rec, force.reload):
> MySQL driver: (invalid MySQL manager object)

I have had it running on RH6.2 and on Windows (with a few changes) under
1.2.0, and 1.2.1 should be no different.

> Sorry, for me it means only downgrade to R1.1.1,  and this makes me
> really sad, becouse this new memmory allocation, hmmm.....

RODBC works well with MySQL, in my experience better than RMySQL.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 23 09:17:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 23 Jan 2001 08:17:53 +0000 (GMT)
Subject: [R] RPM of R-1.2.1 for RH 7? 
In-Reply-To: <200101230628.IAA05375@pc112145.oulu.fi>
Message-ID: <Pine.GSO.4.31.0101230813280.17545-100000@auk.stats>

On Tue, 23 Jan 2001, Jari Oksanen wrote:

>
> apjaworski at mmm.com said:
> > The gcc-2.96 compiler has actually been fixed a couple of months ago.
> > The current RPM version is 2.96-69.
>
> What about RH g77? It used to produce broken shared libraries which segfaulted
> R, back in the official Gnu compiler collection in RH6.x series. Is that fixed

They never had an official GNU compiler in RH6.x: they had egcs.  gcc
2.95.2 has been the gcc/g77 compiler of choice for a long time, and
according to gcc.gnu.org still is.

That's what I have been using for 18 months, and I believe what Martyn
Plummer uses for his RH6.2 RPMs (although at some point he mentions
2.95.1).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Tue Jan 23 09:57:05 2001
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Tue, 23 Jan 2001 09:57:05 +0100
Subject: [R] searching for industrial experimental design in R
Message-ID: <F169284AF6DDD111AA000001FAF836E801230923@LLNBBS22>

Hi all,

I've toured the archive and the contributed pages, but didn't find much new
on industrial experimental design. Would anyone of you have written such
routines and would you be willing to share?

These are the elements I need:
1. An algorithm which finds the extreme vertices, edge centers, face
centers, etc ... For a domain under equality and inequality constraings
(constrained mixture type).
2. An algorithm for finding appropriate points in a candidate list. (I am
aware of the dopt contributed package which could handle this for me)
3. Graphics for inspecting and exploring the resulting designs.

Any hints are welcome as long as they are R based ... I have several other
software solutions to this problem, but I'm specifically looking for an R
one.

Thanks in advance

> Kind Regards, 
> Christian Ritter, Statistical Services
> 
       Tel  +32 10 477349/ Fax +32 10 477219       
       email : Christian.C.Ritter at OPC.Shell.com

       Shell Chemicals Belgium S.A.
       Shell Research and Technology Centre 
       Avenue Jean Monnet 1
       B-1348 Ottignies Louvain-La-Neuve (Belgium)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 23 10:10:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 23 Jan 2001 09:10:19 +0000 (GMT)
Subject: [R] Calling R from external code?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKEEJECAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.31.0101230903381.1145-100000@toucan.stats>

On Mon, 22 Jan 2001, Yves Gauvreau wrote:

> Hi every one,
>
> I'm thinking of using some optimization algorithm in conjunction with R
> 1.2.[01]. I assume that it is usual for this kind of code be given a pointer
> to the function to be optimize and a bunch of parameters for both the
> algorithm and for the function. In order to be flexible the ideal would be
> to be able to write the function to be optimize as a R function. But...
>
> I got myself a copy of "S programming" (I got it from Amazon while it was at
> ~ $17.98) and I read chapter 6 (6.3). I also read "Writing R extensions".
> >From what I've read the authors basically suggest to forget that and the
> main reason they give is that the process can be "extremely slow".

You missed the point (p. 139): use the methods in section 6.4 these days.
They have a much smaller penalty.  You will need to supplement that by
`Writing R extensions' as the R internals have changed a bit.

> I even
> took a look at optim.c which does exactly what I would like to be able to do
> for this algorithm. I also got my hand on the Fortran code for L-BFGS-B from
> R. H. Byrd, P. Lu, J. Nocedal and C. Zhu (NETLIB) and they also have the
> same example program as R (the extended Rosenbrock function). As expected
> the Fortran program is a lot faster.

That is an extreme example (a trivial function, so the calling overhead
is large in comparison to everything else).

> The functions I would like to optimize will probably be a lot of work for
> both the algorithm and within the functions themselves. So this is kind of a
> dilemma.
>
> Is the only alternative to this situation is writing the function to be
> optimized as external code and setting up things such that the process can
> be initiated from an R function?

The optim approach (effectively that used by .Call) is likely to be pretty
efficient.  call_R is hard to use and now deprecated.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Tue Jan 23 13:45:25 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue, 23 Jan 2001 12:45:25 GMT
Subject: [R] Get current time in numeric form?
In-Reply-To: <Pine.GSO.4.31.0101230734190.17545-100000@auk.stats>
References: <Pine.GSO.4.31.0101230734190.17545-100000@auk.stats>
Message-ID: <3a6e7a91.85238528@smtp1.sympatico.ca>

As discussed in another thread, the date() function returns the
current date and time (possibly in the wrong time zone on Windows).
What I'm interested in getting is a value that I can do calculations
with, to support animations.  That is, I'd like to get the current
time, do a display, do some calculations, then get the current time
again and calculate the update to the display based on the time
difference.

Do I have to write my own external function, or is this already
available somewhere?  (I could parse date(), but that will only give
me 1 second resolution; I think the system clock will do better on
most systems.)

(I know about system.time(), but I don't think it's quite appropriate:
I don't just want to know how long the first display calculation took,
I need to know the time at the start of the next one.  I'm worried
that there will be slippage if I use system.time().)

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 23 14:24:38 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jan 2001 14:24:38 +0100
Subject: [R] Get current time in numeric form?
In-Reply-To: dmurdoch@pair.com's message of "Tue, 23 Jan 2001 12:45:25 GMT"
References: <Pine.GSO.4.31.0101230734190.17545-100000@auk.stats> <3a6e7a91.85238528@smtp1.sympatico.ca>
Message-ID: <x23deammeh.fsf@blueberry.kubism.ku.dk>

dmurdoch at pair.com (Duncan Murdoch) writes:

> As discussed in another thread, the date() function returns the
> current date and time (possibly in the wrong time zone on Windows).
> What I'm interested in getting is a value that I can do calculations
> with, to support animations.  That is, I'd like to get the current
> time, do a display, do some calculations, then get the current time
> again and calculate the update to the display based on the time
> difference.
> 
> Do I have to write my own external function, or is this already
> available somewhere?  (I could parse date(), but that will only give
> me 1 second resolution; I think the system clock will do better on
> most systems.)
> 
> (I know about system.time(), but I don't think it's quite appropriate:
> I don't just want to know how long the first display calculation took,
> I need to know the time at the start of the next one.  I'm worried
> that there will be slippage if I use system.time().)

Just to complete the discussion on date parsing,

unclass(as.POSIXct(strptime(date(),"%c"))) 

or

as.POSIXct(strptime(date(),"%c")) - structure(0,class="POSIXct")

gives the time in seconds since the beginning of time() (generally Jan
1 1970 0:00:00 GMT on Unixen).

However, I think proc.time()[3] is more relevant for your needs. 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Tue Jan 23 15:23:19 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Tue, 23 Jan 2001 21:23:19 +0700
Subject: No subject
Message-ID: <008701c08548$0ba97b90$e3da94cb@andrew8gpipq9q>

Hello All:

The recent R-1.2.1 was made available as an RPM for Linux Mandrake 7.2. Would it be possible for those who created this RPM also create an RPM for the earlier Mandrake 7.1? It would be greatly appreciated.

Thanks,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010123/e780aaeb/attachment.html

From ripley at stats.ox.ac.uk  Tue Jan 23 15:27:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 23 Jan 2001 14:27:34 +0000 (GMT)
Subject: [R] Get current time in numeric form?
Message-ID: <200101231427.OAA02401@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 23 Jan 2001 14:24:38 +0100
> 
[...]

> Just to complete the discussion on date parsing,
> 
> unclass(as.POSIXct(strptime(date(),"%c"))) 
> 
> or
> 
> as.POSIXct(strptime(date(),"%c")) - structure(0,class="POSIXct")
> 
> gives the time in seconds since the beginning of time() (generally Jan
> 1 1970 0:00:00 GMT on Unixen).

It is easier to use unclass(Sys.time()), which gives this directly.
The base is always `the epoch', as given by Peter.  Unless your clock
is set wrong (possible) that should be the correct value, the problem
being the conversions done in printing it.

> However, I think proc.time()[3] is more relevant for your needs. 

It is higher accuracy too (ca 0.01 secs).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From berthoud at belledonne.polycnrs-gre.fr  Tue Jan 23 16:02:18 2001
From: berthoud at belledonne.polycnrs-gre.fr (Francoise Berthoud)
Date: Tue, 23 Jan 2001 16:02:18 +0100
Subject: [R] using R source as a library (a) for our own C++ code
Message-ID: <3A6D9CFA.92B869A@belledonne.polycnrs-gre.fr>

Dear all,
I want to use the Fisher's exact test developped for R in my own C++
code. I try to do it and look for help but find nothing. I tried to
compile directly the file "fexact.c" but it call a lot of other
codes....

So I wondered if it is possible? If so how to do?

Many thanks for your answer.
Francoise Berthoud
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jan 23 16:09:42 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 23 Jan 2001 10:09:42 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OFD318EACC.2A0CEF6D-ON852569DD.00512BEA@rtp.epa.gov>


I think I understand what is happening with my system time problem (though
not why, exactly).  The problem is not in R, but, apparently, in an
interaction between my version of msvcrt.dll (version 6.10.8637.0) and the
implementations of the POSIX time functions in mingw32.  At the end of this
message is a little c program and batch file that demonstrate the problem.

This is the result of a run on my machine:

A:\>ttime

A:\>echo off
TZ=
tzname[0] tzname[1]
Before tzset():  PST PDT
After tzset():   Eastern Standard Time Eastern Daylight Time
Tue Jan 23 09:51:42 2001
TZ=Eastern Standard Time
tzname[0] tzname[1]
Before tzset():  PST PDT
After tzset():   Eas ter
Tue Jan 23 14:51:42 2001
TZ=EST+5
tzname[0] tzname[1]
Before tzset():  PST PDT
After tzset():   EST
Tue Jan 23 09:51:43 2001
A:\>


So, initially, TZ is not set, the value of tzname defaults to PST PDT (home
time zone of Redmond!), and after calling tzset(), tzname has reasonable
sounding values (though not exactly POSIXly correct).  The functions time()
and ctime() report the correct value.

Set TZ to the value of tzname[0], and now, after calling tzset(), tzname[0]
is "Eas" and tzname[1] is "ter", and the time reported is local time plus 5
hours (UTC time?).  If I set TZ to a value sanctioned by the libc
documentation for the POSIX time functions, tzname[0] is reasonable, and
again I get the correct time.

The problem seems to be that setting TZ to a value returned by tzname is
not guaranteed to result in a correct conversion to local time, at least
with my setup.  I've tried this on two pcs running Win95, and in all cases
the correct time is returned.  From Dr. Ripley's comment about a lack of
bug reports about this, I'd have to conclude that most Win98 versions work
as well
-----------------------------

testtime.c:

#include <stdlib.h>
#include <stdio.h>
#include <time.h>
#include <string.h>

int main(void)
{
  time_t t;
  printf("tzname[0] tzname[1]\n");
  printf("Before tzset():  %s %s\n",tzname[0],tzname[1]);
  tzset();
  printf("After tzset():   %s %s\n",tzname[0],tzname[1]);
  time(&t);
  printf("%s",ctime(&t));
  return(0);
}

ttime.bat:

echo off
set TZ=
echo TZ=%TZ%
testtime.exe
set TZ=Eastern Standard Time
echo TZ=%TZ%
testtime.exe
set TZ=EST+5
echo TZ=%TZ%
testtime.exe

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue Jan 23 21:11:23 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 23 Jan 2001 14:11:23 -0600
Subject: [R] RPM of R-1.2.1 for RH 7?
Message-ID: <OF62183E71.59D7AA40-ON862569DD.006C8053@mmm.com>


>> apjaworski at mmm.com said:
>> The gcc-2.96 compiler has actually been fixed a couple of months ago.
>> The current RPM version is 2.96-69.
>
> What about RH g77? It used to produce broken shared libraries which
segfaulted
> R, back in the official Gnu compiler collection in RH6.x series. Is that
fixed
> in gcc-"2.96" of RH 7? (That is, should I upgrade to RH7 although I first
> thought it is better to stay far away from RH7.0 and gcc-"2.96").
>
> cheers, jo
> --
> Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
> Ph. +358 8 5531526 (job), mobile +358 40 5136529
> email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/
>
Here is what the compiler update installed/updated on my machine.

libstdc++-2.96-69
gcc-c++-2.96-69
cpp-2.96-69
gcc-2.96-69
libstdc++-devel-2.96-69
gcc-objc-2.96-69
gcc-g77-2.96-69

The g77 is there but I do not know what the changes to it were.  All I know
is that on my Linux box (266MHz Pentium MMX, generic MB and video card)
this compiler compiled the whole R-1.2.1 distribution with no problems.
(This included the g77 compilations.)  All tests passed.  I could also
compile and check several packages.  Moreover, I could compile the Matrix
package with no problems, whereas I had problems with it using gcc-2.95.2

 As Prof. Ripley remarked, the gcc-2.96 compiler suite is not an official
release.   The 2.95.2 is recommended for production work.  The 2.96 version
is reported to have problems with C++ code but I could not verify that
these problems were fixed in the upgrade.  Again, I know that I can
compile, for example, the whole QT-2.2.2 tutorial without a single warning,
but this of course does not prove anything.

Cheers,

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 23 22:46:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jan 2001 22:46:00 +0100
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: apjaworski@mmm.com's message of "Tue, 23 Jan 2001 14:11:23 -0600"
References: <OF62183E71.59D7AA40-ON862569DD.006C8053@mmm.com>
Message-ID: <x2g0iaj61z.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

>  As Prof. Ripley remarked, the gcc-2.96 compiler suite is not an official
> release.   The 2.95.2 is recommended for production work.  The 2.96 version
> is reported to have problems with C++ code but I could not verify that
> these problems were fixed in the upgrade.  Again, I know that I can
> compile, for example, the whole QT-2.2.2 tutorial without a single warning,
> but this of course does not prove anything.

Yup. Even though Brian (and many otheres with him) is right that
RedHat pulled a terrible stunt with this compiler-"release", they seem
to have landed the thing on its feet, not least due to very bright
people like Jakub Jelinek who have been handling the reports of
compiler bugs we triggered entirely sensibly.

(I still remember the bug in the "cb" C beautifier program which could
turn 1e-6 into 1e - 6 which the complier parsed as 1 - 6 = -5.  I
reported that one to HP only to find it again years later in Solaris
based on the same codebase...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Tue Jan 23 23:37:31 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Tue, 23 Jan 2001 17:37:31 -0500
Subject: [R] Trying to avoid a loop
Message-ID: <3A6E07AB.236339AF@ers.usda.gov>

Hello:

Although I could write a loop to do the following, I would like
to avoid this as it would be expensive.  Does anyone know if
there is an R function that would make this faster?

Given a 3 dimensional array, say Z with dimensions {n,l,k},  I would
like to create a matrix Y with dimensions {n,l}, each element of which
contains the position {k} with the largest element that dimension.

Many thanks,
Michael Roberts



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jan 23 23:51:35 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 23 Jan 2001 14:51:35 -0800 (PST)
Subject: [R] Trying to avoid a loop
In-Reply-To: <3A6E07AB.236339AF@ers.usda.gov>
Message-ID: <Pine.GSO.4.21.0101231450470.28579-100000@atlas.biostat.washington.edu>

On Tue, 23 Jan 2001, Michael Roberts wrote:

> Hello:
> 
> Although I could write a loop to do the following, I would like
> to avoid this as it would be expensive.  Does anyone know if
> there is an R function that would make this faster?
> 
> Given a 3 dimensional array, say Z with dimensions {n,l,k},  I would
> like to create a matrix Y with dimensions {n,l}, each element of which
> contains the position {k} with the largest element that dimension.
> 

apply(z,c(1,2),max)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Tue Jan 23 23:57:20 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Tue, 23 Jan 2001 17:57:20 -0500
Subject: [R] Trying to avoid a loop
Message-ID: <sa6dc637.053@ers.usda.gov>


Wow.  That was a quick reply. Thanks...  but see below.

Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-694-5557

>>> Thomas Lumley <thomas at biostat.washington.edu> 01/23 5:51 PM >>>
On Tue, 23 Jan 2001, Michael Roberts wrote:

> Hello:
> 
> Although I could write a loop to do the following, I would like
> to avoid this as it would be expensive.  Does anyone know if
> there is an R function that would make this faster?
> 
> Given a 3 dimensional array, say Z with dimensions {n,l,k},  I
would
> like to create a matrix Y with dimensions {n,l}, each element of
which
> contains the position {k} with the largest element that dimension.
> 

apply(z,c(1,2),max)

This is close, but not exactly what I am looking for.  I don't want
the maximum value, but the position of the maximum value.  Is there
something like an "argmax" I could put in for max?

Thanks a lot
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Tue Jan 23 23:58:16 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Tue, 23 Jan 2001 23:58:16 +0100 (CET)
Subject: [R] Re: your mail
In-Reply-To: <008701c08548$0ba97b90$e3da94cb@andrew8gpipq9q>
Message-ID: <Pine.LNX.4.30.0101232349330.1190-100000@localhost.localdomain>

On Tue, 23 Jan 2001, Andrew Criswell wrote:

> Hello All:
>
> The recent R-1.2.1 was made available as an RPM for Linux Mandrake 7.2.
> Would it be possible for those who created this RPM also create an RPM
> for the earlier Mandrake 7.1? It would be greatly appreciated.

Unfortunately on my one and only personal PC I've upgraded to Mandrake 7.2
and I have no access to a Mandrake 7.1 PC anywhere.

Maybe someone else could do this - or you could do it yourself by building
it from Martyn's SRPM for red hat and changing the spec file (for it to
work on Mandrake you must change the C and F flags and change the name
of the groups - just compare the mandrake spec file to Martyn's original
one to spot the differences).

I would love the mandrake rpm to provide an appropriate menu entry on the
desktop too .... and why not an ESS 5.1.18 rpm ? But I will need a long
time to reach such proficiency ...

sorry !

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jan 24 00:05:10 2001
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 23 Jan 2001 15:05:10 -0800 (PST)
Subject: [R] Trying to avoid a loop
In-Reply-To: <sa6dc637.053@ers.usda.gov>
Message-ID: <Pine.GSO.4.21.0101231504080.28579-100000@atlas.biostat.washington.edu>

On Tue, 23 Jan 2001, Michael Roberts wrote:

> 
> Wow.  That was a quick reply. Thanks...  but see below.
> 
> Michael J. Roberts
> Resource Economics Division, PMT
> USDA-ERS
> 202-694-5557
> 
> >>> Thomas Lumley <thomas at biostat.washington.edu> 01/23 5:51 PM >>>
> On Tue, 23 Jan 2001, Michael Roberts wrote:
> 
> > Hello:
> > 
> > Although I could write a loop to do the following, I would like
> > to avoid this as it would be expensive.  Does anyone know if
> > there is an R function that would make this faster?
> > 
> > Given a 3 dimensional array, say Z with dimensions {n,l,k},  I
> would
> > like to create a matrix Y with dimensions {n,l}, each element of
> which
> > contains the position {k} with the largest element that dimension.
> > 
> 
> apply(z,c(1,2),max)
> 
> This is close, but not exactly what I am looking for.  I don't want
> the maximum value, but the position of the maximum value.  Is there
> something like an "argmax" I could put in for max?

apply(z,1:2, function(x) which(x==max(x)))

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jan 24 00:15:12 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 23 Jan 2001 18:15:12 -0500
Subject: [R] Trying to avoid a loop
In-Reply-To: <3A6E07AB.236339AF@ers.usda.gov> (message from Michael Roberts on
	Tue, 23 Jan 2001 17:37:31 -0500)
Message-ID: <200101232315.SAA42882@odds.stat.purdue.edu>

   Date: Tue, 23 Jan 2001 17:37:31 -0500
   From: Michael Roberts <mroberts at ers.usda.gov>
   X-Mailer: Mozilla 4.5 [en] (WinNT; U)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   Hello:

   Although I could write a loop to do the following, I would like
   to avoid this as it would be expensive.  Does anyone know if
   there is an R function that would make this faster?

   Given a 3 dimensional array, say Z with dimensions {n,l,k},  I would
   like to create a matrix Y with dimensions {n,l}, each element of which
   contains the position {k} with the largest element that dimension.

   Many thanks,
   Michael Roberts



   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



apply(z,c(1,2),function(x) rev(order(x)))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jan 24 09:01:20 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 24 Jan 2001 09:01:20 +0100
Subject: [R] Trying to avoid a loop -- which.max & max.col
In-Reply-To: <Pine.GSO.4.21.0101231504080.28579-100000@atlas.biostat.washington.edu>
References: <sa6dc637.053@ers.usda.gov>
	<Pine.GSO.4.21.0101231504080.28579-100000@atlas.biostat.washington.edu>
Message-ID: <14958.35792.177470.835055@gargle.gargle.HOWL>

>>>>> "TL" == Thomas Lumley <thomas at biostat.washington.edu> writes:

    TL> On Tue, 23 Jan 2001, Michael Roberts wrote:
    >>  Wow.  That was a quick reply. Thanks...  but see below.
    >> 
    >> Michael J. Roberts Resource Economics Division, PMT USDA-ERS
    >> 202-694-5557
    >> 
    >> >>> Thomas Lumley <thomas at biostat.washington.edu> 01/23 5:51 PM >>>
    >> On Tue, 23 Jan 2001, Michael Roberts wrote:
    >> 
    >> > Hello:
    >> > 
    >> > Although I could write a loop to do the following, I would like
    >> to avoid this as it would be expensive.  Does anyone know if there
    >> is an R function that would make this faster?
    >> > 
    >> > Given a 3 dimensional array, say Z with dimensions {n,l,k}, I
    >> would like to create a matrix Y with dimensions {n,l}, each
    >> element of which contains the position {k} with the largest
    >> element that dimension.
    >> > 
    >> 
    >> apply(z,c(1,2),max)
    >> 
    >> This is close, but not exactly what I am looking for.  I don't want
    >> the maximum value, but the position of the maximum value.  Is there
    >> something like an "argmax" I could put in for max?

    TL> apply(z,1:2, function(x) which(x==max(x)))

and exactly because the above is not quite efficient,
I had added the 
		which.max   (and which.min)
		~~~~~~~~~        ~~~~~~~~~
functions to R (1.1.0).
I.e.
	apply(z,1:2, which.max)

Note further that we have the (original MASS) function

     max.col

to work for matrices which again is more efficient than 
      apply(mat, 1, which.max)
{and not quite equivalent: 
 max.col breaks ties at random, which.max always gives the first max}.

Now, you can reshape your rank-3 array {n,l,k} into a matrix {n*l, k}
use  max.col() on that matrix and reshape the {n * l} vector to the desired
{n, l} matrix:

x <- rnorm(50000)

ar <- array(x, dim = c(25,40,50))
system.time(m1 <- apply(ar, 1:2, which.max))

system.time({
  mat <- ar
  dim(mat) <- c(25*40, 50)
  m2 <- matrix(max.col(mat), 25, 40)
})

all(m1 == m2) # these two are identical

## On my Linux machine, the 
## max.col() version uses 0.03 sec  compared to 0.10 for the apply() solution
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jan 24 11:01:32 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 24 Jan 2001 11:01:32 +0100 (CET)
Subject: [R] RPM of R-1.2.1 for RH 7?
In-Reply-To: <x2g0iaj61z.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.010124110132.plummer@iarc.fr>

On 23-Jan-01 Peter Dalgaard BSA wrote:
> 
> Yup. Even though Brian (and many otheres with him) is right that
> RedHat pulled a terrible stunt with this compiler-"release", they seem
> to have landed the thing on its feet, not least due to very bright
> people like Jakub Jelinek who have been handling the reports of
> compiler bugs we triggered entirely sensibly.

This is a little off-topic but I would like to say my piece.

I would like to echo Peter's praise of Jakub, who has not only been very
efficient in fixing these bugs but also remained polite and calm in the
face of considerable hostility.

Don't forget that a lot of ordinary users (myself included) had to track
down these bugs and submit short test programs that Jakub could work with.
Most, if not all, of these users would not normally choose to use such
bleeding-edge software, and there has consequently been a loss of good
will.  This is the heart of the problem: Red Hat broke one of the many
rules of etiquette in the open source community by releasing gcc 2.96.
Only the gcc development team is responsible for deciding when gcc is
ready for general use, and the same is true for all the other components
of a GNU/Linux system. If Red Hat don't respect this then they will lose
their user base.

If I may speculate on the reasons why Red Hat pulled this trick, I suspect
that they switched the development version of their distribution to gcc
2.96 thinking that it would have stabilized to gcc 3.0 by the time Red
Hat 7.0 was released. But they were wrong (Current estimate for gcc 3.0 is
end Q1 2001).  The need to generate some revenue from distribution sales
forced them to release 7.0, rather than wait.  This is pure speculation
of course, but it is a scenario that makes them appear rational, if
somewhat optimistic.

Finally I should point out that gcc 2.96 still doesn't compile R
correctly on alpha.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 13:34:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Jan 2001 12:34:48 +0000 (GMT)
Subject: [R] system time is 5 hours off in Windows
In-Reply-To: <OFD318EACC.2A0CEF6D-ON852569DD.00512BEA@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0101241228540.5305-100000@toucan.stats>

On Tue, 23 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> I think I understand what is happening with my system time problem (though
> not why, exactly).  The problem is not in R, but, apparently, in an
> interaction between my version of msvcrt.dll (version 6.10.8637.0) and the
> implementations of the POSIX time functions in mingw32.  At the end of this
> message is a little c program and batch file that demonstrate the problem.

No problem on my NT4 laptop (no surprise) nor on my Win98 Vaio
mini-notebook (which has msvcrt.dll version 6.00.8397.0).  Do you have
Win98SE?

I am looking for a workaround ....

Writing the original datetime code on Solaris was easy.  I read the docs,
programmed it up, it worked.  Then I tried Linux, and spent longer wroking
arounds its bugs.  Then I tried Windows, and spent as long again
working around its bugs ....   Since release several more bugs have
emerged under various OSes.

I now wish I had ignored the OS altogether, but writing time-zone
handling is a *very* messy task.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 24 14:11:57 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 24 Jan 2001 08:11:57 -0500
Subject: [R] Object orientation?
Message-ID: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>

Hi,

I wonder how one could implement the following idea in R if it's possible of
course. Say you have an object, lets call it MyO. I would like MyO to
provides both properties and methods, encapsulation in OOP terms I think. I
would like to access MyO properties (only) via functions like {get, let,
set}.

For example:

	MyO.get(PropertyName="default", [Index]); where Index defaults to current
item
	MyO.let(PropertyName="default", Value)
	MyO.set(PropertyName="default", Value, [Index]); where Index defaults to a
new item

Up to now there is no real problem as I could use the following construct
for these let and set methods or functions: MyO <-
MyO.let(PropertyName="ThisProperty", ThisValue).

But what I would like to be able to do in order to let or set (as above) one
of MyO properties for example is only use:
MyO.let(PropertyName="ThisProperty", ThisValue).

So my question is: Can this be done in a proper and acceptable R fashion?

I know I could use super assign (<<-) but I think some say it's best
avoided.

Thanks for your time.

Yves Gauvreau
B.E.F.P. Universit? du Qu?bec ? Montr?al
cyg at sympatico.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jan 24 14:38:02 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 24 Jan 2001 14:38:02 +0100 (CET)
Subject: [R] Object orientation?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>
Message-ID: <XFMail.010124143802.plummer@iarc.fr>

Have you looked at the scoping demo in source directory demos/language?
I think this will show you how to do it.
Martyn

On 24-Jan-01 Yves Gauvreau wrote:
> Hi,
> 
> I wonder how one could implement the following idea in R if it's possible of
> course. Say you have an object, lets call it MyO. I would like MyO to
> provides both properties and methods, encapsulation in OOP terms I think. I
> would like to access MyO properties (only) via functions like {get, let,
> set}.
> 
> For example:
> 
>       MyO.get(PropertyName="default", [Index]); where Index defaults to
current
> item
>       MyO.let(PropertyName="default", Value)
>       MyO.set(PropertyName="default", Value, [Index]); where Index defaults
to a
> new item
> 
> Up to now there is no real problem as I could use the following construct
> for these let and set methods or functions: MyO <-
> MyO.let(PropertyName="ThisProperty", ThisValue).
> 
> But what I would like to be able to do in order to let or set (as above) one
> of MyO properties for example is only use:
> MyO.let(PropertyName="ThisProperty", ThisValue).
> 
> So my question is: Can this be done in a proper and acceptable R fashion?
> 
> I know I could use super assign (<<-) but I think some say it's best
> avoided.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jan 24 14:52:55 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 24 Jan 2001 08:52:55 -0500
Subject: [R] problem with cov.* in package lqs
Message-ID: <51F9C42DA15CD311BD220008C707D81901D0D6EB@usrymx10.merck.com>

Hi everyone,

I ran into an error message when I use the cov.* (rob, mcd, mve) function in
the package lqs.  The data matrix is 761 rows by 661 columns.  I get the
following message:

	NA/NaN/Inf in foreign function call (arg 1)

Can anyone provide some insight on why this occurs, and better yet, how to
get around it?

R 1.2.0 compiled from source on Linux Mandrake 7.1, running on Compaq SP750
with 2 P3 Xeons.

TIA!

Regards,
Andy Liaw

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 24 14:59:42 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 24 Jan 2001 08:59:42 -0500
Subject: [R] R News
In-Reply-To: <XFMail.010124143802.plummer@iarc.fr>
Message-ID: <NEBBJKDJHEFCOOLFFAKKKEJKCAAA.cyg@sympatico.ca>

Hi

I must offer my most sincere congratulations for the excellent work of the
folks that produce the new R-News.

Felicitation.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

P.S. GSVIEW 2.9 on my NT system gave an error attempting to display page 8.
Could be a glitch caused be downloading or ...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Jan 24 15:03:19 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 24 Jan 2001 09:03:19 -0500
Subject: [R] system time is 5 hours off in Windows
Message-ID: <OF64BAAB51.93CEFB4D-ON852569DE.004CB60E@rtp.epa.gov>


Brian,
Look, your time is valuable (to yourself and the rest of the R community).
It is not difficult to set TZ in the environment to a POSIX acceptable
value, and it should not be so difficult to add some documentation to the
effect that, if date() gives wrong answers, TZ needs to be set on Windows.
It looks like this problem will not effect very many people.
By the way, no I do not have Win98SE.  Our IT people offered to upgrade me,
but so far, this is the only problem I've encountered (other than the usual
rebooting once a day or so, which I expect to always have to do when
running Windows 9x and descendents), and, "if it ain't broke, don't fix
it".  Thanks for your efforts.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                
                    Prof Brian                                                                                  
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                                
                    <ripley at stats        cc:     r-help at hypatia.math.ethz.ch                                    
                    .ox.ac.uk>           Subject:     Re: [R] system time is 5 hours off in Windows             
                                                                                                                
                    01/24/2001                                                                                  
                    07:34 AM                                                                                    
                                                                                                                
                                                                                                                



On Tue, 23 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> I think I understand what is happening with my system time problem
(though
> not why, exactly).  The problem is not in R, but, apparently, in an
> interaction between my version of msvcrt.dll (version 6.10.8637.0) and
the
> implementations of the POSIX time functions in mingw32.  At the end of
this
> message is a little c program and batch file that demonstrate the
problem.

No problem on my NT4 laptop (no surprise) nor on my Win98 Vaio
mini-notebook (which has msvcrt.dll version 6.00.8397.0).  Do you have
Win98SE?

I am looking for a workaround ....

Writing the original datetime code on Solaris was easy.  I read the docs,
programmed it up, it worked.  Then I tried Linux, and spent longer wroking
arounds its bugs.  Then I tried Windows, and spent as long again
working around its bugs ....   Since release several more bugs have
emerged under various OSes.

I now wish I had ignored the OS altogether, but writing time-zone
handling is a *very* messy task.

Brian

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 15:28:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Jan 2001 14:28:08 +0000 (GMT)
Subject: [R] system time is 5 hours off in Windows
In-Reply-To: <OF64BAAB51.93CEFB4D-ON852569DE.004CB60E@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0101241421290.5909-100000@toucan.stats>

On Wed, 24 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> Brian,
> Look, your time is valuable (to yourself and the rest of the R community).

But it was easy to fix this.  What I had not noticed is that Windows
has a non-standard putenv too, so if I just remove the Win32-specific code
it unsets TZ and works too.  (I just needed to change the way Sys.timesone
works.)  And that should work slightly better for everyone.

The changes will be in the pre-release of rw1022 tomorrow, if you would
like to take a look then:

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/

Brian

> It is not difficult to set TZ in the environment to a POSIX acceptable
> value, and it should not be so difficult to add some documentation to the
> effect that, if date() gives wrong answers, TZ needs to be set on Windows.
> It looks like this problem will not effect very many people.
> By the way, no I do not have Win98SE.  Our IT people offered to upgrade me,
> but so far, this is the only problem I've encountered (other than the usual
> rebooting once a day or so, which I expect to always have to do when
> running Windows 9x and descendents), and, "if it ain't broke, don't fix
> it".  Thanks for your efforts.
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
>
>
>                     Prof Brian
>                     Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA
>                     <ripley at stats        cc:     r-help at hypatia.math.ethz.ch
>                     .ox.ac.uk>           Subject:     Re: [R] system time is 5 hours off in Windows
>
>                     01/24/2001
>                     07:34 AM
>
>
>
>
>
> On Tue, 23 Jan 2001 Setzer.Woodrow at epamail.epa.gov wrote:
>
> >
> > I think I understand what is happening with my system time problem
> (though
> > not why, exactly).  The problem is not in R, but, apparently, in an
> > interaction between my version of msvcrt.dll (version 6.10.8637.0) and
> the
> > implementations of the POSIX time functions in mingw32.  At the end of
> this
> > message is a little c program and batch file that demonstrate the
> problem.
>
> No problem on my NT4 laptop (no surprise) nor on my Win98 Vaio
> mini-notebook (which has msvcrt.dll version 6.00.8397.0).  Do you have
> Win98SE?
>
> I am looking for a workaround ....
>
> Writing the original datetime code on Solaris was easy.  I read the docs,
> programmed it up, it worked.  Then I tried Linux, and spent longer wroking
> arounds its bugs.  Then I tried Windows, and spent as long again
> working around its bugs ....   Since release several more bugs have
> emerged under various OSes.
>
> I now wish I had ignored the OS altogether, but writing time-zone
> handling is a *very* messy task.
>
> Brian
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 15:32:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Jan 2001 14:32:55 +0000 (GMT)
Subject: [R] problem with cov.* in package lqs
In-Reply-To: <51F9C42DA15CD311BD220008C707D81901D0D6EB@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.31.0101241429350.5909-100000@toucan.stats>

On Wed, 24 Jan 2001, Liaw, Andy wrote:

> Hi everyone,
>
> I ran into an error message when I use the cov.* (rob, mcd, mve) function in
> the package lqs.  The data matrix is 761 rows by 661 columns.  I get the
> following message:
>
> 	NA/NaN/Inf in foreign function call (arg 1)
>
> Can anyone provide some insight on why this occurs, and better yet, how to
> get around it?

Not without more information.  But that is probably in

        z <- .C("mve_fitlots", as.double(x), as.integer(n), as.integer(p),

in which case it probably means some column has IQR 0.

Generally, you need to help yourself on these things.

1) traceback() tells you where the error is.
2) debug(cov.rob) and re-run the call, and step though a line at a time
In particular, look at divisor.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jan 24 16:14:51 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 24 Jan 2001 10:14:51 -0500
Subject: [R] Object orientation?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>
References: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>
Message-ID: <3a74ee30.67494892@fisher.stats.uwo.ca>

I expect you could do something like

 let(MyO, ThisProperty = ThisValue)

with a declaration for the function like this:

  let <- function(obj, ...)
  {
     properties <- list(...)
     assign( something, envir = something)
  }

and playing around with the sys.frame function, substitute, etc., to
fill in the gaps. I think the details are in the R extensions manual.
Look at 

 get("mode<-")

for an example of a function call constructed from the arguments, and
an assignment made in a parent frame.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 24 16:39:08 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2001 16:39:08 +0100
Subject: [R] Object orientation?
In-Reply-To: "Yves Gauvreau"'s message of "Wed, 24 Jan 2001 08:11:57 -0500"
References: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>
Message-ID: <x24ryp7yeb.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> Up to now there is no real problem as I could use the following construct
> for these let and set methods or functions: MyO <-
> MyO.let(PropertyName="ThisProperty", ThisValue).
> 
> But what I would like to be able to do in order to let or set (as above) one
> of MyO properties for example is only use:
> MyO.let(PropertyName="ThisProperty", ThisValue).
> 
> So my question is: Can this be done in a proper and acceptable R fashion?
> 
> I know I could use super assign (<<-) but I think some say it's best
> avoided.

Generally, that's when people try to turn R (or S) into a macro
language. There could be situations where it's the right thing...

However, for this situation, how about something like

class(MyO) <- "foo"
"$<-.foo" <- function(x, name, value)
{
   if ( !is.null(x$let) )
	x$let(PropertyName=name, value)
   else
	x[[name]] <- value
}

MyO$ThisProperty <- ThisValue

(but wouldn't x$let or MyO.let need to have some way of figuring out
which object is its owner??)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Wed Jan 24 16:42:14 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Wed, 24 Jan 2001 10:42:14 -0500
Subject: [R] R equivalent for "ms" in Splus
Message-ID: <sa6eb194.043@ers.usda.gov>

Hello,

Is there an R equivalent for "ms" in Splus?  Or should I just
adapt "nlm"?

Thanks!


Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-694-5557
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Wed Jan 24 17:12:11 2001
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Wed, 24 Jan 2001 17:12:11 +0100
Subject: NOT YET SOLVED: Re: [R] Error in postscript(....)
References: <3A6C327D.21A3E000@physik.uni-marburg.de> <x2bsszadtc.fsf@blueberry.kubism.ku.dk> <3A6C510C.53ED2C40@physik.uni-marburg.de>
Message-ID: <3A6EFEDB.25C2E263@physik.uni-marburg.de>

Is there a way to circumvent the problem or to solve it? I'd be very
glad to find a solution...
   M. Eger

> Peter Dalgaard BSA wrote:
> > > Error in postscript(file = paste(getpath(file), getfname(file),
> > > as.character(num),  :
> > >       X11 fatal IO error: please save work and shut down R
> >
> > Argh. I think I saw a version of this on a laptop I borrowed in early
> > December and forgot about it when I couldn't reproduce the effect on
> > my other systems. I had it debugged far enough to see that it was
> > sending the main R loop into a spin where it was seemingly receiving
> > an X event but never handling it.
> >
> > What did you do to deserve having your machine do this to you? Shutting
> > down an X11 window with "destroy" triggered the effect in my case. It
> > might be window manager dependent snce I've only ever seen it under
> > FVWM2.
> 
> Yes, I 've got FVWM2 installed, but - as far as I know - I did not
> destroy
> any window or caused a similar event - though I am not totally sure.
> The R process ran inside xemacs (21.2) with ESS on another debian
> machine (2.2) via secure shell.

-- 
+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 24 17:34:19 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 24 Jan 2001 08:34:19 -0800 (PST)
Subject: [R] Object orientation?
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKOEJJCAAA.cyg@sympatico.ca>
Message-ID: <Pine.A41.4.21.0101240830480.174212-100000@homer07.u.washington.edu>

On Wed, 24 Jan 2001, Yves Gauvreau wrote:
> Hi,
> 
> I wonder how one could implement the following idea in R if it's possible of
> course. Say you have an object, lets call it MyO. I would like MyO to
> provides both properties and methods, encapsulation in OOP terms I think. I
> would like to access MyO properties (only) via functions like {get, let,
> set}.
> 


> I know I could use super assign (<<-) but I think some say it's best
> avoided.

This is one of the acceptable uses of <<-, as shown in
demo(scoping).  <<- is useful for modifying a variable that you know
exists in the enclosing environment. Most of the problems come from people
trying to use it to modify things in a parent environment or in the global
environment.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jan 24 17:45:20 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 24 Jan 2001 11:45:20 -0500
Subject: [R] Object orientation?
In-Reply-To: <x24ryp7yeb.fsf@blueberry.kubism.ku.dk>
Message-ID: <NEBBJKDJHEFCOOLFFAKKKEJMCAAA.cyg@sympatico.ca>



> -----Message d'origine-----
> De : pd at blueberry.kubism.ku.dk [mailto:pd at blueberry.kubism.ku.dk]De la
> part de Peter Dalgaard BSA
> Envoye : Wednesday, January 24, 2001 10:39 AM
> A : Yves Gauvreau
> Cc : R-help at lists. R-project. org
> Objet : Re: [R] Object orientation?
>
>
> "Yves Gauvreau" <cyg at sympatico.ca> writes:
>
> > Up to now there is no real problem as I could use the following
> construct
> > for these let and set methods or functions: MyO <-
> > MyO.let(PropertyName="ThisProperty", ThisValue).
> >
> > But what I would like to be able to do in order to let or set
> (as above) one
> > of MyO properties for example is only use:
> > MyO.let(PropertyName="ThisProperty", ThisValue).
> >
> > So my question is: Can this be done in a proper and acceptable
> R fashion?
> >
> > I know I could use super assign (<<-) but I think some say it's best
> > avoided.
>
> Generally, that's when people try to turn R (or S) into a macro
> language. There could be situations where it's the right thing...

Could you be so kind as to explain what you mean by "turn R (or S) into a
macro language"

>
> However, for this situation, how about something like
>
> class(MyO) <- "foo"
> "$<-.foo" <- function(x, name, value)
> {
>    if ( !is.null(x$let) )
> 	x$let(PropertyName=name, value)
>    else
> 	x[[name]] <- value
> }
>
> MyO$ThisProperty <- ThisValue
>
> (but wouldn't x$let or MyO.let need to have some way of figuring out
> which object is its owner??)

Maybe the way I expressed the idea wasn't clear enough or the way I
expressed it wasn't, so I'll try again. I have a personal project where I
would like to use R for it's statistical and graphical capabilities as is
usually the case presumably.

The strategy I thought up would probably be better handled (or easier to
implement) with an object orientation kind of approach. I was able to
identify many objects, in the since of OOP terminology, which would also
need to be handle as a group or as a collection (or as some kind of a
list|data.frame in R terms). I would also require a few of these groups to
be imbedded in higher level object and so on. My first idea was to imbed R
in a program written in a language like C++ for example. Before I start
working in this manner, I thought of investigating the possibilities of
doing all of this in R instead. So I bought "S Programming" from Venables &
Ripley and read it along with other material. So in the process I kind of
ask myself the same thing as you ask me above and I've got no answer. Maybe
I should of ask what are the facilities in R to write or implement an
hierarchy of object (classes) working together as in C++ or as close as
possible to that?

Thanks

Yves

PS I take this occasion to thank all other who tried to help as well.

>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 24 17:58:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2001 17:58:02 +0100
Subject: NOT YET SOLVED: Re: [R] Error in postscript(....)
In-Reply-To: Marcus Eger's message of "Wed, 24 Jan 2001 17:12:11 +0100"
References: <3A6C327D.21A3E000@physik.uni-marburg.de> <x2bsszadtc.fsf@blueberry.kubism.ku.dk> <3A6C510C.53ED2C40@physik.uni-marburg.de> <3A6EFEDB.25C2E263@physik.uni-marburg.de>
Message-ID: <x2puhc7uqt.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Is there a way to circumvent the problem or to solve it? I'd be very
> glad to find a solution...
>    M. Eger

I'm still at a loss trying to explain how postscript() triggers an X11
error, but...

You might try to change (in devX11.c)

static int R_X11IOErr(Display *dsp)
{
    error("X11 fatal IO error: please save work and shut down R");
    return 0; /* but should never get here */
}

by inserting code that unregisters the X11 input handler, i.e.

int fd = ConnectionNumber(display);
        removeInputHandler(&R_InputHandlers,
                           getInputHandler(R_InputHandlers,fd));

and similarly in dataentry.c.

(BTW, I forget, did you try running under the debugger and see whether
it is the code in devX11.c or in dataentry.c that tickles this?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jan 24 18:01:38 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 24 Jan 2001 12:01:38 -0500
Subject: [R] problem with cov.* in package lqs
Message-ID: <51F9C42DA15CD311BD220008C707D81901D0D6EE@usrymx10.merck.com>

> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> On Wed, 24 Jan 2001, Liaw, Andy wrote:
> > I ran into an error message when I use the cov.* (rob, mcd, 
> mve) function in
> > the package lqs.  The data matrix is 761 rows by 661 
> columns.  I get the
> > following message:
> >
> > 	NA/NaN/Inf in foreign function call (arg 1)
> >
> > Can anyone provide some insight on why this occurs, and 
> better yet, how to
> > get around it?
> 
> Not without more information.  But that is probably in
> 
>         z <- .C("mve_fitlots", as.double(x), as.integer(n), 
> as.integer(p),
> 
> in which case it probably means some column has IQR 0.
> 
> Generally, you need to help yourself on these things.
> 
> 1) traceback() tells you where the error is.
> 2) debug(cov.rob) and re-run the call, and step though a line 
> at a time
> In particular, look at divisor.

Thanks a lot for the pointer.  There are five columns that had IQR=0!

BTW, traceback() didn't give any more information than what I provided.  It
simply said the call bombed inside cov.rob.  I'll have to give debug() a
try...

Regards,
Andy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Jan 24 18:15:03 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 24 Jan 2001 12:15:03 -0500
Subject: [R] FW: MathSoft Inc. Changes Name To Insightful Corporation
Message-ID: <5429125E11E4D411AF7300805FE603A80FE0A8@groexmbcr02.pfizer.com>

FYI.

-----Original Message-----
From: tbeck at insightful.com [mailto:tbeck at insightful.com] 
Sent: Tuesday, January 23, 2001 4:48 PM
To: undisclosed-recipients
Subject: MathSoft Inc. Changes Name To Insightful Corporation


RE: MathSoft Inc. Changes Name To Insightful Corporation

Dear Valued Customer:

Today, we are excited to announce that we have changed our name from
MathSoft 
Inc.(NASDAQ:MATH) to Insightful Corporation (NASDAQ:IFUL).The reason for the

name change is two-fold:

Our focus on advanced analytical software and services as our core business,
and 
Our decision to sell the MathSoft Engineering and Educational Products
Division 
(more information available at www.insightful.com/news

What does this mean to you? All good news, since our whole business is now
focused on 
statistical analysis and data mining. The products you use, S-PLUS? and
StatServer?, 
are the backbone of our technology solution. And we've got more to come,
designed to 
help you understand reality and anticipate the future. Our goal is to help
you develop 
insight and intelligence from your data, so you can make better decisions
every day.

The name change also provides an opportunity to introduce you to our
consulting 
services group, which delivers analytical expertise and development
resources to meet 
your specific needs. If you are looking for additional resources to develop
analytical 
applications, you can count on us to deliver results as fast as possible.
See 
www.insightful.com/consulting

We are very excited about the name change from MathSoft to Insightful
Corporation and 
our organizational focus on analytical software and consulting services.
Feel free to give 
us a call if you have questions or want to learn more about our software and

services.Finally, thank you for you continued support. We will continue
working as hard 
as ever to exceed your expectations.

Sincerely,
Thomas Beck
800-569-0123 x246
Insightful Corporation

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Wed Jan 24 18:18:06 2001
From: orp at intras.es (=?iso-8859-1?Q?Julio_G=F3mez?=)
Date: Wed, 24 Jan 2001 18:18:06 +0100
Subject: [R] sm.density
Message-ID: <000e01c08629$a5156dc0$0300a8c0@dominioides>

Hello to everyone

I've downloaded the version sm2 for smoothing methods and when I try the simple code

y <- rnorm(50)
sm.density(y, model = "Normal")

I get the error message

Error in if (any(omit)) { : missing value where logical needed

I'm running R 1.1.1. on windows 98

Anybody can help?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010124/a8b514b8/attachment.html

From gavin at stams.strath.ac.uk  Wed Jan 24 18:20:28 2001
From: gavin at stams.strath.ac.uk (Gavin McCabe)
Date: Wed, 24 Jan 2001 17:20:28 +0000
Subject: [R] CuSum & V-Mask
Message-ID: <5.0.2.1.0.20010124171421.00afe790@titan.stams.strath.ac.uk>

Good Afternoon,

I am currently writing a program to perform a cusum with v-mask and since I 
am experiencing a few problems, was wondering if there is something similar 
in existance?


Many thanks in advance,


Gavin McCabe



Gavin McCabe
University of Strathclyde
Department of Statistics & Modelling Science
Livingstone Tower (Rm. L7.47)
26 Richmond Street
GLASGOW
G1 1XH
U.K.

Tel.: +44 (0)141 548 3033
Fax: +44 (0)141 552 2079
E-mail: gavin at stams.strath.ac.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Jan 24 18:32:37 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 24 Jan 2001 18:32:37 +0100
Subject: [R] CuSum & V-Mask
References: <5.0.2.1.0.20010124171421.00afe790@titan.stams.strath.ac.uk>
Message-ID: <3A6F11B5.5EF2E02@ci.tuwien.ac.at>

Gavin McCabe wrote:
> 
> Good Afternoon,
> 
> I am currently writing a program to perform a cusum with v-mask and since I
> am experiencing a few problems, was wondering if there is something similar
> in existance?

I'm currently working on a package containing several structral change
tests. It includes the Standard and the OLS-based version of the CUSUM
test (with an option to plot the CUSUM graphs and the boundaries). I
could send you a preliminary version of the package.

Achim


---------------------------
Achim Zeileis

Institut f?r Statistik
Technische Universit?t Wien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Wed Jan 24 18:41:30 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Wed, 24 Jan 2001 18:41:30 +0100
Subject: [R] Re: R News Volume 1/1
References: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
Message-ID: <3A6F13CA.EAFCF13@univie.ac.at>

since i did not contribute,
i can do it:

i really want to tell you that i think the new newsletter is great
bot contentwise and "packaging"wise.

that will be of great help to the community!



Friedrich Leisch wrote:
> 
> We are pleased to announce the first volume of R News, the
> newsletter of the R project for statistical computing. The newsletter
> is available online as PDF file at
> 
>         http://cran.R-project.org/doc/Rnews
> 
> and will propagate to the CRAN mirrors within the next days.
> 
> R News will feature short to medium length articles covering topics
> that might be of interest to users or developers of R, including
> 
> * Changes in R: new features of the latest release
> * Changes on CRAN: new add-on packages, manuals, binary distributions,
>   mirrors, ...
> * Add-on packages: short introductions to or reviews of R extension packages
> * Programmer's Niche: nifty hints for programming in R (or S)
> * Applications: Examples of analyzing data with R
> 
> The newsletter as a medium for communication intends to fill the gap
> between the R mailing lists and scientific journals: Compared with
> emails it is more persistent, one can cite articles in the newsletter
> and because the newsletter is edited it has better quality control. On
> the other hand, when compared to scientific journals, it is faster,
> less formal, and last but not least focused on R.
> 
> As all of R, R News is a volunteer project. The editorial board
> currently consists of the R core development team plus Bill
> Venables.
> 
> We really hope you will enjoy reading R News!
> 
> For the editorial board,
> Fritz Leisch
> 
> --
> -------------------------------------------------------------------
>                         Friedrich  Leisch
> Institut f?r Statistik                     Tel: (+43 1) 58801 10715
> Technische Universit?t Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 18:52:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Jan 2001 17:52:37 +0000 (GMT)
Subject: [R] sm.density
In-Reply-To: <000e01c08629$a5156dc0$0300a8c0@dominioides>
Message-ID: <Pine.GSO.4.31.0101241747270.6929-100000@toucan.stats>

On Wed, 24 Jan 2001, [iso-8859-1] Julio Gmez wrote:

> Hello to everyone
>
> I've downloaded the version sm2 for smoothing methods and when I try the simple code
>
> y <- rnorm(50)
> sm.density(y, model = "Normal")
>
> I get the error message
>
> Error in if (any(omit)) { : missing value where logical needed
>
> I'm running R 1.1.1. on windows 98
>
> Anybody can help?
>

You can, by actually reading the ReadMe.  We no longer support
pre-compiled downloads for versions prior to rw1020.  sm2 is not supported
for 1.1.1, anyway.

You have also broken a rule in the ReadMe, so do make sure you go
and read it carefully.

Do reward all the hard work that goes into this by taking a modicum of
care over what you do with it.  And do upgrade your R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 24 19:02:08 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 24 Jan 2001 19:02:08 +0100
Subject: [R] sm.density
References: <000e01c08629$a5156dc0$0300a8c0@dominioides>
Message-ID: <3A6F18A0.2A40985E@statistik.uni-dortmund.de>

> Julio G?mez wrote:
> 
> Hello to everyone
> 
> I've downloaded the version sm2 for smoothing methods and when I try
> the simple code
> 
> y <- rnorm(50)
> sm.density(y, model = "Normal")
> 
> I get the error message
> 
> Error in if (any(omit)) { : missing value where logical needed
> 
> I'm running R 1.1.1. on windows 98

Works for me (R-1.2.1, NT4), so I think you have downloaded a binary
version of sm, which is compiled for R-1.2.0 or later.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Jan 24 19:02:35 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Wed, 24 Jan 2001 12:02:35 -0600 (CST)
Subject: [R] update.packages() doesn't work anymore
Message-ID: <XFMail.20010124120235.s-luppescu@uchicago.edu>

For some reason, update.packages(), one of the greatest features of R, doesn't
work anymore (perhaps since I upgraded to 1.2.1?). It downloads the new
packages, but when it tries to build them, I get this message:

WARNING: ignoring environment value of R_HOME
/var/tmp/R-base-root/usr/lib/R/bin/Rcmd:
/var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory

I save the downloaded packages and then do R INSTALL <pkgname> at the command
line, and it works fine. I tried setting lib=/usr/lib/R and also the R_HOME
environment var, but that didn't help. What am I doing wrong?

I'm running R 1.2.1 on RedHat Linux 7 (intel).
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
QOTD:
        I looked out my window, and saw Kyle Pettys' car upside down,
        then I thought 'One of us is in real trouble'.
                -- Davey Allison, on a 150 m.p.h. crash
>> Sent on 24-Jan-2001 at 11:58:45 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 24 19:16:33 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2001 19:16:33 +0100
Subject: [R] update.packages() doesn't work anymore
In-Reply-To: s-luppescu@uchicago.edu's message of "Wed, 24 Jan 2001 12:02:35 -0600 (CST)"
References: <XFMail.20010124120235.s-luppescu@uchicago.edu>
Message-ID: <x2hf2o7r3y.fsf@blueberry.kubism.ku.dk>

s-luppescu at uchicago.edu writes:

> For some reason, update.packages(), one of the greatest features of R, doesn't
> work anymore (perhaps since I upgraded to 1.2.1?). It downloads the new
> packages, but when it tries to build them, I get this message:
> 
> WARNING: ignoring environment value of R_HOME
> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd:
> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory
> 
> I save the downloaded packages and then do R INSTALL <pkgname> at the command
> line, and it works fine. I tried setting lib=/usr/lib/R and also the R_HOME
> environment var, but that didn't help. What am I doing wrong?

What does "R RHOME" tell you?

Is R_HOME set in the environment? If so, try removing it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Wed Jan 24 19:31:40 2001
From: orp at intras.es (=?iso-8859-1?Q?Julio_G=F3mez?=)
Date: Wed, 24 Jan 2001 19:31:40 +0100
Subject: [R] sm.density
Message-ID: <000e01c08633$f0147320$0300a8c0@dominioides>

I've upgraded to version 1.2.1 and now works fine

Thanks


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010124/59762f11/attachment.html

From ben at zoo.ufl.edu  Wed Jan 24 20:17:12 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 24 Jan 2001 14:17:12 -0500 (EST)
Subject: [R] R equivalent for "ms" in Splus
In-Reply-To: <sa6eb194.043@ers.usda.gov>
Message-ID: <Pine.LNX.4.30.0101241347360.5457-100000@bolker.zoo.ufl.edu>


  No; use nlm, or optim.
  The only things that ms() does for you that optim() doesn't already do
are (1) apply the min log-likelihood criterion to every data point, and
(2) return the output in an object of type "ms" that has some methods
written for it.  optim() seems more flexible in any case.
  I've written a few methods for a class I call "mle" to return
approximate variance-covariance matrices, print summaries, generate
confidence ellipses etc. -- all pretty messy but let me know if you're
interested.

  Ben


On Wed, 24 Jan 2001, Michael Roberts wrote:

> Hello,
>
> Is there an R equivalent for "ms" in Splus?  Or should I just
> adapt "nlm"?
>
> Thanks!
>
>
> Michael J. Roberts
> Resource Economics Division, PMT
> USDA-ERS
> 202-694-5557
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Jan 24 21:12:43 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 24 Jan 2001 14:12:43 -0600
Subject: [R] update.packages() doesn't work anymore
Message-ID: <OF0648E3E8.BC94FAF1-ON862569DE.006E2F66@mmm.com>


I have R-1.2.1 on a RH-7.0 system and update.packages() seems to work fine
form me.  I have to admit that I have never used it before.  Indeed it is a
great feature.  Now, I do not have R_HOME defined in my  regular bash
environment.  I simply installed R in my home directory and copied the R
shell script to $HOME/bin which is of course on my search path.

Here is what I got when I typed update.packages()

> update.packages()
--13:52:07--  http://cran.r-project.org:80/src/contrib/PACKAGES
           => `/tmp/fileR4839S238e1f29'
Connecting to cran.r-project.org:80... connected!
HTTP request sent, awaiting response... 200 OK
Length: 35,419 [text/plain]

    0K -> .......... .......... .......... ....                  [100%]

13:52:08 (46.49 KB/s) - `/tmp/fileR4839S238e1f29' saved [35419/35419]

Matrix :
 Version 0.3-7 in /home/andyj/stat/R-1.2.1/library
 Version 0.3-8 on CRAN
Update (y/N)?  y
--13:52:14--  http://cran.r-project.org:80/src/contrib/Matrix_0.3-8.tar.gz
           => `/tmp/RinstdirR4839S46e87ccd/Matrix_0.3-8.tar.gz'
Connecting to cran.r-project.org:80... connected!
HTTP request sent, awaiting response... 200 OK
Length: 98,349 [application/x-tar]

    0K -> .......... .......... .......... .......... .......... [ 52%]
   50K -> .......... .......... .......... .......... ......     [100%]

13:52:16 (67.26 KB/s) - `/tmp/RinstdirR4839S46e87ccd/Matrix_0.3-8.tar.gz'
saved
[98349/98349]

Installing source package `Matrix' ...
creating cache ./config.cache
checking for gcc... gcc

... compilation output snipped ....

 R
 data
 help
 >>> Building/Updating help pages for package `Matrix'
     Formats: text html latex example
 DONE (Matrix)

DONE (INSTALL)

Delete downloaded files (y/N)? y

Hope this helps,

Andy






s-luppescu at uchicago.edu on 01/24/2001 12:02:35 PM

Please respond to s-luppescu at uchicago.edu


To:   R Help List <r-help at stat.math.ethz.ch>
cc:    (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)
Subject:  [R] update.packages() doesn't work anymore



For some reason, update.packages(), one of the greatest features of R,
doesn't
work anymore (perhaps since I upgraded to 1.2.1?). It downloads the new
packages, but when it tries to build them, I get this message:

WARNING: ignoring environment value of R_HOME
/var/tmp/R-base-root/usr/lib/R/bin/Rcmd:
/var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory

I save the downloaded packages and then do R INSTALL <pkgname> at the
command
line, and it works fine. I tried setting lib=/usr/lib/R and also the R_HOME
environment var, but that didn't help. What am I doing wrong?

I'm running R 1.2.1 on RedHat Linux 7 (intel).
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
QOTD:
        I looked out my window, and saw Kyle Pettys' car upside down,
        then I thought 'One of us is in real trouble'.
                -- Davey Allison, on a 150 m.p.h. crash
>> Sent on 24-Jan-2001 at 11:58:45 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Jan 24 21:25:14 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Wed, 24 Jan 2001 14:25:14 -0600 (CST)
Subject: [R] update.packages() doesn't work anymore
In-Reply-To: <x2hf2o7r3y.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.20010124142514.s-luppescu@uchicago.edu>


On 24-Jan-2001 Peter Dalgaard BSA wrote:
> s-luppescu at uchicago.edu writes:
> 
>> For some reason, update.packages(), one of the greatest features of R,
>> doesn't
>> work anymore (perhaps since I upgraded to 1.2.1?). It downloads the new
>> packages, but when it tries to build them, I get this message:
>> 
>> WARNING: ignoring environment value of R_HOME
>> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd:
>> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory
>> 
>> I save the downloaded packages and then do R INSTALL <pkgname> at the
>> command
>> line, and it works fine. I tried setting lib=/usr/lib/R and also the R_HOME
>> environment var, but that didn't help. What am I doing wrong?
> 
> What does "R RHOME" tell you?

[root at musuko:~] <14:22:44> 994  ->> R RHOME
/usr/lib/R

> Is R_HOME set in the environment? If so, try removing it.

No. R_HOME is blank. I tried setting it to /usr/lib/R but had the same results.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
I've known him as a man, as an adolescent and as a child -- sometimes
on the same day.
>> Sent on 24-Jan-2001 at 14:23:39 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 21:57:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Jan 2001 20:57:52 +0000 (GMT)
Subject: [R] update.packages() doesn't work anymore
In-Reply-To: <XFMail.20010124142514.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.31.0101242051450.9572-100000@auk.stats>

On Wed, 24 Jan 2001 s-luppescu at uchicago.edu wrote:

>
> On 24-Jan-2001 Peter Dalgaard BSA wrote:
> > s-luppescu at uchicago.edu writes:
> >
> >> For some reason, update.packages(), one of the greatest features of R,
> >> doesn't
> >> work anymore (perhaps since I upgraded to 1.2.1?). It downloads the new
> >> packages, but when it tries to build them, I get this message:
> >>
> >> WARNING: ignoring environment value of R_HOME
> >> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd:
> >> /var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory
> >>
> >> I save the downloaded packages and then do R INSTALL <pkgname> at the
> >> command
> >> line, and it works fine. I tried setting lib=/usr/lib/R and also the R_HOME
> >> environment var, but that didn't help. What am I doing wrong?
> >
> > What does "R RHOME" tell you?
>
> [root at musuko:~] <14:22:44> 994  ->> R RHOME
> /usr/lib/R
>
> > Is R_HOME set in the environment? If so, try removing it.
>
> No. R_HOME is blank. I tried setting it to /usr/lib/R but had the same results.

Well, it is getting /var/tmp/R-base-root/usr/lib/R/bin/ from somewhere.

I think it is probably finding the wrong version of R.  What does

paste(file.path(R.home(), "bin", "R")

give?  That is what install.packages (called from update.packages)
tries to run.

And what does

Sys.getenv("R_HOME")

say?


> ______________________________________________________________________
> Stuart Luppescu         -=-=-  University of Chicago
> $(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
> http://www.consortium-chicago.org/people/sl.html
> http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
> ICQ #21172047  AIM: psycho7070
> I've known him as a man, as an adolescent and as a child -- sometimes
> on the same day.
> >> Sent on 24-Jan-2001 at 14:23:39 with xfmail
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Wed Jan 24 22:48:53 2001
From: mikem at salter-point.com (Michael M. Meyer)
Date: Wed, 24 Jan 2001 13:48:53 -0800
Subject: [R] update.packages() doesn't work anymore 
In-Reply-To: Message from Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> 
   of "24 Jan 2001 19:16:33 +0100." <x2hf2o7r3y.fsf@blueberry.kubism.ku.dk> 
Message-ID: <200101242148.NAA14201@home.salter-point.com>

install.packages want to run
   cmd <- paste(file.path(R.home(), "bin", "R")
(which on my system is /usr/lib/R/bin/R).

Unfortunately ( and this is R 1.2.1, installed from the rpm on CRAN) 
that shell script has /var/tmp/R-base-root/usr/lib/R hard coded as the 
R_Home.

Here is the diff between /usr/bin/R and /usrlib/R/bin/R.

->meyer<-:/usr/lib/R/bin> diff /usr/lib/R/bin/R /usr/bin/R
4c4
< R_HOME_DIR=/var/tmp/R-base-root/usr/lib/R
---
> R_HOME_DIR=/usr/lib/R

A "quick" fix is to cp /usr/bin/R to /usr/lib/R/bin/R

 --Mike


Mike Meyer, Salter Point Associates, Seattle WA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 24 23:22:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Jan 2001 22:22:26 +0000 (GMT)
Subject: [R] update.packages() doesn't work anymore 
In-Reply-To: <200101242213.OAA14436@home.salter-point.com>
Message-ID: <Pine.GSO.4.31.0101242220530.9789-100000@auk.stats>

On Wed, 24 Jan 2001, Michael M. Meyer wrote:

> Brian:
> I installed the 1.2.1 rpm and the scripts in /usr/lib/R/bin/R and
> /usr/bin/R are different.  The latter has the correct R_HOME, the former has
> the one with /var/tmp/...
>
> Either, some postprocessing of the rpm file is broken, or the rpm
> itself has a bad file in it.

Ah, RPMs. Very good point, and surely the answer.  Please send that to the
list.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 24 23:48:24 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2001 23:48:24 +0100
Subject: [R] update.packages() doesn't work anymore
In-Reply-To: "Michael M. Meyer"'s message of "Wed, 24 Jan 2001 13:48:53 -0800"
References: <200101242148.NAA14201@home.salter-point.com>
Message-ID: <x2vgr4k1mv.fsf@blueberry.kubism.ku.dk>

"Michael M. Meyer" <mikem at salter-point.com> writes:

> install.packages want to run
>    cmd <- paste(file.path(R.home(), "bin", "R")
> (which on my system is /usr/lib/R/bin/R).
> 
> Unfortunately ( and this is R 1.2.1, installed from the rpm on CRAN) 
> that shell script has /var/tmp/R-base-root/usr/lib/R hard coded as the 
> R_Home.
> 
> Here is the diff between /usr/bin/R and /usrlib/R/bin/R.
> 
> ->meyer<-:/usr/lib/R/bin> diff /usr/lib/R/bin/R /usr/bin/R
> 4c4
> < R_HOME_DIR=/var/tmp/R-base-root/usr/lib/R
> ---
> > R_HOME_DIR=/usr/lib/R
> 
> A "quick" fix is to cp /usr/bin/R to /usr/lib/R/bin/R
> 

Or fix the shell script (which amounts to the same). I think this
happens when the RPM build installs in an alternate dir and later
adjusts things for the final location. A regular install has:

[pd at blueberry pd]$ R RHOME
/usr/local/lib/R
[pd at blueberry pd]$ cat `R RHOME`/bin/R
#!/bin/sh
# Shell wrapper for R executable.

R_HOME_DIR=/usr/local/lib/R
if test -n "${R_HOME}" && \
...

and no output from
[pd at blueberry pd]$ diff `which R` `R RHOME`/bin/R

We changed the use of the R_HOME environment variable recently (I
forget whether it was for 1.2.0 or 1.2.1) on the premise that the
startup script is really version dependent and good things couldn't be
expected to come from calling an old R script with a new R_HOME
setting and that R itself ought to be able to keep track of its
installation directory...

The old way probably prevented a wrong R_HOME setting in
/usr/lib/R/bin/R from having any effect. (Anyone with an older R
installed from an RPM want to try "/usr/lib/R/bin/R RHOME"?) The fix
is probably to have Martyn modify the spec file and rebuild the RPM.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Jan 25 00:04:06 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 25 Jan 2001 12:04:06 +1300
Subject: [R] trouble with netCDF
Message-ID: <20010125120406.A4894@camille.indigoindustrial.co.nz>

Having trouble with netCDF since I upgraded to 1.2.1 (did directly
from 1.1.1).  Package was recompiled after the upgrade.

Symptoms:
open.netCDF returns cleanly, but read.netCDF causes R to segfault
and dump core.  The netCDF file is good - written with netCDF version
3.x libraries, and ncdump reports the contents of the file successfully.
I used to use this library, on this very file, when I was at 1.1.1.
Any suggestions?

Jason Turner

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:netCDF, package:RODBC, package:ts, package:local, package:ctest, Autoloads, package:base

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 25 00:14:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Jan 2001 23:14:07 +0000 (GMT)
Subject: [R] trouble with netCDF
In-Reply-To: <20010125120406.A4894@camille.indigoindustrial.co.nz>
Message-ID: <Pine.GSO.4.31.0101242308170.9789-100000@auk.stats>

On Thu, 25 Jan 2001, Jason Turner wrote:

> Having trouble with netCDF since I upgraded to 1.2.1 (did directly
> from 1.1.1).  Package was recompiled after the upgrade.

Didn't think to download current version?

netCDF_1.0-1 for R <= 1.1.1
netCDF_1.1   for R >= 1.2.0

Please do not send bug reports to R-bugs and R-help: the first
set goes to R-devel too which means that the active developers see it
twice (and are probably twice as likely to ignore it, as I will next time).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agusalon at eucmos.sim.ucm.es  Thu Jan 25 00:26:02 2001
From: agusalon at eucmos.sim.ucm.es (Agustin Alonso)
Date: Thu, 25 Jan 2001 00:26:02 +0100
Subject: [R] Re: R News Volume 1/1
References: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
Message-ID: <001701c0865d$076d2d90$32466093@agusalon>

Congratulations for this first volume of R News. It is a great iniciative,
and I hope that it will be a great success.

This is my second year using R for my classes in Econometrics, and I am
delighted with it.

Sincerely yours

Agustin Alonso
Prof. of Econometrics
Royal College "Escorial-Maria Cristina"
San Lorenzo del Escorial(Madrid) Spain



----- Original Message -----
From: "Friedrich Leisch" <Friedrich.Leisch at ci.tuwien.ac.at>
To: <r-announce at stat.math.ethz.ch>
Sent: Wednesday, January 24, 2001 11:59 AM
Subject: R News Volume 1/1


>
>
>
> We are pleased to announce the first volume of R News, the
> newsletter of the R project for statistical computing. The newsletter
> is available online as PDF file at
>
> http://cran.R-project.org/doc/Rnews
>
> and will propagate to the CRAN mirrors within the next days.
>
> R News will feature short to medium length articles covering topics
> that might be of interest to users or developers of R, including
>
> * Changes in R: new features of the latest release
> * Changes on CRAN: new add-on packages, manuals, binary distributions,
>   mirrors, ...
> * Add-on packages: short introductions to or reviews of R extension
packages
> * Programmer's Niche: nifty hints for programming in R (or S)
> * Applications: Examples of analyzing data with R
>
> The newsletter as a medium for communication intends to fill the gap
> between the R mailing lists and scientific journals: Compared with
> emails it is more persistent, one can cite articles in the newsletter
> and because the newsletter is edited it has better quality control. On
> the other hand, when compared to scientific journals, it is faster,
> less formal, and last but not least focused on R.
>
> As all of R, R News is a volunteer project. The editorial board
> currently consists of the R core development team plus Bill
> Venables.
>
> We really hope you will enjoy reading R News!
>
> For the editorial board,
> Fritz Leisch
>
> --
> -------------------------------------------------------------------
>                         Friedrich  Leisch
> Institut f?r Statistik                     Tel: (+43 1) 58801 10715
> Technische Universit?t Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-announce-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Wed Jan 24 20:09:23 2001
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Wed, 24 Jan 2001 20:09:23 +0100
Subject: [R] Re: R News Volume 1/1
In-Reply-To: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
References: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
Message-ID: <01012500203405.00669@ligarto>

Thanks a lot and congratulations to the editors and contributors!!! It is really
awesome.

Ramn

On Wed, 24 Jan 2001, Friedrich Leisch wrote:
> We are pleased to announce the first volume of R News, the
> newsletter of the R project for statistical computing. The newsletter
> is available online as PDF file at
> 
> 	http://cran.R-project.org/doc/Rnews
> 
> and will propagate to the CRAN mirrors within the next days.
> 
> R News will feature short to medium length articles covering topics
> that might be of interest to users or developers of R, including
> 
> * Changes in R: new features of the latest release 
> * Changes on CRAN: new add-on packages, manuals, binary distributions,
>   mirrors, ... 
> * Add-on packages: short introductions to or reviews of R extension packages 
> * Programmer's Niche: nifty hints for programming in R (or S) 
> * Applications: Examples of analyzing data with R 
> 
> The newsletter as a medium for communication intends to fill the gap
> between the R mailing lists and scientific journals: Compared with
> emails it is more persistent, one can cite articles in the newsletter
> and because the newsletter is edited it has better quality control. On
> the other hand, when compared to scientific journals, it is faster,
> less formal, and last but not least focused on R.
> 
> As all of R, R News is a volunteer project. The editorial board
> currently consists of the R core development team plus Bill
> Venables.
> 
> We really hope you will enjoy reading R News!
> 
> For the editorial board,
> Fritz Leisch
> 
> -- 
> -------------------------------------------------------------------
>                         Friedrich  Leisch 
> Institut fr Statistik                     Tel: (+43 1) 58801 10715
> Technische Universitt Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Ramn Daz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pjohnsto at mail.newcastle.edu.au  Thu Jan 25 02:49:01 2001
From: pjohnsto at mail.newcastle.edu.au (Pat Johnston)
Date: Thu, 25 Jan 2001 12:49:01 +1100
Subject: [R] fdim problems
Message-ID: <3A6F860D.6E5994D9@mail.newcastle.edu.au>


hi
I am trying to use the add-on package fdim to calculate fractal
dimesionality of some time series data.

I keep getting an error - trying to run simple example from the help
pages

Error in if (MaxDiff > Chi2) { : missing value where logical needed

when I set the debug option of the function slopeopt()

I get the following read out...

[1] "###############################"
[1] "X="
      [,1]      [,2]
 [1,]   -1 -1.000000
 [2,]   -2 -2.321928
 [3,]   -3 -3.459432
 [4,]   -4 -4.523562
 [5,]   -5 -5.491853
 [6,]   -6 -6.475733
 [7,]   -7 -7.426265
 [8,]   -8 -8.317413
 [9,]   -9 -8.982994
[1] "Chi2="
[1] 1.642374
[1] "Residual (Ej)="
[1] 0 0 0 0 0 0 0 0 0
[1] "(Ej-EM)*(1/ESS)*(Ej-EM)="
[1] NaN NaN NaN NaN NaN NaN NaN NaN NaN
[1] "MaxDiff="
[1] NaN

something is clearly amiss.

Has anyone encountered/solved this problem ?

Does anyone have any decent code for fractal analysis of time series ?

Any help would be much appreciated.


cheers,

Pat
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010125/a59376d8/attachment.html

From krcabrer at epm.net.co  Thu Jan 25 05:49:36 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Wed, 24 Jan 2001 23:49:36 -0500
Subject: [R] 4D graphic question
Message-ID: <3A6FB05F.A3E70C35@epm.net.co>

Hi R users!

I want to know how can I make a 3D surface with a 4th variable in
the surface represented by colors...

I mean how can I see a graphic like the 2D "image" in a 3D surface, but
being the surface other variable.

Thank you very much for your help.

Kenneth Cabrera
krcabrer at perseus.unalmed.edu.co
krcabrer at epm.net.co
UNIVERSIDAD NACIONAL DE COLOMBIA, SEDE MEDELLIN
ICNE (Instituto de Ciencias Naturales y Ecolog?a)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Thu Jan 25 01:40:21 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 24 Jan 2001 19:40:21 -0500 (EST)
Subject: [R] Re: R News Volume 1/1
In-Reply-To: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.SOL.3.91.1010124193305.3919A-100000@teer23.acpub.duke.edu>


Congratulations and many thanks to the R Core Development Team and Dr. 
Venables for an outstanding publication.  Like R itself, it is of very 
high caliber.  I know I, for won, will learn enormously from it and will 
enjoy doing it.

Thank you again and best wishes for future.

Rashid Nassar

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Jan 25 10:51:55 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 25 Jan 2001 09:51:55 +0000 (GMT)
Subject: [R] R-News
Message-ID: <Pine.LNX.4.10.10101250945390.5127-100000@localhost.localdomain>

I also would like to congratulate the editor and contributors on R-News.

Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
I found that when I tried to read the .pdf file with ghostview I got the
message:
Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
 in /Im1
Operand stack:
   2073   4957
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--
--nostringval--   2   %stopped_push   --nostringval--   --nostringval--
--nostringval--   false   1   %stopped_push   1   3   %oparray_pop
.runexec2   --nostringval--   --nostringval--   --nostringval--   2
%stopped_push   --nostringval--   --nostringval--   --nostringval--
--nostringval--   0   --nostringval--   %array_continue   --nostringval--
false   1   %stopped_push   --n
(the file wouldn't open)

Acrobat reader could open the file. When I tried to print, it
stopped at page 14. I subsequently found that pages 14 and 15 (Peter
Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
some weird postscript at this point. Or maybe ghostview/ghostscript is
buggy and I need a newer version (I have a nonpostscript printer and I
use ghostscript filter).

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Thu Jan 25 10:59:06 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Thu, 25 Jan 2001 09:59:06 +0000
Subject: [R] Re: R News Volume 1/1
References: <14958.46484.299690.315352@galadriel.ci.tuwien.ac.at>
Message-ID: <3A6FF8EA.16D38938@ipimar.pt>

Friedrich Leisch wrote:

> We are pleased to announce the first volume of R News, the
> newsletter of the R project for statistical computing. The newsletter
> is available online as PDF file at
>
>         http://cran.R-project.org/doc/Rnews
>
> and will propagate to the CRAN mirrors within the next days.
>
> R News will feature short to medium length articles covering topics
> that might be of interest to users or developers of R, including
>
> * Changes in R: new features of the latest release
> * Changes on CRAN: new add-on packages, manuals, binary distributions,
>   mirrors, ...
> * Add-on packages: short introductions to or reviews of R extension packages
> * Programmer's Niche: nifty hints for programming in R (or S)
> * Applications: Examples of analyzing data with R
>
> The newsletter as a medium for communication intends to fill the gap
> between the R mailing lists and scientific journals: Compared with
> emails it is more persistent, one can cite articles in the newsletter
> and because the newsletter is edited it has better quality control. On
> the other hand, when compared to scientific journals, it is faster,
> less formal, and last but not least focused on R.
>
> As all of R, R News is a volunteer project. The editorial board
> currently consists of the R core development team plus Bill
> Venables.
>
> We really hope you will enjoy reading R News!
>
> For the editorial board,
> Fritz Leisch
>
> --
> -------------------------------------------------------------------
>                         Friedrich  Leisch
> Institut f?r Statistik                     Tel: (+43 1) 58801 10715
> Technische Universit?t Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

I'm impressed with R News. It's a very good document and in a interesting format.

Thank you for this new "feature" of R-Project.

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 25 11:25:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jan 2001 11:25:02 +0100
Subject: [R] R-News
In-Reply-To: Bill Simpson's message of "Thu, 25 Jan 2001 09:51:55 +0000 (GMT)"
References: <Pine.LNX.4.10.10101250945390.5127-100000@localhost.localdomain>
Message-ID: <x2u26ox729.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> I also would like to congratulate the editor and contributors on R-News.
> 
> Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
> I found that when I tried to read the .pdf file with ghostview I got the
> message:
> Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
>  in /Im1
> Operand stack:
>    2073   4957
> Execution stack:
>    %interp_exit   .runexec2   --nostringval--   --nostringval--
> --nostringval--   2   %stopped_push   --nostringval--   --nostringval--
> --nostringval--   false   1   %stopped_push   1   3   %oparray_pop
> .runexec2   --nostringval--   --nostringval--   --nostringval--   2
> %stopped_push   --nostringval--   --nostringval--   --nostringval--
> --nostringval--   0   --nostringval--   %array_continue   --nostringval--
> false   1   %stopped_push   --n
> (the file wouldn't open)
> 
> Acrobat reader could open the file. When I tried to print, it
> stopped at page 14. I subsequently found that pages 14 and 15 (Peter
> Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
> some weird postscript at this point. Or maybe ghostview/ghostscript is
> buggy and I need a newer version (I have a nonpostscript printer and I
> use ghostscript filter).

My version of gv will show my article, but barfs at p8, 13, 16, 17,
and probably onwards (didn't check them all). That's been updated to
v.6.0 whereas stock RH6.2 is 5.50.

Xpdf reads it fine and printing it to a file from there also yield
something readable with gv, as does running pdftops on it. So probably
something is up with ghostscript and/or Acrobat. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Jan 25 11:26:38 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 25 Jan 2001 11:26:38 +0100
Subject: [R] R-News
In-Reply-To: <x2u26ox729.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.10.10101250945390.5127-100000@localhost.localdomain>
	<x2u26ox729.fsf@blueberry.kubism.ku.dk>
Message-ID: <14959.65374.482281.775620@mithrandir.hornik.net>

>>>>> Peter Dalgaard BSA writes:

> Bill Simpson <wsi at gcal.ac.uk> writes:
>> I also would like to congratulate the editor and contributors on R-News.
>> 
>> Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
>> I found that when I tried to read the .pdf file with ghostview I got the
>> message:
>> Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
>> in /Im1
>> Operand stack:
>> 2073   4957
>> Execution stack:
>> %interp_exit   .runexec2   --nostringval--   --nostringval--
>> --nostringval--   2   %stopped_push   --nostringval--   --nostringval--
>> --nostringval--   false   1   %stopped_push   1   3   %oparray_pop
>> .runexec2   --nostringval--   --nostringval--   --nostringval--   2
>> %stopped_push   --nostringval--   --nostringval--   --nostringval--
>> --nostringval--   0   --nostringval--   %array_continue   --nostringval--
>> false   1   %stopped_push   --n
>> (the file wouldn't open)
>> 
>> Acrobat reader could open the file. When I tried to print, it
>> stopped at page 14. I subsequently found that pages 14 and 15 (Peter
>> Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
>> some weird postscript at this point. Or maybe ghostview/ghostscript is
>> buggy and I need a newer version (I have a nonpostscript printer and I
>> use ghostscript filter).

> My version of gv will show my article, but barfs at p8, 13, 16, 17,
> and probably onwards (didn't check them all). That's been updated to
> v.6.0 whereas stock RH6.2 is 5.50.

> Xpdf reads it fine and printing it to a file from there also yield
> something readable with gv, as does running pdftops on it. So probably
> something is up with ghostscript and/or Acrobat.

We can confirm the problem with ghostscript, too.  We'll shortly put up
a .ps.gz file which works fine under ghostscript.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Jan 25 11:29:37 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 25 Jan 2001 11:29:37 +0100
Subject: [R] R-News
In-Reply-To: <x2u26ox729.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.10.10101250945390.5127-100000@localhost.localdomain>
	<x2u26ox729.fsf@blueberry.kubism.ku.dk>
Message-ID: <14960.17.177279.659822@galadriel.ci.tuwien.ac.at>


We have put a postscript file (from dvips) on the web page, this
version is viewable with ghostscript and hence gv (at least on our
systems where we observe the same problems as described below).

Hope this helps,
Fritz




>>>>> On 25 Jan 2001 11:25:02 +0100,
>>>>> Peter Dalgaard BSA (PDB) wrote:

  > Bill Simpson <wsi at gcal.ac.uk> writes:
  >> I also would like to congratulate the editor and contributors on R-News.
  >> 
  >> Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
  >> I found that when I tried to read the .pdf file with ghostview I got the
  >> message:
  >> Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
  >> in /Im1
  >> Operand stack:
  >> 2073   4957
  >> Execution stack:
  >> %interp_exit   .runexec2   --nostringval--   --nostringval--
  >> --nostringval--   2   %stopped_push   --nostringval--   --nostringval--
  >> --nostringval--   false   1   %stopped_push   1   3   %oparray_pop
  >> .runexec2   --nostringval--   --nostringval--   --nostringval--   2
  >> %stopped_push   --nostringval--   --nostringval--   --nostringval--
  >> --nostringval--   0   --nostringval--   %array_continue   --nostringval--
  >> false   1   %stopped_push   --n
  >> (the file wouldn't open)
  >> 
  >> Acrobat reader could open the file. When I tried to print, it
  >> stopped at page 14. I subsequently found that pages 14 and 15 (Peter
  >> Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
  >> some weird postscript at this point. Or maybe ghostview/ghostscript is
  >> buggy and I need a newer version (I have a nonpostscript printer and I
  >> use ghostscript filter).

  > My version of gv will show my article, but barfs at p8, 13, 16, 17,
  > and probably onwards (didn't check them all). That's been updated to
  > v.6.0 whereas stock RH6.2 is 5.50.

  > Xpdf reads it fine and printing it to a file from there also yield
  > something readable with gv, as does running pdftops on it. So probably
  > something is up with ghostscript and/or Acrobat. 

  > -- 
  >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
  >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
  >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
  > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
  > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
  > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
  > Send "info", "help", or "[un]subscribe"
  > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
  > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 25 12:23:47 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 25 Jan 2001 06:23:47 -0500
Subject: [R] R-News
In-Reply-To: <Pine.LNX.4.10.10101250945390.5127-100000@localhost.localdomain>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEKCCAAA.cyg@sympatico.ca>

I also had a few pages that where unreadable. (5~6)

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Bill Simpson
> Envoye : Thursday, January 25, 2001 4:52 AM
> A : r-help at stat.math.ethz.ch
> Objet : [R] R-News
>
>
> I also would like to congratulate the editor and contributors on R-News.
>
> Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
> I found that when I tried to read the .pdf file with ghostview I got the
> message:
> Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
>  in /Im1
> Operand stack:
>    2073   4957
> Execution stack:
>    %interp_exit   .runexec2   --nostringval--   --nostringval--
> --nostringval--   2   %stopped_push   --nostringval--   --nostringval--
> --nostringval--   false   1   %stopped_push   1   3   %oparray_pop
> .runexec2   --nostringval--   --nostringval--   --nostringval--   2
> %stopped_push   --nostringval--   --nostringval--   --nostringval--
> --nostringval--   0   --nostringval--   %array_continue   --nostringval--
> false   1   %stopped_push   --n
> (the file wouldn't open)
>
> Acrobat reader could open the file. When I tried to print, it
> stopped at page 14. I subsequently found that pages 14 and 15 (Peter
> Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
> some weird postscript at this point. Or maybe ghostview/ghostscript is
> buggy and I need a newer version (I have a nonpostscript printer and I
> use ghostscript filter).
>
> Bill
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jan 25 12:49:31 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 25 Jan 2001 06:49:31 -0500
Subject: [R] R-News
In-Reply-To: <14959.65374.482281.775620@mithrandir.hornik.net>
Message-ID: <NEBBJKDJHEFCOOLFFAKKEEKDCAAA.cyg@sympatico.ca>

I downloaded the ps.gz version just a minute ago and now I can read all the
pages with GSView 2.9 on NT.

Thanks again for the good work.

Yves Gauvreau
B.E.F.P. Universite du Quebec a Montreal
cyg at sympatico.ca

> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Kurt Hornik
> Envoye : Thursday, January 25, 2001 5:27 AM
> A : Peter Dalgaard BSA
> Cc : Bill Simpson; r-help at stat.math.ethz.ch
> Objet : Re: [R] R-News
>
>
> >>>>> Peter Dalgaard BSA writes:
>
> > Bill Simpson <wsi at gcal.ac.uk> writes:
> >> I also would like to congratulate the editor and contributors
> on R-News.
> >>
> >> Perhaps this problem is unique to my own set-up (Redhat 6.2 I
> think), but
> >> I found that when I tried to read the .pdf file with ghostview
> I got the
> >> message:
> >> Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
> >> in /Im1
> >> Operand stack:
> >> 2073   4957
> >> Execution stack:
> >> %interp_exit   .runexec2   --nostringval--   --nostringval--
> >> --nostringval--   2   %stopped_push   --nostringval--   --nostringval--
> >> --nostringval--   false   1   %stopped_push   1   3   %oparray_pop
> >> .runexec2   --nostringval--   --nostringval--   --nostringval--   2
> >> %stopped_push   --nostringval--   --nostringval--   --nostringval--
> >> --nostringval--   0   --nostringval--   %array_continue
> --nostringval--
> >> false   1   %stopped_push   --n
> >> (the file wouldn't open)
> >>
> >> Acrobat reader could open the file. When I tried to print, it
> >> stopped at page 14. I subsequently found that pages 14 and 15 (Peter
> >> Dalgaard's article) wouldn't print and the rest were OK.
> Perhaps there is
> >> some weird postscript at this point. Or maybe ghostview/ghostscript is
> >> buggy and I need a newer version (I have a nonpostscript printer and I
> >> use ghostscript filter).
>
> > My version of gv will show my article, but barfs at p8, 13, 16, 17,
> > and probably onwards (didn't check them all). That's been updated to
> > v.6.0 whereas stock RH6.2 is 5.50.
>
> > Xpdf reads it fine and printing it to a file from there also yield
> > something readable with gv, as does running pdftops on it. So probably
> > something is up with ghostscript and/or Acrobat.
>
> We can confirm the problem with ghostscript, too.  We'll shortly put up
> a .ps.gz file which works fine under ghostscript.
>
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Jan 25 12:46:15 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 25 Jan 2001 12:46:15 +0100
Subject: [R] R-News
Message-ID: <3.0.32.20010125124614.00912410@162.38.183.200>

At 09:51 25/01/01 +0000, Bill Simpson wrote:
>Perhaps this problem is unique to my own set-up (Redhat 6.2 I think), but
>I found that when I tried to read the .pdf file with ghostview I got the
>message:
>Error: /undefinedGNU Ghostscript: Unrecoverable error, exit code 1
> in /Im1
>Operand stack:
>   2073   4957
>Execution stack:
>   %interp_exit   .runexec2   --nostringval--   --nostringval--
>--nostringval--   2   %stopped_push   --nostringval--   --nostringval--
>--nostringval--   false   1   %stopped_push   1   3   %oparray_pop
>.runexec2   --nostringval--   --nostringval--   --nostringval--   2
>%stopped_push   --nostringval--   --nostringval--   --nostringval--
>--nostringval--   0   --nostringval--   %array_continue   --nostringval--
>false   1   %stopped_push   --n
>(the file wouldn't open)
>
>Acrobat reader could open the file. When I tried to print, it
>stopped at page 14. I subsequently found that pages 14 and 15 (Peter
>Dalgaard's article) wouldn't print and the rest were OK. Perhaps there is
>some weird postscript at this point. Or maybe ghostview/ghostscript is
>buggy and I need a newer version (I have a nonpostscript printer and I
>use ghostscript filter).
>
>Bill

I also had a problem with the original PDF file: unable to view or print
p.13 with GSview 2.9 under WinNT 4.0. I managed to open it with Acrobat and
save it under PS which opens and prints OK with GSview.

Congratulations for making R News: I find it an excellent way to
disseminate knowledge.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jan 25 14:10:58 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 25 Jan 2001 14:10:58 +0100 (CET)
Subject: [R] update.packages() doesn't work anymore
In-Reply-To: <x2vgr4k1mv.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.010125141058.plummer@iarc.fr>

Mea culpa.  Updated RPMS for Red Hat 6.2 and 7.0 (Intel)
which fix this problem are now up at

ftp://ftp-fis.iarc.fr/pub/R

and will be mirrored to CRAN shortly.
Martyn.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Jan 25 14:16:55 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 25 Jan 2001 13:16:55 +0000 (GMT)
Subject: [R] R-News
In-Reply-To: <14960.17.177279.659822@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.10.10101251316110.5373-100000@localhost.localdomain>

Thanks Fritz for putting up the ps version.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 25 00:14:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Jan 2001 23:14:07 +0000 (GMT)
Subject: [R] This mail was found after problem with mailserver Jan 25th - postmaster@hh.umu.se
In-Reply-To: <20010125120406.A4894@camille.indigoindustrial.co.nz>
Message-ID: <Pine.GSO.4.31.0101242308170.9789-100000@auk.stats>

On Thu, 25 Jan 2001, Jason Turner wrote:

> Having trouble with netCDF since I upgraded to 1.2.1 (did directly
> from 1.1.1).  Package was recompiled after the upgrade.

Didn't think to download current version?

netCDF_1.0-1 for R <= 1.1.1
netCDF_1.1   for R >= 1.2.0

Please do not send bug reports to R-bugs and R-help: the first
set goes to R-devel too which means that the active developers see it
twice (and are probably twice as likely to ignore it, as I will next time).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Jan 25 05:49:36 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Wed, 24 Jan 2001 23:49:36 -0500
Subject: [R] This mail was found after problem with mailserver Jan 25th - postmaster@hh.umu.se
Message-ID: <3A6FB05F.A3E70C35@epm.net.co>

Hi R users!

I want to know how can I make a 3D surface with a 4th variable in
the surface represented by colors...

I mean how can I see a graphic like the 2D "image" in a 3D surface, but
being the surface other variable.

Thank you very much for your help.

Kenneth Cabrera
krcabrer at perseus.unalmed.edu.co
krcabrer at epm.net.co
UNIVERSIDAD NACIONAL DE COLOMBIA, SEDE MEDELLIN
ICNE (Instituto de Ciencias Naturales y Ecolog?a)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Jan 25 00:04:06 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 25 Jan 2001 12:04:06 +1300
Subject: [R] This mail was found after problem with mailserver Jan 25th - postmaster@hh.umu.se
Message-ID: <20010125120406.A4894@camille.indigoindustrial.co.nz>

Having trouble with netCDF since I upgraded to 1.2.1 (did directly
from 1.1.1).  Package was recompiled after the upgrade.

Symptoms:
open.netCDF returns cleanly, but read.netCDF causes R to segfault
and dump core.  The netCDF file is good - written with netCDF version
3.x libraries, and ncdump reports the contents of the file successfully.
I used to use this library, on this very file, when I was at 1.1.1.
Any suggestions?

Jason Turner

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:netCDF, package:RODBC, package:ts, package:local, package:ctest, Autoloads, package:base

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Thu Jan 25 19:46:34 2001
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Thu, 25 Jan 2001 11:46:34 -0700
Subject: [R] rcmd build
Message-ID: <NEBBIAGCDACDCIIENIIHMEJDCPAA.stockton@neptuneandco.com>

I'm having trouble building a package (named reap) under R1.2.1 Windows2000. I
successfully ran
d:\R\src\library rcmd check reap
but when I run
d:\R\src\library rcmd build reap
I get the message:
 Please set TMPDIR to a valid temporary directory

I've tried setting TMPDIR to d:/temp via:
1) My Computer properties environment variables,
2) at the command line,
3) in Rprofile, and
4) in .Renviron

with no success. In looking at the Perl script "build" the error seems to come
from:

if($WINDOWS){
    $tmpdir = R_getenv("TMPDIR", "/TEMP");
    die "Please set TMPDIR to a valid temporary directory\n"
	unless (-d $TMPDIR);
    $R_exe = "Rterm.exe";
    $MAKE = "make";
    @knownoptions = ("help|h", "version|v", "binary", "docs:s",
		    "use-zip", "use-zip-help", "use-zip-data");
}

I've read "Writing R Extension" and the various FAQs and help but haven't be
able to figure out what R_getenv() is doing.
Thanks for your help!

Tom
___________________________________________________________
Tom Stockton                   voice: (505) 662-0707 ext 17
Neptune and Company                     fax: (505) 662-0500
1505 15th St.  Suite B            stockton at neptuneandco.com
Los Alamos, NM  87544-3063               LANL mailstop M969
                www.neptuneandco.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 25 19:54:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 25 Jan 2001 18:54:10 +0000 (GMT)
Subject: [R] rcmd build
In-Reply-To: <NEBBIAGCDACDCIIENIIHMEJDCPAA.stockton@neptuneandco.com>
Message-ID: <Pine.GSO.4.31.0101251852540.12437-100000@auk.stats>

On Thu, 25 Jan 2001, Thomas Stockton wrote:

> I'm having trouble building a package (named reap) under R1.2.1 Windows2000. I
> successfully ran
> d:\R\src\library rcmd check reap
> but when I run
> d:\R\src\library rcmd build reap
> I get the message:
>  Please set TMPDIR to a valid temporary directory

This is a Perl bug on Windows 2000.  Replace

       unless (-d $TMPDIR);

by

       unless (-e $tmpdir);

and the same in check.  Strangely, the very same Perl code works in about
check and about 10 other places and fails in just this one, and it only
fails on Windows 2000, not NT4 nor 98.

Sorry, but if perfectly correct Perl fails on your OS, you are in trouble
and we can't anticipate it.

John Fox, who reported this earlier, confirmed that the above workaround
worked for him.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alistair.Merrifield at med.govt.nz  Thu Jan 25 23:47:03 2001
From: Alistair.Merrifield at med.govt.nz (Alistair Merrifield)
Date: Fri, 26 Jan 2001 11:47:03 +1300
Subject: [R] legends and fonts
Message-ID: <EDFD920FC713D31186FF0008C7731C0E02977B9A@wnant21.moc.govt.nz>

Dear all,

1)	I am a recent convert from S+ to R. I was fiddling around with
legends on a plot when I noticed that the S+ command "key" is absent in R.
What I want to do is having used a point for one variable in a plot and used
a line for another, put a legend in the plot so that the point is by the 1st
variable name and the line is next to the second variable name. I used to
use the "key" command in S as it had the arguement "lines" which allowed me
do to exactly that. In the (S+) example below, I have explicitly specified
that points are to be used for both variables in the legend:

key(160, -35, lines = list(type = c("p", "p")), text = list(c("Earthquakes",
"Foreshocks")), 
				  border = 0, pch = c(18, 16), cex =  0.9,
col = c(7, 5))

I was curious as to whether there was an easy (or similar) way to to this in
R? I have got around the problem for the time being by defining the point
character to use in the plot. An example is provided below:

windows()
plot(Time,exp(Response),ylab="Petrol Demand (PJ)",pch="*")
lines(Time,exp(fitted.values(TotVehc.Mod)),lwd=2,col="red")
xcoord<-par()$usr[1]
ycoord<-par()$usr[4]
legend(xcoord,ycoord,c("Petrol Consumption","Fitted Petrol Consumption"),
		lty=c(0,1),pch=c("*"," "),col=c(1,"red"),bty="n",lwd=2)

2)	Whilst I am at it, I wonder if anyone has created any additional
fonts for graphics in R? I have been using the "postscript" command to
produce graphs. The range of fonts are fine by me, but the "powers that be"
expressed an interest in using Verdana font (a Windows true type font). I
have used the Helvetica font which is close enough for me (and them), but I
was curious as to any other fonts (in particular Verdana) that are
available.

Cheers, Al.

(I am using R 1.2.1, regrettably the Windows version).

Al Merrifield

Energy Analyst
Energy Modelling & Statistics
Ministry of Economic Development
PO Box 1473
Wellington
NEW ZEALAND

Phone: (04) 470 2338
Fax:     (04) 473 9930
E-mail: Alistair.Merrifield at med.govt.nz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Fri Jan 26 05:45:39 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Thu, 25 Jan 2001 22:45:39 -0600 (CST)
Subject: [R] help() cannot find help files 
Message-ID: <Pine.GSO.4.05.10101252235580.11254-100000@dahlia.la.utexas.edu>

R-users--
I built R in redhat 5.2. I can't get the text-based help tp work (html
help is OK). The message I get is

> help()
Error in help("help", package = "base", lib.loc = .Library) :
        The help file for `help' is missing  

I think that these files  are in the .R/library directory. How can I
get them to work. Note: make info did not work as I dont have version 4.

Cheers,
Dan
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology  
University of Texas at Austin                    


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 26 08:23:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 26 Jan 2001 07:23:48 +0000 (GMT)
Subject: [R] legends and fonts
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02977B9A@wnant21.moc.govt.nz>
Message-ID: <Pine.GSO.4.31.0101260717230.13307-100000@auk.stats>

On Fri, 26 Jan 2001, Alistair Merrifield wrote:

> 2)	Whilst I am at it, I wonder if anyone has created any additional
> fonts for graphics in R? I have been using the "postscript" command to
> produce graphs. The range of fonts are fine by me, but the "powers that be"
> expressed an interest in using Verdana font (a Windows true type font). I
> have used the Helvetica font which is close enough for me (and them), but I
> was curious as to any other fonts (in particular Verdana) that are
> available.

Well, you can only use postscript fonts in postscript().  But as the help
page says, you can use any postscript font family for which you have the
font metric files and downloadable versions of the font.  You don't
`create fonts for graphics', you use existing ones (unless you are a
multi-talented font designer, and some of feel even Don Knuth exceeed his
limits there).

> (I am using R 1.2.1, regrettably the Windows version).

Eh?  In that`regretable' version you have many more choices, including
using Verdana via e.g. win.printer().

I have no idea if Verdana exists as a postscript font, but in general
True Type fonts can be converted if their licences permit.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Fri Jan 26 12:54:21 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Fri, 26 Jan 2001 12:54:21 +0100 (MET)
Subject: [R] cancor
Message-ID: <Pine.SO4.4.10.10101261159420.10605-100000@ufobi7.uni-forst.gwdg.de>

Dear R's

I have a question about the output from cancor.
Using a matrix x of dimension (nxp1) and a matrix y of dimension
(nxp2) with p1 < p2
I get p1 canonical coefficients (as expected) 
and a p1xp1 matrix of x-coefficients (as expected)
and a p2xp2 matrix of y-coefficients.
Here I would have expected a p1xp2 matrix
Aren't the y-coefficients the coefficients of the p1 linear combinations?
Could anyone explain the p2xp2 matrix entries?

Thanks in advance for some guidance


***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics 
University of Goettingen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Fri Jan 26 15:14:44 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Fri, 26 Jan 2001 15:14:44 +0100
Subject: [R] observed power
Message-ID: <002201c087a2$5517aac0$cd981291@psy.uva.nl>

Is there a way to obtain the observed power of an aov()?

I perform an aov with one between and one within factor, and would like to
know the observed power of the tests, both for the main effect and the
interaction. I found the package 'hpower', but sense there is a more
convenient possibility. Is there?

thanks

Mark M. Span

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stranda at cofc.edu  Fri Jan 26 15:13:42 2001
From: stranda at cofc.edu (Allan Strand)
Date: 26 Jan 2001 09:13:42 -0500
Subject: [R] converting a multi-dimentional array into a data frame
In-Reply-To: Jens Nieschulze's message of "Fri, 26 Jan 2001 12:54:21 +0100 (MET)"
Message-ID: <86u26mz9ih.fsf@linum.cofc.edu>

Hi all,

I've got a question that seems like it is probably easy to solve in R.
Unfortunately, I can't seem to wrap my mind around it.  

I am trying to construct a data frame with indicator variables for
various combinations of factors.  I generate a multidimensional array
using table on the factors.  This results in a contingency table that
I want to change into a dataframe where factors are equal to dimnames
from the array, and the levels of each dimension are levels of the
factors in the dataframe. 

If you are curious,
The details are this:

I have an input dataset which consists of the following
population-genetic data:

population locus individual chromosome allele
1          1     1          0          103
1          1     1          1          105
          .     .          .           .
.          .     .          .           .

So the top two rows code for a genotype at locus 1 for an individual
from population 1.  This individual is heterozygous with alleles 103
and 105.  I use table to convert this data into a locus x pop x ind x
chromosome x allele array.  The cells then take values of 0/1
depending if a particular combination exists.  This is the information
I would like to "flatten out".  It then is possible to use an anova
framework to analyze these 0/1 indicators to make population-genetic
inferences (1).  I included these details, because I am happy to
entertain suggestions for a simpler, less memory hogging approach to
the larger problem rather than the more specific question I asked
above.

Thanks,
a.

(1) Weir. 1996. Genetic Data Analysis.  Sinauer.


-- 
Allan Strand,   Biology    http://linum.cofc.edu
College of Charleston      Ph. (843) 953-8085
Charleston, SC 29424       Fax (843) 953-5453

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 26 16:18:15 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 26 Jan 2001 16:18:15 +0100 (MET)
Subject: [R] help() cannot find help files
In-Reply-To: <Pine.GSO.4.05.10101252235580.11254-100000@dahlia.la.utexas.edu> from "Daniel A. Powers" at Jan 25, 2001 10:45:39 PM
Message-ID: <200101261518.QAA19560@alpha.luc.ac.be>


> 
> R-users--
> I built R in redhat 5.2. I can't get the text-based help tp work (html
> help is OK). The message I get is

I have built R1.2.1 on Intel RH5.2 with no problem. Did you do make
or make R. If the latter, you also have to do make help as the message
at the end tells you. Jim

> 
> > help()
> Error in help("help", package = "base", lib.loc = .Library) :
>         The help file for `help' is missing  
> 
> I think that these files  are in the .R/library directory. How can I
> get them to work. Note: make info did not work as I dont have version 4.
> 
> Cheers,
> Dan
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> Dan Powers
> Associate Professor, Sociology  
> University of Texas at Austin                    
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 26 16:29:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 2001 16:29:03 +0100
Subject: [R] observed power
In-Reply-To: "Mark M. Span"'s message of "Fri, 26 Jan 2001 15:14:44 +0100"
References: <002201c087a2$5517aac0$cd981291@psy.uva.nl>
Message-ID: <x2k87i49j4.fsf@blueberry.kubism.ku.dk>

"Mark M. Span" <span at psy.uva.nl> writes:

> Is there a way to obtain the observed power of an aov()?
> 
> I perform an aov with one between and one within factor, and would like to
> know the observed power of the tests, both for the main effect and the
> interaction. I found the package 'hpower', but sense there is a more
> convenient possibility. Is there?
> 
> thanks
> 
> Mark M. Span

What's "observed power"? If you mean the item that SPSS has by that
name, I think you first have to convince us that that is a sensible
thing to calculate...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Fri Jan 26 18:42:02 2001
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 26 Jan 2001 17:42:02 +0000
Subject: [R] R News
In-Reply-To: "Yves Gauvreau"'s message of "Wed, 24 Jan 2001 08:59:42 -0500"
References: <NEBBJKDJHEFCOOLFFAKKKEJKCAAA.cyg@sympatico.ca>
Message-ID: <szid7daus5x.fsf@stats.mth.uea.ac.uk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> P.S. GSVIEW 2.9 on my NT system gave an error attempting to display page 8.
> Could be a glitch caused be downloading or ...

No, I can report occasional errors and partial page displays on gv
too, built on Ghostscript 5.10.
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Fri Jan 26 18:54:34 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Fri, 26 Jan 2001 09:54:34 -0800 (PST)
Subject: [R] append data
Message-ID: <20010126175434.7957.qmail@web11502.mail.yahoo.com>

Hi,

I read a dataset into R. It looks like this:

> rawlist
x1      x2       x3
2        12        64
5        12        42
5         9        42
18        14       535
26        23       751

Now I want to append some values of zero to let it
look like this:

x1      x2       x3
2        12        64
5        12        42
5         9        42
18        14       535
26        23       751
0          0         0
0          0         0
0          0         0
0          0         0

How to do this?

Thanks,
Yu-Ling Wu


__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - Buy the things you want at great prices. 
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 26 20:39:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jan 2001 20:39:35 +0100
Subject: [R] append data
In-Reply-To: Yu-Ling Wu's message of "Fri, 26 Jan 2001 09:54:34 -0800 (PST)"
References: <20010126175434.7957.qmail@web11502.mail.yahoo.com>
Message-ID: <x2bssuf6h4.fsf@blueberry.kubism.ku.dk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:

> Hi,
> 
> I read a dataset into R. It looks like this:
> 
> > rawlist
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
> 
> Now I want to append some values of zero to let it
> look like this:
> 
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
> 0          0         0
> 0          0         0
> 0          0         0
> 0          0         0
> 
> How to do this?

Something along the lines of

zeros <- as.data.frame(matrix(0,4,3))
names(zeros) <- names(rawlist)
rbind(rawlist, zeros)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jan 26 20:52:07 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 26 Jan 2001 14:52:07 -0500 (EST)
Subject: [R] append data
In-Reply-To: <20010126175434.7957.qmail@web11502.mail.yahoo.com>
Message-ID: <Pine.LNX.4.30.0101261440420.8073-100000@bolker.zoo.ufl.edu>


rbind(as.matrix(rawlist),matrix(0,ncol=3,nrow=4))

 will do it, although depending on what you're doing next you may want to
turn the result back into a dataframe after attaching the zeros.

  I can't quite figure out the logic that says why

rbind(rawlist,matrix(0,ncol=3,nrow=4))

(i.e., leaving rawlist as a dataframe) leads to a data frame with only one
row of zeros appended.

  Ben Bolker

On Fri, 26 Jan 2001, Yu-Ling Wu wrote:

> Hi,
>
> I read a dataset into R. It looks like this:
>
> > rawlist
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
>
> Now I want to append some values of zero to let it
> look like this:
>
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
> 0          0         0
> 0          0         0
> 0          0         0
> 0          0         0
>
> How to do this?
>
> Thanks,
> Yu-Ling Wu
>
>
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Auctions - Buy the things you want at great prices.
> http://auctions.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri Jan 26 21:02:02 2001
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Fri, 26 Jan 2001 10:02:02 -1000
Subject: [R] append data
References: <20010126175434.7957.qmail@web11502.mail.yahoo.com>
Message-ID: <3A71D7BA.5F71399D@honlab.nmfs.hawaii.edu>

Yu-Ling Wu wrote:
> 
> Hi,
> 
> I read a dataset into R. It looks like this:
> 
> > rawlist
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
> 
> Now I want to append some values of zero to let it
> look like this:
> 
> x1      x2       x3
> 2        12        64
> 5        12        42
> 5         9        42
> 18        14       535
> 26        23       751
> 0          0         0
> 0          0         0
> 0          0         0
> 0          0         0
> 
> How to do this?

One possibility (assuming that rawlist is a data frame) is:

  rawlist <- sapply(rawlist,function(x)c(x,rep(0,4)))


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aanandg at hotmail.com  Fri Jan 26 21:34:01 2001
From: aanandg at hotmail.com (anand ganesh)
Date: Fri, 26 Jan 2001 21:34:01 
Subject: [R] Debian install : libf77blas.so missing
Message-ID: <F170y6wGbf8BylrQa7k0000147d@hotmail.com>

Hi,
I tried installing R on my system (Debian Linux 2.2.17, i386).
I find that libf77blas.so  is missing. Can someone tell me where
and how I can find this? A search in debian.org didnt turn up anything.
Anyway help will be greatly appreciated.
Thanks,
Anand
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Fri Jan 26 23:17:32 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Fri, 26 Jan 2001 14:17:32 -0800 (PST)
Subject: [R] a loop to chang data matrix name
Message-ID: <20010126221732.6330.qmail@web11504.mail.yahoo.com>

Hi,

I have 50 data matrix x1 ~ x5. I want to write a loop
to check the number of 
rows for each data matrix. How to make the data matrix
name (numerical part)
increase by 1 each time it loops?

That is, 
loop1:  nrow(x1)
loop2: nrow(x2)
....
loop50: nrow(x50)

---------------------------------------------------------------
for (i in 1:50) {
   if nrow( xi ) > 20    <=== how to make this work?
      do someting ......
}
--------------------------------------------------------------

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - Buy the things you want at great prices. 
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 27 00:01:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jan 2001 00:01:54 +0100
Subject: [R] a loop to chang data matrix name
In-Reply-To: Yu-Ling Wu's message of "Fri, 26 Jan 2001 14:17:32 -0800 (PST)"
References: <20010126221732.6330.qmail@web11504.mail.yahoo.com>
Message-ID: <x2elxprk7x.fsf@blueberry.kubism.ku.dk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:

> Hi,
> 
> I have 50 data matrix x1 ~ x5. I want to write a loop
> to check the number of 
> rows for each data matrix. How to make the data matrix
> name (numerical part)
> increase by 1 each time it loops?
> 
> That is, 
> loop1:  nrow(x1)
> loop2: nrow(x2)
> ....
> loop50: nrow(x50)
> 
> ---------------------------------------------------------------
> for (i in 1:50) {
>    if nrow( xi ) > 20    <=== how to make this work?
>       do someting ......
> }
> --------------------------------------------------------------

With a bit more experience, you could probably ensure that your
matrices were in a list to begin with instead of having information
encoded in their name, but try

 for (xi in paste("x",1:50,sep="") {
    if (nrow( get(xi) ) > 20 )
       do someting ......
 }


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Jan 27 00:09:43 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Jan 2001 17:09:43 -0600
Subject: [R] Debian install : libf77blas.so missing
In-Reply-To: "anand ganesh"'s message of "Fri, 26 Jan 2001 21:34:01"
References: <F170y6wGbf8BylrQa7k0000147d@hotmail.com>
Message-ID: <6ritn17vwo.fsf@franz.stat.wisc.edu>

"anand ganesh" <aanandg at hotmail.com> writes:

> I tried installing R on my system (Debian Linux 2.2.17, i386).
> I find that libf77blas.so  is missing. Can someone tell me where
> and how I can find this? A search in debian.org didnt turn up anything.
> Anyway help will be greatly appreciated.

$ locate libf77blas.so
/usr/lib/libf77blas.so
/usr/lib/libf77blas.so.2
/usr/lib/libf77blas.so.2.3
$ dpkg -S /usr/lib/libf77blas.so.2.3
atlas2: /usr/lib/libf77blas.so.2.3

So it is in the atlas2 package.  If you were installing the Debian
package for r-base the installing application should have required the
atlas2 package.  Debian packages for the latest versions of R are
available on the CRAN archives in the bin/linux/debian directory.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at sunysb.edu  Sat Jan 27 00:11:25 2001
From: Timothy.Keitt at sunysb.edu (Timothy H. Keitt)
Date: Fri, 26 Jan 2001 18:11:25 -0500
Subject: [R] Debian install : libf77blas.so missing
References: <F170y6wGbf8BylrQa7k0000147d@hotmail.com>
Message-ID: <3A72041D.3090000@SUNYSB.Edu>

Try 'apt-get install atlas2 atlas2-dev'.

T.

anand ganesh wrote:

> Hi,
> I tried installing R on my system (Debian Linux 2.2.17, i386).
> I find that libf77blas.so  is missing. Can someone tell me where
> and how I can find this? A search in debian.org didnt turn up anything.
> Anyway help will be greatly appreciated.
> Thanks,
> Anand
> _________________________________________________________________________
> Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> 
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> 


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sat Jan 27 03:07:57 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Sat, 27 Jan 2001 12:07:57 +1000
Subject: [R] observed power
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3C30@roper-cv.qld.cmis.CSIRO.AU>



Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk] wonders:

| Sent: Saturday, 27 January 2001 1:29
| To: Mark M. Span
| Cc: r-help at stat.math.ethz.ch
| Subject: Re: [R] observed power
| 
| 
| "Mark M. Span" <span at psy.uva.nl> writes:
| 
| > Is there a way to obtain the observed power of an aov()?
| > 
| > I perform an aov with one between and one within factor, 
| > and would like to know the observed power of the tests, 
| > both for the main effect and the interaction. I found the 
| > package 'hpower', but sense there is a more convenient 
| > possibility. Is there?
| > 
| > thanks
| > 
| > Mark M. Span
| 
| What's "observed power"? If you mean the item that SPSS has by that
| name, I think you first have to convince us that that is a sensible
| thing to calculate...

If you ever do find out, Peter, let me know too, please.  I was puzzled, but
a bit worried about showing my ignorance...   I can only imagine it means an
estimate of the non-centrality parameter in which case it is a sensible
thing to have available since it is essentially the signal-to-noise ratio.
Actually the MLE is the F-statistic but the maximum *marginal* likelihood
estimate (based on the marginal distribution of the F-statistic itself) is
of more interest as it is closer to unbiased.  In the case of the multiple
correlation coefficient, for example, this is (practically) what people call
the "adjusted R^2" statistic, where the adjustment is essentially a bias
correction.  You can come up with simple analogues for non-central
chi-squared and non-central F of course, but they are again just simple
linear adjustments, unless you really want to get flash.  (I wrote a couple
of papers on this stuff in the 70s so I have a kind of nostalgic affinity
for it...)

I would be more interested in these quantities optionally appearing
routinely on summary tables than, for example, the cute 'significance
stars'.  But as for calling them the "observed power", I would definitely
caution against that.  It encourages entirely the wrong idea of what power
really is.  (For example, it is a function, not a quantity, and you don't
ever "observe" it in practice.)

Bill Venables.
--
Bill Venables, CSIRO/CMIS Environmetrics Project
Email: Bill.Venables at cmis.csiro.au
Phone: +61 7 3826 7251
Fax:   +61 7 3826 7304
Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwinsemius at home.com  Sat Jan 27 08:24:38 2001
From: dwinsemius at home.com (David W)
Date: Fri, 26 Jan 2001 23:24:38 -0800
Subject: [R] observed power
References: <2B7F04539DAFD311B61D009027D0DDA20C3C30@roper-cv.qld.cmis.CSIRO.AU>
Message-ID: <3A7277B6.5CC9CD92@home.com>

Two or three years ago there was an extended discussion on
sci.stat.consult concerning "post-hoc power analysis". If
memory serves (since DejaNews is not currently allowing
searches back that far), it was power estimation using the
sample estimate of the variance done after conducting a
"failed" experiment . Some of the contributors did not seem
to understand that the variance was subject to sampling
error. Using the observed interim sample variance to
determine a plausible number of additional subjects would
seem of some use after an experiment of insufficient size
had testing consistent with the null. (With appropriate
regard for adjusting alpha after multiple tests.)  It
doesn't need to be distinguished by a separate term, and any
reasonable interpretation would already be subsumed under
existing interim analysis strategies.

Regards;
David Winsemius

Bill.Venables at CMIS.CSIRO.AU wrote:
> 
> Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk] wonders:
> 
> | Sent: Saturday, 27 January 2001 1:29
> | To: Mark M. Span
> | Cc: r-help at stat.math.ethz.ch
> | Subject: Re: [R] observed power
> |
> |
> | "Mark M. Span" <span at psy.uva.nl> writes:
> |
> | > Is there a way to obtain the observed power of an aov()?
> | >
> | > I perform an aov with one between and one within factor,
> | > and would like to know the observed power of the tests,
> | > both for the main effect and the interaction. I found the
> | > package 'hpower', but sense there is a more convenient
> | > possibility. Is there?
> | >
> | > thanks
> | >
> | > Mark M. Span
> |
> | What's "observed power"? If you mean the item that SPSS has by that
> | name, I think you first have to convince us that that is a sensible
> | thing to calculate...
> 
> If you ever do find out, Peter, let me know too, please.  I was puzzled, but
> a bit worried about showing my ignorance...   I can only imagine it means an
> estimate of the non-centrality parameter in which case it is a sensible
> thing to have available since it is essentially the signal-to-noise ratio.
> Actually the MLE is the F-statistic but the maximum *marginal* likelihood
> estimate (based on the marginal distribution of the F-statistic itself) is
> of more interest as it is closer to unbiased.  In the case of the multiple
> correlation coefficient, for example, this is (practically) what people call
> the "adjusted R^2" statistic, where the adjustment is essentially a bias
> correction.  You can come up with simple analogues for non-central
> chi-squared and non-central F of course, but they are again just simple
> linear adjustments, unless you really want to get flash.  (I wrote a couple
> of papers on this stuff in the 70s so I have a kind of nostalgic affinity
> for it...)
> 
> I would be more interested in these quantities optionally appearing
> routinely on summary tables than, for example, the cute 'significance
> stars'.  But as for calling them the "observed power", I would definitely
> caution against that.  It encourages entirely the wrong idea of what power
> really is.  (For example, it is a function, not a quantity, and you don't
> ever "observe" it in practice.)
> 
> Bill Venables.
> --
> Bill Venables, CSIRO/CMIS Environmetrics Project
> Email: Bill.Venables at cmis.csiro.au
> Phone: +61 7 3826 7251
> Fax:   +61 7 3826 7304
> Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Sat Jan 27 13:07:57 2001
From: tchur at optushome.com.au (Tim Churches)
Date: Sat, 27 Jan 2001 23:07:57 +1100
Subject: [R] Sending graphics output to connections
Message-ID: <005201c08859$c97db6e0$1cb9a4cb@carlnfd1.nsw.optushome.com.au>

In the first issue of the excellent R news, Brian D. Ripley muses [1]:

"What can I do with connections? ... In short, almost everything you used to
do with files. The exceptions are the graphics devices which write to files,
and it is not yet clear if it is beneficial to be able to send graphics
outputs to connections. ..."

One benefit would be the ability to stream graphics back to a (possibly
remote) client of the R session, such as a Web browser or even an "R thin
client" which communicates with an R process on a server somewhere. The
other part of this scenario, that is, remote controlling an R session from a
socket, is, as Prof. Ripley notes, already planned and can currently be
fudged in V1.2.1 with an explicit loop reading and evaluating lines of input
from a pipe connection as illustrated in the article.

[1] Ripley BD. Connections. <I>R News</I> 2001;1(1):16-17. Available at
http://cran.r-project.org/doc/Rnews/ Accessed on 2001-Jan-27.

(<I>...</I> denotes italics. I think that is the correct citation for an
e-journal in Vancouver format, but would appreciate suggestions or
corrections.)

Tim Churches


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 27 09:44:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 27 Jan 2001 08:44:45 +0000 (GMT)
Subject: [R] Sending graphics output to connections
In-Reply-To: <005201c08859$c97db6e0$1cb9a4cb@carlnfd1.nsw.optushome.com.au>
Message-ID: <Pine.GSO.4.31.0101270837460.25155-100000@auk.stats>

What would you like to be able to stream?  Most Web-based graphics is
bitmapped, and it is not useful to stream individual bitmapped files, as
they only come into existence when the device is closed.  Postscript is
streamable: the planned PDF is not (streaming PDF over the web depends on
byte-addressing and sending the trailer first).

In so far as I can envisage what you want to do, it would suffice to write
a graphic plot via, say, png, then send the file to a socket via readBin
once socket connections are in place.

[BTW, the only problem with socket connections I can see is handling
packet sizing and end issues, where you need to know more than just the
raw socket details, and things like proxies and firewalls.]

On Sat, 27 Jan 2001, Tim Churches wrote:

> In the first issue of the excellent R news, Brian D. Ripley muses [1]:
>
> "What can I do with connections? ... In short, almost everything you used to
> do with files. The exceptions are the graphics devices which write to files,
> and it is not yet clear if it is beneficial to be able to send graphics
> outputs to connections. ..."
>
> One benefit would be the ability to stream graphics back to a (possibly
> remote) client of the R session, such as a Web browser or even an "R thin
> client" which communicates with an R process on a server somewhere. The
> other part of this scenario, that is, remote controlling an R session from a
> socket, is, as Prof. Ripley notes, already planned and can currently be
> fudged in V1.2.1 with an explicit loop reading and evaluating lines of input
> from a pipe connection as illustrated in the article.
>
> [1] Ripley BD. Connections. <I>R News</I> 2001;1(1):16-17. Available at
> http://cran.r-project.org/doc/Rnews/ Accessed on 2001-Jan-27.
>
> (<I>...</I> denotes italics. I think that is the correct citation for an
> e-journal in Vancouver format, but would appreciate suggestions or
> corrections.)
>
> Tim Churches
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 27 10:33:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 27 Jan 2001 09:33:21 +0000 (GMT Standard Time)
Subject: [R] R-news and GSView
Message-ID: <Pine.WNT.4.31.0101270925070.51-100000@tern.stats>

After various reports of problems reading the PDF with GSView 2.9, I tested
the final version (I had looked at a draft) under the current versions,
GSView 3.6 and gs 6.50. No problems.

I do recommend an upgrade: ghostscript has got much better at handling PDF
recently (especially writing it but also reading it).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 27 12:27:51 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jan 2001 12:27:51 +0100
Subject: [R] observed power
In-Reply-To: David W's message of "Fri, 26 Jan 2001 23:24:38 -0800"
References: <2B7F04539DAFD311B61D009027D0DDA20C3C30@roper-cv.qld.cmis.CSIRO.AU> <3A7277B6.5CC9CD92@home.com>
Message-ID: <x2d7d9jkug.fsf@blueberry.kubism.ku.dk>

David W <dwinsemius at home.com> writes:

> Two or three years ago there was an extended discussion on
> sci.stat.consult concerning "post-hoc power analysis". If
> memory serves (since DejaNews is not currently allowing
> searches back that far), it was power estimation using the
> sample estimate of the variance done after conducting a
> "failed" experiment . Some of the contributors did not seem
> to understand that the variance was subject to sampling
> error. Using the observed interim sample variance to
> determine a plausible number of additional subjects would
> seem of some use after an experiment of insufficient size
> had testing consistent with the null. (With appropriate
> regard for adjusting alpha after multiple tests.)  It
> doesn't need to be distinguished by a separate term, and any
> reasonable interpretation would already be subsumed under
> existing interim analysis strategies.
...
> > | What's "observed power"? If you mean the item that SPSS has by that
> > | name, I think you first have to convince us that that is a sensible
> > | thing to calculate...
> > 
> > If you ever do find out, Peter, let me know too, please.  I was puzzled, but
> > a bit worried about showing my ignorance...   I can only imagine it means an
> > estimate of the non-centrality parameter in which case it is a sensible
> > thing to have available since it is essentially the signal-to-noise ratio.
> > Actually the MLE is the F-statistic but the maximum *marginal* likelihood
> > estimate (based on the marginal distribution of the F-statistic itself) is
> > of more interest as it is closer to unbiased.  In the case of the multiple
> > correlation coefficient, for example, this is (practically) what people call
> > the "adjusted R^2" statistic, where the adjustment is essentially a bias
> > correction.  You can come up with simple analogues for non-central
> > chi-squared and non-central F of course, but they are again just simple
> > linear adjustments, unless you really want to get flash.  (I wrote a couple
> > of papers on this stuff in the 70s so I have a kind of nostalgic affinity
> > for it...)
> > 
> > I would be more interested in these quantities optionally appearing
> > routinely on summary tables than, for example, the cute 'significance
> > stars'.  But as for calling them the "observed power", I would definitely
> > caution against that.  It encourages entirely the wrong idea of what power
> > really is.  (For example, it is a function, not a quantity, and you don't
> > ever "observe" it in practice.)

My understanding of what SPSS does is that it uses an estimate of the
noncentrality and of the variance and plugs it into the usual power
formulas. So for a t test with p just under 0.05, it comes out with an
"observed power" of about 0.50 (so it's not really significant or
what?). Worse, for near-zero effects it comes out with a very low
power, leading to pernicious nonsense of the type "we (or they) didn't
see an effect, but the study had low power to detect it". One common
task in consulting is to explain to people that power calculations
belong *before* the experiment was conducted and that once data are
collected, confidence intervals make better sense.

I'm not quite sure exactly what SPSS is doing to get the noncentrality
parameters, but finding an example with p=0.05 and obs.power=0.50
exactly, would indicate that it is using the F statistic itself as the
estimate. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Mon Jan 29 08:35:09 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Mon, 29 Jan 2001 02:35:09 -0500
Subject: [R] observed power
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6E6@mail.nsabp.pitt.edu>

Hello:

Here is my current version info:

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.1            
year     2001           
month    01             
day      15             
language R              

I am using NT 4.0.  Modifying some C code I originally did under R version
1.1.1, I find in the R Extensions manual (p. 34), that I need to change

STRING to STRING_ELT
VECTOR to VECTOR_ELT
etc.

I am using VC++ 6.0, and I simply cannot get that change to work.  I am
going to just give a simple example which shows what is happening.  This
example uses the getAttrib() and getListElement() functions which appear in
many source files.  It works perfectly on 1.1.1, but gives an unread memory
error under 1.2.0.  Am I doing something wrong here?

First, a revised getListElement function, as suggested in the manual:

static SEXP getListElement(SEXP list, char *str)
{
	SEXP elmt = R_NilValue;
	SEXP names = getAttrib(list, R_NamesSymbol);
	int i;
	for (i = 0; i < length(list); i++)
#if R_VERSION < R_Version(1, 2, 0)
		if (strcmp(CHAR(STRING(names)[i]), str) == 0)
		{
			elmt = VECTOR(list)[i];
			break;
		}
#else
	if (strcmp(CHAR(STRING_ELT(names,i)), str) == 0)
	{
		elmt = VECTOR_ELT(list,i);
		break;
	}
#endif
	return elmt;
}


Now, a simple calling function, called foo(), for Windows:

__declspec (dllexport) SEXP foo(SEXP input)
{
	SEXP L,V,tmp;

	input = CDR(input);L = CAR(input);
	input = CDR(input);V = CAR(input);

	tmp = getListElement(L, "b");
	return tmp;
}

I want to feed foo() a list and vector in R, so I made the R function

foo <- function(L,V){res <- .External("foo",L,V);res}

and I called

> foo(list(a=4,b=6),c(2,4,9))

This command yields 6, as it should, in version 1.1.1, but crashes version
1.2.1, with a "memory not read".

If you're still reading at this point, please note that I placed the two C
functions in a source file, and at the top I included:

#define VC

#include <math.h>
#include <R.h>
#include "Defn.h"
#include <Rdefines.h>

Is there something obvious here that I'm missing?  thanks in advance.

Tom Richards
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 29 09:39:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 29 Jan 2001 08:39:35 +0000 (GMT)
Subject: [R] observed power
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6E6@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.31.0101290826570.19009-100000@toucan.stats>

What has this to do with `observed power'?


On Mon, 29 Jan 2001, Richards, Tom wrote:

> Hello:
>
> Here is my current version info:
>
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.1
> year     2001
> month    01
> day      15
> language R
>
> I am using NT 4.0.  Modifying some C code I originally did under R version
> 1.1.1, I find in the R Extensions manual (p. 34), that I need to change
>
> STRING to STRING_ELT
> VECTOR to VECTOR_ELT
> etc.
>
> I am using VC++ 6.0, and I simply cannot get that change to work.  I am
> going to just give a simple example which shows what is happening.  This
> example uses the getAttrib() and getListElement() functions which appear in
> many source files.  It works perfectly on 1.1.1, but gives an unread memory
> error under 1.2.0.  Am I doing something wrong here?
>
> First, a revised getListElement function, as suggested in the manual:
>
> static SEXP getListElement(SEXP list, char *str)
> {
> 	SEXP elmt = R_NilValue;
> 	SEXP names = getAttrib(list, R_NamesSymbol);
> 	int i;
> 	for (i = 0; i < length(list); i++)
> #if R_VERSION < R_Version(1, 2, 0)
> 		if (strcmp(CHAR(STRING(names)[i]), str) == 0)
> 		{
> 			elmt = VECTOR(list)[i];
> 			break;
> 		}
> #else
> 	if (strcmp(CHAR(STRING_ELT(names,i)), str) == 0)
> 	{
> 		elmt = VECTOR_ELT(list,i);
> 		break;
> 	}
> #endif
> 	return elmt;
> }
>
>
> Now, a simple calling function, called foo(), for Windows:
>
> __declspec (dllexport) SEXP foo(SEXP input)
> {
> 	SEXP L,V,tmp;
>
> 	input = CDR(input);L = CAR(input);
> 	input = CDR(input);V = CAR(input);
>
> 	tmp = getListElement(L, "b");
> 	return tmp;
> }
>
> I want to feed foo() a list and vector in R, so I made the R function
>
> foo <- function(L,V){res <- .External("foo",L,V);res}
>
> and I called
>
> > foo(list(a=4,b=6),c(2,4,9))
>
> This command yields 6, as it should, in version 1.1.1, but crashes version
> 1.2.1, with a "memory not read".
>
> If you're still reading at this point, please note that I placed the two C
> functions in a source file, and at the top I included:
>
> #define VC
>
> #include <math.h>
> #include <R.h>
> #include "Defn.h"
> #include <Rdefines.h>

Don't use Defn.h!  It is not a shipped file and is not for casual
use.  Quite possibly the problem.

You did not tell us how you linked this to make a DLL.  Using the tools
that come with 1.2.1 and the recommend compiler, this works for me
if the non-existent Defn.h is omitted.


> Is there something obvious here that I'm missing?  thanks in advance.
>
> Tom Richards
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Mon Jan 29 09:43:23 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Mon, 29 Jan 2001 09:43:23 +0100
Subject: [R] R] observed power
Message-ID: <006d01c089cf$8a7edf60$cd981291@psy.uva.nl>


----- Original Message -----
From: "Mark M. Span" <span at psy.uva.nl>
To: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
Sent: Monday, January 29, 2001 9:42 AM
Subject: Re: [R] observed power


> Also to me, power is more an a priori concept, best estimated before
> collecting the data. And a priori power analyses are definitely the best
way
> to control beta error probabilities. However, sometimes it may be
impossible
> to control the sample size, for example, when re-analyzing data sets that
> have been collected by others, or even comparing between analysis within
one
> experiment. In a case like this post hoc power analyses can make sense.
>
> You magically 'feld' that I referred to the SPSS output of a ANOVA, as I
> did. The manual of SPSS describes this as:
>
> - Select Observed power to obtain the power of the test when the
alternative
> hypothesis is set based on the observed value.
>
> which is very non-informative to me.
>
> The reason I wanted to compute this 'observed power' is to get an
indication
> weather my (non-significant) interaction is caused by the absence of an
> effect (observed power = 'quite high') or because I have too little
subjects
> to identify any effect.
>
> Of course I can always make an SPSS sidestep to calculate this, and my
first
> mail should not be interpreted as a critique to aov output nor as a
mission
> statement that an index for 'observed power' should be included in R. I
was
> just wondering if something *like* this is available.
>
> As for Peter Dalgaard's second mail: I am getting more and more convinced
> that SPSS indeed 'plugs in' the sampling estimates into the power
function.
>
>
>
> From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
>
> > "Mark M. Span" <span at psy.uva.nl> writes:
> >
> > > Is there a way to obtain the observed power of an aov()?
> > >
> > > I perform an aov with one between and one within factor, and would
like
> to
> > > know the observed power of the tests, both for the main effect and the
> > > interaction. I found the package 'hpower', but sense there is a more
> > > convenient possibility. Is there?
> > >
> > > thanks
> > >
> > > Mark M. Span
> >
> > What's "observed power"? If you mean the item that SPSS has by that
> > name, I think you first have to convince us that that is a sensible
> > thing to calculate...
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Jan 29 10:55:58 2001
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Mon, 29 Jan 2001 10:55:58 +0100
Subject: (Fwd) [R] Web On line help and manual
Message-ID: <200101291001.LAA13084@docsrvr.ish-lyon.cnrs.fr>

Sorry my question was *not* about getting the html help pages on *my* 
computer with R installed but to indicate to (distant) colleagues (and 
anyone interested) a *web* online help describing the richness of R with 
all the contributed packages and not only the base package. Also 
something that is not the 850 pages of Reference Index. Does that exist?
------- Voici le message r?achemin? -------
Exp?diteur:      	"Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr>
Organisation:    	LET
Destinataire:    	r-help at stat.math.ethz.ch
Date d'envoi:    	Fri, 19 Jan 2001 14:43:06 +0100
Objet:           	[R] Web On line help and manual

I am searching an online manual describing the functions and packages of 
R, to indicate  the url to colleagues who might be interested in R, instead 
of crawling through the  "Package sources" page. I have found deep down 
the FAQ the address    {HYPERLINK 
"http://stat.ethz.ch/R/manual/"}http://stat.ethz.ch/R/manual/ but there is 
only the base package. Is there anything else I  missed? Wouldn't it be an 
idea to have such an extensive online manual? 
Thank you 
------- Fin du message r?achemin? -------
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Mon Jan 29 11:07:58 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Mon, 29 Jan 2001 11:07:58 +0100
Subject: [R] R] observed power
In-Reply-To: <006d01c089cf$8a7edf60$cd981291@psy.uva.nl>; from span@psy.uva.nl on Mon, Jan 29, 2001 at 09:43:23AM +0100
References: <006d01c089cf$8a7edf60$cd981291@psy.uva.nl>
Message-ID: <20010129110748.A6129@rz0cosv1.rz.tu-bs.de>

Dear r-helpers,

..apart from the discussion about "observed power": can somebody give me an exan how hpower works? Currently I calculate  sample-sizes with power.t.test and external programs, and i wonder if I would really need these additional stuff. "hpower" seems to be powerful, but also a little bit cryptic, at least at the first sight...

thanks
PM




-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
MH-Hannover: 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 29 11:25:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 29 Jan 2001 10:25:16 +0000 (GMT)
Subject: (Fwd) [R] Web On line help and manual
In-Reply-To: <200101291001.LAA13084@docsrvr.ish-lyon.cnrs.fr>
Message-ID: <Pine.GSO.4.31.0101291024040.19216-100000@toucan.stats>

On Mon, 29 Jan 2001, Charles Raux wrote:

> Sorry my question was *not* about getting the html help pages on *my*
> computer with R installed but to indicate to (distant) colleagues (and
> anyone interested) a *web* online help describing the richness of R with
> all the contributed packages and not only the base package. Also
> something that is not the 850 pages of Reference Index. Does that exist?

Is what is in the FAQ not enough?  That is the only list I know of which
precises the contributed packages.


> ------- Voici le message rachemin -------
> Expditeur:      	"Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr>
> Organisation:    	LET
> Destinataire:    	r-help at stat.math.ethz.ch
> Date d'envoi:    	Fri, 19 Jan 2001 14:43:06 +0100
> Objet:           	[R] Web On line help and manual
>
> I am searching an online manual describing the functions and packages of
> R, to indicate  the url to colleagues who might be interested in R, instead
> of crawling through the  "Package sources" page. I have found deep down
> the FAQ the address    {HYPERLINK
> "http://stat.ethz.ch/R/manual/"}http://stat.ethz.ch/R/manual/ but there is
> only the base package. Is there anything else I  missed? Wouldn't it be an
> idea to have such an extensive online manual?
> Thank you
> ------- Fin du message rachemin -------
> ---------------
> Charles RAUX,
> Laboratoire d'Economie des Transports
> CNRS-Universit Lumire Lyon 2-ENTPE
> email : charles.raux at let.ish-lyon.cnrs.fr
> http://www.ish-lyon.cnrs.fr/let
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Mon Jan 29 12:32:21 2001
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Mon, 29 Jan 2001 12:32:21 +0100
Subject: NOT YET SOLVED: Re: [R] Error in postscript(....)
References: <3A6C327D.21A3E000@physik.uni-marburg.de> <x2bsszadtc.fsf@blueberry.kubism.ku.dk> <3A6C510C.53ED2C40@physik.uni-marburg.de> <3A6EFEDB.25C2E263@physik.uni-marburg.de> <x2puhc7uqt.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A7554C5.EB8CAB1@physik.uni-marburg.de>

Thanks very much for your help. However,
I've followed Prof. Ripley's advice and changed my window manager.
I wished I had the time to debug the code and to dig into c ... 
   M. Eger


Peter Dalgaard BSA wrote:
> 
> I'm still at a loss trying to explain how postscript() triggers an X11
> error, but...
> 
> You might try to change (in devX11.c)
> 
> static int R_X11IOErr(Display *dsp)
> {
>     error("X11 fatal IO error: please save work and shut down R");
>     return 0; /* but should never get here */
> }
> 
> by inserting code that unregisters the X11 input handler, i.e.
> 
> int fd = ConnectionNumber(display);
>         removeInputHandler(&R_InputHandlers,
>                            getInputHandler(R_InputHandlers,fd));
> 
> and similarly in dataentry.c.
> 
> (BTW, I forget, did you try running under the debugger and see whether
> it is the code in devX11.c or in dataentry.c that tickles this?)
>
-- 
+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan 29 14:16:32 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 29 Jan 2001 14:16:32 +0100
Subject: (Fwd) [R] Web On line help and manual
In-Reply-To: <Pine.GSO.4.31.0101291024040.19216-100000@toucan.stats>
References: <200101291001.LAA13084@docsrvr.ish-lyon.cnrs.fr>
	<Pine.GSO.4.31.0101291024040.19216-100000@toucan.stats>
Message-ID: <14965.27952.514404.983530@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Mon, 29 Jan 2001, Charles Raux wrote:
    >> Sorry my question was *not* about getting the html help pages on *my*
    >> computer with R installed but to indicate to (distant) colleagues (and
    >> anyone interested) a *web* online help describing the richness of R with
    >> all the contributed packages and not only the base package. Also
    >> something that is not the 850 pages of Reference Index. Does that exist?

    BDR> Is what is in the FAQ not enough?  That is the only list I know of
    BDR> which precises the contributed packages.

You mean the same as
  <CRAN>/src/contrib/PACKAGES.html
e.g.  http://stat.ethz.ch/CRAN/src/contrib/PACKAGES.html
?
I think this must be what Charles is looking for.
(it still has links to the extensive reference manuals if desired).


    >> ------- Voici le message rachemin -------
    >> Expditeur:      	"Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr>
    >> Organisation:    	LET
    >> Destinataire:    	r-help at stat.math.ethz.ch
    >> Date d'envoi:    	Fri, 19 Jan 2001 14:43:06 +0100
    >> Objet:           	[R] Web On line help and manual
    >> 
    >> I am searching an online manual describing the functions and packages of
    >> R, to indicate  the url to colleagues who might be interested in R, instead
    >> of crawling through the  "Package sources" page. I have found deep down
    >> the FAQ the address    {HYPERLINK
    >> "http://stat.ethz.ch/R/manual/"}http://stat.ethz.ch/R/manual/ but there is
    >> only the base package. Is there anything else I  missed? Wouldn't it be an
    >> idea to have such an extensive online manual?
    >> Thank you
    >> ------- Fin du message rachemin -------
    >> ---------------
    >> Charles RAUX,
    >> Laboratoire d'Economie des Transports
    >> CNRS-Universit Lumire Lyon 2-ENTPE
    >> email : charles.raux at let.ish-lyon.cnrs.fr
    >> http://www.ish-lyon.cnrs.fr/let
    >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    >> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    >> Send "info", "help", or "[un]subscribe"
    >> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    >> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    >> 

    BDR> -- 
    BDR> Brian D. Ripley,                  ripley at stats.ox.ac.uk
    BDR> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
    BDR> University of Oxford,             Tel:  +44 1865 272861 (self)
    BDR> 1 South Parks Road,                     +44 1865 272860 (secr)
    BDR> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

    BDR> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    BDR> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    BDR> Send "info", "help", or "[un]subscribe"
    BDR> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    BDR> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Jan 29 16:14:44 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 29 Jan 2001 16:14:44 +0100
Subject: (Fwd) [R] Web On line help and manual
Message-ID: <3.0.32.20010129161443.00923330@162.38.183.200>

At 14:16 29/01/01 +0100, Martin Maechler wrote:
>>>>>> "BDR" == Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
>    BDR> On Mon, 29 Jan 2001, Charles Raux wrote:
>    >> Sorry my question was *not* about getting the html help pages on *my*
>    >> computer with R installed but to indicate to (distant) colleagues (and
>    >> anyone interested) a *web* online help describing the richness of R
with
>    >> all the contributed packages and not only the base package. Also
>    >> something that is not the 850 pages of Reference Index. Does that
exist?
>
>    BDR> Is what is in the FAQ not enough?  That is the only list I know of
>    BDR> which precises the contributed packages.
>
>You mean the same as
>  <CRAN>/src/contrib/PACKAGES.html
>e.g.  http://stat.ethz.ch/CRAN/src/contrib/PACKAGES.html
>?
>I think this must be what Charles is looking for.
>(it still has links to the extensive reference manuals if desired).

I do not think this is what Charles meant. I think what Charles is looking
for is the file R_HOME/doc/html/function.html which is built under Windows
with the function link.html.help (i.e. a list of all functions on a single
page, not packages). Charles, if that would be so useful, why don't you
build it and put it on the Web? R is a volunteer project after all.

Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Mon Jan 29 17:07:58 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Mon, 29 Jan 2001 11:07:58 -0500
Subject: Problem compiling under Version 1.2.1 (was mistakenly RE: [R] obs
	erved power)
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6E8@mail.nsabp.pitt.edu>

I am replying to Professor Ripley's response to my earlier message, which
mistakenly listed the subject.  Professor Ripley's response follows.

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Monday, January 29, 2001 3:40 AM
> To: Richards, Tom
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] observed power
> 
> 
> What has this to do with `observed power'?

Nothing:  see above.  Sorry for the mistake, it was 2:35 in the morning
here...

> 
> 
> On Mon, 29 Jan 2001, Richards, Tom wrote:
>		[snip]
> > This command yields 6, as it should, in version 1.1.1, but 
> crashes version
> > 1.2.1, with a "memory not read".
> >
> > If you're still reading at this point, please note that I 
> placed the two C
> > functions in a source file, and at the top I included:
> >
> > #define VC
> >
> > #include <math.h>
> > #include <R.h>
> > #include "Defn.h"
> > #include <Rdefines.h>
> 
> Don't use Defn.h!  It is not a shipped file and is not for casual
> use.  Quite possibly the problem.

Thanks.  I made the change.

> 
> You did not tell us how you linked this to make a DLL.  Using 
> the tools
> that come with 1.2.1 and the recommend compiler, this works for me
> if the non-existent Defn.h is omitted.

I took out the Defn.h line, and I compiled a file called DOIT.c in the VC++
IDE, along with a DOIT.def file, which contained the following

   LIBRARY		DOIT

   EXPORTS
   foo

I linked in the IDE, by including the path to Rdll.lib.
At the moment, even after omitting the Defn.h, I get the same "memory not
read" error.  I  installed the mingw32 compiler yesterday.  I will see if I
can understand how to use that, with gcc and dllwrap, as recommended in 'S
Programming'.  Thanks.


> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Mon Jan 29 18:46:42 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Mon, 29 Jan 2001 12:46:42 -0500
Subject: [R] Avoiding another loop
Message-ID: <sa756649.082@ers.usda.gov>

Hello,

Is there a fancy way I can use a function (like apply)
to avoid a the follwoing loop, or otherwise make this more
efficient?  It fills a 3-d array, one matrix at a time.
"nsize" is big, and efficiency is important. 

for (i in 1:nsize) simy[,,i] <- myfunction(p1,p2, ...)

Thanks!



Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-694-5557
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 29 19:16:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 Jan 2001 18:16:06 +0000 (GMT)
Subject: [R] Avoiding another loop
In-Reply-To: <sa756649.082@ers.usda.gov>
Message-ID: <Pine.GSO.4.31.0101291811440.9860-100000@auk.stats>

On Mon, 29 Jan 2001, Michael Roberts wrote:

> Hello,
>
> Is there a fancy way I can use a function (like apply)
> to avoid a the follwoing loop, or otherwise make this more
> efficient?  It fills a 3-d array, one matrix at a time.
> "nsize" is big, and efficiency is important.
>
> for (i in 1:nsize) simy[,,i] <- myfunction(p1,p2, ...)
>

You will need to tell us a lot more. At present it appears that you are
doing the same calculation nsize times, which is of course easy to avoid.

Avoiding loops in R is by no mean always useful or effective.  There are
myths about that go back to long-forgotten versions of S, in which for
loops were  very much to be avoided.   Up to a point *vectorization* is
worthwhile, the point being where handling large vectors becones expensive.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Mon Jan 29 19:34:23 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Mon, 29 Jan 2001 13:34:23 -0500
Subject: [R] Avoiding another loop
Message-ID: <sa757182.072@ers.usda.gov>


Sorry, I can now see why I needed to provide more information.

I am trying to use simulation to estimate a likelihood function 
that cannot be evaluated explicitly:  a multinomial probit model
with a spatail autocorrelation parameter for each latent dependent
variable.  "myfunction" generates a single latent observation (for
all latent 
dependent variables less one) for a parameter guess.  Clearly, I
need
to do this many times to get an accurate estimate of the likelihood.

Is a loop the best way to do this?

Thanks much,



Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-694-5557

>>> Prof Brian D Ripley <ripley at stats.ox.ac.uk> 01/29 1:16 PM >>>
On Mon, 29 Jan 2001, Michael Roberts wrote:

> Hello,
>
> Is there a fancy way I can use a function (like apply)
> to avoid a the follwoing loop, or otherwise make this more
> efficient?  It fills a 3-d array, one matrix at a time.
> "nsize" is big, and efficiency is important.
>
> for (i in 1:nsize) simy[,,i] <- myfunction(p1,p2, ...)
>

You will need to tell us a lot more. At present it appears that you
are
doing the same calculation nsize times, which is of course easy to
avoid.

Avoiding loops in R is by no mean always useful or effective.  There
are
myths about that go back to long-forgotten versions of S, in which
for
loops were  very much to be avoided.   Up to a point *vectorization*
is
worthwhile, the point being where handling large vectors becones
expensive.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/

University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Tue Jan 30 00:34:04 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Mon, 29 Jan 2001 17:34:04 -0600 (CST)
Subject: [R] missing Rcmd from windows binary
In-Reply-To: <002201c087a2$5517aac0$cd981291@psy.uva.nl>
Message-ID: <Pine.GSO.4.05.10101291730120.7829-100000@dahlia.la.utexas.edu>

I am missing the Rcmd command needed for installing packages in R. Does
anyone know where I can get this? It is not in the usual place with the
other R binaries.  If there is another way to install packages in windows,
please let me know. This went seamlessly on my Linux and Unix builds.
Thanks,
Dan

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology  
University of Texas at Austin                    



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jan 30 08:16:32 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 30 Jan 2001 08:16:32 +0100
Subject: [R] missing Rcmd from windows binary
References: <Pine.GSO.4.05.10101291730120.7829-100000@dahlia.la.utexas.edu>
Message-ID: <3A766A50.EDC74C56@statistik.uni-dortmund.de>



"Daniel A. Powers" wrote:
> 
> I am missing the Rcmd command needed for installing packages in R. Does
> anyone know where I can get this? It is not in the usual place with the
> other R binaries. 

It is in R's /bin directory, if you have got a recent version (e.g.
R-1.2.1).

> If there is another way to install packages in windows,
> please let me know. This went seamlessly on my Linux and Unix builds.

Yes.  Rinst.exe is the recommended R installer for binary packages.
More details in the FAQs.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 30 08:15:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Jan 2001 07:15:27 +0000 (GMT)
Subject: [R] missing Rcmd from windows binary
In-Reply-To: <Pine.GSO.4.05.10101291730120.7829-100000@dahlia.la.utexas.edu>
Message-ID: <Pine.GSO.4.31.0101300711390.17104-100000@auk.stats>

On Mon, 29 Jan 2001, Daniel A. Powers wrote:

> I am missing the Rcmd command needed for installing packages in R. Does
> anyone know where I can get this? It is not in the usual place with the
> other R binaries.  If there is another way to install packages in windows,

You need it to build packages from souces, and it *is* in the zip file
for building packages from source, together with everything else you need
from R and instructions.

It is *not* needed to install binary packages.

> please let me know. This went seamlessly on my Linux and Unix builds.

Try reading the ReadMe in the directory you go the other parts from:

The distribution consists of several zip files:

rw1021b1.zip and rw1021b2.zip           the base system
rw1021h.zip                             text help
rw1021ch.zip                            compiled HTML help
rw1021w.zip                             HTML help files
rw1021wh.zip                            Standard Windows help files
rw1021l.zip                             latex help for offline help
rw1021d1.zip                            PDF manuals except
rw1021d2.zip                            PDF version of the reference manual
rw1021sp.zip                            files to install from source packages

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fujimori at grafin.fujimori.cache.waseda.ac.jp  Tue Jan 30 18:52:37 2001
From: fujimori at grafin.fujimori.cache.waseda.ac.jp (Yoriaki FUJIMORI)
Date: Tue, 30 Jan 2001 17:52:37 +0000
Subject: [R] R-1.2.1 on Linux/Alpha with ccc/fort
Message-ID: <200101300852.RAA19485@grafin.fujimori.cache.waseda.ac.jp>

Folks,
Some time ago, I asked about the success story of compiling
R on Linux/Alpha with Compaq's ccc/fort.
Recently, I grabed R-1.2.1 from CRAN, and tried to compile it.
I got a loadable R.bin, but `make test' reported several
errors.  All of them seem to be a floating point number issue,
such as:
(1) In some cases, Alpha returns `-0.0' instead of `+0.0'.
(2) pgamma(Inf,1,xMax) is not evaluated as 1, but 0.6321206
(xMax is the machine maximum float in math.h.)

I tested several compile options of fort, but the situation does
not change.  I have not yet looked into source files.

Except these points, R compiled by Compaq's compiler kit for Linux/Alpha
seems to run properly on the Linux/Alpha platform.
Configure.in should be rewritten, though.
# To be exact, I did the compilation on FreeBSD/Alpha with Linux emulator.

just a junk tip.

Yoriaki FUJIMORI
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Tue Jan 30 09:57:01 2001
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 30 Jan 2001 08:57:01 +0000 (GMT)
Subject: [R] Avoiding another loop
In-Reply-To: <sa757182.072@ers.usda.gov>
Message-ID: <Pine.GSO.4.20.0101300847160.503-100000@laplace>

Hi Michael,

> I am trying to use simulation to estimate a likelihood function 
> that cannot be evaluated explicitly:  a multinomial probit model
> with a spatail autocorrelation parameter for each latent dependent
> variable.  "myfunction" generates a single latent observation (for
> all latent 
> dependent variables less one) for a parameter guess.  Clearly, I
> need
> to do this many times to get an accurate estimate of the likelihood.
> 
> Is a loop the best way to do this?
 
A loop may be the best way to do this, but of course there are loops and
loops.  Rather than create your simy array explicitly and then assign into
its third extent, you might find it quicker to create simy "on the hoof"
and then reshape it.  For example, something like

simy <- lapply(1:nsize, function(i) myfunction(p1, p2, i))
simy <- array(unlist(simy), c(nx, ny, nsize))

will often turn out to be faster.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Tue Jan 30 11:05:53 2001
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Tue, 30 Jan 2001 04:05:53 -0600 (CST)
Subject: [R] R 1.2.1 - read.table factors
Message-ID: <ML-3.3.980849153.1541.gordon@rats.localdomain>

R-1.2.1 Suse 7.0 binary

> fooframe <- read.table("foo", header=FALSE, as.is=c(1:22,398),
col.names=foo.colheads)

cols 1-9 are alphabetic, 10-22 and 398 are numbers but unordered categorical
	23-375 are numeric with and without decimal points

As I read the description the "as.is" index numbers should force those columns
to be "character" and "factor". However only the 1-9 alpha become "character"
but they did not become "factor". Everything else shows mode "numeric" but
"is.factor" distributes TRUE to various variables in no pattern discernible to
me either in distribution or in the data content of the columns. (I tried
giving as.is a type vector but that just made everything "numeric" with no
pattern to factors.) No "as.is" parameter still leaves the odd distribution of
factors.

The main effects are that for some statistical functions on data subsets, one
is warned one cannot perform the operations on categorical data while others
stop for NA's. There are no NA's in the dataset! Running "unique" on each
variate and collecting outside the frame shows adequate dispersion for analysis
with no zero variances. "cor" will only run "pairwise" though "complete.cases"
finds no NA's.

What am I missing?





Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8491
dryfly at aya.yale.edu			319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.wendel at ic.ac.uk  Tue Jan 30 14:05:23 2001
From: p.wendel at ic.ac.uk (Patrick Wendel)
Date: Tue, 30 Jan 2001 13:05:23 -0000
Subject: [R] Link with C code
Message-ID: <001601c08abd$4f2d3a30$a304a992@doc.ic.ac.uk>



Hello,

I am using cygwin (latest version) and I managed to generate a dll partly
with rcmd shlib although there was a problem with both the resouce file (I
had to remove "FILEOS VOS__WINDOWS32") and the command line for gcc
(--shared is not supported for instance).

So I would like to know which compiler/environment you advise to use for
windows OS.

Then I could load the library in R but couldn't call any method.

Is there a function to know which functions have been successfully imported
?

I've also done the dll in other ways (using gcc and dlltool as explained on
their website and also using VC++) but I had the same result.

I suppose I missed something in the dll creation but I cannot see what.

Any idea ?

Many thanks,

Patrick Wendel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 30 17:00:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 30 Jan 2001 16:00:33 +0000 (GMT)
Subject: [R] Link with C code (compiled code under Windows)
Message-ID: <200101301600.QAA02221@toucan.stats.ox.ac.uk>

> From: "Patrick Wendel" <p.wendel at ic.ac.uk>
> Date: Tue, 30 Jan 2001 13:05:23 -0000
> 
> 
> I am using cygwin (latest version) and I managed to generate a dll partly
> with rcmd shlib although there was a problem with both the resouce file (I

Rcmd SHLIB, perhaps?

> had to remove "FILEOS VOS__WINDOWS32") and the command line for gcc
> (--shared is not supported for instance).

As all recent cygwins have supported --shared, I don't know what to say.
Set up correctly, it works out of the box, although there are warnings
in the documentation that it is not a preferred route.

Also HAVE_SHARED is a documented flag.  You did notice that as you
edited MkRules, didn't you?

> So I would like to know which compiler/environment you advise to use for
> windows OS.

That is clearly documented in the sources and rw1021sp.zip, in files
INSTALL and readme.packages, for example.

> Then I could load the library in R but couldn't call any method.
> 
> Is there a function to know which functions have been successfully imported
> ?

None. DLLs don't work like that: they are probed for symbols as needed.
You can use pedump to explore whether the symbols are exported correctly.

> I've also done the dll in other ways (using gcc and dlltool as explained on
> their website and also using VC++) but I had the same result.

May be it is not the DLL.  Maybe it is your C code or what you are
trying to do with it?

> I suppose I missed something in the dll creation but I cannot see what.
> 
> Any idea ?

Try

(1) reading the R documentation
(2) making a simple example (e.g. package windlgs) to see if your
compiler system is working.

BDR

BTW, Rcmd SHLIB in 1.2.1 using some make.exe's fails.  Change SOURCES in
bin/SHLIB and src/gnuwin32/MakeDll to CFSOURCES to avoid this.
(Some make.exe's pass down macros, some do not ....  It worked with the
make I first used, but not the latest one.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Tue Jan 30 17:17:24 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Tue, 30 Jan 2001 11:17:24 -0500
Subject: [R] Link with C code
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6F0@mail.nsabp.pitt.edu>

Hello:

	I need to ask a small question about the *recommended* compiler for
Windows, mingw32 gcc 2.95.2.  Suppose that I have a file called doit.c, and
a file doit.def which specifies that the function foo() be exported. I need
to link against Rdll.lib, to make doit.dll, which I want to load into R
1.2.1.  What are the correct mingw32 commands to do this?  After playing
with gcc, dlltools, dllwrap, and S Programming for some time, all I have
come up with is

gcc -O2 -c doit.c -ID:\Rw1021\src\include
dlltool -e doit.exp -l doit.lib --export-all-symbols doit.o
gcc doit.o doit.exp D:\Rw1021\bin\Rdll.lib -o doit.dll

The first line works perfectly, thanks to Sprog, but I cannot get the
compiler to find Rdll.lib.  Every time I run the script above, I get the
same mesage that VC++ 6.0 gives when I fail to link against Rdll.lib.  Can
anyone help?  thanks in advance.

Tom Richards



> -----Original Message-----
> From: Patrick Wendel [mailto:p.wendel at ic.ac.uk]
> Sent: Tuesday, January 30, 2001 8:05 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Link with C code
> 
> 
> 
> 
> Hello,
> 
> I am using cygwin (latest version) and I managed to generate 
> a dll partly
> with rcmd shlib although there was a problem with both the 
> resouce file (I
> had to remove "FILEOS VOS__WINDOWS32") and the command line for gcc
> (--shared is not supported for instance).
> 
> So I would like to know which compiler/environment you advise 
> to use for
> windows OS.
> 
> Then I could load the library in R but couldn't call any method.
> 
> Is there a function to know which functions have been 
> successfully imported
> ?
> 
> I've also done the dll in other ways (using gcc and dlltool 
> as explained on
> their website and also using VC++) but I had the same result.
> 
> I suppose I missed something in the dll creation but I cannot 
> see what.
> 
> Any idea ?
> 
> Many thanks,
> 
> Patrick Wendel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 30 17:38:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 30 Jan 2001 16:38:51 +0000 (GMT)
Subject: [R] Link with C code
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6F0@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.31.0101301627570.2317-100000@toucan.stats>

On Tue, 30 Jan 2001, Richards, Tom wrote:

> Hello:
>
> 	I need to ask a small question about the *recommended* compiler for
> Windows, mingw32 gcc 2.95.2.

Actually, it is gcc 2.95.2-1, and the -1 is important.

> Suppose that I have a file called doit.c, and
> a file doit.def which specifies that the function foo() be exported. I need
> to link against Rdll.lib, to make doit.dll, which I want to load into R
> 1.2.1.  What are the correct mingw32 commands to do this?  After playing
> with gcc, dlltools, dllwrap, and S Programming for some time, all I have
> come up with is
>
> gcc -O2 -c doit.c -ID:\Rw1021\src\include
> dlltool -e doit.exp -l doit.lib --export-all-symbols doit.o
> gcc doit.o doit.exp D:\Rw1021\bin\Rdll.lib -o doit.dll

(Don't know where you got that last line from, but not S Programming for
sure.)

> The first line works perfectly, thanks to Sprog, but I cannot get the
> compiler to find Rdll.lib.  Every time I run the script above, I get the
> same mesage that VC++ 6.0 gives when I fail to link against Rdll.lib.  Can
> anyone help?  thanks in advance.

You link against libR.a, not Rdll.lib.  The makefiles will do all this for
you, but you could just run (once) in src/gnuwin32

dlltool --dllname R.dll --def R.exp --output-lib libR.a

Then

gcc -O2 -c doit.c -ID:\Rw1021\src\include
<see below>
gcc --shared -o doit.dll doit.def doit.o -LD:/Rw1021/src/gnuwin32 -lR

You need to create doit.def.  The Makefiles use nm and sed, but

dlltool --export-all-symbols --output-def doit.def doit.o

should do it.

It really is easiest just to let the Makefiles take the strain or
exactly follow a proven recipe.

>
> Tom Richards
>
>
>
> > -----Original Message-----
> > From: Patrick Wendel [mailto:p.wendel at ic.ac.uk]
> > Sent: Tuesday, January 30, 2001 8:05 AM
> > To: r-help at stat.math.ethz.ch
> > Subject: [R] Link with C code
> >
> >
> >
> >
> > Hello,
> >
> > I am using cygwin (latest version) and I managed to generate
> > a dll partly
> > with rcmd shlib although there was a problem with both the
> > resouce file (I
> > had to remove "FILEOS VOS__WINDOWS32") and the command line for gcc
> > (--shared is not supported for instance).
> >
> > So I would like to know which compiler/environment you advise
> > to use for
> > windows OS.
> >
> > Then I could load the library in R but couldn't call any method.
> >
> > Is there a function to know which functions have been
> > successfully imported
> > ?
> >
> > I've also done the dll in other ways (using gcc and dlltool
> > as explained on
> > their website and also using VC++) but I had the same result.
> >
> > I suppose I missed something in the dll creation but I cannot
> > see what.
> >
> > Any idea ?
> >
> > Many thanks,
> >
> > Patrick Wendel
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Tue Jan 30 20:13:44 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Tue, 30 Jan 2001 14:13:44 -0500
Subject: [R] Link with C code
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E6F2@mail.nsabp.pitt.edu>

Thanks for the response, Professor Ripley.  I have installed gcc 2.95.2-1,
the recommended compiler.  Taking your advice, I made libR.a, and tried:

gcc -O2 -c doit.c -ID:\Rw1021\src\include

For me, gcc 2.95.2-1 was unable to find even string.h and stdio.h.  I swear
that I downloaded and unzipped everything!  Anyway, I then took advantage of
my earlier 2.95.2, and tried:

gcc -O2 -c doit.c -ID:\Rw1021\src\include
-ID:\gcc-2.95.2\i386-mingw32msvc\include
dlltool --export-all-symbols --output-def doit.def doit.o
gcc --shared -o doit.dll doit.def doit.o -LD:/Rw1021/src/gnuwin32 -lR

The first two lines work for me, but the third line causes complaints that
gcc can't find, for example, crtdll2.o and lmingw32.  I am very puzzled, and
the 2.95.2-1 version is not packaged as nicely as 2.95.2 is.  I am afraid
that I have not installed something properly.
I wonder whether anyone has any insight into what I'm missing here.  Thanks.

Tom


> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Tuesday, January 30, 2001 11:39 AM
> To: Richards, Tom
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] Link with C code
> 
> 
> On Tue, 30 Jan 2001, Richards, Tom wrote:
> 
> > Hello:
> >
> > 	I need to ask a small question about the *recommended* 
> compiler for
> > Windows, mingw32 gcc 2.95.2.
> 
> Actually, it is gcc 2.95.2-1, and the -1 is important.
> 
> > Suppose that I have a file called doit.c, and
> > a file doit.def which specifies that the function foo() be 
> exported. I need
> > to link against Rdll.lib, to make doit.dll, which I want to 
> load into R
> > 1.2.1.  What are the correct mingw32 commands to do this?  
> After playing
> > with gcc, dlltools, dllwrap, and S Programming for some 
> time, all I have
> > come up with is
> >
> > gcc -O2 -c doit.c -ID:\Rw1021\src\include
> > dlltool -e doit.exp -l doit.lib --export-all-symbols doit.o
> > gcc doit.o doit.exp D:\Rw1021\bin\Rdll.lib -o doit.dll
> 
> (Don't know where you got that last line from, but not S 
> Programming for
> sure.)
> 
> > The first line works perfectly, thanks to Sprog, but I 
> cannot get the
> > compiler to find Rdll.lib.  Every time I run the script 
> above, I get the
> > same mesage that VC++ 6.0 gives when I fail to link against 
> Rdll.lib.  Can
> > anyone help?  thanks in advance.
> 
> You link against libR.a, not Rdll.lib.  The makefiles will do 
> all this for
> you, but you could just run (once) in src/gnuwin32
> 
> dlltool --dllname R.dll --def R.exp --output-lib libR.a
> 
> Then
> 
> gcc -O2 -c doit.c -ID:\Rw1021\src\include
> <see below>
> gcc --shared -o doit.dll doit.def doit.o -LD:/Rw1021/src/gnuwin32 -lR
> 
> You need to create doit.def.  The Makefiles use nm and sed, but
> 
> dlltool --export-all-symbols --output-def doit.def doit.o
> 
> should do it.
> 
> It really is easiest just to let the Makefiles take the strain or
> exactly follow a proven recipe.
> 
> >
> > Tom Richards
> >
> >
> >
> > > -----Original Message-----
> > > From: Patrick Wendel [mailto:p.wendel at ic.ac.uk]
> > > Sent: Tuesday, January 30, 2001 8:05 AM
> > > To: r-help at stat.math.ethz.ch
> > > Subject: [R] Link with C code
> > >
> > >
> > >
> > >
> > > Hello,
> > >
> > > I am using cygwin (latest version) and I managed to generate
> > > a dll partly
> > > with rcmd shlib although there was a problem with both the
> > > resouce file (I
> > > had to remove "FILEOS VOS__WINDOWS32") and the command 
> line for gcc
> > > (--shared is not supported for instance).
> > >
> > > So I would like to know which compiler/environment you advise
> > > to use for
> > > windows OS.
> > >
> > > Then I could load the library in R but couldn't call any method.
> > >
> > > Is there a function to know which functions have been
> > > successfully imported
> > > ?
> > >
> > > I've also done the dll in other ways (using gcc and dlltool
> > > as explained on
> > > their website and also using VC++) but I had the same result.
> > >
> > > I suppose I missed something in the dll creation but I cannot
> > > see what.
> > >
> > > Any idea ?
> > >
> > > Many thanks,
> > >
> > > Patrick Wendel
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moks at eecs.berkeley.edu  Wed Jan 31 04:33:28 2001
From: moks at eecs.berkeley.edu (MAKSIM OKS)
Date: Tue, 30 Jan 2001 19:33:28 -0800
Subject: [R] Problem installing R
Message-ID: <3A778788.AD091F46@eecs.berkeley.edu>

Hello,

my name is Maksim Oks and I've tried to install R on my machine.  It
runs UNIX (sun-solaris 2.7).
I've got the UNIX version of R of the CRAN website, unzipped and untared
it and then followed the instructions in the INSTALL file.  I've set
MAKE =gmake and then typed:
./configure
gmake
gmake check

Then when I try to run R by typing R it says that the command is not
found.  Can anyone suggest what's going on?  I'm including some of the
error messages that followed during the above 3 steps.  Thanks,

Max

Some of the messages:
after  running ./configure:

R is now configured for sparc-sun-solaris2.7

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes

  R profiling support:       yes
  R as a shared library:     no

configure: warning: you cannot build info versions of the R manuals


After running gmake:

gmake[3]: ar: Command not found
gmake[3]: *** [libappl.a] Error 127
gmake[3]: Leaving directory `/home/eecs/moks/R/R-1.2.1/src/appl'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/home/eecs/moks/R/R-1.2.1/src/appl'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/home/eecs/moks/R/R-1.2.1/src'
gmake: *** [R] Error 1


After running gmake check

gmake[4]: *** No rule to make target `../../bin/R.bin', needed by
`base-Ex.Rout'
.  Stop.
gmake[4]: Leaving directory `/home/eecs/moks/R/R-1.2.1/tests/Examples'
gmake[3]: *** [test-Examples] Error 2
gmake[3]: Leaving directory `/home/eecs/moks/R/R-1.2.1/tests/Examples'
gmake[2]: *** [test-Examples] Error 2
gmake[2]: Leaving directory `/home/eecs/moks/R/R-1.2.1/tests'
gmake[1]: *** [test-All] Error 2
gmake[1]: Leaving directory `/home/eecs/moks/R/R-1.2.1/tests'
gmake: *** [test-All] Error 2




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 31 08:22:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 31 Jan 2001 07:22:56 +0000 (GMT)
Subject: [R] Problem installing R
In-Reply-To: <3A778788.AD091F46@eecs.berkeley.edu>
Message-ID: <Pine.GSO.4.31.0101310721560.1401-100000@auk.stats>

On Tue, 30 Jan 2001, MAKSIM OKS wrote:

> Hello,
>
> my name is Maksim Oks and I've tried to install R on my machine.  It
> runs UNIX (sun-solaris 2.7).
> I've got the UNIX version of R of the CRAN website, unzipped and untared
> it and then followed the instructions in the INSTALL file.  I've set
> MAKE =gmake and then typed:
> ./configure
> gmake
> gmake check
>
> Then when I try to run R by typing R it says that the command is not
> found.  Can anyone suggest what's going on?  I'm including some of the
> error messages that followed during the above 3 steps.  Thanks,

You need /usr/ccs/bin in your path (and you need it installed under
Solaris).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Wed Jan 31 10:11:37 2001
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Wed, 31 Jan 2001 03:11:37 -0600 (CST)
Subject: [R] R 1.2.1 - read.table - factors problem or is it  a data.frame
 problem
In-Reply-To: <200101301952.f0UJqUR24993@biomat1.marc.hort.cri.nz>
Message-ID: <ML-3.3.980932297.7349.gordon@rats.localdomain>

Patrick Connolly refers to the read.table help manual page to show how to
coerce input columns to character or to numeric. Indeed coercion with a logical
vector will set the mode regardless of the column content. He also notes one
can set factors with factor(). 

However, the problem encountered is not one of setting factors but of unsetting
them. The manual states that variables of mode or type character will become
factors. My data input efforts showed no relationship between type and factor.
With no evident reason, most character variables did not become factors while
many real variables did. It is a bit disconcerting to get an output with
thousands of floating point factor levels or error messages that one's data are
of the wrong mode for any analysis whatsoever.

How does one unset mode assignment of factor and how does one avoid the problem
of automatic misassignment with other datasets?

Gordon

   
> |> 
> |> R-1.2.1 Suse 7.0 binary
> |> 
> |> > fooframe <- read.table("foo", header=FALSE, as.is=c(1:22,398),
> |> col.names=foo.colheads)
> |> 
> |> cols 1-9 are alphabetic, 10-22 and 398 are numbers but unordered
> categorical |>      23-375 are numeric with and without decimal points
> |> 
> |> As I read the description the "as.is" index numbers should force those
> columns |> to be "character" and "factor". However only the 1-9 alpha
> become "character" |> but they did not become "factor". Everything else
> shows mode "numeric" but 
> 
> Here is your explanation:
> 
>    as.is: the default behavior of `read.table' is to convert
>           non-numeric variables to factors.  The variable `as.is'
>           controls this conversion.  Its value is either a vector of
>           logicals (values are recycled if necessary), or a vector of
>           numeric indices which specify which columns should be left as
>           character strings.
> 
> Since your column 10, etc are not character, as.is will not have an
> effect on them.  I think it is simple enough to convert numeric
> columns into factors (as distinct from continuous variables) with
> factor().
> 
> 
> |> "is.factor" distributes TRUE to various variables in no pattern
> discernible to |> me either in distribution or in the data content of the
> columns. (I tried |> giving as.is a type vector but that just made
> everything "numeric" with no |> pattern to factors.) No "as.is" parameter
> still leaves the odd distribution of |> factors.
> |> 
> |> The main effects are that for some statistical functions on data
> subsets, one |> is warned one cannot perform the operations on categorical
> data while others |> stop for NA's. There are no NA's in the dataset!
> Running "unique" on each |> variate and collecting outside the frame shows
> adequate dispersion for analysis |> with no zero variances. "cor" will only
> run "pairwise" though "complete.cases" |> finds no NA's.
> |> 
> |> What am I missing?
> 
> My guess is that something unplanned is happening when you try as.is
> on numeric columns.


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8491
dryfly at aya.yale.edu			319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jan 31 11:50:20 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 31 Jan 2001 05:50:20 -0500 (EST)
Subject: [R] Problem installing R
Message-ID: <200101311050.FAA10406@cattell.psych.upenn.edu>

>From: MAKSIM OKS <moks at eecs.berkeley.edu>
>my name is Maksim Oks and I've tried to install R on my machine.  It
>runs UNIX (sun-solaris 2.7).
>I've got the UNIX version of R of the CRAN website, unzipped and untared
>it and then followed the instructions in the INSTALL file.  I've set
>MAKE =gmake and then typed:
>./configure
>gmake
>gmake check
>
>Then when I try to run R by typing R it says that the command is not
>found.  Can anyone suggest what's going on?  I'm including some of the
>error messages that followed during the above 3 steps.  Thanks,

Try
gmake install
at the end.
(I'm surprised that "gmake" works, but I guess it did,
rather than just "make".)

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Jan 31 12:23:20 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 31 Jan 2001 22:23:20 +1100
Subject: [R] R 1.2.1 - read.table - factors problem...
Message-ID: <3A77F5A8.319DEE6D@ozemail.com.au>

This _may_ be another example of the "space" problem.  Numeric fields
with embedded spaces have often been converted to factors by read.table
(although I confess to not having the latest version).  I usually use

tr -d '\40' < oldfile > newfile

to remove the spaces and have no problem.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Lischer at mksinst.com  Wed Jan 31 13:56:56 2001
From: Jeff_Lischer at mksinst.com (Jeff_Lischer@mksinst.com)
Date: Wed, 31 Jan 2001 07:56:56 -0500
Subject: [R] Reduced Numerical Precision in 1.2.x?
Message-ID: <OF627DF190.5CEF1939-ON852569E4.004C4BAE@mksinst.com>

I have noticed a definite loss of numerical precision going from 1.1.1 to
1.2.x under both Windows 98 and NT4 on x86 architecture. I noticed the
difference when using the abcnon() function in the bootstrap package, but I
think you could see the problem in any routine that involves subtracting
relatively large numbers from each other.

For the case I am looking at (see code below), the abcnon parameters bhat
and cq should exactly equal 0.0. Version 1.1.1 did calculate these
parameters to be close to 0.0, but for versions 1.2.x the errors increase
as the size of the problem incresases:

|----------------------+---------------+---------------|
|Case                  |Version 1.1.1  |Version 1.2.x  |
|                      |               |               |
|----------------------+---------------+---------------|
|test2.abc(10,20,10)   |bhat = 5.6e-10 |bhat = 5.5e-9  |
|                      |cq = 7.9e-7    |cq = -1.6e-6   |
|----------------------+---------------+---------------|
|test2.abc(200,400,200)|bhat = 0       |bhat = -2.2e-6 |
|                      |cq = 0         |cq = -2.9e-1   |
|----------------------+---------------+---------------|
|test2.abc(400,800,400)|bhat = 0       |bhat = -6.7e-6 |
|                      |cq = 0         |cq = -2.8e0    |
|----------------------+---------------+---------------|



In this last case, the confidence limits being calculated by abcnon  in
Version 1.2.x become meaningless because of the buildup of errors. I have
received some feedback that this problem also occurs on some Linux systems
(LinuxPPC) , but not on others (RedHat 7.0).

Code:

# main function to calculate confidence limits based on ABC method
test2.abc <- function(W,T,L) {
   # Create arrays with correct number of wins, ties, and losses
   w <- rep(1.0,W)
   t <- rep(0.5,T)
   l <- rep(0.0,L)
   N <- W + T + L
   # Call abcnon with the mean as the function being used
   test2.out <<- abcnon(c(w,t,l),function(p,x) {sum(p*x)/sum(p)},
                   alpha = c(0.025, 0.975))
   print(c(test2.out$stats$bhat))
   print(c(test2.out$constants$cq))
   print("Estimated 95% Limits")
   test2.out$limits
}

______________________________
D. Jeffrey Lischer, Ph.D.
Principal Mechanical Engineer
MKS Instruments, Inc.
E-Mail: Jeff_Lischer at mksinst.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 31 15:13:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 31 Jan 2001 14:13:27 +0000 (GMT)
Subject: [R] Reduced Numerical Precision in 1.2.x?
In-Reply-To: <OF627DF190.5CEF1939-ON852569E4.004C4BAE@mksinst.com>
Message-ID: <Pine.GSO.4.31.0101311406070.4294-100000@toucan.stats>

On Wed, 31 Jan 2001 Jeff_Lischer at mksinst.com wrote:

> I have noticed a definite loss of numerical precision going from 1.1.1 to
> 1.2.x under both Windows 98 and NT4 on x86 architecture.

Did you use exactly the same compiler?  If you used the pre-compiled
versions you are almost certainly attributing this to the wrong cause,
so please compile it yourself before making such statements, and do
check that you have read the CHANGES file.

> I noticed the
> difference when using the abcnon() function in the bootstrap package, but I
> think you could see the problem in any routine that involves subtracting
> relatively large numbers from each other.

Any badly-written routine, therefore?  Rounding error is a fact of life,
and I think your code is relying on its absence.

I find the code in package boot to be a great deal more trustworthy than
that in bootstrap.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjpocern at ouray.cudenver.edu  Wed Jan 31 15:44:34 2001
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Wed, 31 Jan 2001 07:44:34 -0700
Subject: [R] Robust Regression (rreg)
Message-ID: <001001c08b94$543739e0$c4c8c284@cudenver.edu>

What is R's equivalent for S+'s robust regression, (rreg) command?  I thought this was addressed in an option for lm, but can't find information about it.

Thanks,

Matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010131/29f9891c/attachment.html

From ripley at stats.ox.ac.uk  Wed Jan 31 15:57:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 31 Jan 2001 14:57:48 +0000 (GMT)
Subject: [R] Robust Regression (rreg)
In-Reply-To: <001001c08b94$543739e0$c4c8c284@cudenver.edu>
Message-ID: <Pine.GSO.4.31.0101311456130.4395-100000@toucan.stats>

On Wed, 31 Jan 2001, Matt Pocernich wrote:

> What is R's equivalent for S+'s robust regression, (rreg) command?  I thought this was addressed in an option for lm, but can't find information about it.

Well, rreg is hardly state-of-the art in S-PLUS these days.  Take a look
at rlm in package MASS, and lqs in library lqs, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 31 16:41:02 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 31 Jan 2001 07:41:02 -0800 (PST)
Subject: [R] R 1.2.1 - read.table - factors problem or is it  a data.frame
 problem
In-Reply-To: <ML-3.3.980932297.7349.gordon@rats.localdomain>
Message-ID: <Pine.A41.4.21.0101310737090.151672-100000@homer25.u.washington.edu>

On Wed, 31 Jan 2001 gordon.harrington at uni.edu wrote:
> However, the problem encountered is not one of setting factors but of unsetting
> them. The manual states that variables of mode or type character will become
> factors. My data input efforts showed no relationship between type and factor.
> With no evident reason, most character variables did not become factors while
> many real variables did. It is a bit disconcerting to get an output with
> thousands of floating point factor levels or error messages that one's data are
> of the wrong mode for any analysis whatsoever.
> 
> How does one unset mode assignment of factor and how does one avoid the problem
> of automatic misassignment with other datasets?

You can convert a factor to the correct numeric values with
   as.numeric(as.character(the.factor))

We don't have enough information to tell what happened in your case but in
my experience the most common reason for a numeric variable to read as a
factor has been misspecifying the missing value codes in the na.strings
argument. This argument lists the strings that should be converted to NAs;
any other strings will trigger a conversion to factor.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Lischer at mksinst.com  Wed Jan 31 18:28:43 2001
From: Jeff_Lischer at mksinst.com (Jeff_Lischer@mksinst.com)
Date: Wed, 31 Jan 2001 12:28:43 -0500
Subject: [R] Reduced Numerical Precision in 1.2.x in pre-compiled Windows
 binaries?
Message-ID: <OFD051FA5B.65FC7F38-ON852569E5.004F083F@mksinst.com>


On Wed, 31 Jan 2001, Prof Brian D Ripley wrote:

>> I have noticed a definite loss of numerical precision going from 1.1.1
to
>> 1.2.x under both Windows 98 and NT4 on x86 architecture.

> Did you use exactly the same compiler?  If you used the pre-compiled
> versions you are almost certainly attributing this to the wrong cause,
> so please compile it yourself before making such statements, and do
> check that you have read the CHANGES file.

Thank you for your response to my message. You are correct that I was using
the pre-compiled versions available on the CRAN site. Unfortunately, I
don't have the ability to compile the code myself so I rely on these
pre-compiled versions. What do you think is the real cause of the problem
in the pre-compiled binaries?

Rereading my previous message, I see that I should have chosen my words
more carefully -- I did not mean to imply that R itself had lost precision.
I assumed it was some interaction with the compiler/compiler options and I
thought that this information might be of interest to others on this list.
I have changed the subject line to better reflect the issue.

The only relevant information I found in the CHANGES file was that Versions
1.2.x were compiled against msvcrt.dll not crtdll.dll. The file says that
this change "generally" gives more accurate results.


> I find the code in package boot to be a great deal more trustworthy than
> that in bootstrap.

I tried out the boot and bootstrap packages for this analysis, but I
observed similar issues with the calculated confidence limits. I even tried
going back to the 1.1.1 binaries for both packages, but still saw the
problem. It was easier to determine what was causing the problem in the
bootstrap package because more intermediate parameters are available for
output. Once I determined what was happening, I saw that the troublesome
line is virtually identical in the two packages:

   - In abcnon( ) from bootstrap: t..[i] <- (tp - 2 * t0 + tm)/ep^2
   - In abc.ci( ) from boot: L2[i] <- (t1 - 2 * t0 + t2)/eps^2

Thank you for the recommendation, though. In the future I will start with
the boot package.

______________________________
D. Jeffrey Lischer, Ph.D.
Principal Mechanical Engineer
MKS Instruments, Inc.
E-Mail: Jeff_Lischer at mksinst.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


