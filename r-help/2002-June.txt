From mandevip at uaslp.mx  Mon Jun 24 19:11:41 2002
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Mon, 24 Jun 2002 10:11:41 -0700
Subject: [R] code optimization
Message-ID: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>

I have a function "eval.delta" which does what I want but isn't very 
elegant. I have consulted the R documents, MASS, and S Programming. Is 
there a practical way to optimize the code? Thank you very much.

Peter B.

Function:

eval.delta <- function(delta){
     cat("VALUES\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j] <= 2){
         k <- k+1
         vlr[k] <- delta[j]
     }
     cat("<= 2 (no credible evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>2 & delta[j] <= 4){
         k <- k+1
         vlr[k] <- delta[j]
     }
     cat("> 2 y <= 4 (weak evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>4 & delta[j] <= 7){
         k <- k+1
         vlr[k] <- delta[j]
     }
     cat("> 4 y <= 7 (definite evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>7 & delta[j] <= 10){
         k <- k+1
         vlr[k] <- delta[j]
     }
     cat("> 7 y <= 10 (strong evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>10){
         k <- k+1
         vlr[k] <- delta[j]
     }
     cat("> 10 (very strong evidence)\t",k,"\t",vlr,"\n")
     cat("\nMODELS\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j] <= 2){
         k <- k+1
         vlr[k] <- j
     }
     cat("<= 2 (no credible evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>2 & delta[j] <= 4){
         k <- k+1
         vlr[k] <- j
     }
     cat("> 2 y <= 4 (weak evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>4 & delta[j] <= 7){
         k <- k+1
         vlr[k] <- j
     }
     cat("> 4 y <= 7 (definite evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>7 & delta[j] <= 10){
         k <- k+1
         vlr[k] <- j
     }
     cat("> 7 y <= 10 (strong evidence)\t",k,"\t",vlr,"\n")
     vlr <- NULL
     k <- 0
     for(j in 1:length(delta)) if(delta[j]>10){
         k <- k+1
         vlr[k] <- j
     }
     cat("> 10 (very strong evidence)\t",k,"\t",vlr,"\n")
}

Data:

 > delta <- c(0,1.4,2.3,4.5,2.3,8.9,12.4,6.4,7.4,11.5,2,2)

Function Call and Output:

 > eval.delta(delta)
VALUES
<= 2 (no credible evidence)      4       0 1.4 2 2
 > 2 y <= 4 (weak evidence)       2       2.3 2.3
 > 4 y <= 7 (definite evidence)   2       4.5 6.4
 > 7 y <= 10 (strong evidence)    2       8.9 7.4
 > 10 (very strong evidence)      2       12.4 11.5

MODELS
<= 2 (no credible evidence)      4       1 2 11 12
 > 2 y <= 4 (weak evidence)       2       3 5
 > 4 y <= 7 (definite evidence)   2       4 8
 > 7 y <= 10 (strong evidence)    2       6 9
 > 10 (very strong evidence)      2       7 10
  


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Sat Jun  1 01:42:34 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 31 May 2002 16:42:34 -0700
Subject: [R] error in seq.POSIXt?
In-Reply-To: <Pine.GSO.4.30.0205311448220.2517-100000@box.cgd.ucar.edu>
References: <Pine.GSO.4.30.0205311448220.2517-100000@box.cgd.ucar.edu>
Message-ID: <p05111702b91db9f9be66@[128.115.153.6]>

Nothing jumps out at me, I'm sorry to say.

But in the meantime, I am wondering if it wouldn't be easier to 
extract only the
winters with something like

    datevec[format(datevec,'%m') %in% c('12','01','02') &
            format(datevec,'%m-%d' != '02-29']

where datevec is the vector of days associated with your data, as an 
object of class POSIXct or POSIXlt.

Then use something like
   table(format(datevec,'%Y'))
to check that you have 90 of each.

-Don

At 3:27 PM -0600 5/31/02, Brandon Whitcher wrote:
>I am trying to extract only the winters (defined to be 01-Dec through
>28-Feb) of daily data from 1948-2002.  There are 90 days in each winter
>season.  I wrote the following code to gather the winter dates into a
>single vector:
>
>DJF <- NULL
>for(year in 1949:1999) {
>   temp.begin <- strptime(paste("01/12", year-1, sep="/"), "%d/%m/%Y")
>   temp.end <- strptime(paste("28/02", year, sep="/"), "%d/%m/%Y")
>   ## Gives wrong answer:
>   temp.seq <- seq(temp.begin, temp.end, by="day")
>   if(is.null(DJF))
>     DJF <- temp.seq
>   else
>     DJF <- c(DJF, temp.seq)
>   cat("Winter:", year, "\t", length(temp.seq), "\n")
>}
>
>with the following output:
>
>Winter: 1949	 90
>Winter: 1950	 90
>Winter: 1951	 90
>Winter: 1952	 90
>Winter: 1953	 90
>Winter: 1954	 90
>Winter: 1955	 90
>Winter: 1956	 90
>Winter: 1957	 90
>Winter: 1958	 90
>Winter: 1959	 90
>Winter: 1960	 90
>Winter: 1961	 90
>Winter: 1962	 90
>Winter: 1963	 90
>Winter: 1964	 90
>Winter: 1965	 90
>Winter: 1966	 90
>Winter: 1967	 90
>Winter: 1968	 90
>Winter: 1969	 90
>Winter: 1970	 90
>Winter: 1971	 90
>Winter: 1972	 90
>Winter: 1973	 90
>Winter: 1974	 89
>Winter: 1975	 89
>Winter: 1976	 90
>Winter: 1977	 90
>Winter: 1978	 90
>Winter: 1979	 90
>Winter: 1980	 90
>Winter: 1981	 90
>Winter: 1982	 90
>Winter: 1983	 90
>Winter: 1984	 90
>Winter: 1985	 90
>Winter: 1986	 90
>Winter: 1987	 90
>Winter: 1988	 90
>Winter: 1989	 90
>Winter: 1990	 90
>Winter: 1991	 90
>Winter: 1992	 90
>Winter: 1993	 90
>Winter: 1994	 90
>Winter: 1995	 90
>Winter: 1996	 90
>Winter: 1997	 90
>Winter: 1998	 90
>Winter: 1999	 90
>Winter: 2000	 90
>Winter: 2001	 90
>Winter: 2002	 90
>
>There are two years, 1974 and 1975, that produce only 89 days per winter.
>I could not figure out what the cause of this was, but a workaround is two
>rewrite the call to seq.POSIXt as:
>
>temp.seq <- seq(temp.begin, length.out=90, by="day")
>
>I am unsure why one works and one does not.  Any ideas?
>
>Brandon
>
>----------------------------------------------------------------------------
>   Geophysical Statistics Project
>   National Center for Atmospheric Research          +1 303 497 1709  voice
>   P.O. Box 3000, Boulder, CO  80307-3000            +1 303 497 1333  fax
>
>   whitcher at ucar.edu                            www.cgd.ucar.edu/~whitcher/
>----------------------------------------------------------------------------
>
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fcampos at sprintlabs.com  Sat Jun  1 02:34:51 2002
From: fcampos at sprintlabs.com (Felix Hernandez Campos)
Date: Fri, 31 May 2002 17:34:51 -0700
Subject: [R] R beyond 2 Gb
Message-ID: <49D9473417F1234C9C86886EE8353FAA60DB03@mailman.sprintlabs.com>

Hi,

I'm working with a fairly massive data set and I need to allocate memory
beyond the 2GB limit. I'm using R 1.5.0 on a SunOS 5.8 machine (16 GB RAM).
Has anyone been succesful at patching the code to get rid of the 2GB memory
limit? (there are quite a few places in which vsize is an int or tested
against INT_MAX). I'll appreciate any guidance you can provide. Thanks.

Regards,
Felix Hernandez.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From whitcher at cgd.ucar.edu  Sat Jun  1 05:05:04 2002
From: whitcher at cgd.ucar.edu (Brandon Whitcher)
Date: Fri, 31 May 2002 21:05:04 -0600 (MDT)
Subject: [R] error in seq.POSIXt?
In-Reply-To: <p05111702b91db9f9be66@[128.115.153.6]>
Message-ID: <Pine.GSO.4.30.0205312104340.2639-100000@box.cgd.ucar.edu>

On Fri, 31 May 2002, Don MacQueen wrote:

> Nothing jumps out at me, I'm sorry to say.
>
> But in the meantime, I am wondering if it wouldn't be easier to
> extract only the
> winters with something like
>
>     datevec[format(datevec,'%m') %in% c('12','01','02') &
>             format(datevec,'%m-%d' != '02-29']
>
> where datevec is the vector of days associated with your data, as an
> object of class POSIXct or POSIXlt.
>
> Then use something like
>    table(format(datevec,'%Y'))
> to check that you have 90 of each.

Thanks for the tip.

Brandon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fmejia at mac.com  Sat Jun  1 09:16:42 2002
From: fmejia at mac.com (=?ISO-8859-1?Q?Fredy_Mej=EDa?=)
Date: Sat, 1 Jun 2002 01:16:42 -0600
Subject: [R] Problem installing packages
Message-ID: <85F5BCFB-752F-11D6-ABA2-000A27DCBAD6@mac.com>

Thank you all for your valuable help.  Although I still haven't figured 
out how to install new packages, I decided to use the compiled versions 
for R 1.4.1, and they worked just fine.  Thanks again.

Fredy Mej?a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun  1 09:26:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 1 Jun 2002 08:26:51 +0100 (BST)
Subject: [R] R beyond 2 Gb
In-Reply-To: <49D9473417F1234C9C86886EE8353FAA60DB03@mailman.sprintlabs.com>
Message-ID: <Pine.LNX.4.31.0206010802240.28789-100000@gannet.stats>

On Fri, 31 May 2002, Felix Hernandez Campos wrote:

> I'm working with a fairly massive data set and I need to allocate memory
> beyond the 2GB limit. I'm using R 1.5.0 on a SunOS 5.8 machine (16 GB RAM).
> Has anyone been succesful at patching the code to get rid of the 2GB memory
> limit? (there are quite a few places in which vsize is an int or tested
> against INT_MAX). I'll appreciate any guidance you can provide. Thanks.

What 2GB limit?  The vsize in memory.c is in units of VECREC (which on
almost all platforms are 8bytes), so those comparisons are `limiting' you
to 16GB.  AFAIK it is only the code that can be used to set the limits at
the command-line which is limited to 2048M *on a 32-bit platform*, but R
can be compiled on Solaris to use 64-bit pointers and longs (see the
R-admin manual), or even to use 64-bit integers.

That's not to say that there are not other limits that we did not intend,
but my understanding is that R has been used beyond 4GB on Solaris.
I've always found it simpler to re-write my code to use less memory, e.g.
to process data in chunks.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Sat Jun  1 14:24:19 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Sat, 1 Jun 2002 13:24:19 +0100
Subject: [R] GUI Input Forms
In-Reply-To: <3CF80D93.1234.3E1173@localhost>
References: <3CD3A476.27290.2605B18@localhost>
 <XWlNNXAX4618EwCE@myatt.demon.co.uk> <3CF80D93.1234.3E1173@localhost>
Message-ID: <YnXehHAzzL+8Ewp4@myatt.demon.co.uk>

ggrothendieck at yifan.net Writes:

>I have some additional thoughts.  I have been playing with 
>tcl/tk recently and also noticed that R supports tk via the 
>tcltk library.
>
>I wonder if it would make sense to integrate EpiData with
>tcl/tk?  If EpiData could generate tcl/tk and/or R/tk output this
>would give integration with popular GUIs: MS-Windows and 
>X-Windows and be of interest to the large base of tcl/tk and/or R 
>users.  It alternately might be possible to develop a widget based
>on the EpiData user interface that could be of interest to
>tcl/tk and R/tk users.  Since tcl/tk programs and R/tk programs
>are just text files this is consistent with the text processing nature 
>of EpiData.

I have suggested that EpiData adopt tcl/tk (or python/tk) as a scripting
language and these things are being considered. If you have nay ideas on
how EpiData might be improved or made more useful then please put them
through the 'official' channels on the EpiData website:

        http://www.epidata.dk

Best wishes,

Mark



--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Jun  1 14:40:21 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 1 Jun 2002 14:40:21 +0200
Subject: [R] cluster compile fails
In-Reply-To: <3CF7B343.8D165E5A@bank-banque-canada.ca>
References: <3CF7B343.8D165E5A@bank-banque-canada.ca>
Message-ID: <15608.49333.411559.22899@gargle.gargle.HOWL>

>>>>> "PaulG" == Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

    PaulG> I am having trouble installing cluster from R-1.5.0-recommended :  
    PaulG> R CMD INSTALL *.tar.gz
    PaulG> ...

    PaulG> g77   -fPIC  -g -O2 -c pam.f -o pam.o
    PaulG> g77   -fPIC  -g -O2 -c spannel.f -o spannel.o
    PaulG> g77   -fPIC  -g -O2 -c twins.f -o twins.o
    PaulG> cp: cannot access *.so

this means that  cluster.so  was not built at all.
On my home Debian Linux system, I get one line of linker call
after the *.f -> *.o compilation ones :

gcc -shared  -o cluster.so clara.o daisy.o fanny.o meet.o mona.o
    pam.o spannel.o twins.o   -L/usr/local/lib
    -L/usr/lib/gcc-lib/i386-linux/2.95.2 -lreadline -ldl -lncurses
    -lg2c -lm 

If such line does not appear, I think it means that your R
configuration and your current compiler/linker setup don't match
and you probably won't be able to build any other package using
compiled code either.

Try to (partly) re-install R itself by 
  ..../configure
  make
and then try again to install a package with C/F source.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tura at centroin.com.br  Sat Jun  1 16:38:02 2002
From: tura at centroin.com.br (Bernardo Rangel Tura)
Date: Sat, 01 Jun 2002 11:38:02 -0300
Subject: [R] Question about Title of Plot
Message-ID: <5.1.0.14.2.20020601111811.009f1620@centroin.com.br>

Dear all,

I'm a brazilian medical doctor that I research use of likelihood in the  medical research.
I need to do a plot with this layout:

---------------------------------------
|            Major Title              | 
|                                     |
|   Title             Title           |
|  --------          --------         |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  --------          --------         |
|                                     |
---------------------------------------

My original code was

par(mfcol = c(1, 2))
title(main="Likelihood Analysis")
plot(or,lor,type="l", ylab='Likelihood',main="Odds Ratio")
plot(tau,lor,type="l",xlab=expression(tau), ylab='Likelihood',main="log(Odds Ratio)")

It creates this layout
---------------------------------------
|                                     | 
|                                     |
|   Title             Title           |
|  --------          --------         |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  --------          --------         |
|                                     |
---------------------------------------

How do I do for you create the wanted Layout?
Thanks advanced for all

Bernardo Rangel Tura, M.D., MSc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat Jun  1 16:56:32 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sun, 2 Jun 2002 00:56:32 +1000 
Subject: [R] Question about Title of Plot
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1A6E@Roper-CV.qld.cmis.csiro.au>

You need to leave some room in the outer margin and use mtext to put the
major title on the page:

par(mfrow = c(1, 2), oma = 0.1+c(0,0,4,0))
plot( ...first plot... )
title( ... first title ...)
plot( ...second plot... )
title( ...second title... )
mtext("Major title", line = 2, outer = TRUE)  ## this is the trick

Bill Venables.

-----Original Message-----
From: Bernardo Rangel Tura [mailto:tura at centroin.com.br]
Sent: Sunday, June 02, 2002 12:38 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Question about Title of Plot


Dear all,

I'm a brazilian medical doctor that I research use of likelihood in the
medical research.
I need to do a plot with this layout:

---------------------------------------
|            Major Title              | 
|                                     |
|   Title             Title           |
|  --------          --------         |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  --------          --------         |
|                                     |
---------------------------------------

My original code was

par(mfcol = c(1, 2))
title(main="Likelihood Analysis")
plot(or,lor,type="l", ylab='Likelihood',main="Odds Ratio")
plot(tau,lor,type="l",xlab=expression(tau), ylab='Likelihood',main="log(Odds
Ratio)")

It creates this layout
---------------------------------------
|                                     | 
|                                     |
|   Title             Title           |
|  --------          --------         |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  |       |         |       |        |
|  --------          --------         |
|                                     |
---------------------------------------

How do I do for you create the wanted Layout?
Thanks advanced for all

Bernardo Rangel Tura, M.D., MSc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sat Jun  1 20:15:29 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sat, 1 Jun 2002 15:15:29 -0300
Subject: [R] x labeling in an interaction.plot
Message-ID: <000701c20998$860be280$ecc9abc8@batata>

Dear R-Users,

Is it possible to omit the automatic x labeling in an interaction.plot?

xaxt="n" doesn't seem to work. Also I tried to set col.axis="white" but it
changes only y annotation color.

Thanks,

Ant?nio Olinto


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jun  1 22:22:57 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 01 Jun 2002 22:22:57 +0200
Subject: [R] x labeling in an interaction.plot
References: <000701c20998$860be280$ecc9abc8@batata>
Message-ID: <3CF92D21.70D3BF2C@statistik.uni-dortmund.de>



Antonio Olinto wrote:
> 
> Dear R-Users,
> 
> Is it possible to omit the automatic x labeling in an interaction.plot?
> 
> xaxt="n" doesn't seem to work. Also I tried to set col.axis="white" but it
> changes only y annotation color.


Citing myself, on 8 Feb 2002 I wrote in "[Rd] interaction.plot (with
misplaced legend) (PR#1305)":

"[...] for the x-axis annotation mtext() is used. I'd suggest to change
line 35:
  mtext(xlabs, 1, at = xvals) # old
to
  axis(1, at = xvals, labels = xlabs, ...) # new"

This would solve a couple of inconsistencies in interaction.plot().


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Sun Jun  2 02:05:20 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Sat, 1 Jun 2002 17:05:20 -0700 (PDT)
Subject: [R] predicting non-numeric values
Message-ID: <Pine.GSO.4.31.0206011659080.17748-100000@flop.ENGR.ORST.EDU>

Hi all,

I had asked a question a few days ago on this list. I did not receive an
answer. Since it was important to me, I looked for the answer in some
references but as I am not really a statistics guy, the jargon was
overwhelming for me. I apologize if this question is too trivial.

Here is the question again:

I used the lm() function to fit a linear model to a set of items that I
got from a file using the read.table() function.

The response variable in this case is non-numeric.

When I used some of the data in the same file and tried to predict the
response variable for the first 5 rows by doing:

> pred <- predict(model, newdata)
> pred
        1         2         3         4         5
37.890006 82.584161 30.794062  3.796456 41.568923

The predictions should have been those non-numeric values that were in the
response variable field when I fitted the model. Now I want to compare and
see if the predictions are correct. Can someone tell me how to extract
those non-numeric values from this.

Thanks in advance.
-Saket.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sun Jun  2 05:42:47 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 01 Jun 2002 23:42:47 -0400
Subject: [R] predicting non-numeric values
In-Reply-To: <Pine.GSO.4.31.0206011659080.17748-100000@flop.ENGR.ORST.ED
 U>
Message-ID: <5.1.0.14.2.20020601233404.01d77488@mcmail.cis.mcmaster.ca>

Dear Saket,

Linear models, as fit by the lm function, require a quantitative response 
variable. I'm surprised that you didn't encounter a problem in fitting the 
model in the first place.

If the response variable is categorical (which seems to be implied by a 
non-numeric response), then other models should be used. For example, if 
the response is dichotomous, a linear logit model may be appropriate; 
binary and binomial logit models may be fit in R with the glm (generalized 
linear model) function. If the response is polytomous, then there are 
several other possibilities.

I hope that this helps,
  John

At 05:05 PM 6/1/2002 -0700, Saket Joshi wrote:

>I had asked a question a few days ago on this list. I did not receive an
>answer. Since it was important to me, I looked for the answer in some
>references but as I am not really a statistics guy, the jargon was
>overwhelming for me. I apologize if this question is too trivial.
>
>Here is the question again:
>
>I used the lm() function to fit a linear model to a set of items that I
>got from a file using the read.table() function.
>
>The response variable in this case is non-numeric.
>
>When I used some of the data in the same file and tried to predict the
>response variable for the first 5 rows by doing:
>
> > pred <- predict(model, newdata)
> > pred
>         1         2         3         4         5
>37.890006 82.584161 30.794062  3.796456 41.568923
>
>The predictions should have been those non-numeric values that were in the
>response variable field when I fitted the model. Now I want to compare and
>see if the predictions are correct. Can someone tell me how to extract
>those non-numeric values from this.


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Sun Jun  2 16:56:51 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Sun, 2 Jun 2002 10:56:51 -0400 (EDT)
Subject: [R] dichotomous independent variables in binomial glmm model
Message-ID: <Pine.LNX.4.21.0206021052210.17665-100000@perrin.socsci.unc.edu>

This question is a followup on the one I posted Friday
(http://www.r-project.org/nocvs/mail/r-help/2002/4485.html).

I believe I have narrowed the problem to the observation that models fail
to converge when they have dichotomous predictors; to wit:

glmmPQL(random = ~1 | groupid/participantid,
                       fixed=r.logic.morality ~ realage,
                       data=fgdata.10statements.df,
                       na.action=na.omit,
                       niter=50,
                       family=binomial)

works fine, but

glmmPQL(random = ~1 | groupid/participantid,
                       fixed=r.logic.morality ~ is.prot
                       data=fgdata.10statements.df,
                       na.action=na.omit,
                       niter=50,
                       family=binomial)

fails with:

iteration 1 
Error in MEEM(object, conLin, control$niterEM) : 
        Singularity in backsolve at level 0, block 1


This makes sense to me, as a dichotomous variable could be expected to
provide insufficient variability in a transformed matrix.

Unfortunately, though, I need to use dummy variables as fixed effects. Any
advice?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Sun Jun  2 17:10:06 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Sun, 2 Jun 2002 10:10:06 -0500 (CDT)
Subject: [R] quantreg 3.09
Message-ID: <Pine.GSO.4.33.0206020955400.15311-100000@ysidro.econ.uiuc.edu>

A new version of the quantile regression package (quantreg 3.09) is now
available on CRAN.  The new features include:

1.  a new fitting method "fnc" for rq() which allow the call to specify
linear inequality constraints on the coefficients.

2.  an anova() function for rq objects that implements several F-like tests
for quantile regression models at a given quantile, and other F-like tests
for tests of linear restrictions on coefficients of rq() fits for several
quantiles, e.g. tests of equality of slopes across quantile fits.

3.  some new plotting routines of the sort appearing in my recent JASA
paper with Olga Geling on survival models for the Carey, et al medfly
experiment data.

Comments would be welcome...

url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Mon Jun  3 01:45:51 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Sun, 2 Jun 2002 16:45:51 -0700 (PDT)
Subject: [R] R 1.5.0 printing problems on Win98?
Message-ID: <Pine.OSF.4.44.0206021621290.68080-100000@axe.humboldt.edu>

Colleagues--

I'm having a problem upgrading to R 1.5.0 on a Windows 98 computer.  The
windows() graphics device seems to behave strangely.  A call to windows()
opens an active graphics device, as does a call to a plotting function,
e.e. plot(1:5,1:5).  So far so good.  When I click on the Printer icon
(with the graphics device active) nothing happens.  Likewise when I use
win.print() from the console window.  The image prints if I exit R, which
I presume flushes a buffer.  If I've attempted to print several plots
during an R 1.5.0 session then only the last such attempt actually prints
when I exit (although I'm not certain about the consistany of this
behavior-- I've tried so many combinations of icon clicking and
win.print()'ing that I've apparently flushed the buffer in other ways,
e.g. by killing and restarting the graphics device (I think).  Anyway, no
such strange behavior from R 1.4.1 on the same machine.

Is this a known issue? I haven't seen any mention of it on r-help.  Is
there additional information I can provide to help resolve the problem?

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robut at forest.go.th  Sun Jun  2 12:17:09 2002
From: robut at forest.go.th (Robert Cunningham)
Date: Sun, 2 Jun 2002 17:17:09 +0700
Subject: [R] selections using text strings (result of noquote)
Message-ID: <FAD37E46320F154CA434D82BBFE41CE014CB6A@dc-server.forest.go.th>

G'day all,

I am trying to use a string as an argument in a selection but things are
not working as I expect, seems the selection is not seeing the expanded
string and I do not know how to make it. Perhaps the noquote class value
that is returned is the problem.

Here is an example.

> selection #this is my string
[1] "attackprogress$Se=='Toona ciliata [19825: JMM35]'"
> noquote(selection) #if I do this I get a string that if I paste into
[] works fine
[1] attackprogress$Se=='Toona ciliata [19825: JMM35]'
> attackprogress$No[attackprogress$Se=='Toona ciliata [19825: JMM35]']
#this is fine
  [1]  0  0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0
 [26]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0
 [51]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  3  0  0  0  0  0  0
0  0  0
 [76]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  4  4  3  3  2  1  1
1  4  2
[101]  0  1  2  0  1  1  1  2  3  2  2  3  0  1  1  0  0  0  0  0  3  1
2  4  4
[126]  1  1  1  1  1  0  3  2  1  1  2  1  2  1  2  2  3  0  1  1  1  0
1  0  0
[151]  3  3  1  2  3  3  1  1  1  1  1  1  1  0  1  2  1  3  3  2  1  4
1  2  2
[176]  1  0  0  0  1  2  4  0  3  0  3  2  2  2  1  2  3  2  1  2  2  2
3  4  3
[201]  1  3  1  3  4  1  0  0  0  2  2  4  3  2  4  2  4 10  5  2  3  1
2  1  3
[226]  3  4  4  3  2  2  1  3  3  0  1  1  1  4  3  4  5  5  5  3  2  2
5  1  2
[251]  2  1  1  6  2  5  6  5  2  2  1  2  4  0  1  2  1  1  6  4  5  3
5  4  7
[276]  7  5  7  5  5  4  4  6  1  6  7  5  3  6  1  9  6  3  4  1  2  1
7  3  5
[301]  3  4  5  7  7 10  3 10  5  7  5  5  5  3  1  3  3  2  4  3  1  2
> attackprogress$No[noquote(selection)] #this is not
[1] NA

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R              

TIA.


Cheers,
Robert Cunningham
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bindra at as.itb.ac.id  Mon Jun  3 07:34:59 2002
From: bindra at as.itb.ac.id (Baju Indradjaja)
Date: Mon, 03 Jun 2002 12:34:59 +0700
Subject: [R] Link on R-help doesn't work
Message-ID: <20020603053459.70019.qmail@as.itb.ac.id>

Hi there, 

I found a small problem after installing the recent version
of R (1.5.0) for Windows.  The link on its documentation (.PDF)
does not work.  Am I just the one who has this problem ?
I am using Windows ME. 

Thank you. 

Baju Indradjaja
Dept. of Astronomy, ITB
Jl. Ganesha 10, Bandung
INDONESIA
 ----------------------- 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun  3 08:34:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 03 Jun 2002 08:34:46 +0200
Subject: [R] selections using text strings (result of noquote)
References: <FAD37E46320F154CA434D82BBFE41CE014CB6A@dc-server.forest.go.th>
Message-ID: <3CFB0E06.6AD2F4C0@statistik.uni-dortmund.de>



Robert Cunningham wrote:
> 
> G'day all,
> 
> I am trying to use a string as an argument in a selection but things are
> not working as I expect, seems the selection is not seeing the expanded
> string and I do not know how to make it. Perhaps the noquote class value
> that is returned is the problem.
> 
> Here is an example.
> 
> > selection #this is my string
> [1] "attackprogress$Se=='Toona ciliata [19825: JMM35]'"
> > noquote(selection) #if I do this I get a string that if I paste into
> [] works fine
> [1] attackprogress$Se=='Toona ciliata [19825: JMM35]'
> > attackprogress$No[attackprogress$Se=='Toona ciliata [19825: JMM35]']
> #this is fine
>   [1]  0  0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
> 0  0  0
>  [26]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
> 0  0  0
>  [51]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  3  0  0  0  0  0  0
> 0  0  0
>  [76]  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  4  4  3  3  2  1  1
> 1  4  2
> [101]  0  1  2  0  1  1  1  2  3  2  2  3  0  1  1  0  0  0  0  0  3  1
> 2  4  4
> [126]  1  1  1  1  1  0  3  2  1  1  2  1  2  1  2  2  3  0  1  1  1  0
> 1  0  0
> [151]  3  3  1  2  3  3  1  1  1  1  1  1  1  0  1  2  1  3  3  2  1  4
> 1  2  2
> [176]  1  0  0  0  1  2  4  0  3  0  3  2  2  2  1  2  3  2  1  2  2  2
> 3  4  3
> [201]  1  3  1  3  4  1  0  0  0  2  2  4  3  2  4  2  4 10  5  2  3  1
> 2  1  3
> [226]  3  4  4  3  2  2  1  3  3  0  1  1  1  4  3  4  5  5  5  3  2  2
> 5  1  2
> [251]  2  1  1  6  2  5  6  5  2  2  1  2  4  0  1  2  1  1  6  4  5  3
> 5  4  7
> [276]  7  5  7  5  5  4  4  6  1  6  7  5  3  6  1  9  6  3  4  1  2  1
> 7  3  5
> [301]  3  4  5  7  7 10  3 10  5  7  5  5  5  3  1  3  3  2  4  3  1  2
> > attackprogress$No[noquote(selection)] #this is not

Now it is a "noquoted" string, but you need an expression ...

Try:

  attackprogress$No[eval(parse(text = selection))]

parse() "converts" the "selection" string to an expression, and eval()
evaluates it ....

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun  3 08:41:36 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 03 Jun 2002 08:41:36 +0200
Subject: [R] R 1.5.0 printing problems on Win98?
References: <Pine.OSF.4.44.0206021621290.68080-100000@axe.humboldt.edu>
Message-ID: <3CFB0FA0.8EB72682@statistik.uni-dortmund.de>



Michael Camann wrote:
> 
> Colleagues--
> 
> I'm having a problem upgrading to R 1.5.0 on a Windows 98 computer.  The
> windows() graphics device seems to behave strangely.  A call to windows()
> opens an active graphics device, as does a call to a plotting function,
> e.e. plot(1:5,1:5).  So far so good.  When I click on the Printer icon
> (with the graphics device active) nothing happens.  Likewise when I use
> win.print() from the console window.  

That's the same user error I ran into every time I try it.
Read the docs: win.print() opens a device. You have to close it after
plotting with
dev.off()


> The image prints if I exit R, which
> I presume flushes a buffer.  If I've attempted to print several plots
> during an R 1.5.0 session then only the last such attempt actually prints
> when I exit (although I'm not certain about the consistany of this
> behavior-- I've tried so many combinations of icon clicking and
> win.print()'ing that I've apparently flushed the buffer in other ways,
> e.g. by killing and restarting the graphics device (I think).  Anyway, no
> such strange behavior from R 1.4.1 on the same machine.
> 
> Is this a known issue? 

Yes, the printer icon one. It is fixed in R-patched.
I think Windows binaries of a fixed release are somewhere on Brian
Ripley's pages.
Where exactly was mentioned by himself a few weeks ago on R-help, you'll
find it by searching the archives...


> I haven't seen any mention of it on r-help.  Is
> there additional information I can provide to help resolve the problem?


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  3 08:57:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 3 Jun 2002 07:57:03 +0100 (BST)
Subject: [R] Link on R-help doesn't work
In-Reply-To: <20020603053459.70019.qmail@as.itb.ac.id>
Message-ID: <Pine.LNX.4.31.0206030751450.16905-100000@gannet.stats>

Do you mean links *inside* the Reference Manual in PDF?  (The links to the
PDF documents work, as do the links in all the other manuals.)

That's a known problem (in 1.5.0, not just on Windows), which is in the
R-bugs database and fixed in R-patched.  A binary of R-patched from May 31
is available at

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe


On Mon, 3 Jun 2002, Baju Indradjaja wrote:

> Hi there,
>
> I found a small problem after installing the recent version
> of R (1.5.0) for Windows.  The link on its documentation (.PDF)
> does not work.  Am I just the one who has this problem ?
> I am using Windows ME.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun  3 09:01:49 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 03 Jun 2002 09:01:49 +0200
Subject: [R] Link on R-help doesn't work
References: <20020603053459.70019.qmail@as.itb.ac.id>
Message-ID: <3CFB145D.CE537F0F@statistik.uni-dortmund.de>



Baju Indradjaja wrote:
> 
> Hi there,
> 
> I found a small problem after installing the recent version
> of R (1.5.0) for Windows.  The link on its documentation (.PDF)
> does not work.  Am I just the one who has this problem ?
> I am using Windows ME.

Which one? They are all working for me.
Did you install all these docs?
Do you have Acrobat Reader installed properly?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Jun  3 15:00:28 2002
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 03 Jun 2002 09:00:28 -0400
Subject: [R] R 1.5.0 printing problems on Win98?
Message-ID: <ampmfuomgr3d5vkfasdj893imlghtjnasn@4ax.com>

>I'm having a problem upgrading to R 1.5.0 on a Windows 98 computer.  The
>windows() graphics device seems to behave strangely.

This is a known problem.  Brian Ripley compiled a patched version to
fix this; it is available as described here: 

 http://www.r-project.org/nocvs/mail/r-help/2002/3973.html

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb-europart at wanadoo.fr  Mon Jun  3 15:33:42 2002
From: gb-europart at wanadoo.fr (GB-Europart)
Date: Mon, 03 Jun 2002 15:33:42 +0200
Subject: [R] MG, Triumph, Austin Healey, Mini,  JAGUAR
Message-ID: <200206031348.PAA15075@stat.math.ethz.ch>

http://www.gb-europart.com

"GB-Europart.com " Europ?an Discount Web-shop site for Classic British Car Spares Parts
"GB-Europart.com " Online-Verkauf von Einzelteilen zum Discountpreis f?r: MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Vente en ligne de pi?ces d?tach?es ? prix discount pour: M MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Vendita in linea di pezzi singoli a prezzi scontati per:  MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Venta en l?nea de piezas de recambio a precio de descuento para: M MG, Triumph, Austin Healey, Mini,  JAGUAR"  

From gb-europart at wanadoo.fr  Mon Jun  3 15:34:42 2002
From: gb-europart at wanadoo.fr (GB-Europart)
Date: Mon, 03 Jun 2002 15:34:42 +0200
Subject: [R] MG, Triumph, Austin Healey, Mini,  JAGUAR
Message-ID: <E17EsD4-0004t5-00@bernie.ethz.ch>

http://www.gb-europart.com

"GB-Europart.com " Europ?an Discount Web-shop site for Classic British Car Spares Parts
"GB-Europart.com " Online-Verkauf von Einzelteilen zum Discountpreis f?r: MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Vente en ligne de pi?ces d?tach?es ? prix discount pour: M MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Vendita in linea di pezzi singoli a prezzi scontati per:  MG, Triumph, Austin Healey, Mini,  JAGUAR"
" GB-Europart.com " Venta en l?nea de piezas de recambio a precio de descuento para: M MG, Triumph, Austin Healey, Mini,  JAGUAR"  

From macq at llnl.gov  Mon Jun  3 16:51:24 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 3 Jun 2002 07:51:24 -0700
Subject: [R] error in seq.POSIXt?
In-Reply-To: <Pine.GSO.4.30.0205311448220.2517-100000@box.cgd.ucar.edu>
References: <Pine.GSO.4.30.0205311448220.2517-100000@box.cgd.ucar.edu>
Message-ID: <p05111700b92124b4c18c@[128.115.153.6]>

Brandon,
Here is the explanation.

Think in terms of two different definitions of "day":
   (1) an interval of 24 hours, and
   (2) the interval from one day to the same time the next day.
These are identical, except for two days each year in time zones 
where an adjustment is made for the summer months. Then, (2) is 23 
hours when the interval includes the transition to summer time, and 
25 when it includes the transition back.

by='day' in seq.POSIXt() uses definition (1)
by='DSTday' uses definition (2)  (only available in R >= version 1.5.0).

temp.begin is in standard time. In 1974 and 1975, temp.end is in 
summer time, and so is one hour short of the 90th day, causing 
seq.POSIXt to return only 89 days. The other years, temp.end is also 
in standard time, so temp.end and temp.begin are an integer multiple 
of 24 hours apart.

I suggest using
   seq(temp.begin, length.out=90, by="DSTday")
instead of
   seq(temp.begin, length.out=90, by="day")
study the output of the code below to see why.


for(year in 1973:1976) {
   temp.begin <- ISOdatetime(year-1,12,1,0,0,0)
   temp.end <- ISOdatetime(year,2,28,0,0,0)
   ts1 <- seq(temp.begin, temp.end, by="day")
   ts2 <- seq(temp.begin, length.out=90, by="day")
   ts3 <- seq(temp.begin, length.out=90, by="DSTday")
   cat(
       format(temp.end,'%Y-%m-%d %H:%M %Z'),
       format(max(ts1),'%Y-%m-%d %H:%M %Z'),
       format(max(ts2),'%Y-%m-%d %H:%M %Z'),
       format(max(ts3),'%Y-%m-%d %H:%M %Z'),
       length(ts1),
       length(ts2),
       length(ts3),
       difftime(max(ts1),ts1[1],units='h'),
       difftime(max(ts2),ts2[1],units='h'),
       difftime(max(ts3),ts3[1],units='h'),
       (as.numeric(temp.end)-as.numeric(temp.begin))/(24*60*60),
       "\n")
}


In case anyone reading Brandon's first message thought he had found a 
bug, I have to say, no this is not a bug. The transitions to and from 
daylight savings time (to use the American misnomer) are like a 
minefield waiting to trip the unwary--and I have been caught by them 
many times.

-Don

At 3:27 PM -0600 5/31/02, Brandon Whitcher wrote:
>I am trying to extract only the winters (defined to be 01-Dec through
>28-Feb) of daily data from 1948-2002.  There are 90 days in each winter
>season.  I wrote the following code to gather the winter dates into a
>single vector:
>
>DJF <- NULL
>for(year in 1949:1999) {
>   temp.begin <- strptime(paste("01/12", year-1, sep="/"), "%d/%m/%Y")
>   temp.end <- strptime(paste("28/02", year, sep="/"), "%d/%m/%Y")
>   ## Gives wrong answer:
>   temp.seq <- seq(temp.begin, temp.end, by="day")
>   if(is.null(DJF))
>     DJF <- temp.seq
>   else
>     DJF <- c(DJF, temp.seq)
>   cat("Winter:", year, "\t", length(temp.seq), "\n")
>}
>
>with the following output:
>
>Winter: 1949	 90
>Winter: 1950	 90
>Winter: 1951	 90
>Winter: 1952	 90
>Winter: 1953	 90
>Winter: 1954	 90
>Winter: 1955	 90
>Winter: 1956	 90
>Winter: 1957	 90
>Winter: 1958	 90
>Winter: 1959	 90
>Winter: 1960	 90
>Winter: 1961	 90
>Winter: 1962	 90
>Winter: 1963	 90
>Winter: 1964	 90
>Winter: 1965	 90
>Winter: 1966	 90
>Winter: 1967	 90
>Winter: 1968	 90
>Winter: 1969	 90
>Winter: 1970	 90
>Winter: 1971	 90
>Winter: 1972	 90
>Winter: 1973	 90
>Winter: 1974	 89
>Winter: 1975	 89
>Winter: 1976	 90
>Winter: 1977	 90
>Winter: 1978	 90
>Winter: 1979	 90
>Winter: 1980	 90
>Winter: 1981	 90
>Winter: 1982	 90
>Winter: 1983	 90
>Winter: 1984	 90
>Winter: 1985	 90
>Winter: 1986	 90
>Winter: 1987	 90
>Winter: 1988	 90
>Winter: 1989	 90
>Winter: 1990	 90
>Winter: 1991	 90
>Winter: 1992	 90
>Winter: 1993	 90
>Winter: 1994	 90
>Winter: 1995	 90
>Winter: 1996	 90
>Winter: 1997	 90
>Winter: 1998	 90
>Winter: 1999	 90
>Winter: 2000	 90
>Winter: 2001	 90
>Winter: 2002	 90
>
>There are two years, 1974 and 1975, that produce only 89 days per winter.
>I could not figure out what the cause of this was, but a workaround is two
>rewrite the call to seq.POSIXt as:
>
>temp.seq <- seq(temp.begin, length.out=90, by="day")
>
>I am unsure why one works and one does not.  Any ideas?
>
>Brandon
>
>----------------------------------------------------------------------------
>   Geophysical Statistics Project
>   National Center for Atmospheric Research          +1 303 497 1709  voice
>   P.O. Box 3000, Boulder, CO  80307-3000            +1 303 497 1333  fax
>
>   whitcher at ucar.edu                            www.cgd.ucar.edu/~whitcher/
>----------------------------------------------------------------------------
>
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Mon Jun  3 16:59:57 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Mon, 03 Jun 2002 16:59:57 +0200
Subject: [R] discrete values for dynamic javaScript
Message-ID: <3CFB846D.2090408@metrinomics.de>

Hi,
have got anybody experience or a  good starting point  how i
can fill dynamically my javaScript ?

...this is a part of the javaScript and only the label "LabelX"
and  the 5 discrete values should be dynamically construct from R.

WB[0].Z=new Array()
WB[0].Z[0]=new Z_Values("Label1" ,0,false,false,true,0)
WB[0].Z[1]=new Z_Values("Label2" ,1,false,false,false,1)
WB[0].Z[2]=new Z_Values("Label3" ,-1,false,false,true,-1)
WB[0].Z[3]=new Z_Values("Label4" ,-1,true,false,true,-1)
WB[0].Z[4]=new Z_Values("Label5" ,-1,false,true,false,-1)

The calculation of the discrete values etc. is not my problem,
but construct a standard static textFile (JavaScript.ini) with the 
dynamic calculated discrete values
dependent from my  data/filter/definitions ... ?

P.S.
It's really harm that the Netsacpe package (omegahat) works in present 
only with Linux/Unix !
It's time to migrate ;-)  

Thanks for any suggestions & regards,
Christian




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml at henge-ernst.de  Mon Jun  3 18:34:44 2002
From: ml at henge-ernst.de (=?iso-8859-15?q?J=FCrgen=20Henge-Ernst?=)
Date: Mon, 3 Jun 2002 18:34:44 +0200
Subject: [R] R 1.5.0 packages for SuSE i386
Message-ID: <200206031834.58038.ml@henge-ernst.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

during today I build R 1.5.0-packages on a SuSE 7.3 they normaly should also 
run on a 7.2 and 8.0. I also compiled the contribute packages

It The following packages failed, cause I believe I haven't installed all 
neccessary includes and libaries:

checking for package ipred ...failed!
checking for package cramer ...failed!
checking for package hdf5 ...failed!
checking for package pcurve ...failed!
checking for package Bhat ...failed!
checking for package SASmixed ...failed!
checking for package netCDF ...failed!
checking for package pear ...failed!
checking for package Rmpi ...failed!
checking for package tripack ...failed!
checking for package spdep ...failed!
checking for package vegan ...failed!
checking for package rsprng ...failed!
checking for package princurve ...failed!
checking for package gregmisc ...failed!
checking for package ellipse ...failed!
checking for package ROracle ...failed!
checking for package XML ...failed!
checking for package subselect ...failed!
checking for package locfit ...failed!
checking for package RQuantLib ...failed!
checking for package agce ...failed!
checking for package lasso2 ...failed!
checking for package Matrix ...failed!
checking for package rpvm ...failed!
checking for package tree ...failed!
checking for package RmSQL ...failed!
checking for package VR ...failed!
checking for package wle ...failed!
checking for package e1071 ...failed!
checking for package mda ...failed!
checking for package bindata ...failed!
checking for package nlme ...failed!

You can download them from:
ftp://www.alex.wh.tu-darmstadt.de/pub/R-1.5.0_20020803/linux/SuSE/7.3

If there is intresst I can try to fix the missing packages.

Greetings J?rgen
- -- 
 Juergen Henge-Ernst // Hauptstrasse 37 // 67591 M?lsheim // Germany
           email: juergen at henge-ernst.de        ICQ 56324358
Key fingerprint = 5FFD 89AC 6C7B 76DD 5FAC  9A3F D1A9 0C9B 3B49 67B1
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8+5qk0akMmztJZ7ERAgyKAJsEJbAWE2/tc2gLmLXu8Y79OCxSKgCgiNMz
xmCu/Dzd3MESZ48l/3ZoCyg=
=6h7s
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jun  3 19:15:08 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 3 Jun 2002 19:15:08 +0200 (MET DST)
Subject: [R] Error at save.image() with SetupRpatched.exe
Message-ID: <Pine.OSF.3.96.1020603100213.232B-100000@paleo>

After installing 
http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe

on a Win95 machine,
save.image() produces the error:
Error in save.image(name) : image could not be renamed and is left in
.RDataTmp

and, actually, .RDataTmp is not created.

save.image(safe = FALSE)

works fine.

This sounds simmilar to the problem reported
Marc R. Feldesman <feldesmanm at pdx.edu> on Win 2000, but could not find
the fix in the archives. 

Is this a bug? a problem in my system? a wrong installation?...

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Mon Jun  3 20:07:27 2002
From: nj7w at virginia.edu (nj7w@virginia.edu)
Date: Mon, 3 Jun 2002 14:07:27 -0400 (EDT)
Subject: [R] (Summary) R and S interface 
Message-ID: <Pine.A41.4.32.0206031406030.44110-100000@node8.unix.Virginia.EDU>

Thanks to Mr. Lang and Mr. Singhal, who helped me solve the problem on
Installing RinS. The problem was that my system couldn't find
libR.so and zlib.h (the two files needed for installation).

They told me:

> > libR.so
> > doesn't get built or installed by default. Instead, to run R within
> > S-Plus, you must configure and compile R as a shared library.
> > To do this, download the R source code, un-tar it and
> > execute the commands
> >
> >   cd <top of R source tree>
> >   ./configure --enable-R-shlib
> >   make
>

and to download/install the file zlib from
http://prdownloads.sourceforge.net/libpng/zlib-1.1.4.tar.gz

-Nitin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From palpha74 at hotmail.com  Mon Jun  3 20:39:11 2002
From: palpha74 at hotmail.com (Alpha Pern?a)
Date: Mon, 03 Jun 2002 18:39:11 +0000
Subject: [R] LTS
Message-ID: <F83GZKRUl5KWq4vJ84y0001240f@hotmail.com>

Hello

  I want to ask if the estimator method LTS (Least Trimmed Squares) is 
implemented in R. I've found the lqs(y~x,method = c("lts")) tool that 
implements LTS but minimazing the sum of the `quantile' smallest squared 
residuals. I don't know if this is the same as the clasical LTS, if it is, 
where do I set the trim (h value to trim the LS sum)?

  I'll be waiting for any help.

  Thanks for listening

                  Alpha




_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon Jun  3 20:46:23 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 03 Jun 2002 18:46:23 +0000
Subject: [R] Error at save.image() with SetupRpatched.exe
References: <Pine.OSF.3.96.1020603100213.232B-100000@paleo>
Message-ID: <3CFBB97F.975CF14D@sentoo.sn>

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   Patched        
major    1              
minor    5.0            
year     2002           
month    05             
day      15             
language R    

OS: Win98

I have the same and implemented

Save <- function() save.image(safe = FALSE)

as a workaround.

Best,

Renaud

Agustin Lobo wrote:
> 
> After installing
> http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe
> 
> on a Win95 machine,
> save.image() produces the error:
> Error in save.image(name) : image could not be renamed and is left in
> .RDataTmp
> 
> and, actually, .RDataTmp is not created.
> 
> save.image(safe = FALSE)
> 
> works fine.
> 
> This sounds simmilar to the problem reported
> Marc R. Feldesman <feldesmanm at pdx.edu> on Win 2000, but could not find
> the fix in the archives.
> 
> Is this a bug? a problem in my system? a wrong installation?...
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  3 21:10:12 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 3 Jun 2002 20:10:12 +0100 (BST)
Subject: [R] LTS
In-Reply-To: <F83GZKRUl5KWq4vJ84y0001240f@hotmail.com>
Message-ID: <Pine.LNX.4.31.0206032009001.17066-100000@gannet.stats>

On Mon, 3 Jun 2002, Alpha Pern?a wrote:

> Hello
>
>   I want to ask if the estimator method LTS (Least Trimmed Squares) is
> implemented in R. I've found the lqs(y~x,method = c("lts")) tool that
> implements LTS but minimazing the sum of the `quantile' smallest squared
> residuals. I don't know if this is the same as the clasical LTS, if it is,

Yes.

> where do I set the trim (h value to trim the LS sum)?

Wherever you want, depending on the effect you want.

You sound confused: try the ltsreg wrapper.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  3 22:01:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 3 Jun 2002 21:01:34 +0100 (BST)
Subject: [R] Error at save.image() with SetupRpatched.exe
In-Reply-To: <3CFBB97F.975CF14D@sentoo.sn>
Message-ID: <Pine.LNX.4.31.0206032100320.17140-100000@gannet.stats>

Seems to be a typo in the Windows docs for Windows 9x.

Fix committed to R-patched sources: please recompile and confirm that
this works under your OSes.

On Mon, 3 Jun 2002, Renaud Lancelot wrote:

> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status   Patched
> major    1
> minor    5.0
> year     2002
> month    05
> day      15
> language R
>
> OS: Win98
>
> I have the same and implemented
>
> Save <- function() save.image(safe = FALSE)
>
> as a workaround.
>
> Best,
>
> Renaud
>
> Agustin Lobo wrote:
> >
> > After installing
> > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe
> >
> > on a Win95 machine,
> > save.image() produces the error:
> > Error in save.image(name) : image could not be renamed and is left in
> > .RDataTmp
> >
> > and, actually, .RDataTmp is not created.
> >
> > save.image(safe = FALSE)
> >
> > works fine.
> >
> > This sounds simmilar to the problem reported
> > Marc R. Feldesman <feldesmanm at pdx.edu> on Win 2000, but could not find
> > the fix in the archives.
> >
> > Is this a bug? a problem in my system? a wrong installation?...
> >
> > Thanks
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> Dr Renaud Lancelot, vtrinaire
> CIRAD, Dpartement Elevage et Mdecine Vtrinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Franais)
> http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
>
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon Jun  3 22:21:08 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 03 Jun 2002 20:21:08 +0000
Subject: [R] Error at save.image() with SetupRpatched.exe
References: <Pine.LNX.4.31.0206032100320.17140-100000@gannet.stats>
Message-ID: <3CFBCFB4.32DF8BEF@sentoo.sn>

Unfortunately, I can't recompile sources (I promise I will learn soon,
hopefully :-) ). Thanks for the explanation and fix, anyway.

Best,

Renaud

ripley at stats.ox.ac.uk wrote:
> 
> Seems to be a typo in the Windows docs for Windows 9x.
> 
> Fix committed to R-patched sources: please recompile and confirm that
> this works under your OSes.
> 
> On Mon, 3 Jun 2002, Renaud Lancelot wrote:
> 
> > platform i386-pc-mingw32
> > arch     i386
> > os       mingw32
> > system   i386, mingw32
> > status   Patched
> > major    1
> > minor    5.0
> > year     2002
> > month    05
> > day      15
> > language R
> >
> > OS: Win98
> >
> > I have the same and implemented
> >
> > Save <- function() save.image(safe = FALSE)
> >
> > as a workaround.
> >
> > Best,
> >
> > Renaud
> >
> > Agustin Lobo wrote:
> > >
> > > After installing
> > > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe
> > >
> > > on a Win95 machine,
> > > save.image() produces the error:
> > > Error in save.image(name) : image could not be renamed and is left in
> > > .RDataTmp
> > >
> > > and, actually, .RDataTmp is not created.
> > >
> > > save.image(safe = FALSE)
> > >
> > > works fine.
> > >
> > > This sounds simmilar to the problem reported
> > > Marc R. Feldesman <feldesmanm at pdx.edu> on Win 2000, but could not find
> > > the fix in the archives.
> > >
> > > Is this a bug? a problem in my system? a wrong installation?...
> > >
> > > Thanks
> > >
> > > Agus
> > >
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > --
> > Dr Renaud Lancelot, v?t?rinaire
> > CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
> > Programme Productions Animales
> > http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
> > http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
> >
> > ISRA-LNERV                      tel    (221) 832 49 02
> > BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> > Senegal                         e-mail renaud.lancelot at cirad.fr
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eglen at pcg.wustl.edu  Tue Jun  4 00:26:28 2002
From: eglen at pcg.wustl.edu (Stephen Eglen)
Date: Mon, 3 Jun 2002 17:26:28 -0500 (CDT)
Subject: [R] symbols: zero radius circles are drawn.
Message-ID: <200206032226.g53MQSH05193@pcg.wustl.edu>

Hi,

I don't think this is a bug, but I thought I'd mention it in case
others think it is not correct... I guess it is probably just a
rounding error.

If I use symbols() to draw some circles, any circle with radius of
zero gets drawn as a small circle.  As an example:

postscript(file="test.ps")
symbols(1:9, rep(2,9),
         circles=seq(from=0.05, to=0.0, length=9),
         inches=FALSE, xlim=c(0, 10), ylim=c(1,3))
dev.off()

The rightmost circle should be of radius 0, but looking at the plot it is
drawn bigger than both the previous two circles.

The workaround I used was to change any radius of 0 to NA so that no
circle is then drawn.

Stephen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun  4 02:27:40 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 3 Jun 2002 17:27:40 -0700 (PDT)
Subject: [R] symbols: zero radius circles are drawn.
In-Reply-To: <200206032226.g53MQSH05193@pcg.wustl.edu>
Message-ID: <Pine.A41.4.44.0206031724410.61354-100000@homer11.u.washington.edu>

On Mon, 3 Jun 2002, Stephen Eglen wrote:

> Hi,
>
> I don't think this is a bug, but I thought I'd mention it in case
> others think it is not correct... I guess it is probably just a
> rounding error.
>
> If I use symbols() to draw some circles, any circle with radius of
> zero gets drawn as a small circle.  As an example:
>

It seems to be deliberate. In src/main/graphics.c:GCircle we have
    ir = radius/Rf_gpptr(dd)->ipr[0];
    ir = (ir > 0) ? ir : 1;

so that a circle of radius zero is set to a positive radius. What I don't
know is whether this is needed -- perhaps some devices won't draw
zero-radius circles correctly, for example.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 09:08:15 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 08:08:15 +0100 (BST)
Subject: [R] symbols: zero radius circles are drawn.
In-Reply-To: <Pine.A41.4.44.0206031724410.61354-100000@homer11.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0206040757310.25130-100000@gannet.stats>

On Mon, 3 Jun 2002, Thomas Lumley wrote:

> On Mon, 3 Jun 2002, Stephen Eglen wrote:
>
> > Hi,
> >
> > I don't think this is a bug, but I thought I'd mention it in case
> > others think it is not correct... I guess it is probably just a
> > rounding error.
> >
> > If I use symbols() to draw some circles, any circle with radius of
> > zero gets drawn as a small circle.  As an example:
> >
>
> It seems to be deliberate. In src/main/graphics.c:GCircle we have
>     ir = radius/Rf_gpptr(dd)->ipr[0];
>     ir = (ir > 0) ? ir : 1;
>
> so that a circle of radius zero is set to a positive radius. What I don't
> know is whether this is needed -- perhaps some devices won't draw
> zero-radius circles correctly, for example.

The relevant cvs log says

revision 1.76
date: 2000/05/16 04:56:07;  author: ihaka;  state: Exp;  lines: +85 -79
Changes by Paul and Ross to fix some problems with the clipping of
circles and rectangles.

Note that some devices have further protection: for example I added code
at 1.5.0 to the Windows devices to make all circle radius at least one, as
circles of radius less than two pixels were being omitted on Win 9x but
not on NT.

I suspect this is best described as an undocumented feature.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jun  4 09:47:38 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 4 Jun 2002 09:47:38 +0200 (MET DST)
Subject: [R] Error at save.image() with SetupRpatched.exe
In-Reply-To: <Pine.LNX.4.31.0206032100320.17140-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1020604093701.22486C-100000@paleo>


I'm a bit reluctant to compile R under win95, as I install Rwin on a
labtop
only for eventual use, carrying out most of my work on a linux
machine, and I know very little on the many nuances  of the Win* OS.

I'll try this afternoon, anyway. What file should I download?
 R-patched_2002-06-04.tar.gz ?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 3 Jun 2002 ripley at stats.ox.ac.uk wrote:

> Seems to be a typo in the Windows docs for Windows 9x.
> 
> Fix committed to R-patched sources: please recompile and confirm that
> this works under your OSes.
> 
> On Mon, 3 Jun 2002, Renaud Lancelot wrote:
> 
> > platform i386-pc-mingw32
> > arch     i386
> > os       mingw32
> > system   i386, mingw32
> > status   Patched
> > major    1
> > minor    5.0
> > year     2002
> > month    05
> > day      15
> > language R
> >
> > OS: Win98
> >
> > I have the same and implemented
> >
> > Save <- function() save.image(safe = FALSE)
> >
> > as a workaround.
> >
> > Best,
> >
> > Renaud
> >
> > Agustin Lobo wrote:
> > >
> > > After installing
> > > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe
> > >
> > > on a Win95 machine,
> > > save.image() produces the error:
> > > Error in save.image(name) : image could not be renamed and is left in
> > > .RDataTmp
> > >
> > > and, actually, .RDataTmp is not created.
> > >
> > > save.image(safe = FALSE)
> > >
> > > works fine.
> > >
> > > This sounds simmilar to the problem reported
> > > Marc R. Feldesman <feldesmanm at pdx.edu> on Win 2000, but could not find
> > > the fix in the archives.
> > >
> > > Is this a bug? a problem in my system? a wrong installation?...
> > >
> > > Thanks
> > >
> > > Agus
> > >
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > --
> > Dr Renaud Lancelot, vtrinaire
> > CIRAD, Dpartement Elevage et Mdecine Vtrinaire (CIRAD-Emvt)
> > Programme Productions Animales
> > http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Franais)
> > http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
> >
> > ISRA-LNERV                      tel    (221) 832 49 02
> > BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> > Senegal                         e-mail renaud.lancelot at cirad.fr
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 09:50:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 08:50:43 +0100 (BST)
Subject: [R] Error at save.image() with SetupRpatched.exe
In-Reply-To: <Pine.OSF.3.96.1020604093701.22486C-100000@paleo>
Message-ID: <Pine.LNX.4.31.0206040848020.25195-100000@gannet.stats>

On Tue, 4 Jun 2002, Agustin Lobo wrote:

>
> I'm a bit reluctant to compile R under win95, as I install Rwin on a
> labtop
> only for eventual use, carrying out most of my work on a linux
> machine, and I know very little on the many nuances  of the Win* OS.
>
> I'll try this afternoon, anyway. What file should I download?
>  R-patched_2002-06-04.tar.gz ?

That should be fine, but if you want to wait, I will get a pre-compiled
version up later this week.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefan.roepcke at metagen.de  Tue Jun  4 11:07:54 2002
From: stefan.roepcke at metagen.de (Stefan Roepcke)
Date: Tue, 04 Jun 2002 11:07:54 +0200
Subject: [R] Scaling on a data.frame
Message-ID: <3CFC836A.4593515D@metagen.de>

Hey,

hopefully there is an easy way to solve my problem.
All that i think off is lengthy and clumsy.

Given a data.frame d with columns VALUE, FAC1, FAC2, FAC3.
Let FAC1 be something like experiment number,
so that there are exactly the same number of rows for each level of FAC1
in the data.frame.

Now i would like to scale all values according to the center of its
experiment.
So i can apply s <- by(d[1], FAC1, scale).
But i don't want to lose the binding to the other factors (FAC2, FAC3).
Or can i only control it via order preserving - it seems unsave.

Something like that would be nice:
"by(d[1], FAC1) <- by(d[1], FAC1, scale)"

Thanks, Stefan.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Tue Jun  4 11:31:19 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Tue, 4 Jun 2002 17:31:19 +0800
Subject: [R] Could I release some memory?
In-Reply-To: <FAD37E46320F154CA434D82BBFE41CE014CB6A@dc-server.forest.go.th>
Message-ID: <IPECKKKLFINFHEGMEKKGAEADCBAA.ken_lee@tynesys.com>

Dear all,
       If  I have been using a large memory, Could I have any command to release?
Like  tmp<-scan(file="a.data")  #a.data maybe > 10mb
at first, I think  tmp<-NULL  should be release some memory,but it is not any help.

Best regards

Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun  4 11:31:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jun 2002 11:31:52 +0200
Subject: [R] Scaling on a data.frame
In-Reply-To: <3CFC836A.4593515D@metagen.de>
References: <3CFC836A.4593515D@metagen.de>
Message-ID: <x2sn43ie47.fsf@blueberry.kubism.ku.dk>

Stefan Roepcke <stefan.roepcke at metagen.de> writes:

> Hey,
> 
> hopefully there is an easy way to solve my problem.
> All that i think off is lengthy and clumsy.
> 
> Given a data.frame d with columns VALUE, FAC1, FAC2, FAC3.
> Let FAC1 be something like experiment number,
> so that there are exactly the same number of rows for each level of FAC1
> in the data.frame.
> 
> Now i would like to scale all values according to the center of its
> experiment.
> So i can apply s <- by(d[1], FAC1, scale).
> But i don't want to lose the binding to the other factors (FAC2, FAC3).
> Or can i only control it via order preserving - it seems unsave.
> 
> Something like that would be nice:
> "by(d[1], FAC1) <- by(d[1], FAC1, scale)"

R-1.5.0 has split<- which does this sort of thing. If you have an
older version, you should of course upgrade, but the definitions are
not very complicated:

> get("split<-.data.frame")
function (x, f, value) 
{
    x[unlist(split(seq(length = nrow(x)), f)), ] <- do.call("rbind", 
        value)
    x
}
> get("split<-.default")
function (x, f, value) 
{
    x[unlist(split(seq(along = x), f))] <- unlist(value)
    x
}

The usage is like

split(z, g) <- lapply(split(x, g), scale)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 11:33:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 10:33:04 +0100 (BST)
Subject: [R] Scaling on a data.frame
In-Reply-To: <3CFC836A.4593515D@metagen.de>
Message-ID: <Pine.LNX.4.31.0206041026560.31690-100000@gannet.stats>

On Tue, 4 Jun 2002, Stefan Roepcke wrote:

> hopefully there is an easy way to solve my problem.

I suspect there is, but you do need to state it precisely first.

> All that i think off is lengthy and clumsy.
>
> Given a data.frame d with columns VALUE, FAC1, FAC2, FAC3.
> Let FAC1 be something like experiment number,
> so that there are exactly the same number of rows for each level of FAC1
> in the data.frame.
>
> Now i would like to scale all values according to the center of its
> experiment.
> So i can apply s <- by(d[1], FAC1, scale).

That both centres and scales separately for each level of FAC1: is that
what you want?

> But i don't want to lose the binding to the other factors (FAC2, FAC3).
> Or can i only control it via order preserving - it seems unsave.
>
> Something like that would be nice:
> "by(d[1], FAC1) <- by(d[1], FAC1, scale)"

What precisely do you mean by that?

It can be done by scale: see its argument `center' or the code in
lda.default (MASS).  Something like

grpmeans <- tapply(d[1], FAC1, mean)
d$s <- scale(d[1], grpmeans[d$FAC1], FALSE)

or similarly with scales.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 11:53:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 10:53:52 +0100 (BST)
Subject: [R] Could I release some memory?
In-Reply-To: <IPECKKKLFINFHEGMEKKGAEADCBAA.ken_lee@tynesys.com>
Message-ID: <Pine.LNX.4.31.0206041052540.31727-100000@gannet.stats>

On Tue, 4 Jun 2002, ken_lee wrote:

> Dear all,
>        If  I have been using a large memory, Could I have any command to release?
> Like  tmp<-scan(file="a.data")  #a.data maybe > 10mb
> at first, I think  tmp<-NULL  should be release some memory,but it is not any help.

rm(tmp)
gc()

The last is what `releases' the memory, but it may not release it to
your OS: that is system-specific.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jun  4 14:08:56 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 4 Jun 2002 14:08:56 +0200 (MET DST)
Subject: [R] "X11 font at size 16 could not be loaded"
Message-ID: <Pine.OSF.3.96.1020604134907.22486F-100000@paleo>


Hi,

I'm using plot.lda (R1.4.0 on linux) and, 
if dimen > 2, I get the error:
Error in text.default(x, y, txt, cex = cex, font = font) :
        X11 font at size 16 could not be loaded

The traceback indicates that the problem
comes from pairs(). I've tried several
cex and font values, always with the
same error.

The same command works fine with pdf()

If I'm missing fonts, how could I find out
which one is missing? I have fonts such as:
/usr/X11R6/lib/X11/fonts/75dpi/charB08.pcf.gz

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jun  4 18:16:45 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 4 Jun 2002 18:16:45 +0200
Subject: [R] "X11 font at size 16 could not be loaded"
In-Reply-To: <Pine.OSF.3.96.1020604134907.22486F-100000@paleo>; from alobo@ija.csic.es on Tue, Jun 04, 2002 at 02:08:56PM +0200
References: <Pine.OSF.3.96.1020604134907.22486F-100000@paleo>
Message-ID: <20020604181645.A3281@giraffa.cbs.dtu.dk>


I think the problem comes from your X server (my wild guess is that
you tried Xfree4.something)

The modifications posted some time ago on this list seem to
work (in reply to the very same problem) still...

In your file /usr/X11R6/XFree86config, you will discard the "unscaled" statements in the 'fonts' section
(make a backup of XFree86Config before experimenting)


Hopin' it helps,


Laurent





On Tue, Jun 04, 2002 at 02:08:56PM +0200, Agustin Lobo wrote:
> 
> Hi,
> 
> I'm using plot.lda (R1.4.0 on linux) and, 
> if dimen > 2, I get the error:
> Error in text.default(x, y, txt, cex = cex, font = font) :
>         X11 font at size 16 could not be loaded
> 
> The traceback indicates that the problem
> comes from pairs(). I've tried several
> cex and font values, always with the
> same error.
> 
> The same command works fine with pdf()
> 
> If I'm missing fonts, how could I find out
> which one is missing? I have fonts such as:
> /usr/X11R6/lib/X11/fonts/75dpi/charB08.pcf.gz
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Tue Jun  4 20:57:48 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Tue, 04 Jun 2002 14:57:48 -0400
Subject: [R] compiling packages
Message-ID: <3CFD0DAC.CD5CE9AA@mcgill.ca>

Hello, Using R 1051 in win98
When I try to build a library Addreg with DESCRIPTION, Index and Title
in R and subdirectories Man and R. From a Command window I do:

c:\> c:\rw1051\bin\Rcmd INSTALL c:\r_src\src\library\addreg
--library=c:\r\src\library

make: Entering directory '/cygdrive/c/rw1051/src/gnuwin32'
make DLLNM= \
 -C c:/r_src/src/library/addreg PKG=addreg RHOME=c:/rw1051
RLIB=c:/r_src/library \
 -f c:/rw1051/src/gnuwin32/MakePkg
make: make: Command not found
make: *** [pkg-addreg] Error 127
make: Leaving directory . . . .

the path includes
C:\tools;c:\gcc295\bin;c:\perl\bin;c:\helpwork;c:\rw1051;c:\tcl\bin;c:\wget;c:\bin

c:\tools and c:\bin are identical, the set of function from BDR site

Can somebody guess what is wrong?
Thanks
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun  4 21:25:54 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 04 Jun 2002 15:25:54 -0400
Subject: [R] par(xaxp)
Message-ID: <OFF074D0D3.5B2C477E-ON85256BCE.006A9095@rtp.epa.gov>

Sorry, I forgot to include version information.
This is

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status   Patched
major    1
minor    5.0
year     2002
month    05
day      15
language R

on Windows version: Windows 98 SE 4.10 (build 2222)  A


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711
----- Forwarded by Woodrow Setzer/RTP/USEPA/US on 06/04/02 03:23 PM
-----
|---------+--------------------------->
|         |           Woodrow Setzer  |
|         |                           |
|         |           06/04/02 03:22  |
|         |           PM              |
|         |                           |
|---------+--------------------------->
  >---------------------------------------------------------------------------------------------------------|
  |                                                                                                         |
  |        To:      r-help list                                                                             |
  |        cc:                                                                                              |
  |        Subject: par(xaxp)                                                                               |
  >---------------------------------------------------------------------------------------------------------|



I think this is a bug; at least this behavior is not documented in plot
or plot.default.

plot.default resets xaxp, and leaves xaxp reset when it exits:

par(xaxp=c(0,1,4))
print(par("xaxp"))
plot(c(0,1),c(0.2,0.3))
print(par("xaxp"))


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun  4 21:22:58 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 04 Jun 2002 15:22:58 -0400
Subject: [R] par(xaxp)
Message-ID: <OF32ED49AB.B1C1B7BE-ON85256BCE.006A292B@rtp.epa.gov>

I think this is a bug; at least this behavior is not documented in plot
or plot.default.

plot.default resets xaxp, and leaves xaxp reset when it exits:

par(xaxp=c(0,1,4))
print(par("xaxp"))
plot(c(0,1),c(0.2,0.3))
print(par("xaxp"))


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 22:00:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 21:00:56 +0100 (BST)
Subject: [R] par(xaxp)
In-Reply-To: <OF32ED49AB.B1C1B7BE-ON85256BCE.006A292B@rtp.epa.gov>
Message-ID: <Pine.LNX.4.31.0206042054370.3699-100000@gannet.stats>

On Tue, 4 Jun 2002 Setzer.Woodrow at epamail.epa.gov wrote:

> I think this is a bug; at least this behavior is not documented in plot
> or plot.default.

See the definition of a bug in the FAQ.

> plot.default resets xaxp, and leaves xaxp reset when it exits:
>
> par(xaxp=c(0,1,4))
> print(par("xaxp"))
> plot(c(0,1),c(0.2,0.3))
> print(par("xaxp"))

xaxp is defined as

     `xaxp' A vector of the form `c(x1, x2, n)' giving the coordinates
          of the extreme tick marks and the number of intervals between
          tick-marks.

so it is redefined whenever axes are drawn. Many of the graphics par's are
reset when a plot is drawn.  par("usr") is another one.

I don't see why you expected otherwise (and in particular why you expected
this to be documented under plot.default).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Jun  4 22:21:55 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 04 Jun 2002 16:21:55 -0400
Subject: [R] par(xaxp)
Message-ID: <OFABECB32C.73F24886-ON85256BCE.006EEE6E@rtp.epa.gov>


Of course, you are right.  What had originally startled me was that I
was not able to force plot to accept xaxp=c(0,1,4), even if I include it
as an argument to plot:
plot(c(0,1),c(0.2,0.3),xaxp=c(0,1,4)).

I sent my email before my thoughts were quite in order.  Since
plot.default includes "..." as an argument, documented as:
                                                         
 ...  graphical parameters as in par may also be passed  
      as arguments.                                      
                                                         



I assumed I should be able to manually specify xaxp.  The fact that plot
() leaves xaxp reset is a red herring (perhaps I was seeing plot() as
being not only willful but defiant: having a 5-year-old around the house
seems to color my reactions to things of late).  So, the real issue is
the inability to set xaxp for plot() either within or outside of the
call to plot using par().

Of course, there is a simple workaround using xaxt="n", and axis()

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Tue Jun  4 22:24:22 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Tue, 4 Jun 2002 13:24:22 -0700 
Subject: [R] machine dependency [polr()/optim()]
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8917@MAYO>

Dear R experts:

I am running some calculations using polr() in MASS library, and found some
differences in results obtained on two different machines (IRIX 6.5, and
Linux RH 7.1).  It is not clear to me whether this is due to some error in
my programming the calculation and how to resolve the differences, if
possible.

The polr() call is the following:

reg<-polr(dep~.,data=mm,start=c(1:(length(mm)-1+length(levels(dep))-1))/10.0
,Hess=TRUE)

where mm, with 827 rows, has one column of dependent variable ("dep"), and
29 columns of independent variables; there are 6 levels for "dep", 0-5.  For
a particular "mm", the following results (1st three coefficients) are
produced on both machines:

-0.07879468  0.05200974  0.57545475

But for a different "mm", the coefficients are:

-0.050742489 -0.006628615  0.537587536 [on IRIX]
-0.050634191 -0.007433505  0.541055510 [on Linux]

The only source for the difference (that I can find) is in "reg$niter":
256 (f.evals.function) and 100 (g.evals.function) [IRIX]
261 (f.evals.function) and 100 (g.evals.function) [Linux]

This somewhat dismissed my initial worry that some errors in my programs
caused the different values for the coefficients; but if the differences are
indeed due to machine differences, I am wondering if it is possible to
program the calculations (eg. to somehow force the number of iterations ?)
so that the results are reproduced for all cases.  Another observations is
that polr() produces identical results more exclusively if the number of
columns is smaller.

(A few more details: For the IRIX, the R binary was built with "-O2 -64" for
all compilers (f77 included), and on Linux, "-O2".)

Help and suggestions/hints for further narrowing the sources are
appreciated.  Thanks in Advance.

Boryeu Mao
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sasik at corgon.ucsd.edu  Tue Jun  4 22:49:40 2002
From: sasik at corgon.ucsd.edu (Roman Sasik)
Date: Tue, 4 Jun 2002 13:49:40 -0700 (PDT)
Subject: [R] how to draw two histograms in one figure
Message-ID: <Pine.LNX.4.44.0206041347590.761-100000@corgon.ucsd.edu>


How do you draw two histograms in one figure? Two separate uses of the 
"hist" function always produce two separate figures...  Thanks, Roman

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  4 22:50:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 4 Jun 2002 21:50:37 +0100 (BST)
Subject: [R] machine dependency [polr()/optim()]
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF8917@MAYO>
Message-ID: <Pine.LNX.4.31.0206042144190.3775-100000@gannet.stats>

On Tue, 4 Jun 2002, Boryeu Mao wrote:

> Dear R experts:
>
> I am running some calculations using polr() in MASS library, and found some
> differences in results obtained on two different machines (IRIX 6.5, and
> Linux RH 7.1).  It is not clear to me whether this is due to some error in
> my programming the calculation and how to resolve the differences, if
> possible.
>
> The polr() call is the following:
>
> reg<-polr(dep~.,data=mm,start=c(1:(length(mm)-1+length(levels(dep))-1))/10.0
> ,Hess=TRUE)
>
> where mm, with 827 rows, has one column of dependent variable ("dep"), and
> 29 columns of independent variables; there are 6 levels for "dep", 0-5.  For
> a particular "mm", the following results (1st three coefficients) are
> produced on both machines:
>
> -0.07879468  0.05200974  0.57545475
>
> But for a different "mm", the coefficients are:
>
> -0.050742489 -0.006628615  0.537587536 [on IRIX]
> -0.050634191 -0.007433505  0.541055510 [on Linux]
>
> The only source for the difference (that I can find) is in "reg$niter":
> 256 (f.evals.function) and 100 (g.evals.function) [IRIX]
> 261 (f.evals.function) and 100 (g.evals.function) [Linux]

What did the convergence component of the fitted object say?
[Hint: your fits have not converged.]

> This somewhat dismissed my initial worry that some errors in my programs
> caused the different values for the coefficients; but if the differences are
> indeed due to machine differences, I am wondering if it is possible to
> program the calculations (eg. to somehow force the number of iterations ?)
> so that the results are reproduced for all cases.  Another observations is
> that polr() produces identical results more exclusively if the number of
> columns is smaller.

I've been lazy porting polr to R.  Add ... to the optim call in polr, and
pass it a control argument (see ?optim).

> (A few more details: For the IRIX, the R binary was built with "-O2 -64" for
> all compilers (f77 included), and on Linux, "-O2".)
>
> Help and suggestions/hints for further narrowing the sources are
> appreciated.  Thanks in Advance.
>
> Boryeu Mao

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smalladi at lexgen.com  Tue Jun  4 23:11:06 2002
From: smalladi at lexgen.com (Sukhaswami Malladi)
Date: Tue, 4 Jun 2002 16:11:06 -0500 
Subject: [R] data format of x in x <- sqlQuery()
Message-ID: <80A38867B1DBD511A8C9009027764C8C37982E@lexchange.lexgen.com>

All

When I read data into an R variable x using RODBC command:

x <- sqlQuery(channel,"select a, b from tabl",as="data frame")   

and view x, I get 3 columns the first one being the index of
the rows in x. 

What options do I use in sqlQuery so as not have the index in x ? 
How do I get rid of the index otherwise.

For some functions like princomp (and boxplot) for example:

> princomp(x)
Error in cov.wt(z) : x must contain finite values only

There is no error for USArrests example data which 
does not have index.

> boxplot(x)
Error in x[floor(d)] + x[ceiling(d)] : non-numeric argument to binary
operator


Thanks in advance for any suggestions
Sukhaswami Malladi




*************************************************************************** 
 The contents of this communication are intended only for the addressee and
may contain confidential and/or privileged material. If you are not the
intended recipient, please do not read, copy, use or disclose this
communication and notify the sender.  Opinions, conclusions and other
information in this communication that do not relate to the official
business of my company shall be understood as neither given nor endorsed by
it.  
*************************************************************************** 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Wed Jun  5 00:00:18 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Tue, 4 Jun 2002 15:00:18 -0700 
Subject: [R] machine dependency [polr()/optim()]
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8918@MAYO>

Thanks so much for the hints.  So I failed to monitor the convergence.  Once
optim() gets "control=list(maxit=N)" from polr(), the results for the second
"mm" array are:

-0.049989871 -0.006739967  0.539374483 [IRIX]
-0.049996443 -0.006740587  0.539364033 [Linux]

with convergence code of 0, and the following iteration numbers,

289(f) 111(g) [IRIX]
289(f) 113(g) [Linux]

(Since the numbers for the 1st mm array are reproduced to all printed
digits, perhaps there are still other controls that can reduce the
difference -- I'll try to look up the functions some more).

THANKS!  


-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, June 04, 2002 1:51 PM
To: Boryeu Mao
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] machine dependency [polr()/optim()]


On Tue, 4 Jun 2002, Boryeu Mao wrote:

> Dear R experts:
>
> I am running some calculations using polr() in MASS library, and found
some
> differences in results obtained on two different machines (IRIX 6.5, and
> Linux RH 7.1).  It is not clear to me whether this is due to some error in
> my programming the calculation and how to resolve the differences, if
> possible.
>
> The polr() call is the following:
>
>
reg<-polr(dep~.,data=mm,start=c(1:(length(mm)-1+length(levels(dep))-1))/10.0
> ,Hess=TRUE)
>
> where mm, with 827 rows, has one column of dependent variable ("dep"), and
> 29 columns of independent variables; there are 6 levels for "dep", 0-5.
For
> a particular "mm", the following results (1st three coefficients) are
> produced on both machines:
>
> -0.07879468  0.05200974  0.57545475
>
> But for a different "mm", the coefficients are:
>
> -0.050742489 -0.006628615  0.537587536 [on IRIX]
> -0.050634191 -0.007433505  0.541055510 [on Linux]
>
> The only source for the difference (that I can find) is in "reg$niter":
> 256 (f.evals.function) and 100 (g.evals.function) [IRIX]
> 261 (f.evals.function) and 100 (g.evals.function) [Linux]

What did the convergence component of the fitted object say?
[Hint: your fits have not converged.]

> This somewhat dismissed my initial worry that some errors in my programs
> caused the different values for the coefficients; but if the differences
are
> indeed due to machine differences, I am wondering if it is possible to
> program the calculations (eg. to somehow force the number of iterations ?)
> so that the results are reproduced for all cases.  Another observations is
> that polr() produces identical results more exclusively if the number of
> columns is smaller.

I've been lazy porting polr to R.  Add ... to the optim call in polr, and
pass it a control argument (see ?optim).

> (A few more details: For the IRIX, the R binary was built with "-O2 -64"
for
> all compilers (f77 included), and on Linux, "-O2".)
>
> Help and suggestions/hints for further narrowing the sources are
> appreciated.  Thanks in Advance.
>
> Boryeu Mao

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Wed Jun  5 00:12:50 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue, 04 Jun 2002 16:12:50 -0600
Subject: [R] documentation inconsistency for [.data.frame ?
Message-ID: <5.1.0.14.2.20020604153832.04450600@a.paloma.com>

(Using R1.5.0 patched for Windows)
Subscripting rows of data.frame only sometimes does what the documentation 
says:

>      When `[.data.frame' is used for subsetting rows of a `data.frame',
>      it returns a dataframe with unique row names, using `make.names( *
>      , unique = TRUE)', see the `swiss' example below.

Row names seem to be modified in this way only when row indices pick out 
non-existing or non-unique rows.

Splus6.0 for Windows has similar behavior, though the details are different 
(modification of row names is triggerred only by non-unique indices, 
including zeros, in Splus).  However, at least the R documentation does say 
*something* about row names being modified by make.names.

[Personally, I'd rather have a version of the dataframe class whose methods 
didn't go around modifying the row and column names I had assigned...]

Note that the documentation could be considered correct if it is assumed 
that the documentation only applies in the cases where the input data frame 
has row names that are syntactically valid variable names (i.e., will pass 
through make.names() untouched).  However, I couldn't find anything in R or 
S-plus online documentation that said this is a requirement for data frames.

 > data.frame(x=1:3,y=4:6,row.names=c("3AB","C/D","E.F"))[c(1,2,3),]
     x y
3AB 1 4
C/D 2 5
E.F 3 6
 > data.frame(x=1:3,y=4:6,row.names=c("3AB","C/D","E.F"))[c(1,2,3,NA),]
       x  y
X3AB  1  4
C.D   2  5
E.F   3  6
NA   NA NA
 > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,2,3,0),]
     x y
AB  1 4
C/D 2 5
E.F 3 6
 > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,2,3,4),]
      x  y
AB   1  4
C.D  2  5
E.F  3  6
NA  NA NA
 > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,1,2,3),]
     x y
AB  1 4
AB1 1 4
C.D 2 5
E.F 3 6
 > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F"),]
     x y
AB  1 4
C/D 2 5
E.F 3 6
 > 
data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F","NA"),]
      x  y
AB   1  4
C.D  2  5
E.F  3  6
NA  NA NA
 > 
data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F",NA),]
      x  y
AB   1  4
C.D  2  5
E.F  3  6
NA  NA NA
 > version
          _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status   Patched
major    1
minor    5.0
year     2002
month    05
day      16
language R




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Jun  5 00:33:22 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 5 Jun 2002 10:33:22 +1200
Subject: [R] how to draw two histograms in one figure
In-Reply-To: <Pine.LNX.4.44.0206041347590.761-100000@corgon.ucsd.edu>; from sasik@corgon.ucsd.edu on Tue, Jun 04, 2002 at 01:49:40PM -0700
References: <Pine.LNX.4.44.0206041347590.761-100000@corgon.ucsd.edu>
Message-ID: <20020605103322.A21546@camille.indigoindustrial.co.nz>

On Tue, Jun 04, 2002 at 01:49:40PM -0700, Roman Sasik wrote:
> How do you draw two histograms in one figure? Two separate uses of the 
> "hist" function always produce two separate figures...  Thanks, Roman

Side by side?  Check out help(layout) and help(par).  For the latter, 
the mfcol and mfrow arguemnts are what you're after.  Follow the commands
that are used when you type

par(ask=TRUE)
example(hist)
par(ask=FALSE)

Another possibility is the lattice library histogram() function.

par(ask=TRUE)
library(lattice)
example(histogram)
par(ask=FALSE)

Two overlaid in the same plot?  

<opinion>
Ugly.  Use density plots instead, whenever possible.
</opinion>

The density() function provided is good for this, and so is the sm
library's sm.density() function.

par(ask=TRUE)
example(density)
par(ask=FALSE)

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Jun  5 00:59:48 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 5 Jun 2002 10:59:48 +1200
Subject: [R] data format of x in x <- sqlQuery()
In-Reply-To: <80A38867B1DBD511A8C9009027764C8C37982E@lexchange.lexgen.com>; from smalladi@lexgen.com on Tue, Jun 04, 2002 at 04:11:06PM -0500
References: <80A38867B1DBD511A8C9009027764C8C37982E@lexchange.lexgen.com>
Message-ID: <20020605105948.B21546@camille.indigoindustrial.co.nz>

On Tue, Jun 04, 2002 at 04:11:06PM -0500, Sukhaswami Malladi wrote:
...
> When I read data into an R variable x using RODBC command:
> x <- sqlQuery(channel,"select a, b from tabl",as="data frame")   
> 
> and view x, I get 3 columns the first one being the index of
> the rows in x. 
> 
> What options do I use in sqlQuery so as not have the index in x ? 
> How do I get rid of the index otherwise.

You never got an index column.  You got a two column data frame.
You can verify this by dim(x) or names(x).  Please do.

When you "view" x by typing x at the R prompt, it just calls
print.data.frame(x), which by default shows the row names.
If your data frame doesn't have row names, it makes them up,
as row numbers.  The command rownames(x) will show what R was
thinking.

Don't worry about them.

> For some functions like princomp (and boxplot) for example:
> 
> > princomp(x)
> Error in cov.wt(z) : x must contain finite values only

You're sending princomp bad data.  Have you checked for NA values,
Inf, -Inf, etc?

Try

princomp(!is.na(x))

or screen your data.

Possibly, the ODBC driver is converting all your numeric values to 
text; check that too.  help(numeric)  might cast some light.

> There is no error for USArrests example data which 
> does not have index.

Actually, it does.  Remember:  this thing you're calling an index is
just the row names.  The USArrests data frame has rownames, which is 
the first column you see when you type USArrests.  Note that there is 
no "State" column in the USArrests data set.  names(USArrests) and 
rownames(USArrests) will confirm this.

> > boxplot(x)
> Error in x[floor(d)] + x[ceiling(d)] : non-numeric argument to binary
> operator

Again, boxplot(!is.na(x)).  Or check for text/numeric conversion.
boxplot(!is.na(as.numeric(x)) might help.

So:

1) Clean up your data.
2) Next time, please check further before speculating what the cause 
might be.

You do get points for including a description of how the data was
gathered, and the error message, though.  If you'd just asked
about row indices, we'd have been unable to help you.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Wed Jun  5 03:00:31 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 04 Jun 2002 18:00:31 -0700
Subject: [R] hairy indexing problem
Message-ID: <86k7pey1xs.fsf@coulee.tdb.com>


I've got a data frame that looks like this:

   subject   foo   bar
      2      1.7   3.2
      2      2.3   4.1
      3      7.6   2.3
      3      7.1   3.3
      3      7.3   2.3
      3      7.4   1.3
      5      6.2   6.1
      5      3.4   6.9
     ...

That is, I've got multiple rows per subject.  I need to compute
summaries within categories where the subject has the same number of
rows.  For example, subject 2 and 5 both have two rows.  I need to
compute mean for those four values of foo.  This looks like a good
candidate for index vectors, but I need some help.  I've tried
something like:

  table(data) -> tmp
 
and:

  tmp[tmp == 2]

and even:

  as.numeric(attr(tmp[tmp == 2],"names"))

to get a vector of subject numbers that have two rows in the original
data frame.  But I am getting stuck there.  I want some kind of
"is.member" function to use in a subsequent index vector expression,
like:

  i <- as.numeric(attr(tmp[tmp == 2],"names"))
  data[is.member($subject,i)]$foo

but there isn't an is.member() function.  Can someone please give me a
pointer on the canonical way to do this?

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ian.Saunders at csiro.au  Wed Jun  5 06:31:57 2002
From: Ian.Saunders at csiro.au (Ian.Saunders@csiro.au)
Date: Wed, 5 Jun 2002 14:31:57 +1000 
Subject: [R] hairy indexing problem
Message-ID: <CCB2683E47559142B2DFE0768181A5BB6DF407@campaspe-cq.vic.cmis.CSIRO.AU>

There's probably a better way, but ...

	apply(outer(subject,subject,FUN="=="),1,sum)

will give you a vector of the counts for each value of subject, so would be 
	2 2 4 4 4 4 2 2 ...
in your example.

You could add this as a column of the data frame and use gsummary to get the
summary statistics.

Ian.

> -----Original Message-----
> From: Russell Senior [mailto:seniorr at aracnet.com]
> Sent: Wednesday, 5 June 2002 10:31 AM
> To: R-help at stat.math.ethz.ch
> Subject: [R] hairy indexing problem
> 
> 
> 
> I've got a data frame that looks like this:
> 
>    subject   foo   bar
>       2      1.7   3.2
>       2      2.3   4.1
>       3      7.6   2.3
>       3      7.1   3.3
>       3      7.3   2.3
>       3      7.4   1.3
>       5      6.2   6.1
>       5      3.4   6.9
>      ...
> 
> That is, I've got multiple rows per subject.  I need to compute
> summaries within categories where the subject has the same number of
> rows.  For example, subject 2 and 5 both have two rows.  I need to
> compute mean for those four values of foo.  This looks like a good
> candidate for index vectors, but I need some help.  I've tried
> something like:
> 
>   table(data) -> tmp
>  
> and:
> 
>   tmp[tmp == 2]
> 
> and even:
> 
>   as.numeric(attr(tmp[tmp == 2],"names"))
> 
> to get a vector of subject numbers that have two rows in the original
> data frame.  But I am getting stuck there.  I want some kind of
> "is.member" function to use in a subsequent index vector expression,
> like:
> 
>   i <- as.numeric(attr(tmp[tmp == 2],"names"))
>   data[is.member($subject,i)]$foo
> 
> but there isn't an is.member() function.  Can someone please give me a
> pointer on the canonical way to do this?
> 
> Thanks!
> 
> -- 
> Russell Senior         ``The two chiefs turned to each other.        
> seniorr at aracnet.com      Bellison uncorked a flood of horrible       
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''                      
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed Jun  5 07:03:06 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Wed, 5 Jun 2002 15:03:06 +1000 
Subject: [R] hairy indexing problem
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1AA5@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Ian.Saunders at csiro.au [mailto:Ian.Saunders at csiro.au] 
> Sent:	Wednesday, June 05, 2002 2:32 PM
> To:	seniorr at aracnet.com; R-help at stat.math.ethz.ch
> Subject:	RE: [R] hairy indexing problem
> 
> There's probably a better way, but ...
> 
> 	apply(outer(subject,subject,FUN="=="),1,sum)
> 
> will give you a vector of the counts for each value of subject, so would
> be 
> 	2 2 4 4 4 4 2 2 ...
> in your example.
	[WNV]  I think there could be a better way.  

	Make sure subject is a factor:

		subject <- as.factor(data$subject)

	and then your "replications class" factor is

		reps <- factor(table(subject)[subject])

	The next step could be 

		fooMeans <- tapply(data$foo, reps, mean) 
>  
> You could add this as a column of the data frame and use gsummary to get
> the
> summary statistics.
	[WNV]  Yep, that too.   gsummary is part of the nlme package which
has to be loaded.

> Ian.
	[WNV]  Bill.

> > -----Original Message-----
> > From: Russell Senior [mailto:seniorr at aracnet.com]
> > Sent: Wednesday, 5 June 2002 10:31 AM
> > To: R-help at stat.math.ethz.ch
> > Subject: [R] hairy indexing problem
> > 
> > 
> > 
> > I've got a data frame that looks like this:
> > 
> >    subject   foo   bar
> >       2      1.7   3.2
> >       2      2.3   4.1
> >       3      7.6   2.3
> >       3      7.1   3.3
> >       3      7.3   2.3
> >       3      7.4   1.3
> >       5      6.2   6.1
> >       5      3.4   6.9
> >      ...
> > 
> > That is, I've got multiple rows per subject.  I need to compute
> > summaries within categories where the subject has the same number of
> > rows.  For example, subject 2 and 5 both have two rows.  I need to
> > compute mean for those four values of foo.  This looks like a good
> > candidate for index vectors, but I need some help.  I've tried
> > something like:
> > 
> >   table(data) -> tmp
> >  
> > and:
> > 
> >   tmp[tmp == 2]
> > 
> > and even:
> > 
> >   as.numeric(attr(tmp[tmp == 2],"names"))
> > 
> > to get a vector of subject numbers that have two rows in the original
> > data frame.  But I am getting stuck there.  I want some kind of
> > "is.member" function to use in a subsequent index vector expression,
> > like:
> > 
> >   i <- as.numeric(attr(tmp[tmp == 2],"names"))
> >   data[is.member($subject,i)]$foo
> > 
> > but there isn't an is.member() function.  Can someone please give me a
> > pointer on the canonical way to do this?
> > 
> > Thanks!
> > 
> > -- 
> > Russell Senior         ``The two chiefs turned to each other.        
> > seniorr at aracnet.com      Bellison uncorked a flood of horrible       
> >                          profanity, which, translated meant, `This is
> >                          extremely unusual.' ''                      
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Jun  5 07:00:42 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Wed, 5 Jun 2002 05:00:42 GMT
Subject: [R] hairy indexing problem
Message-ID: <E17FSuY-0005bt-00@smtp1.ihug.co.nz>

> I've got a data frame that looks like this:
> 
>    subject   foo   bar
>       2      1.7   3.2
>       2      2.3   4.1
>       3      7.6   2.3
>       3      7.1   3.3
>       3      7.3   2.3
>       3      7.4   1.3
>       5      6.2   6.1
>       5      3.4   6.9
>      ...
> 
> That is, I've got multiple rows per subject.  I need to compute
> summaries within categories where the subject has the same number of
> rows.  For example, subject 2 and 5 both have two rows.  I need to
> compute mean for those four values of foo. 
> Can someone please give me a
> pointer on the canonical way to do this?

Canonical?  Would you settle for "it works for me"?  ;)

I suspect one of the gurus has a tidy, elegant way of doing this, but here's 
how I'd do it instead (not being a guru). Run-length encoding works pretty well 
at things like this.

> d1 <- data.frame(subject=c(2,2,3,3,3,3,5,5),foo=c
(1.7,2.3,7.6,7.1,7.3,7.4,6.2,3.4))
> d1
  subject foo
1       2 1.7
2       2 2.3
3       3 7.6
4       3 7.1
5       3 7.3
6       3 7.4
7       5 6.2
8       5 3.4
> d1.subj.rle <- rle(d1$subject[order(d1$subject)])
## make a vector of unique numbers of subjects

> n.subj <- unique(d1.subj.rle$lengths)
## now take means based on number of subjects.
> 
> n.subj <- unique(d1.subj.rle$lengths)
> sapply(n.subj,function(x,...) { 
+ mean(d1$foo[d1$subject %in% d1.subj.rle$values[d1.subj.rle$lengths == x]])})
[1] 3.40 7.35 
##check the numbers
> mean(d1$foo[d1$subject == 2 | d1$subject == 5])
[1] 3.4
> mean(d1$foo[d1$subject == 3])
[1] 7.35
> 

That could be a *lot* clearer inside the sapply function; maybe in v2.0 of my 
attempt at this ;)

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jun  4 21:31:25 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 4 Jun 2002 15:31:25 -0400
Subject: [R] Two courses in Washington D.C.
Message-ID: <20020604153125.549f82e0.fharrell@virginia.edu>

I am presenting two courses in D.C. in June organized by Insightful Corporation.  These courses have hands-on workshops and have received excellent reviews from past participants (let me know if you want to see the reviews from last year's courses).
---------------------------------------------------------------------
S-Plus for Statistical Data Analysis and Graphics: June 19-21

This course covers data manipulation and overviews the use of S-Plus for bootstrapping, simulation, and sample size/power calculations.  General elements of constructing good graphics are covered, and exploratory data analysis and Trellis graphics are emphasized.  Many functions from the Hmisc library are covered.  For a full course description see http://www.insightful.com/services/course.asp?CID=26
---------------------------------------------------------------------
Regression Modeling Strategies: June 24-26

This course emphasizes statistical modeling methodology from my book Regression Modeling Strategies (Springer, 2001) and has workshops using the Design library.
Some of the key topics covered are how and where to "spend" degrees of freedom, data reduction, multiple imputation of missing predictor variables, relaxing nonlinearity assumptions, hazards of stepwise variable selection, handling interactions, model validation, and graphically displaying complex regression models.  A full course description may be found at http://www.insightful.com/services/course.asp?CID=27


To Register:	- Web: http://www.insightful.com/services/register.asp
		- Email: kkelly at insightful.com
		- Call Kim Kelly at: 800-569-0123 x278

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed Jun  5 08:31:04 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 5 Jun 2002 08:31:04 +0200
Subject: [R] hairy indexing problem
References: <86k7pey1xs.fsf@coulee.tdb.com>
Message-ID: <002c01c20c5a$95170920$5c13070a@it.giustizia.it>

See ?tapply of course.
E.g.
tapply(foo, subject, mean, na.rm=T) #mean of foo per subj

best,
vito

----- Original Message -----
From: "Russell Senior" <seniorr at aracnet.com>
To: <R-help at stat.math.ethz.ch>
Sent: Wednesday, June 05, 2002 3:00 AM
Subject: [R] hairy indexing problem


>
> I've got a data frame that looks like this:
>
>    subject   foo   bar
>       2      1.7   3.2
>       2      2.3   4.1
>       3      7.6   2.3
>       3      7.1   3.3
>       3      7.3   2.3
>       3      7.4   1.3
>       5      6.2   6.1
>       5      3.4   6.9
>      ...
>
> That is, I've got multiple rows per subject.  I need to compute
> summaries within categories where the subject has the same number of
> rows.  For example, subject 2 and 5 both have two rows.  I need to
> compute mean for those four values of foo.  This looks like a good
> candidate for index vectors, but I need some help.  I've tried
> something like:
>
>   table(data) -> tmp
>
> and:
>
>   tmp[tmp == 2]
>
> and even:
>
>   as.numeric(attr(tmp[tmp == 2],"names"))
>
> to get a vector of subject numbers that have two rows in the original
> data frame.  But I am getting stuck there.  I want some kind of
> "is.member" function to use in a subsequent index vector expression,
> like:
>
>   i <- as.numeric(attr(tmp[tmp == 2],"names"))
>   data[is.member($subject,i)]$foo
>
> but there isn't an is.member() function.  Can someone please give me a
> pointer on the canonical way to do this?
>
> Thanks!
>
> --
> Russell Senior         ``The two chiefs turned to each other.
> seniorr at aracnet.com      Bellison uncorked a flood of horrible
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed Jun  5 09:05:52 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Wed, 05 Jun 2002 03:05:52 -0400
Subject: [R] XLS***R/Splus Courses in London (England) - July 2002
Message-ID: <200206050705.g5575qX52497@email.featureprice.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased 
to announce 2 courses in London (England) this summer: 

**"R/Splus Fundamentals & Programming Techniques"-> July 4-5, 2002 
**"R/Splus Programming Techniques II"-----------------> July 11-12, 2002 

The "Fundamentals & Programming Techniques" course is designed for those who want to learn to write programs to accomplish typical 
data-processing tasks, including creating graphics. This 2-day course 
will give beginners a strong foundation for becoming a 
versatile programmer, and will expose experienced users to skills 
that make a better programmer. 

For Full description see: http://www.xlsolutions-corp.com/Rfund.htm 


**"R/Splus Programming Techniques II"-------------> July 11-12, 2002 

This intermediate level course is recommended for 
statisticians/analysts who have some previous experience 
using R/S-plus and who wish to hone their skills. 
Casual users can "fill in the gaps" of their knowledge 
to make better use of R/S-PLus. 

This course will focus on advanced graphics, Vectorization, 
resource management, connecting to C++, introduction to 
classes and methods (including S4 classes)  and statistical 
modeling. 


Course Outline: 

- Overview of R/S-Plus 
- Comparison of R and S-Plus 
- How can R Complement SAS? 
- Data Manipulation and Graphics 
- Taking advantage of fast objects and fast functions 
- Using Advanced Lattice/Trellis Graphics 
- Enhancing Plots 
- Using High-level Plotting Functions 
- Writing Functions 
- Avoiding Loops 
- Vectorization 
- Statistical Modeling 
- Generalized Linear Models 
- Linear Regression 
- Survival Analysis 
- Parametric Models, etc 
- Project Management 
- Resource Management 
- Techniques for Effective use of R and S 
- Connecting to C++ 
- Introduction to Classes (S4/S-Plus) and Methods 
- Building and Distributing Packages (libraries) 

Price: 

Early-bird Commercial Delegates: 985 
Email us for SPECIAL group academic Delegates fee. 
Payment is due AFTER the class and early-bird ends June 24.


Registration: 

For more information on UK courses please email 
         sabrina Tyson: sabrina.uk at xlsolutions-corp.com 
For informaton on summer 2002 courses in North America please 
email Sue Turner: sue at xlsolutions-corp.com 



Visit us: www.xlsolutions-corp.com/training.htm 


Course Format: 

This course consists of a series of short lectures with 
demonstrations and interactive sessions for the participants. 
Each student is provided with bound copies of the notes and 
a CD-ROM containing all examples, exercises and software used 
on the course. 



Share Your Thoughts: 

Are there any additional topics you would like for these courses to address? 
Would you like for these courses to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com. 

========================================


Please email the Pre-registration Form (R/S-plus London - July 2002) 
XLsolutions Corporation: For your Solutions needs, Consulting and Training. www.xlsolutions-corp.com 



Title...... First Name ................. Last Name.................... 

Organization.......................................................... 

Mailing Address....................................................... 

.................................................................... 

..................................................................... 

Zip Code...................... Country............................. 

Telephone........................... Fax ............................... 

E-mail................................................................ 

Payment will be made by: (1) check (2) invoice (3) bank transfer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  5 09:23:14 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 5 Jun 2002 08:23:14 +0100 (BST)
Subject: [R] documentation inconsistency for [.data.frame ?
In-Reply-To: <5.1.0.14.2.20020604153832.04450600@a.paloma.com>
Message-ID: <Pine.LNX.4.31.0206050813510.4275-100000@gannet.stats>

On Tue, 4 Jun 2002, Tony Plate wrote:

> (Using R1.5.0 patched for Windows)
> Subscripting rows of data.frame only sometimes does what the documentation
> says:
>
> >      When `[.data.frame' is used for subsetting rows of a `data.frame',
> >      it returns a dataframe with unique row names, using `make.names( *
> >      , unique = TRUE)', see the `swiss' example below.
>
> Row names seem to be modified in this way only when row indices pick out
> non-existing or non-unique rows.

Right, and that's exactly what it says.  The rownames in a data frame
started out as unique and non-missing, and those are the ways that you
can break that.

I think you are mis-reading the sentence.

> Splus6.0 for Windows has similar behavior, though the details are different
> (modification of row names is triggerred only by non-unique indices,
> including zeros, in Splus).  However, at least the R documentation does say
> *something* about row names being modified by make.names.

Well, that system does not have missing character strings, so the rule is
slightly different.

> [Personally, I'd rather have a version of the dataframe class whose methods
> didn't go around modifying the row and column names I had assigned...]

Impossible.  Unique row names are part of the class definition.  If you
insist on using operations that violate that, you should expect to be
corrected.

> Note that the documentation could be considered correct if it is assumed
> that the documentation only applies in the cases where the input data frame
> has row names that are syntactically valid variable names (i.e., will pass
> through make.names() untouched).  However, I couldn't find anything in R or
> S-plus online documentation that said this is a requirement for data frames.

It is a requirement that they be unique.  It is not a requirement that
they be syntactically valid.  The latter is just how R corrects your
mistakes.

>  > data.frame(x=1:3,y=4:6,row.names=c("3AB","C/D","E.F"))[c(1,2,3),]
>      x y
> 3AB 1 4
> C/D 2 5
> E.F 3 6
>  > data.frame(x=1:3,y=4:6,row.names=c("3AB","C/D","E.F"))[c(1,2,3,NA),]
>        x  y
> X3AB  1  4
> C.D   2  5
> E.F   3  6
> NA   NA NA
>  > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,2,3,0),]
>      x y
> AB  1 4
> C/D 2 5
> E.F 3 6
>  > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,2,3,4),]
>       x  y
> AB   1  4
> C.D  2  5
> E.F  3  6
> NA  NA NA
>  > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c(1,1,2,3),]
>      x y
> AB  1 4
> AB1 1 4
> C.D 2 5
> E.F 3 6
>  > data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F"),]
>      x y
> AB  1 4
> C/D 2 5
> E.F 3 6
>  >
> data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F","NA"),]
>       x  y
> AB   1  4
> C.D  2  5
> E.F  3  6
> NA  NA NA
>  >
> data.frame(x=1:3,y=4:6,row.names=c("AB","C/D","E.F"))[c("AB","C/D","E.F",NA),]
>       x  y
> AB   1  4
> C.D  2  5
> E.F  3  6
> NA  NA NA
>  > version
>           _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status   Patched
> major    1
> minor    5.0
> year     2002
> month    05
> day      16
> language R
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jun  5 10:19:53 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 5 Jun 2002 10:19:53 +0200 (MET DST)
Subject: [R] hairy indexing problem
In-Reply-To: <86k7pey1xs.fsf@coulee.tdb.com>
Message-ID: <Pine.OSF.3.96.1020605094532.15904A-100000@paleo>


I would use function w.conti that calculates a weighted 
contingency matrix. That is, given 2 vectors of
categorical variables (i.e., species and 
soil type) and a 3rd vector of a
quantitative variable (i.e. biomass), calculates
the sum of the quant. var. for each pair (i.e., 
the total biomass for each species in each soil type).
With your data, as you just have one categorical
variable, just set the second one to a constant to
calculate the sum of foo for each subject:

> matriz<-cbind(sub,foo,bar)
> matriz
     sub foo bar
[1,]   2 1.7 3.2
[2,]   2 2.3 4.1
[3,]   3 7.6 2.3
[4,]   3 7.1 3.3
[5,]   3 7.3 2.3
[6,]   3 7.4 1.3
[7,]   5 6.2 6.1
[8,]   5 3.4 6.9
>
> a <- w.conti(matriz[,1],rep(1,nrow(matriz)),matriz[,2])
> a
   v2
v1     1
  2  4.0
  3 29.4
  5  9.6

Then, using the result of table you can calculate the mean from 
the sum:

> a/as.vector(table(matriz[,1]))
   v2
v1     1
  2 2.00
  3 7.35
  5 4.80

>From your question I understand that you want new subjects according
to their number of rows, so
that subject 2 and 5 would become a new subject:

> new.sub <- as.vector(table(matriz[,1]))
> new.sub
[1] 2 4 2
> new.sub <-  rep(new.sub,new.sub)
> new.sub
[1] 2 2 4 4 4 4 2 2

> a <- w.conti(new.sub,rep(1,nrow(matriz)),matriz[,2])
> a
   v2
v1     1
  2 13.6
  4 29.4
> a/as.vector(table(new.sub))
   v2
v1     1
  2 3.40
  4 7.35
>

w.conti is simply:

function (v1,v2,z)
{
        xtabs(z~v1+v2)
}

(I could use xtabs() directely, but I never remember that expression,
while w.conti is easier to remember)

Of course, if you always need the mean, just add 
the second step to w.conti.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On 4 Jun 2002, Russell Senior wrote:

> 
> I've got a data frame that looks like this:
> 
>    subject   foo   bar
>       2      1.7   3.2
>       2      2.3   4.1
>       3      7.6   2.3
>       3      7.1   3.3
>       3      7.3   2.3
>       3      7.4   1.3
>       5      6.2   6.1
>       5      3.4   6.9
>      ...
> 
> That is, I've got multiple rows per subject.  I need to compute
> summaries within categories where the subject has the same number of
> rows.  For example, subject 2 and 5 both have two rows.  I need to
> compute mean for those four values of foo.  This looks like a good
> candidate for index vectors, but I need some help.  I've tried
> something like:
> 
>   table(data) -> tmp
>  
> and:
> 
>   tmp[tmp == 2]
> 
> and even:
> 
>   as.numeric(attr(tmp[tmp == 2],"names"))
> 
> to get a vector of subject numbers that have two rows in the original
> data frame.  But I am getting stuck there.  I want some kind of
> "is.member" function to use in a subsequent index vector expression,
> like:
> 
>   i <- as.numeric(attr(tmp[tmp == 2],"names"))
>   data[is.member($subject,i)]$foo
> 
> but there isn't an is.member() function.  Can someone please give me a
> pointer on the canonical way to do this?
> 
> Thanks!
> 
> -- 
> Russell Senior         ``The two chiefs turned to each other.        
> seniorr at aracnet.com      Bellison uncorked a flood of horrible       
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''                      
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jun  5 10:26:50 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 5 Jun 2002 10:26:50 +0200 (MET DST)
Subject: [R] "X11 font at size 16 could not be loaded"
In-Reply-To: <20020604181645.A3281@giraffa.cbs.dtu.dk>
Message-ID: <Pine.OSF.3.96.1020605102518.15904C-100000@paleo>


On Tue, 4 Jun 2002, Laurent Gautier wrote:

> 
> The modifications posted some time ago on this list seem to
> work (in reply to the very same problem) still...

Any clue on th subject, author or date of that message?
I did search the archive for x11 and font prior to
send my message and  could not find anything.

Thanks

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Jun  5 09:26:08 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 5 Jun 2002 09:26:08 +0200
Subject: [R] "X11 font at size 16 could not be loaded"
In-Reply-To: <Pine.OSF.3.96.1020605102518.15904C-100000@paleo>; from alobo@ija.csic.es on Wed, Jun 05, 2002 at 10:26:50AM +0200
References: <20020604181645.A3281@giraffa.cbs.dtu.dk> <Pine.OSF.3.96.1020605102518.15904C-100000@paleo>
Message-ID: <20020605092608.D5923@giraffa.cbs.dtu.dk>

On Wed, Jun 05, 2002 at 10:26:50AM +0200, Agustin Lobo wrote:
> 
> On Tue, 4 Jun 2002, Laurent Gautier wrote:
> 
> > 
> > The modifications posted some time ago on this list seem to
> > work (in reply to the very same problem) still...
> 
> Any clue on th subject, author or date of that message?
> I did search the archive for x11 and font prior to
> send my message and  could not find anything.

sure...


here is a hint

http://www.google.com/search?hl=en&q=X11+font+at+size+16+could+not+be+loaded&btnG=Google+Search


;)



L.



> 
> Thanks
> 
> Agus
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefan.roepcke at metagen.de  Wed Jun  5 11:26:44 2002
From: stefan.roepcke at metagen.de (Stefan Roepcke)
Date: Wed, 05 Jun 2002 11:26:44 +0200
Subject: [Re: Re: [R] Scaling on a data.frame]
Message-ID: <3CFDD954.D38A0632@metagen.de>

Stefan Roepcke <stefan.roepcke at metagen.de> writes:

> Hey,
> 
> hopefully there is an easy way to solve my problem.
> All that i think off is lengthy and clumsy.
> 
> Given a data.frame d with columns VALUE, FAC1, FAC2, FAC3.
> Let FAC1 be something like experiment number,
> so that there are exactly the same number of rows for each level of FAC1
> in the data.frame.
> 
> Now i would like to scale all values according to the center of its
> experiment.
> So i can apply s <- by(d[1], FAC1, scale).
> But i don't want to lose the binding to the other factors (FAC2, FAC3).
> Or can i only control it via order preserving - it seems unsave.
> 
> Something like that would be nice:
> "by(d[1], FAC1) <- by(d[1], FAC1, scale)"

Hey, 
finely this works (adapted from Prof. Ripleys suggestion):

grpmeans <- tapply(d$VALUE, d$FAC1, mean, na.rm=T)  
d$c <- d$VALUE - grpmeans[d$FAC1] 
grpscale <- tapply(d$c, d$FAC1, sd, na.rm=T)
d$cs <- d$c / grpscale[d$FAC1] 

It was funny to get 3 eligible answers
but non of them worked at first go.
 
1)	grpmeans <- tapply(d[1], FAC1, mean)
	d$s <- scale(d[1], grpmeans[d$FAC1], FALSE)

2)	zz <- by(d1,d1$FAC1,function(x,...){c(scale(x$VALUE),x$FAC2,x$FAC3)})

These doesn't work because scale and by doesn't return the expected
vector ???

3) split(z, g) <- lapply(split(x, g), scale)
This is something elegant - i would like to apply.
So i hurry to install R 1.5 .

On R 1.3 i got this when i tried to follow Peter Dalgaards suggestion:
> get("split<-.data.frame")
Error in get(x, envir, mode, inherits) : variable "split<-.data.frame"
was not found

Thanks again, I found a solution and learned a lot 8-)

Stefan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jun  5 12:05:31 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 5 Jun 2002 12:05:31 +0200 (MET DST)
Subject: [R] "X11 font at size 16 could not be loaded":SOLVED
In-Reply-To: <20020605092608.D5923@giraffa.cbs.dtu.dk>
Message-ID: <Pine.OSF.3.96.1020605115644.19280B-100000@paleo>


Thanks, I had searched the 2002 and 2001 archives, your "some
time ago" was quite a time ago.

The problem was solved by adding 
        FontPath     "/usr/X11R6/lib/X11/fonts/75dpi"
        FontPath     "/usr/X11R6/lib/X11/fonts/100dpi"
to /etc/X11/XF86Config
(I had the unscaled versions:
	FontPath     "/usr/X11R6/lib/X11/fonts/75dpi:unscaled"
        FontPath     "/usr/X11R6/lib/X11/fonts/100dpi:unscaled"
)

The hard point here has been relating the error message in R
to the Helvetica fonts and the Helvetica fonts to the
above Font paths.

Might it be to consider that the R installation program
check for the presence of these font paths in XF86Config ?
Or perhaps a note in the Rinstall guide?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 5 Jun 2002, Laurent Gautier wrote:

> On Wed, Jun 05, 2002 at 10:26:50AM +0200, Agustin Lobo wrote:
> > 
> > On Tue, 4 Jun 2002, Laurent Gautier wrote:
> > 
> > > 
> > > The modifications posted some time ago on this list seem to
> > > work (in reply to the very same problem) still...
> > 
> > Any clue on th subject, author or date of that message?
> > I did search the archive for x11 and font prior to
> > send my message and  could not find anything.
> 
> sure...
> 
> 
> here is a hint
> 
> http://www.google.com/search?hl=en&q=X11+font+at+size+16+could+not+be+loaded&btnG=Google+Search
> 
> 
> ;)
> 
> 
> 
> L.
> 
> 
> 
> > 
> > Thanks
> > 
> > Agus
> > 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Jun  5 12:06:14 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 5 Jun 2002 12:06:14 +0200
Subject: [R] mixing different modes of lty line type specification in legend() ?
Message-ID: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>

Hi List,
is sth. like the following possible:

legend(x,y,c("A","B","C"), lty=list(1,"42","11")) ?

Or: is there a possibility to define a solid line using the "string" mode for lty?
Thanks
	Marcus
-- 
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun  5 12:12:24 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jun 2002 12:12:24 +0200
Subject: [Re: Re: [R] Scaling on a data.frame]
In-Reply-To: <3CFDD954.D38A0632@metagen.de>
References: <3CFDD954.D38A0632@metagen.de>
Message-ID: <x2znyaqbjr.fsf@blueberry.kubism.ku.dk>

Stefan Roepcke <stefan.roepcke at metagen.de> writes:

> On R 1.3 i got this when i tried to follow Peter Dalgaards suggestion:
> > get("split<-.data.frame")
> Error in get(x, envir, mode, inherits) : variable "split<-.data.frame"
> was not found

Yes, as I told you, that function doesn't exist inversions prior to
1.5.0. I was showing you how it was defined there...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  5 12:23:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Jun 2002 11:23:28 +0100 (GMT Daylight Time)
Subject: [R] R-patched for Windows
Message-ID: <Pine.WNT.4.44.0206051116180.204-100000@Reeve>

I've put up a build of the current R-patched (and updated recommended
packages) for Windows at

     http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe

This should be able to rename files on Win 9x (unlike the mid-May build)
and can build packages accessing Rblas.dll.

As ever, this is less tested than an official release, in particular only
on Windows XP, but ought to have fewer bugs than rw1050.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Jun  5 12:10:30 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 5 Jun 2002 12:10:30 +0200
Subject: [R] "X11 font at size 16 could not be loaded":SOLVED
In-Reply-To: <Pine.OSF.3.96.1020605115644.19280B-100000@paleo>; from alobo@ija.csic.es on Wed, Jun 05, 2002 at 12:05:31PM +0200
References: <20020605092608.D5923@giraffa.cbs.dtu.dk> <Pine.OSF.3.96.1020605115644.19280B-100000@paleo>
Message-ID: <20020605121030.A6282@giraffa.cbs.dtu.dk>

On Wed, Jun 05, 2002 at 12:05:31PM +0200, Agustin Lobo wrote:
> 
> Thanks, I had searched the 2002 and 2001 archives, your "some
> time ago" was quite a time ago.


...that's all 'relative' I assume...

> 
> The problem was solved by adding 
>         FontPath     "/usr/X11R6/lib/X11/fonts/75dpi"
>         FontPath     "/usr/X11R6/lib/X11/fonts/100dpi"
> to /etc/X11/XF86Config
> (I had the unscaled versions:
> 	FontPath     "/usr/X11R6/lib/X11/fonts/75dpi:unscaled"
>         FontPath     "/usr/X11R6/lib/X11/fonts/100dpi:unscaled"
> )
> 
> The hard point here has been relating the error message in R
> to the Helvetica fonts and the Helvetica fonts to the
> above Font paths.
> 
> Might it be to consider that the R installation program
> check for the presence of these font paths in XF86Config ?
> Or perhaps a note in the Rinstall guide?
> 


The font business depends on many things (and Linux is not the only
'non-windows or Mac' OS...)...

Some ditribution (ex. Mandrake) have different way to get the fonts
and it works good...
On some it screws up with Xfree4.whatever (ex. Suse)...

..I would rather think the problem is more a bug/problem in your Linux distribution than a
problem in R itself.... I let the development on that to people better informed than my humble person...



L.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jun  5 12:42:53 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 5 Jun 2002 22:42:53 +1200
Subject: [R] mixing different modes of lty line type specification in legend() ?
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>
Message-ID: <005b01c20c7d$bf900fd0$bd2d56d2@kwan022>

Hi,

----- Original Message -----
From: "Marcus Eger" <eger.m at gmx.de>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Wednesday, June 05, 2002 10:06 PM
Subject: [R] mixing different modes of lty line type specification in
legend() ?


> Hi List,
> is sth. like the following possible:
>
> legend(x,y,c("A","B","C"), lty=list(1,"42","11")) ?

I am assuming you want to fit the three lines with line type 1, 42, and 11?

If this is so you need something like:
  legend(x,y,c("A","B","C"), lty=c(1,42,11))

Or you can use:
  legend(x,y,c("A","B","C"), lty=c("solid", "dotted", "dashed"))
which draws solid line for A, dotted line for B and dashed line for C.

I hope this is what you want :-)

Cheers,

Ko-Kang Wang

---------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun  5 13:15:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 05 Jun 2002 13:15:00 +0200
Subject: [R] mixing different modes of lty line type specification in 
 legend() ?
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>
Message-ID: <3CFDF2B4.8024C09E@statistik.uni-dortmund.de>



Marcus Eger wrote:
> 
> Hi List,
> is sth. like the following possible:
> 
> legend(x,y,c("A","B","C"), lty=list(1,"42","11")) ?

Well, you have to convert such a list anyway ...

> Or: is there a possibility to define a solid line using the "string" mode for lty?

What about 
  legend(x, y, c("A","B","C"), lty=c("dashed", "solid", "dotted"))

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Wed Jun  5 14:56:15 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Wed, 05 Jun 2002 08:56:15 -0400
Subject: [R] compiling packages
Message-ID: <3CFE0A6F.E4F17CFD@mcgill.ca>

Hello again. As suggested i just run make
pkg-c:/r_src/src/library/addreg --library=c:/r_src/library
and the thing did not work. So I copy the folder 'addreg' to
rw1051/src/library and now just called make pkg-addreg and it compiled
help etc.
I do not know Perl etc but seems that the script has problems with paths

My gcc is 2.95.2 and Perl is 5.6.1.626, BDR's utils is the latest
Thanks to all those who helped.
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  5 15:14:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 5 Jun 2002 14:14:05 +0100 (BST)
Subject: [R] compiling packages
In-Reply-To: <3CFE0A6F.E4F17CFD@mcgill.ca>
Message-ID: <Pine.LNX.4.31.0206051404450.6813-100000@gannet.stats>

On Wed, 5 Jun 2002, Heberto Ghezzo wrote:

> Hello again. As suggested i just run make
> pkg-c:/r_src/src/library/addreg --library=c:/r_src/library
> and the thing did not work. So I copy the folder 'addreg' to
> rw1051/src/library and now just called make pkg-addreg and it compiled
> help etc.
> I do not know Perl etc but seems that the script has problems with paths

But you used make there, not Perl.  The correct form is

make PKGDIR=c:/r_src/src/library RLIB=c:/r_src/library pkg-addreg

and that *is* documented in readme.packages.  You must have missed it, so
please re-read ALL of that document.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Jun  5 15:48:51 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 5 Jun 2002 08:48:51 -0500 (CDT)
Subject: [R] as.generic
Message-ID: <Pine.GSO.4.33.0206050838210.19295-100000@ysidro.econ.uiuc.edu>

I've been writing some matrix-type methods for a new class of sparse matrices
and for most methods this has been straightforward.  However, there are
examples, like %*% and chol, that (apparently) R doesn't automatically
recognize as generic.  What to do in these cases?  At this point, I've
been writing new generic methods with slightly perturbed names %m% and
cholesky for example in the expectation that I'll eventually rename them
when I discover the source of my confusion.  Can someone enlighten me?


url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Jun  5 15:47:49 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 5 Jun 2002 15:47:49 +0200
Subject: [R] mixing different modes of lty line type specification in legend() ?
In-Reply-To: <005b01c20c7d$bf900fd0$bd2d56d2@kwan022>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de> <005b01c20c7d$bf900fd0$bd2d56d2@kwan022>
Message-ID: <E17Fb8f-0000TV-00@ernie.physik.uni-marburg.de>


On Wednesday 05 June 2002 12:42, Ko-Kang Kevin Wang wrote:
> I am assuming you want to fit the three lines with line type 1, 42, and 11?
> If this is so you need something like:
>   legend(x,y,c("A","B","C"), lty=c(1,42,11))

The problem is: lty=42 is not the same as lty="42", e.g.,
compare
 plot(1:10,type="l",lwd=3,lty="42")
 plot(1:10,type="l",lwd=3,lty=42)


I would like to use the "string"-mode for lty because thereby I can precisely 
define the stretch pattern.


On Wednesday 05 June 2002 13:15, Uwe Ligges wrote:
> What about
> ? legend(x, y, c("A","B","C"), lty=c("dashed", "solid", "dotted"))

Yes, that is possible, but again, the pattern cannot be specified precisely. 
As an alternative, one could use:

legend(x, y, c("A","B","C"), lty=c("11", "22", "42"),lwd=3)

But, unfortunately, solid lines do not seem to supported in "string" mode.

	Marcus
-- 
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  5 16:24:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 5 Jun 2002 15:24:22 +0100 (BST)
Subject: [R] as.generic
In-Reply-To: <Pine.GSO.4.33.0206050838210.19295-100000@ysidro.econ.uiuc.edu>
Message-ID: <Pine.LNX.4.31.0206051511270.10202-100000@gannet.stats>

On Wed, 5 Jun 2002, Roger Koenker wrote:

> I've been writing some matrix-type methods for a new class of sparse matrices
> and for most methods this has been straightforward.  However, there are
> examples, like %*% and chol, that (apparently) R doesn't automatically
> recognize as generic.  What to do in these cases?  At this point, I've
> been writing new generic methods with slightly perturbed names %m% and
> cholesky for example in the expectation that I'll eventually rename them
> when I discover the source of my confusion.  Can someone enlighten me?

chol() is not generic, as you can see from the definition.  It is easy for
a package to define a generic and to capture from base the original as the
default method.  E.g.

chol <- function(x, ...) UseMethod("chol")
chol.default <- get("chol", pos=length(search()))

(There are other ways to specify base, e.g. envir=NULL, but I am not sure
what will still work come namespaces and 1.6.0.)

%*% is a primitive, and so harder to tell if it is generic.  It isn't

> "%*%.foo" <- function(e1, e2) stop("using foo")
> a <- structure(1, class="foo")
> a %*% a

so you need

"%*%.default" <- .Primitive("%*%")
"%*%" <- function(e1, e2) UseMethod("%*%")


Now, other functions in base in R-devel (1.6.0 to be) are sealed and so
will use the original definitions.  That may or may not be what you want.
You can always ask R-core to make functions generic and we usually agree.

All of this is in terms of S3 methods, not the formal methods of package
`methods'.  Another way is to use formal methods and assign a method, when
most of this is automatic: see the Green Book.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiaon at mail.nih.gov  Wed Jun  5 17:04:29 2002
From: xiaon at mail.nih.gov (Xiao, Nianqing (NCI))
Date: Wed, 5 Jun 2002 11:04:29 -0400 
Subject: [R] How to put values of 25 and 75 percentile on boxplot? 
Message-ID: <9D7EF737FA4C6F4FBBFC52FC30B83690B70CB2@nihexchange7.nih.gov>

Hi all, 

One quick question: 
How to put values of 25 and 75 percentile on boxplot? 
Thanks in advance. 

Nianqing Xiao, Ph.D
NCI Center for Bioinformatics, NIH
SAIC/Advanced Systems Group
> 6116 EXECUTIVE BLVD 4026J 
> MSC 8335
> BETHESDA MD 20852
Phone: 301-451-6357
Fax: 301-480-4222

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Jun  5 17:34:29 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 5 Jun 2002 17:34:29 +0200
Subject: [R] mixing different modes of lty line type specification in  legend() ?
In-Reply-To: <3CFE25EA.2CBC7493@statistik.uni-dortmund.de>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de> <E17Fb8f-0000TV-00@ernie.physik.uni-marburg.de> <3CFE25EA.2CBC7493@statistik.uni-dortmund.de>
Message-ID: <E17Fcnu-0001Hn-00@ernie.physik.uni-marburg.de>

On Wednesday 05 June 2002 16:53, Uwe Ligges wrote:

> Marcus Eger wrote:
> > legend(x, y, c("A","B","C"), lty=c("11", "22", "42"),lwd=3)
> > But, unfortunately, solid lines do not seem to supported in "string"
> > mode.
>
> Was a misunderstanding, sorry ...
>
> Not really tested: Does "0" the trick?

Hhmm. 
 plot(1:10,type="l",lwd=3,lty="0")

works, but unfortunately not in legends:

 legend(x, y, c("A","B","C"), lty=c("0", "22", "42"),lwd=3)

It just leaves the first line blank.
I think it is because legend simply does not process lty elements less equal 
zero (not distinguishing between strings and numbers):

"legend" <-
  function( .......
......
 if (do.lines) {
    seg.len <- 2
    ok.l <- if (missing(lty)) {
      lty <- 1
      TRUE
    }
    else lty > 0
browser()
.......

Browse[1]> ok.l
[1] FALSE  TRUE  TRUE


+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Wed Jun  5 17:44:39 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Wed, 05 Jun 2002 11:44:39 -0400
Subject: [R] How to put values of 25 and 75 percentile on boxplot?
Message-ID: <7C4F091F6140D411A29300508B5C73B906D7212F@usrymx04.merck.com>

Hi. 

The 25th and 75th percentiles are on the boxplot:  they're the lower and
upper edges of the box.  So I'm guessing you want to print the text next to
the edges, you'll need to capture the output of boxplot and look at the
"stats" element.  Then, with a little bit of messing around to get the
locations you want right, you should be able to use "text".  Take a look at
the help pages for boxplot and boxplot.stats (which actually gets the
statistics).

Hope this helps,

Matthew Wiener
Applied Computer Science and Mathematics Department
Merck Research Labs
Rahway, NJ  07065-0900
732-594-5303



-----Original Message-----
From: Xiao, Nianqing (NCI) [mailto:xiaon at mail.nih.gov]
Sent: Wednesday, June 05, 2002 11:04 AM
To: r-help at stat.math.ethz.ch
Subject: [R] How to put values of 25 and 75 percentile on boxplot?


Hi all, 

One quick question: 
How to put values of 25 and 75 percentile on boxplot? 
Thanks in advance. 

Nianqing Xiao, Ph.D
NCI Center for Bioinformatics, NIH
SAIC/Advanced Systems Group
> 6116 EXECUTIVE BLVD 4026J 
> MSC 8335
> BETHESDA MD 20852
Phone: 301-451-6357
Fax: 301-480-4222

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merithew at ccmr.cornell.edu  Wed Jun  5 17:54:26 2002
From: merithew at ccmr.cornell.edu (Robert D. Merithew)
Date: Wed, 5 Jun 2002 11:54:26 -0400 (EDT)
Subject: [R] par(xaxp)
Message-ID: <Pine.LNX.4.44.0206051128090.2256-100000@magic.ccmr.cornell.edu>


I don't understand why this doesn't work:

----
plot(c(0,1),c(0.2,0.3),xaxt="n")
axis(1,xaxp=c(0,1,4))
----

Or why this (more obvious to me) doesn't work:

----
plot(c(0,1),c(0.2,0.3),xaxp=c(1,0,4))
----

(I still get 5 intervals on the x-axis)

This has bothered me for months.  I still don't understand why I
shouldn't expect only 4 intervals in both of these cases.

It wasn't until I saw this exchange that I realized that:

----
plot(c(0,1),c(0.2,0.3),xaxt="n")
par(xaxp=c(0,1,4))
axis(1)
----

does work.

Perhaps if someone can explain to me why the first two don't work, I'll be
better able to anticipate this behavior in other R functions in the
future...

Should "xaxp" be listed among the options which can't be set in
"high-level" and "mid-level" plot functions in the documentation for
"par"?

Plot and axis don't give error messages, such as the one 'plot' gives if I
try to set "ps"...


platform i586-pc-linux-gnu
arch     i586
os       linux-gnu
system   i586, linux-gnu
status
major    1
minor    5.0
year     2002
month    04
day      29
language R


confused,
--
Robert Merithew, PhD
LASSP, Clark Hall
Cornell University
Ithaca NY 14850 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Jun  5 17:55:08 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 5 Jun 2002 17:55:08 +0200
Subject: [R] mixing different modes of lty line type specification in   legend() ?
In-Reply-To: <3CFE318B.366A1EEA@statistik.uni-dortmund.de>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de> <E17Fcnu-0001Hn-00@ernie.physik.uni-marburg.de> <3CFE318B.366A1EEA@statistik.uni-dortmund.de>
Message-ID: <E17Fd7t-0001Tl-00@ernie.physik.uni-marburg.de>

On Wednesday 05 June 2002 17:43, Uwe Ligges wrote:
> > works, but unfortunately not in legends:
> >
> >  legend(x, y, c("A","B","C"), lty=c("0", "22", "42"),lwd=3)
> >
> > It just leaves the first line blank.
> > I think it is because legend simply does not process lty elements less
> > equal zero (not distinguishing between strings and numbers):
>
>  legend(x, y, c("A","B","C"), lty=c("10", "22", "42"), lwd=3)

This does not work for me (R 1.4.1):
legend(x,y, c("A","B","C"), lty=c("10", "22", "42"),lwd=3)
does the same as
legend(x,y, c("A","B","C"), lty=c("1", "22", "42"),lwd=3)
or
legend(x,y, c("A","B","C"), lty=c("11", "22", "42"),lwd=3)

It just produces a narrow dot pattern.
Moreover, the lty="10" produces a ghostscript error when plotted to 
postscript device:

Error: /rangecheck in --setdash--
Operand stack:
   --nostringval--   0
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--   
--nostringval--   2   %stopped_push   --nostringval--   --nostringval--   
--nostringval--   false   1   %stopped_push   1   3   %oparray_pop   1   3   
%oparray_pop   .runexec2   --nostringval--   --nostringval--   
--nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop  
 --nostringval--   --nostringval--
Dictionary stack:
   --dict:1035/1476(ro)(G)--   --dict:0/20(G)--   --dict:92/200(L)--
Current allocation mode is local
GNU Ghostscript 6.53: Unrecoverable error, exit code 1

-- 
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun  5 19:02:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jun 2002 19:02:56 +0200
Subject: [R] mixing different modes of lty line type specification in legend() ?
In-Reply-To: <E17FbuT-0000gn-00@ernie.physik.uni-marburg.de>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>
	<E17Fb8f-0000TV-00@ernie.physik.uni-marburg.de>
	<x2hekhn7by.fsf@blueberry.kubism.ku.dk>
	<E17FbuT-0000gn-00@ernie.physik.uni-marburg.de>
Message-ID: <x2elfl1wvz.fsf@blueberry.kubism.ku.dk>

Marcus Eger <eger.m at gmx.de> writes:

> On Wednesday 05 June 2002 16:11, Peter Dalgaard BSA wrote:
> > Marcus Eger <eger.m at gmx.de> writes:
> > > legend(x, y, c("A","B","C"), lty=c("11", "22", "42"),lwd=3)
> > > But, unfortunately, solid lines do not seem to supported in "string"
> > > mode.
> >
> > Eh?
> 
> With "string" mode, I mean that a line type may be specified by a sequence of 
> characters. E.g., as R-help says (par.html),
> >>lty="3313" specifies three units on followed by three off followed by one 
> on and finally three off. <<
> Another example is lty="11" which produces a narrow dot pattern. I wished 
> that it were possible to also define a solid line by these patterns.

Yes, but "solid" is a perfectly valid string and can easily be mixed
with the others. The problem with the patterns is that they recycle and
thus give alternating on/off values by definition. 

Curiously, "0" gives a solid line in plot() but not in legend(),
whereas "00" works in both places.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun  5 19:23:33 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jun 2002 19:23:33 +0200
Subject: [R] mixing different modes of lty line type specification in legend() ?
In-Reply-To: <x2elfl1wvz.fsf@blueberry.kubism.ku.dk>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>
	<E17Fb8f-0000TV-00@ernie.physik.uni-marburg.de>
	<x2hekhn7by.fsf@blueberry.kubism.ku.dk>
	<E17FbuT-0000gn-00@ernie.physik.uni-marburg.de>
	<x2elfl1wvz.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2660x1vxm.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Curiously, "0" gives a solid line in plot() but not in legend(),
> whereas "00" works in both places.

...as you noticed yourself, I see. I suspect the logic in legend() is
simply a bug.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed Jun  5 20:33:01 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 05 Jun 2002 18:33:01 +0000
Subject: [R] R-patched for Windows
References: <Pine.WNT.4.44.0206051116180.204-100000@Reeve>
Message-ID: <3CFE595D.38E3A5A4@sentoo.sn>

Dear Pr Ripley,

I am pleased to confirm that the 2 problems I recently notified to
R-help:
1) RGUI crashes when reading a data.frame (problem related to isprint
routine)
2) save.image() fails (problem related to file.rename())
seem to be fixed in the current R-patched for Windows.

Many thanks for your help,

Renaud

Prof Brian Ripley wrote:
> 
> I've put up a build of the current R-patched (and updated recommended
> packages) for Windows at
> 
>      http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe
> 
> This should be able to rename files on Win 9x (unlike the mid-May build)
> and can build packages accessing Rblas.dll.
> 
> As ever, this is less tested than an official release, in particular only
> on Windows XP, but ought to have fewer bugs than rw1050.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rns8 at terra.it  Wed Jun  5 21:25:58 2002
From: rns8 at terra.it (Chiamami)
Date: Wed, 5 Jun 2002 21:25:58 +0200
Subject: [R] Qualcuno ti ama in segreto
Message-ID: <70002002635192558458@terra.it>






-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020605/80486361/attachment.html

From pols1oh at bestweb.net  Wed Jun  5 22:59:40 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Wed, 5 Jun 2002 16:59:40 -0400
Subject: [R] data manipulation, tapply
Message-ID: <200206051659.40949.pols1oh@bestweb.net>



I have a tricky (for me) tapply sort of problem for which I am searching for 
the a computationally efficient solution.

I have a file of historical data which looks like:

yr	deflator	price
1990	.03		5.12
1991	.023		5.09
.
.
.
2001	.068		7.8

(deflator is for a highly specialized basket of goods if you are confused by 
those numbers)

I also have a 50000 scenario monte carlo forecast simulation which looks 
somthing like:

scenario 	yr	deflator	price
1		2002	.014		8.2
1		2003	.032		8.5
.
.
1		2011	.041		15.3
.
.
50000		2011	.078		6.23

Each of the 50000 scenarios contains 10 years of forecasts. Now I would like 
to create a measure of deviation from the moving 10-year inflation adjusted 
average for each scenario.  For the first 9 years of the monte carlo (mc) 
data, the historical dataset will need to be referenced to achieve the full 
10 years worth of data. 

One way to go would be to prepend the history to the mc data 50000 times so 
that the history would precede each scenario. Easy to code, but not too 
efficient.

A single scenario version might look something like this:

MakePremium <- function(mcrent,hisrent,mcinf,hisinf,current) {
	rentvect <- c(hisren,mcren)
	lv <- length(rentvect)
	rentvect <- rentvect[(lv-10):lv]
	infvect <- c(hisinf,mcinf)
	lv <- length(infvect)
	infvect <- infvect[(lv-9):lv]
	infvect <- c(1,infvect)
	realrent_mean(rentvect/cumprod((lv)))
	return(current/realrent)
              }
(should) produces a current rent/moving average ratio.

I initially jotted down this function with the intention of using a tapply to 
create scenario by scenario calculations, but suddenly realize that tapply 
doesn't really seem to fit (er, my function doesn't fit tapply, rather).

Anyone been down this road? or better was able to find a far better road to 
get to the same place.
 
=========================================
Michaell Taylor, PhD
Senior Economist, Reis, New York, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v_bill_pikounis at merck.com  Wed Jun  5 23:52:55 2002
From: v_bill_pikounis at merck.com (Pikounis, V. Bill)
Date: Wed, 05 Jun 2002 17:52:55 -0400
Subject: [R] par(new=T) with xyplot
Message-ID: <E827328028C66044B4998F2EC353CD30373D1F@usrymx12.merck.com>

I know I should not mix base plotting functions with grid/lattice functions,
but I have used a "quick-and-dirty" trick of par(new=T) in the past for
annotating a trellis-drawn graph in various versions of S-PLUS.  The
sequence goes something like this:

> windows(width = 5, height = 5, pointsize = 10)  # open up the device

> xyplot(y ~ x)  
> par(new=T)
> xyplot(y2 ~ x)
> par(new=F)  

Using R 1.5.0 in Windows, I tried this for the first time today, and the
par(new=T) setting appears to be ignored by the second xyplot call; i.e.,
the frame is cleaned and only the second printing of xyplot appears on the
device.  (If instead of the second xyplot I use a base plot function like
plot.default, the frame is not cleaned, which I want to happen). 

Is there anything analogous to par(new=T) that I could use to achieve this
behavior of "not cleaning the frame" with lattice commands? Any workaround
or advice is appreciated.  

Thanks in advance,
Bill
----------------------------------------
Bill Pikounis, Ph.D.
Biometrics Research Department
Merck Research Laboratories
PO Box 2000, MailDrop RY70-38  
## Please note that as of Wed 12 Jun 2002
## MailDrop will be RY84-16
126 E. Lincoln Avenue
Rahway, New Jersey 07065-0900
USA

v_bill_pikounis at merck.com

Phone: 732 594 3913
Fax: 732 594 1565



------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jun  6 01:42:32 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 5 Jun 2002 19:42:32 -0400
Subject: [R] par(new=T) with xyplot
In-Reply-To: <E827328028C66044B4998F2EC353CD30373D1F@usrymx12.merck.com>
References: <E827328028C66044B4998F2EC353CD30373D1F@usrymx12.merck.com>
Message-ID: <20020605194232.78a96c0b.fharrell@virginia.edu>

On Wed, 05 Jun 2002 17:52:55 -0400
"Pikounis, V. Bill" <v_bill_pikounis at merck.com> wrote:

> I know I should not mix base plotting functions with grid/lattice functions,
> but I have used a "quick-and-dirty" trick of par(new=T) in the past for
> annotating a trellis-drawn graph in various versions of S-PLUS.  The
> sequence goes something like this:
> 
> > windows(width = 5, height = 5, pointsize = 10)  # open up the device
> 
> > xyplot(y ~ x)  
> > par(new=T)
> > xyplot(y2 ~ x)
> > par(new=F)  
> 
> Using R 1.5.0 in Windows, I tried this for the first time today, and the
> par(new=T) setting appears to be ignored by the second xyplot call; i.e.,
> the frame is cleaned and only the second printing of xyplot appears on the
> device.  (If instead of the second xyplot I use a base plot function like
> plot.default, the frame is not cleaned, which I want to happen). 
> 
> Is there anything analogous to par(new=T) that I could use to achieve this
> behavior of "not cleaning the frame" with lattice commands? Any workaround
> or advice is appreciated.  
> 
> Thanks in advance,
> Bill

Bill - I have had luck just doing par(usr=c(0,1,0,1)).  That's the way I add legends to Lattice graphs using the regular legend command.  [Actually I've used par(usr=c(0,1,0,1),xpd=NA) if it matters.]  But I haven't tried anything with two xyplot calls in a row.  -Frank


> ----------------------------------------
> Bill Pikounis, Ph.D.
> Biometrics Research Department
> Merck Research Laboratories
> PO Box 2000, MailDrop RY70-38  
> ## Please note that as of Wed 12 Jun 2002
> ## MailDrop will be RY84-16
> 126 E. Lincoln Avenue
> Rahway, New Jersey 07065-0900
> USA
> 
> v_bill_pikounis at merck.com
> 
> Phone: 732 594 3913
> Fax: 732 594 1565
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Jun  6 01:59:59 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 06 Jun 2002 11:59:59 +1200
Subject: [R] par(new=T) with xyplot
References: <E827328028C66044B4998F2EC353CD30373D1F@usrymx12.merck.com>
Message-ID: <3CFEA5FF.8CA3D93@stat.auckland.ac.nz>

Hi


> I know I should not mix base plotting functions with grid/lattice functions,
> but I have used a "quick-and-dirty" trick of par(new=T) in the past for
> annotating a trellis-drawn graph in various versions of S-PLUS.  The
> sequence goes something like this:
> 
> > windows(width = 5, height = 5, pointsize = 10)  # open up the device
> 
> > xyplot(y ~ x)
> > par(new=T)
> > xyplot(y2 ~ x)
> > par(new=F)
> 
> Using R 1.5.0 in Windows, I tried this for the first time today, and the
> par(new=T) setting appears to be ignored by the second xyplot call; i.e.,
> the frame is cleaned and only the second printing of xyplot appears on the
> device.  (If instead of the second xyplot I use a base plot function like
> plot.default, the frame is not cleaned, which I want to happen).
> 
> Is there anything analogous to par(new=T) that I could use to achieve this
> behavior of "not cleaning the frame" with lattice commands? Any workaround
> or advice is appreciated.


You can use the "more" argument to the print.trellis() function.  For
example, ...

library(lattice)
x <- rnorm(10)
y <- rnorm(10)
y2 <- rep(0, 10)
p1 <- xyplot(y ~ x, ylim=c(-5, 5)) 
p2 <- xyplot(y2 ~ x, pch=16, ylim=c(-5, 5), ylab=" ")
print.trellis(p1, more=TRUE)
bg <- trellis.par.get("background")
bg$col <- "transparent"
trellis.par.set("background", bg)
print.trellis(p2)

... NOTE the need to set the background to "transparent" before doing
the second plot.

Hope that helps

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngde65t at cs.com  Thu Jun  6 01:59:53 2002
From: Ngde65t at cs.com (Ngde65t@cs.com)
Date: Wed, 5 Jun 2002 19:59:53 EDT
Subject: [R] Monte Carlo
Message-ID: <186.8be89fe.2a2ffff9@cs.com>

 Doctor in veterinary medecine I have a degree in veterinary epidemiology
I would ask if someone can perform Monte Carlo simulation with R.
       Thanks in advance.


Dr Kane Ismaila
i_kane at hotmail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maria at rhetorical.com  Thu Jun  6 09:24:04 2002
From: maria at rhetorical.com (Maria Wolters)
Date: Thu, 6 Jun 2002 08:24:04 +0100 (BST)
Subject: [R] sampling from data frame 
In-Reply-To: <200206060201.EAA04644@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.33.0206060738550.19487-100000@minardi.rhetoricalsystems.com>


Hello,

after searching through the archives and
not finding a thread that answers this question,
I thought I'd pass it on to the list.

Given a data frame and given a factor variable
that assigns a class to each case in the data frame,
what is the most efficient way to sample
a given number of cases from each class?

I've found a roundabout solution that works as follows:
for each class:
    assign unique index to each class member
    chosen_cases <-  sample(n,indexvariable)
    extract chosen_cases from data frame
    (i.e. chosen <- subset(data, indexvariable %in% chosen_cases))

this solution relies on the Hmisc library and is
horribly inefficient. Any ideas on how to make it better
would be greatly appreciated.

Best from Edinburgh,

Maria

-- 
Maria Wolters		maria.wolters
Development Engineer    AT
Rhetorical Systems Ltd. rhetorical.com
		   Edinburgh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Thu Jun  6 09:57:39 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Thu, 6 Jun 2002 17:57:39 +1000 
Subject: [R] sampling from data frame 
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1ABC@Roper-CV.qld.cmis.csiro.au>

Maria Wolters asks:

>  -----Original Message-----
> From: 	Maria Wolters [mailto:maria at rhetorical.com] 
> Sent:	Thursday, June 06, 2002 5:24 PM
> To:	R-help Digest
> Cc:	r-help-digest at stat.math.ethz.ch
> Subject:	[R] sampling from data frame 
> 
> 
> Hello,
> 
> after searching through the archives and
> not finding a thread that answers this question,
> I thought I'd pass it on to the list.
> 
> Given a data frame and given a factor variable
> that assigns a class to each case in the data frame,
> what is the most efficient way to sample
> a given number of cases from each class?
	[WNV]  Not clear what you mean.  Let me take a stab.  Suppose the
data frame is Dat and the factor is G.  Furthermore suppose the classes are
G1, G2, ..., Gm and the vector k tells you how many you want from each
class, k[1] from G1, ... , k[m] from Gm.

	Here is a way of sampling without replacement in this way, but I
would not say it is necessarily the most efficient:

		bits <- split( 1:nrow(Dat), Dat$G)  # find the indices for
each class
		wh <- sapply(1:m, function(x, k) sample(bits[x], k[x]), k =
k)  # Pick the samples
		DatSample <- Dat[wh, ]

	This gives you the sample as a data frame consisting of the selected
rows of Dat.  I'm not all that convinced that you need to do the picking
using sapply, in fact.  Personally I'd probably just use a loop that I
didn't have to think about too hard:

		wh <- list( )
		for(j in 1:m) wh[[j]] <- sample(bits[j], k[j])
		wh <- unlist(wh)

	If you want a constant number from each class, this is a bit
simpler.


> I've found a roundabout solution that works as follows:
> for each class:
>     assign unique index to each class member
>     chosen_cases <-  sample(n,indexvariable)
>     extract chosen_cases from data frame
>     (i.e. chosen <- subset(data, indexvariable %in% chosen_cases))
	[WNV]  I know this is meta-code, but using _ in names can be a bit
ambiguous...

> this solution relies on the Hmisc library and is
> horribly inefficient. Any ideas on how to make it better
> would be greatly appreciated.
> 
> Best from Edinburgh,
	[WNV]  Same from Brisbane, where I suspect the temperature is
getting close to that in Edinburgh right now.  In July you might just have
that edge, though... :-)

	Bill Venables	

> Maria
> 
> -- 
> Maria Wolters		maria.wolters
> Development Engineer    AT
> Rhetorical Systems Ltd. rhetorical.com
> 		   Edinburgh
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Jun  6 11:29:11 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 06 Jun 2002 04:29:11 -0500
Subject: [R] How to download inccoming files?
References: <186.8be89fe.2a2ffff9@cs.com>
Message-ID: <3CFF2B67.9060202@epm.net.co>

Hello, dear R-users and developers!

I want to know how can I download a file that is in the
"ftp://cran.r-project.org/incoming" directory.
I try several times but always and "access denied" or "no such 
directory" message appears.

Thank you for your help.
Have a nice day!


Kenneth


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  6 11:40:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2002 11:40:26 +0200
Subject: [R] How to download inccoming files?
In-Reply-To: <3CFF2B67.9060202@epm.net.co>
References: <186.8be89fe.2a2ffff9@cs.com> <3CFF2B67.9060202@epm.net.co>
Message-ID: <x2d6v4oid1.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> Hello, dear R-users and developers!
> 
> I want to know how can I download a file that is in the
> "ftp://cran.r-project.org/incoming" directory.
> I try several times but always and "access denied" or "no such
> directory" message appears.
> 
> Thank you for your help.
> Have a nice day!

I would expect that to be deliberate policy. Otherwise incoming
directories - being writable for anyone - would very quickly get
misused for temporary storage of pirated software and the like.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Jun  6 11:53:22 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 06 Jun 2002 04:53:22 -0500
Subject: [R] How to download inccoming files?
References: <186.8be89fe.2a2ffff9@cs.com> <3CFF2B67.9060202@epm.net.co> <x2d6v4oid1.fsf@blueberry.kubism.ku.dk>
Message-ID: <3CFF3112.5070707@epm.net.co>



Peter Dalgaard BSA wrote:

>Kenneth Cabrera <krcabrer at epm.net.co> writes:
>
>>Hello, dear R-users and developers!
>>
>>I want to know how can I download a file that is in the
>>"ftp://cran.r-project.org/incoming" directory.
>>I try several times but always and "access denied" or "no such
>>directory" message appears.
>>
>>Thank you for your help.
>>Have a nice day!
>>
>
>I would expect that to be deliberate policy. Otherwise incoming
>directories - being writable for anyone - would very quickly get
>misused for temporary storage of pirated software and the like.
>

But I am not trying to upload any think, I want to download the files 
that are there.

Best regards
Kenneth


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v_bill_pikounis at merck.com  Thu Jun  6 11:48:31 2002
From: v_bill_pikounis at merck.com (Pikounis, V. Bill)
Date: Thu, 06 Jun 2002 05:48:31 -0400
Subject: [R] Thanks and Summary (was  par(new=T) with xyplot)
Message-ID: <E827328028C66044B4998F2EC353CD30373D20@usrymx12.merck.com>

Thanks very much to Paul Murrell and Frank Harrell for addressing my
original query (repeated at end of this note).  Paul's helpful suggestion
with print.trellis and its more= argument, followed by trellis settings,
works precisely as I needed.

> # snipped from Paul's reply:

> p1 <- xyplot(y ~ x, ylim=c(-5, 5)) 
> p2 <- xyplot(y2 ~ x, pch=16, ylim=c(-5, 5), ylab=" ")
> print.trellis(p1, more=TRUE)
> bg <- trellis.par.get("background")
> bg$col <- "transparent"
> trellis.par.set("background", bg)
> print.trellis(p2)  

One side note: A glitch occurs when I use xYplot() from the Hmisc library
instead of xyplot() from lattice.  The ylim= argument seems to be ignored in
the second plotting call and therefore the y-axes do not line up.  (Frank, I
can discuss more with you about this off-list to see why this happens.)

Thanks again and Best Regards,
Bill 

> -----Original Message-----
> From: Pikounis, V. Bill [mailto:v_bill_pikounis at merck.com]
> Sent: Wednesday, June 05, 2002 5:53 PM
> To: 'r-help at lists.R-project.org'
> Subject: [R] par(new=T) with xyplot
> 
> 
> I know I should not mix base plotting functions with 
> grid/lattice functions,
> but I have used a "quick-and-dirty" trick of par(new=T) in 
> the past for
> annotating a trellis-drawn graph in various versions of S-PLUS.  The
> sequence goes something like this:
> 
> > windows(width = 5, height = 5, pointsize = 10)  # open up the device
> 
> > xyplot(y ~ x)  
> > par(new=T)
> > xyplot(y2 ~ x)
> > par(new=F)  
> 
> Using R 1.5.0 in Windows, I tried this for the first time 
> today, and the
> par(new=T) setting appears to be ignored by the second xyplot 
> call; i.e.,
> the frame is cleaned and only the second printing of xyplot 
> appears on the
> device.  (If instead of the second xyplot I use a base plot 
> function like
> plot.default, the frame is not cleaned, which I want to happen). 
> 
> Is there anything analogous to par(new=T) that I could use to 
> achieve this
> behavior of "not cleaning the frame" with lattice commands? 
> Any workaround
> or advice is appreciated.  
> 
> Thanks in advance,
> Bill
> ----------------------------------------
> Bill Pikounis, Ph.D.
> Biometrics Research Department
> Merck Research Laboratories
> PO Box 2000, MailDrop RY70-38  
> ## Please note that as of Wed 12 Jun 2002
> ## MailDrop will be RY84-16
> 126 E. Lincoln Avenue
> Rahway, New Jersey 07065-0900
> USA
> 
> v_bill_pikounis at merck.com
> 
> Phone: 732 594 3913
> Fax: 732 594 1565
> 
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice:  This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> in this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


----------------------------------------------------------------------------
--
Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named in this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Jun  6 11:46:28 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 06 Jun 2002 04:46:28 -0500
Subject: [R] Monte Carlo
References: <186.8be89fe.2a2ffff9@cs.com>
Message-ID: <3CFF2F74.3050307@epm.net.co>

Hello Dr. Kane Ismaila:

Ngde65t at cs.com wrote:

> Doctor in veterinary medecine I have a degree in veterinary epidemiology
>I would ask if someone can perform Monte Carlo simulation with R.
>       Thanks in advance.
>
What kind of Monte Carlo simulation are you attempt to make?
Any specific model?
An epidemic spatial model with an explicit correlated model, for example?

Monte Carlos simulation is a very general concept that you can apply
in many different circumstances and with many type of models.

It will be very useful to know in which one are you interested in.

Kenneth

>
>
>
>Dr Kane Ismaila
>i_kane at hotmail.com
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From romain.barnard at ese.u-psud.fr  Thu Jun  6 11:59:07 2002
From: romain.barnard at ese.u-psud.fr (Romain Barnard)
Date: Thu, 06 Jun 2002 11:59:07 +0200
Subject: [R] covariance analysis model
Message-ID: <5.1.0.14.0.20020606113030.00a25a40@mailhost.pop.u-psud.fr>

Dear list users,

I have trouble with covariance analysis.

I measured nitrate concentrations in the soil (NO3) and the percentage of 
legumes (LEG, continuous), affected by 2 different CO2 concentrations (CO2, 
discrete). I suspect that CO2 has an effect on LEG and NO3, but also that 
LEG has an effect on NO3, so this is the formula I wrote to test this:
NO3 ~ CO2 + LEG + CO2:LEG

Will LEG be considered continuous if I use aov(NO3 ~ CO2 + LEG + CO2:LEG) ? 
If not, what model can I use to study simultaneously the effect of discrete 
and continuous factors ?


Thank you

Romain Barnard


------------------------------------------------------------------------------------------
Romain Barnard
Universit? Paris-Sud XI
Laboratoire Ecologie, Syst?matique et Evolution
D?partement Ecologie des Populations et des Communaut?s
UPRESA CNRS 8079 - B?timent 362
F-91405 ORSAY Cedex

romain.barnard at ese.u-psud.fr
T?l. 01 69 15 56 85
Fax 01 69 15 56 96

http://www.ese.u-psud.fr/
------------------------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  6 12:23:02 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2002 12:23:02 +0200
Subject: [R] How to download inccoming files?
In-Reply-To: <3CFF3112.5070707@epm.net.co>
References: <186.8be89fe.2a2ffff9@cs.com> <3CFF2B67.9060202@epm.net.co>
	<x2d6v4oid1.fsf@blueberry.kubism.ku.dk> <3CFF3112.5070707@epm.net.co>
Message-ID: <x24rggoge1.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> Peter Dalgaard BSA wrote:
> 
> >Kenneth Cabrera <krcabrer at epm.net.co> writes:
> >
> >>Hello, dear R-users and developers!
> >>
> >>I want to know how can I download a file that is in the
> >>"ftp://cran.r-project.org/incoming" directory.
> >>I try several times but always and "access denied" or "no such
> >>directory" message appears.
> >>
> >>Thank you for your help.
> >>Have a nice day!
> >>
> >
> >I would expect that to be deliberate policy. Otherwise incoming
> >directories - being writable for anyone - would very quickly get
> >misused for temporary storage of pirated software and the like.
> >
> 
> But I am not trying to upload any think, I want to download the files
> that are there.

I know that and you are missing the point. Have a look at
(say) http://ciac.llnl.gov/ciac/bulletins/d-19.shtml

You'll have to wait for the files to be moved to a publicly
accessible location.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Jun  6 12:29:44 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 6 Jun 2002 12:29:44 +0200
Subject: [R] score in LRT testing for trend
Message-ID: <002101c20d45$19b6a560$5c13070a@it.giustizia.it>

Hi there,
This is not a strictly related R question; I apologize for this.

I'm interest in simulate the sampling distribution of the LRT, testing for
trend among the levels of some categorical variable X in a regression model.
(in practice this is achieved by assigning scores to the levels of X and
fitting such numeric variable).
To simulate the sampling distribution the steps are:

1. Simulate the model *without* trend
2. for every sample compare  the model with and without the "X by score"
variable.

My question is which scores should I use? It is well known that the score
affect the test, so which score have I to use to get the LRT? Can different
values  lead to different null distributions? Any suggestion is coming?
Many Thanks,
vito

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jun  6 12:35:31 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 6 Jun 2002 22:35:31 +1200
Subject: [R] How to download inccoming files?
References: <186.8be89fe.2a2ffff9@cs.com> <3CFF2B67.9060202@epm.net.co> <x2d6v4oid1.fsf@blueberry.kubism.ku.dk> <3CFF3112.5070707@epm.net.co>
Message-ID: <003f01c20d45$e3016860$302658db@kwan022>

----- Original Message -----
From: "Kenneth Cabrera" <krcabrer at epm.net.co>
To: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, June 06, 2002 9:53 PM
Subject: Re: [R] How to download inccoming files?


>
>
> Peter Dalgaard BSA wrote:
>
> >
> >I would expect that to be deliberate policy. Otherwise incoming
> >directories - being writable for anyone - would very quickly get
> >misused for temporary storage of pirated software and the like.
> >
>
> But I am not trying to upload any think, I want to download the files
> that are there.
>


I think what Peter meant was if it is allowed for downloading purpose, then
one can upload (given that anyone has write access to the directory) pirated
softwares to that directory for others to download.  That is why downloading
is disabled.

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  6 12:31:21 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2002 12:31:21 +0200
Subject: [R] covariance analysis model
In-Reply-To: <5.1.0.14.0.20020606113030.00a25a40@mailhost.pop.u-psud.fr>
References: <5.1.0.14.0.20020606113030.00a25a40@mailhost.pop.u-psud.fr>
Message-ID: <x2zny8n1fq.fsf@blueberry.kubism.ku.dk>

Romain Barnard <romain.barnard at ese.u-psud.fr> writes:

> Dear list users,
> 
> I have trouble with covariance analysis.
> 
> I measured nitrate concentrations in the soil (NO3) and the percentage
> of legumes (LEG, continuous), affected by 2 different CO2
> concentrations (CO2, discrete). I suspect that CO2 has an effect on
> LEG and NO3, but also that LEG has an effect on NO3, so this is the
> formula I wrote to test this:
> NO3 ~ CO2 + LEG + CO2:LEG
> 
> Will LEG be considered continuous if I use aov(NO3 ~ CO2 + LEG +
> CO2:LEG) ? If not, what model can I use to study simultaneously the
> effect of discrete and continuous factors ?

CO2 needs to be a factor, if it is not, either make it one (see
help(factor)) or use factor(CO2) in the model formula. If LEG is a
numeric variable, it will enter as continuous. (With only two levels
for CO2, it is not terribly important that it gets treated as
discrete, though. With more than two levels, it is essential.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Jun  6 12:55:36 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 06 Jun 2002 05:55:36 -0500
Subject: [R] How to download inccoming files?
References: <186.8be89fe.2a2ffff9@cs.com> <3CFF2B67.9060202@epm.net.co> <x2d6v4oid1.fsf@blueberry.kubism.ku.dk> <3CFF3112.5070707@epm.net.co> <003f01c20d45$e3016860$302658db@kwan022>
Message-ID: <3CFF3FA8.9040200@epm.net.co>

>
>
>
>I think what Peter meant was if it is allowed for downloading purpose, then
>one can upload (given that anyone has write access to the directory) pirated
>softwares to that directory for others to download.  That is why downloading
>is disabled.
>
>Kevin
>
Yes, you are right, I was missing the point.

Thank you for your help.

Now I got the point!

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jun  6 13:06:24 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 6 Jun 2002 07:06:24 -0400
Subject: [R] covariance analysis model
In-Reply-To: <5.1.0.14.0.20020606113030.00a25a40@mailhost.pop.u-psud.fr>; from romain.barnard@ese.u-psud.fr on Thu, Jun 06, 2002 at 11:59:07AM +0200
References: <5.1.0.14.0.20020606113030.00a25a40@mailhost.pop.u-psud.fr>
Message-ID: <20020606070624.A3019@cattell.psych.upenn.edu>

On 06/06/02 11:59, Romain Barnard wrote:
>Dear list users,
>
>I have trouble with covariance analysis.
>
>I measured nitrate concentrations in the soil (NO3) and the percentage of 
>legumes (LEG, continuous), affected by 2 different CO2 concentrations (CO2, 
>discrete). I suspect that CO2 has an effect on LEG and NO3, but also that 
>LEG has an effect on NO3, so this is the formula I wrote to test this:
>NO3 ~ CO2 + LEG + CO2:LEG
>
>Will LEG be considered continuous if I use aov(NO3 ~ CO2 + LEG + CO2:LEG) ? 
>If not, what model can I use to study simultaneously the effect of discrete 
>and continuous factors ?

Yes.  LEG will be continuous, assuming you code it as a numeric
vector (and probably you do).  You can probably use lm() instead
of aov().  It might be clearer.  Note that, in aov(), the order
of the terms matters. In aov(), the terms are "entered" in the
order in which you list them.  In lm(), all the terms are
entered, so the order doesn't matter.

But it seems that what you are really after here is mediation.
That is, LEG partly mediates the effect of CO2 on NO3.  The
CO2:LEG interaction may or may not be of interest in its own
right, but that does not help you test mediation.

A good web page about mediation is
http://quantrm2.psy.ohio-state.edu/kris/sobel/sobel.htm

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
Questionnaires:       http://www.psych.upenn.edu/~baron/qs.html
Psychology webmaster: http://www.psych.upenn.edu/
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Thu Jun  6 14:48:06 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Thu, 6 Jun 2002 14:48:06 +0200 (MET DST)
Subject: [R] dendrogram's number of nodes
Message-ID: <Pine.OSF.4.31.0206061444280.3263-100000@kirk.science.unitn.it>

Hi !

Is there a way in hclust procedure to obtain the number of nodes
(clusters) for a desidered distance level ?

Thanks,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Thu Jun  6 14:54:51 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Thu, 6 Jun 2002 14:54:51 +0200
Subject: [R] R and mysql on debian
Message-ID: <20020606125450.GB11197@eckehaat.uft.uni-bremen.de>

Hello,

I have been using RODBC on Windows with version 1.41 of R successfully,
connecting to a mysql database using MyODBC. Now I would like to do so
with R under Debian/GNU Linux. 

I just tried RMySQL (install failed, since mysql libraries were not found),
DBI (no MySQL driver available) and I can't find the RODBC package
any more on CRAN.

Any suggestions?

Johannes Ranke

P.S.: Thanks for all the great work to all!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jun  6 15:11:27 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 06 Jun 2002 08:11:27 -0500
Subject: [R] R and mysql on debian
Message-ID: <E17Fx31-00014x-00@sonny.eddelbuettel.com>


> I have been using RODBC on Windows with version 1.41 of R successfully,
> connecting to a mysql database using MyODBC. Now I would like to do so
> with R under Debian/GNU Linux. 
> 
> I just tried RMySQL (install failed, since mysql libraries were not found),

Du must das passende -dev Paket mit den header files installieren.

Dirk

> DBI (no MySQL driver available) and I can't find the RODBC package
> any more on CRAN.
> 
> Any suggestions?
> 
> Johannes Ranke
> 
> P.S.: Thanks for all the great work to all!
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Detlef.Steuer at unibw-hamburg.de  Thu Jun  6 16:01:51 2002
From: Detlef.Steuer at unibw-hamburg.de (Detlef Steuer)
Date: Thu, 06 Jun 2002 16:01:51 +0200 (CEST)
Subject: [R] R and mysql on debian
In-Reply-To: <20020606125450.GB11197@eckehaat.uft.uni-bremen.de>
Message-ID: <XFMail.20020606160151.steuer@unibw-hamburg.de>

Hello!

RODBC can be found  in the "devel" section.

Bye,
detlef


On 06-Jun-2002 Johannes Ranke wrote:
> Hello,
> 
> I have been using RODBC on Windows with version 1.41 of R successfully,
> connecting to a mysql database using MyODBC. Now I would like to do so
> with R under Debian/GNU Linux. 
> 
> I just tried RMySQL (install failed, since mysql libraries were not found),
> DBI (no MySQL driver available) and I can't find the RODBC package
> any more on CRAN.
> 
> Any suggestions?
> 
> Johannes Ranke
> 
> P.S.: Thanks for all the great work to all!
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html

***** Encrypted mail preferred *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Thu Jun  6 16:18:12 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Thu, 6 Jun 2002 10:18:12 -0400 (EDT)
Subject: [R] Dealing with data of varying format
Message-ID: <200206061418.KAA22267@webmail6.cac.psu.edu>

I'm trying read some data files into data frames, but the formatting of their
headers is creating problems when I try to reference certain columns.  For 
instance...below I've pasted four of the headers to give an idea how they vary
slightly.  

A  90404001     POLARSTERN                 GERMANY                 MIZEX          
A  819300         HUDSON                         CANADA                    unknown
A  823109         METEOR (POST 7/64)    GERMANY                 unknown
A  900002034   LOUIS ST: LAURENT      UNITED STATES       AO1994 

Basically, I want all four of these headers to be read into a data frame 
row with 5 columns.  This is no problem for the first two headers.  But the 
second two headers are automatically being read into rows that are 7 and
8 columns long respectively due to the extra wordes (such as United States
for a country name as opposed to just Germany).  

The headers are set up with equal spacing so that if you were programming in
Fortran you could simply create variables of lengths 3, 13, 27, 24, and 15 and
the data would be read in properly.  For instance, the third line above would
be read into 5 variables as demonstrated below, with underscores representing spaces:
A_ _
823109_ _ _ _ _ _ _ 
METEOR_(POST_/64)_ _ _ _ _ _ _ _ _ _
GERMANY_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
unknown_ _ _ _ _ _ _ _

Is there anything in R that would do something similar?  Ideally I'd like to read the header files into data frames but realize this may not be entirely possible
if I need to define the length of the elements to be read in.  So I'm willing to read the header files into variables first then transfer them to a data frame if this makes my task any more doable.  

Any other suggestions to deal with this problem would be much appreciated.  Thanks.

Matt



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  6 16:27:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2002 16:27:51 +0200
Subject: [R] Dealing with data of varying format
In-Reply-To: <200206061418.KAA22267@webmail6.cac.psu.edu>
References: <200206061418.KAA22267@webmail6.cac.psu.edu>
Message-ID: <x2it4wmqhk.fsf@blueberry.kubism.ku.dk>

"MATT BORKOWSKI" <mpb170 at psu.edu> writes:

> The headers are set up with equal spacing so that if you were
> programming in Fortran you could simply create variables of lengths
> 3, 13, 27, 24, and 15 and the data would be read in properly. For
> instance, the third line above would be read into 5 variables as
> demonstrated below, with underscores representing spaces:

> A_ _
> 823109_ _ _ _ _ _ _ 
> METEOR_(POST_/64)_ _ _ _ _ _ _ _ _ _
> GERMANY_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
> unknown_ _ _ _ _ _ _ _

> Is there anything in R that would do something similar? 

Take a look at read.fwf().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Thu Jun  6 16:36:11 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Thu, 6 Jun 2002 16:36:11 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
Message-ID: <LMEKLMMLPDKOJNOOEELEGEOBDGAA.carlos.ortega@minorplanet.com>

Hello,

I am having a problem with the get.hist.quote command (tseries library) in
the Windows version.
This problem is not happening is the Linux version (Mandrake 8.2).

Attached is the error message, for an example included in the help file.
Also the R.Version() details is attached.

Please, do you know if there is a workaround ?

Thanks,
Carlos.


++++++++++++++++++++++++ ERROR MESSAGE +++++++++++++++++++++
> library(tseries)
>  x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
trying URL
`http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=
d&q=q&y=0&z=ibm&x=.csv'
Content type `application/octet-stream' length unknown
opened URL
downloaded 119Kb

Error in if (dat[n] != start) cat(format(dat[n], "time series starts
%Y-%m-%d\n")) :
        missing value where logical needed
++++++++++++++++++++++++++++++++++++++++++++++++++++++++

+++++++++++++++++++++++ R VERSION ++++++++++++++++++++++++
R.Version()
$platform
[1] "i386-pc-mingw32"

$arch
[1] "i386"

$os
[1] "mingw32"

$system
[1] "i386, mingw32"

$status
[1] "Patched"

$major
[1] "1"

$minor
[1] "5.0"

$year
[1] "2002"

$month
[1] "06"

$day
[1] "05"

$language
[1] "R"
++++++++++++++++++++++++++++++++++++


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  6 16:47:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Jun 2002 15:47:50 +0100 (GMT Daylight Time)
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <LMEKLMMLPDKOJNOOEELEGEOBDGAA.carlos.ortega@minorplanet.com>
Message-ID: <Pine.WNT.4.44.0206061545210.3036-100000@gannet.stats.ox.ac.uk>

On Thu, 6 Jun 2002, Carlos Ortega wrote:

> I am having a problem with the get.hist.quote command (tseries library) in
> the Windows version.
> This problem is not happening is the Linux version (Mandrake 8.2).
>
> Attached is the error message, for an example included in the help file.
> Also the R.Version() details is attached.
>
> Please, do you know if there is a workaround ?

I've just tried it on R-1.5.0 under Windows, and it worked correctly (as it
did when I compiled tseries and put it on CRAN).

I guess the workaround is to use the machine you have which does work.

>
> Thanks,
> Carlos.
>
>
> ++++++++++++++++++++++++ ERROR MESSAGE +++++++++++++++++++++
> > library(tseries)
> >  x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> trying URL
> `http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=
> d&q=q&y=0&z=ibm&x=.csv'
> Content type `application/octet-stream' length unknown
> opened URL
> downloaded 119Kb
>
> Error in if (dat[n] != start) cat(format(dat[n], "time series starts
> %Y-%m-%d\n")) :
>         missing value where logical needed
> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>
> +++++++++++++++++++++++ R VERSION ++++++++++++++++++++++++
> R.Version()
> $platform
> [1] "i386-pc-mingw32"
>
> $arch
> [1] "i386"
>
> $os
> [1] "mingw32"
>
> $system
> [1] "i386, mingw32"
>
> $status
> [1] "Patched"
>
> $major
> [1] "1"
>
> $minor
> [1] "5.0"
>
> $year
> [1] "2002"
>
> $month
> [1] "06"
>
> $day
> [1] "05"
>
> $language
> [1] "R"
> ++++++++++++++++++++++++++++++++++++
>
>
> _____
> The information in this email is confidential and it may not be
> disclosed or used by anyone other than the addressee. If you are not the
> intended recipient, any disclosure, copying, distribution or any action taken or
> omitted is prohibited and may be unlawful.
> Minorplanet cannot accept responsibility for the accuracy or completeness of
> this email as it has been transmitted over a public network. If you suspect
> that the email may have been amended, please call the sender.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Thu Jun  6 17:06:33 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Thu, 6 Jun 2002 16:06:33 +0100
Subject: [R] generating overdispersed poisson & negative binomial data
Message-ID: <NEBBJLLBCLEDFLCCBKDACECACGAA.mel@mcs.st-andrews.ac.uk>

I would like to try a simple parametric bootstrap, but unfortunately
(stupidly?) my models are "overdispersed" gams & glms.

I'm hoping for a function that generates overdispersed poisson or negative
binomial data with a given mean, scale (& shape parameter).

The loose definition I'm using is overdispersed poisson produces integer
values with variance=const*mean & "looks like" a poisson, & simly for
overdispersed negative binomial - I am aware that odnb is a strange thing to
desire.

Maybe the "integer-valued" bit of my definition is unnecessary, which would
mean a simple scaling would suffice, but I don't know enough to decide on
this without testing.

Thanks,

Mike.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jun  6 17:12:17 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 06 Jun 2002 17:12:17 +0200
Subject: [R] R & PHP
Message-ID: <3CFF7BD1.5070903@metrinomics.de>

Hi,
have anybody experience or do something in  R with PHP togehter (...and 
MySQL as DB) ?
It would be nice  for a exchange of ideas !

Thanks for advance  & regards,
christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun  6 17:52:46 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 6 Jun 2002 08:52:46 -0700 (PDT)
Subject: [R] score in LRT testing for trend
In-Reply-To: <002101c20d45$19b6a560$5c13070a@it.giustizia.it>
Message-ID: <Pine.A41.4.44.0206060845530.178878-100000@homer36.u.washington.edu>

On Thu, 6 Jun 2002, vito muggeo wrote:

> Hi there,
> This is not a strictly related R question; I apologize for this.
>
> I'm interest in simulate the sampling distribution of the LRT, testing for
> trend among the levels of some categorical variable X in a regression model.
> (in practice this is achieved by assigning scores to the levels of X and
> fitting such numeric variable).
> To simulate the sampling distribution the steps are:
>
> 1. Simulate the model *without* trend
> 2. for every sample compare  the model with and without the "X by score"
> variable.
>
> My question is which scores should I use? It is well known that the score
> affect the test, so which score have I to use to get the LRT? Can different
> values  lead to different null distributions? Any suggestion is coming?

The maximum likelihood ratio test of constant vs non-decreasing trend is
*not* equivalent to any set of scores and has a different null
distribution (asymptotically a mixture of chi-squared variables with
different degrees of freedom).

That's why most people instead assign scores, which is much simpler and
has good power against most interesting alternatives.  If you want to use
a test with scores then use the scores you want to use.

The LRT is equivalent to using the best non-decreasing set of scores
(found by isotonic regression) for each dataset, and the reason for the
strange limiting distribution is to take account of this adaptive choice
of scores.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Thu Jun  6 18:59:02 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Thu, 6 Jun 2002 18:59:02 +0200
Subject: [R] R and mysql on debian
In-Reply-To: <20020606125450.GB11197@eckehaat.uft.uni-bremen.de>
References: <20020606125450.GB11197@eckehaat.uft.uni-bremen.de>
Message-ID: <20020606165901.GG11556@eckehaat.uft.uni-bremen.de>

Hello all,

thanks for all the help. I would like to summarize:

If you want to use the same R scripts for accessing a mysql
database from Windows and Debian/GNU Linux, you can either

1. install the RMySQL source package from CRAN under debian, and compile it
under Windows as well (this sounds a little hairy to me)

2. install unixodbc, compile myODBC 2.50 from www.mysql.org,
and install RODBC from CRAN on debian, and install RODBC and myODBC under
Windows. This worked for me.

Option 2. also involved installing libmysqlclient10-dev and the source package
for mysql under debian.

Best regards

Johannes Ranke

* Johannes Ranke <jranke at uni-bremen.de> [020606 17:34]:
> Hello,
> 
> I have been using RODBC on Windows with version 1.41 of R successfully,
> connecting to a mysql database using MyODBC. Now I would like to do so
> with R under Debian/GNU Linux. 
> 
> I just tried RMySQL (install failed, since mysql libraries were not found),
> DBI (no MySQL driver available) and I can't find the RODBC package
> any more on CRAN.
> 
> Any suggestions?
> 
> Johannes Ranke
> 
> P.S.: Thanks for all the great work to all!
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jun  6 19:14:56 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 06 Jun 2002 12:14:56 -0500
Subject: [R] R and mysql on debian
Message-ID: <E17G0qe-0001FR-00@sonny.eddelbuettel.com>


> 2. install unixodbc, compile myODBC 2.50 from www.mysql.org,
> and install RODBC from CRAN on debian, and install RODBC and myODBC under
> Windows. This worked for me.

Just as an addendum, Debian has packages for both iODBC (libiodbc) and unixodbc
so you don't have to compile myODBC yourself.

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rzaret at yahoo.com  Thu Jun  6 20:39:03 2002
From: rzaret at yahoo.com (Russell Zaretzki)
Date: Thu, 6 Jun 2002 11:39:03 -0700 (PDT)
Subject: [R] R correlations.
Message-ID: <20020606183903.58605.qmail@web11504.mail.yahoo.com>

Hi, anybody have any ideas on this ?


I have two sequences of proportions.  Due to
conventions in my field, I need to produce a linear
correlation between the two.  Each sequence of 
proportions are based upon differing numbers of
observations (although within a sequence the number of
observations may not fluctuate too much) so it may be
necessary/advisable to variance stabilize. Is their a
best way to go about doing this in R?

I am tempted to do something like the following:

Use the logistic transformation on each proportion. 
Next do weighted least squares.  Finally, adjust the
beta coef by multiplying by sqrt(Sxx/Syy). However,
this doesn't take into account the variance in the
independant variable.  

Maybe its better too work with counts of successes
instead of proportions?

Is their a better way and how do I do it best with R?

Thanks in advance for any help.


__________________________________________________

Yahoo! - Official partner of 2002 FIFA World Cup

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mail at joeconway.com  Thu Jun  6 20:53:50 2002
From: mail at joeconway.com (Joe Conway)
Date: Thu, 06 Jun 2002 11:53:50 -0700
Subject: [R] R & PHP
References: <3CFF7BD1.5070903@metrinomics.de>
Message-ID: <3CFFAFBE.5010104@joeconway.com>

Christian Schulz wrote:
> Hi,
> have anybody experience or do something in  R with PHP togehter (...and 
> MySQL as DB) ?
> It would be nice  for a exchange of ideas !
> 
> Thanks for advance  & regards,
> christian

I've done a little with R, PHP, and PostgreSQL together. The details are 
probably a bit off-topic for the list, but I'll be happy to discuss my 
approach off-list if you'd like.

Ultimately I'd love to see an R extension written for PHP. It would be 
very slick if R could be called from PHP to cook raw data, and then 
output a graph to a GD device directly. I might even attempt it myself 
at some point, but at the moment I don't have the time to take on 
something of that magnatude.

Joe



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Thu Jun  6 21:22:53 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Thu, 6 Jun 2002 21:22:53 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <LMEKLMMLPDKOJNOOEELEGEOBDGAA.carlos.ortega@minorplanet.com>
Message-ID: <3CFFD2AD.27168.6C3F54@localhost>

At 16:36 - 6 Jun 2002, Carlos Ortega wrote:

> I am having a problem with the get.hist.quote command (tseries library) in
> the Windows version.

I am having a similar problem:

++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> library(tseries)
> x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
trying URL 
`http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=0
6&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv'
Content type `application/octet-stream' length unknown
opened URL
downloaded 119Kb

Error in fromchar(x) : character string is not in a standard 
unambiguous format

++++++++++++++ ERROR MESSAGE +++++++++++++++++++

> R.Version()
[1] "i386-pc-mingw32"
[1] "i386"
[1] "mingw32"
[1] "i386, mingw32"
[1] "Patched"
[1] "1"
[1] "5.0"
[1] "2002"
[1] "05"
[1] "16"
[1] "R"

If I download the file from yahoo and use 'read.csv()' it works:

> x.local <- read.csv("c:/table.csv",header=T)
> summary(x.local)
       Date           Open            
 1-Apr-02:   1   Min.   : 10.14 
[...]

Patrick


> Attached is the error message, for an example included in the help file.
> Also the R.Version() details is attached.
> 
> Please, do you know if there is a workaround ?
> 
> Thanks,
> Carlos.
> 
> 
> ++++++++++++++++++++++++ ERROR MESSAGE +++++++++++++++++++++
> > library(tseries)
> >  x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> trying URL
> `http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=
> d&q=q&y=0&z=ibm&x=.csv'
> Content type `application/octet-stream' length unknown
> opened URL
> downloaded 119Kb
> 
> Error in if (dat[n] != start) cat(format(dat[n], "time series starts
> %Y-%m-%d\n")) :
>         missing value where logical needed
> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jun  6 21:28:42 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 6 Jun 2002 12:28:42 -0700
Subject: [R] R & PHP
In-Reply-To: <3CFFAFBE.5010104@joeconway.com>
Message-ID: <9C6573A6-7983-11D6-B6EA-000393860F3C@stat.ucla.edu>

This is one of our projects. We have written statistics extensions in dynamic
modules linked into PHP (basically Barry Browns dcdflib and randlib, plus
some tests and plotting) -- it would be nice to link in libR.dylib and write
an interface to that.
On Thursday, Jun 6, 2002, at 11:53 America/Los_Angeles, Joe Conway wrote:

> Christian Schulz wrote:
>> Hi,
>> have anybody experience or do something in  R with PHP togehter (...and MySQL as DB) ?
>> It would be nice  for a exchange of ideas !
>> Thanks for advance  & regards,
>> christian
>
> I've done a little with R, PHP, and PostgreSQL together. The details are probably a bit off-topic for the list, but I'll be happy to discuss my approach off-list if you'd like.
>
> Ultimately I'd love to see an R extension written for PHP. It would be very slick if R could be called from PHP to cook raw data, and then output a graph to a GD device directly. I might even attempt it myself at some point, but at the moment I don't have the time to take on something of that magnatude.
>
> Joe
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  6 21:37:20 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 6 Jun 2002 20:37:20 +0100 (BST)
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <3CFFD2AD.27168.6C3F54@localhost>
Message-ID: <Pine.LNX.4.31.0206062035320.1591-100000@gannet.stats>

Is this a locale problem?  Does setting an English locale help?
There is a bug report on R-bugs in a Finnish locale that was
unreproducible by any of the developers.

On Thu, 6 Jun 2002, Patrick Hausmann wrote:

> At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
>
> > I am having a problem with the get.hist.quote command (tseries library) in
> > the Windows version.
>
> I am having a similar problem:
>
> ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > library(tseries)
> > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> trying URL
> `http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=0
> 6&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv'
> Content type `application/octet-stream' length unknown
> opened URL
> downloaded 119Kb
>
> Error in fromchar(x) : character string is not in a standard
> unambiguous format
>
> ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
>
> > R.Version()
> [1] "i386-pc-mingw32"
> [1] "i386"
> [1] "mingw32"
> [1] "i386, mingw32"
> [1] "Patched"
> [1] "1"
> [1] "5.0"
> [1] "2002"
> [1] "05"
> [1] "16"
> [1] "R"
>
> If I download the file from yahoo and use 'read.csv()' it works:
>
> > x.local <- read.csv("c:/table.csv",header=T)
> > summary(x.local)
>        Date           Open
>  1-Apr-02:   1   Min.   : 10.14
> [...]
>
> Patrick
>
>
> > Attached is the error message, for an example included in the help file.
> > Also the R.Version() details is attached.
> >
> > Please, do you know if there is a workaround ?
> >
> > Thanks,
> > Carlos.
> >
> >
> > ++++++++++++++++++++++++ ERROR MESSAGE +++++++++++++++++++++
> > > library(tseries)
> > >  x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> > trying URL
> > `http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=
> > d&q=q&y=0&z=ibm&x=.csv'
> > Content type `application/octet-stream' length unknown
> > opened URL
> > downloaded 119Kb
> >
> > Error in if (dat[n] != start) cat(format(dat[n], "time series starts
> > %Y-%m-%d\n")) :
> >         missing value where logical needed
> > ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  6 21:48:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2002 21:48:52 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <3CFFD2AD.27168.6C3F54@localhost>
References: <3CFFD2AD.27168.6C3F54@localhost>
Message-ID: <x2bsaoi3x7.fsf@blueberry.kubism.ku.dk>

"Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:

> At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> 
> > I am having a problem with the get.hist.quote command (tseries library) in
> > the Windows version.
> 
> I am having a similar problem:
> 
> ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > library(tseries)
> > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> trying URL 
> `http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=0
> 6&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv'
> Content type `application/octet-stream' length unknown
> opened URL
> downloaded 119Kb
> 
> Error in fromchar(x) : character string is not in a standard 
> unambiguous format

Not happening here. 

a) is your tseries package up to date?

b) could you show us a few lines of output from

readLines("http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv")

(yes, the whole command on one long line...)?

I kind of suspect a locale problem when I see similar reports from
Germany and Spain (or Spanish, extrapolating from Mr. Ortega's name),
although I don't quite see how it could be relevant here.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Thu Jun  6 22:03:59 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Thu, 6 Jun 2002 22:03:59 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <x2bsaoi3x7.fsf@blueberry.kubism.ku.dk>
References: <3CFFD2AD.27168.6C3F54@localhost>
Message-ID: <3CFFDC4F.21314.91DFA0@localhost>

At 21:48 - 6 Jun 2002, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:

> "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> 
> > At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> > 
> > > I am having a problem with the get.hist.quote command (tseries library) in
> > > the Windows version.
> > 
> > I am having a similar problem:
> > 
> > ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > > library(tseries)
> > > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
[...]

> Not happening here. 
> 
> a) is your tseries package up to date?
First lines from ChangeLog:
2002-04-26  Adrian Trapletti <a.trapletti at bluewin.ch>
	* DESCRIPTION (Version): New version is 0.9-0.	

> b) could you show us a few lines of output from
> 
> readLines("http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv")
The first two lines:
[2047] "21-Apr-94,13.60,14.50,13.36,14.44,8758100"      "20-Apr-94,13.17,13.23,12.80,12.92,2207700"     
[2049] "19-Apr-94,13.23,13.30,12.71,13.20,2094000"      "18-Apr-94,13.08,13.39,13.05,13.20,3120000" 
[...]   
The last two lines:
[2881] "4-Jan-91,27.89,27.95,27.67,27.73,1085100"       "3-Jan-91,27.79,28.16,27.76,27.82,1307400"      
[2883] "2-Jan-91,27.92,28.13,27.73,27.73,1037700" 

> I kind of suspect a locale problem when I see similar reports from
> Germany and Spain (or Spanish, extrapolating from Mr. Ortega's name),
> although I don't quite see how it could be relevant here.

Patrick

-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Thu Jun  6 22:33:03 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Thu, 6 Jun 2002 16:33:03 -0400
Subject: [R] R correlations.
In-Reply-To: <20020606183903.58605.qmail@web11504.mail.yahoo.com>
References: <20020606183903.58605.qmail@web11504.mail.yahoo.com>
Message-ID: <200206061633.03909.pols1oh@bestweb.net>



Sounds like you have unreliable data and the reliability varies.  This 
frequently leads me to simulate (easier than actually thinking eh?).  

I would be tempted to calculate random draws around the confidence intervals 
for each datapoint, calculate the correlation, repeat. - thus gaining a 
distribution (i.e. confidence interval) around the correlation.

Your data looks like:
var1 <- FIRST VAR
var2 <- SECOND VAR
N1 <- # of obs in var1
N2 <- # of obs in var2

# calculation of standard error of proportions
ci1 <- var18(1-var1)/(N1)^.5   <<<---- Caution, my confidence interval on 			
							proportions comes with no guarantees.
							It has been too long.
ci2 <- var2*(1-var2)/(N2)^.5
l1 <- length(var1)
l2 <- length(var2)

distribution.of.corrs _ numeric()
for (N in 1:1000) {
	x <- var1+(rnorm(l1)*ci1)  <<- produces a random draw within sample interval
	y <- var2+(rnorm(l2)*c2)
	distribution.of.corrs _ c(distribution.of.corrs,cor(x,y))
}
summary(distribution.of.corrs)
plot(distribution.of.corrs)    # because pictures are always nice.


Of course, more thoughtful list members probably have a better idea.

Michaell

On Thursday 06 June 2002 02:39 pm, Russell Zaretzki wrote:
> Hi, anybody have any ideas on this ?
>
>
> I have two sequences of proportions.  Due to
> conventions in my field, I need to produce a linear
> correlation between the two.  Each sequence of
> proportions are based upon differing numbers of
> observations (although within a sequence the number of
> observations may not fluctuate too much) so it may be
> necessary/advisable to variance stabilize. Is their a
> best way to go about doing this in R?
>
> I am tempted to do something like the following:
>
> Use the logistic transformation on each proportion.
> Next do weighted least squares.  Finally, adjust the
> beta coef by multiplying by sqrt(Sxx/Syy). However,
> this doesn't take into account the variance in the
> independant variable.
>
> Maybe its better too work with counts of successes
> instead of proportions?
>
> Is their a better way and how do I do it best with R?
>
> Thanks in advance for any help.
>
>
> __________________________________________________
>
> Yahoo! - Official partner of 2002 FIFA World Cup
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  7 00:11:19 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 2002 00:11:19 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <3CFFDC4F.21314.91DFA0@localhost>
References: <3CFFD2AD.27168.6C3F54@localhost>
	<3CFFDC4F.21314.91DFA0@localhost>
Message-ID: <x2ofeoukfs.fsf@blueberry.kubism.ku.dk>

"Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:

> At 21:48 - 6 Jun 2002, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:
> 
> > "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> > 
> > > At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> > > 
> > > > I am having a problem with the get.hist.quote command (tseries library) in
> > > > the Windows version.
> > > 
> > > I am having a similar problem:
> > > 
> > > ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > > > library(tseries)
> > > > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> [...]
> 
> > Not happening here. 
> > 
> > a) is your tseries package up to date?
> First lines from ChangeLog:
> 2002-04-26  Adrian Trapletti <a.trapletti at bluewin.ch>
> 	* DESCRIPTION (Version): New version is 0.9-0.	

Same here. (Doesn't it identify itself on load?)

> > b) could you show us a few lines of output from
> > 
> > readLines("http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05&f=2002&g=d&q=q&y=0&z=ibm&x=.csv")
> The first two lines:

(...that didn't scoll off the top I assume.)

> [2047] "21-Apr-94,13.60,14.50,13.36,14.44,8758100"      "20-Apr-94,13.17,13.23,12.80,12.92,2207700"     
> [2049] "19-Apr-94,13.23,13.30,12.71,13.20,2094000"      "18-Apr-94,13.08,13.39,13.05,13.20,3120000" 
> [...]   
> The last two lines:
> [2881] "4-Jan-91,27.89,27.95,27.67,27.73,1085100"       "3-Jan-91,27.79,28.16,27.76,27.82,1307400"      
> [2883] "2-Jan-91,27.92,28.13,27.73,27.73,1037700" 

Same here.

Could you try debug(get.hist.quote) and see what line causes the
error? My bet is this one:

        dat <- as.POSIXct(strptime(dat, "%d-%b-%y"), tz = "GMT")

If so, what is in `dat' at that point?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Fri Jun  7 01:38:07 2002
From: jmarca at translab.its.uci.edu (James Marca)
Date: Thu, 6 Jun 2002 16:38:07 -0700
Subject: [R] R & PHP (moving slightly offtopic, sorry)
In-Reply-To: <3CFFAFBE.5010104@joeconway.com>; from mail@joeconway.com on Thu, Jun 06, 2002 at 11:53:50AM -0700
References: <3CFF7BD1.5070903@metrinomics.de> <3CFFAFBE.5010104@joeconway.com>
Message-ID: <20020606163807.B25391@krypton.its.uci.edu>

On Thu, Jun 06, 2002 at 11:53:50AM -0700 or thereabouts, Joe Conway wrote:
> Christian Schulz wrote:
> > Hi,
> > have anybody experience or do something in  R with PHP togehter (...and 
> > MySQL as DB) ?
> > It would be nice  for a exchange of ideas !
> > 
> > Thanks for advance  & regards,
> > christian
> 
> I've done a little with R, PHP, and PostgreSQL together. The details are 
> probably a bit off-topic for the list, but I'll be happy to discuss my 
> approach off-list if you'd like.
> 
> Ultimately I'd love to see an R extension written for PHP. It would be 
> very slick if R could be called from PHP to cook raw data, and then 
> output a graph to a GD device directly. I might even attempt it myself 
> at some point, but at the moment I don't have the time to take on 
> something of that magnatude.
> 
> Joe
> 
I may be a complete lunatic, but I am having reasonably good luck with 
a combination of Perl and TemplateToolkit.  I write templates for 
TT that shuttle data from MySQL with  Perl into pre-cooked R code.  
I assume there are template libraries for PHP (a language I have 
never used), and that you can do something similar without too much effort. 

My application is processing streaming GPS data, which I process with various 
routines from spatstat and geoR.  The data changes, but the core code 
remains the same, so it is a good candidate for a template.
This is not an integration of R and Perl (or R and PHP, or any other web
server language), but it is quick to implement and stable.

Of course, my implementation would probably scare small children
and make the R and Perl gurus gnash their teeth, but so it goes.

James Marca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at nrm.qld.gov.au  Fri Jun  7 01:49:06 2002
From: Robert.Denham at nrm.qld.gov.au (Denham Robert)
Date: Fri, 7 Jun 2002 09:49:06 +1000
Subject: [R] tcltk and locator interaction
Message-ID: <7BDA5DE121FF454A88C2FFFAD392718C15AAB5@INDMAIL.lands.resnet.qg>

I was trying to write a small routine using the tcltk library which
allows a little bit of interaction with a plot.  Basically, using the
function locator(1), a user could click on an area of a graph which
would cause a little tcltk window to pop up.  When they have finished
with the window, they click on a tcltk button, the window disappears,
allowing the user to select another point on the graph and repeat the
procedure.

This sort of works, but I can't get the tcltk window to disappear in
between mouse clicks, so the user clicks, the window pops up, they press
ok, but the window remains until _after_ a new point has been selected.
Here is an example:

plot(1)
for(i in 1:3) {
tq()
# I want the window from tq to disappear after pressing ok
# then wait until after a point has been selected before
# reappearing.  But how?
locator(1)
}

where 

"tq" <-
function(){
  base <- tktoplevel()
  done <- tclVar(0)
  q.but <- tkbutton(base,text="Quit",
                    command=function()tclvalue(done) <- 1)
  tkpack(q.but)
  tkbind(base, "<Destroy>", function()tclvalue(done) <- 2)
  tkwait.variable(done)
  if(tclvalue(done)=="2") stop("aborted")
  tkdestroy(base)
}

I am working on Solaris using R 1.5.0.

Robert Denham




************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  7 08:42:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 7 Jun 2002 07:42:26 +0100 (BST)
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <x2ofeoukfs.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206070722290.1994-100000@gannet.stats>

On 7 Jun 2002, Peter Dalgaard BSA wrote:

> > [2049] "19-Apr-94,13.23,13.30,12.71,13.20,2094000"      "18-Apr-94,13.08,13.39,13.05,13.20,3120000"
> > [...]
> > The last two lines:
> > [2881] "4-Jan-91,27.89,27.95,27.67,27.73,1085100"       "3-Jan-91,27.79,28.16,27.76,27.82,1307400"
> > [2883] "2-Jan-91,27.92,28.13,27.73,27.73,1037700"
>
> Same here.
>
> Could you try debug(get.hist.quote) and see what line causes the
> error? My bet is this one:
>
>         dat <- as.POSIXct(strptime(dat, "%d-%b-%y"), tz = "GMT")
>
> If so, what is in `dat' at that point?

In a German locale I would expect that to work but generate NAs for months
where the English abbreviation is not used in German.  The error would
then come from later use of those NAs.

Now get.hist.quote tries to set the C locale, but there is no
guarantee that setting locales will work, and in particular that the C
locale exists.  My suspicion is that is the case on Windows.  If
(temporarily) you go to Regional settings in the Control Panel and
set an English locale, then try R again, it will probably work.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Fri Jun  7 09:08:22 2002
From: pem at theriver.com (Patrick McKnight)
Date: 07 Jun 2002 00:08:22 -0700
Subject: [R] RE:  R & PHP
Message-ID: <1023433702.4296.6.camel@copernicus>

Christian,

Like Joe, I have cobbled together some PHP, R, and MySQL (not
PostgreSQL) code.  I would be happy to send it to anyone interested in
hope that we might get something more formal produced.  Let me know if
there is any interest.  

BTW, I started my efforts on a fun project -- tracking my rowing
workouts --  and soon noticed that the web response between PHP and R
was simply awesome even on a fairly old server running Linux.  My code
runs a join query from several tables, passes the data to R where a plot
and univariate stats are generated and then outputs the results for web
display.  It is far from perfect but it runs quite well for my purposes.

-- 
Cheers,

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jun  7 09:09:22 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 7 Jun 2002 09:09:22 +0200
Subject: [R] How to download inccoming files?
In-Reply-To: <x2d6v4oid1.fsf@blueberry.kubism.ku.dk>
References: <186.8be89fe.2a2ffff9@cs.com>
	<3CFF2B67.9060202@epm.net.co>
	<x2d6v4oid1.fsf@blueberry.kubism.ku.dk>
Message-ID: <15616.23586.492564.987747@galadriel.ci.tuwien.ac.at>

>>>>> On 06 Jun 2002 11:40:26 +0200,
>>>>> Peter Dalgaard BSA (PDB) wrote:

  > Kenneth Cabrera <krcabrer at epm.net.co> writes:
  >> Hello, dear R-users and developers!
  >> 
  >> I want to know how can I download a file that is in the
  >> "ftp://cran.r-project.org/incoming" directory.
  >> I try several times but always and "access denied" or "no such
  >> directory" message appears.
  >> 
  >> Thank you for your help.
  >> Have a nice day!

  > I would expect that to be deliberate policy. Otherwise incoming
  > directories - being writable for anyone - would very quickly get
  > misused for temporary storage of pirated software and the like.

>From one of the CRAN maintainers: Yes, downloading from incoming is
deliberately disabled for exactly the reasons Peter gave already:
Otherwise it is possible that X uploads file foo and notifies the
world that it can be downloaded from CRAN (until we detect the
misuse). Some sites even disable listing of incoming directories, we
had no reasons yet to go that far.


Best,

-- 
-------------------------------------------------------------------
                        Friedrich Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Fri Jun  7 09:30:13 2002
From: manuel.castejon at dim.unirioja.es (=?iso-8859-1?Q?Manuel_Castej=F3n_Limas?=)
Date: Fri, 7 Jun 2002 09:30:13 +0200
Subject: [R] Rank of a matrix?
References: <200206070201.EAA13895@stat.math.ethz.ch>
Message-ID: <002f01c20df5$298e3790$72eb92c1@unirioja.es>

Hello everyone,
this is a very simple question but I could  not find the answer. :-(

Is there any function in R for calculating the rank of a matrix?
(In the sense of the dimension of the vectorial space that spans)

Thank you in advance!

Manuel



---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Fri Jun  7 09:38:19 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Fri, 7 Jun 2002 09:38:19 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <x2ofeoukfs.fsf@blueberry.kubism.ku.dk>
Message-ID: <LMEKLMMLPDKOJNOOEELEGEOGDGAA.carlos.ortega@minorplanet.com>

Peter,

Yes, you are correct, the problem is with

dat <- as.POSIXct(strptime(dat, "%d-%b-%y"), tz = "GMT")

I could dig up to that level and check the value of that variable. What is
happening
 at least in my case is that "Apr" is not recognized in my system as a
month's name
but "Abr" (coming from Abril).  So for those quotes I got NAs.

Thanks,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Peter Dalgaard BSA
Enviado el: viernes, 07 de junio de 2002 0:11
Para: Patrick Hausmann
CC: Peter Dalgaard BSA; r-help at stat.math.ethz.ch
Asunto: Re: [R] Problem with get.hist.quote (tseries library)....


"Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:

> At 21:48 - 6 Jun 2002, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
wrote:
>
> > "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> >
> > > At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> > >
> > > > I am having a problem with the get.hist.quote command (tseries
library) in
> > > > the Windows version.
> > >
> > > I am having a similar problem:
> > >
> > > ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > > > library(tseries)
> > > > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> [...]
>
> > Not happening here.
> >
> > a) is your tseries package up to date?
> First lines from ChangeLog:
> 2002-04-26  Adrian Trapletti <a.trapletti at bluewin.ch>
> 	* DESCRIPTION (Version): New version is 0.9-0.

Same here. (Doesn't it identify itself on load?)

> > b) could you show us a few lines of output from
> >
> >
readLines("http://chart.yahoo.com/table.csv?s=ibm&a=01&b=02&c=1991&d=06&e=05
&f=2002&g=d&q=q&y=0&z=ibm&x=.csv")
> The first two lines:

(...that didn't scoll off the top I assume.)

> [2047] "21-Apr-94,13.60,14.50,13.36,14.44,8758100"
"20-Apr-94,13.17,13.23,12.80,12.92,2207700"
> [2049] "19-Apr-94,13.23,13.30,12.71,13.20,2094000"
"18-Apr-94,13.08,13.39,13.05,13.20,3120000"
> [...]
> The last two lines:
> [2881] "4-Jan-91,27.89,27.95,27.67,27.73,1085100"
"3-Jan-91,27.79,28.16,27.76,27.82,1307400"
> [2883] "2-Jan-91,27.92,28.13,27.73,27.73,1037700"

Same here.

Could you try debug(get.hist.quote) and see what line causes the
error? My bet is this one:

        dat <- as.POSIXct(strptime(dat, "%d-%b-%y"), tz = "GMT")

If so, what is in `dat' at that point?

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun  7 09:49:09 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 7 Jun 2002 09:49:09 +0200
Subject: [R] mixing different modes of lty line type specification in   legend() ?
In-Reply-To: <E17Fd7t-0001Tl-00@ernie.physik.uni-marburg.de>
References: <E17FXgH-00083h-00@ernie.physik.uni-marburg.de>
	<E17Fcnu-0001Hn-00@ernie.physik.uni-marburg.de>
	<3CFE318B.366A1EEA@statistik.uni-dortmund.de>
	<E17Fd7t-0001Tl-00@ernie.physik.uni-marburg.de>
Message-ID: <15616.25973.749807.400723@gargle.gargle.HOWL>

>>>>> "Marcus" == Marcus Eger <eger.m at gmx.de> writes:

    Marcus> On Wednesday 05 June 2002 17:43, Uwe Ligges wrote:
    >> > works, but unfortunately not in legends:
    >> >
    >> >  legend(x, y, c("A","B","C"), lty=c("0", "22", "42"),lwd=3)
    >> >
    >> > It just leaves the first line blank.

as said this is a bug 
which will be fixed in 1.5.1 (due within this month).

    >> > I think it is because legend simply does not process lty elements less
    >> > equal zero (not distinguishing between strings and numbers):
    >> 
    >> legend(x, y, c("A","B","C"), lty=c("10", "22", "42"), lwd=3)

    Marcus> This does not work for me (R 1.4.1):
    Marcus> legend(x,y, c("A","B","C"), lty=c("10", "22", "42"),lwd=3)
    Marcus> does the same as
    Marcus> legend(x,y, c("A","B","C"), lty=c("1", "22", "42"),lwd=3)
    Marcus> or
    Marcus> legend(x,y, c("A","B","C"), lty=c("11", "22", "42"),lwd=3)

the latter two *should* be the same by definition ("1" is recycled to "11")
The "10" is a bit doubtful..

    Marcus> It just produces a narrow dot pattern.


    Marcus> Moreover, the lty="10" produces a ghostscript error
    Marcus> when plotted to postscript device:

  >>  Error: /rangecheck in --setdash--
  >>  Operand stack:
  >>	--nostringval--   0
  >>  Execution stack:
  >>	%interp_exit   .runexec2   --nostringval--   --nostringval--   
  >>  --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   
  >>  --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   1   3   
  >>  %oparray_pop   .runexec2   --nostringval--   --nostringval--   
  >>  --nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop 
  >>   --nostringval--   --nostringval--
  >>  Dictionary stack:
  >>	--dict:1035/1476(ro)(G)--   --dict:0/20(G)--   --dict:92/200(L)--
  >>  Current allocation mode is local
  >>  GNU Ghostscript 6.53: Unrecoverable error, exit code 1

I can confirm this.  I will have a deeper look.
{this is not a legend() problem, but a general `lty' one.}

Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  7 09:45:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jun 2002 09:45:51 +0200
Subject: [R] Rank of a matrix?
In-Reply-To: <002f01c20df5$298e3790$72eb92c1@unirioja.es>
References: <200206070201.EAA13895@stat.math.ethz.ch>
	<002f01c20df5$298e3790$72eb92c1@unirioja.es>
Message-ID: <x2d6v3edlc.fsf@blueberry.kubism.ku.dk>

Manuel Castej?n Limas <manuel.castejon at dim.unirioja.es> writes:

> Hello everyone,
> this is a very simple question but I could  not find the answer. :-(
>
> Is there any function in R for calculating the rank of a matrix?
> (In the sense of the dimension of the vectorial space that spans)

It's a byproduct of chol() and qr(), but beware that it is numerically
ill-defined due to round-off. Notice the tol= argument to qr().

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  7 10:11:09 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 7 Jun 2002 09:11:09 +0100 (BST)
Subject: [R] Rank of a matrix?
In-Reply-To: <x2d6v3edlc.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206070906010.2578-100000@gannet.stats>

On 7 Jun 2002, Peter Dalgaard BSA wrote:

> Manuel Castejn Limas <manuel.castejon at dim.unirioja.es> writes:
>
> > Hello everyone,
> > this is a very simple question but I could  not find the answer. :-(
> >
> > Is there any function in R for calculating the rank of a matrix?
> > (In the sense of the dimension of the vectorial space that spans)
>
> It's a byproduct of chol() and qr(), but beware that it is numerically
> ill-defined due to round-off. Notice the tol= argument to qr().

For a more reliable answer, look at the SVD (function svd) and look at the
singular values.  For example (from lda.default)

    X.s <- svd(X, nu = 0)
    rank <- sum(X.s$d > tol * X.s$d[1])

where tol is set to 1e-4 in that application.  If you only want the
rank, set nv=0 in the call too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Fri Jun  7 10:26:35 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Fri, 07 Jun 2002 10:26:35 +0200
Subject: [R] R & PHP (moving slightly offtopic, sorry)
References: <3CFF7BD1.5070903@metrinomics.de> <3CFFAFBE.5010104@joeconway.com> <20020606163807.B25391@krypton.its.uci.edu>
Message-ID: <3D006E3B.4000304@metrinomics.de>

Hi ,
thank you all for the different reply's.
Perhaps the group of interested "PHP & R" people should find a way for 
more detailed
discussion on another place so that  other r-help user feel not troubled !?

My idea is to develope a  "Online-Reporting-Tool" in PHP first with this 
features.

(1) Connection to Mysql
(2) Connection to SPSS (ODBC), because sometimes it is nice to have
an  "use.value.labels.T (read.spss)"  table sometimes not !
(3) (Segmentation-Tool) One or more "selection-list's" which get the 
different options
form a MySQL  Variable i.e. a list of  more than 100 countrys........
(4) StatisticProcedures
(calculate special mean's , recode this to discrete value's and use it 
as SVG-graphic initialization
( see my "posting"  form 03.06) later more,but i like start with easy 
things !
(5) Graphic Features (first,boxplots ???)

Patrick when you think my intentions are similar to yours, it would be 
nice when
i get your code and i'm interested for the extension from "Joe Conway", too.

I structure my ideas this weekend and begin with the basics PHP codings -
my bisggest problem until now is , i don't know when i should use
R, because grouped mean's etc. are possible to calculate in PHP, but i 
think
there is a point where it is easier to combine, perhaps for plotting and 
sure for multivariate procedures.

P.S.
A very nice free tool for MySQl Users (Windows) you get here:
http://www.anse.de/mysqlfront/

regards,
Christian




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marketa.Pavlikova at euromise.cz  Fri Jun  7 11:28:45 2002
From: Marketa.Pavlikova at euromise.cz (Marketa Pavlikova)
Date: 7 Jun 2002 10:28:45 +0100
Subject: [R] Hope fo help - functions, fits and for cycles
Message-ID: <20020607102845.1.24843.qmail@unix.euromise.cz>


	I need a little piece of advice concerning passing data frames 
into the functions. As I do a lot of similar fits at a time, I'd like to 
write a small function doing the fits for all relevant variables 
automatically. However, I usually get error messages of the 
following kind:

  	(I present here a part of a test code).

#####################################################
# Data set:

ID<-c(1,2,3,4,5)
gender<-c(1,0,0,1,0)
age<-c(25,40,33,50,15)
G1<-c(0,0,1,2,0)#it corresponds to 
    some gene mutations
G2<-c(0,1,0,1,1)#I examine the 
    effect of each of them
G3<-c(1,1,1,1,0)#corrected for 
    "clinical" variables gender and age
response<-c(2.1,3.5,6.1,2.0,1.5)

dataset<-data.frame(ID,gender,age,G1,G2,G3,response)
GG<-c("G1","G2","G3")

#   here I construct a function that makes a basic fit, 
    then updates with each variable from GG vector.

trial_function(mydata,formule,expl,distr="binomial")
{
      n_length(expl)
    fit.low_glm(formule, family = distr, data = mydata, 
    na.action = na.exclude)

    for (j in 1:n)
    {
    fit_update(fit.low,~.+ mydata[,expl[j]])
    print(mydata[,expl[j]])
    }	
}
  
result<-
    trial(mydata=dataset,formule=response~gender+age,exp
    l=GG,distr="gaussian")

#   when update is off, no error message is printed and 
    the function works all right
#   if I untag the update, I get the following message
######Error in eval(expr, envir, enclos) : Object 
    "mydata" not found
#   although it passed and foung mydata correctle 
    beforehand.

#   If I break the variable passing standards and define 
    mydata beforehand by

mydata<-dataset
result<-
    trial(mydata=dataset,formule=response~gender+age,exp
    l=GG,distr="gaussian")

#   I get
####Error in "[.data.frame"(mydata, , expl[j]) : 
####Object "expl" not found

####################################################

Hence, it seems to me that there is some problem in passing the 
dataset into the update function inside a for cycle. When I did the 
same thing outside the function (with the same for cycle) it worked. 
Defining the variable outside the update (inside the for cycle) didn't 
help. 

Is there any workaround I could use?

Thank you very much for your help or connection to someone who 
could help,

				Marketa Pavlikova
				EuroMISE Center


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  7 10:59:36 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 7 Jun 2002 09:59:36 +0100 (BST)
Subject: [R] Hope fo help - functions, fits and for cycles
In-Reply-To: <20020607102845.1.24843.qmail@unix.euromise.cz>
Message-ID: <Pine.LNX.4.31.0206070952360.2730-100000@gannet.stats>

1) add1 does this for you, more efficiently!

2) You are trying to add mydata[,expl[j]]) to a formula.  That makes no
sense in the context of the formula, and I think you need to define it
as a variable in your function and then try to add that variable.

3) update within a function is tricky because of the scope rules.  It
follows the S scope rules, AFAICS.  A much better idea is to add the
variable you want either to the data argument or to the environment of the
formula.

BTW, _ is about to be deprecated, and please do not use different
assignment operators in one piece of code.  If you must use _, put spaces
around it.  Don't make life unnecessarily hard for your readers.

On 7 Jun 2002, Marketa Pavlikova wrote:

>
> 	I need a little piece of advice concerning passing data frames
> into the functions. As I do a lot of similar fits at a time, I'd like to
> write a small function doing the fits for all relevant variables
> automatically. However, I usually get error messages of the
> following kind:
>
>   	(I present here a part of a test code).
>
> #####################################################
> # Data set:
>
> ID<-c(1,2,3,4,5)
> gender<-c(1,0,0,1,0)
> age<-c(25,40,33,50,15)
> G1<-c(0,0,1,2,0)#it corresponds to
>     some gene mutations
> G2<-c(0,1,0,1,1)#I examine the
>     effect of each of them
> G3<-c(1,1,1,1,0)#corrected for
>     "clinical" variables gender and age
> response<-c(2.1,3.5,6.1,2.0,1.5)
>
> dataset<-data.frame(ID,gender,age,G1,G2,G3,response)
> GG<-c("G1","G2","G3")
>
> #   here I construct a function that makes a basic fit,
>     then updates with each variable from GG vector.
>
> trial_function(mydata,formule,expl,distr="binomial")
> {
>       n_length(expl)
>     fit.low_glm(formule, family = distr, data = mydata,
>     na.action = na.exclude)
>
>     for (j in 1:n)
>     {
>     fit_update(fit.low,~.+ mydata[,expl[j]])
>     print(mydata[,expl[j]])
>     }
> }
>
> result<-
>     trial(mydata=dataset,formule=response~gender+age,exp
>     l=GG,distr="gaussian")
>
> #   when update is off, no error message is printed and
>     the function works all right
> #   if I untag the update, I get the following message
> ######Error in eval(expr, envir, enclos) : Object
>     "mydata" not found
> #   although it passed and foung mydata correctle
>     beforehand.
>
> #   If I break the variable passing standards and define
>     mydata beforehand by
>
> mydata<-dataset
> result<-
>     trial(mydata=dataset,formule=response~gender+age,exp
>     l=GG,distr="gaussian")
>
> #   I get
> ####Error in "[.data.frame"(mydata, , expl[j]) :
> ####Object "expl" not found
>
> ####################################################
>
> Hence, it seems to me that there is some problem in passing the
> dataset into the update function inside a for cycle. When I did the
> same thing outside the function (with the same for cycle) it worked.
> Defining the variable outside the update (inside the for cycle) didn't
> help.
>
> Is there any workaround I could use?
>
> Thank you very much for your help or connection to someone who
> could help,
>
> 				Marketa Pavlikova
> 				EuroMISE Center
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marketa.Pavlikova at euromise.cz  Fri Jun  7 12:27:16 2002
From: Marketa.Pavlikova at euromise.cz (Marketa Pavlikova)
Date: 7 Jun 2002 11:27:16 +0100
Subject: [R] Hope fo help - functions, fits and for cycles
In-Reply-To: <Pine.LNX.4.31.0206070952360.2730-100000@gannet.stats>
References: <20020607102845.1.24843.qmail@unix.euromise.cz>
Message-ID: <20020607112716.1.25277.qmail@unix.euromise.cz>

Thanks for a quick reply!

> 1) add1 does this for you, more efficiently!
Oh, that's right. Unfortunately, it doesn't solve the problem :(

> 2) You are trying to add mydata[,expl[j]]) to a formula.  That makes no
> sense in the context of the formula, and I think you need to define it
> as a variable in your function and then try to add that variable.
I did it as well, no help. It tells me that the newly formed variable 
isn't found. In fact it works normally if outside a function. It think it 
treats mydata[,expl[j]]) as a variable (it gives that name in the fit 
output as well).
 
> 3) update within a function is tricky because of the scope rules.  It
> follows the S scope rules, AFAICS.  A much better idea is to add the
> variable you want either to the data argument or to the environment of the
> formula.

Well the scope rules must be the reason (it does the same in S+). 
But the variable _is_ in the data (it is a part od dataset, put into 
mydata). In fact all I need to do is just to point at that particular 
variable from the data set. Maybe there is another means of doing 
it?
I thought about inluding it into the formula, but I don't know how 
(something like "pasting" together the formulas?)

> BTW, _ is about to be deprecated, and please do not use different
> assignment operators in one piece of code.  If you must use _, put spaces
> around it.  Don't make life unnecessarily hard for your readers.

Oh, in fact the _ part is my colleague's code, I always use <- :) 
Thanks for advice.

> 
> On 7 Jun 2002, Marketa Pavlikova wrote:
> 
> >
> > 	I need a little piece of advice concerning passing data frames
> > into the functions. As I do a lot of similar fits at a time, I'd like to
> > write a small function doing the fits for all relevant variables
> > automatically. However, I usually get error messages of the
> > following kind:
> >
> >   	(I present here a part of a test code).
> >
> > #####################################################
> > # Data set:
> >
> > ID<-c(1,2,3,4,5)
> > gender<-c(1,0,0,1,0)
> > age<-c(25,40,33,50,15)
> > G1<-c(0,0,1,2,0)#it corresponds to
> >     some gene mutations
> > G2<-c(0,1,0,1,1)#I examine the
> >     effect of each of them
> > G3<-c(1,1,1,1,0)#corrected for
> >     "clinical" variables gender and age
> > response<-c(2.1,3.5,6.1,2.0,1.5)
> >
> > dataset<-data.frame(ID,gender,age,G1,G2,G3,response)
> > GG<-c("G1","G2","G3")
> >
> > #   here I construct a function that makes a basic fit,
> >     then updates with each variable from GG vector.
> >
> > trial_function(mydata,formule,expl,distr="binomial")
> > {
> >       n_length(expl)
> >     fit.low_glm(formule, family = distr, data = mydata,
> >     na.action = na.exclude)
> >
> >     for (j in 1:n)
> >     {
> >     fit_update(fit.low,~.+ mydata[,expl[j]])
> >     print(mydata[,expl[j]])
> >     }
> > }
> >
> > result<-
> >     trial(mydata=dataset,formule=response~gender+age,exp
> >     l=GG,distr="gaussian")
> >
> > #   when update is off, no error message is printed and
> >     the function works all right
> > #   if I untag the update, I get the following message
> > ######Error in eval(expr, envir, enclos) : Object
> >     "mydata" not found
> > #   although it passed and foung mydata correctle
> >     beforehand.
> >
> > #   If I break the variable passing standards and define
> >     mydata beforehand by
> >
> > mydata<-dataset
> > result<-
> >     trial(mydata=dataset,formule=response~gender+age,exp
> >     l=GG,distr="gaussian")
> >
> > #   I get
> > ####Error in "[.data.frame"(mydata, , expl[j]) :
> > ####Object "expl" not found
> >
> > ####################################################
> >
> > Hence, it seems to me that there is some problem in passing the
> > dataset into the update function inside a for cycle. When I did the
> > same thing outside the function (with the same for cycle) it worked.
> > Defining the variable outside the update (inside the for cycle) didn't
> > help.
> >
> > Is there any workaround I could use?
> >
> > Thank you very much for your help or connection to someone who
> > could help,
> >
> > 				Marketa Pavlikova
> > 				EuroMISE Center
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christophe.weibel at epfl.ch  Fri Jun  7 11:41:31 2002
From: christophe.weibel at epfl.ch (Christophe Weibel)
Date: Fri, 07 Jun 2002 11:41:31 +0200
Subject: [R] filter data frames
Message-ID: <3D007FCB.CA56A152@epfl.ch>


Hello!

I'm looking for an easy way to filter data frames.

Some rows in my data frame needs to be left out,
for instance, rows with invalid data.

Right now, if I want to pair two columns of this data frame,
I have to do this:

> pairs(as.data.frame(list(tstart=df$tstart[valid],tend=df$tend.sdr[valid])))

or this:

> pairs(cbind(df$tstart,df$tend)[valid,],labels=c("tstart","tend"))

where 'valid' is a logical vector of valid rows.

Is there a way to filter a data frame without making a vector of
the columns, thus losing the column names?

Okay, perhaps I'm greedy. It's already working, what am I complaining
about? 

-- 
Christophe Weibel
_________________________
christophe.weibel at epfl.ch
Phone:    +41 21 312-3525
Prof:     +41 21 69-34244
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  7 11:55:30 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 7 Jun 2002 10:55:30 +0100 (BST)
Subject: [R] filter data frames
In-Reply-To: <3D007FCB.CA56A152@epfl.ch>
Message-ID: <Pine.LNX.4.31.0206071053520.4637-100000@gannet.stats>

On Fri, 7 Jun 2002, Christophe Weibel wrote:

>
> Hello!
>
> I'm looking for an easy way to filter data frames.
>
> Some rows in my data frame needs to be left out,
> for instance, rows with invalid data.
>
> Right now, if I want to pair two columns of this data frame,
> I have to do this:
>
> > pairs(as.data.frame(list(tstart=df$tstart[valid],tend=df$tend.sdr[valid])))
>
> or this:
>
> > pairs(cbind(df$tstart,df$tend)[valid,],labels=c("tstart","tend"))
>
> where 'valid' is a logical vector of valid rows.
>
> Is there a way to filter a data frame without making a vector of
> the columns, thus losing the column names?
>
> Okay, perhaps I'm greedy. It's already working, what am I complaining
> about?

What's wrong with df[valid, c("tstart","tend")], which is what you appear
to want?

I am sure that's in the R Introduction.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Fri Jun  7 12:40:58 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Fri, 07 Jun 2002 12:40:58 +0200
Subject: [R] Problem with get.hist.quote (tseries library)....
References: <200206070201.EAA13895@stat.math.ethz.ch>
Message-ID: <3D008DBA.302B9982@lmttrading.com>

> Date: 07 Jun 2002 00:11:19 +0200
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Subject: Re: [R] Problem with get.hist.quote (tseries library)....
>
> "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
>
> > At 21:48 - 6 Jun 2002, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:
> >
> > > "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> > >
> > > > At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> > > >
> > > > > I am having a problem with the get.hist.quote command (tseries library) in
> > > > > the Windows version.
> > > >
> > > > I am having a similar problem:
> > > >
> > > > ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > > > > library(tseries)
> > > > > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> > [...]
> >
> > > Not happening here.
> > >
> > > a) is your tseries package up to date?
> > First lines from ChangeLog:
> > 2002-04-26  Adrian Trapletti <a.trapletti at bluewin.ch>
> >       * DESCRIPTION (Version): New version is 0.9-0.
>
> Same here. (Doesn't it identify itself on load?)

Yes, it does. And version 0.9-0 is the actual one. And for me under Linux it?s working fine.

Thanks for your help, Peter

Adrian

--
Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
CH-8610 Uster          Email:   a.trapletti at bluewin.ch
Switzerland            WWW  :  trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From miguel.bernal at ma.ieo.es  Fri Jun  7 12:54:20 2002
From: miguel.bernal at ma.ieo.es (miguel bernal)
Date: Fri, 7 Jun 2002 12:54:20 +0200
Subject: [R] Problems in installation of package HMISC
Message-ID: <200206071056.MAA00657@stat.math.ethz.ch>

Dear R users

I am trying to install F. Harrell's Hmisc and Design packages for R 1.5.0. 
(Linux mandrake 8.2 build), but when using "R CMD INSTALL" I get the 
following error:

R CMD INSTALL Hmisc_1.0-1.tar.gz

*Installing *source* package 'Hmisc' ...
** libs
g77	-fPIC	-g  -02  -c  cidxcn.f  -o cidxcn.o
g77	-fPIC	-g  -02  -c  cidxcp.f  -o cidxcp.o
g77	-fPIC	-g  -02  -c  hoeffd.f   -o hoeffd.o
g77	-fPIC	-g  -02  -c  largrec.f  -o largrec.o
gcc -I/usr/lib/R/include -I/usr/local/include -D__NO_MATH_INLINE
PIC   -03 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-strength-reduce -c ranksort.c -o rcorr.o
gcc -shared -o Hmisc.so cidxcn.o cidxcp.o hoeffd.o largrec.o ran 
     - L/usr/local/lib -L/usr/lib/gcc-lib/i586-mandrake-linux-gnu/3.
gcc-lib/i586-mandrake-linux-gnu/3.0.4/../../.. -lreadline -ldl -l
ic -lm
/usr/bin/ld: cannot find -lreadline
collect2: ld returned 1 exit status
make: ***[Hmisc.so] Error 1
ERROR: compilation failed for package 'Hmisc'

I have checked for the ld and readline libraries and they are in my system, 
so I don't know what is missed in my system. Any ideas?

Thank you very much in advance.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Fri Jun  7 14:54:03 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Fri, 07 Jun 2002 14:54:03 +0200
Subject: [R] RODBC & Problems with Sybase Database
References: <Pine.LNX.4.31.0205300947100.21889-100000@gannet.stats> <3CF616CF.1040704@metrinomics.de>
Message-ID: <3D00ACEB.7070200@metrinomics.de>

Hi ,
i start a mail-thread about ODBC Problems with Sybase  30.05.2002.

this works [;-)]
channel.Sybase <- 
odbcConnect("DSN-NAME","login","passsword",host="IP-Number")
sybase.query  <- sqlQuery(channel.Sybase,"SELECT * FROM 
DATA.EXPORT_EXAMPLE",errors=T,as="data frame", 
nullstring="SYSMIS",na.strings="NA")

regards,christian


Christian Schulz wrote:

> Ok, i  test/understand that a object what work with any
> RODBC function should not have any  point or something other special 
> sign  in the name.
>
> I follow the recommendation from Prof. Ripley and change the sqlFetch 
> function, but
> the error message is the same.
> My problem is (1.)  that the name of the tables in th db have all the 
> name structure  DATA.EXPORT_NAME 
> and i understand that  .EXPORT_NAME cause the problems.
>
> Should i do the same like "juli g. pausas (13.May.2002)" with the loop 
> & noms, that
> the modified function sqflFetch works (..but it's not so easy,because
> list.file(pattern="DATA.EXPORT")  is difficult,because the DataBase is 
> a  Server and not my localMachine ?
>
> When it works, i get all tables with the name DATA.EXPORT in a list ?
>
> many thanks for suggestions
> & regards,Christian
>
>
>
> ripley at stats.ox.ac.uk wrote:
>
>>On Thu, 30 May 2002, Christian Schulz wrote:
>>
>>>Hello,
>>>i  would like import Data from Sybase DataBase to R-1.5.0 via RODBC.
>>>
>>>With this i get a connection without problems !
>>>channel <- odbcConnect("ODBCName","LoginName","LoginPass")
>>>
>>>dataSybase  <-  sqlFetch(channel,"EPORT_XYZ")
>>>,but when i try this i get a message error ?
>>>(Perhaps the _ is a problem, i know that's i.e. not usual to name
>>>objects with _ in R ?)
>>>
>>
>>It is. Search the archives for a workaround I posted a few days ago.
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020607/5d34d683/attachment.html

From lutz.thieme at amd.com  Fri Jun  7 14:54:21 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Fri, 7 Jun 2002 14:54:21 +0200
Subject: [R] offset labeling boxplots
Message-ID: <E540DF203FFED21182EB0008C72875600AEDA79F@deexmta4.amd.com>

Hello everybody,

often I plot boxplots with different number of boxes (up to 200 boxes). 
I'd like to give every box a readable label on the x-axis. Therefore, I 
decrease the fontsize of the names and plot them vertical. 
But if you zoom into the plot (pdf) you will find an offset between the 
tickmark and the label - the label is shifted to the right. 

If you vary the box.count in the following example (without changing
the fontsize) you will find every time this right shifted labels. 
(Finaly, for large box.counts the label will be shifted to the next right 
label!)

Question 1: How can I avoid the right shift of the x-axis label?
Question 2: Is it possible to scale the fontsize depending of the box.count
	 (So that I can read every single label)?


Thank's in advance - regards,

Lutz


#----------------------------
box.count<-150

data(ToothGrowth)
DATA<-list(ToothGrowth$len)
DATA<-rep(DATA,box.count)
box.name<- rep('any text',box.count)

pdf(file='boxplot_test.pdf',width=11,height=8)	
# So I can read every label using the pdf reader zooming functionality.

par(cex.axis=.5)		# make axis font smaller,
par(las=3)		# plot all axis label vertical
b<-boxplot(DATA,plot=FALSE, names=box.name)
bxp(b,show.names=T)

graphics.off()
#----------------------------

platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    4.1                 
year     2002                
month    01                  
day      30                  
language R  



	Lutz Thieme
	Product Engineering
	AMD - Saxony Manufacturing GmbH
	phone: + 49-351-277 -  4269
	fax:       + 49-351-277-9-4269



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregor.gawron at rmf.ch  Fri Jun  7 16:57:57 2002
From: gregor.gawron at rmf.ch (Gregor Gawron)
Date: Fri, 7 Jun 2002 16:57:57 +0200
Subject: [R] Ploting betas and p-values together
Message-ID: <3635AAE6EA743844B05655F805CB3125DB85F1@titlis.rmf.ch>

Hi all,

I have a data frame consisting of extracted results from a moving
regression. Next, I want to write a function that pick up the desired
coefficient columns and plots them on one page (about=5). Additionaly,
the plots should display the corresponding p-values.  As for the
coefficients alone, it works fine. The problems arise when I try to add
the values of p-values as lines. 
An example: 

Y<-data.frame  # 10 rows and columns of alfas,5 betas, p-values, etc.
z<-1:10
par(mfrow=c(3,2))
	for (i in 10:ncol(Y)){
	plot(z,Y[,i],type="b")	#plots the coefficients
	}
		for (j in 1:ncol(Y)-10){ #
		lines(Y[,j])
	}

I've tried with different positions of loops but received either all
lines in one graph or the same line in all graphs. Are they some ways to
solve it or maybe any function ? la `merge.plot'? 
Thanks in advance.

---

Gregor Gawron

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Jun  7 17:41:23 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Jun 2002 11:41:23 -0400 
Subject: [R] R & PHP
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E5F9@groexmb02.pfizer.com>


Hi All,

As an alternative for web-applications using R, I've built a general
interface between ZOPE and R...

-Greg


> -----Original Message-----
> From: Jan de Leeuw [mailto:deleeuw at stat.ucla.edu]
> Sent: Thursday, June 06, 2002 3:29 PM
> To: Joe Conway
> Cc: Christian Schulz; r-help at stat.math.ethz.ch
> Subject: Re: [R] R & PHP
> 
> 
> This is one of our projects. We have written statistics 
> extensions in dynamic
> modules linked into PHP (basically Barry Browns dcdflib and 
> randlib, plus
> some tests and plotting) -- it would be nice to link in 
> libR.dylib and write
> an interface to that.
> On Thursday, Jun 6, 2002, at 11:53 America/Los_Angeles, Joe 
> Conway wrote:
> 
> > Christian Schulz wrote:
> >> Hi,
> >> have anybody experience or do something in  R with PHP 
> togehter (...and MySQL as DB) ?
> >> It would be nice  for a exchange of ideas !
> >> Thanks for advance  & regards,
> >> christian
> >
> > I've done a little with R, PHP, and PostgreSQL together. 
> The details are probably a bit off-topic for the list, but 
> I'll be happy to discuss my approach off-list if you'd like.
> >
> > Ultimately I'd love to see an R extension written for PHP. 
> It would be very slick if R could be called from PHP to cook 
> raw data, and then output a graph to a GD device directly. I 
> might even attempt it myself at some point, but at the moment 
> I don't have the time to take on something of that magnatude.
> >
> > Joe
> >
> >
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: 
> deleeuw at stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     
> http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jun  7 17:46:39 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 07 Jun 2002 11:46:39 -0400
Subject: [R] new book on R and S-PLUS
Message-ID: <5.1.0.14.2.20020607114358.01d9bd30@mcmail.cis.mcmaster.ca>

Dear R and S list members:

I've just published a book entitled An R and S-PLUS Companion to Applied 
Regression. The book introduces R and S-PLUS in the context of linear and 
generalized-linear models, and assumes familiarity with -- or a 
simultaneous course or text on -- these topics. I thought that the book 
might be of interest to the members of these lists or to their students.

More information is available on the web site for the book 
<http://www.socsci.mcmaster.ca/jfox/Books/Companion/>, where you will also 
find a variety of supporting materials, including the preface and table of 
contents of the book; scripts for the examples; and nine appendices briefly 
covering related topics such as nonlinear regression, nonparametric 
regression, Cox regression for survival data, and mixed-effects models.

The book is published by Sage Publications; information about ordering it 
may be found on the Sage web site, at 
<http://www.sagepub.com/Shopping/Detail.asp?id=27724>.

Thanks for your attention (and apologies for the double-posting),
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jun  7 14:27:05 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 7 Jun 2002 13:27:05 +0100
Subject: [R] Monte Carlo
In-Reply-To: <186.8be89fe.2a2ffff9@cs.com>
References: <186.8be89fe.2a2ffff9@cs.com>
Message-ID: <wGTEpCAZaKA9Ewq1@myatt.demon.co.uk>

Ngde65t at cs.com writes:
> Doctor in veterinary medecine I have a degree in veterinary epidemiology
>I would ask if someone can perform Monte Carlo simulation with R.

"Monte Carlo" covers a multitude of applications but R is a versatile
language and should be capable of doing what you want.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Fri Jun  7 20:39:15 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee.Law@celeradiagnostics.com)
Date: Fri, 7 Jun 2002 11:39:15 -0700
Subject: [R] Hardy Weinberg Equilibrium Test
Message-ID: <OFFC0AC36E.D6C14D91-ON88256BD1.00661075@pe-c.com>

Hi,

Does anyone know of any existing codes/packages to do the asymptotic and
exact HWE test? Thanks.

- Jacqueline


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Fri Jun  7 22:24:58 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Fri, 7 Jun 2002 17:24:58 -0300
Subject: [R] Factor analysis
In-Reply-To: <wGTEpCAZaKA9Ewq1@myatt.demon.co.uk>
Message-ID: <001901c20e61$64db37a0$b454a8c0@gallup.com.br>


	Hello R users,

	I need to perform factor analysis and I am using the 'mva' package for
this. Is there any other package which has a function for factor analysis
that can use other method of estimation besides maximum-likelihood?

	Thanks in advance,

Marcos



-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Mark Myatt
Sent: Friday, June 07, 2002 9:27 AM
To: Ngde65t at cs.com
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Monte Carlo


Ngde65t at cs.com writes:
> Doctor in veterinary medecine I have a degree in veterinary epidemiology
>I would ask if someone can perform Monte Carlo simulation with R.

"Monte Carlo" covers a multitude of applications but R is a versatile
language and should be capable of doing what you want.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  7 22:45:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 7 Jun 2002 21:45:22 +0100 (BST)
Subject: [R] Factor analysis
In-Reply-To: <001901c20e61$64db37a0$b454a8c0@gallup.com.br>
Message-ID: <Pine.LNX.4.31.0206072142460.7612-100000@gannet.stats>

On Fri, 7 Jun 2002, Marcos Sanches wrote:

>
> 	Hello R users,
>
> 	I need to perform factor analysis and I am using the 'mva' package for
> this. Is there any other package which has a function for factor analysis
> that can use other method of estimation besides maximum-likelihood?

Why do you want to use an inferior method?  And which outdated method
do you want to use?

[irrelevant message deleted]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Fri Jun  7 23:06:47 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Fri, 7 Jun 2002 18:06:47 -0300
Subject: [R] Factor analysis
In-Reply-To: <Pine.LNX.4.31.0206072142460.7612-100000@gannet.stats>
Message-ID: <001b01c20e67$3c8896c0$b454a8c0@gallup.com.br>

	I would like to compare the performance of Principal component method and
principal axis method with maximum-likelihood because my data is not
multivariate Normal.
	Besides, how can I have the communalities with 'factanal' function? I
didn't find it on html help.
	Sorry, I am a new R user...

	Thanks

	Marcos



-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Friday, June 07, 2002 5:45 PM
To: Marcos Sanches
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Factor analysis


On Fri, 7 Jun 2002, Marcos Sanches wrote:

>
> 	Hello R users,
>
> 	I need to perform factor analysis and I am using the 'mva' package for
> this. Is there any other package which has a function for factor analysis
> that can use other method of estimation besides maximum-likelihood?

Why do you want to use an inferior method?  And which outdated method
do you want to use?

[irrelevant message deleted]

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Jun  8 04:38:27 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 07 Jun 2002 22:38:27 -0400
Subject: [R] Factor analysis
In-Reply-To: <001b01c20e67$3c8896c0$b454a8c0@gallup.com.br>
References: <Pine.LNX.4.31.0206072142460.7612-100000@gannet.stats>
Message-ID: <5.1.0.14.2.20020607223313.01d851e8@mcmail.cis.mcmaster.ca>

Dear Marcos,

At 06:06 PM 6/7/2002 -0300, Marcos Sanches wrote:
>         I would like to compare the performance of Principal component 
> method and
>principal axis method with maximum-likelihood because my data is not
>multivariate Normal.

If the data are far from multinormal, then any analysis based on ordinary 
correlations is questionable.

>         Besides, how can I have the communalities with 'factanal' function? I
>didn't find it on html help.
>         Sorry, I am a new R user...

The communalities are the complements of the uniquenesses (i.e., 1 - 
uniqueness). Alternatively, for orthogonally rotated factors, the 
communalities are the row sums of the matrix of factor loadings.

I hope that this helps,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Jun  8 05:39:37 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 07 Jun 2002 23:39:37 -0400
Subject: [R] Factor analysis (correction)
Message-ID: <5.1.0.14.2.20020607233640.01d84c40@mcmail.cis.mcmaster.ca>

Dear Marcos:

At 06:06 PM 6/7/2002 -0300, Marcos Sanches wrote:

>>         Besides, how can I have the communalities with 'factanal' 
>> function? I
>>didn't find it on html help.
>>         Sorry, I am a new R user...

and I wrote:

>The communalities are the complements of the uniquenesses (i.e., 1 - 
>uniqueness). Alternatively, for orthogonally rotated factors, the 
>communalities are the row sums of the matrix of factor loadings.

Actually, the communalities are the row sums of the *squared* loadings.

Sorry for the slip,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From josep_perarnau at coeic.org  Sat Jun  8 12:33:29 2002
From: josep_perarnau at coeic.org (Josep Perarnau i Codina)
Date: Sat, 8 Jun 2002 12:33:29 +0200
Subject: [R] contour plot for non-linear models
Message-ID: <000001c20ed7$eef58320$303604d5@upc.es>

Hello all,

I've tried to reproduce the contour plot that appears in the book of
Venables and Ripley, at page 255. Is a F-statistic surface and a
confidence region for the regression parameters of a non-linear model.
It uses the stormer data that are in the MASS package. 

I haven't been able to reproduce the plot either in R ( version 1.5 )
and S.  It makes the axes and it puts the labels, but it doesn't shows
the contour lines.

Could you help me resolving this problem?

This is the code that appears in the book and I've been testing.

> fm0 <- lm(Wt*Time ~ Viscosity + Time -1, data= stormer)
> b0 <- coef(fm0); names(b0) <- c("b1", "b2")
> storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data = stormer, start=b0,
trace = T)

> bc <- coef(storm.fm)
> se <- sqrt(diag(vcov(storm.fm)))
> dv <- deviance(storm.fm)

> par(pty = "s")
> b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
> b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
> bv <- expand.grid(b1,b2)
> ssq <- function(b)
+ sum((Time - b[1]*Viscosity/(Wt-b[2]))^2)
> dbetas <- apply( bv, 1 , ssq)
> attach(stormer)
> cc <- matrix(Time - rep(bv[,1],rep(23,2601)) *
+ Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
> dbetas <- matrix(drop(rep(1,23) %% cc^2), 51)
> fstat <- matrix( ((dbetas -dv)/2) / (dv/21) , 51, 51)

> plot(b1, b2, type = "n")
> lev <- c(1,2,5,7,10,15,20)
> contour(b1, b2, fstat, levels= lev, labex = 0.75, lty=2, add=T)
> contour(b1, b2, fstat, levels= qf(0.95, 2,21), add=T, labex = 0)
> text(31.6, 0.3, labels = "95% CR", adj= 0, cex= 0.75)
> points(bc[1], bc[2], pch=3, mkh=0.1)
> par(pty = "m")


Josep Perarnau i Codina,      josep.perarnau at upc.es
Universitat Polit?cnica de Catalunya
Facultat de Matem?tiques i Estad?stica
LIOS - Laboratori d'Investigaci? Operativa i Simulaci?
Pau Gargallo 5                     
08028 Barcelona
Tel:  +34 93 4016947          Fax:  +34 93 4015855 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Jun  8 12:44:07 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 8 Jun 2002 22:44:07 +1200 (NZST)
Subject: [R] More on for() Loop...
Message-ID: <Pine.SOL.4.21.0206082239140.23711-100000@stat1.stat.auckland.ac.nz>

Hi,

Say I want to do something like fitting 10 different sized trees with
rpart() function.  The only modification I need to do is to set 10
different cp's, which I have in a vector called foo.

Can I do something like:

for(i in 1:10) {
  rpart(y ~ ., cp = foo[i], data = mydata)
}

My problem is, I wish to save the 10 rpart objects into 10 different
names, my.rpart1 ~ my.rpart10, for example.  But I'm not sure how to do
this...


Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat Jun  8 13:07:45 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sat, 8 Jun 2002 23:07:45 +1200
Subject: [R] contour plot for non-linear models
References: <000001c20ed7$eef58320$303604d5@upc.es>
Message-ID: <003001c20edc$b8a59ad0$942558db@kwan022>

Hi,

You should be able to if you go to $R_HOME\library\MASS\scripts3\ch08.R and
find the relevant codes.

But just in case, I simply copied it out from that file:
data(stormer)
attach(stormer)
fm0 <- lm(Wt*Time ~ Viscosity + Time - 1,  data=stormer)
b0 <- coef(fm0)
names(b0) <- c("b1", "b2")
b0
storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data=stormer, start=b0,
          trace=T)

bc <- coef(storm.fm)
se <- sqrt(diag(vcov(storm.fm)))
dv <- deviance(storm.fm)

par(pty = "s")
b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
bv <- expand.grid(b1, b2)
ssq <- function(b)
      sum((Time - b[1] * Viscosity/(Wt-b[2]))^2)
dbetas <- apply(bv, 1, ssq)
cc <- matrix(Time - rep(bv[,1],rep(23, 2601)) *
      Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
dbetas <- matrix(drop(rep(1, 23) %*% cc^2), 51)
fstat <- matrix( ((dbetas - dv)/2) / (dv/21), 51, 51)
qf(0.95, 2, 21)
plot(b1, b2, type="n")
lev <- c(1, 2, 5, 7, 10, 15, 20)
contour(b1, b2, fstat, levels=lev, labex=0.75, lty=2, add=T)
contour(b1, b2, fstat, levels=qf(0.95,2,21), add=T, labex=0)
text(31.6, 0.3, labels="95% CR", adj=0, cex=0.75)
points(bc[1], bc[2], pch=3, mkh=0.1)
detach()

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Josep Perarnau i Codina" <josep_perarnau at coeic.org>
To: <r-help at stat.math.ethz.ch>
Sent: Saturday, June 08, 2002 10:33 PM
Subject: [R] contour plot for non-linear models


> Hello all,
>
> I've tried to reproduce the contour plot that appears in the book of
> Venables and Ripley, at page 255. Is a F-statistic surface and a
> confidence region for the regression parameters of a non-linear model.
> It uses the stormer data that are in the MASS package.
>
> I haven't been able to reproduce the plot either in R ( version 1.5 )
> and S.  It makes the axes and it puts the labels, but it doesn't shows
> the contour lines.
>
> Could you help me resolving this problem?
>
> This is the code that appears in the book and I've been testing.
>
> > fm0 <- lm(Wt*Time ~ Viscosity + Time -1, data= stormer)
> > b0 <- coef(fm0); names(b0) <- c("b1", "b2")
> > storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data = stormer, start=b0,
> trace = T)
>
> > bc <- coef(storm.fm)
> > se <- sqrt(diag(vcov(storm.fm)))
> > dv <- deviance(storm.fm)
>
> > par(pty = "s")
> > b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
> > b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
> > bv <- expand.grid(b1,b2)
> > ssq <- function(b)
> + sum((Time - b[1]*Viscosity/(Wt-b[2]))^2)
> > dbetas <- apply( bv, 1 , ssq)
> > attach(stormer)
> > cc <- matrix(Time - rep(bv[,1],rep(23,2601)) *
> + Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
> > dbetas <- matrix(drop(rep(1,23) %% cc^2), 51)
> > fstat <- matrix( ((dbetas -dv)/2) / (dv/21) , 51, 51)
>
> > plot(b1, b2, type = "n")
> > lev <- c(1,2,5,7,10,15,20)
> > contour(b1, b2, fstat, levels= lev, labex = 0.75, lty=2, add=T)
> > contour(b1, b2, fstat, levels= qf(0.95, 2,21), add=T, labex = 0)
> > text(31.6, 0.3, labels = "95% CR", adj= 0, cex= 0.75)
> > points(bc[1], bc[2], pch=3, mkh=0.1)
> > par(pty = "m")
>
>
> Josep Perarnau i Codina,      josep.perarnau at upc.es
> Universitat Polit?cnica de Catalunya
> Facultat de Matem?tiques i Estad?stica
> LIOS - Laboratori d'Investigaci? Operativa i Simulaci?
> Pau Gargallo 5
> 08028 Barcelona
> Tel:  +34 93 4016947          Fax:  +34 93 4015855
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Jun  8 13:25:56 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sat, 8 Jun 2002 07:25:56 -0400
Subject: [R] More on for() Loop...
In-Reply-To: <Pine.SOL.4.21.0206082239140.23711-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0206082239140.23711-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020608072556.6f813c3e.fharrell@virginia.edu>

On Sat, 8 Jun 2002 22:44:07 +1200 (NZST)
Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> wrote:

> Hi,
> 
> Say I want to do something like fitting 10 different sized trees with
> rpart() function.  The only modification I need to do is to set 10
> different cp's, which I have in a vector called foo.
> 
> Can I do something like:
> 
> for(i in 1:10) {
>   rpart(y ~ ., cp = foo[i], data = mydata)
> }
> 
> My problem is, I wish to save the 10 rpart objects into 10 different
> names, my.rpart1 ~ my.rpart10, for example.  But I'm not sure how to do
> this...
> 

fits <- vector('list',10)
names(fits) <- format(foo)  # optional - will label list components
for(i in 1:10) fits[[i]] <- rpart(...)

Fetch the ith fit by using fits[[i]] (or fits[['formatted cp value']]).

-Frank Harrell

> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> E-mail: kwan022 at stat.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun  8 13:31:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 8 Jun 2002 12:31:34 +0100 (BST)
Subject: [R] contour plot for non-linear models
In-Reply-To: <000001c20ed7$eef58320$303604d5@upc.es>
Message-ID: <Pine.LNX.4.31.0206081228420.12864-100000@gannet.stats>

The current version is in MASS/scripts3/ch08.R.  That runs under R.
I will leave it to you to look for any differences.

Without any idea what you mean by `S' I can't help you there, but
the example in the book was generated using S-PLUS, and scripts are
available ....

On Sat, 8 Jun 2002, Josep Perarnau i Codina wrote:

> Hello all,
>
> I've tried to reproduce the contour plot that appears in the book of
> Venables and Ripley, at page 255. Is a F-statistic surface and a
> confidence region for the regression parameters of a non-linear model.
> It uses the stormer data that are in the MASS package.
>
> I haven't been able to reproduce the plot either in R ( version 1.5 )
> and S.  It makes the axes and it puts the labels, but it doesn't shows
> the contour lines.
>
> Could you help me resolving this problem?
>
> This is the code that appears in the book and I've been testing.
>
> > fm0 <- lm(Wt*Time ~ Viscosity + Time -1, data= stormer)
> > b0 <- coef(fm0); names(b0) <- c("b1", "b2")
> > storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data = stormer, start=b0,
> trace = T)
>
> > bc <- coef(storm.fm)
> > se <- sqrt(diag(vcov(storm.fm)))
> > dv <- deviance(storm.fm)
>
> > par(pty = "s")
> > b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
> > b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
> > bv <- expand.grid(b1,b2)
> > ssq <- function(b)
> + sum((Time - b[1]*Viscosity/(Wt-b[2]))^2)
> > dbetas <- apply( bv, 1 , ssq)
> > attach(stormer)
> > cc <- matrix(Time - rep(bv[,1],rep(23,2601)) *
> + Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
> > dbetas <- matrix(drop(rep(1,23) %% cc^2), 51)
> > fstat <- matrix( ((dbetas -dv)/2) / (dv/21) , 51, 51)
>
> > plot(b1, b2, type = "n")
> > lev <- c(1,2,5,7,10,15,20)
> > contour(b1, b2, fstat, levels= lev, labex = 0.75, lty=2, add=T)
> > contour(b1, b2, fstat, levels= qf(0.95, 2,21), add=T, labex = 0)
> > text(31.6, 0.3, labels = "95% CR", adj= 0, cex= 0.75)
> > points(bc[1], bc[2], pch=3, mkh=0.1)
> > par(pty = "m")
>
>
> Josep Perarnau i Codina,      josep.perarnau at upc.es
> Universitat Politcnica de Catalunya
> Facultat de Matemtiques i Estadstica
> LIOS - Laboratori d'Investigaci Operativa i Simulaci
> Pau Gargallo 5
> 08028 Barcelona
> Tel:  +34 93 4016947          Fax:  +34 93 4015855
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun  8 14:04:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 8 Jun 2002 13:04:37 +0100 (BST)
Subject: [R] More on for() Loop...
In-Reply-To: <20020608072556.6f813c3e.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.31.0206081300550.12902-100000@gannet.stats>

On Sat, 8 Jun 2002, Frank E Harrell Jr wrote:

> On Sat, 8 Jun 2002 22:44:07 +1200 (NZST)
> Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> wrote:
>
> > Hi,
> >
> > Say I want to do something like fitting 10 different sized trees with
> > rpart() function.  The only modification I need to do is to set 10
> > different cp's, which I have in a vector called foo.
> >
> > Can I do something like:
> >
> > for(i in 1:10) {
> >   rpart(y ~ ., cp = foo[i], data = mydata)
> > }
> >
> > My problem is, I wish to save the 10 rpart objects into 10 different
> > names, my.rpart1 ~ my.rpart10, for example.  But I'm not sure how to do
> > this...
> >
>
> fits <- vector('list',10)
> names(fits) <- format(foo)  # optional - will label list components
> for(i in 1:10) fits[[i]] <- rpart(...)
>
> Fetch the ith fit by using fits[[i]] (or fits[['formatted cp value']]).

Two refinements:

1) Use substitute() to get the call information in the fit as a value
and not fun[i].  The Programmer's Niche in the next R-news is all about
that, or see `S Programming'.

2) You only need to call prune.rpart to change the amount of pruning
in an rpart fit.  Even if you didn't, I would advise setting the random
seed so you got the same cross-validation partition both times.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Jun  8 14:59:28 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 08 Jun 2002 08:59:28 -0400
Subject: [R] More on for() Loop...
In-Reply-To: <Pine.SOL.4.21.0206082239140.23711-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <5.1.0.14.2.20020608084831.01d6ec18@mcmail.cis.mcmaster.ca>

Dear Kevin,

At 10:44 PM 6/8/2002 +1200, Ko-Kang Kevin Wang wrote:

>Say I want to do something like fitting 10 different sized trees with
>rpart() function.  The only modification I need to do is to set 10
>different cp's, which I have in a vector called foo.
>
>Can I do something like:
>
>for(i in 1:10) {
>   rpart(y ~ ., cp = foo[i], data = mydata)
>}
>
>My problem is, I wish to save the 10 rpart objects into 10 different
>names, my.rpart1 ~ my.rpart10, for example.  But I'm not sure how to do
>this...

The first question is whether you really need different names. It's simpler 
to collect the results in a list; for example:

     result <- vector(mode='list', length=10)
     for(i in 1:10) result[[i]] <- rpart(y ~ ., cp = foo[i], data = mydata)

Even more simply, using lapply:

     result <- lapply(1:10, function(i) rpart(y ~ ., cp = foo[i], data = 
mydata))

If you do need the results in separate variables, you could do something 
like the following:

     result <- lapply(1:10, function(i) eval(parse(text=
         paste('my.rpart', i, ' <- rpart(y ~ ., cp = foo[', i, '], data = 
mydata)', sep=""))))

(Obviously this is much more error-prone; make sure that I've got the 
quotes and commas in the right place.)

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcm at maths.uq.edu.au  Sun Jun  9 02:44:52 2002
From: jcm at maths.uq.edu.au (Jess Mar)
Date: Sun, 9 Jun 2002 10:44:52 +1000
Subject: [R] GUI Command Equivalent for setwd()
Message-ID: <NCBBINOMKKMHAIKIJJODCEEGCGAA.jcm@maths.uq.edu.au>

Hi everyone,

Can anyone tell me if there's a command prompt on R1.5.0 Windows that will
bring up the GUI dialog box that performs the same function as setwd() only
interactively? I've hunted around, but can't seem to find anything.
Something like file.choose().

Best wishes, Jess


_____________________________________

Jess Mar
Department of Mathematics
University of Queensland
QLD 4072, Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Sun Jun  9 03:52:13 2002
From: jday at csihq.com (John Day)
Date: Sat, 08 Jun 2002 21:52:13 -0400
Subject: [R] S or R used in natural language processing (NLP)?
Message-ID: <4.3.2.7.0.20020608214555.025ea2c0@mail.csihq.com>

Dear All,

Does anyone use S or R for statistical natural language processing (NLP)?

All I have found so far is  a package called EMU 
(http://www.shlrc.mq.edu.au/emu/emu-splus.shtml) which is a speech 
wave-form processing package.

What I'm looking for are routines to support text processing, text 
categorization, word sense disambiguation, text understanding etc.

In particular, I would like to find a routine in R to perform "maximum 
entropy" classification.

(Ref: Nigam,Lafferty,McCallum, "Using Maximum Entropy for Text 
Classification", http://citeseer.nj.nec.com/nigam99using.html)

Thanks,

John Day
PhD Candidate
Florida Tech
Melbourne, FL 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcm at maths.uq.edu.au  Sun Jun  9 08:22:56 2002
From: jcm at maths.uq.edu.au (Jess Mar)
Date: Sun, 9 Jun 2002 16:22:56 +1000
Subject: [R] Scrollable Listbox?
Message-ID: <NCBBINOMKKMHAIKIJJODEEEHCGAA.jcm@maths.uq.edu.au>

Hi,

Using the functions in the tcltk library (R1.5.0 Windows, tcltk v1.5.0),
does anyone know a simple way to create a list box with a scroll bar? I'm
stuck on what to supply to the -xscrollcommand in order to do this but I
might be on the wrong track.

Best wishes, Jess


_____________________________________

Jess Mar
Department of Mathematics
University of Queensland QLD 4072
AUSTRALIA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sun Jun  9 07:35:53 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sun, 9 Jun 2002 07:35:53 +0200
Subject: [R] GUI Command Equivalent for setwd()
In-Reply-To: <NCBBINOMKKMHAIKIJJODCEEGCGAA.jcm@maths.uq.edu.au>; from jcm@maths.uq.edu.au on Sun, Jun 09, 2002 at 10:44:52AM +1000
References: <NCBBINOMKKMHAIKIJJODCEEGCGAA.jcm@maths.uq.edu.au>
Message-ID: <20020609073553.A23725@giraffa.cbs.dtu.dk>

On Sun, Jun 09, 2002 at 10:44:52AM +1000, Jess Mar wrote:
> Hi everyone,
> 
> Can anyone tell me if there's a command prompt on R1.5.0 Windows that will
> bring up the GUI dialog box that performs the same function as setwd() only
> interactively? I've hunted around, but can't seem to find anything.
> Something like file.choose().
> 
> Best wishes, Jess
> 

Would the function 'fileBrowser()' in the package 'tkWidgets' match ?


Hopin' it helps,



L.



> 
> _____________________________________
> 
> Jess Mar
> Department of Mathematics
> University of Queensland
> QLD 4072, Australia
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun  9 09:15:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Jun 2002 08:15:58 +0100 (BST)
Subject: [R] GUI Command Equivalent for setwd()
In-Reply-To: <NCBBINOMKKMHAIKIJJODCEEGCGAA.jcm@maths.uq.edu.au>
Message-ID: <Pine.LNX.4.31.0206090811410.30107-100000@gannet.stats>

On Sun, 9 Jun 2002, Jess Mar wrote:

> Hi everyone,
>
> Can anyone tell me if there's a command prompt on R1.5.0 Windows that will
> bring up the GUI dialog box that performs the same function as setwd() only
> interactively? I've hunted around, but can't seem to find anything.
> Something like file.choose().

There is no R-level function provided. It would be easy to add one, along
the lines of package windlgs, as there is a C function askchangedir();

It's not clear to me why one would want to this this, though.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun  9 11:48:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jun 2002 11:48:50 +0200
Subject: [R] Scrollable Listbox?
In-Reply-To: <NCBBINOMKKMHAIKIJJODEEEHCGAA.jcm@maths.uq.edu.au>
References: <NCBBINOMKKMHAIKIJJODEEEHCGAA.jcm@maths.uq.edu.au>
Message-ID: <x2hekcg4u5.fsf@blueberry.kubism.ku.dk>

"Jess Mar" <jcm at maths.uq.edu.au> writes:

> Hi,
> 
> Using the functions in the tcltk library (R1.5.0 Windows, tcltk v1.5.0),
> does anyone know a simple way to create a list box with a scroll bar? I'm
> stuck on what to supply to the -xscrollcommand in order to do this but I
> might be on the wrong track.
> 
> Best wishes, Jess

Take a look at the tkfaq demo code which does the same thing for a
text widget. (You likely want yscrollcommand rather than x, btw).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Sun Jun  9 12:25:24 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Sun, 9 Jun 2002 12:25:24 +0200
Subject: [R] Logical operators
Message-ID: <3D034934.16635.D29848@localhost>

Hello,

I have a csv-file which looks like:

#### pwt6_r.csv ####
code;year;rgdpch
AGO;1998;1234
ALB;1998;3576
ARG;1998;#NA
SVN;1996;13439
SWE;1996;21492
AGO;1960;#NA
ALB;1960;2345
ARG;1960;4634
#### pwt6_r.csv ####

To import this file i call:
pwt6<-read.csv("d:/pwt6_r.csv",header=T,na.strings="#NA",sep=";")

Now I want to generate a new data.frame which include only 
+ observations for the years 1960 and 1998
+ where the variable 'rgdpch' has no missing values.

The result should be:

code;year;rgdpch
ALB;1998;3576
ALB;1960;2345

I tried to solve this with logical operators (==), but without any 
success.

Thanks for your help!
Patrick
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun  9 12:41:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Jun 2002 11:41:18 +0100 (BST)
Subject: [R] Logical operators
In-Reply-To: <3D034934.16635.D29848@localhost>
Message-ID: <Pine.LNX.4.31.0206091137320.1126-100000@gannet.stats>

On Sun, 9 Jun 2002, Patrick Hausmann wrote:

> Hello,
>
> I have a csv-file which looks like:
>
> #### pwt6_r.csv ####
> code;year;rgdpch
> AGO;1998;1234
> ALB;1998;3576
> ARG;1998;#NA
> SVN;1996;13439
> SWE;1996;21492
> AGO;1960;#NA
> ALB;1960;2345
> ARG;1960;4634
> #### pwt6_r.csv ####
>
> To import this file i call:
> pwt6<-read.csv("d:/pwt6_r.csv",header=T,na.strings="#NA",sep=";")
>
> Now I want to generate a new data.frame which include only
> + observations for the years 1960 and 1998
> + where the variable 'rgdpch' has no missing values.

pwt6[(pwt6$year %in% c("1996", "1998")) & !is.na(pwt6$rgdch), ]

if you actually meant the rows in which 'rgdpch' was not missing.

>
> The result should be:
>
> code;year;rgdpch
> ALB;1998;3576
> ALB;1960;2345
>
> I tried to solve this with logical operators (==), but without any
> success.

It can be done, and as you did not tell us what you tried, we cannot help
correct your misconceptions.

> Thanks for your help!
> Patrick
> -------------
> Patrick Hausmann
> Friedrich-Wilhelm Str. 37 - D-28199 Bremen
> Tel. +49 421 5980631 - Fax. +49 421 5980632
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sun Jun  9 13:18:58 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sun, 09 Jun 2002 06:18:58 -0500
Subject: [R] Machine accurancy.
References: <NCBBINOMKKMHAIKIJJODEEEHCGAA.jcm@maths.uq.edu.au> <x2hekcg4u5.fsf@blueberry.kubism.ku.dk>
Message-ID: <3D0339A2.1080508@epm.net.co>

Hi, R-users and developers!

I want to know if it is possible to modify some numeric precision on a 
windows based machine.
I mean, .Machine() function give me some limits of precision based on my 
machine and OS, but
I would like to know if I can modify those characteristics from R.
May I change some C++ library by other and recompile R?
Is it possible to use some specific processor characteristics?
I'm using R in a W2K O.S, and with an Intel PIII, machine.
Are those characteristics R better on a LINUX O.S. machine on the same 
PIII processor?
Is it better to use R in the LINUX platform than in W2K with regards 
this machine precision?

Thank you very much for your help

Kenneth

double.eps             2.220446e-16
double.neg.eps      1.110223e-16
double.xmin           2.225074e-308
double.xmax          1.797693e+308
double.base           2
double.digits          53
double.rounding     5
double.guard         0
double.ulp.digits    -52
double.neg.ulp.digits -53
double.exponent      11
double.min.exp      -1022
double.max.exp       1024
integer.max              2147483647
sizeof.long               4
sizeof.longlong         8
sizeof.longdouble     12

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun  9 13:43:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Jun 2002 12:43:54 +0100 (BST)
Subject: [R] Machine accurancy.
In-Reply-To: <3D0339A2.1080508@epm.net.co>
Message-ID: <Pine.LNX.4.31.0206091237370.1205-100000@gannet.stats>

On Sun, 9 Jun 2002, Kenneth Cabrera wrote:

> Hi, R-users and developers!
>
> I want to know if it is possible to modify some numeric precision on a
> windows based machine.
> I mean, .Machine() function give me some limits of precision based on my
> machine and OS, but
> I would like to know if I can modify those characteristics from R.
> May I change some C++ library by other and recompile R?

No. And R does not use any C++. Most of the characteristics are of the
ix86 chip and IEEE754 arithmetic.  You might be able to use
64-bit-mantissa doubles, if you could find a runtime (`libc') that
supported that.

> Is it possible to use some specific processor characteristics?
> I'm using R in a W2K O.S, and with an Intel PIII, machine.
> Are those characteristics R better on a LINUX O.S. machine on the same
> PIII processor?

No, they are the same.

> Is it better to use R in the LINUX platform than in W2K with regards
> this machine precision?

Not really.  The Linux runtime might be a little more accurate.

Why do you want to do this?  R's precision is quite sufficient for almost
all scientific purposes, if used correctly.

> Thank you very much for your help
>
> Kenneth
>
> double.eps             2.220446e-16
> double.neg.eps      1.110223e-16
> double.xmin           2.225074e-308
> double.xmax          1.797693e+308
> double.base           2
> double.digits          53
> double.rounding     5
> double.guard         0
> double.ulp.digits    -52
> double.neg.ulp.digits -53
> double.exponent      11
> double.min.exp      -1022
> double.max.exp       1024
> integer.max              2147483647
> sizeof.long               4
> sizeof.longlong         8
> sizeof.longdouble     12
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun Jun  9 14:21:24 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sun, 9 Jun 2002 22:21:24 +1000 
Subject: [R] contour plot for non-linear models
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1AD8@Roper-CV.qld.cmis.csiro.au>

The reply from Kevin should work, but you need one more prior step:

	library(nls)

or, to be a bit more fussy,

	require(nls)

You don't need this in S-PLUS, of course.

Bill Venables.

>  -----Original Message-----
> From: 	Ko-Kang Kevin Wang [mailto:Ko-Kang at xtra.co.nz] 
> Sent:	Saturday, June 08, 2002 9:08 PM
> To:	Josep Perarnau i Codina; r-help at stat.math.ethz.ch
> Subject:	Re: [R] contour plot for non-linear models
> 
> Hi,
> 
> You should be able to if you go to $R_HOME\library\MASS\scripts3\ch08.R
> and
> find the relevant codes.
> 
> But just in case, I simply copied it out from that file:
> data(stormer)
> attach(stormer)
> fm0 <- lm(Wt*Time ~ Viscosity + Time - 1,  data=stormer)
> b0 <- coef(fm0)
> names(b0) <- c("b1", "b2")
> b0
> storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data=stormer, start=b0,
>           trace=T)
> 
> bc <- coef(storm.fm)
> se <- sqrt(diag(vcov(storm.fm)))
> dv <- deviance(storm.fm)
> 
> par(pty = "s")
> b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
> b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
> bv <- expand.grid(b1, b2)
> ssq <- function(b)
>       sum((Time - b[1] * Viscosity/(Wt-b[2]))^2)
> dbetas <- apply(bv, 1, ssq)
> cc <- matrix(Time - rep(bv[,1],rep(23, 2601)) *
>       Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
> dbetas <- matrix(drop(rep(1, 23) %*% cc^2), 51)
> fstat <- matrix( ((dbetas - dv)/2) / (dv/21), 51, 51)
> qf(0.95, 2, 21)
> plot(b1, b2, type="n")
> lev <- c(1, 2, 5, 7, 10, 15, 20)
> contour(b1, b2, fstat, levels=lev, labex=0.75, lty=2, add=T)
> contour(b1, b2, fstat, levels=qf(0.95,2,21), add=T, labex=0)
> text(31.6, 0.3, labels="95% CR", adj=0, cex=0.75)
> points(bc[1], bc[2], pch=3, mkh=0.1)
> detach()
> 
> ------------------------------------------------
> Ko-Kang Kevin Wang
> Post Graduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> www.stat.auckand.ac.nz/~kwan022
> 
> ----- Original Message -----
> From: "Josep Perarnau i Codina" <josep_perarnau at coeic.org>
> To: <r-help at stat.math.ethz.ch>
> Sent: Saturday, June 08, 2002 10:33 PM
> Subject: [R] contour plot for non-linear models
> 
> 
> > Hello all,
> >
> > I've tried to reproduce the contour plot that appears in the book of
> > Venables and Ripley, at page 255. Is a F-statistic surface and a
> > confidence region for the regression parameters of a non-linear model.
> > It uses the stormer data that are in the MASS package.
> >
> > I haven't been able to reproduce the plot either in R ( version 1.5 )
> > and S.  It makes the axes and it puts the labels, but it doesn't shows
> > the contour lines.
> >
> > Could you help me resolving this problem?
> >
> > This is the code that appears in the book and I've been testing.
> >
> > > fm0 <- lm(Wt*Time ~ Viscosity + Time -1, data= stormer)
> > > b0 <- coef(fm0); names(b0) <- c("b1", "b2")
> > > storm.fm <- nls(Time ~ b1*Viscosity/(Wt-b2), data = stormer, start=b0,
> > trace = T)
> >
> > > bc <- coef(storm.fm)
> > > se <- sqrt(diag(vcov(storm.fm)))
> > > dv <- deviance(storm.fm)
> >
> > > par(pty = "s")
> > > b1 <- bc[1] + seq(-3*se[1], 3*se[1], length = 51)
> > > b2 <- bc[2] + seq(-3*se[2], 3*se[2], length = 51)
> > > bv <- expand.grid(b1,b2)
> > > ssq <- function(b)
> > + sum((Time - b[1]*Viscosity/(Wt-b[2]))^2)
> > > dbetas <- apply( bv, 1 , ssq)
> > > attach(stormer)
> > > cc <- matrix(Time - rep(bv[,1],rep(23,2601)) *
> > + Viscosity/(Wt - rep(bv[,2], rep(23, 2601))), 23)
> > > dbetas <- matrix(drop(rep(1,23) %% cc^2), 51)
> > > fstat <- matrix( ((dbetas -dv)/2) / (dv/21) , 51, 51)
> >
> > > plot(b1, b2, type = "n")
> > > lev <- c(1,2,5,7,10,15,20)
> > > contour(b1, b2, fstat, levels= lev, labex = 0.75, lty=2, add=T)
> > > contour(b1, b2, fstat, levels= qf(0.95, 2,21), add=T, labex = 0)
> > > text(31.6, 0.3, labels = "95% CR", adj= 0, cex= 0.75)
> > > points(bc[1], bc[2], pch=3, mkh=0.1)
> > > par(pty = "m")
> >
> >
> > Josep Perarnau i Codina,      josep.perarnau at upc.es
> > Universitat Polit?cnica de Catalunya
> > Facultat de Matem?tiques i Estad?stica
> > LIOS - Laboratori d'Investigaci? Operativa i Simulaci?
> > Pau Gargallo 5
> > 08028 Barcelona
> > Tel:  +34 93 4016947          Fax:  +34 93 4015855
> >
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _.
> _._
> >
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sun Jun  9 14:28:47 2002
From: ozric at web.de (C. Schulz)
Date: Sun, 9 Jun 2002 14:28:47 +0200
Subject: [R] split.data.frame & sql.Save
Message-ID: <200206091228.g59CSlX12491@mailgate5.cinetic.de>

> Hello,
> 
> how can i save the several data.frames from a list object split ?
> 
> split  <- split.data.frame(data,data$SplitVariable)
> # that's not correct !, i attempt sapply???
> for (i in 1:length(split) {
> sqlSave(channel,as.data.frame(split[i]))
> }
> 
> thanks & regards,christian
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Sun Jun  9 17:02:25 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Sun, 9 Jun 2002 08:02:25 -0700 (PDT)
Subject: [R] rw-patched destiny
Message-ID: <Pine.OSF.4.44.0206090752510.181651-100000@axe.humboldt.edu>

R-devel team--

Will the patches that Brian Ripley has posted be rolled into the main
R-win distribution on CRAN?  I ask because I'm going to be using R in one
of my ecology courses during fall semester, and although I'll probably
give the students a CD with R and a variety of other tools bundled onto
it, I'll also tell them where to upgrade and look for additional
packages and other information about R, and I hope to avoid "version
confusion" as much as possible.

On another note, I should say that over the last couple of years R has
become one of my primary tools, for which I'd like to echo the sincere
thanks that other R users occasionally post here.  Kudos!

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun  9 17:32:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jun 2002 17:32:49 +0200
Subject: [R] rw-patched destiny
In-Reply-To: <Pine.OSF.4.44.0206090752510.181651-100000@axe.humboldt.edu>
References: <Pine.OSF.4.44.0206090752510.181651-100000@axe.humboldt.edu>
Message-ID: <x2hekc8o2m.fsf@blueberry.kubism.ku.dk>

Michael Camann <mac24 at humboldt.edu> writes:

> R-devel team--
> 
> Will the patches that Brian Ripley has posted be rolled into the main
> R-win distribution on CRAN?  I ask because I'm going to be using R in one
> of my ecology courses during fall semester, and although I'll probably
> give the students a CD with R and a variety of other tools bundled onto
> it, I'll also tell them where to upgrade and look for additional
> packages and other information about R, and I hope to avoid "version
> confusion" as much as possible.

We expect to release 1.5.1 in about a week, with a new official
Windows binary shortly thereafter.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holgerschurig at gmx.de  Sun Jun  9 20:44:27 2002
From: holgerschurig at gmx.de (Holger Schurig)
Date: Sun, 9 Jun 2002 20:44:27 +0200
Subject: [R] Example in R-intro "Vector arithmetic" is wrong
Message-ID: <200206092044.27044.holgerschurig@gmx.de>

In Chapter "Vector arithmetic":

------------------
constant is simply repeated.  So with the above assignments the command

   > v <- 2*x + y + 1
------------------

yields a

> v <- 2*x + y + 1
Warning message:
longer object length
        is not a multiple of shorter object length in: 2 * x + y

This is because

> x
[1] 10.4  5.6  3.1  6.4 21.7
> y
 [1] 10.4  5.6  3.1  6.4 21.7  0.0 10.4  5.6  3.1  6.4 21.7

Because one example was "y <- c(x, 0, x).

-- 
Holger Schurig        http://home.nikocity.de/hschurig/
Gartenstr. 26         phone:  +49-6034-906230
61206 Ober-W?llstadt  mobile: +49-174-6827854

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dshilane at stanford.edu  Mon Jun 10 00:38:51 2002
From: dshilane at stanford.edu (David Alan Shilane)
Date: Sun, 9 Jun 2002 15:38:51 -0700 (PDT)
Subject: [R] Help with the 'legend' command
Message-ID: <Pine.GSO.4.44.0206091533200.13359-100000@elaine28.Stanford.EDU>

Hi-
   I'm trying to create a legend for a data plot containing four different
sets of information of case numbers over time; one set for each of the
four countries in my study.  I'm trying to create a legend that will show
the reader what type of point character I'm using for each country.  I
have the names of the four countries stored as a 4x1 vector called
"names", and their corresponding pch values are 19,20,23,25.  Here's the
part of the command that I have working so far:

legend(1980, 80000, names, .........)

In place of the ......., I'd like to insert the argument that will give it
the proper pch values for each country.  What should I do?

Thanks.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Jun 10 01:22:12 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 10 Jun 2002 11:22:12 +1200
Subject: [R] Help with the 'legend' command
References: <Pine.GSO.4.44.0206091533200.13359-100000@elaine28.Stanford.EDU>
Message-ID: <000b01c2100c$7cc914c0$af2758db@kwan022>

----- Original Message -----
From: "David Alan Shilane" <dshilane at stanford.edu>
To: <R-help at stat.math.ethz.ch>
Sent: Monday, June 10, 2002 10:38 AM
Subject: [R] Help with the 'legend' command


> Hi-
>    I'm trying to create a legend for a data plot containing four different
> sets of information of case numbers over time; one set for each of the
> four countries in my study.  I'm trying to create a legend that will show
> the reader what type of point character I'm using for each country.  I
> have the names of the four countries stored as a 4x1 vector called
> "names", and their corresponding pch values are 19,20,23,25.  Here's the
> part of the command that I have working so far:
>
> legend(1980, 80000, names, .........)
>
> In place of the ......., I'd like to insert the argument that will give it
> the proper pch values for each country.  What should I do?

Something like:
   legend(1980, 80000,
              legend = c("Country 1", "Country 2", "Country 3", "Country
4"),
              pch = c(19, 20, 23, 25))
should do...


------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Jun 10 03:46:34 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sun, 9 Jun 2002 21:46:34 -0400 (EDT)
Subject: [R] generating overdispersed poisson & negative binomial data
In-Reply-To: <NEBBJLLBCLEDFLCCBKDACECACGAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <Pine.LNX.4.44.0206092141140.1700-100000@bolker.zoo.ufl.edu>


  I think part of the reason that people use quasi-likelihoods in the 
first place is that they can't think of simple models that give them the 
desired scaling ... if you find definitions, e.g. of compounded 
or generalized distributions that give var=c*mean, I'd be interested.  In 
the meantime can you do something with compounding distributions?  
(Unfortunately the only thing that springs to mind is e.g. Poisson with 
gamma-distributed rate, which gives negative-binomial in any case, not 
constant var*mean; Poisson+log-normal rate would be slightly more 
flexible but?  if my moment-generating-functions algebra was less rusty I 
might play around with it ...)  I also might look in Johnson & Kotz, which 
I don't have with me.

On Thu, 6 Jun 2002, Mike Lonergan wrote:

> I would like to try a simple parametric bootstrap, but unfortunately
> (stupidly?) my models are "overdispersed" gams & glms.
> 
> I'm hoping for a function that generates overdispersed poisson or negative
> binomial data with a given mean, scale (& shape parameter).
> 
> The loose definition I'm using is overdispersed poisson produces integer
> values with variance=const*mean & "looks like" a poisson, & simly for
> overdispersed negative binomial - I am aware that odnb is a strange thing to
> desire.
> 
> Maybe the "integer-valued" bit of my definition is unnecessary, which would
> mean a simple scaling would suffice, but I don't know enough to decide on
> this without testing.
> 
> Thanks,
> 
> Mike.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tura at centroin.com.br  Mon Jun 10 04:06:43 2002
From: tura at centroin.com.br (Bernardo Rangel Tura)
Date: Sun, 09 Jun 2002 23:06:43 -0300
Subject: [R] R correlations.
In-Reply-To: <200206061633.03909.pols1oh@bestweb.net>
References: <20020606183903.58605.qmail@web11504.mail.yahoo.com>
 <20020606183903.58605.qmail@web11504.mail.yahoo.com>
Message-ID: <5.1.0.14.2.20020609230324.009fb0b0@centroin.com.br>

At 16:33 06/06/2002 -0400, you wrote:

Sorry, but I think have type bug in your code....

>ci1 <- var18(1-var1)/(N1)^.5   <<<---- Caution, my confidence interval on 
 ci1 <- var1*(1-var1)/(N1)^.5

and

        y <- var2+(rnorm(l2)*c2)
        y <- var2+(rnorm(l2)*ci2)


Abracos 
Bernardo Rangel Tura, MD, MSc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecoutre at stat.ucl.ac.be  Mon Jun 10 14:23:29 2002
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Mon, 10 Jun 2002 13:23:29 +0100
Subject: [R] Recursive function for lists
Message-ID: <3.0.5.32.20020610132329.00eb1928@stat4ux.stat.ucl.ac.be>



Hi to all R/S gurus,

I am developping a library to export R/S objects to HTML (there was
developments of this library past year, by myself and Mathieu Ros, but we
never finished it).

For that, I wrote HTML.* functions handled by the generic method HTML.
At this step, allmost all objects exportations are possible: matrix,
atomic, data.frame, functions and even plots... but I still don't succeed
to export generic lists.

Does it exist a function to recursively run through a list and apply a
function only to terminal nodes?
I tried to sapply my HTML.list function to a list and expected that it
recursively worked but it's not the case.

Thank you very much!

Eric Lecoutre

PS: I am ready to send my actual code to any interested person. At this
step of development, the main function does create a new prompt, so that
each command entered is evaluated both in standard output and in HTML.


?------------------------?------------------------------------------------?
| Eric Lecoutre          | Statistics                                     |
| Voie du Roman Pays, 20 | Teaching assistant / Consultant                |
| 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                 |
| Belgique               | lecoutre at stat.ucl.ac.be                        |
| (+32) (0)10 47 30 50   | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
?------------------------?------------------------------------------------?
|       We need statistical thinking, not rituals  -  Gigerenzer          |
?-------------------------------------------------------------------------?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Mon Jun 10 15:03:21 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Mon, 10 Jun 2002 15:03:21 +0200
Subject: [R] %in% in R?
Message-ID: <012601c2107f$3470e4a0$1100a8c0@ico.scs.es>

Hi,

Does anyone know if exists a similar funcion to %in% from Hmisc S-plus
library in R?

Thank you

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 10 16:02:29 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jun 2002 16:02:29 +0200
Subject: [R] %in% in R?
In-Reply-To: <012601c2107f$3470e4a0$1100a8c0@ico.scs.es>
References: <012601c2107f$3470e4a0$1100a8c0@ico.scs.es>
Message-ID: <x2k7p7teoa.fsf@blueberry.kubism.ku.dk>

"Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:

> Hi,
> 
> Does anyone know if exists a similar funcion to %in% from Hmisc S-plus
> library in R?

What does it do in Hmisc?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 10 16:09:09 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 10 Jun 2002 15:09:09 +0100 (BST)
Subject: [R] %in% in R?
In-Reply-To: <012601c2107f$3470e4a0$1100a8c0@ico.scs.es>
Message-ID: <Pine.LNX.4.31.0206101503265.3992-100000@gannet.stats>

On Mon, 10 Jun 2002, Juan Ramon Gonzalez wrote:

> Does anyone know if exists a similar funcion to %in% from Hmisc S-plus
> library in R?

As far as I know that is essentially the same as the binary operator %in%
which is part of R ... and S+6.1.

Hmisc for R is (I believe) available from Dr Harrell's site.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Mon Jun 10 16:33:11 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Mon, 10 Jun 2002 16:33:11 +0200
Subject: [R] %in% in R?
In-Reply-To: <x2k7p7teoa.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Mon, Jun 10, 2002 at 04:02:29PM +0200
References: <012601c2107f$3470e4a0$1100a8c0@ico.scs.es> <x2k7p7teoa.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020610163258.A8359@rzsrv2.rz.tu-bs.de>

On Mon, Jun 10, 2002 at 04:02:29PM +0200, Peter Dalgaard BSA wrote:
> What does it do in Hmisc?

almost the same as in "base":

> get("%in%")
function (x, table) 
match(x, table, nomatch = 0) > 0
> library(Hmisc)
*** output flushed ***
> get("%in%")
function (a, b) 
{
    if (is.factor(a) & is.numeric(b)) {
        warning("a is factor, b is numeric.  Assuming b is coded factor values")
        a <- oldUnclass(a)
    }
    else if (is.numeric(a) && is.factor(b)) {
        warning("a is numeric, b is factor.  Assuming a is coded factor values")
        b <- oldUnclass(b)
    }
    match(a, b, nomatch = 0) > 0
}
> oldUnclass
.Primitive("unclass")


PM
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jun 10 16:39:09 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 10 Jun 2002 10:39:09 -0400
Subject: [R] R's RNG produced garbage when called from f77 (Irix)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC33B@usrymx10.merck.com>

Dear R-help,

I've managed to crash R on Irix when I called a Fortran subroutine that
calls R's random number generator, as described in Section 5.6 of the R-exts
manual.  (It does say in that section that this is not guaranteed to be
portable...)  (Well, R doesn't crash when calling the RNG.  It crashed when
the random number generated isn't inside the unit interval.)

Can anyone explain why the RNG doesn't return values within (0, 1), or, even
better, how to get around this problem?  I'll be very, very grateful!

BTW, this might be the reason why my randomForest package fail to run on
some systems...

The system is:

Version:
 platform = mips-sgi-irix6.5
 arch = mips
 os = irix6.5
 system = mips, irix6.5
 status =
 major = 1
 minor = 5.0
 year = 2002
 month = 04
 day = 29
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jun 10 18:13:04 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 10 Jun 2002 12:13:04 -0400
Subject: [R] R's RNG produced garbage when called from f77 (Irix)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC340@usrymx10.merck.com>

OK, I seemed to have solve the problem.  As also pointed out in the same
section of the R-exts manual, "Passing values via argument is safer."  I
just change the C function from double with no argument to void with double
* (and changed the Fortran calls from function to subroutine).  Now it seems
to run fine.  Sorry to bother everyone.

Cheers,
Andy

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Monday, June 10, 2002 10:39 AM
> To: 'r-help at stat.math.ethz.ch'
> Subject: [R] R's RNG produced garbage when called from f77 (Irix)
> 
> 
> Dear R-help,
> 
> I've managed to crash R on Irix when I called a Fortran 
> subroutine that
> calls R's random number generator, as described in Section 
> 5.6 of the R-exts
> manual.  (It does say in that section that this is not 
> guaranteed to be
> portable...)  (Well, R doesn't crash when calling the RNG.  
> It crashed when
> the random number generated isn't inside the unit interval.)
> 
> Can anyone explain why the RNG doesn't return values within 
> (0, 1), or, even
> better, how to get around this problem?  I'll be very, very grateful!
> 
> BTW, this might be the reason why my randomForest package 
> fail to run on
> some systems...
> 
> The system is:
> 
> Version:
>  platform = mips-sgi-irix6.5
>  arch = mips
>  os = irix6.5
>  system = mips, irix6.5
>  status =
>  major = 1
>  minor = 5.0
>  year = 2002
>  month = 04
>  day = 29
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
> 
> Cheers,
> Andy
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message. If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
> --------------------------------------------------------------
> ----------------
> Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MASONW1 at WESTAT.com  Mon Jun 10 20:00:36 2002
From: MASONW1 at WESTAT.com (Warren Mason)
Date: Mon, 10 Jun 2002 14:00:36 -0400
Subject: [R] Automating R with DDE, OLE or COM
Message-ID: <9B425F151083D311A218009027B00EA603E659B3@remailnt1-re01.westat.com>

Is it possible to automate R via DDE, OLE or COM?  Obviously this relates to
R running under Windows.  And, before anybody jumps all over me, I know that
OLE and COM are basically the same thing.

Thanks,

Warren Mason
Westat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agf2 at pitt.edu  Mon Jun 10 21:13:10 2002
From: agf2 at pitt.edu (Antonio Pacheco)
Date: Mon, 10 Jun 2002 12:13:10 -0700
Subject: [R] XML to Dataframe
Message-ID: <3D04FA46.70350B0F@pitt.edu>

Hello all,

Is there a function to convert data stored as a .xml file to a data
frame in R?

Thank you in advance

Antonio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Jun 10 21:34:44 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 11 Jun 2002 07:34:44 +1200
Subject: [R] Automating R with DDE, OLE or COM
In-Reply-To: <9B425F151083D311A218009027B00EA603E659B3@remailnt1-re01.westat.com>; from MASONW1@WESTAT.com on Mon, Jun 10, 2002 at 02:00:36PM -0400
References: <9B425F151083D311A218009027B00EA603E659B3@remailnt1-re01.westat.com>
Message-ID: <20020611073444.A29172@camille.indigoindustrial.co.nz>

On Mon, Jun 10, 2002 at 02:00:36PM -0400, Warren Mason wrote:
> Is it possible to automate R via DDE, OLE or COM?  Obviously this relates to
> R running under Windows.  And, before anybody jumps all over me, I know that
> OLE and COM are basically the same thing.
> 

http://cran.r-project.org/contrib/extra/dcom/

Not yet a finished, production-release product, but should point you in 
the right direction.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Tue Jun 11 00:32:22 2002
From: ozric at web.de (christian)
Date: Tue, 11 Jun 2002 00:32:22 +0200
Subject: [R] XML to Dataframe
Message-ID: <E17HXcV-0002Xj-00@smtp.web.de>

Look at the package XML it is sure possible
to program something, but another recommendation (sorry ... ) 
and hard to believe come's from microsoft  & is for free !

http://research.microsoft.com/~dmax/WinMine/tooldoc.htm
...here you find a file data-converter what i.e. export *.raw data 
in xml with several options. Further there is a interesting 
Bayesian Network Tool.

regards,Christian


Am 10.06.2002 21:13:10, schrieb Antonio Pacheco <agf2 at pitt.edu>:

>Hello all,
>
>Is there a function to convert data stored as a .xml file to a data
>frame in R?
>
>Thank you in advance
>
>Antonio
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jun 11 02:12:58 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 10 Jun 2002 20:12:58 -0400
Subject: [R] significance tests with gee?
Message-ID: <20020610201258.A10986@cattell.psych.upenn.edu>

Any hints on how to do a significance test using gee?  Is the
"robust z" the thing to use?

There is apparently another implementation of gee called yags
(http://www.biostat.harvard.edu/~carey), but I can't figure out
how to install it.  I think it does significance tests.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Jun 11 04:38:29 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 10 Jun 2002 22:38:29 -0400
Subject: [R] XML to Dataframe
In-Reply-To: <E17HXcV-0002Xj-00@smtp.web.de>; from ozric@web.de on Tue, Jun 11, 2002 at 12:32:22AM +0200
References: <E17HXcV-0002Xj-00@smtp.web.de>
Message-ID: <20020610223829.B29010@jessie.research.bell-labs.com>

The XML package allows one to read XML files from R and to customize
the input to desired input files. But there is no general way to read
XML and convert it to a specific data format. This is because XML
really is an eXtensible language and can be used to markup arbitrary
content. If you can tell us how the .xml file was generated and its
its general structure, it is possible that there are or we can create
handlers for a general format. 

D.


christian wrote:
> Look at the package XML it is sure possible
> to program something, but another recommendation (sorry ... ) 
> and hard to believe come's from microsoft  & is for free !
> 
> http://research.microsoft.com/~dmax/WinMine/tooldoc.htm
> ...here you find a file data-converter what i.e. export *.raw data 
> in xml with several options. Further there is a interesting 
> Bayesian Network Tool.
> 
> regards,Christian
> 
> 
> Am 10.06.2002 21:13:10, schrieb Antonio Pacheco <agf2 at pitt.edu>:
> 
> >Hello all,
> >
> >Is there a function to convert data stored as a .xml file to a data
> >frame in R?
> >
> >Thank you in advance
> >
> >Antonio
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Tue Jun 11 10:58:32 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Tue, 11 Jun 2002 10:58:32 +0200
Subject: [R] ATLAS & R unser Windows
Message-ID: <MABBLJDICACNFOLGIHJOIEBMCMAA.philippe.grosjean@ifremer.fr>

Hi,

In rw-FAQ, there is a paragraph about optimizing R by using a fast ATLAS
library in place of the standard BLAS. It says: "BLAS support is supplied by
the single DLL `R_HOME\bin\Rblas.dll', and
you can add a fast BLAS just by replacing that." Do I need to recompile the
whole R with the option `USE_ATLAS = YES', or is it possible to compile only
Rblas.dll on each separate computer (with different processors)?
Thanks,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Tue Jun 11 10:58:32 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Tue, 11 Jun 2002 10:58:32 +0200
Subject: [R] How to convert R help files to Splus 6 Help?
Message-ID: <MABBLJDICACNFOLGIHJOKEBMCMAA.philippe.grosjean@ifremer.fr>

Hi,

Is it any way to convert .Rd files to CHTML Splus 6 files under Windows?
Thanks,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 11 11:32:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Jun 2002 10:32:11 +0100 (BST)
Subject: [R] ATLAS & R unser Windows
In-Reply-To: <MABBLJDICACNFOLGIHJOIEBMCMAA.philippe.grosjean@ifremer.fr>
Message-ID: <Pine.LNX.4.31.0206111029560.5498-100000@gannet.stats>

On Tue, 11 Jun 2002, Philippe Grosjean wrote:

> In rw-FAQ, there is a paragraph about optimizing R by using a fast ATLAS
> library in place of the standard BLAS. It says: "BLAS support is supplied by
> the single DLL `R_HOME\bin\Rblas.dll', and
> you can add a fast BLAS just by replacing that." Do I need to recompile the
> whole R with the option `USE_ATLAS = YES', or is it possible to compile only
> Rblas.dll on each separate computer (with different processors)?

The latter.  And it says so in the INSTALL file, giving make commands to
do so.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 11 11:37:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Jun 2002 10:37:34 +0100 (BST)
Subject: [R] How to convert R help files to Splus 6 Help?
In-Reply-To: <MABBLJDICACNFOLGIHJOKEBMCMAA.philippe.grosjean@ifremer.fr>
Message-ID: <Pine.LNX.4.31.0206111032260.5498-100000@gannet.stats>

On Tue, 11 Jun 2002, Philippe Grosjean wrote:

> Is it any way to convert .Rd files to CHTML Splus 6 files under Windows?

Yes.  Rdconv -t Ssgm produces S .sgml files, and my S2html script converts
those to suitable CHTML files, as described in the S Programming
complements at http://www.stats.ox.ac.uk/pub/MASS3/Sprog/

I've done this several times (and indeed added -t Ssgm for this purpose).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregor.gawron at rmf.ch  Tue Jun 11 12:40:35 2002
From: gregor.gawron at rmf.ch (Gregor Gawron)
Date: Tue, 11 Jun 2002 12:40:35 +0200
Subject: [R] Different y-axes
Message-ID: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>

Hi All,

I have checked everything I could find abot graphics, but still cannot
solve the problem.
Are there any ways to make a graph that plots two lines and two
different y-axes, each of them has a scale that is related to the
respective line. For example, y1 has a range 1:50 and y1 ranges 0:1. The
x-axe is the same for both.

Thank you in advance.

---
Gregor Gawron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jun 11 13:39:26 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 11 Jun 2002 07:39:26 -0400
Subject: [R] Different y-axes
In-Reply-To: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>; from gregor.gawron@rmf.ch on Tue, Jun 11, 2002 at 12:40:35PM +0200
References: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
Message-ID: <20020611073926.A4614@cattell.psych.upenn.edu>

On 06/11/02 12:40, Gregor Gawron wrote:
>Are there any ways to make a graph that plots two lines and two
>different y-axes, each of them has a scale that is related to the
>respective line. For example, y1 has a range 1:50 and y1 ranges 0:1. The
>x-axe is the same for both.

I haven't tried this, but how about plotting y1 against x as
usual, then plot y2 (I assume) against x using points() or
lines(), with a suitable choice of ylim, such as ylim=c(0,1), and
then add the axis using axis().

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Tue Jun 11 14:39:10 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Tue, 11 Jun 2002 14:39:10 +0200
Subject: [R] show messages during a long process
Message-ID: <006b01c21144$fbe91500$1100a8c0@ico.scs.es>

Hi,

I have a function which takes some time to execute (20 sec.) and I want to
show the progress of the execution with simple messages such as "10% done",
"20% done", ... (with a simple "cat" function). The problem is that all the
messages appear together when the execution of the function is over. How can
I show each message at their corresponding time?

Thanks,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agf2 at pitt.edu  Tue Jun 11 18:55:18 2002
From: agf2 at pitt.edu (Antonio Pacheco)
Date: Tue, 11 Jun 2002 09:55:18 -0700
Subject: [R] XML to Dataframe
References: <E17HXcV-0002Xj-00@smtp.web.de> <20020610223829.B29010@jessie.research.bell-labs.com>
Message-ID: <3D062B76.41678142@pitt.edu>

Dear all,

Thank you very much for your quick replies. Actually I have seen both the XML library
and the omegahat website, but I couldn't find such a function. Since I'm still
learning how XML works, the example I have is the one included in the XML package,
"mtcars.xml". But I just wanted to know if such a function already existed, so I
wouldn't have to reinvent the wheel, writing a fuction for something that already
exists.

Thanks again

Antonio

Duncan Temple Lang wrote:

> The XML package allows one to read XML files from R and to customize
> the input to desired input files. But there is no general way to read
> XML and convert it to a specific data format. This is because XML
> really is an eXtensible language and can be used to markup arbitrary
> content. If you can tell us how the .xml file was generated and its
> its general structure, it is possible that there are or we can create
> handlers for a general format.
>
> D.
>
> christian wrote:
> > Look at the package XML it is sure possible
> > to program something, but another recommendation (sorry ... )
> > and hard to believe come's from microsoft  & is for free !
> >
> > http://research.microsoft.com/~dmax/WinMine/tooldoc.htm
> > ...here you find a file data-converter what i.e. export *.raw data
> > in xml with several options. Further there is a interesting
> > Bayesian Network Tool.
> >
> > regards,Christian
> >
> >
> > Am 10.06.2002 21:13:10, schrieb Antonio Pacheco <agf2 at pitt.edu>:
> >
> > >Hello all,
> > >
> > >Is there a function to convert data stored as a .xml file to a data
> > >frame in R?
> > >
> > >Thank you in advance
> > >
> > >Antonio
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> _______________________________________________________________
>
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070
>          http://cm.bell-labs.com/stat/duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 11 14:58:08 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 2002 14:58:08 +0200
Subject: [R] show messages during a long process
In-Reply-To: <006b01c21144$fbe91500$1100a8c0@ico.scs.es>
References: <006b01c21144$fbe91500$1100a8c0@ico.scs.es>
Message-ID: <x2it4q2crj.fsf@blueberry.kubism.ku.dk>

"Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:

> Hi,
> 
> I have a function which takes some time to execute (20 sec.) and I want to
> show the progress of the execution with simple messages such as "10% done",
> "20% done", ... (with a simple "cat" function). The problem is that all the
> messages appear together when the execution of the function is over. How can
> I show each message at their corresponding time?

On Windows? Disable "buffered output" via the menus.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Tue Jun 11 15:08:09 2002
From: jday at csihq.com (John Day)
Date: Tue, 11 Jun 2002 09:08:09 -0400
Subject: [R] S or R used in natural language processing (NLP)?
In-Reply-To: <4.3.2.7.0.20020608214555.025ea2c0@mail.csihq.com>
Message-ID: <4.3.2.7.0.20020611090413.02a739f0@mail.csihq.com>

Well, I'm answering my own question to report that there was no response. I 
also posed the same question on the S-News list and received one 
response:  David Smith pointed me to the EMU link on the S-Plus links page: 
http://www.insightful.com/support/links.asp. EMU is a speech data-base for 
storing and analyzing speech waveforms, not really what I was looking for.

Maybe I should have explained in a bit more detail that I am interested in 
the statistical approach to natural language processing for problems like 
text categorization, word sense disambiguation (WSD), text understanding. 
The practitioners in these areas currently use languages like C, Perl, Java 
and tools like MATLAB. Seems like S/R would be a natural here, maybe 
combined with a language like Perl to do the front end parsing and pattern 
matching. (or is S/R capable of matching Perl's abilities?)

I am just learning S/R, so this perhaps an incentive to contribute to this 
area.

Thanks,
John Day
http:/www.csihq.com/~jday

At 09:52 PM 6/8/02 -0400, I wrote:
>Dear All,
>
>Does anyone use S or R for statistical natural language processing (NLP)?
>
>All I have found so far is  a package called EMU 
>(http://www.shlrc.mq.edu.au/emu/emu-splus.shtml) which is a speech 
>wave-form processing package.
>
>What I'm looking for are routines to support text processing, text 
>categorization, word sense disambiguation, text understanding etc.
>
>In particular, I would like to find a routine in R to perform "maximum 
>entropy" classification.
>
>(Ref: Nigam,Lafferty,McCallum, "Using Maximum Entropy for Text 
>Classification", http://citeseer.nj.nec.com/nigam99using.html)
>
>Thanks,
>
>John Day
>PhD Candidate
>Florida Tech
>Melbourne, FL
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue Jun 11 15:46:58 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 11 Jun 2002 08:46:58 -0500
Subject: [R] Machine accurancy.
References: <Pine.LNX.4.31.0206091237370.1205-100000@gannet.stats>
Message-ID: <3D05FF52.7030705@perseus.unalmed.edu.co>

>
>
>
>Why do you want to do this?  R's precision is quite sufficient for almost
>all scientific purposes, if used correctly.
>
integer.max              2147483647


I just want to use a bigger integer limit number for specific integer 
process.

Thank you!

Kenneth



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Tue Jun 11 15:48:38 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 11 Jun 2002 06:48:38 -0700
Subject: [R] Different y-axes
In-Reply-To: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
References: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
Message-ID: <p05111709b92bb0126972@[128.115.153.6]>

Here is an example:

x <- 1:5
y1 <- 1:5
y2 <- 25:21
plot(x,y1)
par(new=T)
plot(x,y2,yaxt='n',col='blue')
axis(4,y2)

-Don

At 12:40 PM +0200 6/11/02, Gregor Gawron wrote:
>Hi All,
>
>I have checked everything I could find abot graphics, but still cannot
>solve the problem.
>Are there any ways to make a graph that plots two lines and two
>different y-axes, each of them has a scale that is related to the
>respective line. For example, y1 has a range 1:50 and y1 ranges 0:1. The
>x-axe is the same for both.
>
>Thank you in advance.
>
>---
>Gregor Gawron
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Jun 11 15:31:04 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 11 Jun 2002 14:31:04 +0100
Subject: [R] Different y-axes
In-Reply-To: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
References: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
Message-ID: <ADSY4SAYufB9Ew0D@myatt.demon.co.uk>

Gregor Gawron <gregor.gawron at rmf.ch> writes:
>Hi All,
>
>I have checked everything I could find abot graphics, but still cannot
>solve the problem.
>Are there any ways to make a graph that plots two lines and two
>different y-axes, each of them has a scale that is related to the
>respective line. For example, y1 has a range 1:50 and y1 ranges 0:1. The
>x-axe is the same for both.

I have something on this in my R notes:

        http://www.myatt.demon.co.uk

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jun 11 16:18:23 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 11 Jun 2002 16:18:23 +0200
Subject: [R] show messages during a long process
In-Reply-To: <006b01c21144$fbe91500$1100a8c0@ico.scs.es>; from jrgonzalez@ico.scs.es on Tue, Jun 11, 2002 at 02:39:10PM +0200
References: <006b01c21144$fbe91500$1100a8c0@ico.scs.es>
Message-ID: <20020611161823.A32229@giraffa.cbs.dtu.dk>

This would work under UNIX when running R on the command line.
I think the Rgui terminal is buffered...
the gurus out there might know a trick to flush it on request... 




On Tue, Jun 11, 2002 at 02:39:10PM +0200, Juan Ramon Gonzalez wrote:
> Hi,
> 
> I have a function which takes some time to execute (20 sec.) and I want to
> show the progress of the execution with simple messages such as "10% done",
> "20% done", ... (with a simple "cat" function). The problem is that all the
> messages appear together when the execution of the function is over. How can
> I show each message at their corresponding time?
> 
> Thanks,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Jun 11 17:20:34 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 11 Jun 2002 11:20:34 -0400
Subject: [R] XML to Dataframe
In-Reply-To: <3D062B76.41678142@pitt.edu>; from agf2@pitt.edu on Tue, Jun 11, 2002 at 09:55:18AM -0700
References: <E17HXcV-0002Xj-00@smtp.web.de> <20020610223829.B29010@jessie.research.bell-labs.com> <3D062B76.41678142@pitt.edu>
Message-ID: <20020611112033.A28757@jessie.research.bell-labs.com>

Antonio Pacheco wrote:
> Dear all,
> 
> Thank you very much for your quick replies. Actually I have seen both the XML library
> and the omegahat website, but I couldn't find such a function. Since I'm still
> learning how XML works, the example I have is the one included in the XML package,
> "mtcars.xml". But I just wanted to know if such a function already existed, so I
> wouldn't have to reinvent the wheel, writing a fuction for something that already
> exists.


Take a look at the examples/ directory in the XML package.
There should be two files named
 dataFrameEvent.R
 enhancedDataFrame.R

You can use either of them with the commands:
 source(system.file("examples", "dataFrameEvent.R", package = "XML"))
 z <-  xmlEventParse("filename", handler())
 z$data()

(changing the name of the .R file as appropriate).

These are two SAX or event based parsers that you can use to read the
mtcars.xml.  I don't appear to have provided an example using
xmlTreeParse(), but that would be less efficient and is simpler.  The
StatDataML package may provide some useful examples.

filterDataFrameEvent.R and valueFilterDataFrameEvent.R provide yet
further variants on the SAX-approach.


> 
> Thanks again
> 
> Antonio
> 
> Duncan Temple Lang wrote:
> 
> > The XML package allows one to read XML files from R and to customize
> > the input to desired input files. But there is no general way to read
> > XML and convert it to a specific data format. This is because XML
> > really is an eXtensible language and can be used to markup arbitrary
> > content. If you can tell us how the .xml file was generated and its
> > its general structure, it is possible that there are or we can create
> > handlers for a general format.
> >
> > D.
> >
> > christian wrote:
> > > Look at the package XML it is sure possible
> > > to program something, but another recommendation (sorry ... )
> > > and hard to believe come's from microsoft  & is for free !
> > >
> > > http://research.microsoft.com/~dmax/WinMine/tooldoc.htm
> > > ...here you find a file data-converter what i.e. export *.raw data
> > > in xml with several options. Further there is a interesting
> > > Bayesian Network Tool.
> > >
> > > regards,Christian
> > >
> > >
> > > Am 10.06.2002 21:13:10, schrieb Antonio Pacheco <agf2 at pitt.edu>:
> > >
> > > >Hello all,
> > > >
> > > >Is there a function to convert data stored as a .xml file to a data
> > > >frame in R?
> > > >
> > > >Thank you in advance
> > > >
> > > >Antonio
> > > >
> > > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > >Send "info", "help", or "[un]subscribe"
> > > >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > >
> > >
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > --
> > _______________________________________________________________
> >
> > Duncan Temple Lang                duncan at research.bell-labs.com
> > Bell Labs, Lucent Technologies    office: (908)582-3217
> > 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> > Murray Hill, NJ  07974-2070
> >          http://cm.bell-labs.com/stat/duncan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 11 17:32:24 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jun 2002 17:32:24 +0200
Subject: [R] Machine accurancy.
In-Reply-To: <3D05FF52.7030705@perseus.unalmed.edu.co>
References: <Pine.LNX.4.31.0206091237370.1205-100000@gannet.stats>
	<3D05FF52.7030705@perseus.unalmed.edu.co>
Message-ID: <x2adq13k6v.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

> >Why do you want to do this?  R's precision is quite sufficient for almost
> >all scientific purposes, if used correctly.
> >
> integer.max              2147483647
> 
> 
> I just want to use a bigger integer limit number for specific integer
> process.

Actually, FPUs handle integers up to the mantissa size exactly, at
least on Intel, so you can store integers up to 9007199254740992
(==2^53) just by keeping them in double variables.

You'll have to keep track of overflow and truncation issues yourself
though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Jun 11 17:32:52 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 11 Jun 2002 11:32:52 -0400
Subject: [R] Recursive function for lists
In-Reply-To: <3.0.5.32.20020610132329.00eb1928@stat4ux.stat.ucl.ac.be>
Message-ID: <5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>

Dear Eric,

At 01:23 PM 6/10/2002 +0100, Eric Lecoutre wrote:

>Does it exist a function to recursively run through a list and apply a
>function only to terminal nodes?
>I tried to sapply my HTML.list function to a list and expected that it
>recursively worked but it's not the case.

I have the feeling that I'm reinventing the wheel -- I think that I recall 
a simple way to flatten a list but I can't find it (or I may just be having 
a Lisp flashback), and I don't think that anyone else has posted an answer 
to your question.

In any event, here's a simple-minded function that flattens a list, along 
with an example of its use.

     > flatten <- function(x){
     +     result <- NULL
     +     for(i in seq(along=x)) {
     +         if (any(sapply(x[[i]], is.list))) Recall(x[[i]])
     +         else result <- c(result, if (is.list(x[[i]])) x[[i]] else 
list(x[[i]]))
     +         }
     +     return(result)
     +     }
     >
     > lst <- list(lst1=list(a=1:3, b=4:6), lst2=list(c=7:9, d=10:12), e=13:15)
     > flat <- flatten(lst)
     > flat
     $a
     [1] 1 2 3

     $b
     [1] 4 5 6

     $c
     [1] 7 8 9

     $d
     [1] 10 11 12

     [[5]]
     [1] 13 14 15

     > sapply(flat, sum)
     a  b  c  d
     6 15 24 33 42

Maybe this will help.
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Tue Jun 11 17:13:40 2002
From: jday at csihq.com (John Day)
Date: Tue, 11 Jun 2002 11:13:40 -0400
Subject: [R] Perl vs. R
Message-ID: <4.3.2.7.0.20020611105318.02a745a0@mail.csihq.com>

Dear All,

I am being told that R can process text files and strings as well as Perl 
(and is certainly more elegant).

Being an R neophyte I need a little boost to get started. I have a little 
benchmark program in Perl that reads a delimited file, creates an inverted 
table and spits the file out again in key sorted order.

It's just a few lines of Perl (see below). Can someone write the equivalent 
in R? The benchmark and associated files are available from: 
http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/

You'll note on this page that Perl runs the benchmark in 3.5 secs. That was 
in 1997. My 5.6.1 version of Perl runs it in 0.18 secs now, on my 600Mhz 
Linux platform. Wondering how fast R will be in comparison.

Thanks,
John Day

FYI, here's the Perl source:

#!/local/bin/perl
# invert benchmark in Perl
# see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
# Keith Waclena <k-waclena at uchicago.edu>

while (<STDIN>) {
     chop;
     ($a, $b) = split(/\t/);
     $B{$b} .= "\t$a";       # gotta lose leading tab later...
}

foreach $b (sort keys %B) {
     # lose the leading tab with substr...
     print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 1)))) . "\n";
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue Jun 11 17:58:14 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 11 Jun 2002 10:58:14 -0500
Subject: [R] show messages during a long process
Message-ID: <OF86398589.6845CB6B-ON86256BD5.00579926@mmm.com>


In Rgui you can use flush.console().

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


|---------+----------------------------->
|         |           Laurent Gautier   |
|         |           <laurent at cbs.dtu.d|
|         |           k>                |
|         |                             |
|         |           06/11/2002 09:18  |
|         |                             |
|---------+----------------------------->
  >-----------------------------------------------------------------------------------------------------------------------------|
  |                                                                                                                             |
  |      To:       Juan Ramon Gonzalez <jrgonzalez at ico.scs.es>                                                                  |
  |      cc:       r-help at stat.math.ethz.ch                                                                                     |
  |        (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                                        |
  |      Subject:  Re: [R] show messages during a long process                                                                  |
  >-----------------------------------------------------------------------------------------------------------------------------|





This would work under UNIX when running R on the command line.
I think the Rgui terminal is buffered...
the gurus out there might know a trick to flush it on request...




On Tue, Jun 11, 2002 at 02:39:10PM +0200, Juan Ramon Gonzalez wrote:
> Hi,
>
> I have a function which takes some time to execute (20 sec.) and I want
to
> show the progress of the execution with simple messages such as "10%
done",
> "20% done", ... (with a simple "cat" function). The problem is that all
the
> messages appear together when the execution of the function is over. How
can
> I show each message at their corresponding time?
>
> Thanks,
>
> Juan
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 11 18:05:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Jun 2002 09:05:49 -0700 (PDT)
Subject: [R] significance tests with gee?
In-Reply-To: <20020610201258.A10986@cattell.psych.upenn.edu>
Message-ID: <Pine.A41.4.44.0206110901310.183398-100000@homer06.u.washington.edu>

On Mon, 10 Jun 2002, Jonathan Baron wrote:

> Any hints on how to do a significance test using gee?  Is the
> "robust z" the thing to use?

Yes. Typically.

The "robust Z" is a Wald test done with standard error estimates that are
(in large samples) accurate if the systematic part of the regression is
correctly specified and conservative otherwise.

The other Z test uses the working weight matrix as if it were the real
correlation, which is typically a bad idea (and in my opinion missing the
point of GEE).

However, with small numbers of independent groups the robust standard
errors are biased down. I'm happy with 40 groups and get really nervous
below about 20.  In this case you might do better by trying to pick a
working correlation structure that's close to the true correlation (or by
using some other technique entirely).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jun 11 18:14:25 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 11 Jun 2002 11:14:25 -0500
Subject: [R] Perl vs. R
In-Reply-To: <4.3.2.7.0.20020611105318.02a745a0@mail.csihq.com>
References: <4.3.2.7.0.20020611105318.02a745a0@mail.csihq.com>
Message-ID: <6rk7p57py6.fsf@franz.stat.wisc.edu>

John Day <jday at csihq.com> writes:

> I am being told that R can process text files and strings as well as
> Perl (and is certainly more elegant).

"as well as" is in the eye of the beholder.  Perl is very highly tuned
to manipulating text files.  One story of how the name perl came about
is as an acronym for "Practical Extraction and Report Language".

R is an environment for statistical computing and graphics.  Although
there are pattern matching and text substitution functions in R, it is
not well suited to writing "one-off" text transformation programs.
You will find that starting R probably takes longer than the execution
of the perl program.

Rather than trying to take a simple benchmark and see how R performs
on it, it would be better to learn about the language and see if it
fulfills a real need for you.  I would suggest starting with Venables
and Ripley's "Modern Applied Statistics with S-PLUS (3rd ed)" or the
eagerly-awaited fourth edition of that book slated for publication
this summer.

Having said all this, I believe your perl program can be coded in R as
something like

  df <- read.table('infile', header = FALSE, sep = '\t', col = c('a', 'b'))
  write.table('outfile', df[order(df$b), c('b', 'a')])

although I think it would be better for you to describe what the task
is rather than providing perl code to accomplish the task.  I long ago
gave up reading other people's perl code and trying to make sense of
it.  (In the Python community there is a saying that "Hell is reading
other people's Perl code".)

> Being an R neophyte I need a little boost to get started. I have a
> little benchmark program in Perl that reads a delimited file, creates
> an inverted table and spits the file out again in key sorted order.
> 
> 
> It's just a few lines of Perl (see below). Can someone write the
> equivalent in R? The benchmark and associated files are available
> from: http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> 
> 
> You'll note on this page that Perl runs the benchmark in 3.5
> secs. That was in 1997. My 5.6.1 version of Perl runs it in 0.18 secs
> now, on my 600Mhz Linux platform. Wondering how fast R will be in
> comparison.
> 
> 
> Thanks,
> John Day
> 
> FYI, here's the Perl source:
> 
> #!/local/bin/perl
> # invert benchmark in Perl
> # see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> # Keith Waclena <k-waclena at uchicago.edu>
> 
> while (<STDIN>) {
>      chop;
>      ($a, $b) = split(/\t/);
>      $B{$b} .= "\t$a";       # gotta lose leading tab later...
> }
> 
> foreach $b (sort keys %B) {
>      # lose the leading tab with substr...
>      print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 1)))) . "\n";
> }
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 11 18:17:44 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Jun 2002 09:17:44 -0700 (PDT)
Subject: [R] Recursive function for lists
In-Reply-To: <5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.A41.4.44.0206110914320.183398-100000@homer06.u.washington.edu>

On Tue, 11 Jun 2002, John Fox wrote:

> Dear Eric,
>
> At 01:23 PM 6/10/2002 +0100, Eric Lecoutre wrote:
>
> >Does it exist a function to recursively run through a list and apply a
> >function only to terminal nodes?
> >I tried to sapply my HTML.list function to a list and expected that it
> >recursively worked but it's not the case.
>
> I have the feeling that I'm reinventing the wheel -- I think that I recall
> a simple way to flatten a list but I can't find it (or I may just be having
> a Lisp flashback), and I don't think that anyone else has posted an answer
> to your question.
>

If you don't want to flatten the list you need something like

treeapply<-function (x, FUN)
{
    if (is.atomic(x))
        FUN(x)
    else lapply(x, function(n) treeapply(n, FUN))
}

This is less general and much slower than lapply, but could easily be
improved. For a start it won't work for very deep trees as it has multiple
nested function calls per level.

The XML package has an internal function for doing this to XML structures,
and I think there might be one somewhere in bioconductor.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun 11 18:34:32 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 11 Jun 2002 18:34:32 +0200
Subject: [R] Recursive function for lists
In-Reply-To: <5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>
References: <3.0.5.32.20020610132329.00eb1928@stat4ux.stat.ucl.ac.be>
	<5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>
Message-ID: <15622.9880.470219.486942@gargle.gargle.HOWL>

>>>>> "John" == John Fox <jfox at mcmaster.ca> writes:

    John> Dear Eric, At 01:23 PM 6/10/2002 +0100, Eric Lecoutre
    John> wrote:

    >> Does it exist a function to recursively run through a
    >> list and apply a function only to terminal nodes?  I
    >> tried to sapply my HTML.list function to a list and
    >> expected that it recursively worked but it's not the
    >> case.

    John> I have the feeling that I'm reinventing the wheel -- I
    John> think that I recall a simple way to flatten a list but
    John> I can't find it (or I may just be having a Lisp
    John> flashback), and I don't think that anyone else has
    John> posted an answer to your question.

unlist() is probably what you can't recall.
It is a bit different than your  flatten()  though :

> lst <- list(lst1=list(a=1:3, b=4:6), lst2=list(c=7:9, d=10:12), e=13:15) 

> str(ul <- unlist(lst, recursive=FALSE))
List of 7
 $ lst1.a: int [1:3] 1 2 3
 $ lst1.b: int [1:3] 4 5 6
 $ lst2.c: int [1:3] 7 8 9
 $ lst2.d: int [1:3] 10 11 12
 $ e1    : int 13
 $ e2    : int 14
 $ e3    : int 15


    John> In any event, here's a simple-minded function that
    John> flattens a list, along with an example of its use.

>> > flatten <- function(x){
>> +     result <- NULL
>> +     for(i in seq(along=x)) {
>> +         if (any(sapply(x[[i]], is.list))) Recall(x[[i]])
>> +         else result <- 
>> +	       	    c(result, if (is.list(x[[i]])) x[[i]] else list(x[[i]]))
>> +         }
>> +     return(result)
>> +     }
>> >
>> > lst <- list(lst1=list(a=1:3, b=4:6), lst2=list(c=7:9, d=10:12), e=13:15)
>> > flat <- flatten(lst)
>> > flat
>> $a
>> [1] 1 2 3
>>
>> $b
>> [1] 4 5 6
>>
>> $c
>> [1] 7 8 9
>>
>> $d
>> [1] 10 11 12
>>
>> [[5]]
>> [1] 13 14 15
>>
>> > sapply(flat, sum)
>> a  b  c  d
>> 6 15 24 33 42

>> Maybe this will help.
>>   John
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 11 18:40:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Jun 2002 17:40:22 +0100 (BST)
Subject: [R] Machine accurancy.
In-Reply-To: <3D05FF52.7030705@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0206111739530.6304-100000@gannet.stats>

On Tue, 11 Jun 2002, Kenneth Cabrera wrote:

> >
> >
> >
> >Why do you want to do this?  R's precision is quite sufficient for almost
> >all scientific purposes, if used correctly.
> >
> integer.max              2147483647
>
>
> I just want to use a bigger integer limit number for specific integer
> process.

Use doubles: they represent much larger integers exactly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Tue Jun 11 19:00:37 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 11 Jun 2002 10:00:37 -0700
Subject: [R] Puzzled by what Rprof is telling me
Message-ID: <p0511170cb92bcd5c46d0@[128.115.153.6]>

I am using Rprof() to help find ways to improve performance.

I found a function whose total seconds and self seconds were large. I 
replaced it with something else. The something else had a small 
number of total seconds and self seconds. But the total time did not 
decrease.

I don't understand how that could be, and would appreciate any suggestions.

Thanks
-Don


Details, unfortunately lengthy, are here:

The snippet of code I'm profiling is given below. 'inmat' is a 
numeric matrix with 128347 rows; I need to apply a function, sfun(), 
to each of 4191 subsets of rows, indexed by indat$grpi. sfun() is 
fairly complex, and requires information from all of the columns of 
inmat, so simple uses of, for example, aggregate() don't do the job.

Rprof('Rpf3n')
for (i in unique(indat$grpi)) {
  ssnew[i,] <- sfun(inmat[indat$grpi==i,,drop=FALSE])
}
Rprof(NULL)


----------------- Rprof output, v1 ----------------
Each sample represents 0.02 seconds.
Total run time: 404.999999999922 seconds.

Total seconds: time spent in function and callees.
Self seconds: time spent in function alone.

    %       total       %       self
  total    seconds     self    seconds    name
100.00    405.00      0.00      0.00     "source"
100.00    405.00      0.11      0.46     "eval.with.vis"
  99.88    404.50      4.70     19.04     "sfun"
  83.98    340.10     41.25    167.06     "nrow"
  42.68    172.84     42.68    172.84     "=="
   3.08     12.48      0.50      2.04     "lm.fit"
   1.72      6.96      0.23      0.94     "median"
(remainder omitted)

nrow() has 340 total and 41 self seconds, a large portion of the 
total run time.

There is only one call to nrow() in my code,
   ntot <- nrow(dati)
where dati is a subset of the numeric matrix, indat.

I tried replacing nrow(dati) with length(dati[,1])

The profile is then:

----------------- Rprof output, v2 ----------------
Each sample represents 0.02 seconds.
Total run time: 403.699999999923 seconds.

Total seconds: time spent in function and callees.
Self seconds: time spent in function alone.

    %       total       %       self
  total    seconds     self    seconds    name
100.00    403.70      0.11      0.46     "eval.with.vis"
100.00    403.70      0.00      0.00     "source"
  99.88    403.20     46.03    185.82     "sfun"
  42.37    171.06     42.37    171.06     "=="
   3.00     12.10      0.59      2.40     "lm.fit"
   1.70      6.88      0.22      0.90     "median"
(skip many lines until)
   0.01      0.04      0.01      0.04     "length"
(remainder omitted)

This is where I'm puzzled.
nrow() has disappeared as expected
length() has not taken its place
Yet the total run time is about the same.


As an aside, I had previously been using sapply() and split(), and 
that was far slower. Rprof() helped me find out why it was slow. 
Also, the matrix ssnew is created before the loop, with the right 
dimensions, so it's not being grown during the loop.

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 11 20:03:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Jun 2002 11:03:23 -0700 (PDT)
Subject: [R] Puzzled by what Rprof is telling me
In-Reply-To: <p0511170cb92bcd5c46d0@[128.115.153.6]>
Message-ID: <Pine.A41.4.44.0206111048400.183398-100000@homer06.u.washington.edu>

On Tue, 11 Jun 2002, Don MacQueen wrote:

> I am using Rprof() to help find ways to improve performance.
>
> I found a function whose total seconds and self seconds were large. I
> replaced it with something else. The something else had a small
> number of total seconds and self seconds. But the total time did not
> decrease.

This is strange. Are you sure that nrow isn't used by any of the functions
you call?  It's possible that your explicit use of nrow() took lots of
total seconds but few self seconds, and that another hidden use did the
reverse.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mparigi1 at jhmi.edu  Tue Jun 11 17:29:36 2002
From: mparigi1 at jhmi.edu (Mohan Parigi)
Date: Tue, 11 Jun 2002 11:29:36 -0400
Subject: [R] Installing R with g77 fortran compiler
Message-ID: <3D061760.D34C48E3@jhmi.edu>

Hello,

I am trying to compile sources of R-1.5.0 on a Mandrake 8.1 linux box.
For Fortran compiler needs, I downloaded and installed a g77 rpm. But
the configure step fails with following output. I would like to know if
any of you had similar problem and how you solved.

Thanks in advance.
Mohan
------------------- configure output ------
checking for g77... g77
checking whether we are using the GNU Fortran 77 compiler... no
checking whether g77 accepts -g... yes
....
[ skip ]
...
checking how to get verbose linking output from g77... -v
checking for Fortran 77 libraries...  -L/usr/local/lib
-L/usr/lib/gcc-lib/i686-redhat-linux/3.0.4
-L/usr/lib/gcc-lib/i686-redhat-linux/3.0.4/../../.. -ldl -lncurses -lg2c
-lm
checking for dummy main to link with Fortran 77 libraries... none
checking for Fortran 77 name-mangling scheme... lower case, underscore,
extra underscore
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking whether g++ accepts -M for generating dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking whether gcc accepts -mieee-fp... yes
checking whether g++ accepts -mieee-fp... yes
checking for xmkmf... /usr/X11R6/bin/xmkmf
configure: WARNING: I could not determine FPICFLAGS.
configure: error: See the file INSTALL for more information.
------------------------------------------------------------
Mohan Parigi 
Director of Information Technology
Johns Hopkins University Pulmonary and Critical Care Medicine
5501 Hopkins Bayview Circle, 5B.76 Baltimore MD 21224
Voice: 410-550-4588   Fax: 410-550-2612
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 11 20:42:12 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Jun 2002 19:42:12 +0100 (BST)
Subject: [R] Installing R with g77 fortran compiler
In-Reply-To: <3D061760.D34C48E3@jhmi.edu>
Message-ID: <Pine.LNX.4.31.0206111940360.23007-100000@gannet.stats>

On Tue, 11 Jun 2002, Mohan Parigi wrote:

> Hello,
>
> I am trying to compile sources of R-1.5.0 on a Mandrake 8.1 linux box.
> For Fortran compiler needs, I downloaded and installed a g77 rpm. But
> the configure step fails with following output. I would like to know if
> any of you had similar problem and how you solved.

I've seen this occasionally.  Try setting FPICFLAGS=-fPIC in config.site.

>
> Thanks in advance.
> Mohan
> ------------------- configure output ------
> checking for g77... g77
> checking whether we are using the GNU Fortran 77 compiler... no
> checking whether g77 accepts -g... yes
> ....
> [ skip ]
> ...
> checking how to get verbose linking output from g77... -v
> checking for Fortran 77 libraries...  -L/usr/local/lib
> -L/usr/lib/gcc-lib/i686-redhat-linux/3.0.4
> -L/usr/lib/gcc-lib/i686-redhat-linux/3.0.4/../../.. -ldl -lncurses -lg2c
> -lm
> checking for dummy main to link with Fortran 77 libraries... none
> checking for Fortran 77 name-mangling scheme... lower case, underscore,
> extra underscore
> checking whether g77 and gcc agree on int and double... yes
> checking whether g77 and gcc agree on double complex... yes
> checking whether g77 supports -c -o FILE.lo... yes
> checking whether g++ accepts -M for generating dependencies... yes
> checking whether g++ supports -c -o FILE.lo... yes
> checking whether gcc accepts -mieee-fp... yes
> checking whether g++ accepts -mieee-fp... yes
> checking for xmkmf... /usr/X11R6/bin/xmkmf
> configure: WARNING: I could not determine FPICFLAGS.
> configure: error: See the file INSTALL for more information.
> ------------------------------------------------------------
> Mohan Parigi
> Director of Information Technology
> Johns Hopkins University Pulmonary and Critical Care Medicine
> 5501 Hopkins Bayview Circle, 5B.76 Baltimore MD 21224
> Voice: 410-550-4588   Fax: 410-550-2612
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Jun 11 21:36:11 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 11 Jun 2002 15:36:11 -0400
Subject: [R] Recursive function for lists
In-Reply-To: <15622.9880.470219.486942@gargle.gargle.HOWL>
References: <5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>
 <3.0.5.32.20020610132329.00eb1928@stat4ux.stat.ucl.ac.be>
 <5.1.0.14.2.20020611112544.02cf9e28@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020611144741.01d84ff0@mcmail.cis.mcmaster.ca>

Dear Martin,

At 06:34 PM 6/11/2002 +0200, Martin Maechler wrote:

>unlist() is probably what you can't recall.
>It is a bit different than your  flatten()  though :
>
> > lst <- list(lst1=list(a=1:3, b=4:6), lst2=list(c=7:9, d=10:12), e=13:15)
>
> > str(ul <- unlist(lst, recursive=FALSE))
>List of 7
>  $ lst1.a: int [1:3] 1 2 3
>  $ lst1.b: int [1:3] 4 5 6
>  $ lst2.c: int [1:3] 7 8 9
>  $ lst2.d: int [1:3] 10 11 12
>  $ e1    : int 13
>  $ e2    : int 14
>  $ e3    : int 15

I tried unlist, but don't think that it will solve Eric's problem -- look, 
e.g., at how it treats the element $e in the original list.

I rather like Thomas Lumley's solution, which is simpler than mine, though 
I think that it will be necessary to unlist the result returned by his 
treeapply.

Regards,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jun 11 22:09:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Jun 2002 13:09:22 -0700 (PDT)
Subject: [R] Recursive function for lists
In-Reply-To: <5.1.0.14.2.20020611144741.01d84ff0@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.A41.4.44.0206111305380.183398-100000@homer06.u.washington.edu>

On Tue, 11 Jun 2002, John Fox wrote:
>
> I rather like Thomas Lumley's solution, which is simpler than mine, though
> I think that it will be necessary to unlist the result returned by his
> treeapply.
>

Here's an extended version that optionally flattens the result, and has
two ways to control the depth of recursion, using a function IS.LEAF and a
maximum recursion DEPTH.


treeapply<-function (x, FUN,...,IS.LEAF=is.atomic,DEPTH=Inf,FLATTEN=FALSE)
{
    if (DEPTH<=0)
        FUN(x,...)
    else if (IS.LEAF(x))
        FUN(x,...)
    else if (FLATTEN)
        do.call("c",lapply(x, function(n) treeapply(n, FUN,...,IS.LEAF=IS.LEAF,DEPTH=DEPTH-1,FLATTEN=TRUE)))
    else
        lapply(x, function(n) treeapply(n, FUN,...,IS.LEAF=IS.LEAF,DEPTH=DEPTH-1))
}


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Tue Jun 11 22:35:25 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Tue, 11 Jun 2002 15:35:25 -0500
Subject: [R] Puzzled by what Rprof is telling me
In-Reply-To: <p0511170cb92bcd5c46d0@[128.115.153.6]>; from macq@llnl.gov on Tue, Jun 11, 2002 at 10:00:37AM -0700
References: <p0511170cb92bcd5c46d0@[128.115.153.6]>
Message-ID: <20020611153525.A12694@nokomis.stat.umn.edu>

Don't know if it is an issue in this case but lazy evaluation can
sometimes lead to difficulties in interpreting Rprof ouptut since the
time used to evaluate arguments is attributed by the profiler to the
function that forces the argument evaluation.

luke

On Tue, Jun 11, 2002 at 10:00:37AM -0700, Don MacQueen wrote:
> I am using Rprof() to help find ways to improve performance.
> 
> I found a function whose total seconds and self seconds were large. I 
> replaced it with something else. The something else had a small 
> number of total seconds and self seconds. But the total time did not 
> decrease.
> 
> I don't understand how that could be, and would appreciate any suggestions.
> 
> Thanks
> -Don
> 
> 
> Details, unfortunately lengthy, are here:
> 
> The snippet of code I'm profiling is given below. 'inmat' is a 
> numeric matrix with 128347 rows; I need to apply a function, sfun(), 
> to each of 4191 subsets of rows, indexed by indat$grpi. sfun() is 
> fairly complex, and requires information from all of the columns of 
> inmat, so simple uses of, for example, aggregate() don't do the job.
> 
> Rprof('Rpf3n')
> for (i in unique(indat$grpi)) {
>   ssnew[i,] <- sfun(inmat[indat$grpi==i,,drop=FALSE])
> }
> Rprof(NULL)
> 
> 
> ----------------- Rprof output, v1 ----------------
> Each sample represents 0.02 seconds.
> Total run time: 404.999999999922 seconds.
> 
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
> 
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00    405.00      0.00      0.00     "source"
> 100.00    405.00      0.11      0.46     "eval.with.vis"
>   99.88    404.50      4.70     19.04     "sfun"
>   83.98    340.10     41.25    167.06     "nrow"
>   42.68    172.84     42.68    172.84     "=="
>    3.08     12.48      0.50      2.04     "lm.fit"
>    1.72      6.96      0.23      0.94     "median"
> (remainder omitted)
> 
> nrow() has 340 total and 41 self seconds, a large portion of the 
> total run time.
> 
> There is only one call to nrow() in my code,
>    ntot <- nrow(dati)
> where dati is a subset of the numeric matrix, indat.
> 
> I tried replacing nrow(dati) with length(dati[,1])
> 
> The profile is then:
> 
> ----------------- Rprof output, v2 ----------------
> Each sample represents 0.02 seconds.
> Total run time: 403.699999999923 seconds.
> 
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
> 
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00    403.70      0.11      0.46     "eval.with.vis"
> 100.00    403.70      0.00      0.00     "source"
>   99.88    403.20     46.03    185.82     "sfun"
>   42.37    171.06     42.37    171.06     "=="
>    3.00     12.10      0.59      2.40     "lm.fit"
>    1.70      6.88      0.22      0.90     "median"
> (skip many lines until)
>    0.01      0.04      0.01      0.04     "length"
> (remainder omitted)
> 
> This is where I'm puzzled.
> nrow() has disappeared as expected
> length() has not taken its place
> Yet the total run time is about the same.
> 
> 
> As an aside, I had previously been using sapply() and split(), and 
> that was far slower. Rprof() helped me find out why it was slow. 
> Also, the matrix ssnew is created before the loop, with the right 
> dimensions, so it's not being grown during the loop.
> 
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve at biostat.ucsf.edu  Tue Jun 11 22:36:56 2002
From: steve at biostat.ucsf.edu (Steve Shiboski)
Date: Tue, 11 Jun 2002 13:36:56 -0700
Subject: [R] compiling 1.5.0 under Solaris 2.7 with Sun C and FORTRAN and gcc C++
Message-ID: <20020611203656.GA20469@chanane.ucsf.edu>

For disk space reasons, I have the Sun FORTRAN and C comiplers
available, but not C++. In the past, I have successfully built
R using these compliers along with the C++ provided by gcc.
Now, the configure script in 1.5.0 fails with the following
errors:

  checking how to get verbose linking output from f77... -v
  checking for Fortran 77 libraries...  -L/usr/local/lib -R/opt/SUNWspro/lib -L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib -lreadline -ldl -ltermcap -lm -lF77 -lM77 -lsunmath -lcx
  checking for dummy main to link with Fortran 77 libraries... unknown
  configure: error: linking to Fortran libraries from C fails

Any suggestions on a possible remedy would be greatly appreciated. I'd rather
not install Sun C++ if possible, and I like the optimization features
of Sun C and FORTRAN for the UltraSPARC hardware.

-S
-- 
Stephen Shiboski  -------------------  steve at biostat.ucsf.edu
Division of Biostatistics                 voice: 415-476-0533
University of California, San Francisco     fax: 415-476-6014
500 Parnassus Avenue, MU 420-W;  San Francisco, CA 94143-0560
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MicheleAlzetta at localhost.localdomain  Tue Jun 11 23:02:58 2002
From: MicheleAlzetta at localhost.localdomain (Michele Alzetta)
Date: Tue, 11 Jun 2002 23:02:58 +0200
Subject: [R] Installing R with g77 fortran compiler
In-Reply-To: <3D061760.D34C48E3@jhmi.edu>
References: <3D061760.D34C48E3@jhmi.edu>
Message-ID: <20020611210258.GA2292@localhost.localdomain>

> I am trying to compile sources of R-1.5.0 on a Mandrake 8.1 linux box.
> For Fortran compiler needs, I downloaded and installed a g77 rpm. But
> the configure step fails with following output. I would like to know if
> any of you had similar problem and how you solved.

You could use the Mandrake 8.1 rpm available on CRAN; if you want to
recompile it from source (SRPM is also available) I suggest you use the g77 
rpm's and the libblas/liblapack rpm's available on your Mandrake 8.1 
installation CD's ... I didn't have any problems with those.

Uninstall your g77 and as root try:
urpmi gcc-g77 egcs liblapack3 

that should do the trick.

-- 
Michele Alzetta
(Gran Ciambellano D.A.C.I.E.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Wed Jun 12 00:02:46 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Tue, 11 Jun 2002 18:02:46 -0400 (EDT)
Subject: [R] extra 0 in ccf
Message-ID: <Pine.LNX.4.33.0206111753570.3286-100000@localhost.localdomain>

im using R 1.5.0 on redhat.

when i use ccf in the ts library i get, what i think is, an incorrect 
entry in the lag and acf components. as an example, look at the second 
entry in the lag and acf components below:

> library(ts)
> tmp <- ccf(ts(rnorm(3)),ts(rnorm(3)),plot=F)
> tmp$lag
, , 1

     [,1]
[1,]   -1
[2,]    0
[3,]    0
[4,]    1

> tmp$acf
, , 1

            [,1]
[1,] -0.17058475
[2,]  0.00000000
[3,]  0.97681714
[4,]  0.07660825


is there a reason for this entry?

thanks,
rafael

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Jun 12 03:25:45 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 12 Jun 2002 13:25:45 +1200
Subject: [R] offset labeling boxplots
References: <E540DF203FFED21182EB0008C72875600AEDA79F@deexmta4.amd.com>
Message-ID: <3D06A319.4EBF7289@stat.auckland.ac.nz>

Hi


> often I plot boxplots with different number of boxes (up to 200 boxes).
> I'd like to give every box a readable label on the x-axis. Therefore, I
> decrease the fontsize of the names and plot them vertical.
> But if you zoom into the plot (pdf) you will find an offset between the
> tickmark and the label - the label is shifted to the right.
> 
> If you vary the box.count in the following example (without changing
> the fontsize) you will find every time this right shifted labels.
> (Finaly, for large box.counts the label will be shifted to the next right
> label!)
> 
> Question 1: How can I avoid the right shift of the x-axis label?
> Question 2: Is it possible to scale the fontsize depending of the box.count
>          (So that I can read every single label)?


The problem here is with mtext().  A simpler demonstration of the
problem is as follows ...

	plot(1:10)
	abline(v=1:10, col="grey")
	axis(3, at=1:10, las=3)
	axis(3, pos=9, at=1:10, las=3, cex.axis=.5) 
	axis(3, pos=8, at=1:10, las=3, cex.axis=2) 

... basically mtext() is using a hardcoded adjustment to position the
text in some cases.  It looks ok for the default text size, but gets it
wrong if the text size is modified.  (I will submit a bug report about
this problem).

The temporary hack solution requires using text() instead of mtext() to
draw the axis labels.  Here's one way to do it ...

	# Make sure that the text() output is not clipped
	par(xpd=NA)
	# Create the boxplot information
	b <- boxplot(list(rnorm(10), rnorm(10), rnorm(10), rnorm(10), 	
	                  rnorm(10), rnorm(10), rnorm(10),
rnorm(10), 	                  	                  	                 
rnorm(10), rnorm(10)),
             plot=FALSE)
	# Draw the boxplot 
	# We control the y-axis scale so that we have some hope of
	# positioning the text() output later
	bp <- bxp(b, ylim=c(-4, 4), axes=FALSE)
	axis(2)
	box()
	# Draw the x-axis ticks
	axis(1, at=bp, labels=FALSE)
	# Draw the x-axis tick labels using trial-and-error to
	# get the value -4.7
	text(bp, -4.7, letters[1:10], srt=90, adj=c(1, .5), cex=.5)

.. The disadvantage is that it requires trial-and-error to position the
labels.  This is maybe not too much pain for a one-off boxplot, but may
get tiresome if many boxplots are to be produced.  

Another approach which is not dependent on the y-axis scale is a bit
more complicated, but for the brave of heart here goes ...

	# First split the page into two figure regions
	# The lower region is .5cm high for the axis we will draw
	# plus .5in high for the axis labels -- change this second
	# amount to allow for longer labels
	layout(matrix(c(1, 2), ncol=1),
	       heights=c(1, lcm(.5 + 2.54/2)))
	# Prepare to draw the main boxplot
	# We make the bottom margin 0 so that the bottom of 
	# the boxplot is flush with the top of the axis we will draw
	# We make the left and right margins something that we can
	# reproduce when we come to drawing the axis
	par(mai=c(0, 1, 1, .5))
	# Create the boxplot information
	b <- boxplot(list(rnorm(10), rnorm(10), rnorm(10), rnorm(10), 	
	                  rnorm(10), rnorm(10), rnorm(10),
rnorm(10), 	                  	                  		
	                  rnorm(10), rnorm(10)),
             plot=FALSE)
	# Draw the boxplot, but not any axes
	bp <- bxp(b, axes=FALSE)
	# Draw the default y axis
	axis(2)
	box()
	# Save the axis scales -- we want the x-axis scale for later
	savedusr <- par("usr")
	# Prepare to draw the axis
	# We make the top margin 0 so that the top of the axis
	# will be flush with the bottom of the boxplot
	# We replicate the left and right margins from the boxplot
	# The bottom margin is .5in -- the amount of room we allowed
	# for in the layout 
	# We set xpd=NA so that the text drawn for the axis tick
	# labels will not get clipped
	par(mai=c(.5, 1, 0, .5), xpd=NA)
	# Start a new plot -- the text() function draws in the
	# "data region" of a plot, so we will draw the axis as a
	# complete plot
	plot.new()
	# Set up the scales on the new plot
	# We replicate the x-axis scale from the boxplot
	# The choice of y-axis scale is arbitrary
	plot.window(savedusr[1:2], c(1, 10), xaxs="i", yaxs="i")
	# Draw the axis ticks -- note that this axis is drawn at
	# the very top of the new plot (pos=10)
	axis(1, at=bp, pos=10, labels=FALSE)
	# Draw the axis tick labels
	text(bp, 1, letters[1:10], srt=90, adj=c(1, .5), cex=.5)

... anyway, that's a couple of ideas :)

Hope there's something useful in there somewhere.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Wed Jun 12 03:24:37 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Tue, 11 Jun 2002 21:24:37 -0400 (EDT)
Subject: [R] Lots of data problems
Message-ID: <Pine.LNX.4.21.0206112123390.2693-100000@perrin.socsci.unc.edu>

Recently I've been having this happen frequently:
aperrin at perrin:~/microcultures$ R

R : Copyright 2002, The R Development Core Team
Version 1.5.0  (2002-04-29)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

Error in load(name, envir = .GlobalEnv) : error reading from connection
Fatal error: unable to restore saved data in .RData


---

Luckily, I have all the code to recreate the data files, but it's a pain
and takes some time. Any idea why this is happening, and what I might do
to fix it?

This is R 1.5.0 running under debian linux 3.0, kernel 2.4.18.

ap

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Wed Jun 12 04:08:16 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Wed, 12 Jun 2002 14:08:16 +1200
Subject: [R] table problems
Message-ID: <200206120208.g5C28Gh06192@r.hankin.sems.auckland.ac.nz>


dear helplist,

my student has fifty trees, numbered one to fifty, and a vector
recording which tree a certain possum slept in on 12 nights.

R> c
 [1]  3 14 17 22 26 26 17 40 43 25 46 46
R> 

Thus it slept in tree #3 on Monday, then tree #14 on Tues, and so on.
I wish to test the null hypothesis that the animal chooses trees
randomly; try

R> table(c)
c
 3 14 17 22 25 26 40 43 46 
 1  1  2  1  1  2  1  1  2 
>

Thus it slept in tree #3 once, tree #14 once, tree #17 twice, etc.

Now on the null hypothesis the expected number of sleeps per tree is
12/50=0.24; so how do I carry out a chisquare test on the data,
including the trees that it never slept in?

chisq.test() doesn't "know" that there are actually fifty distinct
trees (most of which were never slept in) and not nine.

 > chisq.test(table(c))

	Chi-squared test for given probabilities

data:  table(c) 
X-squared = 1.5, df = 8, p-value = 0.9927

of course this isn't right because chisquared is > 25.8 due to the
animal sleeping in tree #17 and tree #46 twice (and of course, df
should be 49 because I have 50 trees).


help anyone?


-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Wed Jun 12 13:51:00 NZST 2002
This (linux) system up continuously for:  286 days, 20 hours, 33 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Jun 12 04:53:43 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 12 Jun 2002 14:53:43 +1200
Subject: [R] offset labeling boxplots
References: <E540DF203FFED21182EB0008C72875600AEDA79F@deexmta4.amd.com>
Message-ID: <3D06B7B7.E912C58E@stat.auckland.ac.nz>

Hi


> often I plot boxplots with different number of boxes (up to 200 boxes).
> I'd like to give every box a readable label on the x-axis. Therefore, I
> decrease the fontsize of the names and plot them vertical.
> But if you zoom into the plot (pdf) you will find an offset between the
> tickmark and the label - the label is shifted to the right.
> 
> If you vary the box.count in the following example (without changing
> the fontsize) you will find every time this right shifted labels.
> (Finaly, for large box.counts the label will be shifted to the next right
> label!)
> 
> Question 1: How can I avoid the right shift of the x-axis label?
> Question 2: Is it possible to scale the fontsize depending of the box.count
>          (So that I can read every single label)?


... and here's yet another approach, this time using the grid package to
draw the entire plot from scratch.  Its a bit lengthy because I had to
create functions to draw a basic boxplot, but it might provide a
sufficient framework for you to build on.  It is also specific to your
problem (although with a few parameters it could be generalised
further).

Paul

## grid boxplot code
library(grid)

grid.bp <- function(stats, width, out) {
  grid.rect(y=unit(stats[2], "native"),
            height=unit(stats[3] - stats[2], "native"),
            width=width,
            just=c("centre", "bottom"))
  grid.rect(y=unit(stats[3], "native"),
            height=unit(stats[4] - stats[3], "native"),
            width=width,
            just=c("centre", "bottom"))
  grid.segments(x0=.5, x1=.5,
                y0=unit(stats[c(1, 4)], "native"),
                y1=unit(stats[c(2, 5)], "native"),
                gp=gpar(lty="dashed"))
  grid.segments(y0=unit(stats[c(1, 5)], "native"),
                y1=unit(stats[c(1, 5)], "native"),
                x0=unit(.5, "npc") - unit(2, "mm"),
                x1=unit(.5, "npc") + unit(2, "mm"))
  if (length(out) > 0)
    grid.points(x=unit(rep(.5, length(out)), "npc"),
                y=unit(out, "native"))
}

grid.bxp <- function(boxplot) {
  nbp <- ncol(boxplot$stats)
  scalevp <- dataViewport(xscale=c(0, 1),
                          y=c(boxplot$stats, boxplot$out))
  push.viewport(scalevp)
  grid.yaxis()
  grid.rect()
  push.viewport(viewport(layout=grid.layout(1, nbp)))
  for (i in 1:nbp) {
    push.viewport(viewport(layout.pos.col=i))
    push.viewport(scalevp)
    grid.bp(boxplot$stats[,i], unit(.8, "npc"),
            boxplot$out[boxplot$group == i])
    grid.lines(y=unit(c(0, -.5), "lines"),
               x=rep(.5, 2))
    grid.text(boxplot$names[i], y=unit(-1, "lines"),
              rot=90, just=c("right", "centre"),
              gp=gpar(fontsize=6))
    grid.text(boxplot$names[i], y=unit(-2, "lines"),
              rot=90, just=c("right", "centre"))
    grid.text(boxplot$names[i], y=unit(-3, "lines"),
              rot=90, just=c("right", "centre"),
              gp=gpar(fontsize=18))
    pop.viewport(2)
  }
}

b <- boxplot(list(rnorm(10), rnorm(10), rnorm(10), rnorm(10), 	
                  rnorm(10), rnorm(10), rnorm(10), rnorm(10), 
                  rnorm(10), rnorm(10)),
             plot=FALSE)
push.viewport(plotViewport(c(5, 4, 4, 2)))
grid.bxp(b)
pop.viewport()
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Wed Jun 12 16:24:44 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Wed, 12 Jun 2002 07:24:44 -0700
Subject: [R] confidence intervals
Message-ID: <CLECJBOEBGOMOKJHJNDAEEAPCGAA.marwan.khawaja@aub.edu.lb>

Hello,
I wonder if anyone has a function for calculating confidence intervals for
ratios. I have mortality rates calculated for several groups from sample
data -- but these can be treated as ratios?).  I am entertaining the idea of
bootstrapping them.
Any help would be greatly appreciated.
TIA, Marwan


----------------------------------------------------------------------------
------------
Marwan Khawaja - http://departments.aub.edu.lb/~mk36/  If you have MS
Internet Explorer!
----------------------------------------------------------------------------
------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at alpha.oac.ucla.edu  Wed Jun 12 08:19:52 2002
From: yunda at alpha.oac.ucla.edu (Yunda Huang)
Date: Tue, 11 Jun 2002 23:19:52 -0700 (PDT)
Subject: [R] Rcmd on Windows
Message-ID: <Pine.A32.3.91.1020611231607.110688A-100000@alpha.oac.ucla.edu>

Hi there,

I was tryting to use "Rcmd SHLIB --help" on Windows RGui. However it always 
gives me sytax error message. I wonder whether you have any suggestion. 
Thanks in advance! 

Best,
Yunda
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 12 08:36:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 12 Jun 2002 07:36:31 +0100 (BST)
Subject: [R] Rcmd on Windows
In-Reply-To: <Pine.A32.3.91.1020611231607.110688A-100000@alpha.oac.ucla.edu>
Message-ID: <Pine.LNX.4.31.0206120735580.24486-100000@gannet.stats>

On Tue, 11 Jun 2002, Yunda Huang wrote:

> Hi there,
>
> I was tryting to use "Rcmd SHLIB --help" on Windows RGui. However it always
> gives me sytax error message. I wonder whether you have any suggestion.
> Thanks in advance!

It's not a command for Rgui, but for a Windows command line (outside R).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 12 08:49:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Jun 2002 08:49:00 +0200
Subject: [R] Rcmd on Windows
References: <Pine.A32.3.91.1020611231607.110688A-100000@alpha.oac.ucla.edu>
Message-ID: <3D06EEDC.F8DAFD13@statistik.uni-dortmund.de>



Yunda Huang wrote:
> 
> Hi there,
> 
> I was tryting to use "Rcmd SHLIB --help" on Windows RGui. However it always
> gives me sytax error message. I wonder whether you have any suggestion.
> Thanks in advance!

You have to call Rcmd from the windows shell, not within R (if I
understood right).
It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
recent version of perl?
Please, tell us something about your R version and OS!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Wed Jun 12 08:59:20 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Wed, 12 Jun 2002 08:59:20 +0200
Subject: [R] Different y-axes
In-Reply-To: <3635AAE6EA743844B05655F805CB3125DB85F5@titlis.rmf.ch>
Message-ID: <3D070D68.24556.1AFD9F@localhost>



On 11 Jun 2002 at 12:40, Gregor Gawron wrote:

> Hi All,
> 
> I have checked everything I could find abot graphics, but still cannot
> solve the problem. Are there any ways to make a graph that plots two
> lines and two different y-axes, each of them has a scale that is
> related to the respective line. For example, y1 has a range 1:50 and
> y1 ranges 0:1. The x-axe is the same for both.
> 
> Thank you in advance.

I do not know if it is a pure coincidence, but I recently tried to 
make similar plot. As you did not get any strightforward answer, I 
decided to write down a little function, which can make such plot.

I am sure it can be improved by more experienced programmers 
but it seems to work as I (and maybe also you:-) wish.

#----------------------------------------------------------------------------
# graf na 2 osach y

plot.yy<-function(x,yright,yleft, 
yylab=c("",""),znac=c(1,2),bar=c(1,2), linky=F, ...)

{

par(mar=c(5,4,4,2),oma=c(0,0,0,3))
plot(x,yright,axes=F,ylab="",pch=znac[1],col=bar[1], ...)

if (linky) lines(x,yright,col=bar[1], ...)

axis(4,pretty(range(yright),10))

if(yylab[1]=="") 
mtext(deparse(substitute(yright)),side=4,outer=T,line=1)
else 
mtext(yylab[1],side=4,outer=T,line=1)

par(new=T)
plot(x,yleft,ylab="",pch=znac[2],col=bar[2], ...)

if(yylab[2]=="")
mtext(deparse(substitute(yleft)),side=2,line=2)
else
mtext(yylab[2],side=2,line=2)

if (linky) lines(x,yleft,col=bar[2], lty=2, ...)

}

*znac* is coding vector for pch, *bar* for col, *yylab* is 
character vector for axes labels and *linky* is for drawing lines.

It gives you some warnings sometimes but it still works.

Hope it helps.

> 
> ---
> Gregor Gawron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jun 12 09:11:08 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 12 Jun 2002 09:11:08 +0200 (MEST)
Subject: [R] confidence intervals
In-Reply-To: <CLECJBOEBGOMOKJHJNDAEEAPCGAA.marwan.khawaja@aub.edu.lb>
Message-ID: <Pine.LNX.4.21.0206120906470.31171-100000@artemis.imbe.med.uni-erlangen.de>


> Hello,
> I wonder if anyone has a function for calculating confidence intervals for
> ratios. I have mortality rates calculated for several groups from sample
> data -- but these can be treated as ratios?).  

Do you mean a conficence interval for a ratio parameter (e.g. ratio of
means) or for measurements that are defined as ratios?

In the first case the exp of the t.test conf ints of the log-transformed
data can be used (under the assumption of log-normality):

R> x <- rlnorm(20)
R> y <- rlnorm(20)
R> exp(t.test(log(x),log(y),var.equal=TRUE)$conf.int)
[1] 0.7530694 3.5936215
attr(,"conf.level")
[1] 0.95

(works with wilcox.{test,exact} for the ratio of medians, too).

In the second one, you'll probably have to think about the parameter to
calculate confidence intervals for ...

Torsten

> I am entertaining the idea of
> bootstrapping them.
> Any help would be greatly appreciated.
> TIA, Marwan
> 
> 
> ----------------------------------------------------------------------------
> ------------
> Marwan Khawaja - http://departments.aub.edu.lb/~mk36/  If you have MS
> Internet Explorer!
> ----------------------------------------------------------------------------
> ------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 12 09:13:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 12 Jun 2002 08:13:46 +0100 (BST)
Subject: [R] table problems
In-Reply-To: <200206120208.g5C28Gh06192@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0206120751570.24527-100000@gannet.stats>

On Wed, 12 Jun 2002, Robin Hankin wrote:

>
> dear helplist,
>
> my student has fifty trees, numbered one to fifty, and a vector
> recording which tree a certain possum slept in on 12 nights.
>
> R> c
>  [1]  3 14 17 22 26 26 17 40 43 25 46 46
> R>
>
> Thus it slept in tree #3 on Monday, then tree #14 on Tues, and so on.
> I wish to test the null hypothesis that the animal chooses trees
> randomly; try
>
> R> table(c)
> c
>  3 14 17 22 25 26 40 43 46
>  1  1  2  1  1  2  1  1  2
> >
>
> Thus it slept in tree #3 once, tree #14 once, tree #17 twice, etc.

Try tabulate(c), which goes to 46.  Or, better,

tab <- rep(0,50)
names(tab) <- 1:50
tab[names(table(c))] <- table(c)


> Now on the null hypothesis the expected number of sleeps per tree is
> 12/50=0.24; so how do I carry out a chisquare test on the data,
> including the trees that it never slept in?
>
> chisq.test() doesn't "know" that there are actually fifty distinct
> trees (most of which were never slept in) and not nine.
>
>  > chisq.test(table(c))
>
> 	Chi-squared test for given probabilities
>
> data:  table(c)
> X-squared = 1.5, df = 8, p-value = 0.9927
>
> of course this isn't right because chisquared is > 25.8 due to the
> animal sleeping in tree #17 and tree #46 twice (and of course, df
> should be 49 because I have 50 trees).

> chisq.test(tab)

        Chi-squared test for given probabilities

data:  tab
X-squared = 63, df = 49, p-value = 0.08625

Warning message:
Chi-squared approximation may be incorrect in: chisq.test(tab)


The warning is serious: the approximation is probably dreadful for data
this sparse.  In any case, is the null hypothesis plausible: the animal
independently and uniform chooses a tree each night to sleep in, from
exactly the 50 trees your student labelled?

You could easily get a more accurate significance by simulation:

doone <- function(...)
{
   c <- sample(1:50, 12, replace = T)
   tab <- rep(0,50)
   names(tab) <- 1:50
   tab[names(table(c))] <- table(c)
   chisq.test(tab)$statistic
}

> table(round(sapply(1:1000, doone),3))

    38 46.333 54.667     63 71.333 79.667     88 96.333
   232    394    229     97     34      6      7      1

(Note how discrete the distribution is.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 12 09:29:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 12 Jun 2002 08:29:28 +0100 (BST)
Subject: [R] extra 0 in ccf
In-Reply-To: <Pine.LNX.4.33.0206111753570.3286-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0206120828470.24785-100000@gannet.stats>

It's bug (of several years' standing), now fixed in R-patched.

On Tue, 11 Jun 2002, Rafael A. Irizarry wrote:

> im using R 1.5.0 on redhat.
>
> when i use ccf in the ts library i get, what i think is, an incorrect
> entry in the lag and acf components. as an example, look at the second
> entry in the lag and acf components below:
>
> > library(ts)
> > tmp <- ccf(ts(rnorm(3)),ts(rnorm(3)),plot=F)
> > tmp$lag
> , , 1
>
>      [,1]
> [1,]   -1
> [2,]    0
> [3,]    0
> [4,]    1
>
> > tmp$acf
> , , 1
>
>             [,1]
> [1,] -0.17058475
> [2,]  0.00000000
> [3,]  0.97681714
> [4,]  0.07660825
>
>
> is there a reason for this entry?
>
> thanks,
> rafael
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Jun 12 09:42:32 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 12 Jun 2002 17:42:32 +1000
Subject: [R] table problems
References: <200206120208.g5C28Gh06192@r.hankin.sems.auckland.ac.nz> <3D06D660.6E181C71@ozemail.com.au> <200206120515.g5C5FYj08149@r.hankin.sems.auckland.ac.nz>
Message-ID: <3D06FB68.94D3E36A@ozemail.com.au>

Robin Hankin wrote:
> 
>... I've been advised that the correct distribution for the number of
> sleeps in the 50 trees would be multinomial with n=50 and the
> p_i=12/50 for i=1 to 50.  I'll check out Feller when I get home
> tonight, but I suspect that M-B is the limiting case?
> 
I grabbed my thesis and refreshed my memory, and I think it will be what
you want. Here is a table for the discrete case with 50 cells and 12
trials.

N choices     probability     cumulative p
      1        2.048e-19       2.048e-19
      2        2.05421e-14     2.05423e-14
      3        4.16787e-11     4.16992e-11
      4        1.3844e-08      1.38857e-08
      5        1.43652e-06     1.45041e-06
      6        6.20311e-05     6.34815e-05
      7        0.00129369      0.00135717
      8        0.0141003       0.0154574
      9        0.0829514       0.0984088
     10        0.260324        0.358733
     11        0.403082        0.761815
     12        0.238185        1
 
Expected value = 10.76

What this is telling you is that if your possum is going back to the
same tree (which the ringtail at my place does) he will have to restrict
his choices to 8 or less to avoid a Type I error. Of course, your design
probably includes more than 1 possum, and you would have to sort out the
alpha for your number of subjects (and repeats?). I've appended the
source code for generating tables such as this.

Jim
-------------- next part --------------
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <math.h>

double Factorial(double n) {
 if(n > 1) return(n * Factorial(n-1));
 return(1);
}

double NChooseR(double n,double r) {
 double nfact;
 double rfact;
 double nminusrfact;

 nfact = Factorial(n);
 rfact = Factorial(r);
 nminusrfact = Factorial(n-r);
 return(nfact/(rfact * nminusrfact));
}

double PFilled(double n,double r,int f) {
 double psum=0;
 double combfact;
 int v;

 combfact = NChooseR(n,n-f);
 for(v=0;v<=f;v++)
  psum += pow(-1,v) * NChooseR(f,v) * pow((f-v)/n,r);
 return(combfact*psum);
}

double MBdist(double ncells,double nballs) {
 double psum;
 double ptotal = 0;
 double ev = 0;
 int filled = 1;

 while(filled <= nballs) {
  psum = PFilled(ncells,nballs,filled);
  ptotal += psum;
  fprintf(stdout,"     %2d        %-16g%g\n",filled,psum,ptotal);
  ev += psum * filled++;
 }
 if(ptotal < 0.99 || ptotal > 1.01)
  fprintf(stdout,"Warning: total p is %f\n",ptotal);
 return(ev);
}
 
int main(int argc,char *argv[]) {
 if(argc == 3) {
  fprintf(stdout,"N choices     probability     cumulative p\n");
  printf("\nExpected value = %.2f\n",MBdist(atof(argv[1]),atof(argv[2])));
  return(0);
 }
 return(1);
}

From debene at unimc.it  Wed Jun 12 10:24:35 2002
From: debene at unimc.it (Luca De Benedictis)
Date: Wed, 12 Jun 2002 10:24:35 +0200
Subject: [R] histogram
Message-ID: <3D070543.AB2FA007@unimc.it>

Dear friends,
I have been following the help-list in the next two months and I would
like to tell how much I admire the effort of such a great teem of R
expert. I am learning a lot. Thank you.

My problem is the following. I work with a fairly large data set (700
productive sectors, 70 countries, 25 years) and I am applying kernel
density (using MASS or sm) to sectoral exports which have markedly
skewed distributions, so I do the analysis on a log scale.
What I would like when I plot histograms or densities is to have on the
horizontal axis not the value y which is equal to log(x) but the
expression log(x) itself (i.e. log(0.3), log(1), log(34),...)

I have played a little bit with names.arg :
plot(density(log(x[,3]),width=0.4, names.arg="log(x)")

but I was not very successful. Any suggestion would be appreciated.
Thanks.

Luca
-------------- next part --------------
A non-text attachment was scrubbed...
Name: debene.vcf
Type: text/x-vcard
Size: 321 bytes
Desc: Card for Luca De Benedictis
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020612/39ca499d/debene.vcf

From ripley at stats.ox.ac.uk  Wed Jun 12 11:19:33 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jun 2002 10:19:33 +0100 (BST)
Subject: [R] log-scale density plots (was histogram)
In-Reply-To: <3D070543.AB2FA007@unimc.it>
Message-ID: <Pine.GSO.4.44.0206121016340.6678-100000@auk.stats>

On Wed, 12 Jun 2002, Luca De Benedictis wrote:

> Dear friends,
> I have been following the help-list in the next two months and I would
> like to tell how much I admire the effort of such a great teem of R
> expert. I am learning a lot. Thank you.
>
> My problem is the following. I work with a fairly large data set (700
> productive sectors, 70 countries, 25 years) and I am applying kernel
> density (using MASS or sm) to sectoral exports which have markedly
> skewed distributions, so I do the analysis on a log scale.
> What I would like when I plot histograms or densities is to have on the
> horizontal axis not the value y which is equal to log(x) but the
> expression log(x) itself (i.e. log(0.3), log(1), log(34),...)
>
> I have played a little bit with names.arg :
> plot(density(log(x[,3]),width=0.4, names.arg="log(x)")
>
> but I was not very successful. Any suggestion would be appreciated.

How about

x <- rlnorm(700)
den <- density(log(x))
den$x <- exp(den$x)
plot(den, log="x", title="something meaningful")

?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Wed Jun 12 11:25:52 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Wed, 12 Jun 2002 11:25:52 +0200
Subject: [R] How does R compares for speed?
Message-ID: <MABBLJDICACNFOLGIHJOIECGCMAA.philippe.grosjean@ifremer.fr>

Hi,

For those who are interested, I have update my R benchmark (to version
1.5.0) and also to Splus 6. They are available at:
http://www.sciviews.org/other/benchmark.htm. A comparison is made between
Matlab (5.3 & 6), R 1.5.0, Splus 6 rel 2, O-Matrix 5.1, Octave 2.1.31,
Scilab 2.6, Rlab 2.1 and OX 3.00 under Windows 2000 pro.

Overall, R is not the fastest package, but it is one of the fastest... and
comparison with Splus is interesting! Please, note that the benchmark tests
only a few function, and also gives no information about the "richness" or
"usability" of the various software tested. At least, it is interesting to
note that R is becoming more and more performant with versions: the
benchmark applied to previous versions of R identified some lacks in
performance, particularly in the sort() function, which now belong to the
past. Congratulation for all who contributed (and still contribute) to make
R one of the best statistical and "number crunching" system!!!

Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr or phgrosjean at sciviews.org
 ) ) ) ) )
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jun 12 12:41:23 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 12 Jun 2002 12:41:23 +0200 (MET DST)
Subject: [R] histogram
In-Reply-To: <3D070543.AB2FA007@unimc.it>
Message-ID: <Pine.OSF.3.96.1020612122950.1021C-100000@paleo>


If your initial values are 1:10,
a <- paste(paste("log(",1:10,sep=""),")",sep="")

would give you a vector string a:
> a
[1] "log(1)"  "log(2)"  "log(3)"  "log(4)"  "log(5)"  "log(6)"  "log(7)"
 [8] "log(8)"  "log(9)"  "log(10)"

You can use "a" for in the histogram in a number of ways.
Faster:

> b <- rnorm(100)
> b <- b[b>0]
> hist(b)
note tick labels in the x-axis. Here from 0 to 3 by 0.5:
> hist(b,labels=paste(paste("log(",seq(0,3,0.5),sep=""),")",sep=""))

Better:
> hist(b,axes=F)
> axis(1,labels=paste(paste("log(",seq(0,3,0.5),sep=""),")",sep=""))
> axis(2)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 12 Jun 2002, Luca De Benedictis wrote:

> Dear friends,
> I have been following the help-list in the next two months and I would
> like to tell how much I admire the effort of such a great teem of R
> expert. I am learning a lot. Thank you.
> 
> My problem is the following. I work with a fairly large data set (700
> productive sectors, 70 countries, 25 years) and I am applying kernel
> density (using MASS or sm) to sectoral exports which have markedly
> skewed distributions, so I do the analysis on a log scale.
> What I would like when I plot histograms or densities is to have on the
> horizontal axis not the value y which is equal to log(x) but the
> expression log(x) itself (i.e. log(0.3), log(1), log(34),...)
> 
> I have played a little bit with names.arg :
> plot(density(log(x[,3]),width=0.4, names.arg="log(x)")
> 
> but I was not very successful. Any suggestion would be appreciated.
> Thanks.
> 
> Luca
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 12 12:38:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jun 2002 11:38:18 +0100 (GMT Daylight Time)
Subject: [R] How does R compares for speed?
In-Reply-To: <MABBLJDICACNFOLGIHJOIECGCMAA.philippe.grosjean@ifremer.fr>
Message-ID: <Pine.WNT.4.44.0206121132590.3812-100000@petrel>

On Wed, 12 Jun 2002, Philippe Grosjean wrote:

> Hi,
>
> For those who are interested, I have update my R benchmark (to version
> 1.5.0) and also to Splus 6. They are available at:
> http://www.sciviews.org/other/benchmark.htm. A comparison is made between
> Matlab (5.3 & 6), R 1.5.0, Splus 6 rel 2, O-Matrix 5.1, Octave 2.1.31,
> Scilab 2.6, Rlab 2.1 and OX 3.00 under Windows 2000 pro.
>
> Overall, R is not the fastest package, but it is one of the fastest... and
> comparison with Splus is interesting! Please, note that the benchmark tests
> only a few function, and also gives no information about the "richness" or
> "usability" of the various software tested. At least, it is interesting to
> note that R is becoming more and more performant with versions: the
> benchmark applied to previous versions of R identified some lacks in
> performance, particularly in the sort() function, which now belong to the
> past. Congratulation for all who contributed (and still contribute) to make
> R one of the best statistical and "number crunching" system!!!

I couldn't find any details of how you actually programmed the systems.
For one example, there are many ways to do linear regression in R, and
most of them give a lot more output than matrix languages.  I suspect
R and S-PLUS are slow on test I-E because they do more.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jun 12 12:55:46 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 12 Jun 2002 12:55:46 +0200 (MET DST)
Subject: [R] histogram
In-Reply-To: <3D070543.AB2FA007@unimc.it>
Message-ID: <Pine.OSF.3.96.1020612125310.1021D-100000@paleo>

The example I sent was intended to show
how to make the tick labels with paste(),
not the distribution, of course.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Wed Jun 12 13:23:02 2002
From: jday at csihq.com (John Day)
Date: Wed, 12 Jun 2002 07:23:02 -0400
Subject: [R] Perl vs. R
Message-ID: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>

Prof. Bates,

Thanks for the pointers. I ran your two-liner (the args to write.table() 
needed to be swapped) and noted the runtime to be about 0.9 secs in CMD 
BATCH mode, several times slower than the Perl. You were right.

Actually, the code is not correct. The  specification required the 
benchmark code to collect the fields in A and use the 1301 unique codes in 
B as a key to retrieve the A's appended and sorted in a list. That might 
require an explicit loop, which will slow it down even more.

But even then, for research and learning purposes, I think I could live 
with this sluggish performance most of the time, just to avoid having to 
interface with Perl. It's very convenient to do everything in R. Maybe 
occasionally use Perl where performance demands it etc.

I have the new John Fox book on order. But will try to find a copy of 
Venables-Ripley too. I don't have S-Plus, I thought the Fox book might be 
better for R-only users.

I also want to study Pinheiro-Bates, but must wait until I have grasped the 
basics.

Thanks,
John Day
At 11:14 AM 6/11/02 -0500, you wrote:
>John Day <jday at csihq.com> writes:
>
> > I am being told that R can process text files and strings as well as
> > Perl (and is certainly more elegant).
>
>"as well as" is in the eye of the beholder.  Perl is very highly tuned
>to manipulating text files.  One story of how the name perl came about
>is as an acronym for "Practical Extraction and Report Language".
>
>R is an environment for statistical computing and graphics.  Although
>there are pattern matching and text substitution functions in R, it is
>not well suited to writing "one-off" text transformation programs.
>You will find that starting R probably takes longer than the execution
>of the perl program.
>
>Rather than trying to take a simple benchmark and see how R performs
>on it, it would be better to learn about the language and see if it
>fulfills a real need for you.  I would suggest starting with Venables
>and Ripley's "Modern Applied Statistics with S-PLUS (3rd ed)" or the
>eagerly-awaited fourth edition of that book slated for publication
>this summer.
>
>Having said all this, I believe your perl program can be coded in R as
>something like
>
>   df <- read.table('infile', header = FALSE, sep = '\t', col = c('a', 'b'))
>   write.table('outfile', df[order(df$b), c('b', 'a')])
>
>although I think it would be better for you to describe what the task
>is rather than providing perl code to accomplish the task.  I long ago
>gave up reading other people's perl code and trying to make sense of
>it.  (In the Python community there is a saying that "Hell is reading
>other people's Perl code".)
>
> > Being an R neophyte I need a little boost to get started. I have a
> > little benchmark program in Perl that reads a delimited file, creates
> > an inverted table and spits the file out again in key sorted order.
> >
> >
> > It's just a few lines of Perl (see below). Can someone write the
> > equivalent in R? The benchmark and associated files are available
> > from: http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> >
> >
> > You'll note on this page that Perl runs the benchmark in 3.5
> > secs. That was in 1997. My 5.6.1 version of Perl runs it in 0.18 secs
> > now, on my 600Mhz Linux platform. Wondering how fast R will be in
> > comparison.
> >
> >
> > Thanks,
> > John Day
> >
> > FYI, here's the Perl source:
> >
> > #!/local/bin/perl
> > # invert benchmark in Perl
> > # see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> > # Keith Waclena <k-waclena at uchicago.edu>
> >
> > while (<STDIN>) {
> >      chop;
> >      ($a, $b) = split(/\t/);
> >      $B{$b} .= "\t$a";       # gotta lose leading tab later...
> > }
> >
> > foreach $b (sort keys %B) {
> >      # lose the leading tab with substr...
> >      print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 1)))) . 
> "\n";
> > }
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jun 12 14:50:22 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 12 Jun 2002 08:50:22 -0400
Subject: [R] How does R compares for speed?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC34F@usrymx10.merck.com>

> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> 
> On Wed, 12 Jun 2002, Philippe Grosjean wrote:
> > Hi,
> >
> > For those who are interested, I have update my R benchmark 
> (to version
> > 1.5.0) and also to Splus 6. They are available at:
> > http://www.sciviews.org/other/benchmark.htm. A comparison 
> is made between
> > Matlab (5.3 & 6), R 1.5.0, Splus 6 rel 2, O-Matrix 5.1, 
> Octave 2.1.31,
> > Scilab 2.6, Rlab 2.1 and OX 3.00 under Windows 2000 pro.
> >
> > Overall, R is not the fastest package, but it is one of the 
> fastest... and
> > comparison with Splus is interesting! Please, note that the 
> benchmark tests
> > only a few function, and also gives no information about 
> the "richness" or
> > "usability" of the various software tested. At least, it is 
> interesting to
> > note that R is becoming more and more performant with versions: the
> > benchmark applied to previous versions of R identified some lacks in
> > performance, particularly in the sort() function, which now 
> belong to the
> > past. Congratulation for all who contributed (and still 
> contribute) to make
> > R one of the best statistical and "number crunching" system!!!
> 
> I couldn't find any details of how you actually programmed 
> the systems.
> For one example, there are many ways to do linear regression in R, and
> most of them give a lot more output than matrix languages.  I suspect
> R and S-PLUS are slow on test I-E because they do more.

The scripts for the benchmark are actually on that web site.  The regression
part is coded as:

  a <- Rnorm(700*700); dim(a) <- c(700,700)
  b <- 1:700
  timing <- system.time({
    qra <- qr(a, tol = 1e-7);
    c <- qr.coef(qra, b)
    #Rem: a little faster than c <- lsfit(a, b, inter=F)$coefficients
  })[3]

For the timing on cross product, though, it's coded as crossprod(a, a), but
in R 1.5.0, crossprod(a) would have cut the time quite a bit.  On my PIII
laptop (IBM Thinkpad T22) with R-1.5.0 linked against ATLAS:

> a <- matrix(rnorm(550*550), 550,550)
> system.time(crossprod(a,a))
[1] 0.67 0.00 0.69   NA   NA
> system.time(crossprod(a))
[1] 0.32 0.00 0.47   NA   NA
> system.time(crossprod(a,a))
[1] 0.53 0.02 0.55   NA   NA
> system.time(crossprod(a))
[1] 0.32 0.00 0.33   NA   NA
> system.time(crossprod(a,a))
[1] 0.53 0.00 0.53   NA   NA
> system.time(crossprod(a))
[1] 0.30 0.00 0.33   NA   NA
> system.time(crossprod(a,a))
[1] 0.53 0.00 0.53   NA   NA
> system.time(crossprod(a))
[1] 0.32 0.00 0.32   NA   NA

Cheers,
Andy
 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jun 12 15:26:07 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 12 Jun 2002 09:26:07 -0400
Subject: [R] help debugging segfaults
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC351@usrymx10.merck.com>

(Sorry for the cross-post--- I wasn't sure which list is more
appropriate...)

Hi everyone,

I've run into segfaults when using my randomForest package on large dataset
(e.g., 100 x 15200) and large number of trees (e.g., ntree=7000 and
mtry=3000).  I'm wondering if anyone can give me some hints on where to look
for the problem.

The randomForest package mainly consists of two things: rf.c contains rf(),
a C wrapper function that calls the Fortran subroutines in rfsub.f that do
most of the work (slightly altered from Breiman's original code).  All
memory allocations are done in rf.c, using S_alloc().  When I run random
forest with the data and setting as mentioned above, it was able to finish
growing the 7000 trees, but segfault when returning from rf() to R.  GDB
gave the following (gdb prompts removed):

do_dotCode (call=0x873aff4, op=0x8a5f620, args=0x8a5d010, env=0x86fd0a4)
    at dotcode.c:1413
1413            break;
1845        PROTECT(ans = allocVector(VECSXP, nargs));
1846        havenames = 0;
1847        if (dup) {
1849            info.cargs = cargs;
1850            info.allArgs = args;
1851            info.nargs = nargs;
1852            info.functionName = buf;
1853            nargs = 0;
1854            for (pargs = args ; pargs != R_NilValue ; pargs =
CDR(pargs)) {
1855                if(argConverters[nargs]) {
1864                    PROTECT(s = CPtrToRObj(cargs[nargs], CAR(pargs),
which));

Program received signal SIGSEGV, Segmentation fault.
0x080ddc6a in RunGenCollect (size_needed=1515400) at memory.c:1133
1133                    SEXP next = NEXT_NODE(s);

This is obtained on Linux (Mandrake 8.2 w/enterprise kernel 2.4.8) running
on dual P3-866 Xeon with 2GB RAM, using R-1.5.0 compiled from source.

Any help/hints/comments are greatly appreciated!

Regards,
Andy

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY70-38            Rahway, NJ 07065
mailto:andy_liaw at merck.com



------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Wed Jun 12 15:28:21 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Wed, 12 Jun 2002 15:28:21 +0200
Subject: [R] How does R compares for speed?
Message-ID: <MABBLJDICACNFOLGIHJOKECJCMAA.philippe.grosjean@ifremer.fr>

Many thanks to Brain Ripley and Andy Liaw for suggesting improvements in the
benchmark test for R. your suggestions are now included in the study
(http://www.sciviews.org/other/benchmark.htm).

Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr or phgrosjean at sciviews.org
 ) ) ) ) )
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schlatti at mailer.ukbf.fu-berlin.de  Wed Jun 12 15:36:40 2002
From: schlatti at mailer.ukbf.fu-berlin.de (Dr. Peter Schlattmann)
Date: Wed, 12 Jun 2002 15:36:40 +0200 (CEST)
Subject: [R] How to stack the columns of matrix
Message-ID: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>

Dear all,

I need to stack the columns of a matrix with a variable number of columns.
I am aware of 

new<-c(a[,1],a[,2])

if I have a matrix 'a' with e.g. two columns. For a simulation study I
need to stack 
the matrix with a variable number of columns. Is there a way to do this?

Many thanks in advance
Peter


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed Jun 12 15:46:17 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Wed, 12 Jun 2002 23:46:17 +1000
Subject: [R] How to stack the columns of matrix
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1AF7@Roper-CV.qld.cmis.csiro.au>

Peter Schlattman asks:

>  -----Original Message-----
> From: 	Dr. Peter Schlattmann
> [mailto:schlatti at mailer.ukbf.fu-berlin.de] 
> Sent:	Wednesday, June 12, 2002 11:37 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] How to stack the columns of matrix
> 
> Dear all,
> 
> I need to stack the columns of a matrix with a variable number of columns.
> I am aware of 
> 
> new<-c(a[,1],a[,2])
> 
> if I have a matrix 'a' with e.g. two columns. For a simulation study I
> need to stack 
> the matrix with a variable number of columns. Is there a way to do this?
	[WNV]  In a sense they are already 'stacked', as you put it, in a
sense.  

	X[i, j] refers to the matrix element, X[k] refers to the kth element
of the column stacked matrix (unless k itself is a matrix, but that is
another story).

	To make it official with no going back you could use either

	new <- as.vector(a)
	new <- a; dim(new) <- NULL

	or a variety of other dodges.  After either of these new is the
stacked version of a.

	Bill Venables.

> Many thanks in advance
> Peter
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Jun 12 15:55:58 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 12 Jun 2002 15:55:58 +0200 (CEST)
Subject: [R] How to stack the columns of matrix
In-Reply-To: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>
Message-ID: <Pine.LNX.4.44.0206121553590.1448-100000@reclus.nhh.no>

On Wed, 12 Jun 2002, Dr. Peter Schlattmann wrote:

> Dear all,
> 
> I need to stack the columns of a matrix with a variable number of columns.
> I am aware of 
> 
> new<-c(a[,1],a[,2])
> 
> if I have a matrix 'a' with e.g. two columns. For a simulation study I
> need to stack 
> the matrix with a variable number of columns. Is there a way to do this?
> 

aa <- matrix(1:25, nrow=5)
aa
as.vector(aa)

as.vector() seems to stack as you require by column.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jun 12 16:04:19 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 12 Jun 2002 10:04:19 -0400
Subject: [R] How to stack the columns of matrix
In-Reply-To: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>; from schlatti@mailer.ukbf.fu-berlin.de on Wed, Jun 12, 2002 at 03:36:40PM +0200
References: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>
Message-ID: <20020612100419.A5348@cattell.psych.upenn.edu>

On 06/12/02 15:36, Dr. Peter Schlattmann wrote:
>I need to stack the columns of a matrix with a variable number of columns.
>I am aware of 
>
>new<-c(a[,1],a[,2])
>
>if I have a matrix 'a' with e.g. two columns. For a simulation study I
>need to stack 
>the matrix with a variable number of columns. Is there a way to do this?

I'm not sure what you mean by "stack," but I think

as.vector(a)

will do what you want.  It creates a vector out of a matrix,
column by column.  The length of the vector will be rows x
columns of a.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Wed Jun 12 16:07:57 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Wed, 12 Jun 2002 09:07:57 -0500
Subject: [R] Re: help debugging segfaults
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC351@usrymx10.merck.com>; from andy_liaw@merck.com on Wed, Jun 12, 2002 at 09:26:07AM -0400
References: <51F9C42DA15CD311BD220008C707D81906FFC351@usrymx10.merck.com>
Message-ID: <20020612090756.C12694@nokomis.stat.umn.edu>

These symptoms suggest that your code may be writing outside of the
data it allocates, which would trash internal data structures of the R
heap and result in a segfault at a GC.  I would try to find a malloc
debugging library, use malloc in place of S_alloc, and see if the
malloc debugging tools show any malloc heap corruption. The standard
malloc in Mac OS X has very good debugging support if you have access
to that.

luke

On Wed, Jun 12, 2002 at 09:26:07AM -0400, Liaw, Andy wrote:
> (Sorry for the cross-post--- I wasn't sure which list is more
> appropriate...)
> 
> Hi everyone,
> 
> I've run into segfaults when using my randomForest package on large dataset
> (e.g., 100 x 15200) and large number of trees (e.g., ntree=7000 and
> mtry=3000).  I'm wondering if anyone can give me some hints on where to look
> for the problem.
> 
> The randomForest package mainly consists of two things: rf.c contains rf(),
> a C wrapper function that calls the Fortran subroutines in rfsub.f that do
> most of the work (slightly altered from Breiman's original code).  All
> memory allocations are done in rf.c, using S_alloc().  When I run random
> forest with the data and setting as mentioned above, it was able to finish
> growing the 7000 trees, but segfault when returning from rf() to R.  GDB
> gave the following (gdb prompts removed):
> 
> do_dotCode (call=0x873aff4, op=0x8a5f620, args=0x8a5d010, env=0x86fd0a4)
>     at dotcode.c:1413
> 1413            break;
> 1845        PROTECT(ans = allocVector(VECSXP, nargs));
> 1846        havenames = 0;
> 1847        if (dup) {
> 1849            info.cargs = cargs;
> 1850            info.allArgs = args;
> 1851            info.nargs = nargs;
> 1852            info.functionName = buf;
> 1853            nargs = 0;
> 1854            for (pargs = args ; pargs != R_NilValue ; pargs =
> CDR(pargs)) {
> 1855                if(argConverters[nargs]) {
> 1864                    PROTECT(s = CPtrToRObj(cargs[nargs], CAR(pargs),
> which));
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x080ddc6a in RunGenCollect (size_needed=1515400) at memory.c:1133
> 1133                    SEXP next = NEXT_NODE(s);
> 
> This is obtained on Linux (Mandrake 8.2 w/enterprise kernel 2.4.8) running
> on dual P3-866 Xeon with 2GB RAM, using R-1.5.0 compiled from source.
> 
> Any help/hints/comments are greatly appreciated!
> 
> Regards,
> Andy
> 
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY70-38            Rahway, NJ 07065
> mailto:andy_liaw at merck.com
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Jun 12 16:14:04 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 12 Jun 2002 07:14:04 -0700
Subject: [R] Perl vs. R
In-Reply-To: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
References: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
Message-ID: <p05111700b92d03bc2c64@[128.115.153.6]>

I believe the following 5 lines do the job (if it looks like 6 lines, 
the email software made the for() loop line into two lines).

inp <- scan('perlcomp.dat',what=list(a='',b=''),sep='\t')
foo <- split(inp$a,inp$b)
sink('pcmp.out')
for (i in seq(foo)) 
cat(names(foo)[1],'\t',paste(sort(foo[[i]]),collapse='\t'),'\n',sep='')
sink()

I tried
   lapply(split(inp$a,inp$b),function(x) cat(names(x),sort(x),'\n'))
instead of the for() loop, but the names(x) part doesn't pick up the 
values of B as needed. But it doesn't matter, because the for() loop 
is just as fast.

Without the overhead of starting up R,

>  system.time(source('pcomp.r'))
Read 5642 records
[1] 1.51 0.00 1.72 0.00 0.00

On 466 mHz G4 Macintosh

>  version
          _                     
platform powerpc-apple-darwin5.5
arch     powerpc               
os       darwin5.5             
system   powerpc, darwin5.5    
status                         
major    1                     
minor    5.0                   
year     2002                  
month    04                    
day      29                    
language R                     


-Don

At 7:23 AM -0400 6/12/02, John Day wrote:
>Prof. Bates,
>
>Thanks for the pointers. I ran your two-liner (the args to 
>write.table() needed to be swapped) and noted the runtime to be 
>about 0.9 secs in CMD BATCH mode, several times slower than the 
>Perl. You were right.
>
>Actually, the code is not correct. The  specification required the 
>benchmark code to collect the fields in A and use the 1301 unique 
>codes in B as a key to retrieve the A's appended and sorted in a 
>list. That might require an explicit loop, which will slow it down 
>even more.
>
>But even then, for research and learning purposes, I think I could 
>live with this sluggish performance most of the time, just to avoid 
>having to interface with Perl. It's very convenient to do everything 
>in R. Maybe occasionally use Perl where performance demands it etc.
>
>I have the new John Fox book on order. But will try to find a copy 
>of Venables-Ripley too. I don't have S-Plus, I thought the Fox book 
>might be better for R-only users.
>
>I also want to study Pinheiro-Bates, but must wait until I have 
>grasped the basics.
>
>Thanks,
>John Day
>At 11:14 AM 6/11/02 -0500, you wrote:
>>John Day <jday at csihq.com> writes:
>>
>>>  I am being told that R can process text files and strings as well as
>>>  Perl (and is certainly more elegant).
>>
>>"as well as" is in the eye of the beholder.  Perl is very highly tuned
>>to manipulating text files.  One story of how the name perl came about
>>is as an acronym for "Practical Extraction and Report Language".
>>
>>R is an environment for statistical computing and graphics.  Although
>>there are pattern matching and text substitution functions in R, it is
>>not well suited to writing "one-off" text transformation programs.
>>You will find that starting R probably takes longer than the execution
>>of the perl program.
>>
>>Rather than trying to take a simple benchmark and see how R performs
>>on it, it would be better to learn about the language and see if it
>>fulfills a real need for you.  I would suggest starting with Venables
>>and Ripley's "Modern Applied Statistics with S-PLUS (3rd ed)" or the
>>eagerly-awaited fourth edition of that book slated for publication
>>this summer.
>>
>>Having said all this, I believe your perl program can be coded in R as
>>something like
>>
>>   df <- read.table('infile', header = FALSE, sep = '\t', col = c('a', 'b'))
>>   write.table('outfile', df[order(df$b), c('b', 'a')])
>>
>>although I think it would be better for you to describe what the task
>>is rather than providing perl code to accomplish the task.  I long ago
>>gave up reading other people's perl code and trying to make sense of
>>it.  (In the Python community there is a saying that "Hell is reading
>>other people's Perl code".)
>>
>>>  Being an R neophyte I need a little boost to get started. I have a
>>>  little benchmark program in Perl that reads a delimited file, creates
>>>  an inverted table and spits the file out again in key sorted order.
>>  >
>>  >
>>  > It's just a few lines of Perl (see below). Can someone write the
>>  > equivalent in R? The benchmark and associated files are available
>>  > from: http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
>>>
>>>
>>>  You'll note on this page that Perl runs the benchmark in 3.5
>>>  secs. That was in 1997. My 5.6.1 version of Perl runs it in 0.18 secs
>>>  now, on my 600Mhz Linux platform. Wondering how fast R will be in
>>>  comparison.
>>>
>>>
>>>  Thanks,
>>>  John Day
>>>
>>>  FYI, here's the Perl source:
>>>
>>>  #!/local/bin/perl
>>>  # invert benchmark in Perl
>>>  # see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
>>>  # Keith Waclena <k-waclena at uchicago.edu>
>>>
>>>  while (<STDIN>) {
>>>       chop;
>>>       ($a, $b) = split(/\t/);
>>>       $B{$b} .= "\t$a";       # gotta lose leading tab later...
>>>  }
>>>
>>>  foreach $b (sort keys %B) {
>>>       # lose the leading tab with substr...
>>>       print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 
>>>1)))) . "\n";
>>>  }
>>>
>>> 
>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>  r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>  Send "info", "help", or "[un]subscribe"
>>>  (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>> 
>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Wed Jun 12 16:23:01 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Wed, 12 Jun 2002 16:23:01 +0200 (MEST)
Subject: [R] identical calls are not equal !?
Message-ID: <25943.1023891781@www58.gmx.net>


Can please someone familiar with the R internals enlighten me on the
following strange observation:

# this is IDENTICAL as expected
identical(substitute(substitute()), substitute(substitute()))
# but NOT EQUAL !????
substitute(substitute()) == substitute(substitute())

# I originally found it on 
t2 <- function(e){
        substitute(e)
}
t2(substitute(x==y, list(y=y)))[1]
# I would expect all of the following to be equal !?
t2(substitute(x==y, list(y=y)))[1] == substitute(substitute())
t2(substitute(x==y, list(y=y)))[1] == substitute(substitute())[1]
identical(t2(substitute(x==y, list(y=y)))[1], substitute(substitute())[1])
identical(t2(substitute(x==y, list(y=y)))[1], substitute(substitute()))
identical(t2(substitute(x==y, list(y=y)))[1], quote(substitute()))

I have a guess that .Primitive("==") on method dispatch somehow treats its
first argument different from its second. However, if so, is this intended? Or
is it an unavoidable implementation issue? Or a bug?

Best


Jens Oehlschl?gel


-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Wed Jun 12 16:32:35 2002
From: jday at csihq.com (John Day)
Date: Wed, 12 Jun 2002 10:32:35 -0400
Subject: [R] Perl vs. R
In-Reply-To: <p05111700b92d03bc2c64@[128.115.153.6]>
References: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
 <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
Message-ID: <4.3.2.7.0.20020612102845.00c5c930@mail.csihq.com>

Don,
Thanks. I'm sure I am not the only who is learning a lot from this 
benchmark problem. It's very simple but is an abstract model for virtually 
all apps: open a file, do something to it, write out a new version of it etc.
John Day

At 07:14 AM 6/12/02 -0700, you wrote:
>I believe the following 5 lines do the job (if it looks like 6 lines, the 
>email software made the for() loop line into two lines).
>
>inp <- scan('perlcomp.dat',what=list(a='',b=''),sep='\t')
>foo <- split(inp$a,inp$b)
>sink('pcmp.out')
>for (i in seq(foo)) 
>cat(names(foo)[1],'\t',paste(sort(foo[[i]]),collapse='\t'),'\n',sep='')
>sink()
>
>I tried
>   lapply(split(inp$a,inp$b),function(x) cat(names(x),sort(x),'\n'))
>instead of the for() loop, but the names(x) part doesn't pick up the 
>values of B as needed. But it doesn't matter, because the for() loop is 
>just as fast.
>
>Without the overhead of starting up R,
>
>>  system.time(source('pcomp.r'))
>Read 5642 records
>[1] 1.51 0.00 1.72 0.00 0.00
>
>On 466 mHz G4 Macintosh
>
>>  version
>          _
>platform powerpc-apple-darwin5.5
>arch     powerpc
>os       darwin5.5
>system   powerpc, darwin5.5
>status
>major    1
>minor    5.0
>year     2002
>month    04
>day      29
>language R
>
>
>-Don
>
>At 7:23 AM -0400 6/12/02, John Day wrote:
>>Prof. Bates,
>>
>>Thanks for the pointers. I ran your two-liner (the args to write.table() 
>>needed to be swapped) and noted the runtime to be about 0.9 secs in CMD 
>>BATCH mode, several times slower than the Perl. You were right.
>>
>>Actually, the code is not correct. The  specification required the 
>>benchmark code to collect the fields in A and use the 1301 unique codes 
>>in B as a key to retrieve the A's appended and sorted in a list. That 
>>might require an explicit loop, which will slow it down even more.
>>
>>But even then, for research and learning purposes, I think I could live 
>>with this sluggish performance most of the time, just to avoid having to 
>>interface with Perl. It's very convenient to do everything in R. Maybe 
>>occasionally use Perl where performance demands it etc.
>>
>>I have the new John Fox book on order. But will try to find a copy of 
>>Venables-Ripley too. I don't have S-Plus, I thought the Fox book might be 
>>better for R-only users.
>>
>>I also want to study Pinheiro-Bates, but must wait until I have grasped 
>>the basics.
>>
>>Thanks,
>>John Day
>>At 11:14 AM 6/11/02 -0500, you wrote:
>>>John Day <jday at csihq.com> writes:
>>>
>>>>  I am being told that R can process text files and strings as well as
>>>>  Perl (and is certainly more elegant).
>>>
>>>"as well as" is in the eye of the beholder.  Perl is very highly tuned
>>>to manipulating text files.  One story of how the name perl came about
>>>is as an acronym for "Practical Extraction and Report Language".
>>>
>>>R is an environment for statistical computing and graphics.  Although
>>>there are pattern matching and text substitution functions in R, it is
>>>not well suited to writing "one-off" text transformation programs.
>>>You will find that starting R probably takes longer than the execution
>>>of the perl program.
>>>
>>>Rather than trying to take a simple benchmark and see how R performs
>>>on it, it would be better to learn about the language and see if it
>>>fulfills a real need for you.  I would suggest starting with Venables
>>>and Ripley's "Modern Applied Statistics with S-PLUS (3rd ed)" or the
>>>eagerly-awaited fourth edition of that book slated for publication
>>>this summer.
>>>
>>>Having said all this, I believe your perl program can be coded in R as
>>>something like
>>>
>>>   df <- read.table('infile', header = FALSE, sep = '\t', col = c('a', 'b'))
>>>   write.table('outfile', df[order(df$b), c('b', 'a')])
>>>
>>>although I think it would be better for you to describe what the task
>>>is rather than providing perl code to accomplish the task.  I long ago
>>>gave up reading other people's perl code and trying to make sense of
>>>it.  (In the Python community there is a saying that "Hell is reading
>>>other people's Perl code".)
>>>
>>>>  Being an R neophyte I need a little boost to get started. I have a
>>>>  little benchmark program in Perl that reads a delimited file, creates
>>>>  an inverted table and spits the file out again in key sorted order.
>>>  >
>>>  >
>>>  > It's just a few lines of Perl (see below). Can someone write the
>>>  > equivalent in R? The benchmark and associated files are available
>>>  > from: http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
>>>>
>>>>
>>>>  You'll note on this page that Perl runs the benchmark in 3.5
>>>>  secs. That was in 1997. My 5.6.1 version of Perl runs it in 0.18 secs
>>>>  now, on my 600Mhz Linux platform. Wondering how fast R will be in
>>>>  comparison.
>>>>
>>>>
>>>>  Thanks,
>>>>  John Day
>>>>
>>>>  FYI, here's the Perl source:
>>>>
>>>>  #!/local/bin/perl
>>>>  # invert benchmark in Perl
>>>>  # see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
>>>>  # Keith Waclena <k-waclena at uchicago.edu>
>>>>
>>>>  while (<STDIN>) {
>>>>       chop;
>>>>       ($a, $b) = split(/\t/);
>>>>       $B{$b} .= "\t$a";       # gotta lose leading tab later...
>>>>  }
>>>>
>>>>  foreach $b (sort keys %B) {
>>>>       # lose the leading tab with substr...
>>>>       print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 1)))) 
>>>> . "\n";
>>>>  }
>>>>
>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>>  r-help mailing list -- Read 
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>>  Send "info", "help", or "[un]subscribe"
>>>>  (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>--
>--------------------------------------
>Don MacQueen
>Environmental Protection Department
>Lawrence Livermore National Laboratory
>Livermore, CA, USA
>--------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Jun 12 17:00:52 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Wed, 12 Jun 2002 10:00:52 -0500 (CDT)
Subject: [R] How to stack the columns of matrix
In-Reply-To: 
	<Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>
	(schlatti@mailer.ukbf.fu-berlin.de)
References: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>
Message-ID: <200206121500.KAA04178@definetti.uark.edu>


as.vector is probably what you need.

Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

> Date: Wed, 12 Jun 2002 15:36:40 +0200 (CEST)
> From: "Dr. Peter Schlattmann" <schlatti at mailer.ukbf.fu-berlin.de>
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: TEXT/PLAIN; charset=US-ASCII
> Content-Length: 663
> 
> Dear all,
> 
> I need to stack the columns of a matrix with a variable number of columns.
> I am aware of 
> 
> new<-c(a[,1],a[,2])
> 
> if I have a matrix 'a' with e.g. two columns. For a simulation study I
> need to stack 
> the matrix with a variable number of columns. Is there a way to do this?
> 
> Many thanks in advance
> Peter
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 12 17:02:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jun 2002 17:02:51 +0200
Subject: [R] identical calls are not equal !?
In-Reply-To: <25943.1023891781@www58.gmx.net>
References: <25943.1023891781@www58.gmx.net>
Message-ID: <x2fzzsh750.fsf@blueberry.kubism.ku.dk>

oehl_list at gmx.de writes:

> Can please someone familiar with the R internals enlighten me on the
> following strange observation:
> 
> # this is IDENTICAL as expected
> identical(substitute(substitute()), substitute(substitute()))
> # but NOT EQUAL !????
> substitute(substitute()) == substitute(substitute())
> 
> # I originally found it on 
> t2 <- function(e){
>         substitute(e)
> }
> t2(substitute(x==y, list(y=y)))[1]
> # I would expect all of the following to be equal !?
> t2(substitute(x==y, list(y=y)))[1] == substitute(substitute())
> t2(substitute(x==y, list(y=y)))[1] == substitute(substitute())[1]
> identical(t2(substitute(x==y, list(y=y)))[1], substitute(substitute())[1])
> identical(t2(substitute(x==y, list(y=y)))[1], substitute(substitute()))
> identical(t2(substitute(x==y, list(y=y)))[1], quote(substitute()))
> 
> I have a guess that .Primitive("==") on method dispatch somehow treats its
> first argument different from its second. However, if so, is this intended? Or
> is it an unavoidable implementation issue? Or a bug?

Shorter version:

b <- quote(f())
a <- b
a==b

It's a bug. The intention of the code in do_relop_dflt is that calls are
equal if they deparse to the same string. 

However, this is plain wrong:

67              SET_STRING_ELT(tmp, 0, (iS) ? PRINTNAME(x) : deparse1(x, 0));
68              REPROTECT(x = tmp, xpi);

since deparse1(x, 0) is a SEXP and not a string.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 12 17:12:43 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jun 2002 17:12:43 +0200
Subject: [R] identical calls are not equal !?
In-Reply-To: <x2fzzsh750.fsf@blueberry.kubism.ku.dk>
References: <25943.1023891781@www58.gmx.net>
	<x2fzzsh750.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2bsagh6ok.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> 
> Shorter version:
> 
> b <- quote(f())
> a <- b
> a==b
> 
> It's a bug. The intention of the code in do_relop_dflt is that calls are
> equal if they deparse to the same string. 
> 
> However, this is plain wrong:
> 
> 67              SET_STRING_ELT(tmp, 0, (iS) ? PRINTNAME(x) : deparse1(x, 0));
> 68              REPROTECT(x = tmp, xpi);
> 
> since deparse1(x, 0) is a SEXP and not a string.

Not quite. It's supposed to be a SEXP, but a CHARSXP and not a STRSXP.
The fix is simple enough to be committed for 1.5.1, I think.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Wed Jun 12 17:22:14 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Wed, 12 Jun 2002 17:22:14 +0200
Subject: [R] Bagged clustering (package e1071)
Message-ID: <3D076721.71E086C2@pasteur.fr>

Dear all,

I have a problem with the function "bagged clustering" of package
e1071.
When I try to run the example of bagged clustering with the iris data :

data(iris)
bc1 <- bclust(iris[,1:4], 3, base.centers=5)

I got the following message error :

Loading required package: class
Committee Member: 1(1) 2(1) 3(1) 4(1) 5(1) 6(1) 7(1) 8(1) 9(1)
10(1)Error in bclust(iris[, 1:4], 3, base.centers = 5) :
 couldn't find function "knn1"
In addition: Warning message:
There is no package called `class' in: library(package, char = TRUE,
logical = TRUE, warn.conflicts = warn.conflicts,

I have looked for the package class at CRAN but I have not found it.

Thank you in advance.

Aboubakar Maitournam.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Wed Jun 12 17:25:26 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Wed, 12 Jun 2002 16:25:26 +0100 (BST)
Subject: [R] help debugging segfaults
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC351@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.21.0206121620140.19735-100000@dolphin>

Have you tried the dmalloc library (http://dmalloc.com)? I found it great
for tracing memory problems, but I was only using C rather than a mixture
of C and fortran.  Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


> I've run into segfaults when using my randomForest package on large dataset
> (e.g., 100 x 15200) and large number of trees (e.g., ntree=7000 and
> mtry=3000).  I'm wondering if anyone can give me some hints on where to look
> for the problem.
> 
> The randomForest package mainly consists of two things: rf.c contains rf(),
> a C wrapper function that calls the Fortran subroutines in rfsub.f that do
> most of the work (slightly altered from Breiman's original code).  All
> memory allocations are done in rf.c, using S_alloc().  When I run random
> forest with the data and setting as mentioned above, it was able to finish
> growing the 7000 trees, but segfault when returning from rf() to R.  GDB
> gave the following (gdb prompts removed):
> 
> do_dotCode (call=0x873aff4, op=0x8a5f620, args=0x8a5d010, env=0x86fd0a4)
>     at dotcode.c:1413
> 1413            break;
> 1845        PROTECT(ans = allocVector(VECSXP, nargs));
> 1846        havenames = 0;
> 1847        if (dup) {
> 1849            info.cargs = cargs;
> 1850            info.allArgs = args;
> 1851            info.nargs = nargs;
> 1852            info.functionName = buf;
> 1853            nargs = 0;
> 1854            for (pargs = args ; pargs != R_NilValue ; pargs =
> CDR(pargs)) {
> 1855                if(argConverters[nargs]) {
> 1864                    PROTECT(s = CPtrToRObj(cargs[nargs], CAR(pargs),
> which));
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x080ddc6a in RunGenCollect (size_needed=1515400) at memory.c:1133
> 1133                    SEXP next = NEXT_NODE(s);
> 
> This is obtained on Linux (Mandrake 8.2 w/enterprise kernel 2.4.8) running
> on dual P3-866 Xeon with 2GB RAM, using R-1.5.0 compiled from source.
> 
> Any help/hints/comments are greatly appreciated!
> 
> Regards,
> Andy
> 
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY70-38            Rahway, NJ 07065
> mailto:andy_liaw at merck.com
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at tirol.gv.at  Wed Jun 12 17:25:42 2002
From: H.RINNER at tirol.gv.at (RINNER Heinrich)
Date: Wed, 12 Jun 2002 17:25:42 +0200
Subject: [R] data mining: finding association rules
Message-ID: <C4D44AB4CB62D311BA6500041202E886031EE0A8@xms1.tirol.gv.at>

Dear R-users!

I would like to search for "association rules" (and compute support and
confidence, for example) in a data set, and wonder if this can be done with
R (version 1.5.0 for Windows)?

Particulary, I wonder if
a) anyone has done something like that with R
or
b)maybe someone has written an R-interface to some existing
algorithm/software (e.g. to something like the "apriori"-program, available
from http://fuzzy.cs.uni-magdeburg.de/~borgelt/#Software)?

-Heinrich Rinner.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 12 17:30:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jun 2002 16:30:28 +0100 (GMT Daylight Time)
Subject: [R] Bagged clustering (package e1071)
In-Reply-To: <3D076721.71E086C2@pasteur.fr>
Message-ID: <Pine.WNT.4.44.0206121627460.3176-100000@petrel>

On Wed, 12 Jun 2002, Aboubakar Maitournam wrote:

> Dear all,
>
> I have a problem with the function "bagged clustering" of package
> e1071.
> When I try to run the example of bagged clustering with the iris data :
>
> data(iris)
> bc1 <- bclust(iris[,1:4], 3, base.centers=5)
>
> I got the following message error :
>
> Loading required package: class
> Committee Member: 1(1) 2(1) 3(1) 4(1) 5(1) 6(1) 7(1) 8(1) 9(1)
> 10(1)Error in bclust(iris[, 1:4], 3, base.centers = 5) :
>  couldn't find function "knn1"
> In addition: Warning message:
> There is no package called `class' in: library(package, char = TRUE,
> logical = TRUE, warn.conflicts = warn.conflicts,
>
> I have looked for the package class at CRAN but I have not found it.

It is part of bundle VR and as a recommended package *ought* to be in your
R installation, so please take this up with whoever installed it.

I think bclust should test the return value from require(clust) and fail if
it is FALSE.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jun 12 17:47:54 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 12 Jun 2002 17:47:54 +0200 (MET DST)
Subject: [R] How to stack the columns of matrix
In-Reply-To: <Pine.LNX.4.21.0206121531450.28283-100000@postamt.ukbf.fu-berlin.de>
Message-ID: <Pine.OSF.3.96.1020612173747.1021I-100000@paleo>


If you have no idea of the max. number of cols, then
a <- NULL
and
each time you have a new vector to add:
a <- cbind(a,newvector) 

If you can have some idea of the maximum number of cols., 
it seems that it's more efficient for the memory to create
a <- matrix(0,nrow=nr, ncol=maxcol) 

and then

newcolnumber <- newcolnumber + 1 
#having newcolnumber <- 0 at the begining of the function
a[,newcolnumber] <- newvector

A the end, keep only those cols that have been used
(the last value of newcolnumber):
a[,1:newcolnumber]

Agus


On Wed, 12 Jun 2002, Dr. Peter Schlattmann wrote:

> Dear all,
> 
> I need to stack the columns of a matrix with a variable number of columns.
> I am aware of 
> 
> new<-c(a[,1],a[,2])
> 
> if I have a matrix 'a' with e.g. two columns. For a simulation study I
> need to stack 
> the matrix with a variable number of columns. Is there a way to do this?
> 
> Many thanks in advance
> Peter
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 12 17:42:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jun 2002 17:42:50 +0200
Subject: [R] data mining: finding association rules
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886031EE0A8@xms1.tirol.gv.at>
References: <C4D44AB4CB62D311BA6500041202E886031EE0A8@xms1.tirol.gv.at>
Message-ID: <x27kl4h5ad.fsf@blueberry.kubism.ku.dk>

RINNER Heinrich <H.RINNER at tirol.gv.at> writes:

> Dear R-users!
> 
> I would like to search for "association rules" (and compute support and
> confidence, for example) in a data set, and wonder if this can be done with
> R (version 1.5.0 for Windows)?
> 
> Particulary, I wonder if
> a) anyone has done something like that with R
> or
> b)maybe someone has written an R-interface to some existing
> algorithm/software (e.g. to something like the "apriori"-program, available
> from http://fuzzy.cs.uni-magdeburg.de/~borgelt/#Software)?

Not that I know of, but all Borgelt's stuff is GPL and the i/o and
options of "apriori" appear to be simple to adapt to R.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From josep_perarnau at coeic.org  Wed Jun 12 18:12:03 2002
From: josep_perarnau at coeic.org (Josep Perarnau i Codina)
Date: Wed, 12 Jun 2002 18:12:03 +0200
Subject: [R] more in contour plot for non-linear models
Message-ID: <000601c2122b$e4d4f310$e73604d5@upc.es>

Dear all,

Many thanks for your help in the contour plot for non-liner models. I've
have found in the ellipse package an easy way to obtain the confidance
region for a pair of parameters, for almost any model. 
But my question is the following. Exist some function to obtain the
confidance regions for the regression parameters ( the same plot that
appears in page 255 of Venables and Ripley book) ? 


Josep Perarnau i Codina,      josep.perarnau at upc.es
Universitat Polit?cnica de Catalunya
Facultat de Matem?tiques i Estad?stica
LIOS - Laboratori d'Investigaci? Operativa i Simulaci?
Tel:  +34 93 4016947          Fax:  +34 93 4015855 
Pau Gargallo 5                     
08028 Barcelona


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From egonzalez at ctv.es  Wed Jun 12 18:11:36 2002
From: egonzalez at ctv.es (=?iso-8859-1?Q?Enrique_Gonz=E1lez?=)
Date: Wed, 12 Jun 2002 18:11:36 +0200
Subject: [R] Help with Varimax (mva)
Message-ID: <001d01c2122b$d48561c0$0160fea9@egonzalez>

I am using R mainly for multiple linear regression and principal
components analyses and I am quite happy with it. I think it is a
worderful work you have done.

But I am having a problem when using Varimax for rotating loadings
obtaines from a princomp (I use the cor = TRUE option): the variance
across the components in the variables does not mantain. Let me explain
it with an example in which the variances, which should be the same, are
listed in both the unrotated and rotated models:


Unrotated model:
              PC1                PC2                      variance
      x1    0,627
     -0,514

     0,66 *

      x2    -0,759
     0,068

     0,58

      x3    0,730
     -0,337

     0,65

      x4    -0,494
     -0,798

     0,88

      x5    -0,425
     -0,832

     0,87

      x6    -0,767
     0,168

     0,62








     total variance
     4,25



Model rotated with R's varimax:
              PC1               PC2                      variance
          x1    0,767
     -0,158

     0,61 **

      x2     -0,735
     -0,298

     0,63

      x3      0,801
     0,048

     0,64

      x4     -0,186
     -0,937

     0,91

      x5     -0,110
     -0,934

     0,88

      x6     -0,777
     -0,214

     0,65








     total variance
     4,33




* calculated as 0,627*0,627 + 0,514*0,514
**calculated as 0,735*0,735 + 0,298*0,298


Is there something special to take care about when performing Varimax?

Thanks in advance for your help,


Enrique Gonz?lez
egonzalez at ctv.es







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jun 12 18:19:32 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 12 Jun 2002 12:19:32 -0400
Subject: [R] Perl vs. R
In-Reply-To: <4.3.2.7.0.20020612102845.00c5c930@mail.csihq.com>; from jday@csihq.com on Wed, Jun 12, 2002 at 10:32:35AM -0400
References: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com> <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com> <p05111700b92d03bc2c64@[128.115.153.6]> <4.3.2.7.0.20020612102845.00c5c930@mail.csihq.com>
Message-ID: <20020612121932.A29836@jessie.research.bell-labs.com>


Just for completeness, I'll add that one can invoke Perl routines
directly from R and vice-versa using the RSPerl package.  If one
already has code in Perl to do a particular task, depending on the
specifics of the problem, one can get the best of both worlds by just
calling that from R and getting the results directly back from the
Perl interpreter as R objects.  Reading output from Perl via
connections in R is also a reasonable approach depending, and both of
these may become more important as the complexity of the recoding in R
grows. 

 D.

John Day wrote:
> Don,
> Thanks. I'm sure I am not the only who is learning a lot from this 
> benchmark problem. It's very simple but is an abstract model for virtually 
> all apps: open a file, do something to it, write out a new version of it etc.
> John Day
> 
> At 07:14 AM 6/12/02 -0700, you wrote:
> >I believe the following 5 lines do the job (if it looks like 6 lines, the 
> >email software made the for() loop line into two lines).
> >
> >inp <- scan('perlcomp.dat',what=list(a='',b=''),sep='\t')
> >foo <- split(inp$a,inp$b)
> >sink('pcmp.out')
> >for (i in seq(foo)) 
> >cat(names(foo)[1],'\t',paste(sort(foo[[i]]),collapse='\t'),'\n',sep='')
> >sink()
> >
> >I tried
> >   lapply(split(inp$a,inp$b),function(x) cat(names(x),sort(x),'\n'))
> >instead of the for() loop, but the names(x) part doesn't pick up the 
> >values of B as needed. But it doesn't matter, because the for() loop is 
> >just as fast.
> >
> >Without the overhead of starting up R,
> >
> >>  system.time(source('pcomp.r'))
> >Read 5642 records
> >[1] 1.51 0.00 1.72 0.00 0.00
> >
> >On 466 mHz G4 Macintosh
> >
> >>  version
> >          _
> >platform powerpc-apple-darwin5.5
> >arch     powerpc
> >os       darwin5.5
> >system   powerpc, darwin5.5
> >status
> >major    1
> >minor    5.0
> >year     2002
> >month    04
> >day      29
> >language R
> >
> >
> >-Don
> >
> >At 7:23 AM -0400 6/12/02, John Day wrote:
> >>Prof. Bates,
> >>
> >>Thanks for the pointers. I ran your two-liner (the args to write.table() 
> >>needed to be swapped) and noted the runtime to be about 0.9 secs in CMD 
> >>BATCH mode, several times slower than the Perl. You were right.
> >>
> >>Actually, the code is not correct. The  specification required the 
> >>benchmark code to collect the fields in A and use the 1301 unique codes 
> >>in B as a key to retrieve the A's appended and sorted in a list. That 
> >>might require an explicit loop, which will slow it down even more.
> >>
> >>But even then, for research and learning purposes, I think I could live 
> >>with this sluggish performance most of the time, just to avoid having to 
> >>interface with Perl. It's very convenient to do everything in R. Maybe 
> >>occasionally use Perl where performance demands it etc.
> >>
> >>I have the new John Fox book on order. But will try to find a copy of 
> >>Venables-Ripley too. I don't have S-Plus, I thought the Fox book might be 
> >>better for R-only users.
> >>
> >>I also want to study Pinheiro-Bates, but must wait until I have grasped 
> >>the basics.
> >>
> >>Thanks,
> >>John Day
> >>At 11:14 AM 6/11/02 -0500, you wrote:
> >>>John Day <jday at csihq.com> writes:
> >>>
> >>>>  I am being told that R can process text files and strings as well as
> >>>>  Perl (and is certainly more elegant).
> >>>
> >>>"as well as" is in the eye of the beholder.  Perl is very highly tuned
> >>>to manipulating text files.  One story of how the name perl came about
> >>>is as an acronym for "Practical Extraction and Report Language".
> >>>
> >>>R is an environment for statistical computing and graphics.  Although
> >>>there are pattern matching and text substitution functions in R, it is
> >>>not well suited to writing "one-off" text transformation programs.
> >>>You will find that starting R probably takes longer than the execution
> >>>of the perl program.
> >>>
> >>>Rather than trying to take a simple benchmark and see how R performs
> >>>on it, it would be better to learn about the language and see if it
> >>>fulfills a real need for you.  I would suggest starting with Venables
> >>>and Ripley's "Modern Applied Statistics with S-PLUS (3rd ed)" or the
> >>>eagerly-awaited fourth edition of that book slated for publication
> >>>this summer.
> >>>
> >>>Having said all this, I believe your perl program can be coded in R as
> >>>something like
> >>>
> >>>   df <- read.table('infile', header = FALSE, sep = '\t', col = c('a', 'b'))
> >>>   write.table('outfile', df[order(df$b), c('b', 'a')])
> >>>
> >>>although I think it would be better for you to describe what the task
> >>>is rather than providing perl code to accomplish the task.  I long ago
> >>>gave up reading other people's perl code and trying to make sense of
> >>>it.  (In the Python community there is a saying that "Hell is reading
> >>>other people's Perl code".)
> >>>
> >>>>  Being an R neophyte I need a little boost to get started. I have a
> >>>>  little benchmark program in Perl that reads a delimited file, creates
> >>>>  an inverted table and spits the file out again in key sorted order.
> >>>  >
> >>>  >
> >>>  > It's just a few lines of Perl (see below). Can someone write the
> >>>  > equivalent in R? The benchmark and associated files are available
> >>>  > from: http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> >>>>
> >>>>
> >>>>  You'll note on this page that Perl runs the benchmark in 3.5
> >>>>  secs. That was in 1997. My 5.6.1 version of Perl runs it in 0.18 secs
> >>>>  now, on my 600Mhz Linux platform. Wondering how fast R will be in
> >>>>  comparison.
> >>>>
> >>>>
> >>>>  Thanks,
> >>>>  John Day
> >>>>
> >>>>  FYI, here's the Perl source:
> >>>>
> >>>>  #!/local/bin/perl
> >>>>  # invert benchmark in Perl
> >>>>  # see <url:http://www.lib.uchicago.edu/keith/crisis/benchmarks/invert/
> >>>>  # Keith Waclena <k-waclena at uchicago.edu>
> >>>>
> >>>>  while (<STDIN>) {
> >>>>       chop;
> >>>>       ($a, $b) = split(/\t/);
> >>>>       $B{$b} .= "\t$a";       # gotta lose leading tab later...
> >>>>  }
> >>>>
> >>>>  foreach $b (sort keys %B) {
> >>>>       # lose the leading tab with substr...
> >>>>       print "$b\t" . join("\t", sort(split(/\t/, substr($B{$b}, 1)))) 
> >>>> . "\n";
> >>>>  }
> >>>>
> >>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>>>  r-help mailing list -- Read 
> >>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>>>  Send "info", "help", or "[un]subscribe"
> >>>>  (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>Send "info", "help", or "[un]subscribe"
> >>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> >--
> >--------------------------------------
> >Don MacQueen
> >Environmental Protection Department
> >Lawrence Livermore National Laboratory
> >Livermore, CA, USA
> >--------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Wed Jun 12 18:29:04 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Wed, 12 Jun 2002 12:29:04 -0400 (EDT)
Subject: [R] Opening all files in a directory
Message-ID: <200206121629.MAA22534@webmail5.cac.psu.edu>

Is there any way that R can be programmed so that it will cycle through 
all files in a directory without having to define file names?  The reason I ask
is because I will have about 50-100 files in a directory which will be randomly
named.  ie:  MIDEX, OACES-CO2, ODEN91, etc...  

If not...are there any languages out there that will do this sort of things?  Or is
there another method you could recommend for handling the problem?

Thanks,
Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Jun 12 18:31:37 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 13 Jun 2002 04:31:37 +1200
Subject: [R] Perl vs. R
In-Reply-To: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>; from jday@csihq.com on Wed, Jun 12, 2002 at 07:23:02AM -0400
References: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
Message-ID: <20020613043137.A814@camille.indigoindustrial.co.nz>

On Wed, Jun 12, 2002 at 07:23:02AM -0400, John Day wrote:
> I have the new John Fox book on order. But will try to find a copy of 
> Venables-Ripley too. I don't have S-Plus, I thought the Fox book might be 
> better for R-only users.

For most of Venables and Ripley (hereafter refered to as MASS), S-Plus vs. 
R makes scant difference.  The authors have in fact gone to great lengths
to use code that's R/S neutral wherever possible.  Details of MASS are 
available at:

http://www.stats.ox.ac.uk/pub/MASS3/

They also kindly provide an online pdf compliment which provides the few
corrections needed for MASS for R users.  This document isn't large - total
32 pages, with only 4 of those being MASS-specific (the rest is mostly a more 
general guide to R for S-Plus users).   Currently, this can be found at:

http://www.stats.ox.ac.uk/pub/R/VR3R.pdf

As stated earlier, the 4th edition is due this in June this winter (or
summer, for you Northern Hemisphere residents ;).

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Jun 12 18:32:35 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 12 Jun 2002 18:32:35 +0200 (MET DST)
Subject: [R] Opening all files in a directory
In-Reply-To: <200206121629.MAA22534@webmail5.cac.psu.edu>
Message-ID: <Pine.SO4.4.10.10206121832190.29989-100000@ufobi7.uni-forst.gwdg.de>

On Wed, 12 Jun 2002, MATT BORKOWSKI wrote:

%Is there any way that R can be programmed so that it will cycle through 
%all files in a directory without having to define file names?  The reason I ask
%is because I will have about 50-100 files in a directory which will be randomly
%named.  ie:  MIDEX, OACES-CO2, ODEN91, etc...  

have you checked
list.files() ?

%
%If not...are there any languages out there that will do this sort of things?  Or is
%there another method you could recommend for handling the problem?
%
%Thanks,
%Matt
%
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 12 18:37:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jun 2002 18:37:45 +0200
Subject: [R] Opening all files in a directory
In-Reply-To: <200206121629.MAA22534@webmail5.cac.psu.edu>
References: <200206121629.MAA22534@webmail5.cac.psu.edu>
Message-ID: <x23cvsh2qu.fsf@blueberry.kubism.ku.dk>

"MATT BORKOWSKI" <mpb170 at psu.edu> writes:

> Is there any way that R can be programmed so that it will cycle through 
> all files in a directory without having to define file names?  The reason I ask
> is because I will have about 50-100 files in a directory which will be randomly
> named.  ie:  MIDEX, OACES-CO2, ODEN91, etc...  
> 
> If not...are there any languages out there that will do this sort of things?  Or is
> there another method you could recommend for handling the problem?

For what purpose? Will "for (i in list.files(....)) ..."  do?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stat at estadao.com.br  Wed Jun 12 18:10:18 2002
From: stat at estadao.com.br (Rafael Bertola)
Date: Wed, 12 Jun 2002 13:10:18 -0300 
Subject: [R] bootstraping
Message-ID: <4609.143.106.2.50.1023898218.estadao@webmail.estadao.com.br>

hello,


I?ve got a problem:

I have two samples
x <- rnorm(30, 0,1)
y <- rnorm(30,0.1,1)

and i want to test the equality of them.
Here i've got a problem:
w <- c(x, y)
r <- bootstrap(w,100, mean)  # from the bootstrap package

and save the values r$thetastar

But i do H0: Fx=Fy so i create w and after this i wish to separate the
bootstraped values of w into two new population xb e yb and in this
values calculate the mean. How i do that?

thanks & sorow by my english


Rafael Bertola
Undergraduate in Statistics at UNICAMP - Brasil
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 12 18:44:24 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Jun 2002 18:44:24 +0200
Subject: [R] Opening all files in a directory
References: <200206121629.MAA22534@webmail5.cac.psu.edu>
Message-ID: <3D077A68.7EB9E0A2@statistik.uni-dortmund.de>



MATT BORKOWSKI wrote:
> 
> Is there any way that R can be programmed so that it will cycle through
> all files in a directory without having to define file names?  The reason I ask
> is because I will have about 50-100 files in a directory which will be randomly
> named.  ie:  MIDEX, OACES-CO2, ODEN91, etc...
> 
> If not...are there any languages out there that will do this sort of things?  Or is
> there another method you could recommend for handling the problem?


list.files() will help ...

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Jun 12 19:41:08 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 12 Jun 2002 18:41:08 +0100
Subject: [R] Opening all files in a directory
In-Reply-To: <200206121629.MAA22534@webmail5.cac.psu.edu>
References: <200206121629.MAA22534@webmail5.cac.psu.edu>
Message-ID: <1kJlBEA0e4B9EwAe@myatt.demon.co.uk>

MATT BORKOWSKI <mpb170 at psu.edu> writes:
>Is there any way that R can be programmed so that it will cycle through 
>all files in a directory without having to define file names?  The reason I ask
>is because I will have about 50-100 files in a directory which will be randomly
>named.  ie:  MIDEX, OACES-CO2, ODEN91, etc...  
>
>If not...are there any languages out there that will do this sort of things?  Or 
>is
>there another method you could recommend for handling the problem?

Something like:

cycle <- function(file.path = ".", file.pattern = "*.dat")
  {
  files.2.process <- dir(path = file.path, pattern = file.pattern)
  for(file.name in files.2.process)
    {
    current.file <- read.table(file.name, header = TRUE)
    #
    # now do something with this data ...
    #
    }
  }    

Does it for me. The file.pattern parameter takes regular expressions.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at alpha.oac.ucla.edu  Wed Jun 12 20:57:19 2002
From: yunda at alpha.oac.ucla.edu (Yunda Huang)
Date: Wed, 12 Jun 2002 11:57:19 -0700 (PDT)
Subject: [R] Rcmd on Windows
In-Reply-To: <3D06EEDC.F8DAFD13@statistik.uni-dortmund.de>
Message-ID: <Pine.A32.3.91.1020612115006.66706A-100000@alpha.oac.ucla.edu>

Hi,

> You have to call Rcmd from the windows shell, not within R (if I
> understood right).
> It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
> recent version of perl?
> Please, tell us something about your R version and OS!
> 
I have Windows 2000 professional on my computer. The R version I have 
is rw1020. I tried Rcmd outside RGui -- Dos environment, but it still did 
not work out. Would the version of R or my OS be the problem? I will 
download R-1.5.0 then. 

Thanks so much for the reply from Brian Ripley, Uwe Ligges and Kolling 
Alfons.

Best,
Yunda
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Wed Jun 12 21:04:42 2002
From: jday at csihq.com (John Day)
Date: Wed, 12 Jun 2002 15:04:42 -0400
Subject: [R] Perl vs. R
In-Reply-To: <20020613043137.A814@camille.indigoindustrial.co.nz>
References: <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
 <4.3.2.7.0.20020612072220.031db8d0@mail.csihq.com>
Message-ID: <4.3.2.7.0.20020612150348.031ee4d0@mail.csihq.com>

Jason,
Thanks. That should teach me to never judge a book by its cover. :-)
John Day
At 04:31 AM 6/13/02 +1200, Jason Turner wrote:
>On Wed, Jun 12, 2002 at 07:23:02AM -0400, John Day wrote:
> > I have the new John Fox book on order. But will try to find a copy of
> > Venables-Ripley too. I don't have S-Plus, I thought the Fox book might be
> > better for R-only users.
>
>For most of Venables and Ripley (hereafter refered to as MASS), S-Plus vs.
>R makes scant difference.  The authors have in fact gone to great lengths
>to use code that's R/S neutral wherever possible.  Details of MASS are
>available at:
>
>http://www.stats.ox.ac.uk/pub/MASS3/
>
>They also kindly provide an online pdf compliment which provides the few
>corrections needed for MASS for R users.  This document isn't large - total
>32 pages, with only 4 of those being MASS-specific (the rest is mostly a more
>general guide to R for S-Plus users).   Currently, this can be found at:
>
>http://www.stats.ox.ac.uk/pub/R/VR3R.pdf
>
>As stated earlier, the 4th edition is due this in June this winter (or
>summer, for you Northern Hemisphere residents ;).
>
>Cheers
>
>Jason
>--
>Indigo Industrial Controls Ltd.
>64-21-343-545
>jasont at indigoindustrial.co.nz
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at escuelaing.edu.co  Wed Jun 12 22:24:16 2002
From: iperez at escuelaing.edu.co (Ignacio =?iso-8859-1?Q?P=E9rez?=)
Date: Wed, 12 Jun 2002 15:24:16 -0500
Subject: [R] package lattice
Message-ID: <5.1.0.14.0.20020612152033.00a7fd50@pop3.escuelaing.edu.co>

Hi!

  I am using R1.5.0. When using functions form lattice the background is 
dark grey. I have tried to change it using par() but it does not work. By 
the way, if I use par and the standard functions like hist() there is no 
problem with the par function. Any hints?

Thank in advance,


Ignacio Perez
Escuela Colombiana de Ingenieria

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 12 22:28:21 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Jun 2002 22:28:21 +0200
Subject: [R] Rcmd on Windows
References: <Pine.A32.3.91.1020612115006.66706A-100000@alpha.oac.ucla.edu>
Message-ID: <3D07AEE5.CFEC5D88@statistik.uni-dortmund.de>

Yunda Huang wrote:
> 
> Hi,
> 
> > You have to call Rcmd from the windows shell, not within R (if I
> > understood right).
> > It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
> > recent version of perl?
> > Please, tell us something about your R version and OS!
> >
> I have Windows 2000 professional on my computer. The R version I have
> is rw1020. I tried Rcmd outside RGui -- Dos environment, 

Fortunately, Microsoft left DOS behind with WinNT, Win2000, WinXP (and
just calls the windows command shell sometimes confusingly DOS prompt).


> but it still did not work out. 
> Would the version of R or my OS be the problem? I will download R-1.5.0 then.

1.2.0 is roughly 18 months old (and since there were several versions
released in the meantime, it is really a good idea to report the version
you are using!). I cannot remind if there were any related problems in
it, but, anyway, it is highly recommended to upgrade to 1.5.0, or better
1.5.1, which will be released next week, AFAIK.

And again my question: Do you have a (recent) version of perl?
Did you install the required R source files (...\src\gnuwin32), which
have to be selected explicitely in the Setup-Wizard for Windows (if your
version is not self compiled)?

Uwe Ligges


> Thanks so much for the reply from Brian Ripley, Uwe Ligges and Kolling
> Alfons.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 12 22:47:49 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Jun 2002 22:47:49 +0200
Subject: [R] package lattice
References: <5.1.0.14.0.20020612152033.00a7fd50@pop3.escuelaing.edu.co>
Message-ID: <3D07B375.70F265A@statistik.uni-dortmund.de>



Ignacio P?rez wrote:
> 
> Hi!
> 
>   I am using R1.5.0. When using functions form lattice the background is
> dark grey. I have tried to change it using par() but it does not work. By
> the way, if I use par and the standard functions like hist() there is no
> problem with the par function. Any hints?

Latice implements trellis graphics. It is differs from the standard
graphics functions. Thus it doesn't use the par() parameters. See
?Lattice for details,

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jun 12 22:58:25 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 13 Jun 2002 08:58:25 +1200
Subject: [R] Rcmd on Windows
References: <Pine.A32.3.91.1020612115006.66706A-100000@alpha.oac.ucla.edu>
Message-ID: <005a01c21253$e6508f60$d02758db@kwan022>


----- Original Message -----
From: "Yunda Huang" <yunda at alpha.oac.ucla.edu>
To: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, June 13, 2002 6:57 AM
Subject: Re: [R] Rcmd on Windows


> Hi,
>
> > You have to call Rcmd from the windows shell, not within R (if I
> > understood right).
> > It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
> > recent version of perl?
> > Please, tell us something about your R version and OS!
> >
> I have Windows 2000 professional on my computer. The R version I have
> is rw1020. I tried Rcmd outside RGui -- Dos environment, but it still did
> not work out. Would the version of R or my OS be the problem? I will
> download R-1.5.0 then.
>


1) Do download R 1.5.0, or 1.5.1 which I think, will be released next week.

Another thing you want to check, is $R_HOME\bin in your PATH?

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jun 12 23:00:47 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 13 Jun 2002 09:00:47 +1200
Subject: Data Mining (was: Re: [R] data mining: finding association rules)
References: <C4D44AB4CB62D311BA6500041202E886031EE0A8@xms1.tirol.gv.at>
Message-ID: <006001c21254$3a839550$d02758db@kwan022>

Slightly off topic here...but you might want to try WEKA,
http://www.cs.waikato.ac.nz/~ml/

It is written in Java, and a free open-sourced software under GPL.

I found it very efficient and stable, and very useful too as it's got "many"
classification rules, some (three, I think) clustering rules and one
association rule (Apriori).

Would be interesting if it can be linked with R...

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "RINNER Heinrich" <H.RINNER at tirol.gv.at>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, June 13, 2002 3:25 AM
Subject: [R] data mining: finding association rules


> Dear R-users!
>
> I would like to search for "association rules" (and compute support and
> confidence, for example) in a data set, and wonder if this can be done
with
> R (version 1.5.0 for Windows)?
>
> Particulary, I wonder if
> a) anyone has done something like that with R
> or
> b)maybe someone has written an R-interface to some existing
> algorithm/software (e.g. to something like the "apriori"-program,
available
> from http://fuzzy.cs.uni-magdeburg.de/~borgelt/#Software)?
>
> -Heinrich Rinner.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ulf.martin at gmx.net  Thu Jun 13 00:30:19 2002
From: ulf.martin at gmx.net (Ulf Martin)
Date: Thu, 13 Jun 2002 00:30:19 +0200
Subject: [R] package lattice
In-Reply-To: <5.1.0.14.0.20020612152033.00a7fd50@pop3.escuelaing.edu.co>
Message-ID: <3D07E79B.26938.59A1515@localhost>

moin

>   I am using R1.5.0. When using functions form lattice the background is
> dark grey. I have tried to change it using par() but it does not work. By
> the way, if I use par and the standard functions like hist() there is no
> problem with the par function. Any hints?

simple solution for a white background and adapted colours:

  lset(col.whitebg())

read

  ?lset

for more on this.

bye
-- 
Ulf Martin
ulf.martin at gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adams.644 at osu.edu  Thu Jun 13 01:53:31 2002
From: adams.644 at osu.edu (jimi adams)
Date: Wed, 12 Jun 2002 19:53:31 -0400
Subject: [R] sumarry of monte carlo
References: <OF1B28BD39.1396BFB1-ON88256BB3.0054CF15@rtp.epa.gov>
Message-ID: <004801c2126c$5ba1e620$768f1941@columbus.rr.com>

i was wondering if someone could direct me towards a good summary of what
exactly Monte Carlo simulation is.

it popped up in a few articles i've been reading lately and i seem to
remember some discussion of it on this list.
thanks

jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N Oval Mall
Columbus, OH 43210-1353
614-688-4261

If there were time travel, wouldn't we have met somebody from the future by
now?
                                            -bill simmons

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vpaziran at yahoo.com  Thu Jun 13 03:04:54 2002
From: vpaziran at yahoo.com (Vahid Pazirandeh)
Date: Wed, 12 Jun 2002 18:04:54 -0700 (PDT)
Subject: [R] saving a global workspace?
Message-ID: <20020613010454.38496.qmail@web10105.mail.yahoo.com>

hi all,

i can't call my custom R function.

i'm using R 1.3.1 on Solaris with the SJava pkg from www.omegahat.org.  This
package let's me call R functions from Java, and it works great.

i wrote a custom R function and saved it in the workspace.  in my homedir, i
noticed the file named .RData was created.  i also noticed my workspace is ONLY
restored if the current working dir (when i run R) is the one with that file in
it.

i finally wanted to move my command-line driven Java code to become a servlet. 
the servlet works fine if i call built-in R commands like "mean" and pass it
variables (i can even receive the results from the R call).  however, when i
attempt to call my saved function, R crashes (and also termintes my servlet
engine!).  

is there a way to save to a global workspace somehow?  i'm thinking the .RData
file can't be found, so my custom function isn't restored (though i checked the
current working dir just before the R call from Java, and i made sure to put
the .RData in that location).

any help would be awesome!

please cc to the following address as i'm not on the mail list:
vpaziran at yahoo.com



regards,
vahid


=====
< NPACI Education Center on Computational Science and Engineering >
< http://edcenter.sdsu.edu >

"Career is great, but you cant run your hands through its hair."
=====

__________________________________________________

Yahoo! - Official partner of 2002 FIFA World Cup

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Thu Jun 13 06:46:26 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Thu, 13 Jun 2002 16:46:26 +1200
Subject: [R] possum sleeping: thanks and fisher.test() FEXACT error
Message-ID: <200206130446.g5D4kQI21394@r.hankin.sems.auckland.ac.nz>

Dear helplist

Many many thanks to everyone who helped me.  The trick was to use
tabulate() or, better,

tab <- rep(0,50)
names(tab) <- 1:50
tab[names(table(sleeps))] <- table(c)

My original dataset was a list of 50 trees and a length 12 vector
recording which tree a certain possum slept in on 12 nights.  As
Professor Ripley points out, a Monte-Carlo simulation is easy to set
up, and it shows that chi-squared is inapplicable.

If H0 is that the animal chooses randomly from amongst these 50 trees
then the number of sleeps in each tree is multinomial with n=50 and
p_i=12/50 for i=1:50 (H0 is biologically reasonable: the 50 trees
were those in which a possum slept on at least one occasion).

The next step is to check whether the five animals have different
preferences.  I have an array called alldata which has 50 rows (one
per tree) and five columns (one per animal).

But, in R-1.5.0,

R> fisher.test(alldata[,2:5])
Error in fisher.test(alldata[, 2:5]) : FEXACT error 30.
Stack length exceeded in f3xact.
This problem should not occur. 

what am I doing wrong here?

R> dput (alldata)
structure(c(0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 2, 0, 0, 0, 1, 0, 
0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 3, 0, 1, 
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 0, 1, 0, 0, 
0, 1, 0, 1, 0, 4, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
1, 0, 0, 2, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 
0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 0, 
0, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 
1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 8, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 
0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 1, 3, 0, 
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 4, 0, 0, 
0, 0), .Dim = c(50, 5), .Dimnames = list(NULL, c("x14", "x88", 
"x82", "x90", "x98")))






-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Thu Jun 13 16:19:00 NZST 2002
This (linux) system up continuously for:  287 days, 23 hours, 01 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jerfox at stanford.edu  Thu Jun 13 07:02:21 2002
From: jerfox at stanford.edu (Jeremy Fox)
Date: Wed, 12 Jun 2002 22:02:21 -0700
Subject: [R] Increasing Max Vector Length
Message-ID: <20020612220220.A5114@elaine2.stanford.edu>

I'm looking at doing some really large linear algebra problems. I
followed the helpful instructions in the back of the installation
guide for rather aggressive compilation options on 64-bit
Solaris. Happily, I can address more than 6GB of RAM at once in R, so
I the 64 bit part works fine. With the Sun Performance libraries, R is
also very fast.

One thing that still bugs me is the maximum vector length, which
apparently is 268435455. Can I increase this? 32 bit SPlus has the
same limitations, but Fortran, C and 32 bit Matlab do not, so it's not
a machine thing, I believe.

Thanks for any help,

-- 
------------------------
Jeremy T. Fox
jerfox at stanford.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Thu Jun 13 09:04:16 2002
From: acosa at ubu.es (Alvaro Colina)
Date: Thu, 13 Jun 2002 09:04:16 +0200
Subject: [R] package lattice
References: <5.1.0.14.0.20020612152033.00a7fd50@pop3.escuelaing.edu.co>
Message-ID: <3D0843F0.8040604@ubu.es>

You can use the function trellis.device() to initialize a Trellis 
display with appropriate settings of the graphics control parameter, 
using the option bg you change the background color. See the help.
Bye

-- 
==================================================
  Alvaro Colina                                    
  Area de Quimica Analitica.                       
  Facultad de Ciencias. Universidad de Burgos.    
  Pza. Misael Banuelos s/n. 09001. Burgos. Spain
  Phone: 34-947-258817 FAX: 34-947-258831       
  e-mail: acosa at ubu.es                           
  http://www2.ubu.es/quim/quimana/index.shtml
==================================================	



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 09:13:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Jun 2002 08:13:28 +0100 (BST)
Subject: [R] saving a global workspace?
In-Reply-To: <20020613010454.38496.qmail@web10105.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0206130811290.32667-100000@gannet.stats>

This is what R packages are for: to store R functions which are made
available to each session via library(PackageName).

That's how we manage code for embedded R processes.

BTW, R-1.3.1 is rather old.

On Wed, 12 Jun 2002, Vahid Pazirandeh wrote:

> hi all,
>
> i can't call my custom R function.
>
> i'm using R 1.3.1 on Solaris with the SJava pkg from www.omegahat.org.  This
> package let's me call R functions from Java, and it works great.
>
> i wrote a custom R function and saved it in the workspace.  in my homedir, i
> noticed the file named .RData was created.  i also noticed my workspace is ONLY
> restored if the current working dir (when i run R) is the one with that file in
> it.
>
> i finally wanted to move my command-line driven Java code to become a servlet.
> the servlet works fine if i call built-in R commands like "mean" and pass it
> variables (i can even receive the results from the R call).  however, when i
> attempt to call my saved function, R crashes (and also termintes my servlet
> engine!).
>
> is there a way to save to a global workspace somehow?  i'm thinking the .RData
> file can't be found, so my custom function isn't restored (though i checked the
> current working dir just before the R call from Java, and i made sure to put
> the .RData in that location).
>
> any help would be awesome!
>
> please cc to the following address as i'm not on the mail list:
> vpaziran at yahoo.com
>
>
>
> regards,
> vahid
>
>
> =====
> < NPACI Education Center on Computational Science and Engineering >
> < http://edcenter.sdsu.edu >
>
> "Career is great, but you cant run your hands through its hair."
> =====
>
> __________________________________________________
>
> Yahoo! - Official partner of 2002 FIFA World Cup
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Thu Jun 13 10:21:00 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Thu, 13 Jun 2002 10:21:00 +0200
Subject: [R] RMySQL package for Windows
Message-ID: <17062683984.20020613102100@vet-alfort.fr>

Dear R users,

Is it possible to install RMySQL package with R 1.5.0 on Windows 2000 platform?
This package is not listed in the packages list after calling "load package from CRAN" menu...

Thank you for your help,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 10:35:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 13 Jun 2002 01:35:23 -0700 (PDT)
Subject: [R] RMySQL package for Windows
In-Reply-To: <17062683984.20020613102100@vet-alfort.fr>
Message-ID: <Pine.GSO.4.44.0206130122560.17275-100000@auk.stats>

On Thu, 13 Jun 2002 tlorino at vet-alfort.fr wrote:

> Dear R users,
>
> Is it possible to install RMySQL package with R 1.5.0 on Windows 2000 platform?
> This package is not listed in the packages list after calling "load package from CRAN" menu...

Yes, it is possible, but it needs to be compiled against a particular
version of MySQL, so it is essential that you compile it yourself.

Beware: it is not easy due to mistakes in the MySQL declarations, amongst
other things.  I struggled for days with this.

It is much easier to use RODBC to talk to a MySQL database (on Windows).

> Thank you for your help,
> Tristan Lorino

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Thu Jun 13 13:29:45 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Thu, 13 Jun 2002 13:29:45 +0200
Subject: [R] Output of clustering packages
Message-ID: <3D088227.BA7824E1@pasteur.fr>

Dear all,

I am sorry because my question is perhaps trivial and is certainly a
detail.
It's related to the output of some clustering package
as mclust and e1071. The output is as follows :

  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
 [38] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
 [75] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
[112] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 1 1 1 1 1 1
1 1 1 1
[149] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
[186] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
[223] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
[260] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1
[297] 1 1 1 1 1 1 2 1 1 1 1

where [n]  is the label of individual and 1, 2, 3 are the index of
classes.

How to get the output in the form
[1]  1
[2]  2
.
.
.
I have tried to use write.table without success.

Thank you in advance.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 13:50:05 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 13 Jun 2002 12:50:05 +0100 (GMT Daylight Time)
Subject: [R] Problem with get.hist.quote (tseries library)....
In-Reply-To: <3D008DBA.302B9982@lmttrading.com>
Message-ID: <Pine.WNT.4.44.0206131246190.1884-100000@petrel>

I've traced this to a problem changing locales on Windows (it was in the
bugs database as PR#1116, BTW) and committed a fix to R-patched (soon to
be 1.5.1).

It only occurred

-  in a non-English locale
-  on platforms without strptime
-  but with locale support.

and there setting an English locale before starting R should have worked
(and did for me on WinXP).  But who knows about obselete versions of
Windows?

On Fri, 7 Jun 2002, Adrian Trapletti wrote:

> > Date: 07 Jun 2002 00:11:19 +0200
> > From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> > Subject: Re: [R] Problem with get.hist.quote (tseries library)....
> >
> > "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> >
> > > At 21:48 - 6 Jun 2002, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:
> > >
> > > > "Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:
> > > >
> > > > > At 16:36 - 6 Jun 2002, Carlos Ortega wrote:
> > > > >
> > > > > > I am having a problem with the get.hist.quote command (tseries library) in
> > > > > > the Windows version.
> > > > >
> > > > > I am having a similar problem:
> > > > >
> > > > > ++++++++++++++ ERROR MESSAGE +++++++++++++++++++
> > > > > > library(tseries)
> > > > > > x <- get.hist.quote(instrument = "ibm", quote = c("Cl", "Vol"))
> > > [...]
> > >
> > > > Not happening here.
> > > >
> > > > a) is your tseries package up to date?
> > > First lines from ChangeLog:
> > > 2002-04-26  Adrian Trapletti <a.trapletti at bluewin.ch>
> > >       * DESCRIPTION (Version): New version is 0.9-0.
> >
> > Same here. (Doesn't it identify itself on load?)
>
> Yes, it does. And version 0.9-0 is the actual one. And for me under Linux its working fine.
>
> Thanks for your help, Peter
>
> Adrian
>
> --
> Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
> Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
> CH-8610 Uster          Email:   a.trapletti at bluewin.ch
> Switzerland            WWW  :  trapletti.homelinux.com
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecoutre at stat.ucl.ac.be  Thu Jun 13 15:00:09 2002
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Thu, 13 Jun 2002 14:00:09 +0100
Subject: [R] Summary: recursion over list
Message-ID: <5.1.1.5.2.20020613131737.03de3240@stat4ux.stat.ucl.ac.be>


Dear all,

Some days ago, I asked to the list a way to recursively handle lists 
objects, so that on can apply a function only on terminal nodes.
Thank you for all the answers.
You will find here a little summary of answers with comments:

- lapply allows the user to apply a function  on all the items of a list, 
supposing this is a list with a unique depth (like: 
mylist<-list(a=1,b=1:2,c=1:100,d=rnorm(10))). You can't use lapply for 
deepest lists.

- unlist basically turns any list into a vector, trying to transfortm any 
element into atomics then concatenating all those elements (according to my 
understanding). The option "recursive' can be set to false so that only 
first rank (depth) objects are treated this way. This function wasn't 
suiting me, as it turns matrix into vectors.

- John Fox send a function of his that allows to flatten a list, ie to 
change a generic any-depth list to a one-depth list:

	flatten <- function(x){
	result <- NULL
	for(i in seq(along=x)) {
	if (any(sapply(x[[i]], is.list))) Recall(x[[i]])
	else result <- c(result, if (is.list(x[[i]])) x[[i]] else list(x[[i]]))
	}
	return(result)
	}

This function might be usefull for some purpose, but again not mine. (as 
the result is a concatenation, it can't deal matrices or functions).

- Thomas Lumley proposes a version that allows to do the same job without 
having to flatten the list:

	treeapply<-function (x, FUN)
	{
	if (is.atomic(x))  	FUN(x)
		else lapply(x, function(n) treeapply(n, FUN))
	}

Once again, all elements are not handled: I am considering any possible 
list: a list containing a function would not be handled.

- Finally, I have to thank particularly Mark Bravington, for his detailled 
answer and the code going with it.  I don't copy all this code here, as it 
is long, but it allows exactly to do what I wanted and I can send it to 
anyone interested.
Basically, you could find this code at:
	http://r-bugs.biostat.ku.dk/cgi-bin/R/feature%26FAQ?id=1558;user=guest


As Mark, I want to complain about the lack of indicing lists with long 
length indices, as it is possible in S. This features really should be 
implemented in R, as it allows fast and easy recursion.

Finally, I mention some problems I still encounter with lists:

- an empty list [cf list()] is not atomic and is recursive. So when you 
have to handle a list containing a node with an empty list, you may have 
problems (consider the object of class lm, and it's attributes $xlevels, 
when the variable is numeric).

- Here is an example of complicated list:

complist<- 
list(a=1,b=1:2,c=matrix(rnorm(100),10),d=list(),e=list(e1=1,e2=pi,e3=list(1,2)),f=function(x)return(2*x),as.ts(1:10))

My first question is equivalent to: write a R code that prints only 
terminals nodes of this function (and the print method treats differently 
those nodes, as they are ts, matrix, of functions)


Eric Lecoutre





?------------------------?------------------------------------------------?
| Eric Lecoutre          | Statistics                                     |
| Voie du Roman Pays, 20 | Teaching assistant / Consultant                |
| 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                 |
| Belgique               | lecoutre at stat.ucl.ac.be                        |
| (+32) (0)10 47 30 50   | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
?------------------------?------------------------------------------------?
|       We need statistical thinking, not rituals  -  Gigerenzer          |
?-------------------------------------------------------------------------?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at dina.kvl.dk  Thu Jun 13 15:05:06 2002
From: anielsen at dina.kvl.dk (Anders Nielsen)
Date: 13 Jun 2002 15:05:06 +0200
Subject: [R] Verbatim text to file
Message-ID: <1023973506.2196.43.camel@fisher.dina.kvl.dk>

Dear R Gurus 

What is the elegant solution to the following problem?

Say I want to make a small java class from within an 
R-script and then copy the lines to a file. This may 
seem like an odd thing to do, but I am currently 
writing an R-package which is using the 'SJava' package 
from the Omegahat project, and this would be very 
helpful to supply stand-alone examples. 

Till now I have been using something like the following, 
but I would like to be able to paste the Java-code into 
the R-script directly.   

Thanks in advance, 

Anders.  

####R-snip 
   
  prog.string<-paste(
    "public class myiim implements IIModel{",
    "  public double[] drift(double[] val, double dt){return(new
double[]{0,0,dt});}",
    "  public double[] noise(double[] val, double dt){",
    "    return(new double[]{Math.sqrt(dt)*.1,Math.sqrt(dt)*.1, 0});",
    "  }",
    "  public int dim(){return(3);}",
    "  public double dist(){return(0.0);}",
    "}",
  sep="\n")
  cat(prog.string, file="myiim.java")



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 13 15:13:22 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 13 Jun 2002 15:13:22 +0200
Subject: [R] Output of clustering packages
In-Reply-To: <3D088227.BA7824E1@pasteur.fr>
References: <3D088227.BA7824E1@pasteur.fr>
Message-ID: <15624.39538.363613.921892@gargle.gargle.HOWL>

>>>>> "AbMa" == Aboubakar Maitournam <amaitour at pasteur.fr> writes:

    AbMa> Dear all, I am sorry because my question is perhaps
    AbMa> trivial and is certainly a detail.  It's related to
    AbMa> the output of some clustering package as mclust and
    AbMa> e1071. The output is as follows :

 [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 [38] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 [75] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[112] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 1 1 1 1 1 1 1 1 1 1
[149] 1 1

    AbMa> where [n] is the label of individual and 1, 2, 3 are
    AbMa> the index of classes.

    AbMa> How to get the output in the form 
[1] 1 
[2] 2 
.  
.  
.
    AbMa> I have tried to use write.table without success.

The answer is  cbind() : it makes a 1-column matrix from your vector
Try

 ii <- 1 + rpois(50, lam= 1)
 cbind(ii)

{and of course this has nothing to do with clustering ...}

    AbMa> Thank you in advance.

you're welcome

    AbMa> Aboubakar Maitournam.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upton at mitre.org  Thu Jun 13 15:46:15 2002
From: upton at mitre.org (Stephen C. Upton)
Date: Thu, 13 Jun 2002 09:46:15 -0400
Subject: [R] sumarry of monte carlo
References: <OF1B28BD39.1396BFB1-ON88256BB3.0054CF15@rtp.epa.gov> <004801c2126c$5ba1e620$768f1941@columbus.rr.com>
Message-ID: <3D08A227.7AC4588B@mitre.org>

Check out
http://random.mat.sbg.ac.at/links/monte.html

jimi adams wrote:

> i was wondering if someone could direct me towards a good summary of what
> exactly Monte Carlo simulation is.
>
> it popped up in a few articles i've been reading lately and i seem to
> remember some discussion of it on this list.
> thanks
>
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
>
> If there were time travel, wouldn't we have met somebody from the future by
> now?
>                                             -bill simmons
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Jun 13 15:49:31 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 13 Jun 2002 09:49:31 -0400
Subject: [R] table problems
In-Reply-To: <76583265@toto.iv>
Message-ID: <15624.41707.264687.175974@gargle.gargle.HOWL>

Robin Hankin <r.hankin at auckland.ac.nz> has a vector of trees visited:
  R> c <- c(3,14,17,22,26,26,17,40,43,25,46,46)
and wants a count of visits for trees 1:50.  table(c) is inadequate because it
omits the zero cases.

Brian D. Ripley <ripley at stats.ox.ac.uk> suggested:
> Try tabulate(c), which goes to 46.  Or, better,
> tab <- rep(0,50)
> names(tab) <- 1:50
> tab[names(table(c))] <- table(c)

But tabulate has a second argument (nbins) which does what you want in 1 line:
  R> tabulate(c, 50)
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hars at bik-gmbh.de  Thu Jun 13 15:58:45 2002
From: hars at bik-gmbh.de (Florian Hars)
Date: Thu, 13 Jun 2002 15:58:45 +0200
Subject: [R] umlauts in a plot label in X11
Message-ID: <3D08A515.1070409@bik-gmbh.de>

After I have found out that I have to tell ess-mode in emacs to use an 
iso-latin<n> encoding scheme to communicate with the R subprocess, 
including umlauts in labels works, at least for writing to postscript.
Only the X11-display still makes trouble: It uses a font that has some 
russian characters in the position of the umlauts in latin-1/9.

Is there a way to tell R to use a font that fits to the current locale?

Yours, Florian Hars.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Thu Jun 13 16:09:10 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Thu, 13 Jun 2002 10:09:10 -0400 (EDT)
Subject: [R] problem with read.fwf
Message-ID: <200206131409.KAA06409@webmail1.cac.psu.edu>

Here is an example of the data I'm reading in using read.fwf:
 5342.0 5450.4  0.9200  0.4506 34.7030 27.8411 37.1306 46.0034  0.0000    
 5438.0 5549.6  0.9300  0.4477-34.7280 27.8616 37.1506 46.0234  0.0000

And the commands I'm using to read it in:
   widths <- c(7,7,8,8,8,8,8,8,8)
   filedata <- read.fwf(fileopen, widths,sep="",dec=".")

The problem is with reading the second line above.  R gives an error telling me
that there are not 9 data points in that line.  I tried adding fill=TRUE to the read
statement but then when I check the data.frame I'm reading the data into...the 
second line has been read in as:

5438 5549.6 0.93 0+0i 27.8616 37.1506 46.0234  0 NA

Correct me if I'm wrong...but I thought the whole point of read.fwf was to define
where values in a file begin and end.  As a result...by defining this...shouldn't
0.4477 and -34.7280 be read in as different values since their widths have 
been defined as 8 and 8?  I assume my problem is occurring because R is trying
to read in 0.4477-34.7280 as one value.  Is this a correct assumption?  Or is
there another problem with the dataset or my code that I'm overlooking?  
Is there anyway around this so that it will read in correctly?  Thanks for your
time.

Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 13 16:17:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2002 16:17:56 +0200
Subject: [R] umlauts in a plot label in X11
In-Reply-To: <3D08A515.1070409@bik-gmbh.de>
References: <3D08A515.1070409@bik-gmbh.de>
Message-ID: <x2u1o7qn3f.fsf@blueberry.kubism.ku.dk>

Florian Hars <hars at bik-gmbh.de> writes:

> After I have found out that I have to tell ess-mode in emacs to use an
> iso-latin<n> encoding scheme to communicate with the R subprocess,
> including umlauts in labels works, at least for writing to postscript.
> Only the X11-display still makes trouble: It uses a font that has some
> russian characters in the position of the umlauts in latin-1/9.
> 
> Is there a way to tell R to use a font that fits to the current locale?

Not without recompiling. The font is basically defined by:

static char *fontname_R6 = "-adobe-helvetica-%s-%s-*-*-*-%d-*-*-*-*-*-*";

which you could fix by changing the last two "*" to 8859-1. However,
it would likely make our eastern colleagues unhappy to change it in
the distribution.

However, I and I suspect most others actually do get the 8859-1
encoded fonts, so the problem is with your system configuration.

What you could do is to arrange that the system finds the  8859-1
fonts before any other font. This is generally done by manipulating
the font path, or reconfiguring your font server.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 13 16:36:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2002 16:36:57 +0200
Subject: [R] problem with read.fwf
In-Reply-To: <200206131409.KAA06409@webmail1.cac.psu.edu>
References: <200206131409.KAA06409@webmail1.cac.psu.edu>
Message-ID: <x2ptyvqm7q.fsf@blueberry.kubism.ku.dk>

"MATT BORKOWSKI" <mpb170 at psu.edu> writes:

> Here is an example of the data I'm reading in using read.fwf:
>  5342.0 5450.4  0.9200  0.4506 34.7030 27.8411 37.1306 46.0034  0.0000    
>  5438.0 5549.6  0.9300  0.4477-34.7280 27.8616 37.1506 46.0234  0.0000
> 
> And the commands I'm using to read it in:
>    widths <- c(7,7,8,8,8,8,8,8,8)
>    filedata <- read.fwf(fileopen, widths,sep="",dec=".")
> 
> The problem is with reading the second line above.  R gives an error telling me
> that there are not 9 data points in that line.  I tried adding fill=TRUE to the read
> statement but then when I check the data.frame I'm reading the data into...the 
> second line has been read in as:
> 
> 5438 5549.6 0.93 0+0i 27.8616 37.1506 46.0234  0 NA

Not what happens in the current version (the complex conversion is a
bug which has since been corrected), but that's not the source of the
problem.

read.fwf works by reading the data as lines, splitting it according to
the widths, writing the fields to a temporary file separated by "sep",
and reading it back in with the same separator. Using sep="" is what
is doing you in... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 16:51:59 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Jun 2002 15:51:59 +0100 (BST)
Subject: [R] table problems
In-Reply-To: <15624.41707.264687.175974@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0206131550100.1880-100000@gannet.stats>

On Thu, 13 Jun 2002, David Brahm wrote:

> Robin Hankin <r.hankin at auckland.ac.nz> has a vector of trees visited:
>   R> c <- c(3,14,17,22,26,26,17,40,43,25,46,46)
> and wants a count of visits for trees 1:50.  table(c) is inadequate because it
> omits the zero cases.
>
> Brian D. Ripley <ripley at stats.ox.ac.uk> suggested:
> > Try tabulate(c), which goes to 46.  Or, better,
> > tab <- rep(0,50)
> > names(tab) <- 1:50
> > tab[names(table(c))] <- table(c)
>
> But tabulate has a second argument (nbins) which does what you want in 1 line:
>   R> tabulate(c, 50)

Yes if you want 1:50.  Not for other label sets, which is why I did it
the more general way.  I did mention tabulate: should have givne more
details, I guess.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 16:54:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Jun 2002 15:54:40 +0100 (BST)
Subject: [R] problem with read.fwf
In-Reply-To: <x2ptyvqm7q.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206131553490.1880-100000@gannet.stats>

On 13 Jun 2002, Peter Dalgaard BSA wrote:

> "MATT BORKOWSKI" <mpb170 at psu.edu> writes:
>
> > Here is an example of the data I'm reading in using read.fwf:
> >  5342.0 5450.4  0.9200  0.4506 34.7030 27.8411 37.1306 46.0034  0.0000
> >  5438.0 5549.6  0.9300  0.4477-34.7280 27.8616 37.1506 46.0234  0.0000
> >
> > And the commands I'm using to read it in:
> >    widths <- c(7,7,8,8,8,8,8,8,8)
> >    filedata <- read.fwf(fileopen, widths,sep="",dec=".")
> >
> > The problem is with reading the second line above.  R gives an error telling me
> > that there are not 9 data points in that line.  I tried adding fill=TRUE to the read
> > statement but then when I check the data.frame I'm reading the data into...the
> > second line has been read in as:
> >
> > 5438 5549.6 0.93 0+0i 27.8616 37.1506 46.0234  0 NA
>
> Not what happens in the current version (the complex conversion is a
> bug which has since been corrected), but that's not the source of the
> problem.
>
> read.fwf works by reading the data as lines, splitting it according to
> the widths, writing the fields to a temporary file separated by "sep",
> and reading it back in with the same separator. Using sep="" is what
> is doing you in...

Or as the help page puts it

     sep: character; the separator used internally; should be a
          character that does not occur in the file.

and "" is not a character.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 13 17:13:00 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2002 17:13:00 +0200
Subject: [R] table problems
In-Reply-To: <Pine.LNX.4.31.0206131550100.1880-100000@gannet.stats>
References: <Pine.LNX.4.31.0206131550100.1880-100000@gannet.stats>
Message-ID: <x2k7p3qkjn.fsf@blueberry.kubism.ku.dk>

ripley at stats.ox.ac.uk writes:

> On Thu, 13 Jun 2002, David Brahm wrote:
> 
> > Robin Hankin <r.hankin at auckland.ac.nz> has a vector of trees visited:
> >   R> c <- c(3,14,17,22,26,26,17,40,43,25,46,46)
> > and wants a count of visits for trees 1:50.  table(c) is inadequate because it
> > omits the zero cases.
> >
> > Brian D. Ripley <ripley at stats.ox.ac.uk> suggested:
> > > Try tabulate(c), which goes to 46.  Or, better,
> > > tab <- rep(0,50)
> > > names(tab) <- 1:50
> > > tab[names(table(c))] <- table(c)
> >
> > But tabulate has a second argument (nbins) which does what you want in 1 line:
> >   R> tabulate(c, 50)
> 
> Yes if you want 1:50.  Not for other label sets, which is why I did it
> the more general way.  I did mention tabulate: should have givne more
> details, I guess.

My standard device would be

table(factor(c,levels=1:50))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fgibbons at hms.harvard.edu  Thu Jun 13 17:42:15 2002
From: fgibbons at hms.harvard.edu (Frank Gibbons)
Date: Thu, 13 Jun 2002 11:42:15 -0400
Subject: [R] Using RSPerl with add-on package ctest and named parameters
Message-ID: <5.0.0.25.2.20020613112928.00aa7d78@hms.harvard.edu>

Hi,.

I've installed RSPerl on my Linux box. It runs all of the test scripts that 
I've been able to find. I've learned that I can pass in vectors of data as 
array-refs, and can use named parameters with R::callWithNames and a hash 
of names and values.

The one problem that I'm left with is how to call a function from an add-on 
package ('ctest' in this case). I know that I need to use 
R::library("ctest") to load the library. I want to run the following R code 
from Perl:

 > library(ctest)
 > x <- c(1.83, .50, 1.62, 2.48, 1.68, 1.88, 1.55, 3.06, 1.3)
 > y <- c(0.878, 0.647, 0.598, 2.95, 1.06, 1.29, 1.06, 3.14, 1.29)
 > wilcox.test(x, y, paired=TRUE, alternative = "greater")

         Wilcoxon signed rank test

data:  x and y
V = 36, p-value = 0.06445
alternative hypothesis: true mu is greater than 0


I had thought that this should do the job:
#!/usr/bin/perl
use strict;
R::library("RSPerl");
R::library("ctest");
my @x = (1.83, .50, 1.62, 2.48, 1.68, 1.88, 1.55, 3.06, 1.3);
my @y = (0.878, 0.647, 0.598, 2.95, 1.06, 1.29, 1.06, 3.14, 1.29);
R::callWithNames('wilcox.test', {'', \@x, '', \@y, 'alternative', "greater"});

The problem is, it doesn't complain, it doesn't return anything at all. 
Shouldn't it print out the results just like the R code does, or does it 
return them in an array? I tried catching the return value, by assigning to 
a scalar, but get an error:

/usr/bin/perl: relocation error: 
/usr/lib/R/library/RSPerl/share/local/lib/perl/5.6.1/auto/R/R.so: undefined 
symbol: userLevelConversionToPerl

I know I'm using the right name ('wilcox.test'), since trying other 
variations ('wilcox', 'ctest::wilcox') gives me an error message. I'd 
really appreciate any suggestions for this problem. I've scoured the web, 
and haven't been able to find any examples in which an add-on package 
function is called using the RSPerl module.

Thanks,

Frank Gibbons

PhD, Computational Biologist,
Harvard Medical School BCMP/SGM-322, 250 Longwood Ave, Boston MA 02115, USA.
Tel: 617-432-3555       Fax: 
617-432-3557       http://llama.med.harvard.edu/~fgibbons

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fgibbons at hms.harvard.edu  Thu Jun 13 17:54:21 2002
From: fgibbons at hms.harvard.edu (Frank Gibbons)
Date: Thu, 13 Jun 2002 11:54:21 -0400
Subject: [R] Using RSPerl with add-on package ctest and named
  parameters
In-Reply-To: <Pine.LNX.4.31.0206131640590.2113-100000@gannet.stats>
References: <5.0.0.25.2.20020613112928.00aa7d78@hms.harvard.edu>
Message-ID: <5.0.0.25.2.20020613115132.00ae7258@hms.harvard.edu>

At 11:41 AM 6/13/2002, you wrote:

> > The problem is, it doesn't complain, it doesn't return anything at all.
> > Shouldn't it print out the results just like the R code does, or does it
>
>It would if you called print() on the return value (which is not a
>scalar).

Brian,

I tried that already, and get the same result as if I had tried assigning 
to a scalar (see below).

Can you suggest something else? Do you know for sure that it should return 
a value (rather than printing out its own results)? If so, is there 
possibly a problem with my installation of R.so, the library mentioned in 
the error message, which is apparently unable to find the symbol to convert 
the result (whatever it is) to Perl?

Thanks for your help,

Frank

> > return them in an array? I tried catching the return value, by assigning to
> > a scalar, but get an error:
> >
> > /usr/bin/perl: relocation error:
> > /usr/lib/R/library/RSPerl/share/local/lib/perl/5.6.1/auto/R/R.so: undefined
> > symbol: userLevelConversionToPerl

PhD, Computational Biologist,
Harvard Medical School BCMP/SGM-322, 250 Longwood Ave, Boston MA 02115, USA.
Tel: 617-432-3555       Fax: 
617-432-3557       http://llama.med.harvard.edu/~fgibbons

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Thu Jun 13 17:48:44 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Thu, 13 Jun 2002 17:48:44 +0200
Subject: [R] results of knn() command
Message-ID: <OFB89B1DE2.B32B31BA-ONC1256BD7.005654DC@fimat-france.fr>

Hi all,

I'm using knn() to estimate the missing values of a matrix and I just want
to output the complete matrix resulting from this command.
For example

m is a matrix with missing values

m1<-knn(m,k=10)

I want m1 to be a matrix I can work with, that is to say I want to apply
mean(m), var(m)...but the format is changed.
How do I solve this problem?
thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 13 17:52:55 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Jun 2002 16:52:55 +0100 (BST)
Subject: [R] Using RSPerl with add-on package ctest and named  parameters
In-Reply-To: <5.0.0.25.2.20020613115132.00ae7258@hms.harvard.edu>
Message-ID: <Pine.LNX.4.31.0206131650400.2219-100000@gannet.stats>

On Thu, 13 Jun 2002, Frank Gibbons wrote:

> At 11:41 AM 6/13/2002, you wrote:
>
> > > The problem is, it doesn't complain, it doesn't return anything at all.
> > > Shouldn't it print out the results just like the R code does, or does it
> >
> >It would if you called print() on the return value (which is not a
> >scalar).
>
> Brian,
>
> I tried that already, and get the same result as if I had tried assigning
> to a scalar (see below).
>
> Can you suggest something else? Do you know for sure that it should return
> a value (rather than printing out its own results)? If so, is there

I know for sure, because I can read the code, which ends

    class(RVAL) <- "htest"
    return(RVAL)
}

Until you finish `An Introduction to R', don't doubt the experts.

Professor Ripley

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 13 18:09:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 13 Jun 2002 09:09:10 -0700 (PDT)
Subject: [R] Summary: recursion over list
In-Reply-To: <5.1.1.5.2.20020613131737.03de3240@stat4ux.stat.ucl.ac.be>
Message-ID: <Pine.A41.4.44.0206130906350.115682-100000@homer10.u.washington.edu>

On Thu, 13 Jun 2002, Eric Lecoutre wrote:
>
> - Thomas Lumley proposes a version that allows to do the same job without
> having to flatten the list:
>
> 	treeapply<-function (x, FUN)
> 	{
> 	if (is.atomic(x))  	FUN(x)
> 		else lapply(x, function(n) treeapply(n, FUN))
> 	}
>
> Once again, all elements are not handled: I am considering any possible
> list: a list containing a function would not be handled.

though the revised version I posted a few hours later allowed the user to
specify a function that detected terminal nodes.  This *can't* be
completely generic, as it's quite possible that the terminal nodes could
in fact be lists (eg if they are objects).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kayee at u.washington.edu  Thu Jun 13 18:59:23 2002
From: kayee at u.washington.edu (Ka Yee Yeung)
Date: Thu, 13 Jun 2002 09:59:23 -0700 (PDT)
Subject: [R] installing R on Red Hat 7.1
Message-ID: <Pine.A41.4.44.0206130955250.218266-100000@homer03.u.washington.edu>

Hello,

I'm having trouble installing R from the binary to my red hat 7.1 box.
There are 2 rpm files on the web site:
R-base-1.5.0-1.i386.rpm
R-recommended-1.5.0-1.i386.rpm

When I did:
> rpm -ivh R-recommended-1.5.0-1.i386.rpm
error: failed dependencies:
	R-base = 1.5.0 is needed by R-recommended-1.5.0-1
	libblas.so.3   is needed by R-recommended-1.5.0-1
	libR.so   is needed by R-recommended-1.5.0-1

I can't find libblas.so.3 and libR.so on the web site.
Any help would be greatly appreciated. Thank you,

Ka Yee

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jun 13 19:27:03 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 13 Jun 2002 13:27:03 -0400
Subject: [R] installing R on Red Hat 7.1
In-Reply-To: <Pine.A41.4.44.0206130955250.218266-100000@homer03.u.washington.edu>; from kayee@u.washington.edu on Thu, Jun 13, 2002 at 09:59:23AM -0700
References: <Pine.A41.4.44.0206130955250.218266-100000@homer03.u.washington.edu>
Message-ID: <20020613132703.A24933@cattell.psych.upenn.edu>

On 06/13/02 09:59, Ka Yee Yeung wrote:
>Hello,
>
>I'm having trouble installing R from the binary to my red hat 7.1 box.
>There are 2 rpm files on the web site:
>R-base-1.5.0-1.i386.rpm
>R-recommended-1.5.0-1.i386.rpm
>
>When I did:
>> rpm -ivh R-recommended-1.5.0-1.i386.rpm
>error: failed dependencies:
>	R-base = 1.5.0 is needed by R-recommended-1.5.0-1
>	libblas.so.3   is needed by R-recommended-1.5.0-1
>	libR.so   is needed by R-recommended-1.5.0-1

You need to install R-base before R-recommended, or at the same
time, by giving rpm ... two arguments.  And it is much better to
use -Uvh rather than -ivh in general (unless you need both
versions of something).

>I can't find libblas.so.3 and libR.so on the web site.

libR.so is part of R base, so that will be taken care of.
libblas.so.3 is a puzzle.  It might be provided by R-base,
but on my system it is provided by a package called blas, which
you can get from http://rpmfind.net/linux/RPM/
it is the "Basic Linear Algebra..." package.  My hunch is that
it is part of R-base, so I would try that first.

More advice: learn how to use rpm.  It is a wonderful tool.  Look
at all the options of rpm -q, for example.  And "rpmfind" is
always helpful too.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmciera at yahoo.com  Thu Jun 13 19:49:54 2002
From: jmciera at yahoo.com (Ciera M. James)
Date: Thu, 13 Jun 2002 10:49:54 -0700 (PDT)
Subject: [R] Local influencial measure
Message-ID: <20020613174954.4777.qmail@web20207.mail.yahoo.com>


Dear Professor

I'm an Msc. in Applied statistics student studying in Belgium and I'm asking if you can assist me with an Splus/R code to calculate the local influential measure (proposed by Cook 1986) in logistic regression using one step approximation of parameter .

Thanks

James Ciera



---------------------------------

Sign-up for Video Highlights of 2002 FIFA World Cup
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020613/b9ef1326/attachment.html

From faheem at email.unc.edu  Thu Jun 13 19:57:29 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 13 Jun 2002 13:57:29 -0400 (EDT)
Subject: [R] using MAKEFLAGS in compiling C code as a shared library using R CMD
 SHLIB
Message-ID: <Pine.LNX.4.44.0206131336140.3008-100000@Chrestomanci>


Dear R People,

in the R FAQ (in the R Programming section) it says

**********************************************************************

How can I change compilation flags?
===================================

   Suppose you have C code file for dynloading into R, but you want to
use `R CMD SHLIB' with compilation flags other than the default ones
(which were determined when R was built).  You could change the file
``R_HOME'/etc/Makeconf' to reflect your preferences.  If you are a
Bourne shell user, you can also pass the desired flags to Make (which
is used for controlling compilation) via the Make variable `MAKEFLAGS',
as in

MAKEFLAGS="CFLAGS=-O3" R CMD SHLIB *.c

**********************************************************************

Now, something like

MAKEFLAGS="CC=gcc-3.0" R CMD SHLIB rc.c -o rc.so

works fine, and something like

MAKEFLAGS="CC=gcc-3.0 PKG_CFLAGS= -Wall" R CMD SHLIB rc.c -o rc.so

also works fine.

However,

MAKEFLAGS="CC=gcc-3.0 PKG_CFLAGS= -Wall -pedantic" R CMD SHLIB rc.c -o
rc.so

does not work fine. Make throws a fit and spews forth gibberish.

My understanding of MAKEFLAGS is that it is for passing flags to some
submake process, in this case R CMD SHLIB. The documentation (make manual)
says that

"Words in the value of `MAKEFLAGS' that contain `=', `make' treats as
variable definitions just as if they appeared on the command line."

However, there seems to be a problem when the variable definition contains
blanks, as PKG_CFLAGS does above. Can anyone advise on what is the correct
syntax for this? I tried various possibilities and none of them worked,
and I cannot find any documentation that is helpful.

I realise that this is more a question about make, but I thought someone
here might know, and since I am using it in the context of R...

It would probably be a good idea if the answer to this was added to the
above section of the FAQ, since it doesn't seem immediately obvious, at
least to me.

                                       Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Thu Jun 13 20:58:12 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Thu, 13 Jun 2002 13:58:12 -0500 (CDT)
Subject: [R] R make on macosx
Message-ID: <Pine.GSO.4.33.0206131341060.12654-100000@ysidro.econ.uiuc.edu>

I am trying to make R-1.5.0 from source on a new G4 system with the apple
developer tools and X11 installed and with ATLAS.  Running ./configure
appears to end normally, but running make yields:

gcc -no-cpp-precomp -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
Rdynload.c: In function `R_FindSymbol':
Rdynload.c:942: `CFunTab' undeclared (first use in this function)
Rdynload.c:942: (Each undeclared identifier is reported only once
Rdynload.c:942: for each function it appears in.)
make[3]: *** [Rdynload.o] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1
[cba943:local/R/R-1.5.0] roger%

I see from the help archive that something similar was a problem on HPux in
R-1.3.1.  Any suggestions would be most welcome...

url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jun 13 20:19:52 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 13 Jun 2002 14:19:52 -0400
Subject: [R] Summary: recursion over list
In-Reply-To: <5.1.1.5.2.20020613131737.03de3240@stat4ux.stat.ucl.ac.be>
Message-ID: <5.0.2.1.0.20020613141443.00aded20@mcmail.cis.mcmaster.ca>

Dear Eric,

At 02:00 PM 6/13/2002 +0100, Eric Lecoutre wrote:


>- John Fox send a function of his that allows to flatten a list, ie to 
>change a generic any-depth list to a one-depth list:
>
>         flatten <- function(x){
>         result <- NULL
>         for(i in seq(along=x)) {
>         if (any(sapply(x[[i]], is.list))) Recall(x[[i]])
>         else result <- c(result, if (is.list(x[[i]])) x[[i]] else 
> list(x[[i]]))
>         }
>         return(result)
>         }
>
>This function might be usefull for some purpose, but again not mine. (as 
>the result is a concatenation, it can't deal matrices or functions).

Here's an example of flattening a list that includes a matrix and a function:

     > lst <- list(a=list(b=matrix(1:12, 3,4), c=4:6), d=list(e=7:9, 
f=function(x) x), g=15:18)
     > lst
     $a
     $a$b
         [,1] [,2] [,3] [,4]
     [1,]    1    4    7   10
     [2,]    2    5    8   11
     [3,]    3    6    9   12

     $a$c
     [1] 4 5 6


     $d
     $d$e
     [1] 7 8 9

     $d$f
     function(x) x


     $g
     [1] 15 16 17 18

     > flatten(lst)
     $b
         [,1] [,2] [,3] [,4]
     [1,]    1    4    7   10
     [2,]    2    5    8   11
     [3,]    3    6    9   12

     $c
     [1] 4 5 6

     $e
     [1] 7 8 9

     $f
     function(x) x

     [[5]]
     [1] 15 16 17 18

Obviously, I misunderstand the problem.

Regards,
  John
____________________________
John Fox
Department of Sociology
McMaster University
email: jfox at mcmaster.ca
web: http://www.socsci.mcmaster.ca/jfox
____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Tue Jun 11 20:12:27 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Tue, 11 Jun 2002 14:12:27 -0400
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
Message-ID: <C93F59EC-7D66-11D6-A490-000393021810@mail.mcg.edu>

Stefano Iacus sent me a working copy of the methods library, so the 
problem has been solved.

David

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Thu Jun 13 21:39:16 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Thu, 13 Jun 2002 16:39:16 -0300 (ADT)
Subject: [R] Mild bug in rnorm().
Message-ID: <200206131939.QAA04397@gelfand.math.unb.ca>


The rnorm() random number generator has a mild and somewhat
subtle bug, in that it does not generate ***quite*** enough
extreme values.

I have submitted a detailed bug report on this.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Thu Jun 13 21:49:45 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Thu, 13 Jun 2002 15:49:45 -0400
Subject: [R] assign to data.frame
Message-ID: <200206131549.45446.pols1oh@bestweb.net>


I have two large data.frames which I would like to combine. Merge works, but 
is slow and a "merge" is not really required.  Rather a rbind will do the 
trick.  However, there are a number of variables which need to be created in 
each data.frame to make the columns of the two data.frames similar.

say,

d1 <- data.frame(ind1=1:10,ind2=letters[1:10],c_rnorm(10))
d2 <- data.frame(ind1=21:30,ind2=letters[11:20],e_rnorm(10))

thus, d1 contains 'c' and d2 contains 'e' - with no overlap in ind1 and ind2.

If I :

d1$e <- rep(NA,10)
d2$c <- rep(NA,10)

I can,

d <- rbind(d1,d2)  # which is where I want to go. 

However, there are actually a number of such variables to be created. Sooo, I 
tried:

add.to.d2 <- names(d1)[!is.element(names(d1),names(d2)]
for (V in add.to.d2)
	assign(paste('d2$',V,sep=''),rep(NA,10))
	}
(ditto for the other data.frame)

which gives me a d2$c in the global space, but not in the d2 dataframe. I see 
options for environment specification in assign, but can't seem to manage to 
specify a dataframe as the environ. Also tried: assign(as.name(paste('d2$',V, 
sep='')),rep(NA,10))  -- which wouldn't seem needed, and indeed, not.

gotta be something I am missing and I am sure it is in the help files 
somewhere, but .... any hints?

Thanks.

Michaell
=========================================
Michaell Taylor, PhD

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaudall at students.wisc.edu  Thu Jun 13 22:10:13 2002
From: jaudall at students.wisc.edu (Josh Udall)
Date: Thu, 13 Jun 2002 15:10:13 -0500
Subject: [R] text and expressions in labels
Message-ID: <5.1.0.14.2.20020613150720.00b6fec8@students.wisc.edu>

All -

I'm a novice at R and I'm having difficulty combining text and an 
expression in the same label.

  I just trying to get Yield (kg ha-1) and have the -1 as superscript. What
  I came up with doesn't work. I'm stuck at trying to concatenate it with 
any other regular text.

  yield1 = "Yield (kg ha"
  yield2 = expression(^-1)
  yield3 = ")"
  ylabel = paste(yield1, yield2, yield3)

  boxplot(yield.kgha.st~env,data=lsmeans1,
  boxwex=0.3,
  main='Chinese Hybrids',
  ylim=c(0,5300),
  sub='',
  ylab=ylabel,
  xlab='')


any help appreciated,

  Josh


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 13 22:14:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 13 Jun 2002 13:14:14 -0700 (PDT)
Subject: [R] assign to data.frame
In-Reply-To: <200206131549.45446.pols1oh@bestweb.net>
Message-ID: <Pine.A41.4.44.0206131311400.115682-100000@homer10.u.washington.edu>

On Thu, 13 Jun 2002, Michaell Taylor wrote:
> However, there are actually a number of such variables to be created. Sooo, I
> tried:
>
> add.to.d2 <- names(d1)[!is.element(names(d1),names(d2)]
> for (V in add.to.d2)
> 	assign(paste('d2$',V,sep=''),rep(NA,10))
> 	}
> (ditto for the other data.frame)
>
> which gives me a d2$c in the global space, but not in the d2 dataframe. I see
> options for environment specification in assign, but can't seem to manage to
> specify a dataframe as the environ. Also tried: assign(as.name(paste('d2$',V,
> sep='')),rep(NA,10))  -- which wouldn't seem needed, and indeed, not.
>
> gotta be something I am missing and I am sure it is in the help files
> somewhere, but .... any hints?

You can't do this with assign(), which doesn't dispatch assignment
methods. In this case you can just
   d2[[V]]<-rep(NA,10)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jun 13 22:15:34 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 13 Jun 2002 15:15:34 -0500
Subject: [R] A random insertion position in a vector
Message-ID: <6rznxzrl3t.fsf@franz.stat.wisc.edu>

A student asked me about simulation he is doing.  This simulation
presented an interesting R programming puzzle that we did solve but I
am not happy with the solution.  I feel there should be a better way
of doing this.

Briefly, he is simulating births and deaths in a linear array of cells.
Births and deaths are required to alternate.

For a birth, one of the cells is selected at random to be the parent.
The offspring cell is generated according to some rules based on the
type of the parent then inserted into the array either to the left or
to the right of the parent.  The left/right choice is random.

The part that took us the longest time was deciding how to insert the
offspring cell into the array in a way that doesn't break down at the
boundaries.

I ended up using code based on an argument 'pos', which is the number of
elements from the original array that will be to the left of the new
element.  Another way of thinking of pos is as one less than the index
of the new element in the result.

insert <-
    function(orig = 1:10, new = 0, pos = sample(0:length(orig), 1))
{
    ## Insert a new element at a random position in a vector.
    ## The default values of the arguments were for testing and do not
    ## reflect the process descibed above.
    if (pos < 1) return(c(new, orig))
    left <- 1:pos
    c(orig[left], new, orig[-left])
}

iterate <-
    function(current)
{
    ## Update the array of cells with a birth followed by a death
    parent <- sample(seq(along = current), 1)  # index of the parent
    pos <- parent - sample(c(0,1), 1)          
    newcell <- ## generate the new cell based on the type of the parent
    newvec <- insert(current, newcell, pos)
    newvec[-sample(seq(along = newvec), 1)]
}

Can anyone come up with a cleaner way of doing the insertion or
perhaps the complete birth/death step?
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 13 22:42:24 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 13 Jun 2002 13:42:24 -0700 (PDT)
Subject: [R] text and expressions in labels
In-Reply-To: <5.1.0.14.2.20020613150720.00b6fec8@students.wisc.edu>
Message-ID: <Pine.A41.4.44.0206131341520.115682-100000@homer10.u.washington.edu>

On Thu, 13 Jun 2002, Josh Udall wrote:

> All -
>
> I'm a novice at R and I'm having difficulty combining text and an
> expression in the same label.
>
>   I just trying to get Yield (kg ha-1) and have the -1 as superscript. What
>   I came up with doesn't work. I'm stuck at trying to concatenate it with
> any other regular text.
>
>   yield1 = "Yield (kg ha"
>   yield2 = expression(^-1)
>   yield3 = ")"
>   ylabel = paste(yield1, yield2, yield3)
>

The problem is that paste() squashes the expression into a string.
   plot(1,main=expression("Yield " * (kgha^{-1})))
works

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Jun 13 22:41:06 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 14 Jun 2002 08:41:06 +1200
Subject: [R] text and expressions in labels
References: <5.1.0.14.2.20020613150720.00b6fec8@students.wisc.edu>
Message-ID: <3D090362.F40767F6@stat.auckland.ac.nz>

Hi


> I'm a novice at R and I'm having difficulty combining text and an
> expression in the same label.
> 
>   I just trying to get Yield (kg ha-1) and have the -1 as superscript. What
>   I came up with doesn't work. I'm stuck at trying to concatenate it with
> any other regular text.
> 
>   yield1 = "Yield (kg ha"
>   yield2 = expression(^-1)
>   yield3 = ")"
>   ylabel = paste(yield1, yield2, yield3)
> 
>   boxplot(yield.kgha.st~env,data=lsmeans1,
>   boxwex=0.3,
>   main='Chinese Hybrids',
>   ylim=c(0,5300),
>   sub='',
>   ylab=ylabel,
>   xlab='')
> 
> any help appreciated,


The following is one way to do what I think you want ...

	plot(1:10, ylab=expression(paste("Yield (kg ", ha^-1, ")")))

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Jun 13 22:40:37 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 13 Jun 2002 13:40:37 -0700 (PDT)
Subject: [R] R make on macosx
In-Reply-To: <Pine.GSO.4.33.0206131341060.12654-100000@ysidro.econ.uiuc.edu>
Message-ID: <Pine.GSO.4.10.10206131339140.18119-100000@fisher.stat.ucla.edu>

Did you install the dlcompat library (either from fink or somewhere else)?
I seem to recall having this problem when dlcompat was not on my system.

If you do have the dlcompat library, then you may have to put /sw or
/sw/lib in the path used for searching for libraries.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 13 Jun 2002, Roger Koenker wrote:

> I am trying to make R-1.5.0 from source on a new G4 system with the apple
> developer tools and X11 installed and with ATLAS.  Running ./configure
> appears to end normally, but running make yields:
> 
> gcc -no-cpp-precomp -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
> Rdynload.c: In function `R_FindSymbol':
> Rdynload.c:942: `CFunTab' undeclared (first use in this function)
> Rdynload.c:942: (Each undeclared identifier is reported only once
> Rdynload.c:942: for each function it appears in.)
> make[3]: *** [Rdynload.o] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> [cba943:local/R/R-1.5.0] roger%
> 
> I see from the help archive that something similar was a problem on HPux in
> R-1.3.1.  Any suggestions would be most welcome...
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Thu Jun 13 23:33:40 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 14 Jun 2002 09:33:40 +1200 (NZST)
Subject: [R] Output of clustering packages
Message-ID: <200206132133.g5DLXeI20517@tahi.mcs.vuw.ac.nz>

>     AbMa> How to get the output in the form 
> [1] 1 
> [2] 2 
> .  
> 
> The answer is  cbind() : it makes a 1-column matrix from your vector
> 
That doesn't quite answer the question (extra commas):
> ii <- 1 + rpois(50, lam= 1)
> cbind(ii)
      ii
 [1,]  2
 [2,]  1
 :
But perhaps this is more like what you want:

> options(width=10)	# note 10 is the minimum
> print(ii, print.gap=3)
 [1]   2
 [2]   1
 :

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jun 13 23:55:39 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 13 Jun 2002 14:55:39 -0700
Subject: [R] R make on macosx
References: <Pine.GSO.4.33.0206131341060.12654-100000@ysidro.econ.uiuc.edu>
Message-ID: <3D0914DB.5060000@stat.ucla.edu>

Did you install dlcompat from fink ?

-- Jan

Roger Koenker wrote:
> I am trying to make R-1.5.0 from source on a new G4 system with the apple
> developer tools and X11 installed and with ATLAS.  Running ./configure
> appears to end normally, but running make yields:
> 
> gcc -no-cpp-precomp -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
> Rdynload.c: In function `R_FindSymbol':
> Rdynload.c:942: `CFunTab' undeclared (first use in this function)
> Rdynload.c:942: (Each undeclared identifier is reported only once
> Rdynload.c:942: for each function it appears in.)
> make[3]: *** [Rdynload.o] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> [cba943:local/R/R-1.5.0] roger%
> 
> I see from the help archive that something similar was a problem on HPux in
> R-1.3.1.  Any suggestions would be most welcome...
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Fri Jun 14 00:01:26 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Thu, 13 Jun 2002 17:01:26 -0500 (CDT)
Subject: [R] R make on macosx
In-Reply-To: <3D0914DB.5060000@stat.ucla.edu>
Message-ID: <Pine.GSO.4.33.0206131700440.12673-100000@ysidro.econ.uiuc.edu>


Thanks...dlcompat was installed by fink -- isn't it: /sw/lib/libdl.dylib.
Other stuff is found from /sw/lib so I don't think that this is the problem,
but I could easily be mistaken...I take it from your message that you have
a R-1.5.0 running with ATLAS?

Roger


url:    http://www.econ.uiuc.edu                Roger Koenker
email   roger at ysidro.econ.uiuc.edu              Department of Economics
vox:    217-333-4558                            University of Illinois
fax:    217-244-6678                            Champaign, IL 61820

On Thu, 13 Jun 2002, Roger Peng wrote:

> Did you install the dlcompat library (either from fink or somewhere else)?
> I seem to recall having this problem when dlcompat was not on my system.
>
> If you do have the dlcompat library, then you may have to put /sw or
> /sw/lib in the path used for searching for libraries.
>
> -roger



url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Thu, 13 Jun 2002, Jan de Leeuw wrote:

> Did you install dlcompat from fink ?
>
> -- Jan
>
> Roger Koenker wrote:
> > I am trying to make R-1.5.0 from source on a new G4 system with the apple
> > developer tools and X11 installed and with ATLAS.  Running ./configure
> > appears to end normally, but running make yields:
> >
> > gcc -no-cpp-precomp -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
> > Rdynload.c: In function `R_FindSymbol':
> > Rdynload.c:942: `CFunTab' undeclared (first use in this function)
> > Rdynload.c:942: (Each undeclared identifier is reported only once
> > Rdynload.c:942: for each function it appears in.)
> > make[3]: *** [Rdynload.o] Error 1
> > make[2]: *** [R] Error 2
> > make[1]: *** [R] Error 1
> > make: *** [R] Error 1
> > [cba943:local/R/R-1.5.0] roger%
> >
> > I see from the help archive that something similar was a problem on HPux in
> > R-1.3.1.  Any suggestions would be most welcome...
> >
> > url:	http://www.econ.uiuc.edu		Roger Koenker
> > email	roger at ysidro.econ.uiuc.edu		Department of Economics
> > vox: 	217-333-4558				University of Illinois
> > fax:   	217-244-6678				Champaign, IL 61820
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Jun 14 00:03:34 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 14 Jun 2002 10:03:34 +1200 (NZST)
Subject: [R] installing R on Red Hat 7.1
Message-ID: <200206132203.g5DM3YU20713@tahi.mcs.vuw.ac.nz>

> >When I did:
> >> rpm -ivh R-recommended-1.5.0-1.i386.rpm
> >error: failed dependencies:
> >	R-base = 1.5.0 is needed by R-recommended-1.5.0-1
> >	libblas.so.3   is needed by R-recommended-1.5.0-1
> >	libR.so   is needed by R-recommended-1.5.0-1
> 
> You need to install R-base before R-recommended, or at the same
> time, by giving rpm ... two arguments.  And it is much better to
> use -Uvh rather than -ivh in general (unless you need both
> versions of something).
> 
But I think you will find that even when you do install R-base first, or
concurrently, it will then discover that libreadline is out of date and
Tcl and Tk are not there (or perhaps also out of date - I didn't follow
up on this).  So I suspect you will need to upgrade your RedHat to 7.2
at least.

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asone at latte.harvard.edu  Fri Jun 14 00:37:23 2002
From: asone at latte.harvard.edu (asone@latte.harvard.edu)
Date: Thu, 13 Jun 2002 18:37:23 -0400
Subject: [R] Problem about Rconsole: R for Windows  Version 1.5.0 Patched  (2002-06-05 and 2002-06-12)
Message-ID: <000001c2132a$e3653490$4c21da18@hmdcvdcas>

R (Windows version) users/developers:

While I have checked R-help/-devel mailing lists and R-bug-tracking
system, this problem has not been reported so far. I would like to know
whether this problem is specific to my machine.

Lately I downloaded the version 1.5.0 patched [for windows] from
http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] and
http://www.cran.r-project.org/bin/windows/base/ [patched: 2002-06-12],
and both of them fail to read Rconsole stored in a start-up directory;
it seems these R versions check the parent directory of a start-up
directory for Rconsole [i.e., if Rconsole is placed in its parent
directory, parameters stored in Rconsole are correctly imported].  I
usually specify R's start-up directory in the "start-in:" box of a
shortcut to Rgui.exe and do not set R_USER variable.   

The information about my machine is :

sysname=Windows
release=NT 5.0
version=(build 2195) Service Pack 2


Also, it is found that the bookmarks of the R reference manual (PDF),
which is included in the version 1.5.0 patched [patched: 2002-06-12]
from  http://www.cran.r-project.org/bin/windows/base/, are not working
[The R reference manual (PDF) of
http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] does
not have this problem]


Akio Sone
Harvard-MIT Data Center


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Fri Jun 14 03:05:27 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Thu, 13 Jun 2002 20:05:27 -0500
Subject: [R] calling an editor on MAC and Linux
Message-ID: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>


I have written an R function that writes output to an external file using
the sink function.  I assume that `sink' is not operating system dependent.
At the end of the function I have additional code that opens the newly
created file using notepad on a Windows system.  Obviously, this part of the
code will not work on a Mac or Linux box.  Since I do not have a machine
with Linux or the Mac OS available I have no idea what to call the default
editors.  Could somebody provide a suggestion?  Thanks in advance.


   win3 <- function(...) {
        system(...)
    }

 [a zillion lines of code here ]


 notepad.file <- paste("notepad", outFile, sep = " ")
 win3(notepad.file)





0=================================================0
Dr. Niels G. Waller
Quantitative Methods
Department of Psychology and Human Development
Box 512 Peabody College
Vanderbilt University
Nashville TN 37203
email:  niels.waller at vanderbilt.edu
fax:    615 343-9494
QME home page: http://www.vanderbilt.edu/quantmetheval
http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
0=================================================0

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at alpha.oac.ucla.edu  Fri Jun 14 03:30:45 2002
From: yunda at alpha.oac.ucla.edu (Yunda Huang)
Date: Thu, 13 Jun 2002 18:30:45 -0700 (PDT)
Subject: [R] Rcmd on Windows
In-Reply-To: <3D06EEDC.F8DAFD13@statistik.uni-dortmund.de>
Message-ID: <Pine.A32.3.91.1020613181705.101254Z-100000@alpha.oac.ucla.edu>

Hi there,
Thanks you all for the reply and suggestion. But I still could not get it 
run-:( Where can I find a detailed manual or something on this? I am 
really desperated...

OK. Here is what I have checked:
(1) recent version of perl: yes, I downloaded it from ActivePerl and 
installed it under C:/program files/perl
(2) R version: I just updated it to 1.5.1
(3) Rcmd.exe: yes, I have it under ../rw1050/bin
(4) source installation files: yes, I have ../src/gnuwin32 under my R 
directory
(5) I've also set the path of perl "C:/program files/perl" to user 
environment variable "PATH" under Control Panel->system on my PC

What I did was to type: Rcmd SHLIB --help
under .../rw1050/bin> in DOS environment

But it still did not work and the error message was 
-- 'perl' is not recognized as an internal or external command,
operable program or batch file. -- What do you think I have done wrong? 

Thanks a lot for any suggestion!

Best,
Yunda

On Wed, 12 Jun 2002, Uwe Ligges wrote:

> 
> 
> Yunda Huang wrote:
> > 
> > Hi there,
> > 
> > I was tryting to use "Rcmd SHLIB --help" on Windows RGui. However it always
> > gives me sytax error message. I wonder whether you have any suggestion.
> > Thanks in advance!
> 
> You have to call Rcmd from the windows shell, not within R (if I
> understood right).
> It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
> recent version of perl?
> Please, tell us something about your R version and OS!
> 
> Uwe Ligges
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Jun 14 04:16:56 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 14 Jun 2002 14:16:56 +1200 (NZST)
Subject: [R] A random insertion position in a vector
Message-ID: <200206140216.g5E2Gus22291@tahi.mcs.vuw.ac.nz>

Douglas Bates asks:
> The part that took us the longest time was deciding how to insert the
> offspring cell into the array in a way that doesn't break down at the
> boundaries.
> 
> iterate <-
>     function(current)
> {
>     ## Update the array of cells with a birth followed by a death
>     parent <- sample(seq(along = current), 1)  # index of the parent
>     pos <- parent - sample(c(0,1), 1)          
>     newcell <- ## generate the new cell based on the type of the parent
>     newvec <- insert(current, newcell, pos)
>     newvec[-sample(seq(along = newvec), 1)]
> }
> 
> Can anyone come up with a cleaner way of doing the insertion or
> perhaps the complete birth/death step?
> 
Here's a minor modification which avoids the separate function call to
insert().  One might say it is a little more elegant, using order to
insert the new element, but it does use slightly more CPU time (a few
%, but this is dependent on how complex the new cell generation is):

iterate <-
function(current)
{
    ## Update the array of cells with a birth followed by a death
    index <- seq(along = current)
    parent <- sample(index, 1)  # index of the parent
    pos <- parent + sample(c(0.5, -0.5), 1)          
    newcell <- ## generate the new cell based on the type of the parent
    newvec <- c(current, newcell)[order(c(index, pos))]
    newvec[-sample(seq(along = newvec), 1)]
}

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Jun 14 05:50:33 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 13 Jun 2002 23:50:33 -0400 (EDT)
Subject: [R] SOLVED (was Re: using MAKEFLAGS in compiling C code as a shared
 library using R CMD SHLIB)
In-Reply-To: <Pine.LNX.4.44.0206131336140.3008-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.44.0206132343580.3008-100000@Chrestomanci>


Dear R People,

I'm replying to my own question here. The maintainer of GNU
Make, Paul Smith, kindly replied to a message I posted to the GNU Make
help list, help-make at gnu.org.

I suggest that an example be added to the appropriate section of the FAQ
to reflect this issue, or perhaps the current example could be expanded.
Granted, this is just a shell quoting issue, but it might save someone,
sometime, from some head scratching.

                                          Sincerely, Faheem Mitha.

*******************************************************************

%% Faheem Mitha <faheem at email.unc.edu> writes:

  fm> MAKEFLAGS="CC=gcc-3.0 PKG_CFLAGS= -Wall -pedantic" R CMD SHLIB rc.c
-o rc.so

  fm> does not work fine. Make throws a fit and spews forth gibberish.

Make is interpreting the -Wall and -pedantic as lists of make options,
rather than as the value of PKG_CFLAGS, which is entirely correct given
that command string.

  fm> My understanding of MAKEFLAGS is that it is for passing flags to
some
  fm> submake process, in this case R CMD SHLIB. The documentation (make
  fm> manual) says that

  fm> "Words in the value of `MAKEFLAGS' that contain `=', `make' treats
as
  fm> variable definitions just as if they appeared on the command line."

  fm> However, there seems to be a problem when the variable definition
  fm> contains blanks, as PKG_CFLAGS does above.

That's because the ''PKG_CFLAGS= -Wall -pedantic'' above is not _one_
word containing an =, it's three words, only the first of which contains
an =.  So only the first word is considered to be a variable definition.

  fm> Can anyone advise on what is the correct syntax for this?

The simplest solution is to use backslashes to quote the spaces:

 MAKEFLAGS='CC=gcc-3.0 PKG_CFLAGS=\ -Wall\ -pedantic' R CMD SHLIB rc.c -o
rc.so

will work (note the change to single quotes: if you must use double
quotes you'll have to type two backslashes to get one--see the
documentation for your shell).

************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at alpha.oac.ucla.edu  Fri Jun 14 05:59:12 2002
From: yunda at alpha.oac.ucla.edu (Yunda Huang)
Date: Thu, 13 Jun 2002 20:59:12 -0700 (PDT)
Subject: [R] Rcmd on Windows (fwd)
Message-ID: <Pine.A32.3.91.1020613205607.69096A-100000@alpha.oac.ucla.edu>

Hi there,

Finally I got this "Rcomd SHLIB" to like me! The reason was because I did 
not log in my computer as "administrator", which caused some problem of perl 
being found... Anyway, thank you all for the prompt and intelligent 
suggestions.

Best,
Yunda

---------- Forwarded message ----------
Date: Thu, 13 Jun 2002 18:30:45 -0700 (PDT)
From: Yunda Huang <yunda at alpha.oac.ucla.edu>
To: Uwe Ligges <ligges at statistik.uni-dortmund.de>
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Rcmd on Windows

Hi there,
Thanks you all for the reply and suggestion. But I still could not get it 
run-:( Where can I find a detailed manual or something on this? I am 
really desperated...

OK. Here is what I have checked:
(1) recent version of perl: yes, I downloaded it from ActivePerl and 
installed it under C:/program files/perl
(2) R version: I just updated it to 1.5.1
(3) Rcmd.exe: yes, I have it under ../rw1050/bin
(4) source installation files: yes, I have ../src/gnuwin32 under my R 
directory
(5) I've also set the path of perl "C:/program files/perl" to user 
environment variable "PATH" under Control Panel->system on my PC

What I did was to type: Rcmd SHLIB --help
under .../rw1050/bin> in DOS environment

But it still did not work and the error message was 
-- 'perl' is not recognized as an internal or external command,
operable program or batch file. -- What do you think I have done wrong? 

Thanks a lot for any suggestion!

Best,
Yunda

On Wed, 12 Jun 2002, Uwe Ligges wrote:

> 
> 
> Yunda Huang wrote:
> > 
> > Hi there,
> > 
> > I was tryting to use "Rcmd SHLIB --help" on Windows RGui. However it always
> > gives me sytax error message. I wonder whether you have any suggestion.
> > Thanks in advance!
> 
> You have to call Rcmd from the windows shell, not within R (if I
> understood right).
> It works for me on R-1.5.0 (patched), WinNT4.0. Do you have installed a
> recent version of perl?
> Please, tell us something about your R version and OS!
> 
> Uwe Ligges
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Fri Jun 14 06:02:13 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 14 Jun 2002 16:02:13 +1200
Subject: [R] Rcmd on Windows
In-Reply-To: <Pine.A32.3.91.1020613181705.101254Z-100000@alpha.oac.ucla.edu>; from yunda@alpha.oac.ucla.edu on Thu, Jun 13, 2002 at 06:30:45PM -0700
References: <3D06EEDC.F8DAFD13@statistik.uni-dortmund.de> <Pine.A32.3.91.1020613181705.101254Z-100000@alpha.oac.ucla.edu>
Message-ID: <20020614160213.A3952@camille.indigoindustrial.co.nz>

On Thu, Jun 13, 2002 at 06:30:45PM -0700, Yunda Huang wrote:
...
> But it still did not work and the error message was 
> -- 'perl' is not recognized as an internal or external command,
> operable program or batch file. -- What do you think I have done wrong? 

You haven't got perl on your path.  To check this, 
1) go to some directory where perl.exe *isn't* installed, such 
as c:\temp
2) type "perl"  at the command prompt.

You should get the same error message: ...not recognized as an 
internal or external command...

to fix this, edit your autoexec.bat file appropriately to put perl.exe
on the path, and reboot.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yunda at alpha.oac.ucla.edu  Fri Jun 14 07:06:15 2002
From: yunda at alpha.oac.ucla.edu (Yunda Huang)
Date: Thu, 13 Jun 2002 22:06:15 -0700 (PDT)
Subject: [R] Makefile.win
In-Reply-To: <20020614160213.A3952@camille.indigoindustrial.co.nz>
Message-ID: <Pine.A32.3.91.1020613215015.69096B-100000@alpha.oac.ucla.edu>

Hi there,

I wonder where could I find a "Makefile.win" example so that I could
create a share library using "Rcmd SHLIB". Also, is there anything 
particularly I need to pay attention on the directory where I put that 
makefile?

Thanks for your help again.

Yunda
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Jun 14 07:22:46 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 14 Jun 2002 01:22:46 -0400 (EDT)
Subject: [R] Re: SOLVED (was Re: using MAKEFLAGS in compiling C code as a shared
 library using R CMD SHLIB)
In-Reply-To: <Pine.LNX.4.44.0206132343580.3008-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.44.0206140115220.3008-100000@Chrestomanci>



On Thu, 13 Jun 2002, Faheem Mitha wrote:

>
> Dear R People,
>
> I'm replying to my own question here. The maintainer of GNU
> Make, Paul Smith, kindly replied to a message I posted to the GNU Make
> help list, help-make at gnu.org.
>
> I suggest that an example be added to the appropriate section of the FAQ
> to reflect this issue, or perhaps the current example could be expanded.
> Granted, this is just a shell quoting issue, but it might save someone,
> sometime, from some head scratching.

I'm forwarding a further message from Paul Smith, in reponse to a further
query of mine as to *why* this worked, exactly.

I realise this is getting rather off-topic for R, but perhaps people might
be interested not only in the how, but also the why. So I'm sending this
to the R archives for posterity. :-)

                                       Sincerely, Faheem Mitha.

***********************************************************************

%% Faheem Mitha <faheem at email.unc.edu> writes:

  fm> On Thu, 13 Jun 2002, Paul D. Smith wrote:

  >> The simplest solution is to use backslashes to quote the spaces:
  >>
  >> MAKEFLAGS='CC=gcc-3.0 PKG_CFLAGS=\ -Wall\ -pedantic' R CMD SHLIB rc.c -o rc.so
  >>
  >> will work (note the change to single quotes: if you must use double
  >> quotes you'll have to type two backslashes to get one--see the
  >> documentation for your shell).

  fm> Thanks. This works. Am I correct in thinking this a shell issue?
  fm> I am using bash, of course.

Not really.

The contents of the MAKEFLAGS variable are interpreted by make, not by
the shell.

However, make uses virtually the same rules for breaking the string up
into words as the one employed by the Bourne shell, except make leaves
out some of the "edge cases".

  fm> I am not completely clear on why it works, though. The Bash manual
  fm> says:

  fm> Single Quotes
  fm> .............

  fm>    Enclosing characters in single quotes (`'') preserves the literal
  fm> value of each character within the quotes.  A single quote may not occur
  fm> between single quotes, even when preceded by a backslash.

  fm> Also

  fm> Escape Character
  fm> ................

  fm>    A non-quoted backslash `\' is the Bash escape character.  It
  fm> preserves the literal value of the next character that follows, with
  fm> the exception of `newline'.  If a `\newline' pair appears, and the
  fm> backslash itself is not quoted, the `\newline' is treated as a line
  fm> continuation (that is, it is removed from the input stream and
  fm> effectively ignored).

  fm> So, if single quotes are preserving the literal value of each
  fm> character within the quotes, why is it necessary to include a
  fm> backslash before each space within single quotes, when a backslash
  fm> also "preserves the literal value of the next character that
  fm> follows"?

The single quotes are used so that the shell doesn't do away with your
backslashes.  It's easy to see what happens, just do this:

  $ echo "foo bar"
  foo bar

  $ echo "foo\ bar"
  foo bar

  $ echo 'foo\ bar'
  foo\ bar

Note how the single quotes preserved the backslash in the last example.

You need to get those literal backslashes included in the value that
_make_ sees, because _make_ is going to be chopping up the value of the
MAKEFLAGS variable into words (again, using much the same algorithm as
the shell).

If make sees the value of MAKEFLAGS is:

  foo=bar biz= baz boz= -n

how can it know whether "baz" is supposed to be the value for "biz", or
whether "biz" is being set to the empty value and "baz" is a target to
be built.  How can make know whether the "-n" is the make -n option, or
if it was intended to be the value for the variable "boz"?

For that matter, you could want to assign the whole string
"bar biz= baz boz= -n" to the variable "foo"!

A string like that is inherently ambiguous, so make follows the behavior
of the shell and chops it up using spaces as delimiters.

So, if you don't want a space to be treated as a word delimiter, you
have to use a backslash and you have to ensure that _make_ sees the
backslash and that it's not removed by the shell first.


HTH!

-- 
-------------------------------------------------------------------------------
 Paul D. Smith <psmith at gnu.org>          Find some GNU make tips at:
 http://www.gnu.org                      http://www.paulandlesley.org/gmake/
 "Please remain calm...I may be mad, but I am a professional." --Mad Scientist




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jun 14 08:29:46 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 14 Jun 2002 08:29:46 +0200
Subject: [R] Bagged clustering (package e1071)
In-Reply-To: <Pine.WNT.4.44.0206121627460.3176-100000@petrel>
References: <3D076721.71E086C2@pasteur.fr>
	<Pine.WNT.4.44.0206121627460.3176-100000@petrel>
Message-ID: <15625.36186.962666.613654@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 12 Jun 2002 16:30:28 +0100 (GMT Daylight Time),
>>>>> Prof Brian D Ripley (PBDR) wrote:

  > On Wed, 12 Jun 2002, Aboubakar Maitournam wrote:
  >> Dear all,
  >> 
  >> I have a problem with the function "bagged clustering" of package
  >> e1071.
  >> When I try to run the example of bagged clustering with the iris data :
  >> 
  >> data(iris)
  >> bc1 <- bclust(iris[,1:4], 3, base.centers=5)
  >> 
  >> I got the following message error :
  >> 
  >> Loading required package: class
  >> Committee Member: 1(1) 2(1) 3(1) 4(1) 5(1) 6(1) 7(1) 8(1) 9(1)
  >> 10(1)Error in bclust(iris[, 1:4], 3, base.centers = 5) :
  >> couldn't find function "knn1"
  >> In addition: Warning message:
  >> There is no package called `class' in: library(package, char = TRUE,
  >> logical = TRUE, warn.conflicts = warn.conflicts,
  >> 
  >> I have looked for the package class at CRAN but I have not found it.

  > It is part of bundle VR and as a recommended package *ought* to be in your
  > R installation, so please take this up with whoever installed it.

  > I think bclust should test the return value from require(clust) and fail if
  > it is FALSE.

Yes, fixed for the next release of the package.

Thanks,

-- 
-------------------------------------------------------------------
                        Friedrich Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Fri Jun 14 08:40:28 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Fri, 14 Jun 2002 09:40:28 +0300
Subject: [R] Output of clustering packages 
In-Reply-To: Message from Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz> 
   of "Fri, 14 Jun 2002 09:33:40 +1200." <200206132133.g5DLXeI20517@tahi.mcs.vuw.ac.nz> 
Message-ID: <200206140640.g5E6eTE27592@pc112145.oulu.fi>

Ray.Brownrigg at mcs.vuw.ac.nz said:
>  So I suspect you will need to upgrade your RedHat to 7.2 at least.

No, you don't need to upgrade, but a rpm for rh7.1 installs in rh7.1.

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jun 14 08:44:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 14 Jun 2002 08:44:53 +0200
Subject: [R] Problem about Rconsole: R for Windows  Version 1.5.0 Patched  
 (2002-06-05 and 2002-06-12)
References: <000001c2132a$e3653490$4c21da18@hmdcvdcas>
Message-ID: <3D0990E5.79722AD4@statistik.uni-dortmund.de>

asone at latte.harvard.edu wrote:
> 
> R (Windows version) users/developers:
> 
> While I have checked R-help/-devel mailing lists and R-bug-tracking
> system, this problem has not been reported so far. I would like to know
> whether this problem is specific to my machine.
> 
> Lately I downloaded the version 1.5.0 patched [for windows] from
> http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] and
> http://www.cran.r-project.org/bin/windows/base/ [patched: 2002-06-12],
> and both of them fail to read Rconsole stored in a start-up directory;
> it seems these R versions check the parent directory of a start-up
> directory for Rconsole [i.e., if Rconsole is placed in its parent
> directory, parameters stored in Rconsole are correctly imported].  I
> usually specify R's start-up directory in the "start-in:" box of a
> shortcut to Rgui.exe and do not set R_USER variable.

>From ?Rconsole:

   There are system copies of these files in `R_HOME\etc'. Users can
   have personal copies of the files: these are looked for in the
   location given by the environment variable `R_USER'. The system
   files are read only if a corresponding personal file is not found.

   If the environment variable `R_USER' is not set, the R system sets
   it to `HOME' if that is set (stripping any trailing slash),
   otherwise to `HOMEDIR:HOMEPATH' if `HOMEDIR' is set otherwise to
   the working directory.

I assume you didn't set 'HOME', so HOMEDRIVE:HOMEPATH (that's a bug in
the help file, I think) is used, regularly this is c:\ on windows. I'll
file the bug to R-bugs shortly.


> The information about my machine is :
> 
> sysname=Windows
> release=NT 5.0
> version=(build 2195) Service Pack 2
> 
> Also, it is found that the bookmarks of the R reference manual (PDF),
> which is included in the version 1.5.0 patched [patched: 2002-06-12]
> from  http://www.cran.r-project.org/bin/windows/base/, are not working
> [The R reference manual (PDF) of
> http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] does
> not have this problem]

Works for me on a self-compiled R-patched 2002-06-12, may be a small
problem during compilation of that "public binary" occured.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Fri Jun 14 09:43:50 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Fri, 14 Jun 2002 08:43:50 +0100
Subject: [R] ODESOLVE
Message-ID: <009301c21377$39ef1140$d2135882@inam>

Dear All,

I am experiencing a difficulty with the "lsoda" function in ODESOLVE
library; my differentiation function contains a covariate changes with time,
and I don't know how to incorporate that without using loops and so on. Does
anyone know how to do it?

Your help will be very much appreciated!!

In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Fri Jun 14 09:51:20 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Fri, 14 Jun 2002 08:51:20 +0100
Subject: [R] ODESOLVE
Message-ID: <00c001c21378$45f6ca40$d2135882@inam>

Dear All,

 I am experiencing a difficulty with the "lsoda" function in ODESOLVE
 library; my differentiation function contains a covariate changes with
time,
 and I don't know how to incorporate that without using loops and so on.
Does
 anyone know how to do it?

 Your help will be very much appreciated!!

 In-Sun

 In-Sun Nam
 School of Pharmacy and Pharmaceutical Sciences
 University of Manchester
 Oxford Road
 Manchester
 M13 9PL



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 09:50:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 14 Jun 2002 08:50:41 +0100 (BST)
Subject: [R] Problem about Rconsole: R for Windows  Version 1.5.0 Patched
   (2002-06-05 and 2002-06-12)
In-Reply-To: <3D0990E5.79722AD4@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0206140844460.6344-100000@gannet.stats>

On Fri, 14 Jun 2002, Uwe Ligges wrote:

> asone at latte.harvard.edu wrote:
> >
> > R (Windows version) users/developers:
> >
> > While I have checked R-help/-devel mailing lists and R-bug-tracking
> > system, this problem has not been reported so far. I would like to know
> > whether this problem is specific to my machine.
> >
> > Lately I downloaded the version 1.5.0 patched [for windows] from
> > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] and
> > http://www.cran.r-project.org/bin/windows/base/ [patched: 2002-06-12],
> > and both of them fail to read Rconsole stored in a start-up directory;
> > it seems these R versions check the parent directory of a start-up
> > directory for Rconsole [i.e., if Rconsole is placed in its parent
> > directory, parameters stored in Rconsole are correctly imported].  I
> > usually specify R's start-up directory in the "start-in:" box of a
> > shortcut to Rgui.exe and do not set R_USER variable.
>
> >From ?Rconsole:
>
>    There are system copies of these files in `R_HOME\etc'. Users can
>    have personal copies of the files: these are looked for in the
>    location given by the environment variable `R_USER'. The system
>    files are read only if a corresponding personal file is not found.
>
>    If the environment variable `R_USER' is not set, the R system sets
>    it to `HOME' if that is set (stripping any trailing slash),
>    otherwise to `HOMEDIR:HOMEPATH' if `HOMEDIR' is set otherwise to
>    the working directory.
>
> I assume you didn't set 'HOME', so HOMEDRIVE:HOMEPATH (that's a bug in
> the help file, I think) is used, regularly this is c:\ on windows. I'll
> file the bug to R-bugs shortly.

It is correct in the README file, though.  I've altered Rconsole.Rd: there
is actually no `:' in there.


> > The information about my machine is :
> >
> > sysname=Windows
> > release=NT 5.0
> > version=(build 2195) Service Pack 2
> >
> > Also, it is found that the bookmarks of the R reference manual (PDF),
> > which is included in the version 1.5.0 patched [patched: 2002-06-12]
> > from  http://www.cran.r-project.org/bin/windows/base/, are not working
> > [The R reference manual (PDF) of
> > http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/ [patched: 2002-06-05] does
> > not have this problem]
>
> Works for me on a self-compiled R-patched 2002-06-12, may be a small
> problem during compilation of that "public binary" occured.

It was a bug fixed in R-patched, so please take it up with Duncan Murdoch
who built the version on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Fri Jun 14 10:36:17 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Fri, 14 Jun 2002 10:36:17 +0200
Subject: [R] data.frame - transform
Message-ID: <3D09C721.12856.440B27@localhost>

Hi there,

I have a data.frame (pwt6) which I would like to transform:

country	year	gdp
MEX	1950	2
MEX	1951	5
BOL	1950	4
BOL	1951	12
ITA	1950	45
ITA	1951	2

This should be the result:
year	MEX.gdp	BOL.gdp	ITA.gdp
1950	2		4		45
1951	5		12		2

Right now I have this code (better - no code):
country.label<-names(table(pwt6$country)) 
result<-data.frame(year=NULL)
 for(i in country.label)
   ?

Thanks for any help,
Patrick
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Fri Jun 14 09:41:23 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Fri, 14 Jun 2002 09:41:23 +0200
Subject: [R] Hardy Weinberg Equilibrium Test
Message-ID: <OFD4536C67.67029F1A-ONC1256BD8.00298F7F@eurotel.cz>


Hi,

I used to use the HWE package, written, as far as I remember, by Prof. Guo.

http://www.biology.ualberta.ca/jbrzusto/hwenj.html

This is a C program and performs at least asymptotic test of HWE (using
simulations with given marginals).
For more info, try to google for "HWE Hardy Weinberg Equilibrium"

--Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------



- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 7.6.2002 23:08:54
To: r-help at stat.math.ethz.ch
Subject: [R] Hardy Weinberg Equilibrium Test

Hi,

Does anyone know of any existing codes/packages to do the asymptotic and
exact HWE test? Thanks.

- Jacqueline


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Jun 14 11:01:28 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 14 Jun 2002 11:01:28 +0200 (CEST)
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>
Message-ID: <Pine.LNX.4.44.0206141041170.7114-100000@localhost.localdomain>

Hi,

On Thu, 13 Jun 2002, Niels Waller wrote:

  |I have written an R function that writes output to an external file using
  |the sink function.  I assume that `sink' is not operating system dependent.
  |At the end of the function I have additional code that opens the newly
  |created file using notepad on a Windows system.  Obviously, this part of the
  |code will not work on a Mac or Linux box.  Since I do not have a machine
  |with Linux or the Mac OS available I have no idea what to call the default
  |editors.  Could somebody provide a suggestion?  Thanks in advance.
  |
  |
  |   win3 <- function(...) {
  |        system(...)
  |    }
  |
  | notepad.file <- paste("notepad", outFile, sep = " ")
  | win3(notepad.file)

If there is something like default editor, it is "vi" on UNIX (but there may
be 10-20 different editors with a full linux installation).  It is a general
tradition to let the user to define his own favourite using EDITOR
environment variable.  So, to be polite, you should check the presence of
the variable first, and thereafter run either vi or whatever was defined as
EDITOR.

This can be done pretty easily as (ignoring paste):

system("${EDITOR:-vi} outFile")

Unfortunately, this is not the whole story.  The previous example works with
bash shell (which is default command interpreter on Linux).  With tcsh,
another quite popular shell, I am afraid you need a different approach (this
again is controlled with environment variable SHELL).  In addition, many
editors in Unix are terminal-based (like vi) i.e., they do not open a new
window.  This may cause problems when R is runned from a GUI or from Emacs
(Emacs cannot interpret vi diplay-control strings correctly).  If runned as
usual process on a terimal, it is just fine.

Perhaps it is the best to try the example above, but warn the user and
suggest to customise the editor command.

Perhaps it helps.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 14 11:13:04 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2002 11:13:04 +0200
Subject: [R] data.frame - transform
In-Reply-To: <3D09C721.12856.440B27@localhost>
References: <3D09C721.12856.440B27@localhost>
Message-ID: <x21ybaustb.fsf@blueberry.kubism.ku.dk>

"Patrick Hausmann" <patrick.hausmann at uni-bremen.de> writes:

> Hi there,
> 
> I have a data.frame (pwt6) which I would like to transform:
> 
> country	year	gdp
> MEX	1950	2
> MEX	1951	5
> BOL	1950	4
> BOL	1951	12
> ITA	1950	45
> ITA	1951	2
> 
> This should be the result:
> year	MEX.gdp	BOL.gdp	ITA.gdp
> 1950	2		4		45
> 1951	5		12		2
> 
> Right now I have this code (better - no code):
> country.label<-names(table(pwt6$country)) 
> result<-data.frame(year=NULL)
>  for(i in country.label)
>    ?

This is what reshape() is for.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 11:16:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 14 Jun 2002 10:16:16 +0100 (BST)
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <Pine.LNX.4.44.0206141041170.7114-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0206141006130.6521-100000@gannet.stats>

On Fri, 14 Jun 2002, Ott Toomet wrote:

> On Thu, 13 Jun 2002, Niels Waller wrote:
>
>   |I have written an R function that writes output to an external file using
>   |the sink function.  I assume that `sink' is not operating system dependent.
>   |At the end of the function I have additional code that opens the newly
>   |created file using notepad on a Windows system.  Obviously, this part of the
>   |code will not work on a Mac or Linux box.  Since I do not have a machine
>   |with Linux or the Mac OS available I have no idea what to call the default
>   |editors.  Could somebody provide a suggestion?  Thanks in advance.
>   |
>   |
>   |   win3 <- function(...) {
>   |        system(...)
>   |    }
>   |
>   | notepad.file <- paste("notepad", outFile, sep = " ")
>   | win3(notepad.file)

R has an edit command that you could use!

edit(file=outFile) is simple and system-independent.  'Nuff said?

> If there is something like default editor, it is "vi" on UNIX (but there may
> be 10-20 different editors with a full linux installation).  It is a general
> tradition to let the user to define his own favourite using EDITOR
> environment variable.  So, to be polite, you should check the presence of
> the variable first, and thereafter run either vi or whatever was defined as
> EDITOR.
>
> This can be done pretty easily as (ignoring paste):
>
> system("${EDITOR:-vi} outFile")
>
> Unfortunately, this is not the whole story.  The previous example works with
> bash shell (which is default command interpreter on Linux).  With tcsh,
> another quite popular shell, I am afraid you need a different approach (this

What's wrong with

  editor <- Sys.getenv("EDITOR")
  if(editor == "") editor <-  "vi"

?  That is a lot cheaper and avoids any shell issues by not using a shell.

> again is controlled with environment variable SHELL).  In addition, many
> editors in Unix are terminal-based (like vi) i.e., they do not open a new
> window.  This may cause problems when R is runned from a GUI or from Emacs
> (Emacs cannot interpret vi diplay-control strings correctly).  If runned as
> usual process on a terimal, it is just fine.
>
> Perhaps it is the best to try the example above, but warn the user and
> suggest to customise the editor command.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 14 11:22:19 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 14 Jun 2002 11:22:19 +0200
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>
References: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>
Message-ID: <15625.46539.702011.142494@gargle.gargle.HOWL>

>>>>> "Niels" == Niels Waller <niels.waller at vanderbilt.edu> writes:
>>>>> "Niels" == Niels Waller <niels.waller at vanderbilt.edu> writes:

    Niels> I have written an R function that writes output to an
    Niels> external file using the sink function.  I assume that
    Niels> `sink' is not operating system dependent.  At the end
    Niels> of the function I have additional code that opens the
    Niels> newly created file using notepad on a Windows system.
    Niels> Obviously, this part of the code will not work on a
    Niels> Mac or Linux box.  Since I do not have a machine with
    Niels> Linux or the Mac OS available I have no idea what to
    Niels> call the default editors.  Could somebody provide a
    Niels> suggestion?  Thanks in advance.

    Niels> win3 <- function(...) {
    Niels> system(...)
    Niels> }

    Niels> [a zillion lines of code here ]


    Niels> notepad.file <- paste("notepad", outFile, sep = " ")
    Niels> win3(notepad.file)


Excuse me for not chiming in earlier.
There is the ``only one correct'' (:-) solution of using

 getOption("editor")

where it's assumed the user (or installer or OS default) has
properly set
	 options(editor = " ....")

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 14 11:22:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2002 11:22:45 +0200
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <Pine.LNX.4.44.0206141041170.7114-100000@localhost.localdomain>
References: <Pine.LNX.4.44.0206141041170.7114-100000@localhost.localdomain>
Message-ID: <x2wut2tdsq.fsf@blueberry.kubism.ku.dk>

Ott Toomet <siim at obs.ee> writes:

> If there is something like default editor, it is "vi" on UNIX (but there may
> be 10-20 different editors with a full linux installation).  It is a general
> tradition to let the user to define his own favourite using EDITOR
> environment variable.  So, to be polite, you should check the presence of
> the variable first, and thereafter run either vi or whatever was defined as
> EDITOR.
> 
> This can be done pretty easily as (ignoring paste):
> 
> system("${EDITOR:-vi} outFile")
> 
> Unfortunately, this is not the whole story.  The previous example works with
> bash shell (which is default command interpreter on Linux).  With tcsh,
> another quite popular shell, I am afraid you need a different approach (this
> again is controlled with environment variable SHELL).  In addition, many
> editors in Unix are terminal-based (like vi) i.e., they do not open a new
> window.  This may cause problems when R is runned from a GUI or from Emacs
> (Emacs cannot interpret vi diplay-control strings correctly).  If runned as
> usual process on a terimal, it is just fine.
> 
> Perhaps it is the best to try the example above, but warn the user and
> suggest to customise the editor command.

Actually options("editor") would be in keeping with the rest of the
system conventions (and carefully avoids the shell complications). We
do already invoke the editor in a system-transparent way for
fix(code), e.g. and we also have transparent file viewers with
file.show, so maybe we should also define a file.edit function?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 14 11:30:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2002 11:30:56 +0200
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <Pine.LNX.4.31.0206141006130.6521-100000@gannet.stats>
References: <Pine.LNX.4.31.0206141006130.6521-100000@gannet.stats>
Message-ID: <x2sn3qtdf3.fsf@blueberry.kubism.ku.dk>

ripley at stats.ox.ac.uk writes:

> R has an edit command that you could use!
> 
> edit(file=outFile) is simple and system-independent.  'Nuff said?

It doesn't work for general file editing (and isn't documented to do
so):

> edit(file="foo")
Error in edit(name, file, editor) : An error occurred on line 3
 use a command like
 x <- edit()
 to recover

...which is little wonder since "foo" contained an email. It will try
to eval() the contents, which I don't think is desirable in all cases.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 11:33:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 14 Jun 2002 10:33:27 +0100 (BST)
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <x2wut2tdsq.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206141030200.7329-100000@gannet.stats>

On 14 Jun 2002, Peter Dalgaard BSA wrote:

> Ott Toomet <siim at obs.ee> writes:
>
> > If there is something like default editor, it is "vi" on UNIX (but there may
> > be 10-20 different editors with a full linux installation).  It is a general
> > tradition to let the user to define his own favourite using EDITOR
> > environment variable.  So, to be polite, you should check the presence of
> > the variable first, and thereafter run either vi or whatever was defined as
> > EDITOR.
> >
> > This can be done pretty easily as (ignoring paste):
> >
> > system("${EDITOR:-vi} outFile")
> >
> > Unfortunately, this is not the whole story.  The previous example works with
> > bash shell (which is default command interpreter on Linux).  With tcsh,
> > another quite popular shell, I am afraid you need a different approach (this
> > again is controlled with environment variable SHELL).  In addition, many
> > editors in Unix are terminal-based (like vi) i.e., they do not open a new
> > window.  This may cause problems when R is runned from a GUI or from Emacs
> > (Emacs cannot interpret vi diplay-control strings correctly).  If runned as
> > usual process on a terimal, it is just fine.
> >
> > Perhaps it is the best to try the example above, but warn the user and
> > suggest to customise the editor command.
>
> Actually options("editor") would be in keeping with the rest of the
> system conventions (and carefully avoids the shell complications). We
> do already invoke the editor in a system-transparent way for
> fix(code), e.g. and we also have transparent file viewers with
> file.show, so maybe we should also define a file.edit function?

It's called edit() as used by fix()!   file.edit() could just be a
different interface to edit.default, I suppose.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 11:39:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 14 Jun 2002 10:39:01 +0100 (BST)
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <x2sn3qtdf3.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206141037430.7329-100000@gannet.stats>

On 14 Jun 2002, Peter Dalgaard BSA wrote:

> ripley at stats.ox.ac.uk writes:
>
> > R has an edit command that you could use!
> >
> > edit(file=outFile) is simple and system-independent.  'Nuff said?
>
> It doesn't work for general file editing (and isn't documented to do
> so):
>
> > edit(file="foo")
> Error in edit(name, file, editor) : An error occurred on line 3
>  use a command like
>  x <- edit()
>  to recover
>
> ...which is little wonder since "foo" contained an email. It will try
> to eval() the contents, which I don't think is desirable in all cases.

But I thought it was what Niels Waller wanted: maybe I misunderstood.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 12:18:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Jun 2002 11:18:18 +0100 (BST)
Subject: [R] Increasing Max Vector Length
In-Reply-To: <20020612220220.A5114@elaine2.stanford.edu>
Message-ID: <Pine.GSO.4.44.0206141056030.20807-100000@auk.stats>

On Wed, 12 Jun 2002, Jeremy Fox wrote:

> I'm looking at doing some really large linear algebra problems. I
> followed the helpful instructions in the back of the installation
> guide for rather aggressive compilation options on 64-bit
> Solaris. Happily, I can address more than 6GB of RAM at once in R, so
> I the 64 bit part works fine. With the Sun Performance libraries, R is
> also very fast.
>
> One thing that still bugs me is the maximum vector length, which
> apparently is 268435455. Can I increase this? 32 bit SPlus has the
> same limitations, but Fortran, C and 32 bit Matlab do not, so it's not

Any 32-bit machine can at most address 2^32bytes (by definition)
and that is 536870912 doubles.  It's pretty unlikely that one could
allocate all of that to one object, and it's only a factor of two.
So on 32-bit platforms it is not much of a restriction.

We are in the process of altering R internally to use unsigned longs and
not ints for quantities holding memory sizes, and this will help on 64-bit
machines, and slightly on 32-bit machines.  However, vector lengths will
remain limited to 2^31 - 1, as vectors are indexed by ints.

Almost all of R's management of the heap is done in units of 8 bytes,
and size (as used in allocVector) is a long.  There is a line

	    if (length > INT_MAX / sizeof(double))
		errorcall(R_GlobalContext->call,
			  "cannot allocate vector of length %d", length);

in src/main/memory.c that provides the limit (assuming you are quoting
numeric vectors), and this is one of the things which will get altered
shortly (to ULONG_MAX/sizeof(double), so unlimited by this on a 64-bit
machine).  I think even now you could change those limits to LONG_MAX on a
64-bit machine as size is a long.

R-devel will have the changes in a week or two.  (I've tried them once, and
backed them out until we are finished with 1.5.1.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Fri Jun 14 13:21:23 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Fri, 14 Jun 2002 13:21:23 +0200
Subject: [R] exponential smoothing
Message-ID: <OF27896347.461EADBC-ONC1256BD8.003E0E05@fimat-france.fr>

could someone help me to write a fonction doing an exponential smoothing in
case of a multivariate time serie?
I tried
ewma <- function (x, lambda = 1, init = 0)
{
     if (is.ts(x))
       filter(lambda*x, filter=1-lambda, method="recursive", init=init)
     else
       stop(message="first argument should be a time serie")
}
but I can't apply that to multivariate
Thanks

xavier

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Fri Jun 14 14:10:58 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Fri, 14 Jun 2002 14:10:58 +0200
Subject: [R] exponential smoothing
Message-ID: <OF848BD708.E2E0277B-ONC1256BD8.0042E039@fimat-france.fr>



could someone help me to write a fonction doing an exponential smoothing in
case of a multivariate time serie?
I tried
ewma <- function (x, lambda = 1, init = 0)
{
     if (is.ts(x))
       filter(lambda*x, filter=1-lambda, method="recursive", init=init)
     else
       stop(message="first argument should be a time serie")
}
but I can't apply that to multivariate
Thanks

xavier


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jun 14 14:31:30 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 14 Jun 2002 22:31:30 +1000
Subject: [R] table problems
References: <Pine.LNX.4.31.0206131550100.1880-100000@gannet.stats> <x2k7p3qkjn.fsf@blueberry.kubism.ku.dk>
Message-ID: <3D09E222.C11E6277@ozemail.com.au>

Peter Dalgaard BSA wrote:
> 
> ripley at stats.ox.ac.uk writes:
> 
> > On Thu, 13 Jun 2002, David Brahm wrote:
> >
> > > Robin Hankin <r.hankin at auckland.ac.nz> has a vector of trees visited:
> > >   R> c <- c(3,14,17,22,26,26,17,40,43,25,46,46)
> > > and wants a count of visits for trees 1:50.  table(c) is inadequate because it
> > > omits the zero cases.
> > >
> > > Brian D. Ripley <ripley at stats.ox.ac.uk> suggested:
> > > > Try tabulate(c), which goes to 46.  Or, better,
> > > > tab <- rep(0,50)
> > > > names(tab) <- 1:50
> > > > tab[names(table(c))] <- table(c)
> > >
> > > But tabulate has a second argument (nbins) which does what you want in 1 line:
> > >   R> tabulate(c, 50)
> >
> > Yes if you want 1:50.  Not for other label sets, which is why I did it
> > the more general way.  I did mention tabulate: should have givne more
> > details, I guess.
> 
> My standard device would be
> 
> table(factor(c,levels=1:50))
> 
>
Unless I am mistaken, this looks like the classic "occupancy problem" of
the distribution of R trials into N outcomes. If one wishes to test the
hypothesis that the observed distribution of outcomes differs from the
null-hypothetical distribution (typically that each trial is independent
and the probability of all outcomes is equal) the number of observed
choices must lie in the upper or lower tail for which the cumulative
probability of all values is less than or equal to the alpha for a Type
I error. For the case described, the expected value of choices is 10.76
and the critical value for a single set of trials is 8. Can this really
be done with table()?

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 14 15:00:18 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 14 Jun 2002 09:00:18 -0400
Subject: [R] Rcmd on Windows
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC369@usrymx10.merck.com>

Actually, it seems that Yunda is on NT/2000/XP, in which case there's no
autoexec.bat, and no reboot would be needed.  When installing Perl, make
sure it is installed `for all users'.  I believe the ActiveState Perl
installer will automatically add to the PATH environment variable.  If not,
right click on `My Computer', click on the `Environment' tab, and edit PATH
there.  Click 'Set' and then 'OK'.  Then try it again.

Andy

> -----Original Message-----
> From: Jason Turner [mailto:jasont at indigoindustrial.co.nz]
> Sent: Friday, June 14, 2002 12:02 AM
> To: Yunda Huang
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Rcmd on Windows
> 
> 
> On Thu, Jun 13, 2002 at 06:30:45PM -0700, Yunda Huang wrote:
> ...
> > But it still did not work and the error message was 
> > -- 'perl' is not recognized as an internal or external command,
> > operable program or batch file. -- What do you think I have 
> done wrong? 
> 
> You haven't got perl on your path.  To check this, 
> 1) go to some directory where perl.exe *isn't* installed, such 
> as c:\temp
> 2) type "perl"  at the command prompt.
> 
> You should get the same error message: ...not recognized as an 
> internal or external command...
> 
> to fix this, edit your autoexec.bat file appropriately to put perl.exe
> on the path, and reboot.
> 
> Cheers
> 
> Jason
> -- 
> Indigo Industrial Controls Ltd.
> 64-21-343-545
> jasont at indigoindustrial.co.nz
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isurujp at yahoo.com  Fri Jun 14 15:58:06 2002
From: isurujp at yahoo.com (isuru seekkuarachchi)
Date: Fri, 14 Jun 2002 06:58:06 -0700 (PDT)
Subject: [R] software downlaod-urgent
Message-ID: <20020614135806.82011.qmail@web20810.mail.yahoo.com>

Dear sir,

I am a foreign researcher attach to Toyama
University-Japan, Dept. of Chemical Eng. 
I am working on a project which requires linking of
various process parameters with design conditions.

I found interesting on your R-software,which was
introduced to me through some profs.Thanks for making
it available free. 

I need to use mutiparameter regression analysis to
correlate 3 process variables (independent) to another
dependent variables. 

I tried to downlaod the R through your web page, and
the stuff downloaded was some papers no way to run it.
I was completely unaware on how to download and run
it.

I would well appreciate if you could let me know the
exact way of doing that.also let me have instruction
tutorial or relavent for begineers to use R.

Sorry for the inconvenience,

Look forward to hearing from you soon.

Thank you,
nishantha



__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 14 16:16:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2002 16:16:58 +0200
Subject: [R] software downlaod-urgent
In-Reply-To: <20020614135806.82011.qmail@web20810.mail.yahoo.com>
References: <20020614135806.82011.qmail@web20810.mail.yahoo.com>
Message-ID: <x2y9dirllx.fsf@blueberry.kubism.ku.dk>

isuru seekkuarachchi <isurujp at yahoo.com> writes:

> I tried to downlaod the R through your web page, and
> the stuff downloaded was some papers no way to run it.
> I was completely unaware on how to download and run
> it.
> 
> I would well appreciate if you could let me know the
> exact way of doing that.also let me have instruction
> tutorial or relavent for begineers to use R.

Goto 

http://cran.r-project.org/bin/windows/base/

and download SetupR.exe which will install everything for you.
(If you have a Windows system. Otherwise you probably need to get
someone to help you.)

If you have Acrobat Reader installed, then a set of manuals/tutorials
is available via the Help menu.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Edoardo.Missiaglia at cancer.org.uk  Fri Jun 14 16:43:08 2002
From: Edoardo.Missiaglia at cancer.org.uk (edoardo missiaglia)
Date: Fri, 14 Jun 2002 15:43:08 +0100
Subject: [R] course
Message-ID: <3D0A00FC.90268BD0@cancer.org.uk>

My name is Edoardo and I am working in the Molecular Oncology Unit at
Cancer Research UK in. I am a biologist and the project I am involved in
is based on gene expression profiling using cDNA microarray technology.
This technique produces a big set of data that require sophisticated
methods of analysis. In particular, there are some interesting packages
in R (sma, mcluster, yasma,etc) that are very useful tools for such kind
of statistical analysis. I have already begun to use those packages, but
my limited knowledge of R diminished the possibility for more extensive
analysis of my data. I would really appreciate if anyone could suggest
how I can improve my skills in programming and using R. Do you know if
there are any courses available here in the UK or other part of Europe
or USA?
Thank you very much for your help.


Edoardo Missiaglia
Molecular Oncology Unit
Cancer Research UK
Hammersmith Hospital
London, UK
Tel: 02083838596
e-mail: edoardo.missiaglia at cancer.org.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jun 14 17:00:11 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 14 Jun 2002 11:00:11 -0400
Subject: [R] software downlaod-urgent
In-Reply-To: <20020614135806.82011.qmail@web20810.mail.yahoo.com>; from isurujp@yahoo.com on Fri, Jun 14, 2002 at 06:58:06AM -0700
References: <20020614135806.82011.qmail@web20810.mail.yahoo.com>
Message-ID: <20020614110011.A992@cattell.psych.upenn.edu>

On 06/14/02 06:58, isuru seekkuarachchi wrote:
>I tried to downlaod the R through your web page, and
>the stuff downloaded was some papers no way to run it.
>I was completely unaware on how to download and run
>it.

What you need to look at is the FAQ (Frequently Asked Questions),
which is in the R page, specifically, in
http://www.r-project.org/
on the left under "Documentaion".

There is a section there on how to get it and how to install it.
The answer to both questions depends on what kind of computer and
operating system you have (that is, what "platform" you have).
Note that "Linux" is consdered part of "Unix" in that section.

For the kind of data analysis you need to do, you might want to
look at lm(), which is a function in the base package (the main
one).

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From splante at globetrotter.net  Fri Jun 14 17:20:08 2002
From: splante at globetrotter.net (=?iso-8859-1?Q?S=E9bastien_Plante?=)
Date: Fri, 14 Jun 2002 11:20:08 -0400
Subject: [R] Error: NA/NaN/Inf in foreign function call (arg 1)
Message-ID: <000701c213b6$fda01e60$1f14d784@uqar.qc.ca>

Hi,

I have a huge data table with several variables containing missing values. I
want to make a simple scatter plot (Mass, HSI) and draw a smooth regression
on it.

Here are the summaries of these two variables:

> summary(Mass)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   46.0   205.9   272.5   282.6   348.3   610.1

> summary(HSI)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's
  0.300   1.045   1.350   1.491   1.835   4.270  13.000

So there are 13 missing values in HSI.

I did
plot(Mass,HSI)

and it worked fine. However, when I wanted to draw the smooth regression,

scatter.smooth(Mass,HSI)

I got this error:

Error: NA/NaN/Inf in foreign function call (arg 1)

I did not forgot to load the package modreg...

Must I declare the "NAs" before doing this analysis? If so, how?

Thanks,

S?bastien Plante

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Fri Jun 14 17:59:09 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Fri, 14 Jun 2002 17:59:09 +0200
Subject: [R] Normalising and pivoting tables
Message-ID: <20020614175909.A8292@s1x.zimnet.ch>

I wanted to normalise table m1 into m2
and then get m1 back from m2. I did:

m1 <- matrix( 11:16, 3, 2, byrow=T )
rownames(m1) <- letters[1:3]
colnames(m1) <- toupper( letters[1:2] )
#-> m1
#      A  B
#   a 11 12
#   b 13 14
#   c 15 16
  
val <- as.vector(m1)
m2.index <- expand.grid( f1 = rownames(m1), f2 = colnames(m1) )
m2 <- cbind( m2.index, val )
#-> m2
#    f1 f2 val
#  1  a  A  11
#  2  b  A  13
#  3  c  A  15
#  4  a  B  12
#  5  b  B  14
#  6  c  B  16

m1.from.m2 <- matrix( m2$val, nlevels(m2$f1), nlevels(m2$f2) )
rownames(m1.from.m2) <- levels(m2$f1)
colnames(m1.from.m2) <- levels(m2$f2)
#-> m1.from.m2
#      A  B
#   a 11 12
#   b 13 14
#   c 15 16

m3 <- m2[c(1:2,4:6),]
#-> m3
#    f1 f2 val
#  1  a  A  11
#  2  b  A  13
#  3  a  B  12
#  4  b  B  14
#  5  c  B  16

m1.from.m3 <- ???


My questions:
- Is there a better/other way to get m2 from m1?
- Is there a better/other way to get m1.2 from m2?
- How to get m1.3 from m3 which would be m1.2 with NA instead of 15?


Thanks. Wolfram Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Jun 14 18:10:24 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 14 Jun 2002 17:10:24 +0100
Subject: [R] minor quirk in rnbinom
Message-ID: <NEBBJLLBCLEDFLCCBKDAEEEKCGAA.mel@mcs.st-andrews.ac.uk>


I don't want to spoil a nice joke, and recognise it's not a bug as it does
have the intended effect, but the error message that is returned if rnbinom
is given four parameters is slightly obscure:

> rnbinom(0.5,0.5,0.5,0.5)
Error in rnbinom(0.5, 0.5, 0.5, 0.5) : couldn't find function "error"
>

Cheers,

Mike.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 14 18:25:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2002 18:25:51 +0200
Subject: [R] minor quirk in rnbinom
In-Reply-To: <NEBBJLLBCLEDFLCCBKDAEEEKCGAA.mel@mcs.st-andrews.ac.uk>
References: <NEBBJLLBCLEDFLCCBKDAEEEKCGAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <x2u1o5su7k.fsf@blueberry.kubism.ku.dk>

"Mike Lonergan" <mel at mcs.st-and.ac.uk> writes:

> I don't want to spoil a nice joke, and recognise it's not a bug as it does
> have the intended effect, but the error message that is returned if rnbinom
> is given four parameters is slightly obscure:
> 
> > rnbinom(0.5,0.5,0.5,0.5)
> Error in rnbinom(0.5, 0.5, 0.5, 0.5) : couldn't find function "error"
> >

That's a bug alright. Will fix for 1.5.1.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jun 14 18:47:59 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 14 Jun 2002 18:47:59 +0200
Subject: [R] minor quirk in rnbinom
References: <NEBBJLLBCLEDFLCCBKDAEEEKCGAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <3D0A1E3F.5BE7BD8B@statistik.uni-dortmund.de>

Mike Lonergan wrote:
> 
> I don't want to spoil a nice joke, and recognise it's not a bug as it does
> have the intended effect, but the error message that is returned if rnbinom
> is given four parameters is slightly obscure:
> 
> > rnbinom(0.5,0.5,0.5,0.5)
> Error in rnbinom(0.5, 0.5, 0.5, 0.5) : couldn't find function "error"


That's a bug, of course 

  error("prob and mu both specified")

should be

  stop("prob and mu both specified")

in that function.

[R-1.5.0 patched 2002-06-12, WinNT4.0]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Fri Jun 14 19:16:19 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee.Law@celeradiagnostics.com)
Date: Fri, 14 Jun 2002 10:16:19 -0700
Subject: [R] combination of different vector values
Message-ID: <OF32F9646A.9FE33F41-ON88256BD8.005E9A25@pe-c.com>

Hi,

Thanks in advance for the help.

I have a few vectors and I need to get all the combinations of the vector
values.
Normally I would use a few for-loops to do that.
e.g  x1_c(1,3,5)
     x2_c(2,5,6)
     for (i in x1) {
       for (j in x2) {
          ...
     }}

My problem is that I don't know how many vectors there are ahead of time,
so
I don't know how many for-loops I need. Any ideas how to implement this?

- Jacqueline




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Jun 14 19:31:24 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 14 Jun 2002 18:31:24 +0100
Subject: [R] generating overdispersed poisson & negative binomial data
In-Reply-To: <Pine.LNX.4.44.0206092141140.1700-100000@bolker.zoo.ufl.edu>
Message-ID: <NEBBJLLBCLEDFLCCBKDAMEELCGAA.mel@mcs.st-andrews.ac.uk>

Thanks for your advice and suggestions,

 (summary: Pat - rnbinom(); Bill - rnegbin() in package MASS; Ben -
compounding distributions)

Which made me look again at what I actually need and realise it isn't all
that much, so I've adopted a very simplistic approach, using negative
binomials with shape parameters chosen to give the desired mean/variance
ratio at the required value of the mean:

# functions to generate random numbers following
# over-dispersed Poisson and negative binomial distributions
# based on simple cheat of using a standard negative binomial,
# but choosing the scale parameter to give the desired mean/variance
# ratio at the given value of the mean.

rpois.od<-function (n, lambda,d=1) {
    if (d==1)
       rpois(n, lambda)
    else
       rnbinom(n, size=(lambda/(d-1)), mu=lambda)
}

rnbinom.od<-function (n, size, prob, mu, d=1) {
    if (!missing(prob)) {
       if (!missing(mu))
          stop("prob and mu both specified")
       mu<-size*(1-prob)/prob
    }
    size2 <- mu/(d-1+(d*mu/size))
    prob2 <- size2/(size2 + mu)
    .Internal(rnbinom(n, size2, prob2))
}

This seems to work well enough for my present needs, and looks reasonably
self consistent. I know I've failed to understand all the subtleties that
could produce more efficient and general results, but am grateful for the
assistance that got me this far.

If anyone can instantly see that this is nonsense please contain your
laughter long enough to enlighten me!

Cheers,

Mike.


     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ben Bolker
     > Sent: 10 June 2002 02:47
     > To: Mike Lonergan
     > Cc: R help
     > Subject: Re: [R] generating overdispersed poisson & negative binomial
     > data
     >
     >
     >
     >   I think part of the reason that people use
     > quasi-likelihoods in the
     > first place is that they can't think of simple models that
     > give them the
     > desired scaling ... if you find definitions, e.g. of compounded
     > or generalized distributions that give var=c*mean, I'd be
     > interested.  In
     > the meantime can you do something with compounding distributions?
     > (Unfortunately the only thing that springs to mind is e.g.
     > Poisson with
     > gamma-distributed rate, which gives negative-binomial in any
     > case, not
     > constant var*mean; Poisson+log-normal rate would be slightly more
     > flexible but?  if my moment-generating-functions algebra was
     > less rusty I
     > might play around with it ...)  I also might look in Johnson
     > & Kotz, which
     > I don't have with me.
     >
     > On Thu, 6 Jun 2002, Mike Lonergan wrote:
     >
     > > I would like to try a simple parametric bootstrap, but
     > unfortunately
     > > (stupidly?) my models are "overdispersed" gams & glms.
     > >
     > > I'm hoping for a function that generates overdispersed
     > poisson or negative
     > > binomial data with a given mean, scale (& shape parameter).
     > >
     > > The loose definition I'm using is overdispersed poisson
     > produces integer
     > > values with variance=const*mean & "looks like" a poisson,
     > & simly for
     > > overdispersed negative binomial - I am aware that odnb is
     > a strange thing to
     > > desire.
     > >
     > > Maybe the "integer-valued" bit of my definition is
     > unnecessary, which would
     > > mean a simple scaling would suffice, but I don't know
     > enough to decide on
     > > this without testing.
     > >
     > > Thanks,
     > >
     > > Mike.
     > >
     > >
     > >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Fri Jun 14 19:47:37 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Fri, 14 Jun 2002 10:47:37 -0700 (PDT)
Subject: [R] overlapping repeated measures
In-Reply-To: <20020614110011.A992@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.44.0206141035220.5778-100000@sebring.ss.uci.edu>


Hi,

Is there a library in R that could be used to estimate the
temporal profile for a factor (time) whose levels overlap, e.g.


t1 t2 t3 t4 t5 t6 t7 t8
         t1 t2 t3 t4 t5 t6 t7 t8
            t1 t2 t3 t4 t5 t6 t7 t8 ...

(so index #4 is the linear combination t1 + t4)

I'm at a loss as to how to describe such a model using R factors and lm.



Brad Buchsbaum




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Fri Jun 14 20:20:05 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Fri, 14 Jun 2002 14:20:05 -0400
Subject: [R] combination of different vector values
Message-ID: <7C4F091F6140D411A29300508B5C73B906D7215F@usrymx04.merck.com>

Take a look at expand.grid.  It sounds like it might solve your problem.

Hope this helps,
Matt

-----Original Message-----
From: Ngayee.Law at celeradiagnostics.com
[mailto:Ngayee.Law at celeradiagnostics.com]
Sent: Friday, June 14, 2002 1:16 PM
To: r-help at stat.math.ethz.ch
Subject: [R] combination of different vector values


Hi,

Thanks in advance for the help.

I have a few vectors and I need to get all the combinations of the vector
values.
Normally I would use a few for-loops to do that.
e.g  x1_c(1,3,5)
     x2_c(2,5,6)
     for (i in x1) {
       for (j in x2) {
          ...
     }}

My problem is that I don't know how many vectors there are ahead of time,
so
I don't know how many for-loops I need. Any ideas how to implement this?

- Jacqueline




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Katherine.Gowan at uchsc.edu  Fri Jun 14 20:55:16 2002
From: Katherine.Gowan at uchsc.edu (Katherine.Gowan@uchsc.edu)
Date: Fri, 14 Jun 2002 12:55:16 -0600
Subject: [R] "landscaping" the graphics device
Message-ID: <DF9604AF22D3A246866F0BA7950DFDE0421E03@Ex1a.uchsc.edu>

I'm just getting started with R, using it mainly for graphics. All of my
graphs need to be laid out in landscape format. I've set the parameter fin
to (11,8.5) as well as fiddling around with any other parameters that looked
promising, but the graphics window always opens as a square, as well as my
plot being square. (By the way, I'm on Windows 2000.) Now, I can physically
drag the window to the appropriate proportions, but this will soon become a
big pain, as I'm trying to automate the graphing of a lot of data. Does
anyone know how to get the graphics window to automatically open in the
dimensions I need? I've looked in the etc/Rdevga, but it seems to only be
for font settings.

Thanks so much,
Katherine Gowan :-) 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jun 14 20:54:59 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 14 Jun 2002 11:54:59 -0700 (PDT)
Subject: [R] R make on macosx
In-Reply-To: <Pine.GSO.4.33.0206131700440.12673-100000@ysidro.econ.uiuc.edu>
Message-ID: <Pine.GSO.4.10.10206141151250.9435-100000@fisher.stat.ucla.edu>

I haven't run R with ATLAS on OS X, but I hear that it works. As far as I
know the configure script be default doesn't check /sw for stuff.  Maybe
try:

./configure CPPFLAGS="-I/sw/include" LDFLAGS="-L/sw/lib/"

in the source directory.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 13 Jun 2002, Roger Koenker wrote:

> 
> Thanks...dlcompat was installed by fink -- isn't it: /sw/lib/libdl.dylib.
> Other stuff is found from /sw/lib so I don't think that this is the problem,
> but I could easily be mistaken...I take it from your message that you have
> a R-1.5.0 running with ATLAS?
> 
> Roger
> 
> 
> url:    http://www.econ.uiuc.edu                Roger Koenker
> email   roger at ysidro.econ.uiuc.edu              Department of Economics
> vox:    217-333-4558                            University of Illinois
> fax:    217-244-6678                            Champaign, IL 61820
> 
> On Thu, 13 Jun 2002, Roger Peng wrote:
> 
> > Did you install the dlcompat library (either from fink or somewhere else)?
> > I seem to recall having this problem when dlcompat was not on my system.
> >
> > If you do have the dlcompat library, then you may have to put /sw or
> > /sw/lib in the path used for searching for libraries.
> >
> > -roger
> 
> 
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> On Thu, 13 Jun 2002, Jan de Leeuw wrote:
> 
> > Did you install dlcompat from fink ?
> >
> > -- Jan
> >
> > Roger Koenker wrote:
> > > I am trying to make R-1.5.0 from source on a new G4 system with the apple
> > > developer tools and X11 installed and with ATLAS.  Running ./configure
> > > appears to end normally, but running make yields:
> > >
> > > gcc -no-cpp-precomp -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c Rdynload.c -o Rdynload.o
> > > Rdynload.c: In function `R_FindSymbol':
> > > Rdynload.c:942: `CFunTab' undeclared (first use in this function)
> > > Rdynload.c:942: (Each undeclared identifier is reported only once
> > > Rdynload.c:942: for each function it appears in.)
> > > make[3]: *** [Rdynload.o] Error 1
> > > make[2]: *** [R] Error 2
> > > make[1]: *** [R] Error 1
> > > make: *** [R] Error 1
> > > [cba943:local/R/R-1.5.0] roger%
> > >
> > > I see from the help archive that something similar was a problem on HPux in
> > > R-1.3.1.  Any suggestions would be most welcome...
> > >
> > > url:	http://www.econ.uiuc.edu		Roger Koenker
> > > email	roger at ysidro.econ.uiuc.edu		Department of Economics
> > > vox: 	217-333-4558				University of Illinois
> > > fax:   	217-244-6678				Champaign, IL 61820
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> >
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 14 21:44:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 14 Jun 2002 20:44:54 +0100 (BST)
Subject: [R] "landscaping" the graphics device
In-Reply-To: <DF9604AF22D3A246866F0BA7950DFDE0421E03@Ex1a.uchsc.edu>
Message-ID: <Pine.LNX.4.31.0206142043590.13291-100000@gannet.stats>

On Fri, 14 Jun 2002 Katherine.Gowan at uchsc.edu wrote:

> I'm just getting started with R, using it mainly for graphics. All of my
> graphs need to be laid out in landscape format. I've set the parameter fin
> to (11,8.5) as well as fiddling around with any other parameters that looked
> promising, but the graphics window always opens as a square, as well as my
> plot being square. (By the way, I'm on Windows 2000.) Now, I can physically
> drag the window to the appropriate proportions, but this will soon become a
> big pain, as I'm trying to automate the graphing of a lot of data. Does
> anyone know how to get the graphics window to automatically open in the
> dimensions I need? I've looked in the etc/Rdevga, but it seems to only be
> for font settings.

?windows tells you how.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Jun 14 21:49:34 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 14 Jun 2002 12:49:34 -0700
Subject: [R] calling an editor on MAC and Linux
In-Reply-To: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>
References: <NDBBLLOPOEMNNHONCHBFIENICOAA.niels.waller@vanderbilt.edu>
Message-ID: <p0511170db92ff5bae32e@[128.115.153.6]>

Mac OS X comes with vi and emacs, so existing R methods work:

   > sink('foo.doc') ; ls() ; sink()
   > edit(file='foo.doc')

If the desire is to use one of the OS's "native" editors, that is, 
one with a GUI and not a unix-based text editor, the following 
examples shos ways to do it.

   > system('open -e foo.doc')
to use the TextEdit application, or
   > system('open foo.doc')
which will use the default application for the ".doc" suffix. Or
   > system('open -a name.of.application foo.doc')
to use a specific application. But finding how the application is 
named in that particular context might not be easy.

-Don

At 8:05 PM -0500 6/13/02, Niels Waller wrote:
>I have written an R function that writes output to an external file using
>the sink function.  I assume that `sink' is not operating system dependent.
>At the end of the function I have additional code that opens the newly
>created file using notepad on a Windows system.  Obviously, this part of the
>code will not work on a Mac or Linux box.  Since I do not have a machine
>with Linux or the Mac OS available I have no idea what to call the default
>editors.  Could somebody provide a suggestion?  Thanks in advance.
>
>
>    win3 <- function(...) {
>         system(...)
>     }
>
>  [a zillion lines of code here ]
>
>
>  notepad.file <- paste("notepad", outFile, sep = " ")
>  win3(notepad.file)
>
>
>
>
>
>0=================================================0
>Dr. Niels G. Waller
>Quantitative Methods
>Department of Psychology and Human Development
>Box 512 Peabody College
>Vanderbilt University
>Nashville TN 37203
>email:  niels.waller at vanderbilt.edu
>fax:    615 343-9494
>QME home page: http://www.vanderbilt.edu/quantmetheval
>http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
>0=================================================0
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jun 14 22:55:24 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 14 Jun 2002 16:55:24 -0400
Subject: [R] Error: NA/NaN/Inf in foreign function call (arg 1)
In-Reply-To: <000701c213b6$fda01e60$1f14d784@uqar.qc.ca>
Message-ID: <5.1.0.14.2.20020614164405.01d88a80@mcmail.cis.mcmaster.ca>

Dear S?bastien,

At 11:20 AM 6/14/2002 -0400, S?bastien Plante wrote:

>I did
>plot(Mass,HSI)
>
>and it worked fine. However, when I wanted to draw the smooth regression,
>
>scatter.smooth(Mass,HSI)
>
>I got this error:
>
>Error: NA/NaN/Inf in foreign function call (arg 1)
>
>I did not forgot to load the package modreg...
>
>Must I declare the "NAs" before doing this analysis? If so, how?

scatter.smooth doesn't handle missing values. A simple way to proceed is to 
remove the missing data:

         good <- complete.cases(Mass, HSI)
         scatter.smooth(Mass[good], HSI[good])

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jun 14 23:09:38 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 14 Jun 2002 17:09:38 -0400
Subject: [R] combination of different vector values
In-Reply-To: <OF32F9646A.9FE33F41-ON88256BD8.005E9A25@pe-c.com>
Message-ID: <5.1.0.14.2.20020614170634.01d82da8@mcmail.cis.mcmaster.ca>

Dear Jacqueline,

At 10:16 AM 6/14/2002 -0700, Ngayee.Law at celeradiagnostics.com wrote:


>I have a few vectors and I need to get all the combinations of the vector
>values.
>Normally I would use a few for-loops to do that.
>e.g  x1_c(1,3,5)
>      x2_c(2,5,6)
>      for (i in x1) {
>        for (j in x2) {
>           ...
>      }}
>
>My problem is that I don't know how many vectors there are ahead of time,
>so
>I don't know how many for-loops I need. Any ideas how to implement this?

You don't say what you want to do within the loops, but you may be able to 
adapt the following example, which puts the vectors in a list, loops over 
the list, and uses outer to generate combinations:

     > x <- 1:3
     > y <- 10*(1:3)
     > z <- 100*(1:3)
     > lst <- list(x, y, z)
     > result <- lst[[1]]
     > for (i in 2:length(lst)) result <- outer(result, lst[[i]], '+')
     > as.vector(result)
     [1] 111 112 113 121 122 123 131 132 133 211 212 213 221 222 223 231
     [17] 232 233 311 312 313 321 322 323 331 332 333

If this doesn't work, perhaps you could specify the problem in more detail.

John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Sat Jun 15 03:46:34 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 15 Jun 2002 13:46:34 +1200 (NZST)
Subject: [R] installing R on Red Hat 7.1
Message-ID: <200206150146.g5F1kYS28348@tahi.mcs.vuw.ac.nz>

I said (with reference to installing R-1.5.0 on RedHat 7.1):
> But I think you will find that even when you do install R-base first, or
> concurrently, it will then discover that libreadline is out of date and
> Tcl and Tk are not there (or perhaps also out of date - I didn't follow
> up on this).  So I suspect you will need to upgrade your RedHat to 7.2
> at least.
> 
I was talking through a hole in my head :-).

Of course I was forgetting that what I had tried was to install the RH
7.2 version of 1.5.0 (that I had downloaded for my system) on somebody
else's system running RH 7.1.

Sorry about any confusion, and thanks to Jari Oksanen
<jarioksa at sun3.oulu.fi> for pointing this out.

Ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Jun 15 08:26:10 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 15 Jun 2002 02:26:10 -0400 (EDT)
Subject: [R] using integrate on a function defined with if
Message-ID: <Pine.LNX.4.44.0206150142400.3008-100000@Chrestomanci>


Dear R People,

I getting some curious behaviour with the integrate function. Consider the
function

foo <- function(x)
  {
    if(x==0)
	4
	else
	0
	}

I get the error

> integrate(foo,0,1)
Error in integrate(foo, 0, 1) : evaluation of function gave a result of
wrong length

But now consider

foo <- function(x)
  {
    ifelse(x==0,4,0)
  }

> integrate(foo,0,1)
0 with absolute error < 0

I am guessing this may have something to do with types/classes, but I
don't see exactly what. I would be happy to be enlightened.

Yhe help page says the function must be

"f An R function taking a numeric first argument and returning a numeric
vector the same length."

But I don't see any difference in what these two return. In both cases it
is NULL.

                                  Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Sat Jun 15 03:47:36 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 14 Jun 2002 20:47:36 -0500
Subject: [R] "displayed" output of cat(..., stderr()) is garbaged
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D9D1@JUPITER>

Dear R-users,

To display progress of a loop I wanted to print the current value of the
loop variable, e.g.

> for (i in 1:2) cat("i=", i, "\n")
for (i in 1:2) cat(i, "\n")
i= 1 
i= 2 


So far so good. Now I want to redirect it to stderr() (to make it
unbuffered)

> for (i in 1:2) cat("i=", i, "\n", stderr())
for (i in 1:2) cat("i=", i, "\n", stderr())
i= 1 
 2i= 2 
 2> 

This is contaminated with the value of the stderr file descriptor (2).

Is there any way to get rid of this "garbage"? Is there any other way to
write to stderr?

Thanks, Vadim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Sat Jun 15 03:47:36 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 14 Jun 2002 20:47:36 -0500
Subject: [R] "displayed" output of cat(..., stderr()) is garbaged
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D9D1@JUPITER>

Dear R-users,

To display progress of a loop I wanted to print the current value of the
loop variable, e.g.

> for (i in 1:2) cat("i=", i, "\n")
for (i in 1:2) cat(i, "\n")
i= 1 
i= 2 


So far so good. Now I want to redirect it to stderr() (to make it
unbuffered)

> for (i in 1:2) cat("i=", i, "\n", stderr())
for (i in 1:2) cat("i=", i, "\n", stderr())
i= 1 
 2i= 2 
 2> 

This is contaminated with the value of the stderr file descriptor (2).

Is there any way to get rid of this "garbage"? Is there any other way to
write to stderr?

Thanks, Vadim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 15 08:55:15 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 15 Jun 2002 07:55:15 +0100 (BST)
Subject: [R] using integrate on a function defined with if
In-Reply-To: <Pine.LNX.4.44.0206150142400.3008-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.31.0206150753520.23922-100000@gannet.stats>

On Sat, 15 Jun 2002, Faheem Mitha wrote:

>
> Dear R People,
>
> I getting some curious behaviour with the integrate function. Consider the
> function
>
> foo <- function(x)
>   {
>     if(x==0)
> 	4
> 	else
> 	0
> 	}
>
> I get the error
>
> > integrate(foo,0,1)
> Error in integrate(foo, 0, 1) : evaluation of function gave a result of
> wrong length
>
> But now consider
>
> foo <- function(x)
>   {
>     ifelse(x==0,4,0)
>   }
>
> > integrate(foo,0,1)
> 0 with absolute error < 0
>
> I am guessing this may have something to do with types/classes, but I
> don't see exactly what. I would be happy to be enlightened.
>
> Yhe help page says the function must be
>
> "f An R function taking a numeric first argument and returning a numeric
> vector the same length."
>
> But I don't see any difference in what these two return. In both cases it
> is NULL.

No, in the first case it is vector of length 1, and in the second a vector
of the length of x.   Did you actually try it?  Please do to convince
yourself.

S functions return the value of their last statement.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 15 08:57:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 15 Jun 2002 07:57:32 +0100 (BST)
Subject: [R] "displayed" output of cat(..., stderr()) is garbaged
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D9D1@JUPITER>
Message-ID: <Pine.LNX.4.31.0206150755280.23922-100000@gannet.stats>

On Fri, 14 Jun 2002, Vadim Ogranovich wrote:

> Dear R-users,
>
> To display progress of a loop I wanted to print the current value of the
> loop variable, e.g.
>
> > for (i in 1:2) cat("i=", i, "\n")
> for (i in 1:2) cat(i, "\n")
> i= 1
> i= 2
>
>
> So far so good. Now I want to redirect it to stderr() (to make it
> unbuffered)
>
> > for (i in 1:2) cat("i=", i, "\n", stderr())
> for (i in 1:2) cat("i=", i, "\n", stderr())
> i= 1
>  2i= 2
>  2>
>
> This is contaminated with the value of the stderr file descriptor (2).
>
> Is there any way to get rid of this "garbage"? Is there any other way to
> write to stderr?

Use it as documented:

cat("i=", i, "\n", file=stderr())


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 15 11:44:01 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2002 11:44:01 +0200
Subject: [R] installing R on Red Hat 7.1
In-Reply-To: <200206150146.g5F1kYS28348@tahi.mcs.vuw.ac.nz>
References: <200206150146.g5F1kYS28348@tahi.mcs.vuw.ac.nz>
Message-ID: <x2sn3o6fmm.fsf@blueberry.kubism.ku.dk>

Ray Brownrigg <Ray.Brownrigg at mcs.vuw.ac.nz> writes:

> I said (with reference to installing R-1.5.0 on RedHat 7.1):
> > But I think you will find that even when you do install R-base first, or
> > concurrently, it will then discover that libreadline is out of date and
> > Tcl and Tk are not there (or perhaps also out of date - I didn't follow
> > up on this).  So I suspect you will need to upgrade your RedHat to 7.2
> > at least.
> > 
> I was talking through a hole in my head :-).
> 
> Of course I was forgetting that what I had tried was to install the RH
> 7.2 version of 1.5.0 (that I had downloaded for my system) on somebody
> else's system running RH 7.1.
> 
> Sorry about any confusion, and thanks to Jari Oksanen
> <jarioksa at sun3.oulu.fi> for pointing this out.

Did you actually try installing R-base? I don't quite see the readline
issue causing trouble on 7.1 (whereas the rpm for 7.1 required a
compatibility .rpm to run on 7.2). It links against libreadline.so.4
which should exist in both places.

However the tcltk issue may be tricky. For some odd reason the 7.2 rpm
is linked against libtcl.so.0 and libtk.so.0 which don't exist in 7.1.
This is pretty peculiar, but I suspect that it can be fixed by making
the two files symlinks to libtcl.so and libtk.so.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Sat Jun 15 11:53:37 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Sat, 15 Jun 2002 10:53:37 +0100
Subject: [R] using integrate on a function defined with if
References: <Pine.LNX.4.44.0206150142400.3008-100000@Chrestomanci>
Message-ID: <3D0B0EA1.52A77AC@lancs.ac.uk>

Hi Faheem

``integrate'' requires that the function (foo in your example) 
takes a vector as the first argument and returns a vector of the same
length. 

To illustrate this, try making a check for x being a vector in your
first example

foo <- function(x){
  if(is.vector(x)) print("x is a vector ! ")
  if(x==0) 4
  else 0
}

integrate(foo,0,1)

gives 

[1] "x is a vector ! "
Error in integrate(foo, 0, 1) : evaluation of function gave a result of
wrong length


As Prof. Ripley wrote in his reply, the problem is that your function is
not returning a vector but a number.

Cheers Ole



Faheem Mitha wrote:
> 
> Dear R People,
> 
> I getting some curious behaviour with the integrate function. Consider the
> function
> 
> foo <- function(x)
>   {
>     if(x==0)
>         4
>         else
>         0
>         }
> 
> I get the error
> 
> > integrate(foo,0,1)
> Error in integrate(foo, 0, 1) : evaluation of function gave a result of
> wrong length
> 
> But now consider
> 
> foo <- function(x)
>   {
>     ifelse(x==0,4,0)
>   }
> 
> > integrate(foo,0,1)
> 0 with absolute error < 0
> 
> I am guessing this may have something to do with types/classes, but I
> don't see exactly what. I would be happy to be enlightened.
> 
> Yhe help page says the function must be
> 
> "f An R function taking a numeric first argument and returning a numeric
> vector the same length."
> 
> But I don't see any difference in what these two return. In both cases it
> is NULL.
> 
>                                   Sincerely, Faheem Mitha.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Mon Jun 10 23:47:15 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Mon, 10 Jun 2002 17:47:15 -0400
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
Message-ID: <A0D129D9-7CBB-11D6-A490-000393021810@mail.mcg.edu>

I am having trouble with the library function of R Version 1.5.0 for Mac 
OS X Carbon when I try to load libraries that did not come with the R 
installation. For example, I put the Biobase library from 
bioconductor.org in the 'library' folder. R cannot find it, even though 
it can find the pre-installed libraries:

 > library() # this lists standard libraries such as 'boot', but does not 
list 'Biobase'
 > library('boot') # this loads 'boot'
 > library('Biobase')
Error in library("Biobase") : There is no package called `Biobase'

I think I need to somehow install the new library like I did with the 
Mac UNIX version of R, but I don't know how to do this with the Carbon 
version. I would appreciate any help with this.

Sincerely,
David Bickel

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1226 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020610/4e9a3f56/attachment.bin

From rpeng at stat.ucla.edu  Sat Jun 15 19:40:36 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 15 Jun 2002 10:40:36 -0700 (PDT)
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
In-Reply-To: <A0D129D9-7CBB-11D6-A490-000393021810@mail.mcg.edu>
Message-ID: <Pine.GSO.4.10.10206151038140.16663-100000@quetelet.stat.ucla.edu>

Is this a pre-compiled package?  Installing a source package in the
'library' folder of the Carbon R installation will not work since the
documentation, etc. have not been built.

I don't know if Bioconductor is distributing pre-compiled Macintosh
packages....

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 10 Jun 2002, David R. Bickel wrote:

> I am having trouble with the library function of R Version 1.5.0 for Mac 
> OS X Carbon when I try to load libraries that did not come with the R 
> installation. For example, I put the Biobase library from 
> bioconductor.org in the 'library' folder. R cannot find it, even though 
> it can find the pre-installed libraries:
> 
>  > library() # this lists standard libraries such as 'boot', but does not 
> list 'Biobase'
>  > library('boot') # this loads 'boot'
>  > library('Biobase')
> Error in library("Biobase") : There is no package called `Biobase'
> 
> I think I need to somehow install the new library like I did with the 
> Mac UNIX version of R, but I don't know how to do this with the Carbon 
> version. I would appreciate any help with this.
> 
> Sincerely,
> David Bickel
> 
> http://www.mcg.edu/research/biostat/bickel.html
> 
> David R. Bickel, PhD
> Assistant Professor
> Medical College of Georgia
> Office of Biostatistics and Bioinformatics
> 1120 Fifteenth St., AE-3037
> Augusta, GA 30912-4900
> 
> Tel.: 706-721-4697; Fax: 706-721-6294
> E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sat Jun 15 19:59:13 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 15 Jun 2002 10:59:13 -0700
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
In-Reply-To: <Pine.GSO.4.10.10206151038140.16663-100000@quetelet.stat.ucla.edu>
References: <Pine.GSO.4.10.10206151038140.16663-100000@quetelet.stat.ucla.edu>
Message-ID: <87fzzo4e4u.fsf@jeeves.blindglobe.net>

>>>>> "roger" == Roger Peng <rpeng at stat.ucla.edu> writes:

    roger> Is this a pre-compiled package?  Installing a source package in the
    roger> 'library' folder of the Carbon R installation will not work since the
    roger> documentation, etc. have not been built.

    roger> I don't know if Bioconductor is distributing pre-compiled Macintosh
    roger> packages....

We aren't, yet (my Mac has arrived, but isn't setup yet), but I
thought Jan had compiled them up?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From valdentro at hotmail.com  Sat Jun 15 20:28:09 2002
From: valdentro at hotmail.com (juan pablo perez)
Date: Sat, 15 Jun 2002 18:28:09 +0000
Subject: [R] problems with gzip
Message-ID: <F95IsqsLwy5scK8t85900000bf1@hotmail.com>


Hello r-supporters!

I?m working with contributed packages downloaded today.When I try to install 
them with R CMD INSTALL an error message says that the package is not a gzip 
file. This occurs both in Suse 7.3 and in Debian Potato 2.2. I had not this 
problem when instaled the same packages just half a year ago. I think this 
is related with cuestions about GNU license or similar but, knows anybody 
what should I do to resolve the problem?

Thanks in advance

Juan Pablo
Zaragoza, Spain





_________________________________________________________________
?nase con MSN Hotmail al servicio de correo electr?nico m?s grande del 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat Jun 15 20:29:41 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 15 Jun 2002 11:29:41 -0700 (PDT)
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
In-Reply-To: <87fzzo4e4u.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.GSO.4.10.10206151128250.16663-100000@quetelet.stat.ucla.edu>

> We aren't, yet (my Mac has arrived, but isn't setup yet), but I
> thought Jan had compiled them up?

Yes, that's right, I believe the Bioconductor packages are at
ftp://gifi.stat.ucla.edu/pub/R-1.5.0/miscellaneous/BioConductor

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On 15 Jun 2002, A.J. Rossini wrote:

> >>>>> "roger" == Roger Peng <rpeng at stat.ucla.edu> writes:
> 
>     roger> Is this a pre-compiled package?  Installing a source package in the
>     roger> 'library' folder of the Carbon R installation will not work since the
>     roger> documentation, etc. have not been built.
> 
>     roger> I don't know if Bioconductor is distributing pre-compiled Macintosh
>     roger> packages....
> 
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ ----------------
> FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> (my tuesday/wednesday/friday locations are completely unpredictable.)
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 15 20:49:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 15 Jun 2002 19:49:51 +0100 (BST)
Subject: [R] problems with gzip
In-Reply-To: <F95IsqsLwy5scK8t85900000bf1@hotmail.com>
Message-ID: <Pine.LNX.4.31.0206151947570.31316-100000@gannet.stats>

Almost certainly the problem is with your download, which has un-gzipped
it: browsers do tend to,   Try calling `file' on the downloaded file to
see what it is.

I suggest you use ftp to download: it avoids such things.

On Sat, 15 Jun 2002, juan pablo perez wrote:

> Im working with contributed packages downloaded today.When I try to install
> them with R CMD INSTALL an error message says that the package is not a gzip
> file. This occurs both in Suse 7.3 and in Debian Potato 2.2. I had not this
> problem when instaled the same packages just half a year ago. I think this
> is related with cuestions about GNU license or similar but, knows anybody
> what should I do to resolve the problem?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jun 15 21:01:04 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 15 Jun 2002 15:01:04 -0400
Subject: [R] problems with gzip
In-Reply-To: <F95IsqsLwy5scK8t85900000bf1@hotmail.com>; from valdentro@hotmail.com on Sat, Jun 15, 2002 at 06:28:09PM +0000
References: <F95IsqsLwy5scK8t85900000bf1@hotmail.com>
Message-ID: <20020615150104.A1857@cattell.psych.upenn.edu>

On 06/15/02 18:28, juan pablo perez wrote:
>I?m working with contributed packages downloaded today.When I try to install 
>them with R CMD INSTALL an error message says that the package is not a gzip 
>file. This occurs both in Suse 7.3 and in Debian Potato 2.2. I had not this 
>problem when instaled the same packages just half a year ago. I think this 
>is related with cuestions about GNU license or similar but, knows anybody 
>what should I do to resolve the problem?

Well, is it true that they aren't gzip files?  Can you unzip them
with gunzip?  If not, then problem is not in R.  You can also
look at the extension: if it is .gz or .tgz, they are at least
supposed to be gzip files.

My memory is that the INSTALL command will check to see whether
the file is zipped or not (but I can't find this documented right
now).  If I'm correct, then the problem is that the files are not
gzip files although they are labeled as such.  In that case the
problem might lie in how you downloaded them.

It could also be that they are really tar files.  What happens if
you look at the file with more?  If you can read anything, then
it is probably a tar file and you might be able to re-lable it.

You might try again by starting R and using the
install.packages()
function rather than R CMD INSTALL.  This will probably choose
the right method of downloaing.  In fact, I would try this first.

Jon

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at ti.com  Sat Jun 15 22:28:12 2002
From: demiurg at ti.com (Sirotkin, Alexander)
Date: Sat, 15 Jun 2002 22:28:12 +0200
Subject: [R] importing large objects
Message-ID: <3D0BA35C.8050004@ti.com>

Hi.

I was trying to import a very large data table to R using RODBC. By 
large meaning a table of 600 real
numbers and 10000 rows. It failed saying that it reached a memory limit. 
This is extremely weird
because S-Plus can import the same table, and it does this quite fast.

Are there any limitations on objects size in current implementation of R ?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 15 22:13:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 15 Jun 2002 21:13:37 +0100 (BST)
Subject: [R] importing large objects
In-Reply-To: <3D0BA35C.8050004@ti.com>
Message-ID: <Pine.LNX.4.31.0206152104020.31355-100000@gannet.stats>

On Sat, 15 Jun 2002, Sirotkin, Alexander wrote:

> I was trying to import a very large data table to R using RODBC. By
> large meaning a table of 600 real
> numbers and 10000 rows. It failed saying that it reached a memory limit.

Which is what?  Buy some more memory: I am sure TI can afford it!

> This is extremely weird
> because S-Plus can import the same table, and it does this quite fast.

Why is it `extremely wierd'?  Why do you expect user-contributed software
(which is not even in the main CRAN section) for a free package to be as
memory-efficient as a commercial package?

> Are there any limitations on objects size in current implementation of R ?

Yes, around 2Gb for each object (increased in the current R-devel).

We would welcome contributions of improvements to RODBC or funds to
develop it (and I note that you are posting from a large commercial
concern).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at ti.com  Sat Jun 15 23:29:03 2002
From: demiurg at ti.com (Sirotkin, Alexander)
Date: Sat, 15 Jun 2002 23:29:03 +0200
Subject: [R] importing large objects
References: <Pine.LNX.4.31.0206152104020.31355-100000@gannet.stats>
Message-ID: <3D0BB19F.2030809@ti.com>

I see you are extremely angry at TI for some reason. 

Well, first and foremost : I do not use R at TI, I use it for 
my master thesis project at Tel-Aviv University. I also happen 
to be a TI employee, but I don't think it matters. Maybe I should 
use my University mail account while posting such questions, but
I just never encountered such kind of hostility before.

As far as I know, nobody at TI uses R, so I don't think I can 
convince the TI management to donate anything to R project.

I do have enough memory (I hope 512M is enough), the question
actually was : is there a limit (hard or soft, by soft meaning that 
the performance degrades significantly after object size reachs some
limit)
on objct size in R. If there is not (meaning it can handle large objects
and 
it scales well when object sizes increase) - then I'm apparently doing
something wrong and I should revist my code. If not - I should switch to
S-plus.

P.S. you can reply to my university account ( demiurg at tau.ac.il
<mailto:demiurg at tau.ac.il> ) if it makes 
you happier.

Thanks for your help.

ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>  wrote:


On Sat, 15 Jun 2002, Sirotkin, Alexander wrote:



  

I was trying to import a very large data table to R using RODBC. By

large meaning a table of 600 real

numbers and 10000 rows. It failed saying that it reached a memory limit.

    



Which is what?  Buy some more memory: I am sure TI can afford it!



  

This is extremely weird

because S-Plus can import the same table, and it does this quite fast.

    



Why is it `extremely wierd'?  Why do you expect user-contributed
software

(which is not even in the main CRAN section) for a free package to be as

memory-efficient as a commercial package?



  

Are there any limitations on objects size in current implementation of R
?

    



Yes, around 2Gb for each object (increased in the current R-devel).



We would welcome contributions of improvements to RODBC or funds to

develop it (and I note that you are posting from a large commercial

concern).



  



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020615/c687e29f/attachment.html

From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Sat Jun 15 23:11:31 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Sat, 15 Jun 2002 23:11:31 +0200
Subject: [R] plot.hclust with lots of objects
Message-ID: <3D0BAD83.BD58ADF2@Genetik.Uni-Bielefeld.DE>

Dear all,

the default plotting method for hclust trees looks just fine for few
objects like in the 
example dataset. But when it comes to many objects (some 1000 - I'm
trying to visualize clustered microarray data) it renders a tree, that
one cannot inspect, because of overlapping text and lines. My question
is, is there a way or a plotting parameter for plotting a tree which is
wide enough to have all leaves separated and readable labels even for
that many objects? 
This would produce a very big image, so I think scrolling is essential.

I believe the answer is simple, but I'm unable to figure it out.

Thanks in advance
Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sun Jun 16 06:30:16 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sat, 15 Jun 2002 23:30:16 -0500
Subject: [R] importing large objects
References: <Pine.LNX.4.31.0206152104020.31355-100000@gannet.stats> <3D0BB19F.2030809@ti.com>
Message-ID: <3D0C1458.7020500@epm.net.co>

Dear Dr. Sirotkin:

> I do have enough memory (I hope 512M is enough), the question
> actually was : is there a limit (hard or soft, by soft meaning that
> the performance degrades significantly after object size reachs some 
> limit)
> on objct size in R. If there is not (meaning it can handle large 
> objects and
> it scales well when object sizes increase) - then I'm apparently doing
> something wrong and I should revist my code. If not - I should switch 
> to S-plus.

Have you try with the --max-mem-size option? (This in the Windows version)

Best regards

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sun Jun 16 11:33:38 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sun, 16 Jun 2002 11:33:38 +0200
Subject: [R] plot.hclust with lots of objects
In-Reply-To: <3D0BAD83.BD58ADF2@Genetik.Uni-Bielefeld.DE>
References: <3D0BAD83.BD58ADF2@Genetik.Uni-Bielefeld.DE>
Message-ID: <20020616093338.GA1345930@genome.cbs.dtu.dk>

On Sat, Jun 15, 2002 at 11:11:31PM +0200, Michael Dondrup wrote:
> Dear all,
> 
> the default plotting method for hclust trees looks just fine for few
> objects like in the 
> example dataset. But when it comes to many objects (some 1000 - I'm
> trying to visualize clustered microarray data) it renders a tree, that
> one cannot inspect, because of overlapping text and lines. My question
> is, is there a way or a plotting parameter for plotting a tree which is
> wide enough to have all leaves separated and readable labels even for
> that many objects? 
> This would produce a very big image, so I think scrolling is essential.
> 
> I believe the answer is simple, but I'm unable to figure it out.
> 
> Thanks in advance
> Michael


Dear Michael,

For the labels, you may want to try use smaller characters to dsiplay them.
This can be done using the incantation:
par(cex=0.5)  # for example

For the overlapping lines, well I think there is not much to do except
magnifying. Did you try to save your plot in a format like postscript
or pdf then display it with a wiever that let you zoom in ?

Ultimately, you can try to prune your tree and inspect specific branches
(I send you to R help files in this case)


Hopin' it helps,



Laurent



--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Sun Jun 16 16:37:08 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Sun, 16 Jun 2002 18:37:08 +0400 (MSD)
Subject: [R] plotting simple plot with error bars
In-Reply-To: <20020616093338.GA1345930@genome.cbs.dtu.dk>
Message-ID: <Pine.LNX.4.33.0206161828150.24151-100000@pcf004.jinr.ru>

Hello!

I'm novice in R, so excuse me if my question will be quite trivial.
I look through all the demos and examples, but could not find how could I
plot 'classical' simple graph with error bars.  That is, I have dataframe
with 3 columns: "x", "y" and "dy" -- how can I get points (x, y) with,
for example, short lines of length "dy" up and down from "y"?

Thanks.


Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Sun Jun 16 17:11:07 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Sun, 16 Jun 2002 17:11:07 +0200
Subject: [R] plot.hclust with lots of objects
References: <3D0BAD83.BD58ADF2@Genetik.Uni-Bielefeld.DE> <20020616093338.GA1345930@genome.cbs.dtu.dk>
Message-ID: <3D0CAA8B.C8F6FAF6@Genetik.Uni-Bielefeld.DE>

I found that converting my hclust object to a dendrogram and cutting it
with 
cut.dendrogram, does almost what I want, showing only a branch of the
tree. 
But now my labels in the plot are gone, although they appear in the
dendrogram object itself, when printed.
How can I bring them back?
Thanks for your help
Michael

Laurent Gautier wrote:
> 
> On Sat, Jun 15, 2002 at 11:11:31PM +0200, Michael Dondrup wrote:
> > Dear all,
> >
> > the default plotting method for hclust trees looks just fine for few
> > objects like in the
> > example dataset. But when it comes to many objects (some 1000 - I'm
> > trying to visualize clustered microarray data) it renders a tree, that
> > one cannot inspect, because of overlapping text and lines. My question
> > is, is there a way or a plotting parameter for plotting a tree which is
> > wide enough to have all leaves separated and readable labels even for
> > that many objects?
> > This would produce a very big image, so I think scrolling is essential.
> >
> > I believe the answer is simple, but I'm unable to figure it out.
> >
> > Thanks in advance
> > Michael
> 
> Dear Michael,
> 
> For the labels, you may want to try use smaller characters to dsiplay them.
> This can be done using the incantation:
> par(cex=0.5)  # for example
> 
> For the overlapping lines, well I think there is not much to do except
> magnifying. Did you try to save your plot in a format like postscript
> or pdf then display it with a wiever that let you zoom in ?
> 
> Ultimately, you can try to prune your tree and inspect specific branches
> (I send you to R help files in this case)
> 
> Hopin' it helps,
> 
> Laurent
> 
> --------------------------------------------------------------
> Laurent Gautier                 CBS, Building 208, DTU
> PhD. Student                    DK-2800 Lyngby,Denmark
> tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jun 16 17:18:38 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 16 Jun 2002 17:18:38 +0200
Subject: [R] plotting simple plot with error bars
References: <Pine.LNX.4.33.0206161828150.24151-100000@pcf004.jinr.ru>
Message-ID: <3D0CAC4E.A6DFFDC@statistik.uni-dortmund.de>



Timur Elzhov wrote:
> 
> Hello!
> 
> I'm novice in R, so excuse me if my question will be quite trivial.
> I look through all the demos and examples, but could not find how could I
> plot 'classical' simple graph with error bars.  That is, I have dataframe
> with 3 columns: "x", "y" and "dy" -- how can I get points (x, y) with,
> for example, short lines of length "dy" up and down from "y"?

Use segments(). Example:

 mydat <- data.frame(x=1:10, y=1:10, dy=rnorm(10))
 attach(mydat)
 plot(x, y, ylim = range(y, y + dy))
 segments(x, y, x, y + dy)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sun Jun 16 17:34:33 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sun, 16 Jun 2002 10:34:33 -0500
Subject: [R] plotting simple plot with error bars
References: <Pine.LNX.4.33.0206161828150.24151-100000@pcf004.jinr.ru>
Message-ID: <3D0CB009.1080103@epm.net.co>



Timur Elzhov wrote:

>Hello!
>
>I'm novice in R, so excuse me if my question will be quite trivial.
>I look through all the demos and examples, but could not find how could I
>plot 'classical' simple graph with error bars.  That is, I have dataframe
>with 3 columns: "x", "y" and "dy" -- how can I get points (x, y) with,
>for example, short lines of length "dy" up and down from "y"?
>
I have a very crude solution....


attach(dataframe)
plot(x,y)
for (i in 1:length(x)) { lines(c(x[i],x[i]),c(y[i]-dy[i],y[i]+dy[i])) }


I hope it will helps


>
>Thanks.
>
>
>Timur.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Sun Jun 16 19:02:35 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Sun, 16 Jun 2002 10:02:35 -0700
Subject: [R] plotting simple plot with error bars
In-Reply-To: <3D0CB009.1080103@epm.net.co>
References: <Pine.LNX.4.33.0206161828150.24151-100000@pcf004.jinr.ru>
Message-ID: <5.1.0.14.0.20020616100151.00ad1f18@uidaho.edu>

Also, try

?arrows

Andrew

At 10:34 AM 6/16/2002 -0500, Kenneth Cabrera wrote:


>Timur Elzhov wrote:
>
>>Hello!
>>
>>I'm novice in R, so excuse me if my question will be quite trivial.
>>I look through all the demos and examples, but could not find how could I
>>plot 'classical' simple graph with error bars.  That is, I have dataframe
>>with 3 columns: "x", "y" and "dy" -- how can I get points (x, y) with,
>>for example, short lines of length "dy" up and down from "y"?
>I have a very crude solution....
>
>
>attach(dataframe)
>plot(x,y)
>for (i in 1:length(x)) { lines(c(x[i],x[i]),c(y[i]-dy[i],y[i]+dy[i])) }
>
>
>I hope it will helps
>
>
>>
>>Thanks.
>>
>>
>>Timur.
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mail at weinert.biz  Mon Jun 17 00:36:00 2002
From: mail at weinert.biz (Frithjof Weinert)
Date: Mon, 17 Jun 2002 00:36:00 +0200
Subject: [R] lm() function to get coefficients doesn`t work
Message-ID: <B932DF70.464D%mail@weinert.biz>

 Hi,

to get the residuals and coefficients I did the following:

kurse <- read.table("kurse.txt" header=T)

the data:

 index   bmw    mru   rwe    vow    kar    sie   bas
1 159,70 74,18 338,21 89,03 110,30 141,23 178,53 67,97
2 160,76 73,46 343,66 89,38 110,30 142,66 180,45 68,30
3 162,45 74,18 349,12 91,54 108,54 146,22 183,12 68,85
4 162,18 72,74 349,12 92,20 106,43 144,80 181,75 68,52
5 161,64 72,98 340,93 91,43 101,87 144,08 181,41 68,30

lm(index ~ bmw + mru + rwe + vow + kar + sie + bas,
data=kurse)

But instead of getting the coefficients R is giving me this:

(Intercept)  kurse$bmw68,92  kurse$bmw69,39  kurse$bmw69,54
          2.00            3.00            4.75            1.00
kurse$bmw69,63  kurse$bmw69,87  kurse$bmw70,11  kurse$bmw70,35
          8.00           14.00           10.00            7.50
...... and so on

Warning message: 
"-" not meaningful for factors in: Ops.factor(y, z$residuals)

Please help. The function is maybe important for my exam.

cu
Frithjof

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Mon Jun 17 01:39:35 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sun, 16 Jun 2002 18:39:35 -0500
Subject: [R] lm() function to get coefficients doesn`t work
References: <B932DF70.464D%mail@weinert.biz>
Message-ID: <3D0D21B7.3080902@epm.net.co>



Frithjof Weinert wrote:

> Hi,
>
>to get the residuals and coefficients I did the following:
>
>kurse <- read.table("kurse.txt" header=T)
>
>the data:
>
> index   bmw    mru   rwe    vow    kar    sie   bas
>1 159,70 74,18 338,21 89,03 110,30 141,23 178,53 67,97
>2 160,76 73,46 343,66 89,38 110,30 142,66 180,45 68,30
>3 162,45 74,18 349,12 91,54 108,54 146,22 183,12 68,85
>4 162,18 72,74 349,12 92,20 106,43 144,80 181,75 68,52
>5 161,64 72,98 340,93 91,43 101,87 144,08 181,41 68,30
>
Modify the data base "kurse.txt", change "," for ".", R is taking each 
variable
as a factor (character variable).

Use" ." (dot)  for decimal separation, not "," (comma)

>
>
>lm(index ~ bmw + mru + rwe + vow + kar + sie + bas,
>data=kurse)
>
>But instead of getting the coefficients R is giving me this:
>
>(Intercept)  kurse$bmw68,92  kurse$bmw69,39  kurse$bmw69,54
>          2.00            3.00            4.75            1.00
>kurse$bmw69,63  kurse$bmw69,87  kurse$bmw70,11  kurse$bmw70,35
>          8.00           14.00           10.00            7.50
>...... and so on
>
>Warning message: 
>"-" not meaningful for factors in: Ops.factor(y, z$residuals)
>
>Please help. The function is maybe important for my exam.
>
>cu
>Frithjof
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jun 17 01:46:49 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 16 Jun 2002 19:46:49 -0400
Subject: [R] lm() function to get coefficients doesn`t work
In-Reply-To: <B932DF70.464D%mail@weinert.biz>; from mail@weinert.biz on Mon, Jun 17, 2002 at 12:36:00AM +0200
References: <B932DF70.464D%mail@weinert.biz>
Message-ID: <20020616194649.A2992@cattell.psych.upenn.edu>

On 06/17/02 00:36, Frithjof Weinert wrote:
> Hi,
>
>to get the residuals and coefficients I did the following:

>lm(index ~ bmw + mru + rwe + vow + kar + sie + bas,
>data=kurse)

Try

lm1 <- lm(index ~ bmw + mru + rwe + vow + kar + sie + bas,data=kurse)
summary(lm1)
residuals(lm1)

which you should be able to find with
help(lm)

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael_Scroggie at nre.vic.gov.au  Mon Jun 17 03:43:59 2002
From: Michael_Scroggie at nre.vic.gov.au (Michael_Scroggie@nre.vic.gov.au)
Date: Mon, 17 Jun 2002 11:43:59 +1000
Subject: [R] Random Beta variates
Message-ID: <OF3443DC78.1FE53F60-ONCA256BDB.0009855B@nre.vic.gov.au>


I have been trying to use the rbeta() function to generate random beta
variates with a particular mean and standard deviaiton  for some simulation
problems
I am working on, however I am unsure of the relationship between the
parameters shape1 and shape2 and the mean and standard deviation of the
beta
distribution. I am guessing that there is a formula for this, but I am
unsure what it is. Can anyone advise me?

Regards,

Michael Scroggie


Dr Michael Scroggie

Scientist - Fauna Ecology

Arthur Rylah Institute for Environmental Research

Department of Natural Resources and Environment

123 Brown St

Heidelberg 3084               Phone +61 3 9450 8745

Victoria                      Fax:        +61 3 9450 8799

AUSTRALIA                     email: michael.scroggie at nre.vic.gov.au


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jun 17 05:32:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 16 Jun 2002 20:32:14 -0700 (PDT)
Subject: [R] Random Beta variates
In-Reply-To: <OF3443DC78.1FE53F60-ONCA256BDB.0009855B@nre.vic.gov.au>
Message-ID: <Pine.A41.4.44.0206162026510.193648-100000@homer10.u.washington.edu>

On Mon, 17 Jun 2002 Michael_Scroggie at nre.vic.gov.au wrote:

>
> I have been trying to use the rbeta() function to generate random beta
> variates with a particular mean and standard deviaiton  for some simulation
> problems
> I am working on, however I am unsure of the relationship between the
> parameters shape1 and shape2 and the mean and standard deviation of the
> beta
> distribution. I am guessing that there is a formula for this, but I am
> unsure what it is. Can anyone advise me?

There is indeed.
   mean = a / (a + b)
   var = ab / [(a + b)2 (a + b + 1)]

where a=shape1, b=shape2.  This is in a lot of textbooks, and
is easily Googled, and you can do an example eg
> var(rbeta(10000,2,1))
[1] 0.05524684
> 2/(3*3*4)
[1] 0.05555556
to confirm that you've got the right formula.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Jun 17 07:02:22 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 16 Jun 2002 22:02:22 -0700 (PDT)
Subject: [R] lm() function to get coefficients doesn`t work
In-Reply-To: <B932DF70.464D%mail@weinert.biz>
Message-ID: <Pine.GSO.4.10.10206162201380.13587-100000@quetelet.stat.ucla.edu>

read.table() has a paramter called 'dec' which specifies the decimal
separator.  You probably want to set dec = "," in your read.table() call.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 17 Jun 2002, Frithjof Weinert wrote:

>  Hi,
> 
> to get the residuals and coefficients I did the following:
> 
> kurse <- read.table("kurse.txt" header=T)
> 
> the data:
> 
>  index   bmw    mru   rwe    vow    kar    sie   bas
> 1 159,70 74,18 338,21 89,03 110,30 141,23 178,53 67,97
> 2 160,76 73,46 343,66 89,38 110,30 142,66 180,45 68,30
> 3 162,45 74,18 349,12 91,54 108,54 146,22 183,12 68,85
> 4 162,18 72,74 349,12 92,20 106,43 144,80 181,75 68,52
> 5 161,64 72,98 340,93 91,43 101,87 144,08 181,41 68,30
> 
> lm(index ~ bmw + mru + rwe + vow + kar + sie + bas,
> data=kurse)
> 
> But instead of getting the coefficients R is giving me this:
> 
> (Intercept)  kurse$bmw68,92  kurse$bmw69,39  kurse$bmw69,54
>           2.00            3.00            4.75            1.00
> kurse$bmw69,63  kurse$bmw69,87  kurse$bmw70,11  kurse$bmw70,35
>           8.00           14.00           10.00            7.50
> ...... and so on
> 
> Warning message: 
> "-" not meaningful for factors in: Ops.factor(y, z$residuals)
> 
> Please help. The function is maybe important for my exam.
> 
> cu
> Frithjof
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Mon Jun 17 08:23:39 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Mon, 17 Jun 2002 09:23:39 +0300
Subject: [R] Random Beta variates 
In-Reply-To: Message from Michael_Scroggie@nre.vic.gov.au 
   of "Mon, 17 Jun 2002 11:43:59 +1000." <OF3443DC78.1FE53F60-ONCA256BDB.0009855B@nre.vic.gov.au> 
Message-ID: <200206170623.g5H6Ne510068@pc112145.oulu.fi>


Michael_Scroggie at nre.vic.gov.au said:
> I have been trying to use the rbeta() function to generate random beta
> variates with a particular mean and standard deviaiton  for some
> simulation problems I am working on, however I am unsure of the
> relationship between the parameters shape1 and shape2 and the mean and
> standard deviation of the beta distribution. I am guessing that there
> is a formula for this, but I am unsure what it is. Can anyone advise
> me? 

This gives an excellent opportunity to find someone to check what I have done
earlier and correct my equations --- I had a similar problem, and then I worked
it out like this. First, the mean mu and variance sigma^2 expressed with alpha
and beta are:

mu = alpha/(alpha + beta)

sigma^2 = (alpha*beta)/[(alpha+beta)^2 * (alpha+beta+1)]

Then you need "only" solve these for alpha and beta. The following may be 
correct:

alpha = mu*(mu^2-mu+sigma^2)/sigma^2

beta = (mu^2-mu+sigma^2)*(m-1)/sigma^2


cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 17 09:23:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2002 09:23:32 +0200
Subject: [R] lm() function to get coefficients doesn`t work
In-Reply-To: <3D0D21B7.3080902@epm.net.co>
References: <B932DF70.464D%mail@weinert.biz> <3D0D21B7.3080902@epm.net.co>
Message-ID: <x2it4il66j.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> Frithjof Weinert wrote:
> 
> > Hi,
> >
> >to get the residuals and coefficients I did the following:
> >
> >kurse <- read.table("kurse.txt" header=T)
> >
> >the data:
> >
> > index   bmw    mru   rwe    vow    kar    sie   bas
> >1 159,70 74,18 338,21 89,03 110,30 141,23 178,53 67,97
> >2 160,76 73,46 343,66 89,38 110,30 142,66 180,45 68,30
> >3 162,45 74,18 349,12 91,54 108,54 146,22 183,12 68,85
> >4 162,18 72,74 349,12 92,20 106,43 144,80 181,75 68,52
> >5 161,64 72,98 340,93 91,43 101,87 144,08 181,41 68,30
> >
> Modify the data base "kurse.txt", change "," for ".", R is taking each
> variable
> as a factor (character variable).
> 
> Use" ." (dot)  for decimal separation, not "," (comma)

...or set dec="," in read.table.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Mon Jun 17 09:53:58 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Mon, 17 Jun 2002 09:53:58 +0200
Subject: [R] exponential smoothing
References: <200206150201.EAA19134@stat.math.ethz.ch>
Message-ID: <3D0D9596.88FB16A4@lmttrading.com>

> Date: Fri, 14 Jun 2002 13:21:23 +0200
> From: Xavier.Abulker at fimat.com
> Subject: [R] exponential smoothing
>
> could someone help me to write a fonction doing an exponential smoothing in
> case of a multivariate time serie?
> I tried
> ewma <- function (x, lambda = 1, init = 0)
> {
>      if (is.ts(x))
>        filter(lambda*x, filter=1-lambda, method="recursive", init=init)
>      else
>        stop(message="first argument should be a time serie")
> }
> but I can't apply that to multivariate
> Thanks
>
> xavier
>

For example:

apply(x,FUN=ewma,2,lambda=0.1)

should work. You maybe need to set the default of init in ewma() to x[1].

best
Adrian

--
Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
CH-8610 Uster          Email:   a.trapletti at bluewin.ch
Switzerland



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Mon Jun 17 11:16:19 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Mon, 17 Jun 2002 11:16:19 +0200 (CEST)
Subject: [R] OT: Journal of Statistical Software
Message-ID: <Pine.LNX.4.44.0206171113010.2189-100000@florence>

Dear list,

yesterday I tried to find the www-site of the Journal of Statistical
Software via Google. I was linked to www.jstatsoft.org directly as well as via
several other sites, but netscape told me in all cases that
www.jstatsoft.org does not exist. Does anybody know what is going on? New
website? Wrong address?

Best,
Christian


-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Mon Jun 17 12:26:14 2002
From: jday at csihq.com (John Day)
Date: Mon, 17 Jun 2002 06:26:14 -0400
Subject: [R] OT: Journal of Statistical Software
In-Reply-To: <Pine.LNX.4.44.0206171113010.2189-100000@florence>
Message-ID: <4.3.2.7.0.20020617062453.01fdd5d0@mail.csihq.com>

At 11:16 AM 6/17/02 +0200, you wrote:
 > yesterday I tried to find the www-site of the Journal of Statistical
 > Software via Google. I was linked to www.jstatsoft.org directly as well 
as via
 > several other sites, but netscape told me in all cases that
 > www.jstatsoft.org does not exist. Does anybody know what is going on? New
 > website? Wrong address?
 >
 > Best,
 > Christian

Christian,

Apparently the jstatsoft web server is temporarily down for some reason.

Try a Google search on the word "jstatsoft". You'll notice that Google has 
cached many of this site's pages from its recent crawling logs. Just click 
Google's "cached" hyperlink. Perhaps you can find what you're looking for 
this way. (You can view, but you still can't "surf" on any of the pages 
retrieved this way. The server must up for that :-)

Journal of Statistical Software
Journal of Statistical Software. Related Links: Journal of Computational
and Graphical Statistics. Search Site. Volume 1 - 1996. A Diagnostic ...
Description: Full text, code and data from vol.1 (1996).
Category: Science > Math > Statistics > Journals
www.jstatsoft.org/ - 8k - 16 Jun 2002 - Cached - Similar pages

HTH,
John Day

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020617/8a5aeef7/attachment.html

From juan_l_cuervo at yahoo.es  Mon Jun 17 15:16:18 2002
From: juan_l_cuervo at yahoo.es (=?iso-8859-1?q?Juan=20Cuervo?=)
Date: Mon, 17 Jun 2002 15:16:18 +0200 (CEST)
Subject: [R] Second axis in a plot
Message-ID: <20020617131618.65199.qmail@web21508.mail.yahoo.com>

Hi to all,
First of all, I prefer to tell that I am a R-newbie,
so I apologize if this is a silly question (I have
tried looking in the manuals, but without luck).
I have two variables, y and z, that I want to plot
against x in the same plot. I have done this before,
using points() after plot(). But now the problem is
that y and z are in different units of measurement,
and their ranges are very different.
I have tried drawing a second axis with axis(), but I
found the same problem: the new axis is drawn in the
same range than the first variable plotted in the
y-axis.
I would greatly appreciate some suggestions.
Regards,
Juan L. Cuervo


_______________________________________________________________
Copa del Mundo de la FIFA 2002
El ?nico lugar de Internet con v?deos de los 64 partidos. 
?Ap?ntante ya! en http://fifaworldcup.yahoo.com/fc/es/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 17 15:48:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2002 15:48:58 +0200
Subject: [R] Second axis in a plot
In-Reply-To: <20020617131618.65199.qmail@web21508.mail.yahoo.com>
References: <20020617131618.65199.qmail@web21508.mail.yahoo.com>
Message-ID: <x21yb66mnp.fsf@blueberry.kubism.ku.dk>

Juan Cuervo <juan_l_cuervo at yahoo.es> writes:

> Hi to all,
> First of all, I prefer to tell that I am a R-newbie,
> so I apologize if this is a silly question (I have
> tried looking in the manuals, but without luck).
> I have two variables, y and z, that I want to plot
> against x in the same plot. I have done this before,
> using points() after plot(). But now the problem is
> that y and z are in different units of measurement,
> and their ranges are very different.
> I have tried drawing a second axis with axis(), but I
> found the same problem: the new axis is drawn in the
> same range than the first variable plotted in the
> y-axis.
> I would greatly appreciate some suggestions.
> Regards,
> Juan L. Cuervo

The trick is to rescale z into y coordinates, and then axis(3, at=...,
labels=...) where "at" is in y coordinates, but the labels are given
as z coordinates.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 17 16:10:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 17 Jun 2002 15:10:39 +0100 (BST)
Subject: [R] Second axis in a plot
In-Reply-To: <x21yb66mnp.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0206171503040.8536-100000@gannet.stats>

Here is an easier way

x <- 1:10
y <- rnorm(10)
z <- runif(10, 1000, 10000)
par(mar=c(5,4,4,4) + 0.1)  # Leave space for z axis
plot(x, y)
par(new=T)
plot(x, z, type="l", axes=F, bty="n", xlab="", ylab="")
axis(4, at=pretty(range(z)))
mtext(z, 4, 3)


On 17 Jun 2002, Peter Dalgaard BSA wrote:

> Juan Cuervo <juan_l_cuervo at yahoo.es> writes:
>
> > Hi to all,
> > First of all, I prefer to tell that I am a R-newbie,
> > so I apologize if this is a silly question (I have
> > tried looking in the manuals, but without luck).
> > I have two variables, y and z, that I want to plot
> > against x in the same plot. I have done this before,
> > using points() after plot(). But now the problem is
> > that y and z are in different units of measurement,
> > and their ranges are very different.
> > I have tried drawing a second axis with axis(), but I
> > found the same problem: the new axis is drawn in the
> > same range than the first variable plotted in the
> > y-axis.
> > I would greatly appreciate some suggestions.
> > Regards,
> > Juan L. Cuervo
>
> The trick is to rescale z into y coordinates, and then axis(3, at=...,
> labels=...) where "at" is in y coordinates, but the labels are given
> as z coordinates.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Mon Jun 17 16:11:39 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Mon, 17 Jun 2002 11:11:39 -0300 (ADT)
Subject: [R] Error bars.
Message-ID: <200206171411.LAA01953@gelfand.math.unb.ca>


There was an inquiry on this list recently about plotting some simple
error bars on a graph.  Now Splus has a function (error.bar ---
originally written by Sue Clancy of DMS, CSIRO, I believe) to do this
job virtually at the touch of a key.  (Well a few keys. :-) )  The
error.bar function is written completely in raw S --- no calls to
``.Internal'' or anything like that.  So it would be trivial to port
over to R.

My question is:  Is doing so legal?  Moral?  (Given that Splus is
proprietary, and error.bar is a ``built-in'' part of that package,
and not something out of statlib, or like that.)

				cheers,

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew.longley at zsl.org  Mon Jun 17 16:20:52 2002
From: matthew.longley at zsl.org (Matthew Longley)
Date: Mon, 17 Jun 2002 15:20:52 +0100
Subject: [R] Help
Message-ID: <78545F8851BED511A03C0060088063C2040D76@zsl3.zsl.org>

Can you please tell me the minimum system spec for R on a windows machine?

Thanks
_______________________________________
Matthew Longley
IT Administrator
Zoological Society of London
Regent's Park
London
NW1 4RY
Charity No: 208728
Tel:	020 74496412
Fax:	020 74496294
email:	Matthew.Longley at zsl.org
WWW:	www.zsl.org
_______________________________________





-----------------------------------------------------------------------

_________________________________________________________________________
This e-mail has been sent in confidence to the named addressee(s).
If you are not the intended recipient, you must not disclose or distribute
it in any form, and you are asked to contact the sender immediately.
Views or opinions expressed in this communication may not be those
of The Zoological Society of London and, therefore, The Zoological
Society of London does not accept legal responsibility for the contents
of this message.  The recipient(s) must be aware that e-mail is not a
secure communication medium and that the contents of this mail may
have been altered by a third party in transit.
If you have any issues regarding this mail please contact:
administrator at zsl.org.
___________________________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwenn.lemeur at nantes.inserm.fr  Mon Jun 17 16:21:01 2002
From: nolwenn.lemeur at nantes.inserm.fr (Nolwenn Le Meur)
Date: Mon, 17 Jun 2002 16:21:01 +0200
Subject: [R] layout() and postscript()
Message-ID: <NOEOLHEEMLOCABODHCFCAEIACAAA.nolwenn.lemeur@nantes.inserm.fr>

HI,

I would like to know if it's possible to create a postscript file with
multiple graphs . I'm creating some graphs by the means of a loop and I want
to save each graph in the same file (splitting making the device by the
number of graphs).
Do I have to use the par(matrix()) option, the layout() function or the
split.screen() one ?

Thanks
Nolwenn

*------------------------------------------*
Nolwenn Le Meur
INSERM U533
Facult? de M?decine
1, rue Gaston Veil
44035 Nantes cedex 1
t?l: +33(0)2-40-41-29-86
fax: +33(0)2-40-41-29-50
e-mail: nolwenn.lemeur at nantes.inserm.fr
*------------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Mon Jun 17 16:35:19 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Mon, 17 Jun 2002 10:35:19 -0400
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
In-Reply-To: <87fzzo4e4u.fsf@jeeves.blindglobe.net>
Message-ID: <72F19586-81FF-11D6-84F5-000393021810@mail.mcg.edu>

I solved the problem by compiling the packages with the Mac UNIX 
(Darwin) R version to get the help files and then concatenating all the 
R source files to a single file with the name of the package (Biobase) 
for Carbon R. I don't know why Carbon requires this. I also had to 
obtain a working copy of the Carbon version of the methods package from 
Stefano Iacus.

I would be happy to provide the files for Bioconductor if that is of 
interest. Most other Mac users are not familiar enough with UNIX to 
easily install and upgrade the Darwin version of R, so it would be 
helpful if Bioconductor supported the Carbon version.

David

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 17 16:37:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 17 Jun 2002 15:37:26 +0100 (BST)
Subject: [R] Help
In-Reply-To: <78545F8851BED511A03C0060088063C2040D76@zsl3.zsl.org>
Message-ID: <Pine.LNX.4.31.0206171532360.8623-100000@gannet.stats>

On Mon, 17 Jun 2002, Matthew Longley wrote:

> Can you please tell me the minimum system spec for R on a windows machine?

Not easily, but someone does run it on a 133MHz Pentium with 8Mb of RAM.
I hope you don't want to use less than that, and believe 16Mb is
highly desirable.

It needs about 25Mb of disc space for a fullish installation, about 12Mb
for a minimal one (but I have not verified the latter figure recently).

This is not in the details because it is hard to check such modest
requirements.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Jun 17 16:48:07 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 17 Jun 2002 10:48:07 -0400
Subject: [R] Error bars.
In-Reply-To: <200206171411.LAA01953@gelfand.math.unb.ca>
References: <200206171411.LAA01953@gelfand.math.unb.ca>
Message-ID: <20020617104807.4471c096.fharrell@virginia.edu>

The errbar function in the Hmisc library for R/S+ is not as comprehensive as the S+ error.bar function but it does most of what's needed (for vertical bars anyway).  It was originally written by Geyer in 1991.  There is another version of it ('error') which is a function internal to xYplot when lattice/grid is in effect.  -Frank Harrell

On Mon, 17 Jun 2002 11:11:39 -0300 (ADT)
Rolf Turner <rolf at math.unb.ca> wrote:

> 
> There was an inquiry on this list recently about plotting some simple
> error bars on a graph.  Now Splus has a function (error.bar ---
> originally written by Sue Clancy of DMS, CSIRO, I believe) to do this
> job virtually at the touch of a key.  (Well a few keys. :-) )  The
> error.bar function is written completely in raw S --- no calls to
> ``.Internal'' or anything like that.  So it would be trivial to port
> over to R.
> 
> My question is:  Is doing so legal?  Moral?  (Given that Splus is
> proprietary, and error.bar is a ``built-in'' part of that package,
> and not something out of statlib, or like that.)
> 
> 				cheers,
> 
> 					Rolf Turner
> 					rolf at math.unb.ca
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Mon Jun 17 17:06:49 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Mon, 17 Jun 2002 17:06:49 +0200 (MET DST)
Subject: [R] Second axis in a plot
In-Reply-To: <20020617131618.65199.qmail@web21508.mail.yahoo.com>
Message-ID: <Pine.OSF.3.96.1020617170144.31589I-100000@paleo>


Gregor Gawron had the same problem 6 days ago and got the following 
solution. You can find more useful messages to other similar
problems by looking at the archive.
(http://cran.r-project.org/search.html and
http://www.r-project.org/nocvs/mail/r-help/2002/summary.html)

Suerte.

Agus

###################################################
Date: Tue, 11 Jun 2002 06:48:38 -0700
From: Don MacQueen <macq at llnl.gov>
To: Gregor Gawron <gregor.gawron at rmf.ch>, r-help at stat.math.ethz.ch
Subject: Re: [R] Different y-axes

Here is an example:

x <- 1:5
y1 <- 1:5
y2 <- 25:21
plot(x,y1)
par(new=T)
plot(x,y2,yaxt='n',col='blue')
axis(4,y2)

-Don

At 12:40 PM +0200 6/11/02, Gregor Gawron wrote:
>Hi All,
>
>I have checked everything I could find abot graphics, but still cannot
>solve the problem.
>Are there any ways to make a graph that plots two lines and two
>different y-axes, each of them has a scale that is related to the
>respective line. For example, y1 has a range 1:50 and y1 ranges 0:1. The
>x-axe is the same for both.
>
>Thank you in advance.
>
>---
>Gregor Gawron
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 17 Jun 2002, [iso-8859-1] Juan Cuervo wrote:

> Hi to all,
> First of all, I prefer to tell that I am a R-newbie,
> so I apologize if this is a silly question (I have
> tried looking in the manuals, but without luck).
> I have two variables, y and z, that I want to plot
> against x in the same plot. I have done this before,
> using points() after plot(). But now the problem is
> that y and z are in different units of measurement,
> and their ranges are very different.
> I have tried drawing a second axis with axis(), but I
> found the same problem: the new axis is drawn in the
> same range than the first variable plotted in the
> y-axis.
> I would greatly appreciate some suggestions.
> Regards,
> Juan L. Cuervo
> 
> 
> _______________________________________________________________
> Copa del Mundo de la FIFA 2002
> El nico lugar de Internet con vdeos de los 64 partidos. 
> Apntante ya! en http://fifaworldcup.yahoo.com/fc/es/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From el at ac.lisse.na  Mon Jun 17 17:08:34 2002
From: el at ac.lisse.na (Eberhard Lisse)
Date: Mon, 17 Jun 2002 17:08:34 +0200
Subject: [R] Re: R-1.5.1 is released 
In-Reply-To: Your message of "17 Jun 2002 14:06:16 +0200."
             <x2n0tu6rev.fsf@blueberry.kubism.ku.dk> 
Message-ID: <20020617150834.AACDE49136@ac.lisse.na>

Peter, anyone,

I would like to see SUSE 8.0 RPMs. Will these be forthcoming at asome
stage?

el

In message <x2n0tu6rev.fsf at blueberry.kubism.ku.dk>, Peter Dalgaard BSA writes:
> 
> 
> I've rolled up R-1.5.1.tgz a short while ago. This is a patch upgrade,
> fixing the most important bugs that cropped up after the 1.5.0 release.
> 
> A set of recommended packages which have been tested with R-1.5.1 has
> been bundled up. Binary distributions should include these packages.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Mon Jun 17 17:01:05 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Mon, 17 Jun 2002 17:01:05 +0200
Subject: [R] list of lists
Message-ID: <001301c2160f$ce3697c0$1100a8c0@ico.scs.es>

Hi R-users

I have a list with 19 elments. This elements are a new list of 2 elements,
for example:

times<-
[[1]]
[[1]]$time
 11  10
147 206  30

[[1]]$n
[1] 3

.......

[[19]]
[[19]]$time
 96  96  96  94  98
 78  78  78 147 100   4

[[19]]$n
[1] 6

Does anyone know how obtain a vector with the elements $time as quick as
possible (no loops)?

Thank you


Juan





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott.Waichler at pnl.gov  Mon Jun 17 17:16:35 2002
From: Scott.Waichler at pnl.gov (Waichler, Scott R)
Date: Mon, 17 Jun 2002 08:16:35 -0700
Subject: [R] Clusters of adjacent bars in barchart()
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF5A550B@pnlmse10.pnl.gov>


Can I create a barchart in lattice with clusters of adjacent bars, which is
possible with barplot() when beside=TRUE?  How can I
accomplish the grouping in lattice that is done with
inputting a matrix to barplot()? 

Thanks,
Scott Waichler
Hydrology Group/Environmental Technology Division
Battelle Pacific Northwest National Laboratory
________________________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jun 17 17:24:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 17 Jun 2002 08:24:56 -0700 (PDT)
Subject: [R] list of lists
In-Reply-To: <001301c2160f$ce3697c0$1100a8c0@ico.scs.es>
Message-ID: <Pine.A41.4.44.0206170821030.191744-100000@homer03.u.washington.edu>

On Mon, 17 Jun 2002, Juan Ramon Gonzalez wrote:

> Hi R-users
>
> I have a list with 19 elments. This elements are a new list of 2 elements,
> for example:
>
> times<-
> [[1]]
> [[1]]$time
>  11  10
> 147 206  30
>
> [[1]]$n
> [1] 3
>
> .......
>
> [[19]]
> [[19]]$time
>  96  96  96  94  98
>  78  78  78 147 100   4
>
> [[19]]$n
> [1] 6
>
> Does anyone know how obtain a vector with the elements $time as quick as
> possible (no loops)?
>

assuming you want them all concatenated

 unlist(lapply(times, function(x) x$time))

If you have lots of short lists like this one it may not be much faster
than a loop, but with long lists it should be.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 17 17:34:18 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 17 Jun 2002 17:34:18 +0200
Subject: [R] list of lists
References: <001301c2160f$ce3697c0$1100a8c0@ico.scs.es>
Message-ID: <3D0E017A.E2C033AD@statistik.uni-dortmund.de>

Juan Ramon Gonzalez wrote:
> 
> Hi R-users
> 
> I have a list with 19 elments. This elements are a new list of 2 elements,
> for example:
> 
> times<-
> [[1]]
> [[1]]$time
>  11  10
> 147 206  30
> 
> [[1]]$n
> [1] 3
> 
> .......
> 
> [[19]]
> [[19]]$time
>  96  96  96  94  98
>  78  78  78 147 100   4
> 
> [[19]]$n
> [1] 6
> 
> Does anyone know how obtain a vector with the elements $time as quick as
> possible (no loops)?
 
 lapply(times, function(x) x$time)
or 
 unlist(lapply(times, function(x) x$time))
to get only one vector

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Mon Jun 17 17:40:39 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Mon, 17 Jun 2002 16:40:39 +0100
Subject: [R] layout() and postscript()
In-Reply-To: <NOEOLHEEMLOCABODHCFCAEIACAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <000b01c21615$57dada40$4c202880@gsimpson>

Hi Nolwenn,

Yes it is possible to create a postscript file with multiple graphs in
it.  Exactly how you go about doing this depends on your meaning of
multiple graphs.  If you mean a single "page" with say 4 sub plots on
it, then you can create an eps file as follows:

postscript(file="filename.eps", width=6, height=6, horizontal=FALSE,
onefile=FALSE, pointsize=10)
oldpar <- par(mfrow=c(2,2)) #2 by 2 display filled by rows, plus other
par() settings as required
#do your plotting commands
par(oldpar) #reset par()
dev.off() #close the postscript device and create the eps file.

If you mean a file with many pages, each page being a diagram, then the
syntax is almost the same:

postscript(file="filename.ps", width=6, height=6, horizontal=FALSE,
pointsize=10) #no onefile
#oldpar <- par(some settings) if required
#do your plotting commands/loop
#par(oldpar) if you need to reset
dev.off()

This will create a postscript document with pages of your separate
graphs.

I've been using both recently, the latter to do lots of analyses and
print out the many small results plots, then the former to produce eps
figures that I can include in my documents of the plots that are
interesting.

The layout() and split.screen() functions allow greater control over the
plotting device.  If all you need is to split the plotting region into
equal sized areas then the par(mfrow=c(2,2)) type command is the easiest
way to do it (this splits it into a 2 by 2 device) see ?par for
instructions.  If you need more control over the sizing of individual
regions or placement of plots then try ?layout or ?split.screen for
help.  The example for layout was very helpful when I had to do this
recently.

All the best,

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Nolwenn Le Meur
Sent: 17 June 2002 15:21
To: r-help
Subject: [R] layout() and postscript()


HI,

I would like to know if it's possible to create a postscript file with
multiple graphs . I'm creating some graphs by the means of a loop and I
want
to save each graph in the same file (splitting making the device by the
number of graphs).
Do I have to use the par(matrix()) option, the layout() function or the
split.screen() one ?

Thanks
Nolwenn

*------------------------------------------*
Nolwenn Le Meur
INSERM U533
Facult? de M?decine
1, rue Gaston Veil
44035 Nantes cedex 1
t?l: +33(0)2-40-41-29-86
fax: +33(0)2-40-41-29-50
e-mail: nolwenn.lemeur at nantes.inserm.fr
*------------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 17 17:44:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2002 17:44:52 +0200
Subject: [R] layout() and postscript()
In-Reply-To: <NOEOLHEEMLOCABODHCFCAEIACAAA.nolwenn.lemeur@nantes.inserm.fr>
References: <NOEOLHEEMLOCABODHCFCAEIACAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <x2bsa96haj.fsf@blueberry.kubism.ku.dk>

"Nolwenn Le Meur" <nolwenn.lemeur at nantes.inserm.fr> writes:

> HI,
> 
> I would like to know if it's possible to create a postscript file with
> multiple graphs . I'm creating some graphs by the means of a loop and I want
> to save each graph in the same file (splitting making the device by the
> number of graphs).
> Do I have to use the par(matrix()) option, the layout() function or the
> split.screen() one ?

Look at the "onefile" argument to postscript().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alex.Coley at environment-agency.gov.uk  Mon Jun 17 17:48:00 2002
From: Alex.Coley at environment-agency.gov.uk (Alex Coley)
Date: Mon, 17 Jun 2002 16:48:00 +0100
Subject: [R] Re: R-1.5.1 is released (<Auto Reply> On Leave)
Message-ID: <sd0e12da.065@SWRIO_AP1>


I am on leave until 3rd July 2002 (building a nature trail in Romania !!! ).  I shall reply as soon as I can on my return.  If you need something urgently then Rob Evans (rob.evans at environment-agency.gov.uk) or Vicky Locke may be able to help.

Thanks,

Alexander Coley

------------------------------------------------------------
Fisheries Scientist [GIS] 
National Salmon & Trout Fisheries Centre, 
Environment Agency, Rivers House, 
St Mellons Business Park, 
St Mellons, Cardiff, CF3 0EY 
Tel: +44 (0)29 20 770088 extn:2356 
e-mail: alex.coley at environment-agency.gov.uk 
------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alex.Coley at environment-agency.gov.uk  Mon Jun 17 17:58:28 2002
From: Alex.Coley at environment-agency.gov.uk (Alex Coley)
Date: Mon, 17 Jun 2002 16:58:28 +0100
Subject: [R] Re: R-1.5.1 is released (<Auto Reply> On Leave)
Message-ID: <sd0e1552.073@SWRIO_AP1>


I am on leave until 3rd July 2002 (building a nature trail in Romania !!! ).  I shall reply as soon as I can on my return.  If you need something urgently then Rob Evans (rob.evans at environment-agency.gov.uk) or Vicky Locke may be able to help.

Thanks,

Alexander Coley

------------------------------------------------------------
Fisheries Scientist [GIS] 
National Salmon & Trout Fisheries Centre, 
Environment Agency, Rivers House, 
St Mellons Business Park, 
St Mellons, Cardiff, CF3 0EY 
Tel: +44 (0)29 20 770088 extn:2356 
e-mail: alex.coley at environment-agency.gov.uk 
------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Mon Jun 17 18:25:34 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 17 Jun 2002 12:25:34 -0400
Subject: [R] Help
References: <78545F8851BED511A03C0060088063C2040D76@zsl3.zsl.org>
Message-ID: <3D0E0D7E.7F2CF2B0@umsanet.edu.bo>

I have R running on windows 98 machines with 8 MB of RAM. I think that
is close to the minimum.

Kjetil Halvorsen

Matthew Longley wrote:
> 
> Can you please tell me the minimum system spec for R on a windows machine?
> 
> Thanks
> _______________________________________
> Matthew Longley
> IT Administrator
> Zoological Society of London
> Regent's Park
> London
> NW1 4RY
> Charity No: 208728
> Tel:    020 74496412
> Fax:    020 74496294
> email:  Matthew.Longley at zsl.org
> WWW:    www.zsl.org
> _______________________________________
> 
> -----------------------------------------------------------------------
> 
> _________________________________________________________________________
> This e-mail has been sent in confidence to the named addressee(s).
> If you are not the intended recipient, you must not disclose or distribute
> it in any form, and you are asked to contact the sender immediately.
> Views or opinions expressed in this communication may not be those
> of The Zoological Society of London and, therefore, The Zoological
> Society of London does not accept legal responsibility for the contents
> of this message.  The recipient(s) must be aware that e-mail is not a
> secure communication medium and that the contents of this mail may
> have been altered by a third party in transit.
> If you have any issues regarding this mail please contact:
> administrator at zsl.org.
> ___________________________________________________________________________
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Jun 17 19:06:19 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 17 Jun 2002 19:06:19 +0200
Subject: [R] list of lists
Message-ID: <3.0.32.20020617190619.00904380@162.38.183.200>

At 17:01 17/06/02 +0200, you wrote:
>Hi R-users
>
>I have a list with 19 elments. This elements are a new list of 2 elements,
>for example:
>
>times<-
>[[1]]
>[[1]]$time
> 11  10
>147 206  30
>
>[[1]]$n
>[1] 3
>
>.......
>
>[[19]]
>[[19]]$time
> 96  96  96  94  98
> 78  78  78 147 100   4
>
>[[19]]$n
>[1] 6
>
>Does anyone know how obtain a vector with the elements $time as quick as
>possible (no loops)?

Giving your example, this should work:

unlist(lapply(times, "[[", 1))

EP

>Thank you
>
>
>Juan
>
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Mon Jun 17 19:18:48 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Mon, 17 Jun 2002 19:18:48 +0200
Subject: [R] Re: R-1.5.1 is released
References: <20020617150834.AACDE49136@ac.lisse.na>
Message-ID: <3D0E19F8.7010601@science.uva.nl>

Yes i would also appreciate this as SUSE is quite big in Europe. MAybe 
it could be included in the distribution???

Cheers, Ulrich

Eberhard Lisse wrote:
> Peter, anyone,
> 
> I would like to see SUSE 8.0 RPMs. Will these be forthcoming at asome
> stage?
> 
> el
> 
> In message <x2n0tu6rev.fsf at blueberry.kubism.ku.dk>, Peter Dalgaard BSA writes:
> 
>>
>>I've rolled up R-1.5.1.tgz a short while ago. This is a patch upgrade,
>>fixing the most important bugs that cropped up after the 1.5.0 release.
>>
>>A set of recommended packages which have been tested with R-1.5.1 has
>>been bundled up. Binary distributions should include these packages.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Mon Jun 17 19:26:52 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Mon, 17 Jun 2002 10:26:52 -0700 (PDT)
Subject: [R] Error bars.
In-Reply-To: <200206171411.LAA01953@gelfand.math.unb.ca>
Message-ID: <Pine.OSF.4.44.0206171009060.331211-100000@axe.humboldt.edu>

Rolf et al.--

Here's a simple error bar function in R.

# produce vertical error bars on a plot-- aliased vbars in anticipation
# of the day when I need hbars to plot horizontal error bars....
#
# error bars originate at (x, y0) and radiate to y0 + y1 and y0 - y2
#
# example (adds +- 1.0 SE to a barplot of means for data vector x):
#
# y.mean <- mean(x)				# mean
# y.se <- sqrt(var(x,na.rm=TRUE)/length(x))	# std err
# z <- barplot(y.mean,plot=FALSE)		# location of bars
# barplot(y.mean,...)				# the real plot
# ebars(z,y.mean,y.mean+y.se,y.mean-y.se)	# add error bars


ebars <- vbars <- function (x, y0, y1, y2)
{
  for(i in 1:length(x))
  {
    if(y0[i]!=0 & !is.na(y0[i]) & y1[i]!=0 & !is.na(y1[i]) &
      (y0[i]!=y2[i]))
    {
      arrows (x[i], y0[i], x[i], y1[i], angle=90, length=0.05)
    }
    if(y0[i]!=0 & !is.na(y0[i]) & y2[i]!=0 & !is.na(y2[i]) &
      (y0[i]!=y2[i]))
    {
      arrows (x[i], y0[i],  x[i], y2[i],  angle=90, length=0.05)
    }
  }
}

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Jun 17 21:34:00 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 17 Jun 2002 21:34:00 +0200 (CEST)
Subject: [R] Building R-1.5.1 with gcc 3.1
In-Reply-To: <3D0E19F8.7010601@science.uva.nl>
Message-ID: <Pine.LNX.4.44.0206172114400.9347-100000@tal.stat.umu.se>


I have recently built gcc 3.1 on Linux (RedHat 7.3) and installed under 
/usr/local. When I now build R-1.5.1, I get lots of warnings like
 
------------------------------------------------------------------------
gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include 
-DHAVE_CONFIG_H -D__NO_MATH_INLINES -mieee-fp -fPIC  -g -O2 -c sock.c -o 
sock.lo
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system directory
------------------------------------------------------------------------

This may be off-topic, but does someone know if the warnings indicate a 
mistake in my gcc installation? Or otherwise why they are there?
 
G?ran
---
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 17 21:01:30 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 17 Jun 2002 20:01:30 +0100 (BST)
Subject: [R] Building R-1.5.1 with gcc 3.1
In-Reply-To: <Pine.LNX.4.44.0206172114400.9347-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.31.0206172000030.10987-100000@gannet.stats>

On Mon, 17 Jun 2002, [iso-8859-1] Gran Brostrm wrote:

>
> I have recently built gcc 3.1 on Linux (RedHat 7.3) and installed under
> /usr/local. When I now build R-1.5.1, I get lots of warnings like
>
> ------------------------------------------------------------------------
> gcc -I. -I../../../src/include -I../../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -D__NO_MATH_INLINES -mieee-fp -fPIC  -g -O2 -c sock.c -o
> sock.lo
> cc1: warning: changing search order for system directory
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system directory
> ------------------------------------------------------------------------
>
> This may be off-topic, but does someone know if the warnings indicate a
> mistake in my gcc installation? Or otherwise why they are there?

No, no. Set CPPFLAGS="" to suppress most of them.

It's a gcc-3.1 quirk which I have failed to find how to turn off.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml at henge-ernst.de  Mon Jun 17 21:22:41 2002
From: ml at henge-ernst.de (=?iso-8859-15?q?J=FCrgen=20Henge-Ernst?=)
Date: Mon, 17 Jun 2002 21:22:41 +0200
Subject: [R] Re: R-1.5.1 is released
In-Reply-To: <20020617150834.AACDE49136@ac.lisse.na>
References: <20020617150834.AACDE49136@ac.lisse.na>
Message-ID: <200206172122.43355.ml@henge-ernst.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Monday 17 June 2002 17:08, Eberhard Lisse wrote:
> Peter, anyone,
>
> I would like to see SUSE 8.0 RPMs. Will these be forthcoming at asome
> stage?
I've build SuSE-RPMS on a 7.3, but they should also be useable on a 8.0 or 
7.2. 

The RPMS include the tcl/tk - patch

You can get the packages from:
http://130.83.246.249/ftp/R-1.5.1_20020617/linux/SuSE/
it should also be availabe via
ftp://130.83.246.249/pub/R-1.5.1_20020617/linux/SuSE/

Greetings J?rgen

- -- 
 Juergen Henge-Ernst // Hauptstrasse 37 // 67591 M?lsheim // Germany
           email: juergen at henge-ernst.de        ICQ 56324358
Key fingerprint = 5FFD 89AC 6C7B 76DD 5FAC  9A3F D1A9 0C9B 3B49 67B1
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE9DjcB0akMmztJZ7ERAvibAKCUMAHQkYrIkbv9biBnrUaCPME/NwCgvEEP
k3VoG421bvFDIZ+f42Qecro=
=NgXm
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml at henge-ernst.de  Mon Jun 17 21:24:16 2002
From: ml at henge-ernst.de (=?iso-8859-15?q?J=FCrgen=20Henge-Ernst?=)
Date: Mon, 17 Jun 2002 21:24:16 +0200
Subject: [R] Re: R-1.5.1 is released
In-Reply-To: <3D0E19F8.7010601@science.uva.nl>
References: <20020617150834.AACDE49136@ac.lisse.na> <3D0E19F8.7010601@science.uva.nl>
Message-ID: <200206172124.18247.ml@henge-ernst.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Monday 17 June 2002 19:18, Ulrich Leopold wrote:
> Yes i would also appreciate this as SUSE is quite big in Europe. MAybe
> it could be included in the distribution???
it's included in SuSE beginning with atleast 7.3 and is called rstatistic

Greetings J?rgen

- -- 
 Juergen Henge-Ernst // Hauptstrasse 37 // 67591 M?lsheim // Germany
           email: juergen at henge-ernst.de        ICQ 56324358
Key fingerprint = 5FFD 89AC 6C7B 76DD 5FAC  9A3F D1A9 0C9B 3B49 67B1
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE9Djdh0akMmztJZ7ERAjWYAJ47Uw7eT41JvvxR+3ZQdW6yMYvWEACeMbn+
SmLmpqKl69JzZujiQ2geO9s=
=+7jT
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jago at mclink.it  Mon Jun 17 22:20:00 2002
From: jago at mclink.it (Stefano Iacus)
Date: Mon, 17 Jun 2002 22:20:00 +0200
Subject: [R] library() with v. 1.5.0 for Mac OS X Carbon
In-Reply-To: <72F19586-81FF-11D6-84F5-000393021810@mail.mcg.edu>
Message-ID: <994B8F72-822F-11D6-A4E4-003065CC4CB8@mclink.it>

I'm just waiting for R 1.5.1 to be out and I'll build the bundle for 
Bioconductor.

I apologize for the delay.

Stefano

On Luned?, giugno 17, 2002, at 04:35 , David R. Bickel wrote:

> I solved the problem by compiling the packages with the Mac UNIX 
> (Darwin) R version to get the help files and then concatenating all the 
> R source files to a single file with the name of the package (Biobase) 
> for Carbon R. I don't know why Carbon requires this. I also had to 
> obtain a working copy of the Carbon version of the methods package from 
> Stefano Iacus.
>
> I would be happy to provide the files for Bioconductor if that is of 
> interest. Most other Mac users are not familiar enough with UNIX to 
> easily install and upgrade the Darwin version of R, so it would be 
> helpful if Bioconductor supported the Carbon version.
>
> David
>
> http://www.mcg.edu/research/biostat/bickel.html
>
> David R. Bickel, PhD
> Assistant Professor
> Medical College of Georgia
> Office of Biostatistics and Bioinformatics
> 1120 Fifteenth St., AE-3037
> Augusta, GA 30912-4900
>
> Tel.: 706-721-4697; Fax: 706-721-6294
> E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From el at ac.lisse.na  Mon Jun 17 22:20:43 2002
From: el at ac.lisse.na (Eberhard Lisse)
Date: Mon, 17 Jun 2002 22:20:43 +0200
Subject: [R] Re: R-1.5.1 is released 
In-Reply-To: Your message of "Mon, 17 Jun 2002 21:24:16 +0200."
             <200206172124.18247.ml@henge-ernst.de> 
Message-ID: <20020617202043.214AD4F03F@ac.lisse.na>

In message <200206172124.18247.ml at henge-ernst.de>, =?iso-8859-15?q?J=FCrgen=20H
enge-Ernst?= writes:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> On Monday 17 June 2002 19:18, Ulrich Leopold wrote:
> > Yes i would also appreciate this as SUSE is quite big in Europe. MAybe
> > it could be included in the distribution???

> it's included in SuSE beginning with atleast 7.3 and is called
> rstatistic


Exactly, but that's 1.3 of course.

el
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From el at ac.lisse.na  Mon Jun 17 22:28:12 2002
From: el at ac.lisse.na (Eberhard Lisse)
Date: Mon, 17 Jun 2002 22:28:12 +0200
Subject: [R] Re: R-1.5.1 is released 
In-Reply-To: Your message of "Mon, 17 Jun 2002 21:22:41 +0200."
             <200206172122.43355.ml@henge-ernst.de> 
Message-ID: <20020617202813.0405038858@ac.lisse.na>

In message <200206172122.43355.ml at henge-ernst.de>, =?iso-8859-15?q?J=FCrgen=20H
enge-Ernst?= writes:

> it should also be availabe via
> ftp://130.83.246.249/pub/R-1.5.1_20020617/linux/SuSE/

Danke,

mfg, el
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Jun 17 23:25:47 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 17 Jun 2002 17:25:47 -0400
Subject: [R] Error bars.
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E63C@groexmb02.pfizer.com>

There are also a plotmeans and plotCI functions in the gregmisc library
which may do what is wanted.

> -----Original Message-----
> From: Michael Camann [mailto:mac24 at humboldt.edu]
> Sent: Monday, June 17, 2002 1:27 PM
> To: Rolf Turner
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Error bars.
> 
> 
> Rolf et al.--
> 
> Here's a simple error bar function in R.
> 
> # produce vertical error bars on a plot-- aliased vbars in 
> anticipation
> # of the day when I need hbars to plot horizontal error bars....
> #
> # error bars originate at (x, y0) and radiate to y0 + y1 and y0 - y2
> #
> # example (adds +- 1.0 SE to a barplot of means for data vector x):
> #
> # y.mean <- mean(x)				# mean
> # y.se <- sqrt(var(x,na.rm=TRUE)/length(x))	# std err
> # z <- barplot(y.mean,plot=FALSE)		# location of bars
> # barplot(y.mean,...)				# the real plot
> # ebars(z,y.mean,y.mean+y.se,y.mean-y.se)	# add error bars
> 
> 
> ebars <- vbars <- function (x, y0, y1, y2)
> {
>   for(i in 1:length(x))
>   {
>     if(y0[i]!=0 & !is.na(y0[i]) & y1[i]!=0 & !is.na(y1[i]) &
>       (y0[i]!=y2[i]))
>     {
>       arrows (x[i], y0[i], x[i], y1[i], angle=90, length=0.05)
>     }
>     if(y0[i]!=0 & !is.na(y0[i]) & y2[i]!=0 & !is.na(y2[i]) &
>       (y0[i]!=y2[i]))
>     {
>       arrows (x[i], y0[i],  x[i], y2[i],  angle=90, length=0.05)
>     }
>   }
> }
> 
> --Mike C.
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> ~~~~~~~~~
> Michael A. Camann                                  Voice: 707-826-3676
> Associate Professor of Zoology                       Fax: 707-826-3201
> Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
> Department of Biology                            ifcr at axe.humboldt.edu
> Humboldt State University
> Arcata, CA 95521
> 
>                  URL:http://www.humboldt.edu/~mac24/
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> ~~~~~~~~~
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul.yoder at vanderbilt.edu  Mon Jun 17 23:47:28 2002
From: paul.yoder at vanderbilt.edu (Paul Yoder)
Date: Mon, 17 Jun 2002 16:47:28 -0500
Subject: [R] trouble getting R program to open a data file
Message-ID: <3.0.5.32.20020617164728.03b3ac90@y.mail.vanderbilt.edu>

Hi,
	We've written an R program to conduct a series of analyses on a data file
that is a comma separated value file. At one time it worked, but every
since having down loaded the new version of R, I'm getting the following:

Cannot open c:windowsdesktopslope.csv


What I've asked the program to do is to open a datafile using the following: 

DataFile<- 'c:\windows\desktop\slope.csv' 

 So it is clearly stripping the "\" from the path. I've tried using "/" to
no avail. Any suggestions?

Paul
Paul J. Yoder, Ph.D.
Peabody Box 328
Vanderbilt University
Nashville, TN 37215
phone: 615-322-8464
fax: 615-322-8236
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 17 23:59:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2002 23:59:06 +0200
Subject: [R] trouble getting R program to open a data file
In-Reply-To: <3.0.5.32.20020617164728.03b3ac90@y.mail.vanderbilt.edu>
References: <3.0.5.32.20020617164728.03b3ac90@y.mail.vanderbilt.edu>
Message-ID: <x2d6up36tx.fsf@blueberry.kubism.ku.dk>

Paul Yoder <paul.yoder at vanderbilt.edu> writes:

> Hi,
> 	We've written an R program to conduct a series of analyses on a data file
> that is a comma separated value file. At one time it worked, but every
> since having down loaded the new version of R, I'm getting the following:
> 
> Cannot open c:windowsdesktopslope.csv
> 
> 
> What I've asked the program to do is to open a datafile using the following: 
> 
> DataFile<- 'c:\windows\desktop\slope.csv' 
> 
>  So it is clearly stripping the "\" from the path. I've tried using "/" to
> no avail. Any suggestions?

"/" should work, or "\\" -- if the file is actually there, of course.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ebarahonaf at hotmail.com  Tue Jun 18 00:25:07 2002
From: ebarahonaf at hotmail.com (Enrique Barahona)
Date: Mon, 17 Jun 2002 22:25:07 +0000
Subject: [R] Rgui crashes
Message-ID: <F208fdhNzW3l1GM3h3v0000c58f@hotmail.com>

My Rgui crashes quite a lot when entering certain characters. I put a 
freshly extracted msvcrt.dll into the rw1050\bin directory, but this did not 
fix the problem. Perhaps, as stated in the FAQ section, I need also "put the 
rw1050\bin directory early in your path" but I do not know how to do it in 
Windows Me. Please could you give me some help?

E. Barahona



_________________________________________________________________
?nase con MSN Hotmail al servicio de correo electr?nico m?s grande del 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Tue Jun 18 01:04:54 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Tue, 18 Jun 2002 11:04:54 +1200
Subject: [R] Clusters of adjacent bars in barchart()
References: <202822BFB70EBC4BB3EAFD853EE2B6BF5A550B@pnlmse10.pnl.gov>
Message-ID: <3D0E6B16.B431B957@stat.auckland.ac.nz>

Hi


> Can I create a barchart in lattice with clusters of adjacent bars, which is
> possible with barplot() when beside=TRUE?  How can I
> accomplish the grouping in lattice that is done with
> inputting a matrix to barplot()?


(after a quick look at the code) I don't think barchart() will do this.
Deepayan (the lattice author) is away at the moment, but I have cc'ed
him in case I have missed something obvious.

In the meantime, if you're interested, below is a panel function that
might do what you want.  It's a bit of a draft really because it ignores
the box.ratio and horizontal arguments.  Furthermore, it relies on the
current way that a matrix x argument gets passed to the panel function,
which is more by accident than design at this stage I think -- the
important point is that this may change in the future.

Anyway, hope it's of some help.

Paul

### customised barchart panel function
mybarchartpanel <- function(x, y,
                            # Choose some vaguely rational default
colours
                            col=trellis.par.get("regions")$col[seq(1,
                              length(trellis.par.get("regions")$col),
                              length=ncol)],
                            ...) {
  yscale <- current.viewport()$yscale
  # For each x value
  for (i in unique(x)) {
    # Allocate a region for multiple side-by-side bars
    # The 1/(1.5*ny) is a rough calculation to make sure the
    # regions don't overlap
    push.viewport(viewport(x=unit(i, "native"),
                           width=unit(1/(1.5*ny), "npc"),
                           # Allocate a sub-region for each 
                           # individual side-by-side bar
                           layout=grid.layout(1, ncol)))
    yy <- y[x == i]
    for (j in 1:ncol) {
      # Draw each individual side-by-side bar
      push.viewport(viewport(layout.pos.col=j, yscale=yscale))
      grid.rect(y=unit(0, "native"),
                height=unit(yy[j], "native"),
                just=c("centre", "bottom"),
                gp=gpar(fill=col[j]))
      pop.viewport()
    }
    pop.viewport()
  }
}

# A simple example of a single barchart
# The data are not very interesting, but they're good
# for checking that it's working :)
# NOTE that I have to rep() the x values so that x is the same
# length as y
ncol <- 3
ny <- 8
y <- matrix(1:(ny*ncol), ncol=ncol)
x <- factor(rep(letters[1:ny], ncol))
barchart(y ~ x, panel=mybarchartpanel)

# A more complicated example with multiple panels
ng <- 4
y <- matrix(1:(ny*ng*ncol), ncol=ncol)
x <- factor(rep(letters[1:ny], ncol*ng))
g <- factor(rep(1:ng, rep(ny, ng)))
barchart(y ~ x | g, panel=mybarchartpanel)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Jun 18 01:28:12 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 18 Jun 2002 11:28:12 +1200
Subject: [R] Rgui crashes
References: <F208fdhNzW3l1GM3h3v0000c58f@hotmail.com>
Message-ID: <00bf01c21656$a69ab330$af2758db@kwan022>


----- Original Message -----
From: "Enrique Barahona" <ebarahonaf at hotmail.com>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, June 18, 2002 10:25 AM
Subject: [R] Rgui crashes


> My Rgui crashes quite a lot when entering certain characters. I put a
> freshly extracted msvcrt.dll into the rw1050\bin directory, but this did
not
> fix the problem. Perhaps, as stated in the FAQ section, I need also "put
the
> rw1050\bin directory early in your path" but I do not know how to do it in
> Windows Me. Please could you give me some help?

I do not think you need the rw1050\bin in your PATH to be able to use Rgui.
I think it is for if you want to use Rcmd or Rterm.

But anyway, to answer your question re path, take a look at
http://www.stat.auckland.ac.nz/~kwan022/pub/R/compileR.pdf under Section
2.2.2.  I hope this helps...

Cheers,

Ko-Kang Wang


------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Jun 18 01:49:14 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 17 Jun 2002 16:49:14 -0700 (PDT)
Subject: [R] trouble getting R program to open a data file
In-Reply-To: <3.0.5.32.20020617164728.03b3ac90@y.mail.vanderbilt.edu>
Message-ID: <Pine.GSO.4.10.10206171646430.10820-100000@fisher.stat.ucla.edu>

On Windows, you need to use "\\" instead of a single "\".  To avoid this
problem in the future (and to be platform independent), you might consider
doing:

DataFile <- file.path("c:", "windows", "desktop", "slope.csv")

which will insert the appropriate directory separator for you.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 17 Jun 2002, Paul Yoder wrote:

> Hi,
> 	We've written an R program to conduct a series of analyses on a data file
> that is a comma separated value file. At one time it worked, but every
> since having down loaded the new version of R, I'm getting the following:
> 
> Cannot open c:windowsdesktopslope.csv
> 
> 
> What I've asked the program to do is to open a datafile using the following: 
> 
> DataFile<- 'c:\windows\desktop\slope.csv' 
> 
>  So it is clearly stripping the "\" from the path. I've tried using "/" to
> no avail. Any suggestions?
> 
> Paul
> Paul J. Yoder, Ph.D.
> Peabody Box 328
> Vanderbilt University
> Nashville, TN 37215
> phone: 615-322-8464
> fax: 615-322-8236
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue Jun 18 07:50:34 2002
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 18 Jun 2002 07:50:34 +0200 (MET DST)
Subject: [R] Re: R-1.5.1 is released (SuSE packages)
In-Reply-To: <20020617150834.AACDE49136@ac.lisse.na>
Message-ID: <Pine.OSF.4.21.0206172333190.29898-100000@zidsrv.sci.uni-klu.ac.at>

On Mon, 17 Jun 2002, Eberhard Lisse wrote:

> 
> Peter, anyone,
> 
> I would like to see SUSE 8.0 RPMs. Will these be forthcoming at asome
> stage?
> 

I completed my conversion from SuSE to debian during the last months, so I
have no more SuSE installation to build rpms on.

Meanwhile Detlef Steuer had success in trying my rpm build scripts on
his machine and is willing to take over the SuSE rpm builder job.  

Please give him some more days to complete the rpms and clarify upload
mechanisms to cran. 

Best whishes

Albrecht

> el
> 
> In message <x2n0tu6rev.fsf at blueberry.kubism.ku.dk>, Peter Dalgaard BSA writes:
> > 
> > 
> > I've rolled up R-1.5.1.tgz a short while ago. This is a patch upgrade,
> > fixing the most important bugs that cropped up after the 1.5.0 release.
> > 
> > A set of recommended packages which have been tested with R-1.5.1 has
> > been bundled up. Binary distributions should include these packages.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 08:37:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 07:37:03 +0100 (BST)
Subject: [R] Rgui crashes
In-Reply-To: <F208fdhNzW3l1GM3h3v0000c58f@hotmail.com>
Message-ID: <Pine.LNX.4.31.0206180735350.12426-100000@gannet.stats>

On Mon, 17 Jun 2002, Enrique Barahona wrote:

> My Rgui crashes quite a lot when entering certain characters. I put a
> freshly extracted msvcrt.dll into the rw1050\bin directory, but this did not
> fix the problem. Perhaps, as stated in the FAQ section, I need also "put the
> rw1050\bin directory early in your path" but I do not know how to do it in
> Windows Me. Please could you give me some help?

Please wait for and install rw1051, as this problem is thought to be
fixed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brostaux.y at fsagx.ac.be  Tue Jun 18 08:43:57 2002
From: brostaux.y at fsagx.ac.be (Yves Brostaux)
Date: Tue, 18 Jun 2002 08:43:57 +0200
Subject: [R] Line width in graphs
Message-ID: <5.1.0.14.1.20020618083215.00ac8340@fusamail.fsagx.ac.be>

Hi,

I'm using R to plot some data and associated linear models, and I was 
wondering if there was a parameter to fix the line width in the graphs (for 
axis, lines, ...) because I explored the associated help pages and could 
not find it.

Thx in advance,

-- 
Ir. Yves Brostaux - Statistics and Computer Science Dpt.
Gembloux Agricultural University
8, avenue de la Facult? B-5030 Gembloux (Belgium)
T?l : +32 (0)81 62 24 69
E-mail : brostaux.y at fsagx.ac.be
Web : http://www.fsagx.ac.be/si/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 08:52:35 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 07:52:35 +0100 (BST)
Subject: [R] Line width in graphs
In-Reply-To: <5.1.0.14.1.20020618083215.00ac8340@fusamail.fsagx.ac.be>
Message-ID: <Pine.LNX.4.31.0206180751520.12426-100000@gannet.stats>

On Tue, 18 Jun 2002, Yves Brostaux wrote:

> Hi,
>
> I'm using R to plot some data and associated linear models, and I was
> wondering if there was a parameter to fix the line width in the graphs (for
> axis, lines, ...) because I explored the associated help pages and could
> not find it.

par(lwd): see ?par.  It is somewhat device-dependent.

>
> Thx in advance,
>
> --
> Ir. Yves Brostaux - Statistics and Computer Science Dpt.
> Gembloux Agricultural University
> 8, avenue de la Facult B-5030 Gembloux (Belgium)
> Tl : +32 (0)81 62 24 69
> E-mail : brostaux.y at fsagx.ac.be
> Web : http://www.fsagx.ac.be/si/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 18 08:57:07 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2002 08:57:07 +0200
Subject: [R] trouble getting R program to open a data file
In-Reply-To: <Pine.GSO.4.10.10206171646430.10820-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10206171646430.10820-100000@fisher.stat.ucla.edu>
Message-ID: <x2hek1vzuk.fsf@blueberry.kubism.ku.dk>

Roger Peng <rpeng at stat.ucla.edu> writes:

> On Windows, you need to use "\\" instead of a single "\".  To avoid this
...

Actually, you need that on all platforms. It's because "\n" means
newline, "\t" means TAB, etc. The only thing special about Windows is
that it uses "\" as a path separator, so you see the problem much more
often.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 18 09:07:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2002 09:07:54 +0200
Subject: [R] Line width in graphs
In-Reply-To: <5.1.0.14.1.20020618083215.00ac8340@fusamail.fsagx.ac.be>
References: <5.1.0.14.1.20020618083215.00ac8340@fusamail.fsagx.ac.be>
Message-ID: <x2d6upvzcl.fsf@blueberry.kubism.ku.dk>

Yves Brostaux <brostaux.y at fsagx.ac.be> writes:

> Hi,
> 
> I'm using R to plot some data and associated linear models, and I was
> wondering if there was a parameter to fix the line width in the graphs
> (for axis, lines, ...) because I explored the associated help pages
> and could not find it.
> 
> Thx in advance,

It's "lwd", as in 

par(lwd=3,cex=1.5) ; plot(rnorm(20))
abline(h=0,lwd=2,lty="dotted")

which gives a style that might be more readable from the back row
during presentations.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at dina.kvl.dk  Tue Jun 18 10:16:16 2002
From: anielsen at dina.kvl.dk (Anders Nielsen)
Date: 18 Jun 2002 10:16:16 +0200
Subject: [R] generic/method consistency ?
Message-ID: <1024388177.2138.3.camel@fisher.dina.kvl.dk>

Dear R-list 

I am compiling my first R-package and I get this warning: 

... 
* checking generic/method consistency ... WARNING 
plot: 
  function(x, ...) 
plot.SimNI: 
  function(tags, closedArea, color, ...) 
...

What does this mean exactly? 

Thanks in advance. 

Anders. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 10:39:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 09:39:24 +0100 (BST)
Subject: [R] generic/method consistency ?
In-Reply-To: <1024388177.2138.3.camel@fisher.dina.kvl.dk>
Message-ID: <Pine.LNX.4.31.0206180937350.12622-100000@gannet.stats>

On 18 Jun 2002, Anders Nielsen wrote:

> Dear R-list
>
> I am compiling my first R-package and I get this warning:
>
> ...
> * checking generic/method consistency ... WARNING
> plot:
>   function(x, ...)
> plot.SimNI:
>   function(tags, closedArea, color, ...)
> ...
>
> What does this mean exactly?

The first argument of a plot method is named `x' according to the generic,
but yours is called `tags'.  See `Writing R Extensions' for why these need
to match.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Tue Jun 18 10:30:17 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Tue, 18 Jun 2002 10:30:17 +0200
Subject: [R] insert number in vector
Message-ID: <001301c216a2$601fb940$1100a8c0@ico.scs.es>

Hello R-users,


I need to create a vector inserting an 1 after each value of another vector.
For example:

vec1<-c(2,3,4)

I need to create a vector with the values 2,1,3,1,4


Does anyone know how create this vector without loops (vec1 could have 1000
elements)

Thank you,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Jun 18 10:43:48 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 18 Jun 2002 10:43:48 +0200 (MEST)
Subject: [R] generic/method consistency ?
In-Reply-To: <1024388177.2138.3.camel@fisher.dina.kvl.dk>
Message-ID: <Pine.LNX.4.21.0206181040181.18411-100000@artemis>


> Dear R-list 
> 
> I am compiling my first R-package and I get this warning: 
> 
> ... 
> * checking generic/method consistency ... WARNING 
> plot: 
>   function(x, ...) 
> plot.SimNI: 
>   function(tags, closedArea, color, ...) 
> ...

plot is a generic function with parameter x and dots: 

function (x, ...) 
{
    if (is.null(attr(x, "class")) && is.function(x)) {
        if ("ylab" %in% names(list(...))) 
            plot.function(x, ...)
        else plot.function(x, ylab = paste(deparse(substitute(x)), 
            "(x)"), ...)
    }
    else UseMethod("plot")
}

therefore, your method "plot.SimNI" must have an argument "x". e.g. 

plot.SimNI <- function(x, tags, closedArea, color, ...) {...}

where x is an object of class "SimNI". 

Torsten

> 
> What does this mean exactly? 
> 
> Thanks in advance. 
> 
> Anders. 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 18 10:51:20 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2002 10:51:20 +0200
Subject: [R] insert number in vector
In-Reply-To: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
References: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
Message-ID: <x2ptypt1fb.fsf@blueberry.kubism.ku.dk>

"Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:

> Hello R-users,
> 
> 
> I need to create a vector inserting an 1 after each value of another vector.
> For example:
> 
> vec1<-c(2,3,4)
> 
> I need to create a vector with the values 2,1,3,1,4
> 
> 
> Does anyone know how create this vector without loops (vec1 could have 1000
> elements)

something like

result <- rep(1, 2*length(vec1)-1)
result[seq(1, length(result), 2)] <- vec1

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Tue Jun 18 10:57:27 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Tue, 18 Jun 2002 09:57:27 +0100
Subject: [R] insert number in vector
References: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
Message-ID: <3D0EF5F7.11DD751B@lancs.ac.uk>


vec1<-c(2,3,4)
vec2 <- rep(1,length(vec1)*2)
vec2[seq(1,length(vec1)*2-1,by=2)]<- vec1

or

vec1<-c(2,3,4)
vec2 <- rep(1,length(vec1)*2-1)
vec2[seq(1,length(vec1)*2-1,by=2)]<- vec1

depending on whether you want a 1 in the end of the vector or not

Ole


Juan Ramon Gonzalez wrote:
> 
> Hello R-users,
> 
> I need to create a vector inserting an 1 after each value of another vector.
> For example:
> 
> vec1<-c(2,3,4)
> 
> I need to create a vector with the values 2,1,3,1,4
> 
> Does anyone know how create this vector without loops (vec1 could have 1000
> elements)
> 
> Thank you,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Tue Jun 18 11:27:46 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Tue, 18 Jun 2002 11:27:46 +0200
Subject: [R] insert number in vector
In-Reply-To: <x2ptypt1fb.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Tue, Jun 18, 2002 at 10:51:20AM +0200
References: <001301c216a2$601fb940$1100a8c0@ico.scs.es> <x2ptypt1fb.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020618112745.B25964@rzsrv2.rz.tu-bs.de>

> c(t(cbind(Vec,rep(1,length(Vec)))))
[1] 2 1 3 1 4 1

P.



On Tue, Jun 18, 2002 at 10:51:20AM +0200, Peter Dalgaard BSA wrote:
> "Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:
> 
> > Hello R-users,
> > 
> > 
> > I need to create a vector inserting an 1 after each value of another vector.
> > For example:
> > 
> > vec1<-c(2,3,4)
> > 
> > I need to create a vector with the values 2,1,3,1,4
> > 
> > 
> > Does anyone know how create this vector without loops (vec1 could have 1000
> > elements)
> 
> something like
> 
> result <- rep(1, 2*length(vec1)-1)
> result[seq(1, length(result), 2)] <- vec1
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helmut.schuetz at chello.at  Tue Jun 18 12:39:37 2002
From: helmut.schuetz at chello.at (Helmut =?iso-8859-1?Q?Sch=FCtz?=)
Date: Tue, 18 Jun 2002 12:39:37 +0200
Subject: [R] Different y-axes
Message-ID: <3D0F0DE9.10C05DD6@chello.at>

What's wrong?

I tried today's examples and just got only both labels printed one over
the other.

1. Brian Ripley
x <- 1:10
y <- rnorm(10)
z <- runif(10, 1000, 10000)
par(mar=c(5,4,4,4) + 0.1)  # Leave space for z axis
plot(x, y)
par(new=T)
plot(x, z, type="l", axes=F, bty="n", xlab="", ylab="")
axis(4, at=pretty(range(z)))
mtext(z, 4, 3)

2. Don MacQueen
x <- 1:5
y1 <- 1:5
y2 <- 25:21
plot(x,y1)
par(new=T)
plot(x,y2,yaxt='n',col='blue')
axis(4,y2)

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
major    1
minor    5.0
year     2002
month    04
day      29

Helmut Sch?tz
Biometrics Dep.
Biokinet GmbH
Nattergasse 4
A-1170 Vienna/Austria
tel +43(0)1 4856969-77
fax +43(0)1 4856970-90
helmut.schuetz at chello.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 12:49:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 18 Jun 2002 11:49:36 +0100 (GMT Daylight Time)
Subject: [R] Different y-axes
In-Reply-To: <3D0F0DE9.10C05DD6@chello.at>
Message-ID: <Pine.WNT.4.44.0206181146280.3812-100000@gannet.stats.ox.ac.uk>

On Tue, 18 Jun 2002, Helmut [iso-8859-1] Schtz wrote:

> What's wrong?

You tell us: we don't know what you are seeing ....

> I tried today's examples and just got only both labels printed one over
> the other.
>
> 1. Brian Ripley
> x <- 1:10
> y <- rnorm(10)
> z <- runif(10, 1000, 10000)
> par(mar=c(5,4,4,4) + 0.1)  # Leave space for z axis
> plot(x, y)
> par(new=T)
> plot(x, z, type="l", axes=F, bty="n", xlab="", ylab="")
> axis(4, at=pretty(range(z)))
> mtext(z, 4, 3)
        ^
mtext("z", 4, 3) was a copying error from me, but all the rest works.


> 2. Don MacQueen
> x <- 1:5
> y1 <- 1:5
> y2 <- 25:21
> plot(x,y1)
> par(new=T)
> plot(x,y2,yaxt='n',col='blue')
> axis(4,y2)

That does plot the box, x axis and x label twice, which matters on some
devices, e.g. a plotter.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 18 12:51:46 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2002 12:51:46 +0200
Subject: [R] Different y-axes
In-Reply-To: <3D0F0DE9.10C05DD6@chello.at>
References: <3D0F0DE9.10C05DD6@chello.at>
Message-ID: <x2hek0uaf1.fsf@blueberry.kubism.ku.dk>

Helmut Sch?tz <helmut.schuetz at chello.at> writes:

> What's wrong?
> 
> I tried today's examples and just got only both labels printed one over
> the other.
> 
> 1. Brian Ripley
> x <- 1:10
> y <- rnorm(10)
> z <- runif(10, 1000, 10000)
> par(mar=c(5,4,4,4) + 0.1)  # Leave space for z axis
> plot(x, y)
> par(new=T)
> plot(x, z, type="l", axes=F, bty="n", xlab="", ylab="")
> axis(4, at=pretty(range(z)))
> mtext(z, 4, 3)

This is fine if you leave out the last line... Did that really come
from Brian?? mtext("z", 4, 3) might have been the intention.
 
> 2. Don MacQueen
> x <- 1:5
> y1 <- 1:5
> y2 <- 25:21
> plot(x,y1)
> par(new=T)
> plot(x,y2,yaxt='n',col='blue')
> axis(4,y2)

you need at least ylab="" on the 2nd plot.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Tue Jun 18 13:20:45 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Tue, 18 Jun 2002 12:20:45 +0100
Subject: [R] insert number in vector
In-Reply-To: <20020618112745.B25964@rzsrv2.rz.tu-bs.de>
Message-ID: <NEBBJLLBCLEDFLCCBKDAGEFPCGAA.mel@mcs.st-andrews.ac.uk>

Or even:

> c(rbind(Vec,1))
[1] 2 1 3 1 4 1

It is a lovely language!

Cheers,

Mike.


     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Peter Malewski
     > Sent: 18 June 2002 10:28
     > To: r-help at stat.math.ethz.ch
     > Subject: Re: [R] insert number in vector
     > 
     > 
     > > c(t(cbind(Vec,rep(1,length(Vec)))))
     > [1] 2 1 3 1 4 1
     > 
     > P.
     > 
     > 
     > 
     > On Tue, Jun 18, 2002 at 10:51:20AM +0200, Peter Dalgaard BSA wrote:
     > > "Juan Ramon Gonzalez" <jrgonzalez at ico.scs.es> writes:
     > > 
     > > > Hello R-users,
     > > > 
     > > > 
     > > > I need to create a vector inserting an 1 after each 
     > value of another vector.
     > > > For example:
     > > > 
     > > > vec1<-c(2,3,4)
     > > > 
     > > > I need to create a vector with the values 2,1,3,1,4
     > > > 
     > > > 
     > > > Does anyone know how create this vector without loops 
     > (vec1 could have 1000
     > > > elements)
     > > 
     > > something like
     > > 
     > > result <- rep(1, 2*length(vec1)-1)
     > > result[seq(1, length(result), 2)] <- vec1
     > > 
     > > -- 
     > >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
     > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
     > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
     > (+45) 35327918
     > > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
     > (+45) 35327907
     > > 
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > > r-help mailing list -- Read 
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > > Send "info", "help", or "[un]subscribe"
     > > (in the "body", not the subject !)  To: 
     > r-help-request at stat.math.ethz.ch
     > > 
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._
     > 
     > -- 
     > P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
     > At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 
     > 532 3190, 
     > P.Malewski at tu-bs.de, peter.malewski at gmx.de, 
     > malewski.peter at mh-hannover.de.
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read 
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To: 
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecoutre at stat.ucl.ac.be  Tue Jun 18 13:59:12 2002
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Tue, 18 Jun 2002 12:59:12 +0100
Subject: [R] insert number in vector
In-Reply-To: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
Message-ID: <5.1.1.5.2.20020618125500.00ab8270@stat4ux.stat.ucl.ac.be>


Here are my solution.
There should be something more "natural"...

 > vec_2:10
 > result <- eval(parse(text=paste("c(",paste(vec,collapse=" ,1, "),")")))
 > result
[1]  2  1  3  1  4  1  5  1  6  1  7  1  8  1  9  1 10

Here is another way, maybe simpler:

AddValue_ function(vec,addvalue=1)
{
tmp<- cbind(vec,addvalue)
tmp<-as.vector(t(tmp))
return(tmp[1:(length(tmp)-1)])
}

Eric


At 10:30 18/06/2002 +0200, you wrote:
>Hello R-users,
>I need to create a vector inserting an 1 after each value of another vector.
>For example:
>
>vec1<-c(2,3,4)
>
>I need to create a vector with the values 2,1,3,1,4
>
>Does anyone know how create this vector without loops (vec1 could have 1000
>elements)
>
>Thank you,
>
>Juan
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>


?------------------------?------------------------------------------------?
| Eric Lecoutre          | Statistics                                     |
| Voie du Roman Pays, 20 | Teaching assistant / Consultant                |
| 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                 |
| Belgique               | lecoutre at stat.ucl.ac.be                        |
| (+32) (0)10 47 30 50   | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
?------------------------?------------------------------------------------?
|       We need statistical thinking, not rituals  -  Gigerenzer          |
?-------------------------------------------------------------------------?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Tue Jun 18 14:27:04 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Tue, 18 Jun 2002 14:27:04 +0200
Subject: [R] Second axis in a plot
In-Reply-To: <20020617131618.65199.qmail@web21508.mail.yahoo.com>
Message-ID: <3D0F4338.7454.16DD054@localhost>



On 17 Jun 2002 at 15:16, Juan Cuervo wrote:

> Hi to all,
> First of all, I prefer to tell that I am a R-newbie,
> so I apologize if this is a silly question (I have
> tried looking in the manuals, but without luck).
> I have two variables, y and z, that I want to plot
> against x in the same plot. I have done this before,
> using points() after plot(). But now the problem is
> that y and z are in different units of measurement,
> and their ranges are very different.
> I have tried drawing a second axis with axis(), but I
> found the same problem: the new axis is drawn in the
> same range than the first variable plotted in the
> y-axis.
> I would greatly appreciate some suggestions.
> Regards,
> Juan L. Cuervo
> 

Try this small function I made for myself (therefore it is not very well described). 

yylab is for right and left hand side axes labels
znac is for pch
bar is for col
linky is for adding lines
smooth is for smoothing

actually it is very similar to prof.Ripley's answer.


#----------------------------------------------------------------------------------------------
--------
# graf na 2 osach y

plot.yy<-function(x,yright,yleft, yylab=c("",""),znac=c(1,2),bar=c(1,2), linky=F, 
smooth=0, ...)

{

par(mar=c(5,4,4,2),oma=c(0,0,0,3))
plot(x,yright,axes=F,ylab="",pch=znac[1],col=bar[1], ...)
axis(4,pretty(range(yright),10))

if (linky) lines(x,yright,col=bar[1], ...)

if (smooth!=0) lines(supsmu(x,yright,span=smooth),col=bar[1], ...)

if(yylab[1]=="") 
mtext(deparse(substitute(yright)),side=4,outer=T,line=1, col=bar[1])
else 
mtext(yylab[1],side=4,outer=T,line=1, col=bar[1])

par(new=T)
plot(x,yleft,ylab="",pch=znac[2],col=bar[2], ...)

if(yylab[2]=="")
mtext(deparse(substitute(yleft)),side=2,line=2, col=bar[2])
else
mtext(yylab[2],side=2,line=2, col=bar[2])


if (linky) lines(x,yleft,col=bar[2], lty=2, ...)
if (smooth!=0) lines(supsmu(x,yleft,span=smooth),col=bar[2], lty=2, ...)

}




> 
> _______________________________________________________________
> Copa del Mundo de la FIFA 2002
> El ?nico lugar de Internet con v?deos de los 64 partidos. 
> ?Ap?ntante ya! en http://fifaworldcup.yahoo.com/fc/es/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Tue Jun 18 15:25:38 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Tue, 18 Jun 2002 09:25:38 -0400
Subject: [R] Problem with histogram
Message-ID: <1480f18a05.18a051480f@lbl.gov>

Hi Everyone
I have 1dim array of data, which spans, say from 0 to 60. I would like 
to histogram that data only in the range of 0 to 10. How do I do that?
Something like
truehist(data,breaks=c(0:10)) returns an error message " breaks do not 
cover tha data"

Please help.

Thank you,
Vlad.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Tue Jun 18 15:32:43 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Tue, 18 Jun 2002 09:32:43 -0400 (EDT)
Subject: [R] insert number in vector
In-Reply-To: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
Message-ID: <Pine.LNX.4.33.0206180927120.29517-100000@penguin.rand.org>

> 
> I need to create a vector inserting an 1 after each value of another vector.
> For example:
> 
> vec1<-c(2,3,4)
> 
> I need to create a vector with the values 2,1,3,1,4
> 
> 
> Does anyone know how create this vector without loops (vec1 could have 1000
> elements)

This problem came up for me in the past and I started w/ all sorts of
rep() contortions, but then I thought of a cleverish way:

interleave<-function(...){
  as.vector(rbind(...))
}

e.g.
interleave(2:4,rep(1,3))

you'll have to chop the trailing "1".

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Tue Jun 18 16:19:11 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Tue, 18 Jun 2002 16:19:11 +0200 (MET DST)
Subject: [R] 2d histogram interpolation
Message-ID: <Pine.OSF.4.31.0206181615570.5561-100000@kirk.science.unitn.it>

Hi !

I want to find the surface the interpolates a 2D histogram, that I have
generated with hist2d. I don't want to make a fit, but simply an
interpolation.

Which function have I to use to do this ?

Thanks in advance.
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poizot at cnam.fr  Tue Jun 18 16:10:12 2002
From: poizot at cnam.fr (Poizot Emmanuel)
Date: Tue, 18 Jun 2002 16:10:12 +0200
Subject: [R] Extracting part of an array
Message-ID: <200206181419.QAA05970@stat.math.ethz.ch>

Hi,
I've got a trivial question ,but as a newby, I'm stuk.
I've got an array of dim 160,4. I want to extract the values of the first 
column based on a condition of values in the second column and affect the 
result to a variable.

E.P.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Tue Jun 18 16:26:14 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Tue, 18 Jun 2002 16:26:14 +0200
Subject: [R] Extracting part of an array
References: <200206181419.QAA05970@stat.math.ethz.ch>
Message-ID: <3D0F4306.806A571E@ci.tuwien.ac.at>

Poizot Emmanuel wrote:
> 
> Hi,
> I've got a trivial question ,but as a newby, I'm stuk.
> I've got an array of dim 160,4. I want to extract the values of the first
> column based on a condition of values in the second column and affect the
> result to a variable.

If I understand you correctly you want something like this:

R> dummy <- matrix(rnorm(160*4), ncol = 4)
R> dim(dummy)
[1] 160   4
R> result <- dummy[(dummy[,2] > 2), 1]
R> result
[1] 1.1762235 0.3720527

Hope that helps
Z


> E.P.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 16:45:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 15:45:05 +0100 (BST)
Subject: [R] Problem with histogram
In-Reply-To: <1480f18a05.18a051480f@lbl.gov>
Message-ID: <Pine.LNX.4.31.0206181544300.17871-100000@gannet.stats>

On Tue, 18 Jun 2002 VBMorozov at lbl.gov wrote:

> Hi Everyone
> I have 1dim array of data, which spans, say from 0 to 60. I would like
> to histogram that data only in the range of 0 to 10. How do I do that?
> Something like
> truehist(data,breaks=c(0:10)) returns an error message " breaks do not
> cover tha data"

truehist(data[data <= 10])


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Tue Jun 18 16:56:31 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Tue, 18 Jun 2002 16:56:31 +0200
Subject: [R] Problem with histogram
In-Reply-To: <1480f18a05.18a051480f@lbl.gov>
Message-ID: <3D0F663F.13798.1F6A3EC@localhost>



On 18 Jun 2002 at 9:25, VBMorozov at lbl.gov wrote:

> Hi Everyone
> I have 1dim array of data, which spans, say from 0 to 60. I would like
> to histogram that data only in the range of 0 to 10. How do I do that?
> Something like truehist(data,breaks=c(0:10)) returns an error message
> " breaks do not cover tha data"
> 
> Please help.

Not completely sure what do you intend but what about

truehist(yourdata[yourdata<10])

or in case you want rescaling something like

truehist(yourdata*10/max(yourdata))

may help

> 
> Thank you,
> Vlad.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From postmaster at banxico.org.mx  Tue Jun 18 18:06:30 2002
From: postmaster at banxico.org.mx (postmaster@banxico.org.mx)
Date: Tue, 18 Jun 2002 10:06:30 -0600
Subject: [R] Correo no entregado
Message-ID: <200206181512.RAA21561@stat.math.ethz.ch>

************* eManager Notification **************

Su mensaje no fue entregado debido a que el formato en el campo "Asunto" no es valido.

Source mailbox: "r-help at stat.math.ethz.ch"
Destination mailbox(es): "r-announce at R-project.org","R-sig-mac at stat.math.ethz.ch"

******************* End of message *******************
-------------- next part --------------
Received: from stat.math.ethz.ch (majordom at hypatia.ethz.ch [129.132.58.23])
	by muskrat.stat.umn.edu (8.11.6/8.11.1) with ESMTP id g5IFCi174346;
	Tue, 18 Jun 2002 10:12:44 -0500 (CDT)
	(envelope-from owner-r-announce at stat.math.ethz.ch)
Received: by stat.math.ethz.ch (8.9.1/8.9.1) id RAA21330
	for r-announce-gang-use; Tue, 18 Jun 2002 17:10:13 +0200 (MET DST)
Received: (from daemon at localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id RAA21293
	for <r-announce at hypatia.math.ethz.ch>; Tue, 18 Jun 2002 17:09:51 +0200 (MET DST)
Received: from franz.stat.wisc.edu(128.105.174.95)
 via SMTP by hypatia, id smtpdAAAa005Cc; Tue Jun 18 17:09:45 2002
Received: from mail.mclink.it (really [195.110.128.7]) by franz.stat.wisc.edu
	via smail with esmtp
	id <m17KKcT-000IXYC at franz.stat.wisc.edu> (Debian Smail3.2.0.114)
	for <r-announce at r-project.org>; Tue, 18 Jun 2002 10:10:09 -0500 (CDT) 
Received: from localhost (213-140-10-135.fastres.net [213.140.10.135])
	by mail.mclink.it (8.11.0/8.11.0) with ESMTP id g5IFA4T07273;
	Tue, 18 Jun 2002 17:10:04 +0200 (CEST)
Date: Tue, 18 Jun 2002 17:10:04 +0200
Subject: Carbon R 1.5.1 + Bioconductor released
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v482)
Cc: R-sig-mac at stat.math.ethz.ch
To: r-announce at R-project.org
From: Stefano Iacus <jago at mclink.it>
Content-Transfer-Encoding: 7bit
Message-Id: <77CD881E-82CD-11D6-A244-003065CC4CB8 at mclink.it>
X-Mailer: Apple Mail (2.482)
Sender: owner-r-announce at stat.math.ethz.ch
Precedence: SfS-bulk
Reply-To: r-help at stat.math.ethz.ch
X-loop: r-announce

From gregory_r_warnes at groton.pfizer.com  Tue Jun 18 17:25:29 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 18 Jun 2002 11:25:29 -0400
Subject: [R] Problems with url/download and http_proxy
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E643@groexmb02.pfizer.com>

	
I would like to use the getBioC.R script from
http://www.bioconductor.org/getBioC.R to install the biobase packages.
Unfortunately, url() and download.file() die when trying to talk to my
proxy:

	> getBioC("exprs")
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	[1] "Get Biobase failed"     "Get annotate failed"    "Get
genefilter failed" 
	[4] "Get geneplotter failed" "Get edd failed"         "Get ROC
failed"        
	[7] "Get tkWidgets failed"  

Which is caused by:

	> url(getUrl("unix","Biobase", F),'r')
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	Error in url(getUrl("unix", "Biobase", F), "r") : 
	 cannot open URL
`http://www.bioconductor.org/packages/release/distrib/Source/Biobase_1.0.tar
.gz'

and similarly:

	> download.file(getUrl("unix","Biobase", F),dest="test.tgz")
	trying URL
`http://www.bioconductor.org/packages/release/distrib/Source/Biobase_1.0.tar
.gz'
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	Error in download.file(getUrl("unix", "Biobase", F), dest =
"test.tgz") : 
	 cannot open URL
`http://www.bioconductor.org/packages/release/distrib/Source/Biobase_1.0.tar
.gz'

So, it looks like R's internal http code can't handle my proxy settings:

	> Sys.getenv("http_proxy")
                 http_proxy 
	"http://gproxy1.pfizer.com" 

However, this proxy value works just fine for wget/lynx etc:

	> download.file(getUrl("unix","Biobase", F),dest="test.gz",
method="wget")
	--11:12:07--
http://www.bioconductor.org:80/packages/release/distrib/Source/Biobase_1.0.t
ar.gz
	           => `affy.tar.gz'
	Connecting to gproxy1.pfizer.com:80... connected!
	Proxy request sent, awaiting response... 200 OK
	Length: 292,800 [application/x-tar]
	
	    0K -> .......... .......... .......... .......... .......... [
17%]
	   50K -> .......... .......... .......... .......... .......... [
34%]
	...


So, does R need the proxy settings to be in a different format? Other ideas
on what might be wrong?

Obligatory version info:

> version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status   Patched             
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      18                  
language R                   


-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 17:42:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 16:42:56 +0100 (BST)
Subject: [R] Problems with url/download and http_proxy
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C227E643@groexmb02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0206181636080.17953-100000@gannet.stats>

The code (which you do have available to you) says http_proxy

 * Should be like http://myproxy/ or http://myproxy:3128/

which yours is not, so please try that format.  The code suggests
that the traling / can be omitted, but the words do not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Jun 18 18:59:21 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 18 Jun 2002 12:59:21 -0400
Subject: [R] Problem with histogram
References: <1480f18a05.18a051480f@lbl.gov>
Message-ID: <3D0F66E9.351D6CDD@umsanet.edu.bo>

OK <- mydata <= 10
truehist(mydata[OK])

Kjetil Halvorsen

VBMorozov at lbl.gov wrote:
> 
> Hi Everyone
> I have 1dim array of data, which spans, say from 0 to 60. I would like
> to histogram that data only in the range of 0 to 10. How do I do that?
> Something like
> truehist(data,breaks=c(0:10)) returns an error message " breaks do not
> cover tha data"
> 
> Please help.
> 
> Thank you,
> Vlad.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fernando.pineda at jhu.edu  Tue Jun 18 19:17:27 2002
From: fernando.pineda at jhu.edu (Fernando Pineda)
Date: Tue, 18 Jun 2002 13:17:27 -0400
Subject: [R] Darwin R 1.5.1 ?
In-Reply-To: <77CD881E-82CD-11D6-A244-003065CC4CB8@mclink.it>
References: <77CD881E-82CD-11D6-A244-003065CC4CB8@mclink.it>
Message-ID: <a05100324b9351aa1b2a8@[10.18.117.10]>

Any chance of getting a Darwin version of R? This would be very 
useful for those of us trying to use R as a back-end for web apps.

Thanks,

-- Fernando

>I have built and uploaded to CRAN the Carbon version of R for MacOS/MacOSX.
>
>You'll find the base set (rm151.sit) and the recommended packages 
>(recommended.sit) separately or all in one single file 
>(rm151_FULL.sit) on CRAN and their mirrors soon.
>
>I have also built the Bioconductor suite of packages (corresponding 
>to the Bioconductor_1.0.tgz file) as it seems to be one of the most 
>appealing packages for Mac users.
>
>You'll find it in the macos/contrib/rm151  folder on CRAN.
>
>Other packages will follow.
>
>This version of R contains a fully working methods library.
>
>
>Stefano
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-announce mailing list -- Read 
>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Fernando J. Pineda     		Johns Hopkins University
Assoc. Professor                 	Bloomberg School of Public Health
Molecular Microbiology & Immunology	615 N. Wolfe St.	 
fernando.pineda at jhu.edu			Baltimore, MD 21205
443-287-3673
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020618/f62170d9/attachment.html

From gregory_r_warnes at groton.pfizer.com  Tue Jun 18 20:39:21 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 18 Jun 2002 14:39:21 -0400
Subject: [R] Problems with url/download and http_proxy
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E64A@groexmb02.pfizer.com>


Just adding the trailing slash doesn't seem to help:

	> Sys.getenv('http_proxy')
	                  http_proxy 
	"http://gproxy1.pfizer.com/" 

	> url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
	connect: Cannot assign requested address
	unable to connect to 'gproxy1.pfizer.com'.
	Error in url("http://cran.r-project.org/src/contrib/PACKAGES", "r")
: 
	        cannot open URL
`http://cran.r-project.org/src/contrib/PACKAGES'

But adding the port explicitly does:

	> Sys.getenv("http_proxy")
	                     http_proxy 
	"http://gproxy1.pfizer.com:80/" 
	>  url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
	                                     description 
	"http://cran.r-project.org/src/contrib/PACKAGES" 
	                                           class 
	                                           "url" 
	                                            mode 
	                                             "r" 
	                                            text 
	                                          "text" 
	                                          opened 
	                                        "opened" 
	                                        can read 
	                                           "yes" 
	                                       can write 
	                                            "no" 



even if the trailing slash is not present:

> Sys.getenv("http_proxy")
                    http_proxy 
"http://gproxy1.pfizer.com:80" 

> url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
                                     description 
"http://cran.r-project.org/src/contrib/PACKAGES" 
                                           class 
                                           "url" 
                                            mode 
                                             "r" 
                                            text 
                                          "text" 
                                          opened 
                                        "opened" 
                                        can read 
                                           "yes" 
                                       can write 
                                            "no" 


Perhaps the documentation for download.file should be changed to note the
requirement of the port.  The paragraph on proxies could be changed from


     Proxies can be specified via environment variables. Setting
     `"no_proxy"' stops any proxy being tried. Otherwise the setting of
     `"http_proxy"' or `"ftp_proxy"' (or failing that, the all
     upper-case version) is consulted and if non-empty used as a proxy
     site.  For FTP transfers, the username and password on the proxy
     can be specified by `"ftp_proxy_user"' and `"ftp_proxy_password"'.


to something like:

     Proxies can be specified via the environment variables `"http_proxy"'
     or `"HTTP_PROXY"' and `"ftp_proxy'" or `"FTP_PROXY"'.  These variables 
     must be of the form `protocol://machine.domain.tld:port'.  For FTP 
     transfers, the username and password on the proxy can be specified by
    `"ftp_proxy_user"' and `"ftp_proxy_password"'.  Setting `"no_proxy"' 
     prevents the use of any proxy.  


-Greg

> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Tuesday, June 18, 2002 11:43 AM
> To: Warnes, Gregory R
> Cc: 'r-help at stat.math.ethz.ch'; 'bioconductor at stat.math.ethz.ch'
> Subject: Re: [R] Problems with url/download and http_proxy
> 
> 
> The code (which you do have available to you) says http_proxy
> 
>  * Should be like http://myproxy/ or http://myproxy:3128/
> 
> which yours is not, so please try that format.  The code suggests
> that the traling / can be omitted, but the words do not.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Jun 18 21:08:50 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 18 Jun 2002 15:08:50 -0400
Subject: [R] model.tables
Message-ID: <5.1.0.14.2.20020618150507.06536da0@po.muohio.edu>

Windows 2000 R 1.4

I have a split-split plot design that I am analyzing with model <- aov(). I 
tried using model.tables(model) and it replied
"Error: subscript out of bounds." I have monkeyed with it a little, but am 
wondering if this is indicative of something in particular.
Thanks,
Hank

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 18 21:21:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Jun 2002 20:21:27 +0100 (BST)
Subject: [R] Problems with url/download and http_proxy
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C227E64A@groexmb02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0206182020400.18450-100000@gannet.stats>

The port is not supposed to be required, so rather than fix the docs can
anyone fix the problem?


On Tue, 18 Jun 2002, Warnes, Gregory R wrote:

>
> Just adding the trailing slash doesn't seem to help:
>
> 	> Sys.getenv('http_proxy')
> 	                  http_proxy
> 	"http://gproxy1.pfizer.com/"
>
> 	> url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
> 	connect: Cannot assign requested address
> 	unable to connect to 'gproxy1.pfizer.com'.
> 	Error in url("http://cran.r-project.org/src/contrib/PACKAGES", "r")
> :
> 	        cannot open URL
> `http://cran.r-project.org/src/contrib/PACKAGES'
>
> But adding the port explicitly does:
>
> 	> Sys.getenv("http_proxy")
> 	                     http_proxy
> 	"http://gproxy1.pfizer.com:80/"
> 	>  url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
> 	                                     description
> 	"http://cran.r-project.org/src/contrib/PACKAGES"
> 	                                           class
> 	                                           "url"
> 	                                            mode
> 	                                             "r"
> 	                                            text
> 	                                          "text"
> 	                                          opened
> 	                                        "opened"
> 	                                        can read
> 	                                           "yes"
> 	                                       can write
> 	                                            "no"
>
>
>
> even if the trailing slash is not present:
>
> > Sys.getenv("http_proxy")
>                     http_proxy
> "http://gproxy1.pfizer.com:80"
>
> > url("http://cran.r-project.org/src/contrib/PACKAGES",'r')
>                                      description
> "http://cran.r-project.org/src/contrib/PACKAGES"
>                                            class
>                                            "url"
>                                             mode
>                                              "r"
>                                             text
>                                           "text"
>                                           opened
>                                         "opened"
>                                         can read
>                                            "yes"
>                                        can write
>                                             "no"
>
>
> Perhaps the documentation for download.file should be changed to note the
> requirement of the port.  The paragraph on proxies could be changed from
>
>
>      Proxies can be specified via environment variables. Setting
>      `"no_proxy"' stops any proxy being tried. Otherwise the setting of
>      `"http_proxy"' or `"ftp_proxy"' (or failing that, the all
>      upper-case version) is consulted and if non-empty used as a proxy
>      site.  For FTP transfers, the username and password on the proxy
>      can be specified by `"ftp_proxy_user"' and `"ftp_proxy_password"'.
>
>
> to something like:
>
>      Proxies can be specified via the environment variables `"http_proxy"'
>      or `"HTTP_PROXY"' and `"ftp_proxy'" or `"FTP_PROXY"'.  These variables
>      must be of the form `protocol://machine.domain.tld:port'.  For FTP
>      transfers, the username and password on the proxy can be specified by
>     `"ftp_proxy_user"' and `"ftp_proxy_password"'.  Setting `"no_proxy"'
>      prevents the use of any proxy.
>
>
> -Greg
>
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Tuesday, June 18, 2002 11:43 AM
> > To: Warnes, Gregory R
> > Cc: 'r-help at stat.math.ethz.ch'; 'bioconductor at stat.math.ethz.ch'
> > Subject: Re: [R] Problems with url/download and http_proxy
> >
> >
> > The code (which you do have available to you) says http_proxy
> >
> >  * Should be like http://myproxy/ or http://myproxy:3128/
> >
> > which yours is not, so please try that format.  The code suggests
> > that the traling / can be omitted, but the words do not.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
>
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Jun 18 21:26:27 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 18 Jun 2002 12:26:27 -0700 (PDT)
Subject: [R] Darwin R 1.5.1 ?
In-Reply-To: <a05100324b9351aa1b2a8@[10.18.117.10]>
Message-ID: <Pine.GSO.4.10.10206181225340.22468-100000@fisher.stat.ucla.edu>

Check out ftp://gifi.stat.ucla.edu/pub/R-1.5.1.tar.gz

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 18 Jun 2002, Fernando Pineda wrote:

> Any chance of getting a Darwin version of R? This would be very 
> useful for those of us trying to use R as a back-end for web apps.
> 
> Thanks,
> 
> -- Fernando
> 
> >I have built and uploaded to CRAN the Carbon version of R for MacOS/MacOSX.
> >
> >You'll find the base set (rm151.sit) and the recommended packages 
> >(recommended.sit) separately or all in one single file 
> >(rm151_FULL.sit) on CRAN and their mirrors soon.
> >
> >I have also built the Bioconductor suite of packages (corresponding 
> >to the Bioconductor_1.0.tgz file) as it seems to be one of the most 
> >appealing packages for Mac users.
> >
> >You'll find it in the macos/contrib/rm151  folder on CRAN.
> >
> >Other packages will follow.
> >
> >This version of R contains a fully working methods library.
> >
> >
> >Stefano
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-announce mailing list -- Read 
> >http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> -- 
> Fernando J. Pineda     		Johns Hopkins University
> Assoc. Professor                 	Bloomberg School of Public Health
> Molecular Microbiology & Immunology	615 N. Wolfe St.	 
> fernando.pineda at jhu.edu			Baltimore, MD 21205
> 443-287-3673
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Tue Jun 18 23:24:49 2002
From: d.scott at auckland.ac.nz (David Scott)
Date: Wed, 19 Jun 2002 09:24:49 +1200 (NZST)
Subject: [R] insert number in vector
In-Reply-To: <001301c216a2$601fb940$1100a8c0@ico.scs.es>
Message-ID: <Pine.GSO.4.33.0206190920070.13848-100000@aitken.scitec.auckland.ac.nz>

On Tue, 18 Jun 2002, Juan Ramon Gonzalez wrote:

> Hello R-users,
>
>
> I need to create a vector inserting an 1 after each value of another vector.
> For example:
>
> vec1<-c(2,3,4)
>
> I need to create a vector with the values 2,1,3,1,4
>
>
How about:

n<-length(vec1)
odd<-2*(1:n)-1
vec2<-rep(1,2*n)
vec2[odd]<-vec1

David Scott
_________________________________________________________________
David Scott     Department of Statistics
                Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7000
Email:  d.scott at Auckland.ac.nz

Webmaster, New Zealand Statistical Association:
	http://www.stat.auckland.ac.nz/nzsa/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helmut.schuetz at chello.at  Tue Jun 18 23:50:34 2002
From: helmut.schuetz at chello.at (Helmut =?iso-8859-2?Q?Sch=FCtz?=)
Date: Tue, 18 Jun 2002 23:50:34 +0200
Subject: [R] Different y-axes
References: <Pine.WNT.4.44.0206181146280.3812-100000@gannet.stats.ox.ac.uk>
Message-ID: <3D0FAB29.138F37D9@chello.at>


Prof Brian D Ripley schrieb:

> On Tue, 18 Jun 2002, Helmut [iso-8859-1] Sch?tz wrote:
>
> > What's wrong?
>
> You tell us: we don't know what you are seeing ....
>
> > I tried today's examples and just got only both labels printed one over
> > the other.
> >
> > 1. Brian Ripley
> > x <- 1:10
> > y <- rnorm(10)
> > z <- runif(10, 1000, 10000)
> > par(mar=c(5,4,4,4) + 0.1)  # Leave space for z axis
> > plot(x, y)
> > par(new=T)
> > plot(x, z, type="l", axes=F, bty="n", xlab="", ylab="")
> > axis(4, at=pretty(range(z)))
> > mtext(z, 4, 3)
>         ^
> mtext("z", 4, 3) was a copying error from me, but all the rest works.
>

by now it works, thanks a lot!

> > 2. Don MacQueen
> > x <- 1:5
> > y1 <- 1:5
> > y2 <- 25:21
> > plot(x,y1)
> > par(new=T)
> > plot(x,y2,yaxt='n',col='blue')
> > axis(4,y2)
>
> That does plot the box, x axis and x label twice, which matters on some
> devices, e.g. a plotter.

true, but it was given as an example of "double" y-labels; maybe I just
misunderstood the intention.

> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brostaux.y at fsagx.ac.be  Wed Jun 19 09:04:50 2002
From: brostaux.y at fsagx.ac.be (Yves Brostaux)
Date: Wed, 19 Jun 2002 09:04:50 +0200
Subject: [R] drawing ellipses
Message-ID: <5.1.0.14.0.20020619084516.00ac9bd0@fusamail.fsagx.ac.be>

Hello again,

First I want to thank all the people who answered my question about line 
width in graphs. I promise I will learn the 'par' help page by heart for 
the end of the month !

I now want to trace some ellipses to emphasize groups of data. I found how 
to trace circles with 'symbols()', but no ellipse. I'm planning on writing 
my own function based on 'polygon()' and the ellipse equation. Does anybody 
already have done similar work or have another solution ?

Thanks again,


-- 
Ir. Yves Brostaux - Statistics and Computer Science Dpt.
Gembloux Agricultural University
8, avenue de la Facult? B-5030 Gembloux (Belgium)
T?l : +32 (0)81 62 24 69
E-mail : brostaux.y at fsagx.ac.be
Web : http://www.fsagx.ac.be/si/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 19 09:45:01 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 19 Jun 2002 09:45:01 +0200
Subject: [R] drawing ellipses
In-Reply-To: <5.1.0.14.0.20020619084516.00ac9bd0@fusamail.fsagx.ac.be>
References: <5.1.0.14.0.20020619084516.00ac9bd0@fusamail.fsagx.ac.be>
Message-ID: <15632.13949.536258.17024@gargle.gargle.HOWL>

>>>>> "Yves" == Yves Brostaux <brostaux.y at fsagx.ac.be> writes:

    Yves> Hello again,

    Yves> First I want to thank all the people who answered my
    Yves> question about line width in graphs. I promise I will
    Yves> learn the 'par' help page by heart for the end of the
    Yves> month !


    Yves> I now want to trace some ellipses to emphasize groups
    Yves> of data. I found how to trace circles with
    Yves> 'symbols()', but no ellipse. I'm planning on writing
    Yves> my own function based on 'polygon()' and the ellipse
    Yves> equation. Does anybody already have done similar work
    Yves> or have another solution ?

yes. several.

1) The ellipse  package  does some.
2) The cluster  package (which is recommended, hence should be
		        available everywhere)
    has an ellipsoidhull() function and a plot method for its results
    (in the 2D case, i.e when the ellipsoid is an ellipse)

3) A `client' (researcher in another department here) needed
   something  based on geometric parameters rather than
   covariance matrices.
   So I ended up doing the following, I hope it helps.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-------------------------------------------------------------------

## Martin's Solution : radially equispaced ("radial gleichm?ssig") :

ellipsePoints <- function(a,b, alpha = 0, loc = c(0,0), n = 201)
{
    ## Purpose: ellipse points,radially equispaced, given geometric par.s
    ## -------------------------------------------------------------------------
    ## Arguments: a, b : length of half axes in (x,y) direction
    ##            alpha: angle (in degrees) for rotation
    ##            loc  : center of ellipse
    ##            n    : number of points
    ## -------------------------------------------------------------------------
    ## Author: Martin Maechler, Date: 19 Mar 2002, 16:26

    B <- min(a,b)
    A <- max(a,b)
    ## B <= A
    d2 <- (A-B)*(A+B)                   #= A^2 - B^2
    phi <- 2*pi*seq(0,1, len = n)
    sp <- sin(phi)
    cp <- cos(phi)
    r <- a*b / sqrt(B^2 + d2 * sp^2)
    xy <- r * cbind(cp, sp)
    ## xy are the ellipse points for alpha = 0 and loc = (0,0)
    al <- alpha * pi/180
    ca <- cos(al)
    sa <- sin(al)
    xy %*% rbind(c(ca, sa), c(-sa, ca)) + cbind(rep(loc[1],n),
                                                rep(loc[2],n))
}

## Example:

ep <- ellipsePoints(2,5)
str(ep)
plot(ep, type="n",asp=1) ; polygon(ep, col = 2)

## Movie : rotating ellipse  :
nTurns <- 4 # #{full 360 deg turns}
for(al in 1:(nTurns*360)) {
    ep <- ellipsePoints(3,6, alpha=al, loc = c(5,2))
    plot(ep,type="l",xlim=c(-1,11),ylim=c(-4,8),
         asp=1, axes = FALSE, xlab="", ylab="")
}

## Movie : rotating _filled_ ellipse  :
for(al in 1:180) {
    ep <- ellipsePoints(3,6, alpha=al, loc = c(5,2))
    plot(ep,type="n",xlim=c(-1,11),ylim=c(-4,8),
         asp=1, axes = FALSE, xlab="", ylab="")
    polygon(ep,col=2,border=3,lwd=2.5)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiaz at cnio.es  Wed Jun 19 10:42:45 2002
From: rdiaz at cnio.es (Ramon Diaz)
Date: Wed, 19 Jun 2002 10:42:45 +0200
Subject: [R] best selection of covariates (for each individual)
Message-ID: <200206191042.46008.rdiaz@cnio.es>

Dear All,

This is not strictly R related (though I would implement the solution in R; 
besides, being this list so helpful for these kinds of stats questions...).

I got a "strange" request from a colleage. He has a bunch (approx. 25000)  
subjects that belong to one of 12 possible classes. In addition, there are 8 
covariates (factors) that can take as values either "absence" or "presence". 
Some of the subjects only have one covariate with value "presence" (the other 
covariates being absent), but many of the subjects have more than one 
covariate with a value of "presence". 
My colleague wants each subject with more than one "presence" covariate to 
have one, and only one, covariate be "presence" (of course, the final 
"present" covariate would belong to the original "present" covars. for that 
subject): in other words, each subject would be characterized by only one 
covariate. This "selection of covariates for each subject" (or eliminating 
covariates for each subject) has to be done in a way that maximizes the 
correct classification of class based on the presence/absence of covariates.

(His reason for doing this is that this simplifies further analyses and 
decission-making; I tried to explain that with 12 classes and 8 covariates 
where each subject only has one "presence" covar we would not be able to do a 
great job predicting class memebership, but he insists the 
one-covar-per-subject is essential).


I thought about a couple of approaches (see details below) but none seem very 
satisfactory. This issue keeps reminding me of things such as the LASSO and 
other shrinkage methods, but the twist here is that it is not the beta for a  
covariate, but different covars in each subject which are made zero.

Is there any obvious solution I am missing? Any suggestions?

Thanks,

************
Approach 1: the final statistic to judge predictive quality is Goodman & 
Kruskal's tau (or concentration coefficient) for IxJ contingency tables. 
Since for every subject with m "present" covars, there are m possible 
contingency tables, and there are many subjects with multiple present covars, 
there is an astronomical number of possible contingency tables, and we can 
not do an exahustively search (nor do I see an obvious way to simplify the 
problem from tau's definition, because we have 12 categories to predict based 
on the 8 covars). I would use a genetic algorithm to try and find a decent 
solution.


Approach 2: set this up as a multinomial loglinear model. Fit it (using 
multinom) to the original data set. Do not make the covars as factors but 
code present as 1 and absent as 0. 
For each subject with several (say, k) "present" covars, predict the class 
membership (predict.multinom) for each of the k covar. vectors obtained after 
subtracting, say, 0.1, from each of the covariates (except 1) with value 
non-zero. Set as the new covariate vector for that subject the one that gives 
the highest predicted probability to the right class.
Repeat the model fitting and modify covariates as in the last step 
(re-escaling at the end, so that the max. covar. value is always one for each 
subject) until there is only one non-zero covar. (If there ever is!).
This seems to me like a very clumsy approach, and I am not sure if there is 
any reason for it to arrive at a reasonable solution; I thought it could be a 
way of smoothly moving, within subject, each covariate (except one) "along 
its path of least resistance" to a value of zero.

(Note: in both approaches further simplification can be achieved by applying 
the same transformation or mutation ---with ga--- to all subjects that belong 
to the same class and have the same initial configuration of covariates. This 
way I also forcefully prevent identical subjects to end up with different 
final configurations).

-- 
Ram?n D?az-Uriarte
Unidad de Bioinform?tica
Centro Nacional de Investigaciones Oncol?gicas (CNIO)
Melchor Fern?ndez Almagro, 3
28029 Madrid (Spain)
http://bioinfo.cnio.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 11:25:53 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 10:25:53 +0100 (BST)
Subject: [R] model.tables
In-Reply-To: <5.1.0.14.2.20020618150507.06536da0@po.muohio.edu>
Message-ID: <Pine.LNX.4.31.0206191022220.20354-100000@gannet.stats>

On Tue, 18 Jun 2002, Martin Henry H. Stevens wrote:

> Windows 2000 R 1.4
>
> I have a split-split plot design that I am analyzing with model <- aov(). I
> tried using model.tables(model) and it replied
> "Error: subscript out of bounds." I have monkeyed with it a little, but am
> wondering if this is indicative of something in particular.

Of a long-obselete version of R, I suspect.

If it persists with R 1.5.1, send a bug report.

WHY is it that so many R users get confused about the version number?
There is no such thing as `R 1.4', and perhaps you could tell us where
you got that idea from so we can stem the confusion it causes.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jun 19 11:32:55 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 19 Jun 2002 11:32:55 +0200 (CEST)
Subject: [R] best selection of covariates (for each individual)
In-Reply-To: <200206191042.46008.rdiaz@cnio.es>
Message-ID: <XFMail.20020619113255.plummer@iarc.fr>

On 19-Jun-2002 Ramon Diaz wrote:
> Dear All,
> 
> This is not strictly R related (though I would implement the solution in R; 
> besides, being this list so helpful for these kinds of stats questions...).
> 
> I got a "strange" request from a colleage. He has a bunch (approx. 25000)  
> subjects that belong to one of 12 possible classes. In addition, there are 8 
> covariates (factors) that can take as values either "absence" or "presence". 
> Some of the subjects only have one covariate with value "presence" (the other
> covariates being absent), but many of the subjects have more than one 
> covariate with a value of "presence". 
> My colleague wants each subject with more than one "presence" covariate to 
> have one, and only one, covariate be "presence" (of course, the final 
> "present" covariate would belong to the original "present" covars. for that 
> subject): in other words, each subject would be characterized by only one 
> covariate. This "selection of covariates for each subject" (or eliminating 
> covariates for each subject) has to be done in a way that maximizes the 
> correct classification of class based on the presence/absence of covariates.
> 
> (His reason for doing this is that this simplifies further analyses and 
> decission-making; I tried to explain that with 12 classes and 8 covariates 
> where each subject only has one "presence" covar we would not be able to do a
> great job predicting class memebership, but he insists the 
> one-covar-per-subject is essential).

Well don't help him any more then! One of the perils of being an applied
statistician is that one's colleagues may (and often do) suggest ad hoc
solutions that make the analysis more complicated.  In this case, your
colleague seems to have turned what appears to be a straightforward
problem into an insoluble one.  If he won't listen to reason, I don't
see why you should be obliged work around him.

I know this doesn't answer your question, but if the problem is to
get the best classification of the subjects into 12 classes (where the
class of each subject is known) based on 8 binary covariates, then it
can be handled easily by a classification tree.  Trying to persuade your
colleague to use this approach will be more fruitful than working around
his prejudices, especially in the long run.

I'm feeling grumpy today (as you can probably tell). My apologies.

Martyn

> 
> I thought about a couple of approaches (see details below) but none seem very
> satisfactory. This issue keeps reminding me of things such as the LASSO and 
> other shrinkage methods, but the twist here is that it is not the beta for a 
> covariate, but different covars in each subject which are made zero.
> 
> Is there any obvious solution I am missing? Any suggestions?
> 
> Thanks,
> 
> ************
> Approach 1: the final statistic to judge predictive quality is Goodman & 
> Kruskal's tau (or concentration coefficient) for IxJ contingency tables. 
> Since for every subject with m "present" covars, there are m possible 
> contingency tables, and there are many subjects with multiple present covars,
> there is an astronomical number of possible contingency tables, and we can 
> not do an exahustively search (nor do I see an obvious way to simplify the 
> problem from tau's definition, because we have 12 categories to predict based
> on the 8 covars). I would use a genetic algorithm to try and find a decent 
> solution.
> 
> 
> Approach 2: set this up as a multinomial loglinear model. Fit it (using 
> multinom) to the original data set. Do not make the covars as factors but 
> code present as 1 and absent as 0. 
> For each subject with several (say, k) "present" covars, predict the class 
> membership (predict.multinom) for each of the k covar. vectors obtained after
> subtracting, say, 0.1, from each of the covariates (except 1) with value 
> non-zero. Set as the new covariate vector for that subject the one that gives
> the highest predicted probability to the right class.
> Repeat the model fitting and modify covariates as in the last step 
> (re-escaling at the end, so that the max. covar. value is always one for each
> subject) until there is only one non-zero covar. (If there ever is!).
> This seems to me like a very clumsy approach, and I am not sure if there is 
> any reason for it to arrive at a reasonable solution; I thought it could be a
> way of smoothly moving, within subject, each covariate (except one) "along 
> its path of least resistance" to a value of zero.
> 
> (Note: in both approaches further simplification can be achieved by applying 
> the same transformation or mutation ---with ga--- to all subjects that belong
> to the same class and have the same initial configuration of covariates. This
> way I also forcefully prevent identical subjects to end up with different 
> final configurations).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Wed Jun 19 11:35:16 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Wed, 19 Jun 2002 13:35:16 +0400 (MSD)
Subject: [R] simple plot with magnified cex.axis & cex.label
Message-ID: <Pine.LNX.4.33.0206191323120.7531-100000@pcf004.jinr.ru>

Hello!

I've tried to make subj.

Here is code:

  x <- 1:5
  y <- 1:5

  par  ( cex.lab  = 3.6,
         cex.axis = 3.6 )

  plot ( x, y, ylab = "Any title" )


I've got ugly picture, where

  1) x-axis labels & x-axis itself overlapped,
  2) y-axis title does not not fit within bounding box.

The _same_ effect in "postscript" device.

Is this a bug?  Could I solve this problem any way _now_, if
I _have_ to plot graph with strongly magnified axis labels?


Thanks,

Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 11:55:49 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 10:55:49 +0100 (BST)
Subject: [R] simple plot with magnified cex.axis & cex.label
In-Reply-To: <Pine.LNX.4.33.0206191323120.7531-100000@pcf004.jinr.ru>
Message-ID: <Pine.LNX.4.31.0206191049240.29215-100000@gannet.stats>

On Wed, 19 Jun 2002, Timur Elzhov wrote:

> Hello!
>
> I've tried to make subj.
>
> Here is code:
>
>   x <- 1:5
>   y <- 1:5
>
>   par  ( cex.lab  = 3.6,
>          cex.axis = 3.6 )
>
>   plot ( x, y, ylab = "Any title" )
>
>
> I've got ugly picture, where
>
>   1) x-axis labels & x-axis itself overlapped,
>   2) y-axis title does not not fit within bounding box.
>
> The _same_ effect in "postscript" device.
>
> Is this a bug?  Could I solve this problem any way _now_, if
> I _have_ to plot graph with strongly magnified axis labels?

No, it's a mis-understanding.  Try setting par(mex): perhaps to less than
3.6.

BTW, this is essentially Exercise 3.2 in Venables & Ripley (1999) and that
has on-line answers which suggest a different way to do this and further
tweaks you might do.

For postscript, just set a small width & height and expand the figure
afterwards.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Wed Jun 19 12:43:46 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 19 Jun 2002 06:43:46 -0400
Subject: [R] model.tables
In-Reply-To: <Pine.LNX.4.31.0206191022220.20354-100000@gannet.stats>
References: <5.1.0.14.2.20020618150507.06536da0@po.muohio.edu>
Message-ID: <5.1.0.14.2.20020619062510.02afb698@po.muohio.edu>

Thank you for the help - swift, as usual.
Regarding the obsolescence of my version of R (v. 1.4.1  (2002-01-30) ), I 
will get the valid version immediately. My sincere apologies.  Also, I was 
using Windows 2000 v. 5.00.2195 with Service Pack 1.

Regarding the incorrect version number, I apologize again.. I suppose my 
sloppiness (and the mistakes of others) stems from believing that the 
family of versions 1.4.X share sufficient ancestral and derived traits to 
provide sufficient communication and evaluation. The omission is not unlike 
the omission of column numbers in datafr[1:10,], but, of course, even there 
we include the space holder "," . Mea culpa goes without saying.

In future communications I will endeavor to provide complete information.

Many thanks again for responding so quickly.



At 05:25 AM 6/19/2002, ripley at stats.ox.ac.uk wrote:
>On Tue, 18 Jun 2002, Martin Henry H. Stevens wrote:
>
> > Windows 2000 R 1.4
> >
> > I have a split-split plot design that I am analyzing with model <- aov(). I
> > tried using model.tables(model) and it replied
> > "Error: subscript out of bounds." I have monkeyed with it a little, but am
> > wondering if this is indicative of something in particular.
>
>Of a long-obselete version of R, I suspect.
>
>If it persists with R 1.5.1, send a bug report.
>
>WHY is it that so many R users get confused about the version number?
>There is no such thing as `R 1.4', and perhaps you could tell us where
>you got that idea from so we can stem the confusion it causes.
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Wed Jun 19 14:43:13 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Wed, 19 Jun 2002 14:43:13 +0200 (CEST)
Subject: [R] New light on help.start() search applet problem
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC294@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.44.0206191425570.5671-100000@macchinetta.miadimora>

On Mandrake systems the help.start() search applet doesn't work for any 
combination of mozilla and java I've tried; it also doesn't work with any 
other browser except for netscape 4.7 series. Something analogous, 
I'm told, happens with Debian but not with RedHat ...

I've discovered something interesting today: if the address URL in 
mozilla is:

file:///home/user/.R/doc/html/search/SearchEngine.html

the search applet doesn't get inited, but if I change this to:

file:///usr/lib/R/doc/html/search/SearchEngine.html

it works perfectly.

So it looks as if this is a problem mozilla has with .R symlinks ?
Or with permissions ? I propend for symlinks as I've noticed another 
strange thing: if, as a normal user, I open a graphical console and su to 
root, then start R as root, help.start() will work with netscape 4.78, but 
not with mozilla ... mozilla will not start, complaining about 
/root/.R/.../index.html not existing.

.R directory and subdirectories have 755 permissions, the relevant 
symlinks 777, the permissions of files in /usr/bin/R/doc/html/search 
are 644. Changing these doesn't seem to affect things.

Hoping this may help someone find the solution.

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Wed Jun 19 15:29:30 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Wed, 19 Jun 2002 15:29:30 +0200
Subject: [R] problem with boot
Message-ID: <001101c21795$5a786200$1100a8c0@ico.scs.es>

Hello R-users,

I'm using the boot's library. I have two questions:

1. I execute for example

                    data<-rnorm(100)
                    boot(data,mean,500)

and I obtain 500 equal bootstrap samples of data. Why?


2. I need to calculate the bootstrap confidence intervals for a statistic,
but when I use the function boot.ci it shows the error message:

       Error in if (!all(rk > 1 & rk < R)) warning("Extreme Order Statistics
used as Endpoi...

What is happening?

Thank you,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Wed Jun 19 15:48:18 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Wed, 19 Jun 2002 09:48:18 -0400
Subject: [R] superscripts in xyplot labels
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BAEF@s2-edm-r1.nrn.nrcan.gc.ca>

R-helpers;

I tried to get a superscripted 3 in the following xyplot example but failed:

>data(whiteside)

>xyplot(Gas ~ Temp | Insul, whiteside, panel =
  function(x, y, ...) {
    panel.xyplot(x, y, ...)
    panel.lmline(x, y, ...)
  }, xlab = "Average external temperature (deg. C)",
  ylab = paste(paste("Gas consumption  (1000", expression(ft^3),")"), aspect
= "xy",
  strip = function(...) strip.default(..., style = 1))

It produces a label  "Gas consumption (1000 ft^3)" for y axis insted of a
superscipted 3 as in plot(). Any workaround to produce superscripts or
subscripts for labels in xyplot()?

TIA,

Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 16:00:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 15:00:31 +0100 (BST)
Subject: [R] problem with boot
In-Reply-To: <001101c21795$5a786200$1100a8c0@ico.scs.es>
Message-ID: <Pine.LNX.4.31.0206191453410.7310-100000@gannet.stats>

On Wed, 19 Jun 2002, Juan Ramon Gonzalez wrote:

> Hello R-users,
>
> I'm using the boot's library. I have two questions:
>
> 1. I execute for example
>
>                     data<-rnorm(100)
>                     boot(data,mean,500)
>
> and I obtain 500 equal bootstrap samples of data. Why?

Because you haven't read the help page or studied the examples. See the
description of `statistic' in ?boot.

Please consult the Davison & Hinkley book for more details.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mail at weinert.biz  Wed Jun 19 16:48:56 2002
From: mail at weinert.biz (Frithjof Weinert)
Date: Wed, 19 Jun 2002 16:48:56 +0200
Subject: [R] solve() doesn`t work
Message-ID: <B9366678.46F0%mail@weinert.biz>

Hi,

I tried to inverse a matrix but it doesn`t work. I hope somebody can help
me. This is what I did.

> kurse <- read.table("kurse.txt", header=T, dec=",")
> x <- cbind(1,kurse[,-c(1)])
> y <- kurse$index
> t(x) %*% x
Error in t(x) %*% x : requires numeric matrix/vector arguments
> x <- as.matrix(x)
> xtxi <- solve(t(x) %*% x)
Error in solve.default(t(x) %*% x) : singular matrix `a' in solve

My data looks like this:

    index   bmw    mru   rwe    vow    kar    sie   bas
1  159.70 74.18 338.21 89.03 110.30 141.23 178.53 67.97
2  160.76 73.46 343.66 89.38 110.30 142.66 180.45 68.30
3  162.45 74.18 349.12 91.54 108.54 146.22 183.12 68.85
4  162.18 72.74 349.12 92.20 106.43 144.80 181.75 68.52
5  161.64 72.98 340.93 91.43 101.87 144.08 181.41 68.30
6  160.81 72.74 338.21 91.43 103.62 141.23 181.07 68.08
7  161.34 72.51 338.21 91.69 104.11 144.44 182.44 67.97
8  161.61 72.74 351.84 91.84 103.27 142.66 182.78 67.97
9  162.05 72.84 354.57 92.20 102.43 142.66 184.29 67.81
10 161.77 71.79 365.48 91.95 102.57 142.66 184.50 67.42
11 160.97 71.60 381.85 91.23 100.25 141.23 183.81 67.48
12 160.40 71.55 370.94 90.67  98.99 143.37 182.30 67.26
13 160.36 71.69 370.94 90.92  98.63 144.08 181.62 67.31
14 160.20 71.79 370.94 90.92  98.56 143.37 181.27 67.15
15 159.78 70.83 362.75 91.02  97.65 143.02 180.86 67.15
16 159.89 70.83 365.48 91.02  98.14 143.37 180.93 66.76
17 159.15 69.87 365.48 90.15  96.81 141.95 178.73 66.38
18 157.29 67.00 362.75 89.49  95.33 139.81 176.54 65.66
19 157.18 69.39 365.48 89.90  95.26 138.38 176.33 65.33
20 157.58 69.39 381.85 89.90  95.96 136.81 176.47 65.39
21 157.66 70.35 365.48 89.74  96.25 136.60 175.92 65.55
22 158.15 70.35 365.48 89.90  96.67 136.24 176.47 65.77
23 157.45 68.92 365.48 89.69  96.39 135.53 175.10 65.39
24 158.12 69.63 365.48 90.15  97.65 136.24 175.24 65.44
25 159.08 69.39 366.03 90.82  99.06 136.81 175.65 65.77
26 158.25 70.11 366.57 89.74  97.65 136.24 172.70 65.39
27 157.35 69.54 366.57 89.49  96.95 135.60 171.40 65.00
28 157.43 69.39 366.57 89.49  96.95 136.24 171.88 65.06
29 158.62 70.59 365.48 89.74  98.35 135.53 172.56 65.83
30 158.59 71.79 367.66 89.49  98.70 134.24 171.67 65.55
31 158.01 72.27 379.12 90.41  98.35 131.96 170.44 65.22
32 157.57 71.31 373.66 90.15  98.35 130.89 168.04 65.06

Thank you very much.

cu
Frithjof

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Wed Jun 19 17:10:57 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Wed, 19 Jun 2002 10:10:57 -0500
Subject: [R] drawing ellipses
References: <5.1.0.14.0.20020619084516.00ac9bd0@fusamail.fsagx.ac.be>
Message-ID: <3D109F01.6C77D258@pdf.com>

Yves,

> I now want to trace some ellipses to emphasize groups of data. I found how
> to trace circles with 'symbols()', but no ellipse. I'm planning on writing
> my own function based on 'polygon()' and the ellipse equation. Does anybody
> already have done similar work or have another solution ?
> 

I believe the ellipse library will do this for you. Try

> install.packages("ellipse")

Otherwise, I have a function which will do something similar. I wrote it
ages ago but it still works fine:

# begin ellipse
ellipse <- function(x,y,
                    width,height=width,theta=2*pi,
                    npoints=100,plot=T) {
  # x = x coordinate of center
  # y = y coordinate of center
  # width = length of major axis
  # height = length of minor axis
  # theta = rotation
  # npoints = number of points to send to polygon
  # plot = if TRUE, add to current device
  #      = if FALSE, return list of components
  a <- width/2
  b <- height/2
  xcoord <- seq(-a,a,length=npoints)
  ycoord.neg <- sqrt(b^2*(1-(xcoord)^2/a^2))
  ycoord.pos <- -sqrt(b^2*(1-(xcoord)^2/a^2))
  xx <- c(xcoord,xcoord[npoints:1])
  yy <- c(ycoord.neg,ycoord.pos)
  x.theta <- xx*cos(2*pi-theta)+yy*sin(2*pi-theta)+x
  y.theta <- yy*cos(2*pi-theta)-xx*sin(2*pi-theta)+y
  if(plot)
    invisible(polygon(x.theta,y.theta,density=0))
  else
    invisible(list(coords=data.frame(x=x.theta,y=y.theta),
                   center=c(x,y),
                   theta=theta))
}
# end ellipse

Regards,
Sundar

-- 
Sundar Dorai-Raj, Ph.D.     
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Jun 19 17:07:18 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 19 Jun 2002 17:07:18 +0200
Subject: [R] solve() doesn`t work
References: <B9366678.46F0%mail@weinert.biz>
Message-ID: <3D109E26.97D4E073@ci.tuwien.ac.at>

Frithjof Weinert wrote:
> 
> Hi,
> 
> I tried to inverse a matrix but it doesn`t work. I hope somebody can help
> me. This is what I did.
> 
> > kurse <- read.table("kurse.txt", header=T, dec=",")
> > x <- cbind(1,kurse[,-c(1)])
> > y <- kurse$index
> > t(x) %*% x
> Error in t(x) %*% x : requires numeric matrix/vector arguments
> > x <- as.matrix(x)
> > xtxi <- solve(t(x) %*% x)
> Error in solve.default(t(x) %*% x) : singular matrix `a' in solve

>From help(solve)

     tol: the tolerance for detecting linear dependencies in the
          columns of `a'.

By default tol = 1e-7, which is in my experience a little bit low. Just
try:

R> xtxi <- solve(crossprod(x), tol = 1e-10)

That should work
Z

> My data looks like this:
> 
>     index   bmw    mru   rwe    vow    kar    sie   bas
> 1  159.70 74.18 338.21 89.03 110.30 141.23 178.53 67.97
> 2  160.76 73.46 343.66 89.38 110.30 142.66 180.45 68.30
> 3  162.45 74.18 349.12 91.54 108.54 146.22 183.12 68.85
> 4  162.18 72.74 349.12 92.20 106.43 144.80 181.75 68.52
> 5  161.64 72.98 340.93 91.43 101.87 144.08 181.41 68.30
> 6  160.81 72.74 338.21 91.43 103.62 141.23 181.07 68.08
> 7  161.34 72.51 338.21 91.69 104.11 144.44 182.44 67.97
> 8  161.61 72.74 351.84 91.84 103.27 142.66 182.78 67.97
> 9  162.05 72.84 354.57 92.20 102.43 142.66 184.29 67.81
> 10 161.77 71.79 365.48 91.95 102.57 142.66 184.50 67.42
> 11 160.97 71.60 381.85 91.23 100.25 141.23 183.81 67.48
> 12 160.40 71.55 370.94 90.67  98.99 143.37 182.30 67.26
> 13 160.36 71.69 370.94 90.92  98.63 144.08 181.62 67.31
> 14 160.20 71.79 370.94 90.92  98.56 143.37 181.27 67.15
> 15 159.78 70.83 362.75 91.02  97.65 143.02 180.86 67.15
> 16 159.89 70.83 365.48 91.02  98.14 143.37 180.93 66.76
> 17 159.15 69.87 365.48 90.15  96.81 141.95 178.73 66.38
> 18 157.29 67.00 362.75 89.49  95.33 139.81 176.54 65.66
> 19 157.18 69.39 365.48 89.90  95.26 138.38 176.33 65.33
> 20 157.58 69.39 381.85 89.90  95.96 136.81 176.47 65.39
> 21 157.66 70.35 365.48 89.74  96.25 136.60 175.92 65.55
> 22 158.15 70.35 365.48 89.90  96.67 136.24 176.47 65.77
> 23 157.45 68.92 365.48 89.69  96.39 135.53 175.10 65.39
> 24 158.12 69.63 365.48 90.15  97.65 136.24 175.24 65.44
> 25 159.08 69.39 366.03 90.82  99.06 136.81 175.65 65.77
> 26 158.25 70.11 366.57 89.74  97.65 136.24 172.70 65.39
> 27 157.35 69.54 366.57 89.49  96.95 135.60 171.40 65.00
> 28 157.43 69.39 366.57 89.49  96.95 136.24 171.88 65.06
> 29 158.62 70.59 365.48 89.74  98.35 135.53 172.56 65.83
> 30 158.59 71.79 367.66 89.49  98.70 134.24 171.67 65.55
> 31 158.01 72.27 379.12 90.41  98.35 131.96 170.44 65.22
> 32 157.57 71.31 373.66 90.15  98.35 130.89 168.04 65.06
> 
> Thank you very much.
> 
> cu
> Frithjof
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 19 17:25:50 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 19 Jun 2002 17:25:50 +0200
Subject: [R] plot.hclust with lots of objects
In-Reply-To: <3D0CAA8B.C8F6FAF6@Genetik.Uni-Bielefeld.DE>
References: <3D0BAD83.BD58ADF2@Genetik.Uni-Bielefeld.DE>
	<20020616093338.GA1345930@genome.cbs.dtu.dk>
	<3D0CAA8B.C8F6FAF6@Genetik.Uni-Bielefeld.DE>
Message-ID: <15632.41598.23556.623163@gargle.gargle.HOWL>

>>>>> "Michael" == Michael Dondrup <Michael.Dondrup at Genetik.Uni-Bielefeld.DE> writes:

    Michael> I found that converting my hclust object to a
    Michael> dendrogram and cutting it with cut.dendrogram, does
    Michael> almost what I want, showing only a branch of the
    Michael> tree.  But now my labels in the plot are gone,
    Michael> although they appear in the dendrogram object
    Michael> itself, when printed.  How can I bring them back?

plot.dendrogram() is still not as good as it should be.
R-devel has an improved version -- which still isn't good
enough.

But for hierarchical clustering results (hclust being one kind;
    there are agnes(), diana() and others in the "cluster" package), 
you shouldn't need the detour through dendrograms at all.

cutree() is the function to cut hclust objects; returning
grouping vectors only

but the `maptree' package has a  prune.clust function (andmore).

Hoping this helps, yours,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


    Michael> Laurent Gautier wrote:
    >>  On Sat, Jun 15, 2002 at 11:11:31PM +0200, Michael
    >> Dondrup wrote: > Dear all,
    >> >
    >> > the default plotting method for hclust trees looks just
    >> fine for few > objects like in the > example dataset. But
    >> when it comes to many objects (some 1000 - I'm > trying
    >> to visualize clustered microarray data) it renders a
    >> tree, that > one cannot inspect, because of overlapping
    >> text and lines. My question > is, is there a way or a
    >> plotting parameter for plotting a tree which is > wide
    >> enough to have all leaves separated and readable labels
    >> even for > that many objects?  > This would produce a
    >> very big image, so I think scrolling is essential.
    >> >
    >> > I believe the answer is simple, but I'm unable to
    >> figure it out.
    >> >
    >> > Thanks in advance > Michael
    >> 
    >> Dear Michael,
    >> 
    >> For the labels, you may want to try use smaller
    >> characters to dsiplay them.  This can be done using the
    >> incantation: par(cex=0.5) # for example
    >> 
    >> For the overlapping lines, well I think there is not much
    >> to do except magnifying. Did you try to save your plot in
    >> a format like postscript or pdf then display it with a
    >> wiever that let you zoom in ?
    >> 
    >> Ultimately, you can try to prune your tree and inspect
    >> specific branches (I send you to R help files in this
    >> case)
    >> 
    >> Hopin' it helps,
    >> 
    >> Laurent
    >> 
    >> --------------------------------------------------------------
    >> Laurent Gautier CBS, Building 208, DTU PhD. Student
    >> DK-2800 Lyngby,Denmark tel: +45 45 25 24 85
    >> http://www.cbs.dtu.dk/laurent
    >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    >> r-help mailing list -- Read
    >> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send
    >> "info", "help", or "[un]subscribe" (in the "body", not
    >> the subject !)  To: r-help-request at stat.math.ethz.ch
    >> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    Michael> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    Michael> r-help mailing list -- Read
    Michael> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    Michael> Send "info", "help", or "[un]subscribe" (in the
    Michael> "body", not the subject !)  To:
    Michael> r-help-request at stat.math.ethz.ch
    Michael> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 17:25:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 16:25:52 +0100 (BST)
Subject: [R] solve() doesn`t work
In-Reply-To: <3D109E26.97D4E073@ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.31.0206191620170.11299-100000@gannet.stats>

On Wed, 19 Jun 2002, Achim Zeileis wrote:

> Frithjof Weinert wrote:
> >
> > I tried to inverse a matrix but it doesn`t work. I hope somebody can help
> > me. This is what I did.
> >
> > > kurse <- read.table("kurse.txt", header=T, dec=",")
> > > x <- cbind(1,kurse[,-c(1)])
> > > y <- kurse$index
> > > t(x) %*% x
> > Error in t(x) %*% x : requires numeric matrix/vector arguments
> > > x <- as.matrix(x)
> > > xtxi <- solve(t(x) %*% x)
> > Error in solve.default(t(x) %*% x) : singular matrix `a' in solve
>
> From help(solve)
>
>      tol: the tolerance for detecting linear dependencies in the
>           columns of `a'.
>
> By default tol = 1e-7, which is in my experience a little bit low. Just
> try:
>
> R> xtxi <- solve(crossprod(x), tol = 1e-10)
>
> That should work.

However, solve on X'X is a poor way to invert a cross-product, introducing
enough problems that I would not want to reduce the tolerance.

Taking the SVD of X and constructing (X'X)^{-1} from it is perhaps the
best way, but see also chol2inv (and, hint, the Choleski decomposition of
X'X can be found directly from X).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 19 17:26:44 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2002 17:26:44 +0200
Subject: [R] solve() doesn`t work
In-Reply-To: <B9366678.46F0%mail@weinert.biz>
References: <B9366678.46F0%mail@weinert.biz>
Message-ID: <x2k7ov1e8b.fsf@biostat.ku.dk>

Frithjof Weinert <mail at weinert.biz> writes:

> Hi,
> 
> I tried to inverse a matrix but it doesn`t work. I hope somebody can help
> me. This is what I did.
> 
> > kurse <- read.table("kurse.txt", header=T, dec=",")
> > x <- cbind(1,kurse[,-c(1)])
> > y <- kurse$index
> > t(x) %*% x
> Error in t(x) %*% x : requires numeric matrix/vector arguments
> > x <- as.matrix(x)
> > xtxi <- solve(t(x) %*% x)
> Error in solve.default(t(x) %*% x) : singular matrix `a' in solve

It means that your matrix is near-singular.

> eigen(t(x)%*%x)
$values
[1] 6.718414e+06 4.166548e+03 3.170856e+02 3.815431e+01 3.324083e+01
[6] 1.370728e+01 1.365406e+00 1.212465e-03

$vectors
     ...

Notice the factor of 5e9 between the largest and the smallest
eigenvalue. In fact, you can work around it like this (but the
precision will suffer): 

> solve(t(x)%*%x,tol=1e-10)
           [,1]         [,2]          [,3]          [,4]          [,5]
    824.4508915  3.314864820 -0.4763403196 -4.0699637637  0.1052127229
bmw   3.3148648  0.082230914 -0.0025540139 -0.0106190685 -0.0080733381
mru  -0.4763403 -0.002554014  0.0006542950 -0.0002472137  0.0008589666
rwe  -4.0699638 -0.010619068 -0.0002472137  0.1052825026  0.0162370133
vow   0.1052127 -0.008073338  0.0008589666  0.0162370133  0.0157643276
kar   0.6565594  0.017020959  0.0002213754  0.0144204919  0.0063406071
sie   2.1469705  0.012543437 -0.0013758730 -0.0114628060  0.0019913048
bas -15.0682942 -0.166379673  0.0085819595 -0.0932488883 -0.0619568748
             [,6]         [,7]         [,8]
     0.6565593592  2.146970504 -15.06829414
bmw  0.0170209590  0.012543437  -0.16637967
mru  0.0002213754 -0.001375873   0.00858196
rwe  0.0144204919 -0.011462806  -0.09324889
vow  0.0063406071  0.001991305  -0.06195687
kar  0.0264386956 -0.008382337  -0.09138646
sie -0.0083823370  0.019680899  -0.06057200
bas -0.0913864614 -0.060571996   0.93040568

Notice that the problem is partly self-inflicted. You seem to be
trying to fit a linear model and lm(), which is designed for the
purpose, has no trouble with these data:


> summary(lm(index~.,data=dd))$cov.unscaled
            (Intercept)          bmw           mru           rwe           vow
(Intercept) 824.4508901  3.314864816 -0.4763403187 -4.0699637528  0.1052127251
bmw           3.3148648  0.082230914 -0.0025540139 -0.0106190685 -0.0080733381
mru          -0.4763403 -0.002554014  0.0006542950 -0.0002472137  0.0008589666
rwe          -4.0699638 -0.010619068 -0.0002472137  0.1052825026  0.0162370133
vow           0.1052127 -0.008073338  0.0008589666  0.0162370133  0.0157643276
kar           0.6565594  0.017020959  0.0002213754  0.0144204919  0.0063406071
sie           2.1469705  0.012543437 -0.0013758730 -0.0114628060  0.0019913049
bas         -15.0682941 -0.166379673  0.0085819595 -0.0932488885 -0.0619568748
                      kar          sie          bas
(Intercept)  0.6565593623  2.146970499 -15.06829413
bmw          0.0170209590  0.012543437  -0.16637967
mru          0.0002213754 -0.001375873   0.00858196
rwe          0.0144204919 -0.011462806  -0.09324889
vow          0.0063406071  0.001991305  -0.06195687
kar          0.0264386956 -0.008382337  -0.09138646
sie         -0.0083823370  0.019680899  -0.06057200
bas         -0.0913864614 -0.060571996   0.93040568

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 19 17:52:41 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 19 Jun 2002 17:52:41 +0200
Subject: [R] superscripts in xyplot labels
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BAEF@s2-edm-r1.nrn.nrcan.gc.ca>
References: <F0E0B899CB43D5118D220002A55113CF21BAEF@s2-edm-r1.nrn.nrcan.gc.ca>
Message-ID: <15632.43209.204578.436504@gargle.gargle.HOWL>


>>>>> "YangR" == Yang, Richard <dyang at nrcan.gc.ca> writes:

    YangR> R-helpers;
    YangR> I tried to get a superscripted 3 in the following
    YangR> xyplot example but failed:

    >> data(whiteside)

    >> xyplot(Gas ~ Temp | Insul, whiteside, panel =
    YangR> function(x, y, ...) {
    YangR> panel.xyplot(x, y, ...)
    YangR> panel.lmline(x, y, ...)
    YangR> }, xlab = "Average external temperature (deg. C)",
    YangR> ylab = paste(paste("Gas consumption  (1000", expression(ft^3),")"), aspect
    YangR> = "xy",
    YangR> strip = function(...) strip.default(..., style = 1))


    YangR> It produces a label "Gas consumption (1000 ft^3)" for
    YangR> y axis insted of a superscipted 3 as in plot(). Any
    YangR> workaround to produce superscripts or subscripts for
    YangR> labels in xyplot()?


no easy workaround.
-- This is becoming a FAQ (hence CC to its maintainer) --

NO, currently you can't use any mathematical annotation as in
help(plotmath) when using ``grid'' graphics.  
Lattice is relying on grid entirely. 

    YangR> TIA,

    YangR> Richard

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Wed Jun 19 17:00:10 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Wed, 19 Jun 2002 16:00:10 +0100
Subject: [R] problem with boot
References: <001101c21795$5a786200$1100a8c0@ico.scs.es>
Message-ID: <3D109C7A.EC63A62@cirad.fr>

See the "statistics" argument in help file for boot. I guess what you
want is

Data <- rnorm(100)
foo <- function(d, i) mean(d[i])
boot(data = Data, statistic = foo, R = 500, stype = "i")

The second problem comes from a diseased distribution for the stat of
interest. It might be cured with an appropriate syntax for the boot
call.

Best,

Renaud

Juan Ramon Gonzalez wrote:
> 
> Hello R-users,
> 
> I'm using the boot's library. I have two questions:
> 
> 1. I execute for example
> 
>                     data<-rnorm(100)
>                     boot(data,mean,500)
> 
> and I obtain 500 equal bootstrap samples of data. Why?
> 
> 2. I need to calculate the bootstrap confidence intervals for a statistic,
> but when I use the function boot.ci it shows the error message:
> 
>        Error in if (!all(rk > 1 & rk < R)) warning("Extreme Order Statistics
> used as Endpoi...
> 
> What is happening?
> 
> Thank you,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Jun 19 18:01:02 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 19 Jun 2002 12:01:02 -0400
Subject: [R] ODESOLVE
In-Reply-To: <00c001c21378$45f6ca40$d2135882@inam>
References: <00c001c21378$45f6ca40$d2135882@inam>
Message-ID: <1024502462.2363.13.camel@peregrine>

I'm not really sure what you are asking. 'lsoda' passes the current time
step to your function. Can you use that to calculate the time-dependent
parameter? E.g.:

function(t, y, p) list(exp(-p[1]*t)*sin(p[2]*t)*y) ???

Tim




On Fri, 2002-06-14 at 03:51, In-Sun Nam wrote:
> Dear All,
> 
>  I am experiencing a difficulty with the "lsoda" function in ODESOLVE
>  library; my differentiation function contains a covariate changes with
> time,
>  and I don't know how to incorporate that without using loops and so on.
> Does
>  anyone know how to do it?
> 
>  Your help will be very much appreciated!!
> 
>  In-Sun
> 
>  In-Sun Nam
>  School of Pharmacy and Pharmaceutical Sciences
>  University of Manchester
>  Oxford Road
>  Manchester
>  M13 9PL
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Wed Jun 19 19:32:02 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 19 Jun 2002 13:32:02 -0400
Subject: [R] split plot design with missing plots
Message-ID: <5.1.0.14.2.20020619104221.032baa90@po.muohio.edu>

Windows 2000 . 5.00.2195 with Service Pack 1.
R 1.5.1
Output from my split-split plot aov "alerted" me that I have done something 
wrong. I designed an experiment with all combinations of all levels of each 
treatment, but lost a little data (3 out of 192 plots). With the following 
data, I run the following model:

 > collim[c(1:6,187:192),c(1,3:6,9)]
              plot Litter Fert Seed  S density
X192.4  192      R   16    C  7      12
X192.3  192      C   16    C 14      26
X192.2  192      C   16    A  8       3
X192.1  192      R   16    A  9      12
X191.4  191      R   32    A  3       0
X191.3  191      C   32    A 10      11
.....
X146.2  146      R   32    C  7       7
X146.1  146      C   32    C  7       3
X145.4  145      R    8    C  9      21
X145.3  145      C    8    C  6      15
X145.2  145      R    8    A  9      10
X145.1  145      C    8    A  8      14

fm1 <- (log(S) ~ Fert*Seed*Litter*density+ Error(plot/Seed)

where Fertilizer is applied to entire plots, Seed is applied at two 
densities to nested subplots, and dead plant Litter is removed or not from 
sub-subplots within each Seed subplot. Variables plot, Fert, Seed, and 
Litter are factors, density and S (number of species present) are continuous.
The missing plots: 2 that received 16 g fertilizer, no seeds, and litter 
intact, 1 plot received no fertilizer, seeds added, and litter intact.

The output, below, tests All factors over Error: Within. I don't 
understand. I expected Fert to be tested over plot residuals, Seed and 
Seed:Fert tested over plot:Seed residuals, and all else tested over Within 
residuals.

Can any body help?

summary(fmc)

Error: plot
      Df  Sum Sq Mean Sq
Fert  1 0.98913 0.98913

Error: plot:Seed
      Df  Sum Sq Mean Sq
Fert  1 0.02016 0.02016

Error: Within
                           Df  Sum Sq Mean Sq F value    Pr(>F)
Fert                       3 16.0269  5.3423 59.2169 < 2.2e-16 ***
Seed                       1  0.0052  0.0052  0.0579   0.81009
Litter                     1  0.0834  0.0834  0.9242   0.33787
density                    1  5.0877  5.0877 56.3953  4.38e-12 ***
Fert:Seed                  3  0.0203  0.0068  0.0750   0.97336
Fert:Litter                3  0.0984  0.0328  0.3637   0.77930
Fert:density               3  0.7831  0.2610  2.8933   0.03719 *
Seed:Litter                1  0.0132  0.0132  0.1468   0.70217
Seed:density               1  0.0343  0.0343  0.3805   0.53826
Litter:density             1  0.2995  0.2995  3.3198   0.07038 .
Fert:Seed:Litter           3  0.0431  0.0144  0.1592   0.92361
Fert:Seed:density          3  0.9942  0.3314  3.6734   0.01359 *
Fert:Litter:density        3  0.3865  0.1288  1.4280   0.23674
Seed:Litter:density        1  0.0040  0.0040  0.0440   0.83410
Fert:Seed:Litter:density   3  0.1477  0.0492  0.5457   0.65175
Residuals                155 13.9834  0.0902
---


Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Wed Jun 19 20:23:37 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Wed, 19 Jun 2002 14:23:37 -0400
Subject: [R] Error in inherits(x, "data.frame") : subscript out of bounds
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C493@EPOCH.arqule.com>

Hi, I have this little problem with "dist" function
and I cannot find anything matching in mail archives

> o
     [,1] [,2] [,3]
[1,]    1    0    3
[2,]    2    0    6
[3,]    3    0    9
> dist(o)
Error in inherits(x, "data.frame") : subscript out of bounds

If you have any insights, which might illuminate R-neophyte...
I would highly appreciate it.

Truly yours,

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 20:40:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 19:40:39 +0100 (BST)
Subject: [R] Error in inherits(x, "data.frame") : subscript out of bounds
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C493@EPOCH.arqule.com>
Message-ID: <Pine.LNX.4.31.0206191937450.11567-100000@gannet.stats>

On Wed, 19 Jun 2002, Czerminski, Ryszard wrote:

> Hi, I have this little problem with "dist" function
> and I cannot find anything matching in mail archives
>
> > o
>      [,1] [,2] [,3]
> [1,]    1    0    3
> [2,]    2    0    6
> [3,]    3    0    9
> > dist(o)
> Error in inherits(x, "data.frame") : subscript out of bounds
>
> If you have any insights, which might illuminate R-neophyte...
> I would highly appreciate it.

What version of R and dist is this?  The version in the current R
(package mva) does not include that line, and it works:

> o <- matrix(c(1:3, rep(0,3), 3*(1:3)),3)
> o
     [,1] [,2] [,3]
[1,]    1    0    3
[2,]    2    0    6
[3,]    3    0    9
> dist(o)
         1        2
2 3.162278
3 6.324555 3.162278

Try

> conflicts("dist")


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Wed Jun 19 22:26:11 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Wed, 19 Jun 2002 15:26:11 -0500
Subject: [R] unexpected results
Message-ID: <NDBBLLOPOEMNNHONCHBFEEBECPAA.niels.waller@vanderbilt.edu>



Is R behaving correctly in this example? I do not understand why column 2
has any 2s in it (and why column 3 has any 1s)


> x<-matrix(0,10,3)
> x[seq(1,10,by=2),2:3]<-c(1,2)
> x
      [,1] [,2] [,3]
 [1,]    0    1    2
 [2,]    0    0    0
 [3,]    0    2    1
 [4,]    0    0    0
 [5,]    0    1    2
 [6,]    0    0    0
 [7,]    0    2    1
 [8,]    0    0    0
 [9,]    0    1    2
[10,]    0    0    0

Thank you for any and all help.

(I am using 1.5.0 on Windows NT)

Niels Waller

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 19 22:35:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 19 Jun 2002 21:35:56 +0100 (BST)
Subject: [R] unexpected results
In-Reply-To: <NDBBLLOPOEMNNHONCHBFEEBECPAA.niels.waller@vanderbilt.edu>
Message-ID: <Pine.LNX.4.31.0206192133320.12195-100000@gannet.stats>

On Wed, 19 Jun 2002, Niels Waller wrote:

>
>
> Is R behaving correctly in this example? I do not understand why column 2
> has any 2s in it (and why column 3 has any 1s)

Why do you think it should not have?  Remember the re-cycling rule.
You've filled elements *in row-major-order* alternately as 1 and 2.

> > x<-matrix(0,10,3)
> > x[seq(1,10,by=2),2:3]<-c(1,2)
> > x
>       [,1] [,2] [,3]
>  [1,]    0    1    2
>  [2,]    0    0    0
>  [3,]    0    2    1
>  [4,]    0    0    0
>  [5,]    0    1    2
>  [6,]    0    0    0
>  [7,]    0    2    1
>  [8,]    0    0    0
>  [9,]    0    1    2
> [10,]    0    0    0

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 19 22:45:15 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2002 22:45:15 +0200
Subject: [R] split plot design with missing plots
In-Reply-To: <5.1.0.14.2.20020619104221.032baa90@po.muohio.edu>
References: <5.1.0.14.2.20020619104221.032baa90@po.muohio.edu>
Message-ID: <x2sn3jq9pg.fsf@biostat.ku.dk>

"Martin Henry H. Stevens" <HStevens at muohio.edu> writes:

> The output, below, tests All factors over Error: Within. I don't
> understand. I expected Fert to be tested over plot residuals, Seed and
> Seed:Fert tested over plot:Seed residuals, and all else tested over
> Within residuals.
> 
> Can any body help?
> 
> summary(fmc)
> 
> Error: plot
>       Df  Sum Sq Mean Sq
> Fert  1 0.98913 0.98913
> 
> Error: plot:Seed
>       Df  Sum Sq Mean Sq
> Fert  1 0.02016 0.02016

1DF total for these two strata makes me suspect that you put in "plot"
as a numerical variable rather than as a factor.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 19 22:51:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2002 22:51:45 +0200
Subject: [R] unexpected results
In-Reply-To: <NDBBLLOPOEMNNHONCHBFEEBECPAA.niels.waller@vanderbilt.edu>
References: <NDBBLLOPOEMNNHONCHBFEEBECPAA.niels.waller@vanderbilt.edu>
Message-ID: <x2ofe7q9em.fsf@biostat.ku.dk>

"Niels Waller" <niels.waller at vanderbilt.edu> writes:

> Is R behaving correctly in this example? I do not understand why column 2
> has any 2s in it (and why column 3 has any 1s)
> 
> 
> > x<-matrix(0,10,3)
> > x[seq(1,10,by=2),2:3]<-c(1,2)
> > x
>       [,1] [,2] [,3]
>  [1,]    0    1    2
>  [2,]    0    0    0
>  [3,]    0    2    1
>  [4,]    0    0    0
>  [5,]    0    1    2
>  [6,]    0    0    0
>  [7,]    0    2    1
>  [8,]    0    0    0
>  [9,]    0    1    2
> [10,]    0    0    0
> 
> Thank you for any and all help.
> 
> (I am using 1.5.0 on Windows NT)

c(1,2) is recycled and the 5x2 submatrix is filled by column.

You might try

x[seq(1,10,by=2),2:3]<-matrix(c(1,2),5,2,byrow=T)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Jun 19 22:58:40 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 19 Jun 2002 16:58:40 -0400
Subject: [R] unexpected results
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639EA40@uswpmx11.merck.com>

Yes, that's correct behavior. You are assigning to an extracted submatrix,
and what you're assigning is a vector of length two. This gets "recycled" to
the correct length, which is ten, and fills the submatrix *column-by-column*
(column-major order). 

You probably wanted to iterate x[i,2:3] <- c(1,2) over i. You could use
"rep" to construct the vector like

x[seq(1,10,by=2), 2:3] <- rep(c(1,2),c(5,5))

to get this effect.

Reid Huntsinger



-----Original Message-----
From: Niels Waller [mailto:niels.waller at vanderbilt.edu]
Sent: Wednesday, June 19, 2002 4:26 PM
To: R-Help
Subject: [R] unexpected results




Is R behaving correctly in this example? I do not understand why column 2
has any 2s in it (and why column 3 has any 1s)


> x<-matrix(0,10,3)
> x[seq(1,10,by=2),2:3]<-c(1,2)
> x
      [,1] [,2] [,3]
 [1,]    0    1    2
 [2,]    0    0    0
 [3,]    0    2    1
 [4,]    0    0    0
 [5,]    0    1    2
 [6,]    0    0    0
 [7,]    0    2    1
 [8,]    0    0    0
 [9,]    0    1    2
[10,]    0    0    0

Thank you for any and all help.

(I am using 1.5.0 on Windows NT)

Niels Waller

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Wed Jun 19 22:58:30 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 19 Jun 2002 16:58:30 -0400
Subject: [R] split plot design with missing plots
In-Reply-To: <x2sn3jq9pg.fsf@biostat.ku.dk>
References: <5.1.0.14.2.20020619104221.032baa90@po.muohio.edu>
 <5.1.0.14.2.20020619104221.032baa90@po.muohio.edu>
Message-ID: <5.1.0.14.2.20020619165107.051fd008@po.muohio.edu>

Dear Peter,
I did double check whether all factors had "factor" as their class. "plot" 
is a factor, with 48 levels. I used Professor Ripley's suggestion to go 
with lme() which can handle unbalanced designs. It had no problem (that I 
was aware of!). Its format and methods, however, are less familiar to me, 
and so I was resisting it. Now, as a consequence, however, I am relearning 
(again!) the relations among variance components, Mean squares, etc. I am 
still not clear, though, how lme() tests fixed effects. I'll get it yet.
Thank you for your feed back.

At 04:45 PM 6/19/2002, Peter Dalgaard BSA wrote:
>"Martin Henry H. Stevens" <HStevens at muohio.edu> writes:
>
> > The output, below, tests All factors over Error: Within. I don't
> > understand. I expected Fert to be tested over plot residuals, Seed and
> > Seed:Fert tested over plot:Seed residuals, and all else tested over
> > Within residuals.
> >
> > Can any body help?
> >
> > summary(fmc)
> >
> > Error: plot
> >       Df  Sum Sq Mean Sq
> > Fert  1 0.98913 0.98913
> >
> > Error: plot:Seed
> >       Df  Sum Sq Mean Sq
> > Fert  1 0.02016 0.02016
>
>1DF total for these two strata makes me suspect that you put in "plot"
>as a numerical variable rather than as a factor.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Wed Jun 19 23:13:06 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Wed, 19 Jun 2002 17:13:06 -0400
Subject: [R] Publication presentation of lme ANOVA tables
Message-ID: <5.1.0.14.2.20020619170054.00ab92d8@po.muohio.edu>

So, ... would anyone be so kind as to provide a citation or two from 
non-statistical (e.g., biological) peer-reviewed journals that present 
results from lme analyses? The extended output from summary() provides 
variance components and single degree of freedom parameter tests, and the 
anova() output provides F tests and Ndf and Ddf. I am used to seeing and 
providing output similar to aov() with SS, MS, F, and p-values. I could 
back calculate those, but perhaps someone has a more informed opinion ?
Thanks for the thoughts.

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Jun 19 23:33:07 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 20 Jun 2002 09:33:07 +1200
Subject: [R] superscripts in xyplot labels
References: <F0E0B899CB43D5118D220002A55113CF21BAEF@s2-edm-r1.nrn.nrcan.gc.ca> <15632.43209.204578.436504@gargle.gargle.HOWL>
Message-ID: <3D10F893.90D86950@stat.auckland.ac.nz>

Hi


>     YangR> R-helpers;
>     YangR> I tried to get a superscripted 3 in the following
>     YangR> xyplot example but failed:
> 
>     >> data(whiteside)
> 
>     >> xyplot(Gas ~ Temp | Insul, whiteside, panel =
>     YangR> function(x, y, ...) {
>     YangR> panel.xyplot(x, y, ...)
>     YangR> panel.lmline(x, y, ...)
>     YangR> }, xlab = "Average external temperature (deg. C)",
>     YangR> ylab = paste(paste("Gas consumption  (1000", expression(ft^3),")"), aspect
>     YangR> = "xy",
>     YangR> strip = function(...) strip.default(..., style = 1))
> 
>     YangR> It produces a label "Gas consumption (1000 ft^3)" for
>     YangR> y axis insted of a superscipted 3 as in plot(). Any
>     YangR> workaround to produce superscripts or subscripts for
>     YangR> labels in xyplot()?
> 
> no easy workaround.
> -- This is becoming a FAQ (hence CC to its maintainer) --
> 
> NO, currently you can't use any mathematical annotation as in
> help(plotmath) when using ``grid'' graphics.
> Lattice is relying on grid entirely.


You might want to hold off on that FAQ ... I have added mathematical
annotation to what will be the next version of grid.  There will have to
be a couple of minor changes to lattice to get this to propagate, but
this sort of thing should hopefully work for grid and lattice with R 1.6
(later this year).

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From susanabarbosa at novalis.fc.up.pt  Thu Jun 20 01:17:18 2002
From: susanabarbosa at novalis.fc.up.pt (Susana Barbosa)
Date: Thu, 20 Jun 2002 00:17:18 +0100
Subject: [R] function plot.double (different data on the same plot)
Message-ID: <200206192317.g5JNHVw04965@cafirewall.fc.up.pt>

Hi,

I would like to plot on the same graph vertical lines from points of two 
different data sets to the zero axis 
(x1,y1) and (x2,y2) (y1>0, y2<0)

I tried to use function plot.double from Anne York,

plot.double(x1, y1, x2, y2, type1="h", type2="h")

but I obtain two different zero axis, and I wanted 
to plot vertical lines from data points to the same zero axis

Any suggestions?

Thank you!


Susana Barbosa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Jun 20 08:19:46 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 20 Jun 2002 08:19:46 +0200 (CEST)
Subject: [R] function plot.double (different data on the same plot)
In-Reply-To: <200206192317.g5JNHVw04965@cafirewall.fc.up.pt>
Message-ID: <Pine.LNX.4.44.0206200815480.10690-100000@localhost.localdomain>

Hi,

On Thu, 20 Jun 2002, Susana Barbosa wrote:

  |Hi,
  |
  |I would like to plot on the same graph vertical lines from points of two 
  |different data sets to the zero axis 
  |(x1,y1) and (x2,y2) (y1>0, y2<0)

I am not quite sure what you want, but the example below gives a picture
which perhaps is good enough.  Note that lines() can be used not only for
lines:

x <- rnorm(10)
y <- rnorm(10)
plot(1:10,x, type="h", ylim=range(c(x,y))) # plot x against 1:10
lines(1:10+0.1,y, type="h", col=2)         # plot y shifted a bit right

Perhaps it helps

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Thu Jun 20 16:43:05 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Thu, 20 Jun 2002 07:43:05 -0700
Subject: [R] scatterplot3d
Message-ID: <CLECJBOEBGOMOKJHJNDAKEEPCGAA.marwan.khawaja@aub.edu.lb>

Hello,
I am trying to replicate example 4 in the package 'scatterplot3d':

s3d.dat_data.frame(cols=as.vector(col(my.model4)),
  rows=as.vector(row(my.model4)),
  value=as.vector(my.model4))
scatterplot3d(s3d.dat, type="h", lwd=5, pch=" ",
  x.ticklabs=colnames(my.model4), y.ticklabs=rownames(my.model4),
	main="Conditional probabilities, Model 3")

Nice! but,
1) Not clear how to attach a vector of alphanumeric labels for rows and
columns -- instead of the rownames.
2) What is the 'pch' option for producing vertical lines (for the values)
exactly the size of the 'boxes'?
TIA Marwan
Oops!
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.0
year     2002
month    04
day      29
language R


--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Thu Jun 20 08:54:46 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 20 Jun 2002 08:54:46 +0200
Subject: [R] Psychometric curves, two altnerative force choice,  glm, and budbworms
Message-ID: <JLEPLGAANFCEAEDCAGJNEEGDCCAA.dieter.menne@menne-biomed.de>

Dear R-Listers,

to measure the psychometric curve of pitch discrimination, one sequentially
presents two tones of slightly different pitch to an observer (animal will
do), and asks "which is higher". The pschometric curve is the fraction of
correct responses plotted against the pitch difference. It passes through
50% (pure guessing) at zero and normally approaches 100% at large
difference.
To compare two psychometric curves, the conventional way is to fit two
logistic curves and compare the 75% correct "threshold" values (whatever
threshold means).

I want to handle the case similar to the budworm example in MASS
(glm(SF~sex*ldose, family=binomial)). My basic idea is that the 2AFC forced
choice psychometric curve, normally only defined for positive stimuls
differences, could conceptually be continued to negative values by mirroring
the values at (0,0.5) to get the whole binomial/logistic curve. As far as I
can see, the result would be correct if we divide the counts for a stimulus
difference equally between positive and negative branch, with correct/wrong
inverted for the negatives. The solution is not clean if we have uneven
counts.

Is this a valid approach? Alternatively, could I force a
glm/binomial/logistic fit to go through 0/0.5?

Dieter Menne

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 09:07:33 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 09:07:33 +0200
Subject: [R] Psychometric curves, two altnerative force choice,  glm, and budbworms
In-Reply-To: <JLEPLGAANFCEAEDCAGJNEEGDCCAA.dieter.menne@menne-biomed.de>
References: <JLEPLGAANFCEAEDCAGJNEEGDCCAA.dieter.menne@menne-biomed.de>
Message-ID: <x2u1nypgwa.fsf@biostat.ku.dk>

"Dieter Menne" <dieter.menne at menne-biomed.de> writes:

> Dear R-Listers,
> 
> to measure the psychometric curve of pitch discrimination, one sequentially
> presents two tones of slightly different pitch to an observer (animal will
> do), and asks "which is higher". The pschometric curve is the fraction of
> correct responses plotted against the pitch difference. It passes through
> 50% (pure guessing) at zero and normally approaches 100% at large
> difference.
> To compare two psychometric curves, the conventional way is to fit two
> logistic curves and compare the 75% correct "threshold" values (whatever
> threshold means).
> 
> I want to handle the case similar to the budworm example in MASS
> (glm(SF~sex*ldose, family=binomial)). My basic idea is that the 2AFC forced
> choice psychometric curve, normally only defined for positive stimuls
> differences, could conceptually be continued to negative values by mirroring
> the values at (0,0.5) to get the whole binomial/logistic curve. As far as I
> can see, the result would be correct if we divide the counts for a stimulus
> difference equally between positive and negative branch, with correct/wrong
> inverted for the negatives. The solution is not clean if we have uneven
> counts.
> 
> Is this a valid approach? Alternatively, could I force a
> glm/binomial/logistic fit to go through 0/0.5?

Sure, just remove the intercept and change the response definition
from "correct" to "chooses A" (i.e. "correct" if delta is positive,
"wrong" if it is negative). glm(chooseA~delta-1, binomial)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Thu Jun 20 09:09:23 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Thu, 20 Jun 2002 09:09:23 +0200
Subject: [R] function returning all arguments of current call
Message-ID: <20020620090923.A1208@s1x.zimnet.ch>

Is there a FUNCTION_RETURNING_ALL_ARGS()
which would enable to define functions with
different default values?

f1 <- function( x=1, y=1, ... ) paste( 'x =', x, 'y =', y )
f2 <- function( x=2, y=2, ... ) f2( FUN_RETURNING_ARGS() )

f1( 10 )
#	[1] "x = 10, y = 1"
f2( 10 )
#	[1] "x = 10, y = 2"

Wolfram
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 20 09:29:16 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Jun 2002 09:29:16 +0200
Subject: [R] scatterplot3d
References: <CLECJBOEBGOMOKJHJNDAKEEPCGAA.marwan.khawaja@aub.edu.lb>
Message-ID: <3D11844C.E22730FE@statistik.uni-dortmund.de>

Marwan Khawaja wrote:
> 
> Hello,
> I am trying to replicate example 4 in the package 'scatterplot3d':
> 
> s3d.dat_data.frame(cols=as.vector(col(my.model4)),
>   rows=as.vector(row(my.model4)),
>   value=as.vector(my.model4))
> scatterplot3d(s3d.dat, type="h", lwd=5, pch=" ",
>   x.ticklabs=colnames(my.model4), y.ticklabs=rownames(my.model4),
>         main="Conditional probabilities, Model 3")
> 
> Nice! but,
> 1) Not clear how to attach a vector of alphanumeric labels for rows and
> columns -- instead of the rownames.

What about 
 scatterplot3d(...., x.ticklabs = c("label 11", "label 12", ....), 
   y.ticklabs = c("label 21", label 22", ....))

See ?scatterplot3d.


> 2) What is the 'pch' option for producing vertical lines (for the values)
> exactly the size of the 'boxes'?

Well, 'pch' specifies the symbol/character for plotting points (as
mentioned in ?scatterplot3d), not anything regarding lines.
To obtain vertical lines, use   type = "h"  as  common for R graphics
(mentioned in ?scatterplot3d as well).
The width of the lines can be specified with the argument lwd (cf.
?par).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Thu Jun 20 17:56:59 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Thu, 20 Jun 2002 08:56:59 -0700
Subject: [R] scatterplot3d
In-Reply-To: <3D11844C.E22730FE@statistik.uni-dortmund.de>
Message-ID: <CLECJBOEBGOMOKJHJNDAMEFDCGAA.marwan.khawaja@aub.edu.lb>

Dear Uwe,
Many thanks for your help -- it works fine!
Best Marwan

--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> Sent: 20 June, 2002 00:29
> To: Marwan Khawaja
> Cc: R
> Subject: Re: [R] scatterplot3d
>
>
> Marwan Khawaja wrote:
> >
> > Hello,
> > I am trying to replicate example 4 in the package 'scatterplot3d':
> >
> > s3d.dat_data.frame(cols=as.vector(col(my.model4)),
> >   rows=as.vector(row(my.model4)),
> >   value=as.vector(my.model4))
> > scatterplot3d(s3d.dat, type="h", lwd=5, pch=" ",
> >   x.ticklabs=colnames(my.model4), y.ticklabs=rownames(my.model4),
> >         main="Conditional probabilities, Model 3")
> >
> > Nice! but,
> > 1) Not clear how to attach a vector of alphanumeric labels for rows and
> > columns -- instead of the rownames.
>
> What about
>  scatterplot3d(...., x.ticklabs = c("label 11", "label 12", ....),
>    y.ticklabs = c("label 21", label 22", ....))
>
> See ?scatterplot3d.
>
>
> > 2) What is the 'pch' option for producing vertical lines (for the values)
> > exactly the size of the 'boxes'?
>
> Well, 'pch' specifies the symbol/character for plotting points (as
> mentioned in ?scatterplot3d), not anything regarding lines.
> To obtain vertical lines, use   type = "h"  as  common for R graphics
> (mentioned in ?scatterplot3d as well).
> The width of the lines can be specified with the argument lwd (cf.
> ?par).
>
> Uwe Ligges
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 20 10:11:12 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Jun 2002 10:11:12 +0200
Subject: [R] function returning all arguments of current call
References: <20020620090923.A1208@s1x.zimnet.ch>
Message-ID: <3D118E20.EEBC3C5@statistik.uni-dortmund.de>



Wolfram Fischer wrote:
> 
> Is there a FUNCTION_RETURNING_ALL_ARGS()
> which would enable to define functions with
> different default values?
> 
> f1 <- function( x=1, y=1, ... ) paste( 'x =', x, 'y =', y )
> f2 <- function( x=2, y=2, ... ) f2( FUN_RETURNING_ARGS() )
> 
> f1( 10 )
> #       [1] "x = 10, y = 1"
> f2( 10 )
> #       [1] "x = 10, y = 2"

formals() should do the trick:

  f2 <- function( x=2, y=2, ... )  formals()
  f2()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 10:34:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 10:34:39 +0200
Subject: [R] function returning all arguments of current call
In-Reply-To: <3D118E20.EEBC3C5@statistik.uni-dortmund.de>
References: <20020620090923.A1208@s1x.zimnet.ch>
	<3D118E20.EEBC3C5@statistik.uni-dortmund.de>
Message-ID: <x2n0tqs600.fsf@biostat.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Wolfram Fischer wrote:
> > 
> > Is there a FUNCTION_RETURNING_ALL_ARGS()
> > which would enable to define functions with
> > different default values?
> > 
> > f1 <- function( x=1, y=1, ... ) paste( 'x =', x, 'y =', y )
> > f2 <- function( x=2, y=2, ... ) f2( FUN_RETURNING_ARGS() )
> > 
> > f1( 10 )
> > #       [1] "x = 10, y = 1"
> > f2( 10 )
> > #       [1] "x = 10, y = 2"
> 
> formals() should do the trick:
> 
>   f2 <- function( x=2, y=2, ... )  formals()
>   f2()

More likely WF is looking for 

f2 <- function( x=2, y=2, ... ) eval.parent(substitute(f1(x,y,...)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jun 20 11:13:20 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 20 Jun 2002 11:13:20 +0200
Subject: [R] tabulate means & NA
Message-ID: <3D119CB0.8050006@metrinomics.de>

Hi,
i have some problems to get means, but the data have got
NA's  which should not be replaced or delete !

tapply(data,var,mean)     # makes me problem,because when one value is 
NA mean is NA,too.

Another attempt is this, because the summary  does what i want , but
is not subsetable to summary[4]  if i use tapply,table  and the the 
function below gives me
again all means as NA ?

   xmean  <- function (var) {
       summary(var)[4]  }
 apply(data,2,xmean)      

Thanks for any suggestion & regards,Christian




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 11:15:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 11:15:56 +0200
Subject: [R] tabulate means & NA
In-Reply-To: <3D119CB0.8050006@metrinomics.de>
References: <3D119CB0.8050006@metrinomics.de>
Message-ID: <x2it4es437.fsf@biostat.ku.dk>

Christian Schulz <c.schulz at metrinomics.de> writes:

> Hi,
> i have some problems to get means, but the data have got
> NA's  which should not be replaced or delete !
> 
> tapply(data,var,mean)     # makes me problem,because when one value is
> NA mean is NA,too.
> 
> Another attempt is this, because the summary  does what i want , but
> is not subsetable to summary[4]  if i use tapply,table  and the the
> function below gives me
> again all means as NA ?
> 
>    xmean  <- function (var) {
>        summary(var)[4]  }
>  apply(data,2,xmean)      Thanks for any suggestion & regards,Christian

tapply(data,var,mean, na.rm=TRUE)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hajjiouafi at yahoo.fr  Thu Jun 20 11:20:56 2002
From: hajjiouafi at yahoo.fr (=?iso-8859-1?q?HAJJI=20OUAFI=20SAAD?=)
Date: Thu, 20 Jun 2002 11:20:56 +0200 (CEST)
Subject: [R] Problem with installing packages
Message-ID: <20020620092056.51182.qmail@web14203.mail.yahoo.com>

I am trying to install the package "tseries", I put
the Folder "tseries" in the folder "Library". When
entring "library(tseries)" in "R", I have got this
warning message "the package contains no R Code".
When trying to use the functions in the package
"tseries", there is an error message "couldn't find
function "garch"".
Could you help me please?
Thank you very much

___________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jun 20 11:33:06 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 20 Jun 2002 11:33:06 +0200
Subject: [R] tabulate means & NA
References: <3D119CB0.8050006@metrinomics.de> <x2it4es437.fsf@biostat.ku.dk>
Message-ID: <3D11A152.5000207@metrinomics.de>

... uups embarrassingly
Thanks !
C.


Peter Dalgaard BSA wrote:

>Christian Schulz <c.schulz at metrinomics.de> writes:
>
>>Hi,
>>i have some problems to get means, but the data have got
>>NA's  which should not be replaced or delete !
>>
>>tapply(data,var,mean)     # makes me problem,because when one value is
>>NA mean is NA,too.
>>
>>Another attempt is this, because the summary  does what i want , but
>>is not subsetable to summary[4]  if i use tapply,table  and the the
>>function below gives me
>>again all means as NA ?
>>
>>   xmean  <- function (var) {
>>       summary(var)[4]  }
>> apply(data,2,xmean)      Thanks for any suggestion & regards,Christian
>>
>
>tapply(data,var,mean, na.rm=TRUE)
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020620/21fc1379/attachment.html

From kuonen at statoo.com  Thu Jun 20 11:32:30 2002
From: kuonen at statoo.com (Dr. Diego Kuonen)
Date: Thu, 20 Jun 2002 11:32:30 +0200
Subject: [R] tabulate means & NA
References: <3D119CB0.8050006@metrinomics.de>
Message-ID: <3D11A12E.13122F6D@statoo.com>

Christian Schulz wrote:
> 
> i have some problems to get means, but the data have got
> NA's  which should not be replaced or delete !
> 
> tapply(data,var,mean)     # makes me problem,because when one value is
> NA mean is NA,too.

You may want to have a look at the mean help page (?mean) and
add `na.rm = TRUE' to the `tapply' call, i.e.

  tapply(data, var, mean, na.rm=TRUE)

You might also want to read the help pages for `na.action', `na.omit', 
`na.fail' on how methods can be tuned to deal with missing values.

Greets,

  Diego Kuonen


-- 
Dr. ?s sc. Diego Kuonen        CEO & Applied Statistician 
Statoo Consulting, PO Box 107, 1015 Lausanne, Switzerland
+ Have you ever been Statooed?   http://www.statoo.info +
+ Free Statooed newsletters:    http://lists.statoo.com +
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 11:52:04 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jun 2002 10:52:04 +0100 (BST)
Subject: [R] Problem with installing packages
In-Reply-To: <20020620092056.51182.qmail@web14203.mail.yahoo.com>
Message-ID: <Pine.GSO.4.44.0206201048260.21418-100000@auk.stats>

Since you mention `folder "Library"' whereas there is a directory `library'
but no `Library' I will assume you are on Windows.  But please don't
make us guess.

There is a section in the rw-FAQ on how to install packages, and it is very
easy from the `Packages' menu.  Please read it.

You will have to remove the sources you unpacked in rw1051\library (or
whatever) first.

On Thu, 20 Jun 2002, [iso-8859-1] HAJJI OUAFI SAAD wrote:

> I am trying to install the package "tseries", I put
> the Folder "tseries" in the folder "Library". When
> entring "library(tseries)" in "R", I have got this
> warning message "the package contains no R Code".
> When trying to use the functions in the package
> "tseries", there is an error message "couldn't find
> function "garch"".
> Could you help me please?
> Thank you very much

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hajjiouafi at yahoo.fr  Thu Jun 20 12:38:02 2002
From: hajjiouafi at yahoo.fr (=?iso-8859-1?q?HAJJI=20OUAFI=20SAAD?=)
Date: Thu, 20 Jun 2002 12:38:02 +0200 (CEST)
Subject: [R] Installing Packages
Message-ID: <20020620103802.53511.qmail@web14207.mail.yahoo.com>

Hello,
I am working with R.1.5.1 in Windows. When trying to
install packages directly from then menu 'packages', I
have got the error, 

Error in download.file(url = paste(contriburl,
"PACKAGES", sep = "/"),  : 
        cannot open URL
`http://cran.r-project.org/bin/windows/contrib/PACKAGES'

Thank you for your help

___________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.jantti at iki.fi  Thu Jun 20 13:30:52 2002
From: markus.jantti at iki.fi (Markus =?ISO-8859-1?Q?J=E4ntti?=)
Date: 20 Jun 2002 14:30:52 +0300
Subject: [R] cut with infinite values -> NA
Message-ID: <1024572652.2062.33.camel@tykki>

I am doing work on changes in establishment sizes and came across
behavior that is quite understandable and easily worked around but
a little surprising. On R 1.5.1 on Debian unstable (see below for
R.version output):

> cut.off <- c(-Inf, 0, Inf)
> x <- c(-Inf, -10, 0, 10, Inf)
> is.numeric(x)
[1] TRUE
> is.double(x)
[1] TRUE
> # but
> cut(x, cut.off, include.lowest=T)
[1] <NA>     [-Inf,0] [-Inf,0] (0,Inf]  <NA>   

The reason I am surprised is that standard logical operations on
Inf generate expected results and storage.mode(Inf) is double and
so on, so I was expecteing -Inf to belong to the lowest factor level and
Inf to belong the highest.

[For what it is worth, I am classifying establishments by their growth
across years and one that in t1 has 0 workers and >0 in the next
has infinite growth. This is easily worked around, but I am
a little curious.]

Regards,

Markus
code:

 cut.off <- c(-Inf, 0, Inf)
x <- c(-Inf, -10, 0, 10, Inf)
is.numeric(x)
is.double(x)
# but
cut(x, cut.off, include.lowest=T)

> R.version
         _                
platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R       

-- 
Markus Jantti
Statistics Finland and University of Tampere
markus.jantti at iki.fi
http://www.iki.fi/~mjantti

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Jun 20 13:55:00 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 20 Jun 2002 08:55:00 -0300
Subject: [R] understanding the output
Message-ID: <200206200855.00970.chrysopa@insecta.ufv.br>

Hi all,
I try to understand the output of the summary(model).
I make a simple model.

> summary(m1anova)

Call:
glm(formula = peso ~ gen)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-4.3114  -2.3788  -0.9167   2.1581   5.7856  

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)   4.8660     0.9808   4.961 0.000101 ***
gen2g         3.8504     1.3870   2.776 0.012459 *  
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

(Dispersion parameter for gaussian family taken to be 9.618818)

    Null deviance: 247.27  on 19  degrees of freedom
Residual deviance: 173.14  on 18  degrees of freedom
AIC: 105.92

Number of Fisher Scoring iterations: 2

I need the mean and se to make an plotbar (I know to make a plotbar)
The mean is easy to get.

> tapply(peso,gen,mean)
    1g     2g 
4.8660 8.7164 

The values is the same in estimate.
But the SE, when I try using tapply the SE is different os the SE of 
estimates. look

> tapply(peso,gen,sd)/sqrt(tapply(peso,gen,length))
       1g        2g 
0.8665567 1.0829789 

Why this difference? What SE I can use with mean???

When I use others errors that dont gaussian (poisson, binomial, etc), the mean 
is easy transformed (exp(x) for poisson) but how to use the SE? I can to use 
always the SE on the summary(model)? Or need transformation?

Thanks
Ronaldo
 
-- 
Hello, GORRY-O!!  I'm a GENIUS from HARVARD!!
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 20 12:40:51 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Jun 2002 12:40:51 +0200
Subject: [R] Problem with installing packages
References: <20020620092056.51182.qmail@web14203.mail.yahoo.com>
Message-ID: <3D11B133.80CC0E79@statistik.uni-dortmund.de>

Hajji Ouafi Saad wrote:
> 
> I am trying to install the package "tseries", I put
> the Folder "tseries" in the folder "Library". When
> entring "library(tseries)" in "R", I have got this
> warning message "the package contains no R Code".
> When trying to use the functions in the package
> "tseries", there is an error message "couldn't find
> function "garch"".
> Could you help me please?
> Thank you very much

Since you didn't tell us anything relevant I an guessing:

1 - you are on windows
2 - you downloaded a source package
3 - you unpacked it, but didn't install it

Thus you have to unpack a binary version (available at CRAN) or install
the source package.

Suggestion: It is very easy on all OSs to type in R:

  install.packages("tseries") 

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 20 13:58:17 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 20 Jun 2002 07:58:17 -0400
Subject: [R] how to skip NA columns ?
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C496@EPOCH.arqule.com>

R-helpers!

na.omit() can be used to remove rows with NA's
but how can I remove columns ? and remember, which columns have been removed
?

I guess I can do t(na.omit(t(o))) as shown below, but this probably creates
a lot of overhead and I do not know which columns
have been removed.

Yours,

R

> o  
     [,1] [,2] [,3]
[1,]    1   NA    7
[2,]    2   NA    8
[3,]    3   NA    9
> t(na.omit(t(o)))
     [,1] [,2]
[1,]    1    7
[2,]    2    8
[3,]    3    9

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 14:04:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jun 2002 13:04:08 +0100 (BST)
Subject: [R] cut with infinite values -> NA
In-Reply-To: <1024572652.2062.33.camel@tykki>
Message-ID: <Pine.GSO.4.44.0206201301560.21504-100000@auk.stats>

You are correct in your expectations.  This is a bug: the C code does not
cover the cases +/-Inf (because it uses R_FINITE to exclude them).

I'll fix it in R-patched: filing with R-bugs for the record.

On 20 Jun 2002, Markus [ISO-8859-1] Jntti wrote:

> I am doing work on changes in establishment sizes and came across
> behavior that is quite understandable and easily worked around but
> a little surprising. On R 1.5.1 on Debian unstable (see below for
> R.version output):
>
> > cut.off <- c(-Inf, 0, Inf)
> > x <- c(-Inf, -10, 0, 10, Inf)
> > is.numeric(x)
> [1] TRUE
> > is.double(x)
> [1] TRUE
> > # but
> > cut(x, cut.off, include.lowest=T)
> [1] <NA>     [-Inf,0] [-Inf,0] (0,Inf]  <NA>
>
> The reason I am surprised is that standard logical operations on
> Inf generate expected results and storage.mode(Inf) is double and
> so on, so I was expecteing -Inf to belong to the lowest factor level and
> Inf to belong the highest.
>
> [For what it is worth, I am classifying establishments by their growth
> across years and one that in t1 has 0 workers and >0 in the next
> has infinite growth. This is easily worked around, but I am
> a little curious.]
>
> Regards,
>
> Markus
> code:
>
>  cut.off <- c(-Inf, 0, Inf)
> x <- c(-Inf, -10, 0, 10, Inf)
> is.numeric(x)
> is.double(x)
> # but
> cut(x, cut.off, include.lowest=T)
>
> > R.version
>          _
> platform i386-pc-linux-gnu
> arch     i386
> os       linux-gnu
> system   i386, linux-gnu
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
> --
> Markus Jantti
> Statistics Finland and University of Tampere
> markus.jantti at iki.fi
> http://www.iki.fi/~mjantti
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 14:11:20 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 14:11:20 +0200
Subject: [R] understanding the output
In-Reply-To: <200206200855.00970.chrysopa@insecta.ufv.br>
References: <200206200855.00970.chrysopa@insecta.ufv.br>
Message-ID: <x2vg8eqhef.fsf@biostat.ku.dk>

"Ronaldo Reis Jr." <chrysopa at insecta.ufv.br> writes:


>             Estimate Std. Error t value Pr(>|t|)    
> (Intercept)   4.8660     0.9808   4.961 0.000101 ***
> gen2g         3.8504     1.3870   2.776 0.012459 *  
> ---
...
> > tapply(peso,gen,mean)
>     1g     2g 
> 4.8660 8.7164 
> 
> The values is the same in estimate.
> But the SE, when I try using tapply the SE is different os the SE of 
> estimates. look
> 
> > tapply(peso,gen,sd)/sqrt(tapply(peso,gen,length))
>        1g        2g 
> 0.8665567 1.0829789 
> 
> Why this difference? What SE I can use with mean???

(I assume you are only looking at the intercept, i.e. the mean of
group "1g"). glm() assumes a constant SD and uses the pooled SD.

Try for illustration:

sds <- tapply(peso,gen,sd)
lens <- tapply(peso,gen,len)
dfs <- lens - 1
sd.pool <- sqrt(sum(sds^2*dfs)/sum(dfs))
sd.pool/sqrt(lens)

It's a matter of taste which SE you'd put on a plot. Some people feel
that you "shouldn't mix in the other groups" in a mainly descriptive
plot, but as soon as any modelling is involved (e.g., age-adjusted
means) you pretty much have to extract SE's from the model.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 14:13:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jun 2002 13:13:50 +0100 (BST)
Subject: [R] how to skip NA columns ?
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C496@EPOCH.arqule.com>
Message-ID: <Pine.GSO.4.44.0206201311070.21534-100000@auk.stats>

Columns of what?  A data frame or a matrix?

For a data frame DF

hasna <- sapply(DF, function(x) any(is.na(x)))
DF <- DF[!hasna]

and `hasna' tells which you removed.  Use apply and matrix indexing for a
matrix.

On Thu, 20 Jun 2002, Czerminski, Ryszard wrote:

> R-helpers!
>
> na.omit() can be used to remove rows with NA's
> but how can I remove columns ? and remember, which columns have been removed
> ?
>
> I guess I can do t(na.omit(t(o))) as shown below, but this probably creates
> a lot of overhead and I do not know which columns
> have been removed.

It only works for matrices, too.

> Yours,
>
> R
>
> > o
>      [,1] [,2] [,3]
> [1,]    1   NA    7
> [2,]    2   NA    8
> [3,]    3   NA    9
> > t(na.omit(t(o)))
>      [,1] [,2]
> [1,]    1    7
> [2,]    2    8
> [3,]    3    9
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 14:28:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 14:28:50 +0200
Subject: [R] how to skip NA columns ?
In-Reply-To: <Pine.GSO.4.44.0206201311070.21534-100000@auk.stats>
References: <Pine.GSO.4.44.0206201311070.21534-100000@auk.stats>
Message-ID: <x2r8j2qgl9.fsf@biostat.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Columns of what?  A data frame or a matrix?
> 
> For a data frame DF
> 
> hasna <- sapply(DF, function(x) any(is.na(x)))
> DF <- DF[!hasna]
> 
> and `hasna' tells which you removed.  Use apply and matrix indexing for a
> matrix.

Actually, that works in either case, since is.na on a dataframe
is a matrix:

> data(airquality)
> apply(is.na(airquality),2,any)
  Ozone Solar.R    Wind    Temp   Month     Day 
   TRUE    TRUE   FALSE   FALSE   FALSE   FALSE 
> hasna <- .Last.value
> airquality[1:10,!hasna]
   Wind Temp Month Day
1   7.4   67     5   1
2   8.0   72     5   2
3  12.6   74     5   3
4  11.5   62     5   4
5  14.3   56     5   5
6  14.9   66     5   6
7   8.6   65     5   7
8  13.8   59     5   8
9  20.1   61     5   9
10  8.6   69     5  10

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Espesser at lpl.univ-aix.fr  Thu Jun 20 15:43:15 2002
From: Robert.Espesser at lpl.univ-aix.fr (Robert Espesser)
Date: Thu, 20 Jun 2002 11:43:15 -0200
Subject: [R] residuals interpretation in logit lodel
References: <20020620090923.A1208@s1x.zimnet.ch>
		<3D118E20.EEBC3C5@statistik.uni-dortmund.de> <x2n0tqs600.fsf@biostat.ku.dk>
Message-ID: <3D11DBF3.631064AB@lpl.univ-aix.fr>

I'm a bit confused with the residuals in a logit model.

a) the standardized deviance residual distribution of my model is not
close to the normal; it is rather "bimodal",
with a gap around 0.  The variables I use  do not look so strange, so
what does it mean ??

b) For what use is the "response type" residual for  a binomial model ?
Is there any sense to filtered out  the "extreme" values of the
"response type"  residual ?

(On the other hand, I'm already using   glm.diag, glm.diag.plots, 
etc...).

Thanks for help.
-- 
Robert Espesser     
Laboratoire Parole et Langage  UMR 6057, CNRS
29 Av. Robert Schuman  13621 AIX    (FRANCE)
Tel: +33 (0)4 42 95 36 26   Fax: +33 (0)4 42 59 50 96
http://www.lpl.univ-aix.fr/~espesser
mailto:Robert.Espesser at lpl.univ-aix.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 14:58:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 20 Jun 2002 13:58:41 +0100 (BST)
Subject: [R] residuals interpretation in logit lodel
In-Reply-To: <3D11DBF3.631064AB@lpl.univ-aix.fr>
Message-ID: <Pine.LNX.4.31.0206201355280.18592-100000@gannet.stats>

Residuals for binomial models are quite tricky.  See

@InCollection{Davison.Snell.91,
  author       = "A. C. Davison and E. J. Snell",
  title        = "Residuals and diagnostics",
  crossref     = "Hinkley.ZZ.91",
  chapter      = "4",
  year         = "1991",
  comment      = "Reference from MASS",
}
@Book{Hinkley.ZZ.91,
  editor       = "D. V. Hinkley and N. Reid and E. J. Snell",
  booktitle    = "Statistical Theory and Modelling. In Honour of Sir David
                  Cox, {FRS}",
  title        = "Statistical Theory and Modelling. In Honour of Sir David
                  Cox, {FRS}",
  publisher    = "Chapman \& Hall",
  address      = "London",
  year         = "1991",
  comment      = "Reference from MASS",
}


On Thu, 20 Jun 2002, Robert Espesser wrote:

> I'm a bit confused with the residuals in a logit model.
>
> a) the standardized deviance residual distribution of my model is not
> close to the normal; it is rather "bimodal",
> with a gap around 0.  The variables I use  do not look so strange, so
> what does it mean ??
>
> b) For what use is the "response type" residual for  a binomial model ?
> Is there any sense to filtered out  the "extreme" values of the
> "response type"  residual ?
>
> (On the other hand, I'm already using   glm.diag, glm.diag.plots,
> etc...).
>
> Thanks for help.
> --
> Robert Espesser
> Laboratoire Parole et Langage  UMR 6057, CNRS
> 29 Av. Robert Schuman  13621 AIX    (FRANCE)
> Tel: +33 (0)4 42 95 36 26   Fax: +33 (0)4 42 59 50 96
> http://www.lpl.univ-aix.fr/~espesser
> mailto:Robert.Espesser at lpl.univ-aix.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecoutre at stat.ucl.ac.be  Thu Jun 20 15:03:27 2002
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Thu, 20 Jun 2002 14:03:27 +0100
Subject: [R] Argument visible of addTaskCallback
Message-ID: <5.1.1.5.2.20020620140038.00abf110@stat4ux.stat.ucl.ac.be>


Hello,

I have a question about addTaskCallback

It is said that the argument visible allows to know wether the result of 
the top-level evaluation was printed or not.

Nevertheless, in the following example, I encountered a problem, as it 
seems not all printed objects are visible...

Could someone tell me where is the tip?

TIA


-----------------------------------------------------------------------------
SimpleTask <- function()	{
	function(expr,value,ok,visible){
		print(visible)
		return(TRUE)  }		}
	
 > addTaskCallback(SimpleTask())

 > x<-rnorm(10)
	[ Visible= FALSE]
 > x
	[ Visible= TRUE]
 > summary(x)
	[ Visible= FALSE] !!
-----------------------------------------------------------------------------

Eric Lecoutre

?------------------------?------------------------------------------------?
| Eric Lecoutre          | Statistics                                     |
| Voie du Roman Pays, 20 | Teaching assistant / Consultant                |
| 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                 |
| Belgique               | lecoutre at stat.ucl.ac.be                        |
| (+32) (0)10 47 30 50   | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
?------------------------?------------------------------------------------?
|       We need statistical thinking, not rituals  -  Gigerenzer          |
?-------------------------------------------------------------------------?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Thu Jun 20 15:21:22 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Thu, 20 Jun 2002 09:21:22 -0400
Subject: [R] Help: sorting data frames
Message-ID: <2f0772c734.2c7342f077@lbl.gov>

Hello everyone:
I have a data frame with two columns of data. I want to create a new 
data frame, in which the first column is sorted in accending order, and 
the elements of the second column are properly re-ordered (to be in the 
same row with their corresponding first column elements)

Could you tell me how to do it? I'd like to avoid "for" loops, etc., 
since my data frame is very huge.

Thank you very much,
Vlad.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Thu Jun 20 15:27:09 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Thu, 20 Jun 2002 10:27:09 -0300 (ADT)
Subject: [R] Legality of copying from Splus.
Message-ID: <200206201327.KAA28538@tanner.math.unb.ca>


A few days ago, I sent a question to the r-help list enquiring
about the

		        *** LEGALITY ***

of porting a function from Splus into R.  As a particular example,
I referred to error.bar.

Several people posted code for various versions of error.bar which
they had written, but that was NOT WHAT I WAS ASKING FOR/ABOUT!!!

[Can't anybody ***read*** these days?]

I asked:  IS IT LEGAL/ETHICAL to take a copy of an Splus function
(written in raw S), ***such as*** error.bar, and make it into an R
function?  Is it OK to do this for one's own personal use?  What
about making such a function available to other R users (who may not
have Splus licenses)?

Would the big guns from the R community please comment on this?

					cheers,

						Rolf Turner
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jun 20 15:35:03 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 20 Jun 2002 15:35:03 +0200
Subject: [R] cat output To data.frame.rows ?
Message-ID: <3D11DA07.2080906@metrinomics.de>

Hi,
is there a possibilty  to get my function output with "cat "
as data.frame.rows with variables ?

Var1---------------- 8 15 1 3
Var2---------------- 0.170 0.319 0.0213 0.0638
Var3---------------- 83.8 88.6 90 75
Var4---------------- 84.3 84.3 100 83.3
Var5---------------- 62.5 56 20 53.3
            function(data.frame) {
       ....
        ....
       cat("Var1",Var1.r,"\n")
       cat("Var2",Var2.r,"\n")
       cat("Var3",Var3.r,"\n")
       cat("Var4",Var4.r,"\n")
       cat("Var5",tapply(VAR.X,VAR.X,mean,na.rm=TRUE),"\n")
         }

example:
Var1    Var2    Var3     Var4     Var5
23        34        65        67           56
56        54        54        34            45
15        25        34        34            23


really  thanks for advance & regards,christian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at rzmail.uni-erlangen.de  Thu Jun 20 15:37:02 2002
From: hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 20 Jun 2002 15:37:02 +0200 (MEST)
Subject: [R] Help: sorting data frames
In-Reply-To: <2f0772c734.2c7342f077@lbl.gov>
Message-ID: <Pine.LNX.4.21.0206201536350.22214-100000@artemis>


> Hello everyone:
> I have a data frame with two columns of data. I want to create a new 
> data frame, in which the first column is sorted in accending order, and 
> the elements of the second column are properly re-ordered (to be in the 
> same row with their corresponding first column elements)

R> mydf[order(mydf[,1]),]

Torsten

> 
> Could you tell me how to do it? I'd like to avoid "for" loops, etc., 
> since my data frame is very huge.
> 
> Thank you very much,
> Vlad.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jun 20 16:05:14 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 20 Jun 2002 10:05:14 -0400
Subject: [R] Argument visible of addTaskCallback
In-Reply-To: <5.1.1.5.2.20020620140038.00abf110@stat4ux.stat.ucl.ac.be>; from lecoutre@stat.ucl.ac.be on Thu, Jun 20, 2002 at 02:03:27PM +0100
References: <5.1.1.5.2.20020620140038.00abf110@stat4ux.stat.ucl.ac.be>
Message-ID: <20020620100514.A29198@jessie.research.bell-labs.com>

Hi Eric.

  It appears that the visible flag is being unset in the act of
printing.  So the internal R variable (R_Visible) which is being
reported in the task callback is off/False, even though the object is
being printed.

  I'll add a snippet of code to handle this and report the value of
R_Visible as it is before the printing is called. That should
help avoid the confusion.

  We could call the task callbacks before printing and have them
"vote"/indicate whether to cancel the printing. But I have a more
general mechanism in mind for setting different output "filters".

 D.



Eric Lecoutre wrote:
> 
> Hello,
> 
> I have a question about addTaskCallback
> 
> It is said that the argument visible allows to know wether the result of 
> the top-level evaluation was printed or not.
> 
> Nevertheless, in the following example, I encountered a problem, as it 
> seems not all printed objects are visible...
> 
> Could someone tell me where is the tip?
> 
> TIA
> 
> 
> -----------------------------------------------------------------------------
> SimpleTask <- function()	{
> 	function(expr,value,ok,visible){
> 		print(visible)
> 		return(TRUE)  }		}
> 	
>  > addTaskCallback(SimpleTask())
> 
>  > x<-rnorm(10)
> 	[ Visible= FALSE]
>  > x
> 	[ Visible= TRUE]
>  > summary(x)
> 	[ Visible= FALSE] !!
> -----------------------------------------------------------------------------
> 
> Eric Lecoutre
> 
> ?------------------------?------------------------------------------------?
> | Eric Lecoutre          | Statistics                                     |
> | Voie du Roman Pays, 20 | Teaching assistant / Consultant                |
> | 1348 Louvain-La-Neuve  | Universit? de Louvain-la-Neuve                 |
> | Belgique               | lecoutre at stat.ucl.ac.be                        |
> | (+32) (0)10 47 30 50   | http://www.stat.ucl.ac.be/ISpersonnel/lecoutre/|
> ?------------------------?------------------------------------------------?
> |       We need statistical thinking, not rituals  -  Gigerenzer          |
> ?-------------------------------------------------------------------------?
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Thu Jun 20 16:13:35 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Thu, 20 Jun 2002 15:13:35 +0100
Subject: [R] how to skip NA columns ?
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C496@EPOCH.arqule.com>
Message-ID: <NEBBJLLBCLEDFLCCBKDAAEHBCGAA.mel@mcs.st-andrews.ac.uk>

Ryszard,

1) with your example, I get:

>t(na.omit(t(o)))
     [,1] [,2]
[1,]    1    7
[2,]    2    8
[3,]    3    9
attr(,"na.action")
[1] 2
attr(,"na.action")attr(,"class")
[1] "omit"
>

in which the first attr statement seems to say that the old column 2 has
been removed
( and this information can be recovered with things like:
   > t<-t(na.omit(t(o)))
   > attr(t,"na.action")[1]
)

2) are you sure your solution is so bad? I did:

> o<-matrix(c(1,2,3,rep(NA,3),7,8,9),3,3)
> ot<-t(o)
> date();for(i in 1:10000) t(na.omit(t(o)));date()
[1] "Thu Jun 20 14:48:53 2002"
[1] "Thu Jun 20 14:49:02 2002"
> date();for(i in 1:10000) na.omit(ot);date()
[1] "Thu Jun 20 14:49:13 2002"
[1] "Thu Jun 20 14:49:20 2002"
>

which seems to suggest that (for this toy example at least) the transposes
are taking around 30% of the time. Similarly for a slightly bigger example:

> o100<-matrix(c(1,NA),100,100,byrow=TRUE)
> ot100<-t(o100)
> date();for(i in 1:1000) t(na.omit(t(o100)));date()
[1] "Thu Jun 20 14:54:40 2002"
[1] "Thu Jun 20 14:54:52 2002"
> date();for(i in 1:1000) na.omit(o100);date()
[1] "Thu Jun 20 14:55:10 2002"
[1] "Thu Jun 20 14:55:19 2002"
>

While the exact times will be machine dependent, I'd guess the ratios are
likely to be fairly consistent. So, unless your code does lots of this and
little else, I'd suggest finding something else to fret about!

Cheers,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
     > Czerminski, Ryszard
     > Sent: 20 June 2002 12:58
     > To: r-help at stat.math.ethz.ch
     > Subject: [R] how to skip NA columns ?
     >
     >
     > R-helpers!
     >
     > na.omit() can be used to remove rows with NA's
     > but how can I remove columns ? and remember, which columns
     > have been removed
     > ?
     >
     > I guess I can do t(na.omit(t(o))) as shown below, but this
     > probably creates
     > a lot of overhead and I do not know which columns
     > have been removed.
     >
     > Yours,
     >
     > R
     >
     > > o
     >      [,1] [,2] [,3]
     > [1,]    1   NA    7
     > [2,]    2   NA    8
     > [3,]    3   NA    9
     > > t(na.omit(t(o)))
     >      [,1] [,2]
     > [1,]    1    7
     > [2,]    2    8
     > [3,]    3    9
     >
     > Ryszard Czerminski   phone: (781)994-0479
     > ArQule, Inc.         email:ryszard at arqule.com
     > 19 Presidential Way  http://www.arqule.com
     > Woburn, MA 01801     fax: (781)994-0679
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jun 20 16:15:17 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 20 Jun 2002 07:15:17 -0700
Subject: [R] Legality of copying from Splus.
In-Reply-To: <200206201327.KAA28538@tanner.math.unb.ca>
References: <200206201327.KAA28538@tanner.math.unb.ca>
Message-ID: <87r8j2xci2.fsf@jeeves.blindglobe.net>

>>>>> "rolf" == Rolf Turner <rolf at math.unb.ca> writes:

    rolf> [Can't anybody ***read*** these days?]

    rolf> I asked:  IS IT LEGAL/ETHICAL to take a copy of an Splus function
    rolf> (written in raw S), ***such as*** error.bar, and make it into an R
    rolf> function?  Is it OK to do this for one's own personal use?  What
    rolf> about making such a function available to other R users (who may not
    rolf> have Splus licenses)?

    rolf> Would the big guns from the R community please comment on this?

I'm not a big gun, but the answer is NO.

Don't go there, don't do it, write "clean room" reversed engineered
versions (i.e. describe the activity to a coder who hasn't seen the
code) when possible.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Thu Jun 20 16:16:18 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Thu, 20 Jun 2002 16:16:18 +0200
Subject: [R] function returning all arguments of current call
In-Reply-To: <x2n0tqs600.fsf@biostat.ku.dk>
References: <20020620090923.A1208@s1x.zimnet.ch> <3D118E20.EEBC3C5@statistik.uni-dortmund.de> <x2n0tqs600.fsf@biostat.ku.dk>
Message-ID: <20020620161618.A2494@s1x.zimnet.ch>

Thanks, Peter! Your solution is working as expected.

It seems that also
	f2 <- function( x=2, y=2, ... ) f1( x, y, ... )
or - to be not dependent on the order of the arguments -
	f2 <- function( x=2, y=2, ... ) f1( x=x, y=y, ... )
would help.

In my real problem I have long and variable lists
of arguments and I would be happy if I could omit
a tedious repetition of any of the arguments.

Also
	f3 <- function( z=3, x=3, ...) f1( FUN_RETURNING_ARGS() )
should work.


Is there a function analogous to match.call() but which
delivers all arguments: the args set explicitly and the
args set by default?

Wolfram


PS: There was a litte bug in the original problem description.
Here is the corrected and expanded version of the problem:
	f1 <- function( x=1, y=1, z=1 ) paste( 'x =', x, ' y =', y, ' z =', z )
	f2 <- function( x=2, y=2, ... ) f1( FUN_RETURNING_ARGS() )
	f3 <- function( z=3, y=3, ... ) f1( FUN_RETURNING_ARGS() )
	f1(10)
	#     [1] "x = 10  y = 1  z = 1"
	f2(20)
	#     [1] "x = 20  y = 2  z = 1"
	f3(30)
	#     [1] "x = 1  y = 3  z = 30"


--- In reply to: ---
>Date:    20.06.02 10:34 (+0200)
>From:    Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
>To:      To Uwe Ligges
>Subject: Re: [R] function returning all arguments of current call
>
> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> 
> > Wolfram Fischer wrote:
> > > 
> > > Is there a FUNCTION_RETURNING_ALL_ARGS()
> > > which would enable to define functions with
> > > different default values?
> > > 
> > > f1 <- function( x=1, y=1, ... ) paste( 'x =', x, 'y =', y )
> > > f2 <- function( x=2, y=2, ... ) f2( FUN_RETURNING_ARGS() )
> > > 
> > > f1( 10 )
> > > #       [1] "x = 10, y = 1"
> > > f2( 10 )
> > > #       [1] "x = 10, y = 2"
> > 
> > formals() should do the trick:
> > 
> >   f2 <- function( x=2, y=2, ... )  formals()
> >   f2()
> 
> More likely WF is looking for 
> 
> f2 <- function( x=2, y=2, ... ) eval.parent(substitute(f1(x,y,...)))
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 16:22:29 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jun 2002 15:22:29 +0100 (GMT Daylight Time)
Subject: [R] Legality of copying from Splus.
In-Reply-To: <200206201327.KAA28538@tanner.math.unb.ca>
Message-ID: <Pine.WNT.4.44.0206201459120.1644-100000@petrel>

On Thu, 20 Jun 2002, Rolf Turner wrote:

> A few days ago, I sent a question to the r-help list enquiring
> about the
>
> 		        *** LEGALITY ***
>
> of porting a function from Splus into R.  As a particular example,
> I referred to error.bar.
>
> Several people posted code for various versions of error.bar which
> they had written, but that was NOT WHAT I WAS ASKING FOR/ABOUT!!!
>
> [Can't anybody ***read*** these days?]
>
> I asked:  IS IT LEGAL/ETHICAL to take a copy of an Splus function
> (written in raw S), ***such as*** error.bar, and make it into an R
> function?  Is it OK to do this for one's own personal use?  What
> about making such a function available to other R users (who may not
> have Splus licenses)?
>
> Would the big guns from the R community please comment on this?

Isn't this a question about your S-PLUS license and to be addressed to your
intellectual property rights dept (and many Universities now have one)
and/or the ethics committee?  It is also country-specific (and that can
make a vast difference).  To find out about legality, ask a lawyer.

However, even a lawyer needs to know some of the details.  Here are two
extracts from the S+2000 License (for the US, I believe, since they are
clipped from a PDF manual) which indicate the scope of the claims which
such a license makes:

  Both the Software and the documentation are protected under
  applicable copyright laws, international treaty provisions, and trade
  secret statutes of the various states. This Agreement grants you a
  personal, limited, nonexclusive, nontransferable license to use the
  Software and the documentation.

  You may not translate, reverse engineer, decompile, or disassemble
  the Software, except and only to the extent that such activity is
  expressly permitted by applicable law notwithstanding this limitation.

(BTW, these extracts are copyright too, used here under `fair use'
provisions.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Thu Jun 20 16:30:32 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Thu, 20 Jun 2002 10:30:32 -0400 (EDT)
Subject: [R] small ps
Message-ID: <Pine.LNX.4.33.0206201019250.5148-100000@localhost.localdomain>

Ive created a postscript files that looks just like I want it to look 
except instead of being 6'' x 6'' i want it to be 2''x 2''. i used the 
postscipt() function (R 1.5.1 on redhat). if i use width and 
height in par to change the scale the figure looks terrible cause 
cex,mar,etc.. dont appear to change. 
before i start tinkering with the cex's and mar... is there an easier way 
to make the figure exactly the same but at a smaller scale?

thanks,
rafael

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Jun 20 16:42:37 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 20 Jun 2002 16:42:37 +0200
Subject: [R] Legality of copying from Splus.
Message-ID: <3.0.6.32.20020620164237.01e7d940@mail.wsl.ch>

Further question (may be stupid)

Technically, anyone could take a mathemathical algorithm published anywhere
or invented by himself and turn it into a working R function. How could
lawyers representing S+2000 possibly determine that my function is reverse
engineered, and not invented by me? FFT e.g. has been in the literature
since its invention. Am I prohibited to write my own version of it, even if
it happens to have the same argument list as that of S+ ? Or even almost
all of R??

Just some thoughts
--christian


>Delivered-To: hoffmann at wsl.ch
>Date: Thu, 20 Jun 2002 15:22:29 +0100 (GMT Daylight Time)
>From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>To: Rolf Turner <rolf at math.unb.ca>
>cc: r-help at stat.math.ethz.ch
>Subject: Re: [R] Legality of copying from Splus.
>Sender: owner-r-help at stat.math.ethz.ch
>
>On Thu, 20 Jun 2002, Rolf Turner wrote:
>
>> A few days ago, I sent a question to the r-help list enquiring
>> about the
>>
>> 		        *** LEGALITY ***
>>
>> of porting a function from Splus into R.  As a particular example,
>> I referred to error.bar.
>>
>> Several people posted code for various versions of error.bar which
>> they had written, but that was NOT WHAT I WAS ASKING FOR/ABOUT!!!
>>
>> [Can't anybody ***read*** these days?]
>>
>> I asked:  IS IT LEGAL/ETHICAL to take a copy of an Splus function
>> (written in raw S), ***such as*** error.bar, and make it into an R
>> function?  Is it OK to do this for one's own personal use?  What
>> about making such a function available to other R users (who may not
>> have Splus licenses)?
>>
>> Would the big guns from the R community please comment on this?
>
>Isn't this a question about your S-PLUS license and to be addressed to your
>intellectual property rights dept (and many Universities now have one)
>and/or the ethics committee?  It is also country-specific (and that can
>make a vast difference).  To find out about legality, ask a lawyer.
>
>However, even a lawyer needs to know some of the details.  Here are two
>extracts from the S+2000 License (for the US, I believe, since they are
>clipped from a PDF manual) which indicate the scope of the claims which
>such a license makes:
>
>  Both the Software and the documentation are protected under
>  applicable copyright laws, international treaty provisions, and trade
>  secret statutes of the various states. This Agreement grants you a
>  personal, limited, nonexclusive, nontransferable license to use the
>  Software and the documentation.
>
>  You may not translate, reverse engineer, decompile, or disassemble
>  the Software, except and only to the extent that such activity is
>  expressly permitted by applicable law notwithstanding this limitation.
>
>(BTW, these extracts are copyright too, used here under `fair use'
>provisions.)
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Thu Jun 20 16:49:13 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Thu, 20 Jun 2002 18:49:13 +0400 (MSD)
Subject: [R] understanding the output
In-Reply-To: <200206200855.00970.chrysopa@insecta.ufv.br>
Message-ID: <Pine.LNX.4.33.0206201846130.9625-100000@pcf004.jinr.ru>



On Thu, 20 Jun 2002, Ronaldo Reis Jr. wrote:

> Hi all,
> I try to understand the output of the summary(model).
> I make a simple model.
>
> > summary(m1anova)
>
> Call:
> glm(formula = peso ~ gen)
>
> Deviance Residuals:
>     Min       1Q   Median       3Q      Max
> -4.3114  -2.3788  -0.9167   2.1581   5.7856
>
> Coefficients:
>             Estimate Std. Error t value Pr(>|t|)
> (Intercept)   4.8660     0.9808   4.961 0.000101 ***
> gen2g         3.8504     1.3870   2.776 0.012459 *
Some time ago I was interesting in such a thing, but I've solved this
problem such a way:

  m1anova.sum <- summary(m1anova)
  m1anova.sum$coefficients["gen2g", "Std. Error"]

:)

With best regards,

Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Thu Jun 20 16:48:58 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Thu, 20 Jun 2002 16:48:58 +0200
Subject: [R] interp.surface on data frames
Message-ID: <OFB1134C31.ADB0CEAF-ONC1256BDE.004EBD2C@fimat-france.fr>

Hello R Group

I'm trying to apply the function interp.surface of the following data frame
and it doesn't work

 x value is
$Strike
[1] 100 102

y Value is
$Maturity
[1] 25 35

z Value is
 ImplVol.100 ImplVol.102
1    0.419177    0.331999
2    0.264417    0.195447

I want to find the value of z for (x,y)=(101,30)

Now I apply
obj<- list( x=x, y=y, z=z)

I define

make.surface.grid( list(c(101,30),c(101,30)))-> loc  (I want to interpolate
for (x,y)=(101,30))

and
interp.surface( obj, loc)-> look gives me an error.

could you tell me where I'm wrong?
Thanks








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 16:53:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 20 Jun 2002 15:53:03 +0100 (BST)
Subject: [R] small ps
In-Reply-To: <Pine.LNX.4.33.0206201019250.5148-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0206201550320.22512-100000@gannet.stats>

On Thu, 20 Jun 2002, Rafael A. Irizarry wrote:

> Ive created a postscript files that looks just like I want it to look
> except instead of being 6'' x 6'' i want it to be 2''x 2''. i used the
> postscipt() function (R 1.5.1 on redhat). if i use width and
> height in par to change the scale the figure looks terrible cause
> cex,mar,etc.. dont appear to change.
> before i start tinkering with the cex's and mar... is there an easier way
> to make the figure exactly the same but at a smaller scale?

1) Do the shrinking with a postscript wrapper or
2) Change pointsize proportionally to width and height.

Take a look at dev.print, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v_bill_pikounis at merck.com  Thu Jun 20 16:58:04 2002
From: v_bill_pikounis at merck.com (Pikounis, Bill)
Date: Thu, 20 Jun 2002 10:58:04 -0400
Subject: [R] Legality of copying from Splus.
Message-ID: <E827328028C66044B4998F2EC353CD30373DA6@usrymx12.merck.com>

Hi Rolf, 

I was replyinhg to this and just received Professor Ripley's reply posted on
r-help.  So I just echo his  useful comments and suggestions, with one added
suggestion:

Ask Insightful -- after all, it is their copyrighted software.

Best Regards,
Bill

> -----Original Message-----
> From: Rolf Turner [mailto:rolf at math.unb.ca]
> Sent: Thursday, June 20, 2002 9:27 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Legality of copying from Splus.
> 
> 
> 
> A few days ago, I sent a question to the r-help list enquiring
> about the
> 
> 		        *** LEGALITY ***
> 
> of porting a function from Splus into R.  As a particular example,
> I referred to error.bar.
> 
> Several people posted code for various versions of error.bar which
> they had written, but that was NOT WHAT I WAS ASKING FOR/ABOUT!!!
> 
> [Can't anybody ***read*** these days?]
> 
> I asked:  IS IT LEGAL/ETHICAL to take a copy of an Splus function
> (written in raw S), ***such as*** error.bar, and make it into an R
> function?  Is it OK to do this for one's own personal use?  What
> about making such a function available to other R users (who may not
> have Splus licenses)?
> 
> Would the big guns from the R community please comment on this?
> 
> 					cheers,
> 
> 						Rolf Turner
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 20 17:05:26 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Jun 2002 17:05:26 +0200
Subject: [R] small ps
References: <Pine.LNX.4.33.0206201019250.5148-100000@localhost.localdomain>
Message-ID: <3D11EF36.7854A7F6@statistik.uni-dortmund.de>



"Rafael A. Irizarry" wrote:
> 
> Ive created a postscript files that looks just like I want it to look
> except instead of being 6'' x 6'' i want it to be 2''x 2''. i used the
> postscipt() function (R 1.5.1 on redhat). if i use width and
> height in par to change the scale the figure looks terrible cause
> cex,mar,etc.. dont appear to change.
> before i start tinkering with the cex's and mar... is there an easier way
> to make the figure exactly the same but at a smaller scale?

Set with and height in postscript(), see ?postscript.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 20 16:54:59 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 20 Jun 2002 10:54:59 -0400
Subject: [R] how to skip NA columns ?
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C499@EPOCH.arqule.com>

It works for me for data frame very nicely, but I am not quite sure how to
get it to work for a matrix ?

R

> df
  V1 V2 V3
1  1 NA  7
2  2 NA  8
3  3 NA  9
> mask <- sapply(df, function(x) any(is.na(x)))
> df[!mask]
  V1 V3
1  1  7
2  2  8
3  3  9
> m <- as.matrix(df)
> m
  V1 V2 V3
1  1 NA  7
2  2 NA  8
3  3 NA  9
> mask <- apply(m, 2, function(x) any(is.na(x)))
> m[!mask]
   1    3 <NA> <NA> <NA> <NA> 
   1    3   NA   NA    7    9 
> dim(m[!mask])
NULL
>



Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, June 20, 2002 8:14 AM
To: Czerminski, Ryszard
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] how to skip NA columns ?


Columns of what?  A data frame or a matrix?

For a data frame DF

hasna <- sapply(DF, function(x) any(is.na(x)))
DF <- DF[!hasna]

and `hasna' tells which you removed.  Use apply and matrix indexing for a
matrix.

On Thu, 20 Jun 2002, Czerminski, Ryszard wrote:

> R-helpers!
>
> na.omit() can be used to remove rows with NA's
> but how can I remove columns ? and remember, which columns have been
removed
> ?
>
> I guess I can do t(na.omit(t(o))) as shown below, but this probably
creates
> a lot of overhead and I do not know which columns
> have been removed.

It only works for matrices, too.

> Yours,
>
> R
>
> > o
>      [,1] [,2] [,3]
> [1,]    1   NA    7
> [2,]    2   NA    8
> [3,]    3   NA    9
> > t(na.omit(t(o)))
>      [,1] [,2]
> [1,]    1    7
> [2,]    2    8
> [3,]    3    9
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jun 20 17:06:48 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 20 Jun 2002 11:06:48 -0400
Subject: [R] small ps
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3A3@usrymx10.merck.com>

I believe psresize (part of psutils) should do the work.  It's probably a
lot easier than fiddling with it in R.

Andy

> -----Original Message-----
> From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
> Sent: Thursday, June 20, 2002 10:31 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] small ps
> 
> 
> Ive created a postscript files that looks just like I want it to look 
> except instead of being 6'' x 6'' i want it to be 2''x 2''. i 
> used the 
> postscipt() function (R 1.5.1 on redhat). if i use width and 
> height in par to change the scale the figure looks terrible cause 
> cex,mar,etc.. dont appear to change. 
> before i start tinkering with the cex's and mar... is there 
> an easier way 
> to make the figure exactly the same but at a smaller scale?
> 
> thanks,
> rafael
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Thu Jun 20 17:11:43 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Thu, 20 Jun 2002 08:11:43 -0700 (PDT)
Subject: [R] Legality of copying from Splus.
In-Reply-To: <200206201327.KAA28538@tanner.math.unb.ca>
Message-ID: <Pine.OSF.4.44.0206200750120.62814-100000@axe.humboldt.edu>

On Thu, 20 Jun 2002, Rolf Turner wrote:

> [Can't anybody ***read*** these days?]

Evidently I (and others) misunderstood your request.  I thought you were
asking about the specific function error.bar().  Since your question is
more general, I assume that you actually have an S-Plus license or that
you have unlicensed access to S-Plus code.  If that's the case, have you
***read*** the copyright?  I should think that it's rather clear on this
issue.

While on the topic, I suggest that you read the Free Software Foundation
GNU Public License, under which R and many (all?) of its contributed
packages are  released.  It too is quite specific regarding such things as
how R code  propogates its open source model into deriviative software
built onto R or R packages licensed under the GPL.

BTW, does anyone else on the list know the license status of code posted
to the list, e.g. the ebars() function that I posted in response to Rolf's
inquiry?  How about when that code is later incorporated into a package
released under a specific license?  For example, the ebars() function I
posted is part of a toolset for analyses of ecological data that I plan
to release later this year under the GPL.  Did I relinquish my copyright
by posting it here without specific reference to it's license for use?

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 20 17:14:26 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jun 2002 16:14:26 +0100 (BST)
Subject: [R] how to skip NA columns ?
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C499@EPOCH.arqule.com>
Message-ID: <Pine.GSO.4.44.0206201613550.13932-100000@auk.stats>

On Thu, 20 Jun 2002, Czerminski, Ryszard wrote:

> It works for me for data frame very nicely, but I am not quite sure how to
> get it
> to work for a matrix ?
>
> R
>
> > df
>   V1 V2 V3
> 1  1 NA  7
> 2  2 NA  8
> 3  3 NA  9
> > mask <- sapply(df, function(x) any(is.na(x)))
> > df[!mask]
>   V1 V3
> 1  1  7
> 2  2  8
> 3  3  9
> > m <- as.matrix(df)
> > m
>   V1 V2 V3
> 1  1 NA  7
> 2  2 NA  8
> 3  3 NA  9
> > mask <- apply(m, 2, function(x) any(is.na(x)))
> > m[!mask]

m[, !mask] is needed: `matrix indexing'

>    1    3 <NA> <NA> <NA> <NA>
>    1    3   NA   NA    7    9
> > dim(m[!mask])
> NULL
> >
>
>
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
> -----Original Message-----
> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Thursday, June 20, 2002 8:14 AM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] how to skip NA columns ?
>
>
> Columns of what?  A data frame or a matrix?
>
> For a data frame DF
>
> hasna <- sapply(DF, function(x) any(is.na(x)))
> DF <- DF[!hasna]
>
> and `hasna' tells which you removed.  Use apply and matrix indexing for a
> matrix.
>
> On Thu, 20 Jun 2002, Czerminski, Ryszard wrote:
>
> > R-helpers!
> >
> > na.omit() can be used to remove rows with NA's
> > but how can I remove columns ? and remember, which columns have been
> removed
> > ?
> >
> > I guess I can do t(na.omit(t(o))) as shown below, but this probably
> creates
> > a lot of overhead and I do not know which columns
> > have been removed.
>
> It only works for matrices, too.
>
> > Yours,
> >
> > R
> >
> > > o
> >      [,1] [,2] [,3]
> > [1,]    1   NA    7
> > [2,]    2   NA    8
> > [3,]    3   NA    9
> > > t(na.omit(t(o)))
> >      [,1] [,2]
> > [1,]    1    7
> > [2,]    2    8
> > [3,]    3    9
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 20 17:20:12 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Jun 2002 17:20:12 +0200
Subject: [R] how to skip NA columns ?
References: <EDE2901A3801144496F3485FCFEC8D3027C499@EPOCH.arqule.com>
Message-ID: <3D11F2AC.5846900F@statistik.uni-dortmund.de>



"Czerminski, Ryszard" wrote:
> 
> It works for me for data frame very nicely, but I am not quite sure how to
> get it to work for a matrix ?
> 
> R
> 
> > df
>   V1 V2 V3
> 1  1 NA  7
> 2  2 NA  8
> 3  3 NA  9
> > mask <- sapply(df, function(x) any(is.na(x)))
> > df[!mask]
>   V1 V3
> 1  1  7
> 2  2  8
> 3  3  9
> > m <- as.matrix(df)
> > m
>   V1 V2 V3
> 1  1 NA  7
> 2  2 NA  8
> 3  3 NA  9
> > mask <- apply(m, 2, function(x) any(is.na(x)))
> > m[!mask]
>    1    3 <NA> <NA> <NA> <NA>
>    1    3   NA   NA    7    9
> > dim(m[!mask])
> NULL

A comma will help:

  m[ , !mask]  

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Thu Jun 20 17:35:24 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Thu, 20 Jun 2002 11:35:24 -0400 (EDT)
Subject: [R] small ps
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC3A3@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.33.0206201119190.5200-100000@localhost.localdomain>

brian and andy,
thanks for the useful suggestions!
on redhat 7.2

psresize -w2in -h2in old.eps new.eps

did the job.

rafael
On Thu, 20 Jun 2002, Liaw, Andy wrote:

> I believe psresize (part of psutils) should do the work.  It's probably a
> lot easier than fiddling with it in R.
> 
> Andy
> 
> > -----Original Message-----
> > From: Rafael A. Irizarry [mailto:ririzarr at jhsph.edu]
> > Sent: Thursday, June 20, 2002 10:31 AM
> > To: r-help at stat.math.ethz.ch
> > Subject: [R] small ps
> > 
> > 
> > Ive created a postscript files that looks just like I want it to look 
> > except instead of being 6'' x 6'' i want it to be 2''x 2''. i 
> > used the 
> > postscipt() function (R 1.5.1 on redhat). if i use width and 
> > height in par to change the scale the figure looks terrible cause 
> > cex,mar,etc.. dont appear to change. 
> > before i start tinkering with the cex's and mar... is there 
> > an easier way 
> > to make the figure exactly the same but at a smaller scale?
> > 
> > thanks,
> > rafael
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jun 20 17:24:51 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 20 Jun 2002 08:24:51 -0700
Subject: [R] Legality of copying from Splus.
In-Reply-To: <87r8j2xci2.fsf@jeeves.blindglobe.net>
References: <200206201327.KAA28538@tanner.math.unb.ca>
	<87r8j2xci2.fsf@jeeves.blindglobe.net>
Message-ID: <877kkukm64.fsf@jeeves.blindglobe.net>

>>>>> "a" == A J Rossini <rossini at blindglobe.net> writes:


    a> Don't go there, don't do it, write "clean room" reversed engineered
    a> versions (i.e. describe the activity to a coder who hasn't seen the
    a> code) when possible.

As pointed out in a private email, the above is technically
incorrect.  "re-implemented" is what I should've have said.

(again, I'm not a lawyer).


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Jun 20 18:05:49 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 20 Jun 2002 18:05:49 +0200 (CEST)
Subject: [R] cat output To data.frame.rows ?
In-Reply-To: <3D11DA07.2080906@metrinomics.de>
Message-ID: <Pine.LNX.4.44.0206201758140.11337-100000@localhost.localdomain>

On Thu, 20 Jun 2002, Christian Schulz wrote:

  |Hi,
  |is there a possibilty  to get my function output with "cat "
  |as data.frame.rows with variables ?
  |
  |Var1---------------- 8 15 1 3
  |Var2---------------- 0.170 0.319 0.0213 0.0638
...

It is unfortunately not quite clear to me what do you want.  I think if you
want to get _output from cat()_ into a data frame, the only possibility is
to save the region into a file and then read in as data frame (using
read.table(... row.names=T).

I would rather suggest to do it 

a) automatically, using sink() to redirect the output to a file, and then
reading the file in again, perhaps correcting for some syntax problems as
------ signs in your example, and thereafter read it in as a data.frame.

b) without any printing at all, putting values directly into a data.frame
instead.  It depends on, what you actually are doing.


You should explain better, if I was completely missing the point.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jun 20 17:24:06 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 20 Jun 2002 08:24:06 -0700
Subject: [R] Legality of copying from Splus.
In-Reply-To: <Pine.OSF.4.44.0206200750120.62814-100000@axe.humboldt.edu>
References: <Pine.OSF.4.44.0206200750120.62814-100000@axe.humboldt.edu>
Message-ID: <87bsa6km7d.fsf@jeeves.blindglobe.net>

>>>>> "michael" == Michael Camann <mac24 at humboldt.edu> writes:


    michael> BTW, does anyone else on the list know the license status
    michael> of code posted to the list, e.g. the ebars() function
    michael> that I posted in response to Rolf's inquiry?  How about
    michael> when that code is later incorporated into a package
    michael> released under a specific license?  For example, the
    michael> ebars() function I posted is part of a toolset for
    michael> analyses of ecological data that I plan to release later
    michael> this year under the GPL.  Did I relinquish my copyright
    michael> by posting it here without specific reference to it's
    michael> license for use?

I AM NOT A LAWYER, but as far as I know, in the USA, you have
copyright legally until you disclaim it.  i.e. putting things into the
public domain must be done explicitly (BTW, public domain is a
technical term which doesn't cover restricted use licenses, i.e. any
license).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 20 18:14:59 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 20 Jun 2002 12:14:59 -0400
Subject: [R] dist(a,b) ???
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C49F@EPOCH.arqule.com>

Is there a function analogous to "dist" which would
calculate distances between rows of two different data sets ?

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Jun 20 18:40:24 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 20 Jun 2002 13:40:24 -0300
Subject: [R] understanding the output
In-Reply-To: <x2vg8eqhef.fsf@biostat.ku.dk>
References: <200206200855.00970.chrysopa@insecta.ufv.br> <x2vg8eqhef.fsf@biostat.ku.dk>
Message-ID: <200206201340.24829.chrysopa@insecta.ufv.br>

Em Quinta 20 Junho 2002 09:11, Peter Dalgaard BSA escreveu:
> "Ronaldo Reis Jr." <chrysopa at insecta.ufv.br> writes:
> >             Estimate Std. Error t value Pr(>|t|)
> > (Intercept)   4.8660     0.9808   4.961 0.000101 ***
> > gen2g         3.8504     1.3870   2.776 0.012459 *
> > ---
>
> ...
>
> > > tapply(peso,gen,mean)
> >
> >     1g     2g
> > 4.8660 8.7164
> >
> > The values is the same in estimate.
> > But the SE, when I try using tapply the SE is different os the SE of
> > estimates. look
> >
> > > tapply(peso,gen,sd)/sqrt(tapply(peso,gen,length))
> >
> >        1g        2g
> > 0.8665567 1.0829789
> >
> > Why this difference? What SE I can use with mean???
>
> (I assume you are only looking at the intercept, i.e. the mean of
> group "1g"). glm() assumes a constant SD and uses the pooled SD.
>
> Try for illustration:
>
> sds <- tapply(peso,gen,sd)
> lens <- tapply(peso,gen,len)
> dfs <- lens - 1
> sd.pool <- sqrt(sum(sds^2*dfs)/sum(dfs))
> sd.pool/sqrt(lens)
>
> It's a matter of taste which SE you'd put on a plot. Some people feel
> that you "shouldn't mix in the other groups" in a mainly descriptive
> plot, but as soon as any modelling is involved (e.g., age-adjusted
> means) you pretty much have to extract SE's from the model.

Its Ok,
I choice to use the model SE. So, my table of mean +- SE maybe:

trat	mean	SE
1g	4.8660	0.9808
2g	8.7164	1.3870

or

trat	mean	SE
1g	4.8660	0.9808
2g	8.7164	1.3870+0.9808

or 

trat	mean	SE
1g	4.8660	0.9808
2g	8.7164	0.9808

Or neither??

I'm a bit confused

And for poisson errors? The mean to use is antilog of estimate, and the 
associated error, is the glm calculated or need to be transformed?

Sorry by these newbie questions :))

Thanks
Ronaldo
-- 
[It is] best to confuse only one issue at a time.
		-- K&R
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Jun 20 18:27:53 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 20 Jun 2002 09:27:53 -0700 (PDT)
Subject: [R] Legality of copying from Splus.
In-Reply-To: <Pine.OSF.4.44.0206200750120.62814-100000@axe.humboldt.edu>
Message-ID: <Pine.GSO.4.10.10206200924570.3856-100000@quetelet.stat.ucla.edu>

> BTW, does anyone else on the list know the license status of code posted
> to the list, e.g. the ebars() function that I posted in response to Rolf's
> inquiry?  How about when that code is later incorporated into a package
> released under a specific license?  For example, the ebars() function I
> posted is part of a toolset for analyses of ecological data that I plan
> to release later this year under the GPL.  Did I relinquish my copyright
> by posting it here without specific reference to it's license for use?

I believe the license status is determined by you and your copyright over
the code is effective immediately (as soon as you post it).  I think most
people who post code here implicitly put it in the public domain, but that
does not need to be the case.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 20 Jun 2002, Michael Camann wrote:

> On Thu, 20 Jun 2002, Rolf Turner wrote:
> 
> > [Can't anybody ***read*** these days?]
> 
> Evidently I (and others) misunderstood your request.  I thought you were
> asking about the specific function error.bar().  Since your question is
> more general, I assume that you actually have an S-Plus license or that
> you have unlicensed access to S-Plus code.  If that's the case, have you
> ***read*** the copyright?  I should think that it's rather clear on this
> issue.
> 
> While on the topic, I suggest that you read the Free Software Foundation
> GNU Public License, under which R and many (all?) of its contributed
> packages are  released.  It too is quite specific regarding such things as
> how R code  propogates its open source model into deriviative software
> built onto R or R packages licensed under the GPL.
> 
> 
> --Mike C.
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Michael A. Camann                                  Voice: 707-826-3676
> Associate Professor of Zoology                       Fax: 707-826-3201
> Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
> Department of Biology                            ifcr at axe.humboldt.edu
> Humboldt State University
> Arcata, CA 95521
> 
>                  URL:http://www.humboldt.edu/~mac24/
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Thu Jun 20 19:24:40 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Thu, 20 Jun 2002 13:24:40 -0400
Subject: [R] Questions on Instalation of SJava Package to R1.5.0
Message-ID: <OFDF978BE4.F35D70A6-ON85256BDE.005EE385@rtp.epa.gov>

Dear Expects,

I tried to install the SJava package to the Library subdirectory of my
R1.5.0. However, when I tried it according to the instructions from
http://www.omegahat.org/RSJava/, I got the following error messages:

library(SJava)
Error in .Defunct() : `.Alias' is defunct.
See ?Defunct.

>.JavaInit()
Error: couldn't find function ".JavaInit"

I downloaded SJavaWin 0.62-8.zip, and unzip it under Window systems.

Any help is appreciated.

Charlie Liu
Graduate Intern at US EPA.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jun 20 19:33:00 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 20 Jun 2002 13:33:00 -0400
Subject: [R] Questions on Instalation of SJava Package to R1.5.0
In-Reply-To: <OFDF978BE4.F35D70A6-ON85256BDE.005EE385@rtp.epa.gov>; from Liu.Chunhua@epamail.epa.gov on Thu, Jun 20, 2002 at 01:24:40PM -0400
References: <OFDF978BE4.F35D70A6-ON85256BDE.005EE385@rtp.epa.gov>
Message-ID: <20020620133300.A4814@jessie.research.bell-labs.com>


The simple short-term fix is to replace the line
  .JNew <- .Alias(.JavaConstructor)    
with
  .JNew <- .JavaConstructor

in the file SJava/R/SJava.

I hope to build another version of this package for use with R-1.5.1
either tomorrow or early next week.

 D.

Liu.Chunhua at epamail.epa.gov wrote:
> Dear Expects,
> 
> I tried to install the SJava package to the Library subdirectory of my
> R1.5.0. However, when I tried it according to the instructions from
> http://www.omegahat.org/RSJava/, I got the following error messages:
> 
> library(SJava)
> Error in .Defunct() : `.Alias' is defunct.
> See ?Defunct.
> 
> >.JavaInit()
> Error: couldn't find function ".JavaInit"
> 
> I downloaded SJavaWin 0.62-8.zip, and unzip it under Window systems.
> 
> Any help is appreciated.
> 
> Charlie Liu
> Graduate Intern at US EPA.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at ec.rr.com  Thu Jun 20 20:01:02 2002
From: mprager at ec.rr.com (Mike Prager)
Date: Thu, 20 Jun 2002 14:01:02 -0400
Subject: [R] small ps
In-Reply-To: <Pine.LNX.4.33.0206201019250.5148-100000@localhost.localdom
 ain>
Message-ID: <5.1.0.14.2.20020620135907.00ab59d8@pop-server.ec.rr.com>

At 6/20/2002 at 10:30 AM, you wrote:
>Ive created a postscript files that looks just like I want it to look
>except instead of being 6'' x 6'' i want it to be 2''x 2''.[...]
>before i start tinkering with the cex's and mar... is there an easier way
>to make the figure exactly the same but at a smaller scale?

If you are going to insert it into a document (e.g., with Word or LaTeX), 
convert it to an eps file and the application should be able to scale it 
perfectly.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.J.Wells at open.ac.uk  Thu Jun 20 20:32:54 2002
From: P.J.Wells at open.ac.uk (P.J.Wells@open.ac.uk)
Date: Thu, 20 Jun 2002 19:32:54 +0100
Subject: [R] Legality of copying from Splus.
Message-ID: <F9D44AC0D89CD311B9E3000629385C40044DA0F5@marconi.open.ac.uk>

As far as I understand the law of copyright in the UK, at least, any
literary work (including computer code) is the copyright of the author,
whether published or not, and whether labelled as such or not.

This subject to some exceptions, of which its creation under a contract of
employment is I believe the most important, but presumably any commitments
entered into by virtue of using R would also modify the position.

Julian Wells
OU Business School
The Open University
Walton Hall
Milton Keynes
MK7 6AA
United Kingdom
+44 1908 654658
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patfoley at csus.edu  Thu Jun 20 21:12:11 2002
From: patfoley at csus.edu (Patrick Foley)
Date: Thu, 20 Jun 2002 12:12:11 -0700
Subject: [R] reverse engineering
Message-ID: <3D12290A.2CFB5C8F@csus.edu>

A useful FAQ concerning reverse engineering and related issues can be
found at this site.

http://www.chillingeffects.org/reverse/faq.cgi#QID188

As in the case of many such constraints, I think that the anti-reverse
engineering clauses attached to software licenses probably violate other
freedoms that have greater legal priority. This is a job for the courts
to decide, but at least in the USA it is hard to have much confidence in
their impartiality and wisdom.

Patrick Foley
patfoley at csus.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 20 21:18:44 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 20 Jun 2002 15:18:44 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4A3@EPOCH.arqule.com>

Hi,

It is most probably just my R-ignorance, but I have following problem with 
using predict(). I train the model using 164 cases and then I try to use
it on the data set with 35 cases, but I am getting 164 predictions ?

R-code below illustrates in more detail what I am doing.

Truly yours,

R

train = read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")

yr <- train[,1]              # take Y from 1 column
xr <- train[,-1]        # X is the rest
xr <- scale(xr)     # matrix <- scale(data.frame)
x.center <- attr(xr, "scaled:center")
x.scale <- attr(xr, "scaled:scale")
mask <- apply(xr, 2, function(x) any(is.na(x)))
xr <- xr[,!mask] # rm NA's
model <- lm(yr ~ xr) # fit linear model

test <- read.csv("test.csv", header = TRUE, row.names = "mol",
comment.char="")

ys <- test[,1]
xs <- test[,-1]
xs <- scale(xs, center = x.center, scale = x.scale)
xs <- xs[,!mask]
xs <- as.data.frame(xs)

pr <- predict(model, as.data.frame(xr))
ps <- predict(model, xs)

cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
cat("why length(ps) != length(ys) ???\n")

# my output:
#
# length(yr) = 164 ; length(pr) = 164 
# dim(xr) = 164 118 ; dim(xs) = 35 118 
# length(ys) = 35 ; length(ps) = 164 
# why length(ps) != length(ys) ???

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
Sent: Thursday, June 20, 2002 12:15 PM
To: r-help at stat.math.ethz.ch
Subject: [R] dist(a,b) ???


Is there a function analogous to "dist" which would
calculate distances between rows of two different data sets ?

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 20 21:20:21 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 20 Jun 2002 15:20:21 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4A4@EPOCH.arqule.com>

Hi,

It is most probably just my R-ignorance, but I have following problem with 
predict(). I train the model using 164 cases and then I try to use
it on the data set with 35 cases, but I am getting 164 predictions ?

R-code below illustrates in more detail what I am doing.

Truly yours,

R

train = read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")

yr <- train[,1]              # take Y from 1 column
xr <- train[,-1]        # X is the rest
xr <- scale(xr)     # matrix <- scale(data.frame)
x.center <- attr(xr, "scaled:center")
x.scale <- attr(xr, "scaled:scale")
mask <- apply(xr, 2, function(x) any(is.na(x)))
xr <- xr[,!mask] # rm NA's
model <- lm(yr ~ xr) # fit linear model

test <- read.csv("test.csv", header = TRUE, row.names = "mol",
comment.char="")

ys <- test[,1]
xs <- test[,-1]
xs <- scale(xs, center = x.center, scale = x.scale)
xs <- xs[,!mask]
xs <- as.data.frame(xs)

pr <- predict(model, as.data.frame(xr))
ps <- predict(model, xs)

cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
cat("why length(ps) != length(ys) ???\n")

# my output:
#
# length(yr) = 164 ; length(pr) = 164 
# dim(xr) = 164 118 ; dim(xs) = 35 118 
# length(ys) = 35 ; length(ps) = 164 
# why length(ps) != length(ys) ???

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
Sent: Thursday, June 20, 2002 12:15 PM
To: r-help at stat.math.ethz.ch
Subject: [R] dist(a,b) ???


Is there a function analogous to "dist" which would
calculate distances between rows of two different data sets ?

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Jun 20 21:31:03 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 20 Jun 2002 13:31:03 -0600 (MDT)
Subject: [R] errors installing R-1.5.1 on linux debian
Message-ID: <Pine.GSO.4.05.10206201310430.27614-100000@virga.rap.ucar.edu>

Hello

I'm upgrading from R-1.4.1 to R-1.5.1, locally on my Linux PC running
Debian.

after running 'configure' this is what I get  (just in case it helps
figuring out what follows later...)

R is now configured for i686-pc-linux-gnu
 
  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -g -O2
  C++ compiler:              g++  -mieee-fp -g -O2
  FORTRAN compiler:          g77  -g -O2
 
  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  Readline support:          no
 
  R profiling support:       yes
  R as a shared library:     no

but when I type 'make' I receive the following error messages (these are
just the last few lines of many screenfuls of output, where things seem
to be working well 'til...)

make[4]: Entering directory `/home/tebaldi/R/R-1.5.1/src/library/methods'
dumping R code in package 'methods'
initializing class and method definitions now ...Error in
.Call("R_missingArg", if (eval) symbol else substitute(symbol),  :
        .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[4]: Leaving directory `/home/tebaldi/R/R-1.5.1/src/library/methods'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/home/tebaldi/R/R-1.5.1/src/library/methods'
make[2]: *** [R] Error 1
make[2]: Leaving directory `/home/tebaldi/R/R-1.5.1/src/library'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/home/tebaldi/R/R-1.5.1/src'
make: *** [R] Error 1


I haven't had any trouble installing previous versions (but please notice,
I haven't tried installing R-1.5.0 ). What I noticed in the configure
output that differs from configuring for R-1.4.1 is the C++ compiler 
(then c++, now g++)...but that's about as far as I can get!

Does anybody have any suggestion?
thanks in advance

claudia

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
M-W-Th @FL (303) 497-2830                        Boulder, CO 80307
Tu-F   @ML (303) 497-1621                        tebaldi at ucar.edu
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Jun 20 21:27:30 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 20 Jun 2002 15:27:30 -0400
Subject: [R] dist(a,b) ???
References: <EDE2901A3801144496F3485FCFEC8D3027C49F@EPOCH.arqule.com>
Message-ID: <3D122CA2.D5BDFB82@umsanet.edu.bo>

disr( rbind(a,b) ) and then use the part you need?

Kjetil Halvorsen

"Czerminski, Ryszard" wrote:
> 
> Is there a function analogous to "dist" which would
> calculate distances between rows of two different data sets ?
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jun 20 21:47:42 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 20 Jun 2002 14:47:42 -0500
Subject: [R] errors installing R-1.5.1 on linux debian
Message-ID: <E17L7uA-0003jj-00@sonny.eddelbuettel.com>


Claudia,

> I'm upgrading from R-1.4.1 to R-1.5.1, locally on my Linux PC running
> Debian.

a) Which version of Debian is that?

b) Why not use the precompiled Debian packages I announced on Monday eve?

[...]
> I haven't had any trouble installing previous versions (but please notice,
> I haven't tried installing R-1.5.0 ). What I noticed in the configure
> output that differs from configuring for R-1.4.1 is the C++ compiler 
> (then c++, now g++)...but that's about as far as I can get!

Same binary, shouldn't matter.

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 20 23:10:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2002 23:10:06 +0200
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4A4@EPOCH.arqule.com>
References: <EDE2901A3801144496F3485FCFEC8D3027C4A4@EPOCH.arqule.com>
Message-ID: <x2d6ul4pxt.fsf@biostat.ku.dk>

"Czerminski, Ryszard" <ryszard at arqule.com> writes:

> pr <- predict(model, as.data.frame(xr))
> ps <- predict(model, xs)
> 
> cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
> cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
> cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
> cat("why length(ps) != length(ys) ???\n")
> 
> # my output:
> #
> # length(yr) = 164 ; length(pr) = 164 
> # dim(xr) = 164 118 ; dim(xs) = 35 118 
> # length(ys) = 35 ; length(ps) = 164 
> # why length(ps) != length(ys) ???

Does xs contain a variable called xr?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Fri Jun 21 00:20:39 2002
From: ozric at web.de (christian)
Date: Fri, 21 Jun 2002 00:20:39 +0200
Subject: [R] cat output To data.frame.rows ?
Message-ID: <E17LACf-00017e-00@smtp.web.de>

OK , many thanks that's a solution !
regards,christian


Am 20.06.2002 18:05:49, schrieb Ott Toomet <siim at obs.ee>:

>On Thu, 20 Jun 2002, Christian Schulz wrote:
>
>  |Hi,
>  |is there a possibilty  to get my function output with "cat "
>  |as data.frame.rows with variables ?
>  |
>  |Var1---------------- 8 15 1 3
>  |Var2---------------- 0.170 0.319 0.0213 0.0638
>...
>
>It is unfortunately not quite clear to me what do you want.  I think if you
>want to get _output from cat()_ into a data frame, the only possibility is
>to save the region into a file and then read in as data frame (using
>read.table(... row.names=T).

>
>I would rather suggest to do it 
>
>a) automatically, using sink() to redirect the output to a file, and then
>reading the file in again, perhaps correcting for some syntax problems as
>------ signs in your example, and thereafter read it in as a data.frame.
>
>b) without any printing at all, putting values directly into a data.frame
>instead.  It depends on, what you actually are doing.
>
>
>You should explain better, if I was completely missing the point.
>
>Ott
>
>




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Fri Jun 21 00:25:42 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Thu, 20 Jun 2002 15:25:42 -0700
Subject: [R] Line plot with 3 points
Message-ID: <5.1.0.14.2.20020620151748.00ade730@wheresmymailserver.com>

Dear R-experts,

I have a data file df as the following:

genename		variable at 1hr		variable at 4 hr		variable at 10 hr
gene1
gene2
.
.
.
gene5000

I would like to have a graph with X-axis as the time point (1hr, 4hr, 
10hr), and Y-axis as the value of the variable.  So, basically, I want to 
do a line with the three different values at 1hr , 4hr and 10hr for all the 
5000 genes.  My purpose is to see a pattern for these genes.  I am 
expecting more genes with high values at 1hr than 4hr.

I tried to use ts package, but, they only allow 10 series.  I searched the 
R-help archive, but found nothing.  Can anyone point me to the right direction?

Thanks in advance for your help.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Fri Jun 21 03:35:56 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Thu, 20 Jun 2002 18:35:56 -0700
Subject: [R] a question on statistics (rather than R-specific)
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8932@MAYO>

I have used plor() to model a rather large 3-category dataset (~1500 data
points, ~15 independent variables); from the resulting model (with a
deviance slightly below the residual degrees of freedom), the training data
are placed in only the two extreme categories.  Though the result appears to
indicate that there's only a relative 'narrow' bin for the medium group,
[and when the dataset is re-organized into 2 categories, glm(family =
binomial(link = logit) ...) gives a model with a deviance reduced by about
half from the 3-category polr() result], I am questioning if this (the
'narrow-bin') interpretation is too simplistic (or entirely incorrect), and
wondering about the meaning of the absence of (fitted) data points in the
medium group.

Thanks in advance for any hints/pointers!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jun 21 03:54:47 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 20 Jun 2002 18:54:47 -0700 (PDT)
Subject: [R] Line plot with 3 points
In-Reply-To: <5.1.0.14.2.20020620151748.00ade730@wheresmymailserver.com>
Message-ID: <Pine.GSO.4.10.10206201851060.4984-100000@fisher.stat.ucla.edu>

Would something like this work? :

df <- read.table("mydataframeblahblah")
yr <- range(c(df$onehr, df$fourhr, df$tenhr))
plot(0,0, type="n", ylim=yr, xlim=c(0, 10))
for(i in 1:nrow(df)) lines(c(1,4,10), df[i, c("onehr","fourhr","tenhr")])

I haven't actually tried this out but maybe something like this is what
you want?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 20 Jun 2002, Pauline Gu wrote:

> Dear R-experts,
> 
> I have a data file df as the following:
> 
> genename		variable at 1hr		variable at 4 hr variable 
at 10 hr
> gene1
> gene2
> .
> .
> .
> gene5000
> 
> I would like to have a graph with X-axis as the time point (1hr, 4hr, 
> 10hr), and Y-axis as the value of the variable.  So, basically, I want to 
> do a line with the three different values at 1hr , 4hr and 10hr for all the 
> 5000 genes.  My purpose is to see a pattern for these genes.  I am 
> expecting more genes with high values at 1hr than 4hr.
> 
> I tried to use ts package, but, they only allow 10 series.  I searched the 
> R-help archive, but found nothing.  Can anyone point me to the right direction?
> 
> Thanks in advance for your help.
> 
> Pauline
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Fri Jun 21 06:19:25 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 21 Jun 2002 16:19:25 +1200
Subject: [R] Re: new package `multcomp'
In-Reply-To: <Pine.LNX.4.21.0206201743230.24563-100000@artemis>
References: <Pine.LNX.4.21.0206201743230.24563-100000@artemis>
Message-ID: <20020621041925.GA7056@hortresearch.co.nz>

On Thu, 20-Jun-2002 at 05:47PM +0200, Torsten Hothorn wrote:

|> 
|> 
|> New package `multcomp' for general multiple comparisons
|> 
|> 	written by Frank Bretz, Torsten Hothorn and Peter Westfall
|> 
|> We've uploaded the package `multcomp' to CRAN.

Where?  I don't see it.  Did you use a mirror site?

best 

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Jun 21 07:48:08 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 21 Jun 2002 07:48:08 +0200 (CEST)
Subject: [R] Line plot with 3 points
In-Reply-To: <Pine.GSO.4.10.10206201851060.4984-100000@fisher.stat.ucla.edu>
Message-ID: <Pine.LNX.4.44.0206210744500.11870-100000@localhost.localdomain>

On Thu, 20 Jun 2002, Roger Peng wrote:

  |Would something like this work? :
  |
  |df <- read.table("mydataframeblahblah")
  |yr <- range(c(df$onehr, df$fourhr, df$tenhr))
  |plot(0,0, type="n", ylim=yr, xlim=c(0, 10))
  |for(i in 1:nrow(df)) lines(c(1,4,10), df[i, c("onehr","fourhr","tenhr")])

  |On Thu, 20 Jun 2002, Pauline Gu wrote:
  |
  |> Dear R-experts,
  |> 
  |> I have a data file df as the following:
  |> 
  |> genename		variable at 1hr		variable at 4 hr variable 
  |> .
  |> .

Or use matplot().  E.g.

> a <- data.frame(rnorm(25,0), rnorm(25,5),rnorm(25,10))
> names(a) <- c("1 hr", "4 hr", "10 hr")
> matplot(1:3,t(a), type="l", xaxt="n")
> axis(1,at=1:3, label=names(a))

In this example, you can see a clear pattern.  But I am not shure, if you
can see anything with 5000 lines.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 08:37:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jun 2002 07:37:00 +0100 (BST)
Subject: [R] a question on statistics (rather than R-specific)
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF8932@MAYO>
Message-ID: <Pine.GSO.4.44.0206210735050.18082-100000@auk.stats>

On Thu, 20 Jun 2002, Boryeu Mao wrote:

> I have used plor() to model a rather large 3-category dataset (~1500 data
> points, ~15 independent variables); from the resulting model (with a
> deviance slightly below the residual degrees of freedom), the training data
> are placed in only the two extreme categories.  Though the result appears to
> indicate that there's only a relative 'narrow' bin for the medium group,
> [and when the dataset is re-organized into 2 categories, glm(family =
> binomial(link = logit) ...) gives a model with a deviance reduced by about
> half from the 3-category polr() result], I am questioning if this (the
> 'narrow-bin') interpretation is too simplistic (or entirely incorrect), and
> wondering about the meaning of the absence of (fitted) data points in the
> medium group.
>
> Thanks in advance for any hints/pointers!

Probably the POLR model is inappropriate: try multinom for a fair
comparison (you cannot compare likelihoods on grouped and ungrouped data).

See the examples in MASS (the book) which is where polr() comes from.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jun 21 08:51:19 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 21 Jun 2002 08:51:19 +0200 (MEST)
Subject: [R] Re: new package `multcomp'
In-Reply-To: <20020621041925.GA7056@hortresearch.co.nz>
Message-ID: <Pine.LNX.4.21.0206210849230.8313-100000@artemis>

> On Thu, 20-Jun-2002 at 05:47PM +0200, Torsten Hothorn wrote:
> 
> |> 
> |> 
> |> New package `multcomp' for general multiple comparisons
> |> 
> |> 	written by Frank Bretz, Torsten Hothorn and Peter Westfall
> |> 
> |> We've uploaded the package `multcomp' to CRAN.
> 
> Where?  I don't see it.  Did you use a mirror site?
> 

http://cran.r-project.org/src/contrib/PACKAGES.html#multcomp


> best 
> 
> -- 
> Patrick Connolly
> HortResearch
> Mt Albert
> Auckland
> New Zealand 
> Ph: +64-9 815 4200 x 7188
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> I have the world`s largest collection of seashells. I keep it on all
> the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> 
> 
> ______________________________________________________
> The contents of this e-mail are privileged and/or confidential to the
> named recipient and are not to be used by any other person and/or
> organisation. If you have received this e-mail in error, please notify 
> the sender and delete all material pertaining to this e-mail.
> ______________________________________________________
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lacen at EOS-GmbH.de  Fri Jun 21 09:32:45 2002
From: Lacen at EOS-GmbH.de (Lacen@EOS-GmbH.de)
Date: Fri, 21 Jun 2002 09:32:45 +0200
Subject: [R] Question
Message-ID: <A6EA725ADC3AD411A0E80008C7FA235BCDA9C9@dp003.eos-gmbh.de>

Hallo,
once again I have a question. Maybe someone can help me.

I call in my programm (VC++) the Rterm.exe via "Rterm.exe --no-restore
--no-save < example.R >example.Rout".
In example.R : 
	temperaturfeld <- read.table(file.choose(), header = TRUE, sep= "",
comment.char = "#")
	temperaturmatrix <- data.matrix(temperaturfeld)
	windows()
	image(x,y,temperaturmatrix,axes=TRUE, xlab= "Matrix-row",
ylab="Matrix-column")

Now my problem: 
How you see, I open in example.R a window via windows() to display the
image(....), but Rterm.exe closes after executing all example.R commands and
I want to keep the window active, so that I can use the window-menue. 

Question:
Which command can I use in example.R or what else can I do that I can keep
the window active?

Thanks for helping me.

Ales Lacen
e - mail: lacen at eos-gmbh.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 09:49:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 08:49:34 +0100 (BST)
Subject: [R] Keeping a graphics window active at the end of a rterm batch
 session (was Question)
In-Reply-To: <A6EA725ADC3AD411A0E80008C7FA235BCDA9C9@dp003.eos-gmbh.de>
Message-ID: <Pine.LNX.4.31.0206210846150.12872-100000@gannet.stats>

Search the archives, as this has been answered before.  Please use an
informative subject, so other people can use search on *your* questions.

The short answer is to call a dialog box at the end of your script asking
to finish the session: see ?winDialog

On Fri, 21 Jun 2002 Lacen at EOS-GmbH.de wrote:

> Hallo,
> once again I have a question. Maybe someone can help me.
>
> I call in my programm (VC++) the Rterm.exe via "Rterm.exe --no-restore
> --no-save < example.R >example.Rout".
> In example.R :
> 	temperaturfeld <- read.table(file.choose(), header = TRUE, sep= "",
> comment.char = "#")
> 	temperaturmatrix <- data.matrix(temperaturfeld)
> 	windows()
> 	image(x,y,temperaturmatrix,axes=TRUE, xlab= "Matrix-row",
> ylab="Matrix-column")
>
> Now my problem:
> How you see, I open in example.R a window via windows() to display the
> image(....), but Rterm.exe closes after executing all example.R commands and
> I want to keep the window active, so that I can use the window-menue.
>
> Question:
> Which command can I use in example.R or what else can I do that I can keep
> the window active?
>
> Thanks for helping me.
>
> Ales Lacen
> e - mail: lacen at eos-gmbh.de
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Fri Jun 21 11:50:52 2002
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Fri, 21 Jun 2002 05:50:52 -0400
Subject: [R] textConnection appears to be slow
Message-ID: <OFD106D988.CA1DA3C8-ON85256BDF.0035679D@cbis.com>

I was trying to read in a file and delete lines that did not have the
correct
number of fields on them.  I was reading the file as one character vector
per line
using 'scan' with sep='\n'.  I was then using 'count.fields' with
'textConnection' to the object I just read in.

I thought at first the system was locked up, but further testing showed
that the
'textConnection' was a very slow way to read in data to 'count.fields' as
compared to
'count.fields' just reading the file.

Is this a characteristic of using 'textConnection' on large objects?

==============================================================

> unix.time(x.1 <- scan('iostat.zigzag.020620', what='', sep='\n'))
Read 117163 items
[1] 4.00 0.07 4.08   NA   NA
> str(x.1)
 chr [1:117163] "000035 atf233       0.0    0.8    0.0    5.9  0.0  0.0
9.3   0   0 " ...
#
# count.fields just reading the file directly; this appears to work fine
(<4 seconds)
#
> unix.time(x.2 <- count.fields('iostat.zigzag.020620'))
[1] 3.35 0.04 3.39   NA   NA
> str(x.2)
 int [1:117163] 11 11 11 11 11 11 11 11 11 11 ...
> sum(x.2 != 11)    # determine number of 'bad' records
[1] 3
#
# processing times get longer with larger objects
#
> unix.time(x.3 <- count.fields(textConnection(x.1[1:3000])))
[1] 0.94 0.00 0.94   NA   NA
> unix.time(x.3 <- count.fields(textConnection(x.1[1:7000])))
[1] 13.61  0.02 13.64    NA    NA
> unix.time(x.3 <- count.fields(textConnection(x.1[1:10000])))
[1] 31.61  0.00 31.75    NA    NA
>


platform "i386-pc-mingw32"
arch     "i386"
os       "mingw32"
system   "i386, mingw32"
status   ""
major    "1"
minor    "5.1"
year     "2002"
month    "06"
day      "17"
language "R"

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Fri Jun 21 11:58:47 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Fri, 21 Jun 2002 11:58:47 +0200
Subject: [R] rbind
Message-ID: <3D1314F7.17124.CA8395@localhost>

Hello,

I am sure this is a trivial question, but I don't get it...
Having a dataframe (b.70) like that:

> b.70[1:4,2:3]
         ARG        AUS
1960     19041     25949
1961     19675     25451
1962     19302     26463
1963     18121     27644

Now I want to calculate the log for each year and save the 
result in a new dataframe called 'x'.

x<- data.frame(w=NULL)
for(i in 1:3)
ja <- b.70[i:(i+1),2:3]
  af <- log(ja[2,]/ja[1,])
  x <-  rbind(x,af)

But this saves only the last value of 'af' in 'x'
> x
        ARG          AUS      
1963 -0.06313723  0.04366118

So, how can I preserve the old values of x?

Thanks a lot
Patrick

-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jun 21 12:20:11 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 21 Jun 2002 12:20:11 +0200 (MEST)
Subject: [R] rbind
In-Reply-To: <3D1314F7.17124.CA8395@localhost>
Message-ID: <Pine.LNX.4.21.0206211218460.8390-100000@artemis>


> x<- data.frame(w=NULL)
> for(i in 1:3)
> ja <- b.70[i:(i+1),2:3]
>   af <- log(ja[2,]/ja[1,])
>   x <-  rbind(x,af)
> 

maybe you should tell "for" to loop over the second and third line, too


for(i in 1:3)  {
 ja <- b.70[i:(i+1),2:3]
 af <- log(ja[2,]/ja[1,])
 x <-  rbind(x,af)
}


Torsten

> But this saves only the last value of 'af' in 'x'
> > x
>         ARG          AUS      
> 1963 -0.06313723  0.04366118
> 
> So, how can I preserve the old values of x?
> 
> Thanks a lot
> Patrick
> 
> -------------
> Patrick Hausmann
> Friedrich-Wilhelm Str. 37 - D-28199 Bremen
> Tel. +49 421 5980631 - Fax. +49 421 5980632
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joehl at gmx.de  Fri Jun 21 12:48:27 2002
From: joehl at gmx.de (Jens =?ISO-8859-1?Q?Oehlschl=E4gel?=)
Date: Fri, 21 Jun 2002 12:48:27 +0200 (MEST)
Subject: [R] dist(a,b) ??? knn1?
Message-ID: <25108.1024656507@www9.gmx.net>



Kjetil,

your suggestion is fine for small data sets, but dist() has o(2) memory and
calculation time requirements. 

I assume that Ryszard wanted a function that does ONLY calculate distances
between all combinations of two sets of data rows for perfomance reasons. E.G.
knn1 of library class having parameters train= and test= might do that
internally. However, I am not aware of such a C-function directly interfaceable
from R.

So I like to repeat Ryszard's question as I understand it: is there any
C-function in R allowing to calculate such distances efficiently?

Thanks for any hints


Jens Oehlschl?gel


-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 13:50:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 12:50:34 +0100 (BST)
Subject: [R] textConnection appears to be slow
In-Reply-To: <OFD106D988.CA1DA3C8-ON85256BDF.0035679D@cbis.com>
Message-ID: <Pine.LNX.4.31.0206211248130.14150-100000@gannet.stats>

On Fri, 21 Jun 2002 james.holtman at convergys.com wrote:

> I was trying to read in a file and delete lines that did not have the
> correct
> number of fields on them.  I was reading the file as one character vector
> per line
> using 'scan' with sep='\n'.  I was then using 'count.fields' with
> 'textConnection' to the object I just read in.
>
> I thought at first the system was locked up, but further testing showed
> that the
> 'textConnection' was a very slow way to read in data to 'count.fields' as
> compared to
> 'count.fields' just reading the file.
>
> Is this a characteristic of using 'textConnection' on large objects?

Yes, input from `textConnection' like this will be slow.  It's a
character-at-a-time process, allowing for pushbacks.  For large scratch
use, use a scratch file (via file()).

>
> ==============================================================
>
> > unix.time(x.1 <- scan('iostat.zigzag.020620', what='', sep='\n'))
> Read 117163 items
> [1] 4.00 0.07 4.08   NA   NA
> > str(x.1)
>  chr [1:117163] "000035 atf233       0.0    0.8    0.0    5.9  0.0  0.0
> 9.3   0   0 " ...
> #
> # count.fields just reading the file directly; this appears to work fine
> (<4 seconds)
> #
> > unix.time(x.2 <- count.fields('iostat.zigzag.020620'))
> [1] 3.35 0.04 3.39   NA   NA
> > str(x.2)
>  int [1:117163] 11 11 11 11 11 11 11 11 11 11 ...
> > sum(x.2 != 11)    # determine number of 'bad' records
> [1] 3
> #
> # processing times get longer with larger objects
> #
> > unix.time(x.3 <- count.fields(textConnection(x.1[1:3000])))
> [1] 0.94 0.00 0.94   NA   NA
> > unix.time(x.3 <- count.fields(textConnection(x.1[1:7000])))
> [1] 13.61  0.02 13.64    NA    NA
> > unix.time(x.3 <- count.fields(textConnection(x.1[1:10000])))
> [1] 31.61  0.00 31.75    NA    NA
> >
>
>
> platform "i386-pc-mingw32"
> arch     "i386"
> os       "mingw32"
> system   "i386, mingw32"
> status   ""
> major    "1"
> minor    "5.1"
> year     "2002"
> month    "06"
> day      "17"
> language "R"
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 21 14:10:21 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 21 Jun 2002 08:10:21 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4A6@EPOCH.arqule.com>

> Does xs contain a variable called xr?

No - it does not.

I was expecting that if I use model built using
(yr,xr) data with 164 cases and 118 variables
to predict on a test data (xs) with 35 cases
> # dim(xr) = 164 118 ; dim(xs) = 35 118
I should get vector of 35 responses from predict(),
but I am getting instead 164 responses.
> # length(ys) = 35 ; length(ps) = 164

If I go through example provided with help(predict.lm)
I get expected number of responses (13).
This is however only 1D example.

I am sure I am missing something and probably not using
predict() correctly, but I am at loss what it is...

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
Sent: Thursday, June 20, 2002 5:10 PM
To: Czerminski, Ryszard
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] problem with predict()


"Czerminski, Ryszard" <ryszard at arqule.com> writes:

> pr <- predict(model, as.data.frame(xr))
> ps <- predict(model, xs)
> 
> cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
> cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
> cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
> cat("why length(ps) != length(ys) ???\n")
> 
> # my output:
> #
> # length(yr) = 164 ; length(pr) = 164 
> # dim(xr) = 164 118 ; dim(xs) = 35 118 
> # length(ys) = 35 ; length(ps) = 164 
> # why length(ps) != length(ys) ???

Does xs contain a variable called xr?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 21 14:32:53 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2002 14:32:53 +0200
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4A6@EPOCH.arqule.com>
References: <EDE2901A3801144496F3485FCFEC8D3027C4A6@EPOCH.arqule.com>
Message-ID: <x2fzzgizgq.fsf@biostat.ku.dk>

"Czerminski, Ryszard" <ryszard at arqule.com> writes:

> > Does xs contain a variable called xr?
> 
> No - it does not.
> 
> I was expecting that if I use model built using
> (yr,xr) data with 164 cases and 118 variables
> to predict on a test data (xs) with 35 cases
> > # dim(xr) = 164 118 ; dim(xs) = 35 118
> I should get vector of 35 responses from predict(),
> but I am getting instead 164 responses.
> > # length(ys) = 35 ; length(ps) = 164
> 
> If I go through example provided with help(predict.lm)
> I get expected number of responses (13).
> This is however only 1D example.
> 
> I am sure I am missing something and probably not using
> predict() correctly, but I am at loss what it is...

Your model formula was yr ~ xr, if there's no "xr" in the newdata
argument, I rather strongly suspect that the xr in the global
workspace is getting used for predictions, and that one is 164
elements long.... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 21 14:34:07 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 21 Jun 2002 08:34:07 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3AF@usrymx10.merck.com>

The second argument to predict.lm, `newdata', is suppose to be a data frame
containing variables that were used to fit the model.  Thus if in your lm
object the predictor is a variable named `xr', the predict method will be
looking for `xr', and ignored `xs' that you passed in.

It's probably easier to do the following:

## Put training data in a data frame.
train <- data.frame(y=yr, x=xr)
## Put test data in a data frame.
test <- data.frame(y=ys, x=xs)

myfit <- lm(y ~ x, train)
test.pred <- predict(myfit, test)

Hope this helps,
Andy

> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Friday, June 21, 2002 8:10 AM
> To: 'Peter Dalgaard BSA'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> > Does xs contain a variable called xr?
> 
> No - it does not.
> 
> I was expecting that if I use model built using
> (yr,xr) data with 164 cases and 118 variables
> to predict on a test data (xs) with 35 cases
> > # dim(xr) = 164 118 ; dim(xs) = 35 118
> I should get vector of 35 responses from predict(),
> but I am getting instead 164 responses.
> > # length(ys) = 35 ; length(ps) = 164
> 
> If I go through example provided with help(predict.lm)
> I get expected number of responses (13).
> This is however only 1D example.
> 
> I am sure I am missing something and probably not using
> predict() correctly, but I am at loss what it is...
> 
> R
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Thursday, June 20, 2002 5:10 PM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] problem with predict()
> 
> 
> "Czerminski, Ryszard" <ryszard at arqule.com> writes:
> 
> > pr <- predict(model, as.data.frame(xr))
> > ps <- predict(model, xs)
> > 
> > cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
> > cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
> > cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
> > cat("why length(ps) != length(ys) ???\n")
> > 
> > # my output:
> > #
> > # length(yr) = 164 ; length(pr) = 164 
> > # dim(xr) = 164 118 ; dim(xs) = 35 118 
> > # length(ys) = 35 ; length(ps) = 164 
> > # why length(ps) != length(ys) ???
> 
> Does xs contain a variable called xr?
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri Jun 21 15:22:22 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 21 Jun 2002 09:22:22 -0400
Subject: [R] lme: anova vs. intervals
Message-ID: <5.1.0.14.2.20020621091240.00aba7f0@po.muohio.edu>

Windows 2000 (v.5.00.2195), R 1.5.1
I have an lme object, fm0, which I examine with anova() and intervals().
The anova output indicates one of the interaction terms is significant, but 
the intervals output shows that the single parameter for that term includes 
0.0 in its 95% CI. I believe that the anova is a conditional (sequential) 
test; is intervals marginal or approximate? Which should I trust as more 
accurate or, alternaitvely, more conservative?
Partial output follows.
Thanks for the insight.
Hank

 > anova(fm0)
                          numDF denDF  F-value p-value
(Intercept)                  1    69 6331.902  <.0001
Fert                         3    44   42.176  <.0001
Seed                         1    44    0.488  0.4886
Litter                       1    69    1.830  0.1805
Density                      1    69   68.714  <.0001
Fert:Seed                    3    44    0.061  0.9799
Fert:Litter                  3    69    0.294  0.8294
Fert:Density                 3    69    0.381  0.7667
Seed:Litter                  1    69    0.005  0.9447
Seed:Density                 1    69    0.449  0.5048
Litter:Density               1    69    0.141  0.7087
Fert:Seed:Litter             3    69    0.256  0.8565
Fert:Seed:Density            3    69    4.254  0.0081
Fert:Litter:Density          3    69    1.814  0.1527
Seed:Litter:Density          1    69    4.083  0.0472
Fert:Seed:Litter:Density     3    69    1.047  0.3773

 > intervals(fm0)$fixed
                                   lower        est.       upper
(Intercept)                   2.8880007  3.25040348  3.61280623
...
Density                       0.1076366  0.41670852  0.72578044
...
SeedC:LitterR:Density        -0.4803310  0.06412348  0.60857794




Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Jun 21 15:59:18 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 Jun 2002 08:59:18 -0500
Subject: [R] lme: anova vs. intervals
In-Reply-To: <5.1.0.14.2.20020621091240.00aba7f0@po.muohio.edu>
References: <5.1.0.14.2.20020621091240.00aba7f0@po.muohio.edu>
Message-ID: <6r1yb0vikp.fsf@franz.stat.wisc.edu>

"Martin Henry H. Stevens" <HStevens at muohio.edu> writes:

> Windows 2000 (v.5.00.2195), R 1.5.1
> I have an lme object, fm0, which I examine with anova() and intervals().
> The anova output indicates one of the interaction terms is
> significant, but the intervals output shows that the single parameter
> for that term includes 0.0 in its 95% CI. I believe that the anova is
> a conditional (sequential) test; is intervals marginal or approximate? 

The intervals are both marginal and approximate, although the
approximation is generally very good.  The anova output is based on
the same type of test, F-tests for general linear hypotheses
conditional on the relative values of the variance components.  By
default the anova output is for sequential tests. 

> Which should I trust as more accurate or, alternaitvely, more
> conservative?

They are testing different hypotheses.  You must decide which is the
more meaningful hypothesis.

In this case the intervals on the three-factor interaction term are
marginal intervals from a model that includes the four-factor
interaction.  Most analysts would eliminate that four-factor
interaction before considering marginal tests on a three-factor
interaction. 

(Caution: This answer was composed first thing on a morning when I
got up early (North American time) to watch the Germany-U.S.A. world
cup soccer match. It is entirely possible that I am writing nonsense.)

> Partial output follows.
> Thanks for the insight.
> Hank
> 
>  > anova(fm0)
>                           numDF denDF  F-value p-value
> (Intercept)                  1    69 6331.902  <.0001
> Fert                         3    44   42.176  <.0001
> Seed                         1    44    0.488  0.4886
> Litter                       1    69    1.830  0.1805
> Density                      1    69   68.714  <.0001
> Fert:Seed                    3    44    0.061  0.9799
> Fert:Litter                  3    69    0.294  0.8294
> Fert:Density                 3    69    0.381  0.7667
> Seed:Litter                  1    69    0.005  0.9447
> Seed:Density                 1    69    0.449  0.5048
> Litter:Density               1    69    0.141  0.7087
> Fert:Seed:Litter             3    69    0.256  0.8565
> Fert:Seed:Density            3    69    4.254  0.0081
> Fert:Litter:Density          3    69    1.814  0.1527
> Seed:Litter:Density          1    69    4.083  0.0472
> Fert:Seed:Litter:Density     3    69    1.047  0.3773
> 
>  > intervals(fm0)$fixed
>                                    lower        est.       upper
> (Intercept)                   2.8880007  3.25040348  3.61280623
> ...
> Density                       0.1076366  0.41670852  0.72578044
> ...
> SeedC:LitterR:Density        -0.4803310  0.06412348  0.60857794
> 
> 
> 
> 
> Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
> 
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.muohio.edu/~botcwis/bot/henry.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hcp at met.ed.ac.uk  Fri Jun 21 16:18:34 2002
From: hcp at met.ed.ac.uk (H C Pumphrey)
Date: Fri, 21 Jun 2002 15:18:34 +0100 (BST)
Subject: [R] configure for R 1.5.x on Solaris
Message-ID: <Pine.GSO.4.10.10206211510510.20353-100000@humilis>


Dear All, 

I'm having problems at the configure stage when trying to build R on
Solaris 5.8. configure finds everything it needs but when it runs
config.status to make all the Makefiles and headers, I get a huge slew of
errors like this:

config.status: creating src/extra/zlib/Makefile
sed: -e expression #1, char 329: Unterminated `s' command
sed: file /tmp/cs6134-11745/subs-1.sed line 38: Unterminated `s' command
config.status: creating src/include/Makefile
sed: -e expression #1, char 323: Unterminated `s' command
sed: file /tmp/cs6134-11745/subs-1.sed line 38: Unterminated `s' command

...and so on. I have tried replacing Solaris's native sed with GNU sed (in
fact the above messages are from GNU sed but Solaris sed fails in a
similar way). I have also tried setting CONFIG_SHELL to /foo/bar/bin/bash
to force configure not to use solaris's cheesy /bin/sh . No success, so
now I am at a loss. The problem occurs with R-1.5.0 but not with R-1.4.1
(and of course there is no problem on my Linux box!)

Any ideas welcome.

Hugh

============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
Dr. Hugh C. Pumphrey             | Tel. 0131-650-6026,Fax:0131-650-5780
Institute for Meteorology        | Replace 0131 with +44-131 if outside UK
The University of Edinburgh      | Email hcp at met.ed.ac.uk
EDINBURGH EH9 3JZ, Scotland      | URL: http://www.met.ed.ac.uk/~hcp
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 21 16:21:21 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 21 Jun 2002 10:21:21 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4A9@EPOCH.arqule.com>

>From Liaw, Andy:

> It's probably easier to do the following:
> ## Put training data in a data frame.
> train <- data.frame(y=yr, x=xr)
> ## Put test data in a data frame.
> test <- data.frame(y=ys, x=xs)
> 
> myfit <- lm(y ~ x, train)
> test.pred <- predict(myfit, test)

This looks promissing; however I get an error:

> train <- data.frame(y=yr, x=xr)
> test <- data.frame(y=ys, x=xs)
> myfit <- lm(y ~ x, train)
Error in eval(expr, envir, enclos) : Object "x" not found

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Liaw, Andy [mailto:andy_liaw at merck.com]
Sent: Friday, June 21, 2002 8:34 AM
To: 'Czerminski, Ryszard'
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


The second argument to predict.lm, `newdata', is suppose to be a data frame
containing variables that were used to fit the model.  Thus if in your lm
object the predictor is a variable named `xr', the predict method will be
looking for `xr', and ignored `xs' that you passed in.

It's probably easier to do the following:

## Put training data in a data frame.
train <- data.frame(y=yr, x=xr)
## Put test data in a data frame.
test <- data.frame(y=ys, x=xs)

myfit <- lm(y ~ x, train)
test.pred <- predict(myfit, test)

Hope this helps,
Andy

> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Friday, June 21, 2002 8:10 AM
> To: 'Peter Dalgaard BSA'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> > Does xs contain a variable called xr?
> 
> No - it does not.
> 
> I was expecting that if I use model built using
> (yr,xr) data with 164 cases and 118 variables
> to predict on a test data (xs) with 35 cases
> > # dim(xr) = 164 118 ; dim(xs) = 35 118
> I should get vector of 35 responses from predict(),
> but I am getting instead 164 responses.
> > # length(ys) = 35 ; length(ps) = 164
> 
> If I go through example provided with help(predict.lm)
> I get expected number of responses (13).
> This is however only 1D example.
> 
> I am sure I am missing something and probably not using
> predict() correctly, but I am at loss what it is...
> 
> R
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Thursday, June 20, 2002 5:10 PM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] problem with predict()
> 
> 
> "Czerminski, Ryszard" <ryszard at arqule.com> writes:
> 
> > pr <- predict(model, as.data.frame(xr))
> > ps <- predict(model, xs)
> > 
> > cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
> > cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
> > cat("length(ys) =", length(ys), "; length(ps) =", length(ps), "\n")
> > cat("why length(ps) != length(ys) ???\n")
> > 
> > # my output:
> > #
> > # length(yr) = 164 ; length(pr) = 164 
> > # dim(xr) = 164 118 ; dim(xs) = 35 118 
> > # length(ys) = 35 ; length(ps) = 164 
> > # why length(ps) != length(ys) ???
> 
> Does xs contain a variable called xr?
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

----------------------------------------------------------------------------
--
Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message. If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Fri Jun 21 17:02:21 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Fri, 21 Jun 2002 08:02:21 -0700
Subject: [R] a question on statistics (rather than R-specific)
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8933@MAYO>

Thanks for the reply.  Since the 3 categories are ordinal (the data are
grouped into the categories from continuous variable), what would be the
appropriate function for 2-category ordered data?  (though I will try
multinom() on the data.)     

-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, June 20, 2002 11:37 PM
To: Boryeu Mao
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] a question on statistics (rather than R-specific)


On Thu, 20 Jun 2002, Boryeu Mao wrote:

> I have used plor() to model a rather large 3-category dataset (~1500 data
> points, ~15 independent variables); from the resulting model (with a
> deviance slightly below the residual degrees of freedom), the training
data
> are placed in only the two extreme categories.  Though the result appears
to
> indicate that there's only a relative 'narrow' bin for the medium group,
> [and when the dataset is re-organized into 2 categories, glm(family =
> binomial(link = logit) ...) gives a model with a deviance reduced by about
> half from the 3-category polr() result], I am questioning if this (the
> 'narrow-bin') interpretation is too simplistic (or entirely incorrect),
and
> wondering about the meaning of the absence of (fitted) data points in the
> medium group.
>
> Thanks in advance for any hints/pointers!

Probably the POLR model is inappropriate: try multinom for a fair
comparison (you cannot compare likelihoods on grouped and ungrouped data).

See the examples in MASS (the book) which is where polr() comes from.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 17:49:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jun 2002 16:49:46 +0100 (GMT Daylight Time)
Subject: [R] a question on statistics (rather than R-specific)
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF8933@MAYO>
Message-ID: <Pine.WNT.4.44.0206211646330.2660-100000@gannet.stats.ox.ac.uk>

On Fri, 21 Jun 2002, Boryeu Mao wrote:

> Thanks for the reply.  Since the 3 categories are ordinal (the data are
> grouped into the categories from continuous variable), what would be the
> appropriate function for 2-category ordered data?  (though I will try
> multinom() on the data.)

Is it two or three categories?  A multinomial model is always appropriate,
but a POLR model makes a strong proportionality assumption which may or
may not be appropriate.

As I said, there is a worked example in MASS (the book), including
examining the POLR assumption.

>
> -----Original Message-----
> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Thursday, June 20, 2002 11:37 PM
> To: Boryeu Mao
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] a question on statistics (rather than R-specific)
>
>
> On Thu, 20 Jun 2002, Boryeu Mao wrote:
>
> > I have used plor() to model a rather large 3-category dataset (~1500 data
> > points, ~15 independent variables); from the resulting model (with a
> > deviance slightly below the residual degrees of freedom), the training
> data
> > are placed in only the two extreme categories.  Though the result appears
> to
> > indicate that there's only a relative 'narrow' bin for the medium group,
> > [and when the dataset is re-organized into 2 categories, glm(family =
> > binomial(link = logit) ...) gives a model with a deviance reduced by about
> > half from the 3-category polr() result], I am questioning if this (the
> > 'narrow-bin') interpretation is too simplistic (or entirely incorrect),
> and
> > wondering about the meaning of the absence of (fitted) data points in the
> > medium group.
> >
> > Thanks in advance for any hints/pointers!
>
> Probably the POLR model is inappropriate: try multinom for a fair
> comparison (you cannot compare likelihoods on grouped and ungrouped data).
>
> See the examples in MASS (the book) which is where polr() comes from.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Fri Jun 21 18:04:44 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Fri, 21 Jun 2002 12:04:44 -0400 (EDT)
Subject: [R] Interpreting output from glmmPQL
Message-ID: <Pine.LNX.4.21.0206211154510.3858-100000@perrin.socsci.unc.edu>

Greetings.

I'm running some models under R using glmmPQL from MASS. These are
three-level models (two grouped levels and the individual level) with
dichotomous outcomes.  There are several statistics of interest; for the
moment, I have two specific questions:

1.) This question refers to the following model (I present first 
the call, then the output of summary():

morality.restr.1.pql<-glmmPQL(random = ~ 1 | groupid/participantid,
                              fixed  = r.logic.morality ~ 1,
                              data = fgdata.df[coded.logic,],
                              na.action=na.omit,
                              niter=50,
                              family=binomial)


Linear mixed-effects model fit by maximum likelihood
 Data: fgdata.df[coded.logic, ] 
       AIC      BIC    logLik
  4427.735 4447.531 -2209.868

Random effects:
 Formula: ~1 | groupid
        (Intercept)
StdDev:   0.3312237

 Formula: ~1 | participantid %in% groupid
        (Intercept)  Residual
StdDev:   0.3651775 0.9765288

Variance function:
 Structure: fixed weights
 Formula: ~invwt 
Fixed effects: r.logic.morality ~ 1 
                 Value Std.Error  DF   t-value p-value
(Intercept) -0.1699931 0.1039887 905 -1.634727  0.1025

Standardized Within-Group Residuals:
       Min         Q1        Med         Q3        Max 
-1.2951648 -0.8865510 -0.7183326  1.0428044  1.6135857 

Number of Observations: 1042
Number of Groups: 
                   groupid participantid %in% groupid 
                        20                        137 

Raudenbush & Bryk (1992; 2002) suggest that the Intraclass Correlation is
a useful statistic for a hierarchical linear model. My understanding is
that this statistic is the proportion of the model's total variance that
is "explained" by each level of the model. I have calculated this for
level 2 as 0.3312237^2 / (0.3312237^2 + 0.3651775^2 + 0.9765288^2) and for
level 3 as 0.3651775^2 / (0.3312237^2 + 0.3651775^2 +
0.9765288^2). However, Guo and Zhao imply that the total variance for a
dichotomous-outcome (logistic) model should be a constant, specifically
pi^2/3.  Clearly pi^2/3 is a very different number from (0.3312237^2 +
0.3651775^2 + 0.9765288^2). Can anyone shed light on this? Does this
calculation make sense at all?

2.) There is the possibility in these models of using some
cross-classification. The lowest unit of analysis here is the
utterance: one statement made in a group discussion. Each statement is
(currently) nested within a speaker, who is in turn nested within a
group. The complication is that each statement is *also* nested within one
of four scenarios, and the scenarios are repeated across the 20
groups. Using the scenario as a fixed covariate in the model results (or
seems to) in erronenously assuming too many degrees of freedom, since
utterances are clustered within scenarios. But cross-classifying the
scenario * group into 80 clusters seems like it will seriously impede
intepretation. Any advice? Ultimately it may not be terribly important to
include the scenario as a covariate, but I would like to be able to do so
if necessary.

Thanks for any advice.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 18:07:36 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 17:07:36 +0100 (BST)
Subject: [R] lme: anova vs. intervals
In-Reply-To: <6r1yb0vikp.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0206211703070.1275-100000@gannet.stats>

On 21 Jun 2002, Douglas Bates wrote:

> "Martin Henry H. Stevens" <HStevens at muohio.edu> writes:
>
> > Windows 2000 (v.5.00.2195), R 1.5.1
> > I have an lme object, fm0, which I examine with anova() and intervals().
> > The anova output indicates one of the interaction terms is
> > significant, but the intervals output shows that the single parameter
> > for that term includes 0.0 in its 95% CI. I believe that the anova is
> > a conditional (sequential) test; is intervals marginal or approximate?
>
> The intervals are both marginal and approximate, although the
> approximation is generally very good.  The anova output is based on
> the same type of test, F-tests for general linear hypotheses
> conditional on the relative values of the variance components.  By
> default the anova output is for sequential tests.
>
> > Which should I trust as more accurate or, alternaitvely, more
> > conservative?
>
> They are testing different hypotheses.  You must decide which is the
> more meaningful hypothesis.
>
> In this case the intervals on the three-factor interaction term are
> marginal intervals from a model that includes the four-factor
> interaction.  Most analysts would eliminate that four-factor
> interaction before considering marginal tests on a three-factor
> interaction.

Yes, and since apparently treatment `contrasts' were used, it does not
make much (any?) sense to test the three-factor coefficient whilst still
fitting the four-factor interaction.  That coefficient has a very complex
interpretation, and dropping it is not equivalent to dropping the
three-factor interaction (since that affects how the four-factor one is
coded).

Advice: the simplest interpretation is likely to come from sequential
backward elimination respecting the hierarchy of terms.

>
> (Caution: This answer was composed first thing on a morning when I
> got up early (North American time) to watch the Germany-U.S.A. world
> cup soccer match. It is entirely possible that I am writing nonsense.)
>
> > Partial output follows.
> > Thanks for the insight.
> > Hank
> >
> >  > anova(fm0)
> >                           numDF denDF  F-value p-value
> > (Intercept)                  1    69 6331.902  <.0001
> > Fert                         3    44   42.176  <.0001
> > Seed                         1    44    0.488  0.4886
> > Litter                       1    69    1.830  0.1805
> > Density                      1    69   68.714  <.0001
> > Fert:Seed                    3    44    0.061  0.9799
> > Fert:Litter                  3    69    0.294  0.8294
> > Fert:Density                 3    69    0.381  0.7667
> > Seed:Litter                  1    69    0.005  0.9447
> > Seed:Density                 1    69    0.449  0.5048
> > Litter:Density               1    69    0.141  0.7087
> > Fert:Seed:Litter             3    69    0.256  0.8565
> > Fert:Seed:Density            3    69    4.254  0.0081
> > Fert:Litter:Density          3    69    1.814  0.1527
> > Seed:Litter:Density          1    69    4.083  0.0472
> > Fert:Seed:Litter:Density     3    69    1.047  0.3773
> >
> >  > intervals(fm0)$fixed
> >                                    lower        est.       upper
> > (Intercept)                   2.8880007  3.25040348  3.61280623
> > ...
> > Density                       0.1076366  0.41670852  0.72578044
> > ...
> > SeedC:LitterR:Density        -0.4803310  0.06412348  0.60857794
> >
> >
> >
> >
> > Martin Henry H. Stevens, Assistant Professor
> > 338 Pearson Hall
> > Botany Department
> > Miami University
> > Oxford, OH 45056
> >
> > Office: (513) 529-4206
> > Lab: (513) 529-4262
> > FAX: (513) 529-4243
> > http://www.muohio.edu/~botcwis/bot/henry.html
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Douglas Bates                            bates at stat.wisc.edu
> Statistics Department                    608/262-2598
> University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 21 18:26:45 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 21 Jun 2002 12:26:45 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3B4@usrymx10.merck.com>

You still don't get the point.  Please read Peter Dalgaard's reply and the
help page for predict.lm carefully, and try to understand the `Detail'
section.  See the example below:

> n<-100
> p<-10
> y<-rnorm(n)
> xtr<-matrix(rnorm(n*p), n, p)
> xts<- matrix(rnorm(5*p), 5, p)
> myfit<-lm(y~.,data=as.data.frame(xtr))
> length(predict(myfit,as.data.frame(xts)))
[1] 5

Andy


> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Friday, June 21, 2002 10:21 AM
> To: 'Liaw, Andy'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> From Liaw, Andy:
> 
> > It's probably easier to do the following:
> > ## Put training data in a data frame.
> > train <- data.frame(y=yr, x=xr)
> > ## Put test data in a data frame.
> > test <- data.frame(y=ys, x=xs)
> > 
> > myfit <- lm(y ~ x, train)
> > test.pred <- predict(myfit, test)
> 
> This looks promissing; however I get an error:
> 
> > train <- data.frame(y=yr, x=xr)
> > test <- data.frame(y=ys, x=xs)
> > myfit <- lm(y ~ x, train)
> Error in eval(expr, envir, enclos) : Object "x" not found
> 
> R
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, June 21, 2002 8:34 AM
> To: 'Czerminski, Ryszard'
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> The second argument to predict.lm, `newdata', is suppose to 
> be a data frame
> containing variables that were used to fit the model.  Thus 
> if in your lm
> object the predictor is a variable named `xr', the predict 
> method will be
> looking for `xr', and ignored `xs' that you passed in.
> 
> It's probably easier to do the following:
> 
> ## Put training data in a data frame.
> train <- data.frame(y=yr, x=xr)
> ## Put test data in a data frame.
> test <- data.frame(y=ys, x=xs)
> 
> myfit <- lm(y ~ x, train)
> test.pred <- predict(myfit, test)
> 
> Hope this helps,
> Andy
> 
> > -----Original Message-----
> > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > Sent: Friday, June 21, 2002 8:10 AM
> > To: 'Peter Dalgaard BSA'; Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> > 
> > 
> > > Does xs contain a variable called xr?
> > 
> > No - it does not.
> > 
> > I was expecting that if I use model built using
> > (yr,xr) data with 164 cases and 118 variables
> > to predict on a test data (xs) with 35 cases
> > > # dim(xr) = 164 118 ; dim(xs) = 35 118
> > I should get vector of 35 responses from predict(),
> > but I am getting instead 164 responses.
> > > # length(ys) = 35 ; length(ps) = 164
> > 
> > If I go through example provided with help(predict.lm)
> > I get expected number of responses (13).
> > This is however only 1D example.
> > 
> > I am sure I am missing something and probably not using
> > predict() correctly, but I am at loss what it is...
> > 
> > R
> > 
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> > 
> > 
> > -----Original Message-----
> > From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> > Sent: Thursday, June 20, 2002 5:10 PM
> > To: Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] problem with predict()
> > 
> > 
> > "Czerminski, Ryszard" <ryszard at arqule.com> writes:
> > 
> > > pr <- predict(model, as.data.frame(xr))
> > > ps <- predict(model, xs)
> > > 
> > > cat("length(yr) =", length(yr), "; length(pr) =", length(pr),"\n")
> > > cat("dim(xr) =", dim(xr), "; dim(xs) =", dim(xs),"\n")
> > > cat("length(ys) =", length(ys), "; length(ps) =", 
> length(ps), "\n")
> > > cat("why length(ps) != length(ys) ???\n")
> > > 
> > > # my output:
> > > #
> > > # length(yr) = 164 ; length(pr) = 164 
> > > # dim(xr) = 164 118 ; dim(xs) = 35 118 
> > > # length(ys) = 35 ; length(ps) = 164 
> > > # why length(ps) != length(ys) ???
> > 
> > Does xs contain a variable called xr?
> > 
> > -- 
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> > (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> > (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.
> > -.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._.
> > _._
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
> --------------------------------------------------------------
> --------------
> --
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New 
> Jersey, USA) that
> may be confidential, proprietary copyrighted and/or legally 
> privileged, and
> is intended solely for the use of the individual or entity 
> named on this
> message. If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail 
> and then delete
> it.
> 
> ==============================================================
> ==============
> ==
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Fri Jun 21 18:39:51 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Fri, 21 Jun 2002 09:39:51 -0700
Subject: [R] Line plot with 3 points
In-Reply-To: <Pine.LNX.4.44.0206210744500.11870-100000@localhost.localdo
 main>
References: <Pine.GSO.4.10.10206201851060.4984-100000@fisher.stat.ucla.edu>
Message-ID: <5.1.0.14.2.20020621093656.00ae4640@poptop.llnl.gov>

Thank you so much, Ott, Roger, Don, Rashir and Jim.

I tried both Matplot and the regular plotting functions as suggested.  It 
showed me as what I expected.  I am able to see some outstanding lines (genes).

Thanks again.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Jun 21 18:48:47 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 21 Jun 2002 13:48:47 -0300
Subject: [R] generating points over a function, its possible???
Message-ID: <200206211348.48134.chrysopa@insecta.ufv.br>

Hi,
I have a new (for me) situation.
I have a function for one linear model:
y = 9.7909-0.035*x
I have the variance of system
var = 13.01403
Is possible to create a random vector points of Y (simulating the real data) 
over this curve using the function and the variance? I need this to a 
discipline.

I have this:

| \
|  \ -> y = 9.7909-0.035*x and var =  13.014
|   \
|    \ 
|     \
|      \
|__________

I need something like this (generate this points):

|* \*
| * \**
|  **\ *
|    *\ ** 
|    * \*
|     * \ *
|       *\
|____________

Thanks for all
Ronaldo
-- 
"It ain't over until it's over."
-- Casey Stengel
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Jun 21 18:48:56 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 21 Jun 2002 13:48:56 -0300
Subject: [R] Help about iterations
Message-ID: <200206211348.56115.chrysopa@insecta.ufv.br>

Hi,
Sorry by this newbie stat doubt, but with some brains in the list anybody can 
help-me.

I have a sistem composed by 3 quantitative variables.
The variables are:

The growth (Y in cm)
The nutrient (X1 in gram)
The water (X2 in ml)

Ok,
My doubt is:
Is correct or necessary make a iterations of the nutrient and water, or the 
iteraction is intrinsical of the model. 

glm(growth~nutrient+water)

or

glm(growth~nutrient+water+nutrient:water)

Working with one quantitative explanatory variable e one qualitative 
explanatory variable (with some levels), I understandy the iteration of 
quantitative x qualitative, for testing the curve inclination. But when I 
have some quantitative explanatory variables, the iteration generate a new 
vector by x1*x2 and the number generated by this vector is no sense 
(30g*2ml=60 and 2g*30ml=60, but is very different). 

I need to make iteraction or not?

A less important question:

How to make a plot with this and a curve of this?
the curve function use only one x, I have two or more x in same function.

Thanks and sorry again
Ronaldo
-- 
His mind is like a steel trap: full of mice.
		-- Foghorn Leghorn
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 21 19:02:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2002 19:02:36 +0200
Subject: [R] problem with predict()
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC3B4@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC3B4@usrymx10.merck.com>
Message-ID: <x2adpoh8er.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw at merck.com> writes:

> You still don't get the point.  Please read Peter Dalgaard's reply and the
> help page for predict.lm carefully, and try to understand the `Detail'
> section.  See the example below:
[snip]

> > This looks promissing; however I get an error:
> > 
> > > train <- data.frame(y=yr, x=xr)
> > > test <- data.frame(y=ys, x=xs)
> > > myfit <- lm(y ~ x, train)
> > Error in eval(expr, envir, enclos) : Object "x" not found

But there's nothing wrong with that code as far as I can see?? I don't
get an error from it:

> xr <- rnorm(10)
> yr <- rnorm(10)
> ys <- rnorm(5)
> xs <- rnorm(5)
> train <- data.frame(y=yr, x=xr)
>  test <- data.frame(y=ys, x=xs)
> myfit <- lm(y ~ x, train)
> predict(myfit,test)
          1           2           3           4           5 
-0.03809295  0.11422384  0.35570765  0.55436954  0.22979523 


Something must have gone wrong with the creation of "train".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 21 19:06:24 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 21 Jun 2002 13:06:24 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3B6@usrymx10.merck.com>

The problem is that xr and xs are both matrices in his example, not vectors.

Andy

> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Friday, June 21, 2002 1:03 PM
> To: Liaw, Andy
> Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> Subject: Re: [R] problem with predict()
> 
> 
> "Liaw, Andy" <andy_liaw at merck.com> writes:
> 
> > You still don't get the point.  Please read Peter 
> Dalgaard's reply and the
> > help page for predict.lm carefully, and try to understand 
> the `Detail'
> > section.  See the example below:
> [snip]
> 
> > > This looks promissing; however I get an error:
> > > 
> > > > train <- data.frame(y=yr, x=xr)
> > > > test <- data.frame(y=ys, x=xs)
> > > > myfit <- lm(y ~ x, train)
> > > Error in eval(expr, envir, enclos) : Object "x" not found
> 
> But there's nothing wrong with that code as far as I can see?? I don't
> get an error from it:
> 
> > xr <- rnorm(10)
> > yr <- rnorm(10)
> > ys <- rnorm(5)
> > xs <- rnorm(5)
> > train <- data.frame(y=yr, x=xr)
> >  test <- data.frame(y=ys, x=xs)
> > myfit <- lm(y ~ x, train)
> > predict(myfit,test)
>           1           2           3           4           5 
> -0.03809295  0.11422384  0.35570765  0.55436954  0.22979523 
> 
> 
> Something must have gone wrong with the creation of "train".
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri Jun 21 19:51:53 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 21 Jun 2002 13:51:53 -0400
Subject: [R] lme: anova vs. intervals
In-Reply-To: <Pine.LNX.4.31.0206211703070.1275-100000@gannet.stats>
References: <6r1yb0vikp.fsf@franz.stat.wisc.edu>
Message-ID: <5.1.0.14.2.20020621134903.051249b8@po.muohio.edu>

Dear Drs. Bates and Ripley,
Thank you kindly for your replies. After reading your replies, I have 
chosen to use intervals() with appropriate hierarchical structure.
All the best,
Hank

  At 12:07 PM 6/21/2002, ripley at stats.ox.ac.uk wrote:
>On 21 Jun 2002, Douglas Bates wrote:
>
> > "Martin Henry H. Stevens" <HStevens at muohio.edu> writes:
> >
> > > Windows 2000 (v.5.00.2195), R 1.5.1
> > > I have an lme object, fm0, which I examine with anova() and intervals().
> > > The anova output indicates one of the interaction terms is
> > > significant, but the intervals output shows that the single parameter
> > > for that term includes 0.0 in its 95% CI. I believe that the anova is
> > > a conditional (sequential) test; is intervals marginal or approximate?
> >
> > The intervals are both marginal and approximate, although the
> > approximation is generally very good.  The anova output is based on
> > the same type of test, F-tests for general linear hypotheses
> > conditional on the relative values of the variance components.  By
> > default the anova output is for sequential tests.
> >
> > > Which should I trust as more accurate or, alternaitvely, more
> > > conservative?
> >
> > They are testing different hypotheses.  You must decide which is the
> > more meaningful hypothesis.
> >
> > In this case the intervals on the three-factor interaction term are
> > marginal intervals from a model that includes the four-factor
> > interaction.  Most analysts would eliminate that four-factor
> > interaction before considering marginal tests on a three-factor
> > interaction.
>
>Yes, and since apparently treatment `contrasts' were used, it does not
>make much (any?) sense to test the three-factor coefficient whilst still
>fitting the four-factor interaction.  That coefficient has a very complex
>interpretation, and dropping it is not equivalent to dropping the
>three-factor interaction (since that affects how the four-factor one is
>coded).
>
>Advice: the simplest interpretation is likely to come from sequential
>backward elimination respecting the hierarchy of terms.
>
> >
> > (Caution: This answer was composed first thing on a morning when I
> > got up early (North American time) to watch the Germany-U.S.A. world
> > cup soccer match. It is entirely possible that I am writing nonsense.)
> >
> > > Partial output follows.
> > > Thanks for the insight.
> > > Hank
> > >
> > >  > anova(fm0)
> > >                           numDF denDF  F-value p-value
> > > (Intercept)                  1    69 6331.902  <.0001
> > > Fert                         3    44   42.176  <.0001
> > > Seed                         1    44    0.488  0.4886
> > > Litter                       1    69    1.830  0.1805
> > > Density                      1    69   68.714  <.0001
> > > Fert:Seed                    3    44    0.061  0.9799
> > > Fert:Litter                  3    69    0.294  0.8294
> > > Fert:Density                 3    69    0.381  0.7667
> > > Seed:Litter                  1    69    0.005  0.9447
> > > Seed:Density                 1    69    0.449  0.5048
> > > Litter:Density               1    69    0.141  0.7087
> > > Fert:Seed:Litter             3    69    0.256  0.8565
> > > Fert:Seed:Density            3    69    4.254  0.0081
> > > Fert:Litter:Density          3    69    1.814  0.1527
> > > Seed:Litter:Density          1    69    4.083  0.0472
> > > Fert:Seed:Litter:Density     3    69    1.047  0.3773
> > >
> > >  > intervals(fm0)$fixed
> > >                                    lower        est.       upper
> > > (Intercept)                   2.8880007  3.25040348  3.61280623
> > > ...
> > > Density                       0.1076366  0.41670852  0.72578044
> > > ...
> > > SeedC:LitterR:Density        -0.4803310  0.06412348  0.60857794
> > >
> > >
> > >
> > >
> > > Martin Henry H. Stevens, Assistant Professor
> > > 338 Pearson Hall
> > > Botany Department
> > > Miami University
> > > Oxford, OH 45056
> > >
> > > Office: (513) 529-4206
> > > Lab: (513) 529-4262
> > > FAX: (513) 529-4243
> > > http://www.muohio.edu/~botcwis/bot/henry.html
> > >
> > > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Douglas Bates                            bates at stat.wisc.edu
> > Statistics Department                    608/262-2598
> > University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jvega at banxico.org.mx  Fri Jun 21 19:56:29 2002
From: jvega at banxico.org.mx (Jorge de la Vega)
Date: Fri, 21 Jun 2002 12:56:29 -0500
Subject: [R] Rgui 1.5.1 crashes constantly with the following script
Message-ID: <001101c2194c$f94c6ee0$550646aa@DGOBC012123>

I am not sure if something is wrong with my programming or is a bug of chron
or something else.
In the following script, db is a large dataframe (dim(db)=c(60698,14)), then
I select a very small part for a specific date and compute some basic
statistics. date.base is a chron object

  foo<-function(db,date.base){
	date.base<-as.numeric(date.base) #convert to number
      if(dim(base[1])==0)return(c(date.base,rep(0,8)))
      fe.con<-as.numeric(chron(as.character(db$f.con),format="y/m/d")) #make
chron object and then numeric
      vig<-db[fe.con==f.base,] #subset the database
      if(dim(vig)[1]==0)return(c(date.base,rep(0,8))) #if not records return
0 stats

     #sample stats
      num.oper<-as.vector(apply(tapply(vig$mnt.base,vig$oper,length),1,c) )

mb.oper<-as.vector(apply(tapply(vig$mnt.base,vig$oper,sum,na.rm=T),1,c))

p.p.pond<-as.vector(unlist(lapply(tapply(vig$mnt.base*vig$plazo,vig$oper,c),
sum,na.rm=T))/mb.oper)

      rm(vig,fe.con) #clean memory

out<-c(date.base,sum(num.oper),num.oper,sum(mb.oper)/1000,mb.oper/1000,plazo
.prom.pond)
      return(as.vector(out))
}

The function foo alone works fine
> foo(db,yesterday)
[1]   53.0000   21.0000   32.0000 3915.0680  310.0350 3605.0330  176.0825
26.4649

But when I include the function in a for,

foo2<-function(db,dates){
    n<-length(dates)
    z<-matrix(0,nrow=n,ncol=9)
    for(i in 1:n)z[i,]<-estad.basicas(db,dates[i])
    return(z)
}

then I sometimes have the output and sometimes a crash. It doesn?t depend on
the length of dates, I can run the function with 30 or more fine but then if
I run it again with only two or three dates it crashes Rgui. Sometimes I
have a window error from  Virtual C++, that I am not sure is part of the
system.

Thanks for your suggestions.

Jorge de la Vega

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 20:03:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 19:03:37 +0100 (BST)
Subject: [R] Rgui 1.5.1 crashes constantly with the following script
In-Reply-To: <001101c2194c$f94c6ee0$550646aa@DGOBC012123>
Message-ID: <Pine.LNX.4.31.0206211900490.2737-100000@gannet.stats>

We can do nothing to help you without a reproducible example *and* some
dump information.  See the rw-FAQ for how to get a post-mortem dump from
e.g.  Dr. Mingw.


On Fri, 21 Jun 2002, Jorge de la Vega wrote:

> I am not sure if something is wrong with my programming or is a bug of chron
> or something else.
> In the following script, db is a large dataframe (dim(db)=c(60698,14)), then
> I select a very small part for a specific date and compute some basic
> statistics. date.base is a chron object
>
>   foo<-function(db,date.base){
> 	date.base<-as.numeric(date.base) #convert to number
>       if(dim(base[1])==0)return(c(date.base,rep(0,8)))
>       fe.con<-as.numeric(chron(as.character(db$f.con),format="y/m/d")) #make
> chron object and then numeric
>       vig<-db[fe.con==f.base,] #subset the database
>       if(dim(vig)[1]==0)return(c(date.base,rep(0,8))) #if not records return
> 0 stats
>
>      #sample stats
>       num.oper<-as.vector(apply(tapply(vig$mnt.base,vig$oper,length),1,c) )
>
> mb.oper<-as.vector(apply(tapply(vig$mnt.base,vig$oper,sum,na.rm=T),1,c))
>
> p.p.pond<-as.vector(unlist(lapply(tapply(vig$mnt.base*vig$plazo,vig$oper,c),
> sum,na.rm=T))/mb.oper)
>
>       rm(vig,fe.con) #clean memory
>
> out<-c(date.base,sum(num.oper),num.oper,sum(mb.oper)/1000,mb.oper/1000,plazo
> .prom.pond)
>       return(as.vector(out))
> }
>
> The function foo alone works fine
> > foo(db,yesterday)
> [1]   53.0000   21.0000   32.0000 3915.0680  310.0350 3605.0330  176.0825
> 26.4649
>
> But when I include the function in a for,
>
> foo2<-function(db,dates){
>     n<-length(dates)
>     z<-matrix(0,nrow=n,ncol=9)
>     for(i in 1:n)z[i,]<-estad.basicas(db,dates[i])
>     return(z)
> }
>
> then I sometimes have the output and sometimes a crash. It doesnt depend on
> the length of dates, I can run the function with 30 or more fine but then if
> I run it again with only two or three dates it crashes Rgui. Sometimes I
> have a window error from  Virtual C++, that I am not sure is part of the
> system.

It isn't.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 21 20:21:04 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 21 Jun 2002 14:21:04 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4AC@EPOCH.arqule.com>

Thank you for great support so far !
I think I am getting closer, but I still not quite get it...

Two questions:

(1) what is the difference between lm(y~., and lm(y~x, ???
    with second form failing ?

> train <- data.frame(y = yr, x = xr)
> test <- data.frame(y = ys, x = xs)
> model <- lm(y~., train)
> model <- lm(y~x, train)
Error in eval(expr, envir, enclos) : Object "x" not found

(2) and the other problems seems to be data related...

Consider following code:

:::
rm(list=ls())

train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")
test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
comment.char="")

#train.data <- matrix(rnorm(164*119), nrow = 164)
#test.data <- matrix(rnorm(35*119), nrow = 35)

yr <- train.data[,1]; xr <- train.data[,-1]
xr <- scale(xr)     # matrix <- scale(data.frame)
x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
mask <- apply(xr, 2, function(x) any(is.na(x)))
xr <- xr[,!mask] # rm NA's
ys <- test.data[,1]; xs <- test.data[,-1]
xs <- scale(xs, center = x.center, scale = x.scale)
xs <- xs[,!mask]
train <- data.frame(y = yr, x = xr)
test <- data.frame(y = ys, x = xs)
model <- lm(y~., train)
length(predict(model, test))
::::

and execute it twice with: (S) simulated data and (R) "real" data I get:

::: for simulated data :::
dim(train) = 164 119 ; dim(test) = 35 119 
> length(predict(model, test))
[1] 35

::: for real data :::
dim(train) = 164 119 ; dim(test) = 35 119 
> length(predict(model, test))
Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) : 
        subscript out of bounds

The shape of data seems to be the same in both cases and
the only difference (as far as I can tell) is in actual values

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Liaw, Andy [mailto:andy_liaw at merck.com]
Sent: Friday, June 21, 2002 1:06 PM
To: 'Peter Dalgaard BSA'
Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


The problem is that xr and xs are both matrices in his example, not vectors.

Andy

> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Friday, June 21, 2002 1:03 PM
> To: Liaw, Andy
> Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> Subject: Re: [R] problem with predict()
> 
> 
> "Liaw, Andy" <andy_liaw at merck.com> writes:
> 
> > You still don't get the point.  Please read Peter 
> Dalgaard's reply and the
> > help page for predict.lm carefully, and try to understand 
> the `Detail'
> > section.  See the example below:
> [snip]
> 
> > > This looks promissing; however I get an error:
> > > 
> > > > train <- data.frame(y=yr, x=xr)
> > > > test <- data.frame(y=ys, x=xs)
> > > > myfit <- lm(y ~ x, train)
> > > Error in eval(expr, envir, enclos) : Object "x" not found
> 
> But there's nothing wrong with that code as far as I can see?? I don't
> get an error from it:
> 
> > xr <- rnorm(10)
> > yr <- rnorm(10)
> > ys <- rnorm(5)
> > xs <- rnorm(5)
> > train <- data.frame(y=yr, x=xr)
> >  test <- data.frame(y=ys, x=xs)
> > myfit <- lm(y ~ x, train)
> > predict(myfit,test)
>           1           2           3           4           5 
> -0.03809295  0.11422384  0.35570765  0.55436954  0.22979523 
> 
> 
> Something must have gone wrong with the creation of "train".
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> 

----------------------------------------------------------------------------
--
Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message. If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 20:30:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 19:30:56 +0100 (BST)
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4AC@EPOCH.arqule.com>
Message-ID: <Pine.LNX.4.31.0206211927210.2782-100000@gannet.stats>

As Andy Liaw pointed out, xr is a matrix.  Take a look at the names of
train.  Hint: they do not contain `x'.

Similarly, in your `simulated' example you have matrices and not data
frames.

*Store your data in data frames*  and you may be less confused.

On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:

> Thank you for great support so far !
> I think I am getting closer, but I still not quite get it...
>
> Two questions:
>
> (1) what is the difference between lm(y~., and lm(y~x, ???
>     with second form failing ?
>
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > model <- lm(y~x, train)
> Error in eval(expr, envir, enclos) : Object "x" not found
>
> (2) and the other problems seems to be data related...
>
> Consider following code:
>
> :::
> rm(list=ls())
>
> train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> comment.char="")
>
> #train.data <- matrix(rnorm(164*119), nrow = 164)
> #test.data <- matrix(rnorm(35*119), nrow = 35)
>
> yr <- train.data[,1]; xr <- train.data[,-1]
> xr <- scale(xr)     # matrix <- scale(data.frame)
> x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
> mask <- apply(xr, 2, function(x) any(is.na(x)))
> xr <- xr[,!mask] # rm NA's
> ys <- test.data[,1]; xs <- test.data[,-1]
> xs <- scale(xs, center = x.center, scale = x.scale)
> xs <- xs[,!mask]
> train <- data.frame(y = yr, x = xr)
> test <- data.frame(y = ys, x = xs)
> model <- lm(y~., train)
> length(predict(model, test))
> ::::
>
> and execute it twice with: (S) simulated data and (R) "real" data I get:
>
> ::: for simulated data :::
> dim(train) = 164 119 ; dim(test) = 35 119
> > length(predict(model, test))
> [1] 35
>
> ::: for real data :::
> dim(train) = 164 119 ; dim(test) = 35 119
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
>         subscript out of bounds
>
> The shape of data seems to be the same in both cases and
> the only difference (as far as I can tell) is in actual values
>
> R
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, June 21, 2002 1:06 PM
> To: 'Peter Dalgaard BSA'
> Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
>
>
> The problem is that xr and xs are both matrices in his example, not vectors.
>
> Andy
>
> > -----Original Message-----
> > From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> > Sent: Friday, June 21, 2002 1:03 PM
> > To: Liaw, Andy
> > Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> > Subject: Re: [R] problem with predict()
> >
> >
> > "Liaw, Andy" <andy_liaw at merck.com> writes:
> >
> > > You still don't get the point.  Please read Peter
> > Dalgaard's reply and the
> > > help page for predict.lm carefully, and try to understand
> > the `Detail'
> > > section.  See the example below:
> > [snip]
> >
> > > > This looks promissing; however I get an error:
> > > >
> > > > > train <- data.frame(y=yr, x=xr)
> > > > > test <- data.frame(y=ys, x=xs)
> > > > > myfit <- lm(y ~ x, train)
> > > > Error in eval(expr, envir, enclos) : Object "x" not found
> >
> > But there's nothing wrong with that code as far as I can see?? I don't
> > get an error from it:
> >
> > > xr <- rnorm(10)
> > > yr <- rnorm(10)
> > > ys <- rnorm(5)
> > > xs <- rnorm(5)
> > > train <- data.frame(y=yr, x=xr)
> > >  test <- data.frame(y=ys, x=xs)
> > > myfit <- lm(y ~ x, train)
> > > predict(myfit,test)
> >           1           2           3           4           5
> > -0.03809295  0.11422384  0.35570765  0.55436954  0.22979523
> >
> >
> > Something must have gone wrong with the creation of "train".
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph:
> > (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX:
> > (+45) 35327907
> >
>
> ----------------------------------------------------------------------------
> --
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
> may be confidential, proprietary copyrighted and/or legally privileged, and
> is intended solely for the use of the individual or entity named on this
> message. If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail and then delete
> it.
>
> ============================================================================
> ==
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 21 20:58:15 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 21 Jun 2002 14:58:15 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4AD@EPOCH.arqule.com>

--- first problem 

If I store 'simulated' data in data frames:
# train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
# test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
it still works the same way i.e. the code below works fine
for simulated data and fails for 'real' data the only
difference being in actual numeric values stored in data
structures of the same shape and type.

Any suggestions why this happens ?

--- second problem

> As Andy Liaw pointed out, xr is a matrix.  Take a look at the names of
> train.  Hint: they do not contain `x'.

Following your hint I am guessing that the fact that names do not contain
'x'
explains why lm(y~., train) form works and lm(y~x, train) fails
and "lm(y~., train)" means roughly: correlate column "y" to all other colums

Where I can find more detail specification of this syntax ?
In help(lm) I find this paragraph:

     Models for `lm' are specified symbolically.  A typical model has
     the form `response ~ terms' where `response' is the (numeric)...

which does not quite cover this case.

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Friday, June 21, 2002 2:31 PM
To: Czerminski, Ryszard
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


As Andy Liaw pointed out, xr is a matrix.  Take a look at the names of
train.  Hint: they do not contain `x'.

Similarly, in your `simulated' example you have matrices and not data
frames.

*Store your data in data frames*  and you may be less confused.

On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:

> Thank you for great support so far !
> I think I am getting closer, but I still not quite get it...
>
> Two questions:
>
> (1) what is the difference between lm(y~., and lm(y~x, ???
>     with second form failing ?
>
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > model <- lm(y~x, train)
> Error in eval(expr, envir, enclos) : Object "x" not found
>
> (2) and the other problems seems to be data related...
>
> Consider following code:
>
> :::
> rm(list=ls())
>
> train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> comment.char="")
>
> #train.data <- matrix(rnorm(164*119), nrow = 164)
> #test.data <- matrix(rnorm(35*119), nrow = 35)
>
> yr <- train.data[,1]; xr <- train.data[,-1]
> xr <- scale(xr)     # matrix <- scale(data.frame)
> x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
> mask <- apply(xr, 2, function(x) any(is.na(x)))
> xr <- xr[,!mask] # rm NA's
> ys <- test.data[,1]; xs <- test.data[,-1]
> xs <- scale(xs, center = x.center, scale = x.scale)
> xs <- xs[,!mask]
> train <- data.frame(y = yr, x = xr)
> test <- data.frame(y = ys, x = xs)
> model <- lm(y~., train)
> length(predict(model, test))
> ::::
>
> and execute it twice with: (S) simulated data and (R) "real" data I get:
>
> ::: for simulated data :::
> dim(train) = 164 119 ; dim(test) = 35 119
> > length(predict(model, test))
> [1] 35
>
> ::: for real data :::
> dim(train) = 164 119 ; dim(test) = 35 119
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
>         subscript out of bounds
>
> The shape of data seems to be the same in both cases and
> the only difference (as far as I can tell) is in actual values
>
> R
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, June 21, 2002 1:06 PM
> To: 'Peter Dalgaard BSA'
> Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
>
>
> The problem is that xr and xs are both matrices in his example, not
vectors.
>
> Andy
>
> > -----Original Message-----
> > From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> > Sent: Friday, June 21, 2002 1:03 PM
> > To: Liaw, Andy
> > Cc: 'Czerminski, Ryszard'; r-help at stat.math.ethz.ch
> > Subject: Re: [R] problem with predict()
> >
> >
> > "Liaw, Andy" <andy_liaw at merck.com> writes:
> >
> > > You still don't get the point.  Please read Peter
> > Dalgaard's reply and the
> > > help page for predict.lm carefully, and try to understand
> > the `Detail'
> > > section.  See the example below:
> > [snip]
> >
> > > > This looks promissing; however I get an error:
> > > >
> > > > > train <- data.frame(y=yr, x=xr)
> > > > > test <- data.frame(y=ys, x=xs)
> > > > > myfit <- lm(y ~ x, train)
> > > > Error in eval(expr, envir, enclos) : Object "x" not found
> >
> > But there's nothing wrong with that code as far as I can see?? I don't
> > get an error from it:
> >
> > > xr <- rnorm(10)
> > > yr <- rnorm(10)
> > > ys <- rnorm(5)
> > > xs <- rnorm(5)
> > > train <- data.frame(y=yr, x=xr)
> > >  test <- data.frame(y=ys, x=xs)
> > > myfit <- lm(y ~ x, train)
> > > predict(myfit,test)
> >           1           2           3           4           5
> > -0.03809295  0.11422384  0.35570765  0.55436954  0.22979523
> >
> >
> > Something must have gone wrong with the creation of "train".
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph:
> > (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX:
> > (+45) 35327907
> >
>
>
----------------------------------------------------------------------------
> --
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA)
that
> may be confidential, proprietary copyrighted and/or legally privileged,
and
> is intended solely for the use of the individual or entity named on this
> message. If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail and then delete
> it.
>
>
============================================================================
> ==
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Fri Jun 21 21:13:02 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Fri, 21 Jun 2002 12:13:02 -0700 (PDT)
Subject: [R] Load prediction
Message-ID: <20020621191302.13660.qmail@web21104.mail.yahoo.com>

Hello,

This is perhaps more of a regression question than R,
but I am learning both, so would appreciate your
wisdom here.

I have some data which reflects power load for an
electrical generating system, with some temporal
features. The data fields look like this:

D,MON,DAY,YR,HR,WDAY,DRYBULB,WETBULB,LOAD
4455   5  13   92   13    4      70      63 1617
4456   3   9   92   13    2      73      57 1397
4457  10   5   92    8    2      58      58 1501
4458  11  24   92   18    3      56      56 1885
4459   9  27   92    8    1      65      65 1402

What R methodology is likely to produce the most
accurate load forecast prediction for a given date and
temperatures for problems like this?

Thank you,
Johanus Dagius


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 21 21:35:09 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 21 Jun 2002 15:35:09 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3BD@usrymx10.merck.com>

> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> 
> --- first problem 
> 
> If I store 'simulated' data in data frames:
> # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> it still works the same way i.e. the code below works fine
> for simulated data and fails for 'real' data the only
> difference being in actual numeric values stored in data
> structures of the same shape and type.
> 
> Any suggestions why this happens ?

As Prof. Ripley hinted, check the names of the data frames.  For your "real"
data, do 

names(train)
names(test)

to see how they are different.
 
> --- second problem
> 
> > As Andy Liaw pointed out, xr is a matrix.  Take a look at 
> the names of
> > train.  Hint: they do not contain `x'.
> 
> Following your hint I am guessing that the fact that names do 
> not contain
> 'x'
> explains why lm(y~., train) form works and lm(y~x, train) fails
> and "lm(y~., train)" means roughly: correlate column "y" to 
> all other colums
> 
> Where I can find more detail specification of this syntax ?
> In help(lm) I find this paragraph:
> 
>      Models for `lm' are specified symbolically.  A typical model has
>      the form `response ~ terms' where `response' is the (numeric)...
> 
> which does not quite cover this case.

Reading the `An Introduction to R' manual, especially parts of Chapter 5.
(The `.' shorthand is explained in section 11.5.)

Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 21 21:41:09 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Jun 2002 20:41:09 +0100 (BST)
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4AD@EPOCH.arqule.com>
Message-ID: <Pine.LNX.4.31.0206212039040.2944-100000@gannet.stats>

On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:

> --- first problem
>
> If I store 'simulated' data in data frames:
> # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> it still works the same way i.e. the code below works fine
> for simulated data and fails for 'real' data the only
> difference being in actual numeric values stored in data
> structures of the same shape and type.
>
> Any suggestions why this happens ?

Yes. You are *still* using a matrix in a data frame.  Please do read more
carefully.

> --- second problem
>
> > As Andy Liaw pointed out, xr is a matrix.  Take a look at the names of
> > train.  Hint: they do not contain `x'.
>
> Following your hint I am guessing that the fact that names do not contain
> 'x'
> explains why lm(y~., train) form works and lm(y~x, train) fails
> and "lm(y~., train)" means roughly: correlate column "y" to all other colums

No, it means regress y on all the remaining colums in the data argument.

>
> Where I can find more detail specification of this syntax ?
> In help(lm) I find this paragraph:
>
>      Models for `lm' are specified symbolically.  A typical model has
>      the form `response ~ terms' where `response' is the (numeric)...
>
> which does not quite cover this case.

In any good book on the subject.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Fri Jun 21 21:50:48 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Fri, 21 Jun 2002 15:50:48 -0400
Subject: [R] generating points over a function, its possible???
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639EA4D@uswpmx11.merck.com>

You can use R's random-number generating functions (e.g. rnorm) to generate
a vector of independent "deviations" from the line, and add them to your y
vector. You can scale them to make the variance match your 13.01403, usually
with a parameter to the function, or simply by multiplying by the
appropriate scale factor. You can get dependent deviations in various ways,
e.g., see "filter" in the ts package for autocorrelated or moving-average
structures. Also check the "mvnorm" package.

Reid Huntsinger

-----Original Message-----
From: Ronaldo Reis Jr. [mailto:chrysopa at insecta.ufv.br]
Sent: Friday, June 21, 2002 12:49 PM
To: R-Help
Subject: [R] generating points over a function, its possible???


Hi,
I have a new (for me) situation.
I have a function for one linear model:
y = 9.7909-0.035*x
I have the variance of system
var = 13.01403
Is possible to create a random vector points of Y (simulating the real data)

over this curve using the function and the variance? I need this to a 
discipline.

I have this:

| \
|  \ -> y = 9.7909-0.035*x and var =  13.014
|   \
|    \ 
|     \
|      \
|__________

I need something like this (generate this points):

|* \*
| * \**
|  **\ *
|    *\ ** 
|    * \*
|     * \ *
|       *\
|____________

Thanks for all
Ronaldo
-- 
"It ain't over until it's over."
-- Casey Stengel
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jun 21 21:55:01 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 21 Jun 2002 12:55:01 -0700 (PDT)
Subject: [R] generating points over a function, its possible???
In-Reply-To: <200206211348.48134.chrysopa@insecta.ufv.br>
Message-ID: <Pine.GSO.4.10.10206211252370.20990-100000@fisher.stat.ucla.edu>

How about this?

f <- function(x) { 9.7909 - 0.035 * x }
x <- 1:100 ## or whatever
sigma <- sqrt(13.01403)
sim.y <- f(x) + sigma * rnorm(length(x))

This uses Normal errors, which (by your picture) seems like what you want.
You might want to use set.seed() so that you can reproduce the results.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 21 Jun 2002, Ronaldo Reis Jr. wrote:

> Hi,
> I have a new (for me) situation.
> I have a function for one linear model:
> y = 9.7909-0.035*x
> I have the variance of system
> var = 13.01403
> Is possible to create a random vector points of Y (simulating the real data) 
> over this curve using the function and the variance? I need this to a 
> discipline.
> 
> I have this:
> 
> | \
> |  \ -> y = 9.7909-0.035*x and var =  13.014
> |   \
> |    \ 
> |     \
> |      \
> |__________
> 
> I need something like this (generate this points):
> 
> |* \*
> | * \**
> |  **\ *
> |    *\ ** 
> |    * \*
> |     * \ *
> |       *\
> |____________
> 
> Thanks for all
> Ronaldo
> -- 
> "It ain't over until it's over."
> -- Casey Stengel
> --
> |   //|\\   [*****************************][*******************]
> || (   )  [Ronaldo Reis Jnior          ][PentiumIII-600     ]
> |     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
> ||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
> |  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
> ||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
> |/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
> ||  ( x )   [*****************************][*******************]
> ||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Jun 21 22:32:18 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 21 Jun 2002 16:32:18 -0400
Subject: [R] generating points over a function, its possible???
References: <200206211348.48134.chrysopa@insecta.ufv.br>
Message-ID: <3D138D52.2FA596B5@umsanet.edu.bo>

what you need is rnorm, which gives N(0,1) variates, and then multiply
with the standard deviation you have estimated, sqrt(13.01403). Then

x (your data ve ctor)
yhat <- 9.7909 + 0.035*x
ysim <- yhat + sqrt(13.01403)*rnorm(x)

Kjetil halvorsen


"Ronaldo Reis Jr." wrote:
> 
> Hi,
> I have a new (for me) situation.
> I have a function for one linear model:
> y = 9.7909-0.035*x
> I have the variance of system
> var = 13.01403
> Is possible to create a random vector points of Y (simulating the real data)
> over this curve using the function and the variance? I need this to a
> discipline.
> 
> I have this:
> 
> | \
> |  \ -> y = 9.7909-0.035*x and var =  13.014
> |   \
> |    \
> |     \
> |      \
> |__________
> 
> I need something like this (generate this points):
> 
> |* \*
> | * \**
> |  **\ *
> |    *\ **
> |    * \*
> |     * \ *
> |       *\
> |____________
> 
> Thanks for all
> Ronaldo
> --
> "It ain't over until it's over."
> -- Casey Stengel
> --
> |   //|\\   [*****************************][*******************]
> || ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
> |     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
> ||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
> |  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
> ||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
> |/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
> ||  ( x )   [*****************************][*******************]
> ||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 21 23:04:03 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2002 23:04:03 +0200
Subject: [R] generating points over a function, its possible???
In-Reply-To: <3D138D52.2FA596B5@umsanet.edu.bo>
References: <200206211348.48134.chrysopa@insecta.ufv.br>
	<3D138D52.2FA596B5@umsanet.edu.bo>
Message-ID: <x2u1nwqr7g.fsf@biostat.ku.dk>

kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:

> what you need is rnorm, which gives N(0,1) variates, and then multiply
> with the standard deviation you have estimated, sqrt(13.01403). Then
> 
> x (your data ve ctor)
> yhat <- 9.7909 + 0.035*x
> ysim <- yhat + sqrt(13.01403)*rnorm(x)

Or, using the fact that rnorm has further arguments:

ysim <- rnorm(length(x), mean=9.7909+0.035*x, sd=sqrt(13.01403))

(Yes, you can use x instead of length(x), but once bitten...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stungis at lanl.gov  Fri Jun 21 23:35:53 2002
From: stungis at lanl.gov (Deborah S. Rocha)
Date: Fri, 21 Jun 2002 15:35:53 -0600
Subject: [R] naming things in functions
Message-ID: <3D139C39.331A243@lanl.gov>

Hello,

I'm working with R version 1.5.0 in Windows. I've written a function
(SummaryMat, segment below) which uses a loop to
repeatedly call another function (PercentsMat, segment below).

PercentsMat creates a matrix and adds rows to it each time it is called.
I use deparse(substitute(...)) to get the names of the lists sent to
PercentsMat to use them as row names in the generated matrix. When
called from the command line, PercentsMat works well.

The problem is that when PercentsMat is called from within a loop in
SummaryMat, where list names are indexed, the rows in the generated
matrix are labeled with the index name rather than its value. That is,
for example, I'm ending up with ri, ri, ri rather than r1, r2, r3.


SummaryMat <- function(datamat, numclusts, runs, fzmeasure)

for( j in numclusts )
        for( i in 1:runs )  {
                k = k+1
                .
                .
                .
                sepclusters[k] = list( ClusterSep(clusters[[k]]) )  #
separate data into individual clusters
                names(sepclusters)[k] = paste(
deparse(substitute(datamat)), j, ".", i, sep = "")

                pL = PercentsMat( sepclusters[[k]], pL, all )
                }


PercentsMat <- function(clusters, percentsmatrix, ltype){
        .
        .
        .
        result =  rbind( percentsmatrix, newpercents )
        rnames = c(dimnames(percentsmatrix)[[1]],
deparse(substitute(clusters)))
        numrows = length(rnames)
        numcols = dim(result)[2]
        }
res = matrix(result, nrow = numrows, ncol = numcols, dimnames =
list(rnames, NULL))
return(res)
}

Some actual output of SummaryMat:

$pL
                 [,1] [,2] [,3]
sepclusters[[k]]  100    0    0
sepclusters[[k]]    0    0  100
sepclusters[[k]]   45   55    0


I would be very grateful if you could tell me how to get the names of
the respective "sepclusters", rather than this less meaningful output.

Thank you,
  Deborah


-- 
...........................................
Deborah S. Rocha
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From darryl.humphreys at lehman.com  Fri Jun 21 23:44:37 2002
From: darryl.humphreys at lehman.com (Humphreys, Darryl)
Date: Fri, 21 Jun 2002 17:44:37 -0400
Subject: [R] problem with SJava
Message-ID: <110D41CD758924-01@MMS__lehman.com_>

Sorry if this is a stupid question, but I think I followed the instructions
in installing the latest R and SJava (on NT4.0). Once all is said and done I
get the following error:

> library(SJava)
Error in .Defunct() : `.Alias' is defunct.
See ?Defunct.

Do I have a version problem?


------------------------------------------------------------------------------
This message is intended only for the personal and confidential use of the designated recipient(s) named above.  If you are not the intended recipient of this message you are hereby notified that any review, dissemination, distribution or copying of this message is strictly prohibited.  This communication is for information purposes only and should not be regarded as an offer to sell or as a solicitation of an offer to buy any financial product, an official confirmation of any transaction, or as an official statement of Lehman Brothers.  Email transmission cannot be guaranteed to be secure or error-free.  Therefore, we do not represent that this information is complete or accurate and it should not be relied upon as such.  All information is subject to change without notice.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat Jun 22 01:23:41 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sat, 22 Jun 2002 11:23:41 +1200
Subject: [R] problem with SJava
References: <110D41CD758924-01@MMS__lehman.com_>
Message-ID: <008a01c2197a$af403380$d82f56d2@kwan022>

Hi,

Have you read the message posted by Duncan a few days ago?
http://www.r-project.org/nocvs/mail/r-help/2002/5078.html

Cheers,

Ko-Kang Wang
------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Humphreys, Darryl" <darryl.humphreys at lehman.com>
To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
Sent: Saturday, June 22, 2002 9:44 AM
Subject: [R] problem with SJava


> Sorry if this is a stupid question, but I think I followed the
instructions
> in installing the latest R and SJava (on NT4.0). Once all is said and done
I
> get the following error:
>
> > library(SJava)
> Error in .Defunct() : `.Alias' is defunct.
> See ?Defunct.
>
> Do I have a version problem?
>
>
> --------------------------------------------------------------------------
----
> This message is intended only for the personal and confidential use of the
designated recipient(s) named above.  If you are not the intended recipient
of this message you are hereby notified that any review, dissemination,
distribution or copying of this message is strictly prohibited.  This
communication is for information purposes only and should not be regarded as
an offer to sell or as a solicitation of an offer to buy any financial
product, an official confirmation of any transaction, or as an official
statement of Lehman Brothers.  Email transmission cannot be guaranteed to be
secure or error-free.  Therefore, we do not represent that this information
is complete or accurate and it should not be relied upon as such.  All
information is subject to change without notice.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 22 08:40:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 22 Jun 2002 07:40:11 +0100 (BST)
Subject: [R] naming things in functions
In-Reply-To: <3D139C39.331A243@lanl.gov>
Message-ID: <Pine.LNX.4.31.0206220739120.3742-100000@gannet.stats>

See the Programmers' Niche in the latest R-news (released yesterday),
which covers this very problem.

On Fri, 21 Jun 2002, Deborah S. Rocha wrote:

> Hello,
>
> I'm working with R version 1.5.0 in Windows. I've written a function
> (SummaryMat, segment below) which uses a loop to
> repeatedly call another function (PercentsMat, segment below).
>
> PercentsMat creates a matrix and adds rows to it each time it is called.
> I use deparse(substitute(...)) to get the names of the lists sent to
> PercentsMat to use them as row names in the generated matrix. When
> called from the command line, PercentsMat works well.
>
> The problem is that when PercentsMat is called from within a loop in
> SummaryMat, where list names are indexed, the rows in the generated
> matrix are labeled with the index name rather than its value. That is,
> for example, I'm ending up with ri, ri, ri rather than r1, r2, r3.
>
>
> SummaryMat <- function(datamat, numclusts, runs, fzmeasure)
>
> for( j in numclusts )
>         for( i in 1:runs )  {
>                 k = k+1
>                 .
>                 .
>                 .
>                 sepclusters[k] = list( ClusterSep(clusters[[k]]) )  #
> separate data into individual clusters
>                 names(sepclusters)[k] = paste(
> deparse(substitute(datamat)), j, ".", i, sep = "")
>
>                 pL = PercentsMat( sepclusters[[k]], pL, all )
>                 }
>
>
> PercentsMat <- function(clusters, percentsmatrix, ltype){
>         .
>         .
>         .
>         result =  rbind( percentsmatrix, newpercents )
>         rnames = c(dimnames(percentsmatrix)[[1]],
> deparse(substitute(clusters)))
>         numrows = length(rnames)
>         numcols = dim(result)[2]
>         }
> res = matrix(result, nrow = numrows, ncol = numcols, dimnames =
> list(rnames, NULL))
> return(res)
> }
>
> Some actual output of SummaryMat:
>
> $pL
>                  [,1] [,2] [,3]
> sepclusters[[k]]  100    0    0
> sepclusters[[k]]    0    0  100
> sepclusters[[k]]   45   55    0
>
>
> I would be very grateful if you could tell me how to get the names of
> the respective "sepclusters", rather than this less meaningful output.
>
> Thank you,
>   Deborah
>
>
> --
> ...........................................
> Deborah S. Rocha
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sat Jun 22 08:56:56 2002
From: ozric at web.de (christian)
Date: Sat, 22 Jun 2002 08:56:56 +0200
Subject: [R] job challenge
Message-ID: <E17Lejr-0007Od-00@smtp.web.de>

Hi,
i'm a young (30) social-scientist with 3 years experience in business of international market-research and need a new job challenge.
My special skills lying in the field of customer-satisfaction-,demand-, and imag-analysis , 
but i have  further interestings and ideas in combination with surveys/data-mining/panel  .

Practical i would like to work or develope customized things with R,PHP,MySQL etc. .
My background from university are sociology (RC), statistics, decision-theory and economic-situation studies.

It is no problem to mail for further interestings you my
application-documents in a digital-form (PDF).


regards,
Christian Schulz





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sat Jun 22 17:02:41 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Sat, 22 Jun 2002 10:02:41 -0500 (CDT)
Subject: [R] quality control pkg?
Message-ID: <200206221502.KAA06214@uhddx01.dt.uh.edu>

Dear R people
is there a module for quality control, please?

X bar charts, and such?

perhaps a contributed package?

Thanks in advance!

Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat Jun 22 20:19:52 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 22 Jun 2002 11:19:52 -0700 (PDT)
Subject: [R] quality control pkg?
In-Reply-To: <200206221502.KAA06214@uhddx01.dt.uh.edu>
Message-ID: <Pine.GSO.4.10.10206221118420.26291-100000@quetelet.stat.ucla.edu>

I don't think there's a single package.  See

http://maths.newcastle.edu.au/~rking/R/help/00b/2289.html

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sat, 22 Jun 2002, Erin Hodgess wrote:

> Dear R people
> is there a module for quality control, please?
> 
> X bar charts, and such?
> 
> perhaps a contributed package?
> 
> Thanks in advance!
> 
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street 
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat Jun 22 23:29:43 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 22 Jun 2002 14:29:43 -0700 (PDT)
Subject: [R] Does matmult exist?
Message-ID: <Pine.GSO.4.10.10206221426160.5962-100000@quetelet.stat.ucla.edu>

Does the function 'matmult' still exist in R?  It has a help page and is
referenced in the help page for 'kronecker', but I can't seem to access
the function itself.  Obviously, not an issue of great concern but just a
curiosity.

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              


-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Sun Jun 23 00:58:27 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Sat, 22 Jun 2002 23:58:27 +0100
Subject: [R] KS test and data format
Message-ID: <3D150113.779B4123@cancer.org.uk>

Dear All,

I've a problem with the data format and the ks.test() function
(Kolmogorov-Smirnov). The test function expects two numeric vectors, but
the two data distributions I'd like to test are actually in the
following format:

2  4
3  6
5  6
7  2
...

where the 1st column is a data position and the 2nd is the frequency
this data point is observed. To generate an appropiate vector I've to
turn the frequencies into the actual numbers, like:

2
2
2
2
3
3
3
3
3
3
...

I could write a C program for this, but I was wondering whether there is
a quick way in R to do this data transformation.

	thanks alot for help,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Cancer Research UK, London Research Institute
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Sun Jun 23 02:36:55 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Sun, 23 Jun 2002 01:36:55 +0100
Subject: [R] Kolmogorov-Smirnov tests: overflow
Message-ID: <3D151827.CBFBC1DF@cancer.org.uk>

Dear All,

I've got a problem with ks.test. I've two realy large vectors, that I'd
like to test, but I get an overflow, and the p-value cannot be
calculated:

> length(genomesv)
[1] 390025
> length(scopv)
[1] 140002
> ks.test(genomesv, scopv)

        Two-sample Kolmogorov-Smirnov test

data:  genomesv and scopv 
D = 0.2081, p-value = NA
alternative hypothesis: two.sided 

Warning messages: 
1: NAs produced by integer overflow in: n.x * n.y 
2: NAs produced by integer overflow in: n.x * n.y 
3: cannot compute correct p-values with ties in: ks.test(genomesv,
scopv) 

Is there anything I can do about this? I'd realy like to know what the
p-value is ;-)

	thanks a lot for help,

	Arne

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Cancer Research UK, London Research Institute
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sun Jun 23 03:49:56 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sat, 22 Jun 2002 20:49:56 -0500
Subject: [R] KS test and data format
In-Reply-To: <3D150113.779B4123@cancer.org.uk>
Message-ID: <000c01c21a58$47442e10$0201a8c0@MARC>

> Dear All,
> 
> I've a problem with the data format and the ks.test() function
> (Kolmogorov-Smirnov). The test function expects two numeric vectors,
but
> the two data distributions I'd like to test are actually in the
> following format:
> 
> 2  4
> 3  6
> 5  6
> 7  2
> ...
> 
> where the 1st column is a data position and the 2nd is the frequency
> this data point is observed. To generate an appropiate vector I've to
> turn the frequencies into the actual numbers, like:
> 
> 2
> 2
> 2
> 2
> 3
> 3
> 3
> 3
> 3
> 3
> ...
> 
> I could write a C program for this, but I was wondering whether there
is
> a quick way in R to do this data transformation.
> 
> 	thanks alot for help,
> 
> 	Arne

Presuming that you have your data in R in the two column format that you
define above, which I'll call 'data', how about something like:

data.1 <- rep(data[, 1], data[, 2])

This tells R to replicate that value in column 1 (data[, 1]) by the
number in the column 2 (data[, 2]) and put the result in a vector called
'data.1'.

For more information do ?rep.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Sun Jun 23 04:35:41 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Sat, 22 Jun 2002 19:35:41 -0700 (PDT)
Subject: [R] Re: Load prediction
Message-ID: <20020623023541.80132.qmail@web21110.mail.yahoo.com>

Hello,

I have received no reply to my previous query, so I
will try again.

I have tried glm on this problem with the default
parameters and it produced a model with mean absolute
error of approx 300 MWhrs. (The data is roughly
normally distributed with a mean of 1700 MWhrs and
SD=500). I know very little about R and so I am not
sure what parameter needs to be tweaked from here.

Using Cubist (www.rulequest.com) I have created a
predictive model whose mean error is around 100 MWhrs.
Cubist builds a recursively partitioned tree using
piecewise linear regression. Cubist also outputs a
nice set of rules which explain the model in terms of
feature splits.
 
I think R should give a comparable result. Does R have
a method of piecewise approximation like this? I would
like to compare R against Cubist. What method(s)in R
must I learn to do this?

Thank you,
Johanus Dagius

At 12:13 PM 6/21/02 -0700, I wrote:
> Hello,
>
>This is perhaps more of a regression question than R,
>but I am learning both, so would appreciate your
>wisdom here.
>
>
>I have some data which reflects power load for an
>electrical generating system, with some temporal
>features. The data fields look like this:
>
>
>ID,MON,DAY,YR,HR,WDAY,DRYBULB,WETBULB,LOAD
>4455   5  13   92   13    4      70      63 1617
>4456   3   9   92   13    2      73      57 1397
>4457  10   5   92    8    2      58      58 1501
>4458  11  24   92   18    3      56      56 1885
>4459   9  27   92    8    1      65      65 1402
>
>
>What R methodology is likely to produce the most
>accurate load forecast prediction for a given date
and
>temperatures for problems like this?
>
>
>Thank you,
>Johanus Dagius


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 23 08:50:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 23 Jun 2002 07:50:16 +0100 (BST)
Subject: [R] Re: Load prediction
In-Reply-To: <20020623023541.80132.qmail@web21110.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0206230730240.13623-100000@gannet.stats>

On Sat, 22 Jun 2002, Johanus Dagius wrote:

> Hello,
>
> I have received no reply to my previous query, so I
> will try again.
>
> I have tried glm on this problem with the default
> parameters and it produced a model with mean absolute
> error of approx 300 MWhrs. (The data is roughly
> normally distributed with a mean of 1700 MWhrs and
> SD=500). I know very little about R and so I am not
> sure what parameter needs to be tweaked from here.
>
> Using Cubist (www.rulequest.com) I have created a
> predictive model whose mean error is around 100 MWhrs.
> Cubist builds a recursively partitioned tree using
> piecewise linear regression. Cubist also outputs a
> nice set of rules which explain the model in terms of
> feature splits.
>
> I think R should give a comparable result. Does R have
> a method of piecewise approximation like this? I would
> like to compare R against Cubist. What method(s)in R
> must I learn to do this?

R is an extensible software system, not a set of model-building
techniques.  You really didn't tell us anything like enough (either time)
about your data.  (E.g. Cubist is designed for thousands of records and
tens to hundreds of variables: you showed five and around seven.)  But as
a general principle, this looks as if glm (as distinct from lm) is not
needed, and the currently most promising prediction techniques for
continuous quantities are thought to be neural networks (in the VR bundle)
and SVMs (in package e1071). R also has several packages for tree-building
(see the FAQ), and you could implement something very like Cubist in R.
So `to compare R against Cubist' is not well-defined, both for `R' and for
the criteria to be used.

My advice would be to engage a statistical consultant to guide you.


> At 12:13 PM 6/21/02 -0700, I wrote:
> > Hello,
> >
> >This is perhaps more of a regression question than R,
> >but I am learning both, so would appreciate your
> >wisdom here.
> >
> >
> >I have some data which reflects power load for an
> >electrical generating system, with some temporal
> >features. The data fields look like this:
> >
> >
> >ID,MON,DAY,YR,HR,WDAY,DRYBULB,WETBULB,LOAD
> >4455   5  13   92   13    4      70      63 1617
> >4456   3   9   92   13    2      73      57 1397
> >4457  10   5   92    8    2      58      58 1501
> >4458  11  24   92   18    3      56      56 1885
> >4459   9  27   92    8    1      65      65 1402
> >
> >
> >What R methodology is likely to produce the most
> >accurate load forecast prediction for a given date
> and
> >temperatures for problems like this?
> >
> >
> >Thank you,
> >Johanus Dagius
>
>
> __________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 23 08:54:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 23 Jun 2002 07:54:41 +0100 (BST)
Subject: [R] Does matmult exist?
In-Reply-To: <Pine.GSO.4.10.10206221426160.5962-100000@quetelet.stat.ucla.edu>
Message-ID: <Pine.LNX.4.31.0206230751090.13623-100000@gannet.stats>

On Sat, 22 Jun 2002, Roger Peng wrote:

> Does the function 'matmult' still exist in R?  It has a help page and is

The help page called matmult.Rd is for %*%.  Handling references for
something containing the comment character in Rd format is awkward.

There are lots of topics in the help system that are not actual functions.

> referenced in the help page for 'kronecker', but I can't seem to access
> the function itself.  Obviously, not an issue of great concern but just a
> curiosity.
>
> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
>
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 23 09:08:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 23 Jun 2002 08:08:43 +0100 (BST)
Subject: [R] Kolmogorov-Smirnov tests: overflow
In-Reply-To: <3D151827.CBFBC1DF@cancer.org.uk>
Message-ID: <Pine.LNX.4.31.0206230755410.13623-100000@gannet.stats>

Both this and your previous post suggest that your data are from a
discrete distribution (here as they have ties).  The standard distribution
of the KS test is inappropriate: see the first para of `Details' in
?ks.test.

Even if it were not, your data sets would be so large that you would get
statistical significance for practically insignificant differences,
but if you really wanted to get some idea of the p value, there is
a well-known asympototic expansion for the significance levels in terms of
m and n.  My memory is the there is a monograph by Jim Durbin on this,

On Sun, 23 Jun 2002, Arne Mueller wrote:

> Dear All,
>
> I've got a problem with ks.test. I've two realy large vectors, that I'd
> like to test, but I get an overflow, and the p-value cannot be
> calculated:
>
> > length(genomesv)
> [1] 390025
> > length(scopv)
> [1] 140002
> > ks.test(genomesv, scopv)
>
>         Two-sample Kolmogorov-Smirnov test
>
> data:  genomesv and scopv
> D = 0.2081, p-value = NA
> alternative hypothesis: two.sided
>
> Warning messages:
> 1: NAs produced by integer overflow in: n.x * n.y
> 2: NAs produced by integer overflow in: n.x * n.y
> 3: cannot compute correct p-values with ties in: ks.test(genomesv,
> scopv)
>
> Is there anything I can do about this? I'd realy like to know what the
> p-value is ;-)
>
> 	thanks a lot for help,
>
> 	Arne
>
> --
> Arne Mueller
> Biomolecular Modelling Laboratory
> Cancer Research UK, London Research Institute
> 44 Lincoln's Inn Fields
> London WC2A 3PX, U.K.
> phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
> phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
> email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 23 11:02:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 2002 11:02:56 +0200
Subject: [R] Does matmult exist?
In-Reply-To: <Pine.LNX.4.31.0206230751090.13623-100000@gannet.stats>
References: <Pine.LNX.4.31.0206230751090.13623-100000@gannet.stats>
Message-ID: <x24rfus6yn.fsf@biostat.ku.dk>

ripley at stats.ox.ac.uk writes:

> On Sat, 22 Jun 2002, Roger Peng wrote:
> 
> > Does the function 'matmult' still exist in R?  It has a help page and is
> 
> The help page called matmult.Rd is for %*%.  Handling references for
> something containing the comment character in Rd format is awkward.
> 
> There are lots of topics in the help system that are not actual functions.
> 
> > referenced in the help page for 'kronecker', but I can't seem to access
> > the function itself.  Obviously, not an issue of great concern but just a
> > curiosity.

Things do work though:

?matmult and ?"%*%" both lead you to a help page which clearly says

Usage:

     a %*% b


(and of course as Brian says: there are no functions called Syntax,
Arithmetic, Normal, or... either)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Sun Jun 23 15:08:42 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Sun, 23 Jun 2002 06:08:42 -0700 (PDT)
Subject: [R] Re: Load prediction
In-Reply-To: <Pine.LNX.4.31.0206230730240.13623-100000@gannet.stats>
Message-ID: <20020623130842.41538.qmail@web21108.mail.yahoo.com>

Dr. Ripley,

I am not comparing R and Cubist on the same level. The
reason I am interested in R is because it is, as you
say, extensible and very flexible. (But much more
difficult to master). I hope it allow me to build
models (like Cubist),  but also visualize and analyze
the results (which Cubist is not designed to do).

I have already used libsvm and know about neural nets,
but what is this "VR bundle"? Is it a CRAN package?

Thank you,
Johanus Dagius

--- ripley at stats.ox.ac.uk wrote:
> On Sat, 22 Jun 2002, Johanus Dagius wrote:
> 
> > Hello,
> >
> > I have received no reply to my previous query, so
> I
> > will try again.
> >
> > I have tried glm on this problem with the default
> > parameters and it produced a model with mean
> absolute
> > error of approx 300 MWhrs. (The data is roughly
> > normally distributed with a mean of 1700 MWhrs and
> > SD=500). I know very little about R and so I am
> not
> > sure what parameter needs to be tweaked from here.
> >
> > Using Cubist (www.rulequest.com) I have created a
> > predictive model whose mean error is around 100
> MWhrs.
> > Cubist builds a recursively partitioned tree using
> > piecewise linear regression. Cubist also outputs a
> > nice set of rules which explain the model in terms
> of
> > feature splits.
> >
> > I think R should give a comparable result. Does R
> have
> > a method of piecewise approximation like this? I
> would
> > like to compare R against Cubist. What method(s)in
> R
> > must I learn to do this?
> 
> R is an extensible software system, not a set of
> model-building
> techniques.  You really didn't tell us anything like
> enough (either time)
> about your data.  (E.g. Cubist is designed for
> thousands of records and
> tens to hundreds of variables: you showed five and
> around seven.)  But as
> a general principle, this looks as if glm (as
> distinct from lm) is not
> needed, and the currently most promising prediction
> techniques for
> continuous quantities are thought to be neural
> networks (in the VR bundle)
> and SVMs (in package e1071). R also has several
> packages for tree-building
> (see the FAQ), and you could implement something
> very like Cubist in R.
> So `to compare R against Cubist' is not
> well-defined, both for `R' and for
> the criteria to be used.
> 
> My advice would be to engage a statistical
> consultant to guide you.
> 
> 
> > At 12:13 PM 6/21/02 -0700, I wrote:
> > > Hello,
> > >
> > >This is perhaps more of a regression question
> than R,
> > >but I am learning both, so would appreciate your
> > >wisdom here.
> > >
> > >
> > >I have some data which reflects power load for an
> > >electrical generating system, with some temporal
> > >features. The data fields look like this:
> > >
> > >
> > >ID,MON,DAY,YR,HR,WDAY,DRYBULB,WETBULB,LOAD
> > >4455   5  13   92   13    4      70      63 1617
> > >4456   3   9   92   13    2      73      57 1397
> > >4457  10   5   92    8    2      58      58 1501
> > >4458  11  24   92   18    3      56      56 1885
> > >4459   9  27   92    8    1      65      65 1402
> > >
> > >
> > >What R methodology is likely to produce the most
> > >accurate load forecast prediction for a given
> date
> > and
> > >temperatures for problems like this?
> > >
> > >
> > >Thank you,
> > >Johanus Dagius
> >
> >
> > __________________________________________________
> >
> >
> >
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                 
> ripley at stats.ox.ac.uk
> Professor of Applied Statistics, 
> http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865
> 272861 (self)
> 1 South Parks Road,                     +44 1865
> 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865
> 272595
> 


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.mueller at cancer.org.uk  Sun Jun 23 15:24:20 2002
From: a.mueller at cancer.org.uk (Arne Mueller)
Date: Sun, 23 Jun 2002 14:24:20 +0100
Subject: [R] Kolmogorov-Smirnov tests: overflow
References: <Pine.LNX.4.31.0206230755410.13623-100000@gannet.stats>
Message-ID: <3D15CC04.B818F3A5@cancer.org.uk>

Hello,

thanks evrybody for your quick response. Yes, the two distributions
should be discrete. The reason why I wanted to use ks.test was to get
very rough idea whether two distributions are different. However, both
distributions have a similar shape (but defenetely they are no normal
distributions).

However, i'm not very familiar with stats.

Below yoy write that the two datasets are so large that they'll be
significantly different anyway. Is that a general problem with large
datasets?

	regards,

	Arne

ripley at stats.ox.ac.uk wrote:
> 
> Both this and your previous post suggest that your data are from a
> discrete distribution (here as they have ties).  The standard distribution
> of the KS test is inappropriate: see the first para of `Details' in
> ?ks.test.
> 
> Even if it were not, your data sets would be so large that you would get
> statistical significance for practically insignificant differences,
> but if you really wanted to get some idea of the p value, there is
> a well-known asympototic expansion for the significance levels in terms of
> m and n.  My memory is the there is a monograph by Jim Durbin on this,
> 
> On Sun, 23 Jun 2002, Arne Mueller wrote:
> 
> > Dear All,
> >
> > I've got a problem with ks.test. I've two realy large vectors, that I'd
> > like to test, but I get an overflow, and the p-value cannot be
> > calculated:
> >
> > > length(genomesv)
> > [1] 390025
> > > length(scopv)
> > [1] 140002
> > > ks.test(genomesv, scopv)
> >
> >         Two-sample Kolmogorov-Smirnov test
> >
> > data:  genomesv and scopv
> > D = 0.2081, p-value = NA
> > alternative hypothesis: two.sided
> >
> > Warning messages:
> > 1: NAs produced by integer overflow in: n.x * n.y
> > 2: NAs produced by integer overflow in: n.x * n.y
> > 3: cannot compute correct p-values with ties in: ks.test(genomesv,
> > scopv)
> >
> > Is there anything I can do about this? I'd realy like to know what the
> > p-value is ;-)
> >
> >       thanks a lot for help,
> >
> >       Arne
> >
> > --
> > Arne Mueller
> > Biomolecular Modelling Laboratory
> > Cancer Research UK, London Research Institute
> > 44 Lincoln's Inn Fields
> > London WC2A 3PX, U.K.
> > phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
> > phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
> > email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Arne Mueller
Biomolecular Modelling Laboratory
Cancer Research UK, London Research Institute
44 Lincoln's Inn Fields
London WC2A 3PX, U.K.
phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 23 15:35:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 23 Jun 2002 14:35:46 +0100 (BST)
Subject: [R] Re: Load prediction
In-Reply-To: <20020623130842.41538.qmail@web21108.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0206231434410.13941-100000@gannet.stats>

On Sun, 23 Jun 2002, Johanus Dagius wrote:

> Dr. Ripley,

Who (s)he?

> I am not comparing R and Cubist on the same level. The
> reason I am interested in R is because it is, as you
> say, extensible and very flexible. (But much more
> difficult to master). I hope it allow me to build
> models (like Cubist),  but also visualize and analyze
> the results (which Cubist is not designed to do).
>
> I have already used libsvm and know about neural nets,
> but what is this "VR bundle"? Is it a CRAN package?

Yes, it a recommended package, part of a standard R installation.

>
> Thank you,
> Johanus Dagius
>
> --- ripley at stats.ox.ac.uk wrote:
> > On Sat, 22 Jun 2002, Johanus Dagius wrote:
> >
> > > Hello,
> > >
> > > I have received no reply to my previous query, so
> > I
> > > will try again.
> > >
> > > I have tried glm on this problem with the default
> > > parameters and it produced a model with mean
> > absolute
> > > error of approx 300 MWhrs. (The data is roughly
> > > normally distributed with a mean of 1700 MWhrs and
> > > SD=500). I know very little about R and so I am
> > not
> > > sure what parameter needs to be tweaked from here.
> > >
> > > Using Cubist (www.rulequest.com) I have created a
> > > predictive model whose mean error is around 100
> > MWhrs.
> > > Cubist builds a recursively partitioned tree using
> > > piecewise linear regression. Cubist also outputs a
> > > nice set of rules which explain the model in terms
> > of
> > > feature splits.
> > >
> > > I think R should give a comparable result. Does R
> > have
> > > a method of piecewise approximation like this? I
> > would
> > > like to compare R against Cubist. What method(s)in
> > R
> > > must I learn to do this?
> >
> > R is an extensible software system, not a set of
> > model-building
> > techniques.  You really didn't tell us anything like
> > enough (either time)
> > about your data.  (E.g. Cubist is designed for
> > thousands of records and
> > tens to hundreds of variables: you showed five and
> > around seven.)  But as
> > a general principle, this looks as if glm (as
> > distinct from lm) is not
> > needed, and the currently most promising prediction
> > techniques for
> > continuous quantities are thought to be neural
> > networks (in the VR bundle)
> > and SVMs (in package e1071). R also has several
> > packages for tree-building
> > (see the FAQ), and you could implement something
> > very like Cubist in R.
> > So `to compare R against Cubist' is not
> > well-defined, both for `R' and for
> > the criteria to be used.
> >
> > My advice would be to engage a statistical
> > consultant to guide you.
> >
> >
> > > At 12:13 PM 6/21/02 -0700, I wrote:
> > > > Hello,
> > > >
> > > >This is perhaps more of a regression question
> > than R,
> > > >but I am learning both, so would appreciate your
> > > >wisdom here.
> > > >
> > > >
> > > >I have some data which reflects power load for an
> > > >electrical generating system, with some temporal
> > > >features. The data fields look like this:
> > > >
> > > >
> > > >ID,MON,DAY,YR,HR,WDAY,DRYBULB,WETBULB,LOAD
> > > >4455   5  13   92   13    4      70      63 1617
> > > >4456   3   9   92   13    2      73      57 1397
> > > >4457  10   5   92    8    2      58      58 1501
> > > >4458  11  24   92   18    3      56      56 1885
> > > >4459   9  27   92    8    1      65      65 1402
> > > >
> > > >
> > > >What R methodology is likely to produce the most
> > > >accurate load forecast prediction for a given
> > date
> > > and
> > > >temperatures for problems like this?
> > > >
> > > >
> > > >Thank you,
> > > >Johanus Dagius
> > >
> > >
> > > __________________________________________________
> > >
> > >
> > >
> > >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > >
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,
> > ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,
> > http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865
> > 272861 (self)
> > 1 South Parks Road,                     +44 1865
> > 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865
> > 272595
> >
>
>
> __________________________________________________
> Do You Yahoo!?

> http://fifaworldcup.yahoo.com
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 23 15:37:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 23 Jun 2002 14:37:03 +0100 (BST)
Subject: [R] Kolmogorov-Smirnov tests: overflow
In-Reply-To: <3D15CC04.B818F3A5@cancer.org.uk>
Message-ID: <Pine.LNX.4.31.0206231436030.13941-100000@gannet.stats>

On Sun, 23 Jun 2002, Arne Mueller wrote:

> Hello,
>
> thanks evrybody for your quick response. Yes, the two distributions
> should be discrete. The reason why I wanted to use ks.test was to get
> very rough idea whether two distributions are different. However, both
> distributions have a similar shape (but defenetely they are no normal
> distributions).
>
> However, i'm not very familiar with stats.
>
> Below yoy write that the two datasets are so large that they'll be
> significantly different anyway. Is that a general problem with large
> datasets?

That's not what I said, but what I did say is a standard problem in large
datasets.

>
> 	regards,
>
> 	Arne
>
> ripley at stats.ox.ac.uk wrote:
> >
> > Both this and your previous post suggest that your data are from a
> > discrete distribution (here as they have ties).  The standard distribution
> > of the KS test is inappropriate: see the first para of `Details' in
> > ?ks.test.
> >
> > Even if it were not, your data sets would be so large that you would get
> > statistical significance for practically insignificant differences,
> > but if you really wanted to get some idea of the p value, there is
> > a well-known asympototic expansion for the significance levels in terms of
> > m and n.  My memory is the there is a monograph by Jim Durbin on this,
> >
> > On Sun, 23 Jun 2002, Arne Mueller wrote:
> >
> > > Dear All,
> > >
> > > I've got a problem with ks.test. I've two realy large vectors, that I'd
> > > like to test, but I get an overflow, and the p-value cannot be
> > > calculated:
> > >
> > > > length(genomesv)
> > > [1] 390025
> > > > length(scopv)
> > > [1] 140002
> > > > ks.test(genomesv, scopv)
> > >
> > >         Two-sample Kolmogorov-Smirnov test
> > >
> > > data:  genomesv and scopv
> > > D = 0.2081, p-value = NA
> > > alternative hypothesis: two.sided
> > >
> > > Warning messages:
> > > 1: NAs produced by integer overflow in: n.x * n.y
> > > 2: NAs produced by integer overflow in: n.x * n.y
> > > 3: cannot compute correct p-values with ties in: ks.test(genomesv,
> > > scopv)
> > >
> > > Is there anything I can do about this? I'd realy like to know what the
> > > p-value is ;-)
> > >
> > >       thanks a lot for help,
> > >
> > >       Arne
> > >
> > > --
> > > Arne Mueller
> > > Biomolecular Modelling Laboratory
> > > Cancer Research UK, London Research Institute
> > > 44 Lincoln's Inn Fields
> > > London WC2A 3PX, U.K.
> > > phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
> > > phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
> > > email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Arne Mueller
> Biomolecular Modelling Laboratory
> Cancer Research UK, London Research Institute
> 44 Lincoln's Inn Fields
> London WC2A 3PX, U.K.
> phone1 : +44-(0)20-72693405      | fax  : +44-(0)20-75945789
> phone2 : +44-(0)20-75945776      | mobil: +44-(0)7984601749
> email  : a.mueller at cancer.org.uk | http://www.bmm.icnet.uk
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fatman at aracnet.com  Sun Jun 23 14:43:52 2002
From: fatman at aracnet.com (John Jaynes)
Date: Sun, 23 Jun 2002 05:43:52 -0700
Subject: [R] configure: error: cannot compute sizeof (int), 77
Message-ID: <200206231343.g5NDhdYl011973@mail3.aracnet.com>

Dear R Discussion Group,

Thanks for making such an interesting and capable Statistics package 
available. It certainly "saved my bacon" during this past academic quarter. I 
have had no trouble at all installing the sources on my linux box: The 
configure and make scripts work perfectly. I have had no luck attempting to 
install these at work, though. My workplace uses a Solaris 8 network. When I 
run the configure script, logged in as a user, I get the following error 
message: checking size of int... configure: error: cannot compute sizeof 
(int), 77

I have attached the complete configure session to this email as file 
"it_doesnt.work". Any suggestions as to what to do will be greatly 
appreciated.

An Appreciative R User,

John
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 23 17:00:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 2002 17:00:40 +0200
Subject: [R] configure: error: cannot compute sizeof (int), 77
In-Reply-To: <200206231343.g5NDhdYl011973@mail3.aracnet.com>
References: <200206231343.g5NDhdYl011973@mail3.aracnet.com>
Message-ID: <x2ptyivy3r.fsf@biostat.ku.dk>

John Jaynes <fatman at aracnet.com> writes:

> Dear R Discussion Group,
> 
> Thanks for making such an interesting and capable Statistics package 
> available. It certainly "saved my bacon" during this past academic quarter. I 
> have had no trouble at all installing the sources on my linux box: The 
> configure and make scripts work perfectly. I have had no luck attempting to 
> install these at work, though. My workplace uses a Solaris 8 network. When I 
> run the configure script, logged in as a user, I get the following error 
> message: checking size of int... configure: error: cannot compute sizeof 
> (int), 77
> 
> I have attached the complete configure session to this email as file 
> "it_doesnt.work". Any suggestions as to what to do will be greatly 
> appreciated.

Looks like the mailing list software snipped it. Probably with good
reason... Instead, could you just tell us which compilers and R version
you are trying to use, and if they are detected correctly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Jun 23 22:37:06 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 24 Jun 2002 08:37:06 +1200
Subject: [R] Re: Load prediction
References: <20020623130842.41538.qmail@web21108.mail.yahoo.com>
Message-ID: <001701c21af5$bea1f530$a72d56d2@kwan022>


----- Original Message -----
From: "Johanus Dagius" <jdagius at yahoo.com>
To: <ripley at stats.ox.ac.uk>
Cc: "R-Help" <r-help at stat.math.ethz.ch>
Sent: Monday, June 24, 2002 1:08 AM
Subject: Re: [R] Re: Load prediction


> I have already used libsvm and know about neural nets,
> but what is this "VR bundle"? Is it a CRAN package?

Take a look at CRAN, under
http://cran.r-project.org/src/contrib/PACKAGES.html#VR

Basically it's a bundle of MASS, class, nnet, and spatial packages, which
are all described in the "Modern Applied Statistics with S" by Venables &
Ripley (hence the name VR).

Cheers,

Ko-Kang Wang


------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Jun 24 10:37:27 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 24 Jun 2002 10:37:27 +0200
Subject: [R] Re: R News Volume 2/2
In-Reply-To: <15635.17406.468493.410571@mithrandir.hornik.net>
Message-ID: <3.0.6.32.20020624103727.00ddf210@mail.wsl.ch>

Hi all,

The file is NOT a gz file, but plain .ps.  So, to read it, rename it by
deleting the tail ".gz".  (Perhaps my download mechanism fabricated the
extra ".gz"?)

Good luck.
--christian

At 17:19 21.06.2002 +0200, you wrote:
>
>We have just published the 2002/2 issue of R News on
>
>	http://cran.R-project.org/doc/Rnews
>
>where you can download the newsletter as PDF or Postscript file.  It
>will propagate to the CRAN mirrors within a day or two.
>
>This issue focuses on the R 1.5.0 release, with key innovations in the
>standard add-on package 'ts' and the two new recommended packages 'grid'
>and 'lattice'.  There is much more exciting information, including news
>on R and spatial statistics, distributed computing, and bioinformatics.
>
>Contents:
>
>Time Series in R 1.5.0
>Naive Time Series Forecasting Methods
>Rmpi: Parallel Statistical Computing in R
>The grid Graphics Package
>Lattice
>Programmer's Niche
>geoRglm: A Package for Generalised Linear Spatial Models
>Querying PubMed
>evd: Extreme Value Distributions
>ipred: Improved Predictors
>Changes in R
>Changes on CRAN
>Upcoming Events
>
>which makes a total of 44 pages.
>
>For the editorial board,
>Kurt Hornik
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 24 10:51:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 24 Jun 2002 09:51:07 +0100 (BST)
Subject: [R] Re: R News Volume 2/2
In-Reply-To: <3.0.6.32.20020624103727.00ddf210@mail.wsl.ch>
Message-ID: <Pine.GSO.4.44.0206240945050.29627-100000@auk.stats>

On Mon, 24 Jun 2002, Christian Hoffmann wrote:

> Hi all,
>
> The file is NOT a gz file, but plain .ps.  So, to read it, rename it by
> deleting the tail ".gz".  (Perhaps my download mechanism fabricated the
> extra ".gz"?)

Rather, your download mechanism un-gzipped it for you:  Netscape and others
often do unless you explicitly save the link contents.  The actual file
is

auk% file Rnews_2002-2.ps.gz
Rnews_2002-2.ps.gz:     gzip compressed data - deflate method , original
file name

(after ftp-ing which is safe in this regard).

This is so commonplace I am surprised you have not met it before.

> Good luck.

I think good understanding should be more productive.

> --christian
>
> At 17:19 21.06.2002 +0200, you wrote:
> >
> >We have just published the 2002/2 issue of R News on
> >
> >	http://cran.R-project.org/doc/Rnews
> >
> >where you can download the newsletter as PDF or Postscript file.  It
> >will propagate to the CRAN mirrors within a day or two.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 24 11:07:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 24 Jun 2002 10:07:40 +0100 (BST)
Subject: [R] Tuned Rblas.dll available on CRAN (for Windows)
Message-ID: <Pine.GSO.4.44.0206240951130.29627-100000@auk.stats>

There is a new area on CRAN

	bin/windows/contrib/ATLAS

which contains Rblas's compiled against ATLAS 3.4.1 for various chips.  To
use one of these, just rename rw1051\bin\Rblas.dll and drop the replacment
in its place.  Using a tuned BLAS will be noticeably faster only on some
linear-algebra calculations, notably those using La.svd and La.eigen (which
might be twice as fast).

There are versions there for Pentium II and 4, and for AthlonXP.  A version
for Pentium III will be available later this week.  (If you have a
high-performance system, in particular one with dual processors or some
sort of Xeon, you ought to build ATLAS and Rblas.dll on the target system.)

In theory at least the same Rblas.dll will work with rw1050, rw1051 and the
development versions of R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celine.rondey at educagri.fr  Mon Jun 24 12:26:26 2002
From: celine.rondey at educagri.fr (CELINE RONDEY)
Date: Mon, 24 Jun 2002 12:26:26 +0200
Subject: [R] Function Dev2bitmap
Message-ID: <fc.000f5d97019d3778000f5d97019d3778.19d3826@educagri.fr>

I wish to use the function Dev2bitmap under R to record my graphs.
If i write this term, dev2bitmap(".../histo",type="jpeg",height=7,width=7) 
my program execute a big number of times and i can not stop it any more.
My question concerns this function :
How do i owe used this function?


Best regards

C?line RONDEY

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Mon Jun 24 12:44:05 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Mon, 24 Jun 2002 12:44:05 +0200
Subject: [R] multiple graphics in separate windows
Message-ID: <3D16F7F5.4040104@tuebingen.mpg.de>

hi,
I am looking for a possibility to open several graphics in independent 
windows (is that the graphics device ?).
up to now, i was only able to generate a graphic, then save it (e.g. as 
eps) and then generate a new plot that always overwrites the old 
graphic. I am aware of the fact that I can generate multiple plots in a 
single graphics window, but this is not what i am looking for ..

thanks for help,
greetinx jan


-- 
Jan Malte Wiener
Max-Planck-Institute for Biological Cybernetics
Spemannstr. 38, 72076 Tuebingen, Germany
Tel.: +49 7071 601 631
Email: jan.wiener at tuebingen.mpg.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 24 13:15:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Jun 2002 13:15:05 +0200
Subject: [R] multiple graphics in separate windows
References: <3D16F7F5.4040104@tuebingen.mpg.de>
Message-ID: <3D16FF39.1DEEA44C@statistik.uni-dortmund.de>



Jan Malte Wiener wrote:
> 
> hi,
> I am looking for a possibility to open several graphics in independent
> windows (is that the graphics device ?).
> up to now, i was only able to generate a graphic, then save it (e.g. as
> eps) and then generate a new plot that always overwrites the old
> graphic. I am aware of the fact that I can generate multiple plots in a
> single graphics window, but this is not what i am looking for ..
> 

Use windows() or X11() to open new devices.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 24 13:18:04 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Jun 2002 13:18:04 +0200
Subject: [R] Function Dev2bitmap
References: <fc.000f5d97019d3778000f5d97019d3778.19d3826@educagri.fr>
Message-ID: <3D16FFEC.81E1F00C@statistik.uni-dortmund.de>



CELINE RONDEY wrote:
> 
> I wish to use the function Dev2bitmap under R to record my graphs.
> If i write this term, dev2bitmap(".../histo",type="jpeg",height=7,width=7)
> my program execute a big number of times and i can not stop it any more.
> My question concerns this function :
> How do i owe used this function?

Works perfectly for me (R-1.5.1, WinNT 4.0).
We need some more details to help (OS, R version, more code and
explanation how you used dev2bitmap, ...).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Jun 24 15:18:53 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 24 Jun 2002 13:18:53 +0000
Subject: [R] Covarianz matrix from an aov model
Message-ID: <3D171C3D.48DA4CA0@psy.uni-muenchen.de>

Hi all,

how can I extract the covariance matrix from an object of class aov?

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon Jun 24 13:26:11 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Mon, 24 Jun 2002 21:26:11 +1000
Subject: [R] Covarianz matrix from an aov model
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1B8E@Roper-CV.qld.cmis.csiro.au>

Try vcov() from the MASS library.

-----Original Message-----
From: Sven Garbade [mailto:garbade at psy.uni-muenchen.de]
Sent: Monday, June 24, 2002 11:19 PM
To: R-Help
Subject: [R] Covarianz matrix from an aov model


Hi all,

how can I extract the covariance matrix from an object of class aov?

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.schnee at tuebingen.mpg.de  Mon Jun 24 15:33:35 2002
From: alexander.schnee at tuebingen.mpg.de (alexander.schnee@tuebingen.mpg.de)
Date: Mon, 24 Jun 2002 15:33:35 +0200
Subject: [R] barplot
Message-ID: <3D171FAF.4050702@tuebingen.mpg.de>

Hi,
a couple of simple graphics questions:
 
1. I have a little function that makes bar plots. Now I would like to 
limit the Y-axis outside this
function (that means after calling the barplot() command) depending on
the data to be plotted .
Does anyone know how to do this ???
 
2. When using barplot() and limiting the yAxis, R draws the bars below
the x-axis. How can I avoid this problem ??
 
thanks for answers
alex

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From swisdom at ureach.com  Mon Jun 24 15:35:46 2002
From: swisdom at ureach.com (Steve Wisdom)
Date: Mon, 24 Jun 2002 09:35:46 -0400
Subject: [R] Please, explicitly quote the source of non-base functions
Message-ID: <200206241335.JAA15073@www20.ureach.com>


Sirs, 

No doubt many of the cerebral and erudite correspondents on the 
R-list have memorized all the functions in all the CRAN 
packages.

But for the benefit of those less competent, such as I, could 
posters explicitly quote the source of non-base functions? 

Lately, intervals() and chron() were discussed on the list, 
without clear mention that they live in packages `nlme' and 
`chron' respectively, and there have been many other examples.

Thanks, 

Steve Wisdom
Minnetonka MN US 



________________________________________________
Get your own "800" number
Voicemail, fax, email, and a lot more
http://www.ureach.com/reg/tag
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Mon Jun 24 15:48:41 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Mon, 24 Jun 2002 08:48:41 -0500
Subject: [R] An "update.packages()" problem?
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
Message-ID: <3D172339.6050309@perseus.unalmed.edu.co>


I try to use "update.packages()" and it works fine, at least the 
packages download right.
But when the packages are done it appears this message:

Error in zip.unpack(pkg, lib) : cannot open file 
C:/rw1051/library/MASS/libs/MASS.dll

What am Idoing wrong? (Yesterday it works fine!!!)

platform i386-pc-mingw32
arch     i386          
os       mingw32       
system   i386, mingw32 
status                 
major    1             
minor    5.1           
year     2002          
month    06            
day      17            
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 24 16:02:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 24 Jun 2002 15:02:27 +0100 (BST)
Subject: [R] An "update.packages()" problem?
In-Reply-To: <3D172339.6050309@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0206241500110.18844-100000@gannet.stats>

On Mon, 24 Jun 2002, Kenneth Cabrera wrote:

>
> I try to use "update.packages()" and it works fine, at least the
> packages download right.
> But when the packages are done it appears this message:
>
> Error in zip.unpack(pkg, lib) : cannot open file
> C:/rw1051/library/MASS/libs/MASS.dll
>
> What am Idoing wrong? (Yesterday it works fine!!!)

You have MASS loaded: Windows will not allow you to update packages which
are in use (at least, those containing DLLs).  Try a vanilla session
(with --vanilla, for example) and update from there.

>
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Mon Jun 24 16:07:36 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Mon, 24 Jun 2002 18:07:36 +0400 (MSD)
Subject: [R] fit with parameters under some condition
Message-ID: <Pine.LNX.4.33.0206241748590.13331-100000@pcf004.jinr.ru>

Hello!


I'd like to fit with nls some function, say,

    y(x, p);   p = c (p1, p2)

with fit parameters bound certain condition, in genegal case,

    F (p1, p2) = 0.

Or, in particular case,

    p2 = f(p1).


Is there 'most right' way to do it?



--
Thank you very much,

Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 24 16:11:04 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Jun 2002 16:11:04 +0200
Subject: [R] An "update.packages()" problem?
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx> <3D172339.6050309@perseus.unalmed.edu.co>
Message-ID: <3D172878.32CC6E3E@statistik.uni-dortmund.de>



Kenneth Cabrera wrote:
> 
> I try to use "update.packages()" and it works fine, at least the
> packages download right.
> But when the packages are done it appears this message:
> 
> Error in zip.unpack(pkg, lib) : cannot open file
> C:/rw1051/library/MASS/libs/MASS.dll
> 
> What am Idoing wrong? (Yesterday it works fine!!!)

Probably you have loaded MASS with
library(MASS)
before and the DLL is locked by the OS.
Just restart R without loading MASS and try again.

Uwe Ligges



> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jun 24 16:17:09 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 24 Jun 2002 10:17:09 -0400
Subject: [R] Please, explicitly quote the source of non-base functions
In-Reply-To: <200206241335.JAA15073@www20.ureach.com>; from swisdom@ureach.com on Mon, Jun 24, 2002 at 09:35:46AM -0400
References: <200206241335.JAA15073@www20.ureach.com>
Message-ID: <20020624101709.A16049@cattell.psych.upenn.edu>

On 06/24/02 09:35, Steve Wisdom wrote:
>No doubt many of the cerebral and erudite correspondents on the 
>R-list have memorized all the functions in all the CRAN 
>packages.
>
>But for the benefit of those less competent, such as I, could 
>posters explicitly quote the source of non-base functions? 

Although this is certainly good advice, let me remind you (and
tell the newcomers) that, when people don't take this advice, you
can look up function is my R search page, below.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Mon Jun 24 17:53:26 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Mon, 24 Jun 2002 08:53:26 -0700 (PDT)
Subject: [R] save many graphs 
Message-ID: <20020624155326.62021.qmail@web10506.mail.yahoo.com>

Hi, everyone! I have a situation many of you may have encountered.
Specifically, I need to produce many boxplots in R and put them in a
Word document. I can copy one graph at a time. But I have 40 of them
and would love to have a method to automatically save these graphes in
a file and then import to Word. Thanks in advance.

Jason 

=====
Jason G. Liao, Ph.D.
Division of Biometrics
University of Medicine and Dentistry of New Jersey
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-8253, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 24 18:10:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 24 Jun 2002 17:10:19 +0100 (BST)
Subject: [R] save many graphs 
In-Reply-To: <20020624155326.62021.qmail@web10506.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0206241708360.19088-100000@gannet.stats>

On Mon, 24 Jun 2002, Jason Liao wrote:

> Hi, everyone! I have a situation many of you may have encountered.
> Specifically, I need to produce many boxplots in R and put them in a
> Word document. I can copy one graph at a time. But I have 40 of them
> and would love to have a method to automatically save these graphes in
> a file and then import to Word. Thanks in advance.

On Windows?  See ?savePlot.  Or just plot them directly on a
plot.metafile() device.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jun 24 18:34:25 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 24 Jun 2002 12:34:25 -0400
Subject: [R] An "update.packages()" problem?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3C3@usrymx10.merck.com>

Can I vote to have this added to rw-FAQ?  A colleague and I both ran into
this problem recently.  It makes sense when you realized what happened, but
the cause was not immediately obvious given the symptoms.

Regards,
Andy

> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Monday, June 24, 2002 10:02 AM
> To: Kenneth Cabrera
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] An "update.packages()" problem?
> 
> 
> On Mon, 24 Jun 2002, Kenneth Cabrera wrote:
> 
> >
> > I try to use "update.packages()" and it works fine, at least the
> > packages download right.
> > But when the packages are done it appears this message:
> >
> > Error in zip.unpack(pkg, lib) : cannot open file
> > C:/rw1051/library/MASS/libs/MASS.dll
> >
> > What am Idoing wrong? (Yesterday it works fine!!!)
> 
> You have MASS loaded: Windows will not allow you to update 
> packages which
> are in use (at least, those containing DLLs).  Try a vanilla session
> (with --vanilla, for example) and update from there.
> 
> >
> > platform i386-pc-mingw32
> > arch     i386
> > os       mingw32
> > system   i386, mingw32
> > status
> > major    1
> > minor    5.1
> > year     2002
> > month    06
> > day      17
> > language R
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 24 18:50:55 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 24 Jun 2002 17:50:55 +0100 (BST)
Subject: [R] An "update.packages()" problem?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC3C3@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0206241748050.19151-100000@gannet.stats>

On Mon, 24 Jun 2002, Liaw, Andy wrote:

> Can I vote to have this added to rw-FAQ?  A colleague and I both ran into
> this problem recently.  It makes sense when you realized what happened, but
> the cause was not immediately obvious given the symptoms.

Already done (in R-devel) *and* install.packages() checks and gives you an
informative warning message.

Strange that it has only emerged as a problem recently.  It might be that
the old unzip.dll-based unpacking just failed without warning.

>
> Regards,
> Andy
>
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Monday, June 24, 2002 10:02 AM
> > To: Kenneth Cabrera
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] An "update.packages()" problem?
> >
> >
> > On Mon, 24 Jun 2002, Kenneth Cabrera wrote:
> >
> > >
> > > I try to use "update.packages()" and it works fine, at least the
> > > packages download right.
> > > But when the packages are done it appears this message:
> > >
> > > Error in zip.unpack(pkg, lib) : cannot open file
> > > C:/rw1051/library/MASS/libs/MASS.dll
> > >
> > > What am Idoing wrong? (Yesterday it works fine!!!)
> >
> > You have MASS loaded: Windows will not allow you to update
> > packages which
> > are in use (at least, those containing DLLs).  Try a vanilla session
> > (with --vanilla, for example) and update from there.
> >
> > >
> > > platform i386-pc-mingw32
> > > arch     i386
> > > os       mingw32
> > > system   i386, mingw32
> > > status
> > > major    1
> > > minor    5.1
> > > year     2002
> > > month    06
> > > day      17
> > > language R
> > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
> ==============================================================================
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Jun 24 19:24:09 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 24 Jun 2002 10:24:09 -0700
Subject: [R] An "update.packages()" problem?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC3C3@usrymx10.merck.co
 m>
Message-ID: <5.1.1.2.2.20020624100628.01bf8950@pop4.attglobal.net>

Is this a change from earlier versions?  I haven't run into this problem 
prior to version 1.5.1 (Windows).  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Jun 24 19:51:51 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 24 Jun 2002 12:51:51 -0500
Subject: [R] fit with parameters under some condition
In-Reply-To: <Pine.LNX.4.33.0206241748590.13331-100000@pcf004.jinr.ru>
References: <Pine.LNX.4.33.0206241748590.13331-100000@pcf004.jinr.ru>
Message-ID: <6ru1nsk1jc.fsf@franz.stat.wisc.edu>

Timur Elzhov <etv at nf.jinr.ru> writes:

> Hello!
> 
> 
> I'd like to fit with nls some function, say,
> 
>     y(x, p);   p = c (p1, p2)
> 
> with fit parameters bound certain condition, in genegal case,
> 
>     F (p1, p2) = 0.
> 
> Or, in particular case,
> 
>     p2 = f(p1).
> 
> 
> Is there 'most right' way to do it?

Fit it as p = c(p1, f(p1))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon Jun 24 21:02:47 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 24 Jun 2002 19:02:47 +0000
Subject: [R] An "update.packages()" problem?
References: <5.1.1.2.2.20020624100628.01bf8950@pop4.attglobal.net>
Message-ID: <3D176CD7.2D87DCC1@sentoo.sn>

I first noticed it with 1.5.0 (Windows 9x).

Marc Feldesman wrote:
> 
> Is this a change from earlier versions?  I haven't run into this problem
> prior to version 1.5.1 (Windows).
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    +221 832 49 02
BP 2057 Dakar-Hann              fax    +221 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joehl at gmx.de  Mon Jun 24 21:14:36 2002
From: joehl at gmx.de (Jens =?ISO-8859-1?Q?Oehlschl=E4gel?=)
Date: Mon, 24 Jun 2002 21:14:36 +0200 (MEST)
Subject: [R] problems with assigning a class to an environment
Message-ID: <1293.1024946076@www5.gmx.net>


I was surprised to find that calling str() on an environment can remove
attributes from it, as in

> a <- new.env()
> class(a) <- "jens"
> class(a)
[1] "jens"
> str(a)
Class 'jens' length 0 <environment>
> class(a)
NULL

then I found in the R-Language-Manual in chapter 2.1.10 Environments the
sentence: 

	"In particular, assigning attributes to an environment can lead to
surprises"

Can please someone familiar with the internals explain what's going on?

Is it save, to assign a class to a list which contains an environment?


Thank you


Jens Oehlschl?gel


> version
         _              
platform i386-pc-mingw32
arch     i386           
os       Win32          
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R 

-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Jun 24 21:54:56 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 24 Jun 2002 15:54:56 -0400
Subject: [R] RE: R News Volume 2/2
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E67A@groexmb02.pfizer.com>

Hey Kurt,

I still haven't heard whether the gregmisc article I sent you is going to go
into R-News...

-Greg


> -----Original Message-----
> From: Kurt Hornik [mailto:hornik at ci.tuwien.ac.at]
> Sent: Friday, June 21, 2002 11:19 AM
> To: R-announce at R-project.org
> Subject: R News Volume 2/2
> 
> 
> 
> We have just published the 2002/2 issue of R News on
> 
> 	http://cran.R-project.org/doc/Rnews
> 
> where you can download the newsletter as PDF or Postscript file.  It
> will propagate to the CRAN mirrors within a day or two.
> 
> This issue focuses on the R 1.5.0 release, with key innovations in the
> standard add-on package 'ts' and the two new recommended 
> packages 'grid'
> and 'lattice'.  There is much more exciting information, 
> including news
> on R and spatial statistics, distributed computing, and 
> bioinformatics.
> 
> Contents:
> 
> Time Series in R 1.5.0
> Naive Time Series Forecasting Methods
> Rmpi: Parallel Statistical Computing in R
> The grid Graphics Package
> Lattice
> Programmer's Niche
> geoRglm: A Package for Generalised Linear Spatial Models
> Querying PubMed
> evd: Extreme Value Distributions
> ipred: Improved Predictors
> Changes in R
> Changes on CRAN
> Upcoming Events
> 
> which makes a total of 44 pages.
> 
> For the editorial board,
> Kurt Hornik
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Jun 24 22:56:51 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 25 Jun 2002 08:56:51 +1200
Subject: [R] barplot
References: <3D171FAF.4050702@tuebingen.mpg.de>
Message-ID: <004a01c21bc1$ac341e10$ab2558db@kwan022>


----- Original Message -----
From: <alexander.schnee at tuebingen.mpg.de>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, June 25, 2002 1:33 AM
Subject: [R] barplot


> Hi,
> a couple of simple graphics questions:
>
> 1. I have a little function that makes bar plots. Now I would like to
> limit the Y-axis outside this
> function (that means after calling the barplot() command) depending on
> the data to be plotted .
> Does anyone know how to do this ???

Perhaps try the barplot() function that already exist in R?

It already allows you to set the axis limt (ylim and xlim).

> 2. When using barplot() and limiting the yAxis, R draws the bars below
> the x-axis. How can I avoid this problem ??

Again, it shouldn't happen.  The codes below are directly extracted from the
barplot() documentation:

data(VADeaths, package = "base")
hh <- t(VADeaths)[, 5:1]
mybarcol <- "gray20"
mp <- barplot(hh, beside = TRUE,
              col = c("lightblue", "mistyrose",
                "lightcyan", "lavender"),
              legend = colnames(VADeaths), ylim= c(0,100),
              main = "Death Rates in Virginia", font.main = 4,
              sub = "Faked upper 2*sigma error bars", col.sub = mybarcol,
              cex.names = 1.5)

It works.  Try changing the "ylim = c(0, 100)" to other limits, it still
works!

Cheers,

Ko-Kang Wang


------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Jun 24 23:30:35 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 24 Jun 2002 14:30:35 -0700
Subject: [R] An "update.packages()" problem?
In-Reply-To: <3D176CD7.2D87DCC1@sentoo.sn>
References: <5.1.1.2.2.20020624100628.01bf8950@pop4.attglobal.net>
Message-ID: <5.1.1.2.2.20020624142547.024ce998@pop4.attglobal.net>

It isn't consistent across Windows platforms.  I first encountered it on 
Windows XP Pro in 1.5.1.  However, I just updated one of my Windows 2000 
(SP2) boxes to 1.5.1.  After updating to 1.5.1 and moving my .RData and 
Rprofile files to the newer version, I proceeded to run an 
update.packages() with MASS, rpart, and cluster loaded from a .First() 
function.  All packages updated without difficulty.  A quick check of 
installed.packages reveals that I now have the current versions of all 
packages.

I'm not really certain what the issue is.  It doesn't consistently 
occur.  When it does, running with the --vanilla switch does allow the 
updates to take place.


At 07:02 PM 6/24/2002 +0000, Renaud Lancelot wrote:
>I first noticed it with 1.5.0 (Windows 9x).
>
>Marc Feldesman wrote:
> >
> > Is this a change from earlier versions?  I haven't run into this problem
> > prior to version 1.5.1 (Windows).
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 24 23:43:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 2002 23:43:25 +0200
Subject: [R] problems with assigning a class to an environment
In-Reply-To: <1293.1024946076@www5.gmx.net>
References: <1293.1024946076@www5.gmx.net>
Message-ID: <x2ptyg73pe.fsf@biostat.ku.dk>

Jens Oehlschl?gel <joehl at gmx.de> writes:

> I was surprised to find that calling str() on an environment can remove
> attributes from it, as in
> 
> > a <- new.env()
> > class(a) <- "jens"
> > class(a)
> [1] "jens"
> > str(a)
> Class 'jens' length 0 <environment>
> > class(a)
> NULL
> 
> then I found in the R-Language-Manual in chapter 2.1.10 Environments the
> sentence: 
> 
> 	"In particular, assigning attributes to an environment can lead to
> surprises"
> 
> Can please someone familiar with the internals explain what's going on?

The main issue is that environments aren't copied on assignment, so
stuff like y <- unclass(x) will remove the class attribute from x if x
is an environment. Or, as is the case here, str(unclass(x)) will do it.


> Is it save, to assign a class to a list which contains an environment?

Yes, and the recommended way.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Tue Jun 25 08:29:19 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Tue, 25 Jun 2002 08:29:19 +0200
Subject: [R] barplot
References: <3D171FAF.4050702@tuebingen.mpg.de> <004a01c21bc1$ac341e10$ab2558db@kwan022>
Message-ID: <3D180DBF.4060800@tuebingen.mpg.de>

Ko-Kang Kevin Wang wrote:
> ----- Original Message -----
> From: <alexander.schnee at tuebingen.mpg.de>
> To: <r-help at stat.math.ethz.ch>
> Sent: Tuesday, June 25, 2002 1:33 AM
> Subject: [R] barplot
> 
> 
> 
>>Hi,
>>a couple of simple graphics questions:
>>
>>1. I have a little function that makes bar plots. Now I would like to
>>limit the Y-axis outside this
>>function (that means after calling the barplot() command) depending on
>>the data to be plotted .
>>Does anyone know how to do this ???
> 
> 
> Perhaps try the barplot() function that already exist in R?
> 
> It already allows you to set the axis limt (ylim and xlim).
> 
> 
>>2. When using barplot() and limiting the yAxis, R draws the bars below
>>the x-axis. How can I avoid this problem ??
> 
> 
> Again, it shouldn't happen.  The codes below are directly extracted from the
> barplot() documentation:
> 
> data(VADeaths, package = "base")
> hh <- t(VADeaths)[, 5:1]
> mybarcol <- "gray20"
> mp <- barplot(hh, beside = TRUE,
>               col = c("lightblue", "mistyrose",
>                 "lightcyan", "lavender"),
>               legend = colnames(VADeaths), ylim= c(0,100),
>               main = "Death Rates in Virginia", font.main = 4,
>               sub = "Faked upper 2*sigma error bars", col.sub = mybarcol,
>               cex.names = 1.5)
> 
> It works.  Try changing the "ylim = c(0, 100)" to other limits, it still
> works!
> 
> Cheers,
> 
> Ko-Kang Wang


Well, unfortunately changing ylim does not work properly, try changing 
it to ylim= c(30,100) and look at the plot !!!

Also I am using the barplot() function that already exists, I have just 
build a function around it (this function calculates and plots also 
stderror bars and ....). Now I would like to change the ylim from 
outside this function (after calling the function that calls tha R 
barplot function)...

greetinx jan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 25 09:05:20 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 25 Jun 2002 08:05:20 +0100 (BST)
Subject: [R] An "update.packages()" problem?
In-Reply-To: <5.1.1.2.2.20020624142547.024ce998@pop4.attglobal.net>
Message-ID: <Pine.LNX.4.31.0206250755350.21885-100000@gannet.stats>

On Mon, 24 Jun 2002, Marc Feldesman wrote:

> It isn't consistent across Windows platforms.  I first encountered it on
> Windows XP Pro in 1.5.1.  However, I just updated one of my Windows 2000
> (SP2) boxes to 1.5.1.  After updating to 1.5.1 and moving my .RData and
> Rprofile files to the newer version, I proceeded to run an
> update.packages() with MASS, rpart, and cluster loaded from a .First()
> function.  All packages updated without difficulty.  A quick check of
> installed.packages reveals that I now have the current versions of all
> packages.
>
> I'm not really certain what the issue is.  It doesn't consistently
> occur.  When it does, running with the --vanilla switch does allow the
> updates to take place.

The current issue is that Windows should not be able to overwrite a DLL
which is in use.  This is happening completely consistently for me on
Windows XP and on my sole remaining 2000 box, on 1.5.0 and 1.5.1.

I would check that the DLLs did actually get updated (look at the version
tab on the properties dialog box, then `File version').

Unfortunately the problem may result in partial updating, so if it
happens, re-install the packages (and don't just run update again).

As I said yesterday, the next release will not allow installing/updating
of packages which are in use.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Tue Jun 25 10:16:47 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Tue, 25 Jun 2002 11:16:47 +0300
Subject: [R] barplot 
In-Reply-To: Message from Jan Malte Wiener <jan.wiener@tuebingen.mpg.de> 
   of "Tue, 25 Jun 2002 08:29:19 +0200." <3D180DBF.4060800@tuebingen.mpg.de> 
Message-ID: <200206250816.g5P8GlH14051@pc112145.oulu.fi>


jan.wiener at tuebingen.mpg.de said:
> Well, unfortunately changing ylim does not work properly, try changing
>  it to ylim= c(30,100) and look at the plot !!! 

Add xpd=FALSE in your barplot command. See ?par for further info: It is now 
about clipping the graph instead of setting ylim. I cannot find any reason for 
this kind of procedure, though.

cheers, jo
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Jun 25 10:18:34 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 25 Jun 2002 10:18:34 +0200 (CEST)
Subject: [R] barplot
In-Reply-To: <3D180DBF.4060800@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.44.0206251016100.21433-100000@localhost.localdomain>

On Tue, 25 Jun 2002, Jan Malte Wiener wrote:

  |Well, unfortunately changing ylim does not work properly, try changing 
  |it to ylim= c(30,100) and look at the plot !!!
  |
  |Also I am using the barplot() function that already exists, I have just 
  |build a function around it (this function calculates and plots also 
  |stderror bars and ....). Now I would like to change the ylim from 
  |outside this function (after calling the function that calls tha R 
  |barplot function)...

If I remember correctly, I have done something similar.  I just made a copy
of data, and replaced 

y[y<ylim] <- ylim

then it looked pretty well.

Perhaps it helps,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 25 11:15:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jun 2002 10:15:07 +0100 (BST)
Subject: [R] An "update.packages()" problem?
In-Reply-To: <Pine.LNX.4.31.0206241748050.19151-100000@gannet.stats>
Message-ID: <Pine.GSO.4.44.0206251013410.52-100000@auk.stats>

On Mon, 24 Jun 2002 ripley at stats.ox.ac.uk wrote:

> On Mon, 24 Jun 2002, Liaw, Andy wrote:
>
> > Can I vote to have this added to rw-FAQ?  A colleague and I both ran into
> > this problem recently.  It makes sense when you realized what happened, but
> > the cause was not immediately obvious given the symptoms.
>
> Already done (in R-devel) *and* install.packages() checks and gives you an
> informative warning message.
>
> Strange that it has only emerged as a problem recently.  It might be that
> the old unzip.dll-based unpacking just failed without warning.

Confirmed for 1.4.1, which silently did not update an in-use DLL.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsadler at agric.uwa.edu.au  Tue Jun 25 11:31:08 2002
From: rsadler at agric.uwa.edu.au (Rohan Sadler)
Date: Tue, 25 Jun 2002 17:31:08 +0800
Subject: [R] re: GUI's for teaching
Message-ID: <3D18385C.FA28058A@agric.uwa.edu.au>

Dear All,

This is a question to sound out possibilities.

I am with the Faculty of Natural and Agricultural Sciences at the
University of Western Australia, representing a few of the more
statistically minded in the faculty. Essentially, there have been
problems in the past with software support, changing over statistical
software, and paying lots of money for it. In R you have an advanced
statistical software package, it is free and it is adaptable. Also the
maths department at UWA is using it on an informal basis and so support
over the long term is available. The only reason why the faculty is not
using R as a whole is because there is no GUI equivalent to
Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
but it is not designed to carry statistical functions with buttons for
options and this is what is needed for low statistical level undergrads.
There is RWeb, but at this stage of development you wont find many
takers in the faculty.

What I want to know is this: can anyone give me a quote on what it will
cost to develop a RWindows clone of the Minitab GUI. This GUI would
support initially the simple six (EDA, probabilities and quantiles of
distributions, t-tests,one-way anova, chi-square, and simple linear
regression), and have the potential to develop into the next level of
statistical analysis (glms, multivariate methods, time series and
spatial - analytical problems common across our faculty). If the cost of
development is comparable to present licence maintenance fees at FNAS
then I think our small group can argue for its adoption. Not only that,
the benefits to undergraduate teaching in other universities would be
immense. If development costs are high then other faculties at other
universities, where the software licencing arrangements are also
troublesome, are also invited to participate in this potential project.

I imagine this question has been discussed before, but I hope to have
but an interesting turn to it.

Regards

Rohan Sadler
Ecosystems Research Group
School of Plant Biology (Botany)
Faculty of Natural and Agricultural Sciences

+61 8 9380 7914

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun 25 11:58:42 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 25 Jun 2002 11:58:42 +0200
Subject: [R] barplot(*, ylim = c("y1 > 0", y2))
In-Reply-To: <3D180DBF.4060800@tuebingen.mpg.de>
References: <3D171FAF.4050702@tuebingen.mpg.de>
	<004a01c21bc1$ac341e10$ab2558db@kwan022>
	<3D180DBF.4060800@tuebingen.mpg.de>
Message-ID: <15640.16082.445741.743@gargle.gargle.HOWL>

>>>>> "Jan" == Jan Malte Wiener <jan.wiener at tuebingen.mpg.de> writes:

     talking about barplot()

    Jan> Well, unfortunately changing ylim does not work properly, try changing 
    Jan> it to ylim= c(30,100) and look at the plot !!!

i.e., e.g.,

  data(VADeaths)
  barplot(VADeaths, beside=TRUE, legend=rownames(VADeaths),ylim=c(30,100))

which may not be as desired, but not really wrong either.
(and as Jari Oksanen just said, can be amended by setting `xpd=FALSE')

However, cutting off a barplot() like that seems VERY MUCH like a bad
example of applying
	`` How to Lie With Statistics ''
(used to be a "must read" : Darrel Huff (1954) {How to Lie With Statistics} )
and maybe we should not allow this easily with barplot(). .. :-)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Tue Jun 25 13:13:59 2002
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Tue, 25 Jun 2002 12:13:59 +0100 (BST)
Subject: [R] GUI's for teaching
In-Reply-To: <3D18385C.FA28058A@agric.uwa.edu.au>
Message-ID: <Pine.SOL.4.21.0206251152280.6242-100000@wallis>

Rohan,

You are right - we have had this discussion before. I think the last
time I participated in it we had reached the stage where the only GUI to
R would be on the lines of the old SPSS `scratch pad' affair, which was
more just a guide to the SPSS functions, but no more.

I think the problem is that most users of R tend to be in research, or
have a requirement for flexability from a suitably heavyweight language.
Few using R are unfamilier with programming at some level and really for
these people there is no need to have anything other than the command
interpreter. One only has to look at what has happenned to Splus to see
the deletarious effects of encroaching gooiness - I'm fine with the unix
command line version of Splus, but get utterly lost with the Windows
version.

Having said that R is flexible enough for people to write their own GUI
type applications for specific functions. I have done it myself for the
forensic scientists who need simple to operate sample size estimation
functions (see - http://www.maths.ed.ac.uk/~dlucy/software.html). These
operate in both Windows and Unix R environments from icons on the
desktop - they're not perfect, but do perform adequately.

Rather than some generalised GU interface to R you would probably be
better off writing a specific package to do exactly what you want it to
do - the examples above took about 2 weeks each and a week or so to get
familiar enough with Tcl to get by.

I can only speak for myself, but would urge the R developers not to go
any further down the GUI path than they have already done with the
Windows version to avoid the user base becomming split into GUI people
and command interpreter people who view R in essentially different ways.


Regards,

David.


**********************************************************************
**  Dr. David Lucy                                                  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**  web: http://www.maths.ed.ac.uk/~dlucy/                          **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jun 25 14:12:15 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 25 Jun 2002 08:12:15 -0400
Subject: [R] re: GUI's for teaching
In-Reply-To: <3D18385C.FA28058A@agric.uwa.edu.au>
References: <3D18385C.FA28058A@agric.uwa.edu.au>
Message-ID: <20020625081215.4eb5a44d.fharrell@virginia.edu>

On Tue, 25 Jun 2002 17:31:08 +0800
Rohan Sadler <rsadler at agric.uwa.edu.au> wrote:

> Dear All,
> 
> This is a question to sound out possibilities.
> 
> I am with the Faculty of Natural and Agricultural Sciences at the
> University of Western Australia, representing a few of the more
> statistically minded in the faculty. Essentially, there have been
> problems in the past with software support, changing over statistical
> software, and paying lots of money for it. In R you have an advanced
> statistical software package, it is free and it is adaptable. Also the
> maths department at UWA is using it on an informal basis and so support
> over the long term is available. The only reason why the faculty is not
> using R as a whole is because there is no GUI equivalent to
> Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
> purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
> but it is not designed to carry statistical functions with buttons for
> options and this is what is needed for low statistical level undergrads.
> There is RWeb, but at this stage of development you wont find many
> takers in the faculty.
> 
> What I want to know is this: can anyone give me a quote on what it will
> cost to develop a RWindows clone of the Minitab GUI. This GUI would
> support initially the simple six (EDA, probabilities and quantiles of
> distributions, t-tests,one-way anova, chi-square, and simple linear
> regression), and have the potential to develop into the next level of
> statistical analysis (glms, multivariate methods, time series and
> spatial - analytical problems common across our faculty). If the cost of
> development is comparable to present licence maintenance fees at FNAS
> then I think our small group can argue for its adoption. Not only that,
> the benefits to undergraduate teaching in other universities would be
> immense. If development costs are high then other faculties at other
> universities, where the software licencing arrangements are also
> troublesome, are also invited to participate in this potential project.
> 
> I imagine this question has been discussed before, but I hope to have
> but an interesting turn to it.
> 
> Regards
> 
> Rohan Sadler
> Ecosystems Research Group
> School of Plant Biology (Botany)
> Faculty of Natural and Agricultural Sciences
> 
> +61 8 9380 7914
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

I teach new students using primarily commands.  The first 3 weeks are tough, but then the use of commands over GUIs starts to pay off.  So I don't think it is worth a major effort to implement GUIs, and the GUIs would always lag behind R development.  A better approach would be to implement the most often needed analyses on a Web server using R and Perl etc.  See http://hesweb1.med.virginia.edu/biostat/teaching/statcomp for links to some good examples (although for more complex analyses than you need).  -Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jun 25 14:26:15 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 25 Jun 2002 08:26:15 -0400
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.SOL.4.21.0206251152280.6242-100000@wallis>; from dlucy@maths.ed.ac.uk on Tue, Jun 25, 2002 at 12:13:59PM +0100
References: <3D18385C.FA28058A@agric.uwa.edu.au> <Pine.SOL.4.21.0206251152280.6242-100000@wallis>
Message-ID: <20020625082615.C22185@cattell.psych.upenn.edu>

I have done some teaching with R, both to grad students in a
course and undergrads doing independent study.  I do think that a
GUI would make them like it more, but an alternative is a
reference card.

I have written one and plan to revise it before the fall (by
breaking it into two pages, one devoted largely to graphics).  It
serves some of the functions of the gui, namely, reminding people
who do not use a program every day of the basic commands.  (I
think this is the big problem.  If you use R, or anything, every
day, then you can remember what you need.  But students do not do
this, even many graduate students.)

The reference card is in the contributed documents section of
CRAN and below.  Students do use it.  But a GUI would make them
happier (but not enough for me to spend time trying to make
one).

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David.Orlovich at botany.otago.ac.nz  Tue Jun 25 14:57:10 2002
From: David.Orlovich at botany.otago.ac.nz (David Orlovich)
Date: Wed, 26 Jun 2002 00:57:10 +1200
Subject: [R] re: GUI's for teaching
In-Reply-To: <20020625081215.4eb5a44d.fharrell@virginia.edu>
Message-ID: <0FBBDD11-883B-11D6-80A1-003065CC6B30@botany.otago.ac.nz>

Hello R people.
This year I introduced R into an undergraduate Botany class and they 
handled it quite well too.  The exercise was a simple one that was 
heavily guided in the notes, but they were able to do simple 
multivariate analyses and plot nice annotated graphs and dendrograms 
using the command line by the end of the first lab class - and I could 
tell they felt empowered by the deeper understanding they got from doing 
the analyses step by step.  We also had a recent 4-day workshop on 
multivariate stats and R where 80 postgrad students and staff all got 
introduced to R on the last day.  Suddenly R went from something unheard 
of by many of our students to something they all felt they could at 
least try to learn about, which is just fantastic.

The comments of one person who responded to this thread suggested that R 
is primarily used by researchers who have high level needs:

 >most users of R tend to be in research, or
 >have a requirement for flexability from a suitably heavyweight language.
 >Few using R are unfamilier with programming at some level and really for
 >these people there is no need to have anything other than the command
 >interpreter.

but from my point of view it is something that has many applications at 
the undergraduate level and will replace expensive software packages 
used by postgrads and academics alike in Biology Departments where 
statistics is the tool and not the main focus of the research effort.  
My main concern of late is not a problem with the command line 
interface, but the messages on these email lists about how easy it 
should be for Mac users of R to run the Darwin version and not the 
carbonised version of R.  It'll be one thing (easy) to get undergrads 
and postgrads interested in using R - even playing around with it in 
their own time on their home computers!, but expecting them to learn 
UNIX geek-speak as well might just put it out of reach for many of 
them.  Cheers!  David Orlovich.


On Wednesday, June 26, 2002, at 12:12  AM, Frank E Harrell Jr wrote:

> On Tue, 25 Jun 2002 17:31:08 +0800
> Rohan Sadler <rsadler at agric.uwa.edu.au> wrote:
>
>> Dear All,
>>
>> This is a question to sound out possibilities.
>>
>> I am with the Faculty of Natural and Agricultural Sciences at the
>> University of Western Australia, representing a few of the more
>> statistically minded in the faculty. Essentially, there have been
>> problems in the past with software support, changing over statistical
>> software, and paying lots of money for it. In R you have an advanced
>> statistical software package, it is free and it is adaptable. Also the
>> maths department at UWA is using it on an informal basis and so support
>> over the long term is available. The only reason why the faculty is not
>> using R as a whole is because there is no GUI equivalent to
>> Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
>> purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
>> but it is not designed to carry statistical functions with buttons for
>> options and this is what is needed for low statistical level 
>> undergrads.
>> There is RWeb, but at this stage of development you wont find many
>> takers in the faculty.
>>
>> What I want to know is this: can anyone give me a quote on what it will
>> cost to develop a RWindows clone of the Minitab GUI. This GUI would
>> support initially the simple six (EDA, probabilities and quantiles of
>> distributions, t-tests,one-way anova, chi-square, and simple linear
>> regression), and have the potential to develop into the next level of
>> statistical analysis (glms, multivariate methods, time series and
>> spatial - analytical problems common across our faculty). If the cost 
>> of
>> development is comparable to present licence maintenance fees at FNAS
>> then I think our small group can argue for its adoption. Not only that,
>> the benefits to undergraduate teaching in other universities would be
>> immense. If development costs are high then other faculties at other
>> universities, where the software licencing arrangements are also
>> troublesome, are also invited to participate in this potential project.
>>
>> I imagine this question has been discussed before, but I hope to have
>> but an interesting turn to it.
>>
>> Regards
>>
>> Rohan Sadler
>> Ecosystems Research Group
>> School of Plant Biology (Botany)
>> Faculty of Natural and Agricultural Sciences
>>
>> +61 8 9380 7914
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
>> FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-
>> request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> _._._._
>
> I teach new students using primarily commands.  The first 3 weeks are 
> tough, but then the use of commands over GUIs starts to pay off.  So I 
> don't think it is worth a major effort to implement GUIs, and the GUIs 
> would always lag behind R development.  A better approach would be to 
> implement the most often needed analyses on a Web server using R and 
> Perl etc.  See 
> http://hesweb1.med.virginia.edu/biostat/teaching/statcomp for links to 
> some good examples (although for more complex analyses than you need).  
> -Frank
>
> --
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
Dr David Orlovich,
Ecology, Conservation and Biodiversity Research Group,
Department of Botany,
The University of Otago
PO Box 56,
Dunedin, New Zealand.

Telephone: (03) 479 9060 (international +643 479 9060)
Mobile: 021 133 9773 (international +6421 133 9773)
Fax: (03) 479 7583 (international +643 479 7583)
WWW: http://www.otago.ac.nz/botany/ and http://telperion.otago.ac.nz/erg/
email: david.orlovich at botany.otago.ac.nz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 6473 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020626/ad4a6043/attachment.bin

From paradis at isem.univ-montp2.fr  Tue Jun 25 15:05:04 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 25 Jun 2002 15:05:04 +0200
Subject: [R] re: GUI's for teaching
Message-ID: <3.0.32.20020625150503.00907a30@162.38.183.200>

Hi,

Have you seen the tcltk package? I believe it is a better option than the
one you outline in your message. Why develop a Windows-only GUI? Maybe in a
few years your teaching department will give up Windows for Linux (for the
reasons you wrote about R: it is free, advanced, and adaptable). There is
an article in R News (vol.1, n?3) by Peter Dalgaard on the tcltk package,
and the latter includes a few nice examples. You need to install Tcl/Tk: it
is free and can run on many OSs.

BTW, are GUIs the best way to teach stats? I recommend newcomers to R to
save their command lines in a text file in order to able to source() them
later. Quite often you need to re-do an analysis, because you have new
data, you want to change a parameter, fit new models, ...

Emmanuel Paradis

At 17:31 25/06/02 +0800, you wrote:
>Dear All,
>
>This is a question to sound out possibilities.
>
>I am with the Faculty of Natural and Agricultural Sciences at the
>University of Western Australia, representing a few of the more
>statistically minded in the faculty. Essentially, there have been
>problems in the past with software support, changing over statistical
>software, and paying lots of money for it. In R you have an advanced
>statistical software package, it is free and it is adaptable. Also the
>maths department at UWA is using it on an informal basis and so support
>over the long term is available. The only reason why the faculty is not
>using R as a whole is because there is no GUI equivalent to
>Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
>purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
>but it is not designed to carry statistical functions with buttons for
>options and this is what is needed for low statistical level undergrads.
>There is RWeb, but at this stage of development you wont find many
>takers in the faculty.
>
>What I want to know is this: can anyone give me a quote on what it will
>cost to develop a RWindows clone of the Minitab GUI. This GUI would
>support initially the simple six (EDA, probabilities and quantiles of
>distributions, t-tests,one-way anova, chi-square, and simple linear
>regression), and have the potential to develop into the next level of
>statistical analysis (glms, multivariate methods, time series and
>spatial - analytical problems common across our faculty). If the cost of
>development is comparable to present licence maintenance fees at FNAS
>then I think our small group can argue for its adoption. Not only that,
>the benefits to undergraduate teaching in other universities would be
>immense. If development costs are high then other faculties at other
>universities, where the software licencing arrangements are also
>troublesome, are also invited to participate in this potential project.
>
>I imagine this question has been discussed before, but I hope to have
>but an interesting turn to it.
>
>Regards
>
>Rohan Sadler
>Ecosystems Research Group
>School of Plant Biology (Botany)
>Faculty of Natural and Agricultural Sciences
>
>+61 8 9380 7914
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Yi at FMR.COM  Tue Jun 25 15:37:20 2002
From: Derek.Yi at FMR.COM (Yi, Derek)
Date: Tue, 25 Jun 2002 09:37:20 -0400
Subject: [R] Sourcing files with library
Message-ID: <763C275E6A1C2248AFD475237AD6135B5EC669@MSGBOS576NTS.fmr.com>

Hi everyone,

I have written a class with methods that extend generic functions such as
as.data.frame or show.  When I load this package, I want to ensure that
these methods - along with the other functions in the file - are added to
R's search path or updated, if necessary.  I have made a package using
check/build/INSTALL.

Will a simple library() call on the package accomplish this?  I recall
reading somewhere that there is a way to force the sourcing of R files
within the package, but I don't remember where...

Many thanks,
Derek

> R.version
  _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.0                 
year     2002                
month    04                  
day      29                  
language R    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue Jun 25 16:00:27 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 25 Jun 2002 09:00:27 -0500
Subject: [R] re: GUI's for teaching
References: <3.0.32.20020625150503.00907a30@162.38.183.200>
Message-ID: <3D18777B.2070108@perseus.unalmed.edu.co>

Dear R-enthusiastic followers:

I am using R in graduate and undergraduate curses, and yes... most of 
the people think
that R will be better with a GUI. But as they start to use it, and find 
why is better to
use commands (and store those commands for further use as SCRIPTS)
they understand the way R is created. Furthermore, for teaching goals it 
make the
people to think what they are doing before they write any command.

I think it will be very interesting to create a GUI for R to attract 
more people to use R and
to spread it. But I think at this stage it will be better to continue 
improving the core and
packages of R to convert it in the best solid and comprehensive 
statistical software.

And if there is the possibility to create a group to start a small and 
basic GUI as a
package I will like to help in that project.

Have a nice R-day!

Kenneth


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 25 16:04:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 25 Jun 2002 15:04:57 +0100 (BST)
Subject: [R] re: GUI's for teaching
In-Reply-To: <3.0.32.20020625150503.00907a30@162.38.183.200>
Message-ID: <Pine.LNX.4.31.0206251452380.3405-100000@gannet.stats>

On Tue, 25 Jun 2002, Emmanuel Paradis wrote:

> Hi,
>
> Have you seen the tcltk package? I believe it is a better option than the
> one you outline in your message. Why develop a Windows-only GUI? Maybe in a
> few years your teaching department will give up Windows for Linux (for the
> reasons you wrote about R: it is free, advanced, and adaptable). There is
> an article in R News (vol.1, n3) by Peter Dalgaard on the tcltk package,
> and the latter includes a few nice examples. You need to install Tcl/Tk: it
> is free and can run on many OSs.

Well it can run under a few OSes, principally Motif-based X11 and Windows.
(It does not run on classical MacOS with R.)  But the chief drawback is
look-and-feel:  Windows users have very high expectations of the
uniformity of their interface.  A secondary one is the difficulty of
coordinating two event-driven systems.

(Some of) the R developers would love to be able to provide a high-quality
cross-platform GUI interface.  There are various possible starting points
(Java and wxWindows being the others most frequently mentioned).  But it
is thought to be a large job.

> BTW, are GUIs the best way to teach stats? I recommend newcomers to R to
> save their command lines in a text file in order to able to source() them
> later. Quite often you need to re-do an analysis, because you have new
> data, you want to change a parameter, fit new models, ...

A GUI can be a good way to write command lines for you.  The discussions
here are all about support: Minitab abd SPSS are used for basic courses
just because no one needs to write any documentation nor provide any
hand-holding.


>
> Emmanuel Paradis
>
> At 17:31 25/06/02 +0800, you wrote:
> >Dear All,
> >
> >This is a question to sound out possibilities.
> >
> >I am with the Faculty of Natural and Agricultural Sciences at the
> >University of Western Australia, representing a few of the more
> >statistically minded in the faculty. Essentially, there have been
> >problems in the past with software support, changing over statistical
> >software, and paying lots of money for it. In R you have an advanced
> >statistical software package, it is free and it is adaptable. Also the
> >maths department at UWA is using it on an informal basis and so support
> >over the long term is available. The only reason why the faculty is not
> >using R as a whole is because there is no GUI equivalent to
> >Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
> >purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
> >but it is not designed to carry statistical functions with buttons for
> >options and this is what is needed for low statistical level undergrads.
> >There is RWeb, but at this stage of development you wont find many
> >takers in the faculty.
> >
> >What I want to know is this: can anyone give me a quote on what it will
> >cost to develop a RWindows clone of the Minitab GUI. This GUI would
> >support initially the simple six (EDA, probabilities and quantiles of
> >distributions, t-tests,one-way anova, chi-square, and simple linear
> >regression), and have the potential to develop into the next level of
> >statistical analysis (glms, multivariate methods, time series and
> >spatial - analytical problems common across our faculty). If the cost of
> >development is comparable to present licence maintenance fees at FNAS
> >then I think our small group can argue for its adoption. Not only that,
> >the benefits to undergraduate teaching in other universities would be
> >immense. If development costs are high then other faculties at other
> >universities, where the software licencing arrangements are also
> >troublesome, are also invited to participate in this potential project.
> >
> >I imagine this question has been discussed before, but I hope to have
> >but an interesting turn to it.
> >
> >Regards
> >
> >Rohan Sadler
> >Ecosystems Research Group
> >School of Plant Biology (Botany)
> >Faculty of Natural and Agricultural Sciences
> >
> >+61 8 9380 7914
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Jun 25 16:26:29 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 25 Jun 2002 07:26:29 -0700
Subject: [R] An "update.packages()" problem?
In-Reply-To: <Pine.LNX.4.31.0206250755350.21885-100000@gannet.stats>
References: <5.1.1.2.2.20020624142547.024ce998@pop4.attglobal.net>
Message-ID: <5.1.1.5.2.20020625072312.015a9ac8@pop4.attglobal.net>

At 12:05 AM 6/25/2002, ripley at stats.ox.ac.uk wrote:
 >>
 >current issue is that Windows should not be able to overwrite a DLL
 >which is in use.  This is happening completely consistently for me on
 >Windows XP and on my sole remaining 2000 box, on 1.5.0 and 1.5.1.
 >
 >I would check that the DLLs did actually get updated (look at the version
 >tab on the properties dialog box, then `File version').
 >
 >Unfortunately the problem may result in partial updating, so if it
 >happens, re-install the packages (and don't just run update again).

You're mostly right again.  When I rechecked the Windows 2000 box, MASS was 
still at an earlier version, as was cluster, but rpart had fully updated to 
the current version despite being loaded at run time.  I reran a --vanilla 
session and both VR and cluster updated correctly.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Tue Jun 25 17:33:02 2002
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Tue, 25 Jun 2002 09:33:02 -0600 (MDT)
Subject: [R] building an exectuable as part of a package. 
In-Reply-To: <763C275E6A1C2248AFD475237AD6135B5EC669@MSGBOS576NTS.fmr.com>
Message-ID: <Pine.GSO.4.30.0206250926280.1356-100000@student.cgd.ucar.edu>


I need some help figuring out how to compile and include a
straightforward FORTRAN program as part an R package.

This may sound strange but it will allow us access to some well tested
code from within R.

I think the executable should go into the exec subdirectory but need some
help on how to signal the R build utility that some particular source
should be compiled and linked as a standalone program.

Thanks in advance,
Doug


-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
PO Box 3000                                 FAX: 303-497-1333
Boulder, CO  80307-3000                     Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Tue Jun 25 17:38:00 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Tue, 25 Jun 2002 17:38:00 +0200 (MET DST)
Subject: [R] distances analysis
Message-ID: <Pine.OSF.4.31.0206251732100.10698-100000@kirk.science.unitn.it>

Hi !

I have the following problem: I have a set of n distinct clusters in my
data. This is the natural structure of data.

Is there an algorithm in R with wich I can determine the minimum distance
at wich two clusters can be considered connected ?

Thanks,
Paola

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 25 17:41:59 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 25 Jun 2002 16:41:59 +0100 (BST)
Subject: [R] building an exectuable as part of a package. 
In-Reply-To: <Pine.GSO.4.30.0206250926280.1356-100000@student.cgd.ucar.edu>
Message-ID: <Pine.LNX.4.31.0206251639220.21480-100000@gannet.stats>

On Tue, 25 Jun 2002, Doug Nychka wrote:

> I need some help figuring out how to compile and include a
> straightforward FORTRAN program as part an R package.
>
> This may sound strange but it will allow us access to some well tested
> code from within R.
>
> I think the executable should go into the exec subdirectory but need some
> help on how to signal the R build utility that some particular source
> should be compiled and linked as a standalone program.

R INSTALL (not R CMD build)?

I think you need to supply a Makefile in pkg/src, and I would probably put
the Fortran source in a subdirectory of pkg/src.  My guess is that a
configure script will probably be needed if the package is to be portable
(across Unix-alikes).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jun 25 17:46:42 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 25 Jun 2002 17:46:42 +0200
Subject: [R] building an exectuable as part of a package.
References: <Pine.GSO.4.30.0206250926280.1356-100000@student.cgd.ucar.edu>
Message-ID: <3D189062.1F0853F6@statistik.uni-dortmund.de>



Doug Nychka wrote:
> 
> I need some help figuring out how to compile and include a
> straightforward FORTRAN program as part an R package.
> 
> This may sound strange but it will allow us access to some well tested
> code from within R.
> 
> I think the executable should go into the exec subdirectory but need some
> help on how to signal the R build utility that some particular source
> should be compiled and linked as a standalone program.

You can start with the R manual "Writing R Extensions" and look at some
other package sources.
"S Programming" (by Venables and Ripley) will help either.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Tue Jun 25 17:46:48 2002
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Tue, 25 Jun 2002 09:46:48 -0600 (MDT)
Subject: [R] building an exectuable as part of a package. 
In-Reply-To: <Pine.LNX.4.31.0206251639220.21480-100000@gannet.stats>
Message-ID: <Pine.GSO.4.30.0206250946370.1356-100000@student.cgd.ucar.edu>


Thank you!

-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
PO Box 3000                                 FAX: 303-497-1333
Boulder, CO  80307-3000                     Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Tue Jun 25 18:18:59 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Tue, 25 Jun 2002 09:18:59 -0700 (PDT)
Subject: [R] GUI's for teaching
In-Reply-To: <20020625082615.C22185@cattell.psych.upenn.edu>
Message-ID: <Pine.OSF.4.44.0206250852030.185622-100000@axe.humboldt.edu>

I'll be using R for the first time in an applied ecology course this fall
(first time for the course, not for me).  The enrollment is mostly
undergrad, with a sprinkling of grad students.  I've been using R
extensively with my own grad students for the last couple of years, mainly
giving them tools for analyses and expecting them to become familiar
enough with R to use the tools.  I've had mixed success-- the general
consensus seems to be that most regard R as a necessary evil-- necessary
because the prof uses it, evil because it lacks a point-and-click
interface.  In some instances I've experienced strong resistance to
learning what, for many students these days, is an entirely new approach
to computing, i.e. working from the command-line, writing scripts, etc.
One associate in my lab simply refuses.

I have mixed feelings about this.  On the one hand, a GUI would certainly
make R more accessible for many, and especially students who encounter it
within the context of some other course work.  It is a burden to have to
learn a new language and even the means of using it when your real focus
is learning something else, e.g. ecology.  On the other hand, as I like to
point out to my grad students, computers are tools and GUI's often serve
primarily to constrain their use to anticipated problems, taking away much
of the intellectual creativity.  Of course, I presume R will always offer
the command-line approach whether a GUI becomes available or not, but I'm
not entirely convinced that a GUI is a good idea in any event.  Another
point I make with students is that the command-line and source file
approach isn't any faster, especially with iterative or multiple analysis
problems that require repeating a set to steps over and over, but it's a
whole lot more interesting than repeatedly cutting and pasting and
button clicking.  Even more important, especially for students, it's
mental exercise.  It's problem solving, one of the fundamental skills of
science.

So despite some resistance from students reluctant to learn the
command-line approach, I think it's far better for them in the long run
than a simple point-and-click interface would be.  Of course, I might
change my tune after trying to convince a class full of undergrads next
semester....

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Tue Jun 25 18:36:33 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue, 25 Jun 2002 10:36:33 -0600
Subject: [R] Re: GUI's for teaching
In-Reply-To: <3D18777B.2070108@perseus.unalmed.edu.co>
References: <3.0.32.20020625150503.00907a30@162.38.183.200>
Message-ID: <5.1.0.14.2.20020625103051.0454b3b0@mailhost.blackmesacapital.com>

Maybe something of wider value than a GUI (for teaching and other purposes) 
could be an interface like that in Mathematica (and Maple?), which supports 
mathematical notation and plots in a command window.  This allows showing 
students exactly what they need to do to accomplish some task, and well as 
the all the output they should see.

-- Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jun 25 19:07:17 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 25 Jun 2002 10:07:17 -0700
Subject: [R] Re: GUI's for teaching
In-Reply-To: <5.1.0.14.2.20020625103051.0454b3b0@mailhost.blackmesacapital.com>
References: <3.0.32.20020625150503.00907a30@162.38.183.200>
	<5.1.0.14.2.20020625103051.0454b3b0@mailhost.blackmesacapital.com>
Message-ID: <87vg87xp6i.fsf@jeeves.blindglobe.net>

>>>>> "tony" == Tony Plate <tplate at blackmesacapital.com> writes:

    tony> Maybe something of wider value than a GUI (for teaching and other
    tony> purposes) could be an interface like that in Mathematica (and Maple?),
    tony> which supports mathematical notation and plots in a command window.
    tony> This allows showing students exactly what they need to do to
    tony> accomplish some task, and well as the all the output they should see.

Suprisingly enough, 80% of what is needed to make this work does exist
(and a bit more work would finish it off).  However, it doesn't exist
using the particular tools many of those would want to see (there is a
bit more work to do to make ESS + SWeave + Noweb + XEmacs do precisely
this, but it suffers from the same problems mentioned for the GUI
(lack of time, comparatively "amateur" (others' words/opinions, not
necessarily mine) interface compared to say a half-decent MS Windows
program.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Jun 25 19:08:44 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 25 Jun 2002 13:08:44 -0400
Subject: [R] predict.mlm bug?
Message-ID: <3D18A39C.99D641DF@bank-banque-canada.ca>

I believe there is a coding error in the first part of predict.mlm in the
splines package, but perhaps someone could explain the logic to me if I'm wrong.
I don't see how the second if (missing(newdata)) could ever be true. (I would
show the code but I'm using email on a different machine than R today.)

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Jun 25 19:15:45 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 25 Jun 2002 13:15:45 -0400
Subject: [R] Sourcing files with library
References: <763C275E6A1C2248AFD475237AD6135B5EC669@MSGBOS576NTS.fmr.com>
Message-ID: <3D18A541.8AE1D014@umsanet.edu.bo>

?require

"Yi, Derek" wrote:
> 
> Hi everyone,
> 
> I have written a class with methods that extend generic functions such as
> as.data.frame or show.  When I load this package, I want to ensure that
> these methods - along with the other functions in the file - are added to
> R's search path or updated, if necessary.  I have made a package using
> check/build/INSTALL.
> 
> Will a simple library() call on the package accomplish this?  I recall
> reading somewhere that there is a way to force the sourcing of R files
> within the package, but I don't remember where...
> 
> Many thanks,
> Derek
> 
> > R.version
>   _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 25 19:30:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jun 2002 19:30:52 +0200
Subject: [R] re: GUI's for teaching
In-Reply-To: <Pine.LNX.4.31.0206251452380.3405-100000@gannet.stats>
References: <Pine.LNX.4.31.0206251452380.3405-100000@gannet.stats>
Message-ID: <x2bs9zb703.fsf@biostat.ku.dk>

ripley at stats.ox.ac.uk writes:

> On Tue, 25 Jun 2002, Emmanuel Paradis wrote:
> 
> > Hi,
> >
> > Have you seen the tcltk package? I believe it is a better option than the
> > one you outline in your message. Why develop a Windows-only GUI? Maybe in a
> > few years your teaching department will give up Windows for Linux (for the
> > reasons you wrote about R: it is free, advanced, and adaptable). There is
> > an article in R News (vol.1, n?3) by Peter Dalgaard on the tcltk package,
> > and the latter includes a few nice examples.

...although parts of it need to be updated due to recent changes in
the package. I hoped to get that done for the current issue, but
May/June got a bit too busy.

> > You need to install Tcl/Tk: it
> > is free and can run on many OSs.
> 
> Well it can run under a few OSes, principally Motif-based X11 and Windows.
> (It does not run on classical MacOS with R.)  But the chief drawback is
> look-and-feel:  Windows users have very high expectations of the
> uniformity of their interface.  A secondary one is the difficulty of
> coordinating two event-driven systems.

Basically *any* X11, it's just that the user interface tends to look
like Motif. In principle Tcl/Tk works with classic Mac, but noone has
had the stamina to sort out the event-loop integration issues and with
OS X marching on, it is hardly worth the trouble now. Some Tk widgets
are actually made to provide a closer match to the Windows look and
feel, and you can configure their appearance and behaviour
considerably, although doing so tends to remove the simplicity which
is the major attraction of using Tcl/Tk in the first place.
 
> (Some of) the R developers would love to be able to provide a high-quality
> cross-platform GUI interface.  There are various possible starting points
> (Java and wxWindows being the others most frequently mentioned).  But it
> is thought to be a large job.

Don't count out Gtk, which has cross-platform capabilities in the
works. It looks very interesting (and the icons are prettier than
those of Tk), but it is early days. 

I still want to see a Java GUI running decently on a remote machine
over X before I have any faith in that. (That has to be possible, but
Java designers seem to have made some spectacularly poor decisions in
the area, so that some of the popular Java classes essentially only
work on the local machine. Those who have tried S-PLUS 6.0 remotely
over a 10Mb network will know what I mean, but that's not the only
program having problems.)

Writing the GUI interface is a fairly large job, but maybe holding us
back more is a few hard problems such as finding the proper way of
hotwiring a Tcl/Tk console into R (without which it becomes difficult
to define a top menu) or properly embedding X11 graphics in a Tk
window (Tom Vogels nearly solved that over a year ago). Then there's
the problem of figuring out a useful paradigm for writing the
interfaces themselves, so as to avoid duplicating code which is the
sort of thing that might turn out to be simple and maybe not. And of
course there's the issue of the donkey starving itself to death,
unable to decide between two bales of hay....
 
For whatever it's worth, I plan to play a bit with the tcltk package
over Summer. Duncan Temple Lang also has some higher-level plans for
general GUI integration that sound promising. 

> > BTW, are GUIs the best way to teach stats? I recommend newcomers to R to
> > save their command lines in a text file in order to able to source() them
> > later. Quite often you need to re-do an analysis, because you have new
> > data, you want to change a parameter, fit new models, ...
> 
> A GUI can be a good way to write command lines for you.  The discussions
> here are all about support: Minitab abd SPSS are used for basic courses
> just because no one needs to write any documentation nor provide any
> hand-holding.

My take on that is that for people who'll need to work with data
analysis an a daily basis, there's no way around learning the command
line. You simply don't get the "information at your fingertips"
feeling any other way. 

However, there's a fairly large group of people who need to do
statistics only at quite long intervals -- they spend years collecting
data, and when they get to analyzing them they don't want to (re)learn
a whole language. In some cases there is also an amount of
anti-intellectualism involved ("Just show us what to do!"), which the
statistician should arguably fight against but that can be hard. For
those people, we really need a simplified interface, or they'll come
back to haunt us with questions about how to solve the hard issues
(that they inevitably run into) in SPSS....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 25 19:42:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 25 Jun 2002 18:42:37 +0100 (BST)
Subject: [R] predict.mlm bug?
In-Reply-To: <3D18A39C.99D641DF@bank-banque-canada.ca>
Message-ID: <Pine.LNX.4.31.0206251839280.6129-100000@gannet.stats>

Yes, it can't at present be used.  But that is not a coding error, rather
future-proofing for when se=TRUE is implemented.

On Tue, 25 Jun 2002, Paul Gilbert wrote:

> I believe there is a coding error in the first part of predict.mlm in the
> splines package, but perhaps someone could explain the logic to me if I'm wrong.
  ^^^^^^^
Now, that really is a coding error: it is in package base.

> I don't see how the second if (missing(newdata)) could ever be true. (I would
> show the code but I'm using email on a different machine than R today.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 25 19:48:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jun 2002 19:48:17 +0200
Subject: [R] predict.mlm bug?
In-Reply-To: <3D18A39C.99D641DF@bank-banque-canada.ca>
References: <3D18A39C.99D641DF@bank-banque-canada.ca>
Message-ID: <x23cvbb672.fsf@biostat.ku.dk>

Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

> I believe there is a coding error in the first part of predict.mlm in the
> splines package, but perhaps someone could explain the logic to me if I'm wrong.
> I don't see how the second if (missing(newdata)) could ever be true. (I would
> show the code but I'm using email on a different machine than R today.)

It seems that you're right, unless one wants to claim that it isn't a
bug just that some code is never activated...


function (object, newdata, se.fit = FALSE, ...) 
{
    if (missing(newdata)) 
        return(object$fitted)
    if (se.fit) 
        stop("The 'se.fit' argument is not yet implemented for mlm objects")
    if (missing(newdata)) {
        X <- model.matrix(object)
        offset <- object$offset
    }
    else {
        tt <- terms(object)
        ...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Jun 25 18:56:05 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 25 Jun 2002 09:56:05 -0700
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.OSF.4.44.0206250852030.185622-100000@axe.humboldt.edu
 >
References: <20020625082615.C22185@cattell.psych.upenn.edu>
Message-ID: <5.1.1.2.2.20020625094605.01c07638@pop4.attglobal.net>

I used R for a Data Analysis Course last year.  The class had both advanced 
undergraduates and graduates.  All students had already taken a basic 
statistics course taught by our statistics faculty in which Minitab was the 
software.  I had to work really hard to get students to understand the R/S 
paradigm -- and some never did grasp it -- but most eventually grasped the 
essence of what they needed.  I had students buying MASS3 and Spector, and 
gave them pdf copies of John Maindonald's notes, my own notes, Emmanuel 
Paridis' "R for Beginners".  Despite a rocky start, the real story is that 
5 students from that class have used or are using R to complete Bachelor's 
Honor Theses or Master's Theses.  I've used SPSS, SAS, and SYSTAT to teach 
the class before and have never had this kind of "return rate".

Perforce, the students using R/S also learned more about statistics, 
programming, and data management than any group of students using the Point 
and Click software.

It takes much more effort to teach with R than with "standard" Windows 
software, but the effort pays off for both the student and the instructor 
in the long run.

  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Tue Jun 25 20:24:26 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 25 Jun 2002 11:24:26 -0700
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.OSF.4.44.0206250852030.185622-100000@axe.humboldt.edu>
References: <Pine.OSF.4.44.0206250852030.185622-100000@axe.humboldt.edu>
Message-ID: <p05111a05b93e641ebf83@[128.115.153.6]>

At 9:18 AM -0700 6/25/02, Michael Camann wrote:
>I'll be using R for the first time in an applied ecology course this fall
>(first time for the course, not for me).  The enrollment is mostly
>undergrad, with a sprinkling of grad students.  I've been using R
>extensively with my own grad students for the last couple of years, mainly
>giving them tools for analyses and expecting them to become familiar
>enough with R to use the tools.  I've had mixed success-- the general
>consensus seems to be that most regard R as a necessary evil-- necessary
>because the prof uses it, evil because it lacks a point-and-click
>interface.  In some instances I've experienced strong resistance to
>learning what, for many students these days, is an entirely new approach
>to computing, i.e. working from the command-line, writing scripts, etc.
>One associate in my lab simply refuses.
>
>I have mixed feelings about this.  On the one hand, a GUI would certainly
>make R more accessible for many, and especially students who encounter it
>within the context of some other course work.  It is a burden to have to
>learn a new language and even the means of using it when your real focus
>is learning something else, e.g. ecology.  On the other hand, as I like to
>point out to my grad students, computers are tools and GUI's often serve
>primarily to constrain their use to anticipated problems, taking away much
>of the intellectual creativity.  Of course, I presume R will always offer
>the command-line approach whether a GUI becomes available or not, but I'm
>not entirely convinced that a GUI is a good idea in any event.  Another
>point I make with students is that the command-line and source file
>approach isn't any faster, especially with iterative or multiple analysis
>problems that require repeating a set to steps over and over, but it's a
>whole lot more interesting than repeatedly cutting and pasting and
>button clicking.  Even more important, especially for students, it's
>mental exercise.  It's problem solving, one of the fundamental skills of
>science.

To say nothing of written documentation of _exactly_ how results were 
obtained. Absolutely essential if, for example, one's results are 
ever challenged. Or if, a few years later, one is saying to oneself, 
"what was it I did, how did I analyze that data?".

Writing a good GUI is a no doubt a major undertaking. How much extra 
work is it go write one that does a good job of providing written 
documentation? I believe that for many years most of the commercial 
GUI stat packages did not.

>So despite some resistance from students reluctant to learn the
>command-line approach, I think it's far better for them in the long run
>than a simple point-and-click interface would be.  Of course, I might
>change my tune after trying to convince a class full of undergrads next
>semester....
>
>--Mike C.
>
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>Michael A. Camann                                  Voice: 707-826-3676
>Associate Professor of Zoology                       Fax: 707-826-3201
>Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
>Department of Biology                            ifcr at axe.humboldt.edu
>Humboldt State University
>Arcata, CA 95521
>
>                  URL:http://www.humboldt.edu/~mac24/
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Jun 25 21:11:49 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 25 Jun 2002 14:11:49 -0500
Subject: [R] lattice and dates
In-Reply-To: <XFMail.010728165616.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <877kknyxze.fsf@lumen.indyrad.iupui.edu>

I've got some data that is recorded at various times during the
day.    I create a time stamp is created from date and time
strings like this:
  
  > timestamp <- strptime( paste( datestring, timestring), "%D %X" )

Then I'd like to use lattice to plot the time dependence by doing
something like 

  > xyplot( value ~ timestamp | subject )

This fails with 

  Error in as.double.default(x) : (list) object cannot be coerced to vector type 14
  In addition: Warning message: 
  Both x and y should be numeric in: xyplot( value ~ timestamp | subject )

I was sure I saw something like this on r-help recently, but I
can't seem to track it down now.  Can anyone help me out?

Thanks, Mike

-- 
Michael A. Miller                               mmiller3 at iupui.edu
  Imaging Sciences, Department of Radiology, IU School of Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Jun 25 21:21:40 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 25 Jun 2002 15:21:40 -0400
Subject: [R] Re: GUI's for teaching
In-Reply-To: <87vg87xp6i.fsf@jeeves.blindglobe.net>
References: <5.1.0.14.2.20020625103051.0454b3b0@mailhost.blackmesacapital.com>
 <3.0.32.20020625150503.00907a30@162.38.183.200>
 <5.1.0.14.2.20020625103051.0454b3b0@mailhost.blackmesacapital.com>
Message-ID: <5.1.0.14.2.20020625151410.050ec5f8@po.muohio.edu>

To encourage faculty who desire a GUI, I would just like to throw my 2 
cents in as both a "student" of statistics and faculty member in botany:
Command line approaches allow me to replicate my work, and allow my 
students to replicate their work, AND allow me to replicate my students' 
work. The beautiful introductions to, or samples of, the command line 
interface included in, for example, Paradis, Maindonald, Venables and 
Ripley, Pinheiro and Bates provide the psychological boast required for 
non-computer folks, and over the weeks of a course (or months of a project) 
students can get used to the command line approach. My God! They've been 
getting by with SAS for years!

For what it was worth,
Hank


At 01:07 PM 6/25/2002, A.J. Rossini wrote:
> >>>>> "tony" == Tony Plate <tplate at blackmesacapital.com> writes:
>
>     tony> Maybe something of wider value than a GUI (for teaching and other
>     tony> purposes) could be an interface like that in Mathematica (and 
> Maple?),
>     tony> which supports mathematical notation and plots in a command window.
>     tony> This allows showing students exactly what they need to do to
>     tony> accomplish some task, and well as the all the output they 
> should see.
>
>Suprisingly enough, 80% of what is needed to make this work does exist
>(and a bit more work would finish it off).  However, it doesn't exist
>using the particular tools many of those would want to see (there is a
>bit more work to do to make ESS + SWeave + Noweb + XEmacs do precisely
>this, but it suffers from the same problems mentioned for the GUI
>(lack of time, comparatively "amateur" (others' words/opinions, not
>necessarily mine) interface compared to say a half-decent MS Windows
>program.
>
>best,
>-tony
>
>--
>A.J. Rossini                            Rsrch. Asst. Prof. of Biostatistics
>U. of Washington Biostatistics          rossini at u.washington.edu
>FHCRC/SCHARP/HIV Vaccine Trials Net     rossini at scharp.org
>-------------- http://software.biostat.washington.edu/ ----------------
>FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
>UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
>(my tuesday/wednesday/friday locations are completely unpredictable.)
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Jun 25 23:13:27 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 26 Jun 2002 09:13:27 +1200
Subject: [R] re: GUI's for teaching
References: <3D18385C.FA28058A@agric.uwa.edu.au>
Message-ID: <005a01c21c8d$27381af0$da2658db@kwan022>

At the University of Auckland R is taught to second year undergraduate
students.  I could still remember when I was first introduced to R as an
undergraduate in the second year data analysis class (which was quite a few
years ago!), at the beginning I found it challenging, but later on I fell in
love with its command line interface.

In fact, the way the Department of Statistics teaches R here is for
lecturers to teach the commands in class (i.e. on the board/OHP), then send
the students off to the labs with assignments, and if they have any
questions, lab demonstrators are always around to help.  When I was a
student I found it is the easiet way to master R; and now being a
demonstrator I found students find it easy to learn, when there is someone
around to help when they have trouble.  Most of them have no command-line
experience before (as at first year they were taught Excel and Minitab), but
they manage to learn at least the basics at the end.

I think the question is not whether the undergraduates can handle a
command-line programme, but rather "how" it is taught.  R is even taught in
a new first year visualisation course at our department here and students
still manage to learn it quite well (some even learnt how to write basic
functions).

As for a GUI interface, I think the current GUI in Windows is good enough.
I prefer to run my scripts in a single BATCH file most of the time anyways.

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jun 26 01:34:25 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 25 Jun 2002 20:34:25 -0300
Subject: [R] xaxp and grid()
In-Reply-To: <20020623130842.41538.qmail@web21108.mail.yahoo.com>
References: <Pine.LNX.4.31.0206230730240.13623-100000@gannet.stats>
Message-ID: <4.2.2.20020625202311.00a88a60@pop3.arnet.com.ar>

Hello,

I use the option xaxp in the plot function and it is not recognized.
This affects the result of the function grid(), since it takes the default 
tick marks used by the plot function, which is not what I want.

See for example the result of:

plot(1:10,1:10,xaxp=c(1,10,9))
grid(9);			

With grid(9) I want to set a vertical line at each integer value, but this 
divides the interval [2,10] in 9 intervals, just because the first and last 
tick in the x axis are 2 and 10, not 1 and 10 as I request with the xaxp 
option.

Anybody knows how to go around this problem?

I am using R1.5.0 under Windows Me.

Thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Jun 26 04:29:01 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 26 Jun 2002 14:29:01 +1200
Subject: [R] Output from make check
Message-ID: <20020626022901.GB25287@hortresearch.co.nz>

These are probably very basic questions, but I don't know how one
reads output such as this:

[hrapgc at biomat1 R-1.5.1]$ make check
make[1]: Entering directory `/home/hrapgc/local/R-1.5.1/tests'
make[2]: Entering directory `/home/hrapgc/local/R-1.5.1/tests'
make[3]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
make[4]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
make[4]: `Makedeps' is up to date.
make[4]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
make[4]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
make[4]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
make[3]: *** [test-Examples] Error 2
make[3]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests'
make[1]: *** [test-all-basics] Error 1
make[1]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests'
make: *** [check] Error 2
[hrapgc at biomat1 R-1.5.1]$ 

Just what do Error 1 and Error 2 refer to?  

And does it make sense that certain directories were "entered" twice
in succession?

Thanks


-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Wed Jun 26 06:51:44 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Wed, 26 Jun 2002 16:51:44 +1200
Subject: [R] sapply() and Monte Carlo
Message-ID: <200206260451.g5Q4piQ30332@r.hankin.sems.auckland.ac.nz>

Dear Helplist

Some time ago, Professor Ripley gave me a tip which I thought was very
very useful for Monte Carlo simulation; I thought I'd pass it on to
the list, and ask whether this or a similar example could be added to
the sapply() manpage.

Suppose I have ten N(0,1) random variables and I'm interested in the
pair that are closest together:

R> min(diff(sort(rnorm(10))))
[1] 0.04438955

To generate a PDF for this statistic one can use sapply() as follows:

R> func <- function(n){min(diff(sort(rnorm(n))))}
R> hist(sapply(rep(10,999),func),col="gray")

This is *soooo* much better than having a loop!  Cheers everyone!
Anyone got any other interesting uses of sapply()?  Would anyone on
the List be interested in a collection specifically of neat R
oneliners?



-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Jun 26 07:56:49 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 26 Jun 2002 07:56:49 +0200
Subject: [R] sapply() and Monte Carlo
In-Reply-To: <200206260451.g5Q4piQ30332@r.hankin.sems.auckland.ac.nz>
References: <200206260451.g5Q4piQ30332@r.hankin.sems.auckland.ac.nz>
Message-ID: <20020626075649.294da7c4.sholl@gmx.net>

Hi List,

> Would anyone on
> the List be interested in a collection specifically of neat R
> oneliners?

I am new to R and this would be neat idea to have a collection of
code-snippets and how to solve "common" problems.

It would be great!

cheers
  steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 26 08:30:13 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 26 Jun 2002 08:30:13 +0200
Subject: [R] xaxp and grid()
References: <Pine.LNX.4.31.0206230730240.13623-100000@gannet.stats> <4.2.2.20020625202311.00a88a60@pop3.arnet.com.ar>
Message-ID: <3D195F75.98570426@statistik.uni-dortmund.de>



Daniel Mastropietro wrote:
> 
> Hello,
> 
> I use the option xaxp in the plot function and it is not recognized.
> This affects the result of the function grid(), since it takes the default
> tick marks used by the plot function, which is not what I want.
> 
> See for example the result of:
> 
> plot(1:10,1:10,xaxp=c(1,10,9))
> grid(9);

plot sets par("xaxp") itself. You can change it before calling grid()
(and after plot() has set it) as follows:

 plot(1:10)
 par(xaxp = c(1, 10, 9))
 grid(9)

If you want to have tickmarks analogously, you have to create the axis
manually:

 plot(1:10, xaxt = "n")
 axis(1, 1:10)
 par(xaxp = c(1, 10, 9))
 grid(9)

Or just create the grid with abline():

 plot(1:10, xaxt = "n")
 axis(1, 1:10)
 abline(v = 1:10, h = seq(2, 10, 2), col = "grey")

 
> With grid(9) I want to set a vertical line at each integer value, but this
> divides the interval [2,10] in 9 intervals, just because the first and last
> tick in the x axis are 2 and 10, not 1 and 10 as I request with the xaxp
> option.
> 
> Anybody knows how to go around this problem?
> 
> I am using R1.5.0 under Windows Me.

Uwe Liges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 08:50:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 07:50:13 +0100 (BST)
Subject: [R] Output from make check
In-Reply-To: <20020626022901.GB25287@hortresearch.co.nz>
Message-ID: <Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats>

On Wed, 26 Jun 2002, Patrick Connolly wrote:

> These are probably very basic questions, but I don't know how one
> reads output such as this:
>
> [hrapgc at biomat1 R-1.5.1]$ make check
> make[1]: Entering directory `/home/hrapgc/local/R-1.5.1/tests'
> make[2]: Entering directory `/home/hrapgc/local/R-1.5.1/tests'
> make[3]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> make[4]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> make[4]: `Makedeps' is up to date.
> make[4]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> make[4]: Entering directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
> make[4]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> make[3]: *** [test-Examples] Error 2
> make[3]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests/Examples'
> make[2]: *** [test-Examples] Error 2
> make[2]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests'
> make[1]: *** [test-all-basics] Error 1
> make[1]: Leaving directory `/home/hrapgc/local/R-1.5.1/tests'
> make: *** [check] Error 2
> [hrapgc at biomat1 R-1.5.1]$
>
> Just what do Error 1 and Error 2 refer to?

Return codes from programs called by your make.  In this case the first is
forced by the line

	@$(R) < $< > $@ || (mv $@ $@.fail && exit 1)

so the command has return code 1.

> And does it make sense that certain directories were "entered" twice
> in succession?

Yes.  Note that this reflects spawning new copies of make with different
targets.  I have only ever seen GNU make give this output, and it's rather
misleading.  It means `starting/ending a make run in directory foo'.


You need to look at the file base-Ex.Rout.fail to see the actual problem,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed Jun 26 09:32:33 2002
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 26 Jun 2002 04:32:33 -0300 (EST)
Subject: [R] GRETL (GUI's for teaching)
Message-ID: <Pine.GSO.3.96.1020626042824.28303A-100000@bernoulli>

A nice free software with a GUI-interface (which can be linked to 
R, BTW) is GRETL:  http://gretl.sourceforge.net/ . Some people 
may find it useful for basic stuff. Regards, Francisco. 

--
Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.de.ufpe.br/~cribari/

"Computers are useless. They can only give you answers." P.Picasso

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Wed Jun 26 09:41:36 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Wed, 26 Jun 2002 08:41:36 +0100
Subject: [R] re: GUI's for teaching
References: <3.0.32.20020625150503.00907a30@162.38.183.200>
Message-ID: <007801c21ce4$e67d7ca0$f2e1f380@nottingham.ac.uk>

> BTW, are GUIs the best way to teach stats? I recommend newcomers to R to
> save their command lines in a text file in order to able to source() them
> later. Quite often you need to re-do an analysis, because you have new
> data, you want to change a parameter, fit new models, ...
>
> Emmanuel Paradis

Yes yes yes... the time I've spent (read 'wasted') looking over students'
shoulders while they umm ("click!") & ahh ("click!") their way through what
they _thought_ they did last week  in SPSS, which 'didn't work', has
convinced me that GUIs are a lousy way to 'debug' someone else's faulty
analysis... not to mention the time I've saved returning to an R script 6
months on, which then 'talks' me through how I'd got to where I'd got to...

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jun 26 10:09:24 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 26 Jun 2002 10:09:24 +0200 (MET DST)
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.OSF.4.44.0206250852030.185622-100000@axe.humboldt.edu>
Message-ID: <Pine.OSF.3.96.1020626093542.20782C-100000@paleo>


My 2 cents (of Euro):

I was a user of Splus 3.x under unix and then 
Splus 4.5 under windows, so I did pass from an environment
with no GUI at all to another one in which an important effort
had been done to complement the command
line with a comprehensive menu. I must confess that
I was dazzled by the Splus 4.5 environment, but after
one week the only use of the menu was the object browser
(I tend to have too many objects...) and the interactive
editing of the graphics.

I do not think that R is an appropriate tool for people
who would use it occasionally, there are lots of other
packages for that, but I understand that a gui would
help many people to start using R. It's not that they would actually
use it a lot, it's rather that they would know that it exist and
be in peace... Where I think that a gui does make a lot of sense
is for people making an specific R-based application for the
particular needs of a given lab.

Personally, where I miss a menu-based application is for
interactive graphics. For example, after ploting
two vectors with an R function, it would be nice
to change the scale, colors etc.  , but perhaps it makes
more sense to use or link to an specific application
for this purpose (i.e. like with xgobi).

For some users that I know, the real problem
with R is that it's very hard to carry out
an analysis if you do not understand it. But,
is this a disadvantage? Not at all, in particular
for teaching.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jun 26 10:53:44 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 26 Jun 2002 20:53:44 +1200
Subject: [R] GUI's for teaching
References: <Pine.OSF.3.96.1020626093542.20782C-100000@paleo>
Message-ID: <000d01c21cee$fb02e3e0$9a2037d2@kwan022>


----- Original Message -----
From: "Agustin Lobo" <alobo at paleo.ija.csic.es>
Cc: "R Help" <r-help at stat.math.ethz.ch>
Sent: Wednesday, June 26, 2002 8:09 PM
Subject: Re: [R] GUI's for teaching


> Personally, where I miss a menu-based application is for
> interactive graphics. For example, after ploting
> two vectors with an R function, it would be nice
> to change the scale, colors etc.  , but perhaps it makes
> more sense to use or link to an specific application
> for this purpose (i.e. like with xgobi).

I agree.  Interactive graphics would be nice.

> For some users that I know, the real problem
> with R is that it's very hard to carry out
> an analysis if you do not understand it. But,
> is this a disadvantage? Not at all, in particular
> for teaching.

Very true.  Actually I particularly do not like the idea of having the
ability to click buttons to do analyses - like the Excel way!  I think it is
dangerous as for people who have little or no idea for statistics, may click
on a button that does a particular technique where the technique is totally
inappropriate and wrong for the situation.

At least in command line one have to "think" (hopefully!) which technique
suits the situation best, then find out the commands, then do the analysis.

Cheers,

Ko-Kang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jun 26 11:06:07 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 26 Jun 2002 11:06:07 +0200
Subject: [R] evaluate a string
Message-ID: <3D1983FF.96C0542@atmos.umnw.ethz.ch>

Hello together

i want to execute different commands that are saved in strings (eg: "d
<- 4+7" and some more complicated things). How can i execute/evaluate
them. I know i could save them to a temp-file a read this with source.
But is there a way without a file in the middle?
I know also the 'assign' command but I think it would only the simply
cases.

thanks and gruess

joerg

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 11:15:35 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 26 Jun 2002 10:15:35 +0100 (BST)
Subject: [R] evaluate a string
In-Reply-To: <3D1983FF.96C0542@atmos.umnw.ethz.ch>
Message-ID: <Pine.GSO.4.44.0206261014140.244-100000@auk.stats>

On Wed, 26 Jun 2002, Joerg Maeder wrote:

> i want to execute different commands that are saved in strings (eg: "d
> <- 4+7" and some more complicated things). How can i execute/evaluate
> them. I know i could save them to a temp-file a read this with source.
> But is there a way without a file in the middle?
> I know also the 'assign' command but I think it would only the simply
> cases.

eval(parse(text=string))


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jun 26 11:19:54 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 26 Jun 2002 11:19:54 +0200
Subject: [R] evaluate a string
In-Reply-To: <3D1983FF.96C0542@atmos.umnw.ethz.ch>
References: <3D1983FF.96C0542@atmos.umnw.ethz.ch>
Message-ID: <15641.34618.993969.948837@gargle.gargle.HOWL>

>>>>> "Joerg" == Joerg Maeder <maeder at atmos.umnw.ethz.ch> writes:


    Joerg> i want to execute different commands that are saved
    Joerg> in strings (eg: "d <- 4+7" and some more complicated
    Joerg> things). How can i execute/evaluate them. I know i
    Joerg> could save them to a temp-file a read this with
    Joerg> source.  But is there a way without a file in the
    Joerg> middle?  I know also the 'assign' command but I think
    Joerg> it would only the simply cases.

source() builds on parse() and eval() 
which you need here.

parse() : character --> expression
eval () : expressaion --> [evaluated result]

E.g.,

eval(parse(text = "print(d <- 4 + 7)"))
> [1] 11

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 26 11:19:01 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 26 Jun 2002 11:19:01 +0200
Subject: [R] evaluate a string
References: <3D1983FF.96C0542@atmos.umnw.ethz.ch>
Message-ID: <3D198705.7ECC6945@statistik.uni-dortmund.de>



Joerg Maeder wrote:
> 
> Hello together
> 
> i want to execute different commands that are saved in strings (eg: "d
> <- 4+7" and some more complicated things). How can i execute/evaluate
> them. I know i could save them to a temp-file a read this with source.
> But is there a way without a file in the middle?
> I know also the 'assign' command but I think it would only the simply
> cases.

 eval(parse(text = "d <- 4 + 7"))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed Jun 26 12:57:44 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 26 Jun 2002 11:57:44 +0100
Subject: [R] evaluate a string
In-Reply-To: <3D1983FF.96C0542@atmos.umnw.ethz.ch>
Message-ID: <NEBBJLLBCLEDFLCCBKDAAEJACGAA.mel@mcs.st-andrews.ac.uk>

eval(parse(text="d<-4+7")) might do the trick.
parse turns the text into an expression then eval evaluates it.

Cheers,

mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Joerg Maeder
     > Sent: 26 June 2002 10:06
     > To: R Help
     > Subject: [R] evaluate a string
     >
     >
     > Hello together
     >
     > i want to execute different commands that are saved in
     > strings (eg: "d
     > <- 4+7" and some more complicated things). How can i execute/evaluate
     > them. I know i could save them to a temp-file a read this
     > with source.
     > But is there a way without a file in the middle?
     > I know also the 'assign' command but I think it would only the simply
     > cases.
     >
     > thanks and gruess
     >
     > joerg
     >
     > --
     > Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
     > Tel: +41 1 633 36 25   .:|:||:..:.||.::
     > http://www.iac.ethz.ch/staff/maeder
     > PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
     > ETH Z?RICH Switzerland
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Jun 26 14:15:37 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 26 Jun 2002 14:15:37 +0200
Subject: [R] compute stats for each line
Message-ID: <3D19B069.4040302@science.uva.nl>

Dear list,

can somebody point me to how to compute stats for each line (over 
several columns):

A B C D E F   X
1 2 3 4 5 6 = x1
2 3 4 5 6 7 = x2
3 4 5 6 7 8 = x3
. . . . . . . .
. . . . . . . .
. . . . . . . .

Regards, Ulrich

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun 26 14:32:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 26 Jun 2002 14:32:00 +0200
Subject: [R] compute stats for each line
References: <3D19B069.4040302@science.uva.nl>
Message-ID: <3D19B440.21A08056@statistik.uni-dortmund.de>



Ulrich Leopold wrote:
> 
> Dear list,
> 
> can somebody point me to how to compute stats for each line (over
> several columns):
> 
> A B C D E F   X
> 1 2 3 4 5 6 = x1
> 2 3 4 5 6 7 = x2
> 3 4 5 6 7 8 = x3
> . . . . . . . .
> . . . . . . . .
> . . . . . . . .
> 

?apply

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Wed Jun 26 14:38:20 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Wed, 26 Jun 2002 08:38:20 -0400
Subject: [R] sapply() and Monte Carlo
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4BA@EPOCH.arqule.com>


Great idea ! I am sure it would be very useful - in particular
to the newcomers to the R-land.

The question is where to put it and how to organize it 
to make it useful ?
Some database approach with web interface would be probably good
in the long run.

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Robin Hankin [mailto:r.hankin at auckland.ac.nz]
Sent: Wednesday, June 26, 2002 12:52 AM
To: r-help at stat.math.ethz.ch
Subject: [R] sapply() and Monte Carlo


Dear Helplist

Some time ago, Professor Ripley gave me a tip which I thought was very
very useful for Monte Carlo simulation; I thought I'd pass it on to
the list, and ask whether this or a similar example could be added to
the sapply() manpage.

Suppose I have ten N(0,1) random variables and I'm interested in the
pair that are closest together:

R> min(diff(sort(rnorm(10))))
[1] 0.04438955

To generate a PDF for this statistic one can use sapply() as follows:

R> func <- function(n){min(diff(sort(rnorm(n))))}
R> hist(sapply(rep(10,999),func),col="gray")

This is *soooo* much better than having a loop!  Cheers everyone!
Anyone got any other interesting uses of sapply()?  Would anyone on
the List be interested in a collection specifically of neat R
oneliners?



-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jun 26 14:42:02 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 26 Jun 2002 05:42:02 -0700
Subject: [R] compute stats for each line
In-Reply-To: <3D19B069.4040302@science.uva.nl>
References: <3D19B069.4040302@science.uva.nl>
Message-ID: <871yauky91.fsf@jeeves.blindglobe.net>

>>>>> "ulrich" == Ulrich Leopold <uleopold at science.uva.nl> writes:

    ulrich> Dear list,
    ulrich> can somebody point me to how to compute stats for each line (over
    ulrich> several columns):


    ulrich> A B C D E F   X
    ulrich> 1 2 3 4 5 6 = x1
    ulrich> 2 3 4 5 6 7 = x2
    ulrich> 3 4 5 6 7 8 = x3
    ulrich> . . . . . . . .
    ulrich> . . . . . . . .
    ulrich> . . . . . . . .

if X is the above matrix,

apply(X,1,summary)



-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jun 26 14:47:48 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 26 Jun 2002 05:47:48 -0700
Subject: [R] sapply() and Monte Carlo
In-Reply-To: <200206260451.g5Q4piQ30332@r.hankin.sems.auckland.ac.nz>
References: <200206260451.g5Q4piQ30332@r.hankin.sems.auckland.ac.nz>
Message-ID: <87sn3ajjez.fsf@jeeves.blindglobe.net>

>>>>> "robin" == Robin Hankin <r.hankin at auckland.ac.nz> writes:

    robin> This is *soooo* much better than having a loop!  Cheers everyone!
    robin> Anyone got any other interesting uses of sapply()?  Would anyone on
    robin> the List be interested in a collection specifically of neat R
    robin> oneliners?

When they are amusing, I forward them into a Wiki that I keep for brain
dumping:

http://software.biostat.washington.edu/wikis/front/NotesOnR

I need to refactor this into appropriate sections (and occassional,
add a small bit of markup, and occassionally remove them for better
versions), but it's one place to add them.

(there's a place to "add comments" at the bottom).

I'm sure that there is a better place (perhaps someone could organize
a Tips and Tricks FAQ?)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Jun 26 15:32:40 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 26 Jun 2002 15:32:40 +0200
Subject: [R] change column name in a function
Message-ID: <3D19C278.4040502@science.uva.nl>

Hi,

I have the following function:

TEST <- cbind(Pox0t30.stone.1990.2000, 
sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)))

In rhe resulting Object TEST the added column is titled:
sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)

I would like to change it to a sensible variable name like PoxMean. How 
can I incorporate this into the above function?

Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 16:09:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 15:09:01 +0100 (BST)
Subject: [R] change column name in a function
In-Reply-To: <3D19C278.4040502@science.uva.nl>
Message-ID: <Pine.LNX.4.31.0206261506540.11035-100000@gannet.stats>

On Wed, 26 Jun 2002, Ulrich Leopold wrote:

> Hi,
>
> I have the following function:
>
> TEST <- cbind(Pox0t30.stone.1990.2000,
> sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)))
>
> In rhe resulting Object TEST the added column is titled:
> sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)
>
> I would like to change it to a sensible variable name like PoxMean. How
> can I incorporate this into the above function?

cbind(foo=x, bar=y) gives columns named `foo' and `bar'.  Probably ought
to be on the help page ....

>
> Ulrich
> --
> __________________________________________________
>
> Ulrich Leopold MSc.
>
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
>
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
>
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Jun 26 16:12:07 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 26 Jun 2002 10:12:07 -0400
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.OSF.3.96.1020626093542.20782C-100000@paleo>
References: <Pine.OSF.3.96.1020626093542.20782C-100000@paleo>
Message-ID: <1025100727.31678.9.camel@keittlab-6>

More generally, what someone needs to do is figure out a way to extend
the R documentation syntax to automatically generate input dialogs for R
functions. One could add a 'menu' field to build menu entries on the
fly. A long time ago, I used something similar (called Khoros) in which
you entered an interface definition and it generated both a gui and a
command-line interface. It also had 'graphical programming' which let
you link function inputs to outputs using a point and click interface.
Maybe if someone gets really ambitious...

Tim

On Wed, 2002-06-26 at 04:09, Agustin Lobo wrote:
> 
> My 2 cents (of Euro):
> 
> I was a user of Splus 3.x under unix and then 
> Splus 4.5 under windows, so I did pass from an environment
> with no GUI at all to another one in which an important effort
> had been done to complement the command
> line with a comprehensive menu. I must confess that
> I was dazzled by the Splus 4.5 environment, but after
> one week the only use of the menu was the object browser
> (I tend to have too many objects...) and the interactive
> editing of the graphics.
> 
> I do not think that R is an appropriate tool for people
> who would use it occasionally, there are lots of other
> packages for that, but I understand that a gui would
> help many people to start using R. It's not that they would actually
> use it a lot, it's rather that they would know that it exist and
> be in peace... Where I think that a gui does make a lot of sense
> is for people making an specific R-based application for the
> particular needs of a given lab.
> 
> Personally, where I miss a menu-based application is for
> interactive graphics. For example, after ploting
> two vectors with an R function, it would be nice
> to change the scale, colors etc.  , but perhaps it makes
> more sense to use or link to an specific application
> for this purpose (i.e. like with xgobi).
> 
> For some users that I know, the real problem
> with R is that it's very hard to carry out
> an analysis if you do not understand it. But,
> is this a disadvantage? Not at all, in particular
> for teaching.
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pac at Uhb.Fr  Wed Jun 26 16:50:06 2002
From: pac at Uhb.Fr (Pierre-Andre Cornillon)
Date: Wed, 26 Jun 2002 15:50:06 +0100 (WEST)
Subject: [R] aic calculus for glm models
Message-ID: <Pine.GSO.4.44.0206261414060.17664-100000@sa2391>

I am trying to know exactly the formulas used to calculate aic for glm
models.  In  glm.fit, the calculus of  aic is:
aic.model  <- aic(y, n,mu, weights, dev) + 2 * fit$rank
where 2 * fit$rank is (may be am i wrong?) twice the  numbers of
parameters p and aic(y,  n, mu, weights, dev)
refers to  the function defined in  the family function  (which is for
Gamma family, for instance)

    aic <- function(y, n, mu, wt, dev) {
        n <- sum(wt)
        disp <- dev/n
        -2 * sum(dgamma(y, 1/disp, scale = mu * disp, log = TRUE) *
            wt) + 2
    }
Its seems to me that 1/disp = \phi is the ML estimator of \phi,
 -2 * sum(dgamma(y,  1/disp, scale = mu  * disp, log = TRUE)  * wt) is
twice the log  likelihood of the observations at  the ML estimators mu
and disp. But what is the + 2 ?

The same thing occurs in the gaussian family: aic = function(y, n, mu,
wt, dev) sum(wt) * (log(dev/sum(wt) *  2 * pi) +  1) + 2
with dev/sum(wt) is the ML estimator of sigma^2, thus aic is
twice the likelihood function of the observations evaluated at ML
parameters + 2

I have probably not understood something but ??

Pierre-Andre Cornillon

PS may be some indications in  the help page of summary.glm to explain
that  the  dispersion  parameter  \phi  displayed  by  glm.summary  is
estimated as advocated  by Mc Cullagh & Nelder  (1989, p.296) could be
useful for some users
PS2 : I am using R Version 1.4.1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jun 26 17:52:20 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 26 Jun 2002 15:52:20 +0000
Subject: [R] contrast matrix in package multcomp
Message-ID: <3D19E334.4DF91B70@psy.uni-muenchen.de>

Hi,

I've got a problem building a contrast matrix for the Dunnet contrast in
package multcopm. The following works fine:

> summary(simtest(adiff ~ trial))

  Simultaneous tests: Dunnett contrasts

Data:  adiff by trial

Contrast matrix:
              trial1 trial2 trial3 trial4 trial5
trial2-trial1     -1      1      0      0      0
trial3-trial1     -1      0      1      0      0
trial4-trial1     -1      0      0      1      0
trial5-trial1     -1      0      0      0      1


Absolute Error Tolerance:  0.001

Coefficients:
              Estimate t value Std.Err. p raw p Bonf p adj
trial3-trial1    0.745  -2.911    0.256 0.006  0.025 0.021
trial2-trial1   -0.688  -2.686    0.256 0.011  0.033 0.029
trial4-trial1    0.091  -0.357    0.256 0.724  1.447 0.912
trial5-trial1    0.032  -0.127    0.256 0.900  1.447 0.912

But now I want to test trial3 against all other trials and build the
following contrast matrix C:

> C
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    0   -1    0    0
[2,]    0    1   -1    0    0
[3,]    0    0   -1    1    0
[4,]    0    0   -1    0    1

but I got the error:

> summary(simtest(adiff ~ trial, cmatrix=C))
Error in simtest.formula(adiff ~ trial, cmatrix = C) :
 dimensions of x and cmatrix do not match

Does anybody know what went wrong?

Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Wed Jun 26 16:49:06 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Wed, 26 Jun 2002 10:49:06 -0400
Subject: [R] Help with concatenation and arrays
Message-ID: <2196322b2d.22b2d21963@lbl.gov>

Dear R-guRus:
I have 2 questions

1) I have 2 variables, e.g. x<-5; y<-"Char"
How do I create a new variable which would have both these values in a 
string (e.g. "5Char", or "5 Char", etc ) ??

2) if i have an array x[1:100], and I do x[x==345.123], how do I get 
position j in the array of those x[j] which are equal to 345.123 ?

Thank you very much,
Vlad.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at tirol.gv.at  Wed Jun 26 16:56:34 2002
From: H.RINNER at tirol.gv.at (RINNER Heinrich)
Date: Wed, 26 Jun 2002 16:56:34 +0200
Subject: AW: [R] sapply() and Monte Carlo
Message-ID: <C4D44AB4CB62D311BA6500041202E886031EE0B5@xms1.tirol.gv.at>

What about "Rtips" at http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html ?

Regards,
Heinrich.

> -----Urspr?ngliche Nachricht-----
> Von: rossini at blindglobe.net [mailto:rossini at blindglobe.net] 
> Gesendet: Mittwoch, 26. Juni 2002 14:48
> An: r.hankin at auckland.ac.nz
> Cc: r-help at stat.math.ethz.ch
> Betreff: Re: [R] sapply() and Monte Carlo
> 
> 
> >>>>> "robin" == Robin Hankin <r.hankin at auckland.ac.nz> writes:
> 
>     robin> This is *soooo* much better than having a loop!  
> Cheers everyone!
>     robin> Anyone got any other interesting uses of sapply()? 
>  Would anyone on
>     robin> the List be interested in a collection 
> specifically of neat R
>     robin> oneliners?
> 
> When they are amusing, I forward them into a Wiki that I keep 
> for brain
> dumping:
> 
http://software.biostat.washington.edu/wikis/front/NotesOnR

I need to refactor this into appropriate sections (and occassional, add a
small bit of markup, and occassionally remove them for better versions), but
it's one place to add them.

(there's a place to "add comments" at the bottom).

I'm sure that there is a better place (perhaps someone could organize a Tips
and Tricks FAQ?)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Jun 26 15:50:14 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 26 Jun 2002 15:50:14 +0200
Subject: [R] vacancy in spatial uncertainty analysis
Message-ID: <3D19C696.5060702@science.uva.nl>

Dear colleague,

Please find below a job announcement in the area of spatial uncertainty
analysis applied to hydrological modelling (a PostDoc position for three
years).


Text:

Do you like (or do you know someone who likes):

 o  Amsterdam
 o  Geostatistics
 o  Spatial Uncertainty Analysis
 o  Hydrological Modelling
 o  A Position As A Post-Doc Researcher

then please read on.

At the Institute for Biodiversity and Ecosystem Dynamics (IBED), University
of Amsterdam, we currently have a vacancy for a Post-Doc researcher on the
project ?HarmoniRiB: Harmonised Techniques and Representative River Basin
Data for Assessment and Use of Uncertainty Information in Integrated Water
Management?. The aim of this project, which is funded by the European Union
and in which ten institutes from various European countries collaborate, is
to establish a practical methodology for handling uncertainty in integrated
water management plans. These plans are being implemented in the new EU
Water Framework Directive, which is a legal instrument that will have a
profound effect on how water is managed in Europe over the next 25 years.
The specific role of IBED in this project is to develop, implement and
(help) apply methods to assess uncertainty and uncertainty propagation in
data and models used in integrated water management. Important scientific
challenges are that the methods must account for temporal and spatial
correlations in data and models and must handle the influence of scale
effects. Important practical challenges are that the tools built must be
practical, easy-to-use by the non-expert and must become fully operational
within the project time frame. More information about the project can be
obtained from Gerard Heuvelink (g.b.m.heuvelink at science.uva.nl, telephone
(+)31 20 5257448, see also http://www.frw.uva.nl/soil/Welcome.html).

We seek candidates that have (nearly) finished a PhD in the natural
sciences, preferably in the Earth and Environmental Sciences, (Applied)
Mathematics or Statistics. Clearly, expertise in geostatistics, GIS and
hydrological modelling and a solid publication record are an advantage. The
person we seek loves to work with equations and loves to put them into
computer code, but must at the same time find much motivation and
inspiration from applying mathematics to real world problems.

The project lasts three years and will commence before the end of this year.
The annual salary will be in the range EUR 35,000 to EUR 42,000.

Applications (letter and curriculum vitae) must arrive BEFORE 1 SEPTEMBER
2002. Please send your application to:

Dr. Gerard B.M. Heuvelink
IBED-Physical Geography
Universiteit van Amsterdam
Nieuwe Achtergracht 166
1018 WV Amsterdam
THE NETHERLANDS

Application through E-mail or FAX is also accepted:

g.b.m.heuvelink at science.uva.nl / (+)31 20 5257431
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 17:18:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 16:18:33 +0100 (BST)
Subject: [R] aic calculus for glm models
In-Reply-To: <Pine.GSO.4.44.0206261414060.17664-100000@sa2391>
Message-ID: <Pine.LNX.4.31.0206261530490.11086-100000@gannet.stats>

On Wed, 26 Jun 2002, Pierre-Andre Cornillon wrote:

> I am trying to know exactly the formulas used to calculate aic for glm
> models.  In  glm.fit, the calculus of  aic is:
> aic.model  <- aic(y, n,mu, weights, dev) + 2 * fit$rank
> where 2 * fit$rank is (may be am i wrong?) twice the  numbers of
> parameters p and aic(y,  n, mu, weights, dev)
> refers to  the function defined in  the family function  (which is for
> Gamma family, for instance)
>
>     aic <- function(y, n, mu, wt, dev) {
>         n <- sum(wt)
>         disp <- dev/n
>         -2 * sum(dgamma(y, 1/disp, scale = mu * disp, log = TRUE) *
>             wt) + 2
>     }
> Its seems to me that 1/disp = \phi is the ML estimator of \phi,
>  -2 * sum(dgamma(y,  1/disp, scale = mu  * disp, log = TRUE)  * wt) is
> twice the log  likelihood of the observations at  the ML estimators mu
> and disp. But what is the + 2 ?

1/disp is *not* the ML estimator of \phi.  See the reference below.
I don't think what R quotes as the aic is anything sensible.

> The same thing occurs in the gaussian family: aic = function(y, n, mu,
> wt, dev) sum(wt) * (log(dev/sum(wt) *  2 * pi) +  1) + 2
> with dev/sum(wt) is the ML estimator of sigma^2, thus aic is
> twice the likelihood function of the observations evaluated at ML
> parameters + 2

Actually aic is minus twice the log-likelihood (that's two mistakes) plus
twice (# of linear parameters plus number of scale parameters).

> I have probably not understood something but ??
>
> Pierre-Andre Cornillon
>
> PS may be some indications in  the help page of summary.glm to explain
> that  the  dispersion  parameter  \phi  displayed  by  glm.summary  is
> estimated as advocated  by Mc Cullagh & Nelder  (1989, p.296) could be
> useful for some users

Well, a long essay on fitting glms would be useful to some users but that
is not the function of the help page (especially without mathematical
notation).  You will find this all explained in Venables & Ripley (1999)
and its on-line Statistical Complements.

> PS2 : I am using R Version 1.4.1

Time to upgrade.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Jun 26 17:47:30 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 26 Jun 2002 17:47:30 +0200 (CEST)
Subject: [R] change column name in a function
In-Reply-To: <3D19C278.4040502@science.uva.nl>
Message-ID: <Pine.LNX.4.44.0206261741310.22891-100000@localhost.localdomain>

On Wed, 26 Jun 2002, Ulrich Leopold wrote:

  |Hi,
  |
  |I have the following function:
  |
  |TEST <- cbind(Pox0t30.stone.1990.2000, 
  |sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)))
  |
  |In rhe resulting Object TEST the added column is titled:
  |sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)
  |
  |I would like to change it to a sensible variable name like PoxMean. How 
  |can I incorporate this into the above function?

What do you mean with ,,function'' in the above?  But you may easily change
the names of the components of test.  Use the fact, that the variable names
in a data.frame (and in a matrix too) are store as the second component in
the list dimnames(TEST).  So you could try e.g.

dimnames(TEST)[[2]][length(dimnames(TEST)[[2]]) <- "PoxMean"


Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Jun 26 17:46:31 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 26 Jun 2002 11:46:31 -0400
Subject: [R] Bug or failing understanding?
Message-ID: <3D19E1D7.36E68FC4@umsanet.edu.bo>

Hola!

I seem to remember i used to have the same name of argument and default
value in argument list to functions, but (rw1.5.1) this seems not to
work:

> x <- 3
> test <- function(x=x) x*x
> test(7)
[1] 49
> test()
Error in test() : recursive default argument reference


here is a code fragment from lm() using the same syntax:


 else {
        x <- model.matrix(mt, mf, contrasts)
        z <- if (is.null(w)) 
            lm.fit(x, y, offset = offset, ...)
        else lm.wfit(x, y, w, offset = offset, ...)

What is wrong?

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jun 26 18:03:02 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 26 Jun 2002 09:03:02 -0700 (PDT)
Subject: [R] Bug or failing understanding?
In-Reply-To: <3D19E1D7.36E68FC4@umsanet.edu.bo>
Message-ID: <Pine.A41.4.44.0206260855340.199218-100000@homer04.u.washington.edu>

On Wed, 26 Jun 2002, kjetil halvorsen wrote:

> Hola!
>
> I seem to remember i used to have the same name of argument and default
> value in argument list to functions, but (rw1.5.1) this seems not to
> work:

It shouldn't ever have worked.

> > x <- 3
> > test <- function(x=x) x*x
> > test(7)
> [1] 49
> > test()
> Error in test() : recursive default argument reference
>
>
> here is a code fragment from lm() using the same syntax:

But this doesn't use the same syntax. If you mean offset=offset, this  is
using an actual argument with the same name as the formal argument. That's
very different from using a *default* with the same name as the formula
argument

>
>  else {
>         x <- model.matrix(mt, mf, contrasts)
>         z <- if (is.null(w))
>             lm.fit(x, y, offset = offset, ...)
>         else lm.wfit(x, y, w, offset = offset, ...)
>
> What is wrong?

Actual arguments are looked up in the calling environment, so the
offset=offset in lm.fit uses the variable "offset" in the calling
environment.

Defaults are looking up in the local environment, so your example looks
for the local variable "x". This is just the formal argument "x", leading
around in circles.

There is a good reason that defaults are evaluated in the local
environment. It allows the default for one parameter to depend on the
value of another.

	 -thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 18:02:00 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 17:02:00 +0100 (BST)
Subject: [R] Bug or failing understanding?
In-Reply-To: <3D19E1D7.36E68FC4@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0206261659580.11242-100000@gannet.stats>

On Wed, 26 Jun 2002, kjetil halvorsen wrote:

> Hola!
>
> I seem to remember i used to have the same name of argument and default
> value in argument list to functions, but (rw1.5.1) this seems not to
> work:
>
> > x <- 3
> > test <- function(x=x) x*x
> > test(7)
> [1] 49
> > test()
> Error in test() : recursive default argument reference
>
>
> here is a code fragment from lm() using the same syntax:
>
>
>  else {
>         x <- model.matrix(mt, mf, contrasts)
>         z <- if (is.null(w))
>             lm.fit(x, y, offset = offset, ...)
>         else lm.wfit(x, y, w, offset = offset, ...)
>
> What is wrong?

You example is a call, and your usage is a formal argument. Yours sets the
default for `x' to x, which does not exist.  lm's calls lm.fit with named
argument `offset'.

>
> Kjetil Halvorsen
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Jun 26 18:22:19 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Wed, 26 Jun 2002 11:22:19 -0500 (CDT)
Subject: [R] Help with concatenation and arrays
In-Reply-To: <2196322b2d.22b2d21963@lbl.gov> (VBMorozov@lbl.gov)
References: <2196322b2d.22b2d21963@lbl.gov>
Message-ID: <200206261622.LAA29480@definetti.uark.edu>


1) paste(x,y)

2) see the function 'which'. However the exact equality test ('==') is
   not appropriate here: you need to test for near equality.

Giovanni

 

> From: VBMorozov at lbl.gov
> Date: Wed, 26 Jun 2002 10:49:06 -0400
> Content-Language: en
> X-Accept-Language: en
> Content-Disposition: inline
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain; charset=us-ascii
> Content-Length: 711
> 
> Dear R-guRus:
> I have 2 questions
> 
> 1) I have 2 variables, e.g. x<-5; y<-"Char"
> How do I create a new variable which would have both these values in a 
> string (e.g. "5Char", or "5 Char", etc ) ??
> 
> 2) if i have an array x[1:100], and I do x[x==345.123], how do I get 
> position j in the array of those x[j] which are equal to 345.123 ?
> 
> Thank you very much,
> Vlad.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmail.cis.mcmaster.ca  Wed Jun 26 18:43:54 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Wed, 26 Jun 2002 12:43:54 -0400 (EDT)
Subject: [R] GUI's for teaching
In-Reply-To: <1025100727.31678.9.camel@keittlab-6>
Message-ID: <Pine.SOL.4.33.0206261236050.25674-100000@mcmail.cis.mcmaster.ca>

Dear R list members,

I've read with interest the discussion about developing a GUI for R, with
particular reference to the use of R in elementary statistics classes.

Brian Ripley's point -- that students can use a GUI-based package with
little instruction and support -- is the key point for me. This isn't just
a question of laziness: Spending time teaching students command-driven
software that they may not use again after the class, or may use too
infrequently to become fluent, takes time away from teaching other things.
The counter-argument that GUIs are too easy to abuse seems perverse to me:
If students are taught to analyze data properly then they won't abuse the
software. They can produce nonsense with command-driven software as well.
Surely there's no real virtue to making things hard for people.

Another point is that the presence of a GUI provides an option, but
doesn't force anyone to use it. I never use the GUI in S-PLUS, for
example, and would likely not use a GUI in R for my own work, nor for
classes beyond the elementary level.

Finally, I wonder whether it would be helpful to refocus the discussion on
providing tools for creating GUIs rather than a GUI itself. I have in mind
a (perhaps updated) version of the kinds of tools provided by Lisp-Stat
for constructing menus and dialog boxes. Lisp-Stat makes these available
for Linux/Unix systems, Macintoshes, and Windows systems. With such tools
in place, teachers interested in creating GUIs for their classes could do
so, contributing the results to CRAN. I hesitate to make this suggestion,
since I don't have the expertise to program -- as opposed to use --
GUI-creation tools.

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Wed Jun 26 19:32:04 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Wed, 26 Jun 2002 13:32:04 -0400 (EDT)
Subject: [R] Help with concatenation and arrays
In-Reply-To: <2196322b2d.22b2d21963@lbl.gov>
Message-ID: <Pine.LNX.4.21.0206261329580.4689-100000@perrin.socsci.unc.edu>

On Wed, 26 Jun 2002 VBMorozov at lbl.gov wrote:

> Dear R-guRus:
> I have 2 questions
> 
> 1) I have 2 variables, e.g. x<-5; y<-"Char"
> How do I create a new variable which would have both these values in a 
> string (e.g. "5Char", or "5 Char", etc ) ??

cat(x,y)


----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From forporphyry at hotmail.com  Wed Jun 26 19:36:09 2002
From: forporphyry at hotmail.com (graham lawrence)
Date: Wed, 26 Jun 2002 10:36:09 -0700
Subject: [R] re: GUI's for teaching
Message-ID: <F49fKRfcjcMzfoV1qdi000002f0@hotmail.com>

Definitely 2 camps on this issue; so why not compromise with a drop-down 
menu for the most frequently used processes, the user responds with the 
necessary parameters for his choice, and R then writes the source statements 
on the terminal and executes them.  The user follows the familiar gui 
procedure, is thereby automatically introduced to the command statements 
involved, and R's self-documentation feature is retained.


>From: Rohan Sadler <rsadler at agric.uwa.edu.au>
>To: R Help <r-help at stat.math.ethz.ch>
>Subject: [R] re: GUI's for teaching
>Date: Tue, 25 Jun 2002 17:31:08 +0800
>
>Dear All,
>
>This is a question to sound out possibilities.
>
>I am with the Faculty of Natural and Agricultural Sciences at the
>University of Western Australia, representing a few of the more
>statistically minded in the faculty. Essentially, there have been
>problems in the past with software support, changing over statistical
>software, and paying lots of money for it. In R you have an advanced
>statistical software package, it is free and it is adaptable. Also the
>maths department at UWA is using it on an informal basis and so support
>over the long term is available. The only reason why the faculty is not
>using R as a whole is because there is no GUI equivalent to
>Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
>purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
>but it is not designed to carry statistical functions with buttons for
>options and this is what is needed for low statistical level undergrads.
>There is RWeb, but at this stage of development you wont find many
>takers in the faculty.
>
>What I want to know is this: can anyone give me a quote on what it will
>cost to develop a RWindows clone of the Minitab GUI. This GUI would
>support initially the simple six (EDA, probabilities and quantiles of
>distributions, t-tests,one-way anova, chi-square, and simple linear
>regression), and have the potential to develop into the next level of
>statistical analysis (glms, multivariate methods, time series and
>spatial - analytical problems common across our faculty). If the cost of
>development is comparable to present licence maintenance fees at FNAS
>then I think our small group can argue for its adoption. Not only that,
>the benefits to undergraduate teaching in other universities would be
>immense. If development costs are high then other faculties at other
>universities, where the software licencing arrangements are also
>troublesome, are also invited to participate in this potential project.
>
>I imagine this question has been discussed before, but I hope to have
>but an interesting turn to it.
>
>Regards
>
>Rohan Sadler
>Ecosystems Research Group
>School of Plant Biology (Botany)
>Faculty of Natural and Agricultural Sciences
>
>+61 8 9380 7914
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ori at stat.pitt.edu  Wed Jun 26 19:43:05 2002
From: ori at stat.pitt.edu (Ori Rosen)
Date: Wed, 26 Jun 2002 13:43:05 -0400 (EDT)
Subject: [R] readline/R 
Message-ID: <Pine.GHP.4.33.0206261336400.7785-100000@thoth.stat.pitt.edu>

I am trying to get readline working in R to avoid retyping commands.
I have compliled both readline and R on my work station. Although the
compilation shows (see below) that readline is supported, it
doesn't really work. I would appreciate any tips on how to get it to work.

Thanks
Ori

R is now configured for sparc-sun-solaris2.7

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          f77  -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Jun 26 19:47:19 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 26 Jun 2002 10:47:19 -0700
Subject: [R] Bug or failing understanding?
In-Reply-To: <3D19E1D7.36E68FC4@umsanet.edu.bo>
References: <3D19E1D7.36E68FC4@umsanet.edu.bo>
Message-ID: <p05111a0eb93fad31dfd8@[128.115.153.6]>

The way I look at this, perhaps naively, is this:
   > test <- function(x=x) x*x
is defining a function, whereas
   lm.fit(x, y, offset = offset, ...)
is calling a function.

The syntax may look the same, but the operation is different.

lm.fit is defined
   > args(lm.fit)
   function (x, y, offset = NULL, method = "qr", tol = 1e-07, ...)
so it is not applicable as a counter-example.

-Don

At 11:46 AM -0400 6/26/02, kjetil halvorsen wrote:
>Hola!
>
>I seem to remember i used to have the same name of argument and default
>value in argument list to functions, but (rw1.5.1) this seems not to
>work:
>
>>  x <- 3
>  > test <- function(x=x) x*x
>>  test(7)
>[1] 49
>>  test()
>Error in test() : recursive default argument reference
>
>
>here is a code fragment from lm() using the same syntax:
>
>
>  else {
>         x <- model.matrix(mt, mf, contrasts)
>         z <- if (is.null(w))
>             lm.fit(x, y, offset = offset, ...)
>         else lm.wfit(x, y, w, offset = offset, ...)
>
>What is wrong?
>
>Kjetil Halvorsen
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Wed Jun 26 20:05:13 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Wed, 26 Jun 2002 15:05:13 -0300 (ADT)
Subject: [R] Tenure track statistics position at UNB.
Message-ID: <200206261805.PAA14230@tanner.math.unb.ca>


The Department of Mathematics and Statistics at the University of New
Brunswick, Fredericton, N. B., Canada, is advertizing a tenure track
position in Statistics, starting 1 July 2003.  Please see

		http://www.math.unb.ca/job-stat.html

for details.

				cheers,

					Rolf Turner
					rolf at math.unb

[My apologies to those who receive multiple copies of this email.]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 20:05:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 19:05:01 +0100 (BST)
Subject: [R] readline/R 
In-Reply-To: <Pine.GHP.4.33.0206261336400.7785-100000@thoth.stat.pitt.edu>
Message-ID: <Pine.LNX.4.31.0206261901440.11444-100000@gannet.stats>

On Wed, 26 Jun 2002, Ori Rosen wrote:

> I am trying to get readline working in R to avoid retyping commands.
> I have compliled both readline and R on my work station. Although the
> compilation shows (see below) that readline is supported, it
> doesn't really work. I would appreciate any tips on how to get it to work.

Whatever does `it doesn't really work' mean?  Surely it works or it
doesn't?  What does capabilities("cledit") say?

This works out of the box for me on Solaris 2.7, and always has
(even with 64-bit compilers).

>
> Thanks
> Ori
>
> R is now configured for sparc-sun-solaris2.7
>
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -g -O2
>   C++ compiler:              g++  -g -O2
>   FORTRAN compiler:          f77  -g
>
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no
>   Readline support:          yes
>
>   R profiling support:       yes
>   R as a shared library:     no
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Wed Jun 26 20:21:54 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Wed, 26 Jun 2002 20:21:54 +0200
Subject: [R] sum up breaks
Message-ID: <3D1A0642.3000209@science.uva.nl>

HI,

how can use in the function below instead of ave sum? I would like to sum up 
  breaks.

Pox2 <- data.frame(ave(lsk0t50$Pox2, lsk0t50$ProfN, Fun=is.na(lsk0t50$Pox2)))

Regards, Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Jun 26 20:40:52 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 26 Jun 2002 13:40:52 -0500 (CDT)
Subject: [R] readline/R 
In-Reply-To: <Pine.LNX.4.31.0206261901440.11444-100000@gannet.stats>
Message-ID: <Pine.GSO.4.33.0206261335480.10475-100000@ysidro.econ.uiuc.edu>

It has been  my experience that readline "doesn't really work" in vi mode
in sun cmdtool (sun-cmd) windows on solaris.  (In the sense that it doesn't
properly refresh the recalled lines.)  But this is a known problem of readline
not of R, I believe, and in an xterm window things are fine.


url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Wed, 26 Jun 2002 ripley at stats.ox.ac.uk wrote:

> On Wed, 26 Jun 2002, Ori Rosen wrote:
>
> > I am trying to get readline working in R to avoid retyping commands.
> > I have compliled both readline and R on my work station. Although the
> > compilation shows (see below) that readline is supported, it
> > doesn't really work. I would appreciate any tips on how to get it to work.
>
> Whatever does `it doesn't really work' mean?  Surely it works or it
> doesn't?  What does capabilities("cledit") say?
>
> This works out of the box for me on Solaris 2.7, and always has
> (even with 64-bit compilers).
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at ec.rr.com  Wed Jun 26 21:03:49 2002
From: mprager at ec.rr.com (Mike Prager)
Date: Wed, 26 Jun 2002 15:03:49 -0400
Subject: [R] GUI's for teaching
In-Reply-To: <20020625082615.C22185@cattell.psych.upenn.edu>
References: <Pine.SOL.4.21.0206251152280.6242-100000@wallis>
 <3D18385C.FA28058A@agric.uwa.edu.au>
 <Pine.SOL.4.21.0206251152280.6242-100000@wallis>
Message-ID: <5.1.0.14.2.20020626145635.04122490@pop-server.ec.rr.com>

At 6/25/2002 at 08:26 AM, Jonathan Baron wrote:
>The reference card is in the contributed documents section of CRAN and 
>below.  Students do use it.  But a GUI would make them happier (but not 
>enough for me to spend time trying to make one).


Yes, it is probably best for students' development if we don't spend too 
much time trying to make them happy, anyway. It used to be that the 
*students* tried to make the *instructor* happy.  However, the world has 
changed....

I agree with many that a GUI is problematic in several ways.  A time sink 
for programmers.  A difficulty for analysts who want to keep an audit 
trail.  A potentially divisive element in the community of R users.

A reference card would be great, and I'd love to see an *electronic* 
reference card that could be popped up easily without wading through many 
branches of a help system.  A big plus in such an electronic reference card 
would be room for the user's own notes.

Unless a GUI somehow records the steps of analysis that has been performed, 
it negates the value of a program as a teaching and learning tool.  How can 
one critique an analysis without knowing how it was performed?  This is the 
same problem one has in trying to debug an analysis done in a spreadsheet. 
With no source code for the mathematical manipulations, how can they be 
reviewed, unless one goes cell by cell by cell.....

--
Mike Prager
Beaufort, NC




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From info at rhkoning.com  Wed Jun 26 21:20:11 2002
From: info at rhkoning.com (Ruud H. Koning)
Date: Wed, 26 Jun 2002 21:20:11 +0200
Subject: [R] formatting
Message-ID: <200206262120110739.00788D04@192.168.1.66>

Hello, I must be missing something obvious. I have  a 8x4 matrix, the first
column is
             0              1              2              3              4 
  9.470986e-01   5.147677e-02   1.398934e-03   2.534499e-05   3.443882e-07 
   more than 4 nominal payoff     exp.payoff 
  3.777820e-09   2.000000e+06   1.972907e+06 

I would like to have it printed such that all all numbers bigger than 1e-4
are not printed in scientific notation.
I thought that format(table.result) would do this job, but it seems not to
apply the scientific setting to each individual element.
How do I get thes enumbers printed as 

0.9471 0.05148 0.001399 2.534e-05, etc? Is it also possible to print 10-5
instead of e-5?
Thanks, Ruud

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Jun 26 21:52:56 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 26 Jun 2002 21:52:56 +0200
Subject: [R] R-News2002-2  (little suggestion!)
Message-ID: <200206261952.g5QJquX10027@mailgate5.cinetic.de>

Hello,
only a little suggestion for the great R-news, which is in my mind
one of the best contribution to learn R and statistics for practical intentions.

In some articles the dataSet is easy to get for everyone (i.e. the Time-Series articles ) &
easy to follow  the examples, but sometimes it is  more diificult i.e
the present programmer's niche with the really nice example to do
a lot of rpart object's in one step. 

More advanced "people" are
have got the skills to adapt this, but "beginners" like me for the last
grid-examples get "problems" and IMHO it is more easy to understand the
exmples with "free" dataSets - ( fast to adapt )!?

P.S.
a.notice, what i can not say often enough:
...follow the  R-mailing List and R-news are the most advanced "statistic university"  in the world for me !
regards,Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jun 26 21:57:35 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 26 Jun 2002 16:57:35 -0300
Subject: [R] xaxp and grid()
In-Reply-To: <3D195F75.98570426@statistik.uni-dortmund.de>
References: <Pine.LNX.4.31.0206230730240.13623-100000@gannet.stats>
 <4.2.2.20020625202311.00a88a60@pop3.arnet.com.ar>
Message-ID: <4.2.2.20020626162836.00add310@pop3.arnet.com.ar>

Thank you for the answer.
But I think something like this should be noted in the help pages. I mean 
the fact that the option 'xaxp' in the plot function does not have any 
effect because the plot function recomputes its value. And that the 
par(xaxp=...) together with the axis() function should be used after the 
plot function in order to set the desired axis tickmarks.
Unless this is a bug in the plot function...

Also, as a general note, I would like to give a constructive suggestion, 
namely that in the future the names of parameter options be more 
informative. In many cases it is hard to intuitively guess and, more 
importantly to remember, what they are used for.

Regards.
Daniel Mastropietro

At 08:30 AM 26/6/2002 +0200, Uwe Ligges wrote:
>Daniel Mastropietro wrote:
> >
> > Hello,
> >
> > I use the option xaxp in the plot function and it is not recognized.
> > This affects the result of the function grid(), since it takes the default
> > tick marks used by the plot function, which is not what I want.
> >
> > See for example the result of:
> >
> > plot(1:10,1:10,xaxp=c(1,10,9))
> > grid(9);
>
>plot sets par("xaxp") itself. You can change it before calling grid()
>(and after plot() has set it) as follows:
>
>  plot(1:10)
>  par(xaxp = c(1, 10, 9))
>  grid(9)
>
>If you want to have tickmarks analogously, you have to create the axis
>manually:
>
>  plot(1:10, xaxt = "n")
>  axis(1, 1:10)
>  par(xaxp = c(1, 10, 9))
>  grid(9)
>
>Or just create the grid with abline():
>
>  plot(1:10, xaxt = "n")
>  axis(1, 1:10)
>  abline(v = 1:10, h = seq(2, 10, 2), col = "grey")
>
>Uwe Liges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 26 22:11:38 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Jun 2002 21:11:38 +0100 (BST)
Subject: [R] formatting
In-Reply-To: <200206262120110739.00788D04@192.168.1.66>
Message-ID: <Pine.LNX.4.31.0206262109210.11602-100000@gannet.stats>

On Wed, 26 Jun 2002, Ruud H. Koning wrote:

> Hello, I must be missing something obvious. I have  a 8x4 matrix, the first
> column is
>              0              1              2              3              4
>   9.470986e-01   5.147677e-02   1.398934e-03   2.534499e-05   3.443882e-07
>    more than 4 nominal payoff     exp.payoff
>   3.777820e-09   2.000000e+06   1.972907e+06
>
> I would like to have it printed such that all all numbers bigger than 1e-4
> are not printed in scientific notation.
> I thought that format(table.result) would do this job, but it seems not to
> apply the scientific setting to each individual element.

It does if you format element-by-element, which you can.

> How do I get thes enumbers printed as
>
> 0.9471 0.05148 0.001399 2.534e-05, etc? Is it also possible to print 10-5
> instead of e-5?

Only if your C run-time allows it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Wed Jun 26 22:16:04 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Wed, 26 Jun 2002 13:16:04 -0700 (PDT)
Subject: [R] benchmark comparing Splus, R and others
Message-ID: <20020626201604.34177.qmail@web10501.mail.yahoo.com>

I happened to stumble on this web site comparing the speed of Matlab,
S-plus, R and some other matrix software. Very well done.
Interestingly, it shows that R 1.51 can be 10-20 times faster than
S-plus in looping intensive programs.

Please take a look and congratulate the R-team for their excellent
work.

http://www.sciviews.org/other/benchmark.htm

=====
Jason G. Liao, Ph.D.
Division of Biometrics
University of Medicine and Dentistry of New Jersey
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-8611, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdagius at yahoo.com  Wed Jun 26 22:27:56 2002
From: jdagius at yahoo.com (Johanus Dagius)
Date: Wed, 26 Jun 2002 13:27:56 -0700 (PDT)
Subject: [R] GUI's for teaching
In-Reply-To: <4.3.2.7.0.20020626035306.029c08c0@mail.csihq.com>
Message-ID: <20020626202756.40020.qmail@web21105.mail.yahoo.com>

Dear All,

There is no advantage of GUI over CLI, IMO. The real
issue is the answer to the questions: "What should I
do next?" or "What am I allowed to do here?"

A "nice" interface, not necessarily GUI, will offer
friendly answers: "I was expecting you to do _this_"
or "In this situation you are allowed to do _these
things_"

You see, it's all a matter of _expectations_, which
you statisticians are very good at computing. An
application interface is a language, a dialog really,
which has its own grammar and productions. A good
interface should be able to recognize (in this
dialog-language) the kinds of things you are trying to
do and respond with hints or corrections when your
inputs are incomplete or incorrect.

A command-line interface is much more flexible in this
regard because everything is a string and can be
easily scripted as sequences. [Mouse movements and
clicks are hard to model this way.] 

What is needed are more visual clues and responses
from the CLI to guide all users, expert or not, to
application paradise.

HTH,
Johanus Dagius


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmail.cis.mcmaster.ca  Wed Jun 26 22:09:28 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Wed, 26 Jun 2002 16:09:28 -0400 (EDT)
Subject: [R] Help with concatenation and arrays
In-Reply-To: <2196322b2d.22b2d21963@lbl.gov>
Message-ID: <Pine.SOL.4.33.0206261607530.6323-100000@mcmail.cis.mcmaster.ca>

Dear Vlad,

On Wed, 26 Jun 2002 VBMorozov at lbl.gov wrote:

> 1) I have 2 variables, e.g. x<-5; y<-"Char"
> How do I create a new variable which would have both these values in a
> string (e.g. "5Char", or "5 Char", etc ) ??
>

You can use paste to get both of these results:

    >  x<-5; y<-"Char"
    > paste(x, y)
    [1] "5 Char"
    > paste(x, y, sep="")
    [1] "5Char"

John



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhp at dadlnet.dk  Wed Jun 26 22:13:57 2002
From: mhp at dadlnet.dk (Morten H Pedersen)
Date: Wed, 26 Jun 2002 22:13:57 +0200
Subject: [R] GUI's for teaching
References: <20020625082615.C22185@cattell.psych.upenn.edu> <5.1.1.2.2.20020625094605.01c07638@pop4.attglobal.net>
Message-ID: <001901c21d4e$05112720$2114a8c0@moka4>

As a beginner I thought - and still think - the naming conventions were a bit to messy and confusing. The '.' period in names is disturbing, making one think of an operater (like in C/C++). Especially since it is not used consequently. Function names are very different - sometimes very short like c() and sometimes long: test.wilcox(). I know it would be very hard to change due to backward compability, but naming conventions like capital letters for each word in names, no delimiters is much easier to use like:

 TestWilcox  TestT  Concat  

and maybe an official decision on function / variable distinction by naming conventions

Sincerely,
Morten H Pedersen
mhp at dadlnet.dk

----- Original Message ----- 
From: "Marc Feldesman" <feldesmanm at pdx.edu>
To: "Michael Camann" <mac24 at humboldt.edu>; "Jonathan Baron" <baron at cattell.psych.upenn.edu>
Cc: "R Help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, June 25, 2002 6:56 PM
Subject: SPAM - Re: [R] GUI's for teaching


> I used R for a Data Analysis Course last year.  The class had both advanced 
> undergraduates and graduates.  All students had already taken a basic 
> statistics course taught by our statistics faculty in which Minitab was the 
> software.  I had to work really hard to get students to understand the R/S 
> paradigm -- and some never did grasp it -- but most eventually grasped the 
> essence of what they needed.  I had students buying MASS3 and Spector, and 
> gave them pdf copies of John Maindonald's notes, my own notes, Emmanuel 
> Paridis' "R for Beginners".  Despite a rocky start, the real story is that 
> 5 students from that class have used or are using R to complete Bachelor's 
> Honor Theses or Master's Theses.  I've used SPSS, SAS, and SYSTAT to teach 
> the class before and have never had this kind of "return rate".
> 
> Perforce, the students using R/S also learned more about statistics, 
> programming, and data management than any group of students using the Point 
> and Click software.
> 
> It takes much more effort to teach with R than with "standard" Windows 
> software, but the effort pays off for both the student and the instructor 
> in the long run.
> 
>   
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Jun 26 23:03:17 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 27 Jun 2002 09:03:17 +1200
Subject: [R] change column name in a function
In-Reply-To: <Pine.LNX.4.44.0206261741310.22891-100000@localhost.localdomain>
References: <3D19C278.4040502@science.uva.nl> <Pine.LNX.4.44.0206261741310.22891-100000@localhost.localdomain>
Message-ID: <20020626210317.GA27640@hortresearch.co.nz>

On Wed, 26-Jun-2002 at 05:47PM +0200, Ott Toomet wrote:

|> On Wed, 26 Jun 2002, Ulrich Leopold wrote:
|> 
|>   |Hi,
|>   |
|>   |I have the following function:
|>   |
|>   |TEST <- cbind(Pox0t30.stone.1990.2000, 
|>   |sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)))
|>   |
|>   |In rhe resulting Object TEST the added column is titled:
|>   |sqrt(apply(Pox0t30.stone.1990.2000[,2:11], 1, var)
|>   |
|>   |I would like to change it to a sensible variable name like PoxMean. How 
|>   |can I incorporate this into the above function?
|> 
|> What do you mean with ,,function'' in the above?  But you may easily change
|> the names of the components of test.  Use the fact, that the variable names
|> in a data.frame (and in a matrix too) are store as the second component in
|> the list dimnames(TEST).  So you could try e.g.
|> 
|> dimnames(TEST)[[2]][length(dimnames(TEST)[[2]]) <- "PoxMean"

Or even simpler (if it is a dataframe),

names(TEST)[length(names(TEST))] <- "PoxMean"

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Jun 26 23:47:30 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 26 Jun 2002 14:47:30 -0700
Subject: [R] GUI's for teaching
In-Reply-To: <001901c21d4e$05112720$2114a8c0@moka4>
References: <20020625082615.C22185@cattell.psych.upenn.edu>
 <5.1.1.2.2.20020625094605.01c07638@pop4.attglobal.net>
Message-ID: <5.1.1.2.2.20020626144025.00afe680@pop4.attglobal.net>

Beginners I've taught seem to have more difficulty figuring out which 
function(s) to use to accomplish a particular task than actually figuring 
out how to use R (or S-Plus) from the command line.  They also have 
difficulty remembering the arguments to specific functions once they figure 
out which ones to use.  The first problem might be resolved by a more fully 
cross-referenced help system (the help system is great for experienced 
users, but hard if you don't actually know the name of the function you're 
looking for).  The second problem might be aided by adding code-completion 
to the UI - something ESS already does for many packages and libraries.

I think if these two areas could be addressed, beginners might be less 
daunted by R/S learning curve.

My $0.01 (US).



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jun 26 21:58:41 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 26 Jun 2002 16:58:41 -0300
Subject: [R] lm.influence in multivariate linear model
In-Reply-To: <3D109F01.6C77D258@pdf.com>
References: <5.1.0.14.0.20020619084516.00ac9bd0@fusamail.fsagx.ac.be>
Message-ID: <4.2.2.20020626155746.00a873e0@pop3.arnet.com.ar>

Hello,
I have fitted a multivariate linear model using lm() but then I cannot 
apply any function available for diagnostics, such as lm.influence(), 
rstudent() etc. I get the following error message when calling any of the 
above functions.

"Error in lm.influence(model1) : non-NA residual length does not match 
cases used in fitting"

I have tried with two different data sets. One of them follows:

y =
     [,1] [,2]
[1,]    2    4
[2,]    1   -2
[3,]    3   -2
[4,]    0   -1

x =
     [,1]
[1,]    1
[2,]    2
[3,]    3
[4,]    4

The command for the fit is simply:
lm(y ~ x)

which runs properly.

Are the diagnostic measures only available for univariate linear models?

Thanks
Daniel Mastropietro


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Thu Jun 27 00:05:59 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 27 Jun 2002 10:05:59 +1200
Subject: [R] Output from make check
In-Reply-To: <Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats>
References: <20020626022901.GB25287@hortresearch.co.nz> <Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats>
Message-ID: <20020626220559.GB27640@hortresearch.co.nz>

On Wed, 26-Jun-2002 at 07:50AM +0100, ripley at stats.ox.ac.uk wrote:

|> On Wed, 26 Jun 2002, Patrick Connolly wrote:
|> 
|> > These are probably very basic questions, but I don't know how one
|> > reads output such as this:
|> >
|> > [hrapgc at biomat1 R-1.5.1]$ make check
|> > make[1]: Entering directory `/home/hrapgc/local/R-1.5.1/tests'

[ ... ]

|> > Just what do Error 1 and Error 2 refer to?
|> 
|> Return codes from programs called by your make.  In this case the first is
|> forced by the line
|> 
|> 	@$(R) < $< > $@ || (mv $@ $@.fail && exit 1)
|> 
|> so the command has return code 1.
|> 

[ .... ]

|> You need to look at the file base-Ex.Rout.fail to see the actual problem,

Thanks for that information.

It falls over here (which corresponds to about half-way through the
base-Ex.R file):

> if(require(survival)){
+   oT <- T; oF <- F; T <- TRUE; F <- FALSE # survival fails otherwise
+   faketime <- rep(42,nrow(infert))
+   model3 <- coxph(Surv(faketime,case)~spontaneous+induced+strata(stratum),
+                 data=infert,method="exact")
+   summary(model3)
+   detach()# survival (conflicts)
+   T <- oT; F <- oF
+ }
Loading required package: survival 
Error in .Defunct() : `.Alias' is defunct.
See ?Defunct.
Execution halted

If I remove that section, all the other tests succeed.

I'm puzzled as to how that could have happened.  Is it finding an
older version of the survival package instead?  Can't imagine how it
could be doing that.  Could it have anything to do with the fact that
R is built as a shared library?

I gather this is what happens with Error 2.  Just how is it different
from Error 1?

Thanks

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 27 00:22:53 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2002 00:22:53 +0200
Subject: [R] Output from make check
In-Reply-To: <20020626220559.GB27640@hortresearch.co.nz>
References: <20020626022901.GB25287@hortresearch.co.nz>
	<Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats>
	<20020626220559.GB27640@hortresearch.co.nz>
Message-ID: <x2bs9xn0hu.fsf@biostat.ku.dk>

Patrick Connolly <p.connolly at hortresearch.co.nz> writes:


> Loading required package: survival 
> Error in .Defunct() : `.Alias' is defunct.
> See ?Defunct.
> Execution halted
> 
> If I remove that section, all the other tests succeed.
> 
> I'm puzzled as to how that could have happened.  Is it finding an
> older version of the survival package instead?  Can't imagine how it
> could be doing that. 

Installing a new R over an older one will do just that. Did you
install the recommended packages?

> Could it have anything to do with the fact that
> R is built as a shared library?

Probably not.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Thu Jun 27 01:25:10 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Thu, 27 Jun 2002 09:25:10 +1000
Subject: [R] GUI's for teaching
In-Reply-To: <5.1.0.14.2.20020626145635.04122490@pop-server.ec.rr.com>
References: <20020625082615.C22185@cattell.psych.upenn.edu>
 <Pine.SOL.4.21.0206251152280.6242-100000@wallis>
 <3D18385C.FA28058A@agric.uwa.edu.au>
 <Pine.SOL.4.21.0206251152280.6242-100000@wallis>
Message-ID: <5.0.0.25.1.20020627090224.039ec910@pop.jcu.edu.au>

At 15:03 26/06/02 -0400, Mike Prager wrote:
>At 6/25/2002 at 08:26 AM, Jonathan Baron wrote:
>>The reference card is in the contributed documents section of CRAN and 
>>below.  Students do use it.  But a GUI would make them happier (but not 
>>enough for me to spend time trying to make one).
>
>...
>
>A reference card would be great, and I'd love to see an *electronic* 
>reference card that could be popped up easily without wading through many 
>branches of a help system.  A big plus in such an electronic reference 
>card would be room for the user's own notes.

Borland's turbo pascal used to have something in this line (w'out user 
notes!) - but I expect producing such a tool would drain far too much 
programmer time away from core interests


>Unless a GUI somehow records the steps of analysis that has been 
>performed, it negates the value of a program as a teaching and learning 
>tool.  How can one critique an analysis without knowing how it was 
>performed?  This is the same problem one has in trying to debug an 
>analysis done in a spreadsheet. With no source code for the mathematical 
>manipulations, how can they be reviewed, unless one goes cell by cell by 
>cell.....

polemic: ten years ago we used to take a class of biologists and teach them 
sufficient fortran in a weekend to have them moderately competent 
programmers.  Now we 'teach' the equivalent classes using GUI packages and 
for the most part the students hunt, peck, click and hope through the 
options menus ... this modus operandi seems to underlie much of the GUI 
philosophy as applied to wordprocessors etc, etc and it gets carried over 
to wherever else they encounter the interface including data analysis.
meiosis isn't mitosis, psychical isn't physical ...
You can tell I'm marking exam scripts ... ,



Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Thu Jun 27 02:22:33 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 27 Jun 2002 12:22:33 +1200
Subject: [R] Output from make check
In-Reply-To: <x2bs9xn0hu.fsf@biostat.ku.dk>
References: <20020626022901.GB25287@hortresearch.co.nz> <Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats> <20020626220559.GB27640@hortresearch.co.nz> <x2bs9xn0hu.fsf@biostat.ku.dk>
Message-ID: <20020627002233.GD27640@hortresearch.co.nz>

On Thu, 27-Jun-2002 at 12:22AM +0200, Peter Dalgaard BSA wrote:

|> Patrick Connolly <p.connolly at hortresearch.co.nz> writes:
|> 
|> 
|> > Loading required package: survival 
|> > Error in .Defunct() : `.Alias' is defunct.
|> > See ?Defunct.
|> > Execution halted
|> > 
|> > If I remove that section, all the other tests succeed.
|> > 
|> > I'm puzzled as to how that could have happened.  Is it finding an
|> > older version of the survival package instead?  Can't imagine how it
|> > could be doing that. 
|> 
|> Installing a new R over an older one will do just that. Did you
|> install the recommended packages?

I've installed it to a different directory, not over the previous
version, and changed the link to point to the new directory.  All the
recommend packages are installed.  

I've since deleted the previous version but the problem persisted
until I removed the old library itself which was in a directory which
is not the default location. I've not made any reference to it since I
installed 1.5.1, so it was surprising that it was being used.

Does that mean there is a mechanism that looks for a likely library by
the name even though its directory has not been mentioned?  I could
understand that happening if it was in the default location, but
evidently it searches for the first occurrence of something that looks
like a library even before it looks in the default location where a
newer one exists.

Is that a feature?

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu Jun 27 02:23:09 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Wed, 26 Jun 2002 20:23:09 -0400 (EDT)
Subject: [R] R won't start right
Message-ID: <Pine.LNX.4.21.0206262022130.7738-100000@perrin.socsci.unc.edu>

Any ideas on this?

nujoma:~> R

R : Copyright 2002, The R Development Core Team
Version 1.5.0  (2002-04-29)

...

Error: couldn't find function ".Alias"
Error: couldn't find function "attach"
[Previously saved workspace restored]

> q()
Error: couldn't find function "q"
> 
Suspended
nujoma:~> kill %1


This is on a brand-new installation of R on a Debian 3.0 (woody) linux
machine.

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 27 03:16:46 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2002 03:16:46 +0200
Subject: [R] Output from make check
In-Reply-To: <20020627002233.GD27640@hortresearch.co.nz>
References: <20020626022901.GB25287@hortresearch.co.nz>
	<Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats>
	<20020626220559.GB27640@hortresearch.co.nz>
	<x2bs9xn0hu.fsf@biostat.ku.dk>
	<20020627002233.GD27640@hortresearch.co.nz>
Message-ID: <x24rfpjzb5.fsf@biostat.ku.dk>

Patrick Connolly <p.connolly at hortresearch.co.nz> writes:

> I've since deleted the previous version but the problem persisted
> until I removed the old library itself which was in a directory which
> is not the default location. I've not made any reference to it since I
> installed 1.5.1, so it was surprising that it was being used.
> 
> Does that mean there is a mechanism that looks for a likely library by
> the name even though its directory has not been mentioned?  I could
> understand that happening if it was in the default location, but
> evidently it searches for the first occurrence of something that looks
> like a library even before it looks in the default location where a
> newer one exists.
> 
> Is that a feature?

No. But watch out for environment variable R_LIBS (check the last bit of
?library).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Thu Jun 27 03:50:53 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 27 Jun 2002 13:50:53 +1200
Subject: [R] Output from make check
In-Reply-To: <20020626210257.M1810@jimmy.harvard.edu>
References: <20020626022901.GB25287@hortresearch.co.nz> <Pine.LNX.4.31.0206260744110.7003-100000@gannet.stats> <20020626220559.GB27640@hortresearch.co.nz> <x2bs9xn0hu.fsf@biostat.ku.dk> <20020627002233.GD27640@hortresearch.co.nz> <20020626210257.M1810@jim
Message-ID: <20020627015053.GA29182@hortresearch.co.nz>

On Wed, 26-Jun-2002 at 09:02PM -0400, Robert Gentleman wrote:

|> On Thu, Jun 27, 2002 at 12:22:33PM +1200, Patrick Connolly wrote:

|> > Does that mean there is a mechanism that looks for a likely library by
|> > the name even though its directory has not been mentioned?  I could
|> > understand that happening if it was in the default location, but
|> > evidently it searches for the first occurrence of something that looks
|> > like a library even before it looks in the default location where a
|> > newer one exists.
|> > 
|> > Is that a feature?
|> 
|>  Nope, you probably have an environment variable set...

Well spotted.  Now it all makes sense.  I had that set so that RSPerl
could be found from a cgi-bin type script and had forgotten about it.

Thanks


-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsadler at agric.uwa.edu.au  Thu Jun 27 08:08:21 2002
From: rsadler at agric.uwa.edu.au (Rohan Sadler)
Date: Thu, 27 Jun 2002 14:08:21 +0800
Subject: [R] re: GUI's for teaching
References: <F49fKRfcjcMzfoV1qdi000002f0@hotmail.com>
Message-ID: <3D1AABD5.9D32EA2@agric.uwa.edu.au>

Dear All,

Thankyou for your responses. Graham Lawrence, John Fox and Peter Dalgaard have thus
far said most cogently what I really had in mind. I'll demonstrate this by
clarifying the points that have arisen in the discussion so far.

*FNAS Teaching Perspective*
Although there is a range of student abilities students generally are not
mathematically inclined, or do coursework that has a high exposure to maths. They
are definitely not dedicated students of statistics. All they need to learn as a
group are the simple six analyses (simple EDA, basic prob.and distbns., t-tests,
one-way anova, linear regression, chi-sq test). Later, hopefully, the majority will
go on and do higher level statistics such as multivariate analyses and glms, but
again at a very applied level. Essentially they need to be aware of the limitations
of the analyses, and know where to go if they need further analyses, along with
basic statistical logic. This is to make them adaptable to the future. If they wish
they can take their knowledge further.
Two important consequences are that: 1) they will as soon forget R language as soon
as it is taught, and the learning curve is thus not worth the effort when they can
be developing other skills in statistical thinking that are going to be of more
value to them in the long term; and, 2) their work environments will be applied
science, which typically are GUI based. They need to be able to translate what they
learn at the university to the most likely work environments with ease, otherwise
the university learning is in a sense practically useless.
A GUI is more justifiable in this context, and is the rationale which is stopping
R's adoption as I see it in FNAS (beyond common conservatism towards statistics in
an establishment type natural sciences faculty - but that is besides the point!).

*R Community Teaching Perspective*
All arguements put forward by the R community are valid and I agree with completely
with the basic thrust. This thrust is one of "Gooiness" not being useful at high
levels, and encouraging a certain empty-headedness amongst students. Hence the
conclusion to be drawn from these real observations are that the sooner that
students can get onto R code then the better for their thinking and critical
processes, and the better for their analyses given the practical usefulness of
coding up and saving scripts.
Here Graham's and John's comments are pertinent. Teaching science in an applied
science should consider the whole of the student's statitsical career. The entry
point is first year where coding should not play a fundamental role to student's
understanding. At this stage the statistics package, as a demonstrator of
statistical principles, should do that with minimal fuss and pain. This is where
the GUI will be useful. Moreover, if the GUI writes source statements on a
terminal, and executes them, as what occurs in Minitab, then it is very easy for
students to make the link between buttons on a gui and parameters in command line
function. A script is thus easily constructed. When it comes to the next level
course, then this can be command line - as they already have an introduction to the
basic R commands, and more importantly to the logic of object orientated code.
Given that there are often data manipulations in multivariate code that are not
easily done in your Minitab (its junky compared to R), and getting students to
think in vector notation, then code is the best solution. To my mind this will
provide an exceptionally good platform to those students who wish to take
statistics further when they choose to become postgraduates. Our present situation
is that advanced students are taking on hard problems because that is the nature of
applied science problems, because they are thinking in a GUI framework. They do not
have the programming  or statistical resources and skills (where to find
appropriate software, documentation, and make sense of it) to make these problems
tractable. However, it seems clear to me that if a GUI was developed along the
above lines then the two needs, the low level  and the high level needs of the
range of different students under the faculty's tutelage, can be married. Does
anybody object to such a marriage?

*Documentation*
My opinion follows Graham, keep as much of the R-documentation as possible since
the connection between GUI buttons and function parameters is self-evident, and a
good lead into further exploration of R functionality and stats. Reference cards
can help (have a GUI reference card for the basic functions). R's manuals and
tutorials need no further compliments.

*Development*
The following ideas were voiced, many of which already have applications:
1) Icons on desktops that lead to GUI's that perform the analysis. Should be
sufficient, and easy to represent as a "toolbox" (essentially a menu bar).
2) Web Servers. I still have a problem with look and feel, though these can be
reasonably easy to solve. Again, if there was an equivalent of it in the current
workplace, rather than specifically  for teaching purposes, then I'd support it.
3) Turning to Linux. Sorry, where I come from this is not do-able in the near
future, for much the same reasons as why a GUI would be more suitable. Also we are
a large faculty whose administration is already uptight about how much it has
invested in computer resources and changes overnight are not in the business plan
(sigh! I use linux and this fact brings tears to my eyes).
4) Tcl/Tk interface. Some comments were on the suitability of it's cross platform
compatibility. As to look and feel I use sometimes the Tcl/Tk interface for the GIS
GRASS, and this is more than good enough, because again it is a concept that is
easily exported to the stats packages that these students are generally likely to
meet in the workplace.
5) The Khoros idea of Tim Keitt's sounds good.

*Final Point*
The other issue is that the drain on resources to have an ideal GUI in place will
be large. This use of time taken away from other projects is perhaps the biggest
issue - if it was easy to do then it would already have been done. So I offer a cup
of "Ophelia's Wine". How much would it cost to develop a menu for R windows that
has the simple six contained within it? Basic requisites would be that such a menu
be extensible to Linux and Mac at a later date, though not necessarily now. If
somebody can give me a price, even if it means hiring someone extra as part of an
existing programme, then I can start finding funding. The rational is that if the
costs of development are cheaper than the cost of maintaining existing licences
then it is do-able and promotable. Suprisingly, no one took up this issue in any
form, apart from  Kenneth Cabrera, and which was raised in my initial email.

I look forward to responses.

Rohan


graham lawrence wrote:

> Definitely 2 camps on this issue; so why not compromise with a drop-down
> menu for the most frequently used processes, the user responds with the
> necessary parameters for his choice, and R then writes the source statements
> on the terminal and executes them.  The user follows the familiar gui
> procedure, is thereby automatically introduced to the command statements
> involved, and R's self-documentation feature is retained.
>

John Fox wrote:

> Dear R list members,
>
> I've read with interest the discussion about developing a GUI for R, with
> particular reference to the use of R in elementary statistics classes.
>
> Brian Ripley's point -- that students can use a GUI-based package with
> little instruction and support -- is the key point for me. This isn't just
> a question of laziness: Spending time teaching students command-driven
> software that they may not use again after the class, or may use too
> infrequently to become fluent, takes time away from teaching other things.
> The counter-argument that GUIs are too easy to abuse seems perverse to me:
> If students are taught to analyze data properly then they won't abuse the
> software. They can produce nonsense with command-driven software as well.
> Surely there's no real virtue to making things hard for people.
>
> Another point is that the presence of a GUI provides an option, but
> doesn't force anyone to use it. I never use the GUI in S-PLUS, for
> example, and would likely not use a GUI in R for my own work, nor for
> classes beyond the elementary level.
>
> Finally, I wonder whether it would be helpful to refocus the discussion on
> providing tools for creating GUIs rather than a GUI itself. I have in mind
> a (perhaps updated) version of the kinds of tools provided by Lisp-Stat
> for constructing menus and dialog boxes. Lisp-Stat makes these available
> for Linux/Unix systems, Macintoshes, and Windows systems. With such tools
> in place, teachers interested in creating GUIs for their classes could do
> so, contributing the results to CRAN. I hesitate to make this suggestion,
> since I don't have the expertise to program -- as opposed to use --
> GUI-creation tools.
>
> John

Peter Dalgaard

My take on that is that for people who'll need to work with data
analysis an a daily basis, there's no way around learning the command
line. You simply don't get the "information at your fingertips"
feeling any other way.

However, there's a fairly large group of people who need to do
statistics only at quite long intervals -- they spend years collecting
data, and when they get to analyzing them they don't want to (re)learn
a whole language. In some cases there is also an amount of
anti-intellectualism involved ("Just show us what to do!"), which the
statistician should arguably fight against but that can be hard. For
those people, we really need a simplified interface, or they'll come
back to haunt us with questions about how to solve the hard issues
(that they inevitably run into) in SPSS....

rohan sadler wrote:

> >Dear All,
> >
> >This is a question to sound out possibilities.
> >
> >I am with the Faculty of Natural and Agricultural Sciences at the
> >University of Western Australia, representing a few of the more
> >statistically minded in the faculty. Essentially, there have been
> >problems in the past with software support, changing over statistical
> >software, and paying lots of money for it. In R you have an advanced
> >statistical software package, it is free and it is adaptable. Also the
> >maths department at UWA is using it on an informal basis and so support
> >over the long term is available. The only reason why the faculty is not
> >using R as a whole is because there is no GUI equivalent to
> >Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
> >purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
> >but it is not designed to carry statistical functions with buttons for
> >options and this is what is needed for low statistical level undergrads.
> >There is RWeb, but at this stage of development you wont find many
> >takers in the faculty.
> >
> >What I want to know is this: can anyone give me a quote on what it will
> >cost to develop a RWindows clone of the Minitab GUI. This GUI would
> >support initially the simple six (EDA, probabilities and quantiles of
> >distributions, t-tests,one-way anova, chi-square, and simple linear
> >regression), and have the potential to develop into the next level of
> >statistical analysis (glms, multivariate methods, time series and
> >spatial - analytical problems common across our faculty). If the cost of
> >development is comparable to present licence maintenance fees at FNAS
> >then I think our small group can argue for its adoption. Not only that,
> >the benefits to undergraduate teaching in other universities would be
> >immense. If development costs are high then other faculties at other
> >universities, where the software licencing arrangements are also
> >troublesome, are also invited to participate in this potential project.
> >
> >I imagine this question has been discussed before, but I hope to have
> >but an interesting turn to it.
> >
> >Regards
> >
> >Rohan Sadler
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020627/ab30a810/attachment.html

From ligges at statistik.uni-dortmund.de  Thu Jun 27 08:49:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Jun 2002 08:49:00 +0200
Subject: [R] R won't start right
References: <Pine.LNX.4.21.0206262022130.7738-100000@perrin.socsci.unc.edu>
Message-ID: <3D1AB55C.4C02FEA7@statistik.uni-dortmund.de>

Andrew Perrin wrote:
> 
> Any ideas on this?
> 
> nujoma:~> R
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.5.0  (2002-04-29)
> 
> ...
> 
> Error: couldn't find function ".Alias"
> Error: couldn't find function "attach"
> [Previously saved workspace restored]
> 
> > q()
> Error: couldn't find function "q"
> >
> Suspended
> nujoma:~> kill %1
> 
> This is on a brand-new installation of R on a Debian 3.0 (woody) linux
> machine.

Looks like the functions in base are not sourced. Did it compile and
install without any error message?
I'd suggest to check whether .../library/base/R/base exists and has the
correct permissions (I guess the latter went wrong).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jun 27 08:56:08 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 27 Jun 2002 08:56:08 +0200
Subject: [R] missing values
Message-ID: <3D1AB708.6070305@science.uva.nl>

Dear list,

how can I exclude the missing values in the following example:

tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)

I tried:

tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum, Fun=is.na(lsk0t50$Pox2))

But it returns a lot of missing values in the result. Instead the missing 
values in the variable should not be taken into account. So that I get only 
a NA as result if there are only NAs for the corresponding factor.

Any idea how this can be achieved?

Thanks,
Ulrich
-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 27 08:57:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Jun 2002 07:57:51 +0100 (BST)
Subject: [R] Output from make check
In-Reply-To: <20020627002233.GD27640@hortresearch.co.nz>
Message-ID: <Pine.LNX.4.31.0206270754050.12258-100000@gannet.stats>

On Thu, 27 Jun 2002, Patrick Connolly wrote:

> On Thu, 27-Jun-2002 at 12:22AM +0200, Peter Dalgaard BSA wrote:
>
> |> Patrick Connolly <p.connolly at hortresearch.co.nz> writes:
> |>
> |>
> |> > Loading required package: survival
> |> > Error in .Defunct() : `.Alias' is defunct.
> |> > See ?Defunct.
> |> > Execution halted
> |> >
> |> > If I remove that section, all the other tests succeed.
> |> >
> |> > I'm puzzled as to how that could have happened.  Is it finding an
> |> > older version of the survival package instead?  Can't imagine how it
> |> > could be doing that.
> |>
> |> Installing a new R over an older one will do just that. Did you
> |> install the recommended packages?
>
> I've installed it to a different directory, not over the previous
> version, and changed the link to point to the new directory.  All the
> recommend packages are installed.
>
> I've since deleted the previous version but the problem persisted
> until I removed the old library itself which was in a directory which
> is not the default location. I've not made any reference to it since I
> installed 1.5.1, so it was surprising that it was being used.
>
> Does that mean there is a mechanism that looks for a likely library by
> the name even though its directory has not been mentioned?  I could
> understand that happening if it was in the default location, but
> evidently it searches for the first occurrence of something that looks
> like a library even before it looks in the default location where a
> newer one exists.
>
> Is that a feature?

Yes. It looks for the first package of the name in the libraries
in .libPaths (note I am using package and library correctly, and suspect
you are not), not the most recent one.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Jun 27 09:11:09 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 27 Jun 2002 09:11:09 +0200 (MEST)
Subject: [R] contrast matrix in package multcomp
In-Reply-To: <3D19E334.4DF91B70@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.21.0206270859300.3715-100000@artemis>


> Hi,
> 
> I've got a problem building a contrast matrix for the Dunnet contrast in
> package multcopm. The following works fine:
> 
> > summary(simtest(adiff ~ trial))
> 
>   Simultaneous tests: Dunnett contrasts
> 
> Data:  adiff by trial
> 
> Contrast matrix:
>               trial1 trial2 trial3 trial4 trial5
> trial2-trial1     -1      1      0      0      0
> trial3-trial1     -1      0      1      0      0
> trial4-trial1     -1      0      0      1      0
> trial5-trial1     -1      0      0      0      1
> 
> 
> Absolute Error Tolerance:  0.001
> 
> Coefficients:
>               Estimate t value Std.Err. p raw p Bonf p adj
> trial3-trial1    0.745  -2.911    0.256 0.006  0.025 0.021
> trial2-trial1   -0.688  -2.686    0.256 0.011  0.033 0.029
> trial4-trial1    0.091  -0.357    0.256 0.724  1.447 0.912
> trial5-trial1    0.032  -0.127    0.256 0.900  1.447 0.912
> 
> But now I want to test trial3 against all other trials and build the
> following contrast matrix C:
> 
> > C
>      [,1] [,2] [,3] [,4] [,5]
> [1,]    1    0   -1    0    0
> [2,]    0    1   -1    0    0
> [3,]    0    0   -1    1    0
> [4,]    0    0   -1    0    1
> 
> but I got the error:
> 
> > summary(simtest(adiff ~ trial, cmatrix=C))
> Error in simtest.formula(adiff ~ trial, cmatrix = C) :
>  dimensions of x and cmatrix do not match
> 
> Does anybody know what went wrong?
> 

yes. We check if the dimensions of the design matrix and the contrast
matrix match before we use it. 

You specified a model WITH intercept and your contrast matrix is WITHOUT
intercept. try `cmatrix = cbind(0, C)', this is what `contrMat' does per
default. We do not print the column for the
intercept in summary(simint(...)) to avoid confusion but this might not
work. Seems to be suboptimal, we'll think about it. 

Torsten

btw: could be please at least cc to the maintainer?


> Thanks, Sven
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Jun 25 02:36:58 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 24 Jun 2002 19:36:58 -0500
Subject: [R] commandArgs: feature request
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D9EC@JUPITER>

Dear R-core Team,

As Thomas Lumley pointed out in one of his e-mails one can use commandArgs()
to get a copy of the command line arguments supplied when R session was
invoked and then use grep to extract parameters of interest.
His solution works very well if the custom options are passed by names, e.g.
--my-option=value, but what if one wants to pass parameters by their
positions. Then it's not easy to tell standard options from user-supplied
ones.
One possible solution would be to augment the return value of commandArgs()
with BOOL vector attribute that says whether it is a standard (reserved) R
option or not. Here is a usage example that I have in mind:

R BATCH --no-save 2001-01-01 3001-01-01 Foo/*.in batch.R

batch.R:

myArgs <- commandArgs()
myArgs <- myArgs[!attr(myArgs, "is.standard")]

start <- myArgs[1]
end <- myArgs[2]
files <- myArgs[-seq(2)]

# code
...

I am sure there are other (better) solutions, but having anything like this
would make it easier to integrate R  with shell scripts that invoke R as a
sub-task.

Thanks, Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jun 27 10:12:01 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 27 Jun 2002 10:12:01 +0200
Subject: [R] missing values
References: <3D1AB708.6070305@science.uva.nl> <007401c21db1$0a1a7c40$8b224381@sbs.ox.ac.uk>
Message-ID: <3D1AC8D1.5090409@science.uva.nl>



David Barron wrote:
> Try tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum,na.rm=TRUE)

I tried but some strange things happen. The columns after Pox2 change into 
Pox2 and for some Nas I get now 0 as a result.

How can I apply the above command to avoid mixing columns. The imported file 
was a tab seperated file.

Ulrich


> Dave
> 
> ----- Original Message -----
> From: "Ulrich Leopold" <uleopold at science.uva.nl>
> To: <r-help at stat.math.ethz.ch>
> Sent: Thursday, June 27, 2002 7:56 AM
> Subject: [R] missing values
> 
> 
> 
>>Dear list,
>>
>>how can I exclude the missing values in the following example:
>>
>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)
>>
>>I tried:
>>
>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum, Fun=is.na(lsk0t50$Pox2))
>>
>>But it returns a lot of missing values in the result. Instead the missing
>>values in the variable should not be taken into account. So that I get
> 
> only
> 
>>a NA as result if there are only NAs for the corresponding factor.
>>
>>Any idea how this can be achieved?
>>
>>Thanks,
>>Ulrich
>>--
>>__________________________________________________
>>
>>Ulrich Leopold MSc.
>>
>>Department of Physical Geography
>>Institute for Biodiversity and Ecosystem Dynamics
>>Faculty of Science
>>University of Amsterdam
>>Nieuwe Achtergracht 166
>>NL-1018WV Amsterdam
>>
>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>Fax:   +31-(0)20-525-7431
>>Email: uleopold at science.uva.nl
>>http://www.frw.uva.nl/soil/Welcome.html
>>
>>Check us also out at:
>>Netherlands Centre for Geo-ecological Research
>>http://www.frw.uva.nl/icg
>>
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> 
> -.-.-
> 
>>r-help mailing list -- Read
> 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> 
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>
> 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
>>
> 


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Jun 27 09:39:13 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 27 Jun 2002 09:39:13 +0200
Subject: [R] R won't start right
In-Reply-To: <Pine.LNX.4.21.0206262022130.7738-100000@perrin.socsci.unc.edu>
Message-ID: <KKEGJOGBELBHDIKPINBMKEJBCNAA.hb@maths.lth.se>

Troubleshooting:

  1) Try starting it by "R --vanilla"
  2) Check your ~/.Rprofile
     
Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
 

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Andrew Perrin
> Sent: Thursday, June 27, 2002 2:23 AM
> To: r-help at r-project.org
> Subject: [R] R won't start right
> 
> 
> Any ideas on this?
> 
> nujoma:~> R
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.5.0  (2002-04-29)
> 
> ...
> 
> Error: couldn't find function ".Alias"
> Error: couldn't find function "attach"
> [Previously saved workspace restored]
> 
> > q()
> Error: couldn't find function "q"
> > 
> Suspended
> nujoma:~> kill %1
> 
> 
> This is on a brand-new installation of R on a Debian 3.0 (woody) linux
> machine.
> 
> Thanks.
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - http://www.unc.edu/~aperrin
> Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ccleland at optonline.net  Thu Jun 27 10:33:35 2002
From: ccleland at optonline.net (Chuck Cleland)
Date: Thu, 27 Jun 2002 04:33:35 -0400
Subject: [R] missing values
References: <3D1AB708.6070305@science.uva.nl>
Message-ID: <3D1ACDDF.979E328@optonline.net>

Ulrich Leopold wrote:
> how can I exclude the missing values in the following example:
> 
> tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)


tapply(lsk0t50$Pox2, lsk0t50$ProfN, function(x){sum(na.omit(x))})

Hope it helps,

Chuck
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Jun 27 10:39:56 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 27 Jun 2002 10:39:56 +0200 (CEST)
Subject: [R] missing values
In-Reply-To: <3D1AB708.6070305@science.uva.nl>
Message-ID: <Pine.LNX.4.44.0206271039140.23478-100000@localhost.localdomain>

On Thu, 27 Jun 2002, Ulrich Leopold wrote:

  |Dear list,
  |
  |how can I exclude the missing values in the following example:
  |
  |tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)

You should try

tapply(......, na.rm=TRUE)

look ?sum and ?tapply


Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Thu Jun 27 10:23:58 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Thu, 27 Jun 2002 18:23:58 +1000
Subject: [R] missing values
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1BE2@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Ulrich Leopold [mailto:uleopold at science.uva.nl] 
> Sent:	Thursday, June 27, 2002 4:56 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] missing values
> 
> Dear list,
> 
> how can I exclude the missing values in the following example:
> 
> tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)
> 
> I tried:
> 
> tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum, Fun=is.na(lsk0t50$Pox2))
	[WNV]  If you use

	tapply(thevariable, thefactor, sum, na.rm = TRUE)

	you will *almost* get what you want.

> But it returns a lot of missing values in the result. Instead the missing 
> values in the variable should not be taken into account. So that I get
> only 
> a NA as result if there are only NAs for the corresponding factor.
	[WNV]  If all values in the variable are missing and you remove them
you get an empty sum, which is 0, not NA.  So if you want this non-standard
definition of the result of an empty sum you have to say so explicitly.  One
way to do it is as follows:

	mySpecialSum <- function(x) if(all(is.na(x)) || length(x) == 0) NA
else sum(x, na.rm = TRUE)
	lapply(thevariable, thefactor, mySpecialSum)

	If you have missings in the factor (as you seem to say above) you
are in a spot of bother.

	Bill Venables. 

	  ny idea how this can be achieved?

> Thanks,
> Ulrich
> -- 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jun 27 11:03:07 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 27 Jun 2002 11:03:07 +0200
Subject: [R] missing values
References: <3D1AB708.6070305@science.uva.nl> <3D1ACB5F.2DD926D0@sentoo.sn> <3D1ACF79.7090900@science.uva.nl> <3D1AD279.15F45219@sentoo.sn>
Message-ID: <3D1AD4CB.6040501@science.uva.nl>



Renaud Lancelot wrote:
> maybe you have missing values in lsk0t50$Pox2 ? Try:
> 
> cond <- !is.na(lsk0t50$Pox2)
> tapply(lsk0t50$Pox2[cond], lsk0t50$ProfN[cond], function(x)
> sum(x[!is.na(x)]) )

Yes this works fine. Only the NAs are now also excluded from the results.
How can I also return the missing values in the results as NAs?

Regards, Ulrich

> Best,
> 
> Renaud
> 
> 
> tapply(lsk0t50$Pox2, lsk0t50$ProfN, function(x) sum(x[!is.na(x)]) )
> 
> Ulrich Leopold wrote:
> 
>>Renaud Lancelot wrote:
>>
>>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, function(x) sum(x[!is.na(x)]) )
>>
>>Also for your suggestion I get the same strange result. It seems that the
>>following columns interfere with the variable(Pox2) column because the
>>missing values are omitted, excluded etc.
>>
>>So maybe I am using the wrong command by using tapply?
>>
>>I have a data object with several columns and would like to sum one column
>>by a factor given in antother column but omitting, excluding the NAs.
>>
>>Regards, Ulrich
>>
>>
>>>Best,
>>>
>>>Renaud
>>>
>>>Ulrich Leopold wrote:
>>>
>>>
>>>>Dear list,
>>>>
>>>>how can I exclude the missing values in the following example:
>>>>
>>>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)
>>>>
>>>>I tried:
>>>>
>>>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum, Fun=is.na(lsk0t50$Pox2))
>>>>
>>>>But it returns a lot of missing values in the result. Instead the missing
>>>>values in the variable should not be taken into account. So that I get only
>>>>a NA as result if there are only NAs for the corresponding factor.
>>>>
>>>>Any idea how this can be achieved?
>>>>
>>>>Thanks,
>>>>Ulrich
>>>>--
>>>>__________________________________________________
>>>>
>>>>Ulrich Leopold MSc.
>>>>
>>>>Department of Physical Geography
>>>>Institute for Biodiversity and Ecosystem Dynamics
>>>>Faculty of Science
>>>>University of Amsterdam
>>>>Nieuwe Achtergracht 166
>>>>NL-1018WV Amsterdam
>>>>
>>>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>>>Fax:   +31-(0)20-525-7431
>>>>Email: uleopold at science.uva.nl
>>>>http://www.frw.uva.nl/soil/Welcome.html
>>>>
>>>>Check us also out at:
>>>>Netherlands Centre for Geo-ecological Research
>>>>http://www.frw.uva.nl/icg
>>>>
>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>>Send "info", "help", or "[un]subscribe"
>>>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>>
>>>
>>--
>>__________________________________________________
>>
>>Ulrich Leopold MSc.
>>
>>Department of Physical Geography
>>Institute for Biodiversity and Ecosystem Dynamics
>>Faculty of Science
>>University of Amsterdam
>>Nieuwe Achtergracht 166
>>NL-1018WV Amsterdam
>>
>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>Fax:   +31-(0)20-525-7431
>>Email: uleopold at science.uva.nl
>>http://www.frw.uva.nl/soil/Welcome.html
>>
>>Check us also out at:
>>Netherlands Centre for Geo-ecological Research
>>http://www.frw.uva.nl/icg
> 
> 


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jun 27 10:40:25 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 27 Jun 2002 10:40:25 +0200
Subject: [R] missing values
References: <3D1AB708.6070305@science.uva.nl> <3D1ACB5F.2DD926D0@sentoo.sn>
Message-ID: <3D1ACF79.7090900@science.uva.nl>



Renaud Lancelot wrote:
> tapply(lsk0t50$Pox2, lsk0t50$ProfN, function(x) sum(x[!is.na(x)]) )

Also for your suggestion I get the same strange result. It seems that the 
following columns interfere with the variable(Pox2) column because the 
missing values are omitted, excluded etc.

So maybe I am using the wrong command by using tapply?

I have a data object with several columns and would like to sum one column 
by a factor given in antother column but omitting, excluding the NAs.

Regards, Ulrich


> Best,
> 
> Renaud
> 
> Ulrich Leopold wrote:
> 
>>Dear list,
>>
>>how can I exclude the missing values in the following example:
>>
>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum)
>>
>>I tried:
>>
>>tapply(lsk0t50$Pox2, lsk0t50$ProfN, sum, Fun=is.na(lsk0t50$Pox2))
>>
>>But it returns a lot of missing values in the result. Instead the missing
>>values in the variable should not be taken into account. So that I get only
>>a NA as result if there are only NAs for the corresponding factor.
>>
>>Any idea how this can be achieved?
>>
>>Thanks,
>>Ulrich
>>--
>>__________________________________________________
>>
>>Ulrich Leopold MSc.
>>
>>Department of Physical Geography
>>Institute for Biodiversity and Ecosystem Dynamics
>>Faculty of Science
>>University of Amsterdam
>>Nieuwe Achtergracht 166
>>NL-1018WV Amsterdam
>>
>>Phone: +31-(0)20-525-7456 (7451 Secretary)
>>Fax:   +31-(0)20-525-7431
>>Email: uleopold at science.uva.nl
>>http://www.frw.uva.nl/soil/Welcome.html
>>
>>Check us also out at:
>>Netherlands Centre for Geo-ecological Research
>>http://www.frw.uva.nl/icg
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jun 27 12:18:40 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 27 Jun 2002 12:18:40 +0200
Subject: [R] missing values
References: <3D1AB708.6070305@science.uva.nl> <3D1ACB5F.2DD926D0@sentoo.sn> <3D1ACF79.7090900@science.uva.nl> <3D1AD279.15F45219@sentoo.sn> <3D1AD4CB.6040501@science.uva.nl> <3D1ADB36.9CAEF5C3@sentoo.sn>
Message-ID: <3D1AE680.9020103@science.uva.nl>


>>gsum <- function(v1, v2){
> 
> +   cond <- is.na(v1)
> +   res1 <- tapply(v1[!cond], v2[!cond], function(x) sum(x[!is.na(x)]))
> +   res2 <- tapply(v1, v2, function(x) sum(is.na(x)))
> +   dat <- as.data.frame(rbind(table(v2), res1, res2))
> +   dimnames(dat)[[1]] <- c("Freq", "Sum", "Missing")
> +   cat("Missing in", deparse(substitute(v1)), ":", sum(cond), "\n")
> +   dat
> +   }

This works in the same way as before... NAs will be zeros.

I think it is rather a problem of sum. If I have only NAs sum returns 0. So 
maybe sum starts as initial value at 0 and then adds the following values.

Could this be the reason? If yes. Can I tell sum:
do not sum if there is a missing value? na.rm, is.na, na.omit do not work

Regards, Ulrich


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reduplicativeblending at yahoo.co.uk  Thu Jun 27 13:37:11 2002
From: reduplicativeblending at yahoo.co.uk (=?iso-8859-1?q?Nick=20Sherrard?=)
Date: Thu, 27 Jun 2002 12:37:11 +0100 (BST)
Subject: [R] lattice and dates
Message-ID: <20020627113711.12705.qmail@web14804.mail.yahoo.com>

HiI'm fairly new to R and the list, so please take what I say accordingly!Far as I can see, strptime gives you a string in some specified format. In order to do any kind of numerically-based modelling with that, you need to obtain a number to work with.One way to do this is by getting the time with Sys.time() instead and coercing it to a number using as.integer():>   as.integer(Sys.time())I dare say you could also set up a structure in which there are both numeric and string fields, do your modelling with the former and labelling with the latter:>   now=Sys.time()>   numero= as.integer(now)>   dateo= format(now, "%a, %b %d, %Y")>   timeo= format (now, "%X")> item=list(numeric=numero, strings=c(timeo,dateo))This seems to do the trick, and gives you a list with values that look like this.> item$numeric[1] 1025176725$strings[1] "12:18:45"          "Thu, Jun 27, 2002"I guess many of us might also choose to normalize the $numeric by subtracting some suitable base date/time from each reading of numero, which appears to be the number of seconds since 1/1/70, to give a more useful time origin!Nick Sherrard, PhDreduplicativeblending at yahoo.co.uk______________________________________________________Subject: [R] lattice and datesI've got some data that is recorded at various times during theday.    I create a time stamp is created from date and timestrings like this:    > timestamp  xyplot( value ~ timestamp | subject )This fails with   Error in as.double.default(x) : (list) object cannot be coerced to vector type 14  In addition: Warning message:   Both x and y should be numeric in: xyplot( value ~ timestamp | subject )I was sure I saw something like this on r-help recently, but Ican't seem to track it down now.  Can anyone help me out?Thanks, Mike- -- Michael A. Miller                               mmiller3 at iupui.edu  Imaging Sciences, Department of Radiology, IU School of Medicine- 


---------------------------------
Relive the FIFA World Cup goals with exclusive video highlights!

http://fifaworldcup.yahoo.com/fc/en
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020627/5616354f/attachment.html

From hb at maths.lth.se  Thu Jun 27 14:08:36 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 27 Jun 2002 14:08:36 +0200
Subject: [R] commandArgs: feature request
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D9EC@JUPITER>
Message-ID: <KKEGJOGBELBHDIKPINBMKEJECNAA.hb@maths.lth.se>

Here's an updated version of commandArgs() that does what you want (only
verified on WinMe w/ R 1.5.0):

commandArgs <- function(excludeReserved=FALSE, os=NULL) {
  # Process argument 'os'
  if (is.null(os) || toupper(os) == "ANY")
    os <- c("unix", "mac", "windows")
  else if (tolower(os) == "current")
    os <- .Platform$OS.type;
  os <- tolower(os);
  if (any(is.na(match(os, c("unix", "mac", "windows")))))
    stop("Argument 'os' contains unknown values.");

  # Reserved R command line options according to
  # "An Introduction to R" for R v1.5.0:
  reservedArgs <- c();
  # a) Unix
  if ("unix" %in% os) {
    reservedArgs <- c(reservedArgs, "--help", "-h", "--version", "--save",
"--no-save", "--no-environ", "--no-site-file", "--no-init-file",
"--restore", "--no-restore", "--no-restore-data", "--no-restore-history",
"--vanilla", "--no-readline", "--min-vsize=.*", "--min-nsize=.*",
"--max-nsize=.*", "--quiet", "--silent", "-q", "--slave", "--verbose",
"--debugger=.*", "--gui=.*");
  # b) Macintosh
  } else if ("mac" %in% os) {
    reservedArgs <- c(reservedArgs, "--version", "--save", "--no-save",
"--no-init-file", "--restore", "--no-restore", "--no-restore-data",
"--no-restore-history", "--vanilla", "--min-vsize=.*", "--max-vsize=.*",
"--min-nsize=.*", "--max-nsize=.*", "--quiet", "--silent", "-q", "--slave",
"--verbose");
  # b) Windows
  } else if ("windows" %in% os) {
    reservedArgs <- c(reservedArgs, "--version", "--mdi", "--sdi",
"--no-mdi", "--save", "--no-save", "--no-site-file", "--no-init-file",
"--no-environ", "--restore", "--no-restore", "--no-restore-data",
"--no-restore-history", "--vanilla", "--min-vsize=.*", "--max-vsize=.*",
"--min-nsize=.*", "--max-nsize=.*", "--max-mem-size=.*", "--quiet",
"--silent", "-q", "--slave", "--verbose", "--ess");
  }

  # Flag reserved arguments
  args <- .Internal(commandArgs());
  reservedArgs <- paste("^", unique(reservedArgs), "$", sep="");
  isReserved <- logical(length(args));
  for (rarg in reservedArgs)
    isReserved <- isReserved | (regexpr(rarg, args) != -1);
  attr(args, "isReserved") <- isReserved;

  if (excludeReserved == TRUE)
    args <- args[!attr(args, "isReserved")];

  args;
} # commandArgs()

Feel free to use it anywhere!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Vadim Ogranovich
> Sent: Tuesday, June 25, 2002 2:37 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] commandArgs: feature request
>
>
> Dear R-core Team,
>
> As Thomas Lumley pointed out in one of his e-mails one can use
> commandArgs()
> to get a copy of the command line arguments supplied when R session was
> invoked and then use grep to extract parameters of interest.
> His solution works very well if the custom options are passed by
> names, e.g.
> --my-option=value, but what if one wants to pass parameters by their
> positions. Then it's not easy to tell standard options from user-supplied
> ones.
> One possible solution would be to augment the return value of
> commandArgs()
> with BOOL vector attribute that says whether it is a standard (reserved) R
> option or not. Here is a usage example that I have in mind:
>
> R BATCH --no-save 2001-01-01 3001-01-01 Foo/*.in batch.R
>
> batch.R:
>
> myArgs <- commandArgs()
> myArgs <- myArgs[!attr(myArgs, "is.standard")]
>
> start <- myArgs[1]
> end <- myArgs[2]
> files <- myArgs[-seq(2)]
>
> # code
> ...
>
> I am sure there are other (better) solutions, but having anything
> like this
> would make it easier to integrate R  with shell scripts that invoke R as a
> sub-task.
>
> Thanks, Vadim
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jun 27 14:56:55 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 27 Jun 2002 13:56:55 +0100
Subject: [R] Building from a source-code library under windows
Message-ID: <000c01c21dda$2358e6a0$d2135882@inam>

Dear All,

I have a pair of .cpp and .def file can be compiled using VC++ and works
perfectly well in S-PLUS.
I wanted to do the same for R; so I followed the guidline given in "Building
from a source-code library under Windows" as much as possible and manage to
compile them using VC++ and call it from R. But it gives different answer
from the one called from S-Plus.

I know that I did something wrong likely at the compiling procedure or the
calling from R procedure, but I don't know what; it is even harder to debug
something when it doesn't crash!!

Does anyone have any idea how I can improve this situation?
Your help will be very much appreciated.

In-Sun
( the relevant details are as follows)

############
# COMPILE #
############

set R_HOME=C:\progra~1\R\rw1051

path;
PATH=%SystemRoot%\system32;%SystemRoot%;C:\PROGRA~1\R\rw1051\tools;C:\PROGRA
~1\R\rw1051\MinGW\bin
PATH=%path%;C:\PROGRA~1\perl\bin;C:\PROGRA~1\R\rw1051\bin;C:\PROGRA~1\R\rw10
51\share\perl\R
PATH=%path%;C:\PROGRA~1\pfe;C:\Progra~1\DevStu~1\VC\bin;C:\Progra~1\DevStu~1
\Shared~1\bin
PATH=%path%;C:\Progra~1\DevStu~1\VC\include


## go to the directory that you want to make the outputs
cd C:\Rtest
lib /def:%R_HOME%\src\gnuwin32\R.exp /out:Rdll.lib /machine:IX86
set INCLUDE=C:\Progra~1\DevStu~1\VC\include
cl /MT /Ox /DDLL_LOAD /D "Win32" /I\INCLUDE /c zotcilag.cpp
link /dll /def:zotcilag.def /out:zotcilag.dll *.obj Rdll.lib
/LIBPATH:C:\Progra~1\DevStu~1\VC\lib


##############
# Calling from R #
##############

dyn.load("c:\\rtest\\zotcilag.dll")

/* construct a function containing; same as one in S-plus"

Odata$dv <- .C("nlme_two_comp_zero_CI_lag",
  as.integer(length(Odata$ID)),
  as.double(rev(Odata$order)[1]),
  as.double(cbind(
   Odata$TIME,
   Odata$ITIME,
   Odata$CL,
   Odata$CLD,
   Odata$V1,
   Odata$VSS,
   Odata$Tlag,
   as.character(Odata$ID),
   Odata$order
  )),
  as.integer(length(Ddata$ID)),
  as.double(rev(Ddata$order)[1]),
  as.double(cbind(
   Ddata$TIME,
   Ddata$DOSE,
   as.character(Ddata$ID),         # factor
   Ddata$order,
   as.character(Ddata$EVID)
  )),
  as.integer(LogParam),
  as.integer(LogResp),
  resp= as.double(rep(0.00,length(Odata$ID))),
  NAOK=T)$resp


##############
# CPP and DEF #
##############

;******************************************
;  zero order Two Compartment constant infusion with lag time
;******************************************

LIBRARY  ZOTCIlag

EXPORTS
  DllMain
  nlme_two_comp_zero_CI_lag


#=======

#if defined(DLL_LOAD)
#include <windows.h>
#include <Math.h>

/* Standard DLL entry/exit procedure */
BOOL __stdcall
DllMain(HINSTANCE hDllInstance, DWORD dwReason, LPVOID
lpReserved)
{
        switch (dwReason) {
        case DLL_PROCESS_ATTACH:
                /* initialization code here */
                break;
        case DLL_PROCESS_DETACH:
                /* clean-up code here */
                break;
        }
        return(TRUE);
}
#endif

void

nlme_two_comp_zero_CI_lag (long int *norow,  double *maxoorder, double
*OMAT,
      long int *ndrow, double *maxdorder, double *DMAT,
      long int *logparam, long int *logresp, double *Resp)
{

 long int i, j,  No = *norow, Nd = *ndrow, LogParam  = *logparam, LogResp =
*logresp;
 double Tdiff, a, b, k21, origReset, counterDose, id, T1, constReseti,
constResetj,
   MaxOORDER = *maxoorder, MaxDORDER = *maxdorder,
   *OTime, *ITIME, *CL, *CLD, *V1, *VSS, *Tlag, *OID, *OORDER,
   *DTime, *DDose, *DID, *DORDER, *DEVID,
   *OrigDTime, *OrigDDose, *OrigDID, *OrigDORDER, *OrigDEVID,
   *tempDTime, *tempDDose, *tempDID, *tempDORDER, *tempDEVID;


 OTime = OMAT;
 ITIME = OMAT + No;
 CL = OMAT + No * 2;
 CLD = OMAT + No * 3;
 V1 = OMAT + No * 4;
 VSS = OMAT + No * 5;
 Tlag = OMAT + No * 6;
 OID = OMAT+ No * 7;
 OORDER  = OMAT + No *8;           /* */

 DTime = DMAT;
 DDose = DMAT + Nd;
 DID = DMAT + Nd * 2;
 DORDER = DMAT + Nd * 3;           /*  */
 DEVID = DMAT + Nd * 4;           /*  */

 OrigDTime = DTime;
 OrigDDose = DDose;
 OrigDID = DID;
 OrigDORDER = DORDER;
 OrigDEVID = DEVID;

 origReset = 999999.0;
 counterDose = 0.0;
 constReseti = 0.0;


 for(i = No; i >0 && constReseti==0.0;
){ 
  *Resp= 0.0;
  constResetj=0.0;

  if(LogParam==1.0){
    
   *ITIME = exp(*ITIME);
   *Tlag = exp(*Tlag);
   *CL = exp(*CL);
   *CLD = exp(*CLD);
   *V1 = exp(*V1);
   *VSS = exp(*VSS);
  }

  a = (((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1))) + 
       sqrt(pow((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1)), 2.0) - 
      4.0 * (*CL/ *V1) * (*CLD/ (*VSS - *V1)))) / 2.0;

  b = (((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1))) - 
       sqrt(pow((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1)), 2.0) - 
      4.0 * (*CL/ *V1) * (*CLD/ (*VSS - *V1)))) / 2.0;
    
  k21 = *CLD/ (*VSS - *V1);

  if(*OID !=id){
    origReset =999999.0;
    counterDose = 0.0;
  } 
  for(j = Nd; j >0 && constResetj==0.0 ; j--){

    if(*OORDER > origReset){
      /* run once for the first subject of a case; notice where is the first*/
     OrigDTime = tempDTime;       /* first dose info. shifted*/
     OrigDDose = tempDDose;
     OrigDID = tempDID;
     OrigDORDER = tempDORDER;
     OrigDEVID = tempDEVID;
     counterDose = 0.0;

     DTime = OrigDTime;        /* starting dose shifted */
     DDose = OrigDDose;
     DID = OrigDID;
     DORDER = OrigDORDER;
     DEVID = OrigDEVID;

     origReset = 999999.0;        /* this loop will not be used again until origReset is resetted */

    }
    
    if(*OORDER < origReset && ((*DID==*OID && *DEVID==4.0) || 
          (*DID!=*OID && *DEVID == 1.0)) && counterDose==0.0){
      /* run once for the first subject of a case; to know where is the end*/
     if(*DORDER < *OORDER){         /* false starting */
      *Resp = 0.0;         /* reset Resp*/
      *DEVID = 1.0;

      OrigDTime = DTime;        
      OrigDDose = DDose ;
      OrigDID = DID ;
      OrigDORDER = DORDER ;
      OrigDEVID  = DEVID ;

     }
     else{
   
   origReset = *DORDER;        /* reset max. order*/

      tempDTime = DTime;        /* last dose info*/
      tempDDose = DDose;
      tempDID = DID;
      tempDORDER = DORDER;
      tempDEVID = DEVID;

      *DEVID = 1.0;
      counterDose = 1.0;
     }
    }

    if(*OORDER < origReset && *DID==*OID && *DEVID==1.0 && *DORDER <
*OORDER){

     Tdiff = *OTime - (*DTime + *Tlag);

     if(Tdiff < *ITIME )
      T1 = 0.0;
     else
      T1 = Tdiff - *ITIME ;

     if(Tdiff>0)
      *Resp = *Resp + *DDose / *ITIME *
         ( ((a - k21)/((a - b) * *V1)) *
           (exp(-a * T1) - exp(-a * Tdiff)) / a +
           ((k21 - b)/((a - b) * *V1)) *
           (exp(-b * T1) - exp(-b * Tdiff)) / b);
    }

    if(*DORDER==MaxDORDER)
      constResetj = 1.0;    /* to handle overflow problem */
    else{ DID++;
      DTime++;
      DDose++;
      DORDER++;
      DEVID++;
    }
   }

  DTime = OrigDTime;        /* go back to First dose info*/
  DDose = OrigDDose;
  DID = OrigDID;
  DORDER = OrigDORDER;
  DEVID = OrigDEVID;

  id = *OID;

  if(LogResp==1.0){

   *Resp = log(*Resp);

  }
  if(LogParam==1.0){

   *ITIME = log(*ITIME);
   *Tlag = log(*Tlag);
   *CL = log(*CL);
   *CLD = log(*CLD);
   *V1 = log(*V1);
   *VSS = log(*VSS);
  }
  if(*OORDER==MaxOORDER)
    constReseti = 1.0;
  else{           /* to handle overflow problem */
    OID++;
    OTime++;
    OORDER++;
    ITIME++;
    CL++;
    CLD++;
    V1++;
    VSS++;
    Tlag++;
    Resp++;
  }

 }
}


In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jun 27 14:56:55 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 27 Jun 2002 13:56:55 +0100
Subject: [R] Building from a source-code library under windows
Message-ID: <000901c21dda$1dc019c0$d2135882@inam>

Dear All,

I have a pair of .cpp and .def file can be compiled using VC++ and works
perfectly well in S-PLUS.
I wanted to do the same for R; so I followed the guidline given in "Building
from a source-code library under Windows" as much as possible and manage to
compile them using VC++ and call it from R. But it gives different answer
from the one called from S-Plus.

I know that I did something wrong likely at the compiling procedure or the
calling from R procedure, but I don't know what; it is even harder to debug
something when it doesn't crash!!

Does anyone have any idea how I can improve this situation?
Your help will be very much appreciated.

In-Sun
( the relevant details are as follows)

############
# COMPILE #
############

set R_HOME=C:\progra~1\R\rw1051

path;
PATH=%SystemRoot%\system32;%SystemRoot%;C:\PROGRA~1\R\rw1051\tools;C:\PROGRA
~1\R\rw1051\MinGW\bin
PATH=%path%;C:\PROGRA~1\perl\bin;C:\PROGRA~1\R\rw1051\bin;C:\PROGRA~1\R\rw10
51\share\perl\R
PATH=%path%;C:\PROGRA~1\pfe;C:\Progra~1\DevStu~1\VC\bin;C:\Progra~1\DevStu~1
\Shared~1\bin
PATH=%path%;C:\Progra~1\DevStu~1\VC\include


## go to the directory that you want to make the outputs
cd C:\Rtest
lib /def:%R_HOME%\src\gnuwin32\R.exp /out:Rdll.lib /machine:IX86
set INCLUDE=C:\Progra~1\DevStu~1\VC\include
cl /MT /Ox /DDLL_LOAD /D "Win32" /I\INCLUDE /c zotcilag.cpp
link /dll /def:zotcilag.def /out:zotcilag.dll *.obj Rdll.lib
/LIBPATH:C:\Progra~1\DevStu~1\VC\lib


##############
# Calling from R #
##############

dyn.load("c:\\rtest\\zotcilag.dll")

/* construct a function containing; same as one in S-plus"

Odata$dv <- .C("nlme_two_comp_zero_CI_lag",
  as.integer(length(Odata$ID)),
  as.double(rev(Odata$order)[1]),
  as.double(cbind(
   Odata$TIME,
   Odata$ITIME,
   Odata$CL,
   Odata$CLD,
   Odata$V1,
   Odata$VSS,
   Odata$Tlag,
   as.character(Odata$ID),
   Odata$order
  )),
  as.integer(length(Ddata$ID)),
  as.double(rev(Ddata$order)[1]),
  as.double(cbind(
   Ddata$TIME,
   Ddata$DOSE,
   as.character(Ddata$ID),         # factor
   Ddata$order,
   as.character(Ddata$EVID)
  )),
  as.integer(LogParam),
  as.integer(LogResp),
  resp= as.double(rep(0.00,length(Odata$ID))),
  NAOK=T)$resp


##############
# CPP and DEF #
##############

;******************************************
;  zero order Two Compartment constant infusion with lag time
;******************************************

LIBRARY  ZOTCIlag

EXPORTS
  DllMain
  nlme_two_comp_zero_CI_lag


#=======

#if defined(DLL_LOAD)
#include <windows.h>
#include <Math.h>

/* Standard DLL entry/exit procedure */
BOOL __stdcall
DllMain(HINSTANCE hDllInstance, DWORD dwReason, LPVOID
lpReserved)
{
        switch (dwReason) {
        case DLL_PROCESS_ATTACH:
                /* initialization code here */
                break;
        case DLL_PROCESS_DETACH:
                /* clean-up code here */
                break;
        }
        return(TRUE);
}
#endif

void

nlme_two_comp_zero_CI_lag (long int *norow,  double *maxoorder, double
*OMAT,
      long int *ndrow, double *maxdorder, double *DMAT,
      long int *logparam, long int *logresp, double *Resp)
{

 long int i, j,  No = *norow, Nd = *ndrow, LogParam  = *logparam, LogResp =
*logresp;
 double Tdiff, a, b, k21, origReset, counterDose, id, T1, constReseti,
constResetj,
   MaxOORDER = *maxoorder, MaxDORDER = *maxdorder,
   *OTime, *ITIME, *CL, *CLD, *V1, *VSS, *Tlag, *OID, *OORDER,
   *DTime, *DDose, *DID, *DORDER, *DEVID,
   *OrigDTime, *OrigDDose, *OrigDID, *OrigDORDER, *OrigDEVID,
   *tempDTime, *tempDDose, *tempDID, *tempDORDER, *tempDEVID;


 OTime = OMAT;
 ITIME = OMAT + No;
 CL = OMAT + No * 2;
 CLD = OMAT + No * 3;
 V1 = OMAT + No * 4;
 VSS = OMAT + No * 5;
 Tlag = OMAT + No * 6;
 OID = OMAT+ No * 7;
 OORDER  = OMAT + No *8;           /* */

 DTime = DMAT;
 DDose = DMAT + Nd;
 DID = DMAT + Nd * 2;
 DORDER = DMAT + Nd * 3;           /*  */
 DEVID = DMAT + Nd * 4;           /*  */

 OrigDTime = DTime;
 OrigDDose = DDose;
 OrigDID = DID;
 OrigDORDER = DORDER;
 OrigDEVID = DEVID;

 origReset = 999999.0;
 counterDose = 0.0;
 constReseti = 0.0;


 for(i = No; i >0 && constReseti==0.0;
){ 
  *Resp= 0.0;
  constResetj=0.0;

  if(LogParam==1.0){
    
   *ITIME = exp(*ITIME);
   *Tlag = exp(*Tlag);
   *CL = exp(*CL);
   *CLD = exp(*CLD);
   *V1 = exp(*V1);
   *VSS = exp(*VSS);
  }

  a = (((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1))) + 
       sqrt(pow((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1)), 2.0) - 
      4.0 * (*CL/ *V1) * (*CLD/ (*VSS - *V1)))) / 2.0;

  b = (((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1))) - 
       sqrt(pow((*CL/ *V1) + (*CLD/ *V1) + (*CLD/ (*VSS - *V1)), 2.0) - 
      4.0 * (*CL/ *V1) * (*CLD/ (*VSS - *V1)))) / 2.0;
    
  k21 = *CLD/ (*VSS - *V1);

  if(*OID !=id){
    origReset =999999.0;
    counterDose = 0.0;
  } 
  for(j = Nd; j >0 && constResetj==0.0 ; j--){

    if(*OORDER > origReset){
      /* run once for the first subject of a case; notice where is the first*/
     OrigDTime = tempDTime;       /* first dose info. shifted*/
     OrigDDose = tempDDose;
     OrigDID = tempDID;
     OrigDORDER = tempDORDER;
     OrigDEVID = tempDEVID;
     counterDose = 0.0;

     DTime = OrigDTime;        /* starting dose shifted */
     DDose = OrigDDose;
     DID = OrigDID;
     DORDER = OrigDORDER;
     DEVID = OrigDEVID;

     origReset = 999999.0;        /* this loop will not be used again until origReset is resetted */

    }
    
    if(*OORDER < origReset && ((*DID==*OID && *DEVID==4.0) || 
          (*DID!=*OID && *DEVID == 1.0)) && counterDose==0.0){
      /* run once for the first subject of a case; to know where is the end*/
     if(*DORDER < *OORDER){         /* false starting */
      *Resp = 0.0;         /* reset Resp*/
      *DEVID = 1.0;

      OrigDTime = DTime;        
      OrigDDose = DDose ;
      OrigDID = DID ;
      OrigDORDER = DORDER ;
      OrigDEVID  = DEVID ;

     }
     else{
   
   origReset = *DORDER;        /* reset max. order*/

      tempDTime = DTime;        /* last dose info*/
      tempDDose = DDose;
      tempDID = DID;
      tempDORDER = DORDER;
      tempDEVID = DEVID;

      *DEVID = 1.0;
      counterDose = 1.0;
     }
    }

    if(*OORDER < origReset && *DID==*OID && *DEVID==1.0 && *DORDER <
*OORDER){

     Tdiff = *OTime - (*DTime + *Tlag);

     if(Tdiff < *ITIME )
      T1 = 0.0;
     else
      T1 = Tdiff - *ITIME ;

     if(Tdiff>0)
      *Resp = *Resp + *DDose / *ITIME *
         ( ((a - k21)/((a - b) * *V1)) *
           (exp(-a * T1) - exp(-a * Tdiff)) / a +
           ((k21 - b)/((a - b) * *V1)) *
           (exp(-b * T1) - exp(-b * Tdiff)) / b);
    }

    if(*DORDER==MaxDORDER)
      constResetj = 1.0;    /* to handle overflow problem */
    else{ DID++;
      DTime++;
      DDose++;
      DORDER++;
      DEVID++;
    }
   }

  DTime = OrigDTime;        /* go back to First dose info*/
  DDose = OrigDDose;
  DID = OrigDID;
  DORDER = OrigDORDER;
  DEVID = OrigDEVID;

  id = *OID;

  if(LogResp==1.0){

   *Resp = log(*Resp);

  }
  if(LogParam==1.0){

   *ITIME = log(*ITIME);
   *Tlag = log(*Tlag);
   *CL = log(*CL);
   *CLD = log(*CLD);
   *V1 = log(*V1);
   *VSS = log(*VSS);
  }
  if(*OORDER==MaxOORDER)
    constReseti = 1.0;
  else{           /* to handle overflow problem */
    OID++;
    OTime++;
    OORDER++;
    ITIME++;
    CL++;
    CLD++;
    V1++;
    VSS++;
    Tlag++;
    Resp++;
  }

 }
}


In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpietro at duke.edu  Thu Jun 27 15:04:56 2002
From: rpietro at duke.edu (rpietro@duke.edu)
Date: Thu, 27 Jun 2002 09:04:56 -0400 (EDT)
Subject: [R] large survey data set
Message-ID: <Pine.LNX.4.33.0206270903090.5540-100000@localhost.localdomain>



---------- Forwarded message ----------
Hello,


I am analyzing a weighted, stratified, clustered survey data set
with approximately 1 million observations and 50 variables.

I am new to R (I'm a Stata user), and so far
couldn't find any documentation on how to handle survey data. In
other words, is there a specific package to handle a combination of
weigths, clusters and strata. I am also struggling to
handle such a large data set. Any suggestions and/or references regarding
these two issues would be greatly appreciated.


Rick




Ricardo Pietrobon, MD
Assistant Professor of Surgery
Duke University Medical Center



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu Jun 27 15:12:42 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Thu, 27 Jun 2002 09:12:42 -0400 (EDT)
Subject: [R] R won't start right
In-Reply-To: <3D1AB55C.4C02FEA7@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.21.0206270909210.10380-100000@perrin.socsci.unc.edu>

Thanks to all who answered. Uwe Ligges's answer proved right. Here's the
story.

I was running out of space in /usr/src, so I moved the source to some free
space on another partition. That partition was FAT, so permissions weren't
preserved. I then linked /usr/src/R-1.5.0 -> /rosa/R-1.5.0 to
compile. Everything compiled and installed fine, but I got the errors
below.

The same thing happened with R-1.5.1 source.

I cleared some space on /usr/src (an ext2 partition) and compiled and
installed from there - voila, it worked fine.

By the way: I also tried using the debian woody packages available via
CRAN. There are two issues, one major and one minor:
- Minor issue: woody is referred to as Debian 2.3, when it's actually
Debian 3.0.
- Major issue: there's a dependancy problem. I installed r-base and
r-recommended from the CRAN archive and tried to run them, but got an
error loading libraries on libblas.so.2: no such file or directory.

Best,
Andy Perrin

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


On Thu, 27 Jun 2002, Uwe Ligges wrote:

> Andrew Perrin wrote:
> > 
> > Any ideas on this?
> > 
> > nujoma:~> R
> > 
> > R : Copyright 2002, The R Development Core Team
> > Version 1.5.0  (2002-04-29)
> > 
> > ...
> > 
> > Error: couldn't find function ".Alias"
> > Error: couldn't find function "attach"
> > [Previously saved workspace restored]
> > 
> > > q()
> > Error: couldn't find function "q"
> > >
> > Suspended
> > nujoma:~> kill %1
> > 
> > This is on a brand-new installation of R on a Debian 3.0 (woody) linux
> > machine.
> 
> Looks like the functions in base are not sourced. Did it compile and
> install without any error message?
> I'd suggest to check whether .../library/base/R/base exists and has the
> correct permissions (I guess the latter went wrong).
> 
> Uwe Ligges
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jun 27 15:40:19 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 27 Jun 2002 08:40:19 -0500
Subject: [R] R won't start right
Message-ID: <E17NZVT-0000RX-00@sonny.eddelbuettel.com>


> By the way: I also tried using the debian woody packages available via
> CRAN. There are two issues, one major and one minor:
> - Minor issue: woody is referred to as Debian 2.3, when it's actually
> Debian 3.0.

Where is that reference made?  Could you point to a concrete file to fixed?

> - Major issue: there's a dependancy problem. I installed r-base and
> r-recommended from the CRAN archive and tried to run them, but got an
> error loading libraries on libblas.so.2: no such file or directory.

Strange, you should have gotten an error on installation then.  Which Debian
package did you install:  "stable" or "testing/unstable"?  

Anyway, please install any of the packages providing a blas library -- either 
the non-optimised blas package or an optimised Atlas library matching your 
hardware. 

Dirk


-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cts at debian.org  Thu Jun 27 15:41:18 2002
From: cts at debian.org (Christian T. Steigies)
Date: Thu, 27 Jun 2002 08:41:18 -0500
Subject: [R] R won't start right
In-Reply-To: <Pine.LNX.4.21.0206270909210.10380-100000@perrin.socsci.unc.edu>; from clists@perrin.socsci.unc.edu on Thu, Jun 27, 2002 at 09:12:42AM -0400
References: <3D1AB55C.4C02FEA7@statistik.uni-dortmund.de> <Pine.LNX.4.21.0206270909210.10380-100000@perrin.socsci.unc.edu>
Message-ID: <20020627084118.A16804@debian.org>

On Thu, Jun 27, 2002 at 09:12:42AM -0400, Andrew Perrin wrote:
> 
> By the way: I also tried using the debian woody packages available via
> CRAN. There are two issues, one major and one minor:
> - Minor issue: woody is referred to as Debian 2.3, when it's actually
> Debian 3.0.

where? CRAN?

> - Major issue: there's a dependancy problem. I installed r-base and
> r-recommended from the CRAN archive and tried to run them, but got an
> error loading libraries on libblas.so.2: no such file or directory.

wajig detail r-base
[...]
Depends: perl, zlib-bin, blas2, ...
                         ^^^^^

wajig detail blas
[...]
Provides: blas2

dpkg -L blas
[...]
/usr/lib/libblas.so.2.0
/usr/lib/libblas.so.2
         ^^^^^^^^^^^^

Do you have blas installed? This is with 1.4.1, but r-base-core_1.5.1
depends on atlas2-base | blas | blas2, so you should have on of those
installed?

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Jun 27 15:19:05 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 27 Jun 2002 14:19:05 +0100
Subject: [R] GUI's for teaching
In-Reply-To: <Pine.SOL.4.33.0206261236050.25674-100000@mcmail.cis.mcmaster.ca>
References: <1025100727.31678.9.camel@keittlab-6>
 <Pine.SOL.4.33.0206261236050.25674-100000@mcmail.cis.mcmaster.ca>
Message-ID: <r9hyHKAJDxG9EwLX@myatt.demon.co.uk>


I just thought that I would add my tuppence on this ... what I would
really like for R is not a GUI in the sense of a point and click data
analysis system (R is too rich for anything like that too scratch the
surface) or interactive graphics (I like to script them) but a full
featured IDE with:

        1. A syntax highlighting editor

        2. Code completion features such as automatic insertion of
        function templates.

        3. An ability to submit a file of R commands and capture the
        output in an output window.

        4. Capturing of errors in code integrated with editor. Some from
        of debugging / error tracking / stack tracing would be nice.

        5. An object inspector showing the objects available in the
        working environment ... it would be nice (e.g.) to be able to
        click on a data.frame reference and see column names, classes,
        &c. And to be able to paste these into the editor.

        6. Basic project management functions.

        7. Help system and language guide integrated.

I suppose my view is that R is a language based product and that if any
effort is to go into the user-interface then it should support the
language.

I suppose if the IDE were extensible then it would be possible to add
user defined menus that could call R functions that used the tcltk
library for front-ends.

Just my tuppence.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu Jun 27 15:49:46 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Thu, 27 Jun 2002 09:49:46 -0400 (EDT)
Subject: [R] R won't start right
In-Reply-To: <E17NZVT-0000RX-00@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.21.0206270944510.10380-100000@perrin.socsci.unc.edu>

On Thu, 27 Jun 2002, Dirk Eddelbuettel wrote:

> 
> > By the way: I also tried using the debian woody packages available via
> > CRAN. There are two issues, one major and one minor:
> > - Minor issue: woody is referred to as Debian 2.3, when it's actually
> > Debian 3.0.
> 
> Where is that reference made?  Could you point to a concrete file to fixed?

http://cran.r-project.org/bin/linux/debian/ReadMe

> 
> > - Major issue: there's a dependancy problem. I installed r-base and
> > r-recommended from the CRAN archive and tried to run them, but got an
> > error loading libraries on libblas.so.2: no such file or directory.
> 
> Strange, you should have gotten an error on installation then.  Which Debian
> package did you install:  "stable" or "testing/unstable"?  

I put this in sources.list:
deb http://cran.us.r-project.org/bin/linux/debian woody main

and then did:
apt-get install r-base r-recommended

It installed fine, even though:
nujoma:~> dpkg -l | grep -i blas
nujoma:~>

returns nothing.

> 
> Anyway, please install any of the packages providing a blas library -- either 
> the non-optimised blas package or an optimised Atlas library matching your 
> hardware. 

nujoma:~> locate libblas
/usr/lib/3dnow/atlas/libblas.so.2
/usr/lib/3dnow/atlas/libblas.so.2.3
/usr/lib/atlas/libblas.so.2
/usr/lib/atlas/libblas.so.2.3


Interestingly enough, my home-built version seems to use a different blas
from either of the above:

nujoma:~> ldd /usr/local/lib/R/bin/R.bin
        libf77blas.so.2 => /usr/lib/libf77blas.so.2 (0x4001e000)
        libatlas.so.2 => /usr/lib/libatlas.so.2 (0x40035000)
        libreadline.so.4 => /lib/libreadline.so.4 (0x40243000)
        libdl.so.2 => /lib/libdl.so.2 (0x40269000)
        libncurses.so.5 => /lib/libncurses.so.5 (0x4026c000)
        libm.so.6 => /lib/libm.so.6 (0x402aa000)
        libc.so.6 => /lib/libc.so.6 (0x402cb000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

I hope this is of some help.

Thanks,
Andy

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jun 27 16:13:57 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 27 Jun 2002 07:13:57 -0700
Subject: [R] GUI's for teaching
In-Reply-To: <r9hyHKAJDxG9EwLX@myatt.demon.co.uk>
References: <1025100727.31678.9.camel@keittlab-6>
	<Pine.SOL.4.33.0206261236050.25674-100000@mcmail.cis.mcmaster.ca>
	<r9hyHKAJDxG9EwLX@myatt.demon.co.uk>
Message-ID: <876604byhm.fsf@jeeves.blindglobe.net>


And we've got most of this in ESS/XEmacs; what isn't listed has been
in the works (in some cases, for years :-(, see below).

This includes Mark's comment about extensible pull down menus defined
by R (tools were written in 1997 for doing that with ESS, it just
hasn't been high enough in the priority list).

best,
-tony


>>>>> "mark" == Mark Myatt <mark at myatt.demon.co.uk> writes:

    mark> I just thought that I would add my tuppence on this ... what I would
    mark> really like for R is not a GUI in the sense of a point and click data
    mark> analysis system (R is too rich for anything like that too scratch the
    mark> surface) or interactive graphics (I like to script them) but a full
    mark> featured IDE with:

    mark>         1. A syntax highlighting editor

    mark>         2. Code completion features such as automatic insertion of
    mark>         function templates.

    mark>         3. An ability to submit a file of R commands and capture the
    mark>         output in an output window.

    mark>         4. Capturing of errors in code integrated with editor. Some from
    mark>         of debugging / error tracking / stack tracing would be nice.

    mark>         5. An object inspector showing the objects available in the
    mark>         working environment ... it would be nice (e.g.) to be able to
    mark>         click on a data.frame reference and see column names, classes,
    mark>         &c. And to be able to paste these into the editor.

    mark>         6. Basic project management functions.

    mark>         7. Help system and language guide integrated.

    mark> I suppose my view is that R is a language based product and that if any
    mark> effort is to go into the user-interface then it should support the
    mark> language.

    mark> I suppose if the IDE were extensible then it would be possible to add
    mark> user defined menus that could call R functions that used the tcltk
    mark> library for front-ends.

    mark> Just my tuppence.

    mark> Mark


    mark> --
    mark> Mark Myatt


    mark> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    mark> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    mark> Send "info", "help", or "[un]subscribe"
    mark> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    mark> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Jun 27 16:22:53 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 27 Jun 2002 07:22:53 -0700
Subject: [R] GUI's for teaching
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC3E1@usrymx10.merck.co
 m>
Message-ID: <5.1.1.5.2.20020627071826.01dc1210@pop4.attglobal.net>

At 05:03 AM 6/27/2002, Liaw, Andy wrote:
 >My guess is that the args() function might help with the second problem, no?
 >
 >Cheers,
 >Andy

Yes and no.  I didn't mention args because can't use it "in real 
time".  That is, the problem often arises after the student has typed the 
function name and the opening parenthesis.  Its a bit tough to type args() 
in the middle of typing the actual function whose arguments you're trying 
to remember.  It is also difficult in the middle of a string of cascading 
functions.

One (?simple) solution might be context-sensitive help (F1?) that calls up 
the argument list of the function closest to the point of invocation (e.g. 
in this trivial example):

 >sqrt(var(x))
             ^      F1 after the "r" or "(" following "var" would bring up 
the args for var().

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jun 27 16:43:36 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 27 Jun 2002 10:43:36 -0400
Subject: [R] GUI's for teaching
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3E4@usrymx10.merck.com>

> From: Marc R. Feldesman [mailto:feldesmanm at pdx.edu]
> Sent: Thursday, June 27, 2002 10:23 AM
> 
> At 05:03 AM 6/27/2002, Liaw, Andy wrote:
>  >My guess is that the args() function might help with the 
> second problem, no?
>  >
>  >Cheers,
>  >Andy
> 
> Yes and no.  I didn't mention args because can't use it "in real 
> time".  That is, the problem often arises after the student 
> has typed the 
> function name and the opening parenthesis.  Its a bit tough 
> to type args() 
> in the middle of typing the actual function whose arguments 
> you're trying 
> to remember.  It is also difficult in the middle of a string 
> of cascading 
> functions.
> 
> One (?simple) solution might be context-sensitive help (F1?) 
> that calls up 
> the argument list of the function closest to the point of 
> invocation (e.g. 
> in this trivial example):
> 
>  >sqrt(var(x))
>              ^      F1 after the "r" or "(" following "var" 
> would bring up 
> the args for var().
> 

Well, not exactly...  Methods could be a bit problematic.  If you just do
args(plot), it's not going to be terribly informative.  It needs at least
the first argument to figure out which actual method to call, and the actual
method dispatch will need to be re-implemented at that level
(context-sensitive help).  That seems like quite a bit of work...

Cheers,
Andy


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rlee at fpcc.net  Thu Jun 27 17:08:36 2002
From: rlee at fpcc.net (Rob Lee)
Date: Thu, 27 Jun 2002 09:08:36 -0600 (MDT)
Subject: [R] Simple Matrix plot question
Message-ID: <Pine.LNX.4.33.0206270857150.29575-100000@aberdeen.fpcc.net>


Hello.

I'd like to produce a simple pairs-like plot
with two data frames - but not a traditional scatter-plot matrix -
just multiple bivariate plots of data.frame1[i] vs data.frame2[i] ...

In other words, given data frames X and Y, I'd like multiple plots on a 
page like:
  Y1 Y2 Y3
X1
X2
X3

Thanks in advance.
-R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Jun 27 17:12:17 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 27 Jun 2002 17:12:17 +0200
Subject: [R] Fastest way to find the last index k such that x[k] < y in a sorted vector x?
Message-ID: <KKEGJOGBELBHDIKPINBMMEJGCNAA.hb@maths.lth.se>

Hi, I am trying to find the fastest way to

  "find the last index k such that x[k] < y in a *sorted* vector x"

These are my two alternatives:

  x <- sort(rnorm(1e4))
  y <- 0.2

  # Alt 1
  k <- max(1, sum(x < y))

  # Alt 2 "divide and conquer"
  lastIndexLessThan <- function(x, y) {
    k0 <- 1; k1 <- length(x)
    while ((dk <- (k1 - k0)) > 1) {
      k <- k0 + dk %/% 2
      if (x[k] < y) k0 <- k else k1 <- k
    }
    k0
  }
  k <- lastIndexLessThan(x, y)

Simple benchmarking shows that alternative 1 is faster for short vectors and
alternative 2 is faster for long vectors. I believe this is because alt 1 is
implemented internally. Is there an internal function of alternative 2 that
I don't know about? It would be great because then it would probably be the
fastest one on both short and long vectors.

Best

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reduplicativeblending at yahoo.co.uk  Thu Jun 27 17:30:24 2002
From: reduplicativeblending at yahoo.co.uk (=?iso-8859-1?q?Nick=20Sherrard?=)
Date: Thu, 27 Jun 2002 16:30:24 +0100 (BST)
Subject: [R] lattice and dates (correcting e-mail formatting glitch - sorry!!)
Message-ID: <20020627153024.73020.qmail@web14801.mail.yahoo.com>



Hi

I'm fairly new to R and the list, so please take
what I say accordingly!

Far as I can see, strptime gives you a string in some
specified format. In order to do any kind of
numerically-based modelling with that, you need to
obtain a number to work with. One way to do this is by
getting the time with Sys.time() instead and coercing
it to a number using as.integer():
 > as.integer(Sys.time())

I dare say you could also set up a structure in which
there are both numeric and string fields, do your
modelling with the former and labelling with the
latter:

> now=Sys.time() 
> numero= as.integer(now) 
> dateo= format(now, "%a, %b %d, %Y") 
> timeo= format (now, "%X") 
> item=list(numeric=numero, strings=c(timeo,dateo))

This seems to do the trick, and gives you a list with
values that look like this.

> item

 $numeric [1] 1025176725
 $strings [1] "12:18:45" "Thu, Jun 27, 2002"

 I guess many of us might also choose to normalize the
$numeric by subtracting some suitable base date/time
from each reading of numero, which appears to be the
number of seconds since 1/1/70, to give a more useful
time origin!

Nick Sherrard, PhD
reduplicativeblending at yahoo.co.uk
______________________________________________________
Subject: [R] lattice and dates I've got some data that
is recorded at various times during the day. I create
a time stamp is created from date and time strings
like this: > timestamp <- strptime( paste( datestring,
timestring), "%D %X" ) Then I'd like to use lattice to
plot the time dependence by doing something like >
xyplot( value ~ timestamp | subject ) This fails with
Error in as.double.default(x) : (list) object cannot
be coerced to vector type 14 In addition: Warning
message: Both x and y should be numeric in: xyplot(
value ~ timestamp | subject ) I was sure I saw
something like this on r-help recently, but I can't
seem to track it down now. Can anyone help me out?
Thanks, Mike - -- Michael A. Miller mmiller3 at iupui.edu
Imaging Sciences, Department of Radiology, IU School
of Medicine - 



__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From humbertc at univ-mlv.fr  Thu Jun 27 17:46:28 2002
From: humbertc at univ-mlv.fr (Cyril Humbert)
Date: Thu, 27 Jun 2002 17:46:28 +0200
Subject: [R] plot(..., type="h") w/ origin not at y=0
Message-ID: <20020627174628.C9014@borneo.univ-mlv.fr>

Is it a way to make plots with vertical lines, like plot(x, y, type="h"),
but starting from a different value than y=0.

For example, with x=1:3, y=-(1:3), y.orig=-3 :

  -1  |    
      |
y -2  |  |
      |  |
  -3  |  |  |  
      1  2  3 
         x
      
Thanks
-- 
Cyril Humbert 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jun 27 18:41:09 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 27 Jun 2002 18:41:09 +0200 (CEST)
Subject: [R] Fastest way to find the last index k such that x[k] < y in
 a sorted vector x?
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEJGCNAA.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.44.0206271839480.7578-100000@tal.stat.umu.se>

On Thu, 27 Jun 2002, Henrik Bengtsson wrote:

> Hi, I am trying to find the fastest way to
> 
>   "find the last index k such that x[k] < y in a *sorted* vector x"

How about 

> k <- max(which(x < y))

Haven't done any benchmarking, though.

G?ran

> 
> These are my two alternatives:
> 
>   x <- sort(rnorm(1e4))
>   y <- 0.2
> 
>   # Alt 1
>   k <- max(1, sum(x < y))
> 
>   # Alt 2 "divide and conquer"
>   lastIndexLessThan <- function(x, y) {
>     k0 <- 1; k1 <- length(x)
>     while ((dk <- (k1 - k0)) > 1) {
>       k <- k0 + dk %/% 2
>       if (x[k] < y) k0 <- k else k1 <- k
>     }
>     k0
>   }
>   k <- lastIndexLessThan(x, y)
> 
> Simple benchmarking shows that alternative 1 is faster for short vectors and
> alternative 2 is faster for long vectors. I believe this is because alt 1 is
> implemented internally. Is there an internal function of alternative 2 that
> I don't know about? It would be great because then it would probably be the
> fastest one on both short and long vectors.
> 
> Best
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jun 27 17:44:05 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 27 Jun 2002 10:44:05 -0500
Subject: [R] R won't start right
Message-ID: <E17NbRF-0000ih-00@sonny.eddelbuettel.com>


> apt-get install r-base r-recommended
> 
> It installed fine, even though:
> nujoma:~> dpkg -l | grep -i blas
> nujoma:~>
> 
> returns nothing.

Try     
    COLUMNS=120 dpkg -l | grep -i blas
    COLUMNS=120 dpkg -l | grep -i atlas

> nujoma:~> locate libblas
> /usr/lib/3dnow/atlas/libblas.so.2
> /usr/lib/3dnow/atlas/libblas.so.2.3
> /usr/lib/atlas/libblas.so.2
> /usr/lib/atlas/libblas.so.2.3

The atlas -dev package used to have a buggy shlibs file leading to insufficient dependency
information. Users could end up with an arbitrary atlas package, instead of the the correct
default blas package (which can then be transparently replaced at runtime simply by 
installing a matching Atlas package).    

Do you actually have an Athlon cpu? Else you need to replace your Atlas packages with 
appropriate ones.

> Interestingly enough, my home-built version seems to use a different blas
> from either of the above:

This depends on which -dev package you have installed.

Hope this helps,  Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tw.chan at sociology.oxford.ac.uk  Thu Jun 27 17:53:03 2002
From: tw.chan at sociology.oxford.ac.uk (Tak Wing Chan)
Date: Thu, 27 Jun 2002 16:53:03 +0100
Subject: [R] using identify() with scatterplot3d()
Message-ID: <3D1B34DF.22159AF2@sociology.oxford.ac.uk>

Dear all

I am running R 1.4.1 on a Linux box. I have tried to label data points
in a 3-d scatterplot, but without much success. What I did was as
follows:

> scatterplot3d(x, y, z)
> identify(x, y, z, row.names(Data))

When I tried to click on/near the data points, I either receive this
msg:

warning: no point with 0.25 inches,

or some numbers in Data, not the row names, come up on the graph. So I
wonder if I've got something wrong. Is it possible to use identify()
with scatterplot3d() ?

Many thanks for your help!

Wing

-- 
Department of Sociology        tel: +44 1865 286176
University of Oxford           fax: +44 1865 286171
Littlegate House, St Ebbes     http://users.ox.ac.uk/~sfos0006/
Oxford OX1 1PS, UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Thu Jun 27 17:57:42 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Thu, 27 Jun 2002 17:57:42 +0200
Subject: [R] aov/glm
Message-ID: <LAW2-F126eO925B76WE00001d58@hotmail.com>

Hello,

This is an "intuition" question from a "stats-user!=expert". I hope this is 
the right place to post it!

I understand that lm() is quite sensitive to data with severe outliers. I 
imagine therefore that aov(), which uses lm(), is too. I have tried to hack 
aov() such that it calls rlm() which is much more robust against outliers. 
Even though the calling conventions for lm() and rlm() are quite similar, 
this just doesn't work:
Error in terms.default(formula, data = data) :
	no terms component

1) Is such a modification feasible, and does it make sense to use rlm() (or 
similar) in an anova?
2) How to do this, or is there already such a function?


Thanks in advance,

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Thu Jun 27 18:05:03 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Thu, 27 Jun 2002 18:05:03 +0200 (MET DST)
Subject: [R] signal extraction
Message-ID: <Pine.OSF.4.31.0206271801360.2945-100000@kirk.science.unitn.it>

Hi !

is there a package in R dedicated to the signal analysis ? I'm searching
for statistical methods for the signal extraction from background in a
digital image. Does R have a package to perform this kind of analysis ?

Thanks a lot,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 27 18:25:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2002 18:25:56 +0200
Subject: [R] plot(..., type="h") w/ origin not at y=0
In-Reply-To: <20020627174628.C9014@borneo.univ-mlv.fr>
References: <20020627174628.C9014@borneo.univ-mlv.fr>
Message-ID: <x2r8isd6y3.fsf@biostat.ku.dk>

Cyril Humbert <humbertc at univ-mlv.fr> writes:

> Is it a way to make plots with vertical lines, like plot(x, y, type="h"),
> but starting from a different value than y=0.
> 
> For example, with x=1:3, y=-(1:3), y.orig=-3 :
> 
>   -1  |    
>       |
> y -2  |  |
>       |  |
>   -3  |  |  |  
>       1  2  3 
>          x
>       

You might subtract y.orig from the data and add it to the axis labels....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Jun 27 18:33:51 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 27 Jun 2002 11:33:51 -0500
Subject: [R] GUI's for teaching
In-Reply-To: <r9hyHKAJDxG9EwLX@myatt.demon.co.uk>
Message-ID: <000701c21df8$6cc240c0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Mark Myatt
> Sent: Thursday, June 27, 2002 8:19 AM
> To: R Help
> Subject: Re: [R] GUI's for teaching
> 
> 
> I just thought that I would add my tuppence on this ... what I would
> really like for R is not a GUI in the sense of a point and click data
> analysis system (R is too rich for anything like that too scratch the
> surface) or interactive graphics (I like to script them) but a full
> featured IDE with:
> 
>         1. A syntax highlighting editor
> 
>         2. Code completion features such as automatic insertion of
>         function templates.
> 
>         3. An ability to submit a file of R commands and capture the
>         output in an output window.
> 
>         4. Capturing of errors in code integrated with editor. Some
from
>         of debugging / error tracking / stack tracing would be nice.
> 
>         5. An object inspector showing the objects available in the
>         working environment ... it would be nice (e.g.) to be able to
>         click on a data.frame reference and see column names, classes,
>         &c. And to be able to paste these into the editor.
> 
>         6. Basic project management functions.
> 
>         7. Help system and language guide integrated.
> 

FWIW, there are tools around that will do at least some of what you wish
to do.  There are packages such as ESS/Emacs, WinEdit, WinEdt (note the
difference) and other programmer's editors that handle things like
syntax highlighting, template expansion and the like.

In my case, I am using Multi-Edit 9 under WinXP Pro. I have been using
Multi-Edit for years (since the DOS days....) for both coding and some
text manipulation.  I have templates (ie. bracket/brace/paren pairs and
code structure matching macros) set up for R for some of the more common
expressions, color syntax highlighting and so forth.  Multi-Edit also
supports some Project Management features.

I have also set up a keyword lookup link to the R .CHM help files, so
that when I place the cursor in a keyword and hit Ctrl-F1, the
appropriate R help file is opened with the keyword placed in the .CHM
index lookup field. I have not yet tried any DDE based interaction
between the two packages (ie. highlight and execute code or display
returned output) mainly due to lack of time.

If you look at http://cran.r-project.org/other-software.html, you will
note under Editing Support that there are very good editing packages
configured to work with R that will provide even more functionality than
what I have in place, but given my investment (time and money) in
Multi-Edit, I'll likely stay with it for now. 

If I had to switch, I would look to WinEdt, since it seems to be similar
in look and feel to Multi-Edit and Uwe Ligges has spent much time to
provide the R-WinEdt support files. I don't do any TeX work at this
point, which seems to be one of the strengths of WinEdt, so if you do
that may be something to consider. I have downloaded the demo of WinEdt
and when time permits will experiment with it.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 27 18:47:48 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 27 Jun 2002 09:47:48 -0700 (PDT)
Subject: [R] Fastest way to find the last index k such that x[k] < y in
 a sorted vector x?
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEJGCNAA.hb@maths.lth.se>
Message-ID: <Pine.A41.4.44.0206270938120.101084-100000@homer01.u.washington.edu>

On Thu, 27 Jun 2002, Henrik Bengtsson wrote:

> Hi, I am trying to find the fastest way to
>
>   "find the last index k such that x[k] < y in a *sorted* vector x"
>
> These are my two alternatives:
>
>   x <- sort(rnorm(1e4))
>   y <- 0.2
>
>   # Alt 1
>   k <- max(1, sum(x < y))
>
>   # Alt 2 "divide and conquer"
>   lastIndexLessThan <- function(x, y) {
>     k0 <- 1; k1 <- length(x)
>     while ((dk <- (k1 - k0)) > 1) {
>       k <- k0 + dk %/% 2
>       if (x[k] < y) k0 <- k else k1 <- k
>     }
>     k0
>   }
>   k <- lastIndexLessThan(x, y)
>
> Simple benchmarking shows that alternative 1 is faster for short vectors and
> alternative 2 is faster for long vectors. I believe this is because alt 1 is
> implemented internally.

Yes.

>			 Is there an internal function of alternative 2 that
> I don't know about? It would be great because then it would probably be the
> fastest one on both short and long vectors.

You can use uniroot, eg.
	uniroot(function(i) (x[i]>y)-i/N,c(1,length(x)))$root-1
where N>length(x)

On the other hand, I had to go to vectors of length 10^5 to get any
reproducible difference between this and
 	max(which(x<y))

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 27 18:54:03 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 27 Jun 2002 09:54:03 -0700 (PDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.33.0206270903090.5540-100000@localhost.localdomain>
Message-ID: <Pine.A41.4.44.0206270952340.101084-100000@homer01.u.washington.edu>

On Thu, 27 Jun 2002 rpietro at duke.edu wrote:

>
>
> ---------- Forwarded message ----------
> Hello,
>
>
> I am analyzing a weighted, stratified, clustered survey data set
> with approximately 1 million observations and 50 variables.
>
> I am new to R (I'm a Stata user), and so far
> couldn't find any documentation on how to handle survey data. In
> other words, is there a specific package to handle a combination of
> weigths, clusters and strata. I am also struggling to
> handle such a large data set. Any suggestions and/or references regarding
> these two issues would be greatly appreciated.
>

I don't think there is such a package. Most of the R functions that handle
weights do variance weighting rather than probability weighting.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu Jun 27 19:09:59 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Thu, 27 Jun 2002 13:09:59 -0400 (EDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.33.0206270903090.5540-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.21.0206271259360.446-100000@perrin.socsci.unc.edu>

Data management isn't all that easy in R, but it's certainly
possible.  There are some good tips here:
http://cran.r-project.org/doc/contrib/usingR.pdf

You can also put the data in a database and access them with one of the
database interfaces available (RODBC, RMySQL, RPgSQL).

I'm not sure what you mean by "handle" weights, clusters, and
strata. I'm guessing you want to use the nlme package, but it really
depends on what questions you want to ask.

Best,
Andy Perrin

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


On Thu, 27 Jun 2002 rpietro at duke.edu wrote:

> 
> 
> ---------- Forwarded message ----------
> Hello,
> 
> 
> I am analyzing a weighted, stratified, clustered survey data set
> with approximately 1 million observations and 50 variables.
> 
> I am new to R (I'm a Stata user), and so far
> couldn't find any documentation on how to handle survey data. In
> other words, is there a specific package to handle a combination of
> weigths, clusters and strata. I am also struggling to
> handle such a large data set. Any suggestions and/or references regarding
> these two issues would be greatly appreciated.
> 
> 
> Rick
> 
> 
> 
> 
> Ricardo Pietrobon, MD
> Assistant Professor of Surgery
> Duke University Medical Center
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brett.Magill at slps.org  Thu Jun 27 19:13:33 2002
From: Brett.Magill at slps.org (Brett A Magill)
Date: Thu, 27 Jun 2002 12:13:33 -0500
Subject: [R] FW: re: GUI's for teaching 
Message-ID: <20458245FA51654B8BDE6B4EFF7B519401060D2F@EXCHANGE1.slps.SLPSROOT.ORG>

Have a look at the GUI on dataplot, NIST's plotting software.  It is implemented in tcl/tk.  The site states it is "public domain software" -- open source?  I can't find anything about the license.  In any case...


http://www.itl.nist.gov/div898/software/dataplot/


Brett A. Magill, Evaluator
Research, Assessment, and Evaluation
Saint Louis Public Schools

Brett.Magill at slps.org
 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpietro at duke.edu  Thu Jun 27 19:19:23 2002
From: rpietro at duke.edu (rpietro@duke.edu)
Date: Thu, 27 Jun 2002 13:19:23 -0400 (EDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.21.0206271259360.446-100000@perrin.socsci.unc.edu>
Message-ID: <Pine.LNX.4.33.0206271309530.5540-100000@localhost.localdomain>

Thanks for the reply. By "handle" i mean to adjust the standard errors so
that i can draw inferences about the target population. In my case, my
data set represents a 20% of the US population, and adjusting for the
weights my confidence intervals are corrected for the US population rather
than the local data set.

On Thu, 27 Jun 2002, Andrew Perrin wrote:

> Data management isn't all that easy in R, but it's certainly
> possible.  There are some good tips here:
> http://cran.r-project.org/doc/contrib/usingR.pdf
>
> You can also put the data in a database and access them with one of the
> database interfaces available (RODBC, RMySQL, RPgSQL).
>
> I'm not sure what you mean by "handle" weights, clusters, and
> strata. I'm guessing you want to use the nlme package, but it really
> depends on what questions you want to ask.
>
> Best,
> Andy Perrin
>
> ----------------------------------------------------------------------
> Andrew J Perrin - http://www.unc.edu/~aperrin
> Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu
>
>
> On Thu, 27 Jun 2002 rpietro at duke.edu wrote:
>
> >
> >
> > ---------- Forwarded message ----------
> > Hello,
> >
> >
> > I am analyzing a weighted, stratified, clustered survey data set
> > with approximately 1 million observations and 50 variables.
> >
> > I am new to R (I'm a Stata user), and so far
> > couldn't find any documentation on how to handle survey data. In
> > other words, is there a specific package to handle a combination of
> > weigths, clusters and strata. I am also struggling to
> > handle such a large data set. Any suggestions and/or references regarding
> > these two issues would be greatly appreciated.
> >
> >
> > Rick
> >
> >
> >
> >
> > Ricardo Pietrobon, MD
> > Assistant Professor of Surgery
> > Duke University Medical Center
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 27 19:40:22 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Jun 2002 19:40:22 +0200
Subject: [R] plot(..., type="h") w/ origin not at y=0
References: <20020627174628.C9014@borneo.univ-mlv.fr> <x2r8isd6y3.fsf@biostat.ku.dk>
Message-ID: <3D1B4E06.A741529@statistik.uni-dortmund.de>



Peter Dalgaard BSA wrote:
> 
> Cyril Humbert <humbertc at univ-mlv.fr> writes:
> 
> > Is it a way to make plots with vertical lines, like plot(x, y, type="h"),
> > but starting from a different value than y=0.
> >
> > For example, with x=1:3, y=-(1:3), y.orig=-3 :
> >
> >   -1  |
> >       |
> > y -2  |  |
> >       |  |
> >   -3  |  |  |
> >       1  2  3
> >          x
> >
> 
> You might subtract y.orig from the data and add it to the axis labels....

Or see ?segments:
 plot(x, y, type="n")
 segments(x, y, x, y.orig)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 27 19:59:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Jun 2002 19:59:06 +0200
Subject: [R] using identify() with scatterplot3d()
References: <3D1B34DF.22159AF2@sociology.oxford.ac.uk>
Message-ID: <3D1B526A.486DDD22@statistik.uni-dortmund.de>

Tak Wing Chan wrote:
> 
> Dear all
> 
> I am running R 1.4.1 on a Linux box. I have tried to label data points
> in a 3-d scatterplot, but without much success. What I did was as
> follows:
> 
> > scatterplot3d(x, y, z)
> > identify(x, y, z, row.names(Data))
> 
> When I tried to click on/near the data points, I either receive this
> msg:
> 
> warning: no point with 0.25 inches,
> 
> or some numbers in Data, not the row names, come up on the graph. So I
> wonder if I've got something wrong. Is it possible to use identify()
> with scatterplot3d() ?

Yes, but it's tricky. Since scatterplot3d() performs a projection 3D -->
2D and identify() is designed for 2D, we have to use the following
trick:

scatterplot3d() returns invisibly some useful functions to do the
transformation for the generated plot. So let's assign the result into
"s3d":

  s3d <-  scatterplot3d(x, y, z) 
  # No we can use:
  identify(s3d$xyz.convert(x, y, z), row.names(Data))

For details see the Values section in ?scatterplot3d. 


Anyway, if you want to label *all* points, you can use:

  s3d <- scatterplot3d(x, y, z) 
  text(s3d$xyz.convert(x, y, z), label = row.names(Data), pos = 4)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 27 20:02:21 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 27 Jun 2002 20:02:21 +0200
Subject: [R] Simple Matrix plot question
References: <Pine.LNX.4.33.0206270857150.29575-100000@aberdeen.fpcc.net>
Message-ID: <3D1B532D.ABF7CC7E@statistik.uni-dortmund.de>



Rob Lee wrote:
> 
> Hello.
> 
> I'd like to produce a simple pairs-like plot
> with two data frames - but not a traditional scatter-plot matrix -
> just multiple bivariate plots of data.frame1[i] vs data.frame2[i] ...
> 
> In other words, given data frames X and Y, I'd like multiple plots on a
> page like:
>   Y1 Y2 Y3
> X1
> X2
> X3

?layout is a good point to start, as well as the argument "mfrow" in
par(). Or are you going to do lattice plots?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmail.cis.mcmaster.ca  Thu Jun 27 20:18:43 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Thu, 27 Jun 2002 14:18:43 -0400 (EDT)
Subject: [R] plot(..., type="h") w/ origin not at y=0
In-Reply-To: <20020627174628.C9014@borneo.univ-mlv.fr>
Message-ID: <Pine.SOL.4.33.0206271416330.9372-100000@mcmail.cis.mcmaster.ca>

Dear Cyril,

You might try something like the following:

    vlines <- function(x, y, y.orig){
        plot(range(x), range(c(y, y.orig)), type='n',
            xlab=deparse(substitute(x)), ylab=deparse(substitute(y)))
        for (i in seq(along=x))lines(x[c(i,i)], c(y.orig, y[i]))
        }

    vlines(1:3, y=-(1:3), y.orig=-3)

Note that the third line in your example has zero length.

I hope that this helps,
 John

On Thu, 27 Jun 2002, Cyril Humbert wrote:

> Is it a way to make plots with vertical lines, like plot(x, y, type="h"),
> but starting from a different value than y=0.
>
> For example, with x=1:3, y=-(1:3), y.orig=-3 :
>
>   -1  |
>       |
> y -2  |  |
>       |  |
>   -3  |  |  |
>       1  2  3
>          x
>
> Thanks
> --
> Cyril Humbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu Jun 27 20:35:51 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Thu, 27 Jun 2002 14:35:51 -0400 (EDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.33.0206271309530.5540-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.21.0206271430100.446-100000@perrin.socsci.unc.edu>

The lm function (for linear modelling aka linear regression) includes
case weights with a simple syntax:

foo<-lm(dependent ~ indep + indep + ... ,
	data = <data object>,
	weights = <weight variable>)

nlme uses a slightly different syntax that I don't fully understand but
for which I've successfully used the following syntax:

foo<-lme(random = 1 | <nesting var>,
	fixed = dependent ~ indep + indep + ... ,
	weights = ~1/<weight variable>,
	data = <data object>)

Hope this helps.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


On Thu, 27 Jun 2002 rpietro at duke.edu wrote:

> Thanks for the reply. By "handle" i mean to adjust the standard errors so
> that i can draw inferences about the target population. In my case, my
> data set represents a 20% of the US population, and adjusting for the
> weights my confidence intervals are corrected for the US population rather
> than the local data set.
> 
> On Thu, 27 Jun 2002, Andrew Perrin wrote:
> 
> > Data management isn't all that easy in R, but it's certainly
> > possible.  There are some good tips here:
> > http://cran.r-project.org/doc/contrib/usingR.pdf
> >
> > You can also put the data in a database and access them with one of the
> > database interfaces available (RODBC, RMySQL, RPgSQL).
> >
> > I'm not sure what you mean by "handle" weights, clusters, and
> > strata. I'm guessing you want to use the nlme package, but it really
> > depends on what questions you want to ask.
> >
> > Best,
> > Andy Perrin
> >
> > ----------------------------------------------------------------------
> > Andrew J Perrin - http://www.unc.edu/~aperrin
> > Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> > clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu
> >
> >
> > On Thu, 27 Jun 2002 rpietro at duke.edu wrote:
> >
> > >
> > >
> > > ---------- Forwarded message ----------
> > > Hello,
> > >
> > >
> > > I am analyzing a weighted, stratified, clustered survey data set
> > > with approximately 1 million observations and 50 variables.
> > >
> > > I am new to R (I'm a Stata user), and so far
> > > couldn't find any documentation on how to handle survey data. In
> > > other words, is there a specific package to handle a combination of
> > > weigths, clusters and strata. I am also struggling to
> > > handle such a large data set. Any suggestions and/or references regarding
> > > these two issues would be greatly appreciated.
> > >
> > >
> > > Rick
> > >
> > >
> > >
> > >
> > > Ricardo Pietrobon, MD
> > > Assistant Professor of Surgery
> > > Duke University Medical Center
> > >
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> >
> >
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rlee at fpcc.net  Thu Jun 27 20:40:53 2002
From: rlee at fpcc.net (Rob Lee)
Date: Thu, 27 Jun 2002 12:40:53 -0600 (MDT)
Subject: [R] Simple Matrix plot question
In-Reply-To: <3D1B532D.ABF7CC7E@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.33.0206271237260.29575-100000@aberdeen.fpcc.net>


Yes, I'm exploring the lattice package - I just thought there might be a
"splom"-like function that I was overlooking.  I'm getting the impression 
that I'll just have to play with the lower-level plotting functions.

On Thu, 27 Jun 2002, Uwe Ligges wrote:

> 
> 
> Rob Lee wrote:
> > 
> > Hello.
> > 
> > I'd like to produce a simple pairs-like plot
> > with two data frames - but not a traditional scatter-plot matrix -
> > just multiple bivariate plots of data.frame1[i] vs data.frame2[i] ...
> > 
> > In other words, given data frames X and Y, I'd like multiple plots on a
> > page like:
> >   Y1 Y2 Y3
> > X1
> > X2
> > X3
> 
> ?layout is a good point to start, as well as the argument "mfrow" in
> par(). Or are you going to do lattice plots?
> 
> Uwe Ligges
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Thu Jun 27 20:46:10 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 27 Jun 2002 13:46:10 -0500
Subject: [R] lattice and dates (correcting e-mail formatting glitch - sorry!!)
In-Reply-To: <20020627153024.73020.qmail@web14801.mail.yahoo.com>
References: <20020627153024.73020.qmail@web14801.mail.yahoo.com>
Message-ID: <87sn38tv9p.fsf@lumen.indyrad.iupui.edu>

Hi Nick,

Thanks for the suggestions.  At the suggestion of another reader,
I've settled on using the chron package (from CRAN).  I'll append
an example for those who are interested.

Mike

-- 
Michael A. Miller                               mmiller3 at iupui.edu
  Imaging Sciences, Department of Radiology, IU School of Medicine




df.data <- read.table('df.log')
names(df.data) <- c( 'datestamp', 'timestamp', 'dev', 'size', 
                     'used', 'available', 'percentage', 'path')

library(chron)
library(lattice)

print( df.data$datestamp )
print( df.data$timestamp )

df.data$date <- chron( dates=as.vector(df.data$datestamp), 
                       times=times(df.data$timestamp) )
#df.data$date <- strptime( paste( df.data$datestamp, df.data$timestamp), "%D %X" )
print( df.data$date )

pos <- pretty( as.numeric( df.data$date ) )
lab <- as.character( dates(df.data$date) )
xyplot( used/size ~ as.numeric(date) | path, data=df.data,
        scales = list(x = list(at = pos, labels = lab )))


sample df.log:
06/25/02 13:48:58 node2:/data2          67638296  48221224  15981176  76% /data2
06/26/02 15:59:23 node2:/data2          67638296  52972176  11230224  83% /data2
06/27/02 12:07:45 node2:/data2          67638296  56713248   7489152  89% /data2
06/25/02 13:48:58 node3:/data3          67638296  50150280  14052120  79% /data3
06/26/02 15:59:23 node3:/data3          67638296  54900656   9301736  86% /data3
06/27/02 12:07:45 node3:/data3          67638296  56775680   7426720  89% /data3
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Thu Jun 27 20:49:06 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 27 Jun 2002 14:49:06 -0400
Subject: [R] Fastest way to find the last index k such that x[k] < y in
	a sorted vector x?
In-Reply-To: 
	<Pine.A41.4.44.0206270938120.101084-100000@homer01.u.washington.edu>
References: 
	<Pine.A41.4.44.0206270938120.101084-100000@homer01.u.washington.edu>
Message-ID: <1025203746.9880.101.camel@keittlab-6>

There's also 'which.max()'.

T.

On Thu, 2002-06-27 at 12:47, Thomas Lumley wrote:
> On Thu, 27 Jun 2002, Henrik Bengtsson wrote:
> 
> > Hi, I am trying to find the fastest way to
> >
> >   "find the last index k such that x[k] < y in a *sorted* vector x"
> >
> > These are my two alternatives:
> >
> >   x <- sort(rnorm(1e4))
> >   y <- 0.2
> >
> >   # Alt 1
> >   k <- max(1, sum(x < y))
> >
> >   # Alt 2 "divide and conquer"
> >   lastIndexLessThan <- function(x, y) {
> >     k0 <- 1; k1 <- length(x)
> >     while ((dk <- (k1 - k0)) > 1) {
> >       k <- k0 + dk %/% 2
> >       if (x[k] < y) k0 <- k else k1 <- k
> >     }
> >     k0
> >   }
> >   k <- lastIndexLessThan(x, y)
> >
> > Simple benchmarking shows that alternative 1 is faster for short vectors and
> > alternative 2 is faster for long vectors. I believe this is because alt 1 is
> > implemented internally.
> 
> Yes.
> 
> >			 Is there an internal function of alternative 2 that
> > I don't know about? It would be great because then it would probably be the
> > fastest one on both short and long vectors.
> 
> You can use uniroot, eg.
> 	uniroot(function(i) (x[i]>y)-i/N,c(1,length(x)))$root-1
> where N>length(x)
> 
> On the other hand, I had to go to vectors of length 10^5 to get any
> reproducible difference between this and
>  	max(which(x<y))
> 
> 	-thomas
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Thu Jun 27 21:29:23 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Thu, 27 Jun 2002 15:29:23 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4CF@EPOCH.arqule.com>


# Yes. You are *still* using a matrix in a data frame.  Please do read more
# carefully.

I have read some more R documentation trying to understand difference
between
matrices and data frames etc... and I repeat my example this time
executing EXACTLY the same code with only difference being that in one case
I use smaller data sets ({train,test}-small.csv) and in the second case I
use larger
data sets ({train,test}.csv) - and I got different behaviour.

Small case (10*4) runs fine, larger case (164*119) fails.

Any ideas why this happens ? 

R

> rm(list=ls())
> train.data <- read.csv("train-small.csv", header = TRUE, row.names =
"mol", comment.char="")
> test.data <- read.csv("test-small.csv", header = TRUE, row.names = "mol",
comment.char="")
> yr <- train.data[,1]; xr <- train.data[,-1]
> xr <- scale(xr)
> x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
> mask <- apply(xr, 2, function(x) any(is.na(x)))
> xr <- xr[,!mask] # rm NA's
> ys <- test.data[,1]; xs <- test.data[,-1]
> xs <- scale(xs, center = x.center, scale = x.scale)
> xs <- xs[,!mask]
> train <- data.frame(y = yr, x = xr)
> test <- data.frame(y = ys, x = xs)
> model <- lm(y~., train)
> cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
dim(train) = 10 4 ; dim(test) = 10 4 
> length(predict(model, test))
[1] 10
> train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")
> test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
comment.char="")
[snip...]
> cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
dim(train) = 164 119 ; dim(test) = 35 119 
> length(predict(model, test))
Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) : 
        subscript out of bounds
>

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Friday, June 21, 2002 3:41 PM
To: Czerminski, Ryszard
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:

> --- first problem
>
> If I store 'simulated' data in data frames:
> # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> it still works the same way i.e. the code below works fine
> for simulated data and fails for 'real' data the only
> difference being in actual numeric values stored in data
> structures of the same shape and type.
>
> Any suggestions why this happens ?

Yes. You are *still* using a matrix in a data frame.  Please do read more
carefully.

> --- second problem
>
> > As Andy Liaw pointed out, xr is a matrix.  Take a look at the names of
> > train.  Hint: they do not contain `x'.
>
> Following your hint I am guessing that the fact that names do not contain
> 'x'
> explains why lm(y~., train) form works and lm(y~x, train) fails
> and "lm(y~., train)" means roughly: correlate column "y" to all other
colums

No, it means regress y on all the remaining colums in the data argument.

>
> Where I can find more detail specification of this syntax ?
> In help(lm) I find this paragraph:
>
>      Models for `lm' are specified symbolically.  A typical model has
>      the form `response ~ terms' where `response' is the (numeric)...
>
> which does not quite cover this case.

In any good book on the subject.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jun 27 22:11:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 27 Jun 2002 13:11:47 -0700 (PDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.21.0206271430100.446-100000@perrin.socsci.unc.edu>
Message-ID: <Pine.A41.4.44.0206271306060.101084-100000@homer01.u.washington.edu>

On Thu, 27 Jun 2002, Andrew Perrin wrote:

> The lm function (for linear modelling aka linear regression) includes
> case weights with a simple syntax:
>
> foo<-lm(dependent ~ indep + indep + ... ,
> 	data = <data object>,
> 	weights = <weight variable>)

Yes, but that isn't what he means by weights...

The standard regression weights are variance weights: a weight of 2
denotes an observation with half the variance of a weight of 1.

In survey sampling (and in related missing data and causal inference
models) you need probability weights: a weight of 2 means an observation
had half the chance of being sampled.  You get the same regression
coefficients (more or less) but quite different standard errors.

The `model-robust' sandwich variance estimators give about the right
standard errors (as long as the sampling fraction is small). These are
built in to the survival models, but not in most other software. They are
pretty easy to calculate but with a 20% sample they probably aren't going
to work well.


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Jun 27 22:39:28 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 27 Jun 2002 22:39:28 +0200
Subject: [R] GUI's for teaching
Message-ID: <3.0.32.20020627223928.0091b1b0@162.38.183.200>

At 14:47 26/06/02 -0700, Marc Feldesman wrote:
>Beginners I've taught seem to have more difficulty figuring out which 
>function(s) to use to accomplish a particular task than actually figuring 
>out how to use R (or S-Plus) from the command line.  They also have 
>difficulty remembering the arguments to specific functions once they figure 
>out which ones to use.  The first problem might be resolved by a more fully 
>cross-referenced help system (the help system is great for experienced 
>users, but hard if you don't actually know the name of the function you're 
>looking for).  The second problem might be aided by adding code-completion 
>to the UI - something ESS already does for many packages and libraries.

Yes, that is why I insisted more on R's help system in the last version of
"R for beginners". (BTW, a revised English version is now available on my
home page, see link below, comments are welcome of course, I will send it
soon to CRAN). I think how to use the help system is one of the few things
that are good to know before starting. A nice way to learn R may be to run
it and browse the help in html format: the "See Also"-section has
hyperlinks from one help page to the others. I believe the help pages have
all what people would like to see in a GUI.

Emmanuel Paradis
http://www.isem.univ-montp2.fr/ISEMFre/Equipes/PPP/PPerso/Paradis.php

>I think if these two areas could be addressed, beginners might be less 
>daunted by R/S learning curve.
>
>My $0.01 (US).
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naurry at attbi.com  Fri Jun 28 01:43:03 2002
From: naurry at attbi.com (Naurry Kwon)
Date: Thu, 27 Jun 2002 16:43:03 -0700
Subject: [R] Mac OS X installation
Message-ID: <B940F117.2E0%naurry@attbi.com>

I'm new to Mac and trying to install the R-1.5.1 on my iBook,
unsuccessfully, for my stats class. Can someone send me instructions on how
to install this?

Thanks,
Naurry

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From t.yee at auckland.ac.nz  Fri Jun 28 02:00:33 2002
From: t.yee at auckland.ac.nz (Thomas Yee)
Date: Fri, 28 Jun 2002 12:00:33 +1200
Subject: [R] windres problem
Message-ID: <200206280000.g5S00XF01744@yee.statt.auckland.ac.nz>

Hello,

I am trying to build an R package for Windows from an R package
for Linux. There seems to be a "windres" problem somewhere.
Here's what I get. 

C:\Temp>Rcmd build --binary VGAM > mm
make[2]: windres: Command not found
make[2]: *** [VGAM_res.o] Error 127
make[1]: *** [src/VGAM.dll] Error 2
make: *** [pkg-VGAM] Error 2


In more details, it goes like the following. 



C:\Temp>Rcmd build --binary VGAM
* checking for file 'VGAM/DESCRIPTION' ... OK

make: Entering directory `/cygdrive/c/PROGRA~1/R/rw1051/src/gnuwin32'
make DLLNM= FLIBS="-lg2c -lRblas" \
  -C C:/Temp/VGAM PKG=VGAM RHOME=c:/PROGRA~1/R/rw1051 RLIB=c:/TEMP/Rbuild.972 \
  -f c:/PROGRA~1/R/rw1051/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/c/Temp/VGAM'
---------- Making package VGAM ------------
mkdir -p c:/TEMP/Rbuild.972/VGAM
cp -r   ./INDEX  ./TITLE ./Installation c:/TEMP/Rbuild.972/VGAM/
  adding build stamp to DESCRIPTION
  making DLL
make[2]: Entering directory `/cygdrive/c/Temp/VGAM/src'
make[3]: `libR.a' is up to date.
make[3]: `libRblas.a' is up to date.
windres --include-dir c:/PROGRA~1/R/rw1051/src/include  -i VGAM_res.rc -o VGAM_r
es.o
make[2]: windres: Command not found
make[2]: *** [VGAM_res.o] Error 127
make[2]: Leaving directory `/cygdrive/c/Temp/VGAM/src'
make[1]: *** [src/VGAM.dll] Error 2
make[1]: Leaving directory `/cygdrive/c/Temp/VGAM'
make: *** [pkg-VGAM] Error 2
make: Leaving directory `/cygdrive/c/PROGRA~1/R/rw1051/src/gnuwin32'
*** Installation of VGAM failed ***

installing R.css in c:/TEMP/Rbuild.972

* building 'VGAM_0.4-9.zip'
updating: VGAM/ (stored 0%)
updating: VGAM/INDEX (deflated 24%)
updating: VGAM/TITLE (deflated 13%)
updating: VGAM/Installation (deflated 51%)
updating: VGAM/DESCRIPTION (deflated 37%)


Could somebody please tell me what's gone wrong? What software has to be
installed or reinstalled? The above is using R1.5.1 under Windows 2000 Professional. 
The VGAM library contains FORTRAN and C.
Thanks in advance

Thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Jun 28 02:12:52 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 28 Jun 2002 12:12:52 +1200
Subject: [R] Simple Matrix plot question
References: <Pine.LNX.4.33.0206271237260.29575-100000@aberdeen.fpcc.net>
Message-ID: <3D1BAA04.9334327D@stat.auckland.ac.nz>

Hi

You might be able to do what you want using the split and/or position
arguments to print.trellis.  See the examples in help(print.trellis)
and/or the last example in Deepayan's lattice article in the latest
RNews 
(http://cran.stat.auckland.ac.nz/doc/Rnews/).

If this doesn't do what you want, get back to me if you'd like to know
more about combining grid layout facilities with lattice plots.

Paul


Rob Lee wrote:
> 
> Yes, I'm exploring the lattice package - I just thought there might be a
> "splom"-like function that I was overlooking.  I'm getting the impression
> that I'll just have to play with the lower-level plotting functions.
> 
> On Thu, 27 Jun 2002, Uwe Ligges wrote:
> 
> >
> >
> > Rob Lee wrote:
> > >
> > > Hello.
> > >
> > > I'd like to produce a simple pairs-like plot
> > > with two data frames - but not a traditional scatter-plot matrix -
> > > just multiple bivariate plots of data.frame1[i] vs data.frame2[i] ...
> > >
> > > In other words, given data frames X and Y, I'd like multiple plots on a
> > > page like:
> > >   Y1 Y2 Y3
> > > X1
> > > X2
> > > X3
> >
> > ?layout is a good point to start, as well as the argument "mfrow" in
> > par(). Or are you going to do lattice plots?
> >
> > Uwe Ligges
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yzhou at arcturusag.com  Fri Jun 28 02:27:17 2002
From: yzhou at arcturusag.com (Yi-Xiong Zhou)
Date: Thu, 27 Jun 2002 17:27:17 -0700
Subject: [R] writing a R package
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D230E@GENOME>

Dear Sir/Madam, 

I am trying to write a R package and I found what has been said in the
"Writing R Extensions" is mostly different from what has been done in the
existing packages. For example, in MASS package, there is no *.Rd files nor
*.rd files. There is an R-ex directory, which has all the .R files, which
should be in the R directory according to the manual. Supprisingly, in the R
directory, there is a text file without file extension of .R, which has all
the R functions. 

Could you help me to solve this puzzle? I am lost. 

Thanks. 

Yi-Xiong

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Fri Jun 28 02:52:16 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 28 Jun 2002 12:52:16 +1200
Subject: [R] R-News2002-2  (little suggestion!)
References: <200206261952.g5QJquX10027@mailgate5.cinetic.de>
Message-ID: <3D1BB340.8247C672@stat.auckland.ac.nz>

Hi


chr.schulz at email.de wrote:
> 
> Hello,
> only a little suggestion for the great R-news, which is in my mind
> one of the best contribution to learn R and statistics for practical intentions.
> 
> In some articles the dataSet is easy to get for everyone (i.e. the Time-Series articles ) &
> easy to follow  the examples, but sometimes it is  more diificult i.e
> the present programmer's niche with the really nice example to do
> a lot of rpart object's in one step.
> 
> More advanced "people" are
> have got the skills to adapt this, but "beginners" like me for the last
> grid-examples get "problems" and IMHO it is more easy to understand the
> exmples with "free" dataSets - ( fast to adapt )!?


Good point!  I get frustrated when people send problems/bug reports
which do not contain the data, so I am rather embarassed that I made the
same mistake with the grid article.  

I am trying to obtain permission from the data owners so that I can make
the data set for the last grid example available.  Apologies for not
doing so from the start.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Jun 28 03:05:42 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 28 Jun 2002 13:05:42 +1200
Subject: [R] writing a R package
References: <BBAF0DEC119BD41193C100B0D0788DFE1D230E@GENOME>
Message-ID: <008a01c21e3f$ed8f9c60$252558db@kwan022>

What you looked was the "installed" package.  It will look different to the
"Source".

If you go to any CRAN site, then go to Package Source, get any of the
packages then look at it, it will follow the "Writing R Extensions".

Cheers,

Ko-Kang Wang
------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Yi-Xiong Zhou" <yzhou at arcturusag.com>
To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
Sent: Friday, June 28, 2002 12:27 PM
Subject: [R] writing a R package


> Dear Sir/Madam,
>
> I am trying to write a R package and I found what has been said in the
> "Writing R Extensions" is mostly different from what has been done in the
> existing packages. For example, in MASS package, there is no *.Rd files
nor
> *.rd files. There is an R-ex directory, which has all the .R files, which
> should be in the R directory according to the manual. Supprisingly, in the
R
> directory, there is a text file without file extension of .R, which has
all
> the R functions.
>
> Could you help me to solve this puzzle? I am lost.
>
> Thanks.
>
> Yi-Xiong
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 28 03:12:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 27 Jun 2002 18:12:56 -0700 (PDT)
Subject: [R] writing a R package
In-Reply-To: <BBAF0DEC119BD41193C100B0D0788DFE1D230E@GENOME>
Message-ID: <Pine.A41.4.44.0206271809200.101084-100000@homer01.u.washington.edu>

On Thu, 27 Jun 2002, Yi-Xiong Zhou wrote:

> Dear Sir/Madam,
>
> I am trying to write a R package and I found what has been said in the
> "Writing R Extensions" is mostly different from what has been done in the
> existing packages. For example, in MASS package, there is no *.Rd files nor
> *.rd files. There is an R-ex directory, which has all the .R files, which
> should be in the R directory according to the manual. Supprisingly, in the R
> directory, there is a text file without file extension of .R, which has all
> the R functions.
>
> Could you help me to solve this puzzle? I am lost.

You appear to be looking at the *binary* package.  The documentation
describes the format for the *source* code of a package.

 On operating systems where compiling is difficult, people have provided
compiled binary packages which have a very different format. This format
isn't documented in "Writing R Extensions" because binary packages are
produced by the R INSTALL script, so you don't need to know the format to
write R extensions.

If you go to CRAN you can download the source package for MASS and see
that it does indeed follow the documentation.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jun 28 03:27:46 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 27 Jun 2002 18:27:46 -0700 (PDT)
Subject: [R] Mac OS X installation
In-Reply-To: <B940F117.2E0%naurry@attbi.com>
Message-ID: <Pine.GSO.4.10.10206271826220.6890-100000@fisher.stat.ucla.edu>

Simply get the file 

http://cran.r-project.org/bin/macos/base/rm151_FULL.sit

from CRAN and unpack it on your hard drive somewhere.  This will work on
both OS 9 and OS X.

Exactly, how were you unsuccessful?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 27 Jun 2002, Naurry Kwon wrote:

> I'm new to Mac and trying to install the R-1.5.1 on my iBook,
> unsuccessfully, for my stats class. Can someone send me instructions on how
> to install this?
> 
> Thanks,
> Naurry
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Jun 28 06:12:46 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 27 Jun 2002 23:12:46 -0500
Subject: [R] R for simple stats
Message-ID: <20020628041246.GA23765@isis.visi.com>

Hi everyone,

I'm taking a course in statistics as part of my doctoral program in
education at the U. of Minnesota, USA. I found R via Rpy, a python
module that makes it possible to use R from python scripts.

The instructor refers to SPSS a lot and that seems to be the standard
stats tool around here. But being more of a Unix guy and not intimidated
by programming, I'd like to see if I can do some of my course homework
with R (probably using Rpy frequently).

One thing I've noticed about SPSS is that it makes it extremely easy to
generate all sorts of summary statistics including means, various
trimmed means, skewness, etc. I've not had much luck doing similar
things with R yet. For example, I have yet to find out how to calculate
the skewness of a set of data. (This is a vector in R, right?) The same
is true of trimmed means.

I guess what I'm looking for is a reference that would point me to a
particular R library or function for a particular statistic that I'd
like to calculate. For example, I look up skewness and it tells me to
use the foo function. Does such a think exist?

I'm very impressed with what I see so far and it's likely that my
inexperience with R at this point is making things look harder than they
really are. But my approach has always been to jump in with both feet
and give it a go. I haven't drowned yet.

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bill at barnard-engineering.com  Fri Jun 28 08:47:13 2002
From: bill at barnard-engineering.com (Bill Barnard)
Date: 27 Jun 2002 23:47:13 -0700
Subject: [R] R for simple stats
In-Reply-To: <20020628041246.GA23765@isis.visi.com>
References: <20020628041246.GA23765@isis.visi.com>
Message-ID: <1025246835.1237.13.camel@tioga.barnard-engineering.com>

Cool, I can actually help out a little here. I'm doing a bit of self
study to learn some statistics myself. I will recommend a text I bought
recently, "Modern Applied Statistics with S-PLUS", 3rd Ed. by Venables &
Ripley. It's helped me tremendously with making sense of R in the
context of solving statistical problems, and I might learn to understand
a little statistics along the way.

Here's how I find out about a function I'm interested in:

> help.search("skew")
Help files with alias or title matching `skew',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

k3.linear(boot)         Linear Skewness Estimate

> 
> library(boot)
> ?k3.linear

There is no such function as FOO, but you can type:
> help(k3.linear, package=boot)
to read the help pages. I add the package/library to my search path,
then invoke help as shown, or 
> help(k3.linear)
then read on to see whether that is really the thing I'm looking for.

Cheers,

Bill

On Thu, 2002-06-27 at 21:12, Tim Wilson wrote:
> I guess what I'm looking for is a reference that would point me to a
> particular R library or function for a particular statistic that I'd
> like to calculate. For example, I look up skewness and it tells me to
> use the foo function. Does such a think exist?
-- 
Bill Barnard
bill at barnard-engineering.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 08:56:30 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 07:56:30 +0100 (BST)
Subject: [R] windres problem
In-Reply-To: <200206280000.g5S00XF01744@yee.statt.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0206280753560.27901-100000@gannet.stats>

On Fri, 28 Jun 2002, Thomas Yee wrote:

> Hello,
>
> I am trying to build an R package for Windows from an R package
> for Linux. There seems to be a "windres" problem somewhere.
> Here's what I get.
>
> C:\Temp>Rcmd build --binary VGAM > mm
> make[2]: windres: Command not found
> make[2]: *** [VGAM_res.o] Error 127
> make[1]: *** [src/VGAM.dll] Error 2
> make: *** [pkg-VGAM] Error 2

windes is part of the compiler suite, so you either have not installed the
compilers or not put them in your path.

Please review `readme.packages'.

And, BTW, I suggest you use Rcmd check or even Rcmd INSTALL first, as you
can't build a binary package unless you can install it,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 28 09:25:24 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 28 Jun 2002 09:25:24 +0200
Subject: [R] lm.influence in multivariate linear model
In-Reply-To: <4.2.2.20020626155746.00a873e0@pop3.arnet.com.ar>
References: <4.2.2.20020626155746.00a873e0@pop3.arnet.com.ar>
Message-ID: <15644.3940.620118.126108@gargle.gargle.HOWL>

>>>>> "Daniel" == Daniel Mastropietro <mastropi at uwalumni.com> writes:


    Daniel> I have fitted a multivariate linear model using lm()
    Daniel> but then I cannot apply any function available for
    Daniel> diagnostics, such as lm.influence(), rstudent()
    Daniel> etc. I get the following error message when calling
    Daniel> any of the above functions.

    Daniel> "Error in lm.influence(model1) : non-NA residual
    Daniel> length does not match cases used in fitting"

	    ....

    Daniel> The command for the fit is simply  lm(y ~ x)
    Daniel> which runs properly.

    Daniel> Are the diagnostic measures only available for
    Daniel> univariate linear models?

currently, yes.
Improvements to the code (and docu) are very welcome!
R is an open & volunteer project.

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Fri Jun 28 09:47:55 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Fri, 28 Jun 2002 09:47:55 +0200 (MET DST)
Subject: [R] GUI's for teaching
In-Reply-To: <3.0.32.20020627223928.0091b1b0@162.38.183.200>
Message-ID: <Pine.OSF.3.96.1020628093109.25417A-100000@paleo>



On Thu, 27 Jun 2002, Emmanuel Paradis wrote:

>.../...
> I believe the help pages have
> all what people would like to see in a GUI.

Well, no, that's exagerated, isn't it?. The interactive help system is an
essential
tool, but it's not all what people would like to see in a GUI. If it were
so,
we would not be talking on this matter.

I think that the problem is that there is not a consensus among programers
on which tool is better to develop GUIs for R. If such a consensus
could be reached, then people could develop GUIs according to their needs
and feelings and it would be just a matter of let flowers flourish.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Fri Jun 28 10:27:11 2002
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Fri, 28 Jun 2002 09:27:11 +0100 (GMT)
Subject: [R] Ordering in factors ...
Message-ID: <Pine.LNX.4.10.10206280923040.29438-100000@mercury.quantex>

This is a trivial question probably buried in page 21 somewhere of An
Idiot's Guide to R.

In MASS(2) P26 for S-Plus you can write:

ordered(income)<-c("Lo","Mid","Hi")

but in R 1.5.0 you get the response to such an instruction:

Error: couldn't find function "ordered<-"

What's the fix to this?  I have a series of models where the factors as
reported need re-ordering so that the glm reports the coefficients with
respect to the correct level.  At the moment, while the solutions are
identical, I actually have to do some arithmetic to show this.

TIA

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Fri Jun 28 10:31:26 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Fri, 28 Jun 2002 10:31:26 +0200
Subject: [R] signal extraction
References: <Pine.OSF.4.31.0206271801360.2945-100000@kirk.science.unitn.it>
Message-ID: <3D1C1EDE.ACAD606C@pasteur.fr>

Paola Lecca wrote:

> Hi !
>
> is there a package in R dedicated to the signal analysis ? I'm searching
> for statistical methods for the signal extraction from background in a
> digital image. Does R have a package to perform this kind of analysis ?
>
> Thanks a lot,
> Paola.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

I think that the package  AnalyzeFMRI (see CRAN) is dedicated to the analysis of
magnetic resonance Imaging
via some modelling with splines and Fourier transformation. However this package
seems not to be for the
image preprocessing. In general the definition of noise in image is depending of
the underlying modelling.
There are certainly many methods of images segmentation which are not included in
R.
Perhaps you can use if it exists in R a package based on mixture
modelling and use the threshold.of the corresponding histograms in order to
discrimnate signal from background.
I think that there is many other solutions which can be easily used for that task.

Best regards.

Aboubakar Maitournam.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 11:03:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Jun 2002 10:03:10 +0100 (BST)
Subject: [R] Ordering in factors ...
In-Reply-To: <Pine.LNX.4.10.10206280923040.29438-100000@mercury.quantex>
Message-ID: <Pine.GSO.4.44.0206280959500.24153-100000@auk.stats>

On Fri, 28 Jun 2002 j.logsdon at lancaster.ac.uk wrote:

> This is a trivial question probably buried in page 21 somewhere of An
> Idiot's Guide to R.
>
> In MASS(2) P26 for S-Plus you can write:
>
> ordered(income)<-c("Lo","Mid","Hi")
>
> but in R 1.5.0 you get the response to such an instruction:
>
> Error: couldn't find function "ordered<-"
>
> What's the fix to this?  I have a series of models where the factors as
> reported need re-ordering so that the glm reports the coefficients with
> respect to the correct level.  At the moment, while the solutions are
> identical, I actually have to do some arithmetic to show this.

There are scripts for MASS3 in the VR bundle, which give

income <- ordered(c("Mid","Hi","Lo","Mid","Lo","Hi","Lo"))
income
as.numeric(income)

inc <- ordered(c("Mid","Hi","Lo","Mid","Lo","Hi","Lo"),
    levels = c("Lo", "Mid", "Hi"))
inc

ordered factors in R are not quite the same as those in S.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From corneliu at th.physik.uni-frankfurt.de  Fri Jun 28 11:03:10 2002
From: corneliu at th.physik.uni-frankfurt.de (Thomas Cornelius)
Date: Fri, 28 Jun 2002 11:03:10 +0200
Subject: [R] Symmetric persp()-plot
Message-ID: <3D1C264D.53FD17ED@th.physik.uni-frankfurt.de>


Hi,

I uses R mainly for the visualisation of data (persp,contour, ...) and
have the following problem:

I have a spherical symmetric object (values only depend on the radius)
where the funcion f(radius) is
not known exactly. My table looks like this:

radius  value
  0            5
  0.5         4
  1            3.5
 ...             ...

How can I plot these table with persp()? Is there a function which
generates me an array (in the
x-y-plane) for an 3d-Plot?

Thanks in advance

Thomas

--
-------------------------------------------------------------------
Thomas Cornelius

Institut fuer Theoretische Physik
J.W.Goethe Universitaet
Robert-Mayer-Str. 8-10                 Phone : [+49]-69-798-22552
D-60054 Frankfurt am Main              Fax   : [+49]-69-798-28350

eMail : corneliu at th.physik.uni-frankfurt.de
-------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Fri Jun 28 11:18:42 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Fri, 28 Jun 2002 10:18:42 +0100
Subject: [R] Indexing time series objects
Message-ID: <20020628091019.784D91C143@mail.liacc.up.pt>

Hi. I have a question concerning the easiest way to index a time series 
object holding some stock quotes. An example:

> ibm <- get.hist.quote("IBM",start="2000-01-01")

My question is:- Suppose I want to know the stock quotes on 2000-01-03. Which 
is the easiest way to index the "ibm" time series object to get them?
I got what I wanted using:
> 
window(ibm,start=julian(as.POSIXct("2000-01-03")),end=julian(as.POSIXct("2000-01-03")))

But I'm sure there is a much better way to get it!

In summary, my problem is to find the easiest way to convert from my 
"natural" way of thinking on the quotes (which is date-based) into the 
indexing schema of time series objects, which by looking at the code of 
"get.hist.quote" is based on the conversion into the number of days (using 
"julian") from an origin.

Thank you for any help.
Luis

-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jun 28 11:15:10 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 28 Jun 2002 10:15:10 +0100
Subject: [R] GUI's for teaching
In-Reply-To: <000701c21df8$6cc240c0$0201a8c0@MARC>
References: <r9hyHKAJDxG9EwLX@myatt.demon.co.uk>
 <000701c21df8$6cc240c0$0201a8c0@MARC>
Message-ID: <L+lKHXAekCH9EwXr@myatt.demon.co.uk>

Marc Schwartz <mschwartz at medanalytics.com> writes:

>FWIW, there are tools around that will do at least some of what you wish
>to do.  There are packages such as ESS/Emacs, WinEdit, WinEdt (note the
>difference) and other programmer's editors that handle things like
>syntax highlighting, template expansion and the like.

[Snip]

On Windows, I use Visual SlickEdit which can do a lot of the IDE stuff.
On Linux, I use KATE which can do some of the IDE stuff but will
probably move over to SlickEdit when my next license renewal comes up.
These are pretty good tools but are not really capable of really tight
integration with R. I suppose what I would like is something like the
Delphi IDE for R (i.e. something more than a good editor).

Best wishes,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emami at knmi.nl  Fri Jun 28 13:01:55 2002
From: emami at knmi.nl (Nader Emami)
Date: Fri, 28 Jun 2002 13:01:55 +0200
Subject: [R] nnet
Message-ID: <3D1C4223.7B7F8BF5@knmi.nl>

Hello,

I have analysed  univariable (temperature) time series with ARIMA module
and  I would like to analyse this with Neural Networks. My question is:
Is the "nnet" module appropriate for this experiment? Maybe there is a
another module which I can use for my experiment!

Regards,
Nader

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ccleland at optonline.net  Fri Jun 28 12:46:28 2002
From: ccleland at optonline.net (Chuck Cleland)
Date: Fri, 28 Jun 2002 06:46:28 -0400
Subject: [R] Ordering in factors ...
References: <Pine.LNX.4.10.10206280923040.29438-100000@mercury.quantex>
Message-ID: <3D1C3E84.4EB5F6BF@optonline.net>

j.logsdon at lancaster.ac.uk wrote:
> In MASS(2) P26 for S-Plus you can write:
> 
> ordered(income)<-c("Lo","Mid","Hi")
> 
> but in R 1.5.0 you get the response to such an instruction:
> 
> Error: couldn't find function "ordered<-"

Try this:

income <- ordered(income, levels=c("Lo", "Mid", "Hi"))

Chuck Cleland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Jun 28 13:46:41 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 28 Jun 2002 06:46:41 -0500
Subject: [R] Indexing time series objects
In-Reply-To: <20020628091019.784D91C143@mail.liacc.up.pt>
References: <20020628091019.784D91C143@mail.liacc.up.pt>
Message-ID: <20020628114641.GA13042@sonny.eddelbuettel.com>

On Fri, Jun 28, 2002 at 10:18:42AM +0100, Luis Torgo wrote:
> > ibm <- get.hist.quote("IBM",start="2000-01-01")
[...] 
> window(ibm,start=julian(as.POSIXct("2000-01-03")),end=julian(as.POSIXct("2000-01-03")))
[...]
> In summary, my problem is to find the easiest way to convert from my 
> "natural" way of thinking on the quotes (which is date-based) into the 
> indexing schema of time series objects, which by looking at the code of 
> "get.hist.quote" is based on the conversion into the number of days (using 
> "julian") from an origin.

I don't think there is -- ts() cannot deal that well with "business-daily"
data. It is intended for monthly or quarterly data with regular increments,
or frequency.  Dealing with daily data with weekends and holidays is much
harder. Adrian's solution of converting to Julian and padding with NaN for
non-business days is probably as good as it gets. 

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 28 14:15:57 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Jun 2002 08:15:57 -0400
Subject: dataplot oen source? (was: RE: [R] FW: re: GUI's for teaching)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3F2@usrymx10.merck.com>

IIRC, the license stated in the source code of dataplot is rather
restrictive.  I don't think one is allowed to use the source as can be done
with GPL code.

Cheers,
Andy

> -----Original Message-----
> From: Brett A Magill [mailto:Brett.Magill at slps.org]
> Sent: Thursday, June 27, 2002 1:14 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] FW: re: GUI's for teaching
> 
> 
> Have a look at the GUI on dataplot, NIST's plotting software. 
>  It is implemented in tcl/tk.  The site states it is "public 
> domain software" -- open source?  I can't find anything about 
> the license.  In any case...
> 
> 
> http://www.itl.nist.gov/div898/software/dataplot/
> 
> 
> Brett A. Magill, Evaluator
> Research, Assessment, and Evaluation
> Saint Louis Public Schools
> 
> Brett.Magill at slps.org
>  
>  
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Detlef.Steuer at unibw-hamburg.de  Fri Jun 28 14:28:05 2002
From: Detlef.Steuer at unibw-hamburg.de (Detlef Steuer)
Date: Fri, 28 Jun 2002 14:28:05 +0200 (CEST)
Subject: [R] : RODBC and Sybase
Message-ID: <XFMail.20020628142805.steuer@unibw-hamburg.de>

Hello all!

I?m trying to use the RODBC-0.8-3 package with Sybase 11.0.3.3 on Linux.
R is R-1.5.1.

My ODBC DSN seems to be configured. I can connect and work  using isql from
unixODBC.

Now, if I try 
library(RODBC)
channel <- odbcConnect("SYBASE","user","pass")

everything seems to work fine. (There is no error message, channel != 0)

Nevertheless: all and every SQL statements return "No data", i.e.

sqlQuery(channel, "use pubs2")
[1] "No data"

sqlQuery(channel, "select * from authors")
[1] "No data"

Does anybody have an idea where I could start to look for failure?
Or better :-) : Any idea what is going on and what to do to get data out of
Sybase?

Thx a lot,
detlef

Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html

***** Encrypted mail preferred *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Fri Jun 28 14:51:02 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Fri, 28 Jun 2002 16:51:02 +0400 (MSD)
Subject: [R] Fitting several spectra simultaneously
Message-ID: <Pine.LNX.4.33.0206281644300.541-100000@pcf004.jinr.ru>

Hello everybody.

How can I fit _several_ spectra (usual histograms in R) simultaneously,
with some parameters having the _common_ values for _all_ spectra (and
independent ones for others)?


Thanks a lot,

Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 14:47:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 13:47:42 +0100 (BST)
Subject: [R] : RODBC and Sybase
In-Reply-To: <XFMail.20020628142805.steuer@unibw-hamburg.de>
Message-ID: <Pine.LNX.4.31.0206281346000.1230-100000@gannet.stats>

Does any other source work?  I think RODBC needs to be updated to work
with 1.5.x (because of NA changes).


On Fri, 28 Jun 2002, Detlef Steuer wrote:

> Hello all!
>
> Im trying to use the RODBC-0.8-3 package with Sybase 11.0.3.3 on Linux.
> R is R-1.5.1.
>
> My ODBC DSN seems to be configured. I can connect and work  using isql from
> unixODBC.
>
> Now, if I try
> library(RODBC)
> channel <- odbcConnect("SYBASE","user","pass")
>
> everything seems to work fine. (There is no error message, channel != 0)
>
> Nevertheless: all and every SQL statements return "No data", i.e.
>
> sqlQuery(channel, "use pubs2")
> [1] "No data"
>
> sqlQuery(channel, "select * from authors")
> [1] "No data"
>
> Does anybody have an idea where I could start to look for failure?
> Or better :-) : Any idea what is going on and what to do to get data out of
> Sybase?
>
> Thx a lot,
> detlef
>
> Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html
>
> ***** Encrypted mail preferred *****
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Fri Jun 28 14:54:39 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Fri, 28 Jun 2002 16:54:39 +0400 (MSD)
Subject: [R] Re: Fitting several spectra simultaneously
In-Reply-To: <Pine.LNX.4.33.0206281644300.541-100000@pcf004.jinr.ru>
Message-ID: <Pine.LNX.4.33.0206281652160.541-100000@pcf004.jinr.ru>

I'm sorry, my last sentense was stupid ;)  It's better to remove it:

=================

 Hello everybody.

 How can I fit _several_ spectra (usual histograms in R) simultaneously,
 with some of the parameters having the _common_ values for _all_ spectra?


 Thanks a lot,

 Timur.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 28 15:27:39 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 28 Jun 2002 09:27:39 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4D8@EPOCH.arqule.com>

This time I use the same file for train.data and test.data
throwing in "names(test) <- names(train)" before predict() for double
protection (:-)
and it still fails...

Is it some weird problem with this particular data set ? or a bug ?
(why "subscript out of bounds" ?)

> rm(list=ls())
> train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")
> test.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
comment.char="")
> yr <- train.data[,1]; xr <- train.data[,-1]
> xr <- scale(xr)     # matrix <- scale(data.frame)
> x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
> mask <- apply(xr, 2, function(x) any(is.na(x)))
> xr <- xr[,!mask] # rm NA's
> ys <- test.data[,1]; xs <- test.data[,-1]
> xs <- scale(xs, center = x.center, scale = x.scale)
> xs <- xs[,!mask]
> train <- data.frame(y = yr, x = xr)
> test <- data.frame(y = ys, x = xs)
> model <- lm(y~., train)
> cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
dim(train) = 164 119 ; dim(test) = 164 119 
> names(test) <- names(train)
> length(predict(model, test))
Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) : 
        subscript out of bounds
>

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: Liaw, Andy [mailto:andy_liaw at merck.com]
Sent: Friday, June 28, 2002 8:46 AM
To: 'Czerminski, Ryszard'
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


You can try:

  names(test) <- names(train)

before calling predict() to make sure that the variable names match.
Without your data files, it's hard to tell why your first example worked.

Andy

> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Thursday, June 27, 2002 3:29 PM
> To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> 
> # Yes. You are *still* using a matrix in a data frame.  
> Please do read more
> # carefully.
> 
> I have read some more R documentation trying to understand difference
> between
> matrices and data frames etc... and I repeat my example this time
> executing EXACTLY the same code with only difference being 
> that in one case
> I use smaller data sets ({train,test}-small.csv) and in the 
> second case I
> use larger
> data sets ({train,test}.csv) - and I got different behaviour.
> 
> Small case (10*4) runs fine, larger case (164*119) fails.
> 
> Any ideas why this happens ? 
> 
> R
> 
> > rm(list=ls())
> > train.data <- read.csv("train-small.csv", header = TRUE, row.names =
> "mol", comment.char="")
> > test.data <- read.csv("test-small.csv", header = TRUE, 
> row.names = "mol",
> comment.char="")
> > yr <- train.data[,1]; xr <- train.data[,-1]
> > xr <- scale(xr)
> > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, 
> "scaled:scale")
> > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > xr <- xr[,!mask] # rm NA's
> > ys <- test.data[,1]; xs <- test.data[,-1]
> > xs <- scale(xs, center = x.center, scale = x.scale)
> > xs <- xs[,!mask]
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 10 4 ; dim(test) = 10 4 
> > length(predict(model, test))
> [1] 10
> > train.data <- read.csv("train.csv", header = TRUE, 
> row.names = "mol",
> comment.char="")
> > test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> comment.char="")
> [snip...]
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 164 119 ; dim(test) = 35 119 
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) : 
>         subscript out of bounds
> >
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Friday, June 21, 2002 3:41 PM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> 
> > --- first problem
> >
> > If I store 'simulated' data in data frames:
> > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > it still works the same way i.e. the code below works fine
> > for simulated data and fails for 'real' data the only
> > difference being in actual numeric values stored in data
> > structures of the same shape and type.
> >
> > Any suggestions why this happens ?
> 
> Yes. You are *still* using a matrix in a data frame.  Please 
> do read more
> carefully.
> 
> > --- second problem
> >
> > > As Andy Liaw pointed out, xr is a matrix.  Take a look at 
> the names of
> > > train.  Hint: they do not contain `x'.
> >
> > Following your hint I am guessing that the fact that names 
> do not contain
> > 'x'
> > explains why lm(y~., train) form works and lm(y~x, train) fails
> > and "lm(y~., train)" means roughly: correlate column "y" to 
> all other
> colums
> 
> No, it means regress y on all the remaining colums in the 
> data argument.
> 
> >
> > Where I can find more detail specification of this syntax ?
> > In help(lm) I find this paragraph:
> >
> >      Models for `lm' are specified symbolically.  A typical 
> model has
> >      the form `response ~ terms' where `response' is the 
> (numeric)...
> >
> > which does not quite cover this case.
> 
> In any good book on the subject.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

----------------------------------------------------------------------------
--
Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Detlef.Steuer at unibw-hamburg.de  Fri Jun 28 15:03:08 2002
From: Detlef.Steuer at unibw-hamburg.de (Detlef Steuer)
Date: Fri, 28 Jun 2002 15:03:08 +0200 (CEST)
Subject: [R] : RODBC and Sybase
In-Reply-To: <Pine.LNX.4.31.0206281346000.1230-100000@gannet.stats>
Message-ID: <XFMail.20020628150308.steuer@unibw-hamburg.de>


 On 28-Jun-2002 ripley at stats.ox.ac.uk wrote:
> Does any other source work?  I think RODBC needs to be updated to work
> with 1.5.x (because of NA changes).

I checked with MySQL/MyODBC/R-1.5.0 and it worked in the very short test I
performed.
There were no NAs involved, so perhaps, I was lucky.

> 

Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html

***** Encrypted mail preferred *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jun 28 15:54:17 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 28 Jun 2002 09:54:17 -0400
Subject: [R] GUIs
Message-ID: <20020628095417.7b7307d5.fharrell@virginia.edu>

Several people have posted very good thoughts on the issue of making R more "student friendly."  My personal summary of these and what's needed, perhaps not just for students, is as follows.  Emacs/Xemacs with ESS does part of this but non-everyday users need a simpler editor.

 No point and click analyses- these instill bad practices and are not replicable.  Even for drawing diagrams, command line applications can be far superior to point and click (see http://hesweb1.med.virginia.edu/biostat/teaching/statcomp/notes.pdf for examples using graphviz and LaTeX).

. Very friendly editor with syntax highlighting, auto-indenting, F1 key calls up documentation on object currently pointed to by cursor.  If the object is the name of a common generic function (e.g., plot,summary,print,predict) a menu of available methods appears for user selection.  Hitting F2 should bring up a skeleton function invocation (and perhaps do function name completion).

. Optional routing of output to a cumulative report window (Sweave should also be investigated here)

. Multi-tabbed graphics output window or separate process running a postscript viewer that is live-linked to the R session

and the most important features:

 Extensive help tree with multiple views: (1) functions organized by key words; (2) functions organized by branches of statistics; (3) functions organized alphabetically; (4) statistical concepts [e.g., (a) group comparisons, each type such as two-sample comparison further divided into parametric and nonparametric; (b) regression, (c) EDA, ...]; (5) compendium by needed result; (6) manuals.  For a basic stat class, view (4) needs to be prominent, and under each test or method there needs to be a representative example (e.g., for a Wilcoxon 2-sample test of y by levels of g type ..... but it's better to think of this as a special case of the Kruskal-Wallis test which may be obtained by typing .... or the Spearman test which may be obtained by typing ....).

For (6) there needs to be options to browse manuals on the web, to download them for future quick access, and to update already downloaded ones.  A tree structure will help navigate manuals from different web sources.  Links to such manuals need to be present for the other views.  For (4) online case studies would be especially helpful (containing e.g., why a test was selected, graphical diagnostics for the test).

All trees need to be locally modifiable to add local sources.  Each user-contributed package needs to have several hooks so that they are automatically pooled into the basic documentation.

A good overall approach for online documentation development might be along the lines of the Linux Documentation Project.  There is something to be said for having a central web site developed and maintained by a group of volunteers ("Rdoc-core") for the documentation component that is not live-linked to the user commands.  Components could be divided up and refined over time by individuals, and perhaps linked to comments/criticism from others.  Imagine just hitting the "Reload" button on your browser to get improvements in the docs or to get new comments/examples/warnings/simulations/references posted by other users.

I'm sure others will have many improvements to this sketch if the overall approach is worthwhile.

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Fri Jun 28 15:12:18 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Fri, 28 Jun 2002 15:12:18 +0200
Subject: [R] signal extraction
References: <Pine.OSF.4.31.0206271801360.2945-100000@kirk.science.unitn.it> <3D1C1EDE.ACAD606C@pasteur.fr>
Message-ID: <3D1C60B2.7E6D0EB6@pasteur.fr>

Aboubakar Maitournam wrote:

> Paola Lecca wrote:
>
> > Hi !
> >
> > is there a package in R dedicated to the signal analysis ? I'm searching
> > for statistical methods for the signal extraction from background in a
> > digital image. Does R have a package to perform this kind of analysis ?
> >
> > Thanks a lot,
> > Paola.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> I think that the package  AnalyzeFMRI (see CRAN) is dedicated to the analysis of
> magnetic resonance Imaging
> via some modelling with splines and Fourier transformation. However this package
> seems not to be for the
> image preprocessing. In general the definition of noise in image is depending of
> the underlying modelling.
> There are certainly many methods of images segmentation which are not included in
> R.
> Perhaps you can use if it exists in R a package based on mixture
> modelling and use the threshold.of the corresponding histograms in order to
> discrimnate signal from background.
> I think that there is many other solutions which can be easily used for that task.
>
> Best regards.
>
> Aboubakar Maitournam.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

I have forgotten two packages based on wavelets transformations (see CRAN please) :
waveslim and wavethresh.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 28 14:46:06 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Jun 2002 08:46:06 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC3F3@usrymx10.merck.com>

You can try:

  names(test) <- names(train)

before calling predict() to make sure that the variable names match.
Without your data files, it's hard to tell why your first example worked.

Andy

> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Thursday, June 27, 2002 3:29 PM
> To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> 
> # Yes. You are *still* using a matrix in a data frame.  
> Please do read more
> # carefully.
> 
> I have read some more R documentation trying to understand difference
> between
> matrices and data frames etc... and I repeat my example this time
> executing EXACTLY the same code with only difference being 
> that in one case
> I use smaller data sets ({train,test}-small.csv) and in the 
> second case I
> use larger
> data sets ({train,test}.csv) - and I got different behaviour.
> 
> Small case (10*4) runs fine, larger case (164*119) fails.
> 
> Any ideas why this happens ? 
> 
> R
> 
> > rm(list=ls())
> > train.data <- read.csv("train-small.csv", header = TRUE, row.names =
> "mol", comment.char="")
> > test.data <- read.csv("test-small.csv", header = TRUE, 
> row.names = "mol",
> comment.char="")
> > yr <- train.data[,1]; xr <- train.data[,-1]
> > xr <- scale(xr)
> > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, 
> "scaled:scale")
> > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > xr <- xr[,!mask] # rm NA's
> > ys <- test.data[,1]; xs <- test.data[,-1]
> > xs <- scale(xs, center = x.center, scale = x.scale)
> > xs <- xs[,!mask]
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 10 4 ; dim(test) = 10 4 
> > length(predict(model, test))
> [1] 10
> > train.data <- read.csv("train.csv", header = TRUE, 
> row.names = "mol",
> comment.char="")
> > test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> comment.char="")
> [snip...]
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 164 119 ; dim(test) = 35 119 
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) : 
>         subscript out of bounds
> >
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Friday, June 21, 2002 3:41 PM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> 
> > --- first problem
> >
> > If I store 'simulated' data in data frames:
> > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > it still works the same way i.e. the code below works fine
> > for simulated data and fails for 'real' data the only
> > difference being in actual numeric values stored in data
> > structures of the same shape and type.
> >
> > Any suggestions why this happens ?
> 
> Yes. You are *still* using a matrix in a data frame.  Please 
> do read more
> carefully.
> 
> > --- second problem
> >
> > > As Andy Liaw pointed out, xr is a matrix.  Take a look at 
> the names of
> > > train.  Hint: they do not contain `x'.
> >
> > Following your hint I am guessing that the fact that names 
> do not contain
> > 'x'
> > explains why lm(y~., train) form works and lm(y~x, train) fails
> > and "lm(y~., train)" means roughly: correlate column "y" to 
> all other
> colums
> 
> No, it means regress y on all the remaining colums in the 
> data argument.
> 
> >
> > Where I can find more detail specification of this syntax ?
> > In help(lm) I find this paragraph:
> >
> >      Models for `lm' are specified symbolically.  A typical 
> model has
> >      the form `response ~ terms' where `response' is the 
> (numeric)...
> >
> > which does not quite cover this case.
> 
> In any good book on the subject.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at vip.webmails.com  Fri Jun 28 17:02:27 2002
From: rjvbertin at vip.webmails.com (R.J.V. Bertin)
Date: Fri, 28 Jun 2002 17:02:27 +0200
Subject: [R] handling of missing values in aov/lm
Message-ID: <1025276547.3d1c7a83cd194@webinbox.com>

R provides a few ways of handling missing values, a.o. in the context of an 
anova (aov); 2 types of exclusion, and failure.

In some situations, I personally like to have missing values replaced by 
the mean (or the median) for the given combination of factors.
A routine that does that is something like the code included below. It 
works, but is (of course) rather slow. It would be much quicker if sapply() 
could be used -- and I imagine that somewhere in the "innards" of aov or lm 
the data will have been broken up by factors such that sapply could be 
applied. Is there a good (statistical or other) reason why there is no such 
option? And alternatively, is there a more efficient solution than my code 
below?

Thanks again,


-- 
RJV Bertin

NB: return address not valid; use  r j v b e r t i n  at  h o t m a i l  
dot  c o m




df.Missing.Mean.VV1 <- function(df,verbose=F)
{ ## replace missing values in the dataframe df by the mean of the 
corresponding column for each combination of the factors that interest us 
here.
  ## have to find a more elegant fashion to find the factor columns!
     Subjects<-length(levels(df$Snr))
       ## construct an array to receive the means for each combination of 
the relevant factors:
     Types<-length(levels(df$Type))
     sizes<-length(levels(df$size))
     Modalities<-length(levels(df$Modality))
     replval<-rep(NA, Subjects*Types*sizes*Modalities)
     dim(replval)<-c(Subjects,Types,sizes,Modalities)
     nSS<-as.numeric(df$Snr)
     nT<-as.numeric(df$Type)
     nS<-as.numeric(df$size)
     nM<-as.numeric(df$Modality)
     for( i in 1:ncol(df) ){
          m<-mean(df[,i],na.rm=T)
          if( !is.na(m) ){
               for( T in 1:Types ){
                    for( S in 1:sizes ){
                         for( M in 1:Modalities ){
                              m <- mean( df[,i][ nT==T & nS==S & nM==M ], 
na.rm=T )
                                ## subject-dependency should be redundant!
                              for( SS in 1:Subjects ){
                                   replval[SS,T,S,M] <- m
                              }
                         }
                    }
               }
               for( j in 1:length(df[,i]) ){
                    if( is.na(df[,i][j]) ){
                         SS<-nSS[j] ; T<-nT[j] ; S<-nS[j] ; M<-nM[j]
                         if( verbose ){
                              print( paste( "df[,", i, ",", j, "] == NA <-",
#                                       "mean(Snr=", SS, ",T=", T, 
",S=",S,",M=",M,")==",
                                        "mean(Snr=", df$Snr[j], ",T=", 
df$Type[j], ",S=",df$size[j],",M=",df$Modality[j],")==",
                                        replval[SS,T,S,M],
                              sep="" ))
                         }
                         df[,i][j]<-replval[SS,T,S,M]
                    }
               }
          }
     }
     rm(nSS,nT,nS,nM,replval)
     df
}



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Jun 28 17:11:42 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 28 Jun 2002 08:11:42 -0700
Subject: [R] R for simple stats
In-Reply-To: <20020628041246.GA23765@isis.visi.com>
References: <20020628041246.GA23765@isis.visi.com>
Message-ID: <p05111a01b9422bec9321@[128.115.153.6]>

If you go to the R web site, http://www.R-project.org/, and follow 
the documentation links, you will find a very good set of pdf's that 
should help a lot.

If you type
   ?mean
you will get the man page for mean, and see its "trim" argument.

Generally speaking, however, R is not oriented towards generating 
lots of summary stats for lots of variables with just a few commands. 
A couple of places to start looking are
   ?aggregate
   ?summary

-Don

At 11:12 PM -0500 6/27/02, Tim Wilson wrote:
>Hi everyone,
>
>I'm taking a course in statistics as part of my doctoral program in
>education at the U. of Minnesota, USA. I found R via Rpy, a python
>module that makes it possible to use R from python scripts.
>
>The instructor refers to SPSS a lot and that seems to be the standard
>stats tool around here. But being more of a Unix guy and not intimidated
>by programming, I'd like to see if I can do some of my course homework
>with R (probably using Rpy frequently).
>
>One thing I've noticed about SPSS is that it makes it extremely easy to
>generate all sorts of summary statistics including means, various
>trimmed means, skewness, etc. I've not had much luck doing similar
>things with R yet. For example, I have yet to find out how to calculate
>the skewness of a set of data. (This is a vector in R, right?) The same
>is true of trimmed means.
>
>I guess what I'm looking for is a reference that would point me to a
>particular R library or function for a particular statistic that I'd
>like to calculate. For example, I look up skewness and it tells me to
>use the foo function. Does such a think exist?
>
>I'm very impressed with what I see so far and it's likely that my
>inexperience with R at this point is making things look harder than they
>really are. But my approach has always been to jump in with both feet
>and give it a go. I haven't drowned yet.
>
>-Tim
>
>--
>Tim Wilson      |   Visit Sibley online:   | Check out:
>Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
>W. St. Paul, MN |                          | http://slashdot.org
>wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Fri Jun 28 17:42:51 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Fri, 28 Jun 2002 11:42:51 -0400 (EDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.A41.4.44.0206271306060.101084-100000@homer01.u.washington.edu>
Message-ID: <Pine.LNX.4.21.0206281137010.488-100000@perrin.socsci.unc.edu>

This is interesting and a bit disturbing. I've been using the weights=
syntax to assign a case-weighting system in a survey dataset as well. Can
you send me somewhere for documentation of the differences?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


On Thu, 27 Jun 2002, Thomas Lumley wrote:

> On Thu, 27 Jun 2002, Andrew Perrin wrote:
> 
> > The lm function (for linear modelling aka linear regression) includes
> > case weights with a simple syntax:
> >
> > foo<-lm(dependent ~ indep + indep + ... ,
> > 	data = <data object>,
> > 	weights = <weight variable>)
> 
> Yes, but that isn't what he means by weights...
> 
> The standard regression weights are variance weights: a weight of 2
> denotes an observation with half the variance of a weight of 1.
> 
> In survey sampling (and in related missing data and causal inference
> models) you need probability weights: a weight of 2 means an observation
> had half the chance of being sampled.  You get the same regression
> coefficients (more or less) but quite different standard errors.
> 
> The `model-robust' sandwich variance estimators give about the right
> standard errors (as long as the sampling fraction is small). These are
> built in to the survival models, but not in most other software. They are
> pretty easy to calculate but with a 20% sample they probably aren't going
> to work well.
> 
> 
> 	-thomas
> 
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Jun 28 17:50:07 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 28 Jun 2002 08:50:07 -0700
Subject: [R] GUIs
In-Reply-To: <20020628095417.7b7307d5.fharrell@virginia.edu>
References: <20020628095417.7b7307d5.fharrell@virginia.edu>
Message-ID: <p05111a02b942303794bb@[128.115.153.6]>

Regarding all of the various visions/dreams/suggestions for GUIs that 
have been raised recently: who is going to do it?

The R core folks are obviously devoting large amounts of time and 
effort to maintaining and improving R, and helping R users. I have 
trouble imagining they have much time left over for the major 
undertaking that the various GUI visions would entail.

R is by far the best organized, best documented, and best supported 
of the half a dozen or so open-source software projects I've tried to 
use. So when people start talking about improvements to the 
documentation, fancy linking, and all that--yes, I understand. But 
let's not lose sight of how good it already is.

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Fri Jun 28 17:57:17 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Fri, 28 Jun 2002 17:57:17 +0200
Subject: [R] Transpose a dataframe
Message-ID: <3D1CA37D.3880.CE7317@localhost>

Hello,

I would like to switch this dataframe:
> k
    country  1960  1961  1962  1963
99      ARG  7493  7733  7581  7108
246     AUS 10484 10342 10809 11357
295     AUT  7438  7808  7938  8212
393     BDI   587   502   555   608
442     BEL  8223  8638  9021  9311

in this structure:

year	ARG	AUS	AUT	BDI	BEL
1960	7493	10484	7438	587	8223
1961	7733	10342	7808	502	8638
1962	7581	10809	7938	555	9021
1963	7108	11357	8212	608	9311

I'm trying the 'reshape' and 't' command, but still failed.

Thanks for any help,
Patrick
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 28 18:23:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 28 Jun 2002 09:23:49 -0700 (PDT)
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.21.0206281137010.488-100000@perrin.socsci.unc.edu>
Message-ID: <Pine.A41.4.44.0206280857470.123502-100000@homer04.u.washington.edu>

On Fri, 28 Jun 2002, Andrew Perrin wrote:

> This is interesting and a bit disturbing. I've been using the weights=
> syntax to assign a case-weighting system in a survey dataset as well. Can
> you send me somewhere for documentation of the differences?

There's some discussion in
   http://www.niesr.ac.uk/niesr/wers98/Purdpap4.pdf

I don't know of a reference book that describes both -- they tend to be
done by non-overlapping groups of people -- but the two sets of formulas
should be easy to find.

For linear regression the estimation in  both cases is done by multiplying
the X and Y matrices by the square root of the weights and then doing
ordinary least squares.  The difference is that with variance weights this
transformed least squares fit will have constant variance residuals but
with probability weights it typically won't, so the usual standard errors
are wrong.

For linear regression there will only be serious problems if you have a
variable that strongly predicts the outcome and the weights and has a
skewed distribution.  For logistic or Poisson regression, where there
isn't a free dispersion parameter available the problems can be worse.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jun 28 18:29:45 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 28 Jun 2002 12:29:45 -0400
Subject: [R] Transpose a dataframe
In-Reply-To: <3D1CA37D.3880.CE7317@localhost>; from patrick.hausmann@uni-bremen.de on Fri, Jun 28, 2002 at 05:57:17PM +0200
References: <3D1CA37D.3880.CE7317@localhost>
Message-ID: <20020628122945.A10274@cattell.psych.upenn.edu>

On 06/28/02 17:57, Patrick Hausmann wrote:
>Hello,
>
>I would like to switch this dataframe:
>> k
>    country  1960  1961  1962  1963
>99      ARG  7493  7733  7581  7108
>246     AUS 10484 10342 10809 11357
>295     AUT  7438  7808  7938  8212
>393     BDI   587   502   555   608
>442     BEL  8223  8638  9021  9311
>
>in this structure:
>
>year	ARG	AUS	AUT	BDI	BEL
>1960	7493	10484	7438	587	8223
>1961	7733	10342	7808	502	8638
>1962	7581	10809	7938	555	9021
>1963	7108	11357	8212	608	9311
>
>I'm trying the 'reshape' and 't' command, but still failed.

t() likes to have a matrix, not a data frame.  So you can say
something like

as.data.frame(t(as.matrix(data.frame(MY.DATA.FRAME))))

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 18:39:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 17:39:10 +0100 (BST)
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4D8@EPOCH.arqule.com>
Message-ID: <Pine.LNX.4.31.0206281735340.1665-100000@gannet.stats>

Have you tried the R debugging tools?  If not, please make use of them.
My guess is that you have a rank-deficient problem.

?debugger
?recover
?dump.frames
...


On Fri, 28 Jun 2002, Czerminski, Ryszard wrote:

> This time I use the same file for train.data and test.data
> throwing in "names(test) <- names(train)" before predict() for double
> protection (:-)
> and it still fails...
>
> Is it some weird problem with this particular data set ? or a bug ?
> (why "subscript out of bounds" ?)

That's what the debugging tools are for.

>
> > rm(list=ls())
> > train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> > test.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> > yr <- train.data[,1]; xr <- train.data[,-1]
> > xr <- scale(xr)     # matrix <- scale(data.frame)
> > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr, "scaled:scale")
> > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > xr <- xr[,!mask] # rm NA's
> > ys <- test.data[,1]; xs <- test.data[,-1]
> > xs <- scale(xs, center = x.center, scale = x.scale)
> > xs <- xs[,!mask]
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 164 119 ; dim(test) = 164 119
> > names(test) <- names(train)
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
>         subscript out of bounds
> >
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, June 28, 2002 8:46 AM
> To: 'Czerminski, Ryszard'
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
>
>
> You can try:
>
>   names(test) <- names(train)
>
> before calling predict() to make sure that the variable names match.
> Without your data files, it's hard to tell why your first example worked.
>
> Andy
>
> > -----Original Message-----
> > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > Sent: Thursday, June 27, 2002 3:29 PM
> > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> >
> > # Yes. You are *still* using a matrix in a data frame.
> > Please do read more
> > # carefully.
> >
> > I have read some more R documentation trying to understand difference
> > between
> > matrices and data frames etc... and I repeat my example this time
> > executing EXACTLY the same code with only difference being
> > that in one case
> > I use smaller data sets ({train,test}-small.csv) and in the
> > second case I
> > use larger
> > data sets ({train,test}.csv) - and I got different behaviour.
> >
> > Small case (10*4) runs fine, larger case (164*119) fails.
> >
> > Any ideas why this happens ?
> >
> > R
> >
> > > rm(list=ls())
> > > train.data <- read.csv("train-small.csv", header = TRUE, row.names =
> > "mol", comment.char="")
> > > test.data <- read.csv("test-small.csv", header = TRUE,
> > row.names = "mol",
> > comment.char="")
> > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > xr <- scale(xr)
> > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > "scaled:scale")
> > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > xr <- xr[,!mask] # rm NA's
> > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > xs <- xs[,!mask]
> > > train <- data.frame(y = yr, x = xr)
> > > test <- data.frame(y = ys, x = xs)
> > > model <- lm(y~., train)
> > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > dim(train) = 10 4 ; dim(test) = 10 4
> > > length(predict(model, test))
> > [1] 10
> > > train.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > comment.char="")
> > > test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> > comment.char="")
> > [snip...]
> > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > dim(train) = 164 119 ; dim(test) = 35 119
> > > length(predict(model, test))
> > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> >         subscript out of bounds
> > >
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Friday, June 21, 2002 3:41 PM
> > To: Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> > On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> >
> > > --- first problem
> > >
> > > If I store 'simulated' data in data frames:
> > > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > > it still works the same way i.e. the code below works fine
> > > for simulated data and fails for 'real' data the only
> > > difference being in actual numeric values stored in data
> > > structures of the same shape and type.
> > >
> > > Any suggestions why this happens ?
> >
> > Yes. You are *still* using a matrix in a data frame.  Please
> > do read more
> > carefully.
> >
> > > --- second problem
> > >
> > > > As Andy Liaw pointed out, xr is a matrix.  Take a look at
> > the names of
> > > > train.  Hint: they do not contain `x'.
> > >
> > > Following your hint I am guessing that the fact that names
> > do not contain
> > > 'x'
> > > explains why lm(y~., train) form works and lm(y~x, train) fails
> > > and "lm(y~., train)" means roughly: correlate column "y" to
> > all other
> > colums
> >
> > No, it means regress y on all the remaining colums in the
> > data argument.
> >
> > >
> > > Where I can find more detail specification of this syntax ?
> > > In help(lm) I find this paragraph:
> > >
> > >      Models for `lm' are specified symbolically.  A typical
> > model has
> > >      the form `response ~ terms' where `response' is the
> > (numeric)...
> > >
> > > which does not quite cover this case.
> >
> > In any good book on the subject.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.
> > -.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._.
> > _._
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
> ----------------------------------------------------------------------------
> --
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
> may be confidential, proprietary copyrighted and/or legally privileged, and
> is intended solely for the use of the individual or entity named on this
> message.  If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail and then delete
> it.
>
> ============================================================================
> ==
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 18:41:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 17:41:19 +0100 (BST)
Subject: [R] Transpose a dataframe
In-Reply-To: <20020628122945.A10274@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0206281739280.1665-100000@gannet.stats>

On Fri, 28 Jun 2002, Jonathan Baron wrote:

> On 06/28/02 17:57, Patrick Hausmann wrote:
> >Hello,
> >
> >I would like to switch this dataframe:
> >> k
> >    country  1960  1961  1962  1963
> >99      ARG  7493  7733  7581  7108
> >246     AUS 10484 10342 10809 11357
> >295     AUT  7438  7808  7938  8212
> >393     BDI   587   502   555   608
> >442     BEL  8223  8638  9021  9311
> >
> >in this structure:
> >
> >year	ARG	AUS	AUT	BDI	BEL
> >1960	7493	10484	7438	587	8223
> >1961	7733	10342	7808	502	8638
> >1962	7581	10809	7938	555	9021
> >1963	7108	11357	8212	608	9311
> >
> >I'm trying the 'reshape' and 't' command, but still failed.
>
> t() likes to have a matrix, not a data frame.  So you can say
> something like
>
> as.data.frame(t(as.matrix(data.frame(MY.DATA.FRAME))))

But country is a character column that needs to become the var names.  So

row.names(k) < k$country

as.data.frame(t(as.matrix(k[-1])))

seems about right.
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Fri Jun 28 19:05:46 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 28 Jun 2002 13:05:46 -0400
Subject: [R] GUIs
In-Reply-To: <p05111a02b942303794bb@[128.115.153.6]>
References: <20020628095417.7b7307d5.fharrell@virginia.edu> 
	<p05111a02b942303794bb@[128.115.153.6]>
Message-ID: <1025283946.16582.29.camel@keittlab-6>

Although my preference is the command line, for those who want a GUI, I
can't help but think that the path of least resistance is to write a
plugin for gnumeric that calls R as a slave process. I haven't checked
out the gnumeric plugin api, but my guess is that it would allow you to
add menu items and write dialogs. As pointed out, someone new would have
to pick up the ball and run with it. Lets not divert effort away from
developing R itself.

T.

On Fri, 2002-06-28 at 11:50, Don MacQueen wrote:
> Regarding all of the various visions/dreams/suggestions for GUIs that 
> have been raised recently: who is going to do it?
> 
> The R core folks are obviously devoting large amounts of time and 
> effort to maintaining and improving R, and helping R users. I have 
> trouble imagining they have much time left over for the major 
> undertaking that the various GUI visions would entail.
> 
> R is by far the best organized, best documented, and best supported 
> of the half a dozen or so open-source software projects I've tried to 
> use. So when people start talking about improvements to the 
> documentation, fancy linking, and all that--yes, I understand. But 
> let's not lose sight of how good it already is.
> 
> -Don
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Fri Jun 28 19:21:08 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 28 Jun 2002 10:21:08 -0700
Subject: [R] GUIs
In-Reply-To: <p05111a02b942303794bb@[128.115.153.6]>
Message-ID: <6F1DCCC4-8ABB-11D6-923C-000393860F3C@stat.ucla.edu>

Our programming staff is working on a Cocoa GUI for R (and on R services,
which makes it possible to evaluate R expressions from any Cocoa application
which has a text window). One of the ideas is to customize this for teaching
various courses, using "course plugins".

On Friday, Jun 28, 2002, at 08:50 America/Los_Angeles, Don MacQueen wrote:

> Regarding all of the various visions/dreams/suggestions for GUIs that have been raised recently: who is going to do it?
>
> The R core folks are obviously devoting large amounts of time and effort to maintaining and improving R, and helping R users. I have trouble imagining they have much time left over for the major undertaking that the various GUI visions would entail.
>
> R is by far the best organized, best documented, and best supported of the half a dozen or so open-source software projects I've tried to use. So when people start talking about improvements to the documentation, fancy linking, and all that--yes, I understand. But let's not lose sight of how good it already is.
>
> -Don
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Fri Jun 28 19:24:21 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Fri, 28 Jun 2002 10:24:21 -0700
Subject: [R] Upgrade R and the current workingspace
Message-ID: <3D1C9BC5.88BAC71C@noaa.gov>

After uninstall R and install the new version, run update.pakages(), how
do I get to the workspace saved under the previous verion?  For example,
I am using rw1041.  Are all  .Rdata files in c:\program files\R\rw1041\
will be automatically moved to the subdirectory of rw1051 after I
install rw1051? Or I need to do some copying?

Thanks for your time.

--
Nancy C.H. Lo, Ph.D
Southwest Fisheries Science Center
NMFS, NOAA
8604 La Jolla Shores Drive
La Jolla CA 92037
858-546-7123(o)
858-546-5656(x)
Nancy.Lo at NOAA.GOV

-------------- next part --------------
A non-text attachment was scrubbed...
Name: nancy.lo.vcf
Type: text/x-vcard
Size: 101 bytes
Desc: Card for Nancy Lo
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020628/2e93fb92/nancy.lo.vcf

From duncan at research.bell-labs.com  Fri Jun 28 19:30:08 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Fri, 28 Jun 2002 13:30:08 -0400
Subject: [R] GUIs
In-Reply-To: <1025283946.16582.29.camel@keittlab-6>; from tklistaddr@keittlab.bio.sunysb.edu on Fri, Jun 28, 2002 at 01:05:46PM -0400
References: <20020628095417.7b7307d5.fharrell@virginia.edu> <p05111a02b942303794bb@[128.115.153.6]> <1025283946.16582.29.camel@keittlab-6>
Message-ID: <20020628133007.A27595@jessie.research.bell-labs.com>

Timothy H. Keitt wrote:
> Although my preference is the command line, for those who want a GUI, I
> can't help but think that the path of least resistance is to write a
> plugin for gnumeric that calls R as a slave process. I haven't checked
> out the gnumeric plugin api, but my guess is that it would allow you to
> add menu items and write dialogs. As pointed out, someone new would have
> to pick up the ball and run with it. Lets not divert effort away from
> developing R itself.

A little more than a year ago, we developed an R plugin for Gnumeric
as part of the Omegahat project.  It embeds R directly within Gnumeric
rather than using a slave process.  One can register R functions as
Gnumeric function, and additionally, from within R one can access,
edit and create worksheets and their contents. 
The "package" is available from
  http://www.omegahat.org/RGnumeric
(It may need some minor surgery to be consistent with recent versions
of Gnumeric, but these are not structural changes.)


I too believe that this has great potential for certain types of
teaching. It is one of the directions that I am pursuing with Deb
Nolan at Berkeley and others. The particular style of pedagogy we are
investigating is more ambitious and involved than the standard
"Minitab/Excel-like" point-and-click. However, as part of the StatDocs
project, we are piecing together components that could be directly
used to create such an environment. We are also explicitly exploring
ways of marrying the GUI-style with more comprehensive, reproducbile
analyses that an instructor and student can share, discuss, modify,
etc. So, many of the topics that have been discussed in this
interesting thread may well be realized.

To implement these ideas, we are using the RGtk package to build
specialized GUIs; the gtkDevice package for embedding graphics devices
in HTML widgets; using R & GGobi for interactive/direct manipulation
graphics; and currently exploring embedding R within AbiWord, the
Gnome word processor.  All of these tools share Gtk as a common
fundamental component, and that is one of the reasons for pushing on
the RGtk package.  Also, we can exploit CORBA since these tools have
support from Orbit, the Gnome layer on top of CORBA.




> 
> T.
> 
> On Fri, 2002-06-28 at 11:50, Don MacQueen wrote:
> > Regarding all of the various visions/dreams/suggestions for GUIs that 
> > have been raised recently: who is going to do it?
> > 
> > The R core folks are obviously devoting large amounts of time and 
> > effort to maintaining and improving R, and helping R users. I have 
> > trouble imagining they have much time left over for the major 
> > undertaking that the various GUI visions would entail.
> > 
> > R is by far the best organized, best documented, and best supported 
> > of the half a dozen or so open-source software projects I've tried to 
> > use. So when people start talking about improvements to the 
> > documentation, fancy linking, and all that--yes, I understand. But 
> > let's not lose sight of how good it already is.
> > 
> > -Don
> > -- 
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 19:32:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 18:32:24 +0100 (BST)
Subject: [R] Upgrade R and the current workingspace
In-Reply-To: <3D1C9BC5.88BAC71C@noaa.gov>
Message-ID: <Pine.LNX.4.31.0206281831020.2697-100000@gannet.stats>

On Fri, 28 Jun 2002, Nancy Lo wrote:

> After uninstall R and install the new version, run update.pakages(), how
> do I get to the workspace saved under the previous verion?  For example,
> I am using rw1041.  Are all  .Rdata files in c:\program files\R\rw1041\
> will be automatically moved to the subdirectory of rw1051 after I
> install rw1051? Or I need to do some copying?

See the rw-FAQ.  Any file you created need to be moved, but c:\program
files\R\rw1041\ is a peculiar place to hold your personal files, and I
think you need to read the sections in the rw-FAQ about setting up
shortcuts.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ryszard at arqule.com  Fri Jun 28 19:42:21 2002
From: ryszard at arqule.com (Czerminski, Ryszard)
Date: Fri, 28 Jun 2002 13:42:21 -0400
Subject: [R] problem with predict()
Message-ID: <EDE2901A3801144496F3485FCFEC8D3027C4E0@EPOCH.arqule.com>

I will try.

I tried to use lm() to have basic linear "reference".

If this is the reason (i.e. train data set is rank-deficient) and lm
cannot handle such situation, what are the other packages in R
you could recommend which would handle this type of data ?
Also in such case: should not lm() report a problem in a model building
phase ?

So far I have used SVM approach to do regression with this data set and I am
getting
rather poor r^2 (~0.25 on test set), but I do not have any numerical
problems with SVM.
I am also planning to try randomForest() to do classification. This was my
immediate
motivation to turn to R.

All the best,

R

Ryszard Czerminski   phone: (781)994-0479
ArQule, Inc.         email:ryszard at arqule.com
19 Presidential Way  http://www.arqule.com
Woburn, MA 01801     fax: (781)994-0679


-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Friday, June 28, 2002 12:39 PM
To: Czerminski, Ryszard
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] problem with predict()


Have you tried the R debugging tools?  If not, please make use of them.
My guess is that you have a rank-deficient problem.

?debugger
?recover
?dump.frames
...


On Fri, 28 Jun 2002, Czerminski, Ryszard wrote:

> This time I use the same file for train.data and test.data
> throwing in "names(test) <- names(train)" before predict() for double
> protection (:-)
> and it still fails...
>
> Is it some weird problem with this particular data set ? or a bug ?
> (why "subscript out of bounds" ?)

That's what the debugging tools are for.

>
> > rm(list=ls())
> > train.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> > test.data <- read.csv("train.csv", header = TRUE, row.names = "mol",
> comment.char="")
> > yr <- train.data[,1]; xr <- train.data[,-1]
> > xr <- scale(xr)     # matrix <- scale(data.frame)
> > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
"scaled:scale")
> > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > xr <- xr[,!mask] # rm NA's
> > ys <- test.data[,1]; xs <- test.data[,-1]
> > xs <- scale(xs, center = x.center, scale = x.scale)
> > xs <- xs[,!mask]
> > train <- data.frame(y = yr, x = xr)
> > test <- data.frame(y = ys, x = xs)
> > model <- lm(y~., train)
> > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> dim(train) = 164 119 ; dim(test) = 164 119
> > names(test) <- names(train)
> > length(predict(model, test))
> Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
>         subscript out of bounds
> >
>
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
>
>
> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, June 28, 2002 8:46 AM
> To: 'Czerminski, Ryszard'
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
>
>
> You can try:
>
>   names(test) <- names(train)
>
> before calling predict() to make sure that the variable names match.
> Without your data files, it's hard to tell why your first example worked.
>
> Andy
>
> > -----Original Message-----
> > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > Sent: Thursday, June 27, 2002 3:29 PM
> > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> >
> > # Yes. You are *still* using a matrix in a data frame.
> > Please do read more
> > # carefully.
> >
> > I have read some more R documentation trying to understand difference
> > between
> > matrices and data frames etc... and I repeat my example this time
> > executing EXACTLY the same code with only difference being
> > that in one case
> > I use smaller data sets ({train,test}-small.csv) and in the
> > second case I
> > use larger
> > data sets ({train,test}.csv) - and I got different behaviour.
> >
> > Small case (10*4) runs fine, larger case (164*119) fails.
> >
> > Any ideas why this happens ?
> >
> > R
> >
> > > rm(list=ls())
> > > train.data <- read.csv("train-small.csv", header = TRUE, row.names =
> > "mol", comment.char="")
> > > test.data <- read.csv("test-small.csv", header = TRUE,
> > row.names = "mol",
> > comment.char="")
> > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > xr <- scale(xr)
> > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > "scaled:scale")
> > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > xr <- xr[,!mask] # rm NA's
> > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > xs <- xs[,!mask]
> > > train <- data.frame(y = yr, x = xr)
> > > test <- data.frame(y = ys, x = xs)
> > > model <- lm(y~., train)
> > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > dim(train) = 10 4 ; dim(test) = 10 4
> > > length(predict(model, test))
> > [1] 10
> > > train.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > comment.char="")
> > > test.data <- read.csv("test.csv", header = TRUE, row.names = "mol",
> > comment.char="")
> > [snip...]
> > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > dim(train) = 164 119 ; dim(test) = 35 119
> > > length(predict(model, test))
> > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> >         subscript out of bounds
> > >
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Friday, June 21, 2002 3:41 PM
> > To: Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> > On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> >
> > > --- first problem
> > >
> > > If I store 'simulated' data in data frames:
> > > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > > it still works the same way i.e. the code below works fine
> > > for simulated data and fails for 'real' data the only
> > > difference being in actual numeric values stored in data
> > > structures of the same shape and type.
> > >
> > > Any suggestions why this happens ?
> >
> > Yes. You are *still* using a matrix in a data frame.  Please
> > do read more
> > carefully.
> >
> > > --- second problem
> > >
> > > > As Andy Liaw pointed out, xr is a matrix.  Take a look at
> > the names of
> > > > train.  Hint: they do not contain `x'.
> > >
> > > Following your hint I am guessing that the fact that names
> > do not contain
> > > 'x'
> > > explains why lm(y~., train) form works and lm(y~x, train) fails
> > > and "lm(y~., train)" means roughly: correlate column "y" to
> > all other
> > colums
> >
> > No, it means regress y on all the remaining colums in the
> > data argument.
> >
> > >
> > > Where I can find more detail specification of this syntax ?
> > > In help(lm) I find this paragraph:
> > >
> > >      Models for `lm' are specified symbolically.  A typical
> > model has
> > >      the form `response ~ terms' where `response' is the
> > (numeric)...
> > >
> > > which does not quite cover this case.
> >
> > In any good book on the subject.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.
> > -.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._.
> > _._
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
>
----------------------------------------------------------------------------
> --
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA)
that
> may be confidential, proprietary copyrighted and/or legally privileged,
and
> is intended solely for the use of the individual or entity named on this
> message.  If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail and then delete
> it.
>
>
============================================================================
> ==
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 28 19:55:40 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Jun 2002 13:55:40 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC403@usrymx10.merck.com>

As Prof. Ripley guessed, the X data is less than full rank.  I'm surprised
that lm didn't issue warning.  summary() does say:

Coefficients: (17 not defined because of singularities)

I'm also surprised that with such a fitted object, predict(model) works, but
not predict(model, data), where data is the original data used to fit the
model.  This does not seem to be user-friendly...

Andy

> -----Original Message-----
> From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> Sent: Friday, June 28, 2002 1:42 PM
> To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch; 'Liaw, Andy'
> Subject: RE: [R] problem with predict()
> 
> 
> I will try.
> 
> I tried to use lm() to have basic linear "reference".
> 
> If this is the reason (i.e. train data set is rank-deficient) and lm
> cannot handle such situation, what are the other packages in R
> you could recommend which would handle this type of data ?
> Also in such case: should not lm() report a problem in a 
> model building
> phase ?
> 
> So far I have used SVM approach to do regression with this 
> data set and I am
> getting
> rather poor r^2 (~0.25 on test set), but I do not have any numerical
> problems with SVM.
> I am also planning to try randomForest() to do 
> classification. This was my
> immediate
> motivation to turn to R.
> 
> All the best,
> 
> R
> 
> Ryszard Czerminski   phone: (781)994-0479
> ArQule, Inc.         email:ryszard at arqule.com
> 19 Presidential Way  http://www.arqule.com
> Woburn, MA 01801     fax: (781)994-0679
> 
> 
> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Friday, June 28, 2002 12:39 PM
> To: Czerminski, Ryszard
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] problem with predict()
> 
> 
> Have you tried the R debugging tools?  If not, please make 
> use of them.
> My guess is that you have a rank-deficient problem.
> 
> ?debugger
> ?recover
> ?dump.frames
> ...
> 
> 
> On Fri, 28 Jun 2002, Czerminski, Ryszard wrote:
> 
> > This time I use the same file for train.data and test.data
> > throwing in "names(test) <- names(train)" before predict() 
> for double
> > protection (:-)
> > and it still fails...
> >
> > Is it some weird problem with this particular data set ? or a bug ?
> > (why "subscript out of bounds" ?)
> 
> That's what the debugging tools are for.
> 
> >
> > > rm(list=ls())
> > > train.data <- read.csv("train.csv", header = TRUE, 
> row.names = "mol",
> > comment.char="")
> > > test.data <- read.csv("train.csv", header = TRUE, 
> row.names = "mol",
> > comment.char="")
> > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > xr <- scale(xr)     # matrix <- scale(data.frame)
> > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> "scaled:scale")
> > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > xr <- xr[,!mask] # rm NA's
> > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > xs <- xs[,!mask]
> > > train <- data.frame(y = yr, x = xr)
> > > test <- data.frame(y = ys, x = xs)
> > > model <- lm(y~., train)
> > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > dim(train) = 164 119 ; dim(test) = 164 119
> > > names(test) <- names(train)
> > > length(predict(model, test))
> > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> >         subscript out of bounds
> > >
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> > -----Original Message-----
> > From: Liaw, Andy [mailto:andy_liaw at merck.com]
> > Sent: Friday, June 28, 2002 8:46 AM
> > To: 'Czerminski, Ryszard'
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> > You can try:
> >
> >   names(test) <- names(train)
> >
> > before calling predict() to make sure that the variable names match.
> > Without your data files, it's hard to tell why your first 
> example worked.
> >
> > Andy
> >
> > > -----Original Message-----
> > > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > > Sent: Thursday, June 27, 2002 3:29 PM
> > > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: RE: [R] problem with predict()
> > >
> > >
> > >
> > > # Yes. You are *still* using a matrix in a data frame.
> > > Please do read more
> > > # carefully.
> > >
> > > I have read some more R documentation trying to 
> understand difference
> > > between
> > > matrices and data frames etc... and I repeat my example this time
> > > executing EXACTLY the same code with only difference being
> > > that in one case
> > > I use smaller data sets ({train,test}-small.csv) and in the
> > > second case I
> > > use larger
> > > data sets ({train,test}.csv) - and I got different behaviour.
> > >
> > > Small case (10*4) runs fine, larger case (164*119) fails.
> > >
> > > Any ideas why this happens ?
> > >
> > > R
> > >
> > > > rm(list=ls())
> > > > train.data <- read.csv("train-small.csv", header = 
> TRUE, row.names =
> > > "mol", comment.char="")
> > > > test.data <- read.csv("test-small.csv", header = TRUE,
> > > row.names = "mol",
> > > comment.char="")
> > > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > > xr <- scale(xr)
> > > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > > "scaled:scale")
> > > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > > xr <- xr[,!mask] # rm NA's
> > > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > > xs <- xs[,!mask]
> > > > train <- data.frame(y = yr, x = xr)
> > > > test <- data.frame(y = ys, x = xs)
> > > > model <- lm(y~., train)
> > > > cat("dim(train) =", dim(train), "; dim(test) =", 
> dim(test), "\n")
> > > dim(train) = 10 4 ; dim(test) = 10 4
> > > > length(predict(model, test))
> > > [1] 10
> > > > train.data <- read.csv("train.csv", header = TRUE,
> > > row.names = "mol",
> > > comment.char="")
> > > > test.data <- read.csv("test.csv", header = TRUE, 
> row.names = "mol",
> > > comment.char="")
> > > [snip...]
> > > > cat("dim(train) =", dim(train), "; dim(test) =", 
> dim(test), "\n")
> > > dim(train) = 164 119 ; dim(test) = 35 119
> > > > length(predict(model, test))
> > > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> > >         subscript out of bounds
> > > >
> > >
> > > Ryszard Czerminski   phone: (781)994-0479
> > > ArQule, Inc.         email:ryszard at arqule.com
> > > 19 Presidential Way  http://www.arqule.com
> > > Woburn, MA 01801     fax: (781)994-0679
> > >
> > >
> > > -----Original Message-----
> > > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > > Sent: Friday, June 21, 2002 3:41 PM
> > > To: Czerminski, Ryszard
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: RE: [R] problem with predict()
> > >
> > >
> > > On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> > >
> > > > --- first problem
> > > >
> > > > If I store 'simulated' data in data frames:
> > > > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > > > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > > > it still works the same way i.e. the code below works fine
> > > > for simulated data and fails for 'real' data the only
> > > > difference being in actual numeric values stored in data
> > > > structures of the same shape and type.
> > > >
> > > > Any suggestions why this happens ?
> > >
> > > Yes. You are *still* using a matrix in a data frame.  Please
> > > do read more
> > > carefully.
> > >
> > > > --- second problem
> > > >
> > > > > As Andy Liaw pointed out, xr is a matrix.  Take a look at
> > > the names of
> > > > > train.  Hint: they do not contain `x'.
> > > >
> > > > Following your hint I am guessing that the fact that names
> > > do not contain
> > > > 'x'
> > > > explains why lm(y~., train) form works and lm(y~x, train) fails
> > > > and "lm(y~., train)" means roughly: correlate column "y" to
> > > all other
> > > colums
> > >
> > > No, it means regress y on all the remaining colums in the
> > > data argument.
> > >
> > > >
> > > > Where I can find more detail specification of this syntax ?
> > > > In help(lm) I find this paragraph:
> > > >
> > > >      Models for `lm' are specified symbolically.  A typical
> > > model has
> > > >      the form `response ~ terms' where `response' is the
> > > (numeric)...
> > > >
> > > > which does not quite cover this case.
> > >
> > > In any good book on the subject.
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.
> > > -.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._.
> > > _._
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > >
> >
> >
> --------------------------------------------------------------
> --------------
> > --
> > Notice: This e-mail message, together with any attachments, contains
> > information of Merck & Co., Inc. (Whitehouse Station, New 
> Jersey, USA)
> that
> > may be confidential, proprietary copyrighted and/or legally 
> privileged,
> and
> > is intended solely for the use of the individual or entity 
> named on this
> > message.  If you are not the intended recipient, and have 
> received this
> > message in error, please immediately return this by e-mail 
> and then delete
> > it.
> >
> >
> ==============================================================
> ==============
> > ==
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.
> -.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jun 28 19:58:40 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 28 Jun 2002 12:58:40 -0500
Subject: [R] GUI's for teaching
In-Reply-To: <L+lKHXAekCH9EwXr@myatt.demon.co.uk>
Message-ID: <002401c21ecd$6fe73eb0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Mark Myatt
> Sent: Friday, June 28, 2002 4:15 AM
> To: MSchwartz at medanalytics.com
> Cc: 'R Help'
> Subject: Re: [R] GUI's for teaching
> 
> [SNIP]
> 
> On Windows, I use Visual SlickEdit which can do a lot of the IDE
stuff.
> On Linux, I use KATE which can do some of the IDE stuff but will
> probably move over to SlickEdit when my next license renewal comes up.
> These are pretty good tools but are not really capable of really tight
> integration with R. I suppose what I would like is something like the
> Delphi IDE for R (i.e. something more than a good editor).

I cut my C programming teeth on Borland products back in the late 80's
and early 90's, so I am familiar with those IDEs and some of the more
recent (dare I say it....) Microsoft versions. I even used early
versions of Turbo Pascal/C and did some ASM coding on both the early
Apple 6502 and Intel 8086 platforms. 

In comparison to the primitive tools of that era, the new IDEs do
provide an enhanced level of productivity in coding by enabling
functionality that is well documented and need not be re-listed here.
The ongoing popularity of third party tools (such as editors) does
however suggest that there still seems to be a need for 'best of breed"
solutions and/or perhaps language independent common solutions.

These IDE tools however, come at a substantial cost in time and
resources for the development teams, whether they are in a commercial
shop or in an open source environment such as R.

If one were to use a "community standard" of some nature and I stand to
be corrected on this by R and S-Plus users, a comparison of R to S-Plus
V6 would be at least a starting point. By starting point, I mean that
this is how at least some basic expectations of functionality should be
defined. Clearly, this is fraught with problems on a variety of levels,
like comparing the personalities of two biological siblings. They come
from the same "gene-pool", but have evolved in differing environments
with varied impacts on their behavior and have underlying genetic
variations. The availability of a version of SP6 without command line
access (GUI only) is a good example I think. My apologies to the
genetics experts in the group for my gross over-simplification.

While I am not an active S-Plus user, I have demo'd the application. I
do not believe that it has a full set of features akin to a tightly
integrated IDE, despite the substantial GUI in place and the
application's commercial for-profit development environment.

Based upon a quick re-review of the S-Plus Programmer's Guide online
(http://www.insightful.com/support/documentation.asp?DID=1), my take is
that the "debugging" features (page 205+) are not of IDE level
functionality. Even in that document, comments still appear relative to
adding code to display/print intermediate values, etc.  There are no
graphic screen captures in that part of the document, so my
interpretation/impression may be lacking key facts. Someone please
correct me if that is the case.

R does have several of those same core debugging functions (ie. debug(),
traceback(), browser() and recover()).

To close my thought-loop on the IDE, as with anything else, priorities
are established by the needs of the community. Neither SP6 nor R has one
at this time and I would imagine that this is a result of some conscious
resource allocation decisions by the core teams on both sides. That is
not to say that having one would be bad, simply that other tasks are
higher in priority for the core groups.

I believe that in this thread, R development priorities and resource
allocation have been mentioned and I would agree with the general
sentiment that core functionality would be a higher priority. Such
GUI-based enhancements may be appropriate for additional contributions
over time and perhaps by a team of folks with the time, resources and
support to accomplish that task.

As I am typing this, I just got Dr. Harrell's follow up post on GUIs and
agree that there are certainly things that can be done to enhance
aspects of the user-interface and help resources.  That being said, two
thoughts:

1. If determined to be of value to the R community at large, these
features will likely appear in time.  That is the natural progression of
any product as you don't go from version 1 to version 5 in one step.

2. Let's not lose sight of just how much R already does and honestly,
how well it does them.

I am constantly impressed by what the R-Core team has done and the
contributions of the R Community to the effort, including this list.  My
hats off to the group for providing a phenomenal product/tool and to the
continued progress being made.

Regards,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 28 20:11:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Jun 2002 19:11:10 +0100 (BST)
Subject: [R] problem with predict()
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC403@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0206281910330.2782-100000@gannet.stats>

On Fri, 28 Jun 2002, Liaw, Andy wrote:

> As Prof. Ripley guessed, the X data is less than full rank.  I'm surprised
> that lm didn't issue warning.  summary() does say:
>
> Coefficients: (17 not defined because of singularities)
>
> I'm also surprised that with such a fitted object, predict(model) works, but
> not predict(model, data), where data is the original data used to fit the
> model.  This does not seem to be user-friendly...

That's a bug: it used to work ....

>
> Andy
>
> > -----Original Message-----
> > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > Sent: Friday, June 28, 2002 1:42 PM
> > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch; 'Liaw, Andy'
> > Subject: RE: [R] problem with predict()
> >
> >
> > I will try.
> >
> > I tried to use lm() to have basic linear "reference".
> >
> > If this is the reason (i.e. train data set is rank-deficient) and lm
> > cannot handle such situation, what are the other packages in R
> > you could recommend which would handle this type of data ?
> > Also in such case: should not lm() report a problem in a
> > model building
> > phase ?
> >
> > So far I have used SVM approach to do regression with this
> > data set and I am
> > getting
> > rather poor r^2 (~0.25 on test set), but I do not have any numerical
> > problems with SVM.
> > I am also planning to try randomForest() to do
> > classification. This was my
> > immediate
> > motivation to turn to R.
> >
> > All the best,
> >
> > R
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Friday, June 28, 2002 12:39 PM
> > To: Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> > Have you tried the R debugging tools?  If not, please make
> > use of them.
> > My guess is that you have a rank-deficient problem.
> >
> > ?debugger
> > ?recover
> > ?dump.frames
> > ...
> >
> >
> > On Fri, 28 Jun 2002, Czerminski, Ryszard wrote:
> >
> > > This time I use the same file for train.data and test.data
> > > throwing in "names(test) <- names(train)" before predict()
> > for double
> > > protection (:-)
> > > and it still fails...
> > >
> > > Is it some weird problem with this particular data set ? or a bug ?
> > > (why "subscript out of bounds" ?)
> >
> > That's what the debugging tools are for.
> >
> > >
> > > > rm(list=ls())
> > > > train.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > > comment.char="")
> > > > test.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > > comment.char="")
> > > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > > xr <- scale(xr)     # matrix <- scale(data.frame)
> > > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > "scaled:scale")
> > > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > > xr <- xr[,!mask] # rm NA's
> > > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > > xs <- xs[,!mask]
> > > > train <- data.frame(y = yr, x = xr)
> > > > test <- data.frame(y = ys, x = xs)
> > > > model <- lm(y~., train)
> > > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > > dim(train) = 164 119 ; dim(test) = 164 119
> > > > names(test) <- names(train)
> > > > length(predict(model, test))
> > > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> > >         subscript out of bounds
> > > >
> > >
> > > Ryszard Czerminski   phone: (781)994-0479
> > > ArQule, Inc.         email:ryszard at arqule.com
> > > 19 Presidential Way  http://www.arqule.com
> > > Woburn, MA 01801     fax: (781)994-0679
> > >
> > >
> > > -----Original Message-----
> > > From: Liaw, Andy [mailto:andy_liaw at merck.com]
> > > Sent: Friday, June 28, 2002 8:46 AM
> > > To: 'Czerminski, Ryszard'
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: RE: [R] problem with predict()
> > >
> > >
> > > You can try:
> > >
> > >   names(test) <- names(train)
> > >
> > > before calling predict() to make sure that the variable names match.
> > > Without your data files, it's hard to tell why your first
> > example worked.
> > >
> > > Andy
> > >
> > > > -----Original Message-----
> > > > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > > > Sent: Thursday, June 27, 2002 3:29 PM
> > > > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > > > Cc: r-help at stat.math.ethz.ch
> > > > Subject: RE: [R] problem with predict()
> > > >
> > > >
> > > >
> > > > # Yes. You are *still* using a matrix in a data frame.
> > > > Please do read more
> > > > # carefully.
> > > >
> > > > I have read some more R documentation trying to
> > understand difference
> > > > between
> > > > matrices and data frames etc... and I repeat my example this time
> > > > executing EXACTLY the same code with only difference being
> > > > that in one case
> > > > I use smaller data sets ({train,test}-small.csv) and in the
> > > > second case I
> > > > use larger
> > > > data sets ({train,test}.csv) - and I got different behaviour.
> > > >
> > > > Small case (10*4) runs fine, larger case (164*119) fails.
> > > >
> > > > Any ideas why this happens ?
> > > >
> > > > R
> > > >
> > > > > rm(list=ls())
> > > > > train.data <- read.csv("train-small.csv", header =
> > TRUE, row.names =
> > > > "mol", comment.char="")
> > > > > test.data <- read.csv("test-small.csv", header = TRUE,
> > > > row.names = "mol",
> > > > comment.char="")
> > > > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > > > xr <- scale(xr)
> > > > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > > > "scaled:scale")
> > > > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > > > xr <- xr[,!mask] # rm NA's
> > > > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > > > xs <- xs[,!mask]
> > > > > train <- data.frame(y = yr, x = xr)
> > > > > test <- data.frame(y = ys, x = xs)
> > > > > model <- lm(y~., train)
> > > > > cat("dim(train) =", dim(train), "; dim(test) =",
> > dim(test), "\n")
> > > > dim(train) = 10 4 ; dim(test) = 10 4
> > > > > length(predict(model, test))
> > > > [1] 10
> > > > > train.data <- read.csv("train.csv", header = TRUE,
> > > > row.names = "mol",
> > > > comment.char="")
> > > > > test.data <- read.csv("test.csv", header = TRUE,
> > row.names = "mol",
> > > > comment.char="")
> > > > [snip...]
> > > > > cat("dim(train) =", dim(train), "; dim(test) =",
> > dim(test), "\n")
> > > > dim(train) = 164 119 ; dim(test) = 35 119
> > > > > length(predict(model, test))
> > > > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> > > >         subscript out of bounds
> > > > >
> > > >
> > > > Ryszard Czerminski   phone: (781)994-0479
> > > > ArQule, Inc.         email:ryszard at arqule.com
> > > > 19 Presidential Way  http://www.arqule.com
> > > > Woburn, MA 01801     fax: (781)994-0679
> > > >
> > > >
> > > > -----Original Message-----
> > > > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > > > Sent: Friday, June 21, 2002 3:41 PM
> > > > To: Czerminski, Ryszard
> > > > Cc: r-help at stat.math.ethz.ch
> > > > Subject: RE: [R] problem with predict()
> > > >
> > > >
> > > > On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> > > >
> > > > > --- first problem
> > > > >
> > > > > If I store 'simulated' data in data frames:
> > > > > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > > > > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > > > > it still works the same way i.e. the code below works fine
> > > > > for simulated data and fails for 'real' data the only
> > > > > difference being in actual numeric values stored in data
> > > > > structures of the same shape and type.
> > > > >
> > > > > Any suggestions why this happens ?
> > > >
> > > > Yes. You are *still* using a matrix in a data frame.  Please
> > > > do read more
> > > > carefully.
> > > >
> > > > > --- second problem
> > > > >
> > > > > > As Andy Liaw pointed out, xr is a matrix.  Take a look at
> > > > the names of
> > > > > > train.  Hint: they do not contain `x'.
> > > > >
> > > > > Following your hint I am guessing that the fact that names
> > > > do not contain
> > > > > 'x'
> > > > > explains why lm(y~., train) form works and lm(y~x, train) fails
> > > > > and "lm(y~., train)" means roughly: correlate column "y" to
> > > > all other
> > > > colums
> > > >
> > > > No, it means regress y on all the remaining colums in the
> > > > data argument.
> > > >
> > > > >
> > > > > Where I can find more detail specification of this syntax ?
> > > > > In help(lm) I find this paragraph:
> > > > >
> > > > >      Models for `lm' are specified symbolically.  A typical
> > > > model has
> > > > >      the form `response ~ terms' where `response' is the
> > > > (numeric)...
> > > > >
> > > > > which does not quite cover this case.
> > > >
> > > > In any good book on the subject.
> > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-.
> > > > -.-
> > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > > > r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._._._._._._.
> > > > _._
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > > > r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._._._._._._._._
> > > >
> > >
> > >
> > --------------------------------------------------------------
> > --------------
> > > --
> > > Notice: This e-mail message, together with any attachments, contains
> > > information of Merck & Co., Inc. (Whitehouse Station, New
> > Jersey, USA)
> > that
> > > may be confidential, proprietary copyrighted and/or legally
> > privileged,
> > and
> > > is intended solely for the use of the individual or entity
> > named on this
> > > message.  If you are not the intended recipient, and have
> > received this
> > > message in error, please immediately return this by e-mail
> > and then delete
> > > it.
> > >
> > >
> > ==============================================================
> > ==============
> > > ==
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.
> > -.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._.
> > _._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
> ==============================================================================
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bmagill at earthlink.net  Fri Jun 28 20:21:32 2002
From: bmagill at earthlink.net (Brett Magill)
Date: Fri, 28 Jun 2002 11:21:32 -0700
Subject: [R] R for simple stats
Message-ID: <Springmail.0994.1025288492.0.55602600@webmail.pas.earthlink.net>

The code attached creates a function for descriptives statistics called
dstats.  Enter the name of the column you want to summarize and dstats will
produce a nice summary.  If you have a data frame of numeric variables and
want to summarize by column, you can use something like:

apply(data.frame.name,2,dstats)

wrap t( ) around the above to get the output in a format that I find more
useable.

Brett



dstats<-function(x,na.rm=T,digits=3) {

 dstats<-NULL

   dstats[1]<-mean(x,na.rm=na.rm)
   dstats[2]<-sd(x,na.rm=na.rm)
   dstats[3]<-var(x,na.rm=na.rm)
   dstats[4]<-min(x,na.rm=na.rm)
   dstats[5]<-max(x,na.rm=na.rm)
   dstats[6]<-length(unique(x))
   dstats[7]<-sum(!is.na(x))
   dstats[8]<-sum(is.na(x))
 
   dstats<-round(dstats,digits=digits)
   names(dstats)<-c("mean","sd","variance","min","max","unique","n","miss")

 return(dstats)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jun 28 20:57:45 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 28 Jun 2002 14:57:45 -0400
Subject: [R] R for simple stats
In-Reply-To: <Springmail.0994.1025288492.0.55602600@webmail.pas.earthlink.net>
References: <Springmail.0994.1025288492.0.55602600@webmail.pas.earthlink.net>
Message-ID: <20020628145745.076e9488.fharrell@virginia.edu>

You might also take a look at some functions in the Hmisc library, e.g.:

set.seed(1)
x <- runif(1000)
g <- factor(sample(letters[1:4],1000,T))
describe(x)

x 
      n missing  unique    Mean     .05     .10     .25     .50     .75     .90 
   1000       0    1000  0.5043 0.06128 0.11650 0.26521 0.50441 0.74055 0.90252 
    .95 
0.95984 

lowest : 0.003536 0.004208 0.004228 0.006153 0.006443
highest: 0.998321 0.998607 0.998766 0.999014 0.999439 

options(digits=3)
s <- function(y) c(Mean=mean(y),Median=median(y),SD=sqrt(var(y)))
summary(x ~ g, fun=s)

x    N=1000

+-------+-+----+-----+------+-----+
|       | |N   |Mean |Median|SD   |
+-------+-+----+-----+------+-----+
|g      |a| 254|0.495|0.469 |0.283|
|       |b| 243|0.523|0.533 |0.294|
|       |c| 249|0.495|0.481 |0.278|
|       |d| 254|0.505|0.514 |0.289|
+-------+-+----+-----+------+-----+
|Overall| |1000|0.504|0.504 |0.286|
+-------+-+----+-----+------+-----+

summarize(x, g, s)         # to cross-classify g -> llist(g1,g2)

  g     x Median    SD     # x column=Mean
1 a 0.495  0.469 0.283
2 b 0.523  0.533 0.294
3 c 0.495  0.481 0.278
4 d 0.505  0.514 0.289

Frank Harrell

On Fri, 28 Jun 2002 11:21:32 -0700
Brett Magill <bmagill at earthlink.net> wrote:

> The code attached creates a function for descriptives statistics called
> dstats.  Enter the name of the column you want to summarize and dstats will
> produce a nice summary.  If you have a data frame of numeric variables and
> want to summarize by column, you can use something like:
> 
> apply(data.frame.name,2,dstats)
> 
> wrap t( ) around the above to get the output in a format that I find more
> useable.
> 
> Brett
> 
> 
> 
> dstats<-function(x,na.rm=T,digits=3) {
> 
>  dstats<-NULL
> 
>    dstats[1]<-mean(x,na.rm=na.rm)
>    dstats[2]<-sd(x,na.rm=na.rm)
>    dstats[3]<-var(x,na.rm=na.rm)
>    dstats[4]<-min(x,na.rm=na.rm)
>    dstats[5]<-max(x,na.rm=na.rm)
>    dstats[6]<-length(unique(x))
>    dstats[7]<-sum(!is.na(x))
>    dstats[8]<-sum(is.na(x))
>  
>    dstats<-round(dstats,digits=digits)
>    names(dstats)<-c("mean","sd","variance","min","max","unique","n","miss")
> 
>  return(dstats)
> }
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JBalint at alldata.net  Fri Jun 28 21:30:15 2002
From: JBalint at alldata.net (Balint, Jess)
Date: Fri, 28 Jun 2002 15:30:15 -0400
Subject: [R] FW: R languange
Message-ID: <CA8ED43817EFD211855E00805FE6FD7403AA209E@scadmail2.alldata.net>



-----Original Message-----
From: Prachi Shroff [mailto:prachi_shroff at hotmail.com]
Sent: Friday, June 28, 2002 3:04 PM
To: beginners at perl.org
Subject: R languange



Hi!

Does anybody know if there is a module for perl that interfaces with the 
statistical package R?

Thanks,
Prachi.


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at vip.webmails.com  Fri Jun 28 21:58:28 2002
From: rjvbertin at vip.webmails.com (R.J.V. Bertin)
Date: Fri, 28 Jun 2002 21:58:28 +0200
Subject: [R] GUIs
Message-ID: <1025294308.3d1cbfe478dd1@webinbox.com>

From: Duncan Temple Lang (duncan at research.bell-labs.com)
Date: Fri Jun 28 2002 - 19:30:08 CEST

[..]
"Minitab/Excel-like" point-and-click. However, as part of the StatDocs
project, we are piecing together components that could be directly
used to create such an environment. We are also explicitly exploring
ways of marrying the GUI-style with more comprehensive, reproducbile
analyses that an instructor and student can share, discuss, modify,
etc. So, many of the topics that have been discussed in this
interesting thread may well be realized. 

There is a commercial stats package called NCSS that has a solution to the reproducability problem that is both simple and elegant.
There is a special tabbed dialog for each type of operation (test or whatever), which allows to pick variables, enter formulae,
set options, etc. One of the tabs is called 'Templates', and allows to store the current configuration under a given name; it
is also always stored as the current configuration. Thus, one can easily repeat a test with different data, and/or store it for later.
For help and documentation, a part of the dialog serves as a permanent "tooltip" showing extensive information on the function of 
the widget that has the focus. The output goes to a simple wordprocessor that can save it as rtf. (They provide a free 30-day evaluation version.)

HtH,

-- 
RJV Bertin

NB: return address not valid; use  r j v b e r t i n  at  h o t m a i l  dot  c o m

-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Fri Jun 28 21:45:00 2002
From: tchur at optushome.com.au (Tim Churches)
Date: Sat, 29 Jun 2002 05:45:00 +1000
Subject: [R] large survey data set
References: <Pine.LNX.4.21.0206281137010.488-100000@perrin.socsci.unc.edu>
Message-ID: <3D1CBCBC.F9C8C1C1@optushome.com.au>

Andrew Perrin wrote:
> 
> This is interesting and a bit disturbing. I've been using the weights=
> syntax to assign a case-weighting system in a survey dataset as well. Can
> you send me somewhere for documentation of the differences?

I found this paper by Hendrickx to be a useful, non-technical summary of
the difference between replication weights and probability weights. It
only
very lightly touches on the issue of design effects, which also need to
be 
considered in the context of cluster sampling.

http://www.asc.org.uk/Events/Apr02/Abstract/Hendrickx.htm

Tim C

> 
> Thanks.
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - http://www.unc.edu/~aperrin
> Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu
> 
> On Thu, 27 Jun 2002, Thomas Lumley wrote:
> 
> > On Thu, 27 Jun 2002, Andrew Perrin wrote:
> >
> > > The lm function (for linear modelling aka linear regression) includes
> > > case weights with a simple syntax:
> > >
> > > foo<-lm(dependent ~ indep + indep + ... ,
> > >     data = <data object>,
> > >     weights = <weight variable>)
> >
> > Yes, but that isn't what he means by weights...
> >
> > The standard regression weights are variance weights: a weight of 2
> > denotes an observation with half the variance of a weight of 1.
> >
> > In survey sampling (and in related missing data and causal inference
> > models) you need probability weights: a weight of 2 means an observation
> > had half the chance of being sampled.  You get the same regression
> > coefficients (more or less) but quite different standard errors.
> >
> > The `model-robust' sandwich variance estimators give about the right
> > standard errors (as long as the sampling fraction is small). These are
> > built in to the survival models, but not in most other software. They are
> > pretty easy to calculate but with a 20% sample they probably aren't going
> > to work well.
> >
> >
> >       -thomas
> >
> >
> >
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jun 28 20:58:51 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Jun 2002 14:58:51 -0400
Subject: [R] problem with predict()
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC404@usrymx10.merck.com>

> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Friday, June 28, 2002 2:17 PM
> 
> On Fri, 28 Jun 2002, Liaw, Andy wrote:
> 
> > As Prof. Ripley guessed, the X data is less than full rank. 
>  I'm surprised
> > that lm didn't issue warning.  summary() does say:
> >
> > Coefficients: (17 not defined because of singularities)
> >
> > I'm also surprised that with such a fitted object, 
> predict(model) works, but
> > not predict(model, data), where data is the original data 
> used to fit the
> > model.  This does not seem to be user-friendly...
> 
> There's something to be said for more warnings, but I think 
> what predict
> does is reasonable.
> 
> If you have fitted a model to rank-deficient data then you 
> can predict on
> data with the same rank deficiency.  In particular, you can 
> predict on the
> original data, as predict(model) does.  However, you can't 
> predict on new
> data unless they have the same rank-deficiencies, and since this is
> something that can't be tested stably it make sense to refuse 
> to predict
> on new data.

But in that case shouldn't there be a more informative error message?  If
that's the desired behavior, I'd check for rank deficiency in the fitted
object, and issue an error if newdata is supplied, rather than waiting for
something to break downstream.

Just my $0.02...

Andy

> 
> 	-thomas
> >

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jun 28 20:16:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 28 Jun 2002 11:16:56 -0700 (PDT)
Subject: [R] problem with predict()
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC403@usrymx10.merck.com>
Message-ID: <Pine.A41.4.44.0206281114380.123502-100000@homer04.u.washington.edu>

On Fri, 28 Jun 2002, Liaw, Andy wrote:

> As Prof. Ripley guessed, the X data is less than full rank.  I'm surprised
> that lm didn't issue warning.  summary() does say:
>
> Coefficients: (17 not defined because of singularities)
>
> I'm also surprised that with such a fitted object, predict(model) works, but
> not predict(model, data), where data is the original data used to fit the
> model.  This does not seem to be user-friendly...

There's something to be said for more warnings, but I think what predict
does is reasonable.

If you have fitted a model to rank-deficient data then you can predict on
data with the same rank deficiency.  In particular, you can predict on the
original data, as predict(model) does.  However, you can't predict on new
data unless they have the same rank-deficiencies, and since this is
something that can't be tested stably it make sense to refuse to predict
on new data.


	-thomas
>
> Andy
>
> > -----Original Message-----
> > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > Sent: Friday, June 28, 2002 1:42 PM
> > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch; 'Liaw, Andy'
> > Subject: RE: [R] problem with predict()
> >
> >
> > I will try.
> >
> > I tried to use lm() to have basic linear "reference".
> >
> > If this is the reason (i.e. train data set is rank-deficient) and lm
> > cannot handle such situation, what are the other packages in R
> > you could recommend which would handle this type of data ?
> > Also in such case: should not lm() report a problem in a
> > model building
> > phase ?
> >
> > So far I have used SVM approach to do regression with this
> > data set and I am
> > getting
> > rather poor r^2 (~0.25 on test set), but I do not have any numerical
> > problems with SVM.
> > I am also planning to try randomForest() to do
> > classification. This was my
> > immediate
> > motivation to turn to R.
> >
> > All the best,
> >
> > R
> >
> > Ryszard Czerminski   phone: (781)994-0479
> > ArQule, Inc.         email:ryszard at arqule.com
> > 19 Presidential Way  http://www.arqule.com
> > Woburn, MA 01801     fax: (781)994-0679
> >
> >
> > -----Original Message-----
> > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > Sent: Friday, June 28, 2002 12:39 PM
> > To: Czerminski, Ryszard
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] problem with predict()
> >
> >
> > Have you tried the R debugging tools?  If not, please make
> > use of them.
> > My guess is that you have a rank-deficient problem.
> >
> > ?debugger
> > ?recover
> > ?dump.frames
> > ...
> >
> >
> > On Fri, 28 Jun 2002, Czerminski, Ryszard wrote:
> >
> > > This time I use the same file for train.data and test.data
> > > throwing in "names(test) <- names(train)" before predict()
> > for double
> > > protection (:-)
> > > and it still fails...
> > >
> > > Is it some weird problem with this particular data set ? or a bug ?
> > > (why "subscript out of bounds" ?)
> >
> > That's what the debugging tools are for.
> >
> > >
> > > > rm(list=ls())
> > > > train.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > > comment.char="")
> > > > test.data <- read.csv("train.csv", header = TRUE,
> > row.names = "mol",
> > > comment.char="")
> > > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > > xr <- scale(xr)     # matrix <- scale(data.frame)
> > > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > "scaled:scale")
> > > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > > xr <- xr[,!mask] # rm NA's
> > > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > > xs <- xs[,!mask]
> > > > train <- data.frame(y = yr, x = xr)
> > > > test <- data.frame(y = ys, x = xs)
> > > > model <- lm(y~., train)
> > > > cat("dim(train) =", dim(train), "; dim(test) =", dim(test), "\n")
> > > dim(train) = 164 119 ; dim(test) = 164 119
> > > > names(test) <- names(train)
> > > > length(predict(model, test))
> > > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> > >         subscript out of bounds
> > > >
> > >
> > > Ryszard Czerminski   phone: (781)994-0479
> > > ArQule, Inc.         email:ryszard at arqule.com
> > > 19 Presidential Way  http://www.arqule.com
> > > Woburn, MA 01801     fax: (781)994-0679
> > >
> > >
> > > -----Original Message-----
> > > From: Liaw, Andy [mailto:andy_liaw at merck.com]
> > > Sent: Friday, June 28, 2002 8:46 AM
> > > To: 'Czerminski, Ryszard'
> > > Cc: r-help at stat.math.ethz.ch
> > > Subject: RE: [R] problem with predict()
> > >
> > >
> > > You can try:
> > >
> > >   names(test) <- names(train)
> > >
> > > before calling predict() to make sure that the variable names match.
> > > Without your data files, it's hard to tell why your first
> > example worked.
> > >
> > > Andy
> > >
> > > > -----Original Message-----
> > > > From: Czerminski, Ryszard [mailto:ryszard at arqule.com]
> > > > Sent: Thursday, June 27, 2002 3:29 PM
> > > > To: 'ripley at stats.ox.ac.uk'; Czerminski, Ryszard
> > > > Cc: r-help at stat.math.ethz.ch
> > > > Subject: RE: [R] problem with predict()
> > > >
> > > >
> > > >
> > > > # Yes. You are *still* using a matrix in a data frame.
> > > > Please do read more
> > > > # carefully.
> > > >
> > > > I have read some more R documentation trying to
> > understand difference
> > > > between
> > > > matrices and data frames etc... and I repeat my example this time
> > > > executing EXACTLY the same code with only difference being
> > > > that in one case
> > > > I use smaller data sets ({train,test}-small.csv) and in the
> > > > second case I
> > > > use larger
> > > > data sets ({train,test}.csv) - and I got different behaviour.
> > > >
> > > > Small case (10*4) runs fine, larger case (164*119) fails.
> > > >
> > > > Any ideas why this happens ?
> > > >
> > > > R
> > > >
> > > > > rm(list=ls())
> > > > > train.data <- read.csv("train-small.csv", header =
> > TRUE, row.names =
> > > > "mol", comment.char="")
> > > > > test.data <- read.csv("test-small.csv", header = TRUE,
> > > > row.names = "mol",
> > > > comment.char="")
> > > > > yr <- train.data[,1]; xr <- train.data[,-1]
> > > > > xr <- scale(xr)
> > > > > x.center <- attr(xr, "scaled:center"); x.scale <- attr(xr,
> > > > "scaled:scale")
> > > > > mask <- apply(xr, 2, function(x) any(is.na(x)))
> > > > > xr <- xr[,!mask] # rm NA's
> > > > > ys <- test.data[,1]; xs <- test.data[,-1]
> > > > > xs <- scale(xs, center = x.center, scale = x.scale)
> > > > > xs <- xs[,!mask]
> > > > > train <- data.frame(y = yr, x = xr)
> > > > > test <- data.frame(y = ys, x = xs)
> > > > > model <- lm(y~., train)
> > > > > cat("dim(train) =", dim(train), "; dim(test) =",
> > dim(test), "\n")
> > > > dim(train) = 10 4 ; dim(test) = 10 4
> > > > > length(predict(model, test))
> > > > [1] 10
> > > > > train.data <- read.csv("train.csv", header = TRUE,
> > > > row.names = "mol",
> > > > comment.char="")
> > > > > test.data <- read.csv("test.csv", header = TRUE,
> > row.names = "mol",
> > > > comment.char="")
> > > > [snip...]
> > > > > cat("dim(train) =", dim(train), "; dim(test) =",
> > dim(test), "\n")
> > > > dim(train) = 164 119 ; dim(test) = 35 119
> > > > > length(predict(model, test))
> > > > Error in drop(X[, piv, drop = FALSE] %*% beta[piv]) :
> > > >         subscript out of bounds
> > > > >
> > > >
> > > > Ryszard Czerminski   phone: (781)994-0479
> > > > ArQule, Inc.         email:ryszard at arqule.com
> > > > 19 Presidential Way  http://www.arqule.com
> > > > Woburn, MA 01801     fax: (781)994-0679
> > > >
> > > >
> > > > -----Original Message-----
> > > > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> > > > Sent: Friday, June 21, 2002 3:41 PM
> > > > To: Czerminski, Ryszard
> > > > Cc: r-help at stat.math.ethz.ch
> > > > Subject: RE: [R] problem with predict()
> > > >
> > > >
> > > > On Fri, 21 Jun 2002, Czerminski, Ryszard wrote:
> > > >
> > > > > --- first problem
> > > > >
> > > > > If I store 'simulated' data in data frames:
> > > > > # train.data <- data.frame(matrix(rnorm(164*119), nrow = 164))
> > > > > # test.data <- data.frame(matrix(rnorm(35*119), nrow = 35))
> > > > > it still works the same way i.e. the code below works fine
> > > > > for simulated data and fails for 'real' data the only
> > > > > difference being in actual numeric values stored in data
> > > > > structures of the same shape and type.
> > > > >
> > > > > Any suggestions why this happens ?
> > > >
> > > > Yes. You are *still* using a matrix in a data frame.  Please
> > > > do read more
> > > > carefully.
> > > >
> > > > > --- second problem
> > > > >
> > > > > > As Andy Liaw pointed out, xr is a matrix.  Take a look at
> > > > the names of
> > > > > > train.  Hint: they do not contain `x'.
> > > > >
> > > > > Following your hint I am guessing that the fact that names
> > > > do not contain
> > > > > 'x'
> > > > > explains why lm(y~., train) form works and lm(y~x, train) fails
> > > > > and "lm(y~., train)" means roughly: correlate column "y" to
> > > > all other
> > > > colums
> > > >
> > > > No, it means regress y on all the remaining colums in the
> > > > data argument.
> > > >
> > > > >
> > > > > Where I can find more detail specification of this syntax ?
> > > > > In help(lm) I find this paragraph:
> > > > >
> > > > >      Models for `lm' are specified symbolically.  A typical
> > > > model has
> > > > >      the form `response ~ terms' where `response' is the
> > > > (numeric)...
> > > > >
> > > > > which does not quite cover this case.
> > > >
> > > > In any good book on the subject.
> > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-.
> > > > -.-
> > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > > > r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._._._._._._.
> > > > _._
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > > > r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._._._._._._._._
> > > >
> > >
> > >
> > --------------------------------------------------------------
> > --------------
> > > --
> > > Notice: This e-mail message, together with any attachments, contains
> > > information of Merck & Co., Inc. (Whitehouse Station, New
> > Jersey, USA)
> > that
> > > may be confidential, proprietary copyrighted and/or legally
> > privileged,
> > and
> > > is intended solely for the use of the individual or entity
> > named on this
> > > message.  If you are not the intended recipient, and have
> > received this
> > > message in error, please immediately return this by e-mail
> > and then delete
> > > it.
> > >
> > >
> > ==============================================================
> > ==============
> > > ==
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.
> > -.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._.
> > _._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
> ==============================================================================
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jun 28 23:19:10 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 28 Jun 2002 16:19:10 -0500
Subject: [R] large survey data set
In-Reply-To: <Pine.LNX.4.21.0206281137010.488-100000@perrin.socsci.unc.edu>
Message-ID: <002f01c21ee9$7334f960$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Andrew Perrin
> Sent: Friday, June 28, 2002 10:43 AM
> To: Thomas Lumley
> Cc: rpietro at duke.edu; R-help Digest
> Subject: Re: [R] large survey data set
> 
> This is interesting and a bit disturbing. I've been using the weights=
> syntax to assign a case-weighting system in a survey dataset as well.
Can
> you send me somewhere for documentation of the differences?
> 

The original poster had mentioned being a Stata user I believe.  Stata
is a package that I had reviewed at one time based upon some prior
recommendations.

I just recalled that Stata has both product related and general
statistics books available on their web site.
 
The following URL:

http://www.stata.com/bookstore/survey.html

has links for several texts on survey and panel data and may be of help
to you.

You may wish to see if your main or departmental library has copies to
facilitate a review of the content.

Regards and HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jun 28 23:20:40 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 28 Jun 2002 14:20:40 -0700 (PDT)
Subject: [R] FW: R languange
In-Reply-To: <CA8ED43817EFD211855E00805FE6FD7403AA209E@scadmail2.alldata.net>
Message-ID: <Pine.GSO.4.10.10206281420260.13774-100000@fisher.stat.ucla.edu>

See the RSPerl package from Omega (http://www.omegahat.org).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 28 Jun 2002, Balint, Jess wrote:

> 
> 
> -----Original Message-----
> From: Prachi Shroff [mailto:prachi_shroff at hotmail.com]
> Sent: Friday, June 28, 2002 3:04 PM
> To: beginners at perl.org
> Subject: R languange
> 
> 
> 
> Hi!
> 
> Does anybody know if there is a module for perl that interfaces with the 
> statistical package R?
> 
> Thanks,
> Prachi.
> 
> 
> _________________________________________________________________
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpietro at duke.edu  Fri Jun 28 23:46:50 2002
From: rpietro at duke.edu (rpietro@duke.edu)
Date: Fri, 28 Jun 2002 17:46:50 -0400 (EDT)
Subject: [R] large survey data set
In-Reply-To: <002f01c21ee9$7334f960$0201a8c0@MARC>
Message-ID: <Pine.LNX.4.33.0206281740100.8014-100000@localhost.localdomain>

Stata can handle survey data using the "svy" set of commands. The complete
documentation including how weights are calculated can be found in the
Stata Reference Manual [Su-Z], p 27-101

Rick


On Fri, 28 Jun 2002, Marc Schwartz wrote:

> > -----Original Message-----
> > From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch] On
> > Behalf Of Andrew Perrin
> > Sent: Friday, June 28, 2002 10:43 AM
> > To: Thomas Lumley
> > Cc: rpietro at duke.edu; R-help Digest
> > Subject: Re: [R] large survey data set
> >
> > This is interesting and a bit disturbing. I've been using the weights=
> > syntax to assign a case-weighting system in a survey dataset as well.
> Can
> > you send me somewhere for documentation of the differences?
> >
>
> The original poster had mentioned being a Stata user I believe.  Stata
> is a package that I had reviewed at one time based upon some prior
> recommendations.
>
> I just recalled that Stata has both product related and general
> statistics books available on their web site.
>
> The following URL:
>
> http://www.stata.com/bookstore/survey.html
>
> has links for several texts on survey and panel data and may be of help
> to you.
>
> You may wish to see if your main or departmental library has copies to
> facilitate a review of the content.
>
> Regards and HTH.
>
> Marc
>
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Sat Jun 29 00:54:49 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 28 Jun 2002 17:54:49 -0500
Subject: [R] browser/debug and for loop
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D9F9@JUPITER>

Dear R-Users,

It seems like once one invokes browser() inside a loop and steps through the
body using 'n' any subsequent loop will be "intercepted" by debug()
function. Here is exactly what I mean

# fresh R session
# run a loop that has browser() inside the body
> for (i in seq(5)) { browser(); print(i) }
for (i in seq(5)) { browser(); print(i) }
Called from: NULL
Browse[1]> n
n
debug: print(i)
Browse[1]> Q
Q

#  remove browser(), debug() is still there
> for (i in seq(5)) { print(i) }
for (i in seq(5)) { print(i) }
debug: i
Browse[1]> Q
Q

My guess is that when I was stepping through some function got flagged for
debugging. I tried to undebug "for", but that didn't work.

This is R.1.5.0 on RedHat Linux 7.1

Any suggestion will be appreciated.

Thanks, Vadim

P.S. I thought it might be useful to have a function that lists all
functions currently flagged for debugging.

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Sat Jun 29 09:43:12 2002
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Sat, 29 Jun 2002 09:43:12 +0200
Subject: [R] Scripts in R?
Message-ID: <004c01c21f40$a02f0800$2d0ffea9@oemcomputer>

Hello,

In S-Plus for windows there is a possibility to work with 'scripts' (at least from version 4.5). Is there an equivalent 'function' in R or is there a simular way to work in R

Sincerely

Fredrik Lundgren

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 29 10:01:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 29 Jun 2002 09:01:19 +0100 (BST)
Subject: [R] Scripts in R?
In-Reply-To: <004c01c21f40$a02f0800$2d0ffea9@oemcomputer>
Message-ID: <Pine.LNX.4.31.0206290859020.23186-100000@gannet.stats>

On Sat, 29 Jun 2002, Fredrik Lundgren wrote:

> Hello,
>
> In S-Plus for windows there is a possibility to work with 'scripts' (at least from version 4.5). Is there an equivalent 'function' in R or is there a simular way to work in R

Since 4.0.

Not exactly.  You can display an R file from the File menu and submit
commands from it (via paste to console, ^V).  Alternatively, use ESS under
Emacs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jun 29 10:10:56 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 29 Jun 2002 10:10:56 +0200
Subject: [R] Scripts in R?
References: <004c01c21f40$a02f0800$2d0ffea9@oemcomputer>
Message-ID: <3D1D6B90.5D6ED24D@statistik.uni-dortmund.de>



Fredrik Lundgren wrote:
> 
> Hello,
> 
> In S-Plus for windows there is a possibility to work with 'scripts' (at least from version 4.5). Is there an equivalent 'function' in R or is there a simular way to work in R

You can choose, e.g., one of the editors mentioned in 
http://cran.r-project.org/other-software.html  to get  somehow similar
features.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From remigijus.lapinskas at maf.vu.lt  Sat Jun 29 10:41:25 2002
From: remigijus.lapinskas at maf.vu.lt (Remigijus Lapinskas)
Date: Sat, 29 Jun 2002 10:41:25 +0200
Subject: [R] NA=NA
Message-ID: <14445.020629@maf.vu.lt>

Hello R-help,

My vector aa has some NA's:

> aa_c(NA,1)
> aa=="NA"
[1]    NA FALSE
> aa==NA
[1]   NA   NA

How can I detect NA's?
In other words, I would like my answer to be TRUE  FALSE.

Best regards,
 Remigijus                          mailto:remigijus.lapinskas at maf.vu.lt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 29 10:54:50 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 29 Jun 2002 09:54:50 +0100 (BST)
Subject: [R] NA=NA
In-Reply-To: <14445.020629@maf.vu.lt>
Message-ID: <Pine.LNX.4.31.0206290952480.23376-100000@gannet.stats>

Use is.na().

Since NA denotes unknown, the result is always unknown.


On Sat, 29 Jun 2002, Remigijus Lapinskas wrote:

> Hello R-help,
>
> My vector aa has some NA's:
>
> > aa_c(NA,1)

Oh, please don't post ugly code like that.  If you must use `_' leave
spaces around it (and be aware that it will be deprecated in 1.6.0).

> > aa=="NA"
> [1]    NA FALSE
> > aa==NA
> [1]   NA   NA
>
> How can I detect NA's?
> In other words, I would like my answer to be TRUE  FALSE.
>
> Best regards,
>  Remigijus                          mailto:remigijus.lapinskas at maf.vu.lt
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 29 11:21:55 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jun 2002 11:21:55 +0200
Subject: [R] browser/debug and for loop
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D9F9@JUPITER>
References: <AFD78192EC49D311BFAE00902798AB8F23D9F9@JUPITER>
Message-ID: <x2vg82l9sc.fsf@biostat.ku.dk>

Vadim Ogranovich <vograno at arbitrade.com> writes:

> Dear R-Users,
> 
> It seems like once one invokes browser() inside a loop and steps through the
> body using 'n' any subsequent loop will be "intercepted" by debug()
> function. Here is exactly what I mean
> 
> # fresh R session
> # run a loop that has browser() inside the body
> > for (i in seq(5)) { browser(); print(i) }
> for (i in seq(5)) { browser(); print(i) }
> Called from: NULL
> Browse[1]> n
> n
> debug: print(i)
> Browse[1]> Q
> Q
> 
> #  remove browser(), debug() is still there
> > for (i in seq(5)) { print(i) }
> for (i in seq(5)) { print(i) }
> debug: i
> Browse[1]> Q
> Q
> 
> My guess is that when I was stepping through some function got flagged for
> debugging. I tried to undebug "for", but that didn't work.
> 
> This is R.1.5.0 on RedHat Linux 7.1
> 
> Any suggestion will be appreciated.

The effect is still there in 1.6.0pre. However, it doesn't seem to be
"for" that got the debug flag set, but "{":

> {i}
debug: i
Browse[1]> 
[1] 4

I can't think of an immediate workaround except: "just don't do
that"...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Sun Jun 30 06:47:55 2002
From: wilson at visi.com (Tim Wilson)
Date: Sat, 29 Jun 2002 23:47:55 -0500
Subject: [R] modifying a vector
Message-ID: <20020630044755.GA19911@isis.visi.com>

Hello everyone,

Thanks to all who offered suggestions after my initial query to the list.
I've been busy trying to absorb the docs as fast as possible, but this
little thing has me stumped for the moment.

I'm creating a random sample of 100 item and saving it to a vector named
'iq'. I'd like to create a second vector (iq_prime, say) by adding 20 to
each element of the 'iq' vector. Here's what I've tried.

> iq <- rnorm(100, 80, 15)
> t(dstats(iq))  # Thanks Brett Magill
       mean     sd variance    min     max unique   n miss skewness
       kurtosis
[1,] 78.628 14.223  202.302 49.079 121.294    100 100    0
       0.3    0.191
> iq_prime <- sapply(iq, function(x)x+20)
> iq_prime
> t(dstats(iq))
       mean     sd variance    min     max unique   n miss
       skewness kurtosis
[1,] 98.628 14.223  202.302 69.079 141.294    100 100    0
      0.3    0.191

Nothing is being done with 'iq_prime' apparently, but 'iq' gets changed.
Any suggestions? I guess I understand that the function is being run on
'iq', but why doesn't the vector get saved as 'iq_prime'? And how would
I do this without modifying 'iq'?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun Jun 30 07:34:24 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Jun 2002 22:34:24 -0700
Subject: [R] modifying a vector
In-Reply-To: <20020630044755.GA19911@isis.visi.com>
References: <20020630044755.GA19911@isis.visi.com>
Message-ID: <87vg81e3dr.fsf@jeeves.blindglobe.net>

>>>>> "tim" == Tim Wilson <wilson at visi.com> writes:

    tim> Hello everyone, Thanks to all who offered suggestions after
    tim> my initial query to the list.  I've been busy trying to
    tim> absorb the docs as fast as possible, but this little thing
    tim> has me stumped for the moment.

    tim> I'm creating a random sample of 100 item and saving it to a
    tim> vector named 'iq'. I'd like to create a second vector
    tim> (iq_prime, say) by adding 20 to each element of the 'iq'
    tim> vector. Here's what I've tried.

Note that "_" is assignment in S (and hence R, sigh...).  



    >> iq <- rnorm(100, 80, 15)
    >> t(dstats(iq))  # Thanks Brett Magill
    tim>        mean     sd variance    min     max unique   n miss skewness
    tim>        kurtosis
    tim> [1,] 78.628 14.223  202.302 49.079 121.294    100 100    0
    tim>        0.3    0.191
    >> iq_prime <- sapply(iq, function(x)x+20)

iq.prime <- iq + 20

# "." is a separation character, as well as having other overloaded
# meanings.

    >> iq_prime
    >> t(dstats(iq))
    tim>        mean     sd variance    min     max unique   n miss
    tim>        skewness kurtosis
    tim> [1,] 98.628 14.223  202.302 69.079 141.294    100 100    0
    tim>       0.3    0.191

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 30 11:28:59 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jun 2002 11:28:59 +0200
Subject: [R] modifying a vector
In-Reply-To: <87vg81e3dr.fsf@jeeves.blindglobe.net>
References: <20020630044755.GA19911@isis.visi.com>
	<87vg81e3dr.fsf@jeeves.blindglobe.net>
Message-ID: <x2ofdtqfms.fsf@biostat.ku.dk>

rossini at blindglobe.net (A.J. Rossini) writes:

>     tim> I'm creating a random sample of 100 item and saving it to a
>     tim> vector named 'iq'. I'd like to create a second vector
>     tim> (iq_prime, say) by adding 20 to each element of the 'iq'
>     tim> vector. Here's what I've tried.
> 
> Note that "_" is assignment in S (and hence R, sigh...).  

Soon to be deprecated, though... (but it will probably take a while
before we can reintroduce it as part of variable names).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun Jun 30 14:14:55 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sun, 30 Jun 2002 22:14:55 +1000
Subject: [R] modifying a vector
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1C02@Roper-CV.qld.cmis.csiro.au>

Peter Dalgaard notes:

> > Note that "_" is assignment in S (and hence R, sigh...).  
> 
> Soon to be deprecated, though... (but it will probably take a while
> before we can reintroduce it as part of variable names).
> 
	[WNV]   Indeed it may, so much so that I am surprised such a change
is even on the agenda.  We may agree that using "_" a the assignment
operator can make code difficult to read, but many people do use it, and
often with some enthusiasm.  It looks a bit to me like unscrambling the egg.
Let me be clear about this: I really do dislike the thing and I'm not about
to argue that it should be left untouched.   I'm just very surprised there
isn't an enormous howl of protest already...

	Are we also about to allow spaces in names and the "=" sign as yet
another alternative form of the left assignment operator, as in S4?  Should
be even more interesting.

	Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 30 15:18:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 30 Jun 2002 14:18:22 +0100 (BST)
Subject: [R] modifying a vector
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C1C02@Roper-CV.qld.cmis.csiro.au>
Message-ID: <Pine.LNX.4.31.0206301400440.1513-100000@gannet.stats>

On Sun, 30 Jun 2002 Bill.Venables at cmis.csiro.au wrote:

> Peter Dalgaard notes:

(Quoting Tony Rossini)
> > > Note that "_" is assignment in S (and hence R, sigh...).
> >
> > Soon to be deprecated, though... (but it will probably take a while
> > before we can reintroduce it as part of variable names).
> >
> 	[WNV]   Indeed it may, so much so that I am surprised such a change
> is even on the agenda.  We may agree that using "_" a the assignment
> operator can make code difficult to read, but many people do use it, and
> often with some enthusiasm.  It looks a bit to me like unscrambling the egg.
> Let me be clear about this: I really do dislike the thing and I'm not about
> to argue that it should be left untouched.   I'm just very surprised there
> isn't an enormous howl of protest already...

That's because 1.6.0 is not due for release until September or so: `_' is
already deprecated in R-devel, but few people use the bleeding-edge
version.  I don't see underline becoming valid in a syntactic name before
2.0, though.

> 	Are we also about to allow spaces in names and the "=" sign as yet
> another alternative form of the left assignment operator, as in S4?  Should
> be even more interesting.

Have `we' been sleeping in class?   From the NEWS for 1.4.0:

    o	The operator "=" is now allowed as an assignment
	operator in the grammar, for consistency with other languages,
	including recent versions of S-PLUS. [...]

(and those interested please read the ... or help("=")).

As for spaces in names, there is an intention to allow quoted non-standard
names more widely acceptable, including in formulae.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmail.cis.mcmaster.ca  Sun Jun 30 17:08:07 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Sun, 30 Jun 2002 11:08:07 -0400 (EDT)
Subject: [R] modifying a vector
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C1C02@Roper-CV.qld.cmis.csiro.au>
Message-ID: <Pine.SOL.4.33.0206301102070.292-100000@mcmail.cis.mcmaster.ca>

Dear Bill,

On Sun, 30 Jun 2002 Bill.Venables at cmis.csiro.au wrote:

> 	Are we also about to allow spaces in names and the "=" sign as yet
> another alternative form of the left assignment operator, as in S4?  Should
> be even more interesting.
>

The equal sign has already been provided as an alternative assignment
operator in R.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun Jun 30 18:12:31 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 Jun 2002 09:12:31 -0700
Subject: [R] modifying a vector
In-Reply-To: <Pine.SOL.4.33.0206301102070.292-100000@mcmail.cis.mcmaster.ca>
References: <Pine.SOL.4.33.0206301102070.292-100000@mcmail.cis.mcmaster.ca>
Message-ID: <87r8ioeoeo.fsf@jeeves.blindglobe.net>

>>>>> "john" == John Fox <jfox at mcmail.cis.mcmaster.ca> writes:

    john> The equal sign has already been provided as an alternative assignment
    john> operator in R.

And I feel the same way about "=" as I do about "_".  Yech.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Sun Jun 30 18:43:34 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Sun, 30 Jun 2002 18:43:34 +0200
Subject: [R] Loop and 3D-Densityplot
Message-ID: <3D1F5156.22235.1BB1300@localhost>

Dear list,

I've got some more question.

# Number 1:
If I run this:
#----------------------------
Per.Start <- c(1950,1973)
Per.End   <- c(1973,2001)

for(i in 1:2) {
   age <- Per.End-Per.Start
}
age
#----------------------------
I'm getting:
[1] 23 28

But I want to save the result in two different 
variables. Something like this:

#----DON'T WORK-------------
Per.Start <- c(1950,1973)
Per.End   <- c(1973,2001)
age <- c("age.50","age.73")

for(i in 1:2) {
age[i] <- Per.End-Per.Start
}
#----DON'T WORK-------------

age.50
[1] 23

age.73
[1] 28

# Number 2:
Suppose I have this dataframe:

> m5001c[1:5,1:6]
  year      AUS      AUT      BEL      CAN      DNK
1 1950 7493.457 3706.128 5461.806 7437.141 6946.357
2 1951 7589.926 3959.054 5746.515 7685.627 6935.874
3 1952 7466.991 3967.090 5667.850 7992.271 6955.238
4 1953 7536.674 4136.737 5818.068 8145.948 7292.058
5 1954 7849.489 4554.899 6028.685 7857.842 7371.312

To plot the density for year 1950 I use:
plot(density(as.matrix(k[1,2:6])))

But how can I make a 3D-Densityplot for the years 
1950-1954?
 
Again, thanks for your help
Patrick
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Jun 30 18:49:30 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sun, 30 Jun 2002 12:49:30 -0400
Subject: [R] modifying a vector
In-Reply-To: <87r8ioeoeo.fsf@jeeves.blindglobe.net>
References: <Pine.SOL.4.33.0206301102070.292-100000@mcmail.cis.mcmaster.ca>
	<87r8ioeoeo.fsf@jeeves.blindglobe.net>
Message-ID: <20020630124930.1820aaf1.fharrell@virginia.edu>

On 30 Jun 2002 09:12:31 -0700
"A.J. Rossini" <rossini at blindglobe.net> wrote:

> >>>>> "john" == John Fox <jfox at mcmail.cis.mcmaster.ca> writes:
> 
>     john> The equal sign has already been provided as an alternative assignment
>     john> operator in R.
> 
> And I feel the same way about "=" as I do about "_".  Yech.

I'll second that.  And we've already seen the big trouble that can be caused by "=" (e.g., mistyping sex=='male' as sex='male') that was not envisioned by the developers.  -Frank Harrell
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Sun Jun 30 19:34:18 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Sun, 30 Jun 2002 20:34:18 +0300
Subject: [R] simple ANOVA problem
Message-ID: <008301c2205c$5d500300$5e05cf9b@pharm.auth.gr>

Hello list members,

this is rather a simple question but I can't find the solution myself, so I
would appreciate your help and I apologise in advance for my ignorance.

I have a data frame with a header containing variable names and I have 4
independent variables and 5 dependent variables. It looks like this:
x1     x2  x3     x4     y1     y2     y3     y4     y5
1     1     33     55     4       0.3     0.38  1.55     30.1
1     1     52     56     5.5    0.28   0.36  1.51     20.8
1     1     72     55     7.9    0.27   0.36  1.52     15.1
1     2     33     34     4.7    0.34   0.41  1.55     23.2
..............
and it contains a few more data points. I want to estimate the significance
of the independent variables on each of the dependent but not all the
independent variables are  random factors. x1 is a category (qualitative)
taking 2 values, x2 and x3 are quantitative fixed-effects factors with 3
levels and x4 is a random factor highly correlated with x3 (so for
simplicity, I am thinking of skipping one of these 2 factors from the
analysis). Furthermore, there is no replication, so I have to estimate the
experimental error in terms of the higher-order interactions.

I tried the aov( ) function with a model like y2~x1*x2*x3+Error(x1:x2:x3).
The result I got was different from what the Statistica (ANOVA with
fixed-effects model and customised error term) is producing. I suspect that
the difference arises from the fact that I have to define somehow the nature
of the dependent variables otherwise they are treated as random quantitative
factors. I couldn't find a relevant example in the manuals. Can somebody
provide some help?

Thanks in advance.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Sun Jun 30 19:38:35 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Sun, 30 Jun 2002 20:38:35 +0300
Subject: [R] simple ANOVA problem
Message-ID: <008a01c2205c$f612c320$5e05cf9b@pharm.auth.gr>

Continuing my previous e-mail, I have to correct a point:
The function I used was actually the lm( ), not the aov( ), which does not
seem to accept the Error( ) argument.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sun Jun 30 20:22:01 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sun, 30 Jun 2002 13:22:01 -0500
Subject: [R] modifying a vector
In-Reply-To: <20020630124930.1820aaf1.fharrell@virginia.edu>
Message-ID: <001c01c22063$08930860$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Frank E Harrell Jr
> 
> I'll second that.  And we've already seen the big trouble that can be
caused by "="
> (e.g., mistyping sex=='male' as sex='male') that was not envisioned by
the
> developers.  -Frank Harrell
> --

I'll echo and support Dr. Harrell's comments as I have been burned
several times on my own typos paralleling his example.

It has cost me a sufficient amount of time that I have re-configured the
color syntax highlighting in my editor such that the assignment
operators (ie. "<-" and "=") are colored in bold red to differentiate
them from the equality/inequality operators (ie. "==", "<", "<=", etc.)

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 30 21:45:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 30 Jun 2002 20:45:01 +0100 (BST)
Subject: [R] simple ANOVA problem
In-Reply-To: <008a01c2205c$f612c320$5e05cf9b@pharm.auth.gr>
Message-ID: <Pine.LNX.4.31.0206301956190.1881-100000@gannet.stats>

On Sun, 30 Jun 2002, Kyriakos Kachrimanis wrote:

> Continuing my previous e-mail, I have to correct a point:
> The function I used was actually the lm( ), not the aov( ), which does not
> seem to accept the Error( ) argument.

It certainly does: have you looked at the examples on its help page?
That's good place to start, as well as the books in the FAQ.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


