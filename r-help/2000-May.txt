From laniel at cmu.edu  Mon May  1 05:53:24 2000
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Sun, 30 Apr 2000 23:53:24 -0400 (EDT)
Subject: [R] GAMs under R?
In-Reply-To: <3.0.32.20000430231618.0126c8f0@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.SOL.3.96L.1000430235158.7768B-100000@unix14.andrew.cmu.edu>

I was just now surprised to note that functions to go generalized additive
models don't appear to exist under R 1.000.  In particular, the gam() and
loess() functions aren't there.  Are they hidden somewhere and I just
haven't noticed?

--Steve

Stephen R. Laniel            |  "Farewell Angelina
Carnegie Mellon University   |   The sky is erupting
laniel at cmu.edu               |   I must go where it's quiet."
www.stat.cmu.edu/~laniel/    |   --Bob Dylan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  1 07:09:31 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 May 2000 06:09:31 +0100 (BST)
Subject: [R] GAMs under R?
In-Reply-To: <Pine.SOL.3.96L.1000430235158.7768B-100000@unix14.andrew.cmu.edu>
Message-ID: <Pine.GSO.4.05.10005010555350.21308-100000@auk.stats>

On Sun, 30 Apr 2000, Stephen R. Laniel wrote:

> I was just now surprised to note that functions to go generalized additive
> models don't appear to exist under R 1.000.  In particular, the gam() and
> loess() functions aren't there.  Are they hidden somewhere and I just
> haven't noticed?

loess: yes, and it's not really hidden. It is in standard package modreg.
It does not do `generalized additive models' though, even under S.
(The R implementation is a little less general than that in S.)

gam(): no, it is not there.  Look at the original code to see one reason
why: it is highly convoluted and not at all well documented.  I think
additive models have been greatly over-sold in certain statistical circles,
but if you want to use them for least-squares fitting, try bruto (in
package mda on CRAN) instead as at least that makes a sensible attempt to
choose the smoothness of the variable transformations.

I wonder why you were surprised?  See section 5.6 of the FAQ:

  5.6 How can I contribute to R?
  ==============================

[...]

     One place where functionality is still missing is the modeling
  software as described in "Statistical Models in S" (see *Note What is
  S?::); Generalized Additive Models (*gam*) and some of the nonlinear
  modeling code are not there yet.

which shows we are still waiting for a volunteer (hint, hint).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon May  1 07:49:07 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Mon, 01 May 2000 15:49:07 +1000
Subject: [R] GAMs under R?
Message-ID: <3.0.32.20000501154905.01266e60@pophost.nsw.cmis.csiro.au>

At 06:09 AM 5/1/00 +0100, Prof Brian D Ripley wrote:
>On Sun, 30 Apr 2000, Stephen R. Laniel wrote:
>
>> I was just now surprised to note that functions to go generalized additive
>> models don't appear to exist under R 1.000.  In particular, the gam() and
>> loess() functions aren't there.  Are they hidden somewhere and I just
>> haven't noticed?
>
>loess: yes, and it's not really hidden. It is in standard package modreg.
>It does not do `generalized additive models' though, even under S.
>(The R implementation is a little less general than that in S.)
>
>gam(): no, it is not there.  Look at the original code to see one reason
>why: it is highly convoluted and not at all well documented.  I think
>additive models have been greatly over-sold in certain statistical circles,
>but if you want to use them for least-squares fitting, try bruto (in
>package mda on CRAN) instead as at least that makes a sensible attempt to
>choose the smoothness of the variable transformations.

The restriction "for least-squares fitting" is crucial.  bruto is a form of
additive model fitting, not *generalized* additive model fitting.  If you
have to deal with binomial, poisson, .... models it doesn't help much.

>
>I wonder why you were surprised?  See section 5.6 of the FAQ:
>
>  5.6 How can I contribute to R?
>  ==============================
>
>[...]
>
>     One place where functionality is still missing is the modeling
>  software as described in "Statistical Models in S" (see *Note What is
>  S?::); Generalized Additive Models (*gam*) and some of the nonlinear
>  modeling code are not there yet.
>
>which shows we are still waiting for a volunteer (hint, hint).

But the effort required should not be under-estimated and the need for a
*good* implementation is pretty strict.  A mediocre or worse implementation
is in many ways worse than useless and even dangerous.  This looks like a
pretty interesting component of an Honours project in Statistics, if some
student is interested in computations and penalized estimation.

>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  1 08:19:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 May 2000 07:19:56 +0100 (BST)
Subject: [R] GAMs under R?
In-Reply-To: <3.0.32.20000501154905.01266e60@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.GSO.4.05.10005010705400.1476-100000@auk.stats>

On Mon, 1 May 2000, Bill Venables wrote:

> At 06:09 AM 5/1/00 +0100, Prof Brian D Ripley wrote:
> >On Sun, 30 Apr 2000, Stephen R. Laniel wrote:
> >
> >> I was just now surprised to note that functions to go generalized additive
> >> models don't appear to exist under R 1.000.  In particular, the gam() and
> >> loess() functions aren't there.  Are they hidden somewhere and I just
> >> haven't noticed?
> >
> >loess: yes, and it's not really hidden. It is in standard package modreg.
> >It does not do `generalized additive models' though, even under S.
> >(The R implementation is a little less general than that in S.)
> >
> >gam(): no, it is not there.  Look at the original code to see one reason
> >why: it is highly convoluted and not at all well documented.  I think
> >additive models have been greatly over-sold in certain statistical circles,
> >but if you want to use them for least-squares fitting, try bruto (in
> >package mda on CRAN) instead as at least that makes a sensible attempt to
> >choose the smoothness of the variable transformations.
> 
> The restriction "for least-squares fitting" is crucial.  bruto is a form of
> additive model fitting, not *generalized* additive model fitting.  If you
> have to deal with binomial, poisson, .... models it doesn't help much.

Whoah!  It helps a great deal.  gam() fits by IWLS just like glm(), so you
can build an outer loop around bruto(), say.  The variable selection
aspects of bruto make that somewhat unstable, but with a good starting
set of weights (e.g. from a large linear fit) it can work well.  (I did
some experiments in ca 1994 when writing my PRNN book.)


> >I wonder why you were surprised?  See section 5.6 of the FAQ:
> >
> >  5.6 How can I contribute to R?
> >  ==============================
> >
> >[...]
> >
> >     One place where functionality is still missing is the modeling
> >  software as described in "Statistical Models in S" (see *Note What is
> >  S?::); Generalized Additive Models (*gam*) and some of the nonlinear
> >  modeling code are not there yet.
> >
> >which shows we are still waiting for a volunteer (hint, hint).
> 
> But the effort required should not be under-estimated and the need for a
> *good* implementation is pretty strict.  A mediocre or worse implementation
> is in many ways worse than useless and even dangerous.  This looks like a

(And where do you place the one in S-PLUS?  The main difficulty with
implementing modreg was bugs in the underlying code, bugs which also exist
in the S-PLUS implementation, but Linux compilers/glibc seemed to 
stumble over them where Solaris did not.)

Those who look at the future plans for R (on developer.r-project.org)
will see in my section:

Longer term

...

Something better than gam for additive models. Perhaps along the lines of
BRUTO (in package mda).

[That's not likely to materialize for some months, though.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon May  1 15:18:15 2000
From: gb at stat.umu.se (gb)
Date: Mon, 1 May 2000 15:18:15 +0200 (CEST)
Subject: [R] Matrix inverse
In-Reply-To: <Pine.GSO.4.21.0004281008130.22751-100000@mail.biostat.washington.edu>
Message-ID: <Pine.LNX.4.21.0005011428240.11360-100000@pc16.stat.umu.se>

On Fri, 28 Apr 2000, Thomas Lumley wrote:

> On Fri, 28 Apr 2000, Patrik Waldmann wrote:
> 
> > I haven't found a function that directly calculates the matrix inverse, does it exist? Otherwise what would be the fastest way to do it?
> > 
> 
> Ainv<-solve(A)
> 
> Note that if you want to solve Ax=b you can do solve(A,b), which should be
> quicker than solve(A)%*%b

How about 'Ainv <- qr.solve(A)'?

I happened to read the help page for 'qr.solve' the other day, and there I
found that qr.solve(A, b) "is == but much better than solve(A) %*% b".
(I guess that 'better than' refers to numerical stability?)

Is qr.solve generally to be preferred to solve, which seems to be
indicated by the cited help page? And what is hidden behind solve?

G?ran 
-- 
 G?ran Brostr?m, professor           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon May  1 15:33:44 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 May 2000 08:33:44 -0500
Subject: [R] Matrix inverse
In-Reply-To: gb's message of "Mon, 1 May 2000 15:18:15 +0200 (CEST)"
References: <Pine.LNX.4.21.0005011428240.11360-100000@pc16.stat.umu.se>
Message-ID: <6r66sy5r9j.fsf@franz.stat.wisc.edu>

gb <gb at stat.umu.se> writes:

> How about 'Ainv <- qr.solve(A)'?
> 
> I happened to read the help page for 'qr.solve' the other day, and there I
> found that qr.solve(A, b) "is == but much better than solve(A) %*% b".
> (I guess that 'better than' refers to numerical stability?)

The "better than" refers to the fact that creating the inverse is
more-or-less equivalent to solving n systems of linear equations,
where n is the number of columns in A.  If n is large it does not make
sense to compute the solutions to n systems of equations in order to
evaluate the solution to one system of equations.

> Is qr.solve generally to be preferred to solve, which seems to be
> indicated by the cited help page? And what is hidden behind solve?

I think if you check the code for solve you will find that it usually
calls qr.solve.  qr.solve is just one method of solving a linear
system of equations.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon May  1 16:19:21 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 1 May 2000 09:19:21 -0500
Subject: [R] GAMs under R?
In-Reply-To: <Pine.SOL.3.96L.1000430235158.7768B-100000@unix14.andrew.cmu.edu>
	(laniel@cmu.edu)
Message-ID: <200005011419.JAA59572@odds.stat.purdue.edu>


   Date: Sun, 30 Apr 2000 23:53:24 -0400 (EDT)
   From: "Stephen R. Laniel" <laniel at cmu.edu>
   X-Sender: laniel at unix14.andrew.cmu.edu
   Organization: nrrf nrrl
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   I was just now surprised to note that functions to go generalized additive
   models don't appear to exist under R 1.000.  In particular, the gam() and
   loess() functions aren't there.  Are they hidden somewhere and I just
   haven't noticed?

   --Steve

   Stephen R. Laniel            |  "Farewell Angelina
   Carnegie Mellon University   |   The sky is erupting
   laniel at cmu.edu               |   I must go where it's quiet."
   www.stat.cmu.edu/~laniel/    |   --Bob Dylan

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You may want to try my gss package, which handles gam as a special
case.

loess is "hidden" in library(modreg).

Chong Gu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon May  1 16:25:11 2000
From: gb at stat.umu.se (gb)
Date: Mon, 1 May 2000 16:25:11 +0200 (CEST)
Subject: [R] solve vs. qr.solve
In-Reply-To: <6r66sy5r9j.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.21.0005011545370.11360-100000@pc16.stat.umu.se>

On 1 May 2000, Douglas Bates wrote:
> gb <gb at stat.umu.se> writes:
> 
> > How about 'Ainv <- qr.solve(A)'?
> > 
> > I happened to read the help page for 'qr.solve' the other day, and there I
> > found that qr.solve(A, b) "is == but much better than solve(A) %*% b".
> > (I guess that 'better than' refers to numerical stability?)

> The "better than" refers to the fact that creating the inverse is
> more-or-less equivalent to solving n systems of linear equations,
> where n is the number of columns in A.  If n is large it does not make
> sense to compute the solutions to n systems of equations in order to
> evaluate the solution to one system of equations.

I see! But then I think the help page is somewhat misleading. If it said
'...better than qr.solve(A) %*% b', there would be no doubt.  

> 
> > Is qr.solve generally to be preferred to solve, which seems to be
> > indicated by the cited help page? And what is hidden behind solve?
> 
> I think if you check the code for solve you will find that it usually
> calls qr.solve.  qr.solve is just one method of solving a linear
> system of equations.

I tried

> solve
function(a, b, ...) UseMethod("solve")
> methods(solve)
[1] "solve.default" "solve.qr"     

I guess that I have to find the underlying  C  code to find out
what "solve.default" is, and when which method is used. I have
looked around in R-1.0.1/src/* with no great success. Can I
get a hint where to search?

Thanks, G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  1 16:39:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 1 May 2000 15:39:12 +0100 (BST)
Subject: [R] solve vs. qr.solve
Message-ID: <200005011439.PAA03685@toucan.stats.ox.ac.uk>

> Date: Mon, 1 May 2000 16:25:11 +0200 (CEST)
> From: gb <gb at stat.umu.se>
> 
> On 1 May 2000, Douglas Bates wrote:
> > gb <gb at stat.umu.se> writes:
> > 
> > > How about 'Ainv <- qr.solve(A)'?
> > > 
> > > I happened to read the help page for 'qr.solve' the other day, and there I
> > > found that qr.solve(A, b) "is == but much better than solve(A) %*% b".
> > > (I guess that 'better than' refers to numerical stability?)
> 
> > The "better than" refers to the fact that creating the inverse is
> > more-or-less equivalent to solving n systems of linear equations,
> > where n is the number of columns in A.  If n is large it does not make
> > sense to compute the solutions to n systems of equations in order to
> > evaluate the solution to one system of equations.
> 
> I see! But then I think the help page is somewhat misleading. If it said
> '...better than qr.solve(A) %*% b', there would be no doubt.  
> 
> > 
> > > Is qr.solve generally to be preferred to solve, which seems to be
> > > indicated by the cited help page? And what is hidden behind solve?
> > 
> > I think if you check the code for solve you will find that it usually
> > calls qr.solve.  qr.solve is just one method of solving a linear
> > system of equations.
> 
> I tried
> 
> > solve
> function(a, b, ...) UseMethod("solve")
> > methods(solve)
> [1] "solve.default" "solve.qr"     
> 
> I guess that I have to find the underlying  C  code to find out
> what "solve.default" is, and when which method is used. I have
> looked around in R-1.0.1/src/* with no great success. Can I
> get a hint where to search?

Try listing the functions: they are identical.  solve.qr takes the
QR decomposition of A, solves Ax=b as QAx = Rx = Qb (or possibly Q' here).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon May  1 17:24:07 2000
From: gb at stat.umu.se (gb)
Date: Mon, 1 May 2000 17:24:07 +0200 (CEST)
Subject: [R] solve vs. qr.solve
In-Reply-To: <200005011439.PAA03685@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0005011722140.11515-100000@pc16.stat.umu.se>

On Mon, 1 May 2000, Prof Brian Ripley wrote:

> Try listing the functions: they are identical.  solve.qr takes the
> QR decomposition of A, solves Ax=b as QAx = Rx = Qb (or possibly Q' here).

Aha! So solve and qr.solve are in fact identical too. Thanks!

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon May  1 17:28:43 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 1 May 2000 08:28:43 -0700 (PDT)
Subject: [R] GAMs under R?
In-Reply-To: <Pine.SOL.3.96L.1000430235158.7768B-100000@unix14.andrew.cmu.edu>
Message-ID: <Pine.GSO.4.21.0005010826550.7791-100000@mail.biostat.washington.edu>

On Sun, 30 Apr 2000, Stephen R. Laniel wrote:

> I was just now surprised to note that functions to go generalized additive
> models don't appear to exist under R 1.000.  In particular, the gam() and
> loess() functions aren't there.  Are they hidden somewhere and I just
> haven't noticed?

Lots of people have pointed out loess().  For many purposes you can use
regression splines (ns() and bs() in library(splines)) and glm() to get
smooth functions of predictors.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon May  1 19:14:27 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 May 2000 12:14:27 -0500
Subject: [R] Re: solve vs. qr.solve
In-Reply-To: gb's message of "Mon, 1 May 2000 16:25:11 +0200 (CEST)"
References: <Pine.LNX.4.21.0005011545370.11360-100000@pc16.stat.umu.se>
Message-ID: <6r3do2xkek.fsf@franz.stat.wisc.edu>

gb <gb at stat.umu.se> writes:

> > solve
> function(a, b, ...) UseMethod("solve")
> > methods(solve)
> [1] "solve.default" "solve.qr"    =20
> 
> I guess that I have to find the underlying  C  code to find out
> what "solve.default" is, and when which method is used. I have
> looked around in R-1.0.1/src/* with no great success. Can I
> get a hint where to search?

solve.default is just another function in the base R library.

> solve.default
function(a, b, tol = 1e-7)
{
    if( !is.qr(a) )
	a <- qr(a, tol = tol)
    nc <- ncol(a$qr)
    if( a$rank != nc )
	stop("singular matrix `a' in solve")
    if( missing(b) ) {
	if( nc != nrow(a$qr) )
	    stop("only square matrices can be inverted")
	b <- diag(1,nc)
    }
    ## pre 0.63.3: b <- as.matrix(b)
    return(qr.coef(a,b))
}

As you can see, it checks if the first argument is a qr object and, if
not, it takes a qr decomposition.

It appears that solve.default, solve.qr, and qr.solve are identical.
I imagine the reason for identical functions under multiple names is 
for S-PLUS compatibility although I'm not sure.  Does anyone else
know?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Mon May  1 19:19:39 2000
From: tdlong at uci.edu (Tony Long)
Date: Mon, 1 May 2000 10:19:39 -0700
Subject: [R] tick marks on mfrow=c(3,3) plot
Message-ID: <v04003a01b5336a0c96b6@[128.200.28.182]>

I am generating an array of similar plots using the par(mfrow=c(3,3))
method.  Everything works fine except the plot only puts y-axis tick marks
on cells in column one and x-axis tick marks on cells in row three.  I
would like tick marks on both the x and y axix of all 9 plots in my array.

I am generating plots using the following two functions

three.by.three.plot <- function(ss)
{
par(mfrow=c(3,3))
sub.plot(ss,1.5,0.02)
sub.plot(ss,1.5,0.04)
etc
par(mfrow=c(1,1))
}

sub.plot <- function(ss,gamma, prv)
{
plot(c(5,20,50),ss[ss[,"gam"]==gamma & ss[,"prev"]==prv,"x_Power"],
      type = "n", xlab="4Nc", ylab="Power",xlim=c(0,55), ylim=c(0,1),las=1)
lines(c(5,20,50),ss[ss[,"gam"]==gamma & ss[,"prev"]==prv,"x_Power"],
      type ="b",lty=2, pch=15,mkh=0.11)
....plus some other lines commands....
}


Any suggestions???
Thanks in advance.  Tony

Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  1 20:22:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 May 2000 19:22:15 +0100 (BST)
Subject: [R] Re: solve vs. qr.solve
In-Reply-To: <6r3do2xkek.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.10005011920320.6615-100000@auk.stats>

On 1 May 2000, Douglas Bates wrote:

> gb <gb at stat.umu.se> writes:
> 
> > > solve
> > function(a, b, ...) UseMethod("solve")
> > > methods(solve)
> > [1] "solve.default" "solve.qr"    =20
> > 
> > I guess that I have to find the underlying  C  code to find out
> > what "solve.default" is, and when which method is used. I have
> > looked around in R-1.0.1/src/* with no great success. Can I
> > get a hint where to search?
> 
> solve.default is just another function in the base R library.
> 
> > solve.default
> function(a, b, tol = 1e-7)
> {
>     if( !is.qr(a) )
> 	a <- qr(a, tol = tol)
>     nc <- ncol(a$qr)
>     if( a$rank != nc )
> 	stop("singular matrix `a' in solve")
>     if( missing(b) ) {
> 	if( nc != nrow(a$qr) )
> 	    stop("only square matrices can be inverted")
> 	b <- diag(1,nc)
>     }
>     ## pre 0.63.3: b <- as.matrix(b)
>     return(qr.coef(a,b))
> }
> 
> As you can see, it checks if the first argument is a qr object and, if
> not, it takes a qr decomposition.
> 
> It appears that solve.default, solve.qr, and qr.solve are identical.
> I imagine the reason for identical functions under multiple names is 
> for S-PLUS compatibility although I'm not sure.  Does anyone else
> know?

qr.solve does not exist in S-PLUS.  The other two do, and are different
in that solve.qr will only only work if A is already a QR decomposition.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon May  1 23:05:15 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 1 May 2000 17:05:15 -0400 (EDT)
Subject: [R] including r code in a latex file
Message-ID: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>

Dear R people,

The header practically says it all. I was wanting to include r code in a
Latex file. Since R code using{ and }, which are interpreted by Latex as
control characters, I would expect it to get upset.

I believe that \{ would probably print as {, but I hoping I don't have to
go through the code and add lots of \. I would rather use some global
commannd, along the lines of \treatastext{R code}.

Is there something like this? I'm not that familiar with Latex.

                                  Thanks, Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  1 23:33:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 May 2000 22:33:36 +0100 (GMT Daylight Time)
Subject: [R] including r code in a latex file
In-Reply-To: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <Pine.WNT.4.05.10005012228590.219-100000@tern.stats>

On Mon, 1 May 2000, Faheem Mitha wrote:

> Dear R people,
> 
> The header practically says it all. I was wanting to include r code in a
> Latex file. Since R code using{ and }, which are interpreted by Latex as
> control characters, I would expect it to get upset.
> 
> I believe that \{ would probably print as {, but I hoping I don't have to
> go through the code and add lots of \. I would rather use some global
> commannd, along the lines of \treatastext{R code}.
> 
> Is there something like this? I'm not that familiar with Latex.

Use a verbatim environment (or \verb for inline text).  Lots of other
things like ^ and ~ will cause problems in LaTeX too.  Alternatively,
look hard at how the Rdconv does it using Rd.sty.  (V&R has a custom-made
verbatim-like environment with a custom virtual tt font, for example.)

Alternatively, investigate one of the many program-setting packages you can
find on CTAN, or the S.sty on statlib (used for the White Book).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon May  1 23:39:36 2000
From: gb at stat.umu.se (gb)
Date: Mon, 1 May 2000 23:39:36 +0200 (CEST)
Subject: [R] including r code in a latex file
In-Reply-To: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0005012338030.11850-100000@pc16.stat.umu.se>

On Mon, 1 May 2000, Faheem Mitha wrote:

> Dear R people,
> 
> The header practically says it all. I was wanting to include r code in a
> Latex file. Since R code using{ and }, which are interpreted by Latex as
> control characters, I would expect it to get upset.
> 
> I believe that \{ would probably print as {, but I hoping I don't have to
> go through the code and add lots of \. I would rather use some global
> commannd, along the lines of \treatastext{R code}.
> 
> Is there something like this? I'm not that familiar with Latex.

You could try \begin{verbatim}...R-code ... \end{verbatim}

-- 
 G?ran Brostr?m, professor           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon May  1 23:59:03 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 1 May 2000 17:59:03 -0400 (EDT)
Subject: [R] including r code in a latex file
In-Reply-To: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.10.10005011756520.3069-100000@bolker.zoo.ufl.edu>


\begin{verbatim}
R code
\end{verbatim}

Or, to do inline R code: you can put R expressions such as
\verb| x <- function(y)y^2| in your code.

By default, all the "verbatim" stuff comes out in typewriter
(Courier/cmtt) font.

On Mon, 1 May 2000, Faheem Mitha wrote:

> Dear R people,
> 
> The header practically says it all. I was wanting to include r code in a
> Latex file. Since R code using{ and }, which are interpreted by Latex as
> control characters, I would expect it to get upset.
> 
> I believe that \{ would probably print as {, but I hoping I don't have to
> go through the code and add lots of \. I would rather use some global
> commannd, along the lines of \treatastext{R code}.
> 
> Is there something like this? I'm not that familiar with Latex.
> 
>                                   Thanks, Faheem.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May  2 00:16:51 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 02 May 2000 10:16:51 +1200
Subject: [R] including r code in a latex file
References: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <390E0253.DB587B80@xtra.co.nz>

One way, I don't know about the efficiency though, that I use is:
\begin{display}
\begin{verbatim}
blah blah blah and more R code blah...
\end{display}
\end{verbatim}


Faheem Mitha wrote:

> Dear R people,
>
> The header practically says it all. I was wanting to include r code in a
> Latex file. Since R code using{ and }, which are interpreted by Latex as
> control characters, I would expect it to get upset.
>
> I believe that \{ would probably print as {, but I hoping I don't have to
> go through the code and add lots of \. I would rather use some global
> commannd, along the lines of \treatastext{R code}.
>
> Is there something like this? I'm not that familiar with Latex.
>
>                                   Thanks, Faheem.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian_adams at jbadams.com  Tue May  2 00:55:28 2000
From: brian_adams at jbadams.com (Joseph Brian Adams, Ph.D.)
Date: Mon, 1 May 2000 18:55:28 -0400
Subject: [R] Missing dependencies in installing R-base-1.0.0-1
Message-ID: <a04310103b533b6d3c229@[146.186.228.153]>

I recently upgraded to LinuxPPC 2000.  When I tried to reinstall the 
R rpm, I was missing the following dependent files:  egcs, egcs-g77, 
and libf2c.so.0  Is there an upgrade or a fix to this?

Brian Adams


-- 
-------------------------------------------------------------

Providing Support Services in         J. Brian Adams, Ph.D.
     Statistical Analysis                   717.393.6144
         Data Mining 		     brian_adams at jbadams.com
      Decision Modeling                   www.jbadams.com
     Operations Research
-------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue May  2 01:06:29 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 1 May 2000 19:06:29 -0400 (EDT)
Subject: [R] including r code in a latex file
In-Reply-To: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0005011906010.486-100000@Chrestomanci.home.earth>

Thanks for the flood of responses!       Faheem.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venkat at biosta.mskcc.org  Tue May  2 04:37:39 2000
From: venkat at biosta.mskcc.org (E. S. Venkatraman)
Date: Mon, 1 May 2000 22:37:39 -0400 (EDT)
Subject: [R] Variable names in model formula
In-Reply-To: <Pine.GSO.4.05.10005010555350.21308-100000@auk.stats>
Message-ID: <Pine.OSF.4.05.10005011630200.8821-100000@biosta.mskcc.org>

I have the following problem.  I have survival data (time, status) along
with several covariates (X1, X2,..., Xn).  I want to fit a Cox model for
each of the covariate (univariately) and obtain the fitted probability of
survival at a fixed time point t0 and covariate value Xi0.  I tried to do
this in a for loop where the index is the variable name as follows

covnames <- names(...)
for (covi in covnames) {
  survout <- coxph(Surv(time,status) ~ covi, data = dataname)
  print(summary(survfit(survout,newdata),t0))
}

Unfortunately "covi" is being treated as the variable name instead of 
being evaluated and the coxph call gives an error.  None of as.character,
eval, substitute (at least the way I called them) worked.  How does one
pass on variable names to model formula?

Thanks,
Venkat
-----------------------------------------------------------------------
E. S. Venkatraman, Ph.D.     Phone: (212) 639-8520  Fax: (212) 717-3137
Assistant Attending Member     Memorial Sloan-Kettering Cancer Center
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue May  2 09:11:52 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Tue, 02 May 2000 17:11:52 +1000
Subject: [R] Variable names in model formula
Message-ID: <3.0.32.20000502171151.0126c440@pophost.nsw.cmis.csiro.au>

At 10:37 PM 5/1/00 -0400, E. S. Venkatraman wrote:
>I have the following problem.  I have survival data (time, status) along
>with several covariates (X1, X2,..., Xn).  I want to fit a Cox model for
>each of the covariate (univariately) and obtain the fitted probability of
>survival at a fixed time point t0 and covariate value Xi0.  I tried to do
>this in a for loop where the index is the variable name as follows
>
>covnames <- names(...)
>for (covi in covnames) {
>  survout <- coxph(Surv(time,status) ~ covi, data = dataname)
>  print(summary(survfit(survout,newdata),t0))
>}

You could try

covnames <- names(...)
form <- Surv(time, status) ~ dummy
for(nam in covnames) {
	form[[3]] <- as.name(nam)
	survout <- coxph(form, data = dataname)
	print(summary(survfit(survout, newdata), t0))
}

>
>Unfortunately "covi" is being treated as the variable name instead of 
>being evaluated and the coxph call gives an error.  None of as.character,
>eval, substitute (at least the way I called them) worked.  How does one
>pass on variable names to model formula?

The above way is one.  A slightly more direct way would be to use some
column of the data frame on the right hand side:

for (i in 1:5) {
	survout <- coxph(Surv(time, status) ~ dataname[, i], dataname)
.....
}

There is a distinction between character strings and names.
>
>Thanks,
>Venkat
>-----------------------------------------------------------------------
>E. S. Venkatraman, Ph.D.     Phone: (212) 639-8520  Fax: (212) 717-3137
>Assistant Attending Member     Memorial Sloan-Kettering Cancer Center
>-----------------------------------------------------------------------
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  2 09:51:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 2000 09:51:31 +0200
Subject: [R] Missing dependencies in installing R-base-1.0.0-1
In-Reply-To: "Joseph Brian Adams, Ph.D."'s message of "Mon, 1 May 2000 18:55:28 -0400"
References: <a04310103b533b6d3c229@[146.186.228.153]>
Message-ID: <x2k8hdfkzg.fsf@blueberry.kubism.ku.dk>

"Joseph Brian Adams, Ph.D." <brian_adams at jbadams.com> writes:

> I recently upgraded to LinuxPPC 2000.  When I tried to reinstall the 
> R rpm, I was missing the following dependent files:  egcs, egcs-g77, 
> and libf2c.so.0  Is there an upgrade or a fix to this?
> 
> Brian Adams

Er, ... R depends on those packages and files which most likely are to
be found on your LinuxPPC CD. 

What is the problem? That you cannot install R without installing
those packages first, or that R installs even with those packages
absent and crashes on startup? Either way you need to get the items
installed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  2 10:43:02 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 2000 10:43:02 +0200
Subject: [R] Missing dependencies in installing R-base-1.0.0-1
In-Reply-To: Peter Dalgaard BSA's message of "02 May 2000 09:51:31 +0200"
References: <a04310103b533b6d3c229@[146.186.228.153]> <x2k8hdfkzg.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2wvldz6jt.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> "Joseph Brian Adams, Ph.D." <brian_adams at jbadams.com> writes:
> 
> > I recently upgraded to LinuxPPC 2000.  When I tried to reinstall the 
> > R rpm, I was missing the following dependent files:  egcs, egcs-g77, 
> > and libf2c.so.0  Is there an upgrade or a fix to this?
> > 
> > Brian Adams
> 
> Er, ... R depends on those packages and files which most likely are to
> be found on your LinuxPPC CD. 
> 
> What is the problem? That you cannot install R without installing
> those packages first, or that R installs even with those packages
> absent and crashes on startup? Either way you need to get the items
> installed.

Oh, I think I get it now: they changed the compiler suite for the new
version? We'll be getting that problem on RedHat sooner or later as
well. What you *really* need is a C compiler, a Fortran compiler and
the libf2c library, so if you install those[1] it might be possible to
install R with "rpm -i --force ...". In fact it might even work
without the compilers until you try installing packages off of the net.

[1] I don't know the LinuxPPC setup, but they would likely be found in
packages named gcc and g77. I'm not too sure about the f2c item.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue May  2 11:08:59 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 2 May 2000 11:08:59 +0200 (MET DST)
Subject: [R] including r code in a latex file
In-Reply-To: <Pine.LNX.4.21.0005011700010.486-100000@Chrestomanci.home.earth>
Message-ID: <Pine.OSF.4.05.10005021057160.32378-100000@alnair.uio.no>

On Mon, 1 May 2000, Faheem Mitha wrote:

>Dear R people,
>
>The header practically says it all. I was wanting to include r code in a
>Latex file. Since R code using{ and }, which are interpreted by Latex as
>control characters, I would expect it to get upset.

While you could use verbatim, as others have suggested, the lgrind
definitions that I posted here the other day has been written with that in
mind to produce nice R-code program listings for inclusion in LaTeX
documents. 

lgrind is a pretty standard program, you may find it on you system. I
haven't myself been able to make it work, for some unknown reason, but if
you take the following code:
R:\
        :pb=^\d?\p\d<-\dfunction\(\a\):\
        :bb={:be=}:cb=\d#:ce=$sb=":se=\e":lb=':le=\e':id=.:\
        :zb=@:ze=@:tb=%%:te=%%:mb=%\$:me=\$%:vb=%\|:ve=\|%:\
        :kw=while for in repeat if else switch break next\
        return stop warning function:
save it to a file you call e.g. ~/tex/lgrindefs
then running
lgrind -i -d ~/tex/lgrindefs mycode.R > mycode.tex
should produce a nice LaTeXed file. I think... You need to include the
lgrind style file in you document, as well as use a macro to include it.
See the lgrind(1) man page for details

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Tue May  2 14:45:06 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Tue, 2 May 2000 08:45:06 -0400
Subject: [R] loops
Message-ID: <200005021245.IAA15627@sirocco.cc.mcgill.ca>

Hi R friends,
Reading the last issue of Stat Can J. there is an article in a single
degree of freedom test for non additivity of interactions in anova 
tables with 1 obs per cell. The authors claim it is more powerfull than 
Tukey but for the case of multiplicative interaction, which is the 
alternative studied by Tukey. B.A.Hartlaub,A.M.Dean,D.A.Wolfe. 
Rank-based test procedures for interaction in the two-way layout 
with one observation per cell. CanJ.Stat v27 p863-874 I tried to 
program it, and it works since the tables are 5 by 5 or 5 by 8 etc. 
Just for the sake of neatness how can I reprogram the core of the 
program which is:
 s <- NULL k <- 0 for ( j in
1:(nc- 1)) {
  for (jp in (j+1):nc ) {
    k <- k+1
    s[k] <- 0
    for (i in 1:(nr-1)) {
      for(ip in (i+1):nr) {
        a <- xr[i,j]+xr[ip,jp]-xr[i,jp]-xr[ip,j]
        s[k] <- s[k] + a*a
      }
    }
  }
}
cra <- max(s)

where nc=number of columns, nr number of rows and the xr's are 
the centered ranks.
the statistic being cra, there is a similar version where mean is 
replace by median in a previous step..
There must be a way in R to replace the 4 for loops i<i' and j<j' 

Peter Wolf (pwolf at wiwi.uni-bielefeld.de) suggested the function a1 
below.
This is may version of the cra.test, if somebody think of a way to 
improve it please let me know. The distribution must be simulated 
each time so speed of computation is crucial.
Thanks

cra <- function(x) {
  nc <- dim(x)[2]
  nr <- dim(x)[1]

  ca <- apply(x,2,mean)
  xc1 <- t(x)-ca
  xc <- t(xc1)
  xr1 <- apply(xc,1,rank)
  xr <- t(xr1)

  s <- NULL
  k <- 0
  for ( j in 1:(nc-1)) {
    for (jp in (j+1):nc ) {
      k <- k+1
      s[k] <- a1(xr[,j],xr[,jp]) 
     }
   }
  cra <- max(s)
}

a1 <- function(x,y){
  nr <- length(x)
  h <- x-y
  s <- 0
  for( i in 1:(nr-1)){
    ip <- (i+1):nr
    a <- h[i]-h[ip]
    s<- s+sum(a*a)
  }
  return(s)
}

cra.test <- function(x,n=1000){
# perform the cra test for interaction
#  ref: Hartlaub,Dean,Wolfe   Can.J.Stat v27,p863-874
#
# x = nc X nr matrix of the two-way table
# n = number of simulations
#
# output:
# cra : the value of the statistic
# plt : frequency less than observed in the n simulations
# ple : freq less and equal to  observed in simulations
# dist: quantiles from simulation(min, median,80%, 90%,95%,99% 
and max)
#
  nc <- dim(x)[2]
  nr <- dim(x)[1]
  tst <- cra(x)
  a <- 0
  b <- 0
  cr <- NULL
  k <- 0
  for (i in 1:n) {
    xx<-matrix(runif(nr*nc),ncol=nc)
    k <- k+1
    cr[k] <- cra(xx)
    if (tst < cr[k]) a <- a+1
    if (tst == cr[k]) b <- b+1
  }

return(list(cra=tst,plt=a/n,ple=(a+b)/n,dist=quantile(cr,probs=c(0,.5,.
8,.9,.95,.99,1)))) }


R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue May  2 17:16:17 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 2 May 2000 08:16:17 -0700 (PDT)
Subject: [R] Variable names in model formula
In-Reply-To: <3.0.32.20000502171151.0126c440@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.GSO.4.21.0005020813100.6086-100000@mail.biostat.washington.edu>

On Tue, 2 May 2000, Bill Venables wrote:

> At 10:37 PM 5/1/00 -0400, E. S. Venkatraman wrote:
> >I have the following problem.  I have survival data (time, status) along
> >with several covariates (X1, X2,..., Xn).  I want to fit a Cox model for
> >each of the covariate (univariately) and obtain the fitted probability of
> >survival at a fixed time point t0 and covariate value Xi0.  I tried to do
> >this in a for loop where the index is the variable name as follows
> >
> >covnames <- names(...)
> >for (covi in covnames) {
> >  survout <- coxph(Surv(time,status) ~ covi, data = dataname)
> >  print(summary(survfit(survout,newdata),t0))
> >}
> 
> You could try
> 
> covnames <- names(...)
> form <- Surv(time, status) ~ dummy
> for(nam in covnames) {
> 	form[[3]] <- as.name(nam)
> 	survout <- coxph(form, data = dataname)
> 	print(summary(survfit(survout, newdata), t0))
> }

A related idea, which doesn't require you to know the structure of formula
object, but will be slower, is

covnames <- names(...)
for(nam in covnames) {
	form<-substitute(Surv(time,status)~dummy,list(dummy=nam))
	survout<-coxph(form,data=dataname)
	print(summary(survfit(survout, newdata), t0))
}

This method also works if you want to loop over different time and status
variables.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue May  2 17:47:07 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 02 May 2000 11:47:07 -0400
Subject: [R] Variable names in model formula
In-Reply-To: <3.0.32.20000502171151.0126c440@pophost.nsw.cmis.csiro.au>
References: <3.0.32.20000502171151.0126c440@pophost.nsw.cmis.csiro.au>
Message-ID: <390ef74b.10701960@fisher.stats.uwo.ca>

On Tue, 02 May 2000 17:11:52 +1000, Bill Venables wrote in message
<3.0.32.20000502171151.0126c440 at pophost.nsw.cmis.csiro.au>:

>At 10:37 PM 5/1/00 -0400, E. S. Venkatraman wrote:
>>I have the following problem.  I have survival data (time, status) along
>>with several covariates (X1, X2,..., Xn).  I want to fit a Cox model for
>>each of the covariate (univariately) and obtain the fitted probability of
>>survival at a fixed time point t0 and covariate value Xi0.  
>
>You could try
>
>covnames <- names(...)
>form <- Surv(time, status) ~ dummy
>for(nam in covnames) {
>	form[[3]] <- as.name(nam)
>	survout <- coxph(form, data = dataname)
>	print(summary(survfit(survout, newdata), t0))
>}
>
>...  A slightly more direct way would be to use some
>column of the data frame on the right hand side:
>
>for (i in 1:5) {
>	survout <- coxph(Surv(time, status) ~ dataname[, i], dataname)
>.....
>}
>

I just discovered a nice way to do this in S-PLUS the other day; it
doesn't work in R 0.99, but I don't have version 1 installed on this
machine to check there.

The terms() function in S-PLUS returns an expression listing the terms
in a model formula.  It is nice to manipulate:

 formula(terms(somefit)[1]) gives the model formula using just the
first term,

 formula(terms(somefit)[-1]) gives the model formula leaving out the
first term, 

etc.

I don't know if copying this functionality would break anything (or
maybe it's already there in 1.x), but it seems to me like a nice
addition.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue May  2 17:55:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 2 May 2000 08:55:46 -0700 (PDT)
Subject: [R] Variable names in model formula
In-Reply-To: <390ef74b.10701960@fisher.stats.uwo.ca>
Message-ID: <Pine.GSO.4.21.0005020852420.6086-100000@mail.biostat.washington.edu>

On Tue, 2 May 2000, Duncan Murdoch wrote:
> 
> I just discovered a nice way to do this in S-PLUS the other day; it
> doesn't work in R 0.99, but I don't have version 1 installed on this
> machine to check there.
> 
> The terms() function in S-PLUS returns an expression listing the terms
> in a model formula.  It is nice to manipulate:
> 
>  formula(terms(somefit)[1]) gives the model formula using just the
> first term,
> 
>  formula(terms(somefit)[-1]) gives the model formula leaving out the
> first term, 

I wrote this for the survival{4,5} packages, where it's used to hack apart
model formulas and meddle with the strata() and cluster() terms.  I think
there's just never been any call for it in the base package before now.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue May  2 18:06:11 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 02 May 2000 18:06:11 +0200
Subject: [R] R Documentation(s)
Message-ID: <3.0.32.20000502180611.0091ac60@162.38.183.200>

Dear all,

I am interested by the various messages sent to the r-help mailing list
these last few days about documentation on R. Yet, there are a lot of
issues actually open on this topic, and it is not clear to me what is the
"urgent need for documentation" on R.

R comes with the 'Introduction to R' by Venables et al. I recommend the
colleagues and students in my lab who are interested in R to read it.
Surely, this is not sufficient to use R efficiently, but I found using the
'Intro to R' with the on-line help (text and html) a good combination to
run analyses and write programs. But this could reflect the fact that I
still use R at a relatively low level; more experienced users may have a
different opinion.

I have produced myself a short introduction to R for the postgrad students
here (so it is in French), and understand that similar documents have been
produced elsewhere. Would it be useful to put something together?

To me, the greatest issue is the audience targeted by a documentation. Many
specialists are potentially interested by R, from the top-statisticians to
the users who hardly knows about statistics but need to run some tests (at
least to publish their results). It seems to me that some queries on the
list have more to do with "using statistics" than with "using R". As long
as non-statisticians use R (like me), this seems inevitable.

Another issue is about languages (human ones, not computer ones): is there
a need to translate R docs?

Finally, is it possible to set a system of documentation that is able to
track the development of the software? I am personnally impressed by the
pace of release of new versions of R.

These are just some quick thoughts.

Best wishes to all,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue May  2 18:29:33 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 02 May 2000 09:29:33 -0700
Subject: [R] Graph superimposition
Message-ID: <4.3.1.2.20000502091940.00acca50@odin.pdx.edu>

I'm running a four-group, 15-variable discriminant analysis using the MASS 
function lda().  Discriminant functions 1 and 2 explain about 93% of the 
variance.  I would like to plot the group scatters in a single scatterplot, 
identify each group's centroid, and encircle the group scatter with a 90% 
bivariate confidence ellipse.  I can do this for each group on a separate 
plot, but I cannot figure out how to place all information on a single 
plot.   In S-Plus I use trellis graphics with panel.superpose as a trellis 
option.

I know that R does not support trellis graphics, but is there another way 
to accomplish this in R?  (I'm using 1.0.1 under Windows NT 4).

Thanks for your help.

P.S.  My needs stem from wanting to use "R" as the statistical language for 
a course I'm teaching next Fall.


=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  2 18:57:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 2000 18:57:42 +0200
Subject: [R] Graph superimposition
In-Reply-To: Marc Feldesman's message of "Tue, 02 May 2000 09:29:33 -0700"
References: <4.3.1.2.20000502091940.00acca50@odin.pdx.edu>
Message-ID: <x2pur4zy7t.fsf@blueberry.kubism.ku.dk>

Marc Feldesman <feldesmanm at pdx.edu> writes:

> I'm running a four-group, 15-variable discriminant analysis using the MASS 
> function lda().  Discriminant functions 1 and 2 explain about 93% of the 
> variance.  I would like to plot the group scatters in a single scatterplot, 
> identify each group's centroid, and encircle the group scatter with a 90% 
> bivariate confidence ellipse.  I can do this for each group on a separate 
> plot, but I cannot figure out how to place all information on a single 
> plot.   In S-Plus I use trellis graphics with panel.superpose as a trellis 
> option.
> 
> I know that R does not support trellis graphics, but is there another way 
> to accomplish this in R?  (I'm using 1.0.1 under Windows NT 4).

Well, you can always superimpose plots by using the following paradigm

  plot(1:10)
  par(new=T)
  plot(1:10,cex=2)

There might be a simpler way using the features for adding items to
a plot (e.g. points(), lines()).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Tue May  2 19:01:37 2000
From: tdlong at uci.edu (Tony Long)
Date: Tue, 2 May 2000 10:01:37 -0700
Subject: [R] tick marks on mfrow=c(3,3) plot (with simple example)
Message-ID: <v04003a02b534b99c6f20@[128.200.28.182]>

Sorry:

	I should have reproduced the "problem" with a simple example.  I do
this below.  I think there is likely a switch I can change using par, but
don't know what it is.  The problem is the tick marks for the Y- axis are
only on plots in column #1 and for the X-axis in row # 2.  Tony


x <- 1:10
y <- 1:10*5
par(mfrow=c(2,2))
plot(x,y)
plot(x,y)
plot(x,y)
plot(x,y)
par(mfrow=c(1,1))

Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Tue May  2 18:33:30 2000
From: jmarca at translab.its.uci.edu (James Edward Marca)
Date: Tue, 2 May 2000 09:33:30 -0700
Subject: [R] tick marks on mfrow=c(3,3) plot
In-Reply-To: <v04003a01b5336a0c96b6@[128.200.28.182]>; from tdlong@uci.edu on Mon, May 01, 2000 at 10:19:39AM -0700
References: <v04003a01b5336a0c96b6@[128.200.28.182]>
Message-ID: <20000502093330.A327@papa.home>

On Mon, May 01, 2000 at 10:19:39AM -0700, Tony Long wrote:
> I am generating an array of similar plots using the par(mfrow=c(3,3))
> method.  Everything works fine except the plot only puts y-axis tick marks
> on cells in column one and x-axis tick marks on cells in row three.  I
> would like tick marks on both the x and y axix of all 9 plots in my array.
> 
> I am generating plots using the following two functions
> 
> three.by.three.plot <- function(ss)
> {
> par(mfrow=c(3,3))
> sub.plot(ss,1.5,0.02)
> sub.plot(ss,1.5,0.04)
> etc
> par(mfrow=c(1,1))
> }
> 
> sub.plot <- function(ss,gamma, prv)
> {
> plot(c(5,20,50),ss[ss[,"gam"]==gamma & ss[,"prev"]==prv,"x_Power"],
>       type = "n", xlab="4Nc", ylab="Power",xlim=c(0,55), ylim=c(0,1),las=1)
> lines(c(5,20,50),ss[ss[,"gam"]==gamma & ss[,"prev"]==prv,"x_Power"],
>       type ="b",lty=2, pch=15,mkh=0.11)
> ....plus some other lines commands....
> }
> 
> 
> Any suggestions???
> Thanks in advance.  Tony

I hacked your functions a bit to get them to work with artificial 
data, and had no problems.

my code:

three.by.three.plot <- function(ss)
  {
    par(mfrow=c(3,3))
    sub.plot(ss,-1,-1)
    sub.plot(ss,-1,0)
    sub.plot(ss,-1,1)
    sub.plot(ss,0,-1)
    sub.plot(ss,0,0)
    sub.plot(ss,0,1)
    sub.plot(ss,1,-1)
    sub.plot(ss,1,0)
    sub.plot(ss,1,1)
  }

sub.plot <- function(ss,gamma,prv)
  {
    plot(ss[ss[,"y"]==gamma & ss[,"z"]==prv,"x"],
         ss[ss[,"y"]==gamma & ss[,"z"]==prv,"plot.values"],
         type="n", xlab="4Nc", ylab="Power", las=1)
    lines(ss[ss[,"y"]==gamma & ss[,"z"]==prv,"x"],
          ss[ss[,"y"]==gamma & ss[,"z"]==prv,"plot.values"],
          type="b",lty=2,pch=15,mkh=0.11)
  }
z<-rnorm(400)
z[z < -1]<- -1
z[z > 1 ] <- 1
z[ z!= -1 & z != 1 ] <- 0
y<-rnorm(400)
y[y < -1]<- -1
y[y > 1 ] <- 1
y[ y!= -1 & y != 1 ] <- 0
x<- (1:400)/400
plot.values<- cos(x)
xyz <- cbind(x,y,z,plot.values)
three.by.three.plot(xyz)

tick marks all show up.  I'm using R 1.0.0 on Win98.  

James Marca
jmarca at translab.its.uci.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From coffee at uni-paderborn.de  Tue May  2 19:52:32 2000
From: coffee at uni-paderborn.de (Chris Loeser)
Date: Tue, 02 May 2000 19:52:32 +0200
Subject: [R] sesonal time series forecasting
Message-ID: <390F15E0.40C0DBC1@uni-paderborn.de>

Hi there, 

just a short question :
Is it possible to do a forecast for a sesonal time sereies
(e.g. with Box Jenkins method) with R ??
..sorry but I didn 't get it in the man-pages.

thanx

Chris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May  2 20:03:23 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 02 May 2000 20:03:23 +0200
Subject: [R] loops
References: <200005021245.IAA15627@sirocco.cc.mcgill.ca>
Message-ID: <390F186B.B71AB6FF@statistik.uni-dortmund.de>

Heberto Ghezzo wrote:
> 
> Hi R friends,
> [...]
>  
> cra <- function(x) {
>   nc <- dim(x)[2]
>   nr <- dim(x)[1]
> 
>   ca <- apply(x,2,mean)
>   xc1 <- t(x)-ca
>   xc <- t(xc1)
>   xr1 <- apply(xc,1,rank)
>   xr <- t(xr1)
> 
>   s <- NULL
>   k <- 0
>   for ( j in 1:(nc-1)) {
>     for (jp in (j+1):nc ) {
>       k <- k+1
>       s[k] <- a1(xr[,j],xr[,jp])
>      }
>    }
>   cra <- max(s)
> }
> 
> a1 <- function(x,y){
>   nr <- length(x)
>   h <- x-y
>   s <- 0
>   for( i in 1:(nr-1)){
>     ip <- (i+1):nr
>     a <- h[i]-h[ip]
>     s<- s+sum(a*a)
>   }
>   return(s)
> }


OK. I have had a look to a1(.).
You can remove the loop on this way (only code improved, did not thougth
about the real problem...):

a1 <- function(x,y){
  nr1 <- length(x) - 1
  h <- x - y
  return(sum((h[rep(1:nr1, nr1:1)] - h[nr1 - sequence(nr1:1) + 2])^2))
}

## So it should not be necessary to have an own function a1(.), and
cra(.) looks as follows:


cra <- function(x) {
  nr1 <- dim(x)[1] - 1
  nc <- dim(x)[2]
  xr <- t(apply(t(t(x) - apply(x, 2, mean)), 1, rank))
  ## Not readable any more, but also not so many variables in use.
  ## Maybe this can be simplified ???
  s <- NULL
  k <- 0
  for ( j in 1:(nc - 1)) {
    for (jp in (j + 1):nc ) {
      k <- k + 1
      h <- xr[ ,j] - xr[ ,jp]
      s[k] <- sum((h[rep(1:nr1, nr1:1)] - h[nr1 - sequence(nr1:1) +
2])^2)
     }
   }
  cra <- max(s) 
## or do you want return(max(s)) ???
}


Maybe you can remove some more loops, but there's no more time left ....

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May  2 20:09:09 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 2 May 2000 14:09:09 -0400 (EDT)
Subject: [R] tick marks on mfrow=c(3,3) plot (with simple example)
In-Reply-To: <v04003a02b534b99c6f20@[128.200.28.182]>
Message-ID: <Pine.LNX.4.10.10005021357570.3601-100000@bolker.zoo.ufl.edu>


  Hmmmm.  Here (using version 1.0.0 on RH Linux 6.0) I can't seem to
replicate your problem.
  Three thoughts:
1. What version, etc., are you using?  It might be worth running
bug.report() just to extract this information in a compact form, even if
this doesn't turn out to be a "real" bug (you don't actually have to
submit the bug report).
2. Does it still happen if you do "R --vanilla"?  This is a way of turning
off all reading of saved workspaces, etc., etc., in case there's something
odd in there.
3. It's possible (??) that some of this is caused by the size of your
graphics window.  I had never realized it before, but X (the Unix graphics
system) actually makes numbers etc. disappear if they would overlap.  I
don't know exactly what the criteria are, but resizing my graphics
window smaller and smaller and watching various pieces of the graphics
disappear was enlightening.  It explains why some labels just don't appear
under some circumstances, which had always bothered me -- now I see that
it seems to be a property of X, rather than R.  (Anyone know if it's
possible to set a flag that turns this behavior off???)


On Tue, 2 May 2000, Tony Long wrote:

> Sorry:
> 
> 	I should have reproduced the "problem" with a simple example.  I do
> this below.  I think there is likely a switch I can change using par, but
> don't know what it is.  The problem is the tick marks for the Y- axis are
> only on plots in column #1 and for the X-axis in row # 2.  Tony
> 
> 
> x <- 1:10
> y <- 1:10*5
> par(mfrow=c(2,2))
> plot(x,y)
> plot(x,y)
> plot(x,y)
> plot(x,y)
> par(mfrow=c(1,1))
> 
> Tony Long
> Ecology and Evolutionary Biology
> Steinhaus Hall
> University of California at Irvine
> Irvine, CA
> 92697-2525
> 
> Tel:  (949) 824-2562   (office)
> Tel:  (949) 824-5994   (lab)
> Fax: (949) 824-2181
> 
> email:  tdlong at uci.edu 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue May  2 20:46:24 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 2 May 2000 13:46:24 -0500
Subject: [R] sesonal time series forecasting
In-Reply-To: <390F15E0.40C0DBC1@uni-paderborn.de> (message from Chris Loeser
	on Tue, 02 May 2000 19:52:32 +0200)
Message-ID: <200005021846.NAA77372@odds.stat.purdue.edu>


   Date:   Tue, 02 May 2000 19:52:32 +0200
   From: Chris Loeser <coffee at uni-paderborn.de>
   X-Sender: "Chris Loeser" <@localhost>
   X-Mailer: Mozilla 4.7C-NECCK [en] (X11; I; SunOS 5.6 sun4u)
   X-Accept-Language: German/Germany, de-DE, en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   Hi there, 

   just a short question :
   Is it possible to do a forecast for a sesonal time sereies
   (e.g. with Box Jenkins method) with R ??
   ..sorry but I didn 't get it in the man-pages.

   thanx

   Chris
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


I believe it's implemented in predict.arima0 in the ts package.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Tue May  2 20:57:25 2000
From: tdlong at uci.edu (Tony Long)
Date: Tue, 2 May 2000 11:57:25 -0700
Subject: [R] tick marks problem solved (old version of R was problem)
Message-ID: <v04003a05b534d533eb23@[128.200.28.182]>

Thanks for all the help.

Brian Ripley clued me in first.  I was running an older version of R (under
Linux).  When I spent the last few minutes upgrading to the current version
life was good again.  Thanks again!!!

Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May  2 21:39:48 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 03 May 2000 07:39:48 +1200
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200>
Message-ID: <390F2F04.3BD658D1@xtra.co.nz>

Emmanuel Paradis wrote:

> Dear all,
>
> I am interested by the various messages sent to the r-help mailing list
> these last few days about documentation on R. Yet, there are a lot of
> issues actually open on this topic, and it is not clear to me what is the
> "urgent need for documentation" on R.

I agree.  The online help is extremely useful.  However, and it's just my personal
opinion, some documentation for advanced user on how to write new R functions, more
advanced R features...maybe quite useful.

>
>
> R comes with the 'Introduction to R' by Venables et al. I recommend the
> colleagues and students in my lab who are interested in R to read it.
> Surely, this is not sufficient to use R efficiently, but I found using the
> 'Intro to R' with the on-line help (text and html) a good combination to
> run analyses and write programs. But this could reflect the fact that I
> still use R at a relatively low level; more experienced users may have a
> different opinion.
>
> I have produced myself a short introduction to R for the postgrad students
> here (so it is in French), and understand that similar documents have been
> produced elsewhere. Would it be useful to put something together?
>
> To me, the greatest issue is the audience targeted by a documentation. Many
> specialists are potentially interested by R, from the top-statisticians to
> the users who hardly knows about statistics but need to run some tests (at
> least to publish their results). It seems to me that some queries on the
> list have more to do with "using statistics" than with "using R". As long
> as non-statisticians use R (like me), this seems inevitable.
>
> Another issue is about languages (human ones, not computer ones): is there
> a need to translate R docs?

It will definitely be needed.  I joined the R mailing list about 2 months ago and
have since seen lots of users from Taiwan.  Actually, there are LOTS of Chinese
people around the world who use R (there is no doubt about it, given that there are
so many Chinese people around).

It will be great if we can start of having a Chinese translation?  I'll be quite
happy to do it, but if I'm the only one doing it it will take quite some time to
translate the whole "An Introduction to R" into Chinese...

>
>
> Finally, is it possible to set a system of documentation that is able to
> track the development of the software? I am personnally impressed by the
> pace of release of new versions of R.
>
> These are just some quick thoughts.
>
> Best wishes to all,
>
> Emmanuel Paradis
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May  2 22:02:32 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 03 May 2000 08:02:32 +1200
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200> <390F2F04.3BD658D1@xtra.co.nz> <6r66swu3jl.fsf@franz.stat.wisc.edu>
Message-ID: <390F3458.9959659C@xtra.co.nz>



Douglas Bates wrote:

> Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:
>
> > Emmanuel Paradis wrote:
>
> > > I am interested by the various messages sent to the r-help mailing list
> > > these last few days about documentation on R. Yet, there are a lot of
> > > issues actually open on this topic, and it is not clear to me what is the
> > > "urgent need for documentation" on R.
>
> > I agree.  The online help is extremely useful.  However, and it's
> > just my personal opinion, some documentation for advanced user on
> > how to write new R functions, more advanced R features...maybe quite
> > useful.
>
> You're in luck.  Springer has (apparently) just published "S
> Programming" by Venables and Ripley.  In the U.S. amazon.com says it
> is available now at (US)$65 plus shipping.

Does any of you (especially the R users in New Zealand) know where I can purchase

it in New Zealand?
Thanks.


--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  3 00:16:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 2 May 2000 23:16:02 +0100 (BST)
Subject: [R] sesonal time series forecasting
In-Reply-To: <390F15E0.40C0DBC1@uni-paderborn.de>
Message-ID: <Pine.GSO.4.05.10005022315210.8642-100000@auk.stats>

On Tue, 2 May 2000, Chris Loeser wrote:

> Hi there, 
> 
> just a short question :
> Is it possible to do a forecast for a sesonal time sereies
> (e.g. with Box Jenkins method) with R ??
> ..sorry but I didn 't get it in the man-pages.

Yes, use arima0. There are worked examples in the scripts in the MASS
package (based on examples in V&R3).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  3 00:25:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 2 May 2000 23:25:41 +0100 (BST)
Subject: [R] R Documentation(s)
In-Reply-To: <390F3458.9959659C@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10005022317400.8642-100000@auk.stats>

On Wed, 3 May 2000, Ko-Kang Wang wrote:

> Douglas Bates wrote:
> 
> > Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:
> >
> > > Emmanuel Paradis wrote:
> >
> > > > I am interested by the various messages sent to the r-help mailing list
> > > > these last few days about documentation on R. Yet, there are a lot of
> > > > issues actually open on this topic, and it is not clear to me what is the
> > > > "urgent need for documentation" on R.
> >
> > > I agree.  The online help is extremely useful.  However, and it's
> > > just my personal opinion, some documentation for advanced user on
> > > how to write new R functions, more advanced R features...maybe quite
> > > useful.

An R Language Manual is planned, but is making slow progress.

> > You're in luck.  Springer has (apparently) just published "S
> > Programming" by Venables and Ripley.  In the U.S. amazon.com says it
> > is available now at (US)$65 plus shipping.

> Does any of you (especially the R users in New Zealand) know where I can purchase
> 
> it in New Zealand?

You will need a little patience.  It has been available in the US for about
10 days, and will unfortunately take a while to ship to Australasia (or
Europe or Asia or ...).  The only quicker way out is to order from the US
direct.  As Bill Venables will attest, the world has shrunk electronically
recently, but not as far as publishers are concerned.

[The book is indeed about advanced R programming: it treats R as one of
three dialects of the S language.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Wed May  3 01:11:23 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 2 May 2000 19:11:23 -0400 (EDT)
Subject: [R] evaluating a function on an array of values
Message-ID: <Pine.LNX.4.21.0005021827270.467-100000@Chrestomanci.home.earth>

Dear R people,

I recently spent some time trying to do the following. I wrote a function
called meanvar. This function has four arguments and returns a vector
of two values. 

It looks like meanvar(r,t,type=c("interval","nominal"),n = 10000).

I wanted to write a routine to return to me the values of this function
for a range of values of r and t, specifically r from 1 to 5, t from 2 to
6, for fixed values of type (say "int"), and n the default. However, even

for(r in 1:5) meanvar(r,2,"int")

does not work, and I have no idea why.

I include the function below.

Some words of explanation may be in order. Suppose there are t people in a
room. Each gives one of the values 0,1...r, with equal probability. Call
these votes. Call these rvs C_{i}, where i= 1,...t. We write the function
DR (Disagreement Rate) = \sum_{i < j} \abs(C_i - C_j)/(r{t \choose 2}).
Ie. scaled sum over all possible pairwise differences of the votes. Call
AR (Agreement Rate) = 1 - DR. This is the "interval" case (not my name).
The nominal case is similar. In this case AR = \sum_{i < j}
\delta(C_i,C_j)/(r{t \choose 2}), where \delta(x,y) is 1 if x =y, 0
othewise.

What the function meanvar does is estimate E(AR), Var(AR) using
simulation.

In the unlikely event you have actually waded through all this turgid
nonsense, I would also like to ask whether the function below can be
improved. It appears to work and agrees with the special cases I have
managed to work out. Case 1: t=2, Case 2: r=1. However, the sub-functions
delta and sumdiff use loops, and these loops are evaluated n times, so
this can greatly affect the speed. These sub-functions could probably be
better. Any other suggestions for general improvement would be greatly
appreciated.
                            Sincerely, Faheem Mitha.

***************************************************************************

#Functions for estimating mean and variance of AR using simulation:

meanvar <- function(r,t,type=c("interval","nominal"), n = 10000)
{
# possible score values is 0,1,...r. (r should be at least 1). 
# number of coders is t (Note this must be at least 2, else fn will not work). 
# n is number of trials. The higher n, the better the precision of mean and var
# Taking n less than 1 of course makes no sense. At least 10000 recommended.

type <- match.arg(type)
  
if(is.integer(r) || (r<1))   #check for sensible values of r
            stop(message = "r must be a positive integer")

if(is.integer(t) || (t<2))   #check for sensible values of t 
            stop(message = "t must be a positive integer and at least 2")

  if(missing(n))   #setting default for n. If n not given, n=10000 is used
    {              
      warning("value of n missing, using default n=1000")
    }

if(is.integer(n) || (n<1))   #check for sensible values of n 
            stop(message = "n must be a positive integer")  
  
  x <- 0:r                              #x is possible values of votes
  votes <- sample(x,n*t,replace=TRUE)   #creating random vector of votes
  dim(votes) <- c(t,n)         #making the votes vector into a matrix

# Need function to compute sum of all pairwise absolute differences of
# the elements of a vector. Note: I am scaling sum appropriately to
# give sample values of DR (Disagreement Rate) before returning
# result. This function is used for the interval scale case.

  sumdiff <- function(v)
    {llen <- length(v) - 1
     summer <- 0                           #initialising sum
     for(i in 1:llen)                      #using diff to make sum (using loop)
       {summer <- sum(abs(diff(v,i))) + summer}
     return(summer/(r*choose(length(v),2)))#scaling sum before returning result
    }

# Need function to compute sum of all pairwise deltas of the elements
# of a vector. Recall that delta(x,y) is defined as 1 if x=y and 0 otherwise 

 delta <- function(v)
    {llen <- length(v) - 1
     summer <- 0                           #initialising sum
     for(i in 1:llen)                      #using diff to make sum (using loop)
       {summer <- sum(ifelse(diff(v,i)==0,0,1)) + summer}
     return(summer/(r*choose(length(v),2)))#scaling sum before returning result
    }

  result <- switch(type,
interval = c(1 - mean(apply(votes,2,sumdiff)),var(apply(votes,2,sumdiff))),
nominal = c(mean(apply(votes,2,delta)),var(apply(votes,2,delta))) )

  result      # Returning values of mean and variance as vector
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Wed May  3 03:07:15 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Wed, 03 May 2000 10:07:15 +0900
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200> <390F2F04.3BD658D1@xtra.co.nz>
Message-ID: <390F7BC3.FB0EEE2B@is.titech.ac.jp>

Dear R users,

This may be an almost useless information to  a.e of you, but may be
interesting to those in Japanese. There is a small ML called "(unofficial) R-jp"
in Japan planning to translate various R documentations into Japanese.
(Without doubts, Japanese prefers to read documentations in Japanese
than in English!) Up to now,  the product is only the translation of the
official LaTeX manual of R and we are now translating R's html help files.

The source (and also dvi, ps, pdf) LaTeX files are at

http://www.md.tsukuba.ac.jp/epidemiology/ML/R-jp/

It is a shame (or rather reasonable?) that this project was first proposed by
those users who want to use R in their researches and business, not by
professional statisticians in Japan.

We are very impressed by the speed of revisions of R and are afraid not to
be able to  keep up with its speed. Anyhow we want to express our thanks
to those R-developpers and hope to contribute to R itself in future (a possible
main difficulty is our general deficiency in writing readable English).

It is a good news that we have now the R programming book by Prof.'s Venables
and Ripley. I am looking forward to reading it.

--------------------------------------------------------
Shigeru MASE <mase at is.titech.ac.jp>,
Dept. of Math. and Comp. Sciences, Tokyo Institute of Technology,
Oo-Okayama, 2-12-1, Meguroku, Tokyo, 152-8552, Japan
--------------------------------------------------------

Ko-Kang Wang wrote:

> ..............

>
> It will be great if we can start of having a Chinese translation?  I'll be quite
> happy to do it, but if I'm the only one doing it it will take quite some time to
> translate the whole "An Introduction to R" into Chinese...
>
> >
> >
> > Finally, is it possible to set a system of documentation that is able to
> > track the development of the software? I am personnally impressed by the
> > pace of release of new versions of R.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed May  3 04:56:20 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 3 May 2000 14:56:20 +1200
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200> <390F2F04.3BD658D1@xtra.co.nz> <390F7BC3.FB0EEE2B@is.titech.ac.jp>
Message-ID: <005501bfb4ab$2915b900$175dd882@stat.auckland.ac.nz>

hi

In case you did not know already, ... 

It is possible to produce (some) Japanese text output in R
using Hershey vector fonts.
  
See help(text), help(Hershey) and help(Japanese).

I would be interested to know whether this works with a
Japanese keyboard (i.e., without having to specify 
long complicated escape sequences).

I would also be interested to know whether the first page
of example(Japanese) has the correct Japanese text !

paul

p.s.  please excuse my ignorance (and lack of understanding
of how non-English encodings work), but are you able to get 
Japanese text output in R without using these vector fonts ?



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Wed May  3 08:13:12 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Wed, 3 May 2000 08:13:12 +0200 
Subject: [R] Combinatorics for nonparametric tests
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E014FB0@nts7.oec.Uni-Osnabrueck.DE>

For some small sample sizes I would like to exemplify the combinatorics
underlying certain nonparametric tests like Mann-Whitney-Wilcoxon,
Kruskal-Wallis and Spearman's rank correlation.  I have written a
function all.perm which delivers all permutations of 1,2,...,n and
which works reasonably well.  This can be used to generate P(R=r) of
Spearman's rank correlation:

n_6;plot(table(apply(all.perm(n),1,cor,y=1:n)),type="h")

all.perm_function(n){
p_matrix(1,ncol=1)
for(i in 2:n){p_pp_cbind(p,i)
v_c(1:i,1:(i-1))
for(j in 2:i){v_v[-1]
p_rbind(p,pp[,v[1:i]])}}
p}


Until now I hesitated to dwell on writing  functions to generate all
n!/(k!(n-k)!) k-combinations of an n-element set or more generally all
n!/(k_1!k_2!...n_k!) choices of placing n objects into k boxes where
box j has n_j objects.

Not intending to re-invent the wheel I turn to the R community to ask
if someone has already written these functions.

Any help is thankfully appreciated.

   --- D.Trenkler ---

************************************************************************
*********
   Dietrich Trenkler
(trenkler at oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed May  3 10:26:01 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 3 May 2000 10:26:01 +0200
Subject: [R] GLM available book recommendation
Message-ID: <v04220802b53592366bcd@[134.76.136.114]>

Howdy,

I looked at the references in the R and S-Plus literature to find a 
good introduction/reference to GLM. When I then went to Amazon it 
seemed to me that all the recommended books are out of print.

Can anyone give me a recommendation which _available_ book to get?

--Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  3 11:19:34 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 May 2000 11:19:34 +0200
Subject: [R] GLM available book recommendation
In-Reply-To: Ragnar Beer's message of "Wed, 3 May 2000 10:26:01 +0200"
References: <v04220802b53592366bcd@[134.76.136.114]>
Message-ID: <x21z3k9ejd.fsf@blueberry.kubism.ku.dk>

Ragnar Beer <rbeer at uni-goettingen.de> writes:

> I looked at the references in the R and S-Plus literature to find a 
> good introduction/reference to GLM. When I then went to Amazon it 
> seemed to me that all the recommended books are out of print.
> 
> Can anyone give me a recommendation which _available_ book to get?

This a canonical little green monograph, appears to be available from
amazon.co.uk (or at least they don't say it is unavailable...)

Generalized Linear Models 37
P. McCullagh, J.A. Nelder FRS 
Our Price: ?45.00

Category(ies): Science & Nature

Hardcover - 511 pages (July 1989) 
Chapman & Hall/CRC Statistics and Mathematics; ISBN: 0412317605

"Availability: We expect to be able to find this title for you within
4-6 weeks. However, please note that titles occasionally go out of
print or publishers run out of stock."

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed May  3 12:03:05 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 3 May 2000 12:03:05 +0200 (MET DST)
Subject: [R] R Documentation(s)
In-Reply-To: <3.0.32.20000502180611.0091ac60@162.38.183.200>
Message-ID: <Pine.OSF.4.05.10005021913030.32378-100000@alnair.uio.no>

On Tue, 2 May 2000, Emmanuel Paradis wrote:

>To me, the greatest issue is the audience targeted by a documentation. Many
>specialists are potentially interested by R, from the top-statisticians to
>the users who hardly knows about statistics but need to run some tests (at
>least to publish their results). It seems to me that some queries on the
>list have more to do with "using statistics" than with "using R". As long
>as non-statisticians use R (like me), this seems inevitable.

I just occured to me that something that would probably boost the number
of users, is a compendium on "How to do the things one usually does in a
beginners statistics course for non-statisticians". Many are introduced to
statistical software in such a course, and I can imagine many will never
use any other software than they were introduced to in the course. 
Such a compendium might catch new users and their instructors at the very
start. 

Here at my university, the standard package has been MINITAB. I have had
one single session of MINITAB myself, and it appeared to me as an endless
quest for the right dropdown menu point or dialog-box point. I switched to
S-plus, and to R after learning about it the week after. The reason I
mention this is the seemingly irrational urge many have to have drop-down
menus, even though the path to what you need is considerably longer than
just typing. If the compendium is able to show that the things you need
are not at all far away, and much more logical than drop-down menus, I
think many will be drawn towards R.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Wed May  3 12:40:31 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Wed, 3 May 2000 11:40:31 +0100 (BST)
Subject: [R] GAMs under R?
In-Reply-To: <Pine.GSO.4.05.10005010555350.21308-100000@auk.stats>
Message-ID: <Pine.GSO.4.21.0005031041150.2054-100000@dolphin>

Linked from my web page (and on the RSS site) there's an R package
(mgcv) for fitting and smoothing parameter estimation (by GCV) for models
with multiple penalties. I wrote it to deal with various non-linear
problems, but it lets you set up GAMs using penalized regression splines -
and the package includes code for doing this. If this is any use to you,
you'd need to add in the `generalized' bit of GAMs yourself, but that's
pretty trivial, given the code that's there (it's on my `to do' list). 
The smoothing parameter selection method is a generalization of Gu and
Wahba's multiple gcv method for spline models to problems with less
structure. 

Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marco at dickie72.freeserve.co.uk  Wed May  3 12:48:12 2000
From: Marco at dickie72.freeserve.co.uk (Marco Togni)
Date: Wed, 3 May 2000 11:48:12 +0100
Subject: [R] log-log plots
Message-ID: <002a01bfb4ed$2ce335c0$8679883e@oemcomputer>

Hi,
I am conducting a survival analysis and I have been trying, with not success, to do a log-log survival plots.
Does anyone know how to do it in R?

By the way I am using version 1.0.0 for windows.

Many Thanks 


Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000503/e64aa9ee/attachment.html

From nicolas.baurin at univ-orleans.fr  Wed May  3 12:48:26 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Wed, 03 May 2000 12:48:26 +0200
Subject: [R]:?alternative to loop
Message-ID: <391003F9.B4C44DB@univ-orleans.fr>

Hello to all R people,

for the application of a function to each column of a matrix (ex:
function sum()), i'd like to know if there is a simpler (and faster)
alternative to a loop like :

for (i in 1: ncol(m)){sum(m[i])}

Thanks in advance,
Cordialement,
--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May  3 13:15:32 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 03 May 2000 23:15:32 +1200
Subject: [R] R Documentation(s)
References: <Pine.OSF.4.05.10005021913030.32378-100000@alnair.uio.no>
Message-ID: <39100A54.D42B1113@xtra.co.nz>

Kjetil Kjernsmo wrote:

> On Tue, 2 May 2000, Emmanuel Paradis wrote:
>
> >To me, the greatest issue is the audience targeted by a documentation. Many
> >specialists are potentially interested by R, from the top-statisticians to
> >the users who hardly knows about statistics but need to run some tests (at
> >least to publish their results). It seems to me that some queries on the
> >list have more to do with "using statistics" than with "using R". As long
> >as non-statisticians use R (like me), this seems inevitable.
>
> I just occured to me that something that would probably boost the number
> of users, is a compendium on "How to do the things one usually does in a
> beginners statistics course for non-statisticians". Many are introduced to
> statistical software in such a course, and I can imagine many will never
> use any other software than they were introduced to in the course.
> Such a compendium might catch new users and their instructors at the very
> start.
>

I agree.  Here is the my university we have a course on R, but it is just used for
number crunching mainly.  I have written pieces and pieces of R targetted on
beginners in some fields, such as economics, econometrics, mathematics..etc.  I
may, at some point, put them together.

>
> Here at my university, the standard package has been MINITAB. I have had
> one single session of MINITAB myself, and it appeared to me as an endless
> quest for the right dropdown menu point or dialog-box point. I switched to
> S-plus, and to R after learning about it the week after. The reason I
> mention this is the seemingly irrational urge many have to have drop-down
> menus, even though the path to what you need is considerably longer than
> just typing. If the compendium is able to show that the things you need
> are not at all far away, and much more logical than drop-down menus, I
> think many will be drawn towards R.
>

What exactly do you mean?  Do you mean R should be GUI (Graphical User Interface)?
I personally think it is GUI enough

>
> Best,
>
> Kjetil
> --
> Kjetil Kjernsmo
> Graduate astronomy-student                    Problems worthy of attack
> University of Oslo, Norway            Prove their worth by hitting back
> E-mail: kjetikj at astro.uio.no                                - Piet Hein
> Homepage <URL:http://www.astro.uio.no/~kjetikj/>
> Webmaster at skepsis.no
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed May  3 13:28:43 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 3 May 2000 13:28:43 +0200 (MET DST)
Subject: [R] R Documentation(s)
In-Reply-To: <39100A54.D42B1113@xtra.co.nz>
Message-ID: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no>

On Wed, 3 May 2000, Ko-Kang Wang wrote:

>> S-plus, and to R after learning about it the week after. The reason I
>> mention this is the seemingly irrational urge many have to have drop-down
>> menus, even though the path to what you need is considerably longer than
>> just typing. If the compendium is able to show that the things you need
>> are not at all far away, and much more logical than drop-down menus, I
>> think many will be drawn towards R.
>>
>
>What exactly do you mean?  Do you mean R should be GUI (Graphical User Interface)?

Not at all! On the contrary (almost). If you show in the compendium how
easy it is to read your data from file, perform an lm() on command line,
they will realize that using lots and lots of drop down menus are simply
not rational. However, you have to guide them through everything, step by
step. (That being said, there are times where a GUI is not a bad thing,
take GIMP for example).

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  3 13:34:12 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 03 May 2000 13:34:12 +0200
Subject: [R]:?alternative to loop
References: <391003F9.B4C44DB@univ-orleans.fr>
Message-ID: <39100EB4.21A8F085@statistik.uni-dortmund.de>

nicolas baurin wrote:
> for the application of a function to each column of a matrix (ex:
> function sum()), i'd like to know if there is a simpler (and faster)
> alternative to a loop like :
> 
> for (i in 1: ncol(m)){sum(m[i])}

This will not work in any way, I suppose.
If you want to simplify something like
 
 s <- NULL
 for (i in 1: ncol(m)){ s[i] <- sum(m[,i])}

you should try

 s <- apply(m, 2, sum) 


Have a look in documentation to apply(.) !

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May  3 13:31:58 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 03 May 2000 23:31:58 +1200
Subject: [R] R Documentation(s)
References: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no>
Message-ID: <39100E2E.E328F0B6@xtra.co.nz>

Kjetil Kjernsmo wrote:

> On Wed, 3 May 2000, Ko-Kang Wang wrote:
>
> >> S-plus, and to R after learning about it the week after. The reason I
> >> mention this is the seemingly irrational urge many have to have drop-down
> >> menus, even though the path to what you need is considerably longer than
> >> just typing. If the compendium is able to show that the things you need
> >> are not at all far away, and much more logical than drop-down menus, I
> >> think many will be drawn towards R.
> >>
> >
> >What exactly do you mean?  Do you mean R should be GUI (Graphical User Interface)?
>
> Not at all! On the contrary (almost). If you show in the compendium how
> easy it is to read your data from file, perform an lm() on command line,
> they will realize that using lots and lots of drop down menus are simply
> not rational. However, you have to guide them through everything, step by
> step. (That being said, there are times where a GUI is not a bad thing,
> take GIMP for example).

Ah I see what you mean.
I have to agree with you on GIMP, XFigs is another good one!

>
>
> Best,
>
> Kjetil
> --
> Kjetil Kjernsmo
> Graduate astronomy-student                    Problems worthy of attack
> University of Oslo, Norway            Prove their worth by hitting back
> E-mail: kjetikj at astro.uio.no                                - Piet Hein
> Homepage <URL:http://www.astro.uio.no/~kjetikj/>
> Webmaster at skepsis.no

--
-----------------------------------------------------------------------------------
 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  3 14:23:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 May 2000 14:23:27 +0200
Subject: [R] R Documentation(s)
In-Reply-To: Kjetil Kjernsmo's message of "Wed, 3 May 2000 13:28:43 +0200 (MET DST)"
References: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no>
Message-ID: <x2n1m7960w.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> >What exactly do you mean?  Do you mean R should be GUI (Graphical User Interface)?
> 
> Not at all! On the contrary (almost). If you show in the compendium how
> easy it is to read your data from file, perform an lm() on command line,
> they will realize that using lots and lots of drop down menus are simply
> not rational. However, you have to guide them through everything, step by
> step. (That being said, there are times where a GUI is not a bad thing,
> take GIMP for example).

Actually, I think there are valid reasons for people to want GUI
interfaces to statistics. One argument that I hear frequently is that
nonstatisticians tend to do other things than analyse data for
extended periods of time, and it becomes difficult to remember the
formalities from one time to the next. So they get scared of the
prospect of staring empty-minded at the R prompt. Also, some people
have small needs and it may be better to have a simple-minded
interface for the simplest things. E.g. for chi-square on a given
table, it will be easier to pop up a table editor where you fill in
the number of rows and columns and then fill counts into a grid than
it is to type chisq.test(matrix(c(1,2,3,4,5,6,7,8,9),3)).

As long as you can turn the GUI *off* and use R as usual, I see no
reason not to have some form of GUI. (..said the man who has been
looking at Tcl/Tk integration issues since Easter.) In particular,
there are good things to be said about the type of GUI that generates
the function calls and displays them to the user.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  3 14:41:08 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 3 May 2000 13:41:08 +0100 (BST)
Subject: [R]:?alternative to loop
In-Reply-To: <39100EB4.21A8F085@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10005031333530.24170-100000@auk.stats>

On Wed, 3 May 2000, Uwe Ligges wrote:

> nicolas baurin wrote:
> > for the application of a function to each column of a matrix (ex:
> > function sum()), i'd like to know if there is a simpler (and faster)
> > alternative to a loop like :
> > 
> > for (i in 1: ncol(m)){sum(m[i])}
> 
> This will not work in any way, I suppose.
> If you want to simplify something like
>  
>  s <- NULL
>  for (i in 1: ncol(m)){ s[i] <- sum(m[,i])}
> 
> you should try
> 
>  s <- apply(m, 2, sum) 
> 
> 
> Have a look in documentation to apply(.) !

Right, but in this case it is matrix multiplication, so try

drop(rep(1,nrow(m)) %*% m)

which is much faster on a large matrix (because it uses less memory).
There are lots of tricks of that sort.  Often something like

unlist(lapply(split(m, col(m)), sum))

is faster still.  (These things change: lapply was sped-up for 1.0.0, but
the comparable change in apply was not put in, and we should pursue it.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May  3 15:09:07 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 3 May 2000 09:09:07 -0400 (EDT)
Subject: [R]:?alternative to loop
Message-ID: <200005031309.JAA17184@cattell.psych.upenn.edu>

for the application of a function to each column of a matrix (ex:
function sum()), i'd like to know if there is a simpler (and faster)
alternative to a loop like :

for (i in 1: ncol(m)){sum(m[i])}

--------

apply(m,2,sum)

will do it.  The "2" means "columns".  If you want rows, use "1".
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May  3 16:04:44 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 May 2000 09:04:44 -0500
Subject: [R] R Documentation(s)
In-Reply-To: Kjetil Kjernsmo's message of "Wed, 3 May 2000 12:03:05 +0200 (MET DST)"
References: <Pine.OSF.4.05.10005021913030.32378-100000@alnair.uio.no>
Message-ID: <6rbt2nk9vn.fsf@franz.stat.wisc.edu>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:
> On Tue, 2 May 2000, Emmanuel Paradis wrote:
> 
> >To me, the greatest issue is the audience targeted by a documentation. Many
> >specialists are potentially interested by R, from the top-statisticians to
> >the users who hardly knows about statistics but need to run some tests (at
> >least to publish their results). It seems to me that some queries on the
> >list have more to do with "using statistics" than with "using R". As long
> >as non-statisticians use R (like me), this seems inevitable.
> 
> I just occured to me that something that would probably boost the number
> of users, is a compendium on "How to do the things one usually does in a
> beginners statistics course for non-statisticians". Many are introduced to
> statistical software in such a course, and I can imagine many will never
> use any other software than they were introduced to in the course. 
> Such a compendium might catch new users and their instructors at the very
> start. 
> 
> Here at my university, the standard package has been MINITAB. I have had
> one single session of MINITAB myself, and it appeared to me as an endless
> quest for the right dropdown menu point or dialog-box point. I switched to
> S-plus, and to R after learning about it the week after. The reason I
> mention this is the seemingly irrational urge many have to have drop-down
> menus, even though the path to what you need is considerably longer than
> just typing. If the compendium is able to show that the things you need
> are not at all far away, and much more logical than drop-down menus, I
> think many will be drawn towards R.

Perhaps it is not exactly a "compendium" in the sense you describe but
there is an R package called Devore5 containing all the data sets
for a specific introductory statistics text, Jay Devore's "Probability
and Statistics for Engineering and the Sciences (5th ed)".  Because
there are facilities for documenting data sets in R and because you
can use
 example(topic)
to run the example section from a manual page as a script in R, I can
document all the examples in the text and show the R code that
corresponds to the example.

This approach is tied to the specific text but, for someone who has
access to that text, it provides a ready answer to questions like "How
do I do a two-sample paired t-test in R?".  They go to the appropriate
section of the text, see that Example 9.8 does such a test, and then
run
 library(Devore5)
 example(xmp09.08)
to see the commands and resulting output.

It is interesting that it is extremely difficult to package these
kinds of demonstrations for students when using a GUI-based system
like Minitab.  I had previously used Minitab in the course where I use
this text and I found that I either explained the command-line
interface or I did an in-class demonstration with the GUI or I was
spending my time describing things like "you click on the Statistics
menu and that gives you an option of Analysis of Variance (or maybe it
is called ANOVA, I can't remember) and that brings up a panel where
...".  Those kinds of explanations are very hard to follow.  

With the command line interface in R I can put up a transparency and
show the class "type this and you get that".

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed May  3 17:15:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 3 May 2000 08:15:59 -0700 (PDT)
Subject: [R] log-log plots
In-Reply-To: <002a01bfb4ed$2ce335c0$8679883e@oemcomputer>
Message-ID: <Pine.GSO.4.21.0005030811500.3813-100000@mail.biostat.washington.edu>

On Wed, 3 May 2000, Marco Togni wrote:

> Hi,
> I am conducting a survival analysis and I have been trying, with not success, to do a log-log survival plots.
> Does anyone know how to do it in R?
> 
> By the way I am using version 1.0.0 for windows.

plot.survfit has an option for this

Eg, expanding on example(plot.survfit)

data(aml)
leukemia.surv <- survfit(Surv(time, status) ~ x, data = aml)
plot(leukemia.surv, lty = 2:3,fun="cloglog")


A couple of days ago Rob Gentleman found that this doesn't work if the
first observation is censored.  I will be putting up a revised survival5
soon, but I can send you the modified file for plot.survfit if necessary.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Wed May  3 17:46:42 2000
From: mai at ms.uky.edu (Mai Zhou)
Date: Wed, 3 May 2000 11:46:42 -0400 (EDT)
Subject: [R]:?alternative to loop
In-Reply-To: <391003F9.B4C44DB@univ-orleans.fr> from "nicolas baurin" at May 03, 2000 12:48:26 PM
Message-ID: <200005031546.LAA16284@t3.mscf.uky.edu>

Many people suggested apply(). It works for many functions.
But if you just need sum(), take a look at rowsum(), it should be 
faster.

Note also, the function rowsum() in Splus2000 is not as fast as in R.

Mai Zhou
> 
> Hello to all R people,
> 
> for the application of a function to each column of a matrix (ex:
> function sum()), i'd like to know if there is a simpler (and faster)
> alternative to a loop like :
> 
> for (i in 1: ncol(m)){sum(m[i])}
> 
> Thanks in advance,
> Cordialement,
> --
> Nicolas Baurin
> 
> Doctorant
> Institut de Chimie Organique et Analytique, UPRES-A 6005
> Universit? d'Orl?ans, BP 6759
> 45067 ORLEANS Cedex 2, France
> Tel: (33+) 2 38 49 45 77
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed May  3 18:15:21 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 03 May 2000 18:15:21 +0200
Subject: [R] R Documentation(s)
Message-ID: <3.0.32.20000503181520.0091cc70@162.38.183.200>

Dear all,

Many thanks for the replies to my yesterday's message. I'm still waiting
for more opinions to try to synthesize the major ideas. Surprisingly to me,
there are few reactions from the R Development Core Team. Brian Ripley
pointed out that an R language manual is in progress.


>From Ragnar Beer <rbeer at uni-goettingen.de>, and apparently not Cc'ed to the
list, MathSoft has some downloadable docs on its Web server; they can be
found at:

http://www.splus.mathsoft.com/splus/splssupport/library.htm

Best wishes to all,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Wed May  3 18:20:25 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Thu, 04 May 2000 01:20:25 +0900
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200> <390F2F04.3BD658D1@xtra.co.nz> <390F7BC3.FB0EEE2B@is.titech.ac.jp> <005501bfb4ab$2915b900$175dd882@stat.auckland.ac.nz>
Message-ID: <391051C9.69611D31@is.titech.ac.jp>

Dear Paul,

It is surprising to know that R can already manage Japanese!
It is potentially a great news to Japanese R users.
We Japanese always have to make a fuss to be able
to use Japanese in various good free softwares and,
regretfully, our present R-jp members seem quite
ignorant of such expert skill.

I would like to ask Paul a little more information.  I am only
using R (ver. 1.0.0) in the Debian/GNU Linux package
(potato) and by no means understand all its details.

I tried to get an information by typing help(Hershey)
and help(Japanese), but in vain. Do I  need some
additional library (or something ), or should I  display
Japanese as is? Probably it is necessary to get
Hershey fonts (what is this?)  from somewhere, isn't it?

P.S. Sorry for my previous misleading email. What we
already translated into Japanese is "Notes on R".
Again it is a good news that we can have a Japanese
translation of a book on R in near future.

----------------------------------------------------
Shigeru Mase <mase at is.titech.ac.jp>,
Dept. Math. and Comp. Sciences, Tokyo Institute of Technology,
----------------------------------------------------

Paul Murrell wrote:

> hi
>
> In case you did not know already, ...
>
> It is possible to produce (some) Japanese text output in R
> using Hershey vector fonts.
>
> See help(text), help(Hershey) and help(Japanese).
>
> I would be interested to know whether this works with a
> Japanese keyboard (i.e., without having to specify
> long complicated escape sequences).
>
> I would also be interested to know whether the first page
> of example(Japanese) has the correct Japanese text !
>
> paul
>
> p.s.  please excuse my ignorance (and lack of understanding
> of how non-English encodings work), but are you able to get
> Japanese text output in R without using these vector fonts ?
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed May  3 18:09:17 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 03 May 2000 12:09:17 -0400
Subject: [R] R Documentation(s)
Message-ID: <852568D4.0058F9D6.00@EPAHUB2.RTP.EPA.GOV>



If I may throw in my two cents.  I sometimes consult with scientists who use
GUI-based statistical packages for doing "simple" analyses of their data.  The
packages I've seen don't do a good job of producing a usable audit trail.  If
someone comes to me and says "What does this mean?" or "What do I do now?", I
pretty much have to go and watch their actual keystrokes while they repeat
(hopefully) the operations.

One real advantages to the dialects of S is that the script that does the
analysis serves (or can serve, if well-commented) as an audit trail that can be
rerun (with changes, if needed).   One take-home lesson here is, if there is to
be a GUI that produces R function calls, it would be really helpful if it were
easy to insert comments that document the actions, and that the function calls
be captured in a file that can be 'sourced' to re-run the analysis.

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+------------------------>
|        |          p.dalgaard at bio|
|        |          stat.ku.dk    |
|        |                        |
|        |          05/03/2000    |
|        |          08:23 AM      |
|        |                        |
|--------+------------------------>
  >----------------------------------------------------------|
  |                                                          |
  |       To:     kjetil.kjernsmo at astro.uio.no               |
  |       cc:     Ko-Kang at xtra.co.nz,                        |
  |       r-help at stat.math.ethz.ch                           |
  |       Subject:     Re: [R] R Documentation(s)            |
  >----------------------------------------------------------|






Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> >What exactly do you mean?  Do you mean R should be GUI (Graphical User
Interface)?
>
> Not at all! On the contrary (almost). If you show in the compendium how
> easy it is to read your data from file, perform an lm() on command line,
> they will realize that using lots and lots of drop down menus are simply
> not rational. However, you have to guide them through everything, step by
> step. (That being said, there are times where a GUI is not a bad thing,
> take GIMP for example).

Actually, I think there are valid reasons for people to want GUI
interfaces to statistics. One argument that I hear frequently is that
nonstatisticians tend to do other things than analyse data for
extended periods of time, and it becomes difficult to remember the
formalities from one time to the next. So they get scared of the
prospect of staring empty-minded at the R prompt. Also, some people
have small needs and it may be better to have a simple-minded
interface for the simplest things. E.g. for chi-square on a given
table, it will be easier to pop up a table editor where you fill in
the number of rows and columns and then fill counts into a grid than
it is to type chisq.test(matrix(c(1,2,3,4,5,6,7,8,9),3)).

As long as you can turn the GUI *off* and use R as usual, I see no
reason not to have some form of GUI. (..said the man who has been
looking at Tcl/Tk integration issues since Easter.) In particular,
there are good things to be said about the type of GUI that generates
the function calls and displays them to the user.

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Wed May  3 18:43:51 2000
From: smcnary at charm.net (Scot W McNary)
Date: Wed, 3 May 2000 12:43:51 -0400 (EDT)
Subject: [R] GLM available book recommendation
In-Reply-To: <x21z3k9ejd.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.BSI.4.10.10005031241280.21623-100000@fellspt.charm.net>



I got the McCullagh & Nelder book right off the CRC Press website:

http://www.crcpress.com/index.htm 

Look for the title 'Generalized Linear Models'.

Scot

--
  Scot W. McNary  email:smcnary at charm.net   

On 3 May 2000, Peter Dalgaard BSA wrote:

> Ragnar Beer <rbeer at uni-goettingen.de> writes:
> 
> > I looked at the references in the R and S-Plus literature to find a 
> > good introduction/reference to GLM. When I then went to Amazon it 
> > seemed to me that all the recommended books are out of print.
> > 
> > Can anyone give me a recommendation which _available_ book to get?
> 
> This a canonical little green monograph, appears to be available from
> amazon.co.uk (or at least they don't say it is unavailable...)
> 
> Generalized Linear Models 37
> P. McCullagh, J.A. Nelder FRS 
> Our Price: 45.00
> 
> Category(ies): Science & Nature
> 
> Hardcover - 511 pages (July 1989) 
> Chapman & Hall/CRC Statistics and Mathematics; ISBN: 0412317605
> 
> "Availability: We expect to be able to find this title for you within
> 4-6 weeks. However, please note that titles occasionally go out of
> print or publishers run out of stock."
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed May  3 20:51:48 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 3 May 2000 20:51:48 +0200 (CEST)
Subject: [R] R Documentation(s)
In-Reply-To: <3.0.32.20000503181520.0091cc70@162.38.183.200>
References: <3.0.32.20000503181520.0091cc70@162.38.183.200>
Message-ID: <14608.30020.595451.425732@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 03 May 2000 18:15:21 +0200,
>>>>> Emmanuel Paradis (EP) wrote:

EP> Dear all,
EP> Many thanks for the replies to my yesterday's message. I'm still waiting
EP> for more opinions to try to synthesize the major ideas. Surprisingly to me,
EP> there are few reactions from the R Development Core Team. 

Sorry ... 

Any help with documentation is greatly appreciated. As I'm no native
English speaker I also fully understand the need for docs in other
languages (and my students would surely love it).

I would be glad to create a ``contributed documentation'' section on
CRAN which could be used to share such efforts. I can also make a
``devel'' section in it such that it is possible to submit material
that is not regarded as finished (e.g., because some chapters are
missing). 

Another possibility (especially for earlier stages) is to drop me an
email of web sites I should add to the ``links'' section on CRAN. 

Best,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  3 22:22:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 3 May 2000 21:22:20 +0100 (BST)
Subject: [R] R Documentation(s)
In-Reply-To: <3.0.32.20000503181520.0091cc70@162.38.183.200>
Message-ID: <Pine.GSO.4.05.10005032107060.24800-100000@auk.stats>

On Wed, 3 May 2000, Emmanuel Paradis wrote:

> Dear all,
> 
> Many thanks for the replies to my yesterday's message. I'm still waiting
> for more opinions to try to synthesize the major ideas. Surprisingly to me,
> there are few reactions from the R Development Core Team. Brian Ripley
> pointed out that an R language manual is in progress.

We've been writing software _and_ doing our day jobs (at least, I have:
writing a data editor for Windows needs a lot of concentration, but is
99% done for 1.1.x).

We (R-core) do need to keep thinking about documentation.  As Bill Venables
pointed out here, documnentation is hard wortk (and our two joint books
certainly were), and it should not be surprising that we (Bill and I)
prefer to do this commercially (and a Japanese translation of MASS is
apparently a couple of months off).  Not that is all we do: we are both
major contributors to the R documentation.

The trouble is, there are so many different target audiences. S-notes
(which became R notes and R-intro) was written by Bill for statistics
majors.  For me it did too little statistics, and I wrote some
complementary notes.  The two became MASS after a lot of added value from
two minds and approaches.  Neither of us teach introductory statistics, and
we need people who do to prepare suitable material.  Doug Bates has
pointed out one approach, to give an R slant on a standard text.

I suspect it is time again to point out that R is a collaborative project.
R-core are uniquely well placed to think about internal stategic issues
(like memory managers) and to write the definitive reference material, but
generically we are not especially well placed to write beginner's
documentation.  Indeed, most other experiences (S for one) shows that 3rd
parties often have an advantage there.  So my (and I think our)  
dream/hope is that the users will write what they see the need of.  We
(at least I) would be happy to cast an eye over, comment, amend, ....
(Again, Bill and I have benefited from lots of expert/student readers
over the years, and some S books show the lack of this.)

Brian Ripley

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  3 22:49:30 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 3 May 2000 21:49:30 +0100 (BST)
Subject: [R] R Documentation(s)
In-Reply-To: <852568D4.0058F9D6.00@EPAHUB2.RTP.EPA.GOV>
Message-ID: <Pine.GSO.4.05.10005032144570.24800-100000@auk.stats>

On Wed, 3 May 2000 Setzer.Woodrow at epamail.epa.gov wrote:

> 
> 
> If I may throw in my two cents.  I sometimes consult with scientists who use
> GUI-based statistical packages for doing "simple" analyses of their data.  The
> packages I've seen don't do a good job of producing a usable audit trail.  If
> someone comes to me and says "What does this mean?" or "What do I do now?", I
> pretty much have to go and watch their actual keystrokes while they repeat
> (hopefully) the operations.
> 
> One real advantages to the dialects of S is that the script that does the
> analysis serves (or can serve, if well-commented) as an audit trail that can be
> rerun (with changes, if needed).   One take-home lesson here is, if there is to
> be a GUI that produces R function calls, it would be really helpful if it were
> easy to insert comments that document the actions, and that the function calls
> be captured in a file that can be 'sourced' to re-run the analysis.

The Axum-based GUI in S-PLUS 2000 does keep a history: you can even dump it
to a script to give command-line equivalent commands.  (That is commands
that run Axum, not say traditional graphics near-equivalents.)  That seems
the best of both worlds.

The R for Windows GUI does have a limited programmability. Everything you
do there generates S language commands that go into the commands history
(whether you like it or not). In both R and S-PLUS the history files are
plain text and can be edited at will later.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu May  4 00:03:39 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 4 May 2000 10:03:39 +1200
Subject: [R] R Documentation(s)
References: <3.0.32.20000502180611.0091ac60@162.38.183.200> <390F2F04.3BD658D1@xtra.co.nz> <390F7BC3.FB0EEE2B@is.titech.ac.jp> <005501bfb4ab$2915b900$175dd882@stat.auckland.ac.nz> <391051C9.69611D31@is.titech.ac.jp>
Message-ID: <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz>

hi


> It is surprising to know that R can already manage Japanese!
> It is potentially a great news to Japanese R users.
> We Japanese always have to make a fuss to be able
> to use Japanese in various good free softwares and,
> regretfully, our present R-jp members seem quite
> ignorant of such expert skill.


two things:
(i)  the hershey vector fonts are from the GNU plotutils package - i.e.,
someone else did all the hard work; we just connected it to R :)
(ii)  since I do not have a Japanese keyboard (and do not know Japanese !)
this stuff has not been extensively tested.  It will be good to have someone
use it so that we can make sure it is working properly.


> I would like to ask Paul a little more information.  I am only
> using R (ver. 1.0.0) in the Debian/GNU Linux package
> (potato) and by no means understand all its details.
>
> I tried to get an information by typing help(Hershey)
> and help(Japanese), but in vain. Do I  need some
> additional library (or something ), or should I  display
> Japanese as is? Probably it is necessary to get
> Hershey fonts (what is this?)  from somewhere, isn't it?


You should only require the standard R package.

Apologies if these are silly questions, but just in case ...
(i)  did you type help(Hershey) from the R command-line ?
(ii)  do you have the help installed ?  e.g., what do you get
if you type help(sum) ?

Hershey fonts are vector fonts (i.e., the characters are defined
by a set of points;  the characters can be drawn by just joining
the points by straight lines).  The Hershey character definitions
are included in the standard R distribution.

paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Thu May  4 00:13:22 2000
From: markhall at gol.com (Mark Hall)
Date: Thu, 04 May 2000 07:13:22 +0900
Subject: GUIs (was [R] R Documentation)
References: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no> <x2n1m7960w.fsf@blueberry.kubism.ku.dk>
Message-ID: <3910A482.32931900@gol.com>

>

On the GUI issue, and issues on making R easier to use, let's not forget
about an all too increasing problem of the plug'n chug statistics users out there.
Lately in the archaeological science journals there is a bad habit of people doing
statistical analyses on data sets that have too few cases for the number of
variables.  Personally, I think this is promoted by the fact that there are pull-down
menus and one can do the statistics without really thinking about them.

At least in its given configuration (i.e. having to at least type a few commands
to get your output), R makes you think about what you are doing....

Sorry, I will now get down off my soapbox.

Later, Mark Hall
markhall at gol.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu May  4 00:58:01 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 3 May 2000 18:58:01 -0400 (EDT)
Subject: [R] R Documentation(s)
Message-ID: <200005032258.SAA09408@cattell.psych.upenn.edu>

I have been really trying to resist commenting on this
thread.  I plan to write documentation - with whoever
wants to help - for the use of R in psychology.  I have
been resisting because it is like vaporware to announce
an intention.  But I gave in to temptation just to let
readers of this list know that some people ARE thinking
about this.  Right now I'm swamped and can't do it.  It
is one of the things I want to do this summer.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Thu May  4 01:56:26 2000
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Thu, 4 May 2000 11:56:26 +1200 (NZST)
Subject: [R] library() crashes R
Message-ID: <200005032356.LAA01147@aqua.mcs.vuw.ac.nz>

I have a problem with R-1.0.1 (and R-1.0.0) running under RedHat Linux
6.2 (on a Dell Inspiron 3800 laptop), and wonder if anyone has seen
something like this and/or can provide a lead.

I load a library containing a mixture of C and Fortran code:
> library(ssOptim)
Segmentation fault (core dumped)

This library works fine in R-0.65.1 running under RedHat 6.1 on a
variety of systems, and also works fine in R-1.0.1 under Solaris 5.1.
My suspicion is something to do with RedHat 6.2.

Using gdb (with my limited skills) shows the problem to be in:
_dl_relocate_object (...) at ../sysdeps/i386/dl-machine.h:326

This symbol is to be found in /lib/ld-2.1.3.so.

I wondered if this might have been a duplicate symbol, but I think I
have eliminated that problem (using nm).  I guess my next test is to
try it with RedHat 6.1 (but I am fearful that RH6.1 won't install
properly on this laptop - Linux is in general quite difficult to
install on laptops).

I guess I am trying for the long shot that someone has seen something
like this, and been able to figure it out.

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  4 04:24:08 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 May 2000 21:24:08 -0500
Subject: [R] logistic regression example from Devore5
Message-ID: <6ru2gf833r.fsf@franz.stat.wisc.edu>

I maintain the Devore5 package for R.  This package provides the data
sets from Jay Devore's text "Probability and Statistics for
Engineering and the Sciences (5th ed)".  I am having difficulty
reproducing some logistic regression results from the textbook.
Perhaps this is because I am not using the glm function correctly.

The data from Example 13.5 (page 559 for those with a copy of the
book) are "the launch temperatures and the incidence of failure for
O-rings in 24 space shuttle launches prior to the Challenger disaster
of January 1986."

Here are the data (Temperature in degrees Fahrenheit).

> library(Devore5)
> data(xmp13.05)
> xmp13.05
   Temperature Failure
1           53       Y
2           56       Y
3           57       Y
4           63       N
5           66       N
6           67       N
7           67       N
8           67       N
9           68       N
10          69       N
11          70       N
12          70       Y
13          70       N
14          70       Y
15          72       N
16          73       N
17          75       N
18          75       Y
19          76       N
20          76       N
21          78       N
22          79       N
23          80       N
24          81       N
> summary(xmp13.05)
  Temperature    Failure
 Min.   :53.00   N:18   
 1st Qu.:67.00   Y: 6   
 Median :70.00          
 Mean   :69.92          
 3rd Qu.:75.25          
 Max.   :81.00          

Devore shows the parameter estimates for a logistic regression model
fit by JMP as

Term         Estimate   Std Error ChiSquare Prob>ChiSq
Intercept  10.8753321   5.7031291      3.64     0.0565
temp       -0.1713202   0.0834419      4.22     0.0401

I have not been able to reproduce these results in R.  My results are
 > fm1 <- glm(Failure ~ Temperature, data = xmp13.05, family = "binomial")
 > summary(fm1)

 Call:
 glm(formula = Failure ~ Temperature, family = "binomial", data = xmp13.05)

 Deviance Residuals: 
      Min        1Q    Median        3Q       Max  
 -1.12489  -0.72335  -0.40139  -0.04056   2.22441  

 Coefficients:
	     Estimate Std. Error z value Pr(>|z|)  
 (Intercept) 11.74641    6.01916   1.952   0.0510 .
 Temperature -0.18843    0.08906  -2.116   0.0344 *
 ---
 Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

 (Dispersion parameter for binomial family taken to be 1)

     Null deviance: 26.992  on 23  degrees of freedom
 Residual deviance: 20.482  on 22  degrees of freedom
 AIC: 24.482

 Number of Fisher Scoring iterations: 4

Am I doing something wrong?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu May  4 05:42:18 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 3 May 2000 23:42:18 -0400 (EDT)
Subject: [R] accessing Datasets
Message-ID: <Pine.LNX.4.21.0005032337250.950-100000@Chrestomanci.home.earth>

Dear R people,

This is probably a FAQ, and a silly question besides, but...

a lot of R packages have datasets contained within them. cf. spatial has
"topo". Once I have loded the appropriate library, how do I access the
datasets contained within? I know this must be very simple, but I have
spent some (fruitless, frustrated time) trying to do this, so am asking
for help. 
                           Thanks, Faheem.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Thu May  4 05:47:18 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Thu, 04 May 2000 13:47:18 +1000
Subject: [R] logistic regression example from Devore5 
In-Reply-To: Your message of "03 May 2000 21:24:08 EST."
             <6ru2gf833r.fsf@franz.stat.wisc.edu> 
Message-ID: <200005040347.NAA07873@snowy.nsw.cmis.CSIRO.AU>

Doug,

It looks to me like a convergence issue.  Here is the output from
"another, not dissimilar" facility for data analysis and graphics
(which I just happened to be using at the time):

---
> dug <- read.table("dug.txt")
> dm <- glm(Failure ~ Temperature, binomial, dug, trace=T)
GLM    linear loop 1: deviance = 21.387 
GLM    linear loop 2: deviance = 20.52 
GLM    linear loop 3: deviance = 20.482 
GLM    linear loop 4: deviance = 20.482 
> summary(dm)$coef
                Value Std. Error t value 
(Intercept)  11.74622   6.003206  1.9567
Temperature  -0.18843   0.088811 -2.1217
---

If you look back at your R output it is very close to yours but with
differences at about the fourth sig. fig.  Now slacken off the
convergence criterion to something pretty lax:

---
> dm <- glm(Failure ~ Temperature, binomial, dug, trace=T, eps=0.1)
GLM    linear loop 1: deviance = 21.387 
GLM    linear loop 2: deviance = 20.52 
> summary(dm)$coef
                Value Std. Error t value 
(Intercept)  10.79758   4.880483  2.2124
Temperature  -0.17356   0.071172 -2.4386
---

This is not altogether dissimilar to the result reported in Devore.
Now couple that with different the starting values and I think you
have a fair suggestion of what's going on.

No, there's nothing wrong with the way you are using glm, but the
important points I would make are

1. Always put trace = T in glm model fitting.  I really don't know why
it is not the default.

2. If in any doubt at all, see what difference it makes to strengthen
the convergence criterion.  This is surprisingly often necessary,
especially in "another, not dissimilar" working environment where they
don't have Brian Ripley working on their core team....

Regards,
Bill.
-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  4 06:02:40 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 May 2000 23:02:40 -0500
Subject: [R] accessing Datasets
In-Reply-To: Faheem Mitha's message of "Wed, 3 May 2000 23:42:18 -0400 (EDT)"
References: <Pine.LNX.4.21.0005032337250.950-100000@Chrestomanci.home.earth>
Message-ID: <6ru2gf6jz3.fsf@franz.stat.wisc.edu>

Faheem Mitha <faheem at email.unc.edu> writes:

> Dear R people,
> 
> This is probably a FAQ, and a silly question besides, but...
> 
> a lot of R packages have datasets contained within them. cf. spatial has
> "topo". Once I have loded the appropriate library, how do I access the
> datasets contained within? I know this must be very simple, but I have
> spent some (fruitless, frustrated time) trying to do this, so am asking
> for help. 

> library(spatial)
> data(topo)  # make the topo data available
> summary(topo)
       x               y               z        
 Min.   :0.200   Min.   :0.000   Min.   :690.0  
 1st Qu.:1.925   1st Qu.:1.550   1st Qu.:787.5  
 Median :3.250   Median :3.300   Median :830.0  
 Mean   :3.319   Mean   :3.212   Mean   :827.1  
 3rd Qu.:4.975   3rd Qu.:4.850   3rd Qu.:873.0  
 Max.   :6.300   Max.   :6.200   Max.   :960.0  

See
 ?data
for more details.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu May  4 06:14:25 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 4 May 2000 00:14:25 -0400 (EDT)
Subject: [R] alas, no vecnorm
Message-ID: <Pine.LNX.4.21.0005040009280.950-100000@Chrestomanci.home.earth>

I wanted a function that would give the euclidean distance of a vector. 

Then I was happy, because I found vecnorm listed on pg 55 of V&R (3rd
edn) which I had just bought today.

Then I was sad, because R did not have vecnorm.

Then I was happy again, because I bethought myself that I could copy the
function vecnorm from splus to my code.

Then I was sad again because R complained

> vecnorm(v)
Error in .Fortran("d2norm", as.integer(length(x)), as.double(x), value =
double(1)) : 
	C/Fortran function name not in load table

So, after this tempest of emotion, the question still remains: does R have
this function under another name, or was it simply overlooked?

                              Best regards, Faheem Mitha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  4 07:00:37 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 May 2000 00:00:37 -0500
Subject: [R] alas, no vecnorm
In-Reply-To: Faheem Mitha's message of "Thu, 4 May 2000 00:14:25 -0400 (EDT)"
References: <Pine.LNX.4.21.0005040009280.950-100000@Chrestomanci.home.earth>
Message-ID: <6ritwu7vuy.fsf@franz.stat.wisc.edu>

Faheem Mitha <faheem at email.unc.edu> writes:

> I wanted a function that would give the euclidean distance of a vector. 
> 
> Then I was happy, because I found vecnorm listed on pg 55 of V&R (3rd
> edn) which I had just bought today.
> 
> Then I was sad, because R did not have vecnorm.
> 
> Then I was happy again, because I bethought myself that I could copy the
> function vecnorm from splus to my code.
> 
> Then I was sad again because R complained
> 
> > vecnorm(v)
> Error in .Fortran("d2norm", as.integer(length(x)), as.double(x), value =
> double(1)) : 
> 	C/Fortran function name not in load table

Check in src/appl/blas.f and you will find

*
*  dnrm2() returns the euclidean norm of a vector via the function
*  name, so that
*
*     dnrm2 := sqrt( x'*x )
*
*
*  -- This version written on 25-October-1982.
*     Modified on 14-October-1993 to inline the call to DLASSQ.
*     Sven Hammarling, Nag Ltd.
*
*
      double precision function dnrm2 ( n, x, incx )

Because this is a Fortran function and not a subroutine you can't call
it directly from R.  However, it would be an informative exercise to
take the manual "Writing R Extensions" and decide how to write a
Fortran or C wrapper function that can be called from R.

In C, for the .Call interface it could be written like 

#include <R.h>
#include <Rdefines.h>

extern double F77_NAME(dnrm2)(int *, double *, int *);

SEXP dnorm2(SEXP x)
{
    int one = 1, n;
    SEXP val;

    PROTECT(x = AS_NUMERIC(x)); n = LENGTH(x);
    PROTECT(val = NEW_NUMERIC(1));
    NUMERIC_POINTER(val)[0] =
        F77_CALL(dnrm2)(&n, NUMERIC_POINTER(x), &one);
    UNPROTECT(2);
    return(val);
}

In fact, for Intel machines and any others that use 80 bit floating
point registers, all the dancing around with scaling that is done in
dnrm2 is unnecessary.  The brute force approach of accumulating the
sum of the squares of the entries and taking the square root would
work perfectly fine.  However, since dnrm2 is available, we might as
well use it.

>From R the C routine dnorm2 would be called as
 .Call("dnorm2", x)

(Warning - I didn't test that code although I did compile it.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Thu May  4 07:26:03 2000
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Thu, 4 May 2000 17:26:03 +1200 (NZST)
Subject: [R] library() crashes R
Message-ID: <200005040526.RAA01646@aqua.mcs.vuw.ac.nz>

> I have a problem with R-1.0.1 (and R-1.0.0) running under RedHat Linux
> 6.2 (on a Dell Inspiron 3800 laptop), and wonder if anyone has seen
> something like this and/or can provide a lead.
> 
> I load a library containing a mixture of C and Fortran code:
> > library(ssOptim)
> Segmentation fault (core dumped)
> 
This turned out to be the existence of WRITE statements in one of the
fortran subroutines.  This seemed to result in an undefined symbol
which, when the .so file was created explicitly from a Makefile in the
package source directory, caused the crash.

I'll generate a test example and send it to R-bugs if it looks like
something could be done to help in this situation.

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  4 07:28:08 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 4 May 2000 06:28:08 +0100 (BST)
Subject: [R] alas, no vecnorm
In-Reply-To: <Pine.LNX.4.21.0005040009280.950-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10005040622061.25670-100000@auk.stats>

On Thu, 4 May 2000, Faheem Mitha wrote:

> I wanted a function that would give the euclidean distance of a vector. 
> 
> Then I was happy, because I found vecnorm listed on pg 55 of V&R (3rd
> edn) which I had just bought today.

Funny, it is on page 55 of the _second_ edition, and not in the third.
It is the third edition that is R-aware.  Have you really just bought a
second edition?

> Then I was sad, because R did not have vecnorm.
> 
> Then I was happy again, because I bethought myself that I could copy the
> function vecnorm from splus to my code.
> 
> Then I was sad again because R complained
> 
> > vecnorm(v)
> Error in .Fortran("d2norm", as.integer(length(x)), as.double(x), value =
> double(1)) : 
> 	C/Fortran function name not in load table
> 
> So, after this tempest of emotion, the question still remains: does R have
> this function under another name, or was it simply overlooked?

Well, it was not overlooked.  R is not an S-PLUS clone, it is similar to S,
and AFAIK vecnorm is an S-PLUS extension.

vecnorm <- function(x, p=2) sum(x^p)^(1/p)

will do almost all of what vecnorm does, if not as fast as the internal
function, but do you need the speed?  I at least thought vecnorm was not a
priority for R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolters at ikp.uni-bonn.de  Thu May  4 08:49:56 2000
From: wolters at ikp.uni-bonn.de (Maria Wolters)
Date: Thu, 04 May 2000 08:49:56 +0200
Subject: [R] R Documentation(s)
References: <200005032258.SAA09408@cattell.psych.upenn.edu>
Message-ID: <39111D94.C0AD82C1@ikp.uni-bonn.de>

Two cents from a non-statistician:

- I really like the idea of a repository for existing 
  introductions and workbooks. I regularly check the 
  home pages of contributors to this list, and on some,
  I have found very useful texts created for class use.

- For the non-statistician, a R companion to the most common
  stats textbooks would be useful. This way, you don't have
  to rack your brains trying to write the umpteenth crystal-clear
  account of ANOVA. Instead, you would "merely" need to 
  relate the description in the book to what you'd find in R. 
  For example, I think that for German psychologists and sociologists
  migrating from SPSS to R, a companion to the infamous Bortz book
  would be most welcome,
  For corpus linguists and computational linguists, a similar companion
  would address selected papers from Computational Linguistics (the journal),
  as well as a widespread textbook. 

  I can't offer to write these companions at the moment, because I'm busy
  writing up my Ph.D. thesis and honing my time planning skills in the process, 
  but if enough people were interested, I'd give at least the linguistics
  companion a try. 

have a nice day,

Maria Wolters
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May  4 10:11:17 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 4 May 2000 09:11:17 +0100 (BST)
Subject: [R] 3D array was L(x,y,t)?
In-Reply-To: <Pine.LNX.4.10.10004281424290.4670-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10005040902450.9664-100000@localhost.localdomain>

This is what I wound up doing to create a 3D array: I used outer to create
a 2D array, and used a loop around outer to handle the third index.

I guess R/S only has constructs for fast 2D array handling (e.g. outer).
If you have higher dimensional arrays you apply outer() to 2D portions of
them.

I would appreciate any improvements over my solution.

corr.contrast3<-function(v0=.01, v1=-.01, phase=0)
{
#uses 3D rep of signals: s0(x,y,t)
#note corr=0 if v1=v0+pi/2 (orthogonal)
x<-seq(1,66)
y<-seq(1,31)
z0<-rep(0,66*31*19)
dim(z0)<-c(66,31,19)   
z1<-z0

f0<-function(x,y,time) .45*cos(2*pi*3*x/66+v0*time)
f1<-function(x,y,time) .45*cos(2*pi*3*x/66+v1*time+phase)

for(time in seq(1,19))
        {
        z0[,,time]<-outer(x,y,f0,time)
        z1[,,time]<-outer(x,y,f1,time)
        }
    
energy<-sum(z0^2+z1^2)/2   
corr<-sum(z0*z1)/energy
        
list(corr=corr,energy=energy)
}

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu May  4 10:56:18 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 4 May 2000 09:56:18 +0100 (BST)
Subject: [R] 3D array was L(x,y,t)?
In-Reply-To: <Pine.LNX.4.10.10005040902450.9664-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.20.0005040948030.3072-100000@laplace>

Hi Bill,

> This is what I wound up doing to create a 3D array: I used outer to create
> a 2D array, and used a loop around outer to handle the third index.
> 
> I guess R/S only has constructs for fast 2D array handling (e.g. outer).
> If you have higher dimensional arrays you apply outer() to 2D portions of
> them.
> 
> I would appreciate any improvements over my solution.

Well your function does not appear to need outer at all.  If you want to
create a n-D array of function values over a grid in n variables and your
function is simple, as yours appears to be, you can just use (for your
example)

grid <- expand.grid(x=seq(1, 66), y=seq(1, 31), time=seq(1, 19))
grid <- as.matrix(grid)
z0 <- apply(grid, 1, function(v) f0(v[1], v[2], v[3]))

(although this is not optimal!).  Then just dim(z0) appropriately.

However, your functions do appear to be a bit strange.  Can it be right
that y appears nowhere in the body of either f0 or f1?

> corr.contrast3<-function(v0=.01, v1=-.01, phase=0)
> {
> #uses 3D rep of signals: s0(x,y,t)
> #note corr=0 if v1=v0+pi/2 (orthogonal)
> x<-seq(1,66)
> y<-seq(1,31)
> z0<-rep(0,66*31*19)
> dim(z0)<-c(66,31,19)   
> z1<-z0
> 
> f0<-function(x,y,time) .45*cos(2*pi*3*x/66+v0*time)
> f1<-function(x,y,time) .45*cos(2*pi*3*x/66+v1*time+phase)
> 
> for(time in seq(1,19))
>         {
>         z0[,,time]<-outer(x,y,f0,time)
>         z1[,,time]<-outer(x,y,f1,time)
>         }
>     
> energy<-sum(z0^2+z1^2)/2   
> corr<-sum(z0*z1)/energy
>         
> list(corr=corr,energy=energy)
> }

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May  4 11:25:39 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 4 May 2000 10:25:39 +0100 (BST)
Subject: [R] 3D array was L(x,y,t)?
In-Reply-To: <Pine.GSO.4.20.0005040948030.3072-100000@laplace>
Message-ID: <Pine.LNX.4.10.10005041017340.9589-100000@localhost.localdomain>

Thanks very much Jonathon for your help!

> However, your functions do appear to be a bit strange.  Can it be right
> that y appears nowhere in the body of either f0 or f1?
Yes I realize this looks strange. The function is the image intensity for
a drifting vertical sinewave grating (fuzzy bars). So the image always has
the same intensity for all y values at a given x. I can't just ignore y
because the energy is affected by it.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May  4 11:48:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 May 2000 11:48:03 +0200
Subject: [R] library() crashes R
In-Reply-To: Ray Brownrigg's message of "Thu, 4 May 2000 17:26:03 +1200 (NZST)"
References: <200005040526.RAA01646@aqua.mcs.vuw.ac.nz>
Message-ID: <x28zxqabos.fsf@blueberry.kubism.ku.dk>

Ray Brownrigg <Ray.Brownrigg at mcs.vuw.ac.nz> writes:

> > > library(ssOptim)
> > Segmentation fault (core dumped)
> > 
> This turned out to be the existence of WRITE statements in one of the
> fortran subroutines. 

Aha! That's probably what has been going wrong with the akima package
as well. That one has been puzzling me for a while since it crashes on
stock RH6.2 (egcs 2.91.66), but not when using the gcc 2.95 compilers.

> This seemed to result in an undefined symbol
> which, when the .so file was created explicitly from a Makefile in the
> package source directory, caused the crash.

Thank you very much for sorting that one out!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu May  4 12:07:47 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 4 May 2000 12:07:47 +0200 (CEST)
Subject: [R] GLM available book recommendation
In-Reply-To: <v04220802b53592366bcd@[134.76.136.114]>
Message-ID: <Pine.LNX.3.95.1000504115859.9071A-100000@pcinternet.biochem.dshs-koeln.de>

Ragnar,

I had no problems in obtaining the book of Annette Dobson from
a local bookstore. It is quite condensed in my opinion and gives a good
introduction also for GLM-newbies (like me).

A problem will be the weakness of the Euro ... 

###

Annette Dobson (1990), "An Introduction to Generalized Linear Models",
Chapman & Hall


	Good luck ...

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Wed, 3 May 2000, Ragnar Beer wrote:

> Howdy,
> 
> I looked at the references in the R and S-Plus literature to find a 
> good introduction/reference to GLM. When I then went to Amazon it 
> seemed to me that all the recommended books are out of print.
> 
> Can anyone give me a recommendation which _available_ book to get?
> 
> --Ragnar
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at rhi.hi.is  Thu May  4 14:01:55 2000
From: helgito at rhi.hi.is (Helgi Tomasson)
Date: Thu, 04 May 2000 12:01:55 +0000
Subject: [R] dyn.load does not work
Message-ID: <391166B3.CC79F09B@rhi.hi.is>

Dear R-people

Could someone give me a hint why dyn.load does not work

> system("ls dyntilr.o")
dyntilr.o
>

> dyn.load("dyntilr.o")
Error in dyn.load(x) : unable to load shared library
"/home/helgi/dyntilr.o"

regards

Helgi

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Thu May  4 13:57:10 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Thu, 4 May 2000 13:57:10 +0200 (CEST)
Subject: [R] dyn.load does not work
In-Reply-To: <391166B3.CC79F09B@rhi.hi.is>
Message-ID: <Pine.LNX.4.21.0005041353220.9734-100000@boromir.ci.tuwien.ac.at>

On Thu, 4 May 2000, Helgi Tomasson wrote:

> Dear R-people
> 
> Could someone give me a hint why dyn.load does not work
> 
> > system("ls dyntilr.o")
> dyntilr.o
> >
> 
> > dyn.load("dyntilr.o")
> Error in dyn.load(x) : unable to load shared library
> "/home/helgi/dyntilr.o"

is dyntilr.o s shared library? I would expect dyntilr.so to be one. Under
Linux,

$> gcc -c dyntilr.c -o dyntilr.o
$> ld -shared -o dyntilr.so dyntilr.o

should work, or, much more simpler, create a package, put the sources in
./src and say

$> R INSTALL -l my_lib_path my_R_package

Torsten

> 
> regards
> 
> Helgi
> 
> --
> Helgi Tomasson                                       FAX:  354-552-6806
> University of Iceland                                PHONE:354-525-4571
> Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
> Oddi v/ Sturlugotu
> IS-101 Reykjavik
> ICELAND
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  4 14:13:23 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 May 2000 13:13:23 +0100 (BST)
Subject: [R] dyn.load does not work
Message-ID: <200005041213.NAA21958@toucan.stats.ox.ac.uk>


> Date: Thu, 04 May 2000 12:01:55 +0000
> From: Helgi Tomasson <helgito at rhi.hi.is>
> X-Accept-Language: en
> To: r-help at stat.math.ethz.ch
> Subject: [R] dyn.load does not work
> 
> Dear R-people
> 
> Could someone give me a hint why dyn.load does not work
> 
> > system("ls dyntilr.o")
> dyntilr.o
> >
> 
> > dyn.load("dyntilr.o")
> Error in dyn.load(x) : unable to load shared library
> "/home/helgi/dyntilr.o"

On all the systems I know of foo.o is an object not a shared library
(and this is R not S-PLUS where dyn.load does load objects).

Try using R SHLIB foo.c to make foo.so and dyn.load that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Thu May  4 16:49:27 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Thu, 4 May 2000 16:49:27 +0200 (METDST)
Subject: [R] Nonlinear Inference Regions
Message-ID: <200005041449.QAA09661@ehmgs2.et.tu-dresden.de>

I would like to experiment with nonlinear inference regions (following
chap. 6 of the Bates/Watts book).

I have used the nls library for fitting a nonlinear model to measured data
but have some difficulties to apply "R speak" to the math of the above mentioned
text.

Can anybody point me to an example of the computation of a variant of nonlinear
inference regions using R? 


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jajosmu at ine.es  Thu May  4 17:22:36 2000
From: jajosmu at ine.es (Javier =?iso-8859-1?Q?Mu=F1oz?= Criado)
Date: Thu, 04 May 2000 17:22:36 +0200
Subject: No subject
Message-ID: <3.0.3.32.20000504172236.0069cf74@166.58.44.254>

I have installed r on my pc with windows 95 and I get this message:
fatal error: unable to open the base package
Any help?

Javier
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May  4 17:54:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 May 2000 17:54:35 +0200
Subject: [R] Re: none
In-Reply-To: Javier Muoz Criado's message of "Thu, 04 May 2000 17:22:36 +0200"
References: <3.0.3.32.20000504172236.0069cf74@166.58.44.254>
Message-ID: <x2n1m671l0.fsf@blueberry.kubism.ku.dk>

Javier Mu?oz Criado <jajosmu at ine.es> writes:

> I have installed r on my pc with windows 95 and I get this message:
> fatal error: unable to open the base package
> Any help?

Did you use the installer, and did you install both parts? The binary
need to be able to find a bunch of supporting files, and thes need to
be found in the relevant directories relative to the starting
directory.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Damien.Berlemont at ccf.fr  Thu May  4 18:29:02 2000
From: Damien.Berlemont at ccf.fr (Damien BERLEMONT)
Date: Thu, 04 May 2000 18:29:02 +0200
Subject: [R] About Omega in pda()
Message-ID: <s911beff.020@ccf.fr>

** High Priority **

Hello R users

My issue is both theorical and technical.

I would like to run a penalised discriminant analysis with the fda() function, but I don't know all the details of splines theory. 
I try on the example of the phonems from the article "Penalised Discriminant Analysis" of Hastie, Buja and Tibshirani 1994 : 5 groups and 256 variables. 
The 256 variables are from the discretisation of log-periodogram. Consequently, we want the scores to be smoothed by the frequency. 
in continuus writing, J(beta)= integral of the square second derivative of beta upon the frequencies 
and J(beta)=(beta)^T*OMEGA*beta

No function for producing one dimensional penalty object is providing with gen.ridge function.. 

What is the best (and more efficient) function to use to fit OMEGA ? I have ever tried to use the function ssanova in the gss package but the solution of my program is not symetrical : I am definitly wrong in my approach.  

Thank you in advance for the users of mda package that would answer me.

Damien Berlemont
student at :  DESS Methodes Scientifiques de Gestion - Paris-X Nanterre
Damien.Berlemont at ccf.fr




******************************************
 Ce message est strictement confidentiel. Son integrite n'est pas assuree sur Internet. Le contenu de ce message ne peut engager la responsabilite du Credit Commercial de France. Si vous n'etes pas destinataire du message, merci d'en avertir immediatement l'expediteur et de le detruire.

 This message is strictly confidential. Integrity is not guaranteed through Internet. The content of this message does not bind Credit commercial de France in any way.  If you are not the intended recipient of the message, please notify the sender immediately and delete it.
******************************************

******************************************
message a ete controle par antivirus.
******************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  4 19:43:26 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 May 2000 12:43:26 -0500
Subject: [R] Nonlinear Inference Regions
In-Reply-To: Thomas Hoffmann's message of "Thu, 4 May 2000 16:49:27 +0200 (METDST)"
References: <200005041449.QAA09661@ehmgs2.et.tu-dresden.de>
Message-ID: <6rsnvy2ou9.fsf@franz.stat.wisc.edu>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> I would like to experiment with nonlinear inference regions (following
> chap. 6 of the Bates/Watts book).
> 
> I have used the nls library for fitting a nonlinear model to measured data
> but have some difficulties to apply "R speak" to the math of the above mentioned
> text.
> 
> Can anybody point me to an example of the computation of a variant of nonlinear
> inference regions using R? 

Some of those methods are already implemented in the nls package for
R.  For example, the creation of the profiles themselves and plotting the
profile-based marginal confidence intervals on the parameters is
available through profile() and plot.profile.nls().  See
 example(plot.profile.nls)
for an example.

We don't make use of the profile traces in this version of the
plots but the profile trace is available in the object created by
profile.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From song_qian at yahoo.com  Thu May  4 20:51:54 2000
From: song_qian at yahoo.com (Song Qian)
Date: Thu, 4 May 2000 11:51:54 -0700 (PDT)
Subject: [R] dput
Message-ID: <20000504185154.2866.qmail@web614.mail.yahoo.com>

I have two questions regarding the use of function
dput().  I am using R (v1.0.1) to create input files
for WinBUGS.

First, I would like to have the output data round to
the specified decimal places.  I used function
round().  However, occasionally, dput() will write
0.0005 as 5e-4.  Is there a way to correct this?

Second, when writing a matrix, the resulting output is
in the form:

structure(c(0, 1, ...), .Dim=c(2,3))

Is it possible to have the same output format as in 
Splus:

structure(.Data=c(0, 1, ...), .Dim=c(2,3))

Thanks in advance.




=====
Song Qian	
Assistant Professor
Environmental Sciences and Resources
Portland State University
Portland, OR 97207-0751
http://web.pdx.edu/~qians

__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  4 21:44:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 4 May 2000 20:44:18 +0100 (BST)
Subject: [R] dput
In-Reply-To: <20000504185154.2866.qmail@web614.mail.yahoo.com>
Message-ID: <Pine.GSO.4.05.10005042042380.26884-100000@auk.stats>

On Thu, 4 May 2000, Song Qian wrote:

> I have two questions regarding the use of function
> dput().  I am using R (v1.0.1) to create input files
> for WinBUGS.
> 
> First, I would like to have the output data round to
> the specified decimal places.  I used function
> round().  However, occasionally, dput() will write
> 0.0005 as 5e-4.  Is there a way to correct this?

What need `correct'ion? They are the same thing!

> Second, when writing a matrix, the resulting output is
> in the form:
> 
> structure(c(0, 1, ...), .Dim=c(2,3))
> 
> Is it possible to have the same output format as in 
> Splus:
> 
> structure(.Data=c(0, 1, ...), .Dim=c(2,3))

Not easily.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri May  5 00:49:41 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 05 May 2000 10:49:41 +1200
Subject: [R] sm package
References: <000401bfb610$c0890380$994799c1@default>
Message-ID: <3911FE84.CC5BAB45@xtra.co.nz>

EDUARDOCC wrote:

> I can not use the help page for R and I need to know how I can install
> the sm package.Thank you very much.

Have you installed the help files?


PS.  We are talking about Windows version?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000505/290eb4af/attachment.html

From John.Strumila at team.telstra.com  Fri May  5 06:08:51 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 5 May 2000 14:08:51 +1000 
Subject: [R] RE: 
Message-ID: <61411576E951D211AF330008C7245DD904F73119@ntmsg0005.corpmail.telstra.com.au>

I had the same problem.  When using 'qsu' to install it doesn't seem to set
the permissions right.  I had to 'chmod -R' on the library to give everyone
access.

John Strumila
john.strumila at team.telstra.com


-----Original Message-----
From: Javier Mu?oz Criado [mailto:jajosmu at ine.es]
Sent: Friday, 5 May 2000 1:23
To: r-help at stat.math.ethz.ch
Subject: 


I have installed r on my pc with windows 95 and I get this message:
fatal error: unable to open the base package
Any help?

Javier
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcanet at ivia.es  Fri May  5 11:01:02 2000
From: rcanet at ivia.es (Rodolfo Canet-Castello)
Date: Fri, 5 May 2000 11:01:02 +0200
Subject: [R] Are multiple range tests (Duncan, Bonferroni, Tukey, ...) available in R?
Message-ID: <E12ndwa-0005US-00@master.ivia.es>

Dear friends

I'm trying to switch to R for my current work, but could not find a 
more or less direct procedure to perform multiple range tests such 
as LSD, Duncan, Tukey, etc after an analysis of variance. I've 
checked out the documentation, but could not find any useful 
information for a non-very technical user. Is there any package 
offering prebuilt procedures to perform such tests? I would 
appreciate very much any hint.

I have not subscribed to the list just for this help application. 
Please Cc: your replies, if any, to my address. Thank you very 
much for your help.

*********************************************************
Dr. Rodolfo Canet-Castello
Instituto Valenciano de Investigaciones Agrarias (IVIA)
Dpto. Recursos Naturales
Aptdo. oficial. 46113-Moncada (Valencia). ESPA?A-SPAIN.
Phone: 34-96-1391000      Fax: 34-96-1390240
Web page: http://www.ivia.es
*********************************************************
Web page of Spanish Group of Soil Enzymology:
http://www.ivia.es/soilenzymology/
*********************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May  5 11:38:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 May 2000 11:38:54 +0200
Subject: [R] Are multiple range tests (Duncan, Bonferroni, Tukey, ...) available in R?
In-Reply-To: "Rodolfo Canet-Castello"'s message of "Fri, 5 May 2000 11:01:02 +0200"
References: <E12ndwa-0005US-00@master.ivia.es>
Message-ID: <x23dnxcp5d.fsf@blueberry.kubism.ku.dk>

"Rodolfo Canet-Castello" <rcanet at ivia.es> writes:

> Dear friends
> 
> I'm trying to switch to R for my current work, but could not find a 
> more or less direct procedure to perform multiple range tests such 
> as LSD, Duncan, Tukey, etc after an analysis of variance. I've 
> checked out the documentation, but could not find any useful 
> information for a non-very technical user. Is there any package 
> offering prebuilt procedures to perform such tests? I would 
> appreciate very much any hint.

For one-way anova, pairwise.t.test will do the LSD (aka. "none"),
Bonferroni, Hochberg, and Holm (default) multiple testing adjustments.

I did have some view to other cases when writing it, but didn't get
around to implementing it (yet).

("Other cases" meaning 

	- Scheffe (does anyone ever use those?)
	- Tukey, Duncan, Newman-Keuls, REGW, ... for *balanced* anova
	  effects
        - pairwise testing of contrasts in general regression models

As far as my preliminary analysis went, the results of all of these
procedures can be represented by a table of adjusted p-values, but the
interface issues are not completely trivial.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri May  5 12:22:06 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 05 May 2000 22:22:06 +1200
Subject: [R] Are multiple range tests (Duncan, Bonferroni, Tukey, ...) 
 available in R?
References: <E12ndwa-0005US-00@master.ivia.es>
Message-ID: <3912A0CD.98098787@xtra.co.nz>

Yes, even as an undergraduate student taking a paper on experimental design, I
found this problem a while ago.

I am trying to use the current ANOVA table function and model.tables, extend them
to get LSD, LSD_B, Tukey...etc directly.  However since I've never written an R
package before (done some single R functions though), it may take some time to do
so.

By the way, have you tried model.tables()?  You can, I think sometimes anywa, get
SED from this function.

Cheers,

Ko-Kang

Rodolfo Canet-Castello wrote:

> Dear friends
>
> I'm trying to switch to R for my current work, but could not find a
> more or less direct procedure to perform multiple range tests such
> as LSD, Duncan, Tukey, etc after an analysis of variance. I've
> checked out the documentation, but could not find any useful
> information for a non-very technical user. Is there any package
> offering prebuilt procedures to perform such tests? I would
> appreciate very much any hint.
>
> I have not subscribed to the list just for this help application.
> Please Cc: your replies, if any, to my address. Thank you very
> much for your help.
>
> *********************************************************
> Dr. Rodolfo Canet-Castello
> Instituto Valenciano de Investigaciones Agrarias (IVIA)
> Dpto. Recursos Naturales
> Aptdo. oficial. 46113-Moncada (Valencia). ESPA?A-SPAIN.
> Phone: 34-96-1391000      Fax: 34-96-1390240
> Web page: http://www.ivia.es
> *********************************************************
> Web page of Spanish Group of Soil Enzymology:
> http://www.ivia.es/soilenzymology/
> *********************************************************
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian_adams at jbadams.com  Fri May  5 16:46:45 2000
From: brian_adams at jbadams.com (Joseph Brian Adams, Ph.D.)
Date: Fri, 5 May 2000 10:46:45 -0400
Subject: [R] Missing dependencies in installing R-base-1.0.0-1
In-Reply-To: <x2wvldz6jt.fsf@blueberry.kubism.ku.dk>
References: <a04310103b533b6d3c229@[146.186.228.153]>
 <x2k8hdfkzg.fsf@blueberry.kubism.ku.dk>
 <x2wvldz6jt.fsf@blueberry.kubism.ku.dk>
Message-ID: <a04310105b5388d5ce3b7@[146.186.230.7]>

Thanks for all of your help.  This is the response that I received 
from the LinuxPPC group.

The egcs compiler is now the official gnu compiler.  So gcc version
2.95.2 (shipping with LinuxPPC 2000) is actually the egcs compiler.
If you --force the install everything should work fine.

Since the gcc and g77 files are installed, I did an rpm --nodeps ... 
and it installed fine.

Brian

>Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>
>>  "Joseph Brian Adams, Ph.D." <brian_adams at jbadams.com> writes:
>>
>>  > I recently upgraded to LinuxPPC 2000.  When I tried to reinstall the
>>  > R rpm, I was missing the following dependent files:  egcs, egcs-g77,
>>  > and libf2c.so.0  Is there an upgrade or a fix to this?
>>  >
>>  > Brian Adams
>>
>>  Er, ... R depends on those packages and files which most likely are to
>>  be found on your LinuxPPC CD.
>>
>>  What is the problem? That you cannot install R without installing
>>  those packages first, or that R installs even with those packages
>>  absent and crashes on startup? Either way you need to get the items
>>  installed.
>
>Oh, I think I get it now: they changed the compiler suite for the new
>version? We'll be getting that problem on RedHat sooner or later as
>well. What you *really* need is a C compiler, a Fortran compiler and
>the libf2c library, so if you install those[1] it might be possible to
>install R with "rpm -i --force ...". In fact it might even work
>without the compilers until you try installing packages off of the net.
>
>[1] I don't know the LinuxPPC setup, but they would likely be found in
>packages named gcc and g77. I'm not too sure about the f2c item.
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat May  6 00:48:32 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 05 May 2000 17:48:32 -0500
Subject: [R] Are multiple range tests (Duncan, Bonferroni, Tukey, ...)   available in R?
In-Reply-To: Ko-Kang Wang's message of "Fri, 05 May 2000 22:22:06 +1200"
References: <E12ndwa-0005US-00@master.ivia.es> <3912A0CD.98098787@xtra.co.nz>
Message-ID: <6rwvl8sjen.fsf@franz.stat.wisc.edu>

Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:

> Yes, even as an undergraduate student taking a paper on experimental
> design, I found this problem a while ago.
> 
> I am trying to use the current ANOVA table function and
> model.tables, extend them to get LSD, LSD_B, Tukey...etc directly.
> However since I've never written an R package before (done some
> single R functions though), it may take some time to do so.
> 
> By the way, have you tried model.tables()?  You can, I think
> sometimes anywa, get SED from this function.

Thanks for the hint of looking at model.tables().  Since V&R refer to
its only being available in S-PLUS 4.0 and later, I had neglected to
look for it in R.

That function does a lot of the heavy lifting for the multiple
comparisons calculations.  I had been promising my statistics class a
function to do Tukey multiple comparisons and I now have a draft
version enclosed below.  I would appreciate comments on it, especially
if I have the calculations wrong.  I think they are correct but I
would appreciate confirmation.

The function returns a set of confidence intervals on the differences
of the means for the levels of the factors.  If the optional argument
`order' is TRUE the levels of the factor are first put in increasing
order so the `diff' column of the result will be positive and you can
check which pairs of levels are significantly different by checking
which entries in the `lwr' column are positive.

The calculation is designed to accomodate unbalanced designs and
multiple factors.  It is not guaranteed that multiple comparisons will
always make sense in those cases. A sample usage is shown first.

 > library(Devore5)
 > data(xmp10.01)
 > fm1 <- aov(strength ~ type, data = xmp10.01)
 > summary(fm1)
	     Df Sum Sq Mean Sq F value    Pr(>F)    
 type         3 127375   42458  25.094 5.525e-07 ***
 Residuals   20  33839    1692                      
 ---
 Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 
 > model.tables(fm1, "means", se = TRUE)
 Tables of means
 Grand mean

 682.5042 

  type 
     A     B     C     D 
 713.0 756.9 698.1 562.0 

 Standard errors for differences of means
	  type
	 23.75
 replic.     6
 > Tukey(fm1)
 $type
	   diff        lwr         upr
 B-A   43.93333  -22.53671  110.403377
 C-A  -14.93333  -81.40338   51.536711
 D-A -150.98333 -217.45338  -84.513289
 C-B  -58.86667 -125.33671    7.603377
 D-B -194.91667 -261.38671 -128.446623
 D-C -136.05000 -202.52004  -69.579956

 attr(,"class")
 [1] "Tukey"
 > Tukey(fm1, order = TRUE)
 $type
	  diff        lwr       upr
 C-D 136.05000  69.579956 202.52004
 A-D 150.98333  84.513289 217.45338
 B-D 194.91667 128.446623 261.38671
 A-C  14.93333 -51.536711  81.40338
 B-C  58.86667  -7.603377 125.33671
 B-A  43.93333 -22.536711 110.40338

 attr(,"class")
 [1] "Tukey"

### $Id: Tukey.R,v 1.1 2000/05/05 22:31:21 bates Exp $
###
###               Tukey multiple comparisons for R
###
### Copyright 2000-2000  Douglas M. Bates <bates at stat.wisc.edu>
###
### This file is made available under the terms of the GNU General
### Public License, version 2, or at your option, any later version,
### incorporated herein by reference.
###
### This program is distributed in the hope that it will be
### useful, but WITHOUT ANY WARRANTY; without even the implied
### warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
### PURPOSE.  See the GNU General Public License for more
### details.
###
### You should have received a copy of the GNU General Public
### License along with this program; if not, write to the Free
### Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
### MA 02111-1307, USA

Tukey <- function(x, ...) UseMethod("Tukey")

Tukey.aov <-
    function(x, order = FALSE, conf.level = 0.95, ...)
{
    mm <- model.tables(x, "means")
    tabs <- mm$tables[-1]
    nn <- mm$n
    out <- vector("list", length(tabs))
    names(out) <- names(tabs)
    MSE <- sum(resid(x)^2)/x$df.residual
    for (nm in names(tabs)) {
        means <- as.vector(tabs[[nm]])
        nms <- names(tabs[[nm]])
        n <- nn[[nm]]
        ## expand n to the correct length if necessary
        if (length(n) < length(means)) n <- rep(n, length(means))
        if (as.logical(order)) {
            ord <- order(means)
            means <- means[ord]
            n <- n[ord]
            if (!is.null(nms)) nms <- nms[ord]
        }
        center <- outer(means, means, "-")
        keep <- lower.tri(center)
        center <- center[keep]
        width <- qtukey(conf.level, length(means), x$df.residual) *
            sqrt((MSE/2) * outer(1/n, 1/n, "+"))[keep]
        dnames <- list(NULL, c("diff", "lwr", "upr"))
        if (!is.null(nms)) dnames[[1]] <- outer(nms, nms, paste, sep = "-")[keep]
        out[[nm]] <- array(c(center, center - width, center + width),
                           c(length(width), 3), dnames)
    }
    class(out) <- "Tukey"
    out
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Sat May  6 18:13:02 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Sun, 07 May 2000 01:13:02 +0900
Subject: [R] R Documentation(s)
In-Reply-To: <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz>
References: <391051C9.69611D31@is.titech.ac.jp> <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz>
Message-ID: <FU5BFH01.3T7@smtpn.mopera.ne.jp>

Dear Paul, thank you for your kind informations on the use of
Japanese in R.

On Thu, 4 May 2000 10:03:39 +1200
"Paul Murrell" <paul at stat.auckland.ac.nz> wrote:

paul> two things:
paul> (i)  the hershey vector fonts are from the GNU plotutils package - i.e.,
paul> someone else did all the hard work; we just connected it to R :)
paul> (ii)  since I do not have a Japanese keyboard (and do not know Japanese !)
paul> this stuff has not been extensively tested.  It will be good to have someone
paul> use it so that we can make sure it is working properly.

I found the hershey fonts in my system and could display Japanese fonts
using the plotfont command.

paul> > I would like to ask Paul a little more information.  I am only
paul> > using R (ver. 1.0.0) in the Debian/GNU Linux package
paul> > (potato) and by no means understand all its details.

Sorry, I was wrong. I am using R ver. 0.90.1 (1999, December).
Is it possible if this is the source of troubles? I will try 
using R ver. 1.0.0 (from woody of Debian/GNU Linux package)
in near future.

paul> Apologies if these are silly questions, but just in case ...
paul> (i)  did you type help(Hershey) from the R command-line ?
paul> (ii)  do you have the help installed ?  e.g., what do you get
paul> if you type help(sum) ?

Yes. The command "help(sum)" worked fine. But "help(Japanese)" returned

 Error in help(Japanese) : 
    No documentation for Japanese.

"help(Hershey)" returned a similar error message.

Yours, 

----------------------------------------------------------
Shigeru Mase <mase at is.titech.ac.jp>
  Dept. Math. and Comp. Sciences, Tokyo Institute of Technology,
  Oh-Okayama 2-12-1, Meguroku, Tokyo, 152-8552, Japan
----------------------------------------------------------  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Sat May  6 18:13:00 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Sun, 07 May 2000 01:13:00 +0900
Subject: [R] R Documentation(s)
In-Reply-To: <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz>
References: <391051C9.69611D31@is.titech.ac.jp> <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz>
Message-ID: <FU5BFF01.3T6@smtpn.mopera.ne.jp>

 Dear Paul,

On Thu, 4 May 2000 10:03:39 +1200
"Paul Murrell" <paul at stat.auckland.ac.nz> wrote:

paul> two things:
paul> (i)  the hershey vector fonts are from the GNU plotutils package - i.e.,
paul> someone else did all the hard work; we just connected it to R :)

I can find that the hershey vector fonts are installed with Ghostview. 

paul> (ii)  since I do not have a Japanese keyboard (and do not know Japanese !)
paul> this stuff has not been extensively tested.  It will be good to have someone
paul> use it so that we can make sure it is working properly.
paul> 

paul> You should only require the standard R package.
paul> 
paul> Apologies if these are silly questions, but just in case ...
paul> (i)  did you type help(Hershey) from the R command-line ?

Yes.

paul> (ii)  do you have the help installed ?  e.g., what do you get
paul> if you type help(sum) ?

Yes, the help system arw working. the command "help(text)" returns a 
correct response. But "help(Japanese)"


paul> 
paul> Hershey fonts are vector fonts (i.e., the characters are defined
paul> by a set of points;  the characters can be drawn by just joining
paul> the points by straight lines).  The Hershey character definitions
paul> are included in the standard R distribution.
paul> 
paul> paul
paul> 
paul> 
paul> 
paul> 

----------------------------------------------------------
Shigeru Mase <mase at is.titech.ac.jp>
  Dept. Math. and Comp. Sciences, Tokyo Institute of Technology,
  Oh-Okayama 2-12-1, Meguroku, Tokyo, 152-8552, Japan
----------------------------------------------------------  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Sat May  6 19:56:46 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Sat, 6 May 2000 19:56:46 +0200
Subject: [R] Compiling R without X?
Message-ID: <v04220800b53a0b70c413@[134.76.136.114]>

Hello everybody,

I just installed SuSE PPC beta on my laptop but R won't compile 
because of a missing X object file. Everything went well under 
LinuxPPC but it's a pain in the butt not to have a german keyboard 
supported. So I decided to stick with the SuSE beta until they roll 
out their final version. Until then it would be nice to have R 
available without graphics or X, respectively. Can somebody tell me 
how to configure/make it?

--Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May  6 21:39:38 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 6 May 2000 20:39:38 +0100 (BST)
Subject: [R] Compiling R without X?
In-Reply-To: <v04220800b53a0b70c413@[134.76.136.114]>
Message-ID: <Pine.GSO.4.05.10005062037550.25786-100000@auk.stats>

On Sat, 6 May 2000, Ragnar Beer wrote:

> Hello everybody,
> 
> I just installed SuSE PPC beta on my laptop but R won't compile 
> because of a missing X object file. Everything went well under 
> LinuxPPC but it's a pain in the butt not to have a german keyboard 
> supported. So I decided to stick with the SuSE beta until they roll 
> out their final version. Until then it would be nice to have R 
> available without graphics or X, respectively. Can somebody tell me 
> how to configure/make it?

Get the R-devel snapshot from CRAN and use that. AFAIK it is the only
version in which

configure --without-x
make

works.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat May  6 22:21:57 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 6 May 2000 22:21:57 +0200 (MET DST)
Subject: [R] Problem with match.arg()
Message-ID: <Pine.OSF.4.05.10005062213550.11967-100000@alnair.uio.no>

Dear all,

I have a problem with match.arg().

Occasionally, I get the error message:
Error in arg == choices : comparison (1) is possible only for vector types
and upon grepping through the R code, I found that the only place the
string "arg == choices" appears is in match.arg(), and indeed, I call 
this function in a function of mine that starts like this:
ramp <- function(n, type=c("point", "nolens"))
{
  type <- match.arg(type)
it seems like standard usage from the example in the docs.

The strange thing is that I can run my function thousands of times without
this error occuring, and sometimes it happens without any change of input
parameters (there are however drawing of random numbers involved, that is
what the 'r' of 'ramp' indicates).

Any ideas?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May  7 00:21:10 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2000 00:21:10 +0200
Subject: [R] Problem with match.arg()
In-Reply-To: Kjetil Kjernsmo's message of "Sat, 6 May 2000 22:21:57 +0200 (MET DST)"
References: <Pine.OSF.4.05.10005062213550.11967-100000@alnair.uio.no>
Message-ID: <x2u2gbb9rd.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> I have a problem with match.arg().
> 
> Occasionally, I get the error message:
> Error in arg == choices : comparison (1) is possible only for vector types
...
> The strange thing is that I can run my function thousands of times without
> this error occuring, and sometimes it happens without any change of input
> parameters (there are however drawing of random numbers involved, that is
> what the 'r' of 'ramp' indicates).

Well, what would seem to be happening is that ramp is getting called
with a strange 2nd arg, most likely a function, as in

> f<-function(x=c("aardvark","bison"))
+ {match.arg(x)}
> f(ls)
Error in arg == choices : comparison (1) is possible only for vector
types

You could try setting options(error=quote(dump.frames())) to figure
out what is going on (see help(dump.frames)).

It may be that something has been corrupted by a garbage collection at
just the wrong time, so if debugging doesn't reveal a bug in your own
code and things look strange, drop us a line with some more info
(preferably with simplified code to reproduce the effect).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May  7 01:37:47 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 6 May 2000 19:37:47 -0400 (EDT)
Subject: [R] problems with outer
Message-ID: <Pine.LNX.4.21.0005061926530.1435-100000@Chrestomanci.home.earth>

Dear R people,

I have a mysterious problem I have been tearing my hair over for some
time. I have a function that looks as follows:

covexp <- function(point,pair,theta,a,b)
{ pointnum <- length(pair$lags)
  x <- seq(pointnum)
  y <- x
  tempexpbinsumsq <- function(x,y) {expbinsumsq(point,pair,x,y,a,b,theta)}
  tempmatrix <- outer(x,y,tempexpbinsumsq)
  tempmatrix 
} 

This returns a matrix of dim pointnum times pointnum with
all entries zero. Now, if I try covexp(topo.point,topo.pair,c(1,1,1),2,3)
I get a matrix of all zeros, which cannot be correct. However, if I do
expbinsumsq(topo.point,topo.pair,1,2,2,3,c(1,1,1))  I don't get zero but
some decimal. So at least the (2,3) element of the matrix should have been
non-zero.

Note that my function tempexpbinsumsq merely exists for the purpose of
outer. I could have done 
tempmatrix <-
outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))
but I don't know if that would be correct usage.

Can someone explain what is going on? I'm at my wits end.

                                 Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May  7 02:02:36 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2000 02:02:36 +0200
Subject: [R] problems with outer
In-Reply-To: Faheem Mitha's message of "Sat, 6 May 2000 19:37:47 -0400 (EDT)"
References: <Pine.LNX.4.21.0005061926530.1435-100000@Chrestomanci.home.earth>
Message-ID: <x2hfcb8bxf.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> Note that my function tempexpbinsumsq merely exists for the purpose of
> outer. I could have done 
> tempmatrix <-
> outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))
> but I don't know if that would be correct usage.
> 
> Can someone explain what is going on? I'm at my wits end.

The thing that usually tricks beginners with outer() is that the
function has to be vectorised. I.e. if you stick in vectors for x and
y, you get a vector result back. Otherwise, you have to vectorise it
yourself, e.g. if f takes scalar arguments,

f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun May  7 01:58:54 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 07 May 2000 09:58:54 +1000
Subject: [R] problems with outer
Message-ID: <3.0.32.20000507095851.0126ec90@pophost.nsw.cmis.csiro.au>

At 07:37 PM 5/6/00 -0400, Faheem Mitha wrote:
>Dear R people,
>
>I have a mysterious problem I have been tearing my hair over for some
>time. I have a function that looks as follows:
>
>covexp <- function(point,pair,theta,a,b)
>{ pointnum <- length(pair$lags)
>  x <- seq(pointnum)
>  y <- x
>  tempexpbinsumsq <- function(x,y) {expbinsumsq(point,pair,x,y,a,b,theta)}
>  tempmatrix <- outer(x,y,tempexpbinsumsq)
>  tempmatrix 
>} 

For this to work your function expbinsumsq has to be *vectorized* with
respect to x and y.  That's something you have to check.  This is the most
common reason (in my experience at least) for outer() and other such
functions not to perform as expected.   

(Note, too, that this would have no show of working in S (as opposed to R)
because of visibility restrictions.  If you were programming for
portability this would be an issue.)

>
>This returns a matrix of dim pointnum times pointnum with
>all entries zero. Now, if I try covexp(topo.point,topo.pair,c(1,1,1),2,3)
>I get a matrix of all zeros, which cannot be correct. However, if I do
>expbinsumsq(topo.point,topo.pair,1,2,2,3,c(1,1,1))  I don't get zero but
>some decimal. So at least the (2,3) element of the matrix should have been
>non-zero.
>
>Note that my function tempexpbinsumsq merely exists for the purpose of
>outer. I could have done 

>tempmatrix <-
>outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))

>but I don't know if that would be correct usage.

In R, yes, if your work-horse function expbinsumsq is vectorized.  In S you
would also need to do something to make the additional arguments available.

>
>Can someone explain what is going on? I'm at my wits end.

Yes, but it would take quite some space here.  I'd say get to understand as
much as you can about vectorization first, though.  I suspect that is your
problem.


>
>                                 Sincerely, Faheem Mitha.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May  7 03:57:48 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 6 May 2000 21:57:48 -0400 (EDT)
Subject: [R] problems with outer
In-Reply-To: <x2hfcb8bxf.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005062143190.1435-100000@Chrestomanci.home.earth>



On 7 May 2000, Peter Dalgaard BSA wrote:

> Faheem Mitha <faheem at email.unc.edu> writes:
> 
> > Note that my function tempexpbinsumsq merely exists for the purpose of
> > outer. I could have done 
> > tempmatrix <-
> > outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))
> > but I don't know if that would be correct usage.
> > 
> > Can someone explain what is going on? I'm at my wits end.
> 
> The thing that usually tricks beginners with outer() is that the
> function has to be vectorised. I.e. if you stick in vectors for x and
> y, you get a vector result back. Otherwise, you have to vectorise it
> yourself, e.g. if f takes scalar arguments,
> 
> f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))

This is helpful. However I'd like to clarify the meaning of vectorisation
in this case.

Does a vectorised function with two arguments mean that if X, Y vectors
then f(X,Y)= (f(X_i,Y_i)), ie f(X,Y) is the vector with component
f(X_i,Y_i)?

This is what appears to be the case from the line beginning f.vect above.
In particular, this would force x and y to be the same length. If this is
not the case then I am puzzled how f.vect would be what I want.

A priori, I could have taken this to mean that f must satisfy the
following:
 
If X is a vector, and y is a scalar, then f(X,y) = (f(X_i,y)) ie f(X,y) is
the vector with components (f(X_i,y) and similarly for f(x,Y). But this is
not what you mean, is it?

Please excuse any confusion. Trying to debug stuff always wears me out, so
I am not at my best right now.

Thanks.                          Faheem.

 -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May  7 04:57:36 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 6 May 2000 22:57:36 -0400 (EDT)
Subject: [R] problems with outer
In-Reply-To: <Pine.LNX.4.21.0005062143190.1435-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0005062248590.1435-100000@Chrestomanci.home.earth>

(replying to my own message)

Ok, I took a look around, and what I think vectorised means is that if x
and y are two vectors, then the shorter of the vectors is replicated to be
the length of the longer of the two vectors, ie. the elements of the
shorter vector are repeated as necessary (thus the two vectors become the
same length) and then a vector of function values is returned that is the
value of the function elementwise on these two vectors. (Thanks to S
Burn's `S Poetry' for a clear explanation of this on pg 4). I am still not
clear how I would vectorise my function though, assuming that it only
accepts scalar values.

Cam some kind person in any case confirm that this is what was meant?

f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))

seems to be to only work correctly if x and y are the same length.

                        Sincerely, Faheem Mitha.

On Sat, 6 May 2000, Faheem Mitha wrote:

> 
> 
> On 7 May 2000, Peter Dalgaard BSA wrote:
> 
> > Faheem Mitha <faheem at email.unc.edu> writes:
> > 
> > > Note that my function tempexpbinsumsq merely exists for the purpose of
> > > outer. I could have done 
> > > tempmatrix <-
> > > outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))
> > > but I don't know if that would be correct usage.
> > > 
> > > Can someone explain what is going on? I'm at my wits end.
> > 
> > The thing that usually tricks beginners with outer() is that the
> > function has to be vectorised. I.e. if you stick in vectors for x and
> > y, you get a vector result back. Otherwise, you have to vectorise it
> > yourself, e.g. if f takes scalar arguments,
> > 
> > f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))
> 
> This is helpful. However I'd like to clarify the meaning of vectorisation
> in this case.
> 
> Does a vectorised function with two arguments mean that if X, Y vectors
> then f(X,Y)= (f(X_i,Y_i)), ie f(X,Y) is the vector with component
> f(X_i,Y_i)?
> 
> This is what appears to be the case from the line beginning f.vect above.
> In particular, this would force x and y to be the same length. If this is
> not the case then I am puzzled how f.vect would be what I want.
> 
> A priori, I could have taken this to mean that f must satisfy the
> following:
>  
> If X is a vector, and y is a scalar, then f(X,y) = (f(X_i,y)) ie f(X,y) is
> the vector with components (f(X_i,y) and similarly for f(x,Y). But this is
> not what you mean, is it?
> 
> Please excuse any confusion. Trying to debug stuff always wears me out, so
> I am not at my best right now.
> 
> Thanks.                          Faheem.
> 
>  -- 
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > 
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May  7 05:19:44 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 6 May 2000 23:19:44 -0400 (EDT)
Subject: [R] problems with outer
In-Reply-To: <x2hfcb8bxf.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005062312580.1435-100000@Chrestomanci.home.earth>

Dear R people,

I'm taking the liberty of sending out my code. I am using the data set
topo from the V&R package spatial and the data structures point and pair
from the package sgeostat.

It may look a bit long, but most of it is probably not relevant.

I feel reasonably sure that the expbinsumsq function (towards the bottom)
is causing the problem with the vectorisation and outer. I am using an
ifelse condition at the beginning, and that is probably causing the
trouble, since the values I get are precisely what I would get if the
condition was never true. I should mention that the a, b's mentioned are
factors, taking values 1,2...10.

Perhaps someone can suggest a painless way to sort it out.

Thanks.                                               Faheem. 

**********************************************************************

data(topo)
# defining the point object (see package `sgeostat').
topo.point <- point(topo)
#defining the pair object (see the package `sgeostat').
topo.pair <- pair(topo.point)
#Estimating values of the exponential variogram
topo.est.var <- est.variogram(topo.point,topo.pair,'z')


#Making a vector of n(h_j)'s. (The number of pairs in each bin)
binnum <- function(pair)
{ numofbins <- length(pair$bins)
  binnumval <- rep(0,numofbins)
  for(i in 1:numofbins)
{  binnumval[i] <- sum(ifelse(as.vector(pair$lags)==i,1,0))}
   return(binnumval)  
}

# distance between the points (a1,a2) and (b1,b2).
metric <- function(a1,a2,b1,b2)
{ sqrt((a1 - b1)^2 + (a2 - b2)^2) }

# the exponential variogram function
expvar <- function(t,theta)
{
  theta[1] + theta[2]*(1 - exp(-t/theta[3]))
}

expsumsq <- function(x1,y1,x2,y2,x3,y3,x4,y4,theta)
{ ( expvar(metric(x1,y1,x3,y3),theta) + expvar(metric(x2,y2,x4,y4),theta)
  - expvar(metric(x1,y1,x4,y4),theta) - expvar(metric(x2,y2,x3,y3),theta) )^2
}

expbinsumsq <- function(point,pair,i,j,a,b,theta)
{
  ifelse((as.integer(pair$lags[i]) == a)&&(as.integer(pair$lags[j]) == b),
            expsumsq(point$x[pair$from[i]],point$y[pair$from[i]],
                   point$x[pair$to[i]],point$y[pair$to[i]],
                   point$x[pair$from[j]],point$y[pair$from[j]],
                   point$x[pair$to[j]],point$y[pair$to[j]],
                   theta),0)
}

covexp <- function(point,pair,theta,a,b)
{ pointnum <- length(pair$lags)
  
  x <- seq(pointnum)
  y <- x
  tempexpbinsumsq <- function(x,y) {expbinsumsq(point,pair,x,y,a,b,theta)}
  tempmatrix <- outer(x,y,tempexpbinsumsq)
  tempsum <- sum(tempmatrix)
  return( 2*tempsum/( binnum(pair)[a]*binnum(pair)[b] ) )
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun May  7 05:35:57 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 07 May 2000 13:35:57 +1000
Subject: [R] problems with outer
Message-ID: <3.0.32.20000507133557.0126b100@pophost.nsw.cmis.csiro.au>

At 10:57 PM 5/6/00 -0400, Faheem Mitha wrote:
>(replying to my own message)
>
>Ok, I took a look around, and what I think vectorised means is that if x
>and y are two vectors, then the shorter of the vectors is replicated to be
>the length of the longer of the two vectors, ie. the elements of the
>shorter vector are repeated as necessary (thus the two vectors become the
>same length) and then a vector of function values is returned that is the
>value of the function elementwise on these two vectors. (Thanks to S
>Burn's `S Poetry' for a clear explanation of this on pg 4). 

It is a clear, concise and simple explanation, but sadly incomplete and for
your purposes rather misleading...  Darn!

>I am still not clear how I would vectorise my function though, assuming 
>that it only accepts scalar values.

How you do that is up to you.  There is no magic formula.  Sometimes
efficiency requires you to go right down to the C code (or extension) level
and write a fast loop.  

>
>Cam some kind person in any case confirm that this is what was meant?
>
>f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))
>
>seems to be to only work correctly if x and y are the same length.

Call me unkind, but this is precisely the kind of discussion I was seeking
to avoid in public as it gets so messy.  It takes a dialogue.
"Vectorization" is a rather slippery concept that means different things in
different contexts.  It may involve the recycling rule or it may not,
depending.

Take an example.  If I write

f <- function(x, y) x + y

this function will work with outer(), but it depends on a rather different
vectorization property than just the recycling rule.  In this case it works
because if either x or y are vectors (but not both), the result is a vector
of that length.  Note that if I use f(1:3, 2) or f(2, 1:3) the recycling
rule is used, but it is not used in, say, outer(1:3, 0:5, f) (which you
should check).

So your function to be supplied to outer() should

>                        Sincerely, Faheem Mitha.
>
>On Sat, 6 May 2000, Faheem Mitha wrote:
>
>> 
>> 
>> On 7 May 2000, Peter Dalgaard BSA wrote:
>> 
>> > Faheem Mitha <faheem at email.unc.edu> writes:
>> > 
>> > > Note that my function tempexpbinsumsq merely exists for the purpose of
>> > > outer. I could have done 
>> > > tempmatrix <-
>> > > outer(x,y,function(x,y) expbinsumsq(point,pair,x,y,a,b,theta))
>> > > but I don't know if that would be correct usage.
>> > > 
>> > > Can someone explain what is going on? I'm at my wits end.
>> > 
>> > The thing that usually tricks beginners with outer() is that the
>> > function has to be vectorised. I.e. if you stick in vectors for x and
>> > y, you get a vector result back. Otherwise, you have to vectorise it
>> > yourself, e.g. if f takes scalar arguments,
>> > 
>> > f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))
>> 
>> This is helpful. However I'd like to clarify the meaning of vectorisation
>> in this case.
>> 
>> Does a vectorised function with two arguments mean that if X, Y vectors
>> then f(X,Y)= (f(X_i,Y_i)), ie f(X,Y) is the vector with component
>> f(X_i,Y_i)?
>> 
>> This is what appears to be the case from the line beginning f.vect above.
>> In particular, this would force x and y to be the same length. If this is
>> not the case then I am puzzled how f.vect would be what I want.
>> 
>> A priori, I could have taken this to mean that f must satisfy the
>> following:
>>  
>> If X is a vector, and y is a scalar, then f(X,y) = (f(X_i,y)) ie f(X,y) is
>> the vector with components (f(X_i,y) and similarly for f(x,Y). But this is
>> not what you mean, is it?
>> 
>> Please excuse any confusion. Trying to debug stuff always wears me out, so
>> I am not at my best right now.
>> 
>> Thanks.                          Faheem.
>> 
>>  -- 
>> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>> > 
>> 
>> 
>> 
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun May  7 06:03:09 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 07 May 2000 14:03:09 +1000
Subject: [R] problems with outer (remainder of reply...)
Message-ID: <3.0.32.20000507140304.01265360@pophost.nsw.cmis.csiro.au>

[2nd go.  My previous message was suddenly dispatched before I had
finished.  Sorry about that - MicroSoft again, Sheesh!]

At 10:57 PM 5/6/00 -0400, Faheem Mitha wrote:

>
>Cam some kind person in any case confirm that this is what was meant?
>
>f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))
>
>seems to be to only work correctly if x and y are the same length.

Yes it will handle it, but it may not speed things up very much.

You can think of outer as first doing a special kind of recycling, (the
same kind as is done in exapnd.grid in fact), calling the function you
supply once with expanded vector arguments with equal length and
re-arranging the result back into a matrix of the same form.

How do I know this?  I looked at the code for outer()!  It's only a couple
of lines long.

Bill Venables.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May  7 11:44:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2000 11:44:38 +0200
Subject: [R] problems with outer (remainder of reply...)
In-Reply-To: Bill Venables's message of "Sun, 07 May 2000 14:03:09 +1000"
References: <3.0.32.20000507140304.01265360@pophost.nsw.cmis.csiro.au>
Message-ID: <x2wvl6ofsp.fsf@blueberry.kubism.ku.dk>

Bill Venables <Bill.Venables at cmis.csiro.au> writes:

> [2nd go.  My previous message was suddenly dispatched before I had
> finished.  Sorry about that - MicroSoft again, Sheesh!]
> 
> At 10:57 PM 5/6/00 -0400, Faheem Mitha wrote:
> 
> >
> >Cam some kind person in any case confirm that this is what was meant?
> >
> >f.vect <- function(x,y) sapply(seq(along=x),function(i)f(x[i],y[i]))
> >
> >seems to be to only work correctly if x and y are the same length.
> 
> Yes it will handle it, but it may not speed things up very much.
> 
> You can think of outer as first doing a special kind of recycling, (the
> same kind as is done in exapnd.grid in fact), calling the function you
> supply once with expanded vector arguments with equal length and
> re-arranging the result back into a matrix of the same form.

Or, which is what I left out: When coming from outer, x and y *will*
have the same length, so one doesn't have to worry about recycling
rules. What the function sees is not the original x,y, but e.g.

x1 y1
x2 y1
x1 y2
x2 y2
x1 y3
x2 y3

Try outer(1:2,1:3,function(x,y)print(paste(x,y)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rao.3 at osu.edu  Sun May  7 04:46:38 2000
From: rao.3 at osu.edu (Vidhyanath Rao)
Date: Sat, 6 May 2000 22:46:38 -0400
Subject: [R] Testing for warning inside functions
Message-ID: <000301bfb831$33b87c60$d370fe8c@lucent.com>

This is probably a newbie question: How do I test, inside a function, is
a call I made from inside that function produced a warning?

[For those who want the gory details: I have a list of text files tagged
with a classification. I want to know which words can serve as key words
for recognizing the class. One thing I want to try is to fit a binomial
model to the number of occurrences of a word in the documents and see if
the classification explains a reasonable amount of the variation. A
large percentage of the time, this produces a warning about
non-convergence. I want to filter out these words as I go through the
array of word frequencies. I looked at last.warning, but I can't figure
out how to test it properly under all possible circumstances.]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rao.3 at osu.edu  Sun May  7 04:37:22 2000
From: rao.3 at osu.edu (Vidhyanath Rao)
Date: Sat, 6 May 2000 22:37:22 -0400
Subject: [R] MetaPost device
Message-ID: <000201bfb831$32b51620$d370fe8c@lucent.com>

Several weeks back I raised the question of implementing a MetaPost
device. I finally got some time to look at the source code of other
device drivers in R. Everything else is easy except for text. It seems
that R wants the font metrics information from its device drivers.
PicTeX driver gets around this by allowing only four fonts and
hard-coding the tfm info into itself. This seems rather draconian. It
would mean, for example, that any mathematical typesetting will stick
out. As my interest was soley for using R's graphs in TeX files and get
both dvi and pdf outputs painlessly from, a MetaPost driver for R seems
to be more trouble than is worth.

The major problem seems to be that R considers the device drivers to be
fairly limited in terms of typesetting. MetaPost is the other extreme.
It seems to me that it would be better to extract information from R and
produce MetaPost input. [MetaPost already has a graph package that does
2d graphing.] The only problem is that it is not always clear how to get
the information out. For example, qqnorm and qqplot are documented as
returning the list of points that will be plotted. But nothing is said
concerning qqline and it is still not clear to me if I have to basically
implement it from scratch (or rather by copying the code). Perhaps this
is one more thing for the documentation team to take care of :-).




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Sat May  6 21:08:50 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 06 May 2000 21:08:50 +0200
Subject: [R] R Documentation(s) -- Summary
Message-ID: <3.0.32.20000506210850.00913b30@162.38.183.200>

Dear all,

Many thanks to all who replied to my message. Here follows a summary of the
most important points to me.

1. There seems to be a general agreement on a need for docs for
non-statisticians with respect to two points: (i) explaining how to get
first in R for those who are not used with command-lines, object-oriented
languages, loops, ... and (ii) illustrating to the various specialists how
they could use R to do the analyses or tests which are common practice in
their field.

2. There is a need to translate docs (and this has already started in
Japanese). This could concern only the non-technical materials, as
statisticians, mathematicians ... generally read English.

It appears that significant materials probably already exist in various
files, folders, ... around the world, so trying to fill the above needs may
be carried out by putting together efforts that have already been done.

Here are my (vague) suggestions on the objectives relative to the above needs.

1.i. Writing a simple and short tutorial on how to do basic things in R
(read data, plots, graphs...); also emphasize on the advantages of R
compared to softwares with pull-down menus.

1.ii. This could take 2 forms (but not mutually exclusive). First, write
tutorials explaining how to do the usual stats in a given field, this could
be appended to the above doc with chapters like "R for biologists", "R for
psychologists", ... Second, write packages similar to Doug Bates' Devore5,
but referring to the handbooks that are popular in other fields (for
instance, Sokal & Rohlf's "Biometry" is very popular among my colleagues).

2. Probably what is proposed above would be worth translating... but it
still needs to be written (... in any language). The "Introduction to R" at
least already exists, but (looking at it closely right now...) it is quite
a dense document and I have no idea on the time required to translate it
(it depends on the language it is translated in I suppose). On the other
hand, if it has already been translated in Japanese then it could be worth
doing it with other languages.


There is a (probably less urgent) need for advanced users on how to write
new R functions, more advanced R features... Brian Ripley mentioned that an
R Language Manual is planned, and the last book by Venables & Ripley treats
R as one of three dialects of the S language.


Again, these are simply suggestions, and I would be glad to discuss them. I
am, of course, volunteer to contribute to docs and others mentioned they
are as well. No doubt there will be enough enthusiasm among R users to
carry out the task.

Finally, many thanks to Friedrich Leisch for his proposal to create a
``contributed documentation'' section on CRAN.

Best wishes to all,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May  7 17:40:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 7 May 2000 16:40:00 +0100 (GMT Daylight Time)
Subject: [R] MetaPost device
In-Reply-To: <000201bfb831$32b51620$d370fe8c@lucent.com>
Message-ID: <Pine.WNT.4.05.10005071626430.196-100000@tern.stats>

On Sat, 6 May 2000, Vidhyanath Rao wrote:

> Several weeks back I raised the question of implementing a MetaPost
> device. I finally got some time to look at the source code of other
> device drivers in R. Everything else is easy except for text. It seems
> that R wants the font metrics information from its device drivers.
> PicTeX driver gets around this by allowing only four fonts and
> hard-coding the tfm info into itself. This seems rather draconian. It
> would mean, for example, that any mathematical typesetting will stick
> out. As my interest was soley for using R's graphs in TeX files and get
> both dvi and pdf outputs painlessly from, a MetaPost driver for R seems
> to be more trouble than is worth.

Yes, but pictex is the one exception: it is a third-party driver and little
used (since it was pretty broken and no one complained).  Look at the XFig
driver (in R-devel snapshots for a much better model).  (BTW, I don't think
you can get DVI from MetaPost: the DVI model is not rich enough.)

> The major problem seems to be that R considers the device drivers to be
> fairly limited in terms of typesetting. MetaPost is the other extreme.

Not at all. R's drivers are completely sufficient for R's graphics model,
except for the pictex one.  R's model only allows one font family at a
time, but that suffices for a single graph, surely?

> It seems to me that it would be better to extract information from R and
> produce MetaPost input. [MetaPost already has a graph package that does
> 2d graphing.] 

(Dreadfully, as the examples in the LaTeX Graphics Companion show.  Some of
us care about graphics quality.)

>The only problem is that it is not always clear how to get
> the information out. For example, qqnorm and qqplot are documented as
> returning the list of points that will be plotted. But nothing is said
> concerning qqline and it is still not clear to me if I have to basically
> implement it from scratch (or rather by copying the code). Perhaps this
> is one more thing for the documentation team to take care of :-).

What documentation team is that?

qqline draws a line, not presents you with a list of points (its return
value is invisible(), and qqnorm and qqplot do more than calcualte the list
of points they return.  But I do think that a MetaPost device is the way to
go and not at all difficult if you consider only postscript fonts (and I do
for serious typesetting anyway).  If you want more, then you do need the
font information (from tfms?).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May  7 18:39:22 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 7 May 2000 12:39:22 -0400 (EDT)
Subject: [R] extracting a sub data frame by value of one of its columns
Message-ID: <Pine.LNX.4.21.0005071235390.460-100000@Chrestomanci.home.earth>

Dear R people,

This should be a straightforward operation, but I am having difficulties.
I have a data frame with three columns, call them a, b, and c. c is a
column of factors, 1...10. I want to extract all the rows for which c has
the value say 1, and put them in a separate data frame. I looked at the
various sort functions provided, but see no way to easily adapt them to my
needs.
                                   Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May  7 19:22:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 7 May 2000 18:22:10 +0100 (BST)
Subject: [R] extracting a sub data frame by value of one of its columns
In-Reply-To: <Pine.LNX.4.21.0005071235390.460-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10005071819520.27819-100000@auk.stats>

On Sun, 7 May 2000, Faheem Mitha wrote:

> Dear R people,
> 
> This should be a straightforward operation, but I am having difficulties.
> I have a data frame with three columns, call them a, b, and c. c is a
> column of factors, 1...10. I want to extract all the rows for which c has
> the value say 1, and put them in a separate data frame. I looked at the
> various sort functions provided, but see no way to easily adapt them to my
> needs.

Nothing to do with sorting as far as I can see. Try

df2 <- df1[df1$c == 1,]

and note that indexing is pretty central to using S (the language), so it
is worth learning all the ways to use it.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mharan at stat.umn.edu  Sun May  7 20:06:57 2000
From: mharan at stat.umn.edu (Murali Haran)
Date: Sun, 07 May 2000 13:06:57 -0500
Subject: [R] lme for long.data
Message-ID: <3915B0C1.40E7@stat.umn.edu>

Dear R users,

I am attempting to fit a model for longitudinal
data with the lme function.

"sim" is a data set with sim$Y as response, sim$time
as times of each observation, sim$id as patient
id's.

I try to do the following :
simcorExp <-corExp(form=(~time|id),nugget=T)
simcorExp <- initialize(simcorExp, data=sim)
sim.fit <- lme(fixed = Y~1, data=sim, random =
~1|id,correlation=simcorExp)

After just the second statement, R complains :
*****
Error in getGroups(data, form, level = grpLev) : 
        no applicable method for "getGroups"
*****

What am I doing wrong ?  Is this is the right
approach (for the model I describe below)?

Any tips or guidance would be really appreciated.

Murali

**********
P.S. The model I am trying to fit is as follows :

For each data point, y_ij at time
t_ij, I am trying to fit a random intercept for 
each patient, b_i, a term representing temporally 
correlated variability, v_ij, and measurement 
error term,e_ij.

y_ij = Mu + b_i + v_ij + e_ij

Mu is the overall intercept.
b_i is i.i.d N(0,sigma_b^2) 
e_ij's are i.i.d. N(0,sigma_eps^2)

each vector v_i has expectation (0,..,0) and 
covariance(v_i) uses the exponential semi-variogram
model (the continous analog of the first order
auto-regressive correlation model), i.e, the 
corr(v_ij,v_ik) = exp(eta* abs(t_ik - t_ij)).
The covariance matrix for (v_i) is multiplied
by the scalar sigma_v^2. Of course, the same 
eta and sigma_v^2 is fit across all patients.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon May  8 00:21:28 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 8 May 2000 10:21:28 +1200
Subject: [R] R Documentation(s)
References: <391051C9.69611D31@is.titech.ac.jp> <00bc01bfb54b$708285c0$175dd882@stat.auckland.ac.nz> <FU5BFH01.3T7@smtpn.mopera.ne.jp>
Message-ID: <00d401bfb872$97ba3a50$175dd882@stat.auckland.ac.nz>

hi


> Sorry, I was wrong. I am using R ver. 0.90.1 (1999, December).
> Is it possible if this is the source of troubles? I will try 
> using R ver. 1.0.0 (from woody of Debian/GNU Linux package)
> in near future.


aha !  This is the problem.  The Hershey fonts were not in version 0.90.1
You will need to get hold of version 1.0.0

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Peters at tip.csiro.au  Mon May  8 02:22:11 2000
From: John.Peters at tip.csiro.au (John Peters)
Date: Mon, 8 May 2000 10:22:11 +1000 (EST)
Subject: [R] coercing NA to complex?
Message-ID: <200005080022.KAA00945@dylan.tip.CSIRO.AU>


I struck a problem concatenating two complex vectors with an NA for 
plotting purposes.  It seems that NA is not automatically coerced to mode 
complex. In the complex vector "b" below, an NA appears after half the 
vector, and a zero appears where the NA should be:

3+4i 3+4i  NA 3+4i 0+0i 3+4i 3+4i 3+4i 3+4i 285

This zero seems to coming from free space, as, after running this example 
a few times, the zero gets replaced by some sort of erratic garbage: 

3+4i 3+4i  NA 3+4i 2.466318e+179+6.800902e+199i 3+4i 3+4i 3+4i 3+4i 292 

Is this a misuse of c() and NA or a bug?  It runs OK in Splus 3.4.

Observed on R 1.0.1 on both linux (compiled on RedHat 6.2) and win95 
(rw1001).

#---------------------------------------------------------------------
a_rep(3+4i,4)

for (i in 1:1000){

   b_c(a,NA,a)                     # b is wrong
   # b_c(a,as.complex(NA),a)         # b is ok
  
   cat(b,i,"\n")
   x_max(c(1,Mod(b[5])),na.rm=T)
   if (x>2) stop()
}
#---------------------------------------------------------------------

Thanks for R; this is my first surprise for many months.

----------------------------------------------------------------------------
John Peters
CSIRO National Measurement Laboratory
PO Box 218                                Phone:    +61 2 9413 7503
Lindfield NSW 2070                        Fax:      +61 2 9413 7202
Australia                                 Internet: John.Peters at tip.CSIRO.AU
----------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Mon May  8 06:22:24 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 8 May 2000 16:22:24 +1200
Subject: [R] coercing NA to complex?
In-Reply-To: <200005080022.KAA00945@dylan.tip.CSIRO.AU>; from John Peters on Mon, May 08, 2000 at 10:22:11AM +1000
References: <200005080022.KAA00945@dylan.tip.CSIRO.AU>
Message-ID: <20000508162224.A29401@stat1.stat.auckland.ac.nz>

On Mon, May 08, 2000 at 10:22:11AM +1000, John Peters wrote:
> 
> I struck a problem concatenating two complex vectors with an NA for 
> plotting purposes.  It seems that NA is not automatically coerced to mode 
> complex. In the complex vector "b" below, an NA appears after half the 
> vector, and a zero appears where the NA should be:
> 
> 3+4i 3+4i  NA 3+4i 0+0i 3+4i 3+4i 3+4i 3+4i 285
> 
> This zero seems to coming from free space, as, after running this example 
> a few times, the zero gets replaced by some sort of erratic garbage: 
> 
> 3+4i 3+4i  NA 3+4i 2.466318e+179+6.800902e+199i 3+4i 3+4i 3+4i 3+4i 292 
> 
> Is this a misuse of c() and NA or a bug?  It runs OK in Splus 3.4.
> 
> Observed on R 1.0.1 on both linux (compiled on RedHat 6.2) and win95 
> (rw1001).
> 
> #---------------------------------------------------------------------
> a_rep(3+4i,4)
> 
> for (i in 1:1000){
> 
>    b_c(a,NA,a)                     # b is wrong
>    # b_c(a,as.complex(NA),a)         # b is ok
>   
>    cat(b,i,"\n")
>    x_max(c(1,Mod(b[5])),na.rm=T)
>    if (x>2) stop()
> }
> #---------------------------------------------------------------------
> 
> Thanks for R; this is my first surprise for many months.

Thanks for the bug report!  Access to cut-and-paste makes it all too
easy to avoid thinking about what you are doing.

I am committing a fix to the development tree, but if it is an urgent
problem for you, please replace the "default" case in the function
"ComplexAnswer" in src/main/bind.c with the following:

    default:
        n = LENGTH(x);
        for (i = 0; i < n; i++) {
            xi = INTEGER(x)[i];
            if (xi == NA_INTEGER) {
                COMPLEX(ans_ptr)[ans_length].r = NA_REAL;
                COMPLEX(ans_ptr)[ans_length].i = NA_REAL;
            }
            else {
                COMPLEX(ans_ptr)[ans_length].r = xi;
                COMPLEX(ans_ptr)[ans_length].i = 0.0;
            }
            ans_length++;
        }
        break;

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Sun May  7 18:17:47 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Sun, 7 May 2000 18:17:47 +0200
Subject: [R] Compiling R without X?
In-Reply-To: <Pine.GSO.4.05.10005062037550.25786-100000@auk.stats>
References: <Pine.GSO.4.05.10005062037550.25786-100000@auk.stats>
Message-ID: <v04220800b53b13c3247e@[134.76.23.120]>

Thanks a lot! Now R works fine. There was only one little problem: In 
the src/unix/Makefile target "DLLs" the code inside the if/fi is 
executed even if R_GUIS is empty. I know enough about makefiles to 
find the problem and fix it temporarily by deleting the whole if/fi 
but I don't know how the correct if-clause would be.

--Ragnar

>  > Hello everybody,
>  >
>  > I just installed SuSE PPC beta on my laptop but R won't compile
>  > because of a missing X object file. Everything went well under
>  > LinuxPPC but it's a pain in the butt not to have a german keyboard
>  > supported. So I decided to stick with the SuSE beta until they roll
>  > out their final version. Until then it would be nice to have R
>  > available without graphics or X, respectively. Can somebody tell me
>  > how to configure/make it?
>
>Get the R-devel snapshot from CRAN and use that. AFAIK it is the only
>version in which
>
>configure --without-x
>make
>
>works.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rwurzer at progis.co.at  Mon May  8 12:27:23 2000
From: rwurzer at progis.co.at (rwurzer@progis.co.at)
Date: Mon, 8 May 2000 12:27:23 +0200
Subject: [R] Using C/C++
Message-ID: <OF36E20D19.A7FC25AE-ONC12568D9.00383F6B@progis.co.at>

Hi there!
I?ve a problem with external c-code using in R. (Win2000 and R 1.0.0 for 
WinNT/Win2000)
My question is: what are the steps to get a c-code-function work in R
with .C .
Now I have a c code out.c which includes R.h and Rinternals.h!
So i think i have to make a .dll file with a compiler but there are some 
troubles like
**out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_unprotect
**out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_protect
**out.obj : error LNK2001: Nichtaufgeloestes externes Symbol 
_Rf_allocMatrix
**out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_length
Thank you for every help!

Roland Wurzer
PROGIS
Postgasse 6
A-9500 Villach
Austria
rwurzer at progis.co.at
http://www.progis.co.at/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000508/98787ca1/attachment.html

From ripley at stats.ox.ac.uk  Mon May  8 12:52:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 8 May 2000 11:52:13 +0100 (BST)
Subject: [R] Using C/C++
Message-ID: <200005081052.LAA05841@toucan.stats.ox.ac.uk>


> From: rwurzer at progis.co.at
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] Using C/C++
> Date: Mon, 8 May 2000 12:27:23 +0200
> X-Priority: 3 (Normal)
> X-MIMETrack: Serialize by Router on PROGIS_EUROPE/PROGIS/AT(Release 5.0.1a 
(Intl)|17 August 1999) at 05/08/2000 12:27:28 PM, Serialize complete at 
05/08/2000 12:27:28 PM
> 
> Hi there!
> I?ve a problem with external c-code using in R. (Win2000 and R 1.0.0 for 
> WinNT/Win2000)
> My question is: what are the steps to get a c-code-function work in R
> with .C .
> Now I have a c code out.c which includes R.h and Rinternals.h!
> So i think i have to make a .dll file with a compiler but there are some 
> troubles like
> **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_unprotect
> **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_protect
> **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol 
> _Rf_allocMatrix
> **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_length
> Thank you for every help!

Do please read readme.packages in rw1001sp.zip for information on this.
You need to make an import library and link against it.  The easiest way
to do so is to set up a small R package and build that.  That file
has information on using Visual C++ and the mingw32/cygwin gcc compilers.
If you are using anything else you will need to adapt the instructions.
(The next version will have instructions for Borland C++ 5.5 too.)

Also, I suggest you upgrade to 1.0.1, as we are not going to be able to help
you with versions we no longer use.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon May  8 13:57:32 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 08 May 2000 21:57:32 +1000
Subject: [R] R Documentation(s)
Message-ID: <3916ABAC.574377AF@ozemail.com.au>

OK, here goes.

After some e-mailing, I'd like to invite any R-newbies (or ex-newbies
with good memories) to send their "simple problem(s) that drove me crazy
when I started using R".  The idea is to produce a short (?)
introduction to R for those wanting to accomplish fairly prosaic tasks.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon May  8 16:14:21 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 May 2000 09:14:21 -0500
Subject: [R] "Mixed-Effects Models in S and S-PLUS" has been published
Message-ID: <6rln1lw2ma.fsf@franz.stat.wisc.edu>

Jose Pinheiro and I are pleased to announce that our book
"Mixed-Effects Models in S and S-PLUS" has been published by Springer.
This book covers both the theory and practice of mixed-effects models
and provides a comprehensive guide to the use of the nlme library for
S-PLUS and R.

The R library has one major omission - most of the graphics methods
are not presently available in R.  The graphics in the nlme library
use Trellis extensively and Trellis-like capabilities are not yet
available in R.

Further information regarding the book is available at
		   http://nlme.stat.wisc.edu/MEMSS/
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon May  8 16:19:30 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 08 May 2000 16:19:30 +0200
Subject: [R] anova question for repeated measurements
Message-ID: <3916CCF2.179E58E7@psy.uni-muenchen.de>

Dear R-List,

is it possible to calculate a three-factor (two factors with 9 levels
and one with three) analysis of variance with repeated (or replicates,
sorry, don?t know the correct word) measurements in R? My dataframe
looks like

fx  fy  fz  iv
1    1   1   56
1    1   2   45
[...]
9    9   3   50
this six times

where fx and fy (9 levels), fz (3 levels) are factors, iv is the
independent variable. However, there are only 123 different factor
combinations for the 3 factors. I?ve got six measurements in the
dataframe for every factor combination. I?ve read that it?s nessecary to
setup the dataframe that all columns contain the value  of iv for a
combination of the three factors at different levels, and each row
reflects the observed responses.
So my dataframe should have 123 columns and 6 rows. It?s very easy to
make a dataframe with 123 colums and 6 rows from the existing data, but
how can I conserve the factor information, so every column specifies a
combination of the three factors and the rows reflect the repeated
observations? Maybe the dataframe should look like

	   fx1-fy1-fz1   fx1-fy1-fz2  .... fx9-fy9-fz3
1. observe	56	      45		50
...

And how do I calculate the anova? Or is there another possibility?

Many thanks,
	Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon May  8 16:18:20 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 May 2000 09:18:20 -0500
Subject: [R] lme for long.data
In-Reply-To: Murali Haran's message of "Sun, 07 May 2000 13:06:57 -0500"
References: <3915B0C1.40E7@stat.umn.edu>
Message-ID: <6ritwpw2fn.fsf@franz.stat.wisc.edu>

Murali Haran <mharan at stat.umn.edu> writes:

> I am attempting to fit a model for longitudinal
> data with the lme function.
> 
> "sim" is a data set with sim$Y as response, sim$time
> as times of each observation, sim$id as patient
> id's.

> I try to do the following :
> simcorExp <-corExp(form=(~time|id),nugget=T)
> simcorExp <- initialize(simcorExp, data=sim)

I think this should be done automatically in a call to lme.

> sim.fit <- lme(fixed = Y~1, data=sim, random =
> ~1|id,correlation=simcorExp)

Try 

 sim.fit <- lme(Y ~ 1, data = sim, random = ~ 1 | id,
     correlation = corExp(~ time | id, nugget = T))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Mon May  8 21:15:16 2000
From: denis at mail.cor.epa.gov (Denis White)
Date: Mon, 8 May 2000 12:15:16 -0700 (PDT)
Subject: [R] pch=15 symbol of size=10 mm
Message-ID: <Pine.SUN.3.91.1000508121148.21050I-100000@okapi.cor.epa.gov>


How do I determine cex in

  points (x, y, pch=15, cex=?)

to get a square whose side length is, say, 10 mm?

thanks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fvang at stud.hum.ku.dk  Mon May  8 21:28:34 2000
From: fvang at stud.hum.ku.dk (Fredrik Vang)
Date: Mon, 8 May 2000 21:28:34 +0200
Subject: Sv: [R] Using C/C++
Message-ID: <007601bfb923$9a733a60$050010ac@Poppy.localdomain>

If you have read the docs, and you still have problems, you may also want to check if you've remembered to include the *.h files with C linkage. Eg.:

#ifdef __cplusplus
extern "C" {
#endif
#include <R.h>
#include <Rinternals.h>
#ifdef __cplusplus
}
#endif

That solved my problems. Good luck!

Fredrik.
    -----Oprindelig meddelelse-----
    Fra: rwurzer at progis.co.at <rwurzer at progis.co.at>
    Til: r-help at hypatia.math.ethz.ch <r-help at hypatia.math.ethz.ch>
    Dato: 8. maj 2000 16:15
    Emne: [R] Using C/C++
    
    
    
    Hi there! 
    I?ve a problem with external c-code using in R. (Win2000 and R 1.0.0 for WinNT/Win2000) 
    My question is: what are the steps to get a c-code-function work in R 
    with .C . 
    Now I have a c code out.c which includes R.h and Rinternals.h! 
    So i think i have to make a .dll file with a compiler but there are some troubles like 
    **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_unprotect 
    **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_protect 
    **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_allocMatrix 
    **out.obj : error LNK2001: Nichtaufgeloestes externes Symbol _Rf_length 
    Thank you for every help! 
    
    Roland Wurzer
    PROGIS
    Postgasse 6
    A-9500 Villach
    Austria
    rwurzer at progis.co.at
    http://www.progis.co.at/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandar_oak at yahoo.com  Tue May  9 01:25:40 2000
From: mandar_oak at yahoo.com (mandar oak)
Date: Mon, 8 May 2000 16:25:40 -0700 (PDT)
Subject: [R] using MANOVA in R
Message-ID: <20000508232540.5286.qmail@web121.yahoomail.com>


Hi All!

I wish to use R for MANOVA analysis. Where could I get
info on that?

__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue May  9 02:12:31 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 09 May 2000 10:12:31 +1000
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
Message-ID: <3.0.6.32.20000509101231.0079e5b0@pophost.anu.edu.au>


Following p.206 of "Statistical Models in S", I wish to change
the code for summary.glm() so that it estimates the dispersion
for binomial & poisson models when the parameter dispersion is
set to zero.  The following changes [insertion of ||dispersion==0
at one point; and !is.null(dispersion) at another] will do the trick:

"summary.glm" <-
function(object, dispersion = NULL,
			correlation = FALSE, ...)
{
    Qr <- .Alias(object$qr)
    est.disp <- FALSE
    df.r <- object$df.residual
    if(is.null(dispersion)||dispersion==0)	# calculate dispersion if needed
	dispersion <-
	    if(any(object$family$family == c("poisson",
"binomial"))&&is.null(dispersion))
		1
	    else if(df.r > 0) {
		est.disp <- TRUE
		if(any(object$weights==0))
		    warning(paste("observations with zero weight",
				  "not used for calculating dispersion"))
		sum(object$weights*object$residuals^2)/ df.r
	    } else Inf
    ## calculate scaled and unscaled covariance matrix
......

Here is an example:

> counts <- c(18,17,15,20,10,20,25,13,12)
> outcome <- gl(3,1,9)
> treatment <- gl(3,3)
> print(d.AD <- data.frame(treatment, outcome, counts))
> glm.D93 <- glm(counts ~ outcome + treatment, family=poisson())
> anova(glm.D93)
> summary(glm.D93,dispersion=0)  #current code
......
Coefficients:
              Estimate Std. Error z value Pr(>|z|)
(Intercept)  3.045e+00  0.000e+00     Inf   <2e-16
outcome2    -4.543e-01  0.000e+00    -Inf   <2e-16
outcome3    -2.930e-01  0.000e+00    -Inf   <2e-16
treatment2   1.924e-08  0.000e+00     Inf   <2e-16
treatment3   8.383e-09  0.000e+00     Inf   <2e-16

(Dispersion parameter for poisson family taken to be 0)

    Null deviance: 10.5814  on 8  degrees of freedom
Residual deviance:  5.1291  on 4  degrees of freedom
AIC: 56.761

Number of Fisher Scoring iterations: 3

Warning message: 
NAs introduced by coercion 

> summary(glm.D93,dispersion=0)  # with above change
.......
Coefficients:
              Estimate Std. Error  t value Pr(>|t|)
(Intercept)  3.045e+00  1.943e-01   15.667  9.7e-05
outcome2    -4.543e-01  2.299e-01   -1.976    0.119
outcome3    -2.930e-01  2.192e-01   -1.337    0.252
treatment2   1.924e-08  2.274e-01 8.46e-08    1.000
treatment3   8.383e-09  2.274e-01 3.69e-08    1.000

(Dispersion parameter for poisson family taken to be 1.293029)

    Null deviance: 10.5814  on 8  degrees of freedom
Residual deviance:  5.1291  on 4  degrees of freedom
AIC: 56.761

Number of Fisher Scoring iterations: 3


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue May  9 06:46:00 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 09 May 2000 14:46:00 +1000
Subject: [R] A Regression that will use R for the Computations
Message-ID: <3.0.6.32.20000509144600.007ad3b0@pophost.anu.edu.au>

In view of the recent discussion on R documentation and R 
literature for use in teaching, it may be useful to draw 
attention to a project (at this stage jointly between myself 
and John Braun) that is at the planning stage.  (John Braun, 
currently at the University of Winnipeg, is moving shortly to 
the University of Western Ontario.)

This will be a monograph on regression methods that will use
R for the computation.  It will be example-based and oriented 
towards research students and research workers, i.e. people 
such as come to the Statistical Consulting Unit (SCU) short 
courses that I and others run from time to time here at 
Australian National University.  (For a current list, see 
http://www.anu.edu.au/graduate/scu/courses2000.html)

Much of the content for the initial draft already
exists, in the form of:
(1) Various sets of notes that I have developed for SCU courses;
(2) The document "Data Analysis and Graphics Using R -
An Introduction", that I have posted on the web
(http://wwwmaths.anu.edu.au/~johnm/r/r4dat-gr.html)

We would consider co-operation with anyone interested in
translation into another language, and/or who can bring to the
project skills or application area experience different from
that of John and myself.  This is not a commitment, simply an
indication of willingness to examine such possibilities.

I have posted further details of what is in mind at
http://wwwmaths.anu.edu.au/r/outline.html

John Maindonald.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue May  9 07:14:04 2000
From: pauljohn at ukans.edu (Paul E. Johnson)
Date: Tue, 09 May 2000 00:14:04 -0500
Subject: R GUI ( was Re: [R] R Documentation(s)
References: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no> <x2n1m7960w.fsf@blueberry.kubism.ku.dk>
Message-ID: <39179E9C.65E6361D@ukans.edu>

Peter Dalgaard BSA wrote:
> 
> Actually, I think there are valid reasons for people to want GUI
> interfaces to statistics. One argument that I hear frequently is that
> nonstatisticians tend to do other things than analyse data for
> extended periods of time, and it becomes difficult to remember the
> formalities from one time to the next. So they get scared of the
> prospect of staring empty-minded at the R prompt. 
> 
> As long as you can turn the GUI *off* and use R as usual, I see no
> reason not to have some form of GUI. 

I used SAS to produce some reports that I couldn't make R generate. 
Perhaps R can, I couldn't see how.  The reports from SAS PROC TABULATE
summarize about 100 variables, showing the means & other summaries for
subgroups to allow a side-by side comparison.  I had not used SAS for
several editions, but in edition 8 they have a thing called "Analyst"
where you can point and click on various anaysis/graph types and it
generates a code template, which you can then grab, copy, edit, etc. 
The SAS manuals are, well, almost impossible to understand.  Take a look
at the writup on PROC TABULATE if you don't know what I mean.  But with
analyst, they had a few templates for tables, and I could get the code
for them, and get what I wanted after that.

That kind of thing is very useful because the "infrequent user" often
will not know that a function exists to do something, but he can take a
code example and put it to use.  I don't have many good things to say
about SPSS, but they do have the (seldom used) feature that can generate
code for every gui step you take and a facility to edit and run these
"scripts".  

One of the most intimidating things about R is the seeming endlessness
of it.  I've fiddled with it since version 0.64 or so, and I've
contributed RPMs for the hdf5 data format in R, so I'm not completely
dead weight (just mostly so).  But after all this time I don't quite
have a mental image of its capabilities and boundaries.  A GUI helps
people to see what can be done and how it might fit together.

It has helped me a great deal that some of the kind people in this list
post R sample programs that they use with their classes. I find I learn
an awful lot by trying to make them work.  In the short term, a list of
these pedagogical resources will do a lot more good than anything else.

-- 
Paul E. Johnson        			email: pauljohn at ukans.edu
Dept. of Political Science     		http://lark.cc.ukans.edu/~pauljohn
University of Kansas           		Office: (785) 864-9086
Lawrence, Kansas 66045         		FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 07:29:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 06:29:10 +0100 (BST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
In-Reply-To: <3.0.6.32.20000509101231.0079e5b0@pophost.anu.edu.au>
Message-ID: <Pine.GSO.4.05.10005090614270.14220-100000@auk.stats>

On Tue, 9 May 2000, John Maindonald wrote:

> Following p.206 of "Statistical Models in S", I wish to change
> the code for summary.glm() so that it estimates the dispersion
> for binomial & poisson models when the parameter dispersion is
> set to zero.  The following changes [insertion of ||dispersion==0
> at one point; and !is.null(dispersion) at another] will do the trick:

I know S does that, but R is not documented to do so (so your example does
works as documented).  I think this is at best confusing. Once phi is
estimated, they are quasi-likelihood models not binomial nor Poisson and in
particular have no likelihood, so e.g. drop1 becomes inappropriate.  And it
is all too easy to have different treatments of dispersion in different
ancilliary functions (as S managed for many years).

My preference is to treat such models as quasi models.  If enough people
really want them as `binomial' or `poisson' then we need to make much wider
changes to ensure consistency (and incompitibility with S).

There are quite a lot of things in R's glm that are not the same as S's.

> 
> "summary.glm" <-
> function(object, dispersion = NULL,
> 			correlation = FALSE, ...)
> {
>     Qr <- .Alias(object$qr)
>     est.disp <- FALSE
>     df.r <- object$df.residual
>     if(is.null(dispersion)||dispersion==0)	# calculate dispersion if needed
> 	dispersion <-
> 	    if(any(object$family$family == c("poisson",
> "binomial"))&&is.null(dispersion))
> 		1
> 	    else if(df.r > 0) {
> 		est.disp <- TRUE
> 		if(any(object$weights==0))
> 		    warning(paste("observations with zero weight",
> 				  "not used for calculating dispersion"))
> 		sum(object$weights*object$residuals^2)/ df.r
> 	    } else Inf
>     ## calculate scaled and unscaled covariance matrix
> ......
> 
> Here is an example:
> 
> > counts <- c(18,17,15,20,10,20,25,13,12)
> > outcome <- gl(3,1,9)
> > treatment <- gl(3,3)
> > print(d.AD <- data.frame(treatment, outcome, counts))
> > glm.D93 <- glm(counts ~ outcome + treatment, family=poisson())
> > anova(glm.D93)
> > summary(glm.D93,dispersion=0)  #current code
> ......
> Coefficients:
>               Estimate Std. Error z value Pr(>|z|)
> (Intercept)  3.045e+00  0.000e+00     Inf   <2e-16
> outcome2    -4.543e-01  0.000e+00    -Inf   <2e-16
> outcome3    -2.930e-01  0.000e+00    -Inf   <2e-16
> treatment2   1.924e-08  0.000e+00     Inf   <2e-16
> treatment3   8.383e-09  0.000e+00     Inf   <2e-16
> 
> (Dispersion parameter for poisson family taken to be 0)
> 
>     Null deviance: 10.5814  on 8  degrees of freedom
> Residual deviance:  5.1291  on 4  degrees of freedom
> AIC: 56.761
> 
> Number of Fisher Scoring iterations: 3
> 
> Warning message: 
> NAs introduced by coercion 
> 
> > summary(glm.D93,dispersion=0)  # with above change
> .......
> Coefficients:
>               Estimate Std. Error  t value Pr(>|t|)
> (Intercept)  3.045e+00  1.943e-01   15.667  9.7e-05
> outcome2    -4.543e-01  2.299e-01   -1.976    0.119
> outcome3    -2.930e-01  2.192e-01   -1.337    0.252
> treatment2   1.924e-08  2.274e-01 8.46e-08    1.000
> treatment3   8.383e-09  2.274e-01 3.69e-08    1.000
> 
> (Dispersion parameter for poisson family taken to be 1.293029)
> 
>     Null deviance: 10.5814  on 8  degrees of freedom
> Residual deviance:  5.1291  on 4  degrees of freedom
> AIC: 56.761
> 
> Number of Fisher Scoring iterations: 3
> 
> 
> John Maindonald               email : john.maindonald at anu.edu.au        
> Statistical Consulting Unit,  phone : (6249)3998        
> c/o CMA, SMS,                 fax   : (6249)5549  
> John Dedman Mathematical Sciences Building
> Australian National University
> Canberra ACT 0200
> Australia
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue May  9 07:31:24 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 9 May 2000 15:31:24 +1000 (EST)
Subject: [R] A Regression Monograph Using R
Message-ID: <200005090531.PAA10904@leonard.anu.edu.au>

Aplogiies, folks.  I left out a crucial part of two of the
web addresses. They are:

http://wwwmaths.anu.edu.au/~johnm/r/r4dat-gr.pdf
[pdf, not html]

http://wwwmaths.anu.edu.au/~johnm/r/outline.html
[I missed out the ~johnm]

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue May  9 07:46:02 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 9 May 2000 15:46:02 +1000 (EST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
Message-ID: <200005090546.PAA11443@leonard.anu.edu.au>

> From ripley at stats.ox.ac.uk  Tue May  9 15:30:33 2000
> Date: Tue, 9 May 2000 06:29:10 +0100 (BST)

> > Following p.206 of "Statistical Models in S", I wish to change
> > the code for summary.glm() so that it estimates the dispersion
> > for binomial & poisson models when the parameter dispersion is
> > set to zero.  The following changes [insertion of ||dispersion==0
> > at one point; and !is.null(dispersion) at another] will do the trick:
> 
> I know S does that, but R is not documented to do so (so your example does
> works as documented).  I think this is at best confusing. Once phi is
> estimated, they are quasi-likelihood models not binomial nor Poisson and in
> particular have no likelihood, so e.g. drop1 becomes inappropriate.  And it
> is all too easy to have different treatments of dispersion in different
> ancilliary functions (as S managed for many years).

That is why I did not submit a bug report.  The problem is that in
many application areas phi is much greater than one.

> My preference is to treat such models as quasi models.  If enough
> people really want them as `binomial' or `poisson' then we need to
> make much wider changes to ensure consistency (and incompitibility
> with S).

I agree with the sentiments.  So would it be feasible to have
quasi-poisson and quasi-binomial errors?  Would an immediate recourse
be to create functions summary.quasi and predict.quasi?  Or perhaps
summary.phi, etc.



John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 07:46:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 06:46:52 +0100 (BST)
Subject: (GUIs, was R GUI ( was Re: [R] R Documentation(s)))
In-Reply-To: <39179E9C.65E6361D@ukans.edu>
Message-ID: <Pine.GSO.4.05.10005090631310.14220-100000@auk.stats>

I've changed the subject line: this is not about the R GUI as presently
exists (on Windows and GNOME).

On Tue, 9 May 2000, Paul E. Johnson wrote:

> Peter Dalgaard BSA wrote:
> > 
> > Actually, I think there are valid reasons for people to want GUI
> > interfaces to statistics. One argument that I hear frequently is that
> > nonstatisticians tend to do other things than analyse data for
> > extended periods of time, and it becomes difficult to remember the
> > formalities from one time to the next. So they get scared of the
> > prospect of staring empty-minded at the R prompt. 
> > 
> > As long as you can turn the GUI *off* and use R as usual, I see no
> > reason not to have some form of GUI. 
> 
> I used SAS to produce some reports that I couldn't make R generate. 
> Perhaps R can, I couldn't see how.  The reports from SAS PROC TABULATE
> summarize about 100 variables, showing the means & other summaries for
> subgroups to allow a side-by side comparison.  I had not used SAS for
> several editions, but in edition 8 they have a thing called "Analyst"
> where you can point and click on various anaysis/graph types and it
> generates a code template, which you can then grab, copy, edit, etc. 
> The SAS manuals are, well, almost impossible to understand.  Take a look
> at the writup on PROC TABULATE if you don't know what I mean.  But with
> analyst, they had a few templates for tables, and I could get the code
> for them, and get what I wanted after that.
> 
> That kind of thing is very useful because the "infrequent user" often
> will not know that a function exists to do something, but he can take a
> code example and put it to use.  I don't have many good things to say
> about SPSS, but they do have the (seldom used) feature that can generate
> code for every gui step you take and a facility to edit and run these
> "scripts".  

Um.  In all the statistical GUIs I have used (including those two and
S_PLUS) the menu/dialogs interface shows you only a part of what can be
done. (Actually, I think in SPSS for Windows it is all that can be done,
but SPSS itself can do more.)  So my experience is the other way round: I
know it can be done, but I can't find out how from the GUI and as GUIs are
supposed to me self-explanatory, no other documentation is to hand.

> One of the most intimidating things about R is the seeming endlessness
> of it.  I've fiddled with it since version 0.64 or so, and I've
> contributed RPMs for the hdf5 data format in R, so I'm not completely
> dead weight (just mostly so).  But after all this time I don't quite
> have a mental image of its capabilities and boundaries.  A GUI helps
> people to see what can be done and how it might fit together.

Only in things a lot less powerful than R.

> It has helped me a great deal that some of the kind people in this list
> post R sample programs that they use with their classes. I find I learn
> an awful lot by trying to make them work.  In the short term, a list of
> these pedagogical resources will do a lot more good than anything else.

I think you are overlooking (the quite explicit statement) that R's
capabilities are more or less equal to those of S, and there are extensive
accounts of S's view of the world (not least books by Bill Venables & I!).
In short, you are ignoring the main pedagogical resources, things called
books.

Remember that there is product `not unlike R' that does have an extensive
menu/dialogs front-end, so the pros and cons of GUI to S are not
unexplored.  And I am in favour of one for R, but I do not give it high
priority.  (It really would be man-months of work.)  We would need to sort
out a cross-platform GUI interface design and have that running first or
one ends up with a Windows-only GUI (as happened with all the examples
above).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 07:57:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 06:57:28 +0100 (BST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
In-Reply-To: <200005090546.PAA11443@leonard.anu.edu.au>
Message-ID: <Pine.GSO.4.05.10005090647510.14220-100000@auk.stats>

On Tue, 9 May 2000, John Maindonald wrote:

> > From ripley at stats.ox.ac.uk  Tue May  9 15:30:33 2000
> > Date: Tue, 9 May 2000 06:29:10 +0100 (BST)
> 
> > > Following p.206 of "Statistical Models in S", I wish to change
> > > the code for summary.glm() so that it estimates the dispersion
> > > for binomial & poisson models when the parameter dispersion is
> > > set to zero.  The following changes [insertion of ||dispersion==0
> > > at one point; and !is.null(dispersion) at another] will do the trick:
> > 
> > I know S does that, but R is not documented to do so (so your example does
> > works as documented).  I think this is at best confusing. Once phi is
> > estimated, they are quasi-likelihood models not binomial nor Poisson and in
> > particular have no likelihood, so e.g. drop1 becomes inappropriate.  And it
> > is all too easy to have different treatments of dispersion in different
> > ancilliary functions (as S managed for many years).
> 
> That is why I did not submit a bug report.  The problem is that in
> many application areas phi is much greater than one.
> 
> > My preference is to treat such models as quasi models.  If enough
> > people really want them as `binomial' or `poisson' then we need to
> > make much wider changes to ensure consistency (and incompitibility
> > with S).
> 
> I agree with the sentiments.  So would it be feasible to have
> quasi-poisson and quasi-binomial errors?  Would an immediate recourse
> be to create functions summary.quasi and predict.quasi?  Or perhaps
> summary.phi, etc.

All you need is a function to estimate dispersion as you want
(and there are other ways for gammas, e.g. in the MASS library).
So you call, e.g.

summary(object, dispersion=chisquare.dispersion(object))

but a simpler interface is desirable, and yes, quasibinomial and
quasipoisson look an excellent idea.

Because I was aware of the (in)consistency issues I am looking into this.
Expect something along these lines for 1.1.x.

(BTW, now is a good time to raise such design issues. As you will see from
http://developer.r-project.org 1.1 is about a month off, and our plans are
for 1.1.1 to be the version for teaching in academic year 2000/1 in Europe
and N. America.)

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 08:01:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 07:01:32 +0100 (BST)
Subject: [R] using MANOVA in R
In-Reply-To: <20000508232540.5286.qmail@web121.yahoomail.com>
Message-ID: <Pine.GSO.4.05.10005090658070.14220-100000@auk.stats>

On Mon, 8 May 2000, mandar oak wrote:

> I wish to use R for MANOVA analysis. Where could I get
> info on that?

Depends exactly what you mean by MANOVA.  Try ?aov which handles multiple
responses.  However, the MANOVA multivariate tests (Pillai, Wilks lambda
...) are not implemented in base R.  We would welcome submission of code
for those, of course.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  9 08:58:04 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2000 08:58:04 +0200
Subject: [R] using MANOVA in R
In-Reply-To: Prof Brian D Ripley's message of "Tue, 9 May 2000 07:01:32 +0100 (BST)"
References: <Pine.GSO.4.05.10005090658070.14220-100000@auk.stats>
Message-ID: <x2d7mwi51f.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Mon, 8 May 2000, mandar oak wrote:
> 
> > I wish to use R for MANOVA analysis. Where could I get
> > info on that?
> 
> Depends exactly what you mean by MANOVA.  Try ?aov which handles multiple
> responses.  However, the MANOVA multivariate tests (Pillai, Wilks lambda
> ...) are not implemented in base R.  We would welcome submission of code
> for those, of course.

At lest some of that sits in contributed packages "multilm" and
"norm". (Both of those are on my list of "things to try when I get the
time"... I believe multilm more or less *is* MANOVA, whereas norm
handles estimation in the presence of missing values. One interesting
question is whether you can do MANOVA with missings by combining the
two.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 09:02:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 08:02:26 +0100 (BST)
Subject: [R] using MANOVA in R
In-Reply-To: <x2d7mwi51f.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10005090756450.14403-100000@auk.stats>

On 9 May 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > On Mon, 8 May 2000, mandar oak wrote:
> > 
> > > I wish to use R for MANOVA analysis. Where could I get
> > > info on that?
> > 
> > Depends exactly what you mean by MANOVA.  Try ?aov which handles multiple
> > responses.  However, the MANOVA multivariate tests (Pillai, Wilks lambda
> > ...) are not implemented in base R.  We would welcome submission of code
> > for those, of course.
> 
> At lest some of that sits in contributed packages "multilm" and
> "norm". (Both of those are on my list of "things to try when I get the
> time"... I believe multilm more or less *is* MANOVA, whereas norm
> handles estimation in the presence of missing values. One interesting
> question is whether you can do MANOVA with missings by combining the
> two.)

Not really any of it!  multilm fits multivariate linear models and does
Hotelling T^2 tests. It does not group terms for AOV, and I think is only
applicable for continuous variates (not factor explantory variables).
Certainly the help and examples only discuss that case.

norm is about multivariate normal data, no regressors, AFAIK.  Various
people have pointed out the dangers of that: how often is iid on a 
multivriate normal population appropriate?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  9 10:16:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2000 10:16:45 +0200
Subject: [R] using MANOVA in R
In-Reply-To: Prof Brian D Ripley's message of "Tue, 9 May 2000 08:02:26 +0100 (BST)"
References: <Pine.GSO.4.05.10005090756450.14403-100000@auk.stats>
Message-ID: <x2og6g87f6.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Not really any of it!  multilm fits multivariate linear models and does
> Hotelling T^2 tests. It does not group terms for AOV, and I think is only
> applicable for continuous variates (not factor explantory variables).
> Certainly the help and examples only discuss that case.

Had a closer look. The factor expl.var. would seem to be there
case-wise, so you can build the models, but Wilk's Lambda and friends
are absent, so you cannot (easily) do multi-df model reduction tests.
However, it's no too far off. Is the author planning to develop it
further?

> norm is about multivariate normal data, no regressors, AFAIK.  Various
> people have pointed out the dangers of that: how often is iid on a 
> multivriate normal population appropriate?

Not often, but sometimes things fall apart into several homogeneous
groups and then it can be used as a building block. I've used
something like this for an RCT a while back back.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Tue May  9 10:29:04 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Tue, 9 May 2000 10:29:04 +0200 (CEST)
Subject: [R] using MANOVA in R
In-Reply-To: <x2og6g87f6.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005091020510.751-100000@boromir.ci.tuwien.ac.at>

On 9 May 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > Not really any of it!  multilm fits multivariate linear models and does
> > Hotelling T^2 tests. It does not group terms for AOV, and I think is only
> > applicable for continuous variates (not factor explantory variables).
> > Certainly the help and examples only discuss that case.
> 
> Had a closer look. The factor expl.var. would seem to be there
> case-wise, so you can build the models, but Wilk's Lambda and friends
> are absent, so you cannot (easily) do multi-df model reduction tests.
> However, it's no too far off. Is the author planning to develop it
> further?

Now it is my turn, I think :-)

1) "multilm" is on my list, but there are some theoretical problems
(e.g. is the use of Moore-Penrose numerically appropriate ?) Any help by
other distributors would be very welcome!

2) "multilm" was written for the use of the stabilized multivariate tests
by Laeuter and Kropf, T^2 is only a by-product. Therefore the
documentation is heavily biased on this. 

3) I do think that one can take factors as design variables (there is an
Iris example, I think). 

4) I just had my third move this year (this time to Erlangen, Bavaria), so
time is a problem too :-)

Torsten


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 10:39:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 May 2000 09:39:14 +0100 (BST)
Subject: [R] using MANOVA in R
In-Reply-To: <Pine.LNX.4.21.0005091020510.751-100000@boromir.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.05.10005090931490.18940-100000@auk.stats>

On Tue, 9 May 2000, Torsten Hothorn wrote:

> On 9 May 2000, Peter Dalgaard BSA wrote:
> 
> > Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> > 
> > > Not really any of it!  multilm fits multivariate linear models and does
> > > Hotelling T^2 tests. It does not group terms for AOV, and I think is only
> > > applicable for continuous variates (not factor explantory variables).
> > > Certainly the help and examples only discuss that case.
> > 
> > Had a closer look. The factor expl.var. would seem to be there
> > case-wise, so you can build the models, but Wilk's Lambda and friends
> > are absent, so you cannot (easily) do multi-df model reduction tests.
> > However, it's no too far off. Is the author planning to develop it
> > further?
> 
> Now it is my turn, I think :-)
> 
> 1) "multilm" is on my list, but there are some theoretical problems
> (e.g. is the use of Moore-Penrose numerically appropriate ?) Any help by
> other distributors would be very welcome!
> 
> 2) "multilm" was written for the use of the stabilized multivariate tests
> by Laeuter and Kropf, T^2 is only a by-product. Therefore the
> documentation is heavily biased on this. 
> 
> 3) I do think that one can take factors as design variables (there is an
> Iris example, I think). 

One can fit the model, but as the Iris example shows, it assumes three
continuous vars, NOT one factor in a model formula, and so the information
given is not appropriate for a manova as I understand that term.
Manova includes a series of tests of submodels.

Here's an S example of manova:

       wafer.manova <- manova(cbind(pre.mean, post.mean) ~ maskdim +
          visc.tem + spinsp, wafer)

       summary(wafer.manova) # manova table with Pillai's trace

          Df Pillai Trace approx. F num df    den df    P-value 
  maskdim 1  0.42662      4.09229   2         11        0.04693
 visc.tem 2  0.5809       2.45605   4         24        0.07305
   spinsp 2  0.47904      1.88978   4         24        0.14495
Residuals 12                                                   

so factors in the model are grouped and several submodels have been
fitted.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May  9 11:09:24 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 09 May 2000 21:09:24 +1200
Subject: [R] Interaction Plots in R
Message-ID: <3917D5C3.457A8936@xtra.co.nz>

Is there a function to do interaction plots in R?
I know in Splus I can simply use interaction.plot()

Thanks.

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.J.Lucy at Bradford.ac.uk  Tue May  9 11:25:24 2000
From: D.J.Lucy at Bradford.ac.uk (Dave Lucy)
Date: Tue, 9 May 2000 10:25:24 +0100 (BST)
Subject: [R] Re: GUIs
In-Reply-To: <Pine.GSO.4.05.10005090631310.14220-100000@auk.stats>
Message-ID: <Pine.GSO.3.96.1000509100940.1973B-100000@kite.cen.brad.ac.uk>


> > > formalities from one time to the next. So they get scared of the
> > > prospect of staring empty-minded at the R prompt. 

> Remember that there is product `not unlike R' that does have an extensive
> menu/dialogs front-end, so the pros and cons of GUI to S are not
> unexplored.  And I am in favour of one for R, but I do not give it high
> priority.  (It really would be man-months of work.)  We would need to sort
> out a cross-platform GUI interface design and have that running first or
> one ends up with a Windows-only GUI (as happened with all the examples
> above).

Personally I'm against GUI's - particularly for teaching, but can
appreciate why people who are occasional users may wish to have one. I
think that what we are really describing here is an assisted batch type
processing, where one gets menu items more as a reminder as to what sort
of things are availible for each task.

One of the easiest interfaces I have seen was the old DOS SPSS (V4 I
think) which had menus which when an item was selected would produce a
dialogue for the function allowing the user to enter parameters. Upon
closure the dialogue would shut pasting the appropriate command line into
the scratch-pad. The scratch-pad would then act as a batch file. This led
to an easy uptake of batch file composition. As I remember there was also
an object listing from which objects could be selected as function
dialogue items.

Any thoughts,

David.



********************************************************************
Dr. David Lucy
Department of Archaeological Sciences
University of Bradford
Bradford
West Yorkshire
BD7 1DP
UK

tel. +44 01274 233556
fax. +44 01274 235190
********************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May  9 11:45:18 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 09 May 2000 21:45:18 +1200
Subject: [R] R Documentation(s) -- Summary
References: <3.0.32.20000506210850.00913b30@162.38.183.200>
Message-ID: <3917DE2D.CFDF06D4@xtra.co.nz>



Emmanuel Paradis wrote:

> Dear all,
>
> Many thanks to all who replied to my message. Here follows a summary of the
> most important points to me.
>
> 1. There seems to be a general agreement on a need for docs for
> non-statisticians with respect to two points: (i) explaining how to get
> first in R for those who are not used with command-lines, object-oriented
> languages, loops, ... and (ii) illustrating to the various specialists how
> they could use R to do the analyses or tests which are common practice in
> their field.
>
> 2. There is a need to translate docs (and this has already started in
> Japanese). This could concern only the non-technical materials, as
> statisticians, mathematicians ... generally read English.
>
> It appears that significant materials probably already exist in various
> files, folders, ... around the world, so trying to fill the above needs may
> be carried out by putting together efforts that have already been done.
>
> Here are my (vague) suggestions on the objectives relative to the above needs.
>
> 1.i. Writing a simple and short tutorial on how to do basic things in R
> (read data, plots, graphs...); also emphasize on the advantages of R
> compared to softwares with pull-down menus.
>

As an undergraduate student who has only been using R for 2 years, I feel that I am
quite suitable to comment on this proporsal.
By now I consider myself an intermediate R user, and even so I sometimes still
forget some basic things in R.  However, almost all of the time I can find what I
want by using the R Documentation Manuals (by typing ?function_name).  I actually
think the R help file has already contained quite enough [basic] information for
beginners, it even explains each argument in a function.

Therefore, I personally think the R Manual (or what I call the R API) is sufficient
enough.  If, for example, a newbie wants to find how to use the plot() in R, he/she
can simply type
> ?plot
then there are lots of help and hints there!  The next step he/she should do is go
through each example line by line, to see what each line does.  Then perhaps creat
his/her own example, say:
> x <- 1:10
> plot( x )
> plot( x, main = "Test", xlab = "Index", ylab = "foo" )
.
.
.
To me, when I was a newbie, I found this is the best technique.

>
> 1.ii. This could take 2 forms (but not mutually exclusive). First, write
> tutorials explaining how to do the usual stats in a given field, this could
> be appended to the above doc with chapters like "R for biologists", "R for
> psychologists", ... Second, write packages similar to Doug Bates' Devore5,
> but referring to the handbooks that are popular in other fields (for
> instance, Sokal & Rohlf's "Biometry" is very popular among my colleagues).

In fact, I've got bits and bits examples and tutorials on "R for Mathematicians",
"R for Econometricians" and "R for Statisticians".
However some of them are quite short (approx 5 pages) and I don't think they are
worth contributed at this stage.  I may add a bit more things to it.

By the way, does anyone know if there is a "R for Computer Scientists" tutorial or
documentation around?

>
>
> 2. Probably what is proposed above would be worth translating... but it
> still needs to be written (... in any language). The "Introduction to R" at
> least already exists, but (looking at it closely right now...) it is quite
> a dense document and I have no idea on the time required to translate it
> (it depends on the language it is translated in I suppose). On the other
> hand, if it has already been translated in Japanese then it could be worth
> doing it with other languages.

In fact, I have volunteered to translate "An Introduction to R" into Chinese
Traditional.  However, I'm a bit disappointed that nobody have replied to me that
they are willing to help me.  I am very sure there are lots of Chinese users out
there, do they/you think a Chinese translation is not needed?

>
>
> There is a (probably less urgent) need for advanced users on how to write
> new R functions, more advanced R features... Brian Ripley mentioned that an
> R Language Manual is planned, and the last book by Venables & Ripley treats
> R as one of three dialects of the S language.
>
> Again, these are simply suggestions, and I would be glad to discuss them. I
> am, of course, volunteer to contribute to docs and others mentioned they
> are as well. No doubt there will be enough enthusiasm among R users to
> carry out the task.
>
> Finally, many thanks to Friedrich Leisch for his proposal to create a
> ``contributed documentation'' section on CRAN.
>
> Best wishes to all,
>
> Emmanuel Paradis
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Tue May  9 12:48:48 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Tue, 09 May 2000 05:48:48 -0500
Subject: [R] Work with sgeostat library!
Message-ID: <3917ED10.1841DB9C@epm.net.co>

Hello, everybody:
I will like to know if anybody else is working with the
sgeostat library and where can I find some other
fuctions to fit more variogram models (like a kernel one).

Thank you very much for you help

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medellin




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 12:47:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 May 2000 11:47:58 +0100 (BST)
Subject: [R] Re: GUIs
Message-ID: <200005091047.LAA26028@toucan.stats.ox.ac.uk>


> Date: Tue, 9 May 2000 10:25:24 +0100 (BST)
> From: Dave Lucy <D.J.Lucy at Bradford.ac.uk>
> To: r-help <r-help at stat.math.ethz.ch>
> Subject: [R] Re: GUIs
> 
> 
> > > > formalities from one time to the next. So they get scared of the
> > > > prospect of staring empty-minded at the R prompt. 
> 
> > Remember that there is product `not unlike R' that does have an extensive
> > menu/dialogs front-end, so the pros and cons of GUI to S are not
> > unexplored.  And I am in favour of one for R, but I do not give it high
> > priority.  (It really would be man-months of work.)  We would need to sort
> > out a cross-platform GUI interface design and have that running first or
> > one ends up with a Windows-only GUI (as happened with all the examples
> > above).
> 
> Personally I'm against GUI's - particularly for teaching, but can
> appreciate why people who are occasional users may wish to have one. I
> think that what we are really describing here is an assisted batch type
> processing, where one gets menu items more as a reminder as to what sort
> of things are availible for each task.
> 
> One of the easiest interfaces I have seen was the old DOS SPSS (V4 I
> think) which had menus which when an item was selected would produce a
> dialogue for the function allowing the user to enter parameters. Upon
> closure the dialogue would shut pasting the appropriate command line into
> the scratch-pad. The scratch-pad would then act as a batch file. This led
> to an easy uptake of batch file composition. As I remember there was also
> an object listing from which objects could be selected as function
> dialogue items.
> 
> Any thoughts,

That's exactly what I am working on for Rgui for 1.1.0, as a demo
of how to use the menu/dialog system.  A completed menu item submits
a command that appears in the console and gets saved in the session log
(which can be saved in a separate file).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Tue May  9 15:02:47 2000
From: pflugshaupt at cirsium.ethz.ch (Red Hat Linux User)
Date: Tue, 09 May 2000 15:02:47 +0200
Subject: [R] Interaction Plots in R
References: <3917D5C3.457A8936@xtra.co.nz>
Message-ID: <39180C77.302E25E9@cirsium.ethz.ch>

Ko-Kang Wang wrote:

> Is there a function to do interaction plots in R?
> I know in Splus I can simply use interaction.plot()
>
> Thanks.

I don't think there's such a function, so I wrote one some time ago. It takes two
factors f1, f2 and a response variable data. I wanted to add error bars but dropped
that due to lack of time. If you're interested in that, I can send you what I prepared
(mainly a function to plot error bars).

Here's the code; use it at your own risk :-)

Kaspar

BTW, due to the infamous "xaxt" bug in par, the axis will not be labelled correctly in
R 1.0.0. Version 1.0.0.1 corrects it, just upgrade if you still use 1.0.0.


int.plot <- function (f1, f2, data, main = "Interaction Plot", xlab =
deparse(substitute(f2)),
    ylab = deparse(substitute(f1)), ...)
{
    cellmeans <- tapply(data, list(f1, f2), mean)
    if (any(is.na(cellmeans)))
        stop("Incomplete combinations of factors!")
    xr <- c(1, nlevels(f2))
    yr <- range(cellmeans)
    o.par <- par(xaxt = "n")
    on.exit(par(o.par))
    plot(0, 0, type = "n", xlim = xr, ylim = yr, main = main,
        xlab = xlab, ylab = ylab)
    apply(cellmeans, MARGIN = 1, function(x) {
        lines(x)
        invisible()
    })
    text(xr[2], cellmeans[, ncol(cellmeans)], rownames(cellmeans),
        pos = 4)
    invisible(list(cellmeans = cellmeans))
}


--
Kaspar Pflugshaupt
Geobotanisches Institut ETH Zurich
mailto: pflugshaupt at geobot.umnw.ethz.ch


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000509/4a1eb501/attachment.html

From p.ribeiro at lancaster.ac.uk  Tue May  9 13:39:07 2000
From: p.ribeiro at lancaster.ac.uk (Paulo J. Ribeiro Jr)
Date: Tue, 9 May 2000 12:39:07 +0100 (BST)
Subject: [R] Work with sgeostat library!
In-Reply-To: <3917ED10.1841DB9C@epm.net.co>
Message-ID: <Pine.GSO.4.21.0005091232190.29918-100000@unixc.lancs.ac.uk>

Dear Kenneth

I'm working on a geostatistics package which should be a complement to
"sgeostats" and "spatial".

I'm calling this "geoR" (and "geoS") and there are some methods
implemented which are usually not avaiable in most of geostatistical
software: ML and REML, profile likelihood plots and Bayesian inference.
Some other standard procedures like OK, KTE etc are also implemented.
The Kernel variogram estimation is available as well as many covariance
models apart from the 3 conventional ones.

This is pretty much working in progress, I'm just starting writing the
documentation but is already available at:
www.maths.lancs.ac.uk/~ribeiro/geoS.html

Hopefully, soon I'll be submiting it to CRAN

Comments/suggestions will be very much appreciated.

Cheers
P.J.

On Tue, 9 May 2000, Kenneth Cabrera wrote:

> Hello, everybody:
> I will like to know if anybody else is working with the
> sgeostat library and where can I find some other
> fuctions to fit more variogram models (like a kernel one).
> 
> Thank you very much for you help
> 
> Kenneth Cabrera
> Universidad Nacional de Colombia
> Sede Medellin
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue May  9 14:18:20 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 09 May 2000 22:18:20 +1000
Subject: [R] pch=15 symbol of size=10 mm
References: <Pine.SUN.3.91.1000508121148.21050I-100000@okapi.cor.epa.gov>
Message-ID: <3918020B.288E3FEC@ozemail.com.au>

Denis White wrote:

> How do I determine cex in
>
>   points (x, y, pch=15, cex=?)
>
> to get a square whose side length is, say, 10 mm?
>
> thanks

The easy way would be:

points(6,3,pch=15,cex=10/(par("cin")[1]*25.4))

That is, divide your desired width by the current width in inches multiplied by
25.4,

but this won't _really_ give you a 10 mm square.  The hardcopy output you get
depends upon the size of the image you generate (e.g. the "bounding box" in
Postscript).  However, you could fudge it if you always use the same size
output...

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  9 14:33:19 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2000 14:33:19 +0200
Subject: R GUI ( was Re: [R] R Documentation(s)
In-Reply-To: "Paul E. Johnson"'s message of "Tue, 09 May 2000 00:14:04 -0500"
References: <Pine.OSF.4.05.10005031324280.8761-100000@peacock.uio.no> <x2n1m7960w.fsf@blueberry.kubism.ku.dk> <39179E9C.65E6361D@ukans.edu>
Message-ID: <x2itwn9a40.fsf@blueberry.kubism.ku.dk>

"Paul E. Johnson" <pauljohn at ukans.edu> writes:

> Peter Dalgaard BSA wrote:
> > 
> > Actually, I think there are valid reasons for people to want GUI
> > interfaces to statistics. One argument that I hear frequently is that
> > nonstatisticians tend to do other things than analyse data for
> > extended periods of time, and it becomes difficult to remember the
> > formalities from one time to the next. So they get scared of the
> > prospect of staring empty-minded at the R prompt. 
> > 
> > As long as you can turn the GUI *off* and use R as usual, I see no
> > reason not to have some form of GUI. 
> 
> I used SAS to produce some reports that I couldn't make R generate. 
> Perhaps R can, I couldn't see how. 

It usually can, but not without end-user programming...

> The reports from SAS PROC TABULATE
> summarize about 100 variables, showing the means & other summaries for
> subgroups to allow a side-by side comparison.  

Yes, this is the kind of thing SAS is really good for. In R you'd end
up with stuff like

data(airquality)
attach(airquality)
do.call("cbind",lapply(airquality, tapply, Month, mean, na.rm=T))

or (except for some field width trouble)

by(airquality, Month, function(d) sapply(d, mean, na.rm=T)) 

If people need this kind of functionality we should probably consider
including more of it. The real problem would seem to be more in the
interface specification than in the actual table generation. As usual,
contributions are welcome. On the other hand this kind of report might
be better handled by an actual database system - R easily gets in
trouble just by storing data frames with hundreds of variables.

> I had not used SAS for
> several editions, but in edition 8 they have a thing called "Analyst"
> where you can point and click on various anaysis/graph types and it
> generates a code template, which you can then grab, copy, edit, etc. 

This mode of operation would probably also be what we'd want in a
full-blown R GUI. The scratchpad notion also needs to come in
somewhere, the line-based interface has some shortcomings (we have it
in ESS, but then people would have to learn emacs).

> The SAS manuals are, well, almost impossible to understand.  Take a look
> at the writup on PROC TABULATE if you don't know what I mean.  But with
> analyst, they had a few templates for tables, and I could get the code
> for them, and get what I wanted after that.

I have to disagree on the SAS manuals there. Dauntingly verbose they
are, but unintelligible, not in my experience. And yes, examples are a
good thing. One of the problems we have with the current documentation
is that neither the demos nor the help page examples work really well
for getting users acquainted with the basic modes of operations.
Interactive tutorials may be the ticket, but they have to be written
first. I'm a little less sure that displaying R function calls are
quite enough for the new user (and for some things to work in a GUI,
we might have to include ugly and complicated constructions to avoid
having the GUI fall in the same pitfalls as users do.)

[snip]
> One of the most intimidating things about R is the seeming endlessness
> of it.  I've fiddled with it since version 0.64 or so, and I've
> contributed RPMs for the hdf5 data format in R, so I'm not completely
> dead weight (just mostly so).  But after all this time I don't quite
> have a mental image of its capabilities and boundaries.  A GUI helps
> people to see what can be done and how it might fit together.

Well, yes, but... One slightly arrogant way of saying it is "R is
a programming language, it's *supposed* to be endless". GUIs generally
work by creating a bounded universe, which can be mapped, and
therefore inevitably limit the user. That being said, there are quite
a few "neat tricks" and programming paradigms that don't really dawn
upon users until very late in their development. The use of the *apply
functions for one thing and the conventions for model objects, summary
and print methods for another.  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue May  9 15:25:25 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 9 May 2000 15:25:25 +0200 (MET DST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
In-Reply-To: <200005090546.PAA11443@leonard.anu.edu.au> from "John Maindonald" at May 09, 2000 03:46:02 PM
Message-ID: <200005091325.PAA10158@alpha.luc.ac.be>

> 
> > From ripley at stats.ox.ac.uk  Tue May  9 15:30:33 2000
> > Date: Tue, 9 May 2000 06:29:10 +0100 (BST)
> 
> > > Following p.206 of "Statistical Models in S", I wish to change
> > > the code for summary.glm() so that it estimates the dispersion
> > > for binomial & poisson models when the parameter dispersion is
> > > set to zero.  The following changes [insertion of ||dispersion==0
> > > at one point; and !is.null(dispersion) at another] will do the trick:
> > 
> > I know S does that, but R is not documented to do so (so your example does
> > works as documented).  I think this is at best confusing. Once phi is
> > estimated, they are quasi-likelihood models not binomial nor Poisson and in
> > particular have no likelihood, so e.g. drop1 becomes inappropriate.  And it
> > is all too easy to have different treatments of dispersion in different
> > ancilliary functions (as S managed for many years).
> 
> That is why I did not submit a bug report.  The problem is that in
> many application areas phi is much greater than one.

The gnlr function in my gnlm library (at
www.luc.ac.be/~jlindsey/rcode.html) will fit quite a variety of
different overdispersed Poisson- and binomial-based distributions
(i.e. phi different from one) using their exact likelihoods.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue May  9 17:12:26 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 9 May 2000 17:12:26 +0200 (MET DST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link (fwd)
Message-ID: <200005091512.RAA25396@alpha.luc.ac.be>

> > That is why I did not submit a bug report.  The problem is that in
> > many application areas phi is much greater than one.
> 
> The gnlr function in my gnlm library (at
> www.luc.ac.be/~jlindsey/rcode.html) will fit quite a variety of
> different overdispersed Poisson- and binomial-based distributions
> (i.e. phi different from one) using their exact likelihoods.
>   Jim

  As Bill Venables has kindly pointed out, I was a bit sloppy in the
above: phi here refers to the appropriate overdispersion parameter in
the distribution chosed, negative binomial, beta-binomial, double
exponential, multiplicative Poisson/binomial, etc. For some
distributions, it can be less than one, i.e. underdispersed. Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  9 18:34:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 May 2000 17:34:43 +0100 (BST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link (fwd)
Message-ID: <200005091634.RAA08982@toucan.stats.ox.ac.uk>


> From: Jim Lindsey <jlindsey at alpha.luc.ac.be>
> Date: Tue, 9 May 2000 17:12:26 +0200 (MET DST)
> 
> > > That is why I did not submit a bug report.  The problem is that in
> > > many application areas phi is much greater than one.
> > 
> > The gnlr function in my gnlm library (at
> > www.luc.ac.be/~jlindsey/rcode.html) will fit quite a variety of
> > different overdispersed Poisson- and binomial-based distributions
> > (i.e. phi different from one) using their exact likelihoods.
> >   Jim
> 
>   As Bill Venables has kindly pointed out, I was a bit sloppy in the
> above: phi here refers to the appropriate overdispersion parameter in
> the distribution chosed, negative binomial, beta-binomial, double
> exponential, multiplicative Poisson/binomial, etc. For some
> distributions, it can be less than one, i.e. underdispersed. Jim

Yes, that was exactly my concern.  What gnlr does makes sense to me,
but a phi>1 binomial or Poisson only makes sense as a quasi model.  In
the distributions Jim has coded the variance/mean ratio is not
constant (as it is for the phi-Poisson), for example, and the implied
quasi-likelihood (where it exists) differs from those likelihoods.

But GLIM and S and R will in their own ways fit those models, and
I want to look hard to see if what they do in R is sensible (and
some things seem not to be, as Ben Bolker pointed out ca April 19).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May  9 23:13:11 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 9 May 2000 17:13:11 -0400 (EDT)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
 (fwd)
In-Reply-To: <200005091634.RAA08982@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.10.10005091659430.3722-100000@bolker.zoo.ufl.edu>

> 
> But GLIM and S and R will in their own ways fit those models, and
> I want to look hard to see if what they do in R is sensible (and
> some things seem not to be, as Ben Bolker pointed out ca April 19).

  Thanks: I've been following this discussion with interest, since I had
wondered if my previous message had disappeared into the void ... I'm
getting lots of the information I wanted from this exchange.

   While we're on the topic: would it make any sense in this context to
implement the F-test suggested in MASS3 p. 215 (eq 7.10), or does the fact
that "this must be used with some caution in non-Gaussian cases" suggest
that it would be better to leave it out and not let people get into
trouble using it?

  Should the documentation about scale parameters say that if you're
heavily into estimating scale parameters you should probably be using
quasi-likelihoods instead?

  Just out of curiosity, is there documentation for profile.glm beyond
what's in MASS3?  (Or should it just be linked/added to the profile.nls
help?)  (I'm thinking about writing a profile.ms or something like that;
I've been having my students look at likelihood profiles a lot.)

  I will look into Jim Lindsey's code (which sounds like it does specific
extensions of binomial/Poisson rather than quasi-likelihood?)

 thanks all,
    Ben

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at toutatis.pci.upmc.edu  Tue May  9 23:40:53 2000
From: richards at toutatis.pci.upmc.edu (richards@toutatis.pci.upmc.edu)
Date: Tue, 9 May 2000 17:40:53 -0400 (EDT)
Subject: [R] xyz.coords
In-Reply-To: <200005091634.RAA08982@toucan.stats.ox.ac.uk>
Message-ID: <Pine.SOL.3.96.1000509172851.12287B-100000@toutatis>

Hello:

I am trying to use the function

scatterplot3d(), obtained from:

    ##  scatterplot3d, 0.2.10 , 17.04.00,
    ##  Uwe Ligges <ligges at statistik.uni-dortmund.de>,
    ##      http://www.statistik.uni-dortmund.de/leute/ligges.htm


I had originally seen this function discussed here on the list, I think by
one of the authors.  Anyway, I need to know whether anyons has heard of
the function xyz.coords(), which the scatterplot3d function calls.  I get
an error message, under R 1.0.0 under NT4, as follows:

 couldn't find function "xyz.coords"
    
I am clueless.  Am I supposed to know about this function, as the autghors
seem to assume?  Thanks for any help.

				Tom Richards

:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~:
: Thomas J. Richards              _/   _/  _/_/_/    _/_/  _/_/_/  :
: Statistician                    _/   _/  _/   _/ _/   _/   _/    :
: Biostatistics Center            _/   _/  _/   _/ _/        _/    :
: U. Pittsburgh Cancer Institute  _/   _/  _/_/_/  _/        _/    :
: 3600 Forbes Ave Suite 400A      _/   _/  _/      _/   _/   _/    :
: Pittsburgh, PA  15213             _/_/   _/        _/_/  _/_/_/  :
: 412-647-6852  fax:  412-647-5687                                 :
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 10 00:14:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 May 2000 00:14:08 +0200
Subject: [R] xyz.coords
In-Reply-To: richards@toutatis.pci.upmc.edu's message of "Tue, 9 May 2000 17:40:53 -0400 (EDT)"
References: <Pine.SOL.3.96.1000509172851.12287B-100000@toutatis>
Message-ID: <x2r9bbz80f.fsf@blueberry.kubism.ku.dk>

richards at toutatis.pci.upmc.edu writes:

> scatterplot3d(), obtained from:
> 
>     ##  scatterplot3d, 0.2.10 , 17.04.00,
>     ##  Uwe Ligges <ligges at statistik.uni-dortmund.de>,
>     ##      http://www.statistik.uni-dortmund.de/leute/ligges.htm
> 
...
>  couldn't find function "xyz.coords"
>     
> I am clueless. 

Now that statement is quite a temptation to comment upon...

> Am I supposed to know about this function, as the autghors
> seem to assume?  Thanks for any help.

...especially since xyz.coords sits 5 lines down from 3D-Scatterplot
on Uwe's homepage!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed May 10 00:09:37 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 9 May 2000 15:09:37 -0700 (PDT)
Subject: [R] xyz.coords
In-Reply-To: <Pine.SOL.3.96.1000509172851.12287B-100000@toutatis>
Message-ID: <Pine.GSO.4.21.0005091508200.4639-100000@mail.biostat.washington.edu>

On Tue, 9 May 2000 richards at toutatis.pci.upmc.edu wrote:

> Hello:
> 
> I am trying to use the function
> 
> scatterplot3d(), obtained from:
> 
>     ##  scatterplot3d, 0.2.10 , 17.04.00,
>     ##  Uwe Ligges <ligges at statistik.uni-dortmund.de>,
>     ##      http://www.statistik.uni-dortmund.de/leute/ligges.htm
> 
> 
> I had originally seen this function discussed here on the list, I think by
> one of the authors.  Anyway, I need to know whether anyons has heard of
> the function xyz.coords(), which the scatterplot3d function calls.  I get
> an error message, under R 1.0.0 under NT4, as follows:
> 
>  couldn't find function "xyz.coords"
>     
> I am clueless.  Am I supposed to know about this function, as the autghors
> seem to assume?  Thanks for any help.

You will find xyz.coords() in the development version of R, available from
CRAN. It won't be in a stable release until June sometime.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cferna3 at uic.edu  Tue May  9 21:00:27 2000
From: cferna3 at uic.edu (Cheryl J Fernandes)
Date: Tue, 9 May 2000 14:00:27 -0500 (CDT)
Subject: [R] help!! Java and R
Message-ID: <Pine.GSO.4.10.10005091358000.19057-100000@icarus.cc.uic.edu>

Hi
 
 I'm trying to run  the RGui program in WintNT from a Java
application. i;m using runtime.exec()

It opens the program but after that nothing happens. After opening the
program i'm passing some commands to R via java's process
OutputStreamWriter. But it does NOT respond to any of the commands not
even by giving an exception.

Coudl u please let me know if i can pass commandline commands to RGui from
within Java or are there special API's that are available. I know for a
fact taht Java does NOT have API's for R. It does have special interface
API for major applications like C, Excel, MS-Word

Any help would be greatly appreciated.  

Runtime  rt = Runtime.getRuntime();
String strCmdTmp ="";
strCmdTmp =  "Z:\\R\\rw1000\\bin\\Rgui ";

Process jproc=  rt.exec(strCmdTmp);
OutputStreamWriter o = new OutputStreamWriter(jproc.getOutputStream());

o.write("a<-c(4,5)\n");
o.write("mean(a)\n");
o.write("quit(\"no\")\n");
o.flush();

String line=null;

BufferedReader reader = new BufferedReader(new
InputStreamReader(jproc.getInputStream()));
while((line = reader.readLine())!=null)
System.out.println(" The line is:  " +line); 

Thanks in advance
Cheryl  Fernandes


Cheryl Fernandes                 (Home): (312) 432 4396, (630) 834 3796 
1926 W Harrison Street,          (Office): (312) 996 4605        
Medical Center Apartments,
Apt# 1202,
Chicago, IL 60612

email: cferna3 at uic.edu
       cfernand at eecs.uic.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Wed May 10 00:57:00 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Tue, 09 May 2000 18:57:00 -0400
Subject: [R] Plotting legend outside of plot region
Message-ID: <391897BC.3B298CBF@acsu.buffalo.edu>

Dear R users,

I am wondering how I could put a legend outside of the plot region of
the corresponding
plot (so that it does not interfere with data points). It seems legends
are positioned in user
coordinates which are set up by the last high-level plot command. Not
only is it inconvenient,
but also a legend can't be plotted outside of plot region...

Do I have to set up a dedicated figure for a legend in this case (and
partition page with layout())
or is there an easier way?

Many thanks,

Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed May 10 01:04:32 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 10 May 2000 01:04:32 +0200 (MET DST)
Subject: [R] Dispersion in summary.glm() with binomial & poisson link
In-Reply-To: <Pine.LNX.4.10.10005091659430.3722-100000@bolker.zoo.ufl.edu> from "Ben Bolker" at May 09, 2000 05:13:11 PM
Message-ID: <200005092304.BAA04337@alpha.luc.ac.be>

>   I will look into Jim Lindsey's code (which sounds like it does specific
> extensions of binomial/Poisson rather than quasi-likelihood?)

Yes that is correct. It has nothing to do with quasi-likelihood. The
function gnlr does linear and nonlinear regression based on likelihood
with all of the under- and overdispersed Poisson- and binomial-related
distributions that I am aware of. If anyone can suggest others, I
shall implement them. Jim

> 
>  thanks all,
>     Ben
> 
> -- 
> Ben Bolker                                  bolker at zoo.ufl.edu
> Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
> 318 Carr Hall/Box 118525                    tel: (352) 392-5697
> Gainesville, FL 32611-8525                  fax: (352) 392-3704
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May 10 08:29:21 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 10 May 2000 08:29:21 +0200
Subject: [R] xyz.coords
References: <Pine.SOL.3.96.1000509172851.12287B-100000@toutatis> <x2r9bbz80f.fsf@blueberry.kubism.ku.dk>
Message-ID: <391901C1.A92C7792@statistik.uni-dortmund.de>

Peter Dalgaard BSA wrote:
> richards at toutatis.pci.upmc.edu writes:
> 
> > scatterplot3d(), obtained from:
> >
> >     ##  scatterplot3d, 0.2.10 , 17.04.00,
> >     ##  Uwe Ligges <ligges at statistik.uni-dortmund.de>,
> >     ##      http://www.statistik.uni-dortmund.de/leute/ligges.htm
> >
> ...
> >  couldn't find function "xyz.coords"
> >
> > I am clueless.
> 
> Now that statement is quite a temptation to comment upon...
> 
> > Am I supposed to know about this function, as the autghors
> > seem to assume?  Thanks for any help.
> 
> ...especially since xyz.coords sits 5 lines down from 3D-Scatterplot
> on Uwe's homepage!

... and also included in the *package* scatterplot3d_0.2.11.tar.gz (or
.zip for windows).

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barg at cs.tu-berlin.de  Wed May 10 08:58:07 2000
From: barg at cs.tu-berlin.de (Martin Barghoorn)
Date: Wed, 10 May 2000 08:58:07 +0200 (MET DST)
Subject: [R] object.size()
Message-ID: <200005100658.IAA05439@bernoulli.cs.tu-berlin.de>

Hello!
Is there something like object.size() in R?
Regards
Martin Barghoorn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 10 11:09:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 10 May 2000 10:09:15 +0100 (BST)
Subject: [R] help!! Java and R
In-Reply-To: <Pine.GSO.4.10.10005091358000.19057-100000@icarus.cc.uic.edu>
Message-ID: <Pine.GSO.4.05.10005100958500.26709-100000@auk.stats>

On Tue, 9 May 2000, Cheryl J Fernandes wrote:

> Hi
>  
>  I'm trying to run  the RGui program in WintNT from a Java
> application. i;m using runtime.exec()

You can't do that: Rgui is an Windows application and does not have a
command-line (few Windows programs do). Try using rterm, which does.

> It opens the program but after that nothing happens. After opening the
> program i'm passing some commands to R via java's process
> OutputStreamWriter. But it does NOT respond to any of the commands not
> even by giving an exception.

I suspect that you are just sending them to thin air, as there is no stdin
to connect to.  But the details will depend on your Java compiler and 
what exactly it does when asked to execute a Windows application.

> Coudl u please let me know if i can pass commandline commands to RGui from
> within Java or are there special API's that are available. I know for a
> fact taht Java does NOT have API's for R. It does have special interface
> API for major applications like C, Excel, MS-Word

Is C an application?  By the way, Java may not have APIs for R, but in the
Omegahat project there is a prototype R-Java interface.

R for Windows is embeddable: see the examples in the front-ends directory
in the source code. The cleanest way to do this to write a small C
interface that you can (I presume) link or load into your Java program
and which drives the R DLL.  It should be very easy to modify the rtest.c
example to do so, but you will need a way to manage two-communication
better than in the code below.

> Any help would be greatly appreciated.  
> 
> Runtime  rt = Runtime.getRuntime();
> String strCmdTmp ="";
> strCmdTmp =  "Z:\\R\\rw1000\\bin\\Rgui ";
> 
> Process jproc=  rt.exec(strCmdTmp);
> OutputStreamWriter o = new OutputStreamWriter(jproc.getOutputStream());
> 
> o.write("a<-c(4,5)\n");
> o.write("mean(a)\n");
> o.write("quit(\"no\")\n");
> o.flush();
> 
> String line=null;
> 
> BufferedReader reader = new BufferedReader(new
> InputStreamReader(jproc.getInputStream()));
> while((line = reader.readLine())!=null)
> System.out.println(" The line is:  " +line); 
> 
> Thanks in advance
> Cheryl  Fernandes
> 
> 
> Cheryl Fernandes                 (Home): (312) 432 4396, (630) 834 3796 
> 1926 W Harrison Street,          (Office): (312) 996 4605        
> Medical Center Apartments,
> Apt# 1202,
> Chicago, IL 60612
> 
> email: cferna3 at uic.edu
>        cfernand at eecs.uic.edu
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Wed May 10 11:41:24 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Wed, 10 May 2000 11:41:24 +0200
Subject: [R] dll under VC++ (c++ code) 
Message-ID: <39192EBF.529731CE@univ-orleans.fr>

Bonjour R people,

Before to use "complex" c++ code under R (win95),
i'm trying to import the c++ code that is in R-exts.pdf (section3.5).

I'm using Visual C++ 5.0.

So i've created a "win32 dll" project, added the 3 files (X.h, X.cpp and
x_main.cpp as they're written in the document [X_main is C wrapped]) and
builded a t.dll that i've copied to my R home directory.
After a dyn.load("t.dll"), first problem, the Y static variable is not
constructed and 2nd when i call .C("X_main"), i got:
  Error in .C("X_main") : C/Fortran function name not in load table.

I suppose i did not build my dll like it should ... any help would be
very welcome

Cordialement,

Nicolas Baurin
Doctorant
ICOA
France


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed May 10 12:24:34 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 10 May 2000 12:24:34 +0200
Subject: [R] xyz.coords
Message-ID: <3.0.32.20000510122434.008f59c0@162.38.183.200>

At 00:14 10/05/00 +0200, you wrote:
>richards at toutatis.pci.upmc.edu writes:
>
>> scatterplot3d(), obtained from:
>> 
>>     ##  scatterplot3d, 0.2.10 , 17.04.00,
>>     ##  Uwe Ligges <ligges at statistik.uni-dortmund.de>,
>>     ##      http://www.statistik.uni-dortmund.de/leute/ligges.htm
>> 
>...
>>  couldn't find function "xyz.coords"
>>     
>> I am clueless. 
>
>Now that statement is quite a temptation to comment upon...
>
>> Am I supposed to know about this function, as the autghors
>> seem to assume?  Thanks for any help.
>
>...especially since xyz.coords sits 5 lines down from 3D-Scatterplot
>on Uwe's homepage!


I installed 'scatterplot3d' with R 1.0.1 under NT4, and the function
xyz.coords() is in the file
R_HOME\rw1001\library\scatterplot3d\R\scatterplot3d

....
xyz.coords <- function(x, y, z, xlab=NULL, ylab=NULL, zlab=NULL, log=NULL,
recycle = FALSE)
{
....

scatterplot3d works fine for me (at least with the 5 ex provided).

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plankalkuel at gmx.com  Wed May 10 13:37:45 2000
From: plankalkuel at gmx.com (ralle)
Date: Wed, 10 May 2000 13:37:45 +0200
Subject: [R] Q: Problems with eigen() vs. svd()
Message-ID: <39194A09.B2DF6D1D@lrz.unimuenchen.de>

Hi,
I have a problem understanding what is going on with eigen() for
nonsymmetric matrices.
Example:
h<-rnorm(6)
> dim(h)<-c(2,3)
> c<-rnorm(6)
> dim(c)<-c(3,2)
> Pi<-h %*% c
> eigen(Pi)$values
[1] 1.56216542 0.07147773
> svd(Pi)$d     
[1] 2.85537780 0.03910517

And now:
> Pi2<-Pi %*% t(Pi) #that means Pi2 is symmetric and the eigenvalues should be the
		    # squared eigenvalues of Pi
> eigen(Pi2)$values
[1] 8.153182389 0.001529214
> svd(Pi2)$d     
[1] 8.153182389 0.001529214
Indeed:
diag(svd(Pi)$d) %*% diag(svd(Pi)$d)
         [,1]        [,2]
[1,] 8.153182 0.000000000
[2,] 0.000000 0.001529214

I conclude that eigen() works correctly for symmetric matrices only (or
makes sense ...).
Do I have misconceptions about the relationship between the results of
eigen()$values and
svd()$d and my conclusion is wrong ?
The VR-Book "Modern Applied Statistics" (1994) states explicitly that
eigen() is for
symmetric matrices.

Can anybody help me to clarify this point ?


Thank you

	Ralph
-- 
-------------------------------------------------------------------------------
There are three kinds of economists, those who can count and those who
can't.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 10 13:10:23 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 10 May 2000 12:10:23 +0100 (BST)
Subject: [R] dll under VC++ (c++ code) 
In-Reply-To: <39192EBF.529731CE@univ-orleans.fr>
Message-ID: <Pine.GSO.4.05.10005101204490.26886-100000@auk.stats>

On Wed, 10 May 2000, nicolas baurin wrote:

> Bonjour R people,
> 
> Before to use "complex" c++ code under R (win95),
> i'm trying to import the c++ code that is in R-exts.pdf (section3.5).
> 
> I'm using Visual C++ 5.0.
> 
> So i've created a "win32 dll" project, added the 3 files (X.h, X.cpp and
> x_main.cpp as they're written in the document [X_main is C wrapped]) and
> builded a t.dll that i've copied to my R home directory.
> After a dyn.load("t.dll"), first problem, the Y static variable is not
> constructed and 2nd when i call .C("X_main"), i got:
>   Error in .C("X_main") : C/Fortran function name not in load table.
> 
> I suppose i did not build my dll like it should ... any help would be
> very welcome

Look in the rw-FAQ (always a good idea), as commands to build that example
under VC++ are given there.  And that has been tested under VC++6.0.  I
guess you forgot to export any symbols.

(I don't think you can know that the Y variable is not constructed, as
you have no access to vars in the DLL. In particular, C++ I/O
will not work from Rgui at least (it just might from Rterm).)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed May 10 13:27:49 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Wed, 10 May 2000 21:27:49 +1000
Subject: [R] Q: Problems with eigen() vs. svd()
Message-ID: <3.0.32.20000510212746.0127e100@pophost.nsw.cmis.csiro.au>

At 01:37 PM 5/10/00 +0200, ralle wrote:
>Hi,
>I have a problem understanding what is going on with eigen() for
>nonsymmetric matrices.
>Example:
>h<-rnorm(6)
>> dim(h)<-c(2,3)
>> c<-rnorm(6)

"c" is not a great choice of identifier!

>> dim(c)<-c(3,2)
>> Pi<-h %*% c
>> eigen(Pi)$values
>[1] 1.56216542 0.07147773

These could have been complex, of course, but as it happens they are real.

>> svd(Pi)$d     
>[1] 2.85537780 0.03910517

These must be real and they are not the eigenvalues of Pi.

>
>And now:
>> Pi2<-Pi %*% t(Pi) #that means Pi2 is symmetric and the eigenvalues
should be the
>		    # squared eigenvalues of Pi

Not quite.  It means Pi2 is symmetric all right, but it implies no simple
relationship between the eigenvalues of Pi and Pi2.

What you can say is the the *singular values* of Pi2 are the square of the
*singular values* of Pi.


>> eigen(Pi2)$values
>[1] 8.153182389 0.001529214
>> svd(Pi2)$d     
>[1] 8.153182389 0.001529214
>Indeed:
>diag(svd(Pi)$d) %*% diag(svd(Pi)$d)
>         [,1]        [,2]
>[1,] 8.153182 0.000000000
>[2,] 0.000000 0.001529214
>

Moral: for any real matrix X the singular values are the positive square
roots of the eigen values of t(X) %*% X.  (Consequence: if X is symmetric
and positive definite its eigenvalues are the same as its singular values,
but otherwise this is not necessarily so.)

>I conclude that eigen() works correctly for symmetric matrices only (or
>makes sense ...).

Nope.

>Do I have misconceptions about the relationship between the results of
>eigen()$values and
>svd()$d and my conclusion is wrong ?

You do have some serious misconceptions.

>The VR-Book "Modern Applied Statistics" (1994) states explicitly that
>eigen() is for
>symmetric matrices.
>
>Can anybody help me to clarify this point ?

Well the VR-book in 1994 was written for S-PLUS only, and in 1992-3 when
that edition was written it did only work for symmetric matrices, but
S-PLUS has changed and R has come of age.  Things change fast in this
territory.  There have been two more editions of the VR-book since then
this and only this reason.

V.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 10 13:44:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 10 May 2000 12:44:01 +0100 (BST)
Subject: [R] Q: Problems with eigen() vs. svd()
In-Reply-To: <39194A09.B2DF6D1D@lrz.unimuenchen.de>
Message-ID: <Pine.GSO.4.05.10005101241550.26886-100000@auk.stats>

On Wed, 10 May 2000, ralle wrote:

> The VR-Book "Modern Applied Statistics" (1994) states explicitly that
> eigen() is for
> symmetric matrices.

It does not on any of the pages indexed under `eigen', and on those pages
it "explicitly" discusses simplifications if the matrix is symmetric and
the `symmetric' argument!


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 10 14:50:05 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 May 2000 07:50:05 -0500
Subject: [R] profiles [was Re: Dispersion in ...]
In-Reply-To: Ben Bolker's message of "Tue, 9 May 2000 17:13:11 -0400 (EDT)"
References: <Pine.LNX.4.10.10005091659430.3722-100000@bolker.zoo.ufl.edu>
Message-ID: <6rvh0mvabm.fsf@franz.stat.wisc.edu>

Ben Bolker <ben at zoo.ufl.edu> writes:

>   Just out of curiosity, is there documentation for profile.glm beyond
> what's in MASS3?  (Or should it just be linked/added to the profile.nls
> help?)  (I'm thinking about writing a profile.ms or something like that;
> I've been having my students look at likelihood profiles a lot.)

The generic profile is in the nls library, as are profile.nls and
plot.profile.nls.  Try 
 example(plot.profile.nls) 
to see the effect.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed May 10 14:54:39 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 10 May 2000 08:54:39 -0400 (EDT)
Subject: [R] profiles [was Re: Dispersion in ...]
In-Reply-To: <6rvh0mvabm.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.10.10005100848020.533-100000@bolker.zoo.ufl.edu>


  I've seen profile.nls; I was thinking about extending it to do general
likelihood surfaces, but it looks like all I need to is write a "profile"
method for generalized likelihoods (I don't know whether I should expend
the effort to follow the format of ms() as defined in S(-PLUS?) or not),
and "plot.profile" will work automatically.

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed May 10 15:28:06 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 10 May 2000 09:28:06 -0400
Subject: [R] Q: Problems with eigen() vs. svd()
References: <39194A09.B2DF6D1D@lrz.unimuenchen.de>
Message-ID: <391963E5.48A6570E@bank-banque-canada.ca>

>The VR-Book "Modern Applied Statistics" (1994) states explicitly that
>eigen() is for symmetric matrices

As I recall, eigen() in Splus did only work for symmetric matrices sometime in
the last millenium. I believe it changed around 1994. I don't think R had
eigen() until around 1996, and I believe it may not have worked with
non-symmetric matrices at first, but that changed very quickly. History buffs
please correct me. I work with time series but I'm not good at remembering
dates.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolbers at stat.math.ethz.ch  Wed May 10 15:43:19 2000
From: wolbers at stat.math.ethz.ch (Marcel Wolbers)
Date: Wed, 10 May 2000 15:43:19 +0200 (MET DST)
Subject: [R] Q: Problems with eigen() vs. svd()
Message-ID: <14617.26487.766112.948625@gargle.gargle.HOWL>

Hi 

No problem with eigen (also in the asymmetric case, unless you set the
option symmetric=T for an asymmetric matrix) or svd. I think your problem
is here:

> Pi2<-Pi %*% t(Pi) #that means Pi2 is symmetric and the eigenvalues should
		    #be the  squared eigenvalues of Pi

This not true generally but only for symmetric Pi (i.e. Pi=t(Pi))

Yours
Marcel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed May 10 15:41:19 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Wed, 10 May 2000 23:41:19 +1000
Subject: [R] profiles [was Re: Dispersion in ...]
Message-ID: <3.0.32.20000510234114.0126cc60@pophost.nsw.cmis.csiro.au>

At 08:54 AM 5/10/00 -0400, Ben Bolker wrote:
>
>I've seen profile.nls; I was thinking about extending it to do general
>likelihood surfaces, but it looks like all I need to is write a "profile"
>method for generalized likelihoods (I don't know whether I should expend
>the effort to follow the format of ms() as defined in S(-PLUS?) or not),
>and "plot.profile" will work automatically.
>

Two small points:

ms() in S+ is not a statistical function per se, it is a minimization
function only.  This is why there are so few methods for the objects
generated by it.  If you could assume that the function being minimized is
the negative of a log-likelihood then it would make sense to have all the
statistical paraphernalia for it, but you can't.  profile is somewhere on
the border of statistical and non-statistical.  It makes sense for any
function, but without a statistical context to guide you it is hard to know
where it might be sensible to stop profiling.  In the other places (nls,
glm, at the moment) your stopping point is tied to the drop in likelihood
as you move away from the MLE.

Having said that, I have often thought it would be very sensible to have a
dedicated function that just minimized negative log-likelihoods in a
reasonably general case.  The extension I would like to see provided would
be a facility to express the log-likelihood in terms of "metameters", each
of which might be a true parameter, or could separately be specified as a
linear function of covariates.  (I'm not sure how feasible this would be if
you do not have symbolic derivatives, but always start off optimistically!)  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From otter-rsch at home.com  Wed May 10 08:04:07 2000
From: otter-rsch at home.com (dave fournier)
Date: Wed, 10 May 2000 07:04:07 +0100
Subject: [R] MGARCH program
Message-ID: <3918FBD7.E415345C@home.com>

I have a multivariate garch program with does
a p,q varma for the means and a p,q diagonal vector
arch/garch analysis for the covariances. If there
is interest I would like to make it available as a
package in R -- but I know almost nothing about
how this is accomplished. So I need an interested person to hold my hand
as it were.

The program is written in C++.



--
Dave Fournier, Otter Research Ltd
PO Box 2040, Sidney, B.C. V8L 3S3, Canada
250-655-3364
email: otter at otter-rsch.com http://otter-rsch.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed May 10 17:54:37 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 10 May 2000 17:54:37 +0200 (CEST)
Subject: [R] MGARCH program
In-Reply-To: <3918FBD7.E415345C@home.com>
References: <3918FBD7.E415345C@home.com>
Message-ID: <14617.34365.349603.112650@lynne.ethz.ch>

>>>>> "dave" == dave fournier <otter-rsch at home.com> writes:

    dave> I have a multivariate garch program with does
    dave> a p,q varma for the means and a p,q diagonal vector
    dave> arch/garch analysis for the covariances. If there
    dave> is interest I would like to make it available as a
    dave> package in R -- but I know almost nothing about
    dave> how this is accomplished. So I need an interested person to hold my hand
    dave> as it were.

    dave> The program is written in C++.

CRAN package  "tseries" already has some garch stuff.
I'd recommend you contact its author (who is pretty knowledgable about R
programming), and even consider adding your code to that tseries package.

This would (hopefully) ensure a consistent naming scheme for functions,
arguments , result class()es, etc...

Martin

    dave> --
    dave> Dave Fournier, Otter Research Ltd
    dave> PO Box 2040, Sidney, B.C. V8L 3S3, Canada
    dave> 250-655-3364
    dave> email: otter at otter-rsch.com http://otter-rsch.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wagman at enteract.com  Wed May 10 23:24:32 2000
From: wagman at enteract.com (Barnet Wagman)
Date: Wed, 10 May 2000 16:24:32 -0500
Subject: [R] Polynomial Distributed Lags?
Message-ID: <3919D390.51636DD1@enteract.com>

Has anyone writtent an R function for estimating linear
models with polynomial distributed lags?

Thanks,

Barnet Wagman
wagman at enteract.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed May 10 19:41:09 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 10 May 2000 19:41:09 +0200
Subject: No subject
Message-ID: <4.3.1.0.20000510193157.00a7de70@127.0.0.1>

Dear friends. I have some numbers in percentages all very close together 
between 60% and 80% as a repeated measures design, 6 measurements per 
patient (11 ptt) all on to treatments. I think it might be possible to make 
arc since transformation to obtain more well behaved values but is that in 
general the best ? At any rate there is a dramatic difference between the 
verdict obtained using pairwise.wilcox.test as compared to t.test. So far 
this is not a R specific question - but I guess it will be.
Best wishes
Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Wed May 10 20:07:31 2000
From: denis at mail.cor.epa.gov (Denis White)
Date: Wed, 10 May 2000 11:07:31 -0700 (PDT)
Subject: [R] pch=15 symbol of size=10 mm
In-Reply-To: <3918020B.288E3FEC@ozemail.com.au>
Message-ID: <Pine.SUN.3.91.1000510110527.22674C-100000@okapi.cor.epa.gov>


On Tue, 9 May 2000, Jim Lemon wrote:

> Denis White wrote:
> 
> > How do I determine cex in
> >
> >   points (x, y, pch=15, cex=?)
> >
> > to get a square whose side length is, say, 10 mm?
> >
> > thanks
> 
> The easy way would be:
> 
> points(6,3,pch=15,cex=10/(par("cin")[1]*25.4))
> 
> That is, divide your desired width by the current width in inches multiplied by
> 25.4,
> 
> but this won't _really_ give you a 10 mm square.  The hardcopy output you get
> depends upon the size of the image you generate (e.g. the "bounding box" in
> Postscript).  However, you could fudge it if you always use the same size
> output...
> 
> Jim
>

Thanks for response from Jim Lemon.  I tried 10/25.4/par("csi") and
several other ideas before submitting to r-help in frustration.
Below is a function that generates regular polygons, filled or
borders, of n sides (n>8 => circle), with "diameter" prescribed
in mm, for use alone or with apply.

############################################################

ngon <- function (xydc, n=4, type=1)
  # draw or fill regular polygon
  # xydc a four element vector with
  #   x and y of center, d diameter in mm, and c color
  # n number of sides of polygon, n>8 => circle
  #   if n odd, vertex at (0,y), else midpoint of side
  # type=1 => interior filled, type=2 => edge
  # type=3 => both
{
  u <- par("usr")
  p <- par("pin")
  d <- as.numeric(xydc[3])
  inch <- d/25.4
  rad <- inch*((u[2]-u[1])/p[1])/2
  ys <- inch*((u[4]-u[3])/p[2])/2/rad
  if (n > 8) n <- d*4 + 1
  th <- pi*2/n
  costh <- cos (th)
  sinth <- sin (th)
  x <- y <- rep (0,n+1)
  if (n %% 2) {
    x[1] <- 0
    y[1] <- rad
    }
  else {
    x[1] <- -rad*sin(th/2)
    y[1] <-  rad*cos(th/2)
    }
  for (i in 2:(n+1)) {
    xl <- x[i-1]
    yl <- y[i-1]
    x[i] <- xl*costh - yl*sinth
    y[i] <- xl*sinth + yl*costh
    }
  x <- x + as.numeric(xydc[1])
  y <- y*ys + as.numeric(xydc[2])
  if (type %% 2) polygon (x,y,col=xydc[4],border=0)
  if (type %/% 2) lines (x,y,col=xydc[4])
  invisible()
}
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed May 10 20:41:13 2000
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Wed, 10 May 2000 13:41:13 -0500
Subject: [R] To restore old par() in high-res graphics
Message-ID: <3919AD49.1F3BAD04@perseus.unalmed.edu.co>

Hello R people:

I get the the following warning messages when I try to restore
the par() values.

I type:

> xxx <- par()
> par(xxx)

And I obtain the followin warning messages:

Warning messages:
1: parameter "cin" can't be set in: par(args)
2: parameter "cra" can't be set in: par(args)
3: parameter "csi" can't be set in: par(args)
4: parameter "cxy" can't be set in: par(args)
5: parameter "din" can't be set in: par(args)

What do this messages mean?

I am trying to build a function that calls several graphics but I don't
want
to obtain those warning messages.

Thank you very much for your help

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medellin
Facultad de Ciencias




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 10 22:22:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 10 May 2000 21:22:58 +0100 (BST)
Subject: [R] To restore old par() in high-res graphics
In-Reply-To: <3919AD49.1F3BAD04@perseus.unalmed.edu.co>
Message-ID: <Pine.GSO.4.05.10005102122110.12482-100000@auk.stats>

On Wed, 10 May 2000, Kenneth Cabrera wrote:

> Hello R people:
> 
> I get the the following warning messages when I try to restore
> the par() values.
> 
> I type:
> 
> > xxx <- par()
> > par(xxx)
> 
> And I obtain the followin warning messages:
> 
> Warning messages:
> 1: parameter "cin" can't be set in: par(args)
> 2: parameter "cra" can't be set in: par(args)
> 3: parameter "csi" can't be set in: par(args)
> 4: parameter "cxy" can't be set in: par(args)
> 5: parameter "din" can't be set in: par(args)
> 
> What do this messages mean?
> 
> I am trying to build a function that calls several graphics but I don't
> want
> to obtain those warning messages.

use 

par(no.readonly=TRUE)

It's right at the top of the help page!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu May 11 01:56:49 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 10 May 2000 18:56:49 -0500
Subject: [R] Paper Size
Message-ID: <200005102356.AA06832@uhddx01.dt.uh.edu>

Dear R Users:

Here is a nice simple question:  On Version 1.0.0, where is the file 
that has the paper size for plots?

UNIX Dec Alpha please?

(Really dumb.  I know.)

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Thu May 11 05:55:20 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Thu, 11 May 2000 13:55:20 +1000
Subject: [R] 'dtrsl'?
Message-ID: <61411576E951D211AF330008C7245DD904F73503@ntmsg0005.corpmail.telstra.com.au>

howdy R friends,

Can anyone shed some light on why R is aborting on me?  It looks like it
can't find 'dtrsl'.  I've recently upgraded on my HPUX from Rv0.9 to Rv1.0

thanks,
John Strumila

> nlm(f, c(-1, 0, 0), hessian = TRUE, print = 0)
/usr/lib/dld.sl: Unresolved symbol: dtrsl (code)  from
/usr/local/lib/R/bin/R.X11
ABORT instruction (core dumped)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May 11 06:27:54 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 May 2000 23:27:54 -0500
Subject: [R] Paper Size
In-Reply-To: Erin Hodgess's message of "Wed, 10 May 2000 18:56:49 -0500"
References: <200005102356.AA06832@uhddx01.dt.uh.edu>
Message-ID: <6rn1lxsoc5.fsf@franz.stat.wisc.edu>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Here is a nice simple question:  On Version 1.0.0, where is the file 
> that has the paper size for plots?
> 
> UNIX Dec Alpha please?

Paper size is set in the shell script called R.  In my case that is
/usr/bin/R.  Your location for the R script may be different, perhaps
/usr/local/bin/R.  The script reads, in part,

# Default printer paper size
# Choose one of the following:
# R_PAPERSIZE="a4"
# R_PAPERSIZE="letter"
# R_PAPERSIZE="none"
: ${R_PAPERSIZE=letter}
export R_PAPERSIZE

You can override that selection by setting the environment variable
R_PAPERSIZE to "a4" or to "letter" before running R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 11 06:48:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 May 2000 05:48:44 +0100 (BST)
Subject: [R] Paper Size
In-Reply-To: <6rn1lxsoc5.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.10005110541450.13085-100000@auk.stats>

On 10 May 2000, Douglas Bates wrote:

> Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:
> 
> > Here is a nice simple question:  On Version 1.0.0, where is the file 
> > that has the paper size for plots?
> > 
> > UNIX Dec Alpha please?
> 
> Paper size is set in the shell script called R.  In my case that is
> /usr/bin/R.  Your location for the R script may be different, perhaps
> /usr/local/bin/R.  The script reads, in part,

[R RHOME will tell you where: replace `lib' by `bin'.]

> # Default printer paper size
> # Choose one of the following:
> # R_PAPERSIZE="a4"
> # R_PAPERSIZE="letter"
> # R_PAPERSIZE="none"
> : ${R_PAPERSIZE=letter}
> export R_PAPERSIZE
> 
> You can override that selection by setting the environment variable
> R_PAPERSIZE to "a4" or to "letter" before running R.

Just to add a couple of points:

1) That gives the default paper size for plots done by postscript() and not
necessarily by other drivers.  You can override it by specifying `paper'
on a call to postscript().

2) Inside R, options("papersize") will tell you the current setting,
and as from 1.1.0 it will also allow you to set the default paper size.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu May 11 07:11:10 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 11 May 2000 17:11:10 +1200
Subject: [R] 'dtrsl'?
References: <61411576E951D211AF330008C7245DD904F73503@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <391A40ED.62DA8B29@xtra.co.nz>

"Strumila, John" wrote:

> howdy R friends,
>
> Can anyone shed some light on why R is aborting on me?  It looks like it
> can't find 'dtrsl'.  I've recently upgraded on my HPUX from Rv0.9 to Rv1.0
>
> thanks,
> John Strumila
>
> > nlm(f, c(-1, 0, 0), hessian = TRUE, print = 0)
> /usr/lib/dld.sl: Unresolved symbol: dtrsl (code)  from
> /usr/local/lib/R/bin/R.X11

Two possibilities:

   * Have you pre-defined "f" before using nlm() ?  Try something like this:

            > f <- function(x) sum((x-1:length(x))^2)
            > nlm(f, c(-1, 0, 0), hessian = TRUE, print = 0)
            these two lines should generate (I only quote the first two lines of my
outputs):
            $minimum
            [1] 1.620172e-27
            .
            .
            .

   * If still now working, try to get R 1.0.1.

Cheers,

>
> ABORT instruction (core dumped)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000511/24c55fff/attachment.html

From Ko-Kang at xtra.co.nz  Thu May 11 09:21:33 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 11 May 2000 19:21:33 +1200
Subject: [R] Plotting in R
Message-ID: <391A5F7D.B3F9E674@xtra.co.nz>

Here is a question that I don't know if it is possible to do in R:

If I type:
> log(1:1000)

Then, I want to "take out" the first decimal place of each output, plot
them based on their appearence frequencies.  Then take the second
decimal place, do the same thing.

Actually, I suspect I don't have to write a function to do this.  Is it
possible to do this?  Get the first decimal place of each answer to
log(1:1000), then plot them?

Thanks

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Thu May 11 09:55:56 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Thu, 11 May 2000 09:55:56 +0200
Subject: [R] Outlier detection in non normal multivariate distribution
Message-ID: <003c01bfbb1e$56da18d0$b1eb92c1@unirioja.es>

Dear people,

I?m looking for outlier detection methods in non normal multivariate
distributions.

Any help would be appreciated.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu May 11 10:03:53 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 11 May 2000 10:03:53 +0200 (CEST)
Subject: [R] Plotting in R
In-Reply-To: <391A5F7D.B3F9E674@xtra.co.nz>
References: <391A5F7D.B3F9E674@xtra.co.nz>
Message-ID: <14618.26985.246505.201734@lynne.ethz.ch>

>>>>> "KKWa" == Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:

    KKWa> Here is a question that I don't know if it is possible to do in R:
    KKWa> If I type:
    >> log(1:1000)

    KKWa> Then, I want to "take out" the first decimal place of each
    KKWa> output, plot them based on their appearence frequencies.  Then
    KKWa> take the second decimal place, do the same thing.

    KKWa> Actually, I suspect I don't have to write a function to do this.
    KKWa> Is it possible to do this?  Get the first decimal place of each
    KKWa> answer to log(1:1000), then plot them?


## I hope this is not your home work assignment;  
## The following is actually pretty neat .. (propria laus sordet)

x <- 1:1000

ndig <- 6

 (ii <- as.integer(10^(ndig-1) * log(x)))[1:7]
 (ci <- formatC(ii, flag="0", wid= ndig))[1:7]
 cm <- t(sapply(ci, function(cc) strsplit(cc,NULL)[[1]]))
 cm [1:7,]

apply(cm, 2, table) #--> Nice tables

# The plots :
par(mfrow= c(3,2), lab = c(10,10,7))
for(i in 1:ndig)
    hist(as.integer(cm[,i]), breaks = -.5 + 0:10,
         main = paste("Distribution of  ", i,"-th digit"))

----
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu May 11 10:25:13 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 11 May 2000 20:25:13 +1200
Subject: [R] Plotting in R
References: <391A5F7D.B3F9E674@xtra.co.nz> <14618.26985.246505.201734@lynne.ethz.ch>
Message-ID: <391A6E68.6213DB3D@xtra.co.nz>

Thank you very much.

No this is not an assignment.  I just want to test Benford's Law.  However it's
kind of interesting to see that the digit 1 does not appear as frequently as it
should be.

But anyway, thank you very much.

Martin Maechler wrote:

> >>>>> "KKWa" == Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:
>
>     KKWa> Here is a question that I don't know if it is possible to do in R:
>     KKWa> If I type:
>     >> log(1:1000)
>
>     KKWa> Then, I want to "take out" the first decimal place of each
>     KKWa> output, plot them based on their appearence frequencies.  Then
>     KKWa> take the second decimal place, do the same thing.
>
>     KKWa> Actually, I suspect I don't have to write a function to do this.
>     KKWa> Is it possible to do this?  Get the first decimal place of each
>     KKWa> answer to log(1:1000), then plot them?
>
> ## I hope this is not your home work assignment;
> ## The following is actually pretty neat .. (propria laus sordet)
>
> x <- 1:1000
>
> ndig <- 6
>
>  (ii <- as.integer(10^(ndig-1) * log(x)))[1:7]
>  (ci <- formatC(ii, flag="0", wid= ndig))[1:7]
>  cm <- t(sapply(ci, function(cc) strsplit(cc,NULL)[[1]]))
>  cm [1:7,]
>
> apply(cm, 2, table) #--> Nice tables
>
> # The plots :
> par(mfrow= c(3,2), lab = c(10,10,7))
> for(i in 1:ndig)
>     hist(as.integer(cm[,i]), breaks = -.5 + 0:10,
>          main = paste("Distribution of  ", i,"-th digit"))
>
> ----
> Martin Maechler <maechler at stat.math.ethz.ch>    http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO D10    Leonhardstr. 27
> ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
> phone: x-41-1-632-3408          fax: ...-1228                   <><

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Thu May 11 10:31:38 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Thu, 11 May 2000 10:31:38 +0200
Subject: [R] using MANOVA in R
References: <20000508232540.5286.qmail@web121.yahoomail.com>
Message-ID: <005e01bfbb23$53351360$b1eb92c1@unirioja.es>

I hope this could help. It was originally written in Spanish, so several
errors migth have appeared in the translation process.
If so, let me know.


# Let?s define some kind of determinant function

> det <- function (x)   { prod(eigen(x)$values) }

# It coul be useful a function to make void lists with as many components as
the parameter ncomp states.

> DoClassList <- function(ncomp)
+{
+   aux  list('name'=NULL)
+   if (ncomp>1)
+     for (i in 2:ncomp)
+        aux  <- c(aux, list('name'=NULL))
+   for (i in 1:ncomp)
+        attributes(aux)$names[i] <- paste('Class',i)
+   return(aux)
+}

# Let?s define a function to evaluate Wilks statistic.
> TestWilk  function (data.in)
+  {
+   nclass  <-length(data.in)
+   nvars <- ncol(data.in[[1]])
+   aveQ <- DoClassList(nclass)
+   for (i in 1:nclass)
+    aveQ[[i]] <- apply(data.in[[i]],2,mean)
+ SQ  <- lapply(data.in,var)
+ W <- SQ[[1]]*(nrow(data.in[[1]])-1)
+ for (i in 2:nclass)
+   W <- W + SQ[[i]]*(nrow(data.in[[i]])-1)
+   aveTotal <- aveQ[[1]]*nrow(data.in[[1]])
+  for (i in 2:nclass)
+    aveTotal <- aveTotal + aveQ[[i]] *
+     nrow(data.in[[i]])
+ aveTotal <- aveTotal / sum(unlist( lapply(data.in,nrow)))
+ B <- nrow(data.in[[1]]) * as.matrix(aveQ[[1]] - aveTotal) +   %*%
t(as.matrix(aveQ[[1]] - aveTotal))
+ for (i in 2:nclass)
+  B <- B + nrow(data.in[[i]]) * as.matrix(aveQ[[i]] -
+  aveTotal) %*% t(as.matrix(aveQ[[i]] - aveTotal))
+ n  <- nvars
+ s  <- sum(unlist(lapply(data.in,nrow))) - nclass
+ t  <- nclass -1
+ Lambda <- det(W)/det(B+W)
+ w2  <- 1- (nrow(data.in[[i]])*Lambda)/(s+Lambda)
+ w  <-  w2 - (n^2+t^2)/(nrow(data.in[[i]])*3)*(1-w2)
+ if ((n^2+t^2-5) != 0)
+   {
+     a  <- s + t - (n + t + 1)/2
+     b  <- sqrt((n^2*t^2-4)/(n^2+t^2-5))
+     c  <- (n*t-2)/4
+     doubt <-  (a*b - 2*c) /(n*t) * (Lambda^(-1/b)-1)
+     return (list( valor=doubt, F=qf(0.99, n*t, (a*b - 2*c)),
+       L=(doubt < qf(0.99, n*t, (a*b - 2*c))), w=w))
+   }
+ else
+   {
+     doubt <- -( s - 0.5*(n-t+1))*log(Lambda)
+     return (list( value=doubt, chi2=qchisq(0.99, n*t),
+       L=(doubt < qchisq(0.99, n*t)),w=w))
+   }
+}

As an example of use let?s consider two binormal distributions class1 and
class2, with different mean vector but identical covariance matrix.

> class1_v1 <- rnorm(5000, mean=0, sd=1)
> class1_v2 <- rnorm(5000, mean=0, sd=1)
> class1    <- cbind(clase1_v1,clase1_v2)
> class2_v1 <- rnorm(5000, mean= 1.5, sd=1)
> class2_v2 <- rnorm(5000, mean=2, sd=1)
> class2    <- cbind(clase2_v1, clase2_v2)

# Lets represent the two classes
> plot(rbind(class1,class2),
+   col=c(rep("Blue",length(clase1[,1])),
+         rep("Red",length(clase2[,1]))) , pch=".")
> vcellipse(apply(clase1,2,mean), cov(clase1), col="Blue")
> vcellipse(apply(clase2,2,mean), cov(clase2), col="Red")

 # I hope you too have the vcellipse code that was sent to R-help. Nice
function ideed.
# I would have sent the picture but I?m sure that to be allowed in the list.
??

# And apply the test
> TwoClasses <- list(class1, class2)
> TestTwoClasses <- TestWilk(TwoClasses)
> unlist(TestTwoClasses)
       value          chi2            L            w
9403.4041430    9.2103404          FALSE       0.8047111

As for the example distributions normality condition can be applied, this
result says NO to the null hipothesis and two different classes of behaviour
have been identified.

Of course, in a more general case, you must check that normality and
homogeneity of covariance matrix can be assesed.
But that is another war.... :-)
----------------------------------------------------------------------------
Manuel Castej?n Limas.
Project Management Area.        e-mail:manuel.castejon at dim.unirioja.es
Mechanical Engineering Dept.    http://www.unirioja.es/dptos/dim
University of La Rioja
c/ Luis de Ulloa 20, 26004 Logro?o
La Rioja
Spain.
----------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Thu May 11 10:48:49 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Thu, 11 May 2000 09:48:49 +0100
Subject: [R] Plotting in R
In-Reply-To: <391A5F7D.B3F9E674@xtra.co.nz>
Message-ID: <3.0.1.32.20000511094849.006ece48@pop3.ucd.ie>

>Here is a question that I don't know if it is possible to do in R:
>
>If I type:
>> log(1:1000)
>
>Then, I want to "take out" the first decimal place of each output, plot
>them based on their appearence frequencies.  Then take the second
>decimal place, do the same thing.
Try:

a_ log(1:1000)
d1_floor(10*(a-floor(a)))  # first decimal
  par(mfrow=c(2,2))
  hist(d1,breaks=c(-1:9))
  table(d1)
d2_floor(10*(10*a-floor(10*a))) # second decimal
  hist(d2,breaks=c(-1:9))
  table(d2)


>
>Actually, I suspect I don't have to write a function to do this.  Is it
>possible to do this?  Get the first decimal place of each answer to
>log(1:1000), then plot them?
>
>Thanks
>
>--
>---------------------------------------------------------------------------
--------
>
> Ko-Kang Wang
> Undergraduate Student
> Computer Science/Statistics Double Major
> University of Auckland
> Auckland 1005
> New Zealand
>---------------------------------------------------------------------------
--------
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May 11 11:12:28 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 11 May 2000 10:12:28 +0100 (BST)
Subject: [R] noise poser spectral density
Message-ID: <Pine.LNX.4.10.10005111009360.4657-100000@localhost.localdomain>

I know there are some time series experts on this list, and I am hoping
one of you might help me with this problem. I am trying to understand the
relationship between No (noise power spectral density) and Gaussian white
noise sigma^2.

I want to check numerically the theoretical relationship (from Selin,1965)
No = sigma^2/(2*W) = sigma^2 * delta t, where
No is power spectral density
delta t is sampling interval in sec = 1/(2*W)
W is the bandwidth: the power spectral density (psd) is flat (equal to No)
for freqs between -W and W Hz

I generate a vector x of n samples from N(0, sigma^2).
n<-2048
sigma<-10
x<- rnorm(n=n,sd=sigma)

I checked R's fft against the examples in Bracewell 1978 p. 364, e.g.
{1,0,0,0} gives fft 1/4*{1,1,1,1}
To make R's fft give this result I do fft(x)/n. Then

psd<-Mod(fft(x)/n)^2

The psd varies wildly across freqs, as expected. I do an average over
freqs
mean(psd)
It turns out that this is roughly equal to sigma^2/n. But
n = duration/(delta t), so I find:
			mean(psd) = [sigma^2 * (delta t)]/duration
However theory says:	mean(psd)=sigma^2*(delta t)
The numerical result is too small by a factor of duration.

Is the theory wrong?
Should I just multiply mean(psd) by duration?

I am confused. Thanks for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu May 11 11:56:43 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 11 May 2000 11:56:43 +0200 (CEST)
Subject: det() {was "RE: [R] using MANOVA in R"}
In-Reply-To: <005e01bfbb23$53351360$b1eb92c1@unirioja.es>
References: <20000508232540.5286.qmail@web121.yahoomail.com>
	<005e01bfbb23$53351360$b1eb92c1@unirioja.es>
Message-ID: <14618.33755.205864.269766@lynne.ethz.ch>

>>>>> Manuel Castejon Limas <manuel.castejon at dim.unirioja.es> writes:

      ...

    Manuel> # Lets define some kind of determinant function

      >> det <- function (x)   { prod(eigen(x)$values) }

      ....


We have been there before (a year ago on R-devel, see "eigenvalue"),
and since then had the following in   ?qr :

>>    Examples:
>>
>>	 ## The determinant of a matrix  -- if you really must have it
>>	 det2 <- function(x) prod(diag(qr(x)$qr))*(-1)^(ncol(x)-1)


But since people seem to re-invent that teeny part of the wheel,
something like the following will be in R 1.1.x :

  ### From Doug Bates' 20 Apr 1999 post to R-devel;
  ### "method" idea from J.K.Lindsey's rmutil

  det <- function(x, method = c("qr","eigenvalues"))
  {
      if(!is.matrix(x))
	  stop("x must be a matrix")
      method <- match.arg(method) # ensures a method from above
      if(method == "qr")
	  prod(diag(qr(x)$qr)) *(-1)^(ncol(x)-1)
      else ## if(method == "eigenvalues")
	  Re(prod(eigen(x, only.values=TRUE)$values))
  }


    det                   package:base                   R Documentation

    Calculate the Determinant of a Matrix

    Description:

	 `det' calculates the determinant of a matrix either by `qr'
	 decomposition or from the `eigen'values.

    Usage:

	 det(x, method = c("qr","eigenvalues"))

    Arguments:

	   z: numeric matrix.

      method: `"qr"' (default) or `"eigenvalues"'

    Note:

	 Often, computing the determinant is not what you should be doing
	 to solve a given problem.

	 The `"qr"' method is much faster for large matrices.

    See Also:

	 `eigen', `qr', `svd'

    Examples:

	 (x <- matrix(1:4, ncol=2))
	 det(x)
	 det(x, method="eigenvalues")

	 det(print(cbind(1,1:3,c(2,0,1))))


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu May 11 12:24:24 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 11 May 2000 12:24:24 +0200
Subject: [R] Plotting in R
Message-ID: <3.0.32.20000511122423.00916800@162.38.183.200>

At 10:03 11/05/00 +0200, you wrote:
>## I hope this is not your home work assignment;  
>## The following is actually pretty neat .. (propria laus sordet)
>
>x <- 1:1000
>
>ndig <- 6
>
> (ii <- as.integer(10^(ndig-1) * log(x)))[1:7]
> (ci <- formatC(ii, flag="0", wid= ndig))[1:7]
> cm <- t(sapply(ci, function(cc) strsplit(cc,NULL)[[1]]))
> cm [1:7,]
>
>apply(cm, 2, table) #--> Nice tables
>
># The plots :
>par(mfrow= c(3,2), lab = c(10,10,7))
>for(i in 1:ndig)
>    hist(as.integer(cm[,i]), breaks = -.5 + 0:10,
>         main = paste("Distribution of  ", i,"-th digit"))



Here is my solution (just for the tables):

	x <- log(1:1000)
	for (i in 1:6) print(table(as.integer((x %% (10/10^i))*10^i)))

(I'm surprised it works...)

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Thu May 11 13:11:02 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Thu, 11 May 2000 12:11:02 +0100
Subject: [R] noise poser spectral density
In-Reply-To: <Pine.LNX.4.10.10005111009360.4657-100000@localhost.localdo main>
Message-ID: <3.0.1.32.20000511121102.006dda9c@pop3.ucd.ie>

At 10:12 AM 5/11/00 +0100, you wrote:
>I know there are some time series experts on this list, and I am hoping
>one of you might help me with this problem. I am trying to understand the
>relationship between No (noise power spectral density) and Gaussian white
>noise sigma^2.
>
>I want to check numerically the theoretical relationship (from Selin,1965)
>No = sigma^2/(2*W) = sigma^2 * delta t, where
>No is power spectral density
>delta t is sampling interval in sec = 1/(2*W)
>W is the bandwidth: the power spectral density (psd) is flat (equal to No)
>for freqs between -W and W Hz
>
>I generate a vector x of n samples from N(0, sigma^2).
>n<-2048
>sigma<-10
>x<- rnorm(n=n,sd=sigma)
>
>I checked R's fft against the examples in Bracewell 1978 p. 364, e.g.
>{1,0,0,0} gives fft 1/4*{1,1,1,1}
>To make R's fft give this result I do fft(x)/n. Then
>
>psd<-Mod(fft(x)/n)^2

the periodogram should be

   Mod(fft(x))^2/n

so the average periodogram (equal to No in the
white noise case) is sigma^2 (set delta t to 1)

>
>The psd varies wildly across freqs, as expected. I do an average over
>freqs
>mean(psd)
>It turns out that this is roughly equal to sigma^2/n. But
>n = duration/(delta t), so I find:
>			mean(psd) = [sigma^2 * (delta t)]/duration
>However theory says:	mean(psd)=sigma^2*(delta t)
>The numerical result is too small by a factor of duration.
>
>Is the theory wrong?
>Should I just multiply mean(psd) by duration?
>
>I am confused. Thanks for any help.
>
>Bill Simpson
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Thu May 11 14:36:53 2000
From: markhall at gol.com (Mark Hall)
Date: Thu, 11 May 2000 21:36:53 +0900
Subject: [R] problems with lme
Message-ID: <391AA964.2AF281D0@gol.com>

I've recently downloaded the latest version of R and tried to use
the lme library.  When loading lme, I get the following error message:
Error in dyn.load(x, as.logical(local), as.logical (now)):
unable to load shared library "C:\R\RW1000/library/lme/libs/lme.dll":

I have R loaded on a machine running Win98.

Thanks in advance,
Mark Hall
markhall at gol.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 11 15:46:04 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 11 May 2000 15:46:04 +0200
Subject: [R] problems with lme
References: <391AA964.2AF281D0@gol.com>
Message-ID: <391AB99C.B72130AE@statistik.uni-dortmund.de>

Mark Hall wrote:
> 
> I've recently downloaded the latest version of R and tried to use
> the lme library.  When loading lme, I get the following error message:
> Error in dyn.load(x, as.logical(local), as.logical (now)):
> unable to load shared library "C:\R\RW1000/library/lme/libs/lme.dll":
> 
> I have R loaded on a machine running Win98.

Package lme is _not_ designed for R 1.0.0.

Try package nlme, available at CRAN.

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Thu May 11 15:47:36 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Thu, 11 May 2000 15:47:36 +0200
Subject: [R] using MANOVA in R
References: <20000508232540.5286.qmail@web121.yahoomail.com>
Message-ID: <007701bfbb4f$7783cc80$b1eb92c1@unirioja.es>

Dear people,

Besides of being looking for outlier detection methods in non normal
multivariate
distributions I am also interested in knowing about the different ways
people manage the bad behaviour of MANOVA as soon as the algorithm is used
with irregular number of samples in each class.

Any help would be appreciated.

And excuse me if I tried to write a det function when I needed to calcute
one and found none. I promise not to do it again :-)
I hope you understand that a year ago I wasn?t in the list, so I missed that
part. Anyway it was not mandatory to use my det function. If it was able to
make you all know that the det function in TestWilk meant determinant, I?m
happy enough.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emmanuel.charpentier at sap.ap-hop-paris.fr  Thu May 11 16:46:13 2000
From: emmanuel.charpentier at sap.ap-hop-paris.fr (Emmanuel Charpentier)
Date: Thu, 11 May 2000 16:46:13 +0200
Subject: [R] Asking for precisions (was : (No subject))
Message-ID: <391AC7B5.B3165D2@sap.ap-hop-paris.fr>

Seen on the R-help list :

>Dear friends.
>I have some numbers in percentages all very close together 
>between 60% and 80% as a repeated measures design, 6 measurements per 
>patient (11 ptt) all on to treatments. I think it might be possible to make 
>arc since transformation to obtain more well behaved values but is that in 
>general the best ? At any rate there is a dramatic difference between the 
>verdict obtained using pairwise.wilcox.test as compared to t.test. So far 
>this is not a R specific question - but I guess it will be. 

Troels, some questions :

- Are your "percentage" values really a proportion (e. g. number of "successes"
from N indemendant "trials") or just an easy way to express vartiatoin from a
baseline (quite frequent in biology and medicine) ? The arcsin(sqrt(p))
transformations makes sense only in the former case (where expected residual
variance is 1/(4*N)). In the latter case, use your "percentage" as a
countinuous variable (maybe after variance-stabilizing transformation).

- What are you trying to assess ? Evolution of responses between repetitions ?
Use some chronological series analysis (e. g. autoregressive models). Or
repeated-measures anova model ... Depends of what your experimental schema is.

- (Paired ?) t-test and Wilcoxon test are tests comparing central tendencies
(means) of two samples. You did not state what defines your twoi samples, and
I've trouble understanding what your experimental scheme is ....

I think that a more detailed description of your experiment or observation set
is in order ...

--
Emmanuel Charpentier			Tel :		+33-01 40 27 35 98
Secr?tariat scientifique du CEDIT	Fax :		+33-01 40 27 55 65
Direction de la Politique M?dicale // Assistance Publique - H?pitaux de Paris
3, Avenue Victoria // F-75004 Paris /// France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From voss at statistik.uni-dortmund.de  Fri May 12 10:45:27 2000
From: voss at statistik.uni-dortmund.de (Brigitta Voss)
Date: Fri, 12 May 2000 10:45:27 +0200
Subject: [R] output in optim
Message-ID: <391BC4A7.A9833FE3@statistik.uni-dortmund.de>

Dear all,

I would like to use 'optim' with method="L-BFGS-B". 
But I could not figure out, how to get the function value after any
iteration, like You get them using method="BFGS"?

Brigitta Voss
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 12 11:21:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 May 2000 10:21:35 +0100 (BST)
Subject: [R] output in optim
In-Reply-To: <391BC4A7.A9833FE3@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10005121018590.12929-100000@auk.stats>

On Fri, 12 May 2000, Brigitta Voss wrote:

> I would like to use 'optim' with method="L-BFGS-B". 
> But I could not figure out, how to get the function value after any
> iteration, like You get them using method="BFGS"?

You mean as debugging trace?  That is set up differently for each of the
optimization methods, and not available for L-BFGS-B.

The best idea is to make your function print out the value each time it
is called.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From voss at statistik.uni-dortmund.de  Fri May 12 11:40:07 2000
From: voss at statistik.uni-dortmund.de (Brigitta Voss)
Date: Fri, 12 May 2000 11:40:07 +0200
Subject: [R] output in optim
Message-ID: <391BD177.8D8EB6D6@statistik.uni-dortmund.de>

Hi again,

sorry for my last unclearly formulated mail. 
Actually, when using optim with method="L-BFGS-B" I would like to get
the new function value after each iteration step. For method="BFGS"
there is the possibility to use REPORT=1. Is there something like this
for method="L-BFGS-B", which I might have overseen?

Many thanks in advance

Brigitta Voss
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Damien.Berlemont at ccf.fr  Fri May 12 11:39:14 2000
From: Damien.Berlemont at ccf.fr (Damien BERLEMONT)
Date: Fri, 12 May 2000 11:39:14 +0200
Subject: [R] lev in smooth.spline
Message-ID: <s91beae3.034@ccf.fr>

** High Priority **

Dear R users,

I am new in the cubic smoothing spline issues, consequently my question is about the smooth.spline function in the modreg package : I would like to know if the value of *$lev is the eigen decomposition of the smoother matrix or only the diagonal values of the smoother matrix ? If second choice, how can I have the smoother matrix S defined by : fitted vector = S %*% vector to be smoothed ?

Thanks in advance for all R users that could answer me

Damien Berlemont
Student in statistics in the University of Paris-X
Damien.Berlemont at ccf.fr




******************************************
 Ce message est strictement confidentiel. Son integrite n'est pas assuree sur Internet. Le contenu de ce message ne peut engager la responsabilite du Credit Commercial de France. Si vous n'etes pas destinataire du message, merci d'en avertir immediatement l'expediteur et de le detruire.

 This message is strictly confidential. Integrity is not guaranteed through Internet. The content of this message does not bind Credit commercial de France in any way.  If you are not the intended recipient of the message, please notify the sender immediately and delete it.
******************************************

******************************************
message a ete controle par antivirus.
******************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 12 13:43:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 May 2000 12:43:21 +0100 (BST)
Subject: [R] lev in smooth.spline
In-Reply-To: <s91beae3.034@ccf.fr>
Message-ID: <Pine.GSO.4.05.10005121238210.13117-100000@auk.stats>

On Fri, 12 May 2000, Damien BERLEMONT wrote:

> ** High Priority **
> 
> Dear R users,
> 
> I am new in the cubic smoothing spline issues, consequently my question 
is about the smooth.spline function in the modreg package : 
I would like to know if the value of *$lev is the eigen decomposition 
of the smoother matrix or only the diagonal values of the smoother matrix ? 
If second choice, how can I have the smoother matrix S defined by : 
fitted vector = S %*% vector to be smoothed ?
> 
> Thanks in advance for all R users that could answer me

You could answer it for yourself by looking at the help page(!):

     lev: leverages, the diagonal values of the smoother matrix.

or at the code.  You can of course find the smoother matrix by predicting
some basis vectors, the absolutely standard technique in the smoothing
field.


> Damien Berlemont
> Student in statistics in the University of Paris-X
> Damien.Berlemont at ccf.fr
> 
[ Nonsense about `This message is strictly confidential' deleted. ]



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Fri May 12 17:37:47 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Fri, 12 May 2000 11:37:47 -0400
Subject: [R] outliers in boxplot
Message-ID: <391C254B.1B22416D@discrete.concordia.ca>

Hi All,

I'm trying to draw a number of sidee-by-side boxplots with quite a
large number of outliers.  The default in R is to plot these using
the current value of par("pch").  I would like to plot them as
horizontal lines of length k times the width of the boxes.  Essentially
what I want is the equivalent of the S-Plus parameters
outline=T, outwex=k
which do not seem to exist in the R version of boxplot.

Also the helpfile for boxplot says that graphical parameters can be
passed but the pch parameter is ignored if supplied. Is this
intentional?

Thanks in advance,
-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri May 12 17:52:37 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 12 May 2000 17:52:37 +0200 (MET DST)
Subject: (GUIs, was R GUI ( was Re: [R] R Documentation(s)))
In-Reply-To: <Pine.GSO.4.05.10005090631310.14220-100000@auk.stats>
Message-ID: <Pine.OSF.4.05.10005091132230.2685-100000@alnair.uio.no>

I'm following up, just a bit late... :-)

On Tue, 9 May 2000, Prof Brian D Ripley wrote:

>> Peter Dalgaard BSA wrote:
>> > 
>> > Actually, I think there are valid reasons for people to want GUI
>> > interfaces to statistics. 

There most certainly are.

>> >One argument that I hear frequently is that
>> > nonstatisticians tend to do other things than analyse data for
>> > extended periods of time, and it becomes difficult to remember the
>> > formalities from one time to the next. So they get scared of the
>> > prospect of staring empty-minded at the R prompt. 

Well, I'm not a statistician by any standards, the most advanced thing I
ever did in a course was 
glm(formula = kyphosis ~ al + an + sa, family = binomial(link = "logit"), 
    data = data),
but of course, since I am an astrophysicist, I'm pretty used to
programming, command-line interfaces etc. But, as Prof Ripley says:

>Um.  In all the statistical GUIs I have used (including those two and
>S_PLUS) the menu/dialogs interface shows you only a part of what can be
>done. (Actually, I think in SPSS for Windows it is all that can be done,
>but SPSS itself can do more.)  So my experience is the other way round: I
>know it can be done, but I can't find out how from the GUI and as GUIs are
>supposed to me self-explanatory, no other documentation is to hand.

it is far from easy to find the things you want in menu systems. If you
haven't understood the concepts, the path to doing what you need may in
fact be shorter at a command line: Take for example my glm above. I may
think that I should be looking under "hypothesis testing". I mean, there
are levels of significanse and everything, you now. :-) I will not find
anything there in a menu system under "hypothesis testing", I might find
it under "regression". On the other hand, with a piece of well written
documentation, I might not only find the glm()-function more swiftly, I
might also realize that I wasn't really doing hypothesis testing. 

I'm not against a GUI for R, but I think that well written documentation
intended for beginners of different fields of the command line interface
is far more urgent, and is something I think would attract beginners to R.

There are of course certain operations that could be performed more easily
with a GUI. For example, if I have a figure on the X-device, doing a
right-click on the figure to get a pop-up menu that lets me send it to a
postscript device or a different file (blurring the distinction) would be
great. But not urgent.

In general, I think that a GUI may be nice if the options you have are
few, but if the options you have are many, then it is just a barrier
between you and the really powerful stuff. The GUI may be designed to help
you do tasks that are common, but if you are doing things that are
somewhat out of the mainstream, even simple operations may be difficult to
perform.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 12 18:56:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 May 2000 17:56:25 +0100 (BST)
Subject: (GUIs, was R GUI ( was Re: [R] R Documentation(s)))
In-Reply-To: <Pine.OSF.4.05.10005091132230.2685-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.05.10005121753390.22244-100000@auk.stats>

On Fri, 12 May 2000, Kjetil Kjernsmo wrote:

> There are of course certain operations that could be performed more easily
> with a GUI. For example, if I have a figure on the X-device, doing a
> right-click on the figure to get a pop-up menu that lets me send it to a
> postscript device or a different file (blurring the distinction) would be
> great. But not urgent.

And of course the Windows version already has such things, and replaying of
plots and ....  The problem I see is that we need to assume a toolkit for 
X (e.g. Motif) to make programming such things feasible in a finite time.

I am working on the feasibility of porting the R for Windows GUI to Motif,
and others are looking at other GUI routes.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri May 12 20:00:17 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 12 May 2000 20:00:17 +0200 (MET DST)
Subject: [R] Geometric Distribution at prob=c(0,1)
Message-ID: <Pine.OSF.4.05.10005121935000.22450-100000@alnair.uio.no>

Dear all,

I'm working with the geometric distribution for the time being, and I'm
confused. This may have more to do with statistics than R itself, but
since I'm getting results from R I find counterintuitive (well, yeah, my
statistical intuition has not been properly sharpened), I feel like
asking.

The point first:
If I do
> rgeom(1,prob=1)
I get:
[1] NaN
Warning message: 
NAs produced in: rgeom(n, prob) 
And if I do:
> rgeom(1,prob=0)
I get:
[1] NaN
Warning message: 
NAs produced in: rgeom(n, prob) 

I was expecting to get 0 and Inf respectively.... Should I expect that?

Going back to my textbooks (Dudewicz and Mishra 1988, primarily), they
describe the geometric dist as the dist of a random variable that gives
the number of the trail that an event occurs, with a constant probability
p (or prob). Contrary to R, my textbooks have x = 1, 2, 3, ... 

My intuition says that with this interpretation, a probability of 0 means
that the event just won't happen, and consequently rgeom(1,prob=0) should
always return Inf. qgeom() seems to agree:
> qgeom(1,1)
[1] Inf

rgeom(1,prob=1) says to me that the event must occur on the first trail,
and with x = 0, 1, 2, ..., that means it should return 0. Here, 
> qgeom(0,0)
[1] NaN
Warning message: 
NaNs produced in: qgeom(p, prob, lower.tail, log.p) 

Is it my intuition that is playing tricks with me (again), or is it a bug? 
  
Yours Confusedly,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 12 20:18:12 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 12 May 2000 11:18:12 -0700 (PDT)
Subject: [R] Geometric Distribution at prob=c(0,1)
In-Reply-To: <Pine.OSF.4.05.10005121935000.22450-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.21.0005121108120.19301-100000@mail.biostat.washington.edu>

On Fri, 12 May 2000, Kjetil Kjernsmo wrote:

> Dear all,
> 
> I'm working with the geometric distribution for the time being, and I'm
> confused. This may have more to do with statistics than R itself, but
> since I'm getting results from R I find counterintuitive (well, yeah, my
> statistical intuition has not been properly sharpened), I feel like
> asking.
> 
> The point first:
> If I do
> > rgeom(1,prob=1)
> I get:
> [1] NaN
> Warning message: 
> NAs produced in: rgeom(n, prob) 
> And if I do:
> > rgeom(1,prob=0)
> I get:
> [1] NaN
> Warning message: 
> NAs produced in: rgeom(n, prob) 
> 
> I was expecting to get 0 and Inf respectively.... Should I expect that?

Yes, and probably No.

As far as I know, none of the rxxx functions produce Inf results -- we
have stuck to real-valued random variables.

We don't have entirely consistent handling of limiting behaviour in
mathematical functions. That is, if a quantity is undefined at a
particular parameter value but has a unique limit we often but not always
provide that limit.

I think rgeom(prob=1) is a case where there is a clearly right answer: 0.
Given that we have recently got upset at the glibc maintainers for not
providing correct limiting behaviour for exp, we should probably fix it.

On the other hand rgeom(prob=0)=Inf is less clearly correct. In the
development version we give NA rather than NaN: that is "we're not going
to answer this" rather than "the answer is undefined".


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 12 20:19:21 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 12 May 2000 20:19:21 +0200
Subject: [R] outliers in boxplot
References: <391C254B.1B22416D@discrete.concordia.ca>
Message-ID: <391C4B29.46F4C333@statistik.uni-dortmund.de>

Angelo Canty wrote:
> 
> Hi All,
> 
> I'm trying to draw a number of sidee-by-side boxplots with quite a
> large number of outliers.  The default in R is to plot these using
> the current value of par("pch").  I would like to plot them as
> horizontal lines of length k times the width of the boxes.  Essentially
> what I want is the equivalent of the S-Plus parameters
> outline=T, outwex=k
> which do not seem to exist in the R version of boxplot.
>
> Also the helpfile for boxplot says that graphical parameters can be
> passed but the pch parameter is ignored if supplied. Is this
> intentional?

You are right, outline=T and outwex=k does not exist. 
And not all grahical parameters can be passed (e.g. pch or lty).

To change "pch", try something like
  par(pch="*")
  boxplot(.)


If you want to plot outliers as lines, you should have a deeper look
into that method:
To produce the plot, bxp(.) is called by boxplot.default(.).
So you should modify that function.

Example:

   temp <- boxplot(c(1:5, 10))
   temp  
   ## necessary informations for bxp(.) 
   ## (e.g.  median, ..., outliers)
   my.bxp <- bxp  ## Make your own boxplot function
   fix(my.bxp)  ## modify it (described below)
   my.bxp(temp) ## and draw the plot :-)


In my.bxp(.) you have to change line 30:

   ## Replace:
   points(rep(x, length(out)), out, col = border) # draws outliers
   ## by something like:
   if (length(out) > 0) 
       segments(x - wid/2, out, x + wid/2, out, col = border)
   ## "wid" is length of the lines here.




Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Fri May 12 20:40:44 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Fri, 12 May 2000 20:40:44 +0200 (MET DST)
Subject: [R] The incomplete gamma function
Message-ID: <Pine.OSF.4.05.10005122035480.22450-100000@alnair.uio.no>

Hello again!

Since my previous question wasn't stupid, I try another one:

Has anybody implemented the _incomplete_ gamma function in R?

After looking at the code for the Euler gamma function, it doesn't look
very easy.... But I don't think I need anything very rigorous or accurate
or fast, so I was hoping someone might have something. 

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 12 21:33:11 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 May 2000 20:33:11 +0100 (BST)
Subject: [R] The incomplete gamma function
In-Reply-To: <Pine.OSF.4.05.10005122035480.22450-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.05.10005122028580.29635-100000@auk.stats>

On Fri, 12 May 2000, Kjetil Kjernsmo wrote:

> Hello again!
> 
> Since my previous question wasn't stupid, I try another one:
>
> Has anybody implemented the _incomplete_ gamma function in R?

What do you think the cumulative distribution function of a gamma
distribution is?  (Now, there is a little room for disagreement here,
but I think

pgamma(x, nu)*gamma(nu)

might be what you are looking for.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hmonder at nac.net  Sat May 13 15:37:27 2000
From: hmonder at nac.net (Harvey Monder)
Date: Sat, 13 May 2000 09:37:27 -0400
Subject: [R] Help accessing functions
Message-ID: <391D5A97.D21B686@nac.net>

I recently installed R and have been trying to use 'supsmu' and
'lowess'.  However I get an error message that these functions have not
been found.  I am running R on WinNT and have tried directing R_LIB to
the library directory using the instructions in the FAQ for setting up
.Rprofile and for modifying /etc/Rprofile - neither change worked.  I
see the functions listed in the modreg directory.  Any suggestions as to
how I can get R to see these libraries?

    Thanks,
    Harvey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Sat May 13 16:43:53 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Sat, 13 May 2000 16:43:53 +0200
Subject: [R] Help accessing functions
References: <391D5A97.D21B686@nac.net>
Message-ID: <391D6A29.D5FC5D07@epfl.ch>

Harvey Monder wrote:
> how I can get R to see these libraries?

Did u load the "modreg" package?

Try

  library("modreg")

???

  Diego Kuonen

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Ya era Ud. statouado?  http://www.Statoo.com     
http://www.LinuxPlanet.ch     Linux - Ultimate Anti-Virus Software
WAP on http://WAP.lugo.ch               SURF on http://www.LUGO.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at commerce.otago.ac.nz  Sun May 14 18:05:57 2000
From: jwilliams at commerce.otago.ac.nz (John Williams)
Date: Sun, 14 May 2000 18:05:57 +0200
Subject: [R] Setting up ESS 5.0
Message-ID: <00051418122300.01111@john>

I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux 6.3, but I
cannot get ESS to start R.  I have tried mailing a bug report from within ESS
but have received no reply after a week.

The symptoms are:  I follow the instuctions in the ESS README, go M-x R, but R
terminates with the message "must set --save, --nosave or --vanuilla".  I do
that (have to hack the ESS source essd-r.el to do so, setting the variables in
/home/me/.emacs doesn't work) , but then ESS reports "timeout waiting for
prompt", even when I set the timout period to a _very_ long time.

Has anyone set up ESS on a similar sytem with success?  As a side note, the
instructions in ESS are out of sync with the make file.  Doing a "make install"
fails due to the fact that there is no "info" target in the Makefile.

TIA

John


 -- 
--------------------------
John Williams
Institut fr Marketing II
Humboldt Universistat
Berlin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sun May 14 16:32:33 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sun, 14 May 2000 16:32:33 +0200
Subject: [R] truncated regressor
Message-ID: <4.3.1.0.20000514162914.00d97920@127.0.0.1>

Dear friends. I have the problem of assessing the importance of bleeding 
times censored at 20 minutes for predicting blood loss incurred after a 
liver biopsy. How would I use the knowledge that the censored values were 
20 minutes or more ?

Best wishes

Troels
Troels Ring, MD
Department of Nephrology
Aalborg Hospital, Denmark
tring at mail1.stofanet.dk 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 14 16:39:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 May 2000 16:39:59 +0200
Subject: [R] Setting up ESS 5.0
In-Reply-To: John Williams's message of "Sun, 14 May 2000 18:05:57 +0200"
References: <00051418122300.01111@john>
Message-ID: <x2aeht8abk.fsf@blueberry.kubism.ku.dk>

John Williams <jwilliams at commerce.otago.ac.nz> writes:

> I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux 6.3, but I
> cannot get ESS to start R.  I have tried mailing a bug report from within ESS
> but have received no reply after a week.
> 
> The symptoms are:  I follow the instuctions in the ESS README, go M-x R, but R
> terminates with the message "must set --save, --nosave or --vanuilla".  I do
> that (have to hack the ESS source essd-r.el to do so, setting the variables in
> /home/me/.emacs doesn't work) , but then ESS reports "timeout waiting for
> prompt", even when I set the timout period to a _very_ long time.
> 
> Has anyone set up ESS on a similar sytem with success?  As a side note, the
> instructions in ESS are out of sync with the make file.  Doing a "make install"
> fails due to the fact that there is no "info" target in the Makefile.

I suspect you'll have considerably better luck with 5.1.13, 5.0 is
getting rather old.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 14 17:45:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 May 2000 16:45:45 +0100 (BST)
Subject: [R] truncated regressor
In-Reply-To: <4.3.1.0.20000514162914.00d97920@127.0.0.1>
Message-ID: <Pine.GSO.4.05.10005141640460.21269-100000@auk.stats>

On Sun, 14 May 2000, Troels Ring wrote:

> Dear friends. I have the problem of assessing the importance of bleeding 
> times censored at 20 minutes for predicting blood loss incurred after a 
> liver biopsy. How would I use the knowledge that the censored values were 
> 20 minutes or more ?

This is a (partially) missing-value problem.  Are values > 20 mins 
always censored?  If so I would group the times and use an ordered factor
as a regressor.  If you really want a linear effect on, say `bt' you can
use

... + bt + I(bt==20) + ...

which allows a separate value of bt==20 over and above a linear model.

If your times are not all censored, you could build a model for the
missing data and use multiple imputation.  If you need, that, more
details of your problem, please.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun May 14 18:30:55 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 14 May 2000 12:30:55 -0400 (EDT)
Subject: [R] Setting up ESS 5.0
In-Reply-To: <00051418122300.01111@john>
References: <00051418122300.01111@john>
Message-ID: <14622.54463.827793.207506@sonny.eddelbuettel.com>


  "John" == John Williams <jwilliams at commerce.otago.ac.nz> writes:
  John>  I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux
  John> 6.3, but I cannot get ESS to start R.  I have tried mailing a bug
  John> report from within ESS but have received no reply after a week.

It works "out of the box" on Debian GNU/Linux which comes which packages for
every Emacs (I prefer Xemacs21), R and ESS.  You might be able to convert the
.deb packages into .rpm using the 'alien' program.

That being said, I also struckled with an ancient ESS (eg 5.0) prior to the
package being made available (which is 5.1.*).

  John> Humboldt Universistat 

That is misspelled. "Universit?t" in or "Universitaet" in 7bit mode.

Regards,  Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at commerce.otago.ac.nz  Sun May 14 22:23:07 2000
From: jwilliams at commerce.otago.ac.nz (John Williams)
Date: Sun, 14 May 2000 22:23:07 +0200
Subject: [R] Setting up ESS 5.0
In-Reply-To: <x2aeht8abk.fsf@blueberry.kubism.ku.dk>
References: <00051418122300.01111@john> <x2aeht8abk.fsf@blueberry.kubism.ku.dk>
Message-ID: <00051422293600.02608@john>

On Sun, 14 May 2000, Peter Dalgaard BSA wrote:
> John Williams <jwilliams at commerce.otago.ac.nz> writes:
> 
> > I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux 6.3, but I
> > cannot get ESS to start R.  I have tried mailing a bug report from within ESS
> > but have received no reply after a week.
> > 
> > The symptoms are:  I follow the instuctions in the ESS README, go M-x R, but R
> > terminates with the message "must set --save, --nosave or --vanuilla".  I do
> > that (have to hack the ESS source essd-r.el to do so, setting the variables in
> > /home/me/.emacs doesn't work) , but then ESS reports "timeout waiting for
> > prompt", even when I set the timout period to a _very_ long time.
> > 
> > Has anyone set up ESS on a similar sytem with success?  As a side note, the
> > instructions in ESS are out of sync with the make file.  Doing a "make install"
> > fails due to the fact that there is no "info" target in the Makefile.
> 
> I suspect you'll have considerably better luck with 5.1.13, 5.0 is
> getting rather old.
> 
Thanks for your quick reply! I have d/l'ed  5.1.13 and have had exactly the
same behaviour, except that now I can't even set the start args.  Could someone
tell me how to do this please (set start args so R doesn't terminate saying
'you need to specify --save, --nosave or --vanilla')?

Thanks also to Dirk (expecially for the spelling tip, how embarrasing...)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 14 21:56:34 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 May 2000 21:56:34 +0200
Subject: [R] Setting up ESS 5.0
In-Reply-To: John Williams's message of "Sun, 14 May 2000 22:23:07 +0200"
References: <00051418122300.01111@john> <x2aeht8abk.fsf@blueberry.kubism.ku.dk> <00051422293600.02608@john>
Message-ID: <x2u2g09a8d.fsf@blueberry.kubism.ku.dk>

John Williams <jwilliams at commerce.otago.ac.nz> writes:

> Thanks for your quick reply! I have d/l'ed  5.1.13 and have had exactly the
> same behaviour, except that now I can't even set the start args.  Could someone
> tell me how to do this please (set start args so R doesn't terminate saying
> 'you need to specify --save, --nosave or --vanilla')?
> 
> Thanks also to Dirk (expecially for the spelling tip, how embarrasing...)

Hm. This is actually a bit odd. It works OK for me with RH 6.2 (i.e.
emacs 20.5.1) and ESS 5.1.9. The error you're getting indicates that R
thinks it is running in non-interactive mode, which is not what is
supposed to happen in an emacs buffer, at least not on Linuxen. Do you
have anything (e.g. in your .emacs) that could cause that?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun May 14 22:15:59 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 14 May 2000 16:15:59 -0400 (EDT)
Subject: [R] Setting up ESS 5.0
In-Reply-To: <00051422293600.02608@john>
References: <00051418122300.01111@john>
	<x2aeht8abk.fsf@blueberry.kubism.ku.dk>
	<00051422293600.02608@john>
Message-ID: <14623.2431.926739.65389@sonny.eddelbuettel.com>


  John> Thanks for your quick reply! I have d/l'ed 5.1.13 and have had
  John> exactly the same behaviour, except that now I can't even set the
  John> start args.  Could someone tell me how to do this please (set start
  John> args so R doesn't terminate saying 'you need to specify --save,
  John> --nosave or --vanilla')?

Debian uses startup files for the additional Emacs packages which all the
different emacs variants source from /etc/emacs/site-start.d/. However, the
one for ESS contains only the path setting to get ESS itself from a directory
site-lisp/ess, followed by  (load "ess-site")  So maybe I should send you my
ess-site in private mail?  

  John> Thanks also to Dirk (expecially for the spelling tip, how
  John> embarrasing...)

My pleasure, and sincere apologies for the atrociously typed/spelled mail of
mine earlier.  Sunday morning hurries with the family...

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May 14 22:38:57 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 14 May 2000 16:38:57 -0400 (EDT)
Subject: [R] Setting up ESS 5.0
In-Reply-To: <00051418122300.01111@john>
Message-ID: <Pine.LNX.4.21.0005141618220.1067-100000@Chrestomanci.home.earth>

Dear John,

I use a very similar setup, R 1.0.0, ESS 5.0 and GNU Emacs 20.3.1 under
SuSE Linux 6.2. Everything works perfectly. 

I would suggest using the rpms for ESS 5.1 for SuSE 6.3, located in the
binaries section of CRAN. These rpms, along with those for R, are made by
Albrecht Gebhardt. The url is

http://lib.stat.cmu.edu/R/CRAN/bin/linux/suse/6.3/RPMS/i386/ess/ 

I found Albrecht's rpms always work flawlessly, and I have been using them
for a while. Unless you have strong feelings about where your files should
be located, I suggest you use his rpms for R as well.

Let me know how it goes.
                                          Sincerely, Faheem Mitha.

On Sun, 14 May 2000, John Williams wrote:

> I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux
> 6.3, but I cannot get ESS to start R.  I have tried mailing a bug
> report from within ESS but have received no reply after a week.
> 
> The symptoms are:  I follow the instuctions in the ESS README, go M-x
> R, but R terminates with the message "must set --save, --nosave or
> --vanuilla".  I do that (have to hack the ESS source essd-r.el to do
> so, setting the variables in /home/me/.emacs doesn't work) , but then
> ESS reports "timeout waiting for prompt", even when I set the timout
> period to a _very_ long time.
> 
> Has anyone set up ESS on a similar sytem with success?  As a side
> note, the instructions in ESS are out of sync with the make file.  
> Doing a "make install" fails due to the fact that there is no "info"
> target in the Makefile.
> 
> TIA
> 
> John
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at commerce.otago.ac.nz  Mon May 15 12:33:22 2000
From: jwilliams at commerce.otago.ac.nz (John Williams)
Date: Mon, 15 May 2000 12:33:22 +0200
Subject: [R] R on SuSE 6.3
Message-ID: <00051512424302.06571@john>

I am running R 1.0.1, ESS 5.0 and GNU Emacs 20.4.1 under SuSe Linux 6.3, but I
cannot get ESS to start R.  I have tried mailing a bug report from within ESS
but have received no reply after a week (this is why I am posting here)

The symptoms are:  I follow the instuctions in the ESS README, go M-x R, but R
terminates with the message "must set --save, --nosave or --vanuilla".  I do
that (have to hack the ESS source essd-r.el to do so, setting the variables in
/home/me/.emacs doesn't work) , but then ESS reports "timeout waiting for
prompt", even when I set the timout period to a _very_ long time.

I have now tried many different versions of ESS, both in rpm and tar.gz form,
none work for me.  The problem lies with R, I suspect.  I had compiled from
source myself and have been using it intensively for a few weeks.  No problem.

<sincere-praise>
Also, I have been using R for a couple of years now and am continually amazed
at how good it is, not just "for a free software project", but just good,
period.  Kudos to all involved.
</sincere-praise>

"Why not install the RPM?"  you may ask.  To which I reply "After downloading
the 6MB rpm I could not install it because rpm failed to unpack it." 

The message is: 
R-base                      unpacking of archive failed: cpio: Bad magic        

I also add that I have setp up R and ESS (both from source) on my Solaris box
with absolutely zero hassle, just "./configure && make && make install".

I have a pretty much virgin install of SuSE 6.3, R is the only non-rpm'ed
software installed.

Any clues?
 -- 
--------------------------
John Williams
Institut fr Marketing II
Humboldt Universitt
Berlin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbourgoi at salome.saclay.cea.fr  Mon May 15 11:33:08 2000
From: mbourgoi at salome.saclay.cea.fr (Marjorie Bourgoin)
Date: Mon, 15 May 2000 11:33:08 +0200
Subject: [R] Non linear regression using Levenberg-Marquardt method
Message-ID: <391FC454.FCD3E256@salome.saclay.cea.fr>

Hello,

I want to fit some non linear models with the Levenberg-Marquardt
algorithm. It doesn't seem to exist any function to do this in R ( well,
maybe one does, but I'm a new user, and the only documentation I have is
"An introduction to R").
I'd like to know if this function exists, maybe throught an additionnal
package.

I'd also like to know if if I can fit my models without giving initial
estimates of the parameters. The problem is that I have to fit four non
linear models with a lots of data sets, so I can't plot the data and
guess parameters values for each of them.

Thanks for all

Marjorie
-- 
************************************************************************
BOURGOIN Marjorie
CEA Saclay
Departement d'Ingenierie et d'Etude des Proteines
Bat. 152
91191 GIF sur YVETTE
FRANCE
Tel:01-69-08-71-35 
mbourgoi at salome.saclay.cea.fr        
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon May 15 11:33:59 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 15 May 2000 11:33:59 +0200
Subject: [R] truncated regressor
Message-ID: <3.0.32.20000515113359.00901c20@162.38.183.200>

At 16:45 14/05/00 +0100, Brian D. Ripley wrote:
>On Sun, 14 May 2000, Troels Ring wrote:
>
>> Dear friends. I have the problem of assessing the importance of bleeding 
>> times censored at 20 minutes for predicting blood loss incurred after a 
>> liver biopsy. How would I use the knowledge that the censored values were 
>> 20 minutes or more ?
>
>This is a (partially) missing-value problem.  Are values > 20 mins 
>always censored?  If so I would group the times and use an ordered factor
>as a regressor.  If you really want a linear effect on, say `bt' you can
>use
>
>... + bt + I(bt==20) + ...
>
>which allows a separate value of bt==20 over and above a linear model.


I am trying to understand this. The help for ?I says:

...
     To avoid this confusion, the function `I()' can be used to bracket
     those portions of a model formula where the operators are used in
     their arithmetic sense.  For example, in the formula `y ~ a +
     I(b+c)', the term `b+c' is to be interpreted as the sum of `b' and
     `c'.
...

which is clear to me: doing lm(y ~ a + I(b+c)) is similar to

	d <- b + c
	lm(y ~ a + d)

But what if the expression in I() is a logical? After playing a moment, I
found out that a formula can include a logical variable, and treats it as a
factor:

> x <- runif(50, 0, 50)
> y <- 2*x + rnorm(50, 0, 5)
> lm(y ~ x < 25)

Call:
lm(formula = y ~ x < 25)

Coefficients:
(Intercept)       x < 25  
      78.24       -53.92  

> lm(y ~ x > 25)

Call:
lm(formula = y ~ x > 25)

Coefficients:
(Intercept)       x > 25  
      24.32        53.92  


Is it worth adding a few lines in this help file on the use of logical
variables in formula? (also characters can be included but must be
converted into factors before)

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon May 15 12:18:49 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 15 May 2000 12:18:49 +0200
Subject: [R] Setting up ESS 5.0
References: <00051418122300.01111@john> <x2aeht8abk.fsf@blueberry.kubism.ku.dk> <00051422293600.02608@john>
Message-ID: <391FCF08.ACFEABB5@psy.uni-muenchen.de>

Hi,

I?ve had exactely the same problems with SuSE 6.3 and ESS. The Problem
is, that SuSE changed the permisions of the ptty* from 6.2 to 6.3 and
ESS (and some other programms like the debugger xxgdb) has got some
problems with these changes. 

Look at:

http://sdb.suse.de/sdb/de/html/ke_devpts-63.html

for a solution. (Don?t know if this page is available in english too.)

The easieset, but insecure way

chmod 666 /dev/pty*


Or set the s-bit for xemcas/emacs and other applications by

chmod g+s $(which xemacs)
chgrp tty $(which xemacs) or emacs.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 15 12:29:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 May 2000 12:29:12 +0200
Subject: [R] truncated regressor
In-Reply-To: Emmanuel Paradis's message of "Mon, 15 May 2000 11:33:59 +0200"
References: <3.0.32.20000515113359.00901c20@162.38.183.200>
Message-ID: <x2itwg85tz.fsf@blueberry.kubism.ku.dk>

Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:


> which is clear to me: doing lm(y ~ a + I(b+c)) is similar to
> 
> 	d <- b + c
> 	lm(y ~ a + d)
> 
> But what if the expression in I() is a logical? After playing a moment, I
> found out that a formula can include a logical variable, and treats it as a
> factor:
> 
> > x <- runif(50, 0, 50)
> > y <- 2*x + rnorm(50, 0, 5)
> > lm(y ~ x < 25)
> 
> Call:
> lm(formula = y ~ x < 25)
> 
> Coefficients:
> (Intercept)       x < 25  
>       78.24       -53.92  
> 

I should hope that it is being converted to *numeric* (TRUE --> 1),
not factor, otherwise there'd be all sorts of trouble with contrasts.
This is a general feature: TRUE + 2 == 3 for instance, and (x>0)-(x<0)
is the sign function. 

[Easiest way of checking is to compare

lm(y ~ I(x < 25) - 1) 

with 

lm(y ~ factor(x < 25) - 1)   

]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon May 15 12:57:58 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 15 May 2000 12:57:58 +0200
Subject: [R] truncated regressor
Message-ID: <3.0.32.20000515125757.00908100@162.38.183.200>

At 12:29 15/05/00 +0200, Peter Dalgaard wrote:
>> which is clear to me: doing lm(y ~ a + I(b+c)) is similar to
>> 
>> 	d <- b + c
>> 	lm(y ~ a + d)
>> 
>> But what if the expression in I() is a logical? After playing a moment, I
>> found out that a formula can include a logical variable, and treats it as a
>> factor:
>> 
>> > x <- runif(50, 0, 50)
>> > y <- 2*x + rnorm(50, 0, 5)
>> > lm(y ~ x < 25)
>> 
>> Call:
>> lm(formula = y ~ x < 25)
>> 
>> Coefficients:
>> (Intercept)       x < 25  
>>       78.24       -53.92  
>> 
>
>I should hope that it is being converted to *numeric* (TRUE --> 1),
>not factor, otherwise there'd be all sorts of trouble with contrasts.
>This is a general feature: TRUE + 2 == 3 for instance, and (x>0)-(x<0)
>is the sign function. 
>
>[Easiest way of checking is to compare
>
>lm(y ~ I(x < 25) - 1) 
>
>with 
>
>lm(y ~ factor(x < 25) - 1)   
>
>]

You are right. I was misled by the fact that

  lm(y ~ as.factor(x < 25))

and

  lm(y ~ x < 25)

give the same result.


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Mon May 15 14:19:37 2000
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Mon, 15 May 2000 14:19:37 +0200 (CEST)
Subject: [R] Robust location and scatter
Message-ID: <Pine.LNX.3.96.1000515141031.20052F-100000@TILL.math.uni-hamburg.de>

Dear list,

one year before I installed the add-on package lqs to perform robust
estimation of multivariate location and scatter (cov.mve, cov.mcd, cov.rob).
I had the feeling that there was something wrong with the results (perhaps I
can reproduce it if necessary). 
Now I looked in the CRAN-archive to see if there is a new version of lqs or
if cov.rob had been included in the base package in the meantime.
I browsed through the recent help.start()-manual and found
the help pages for the robust cov-functions, but it is indicated that they
still belong to the package lqs. But a package lqs is no longer offered.
Is the package discarded (perhaps because of errors), or am I simply too 
confused to search at the right place? 

The most improtant question is of course:
How to perform minimum covariance determinant/minimum volume ellipsoid
estimation with R?

Best regards,
Christian

***

Christian Hennig
Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55
D-20146 Hamburg
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de
http://www.math.uni-hamburg.de/home/hennig/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 15 15:00:07 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 May 2000 15:00:07 +0200
Subject: [R] Robust location and scatter
In-Reply-To: Christian Hennig's message of "Mon, 15 May 2000 14:19:37 +0200 (CEST)"
References: <Pine.LNX.3.96.1000515141031.20052F-100000@TILL.math.uni-hamburg.de>
Message-ID: <x2g0rk7yug.fsf@blueberry.kubism.ku.dk>

Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

> one year before I installed the add-on package lqs to perform robust
> estimation of multivariate location and scatter (cov.mve, cov.mcd, cov.rob).
> I had the feeling that there was something wrong with the results (perhaps I
> can reproduce it if necessary). 
> Now I looked in the CRAN-archive to see if there is a new version of lqs or
> if cov.rob had been included in the base package in the meantime.
> I browsed through the recent help.start()-manual and found
> the help pages for the robust cov-functions, but it is indicated that they
> still belong to the package lqs. But a package lqs is no longer offered.
> Is the package discarded (perhaps because of errors), or am I simply too 
> confused to search at the right place? 

lqs is a package in the standard library in recent versions of R. Use
library(lqs) to access it. If there are bugs in it, we'd appreciate a
report with a demonstration....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liem.tran at francetelecom.fr  Mon May 15 15:25:32 2000
From: liem.tran at francetelecom.fr (TRAN Liem FTM/Men)
Date: Mon, 15 May 2000 15:25:32 +0200
Subject: [R] 2D fellows
Message-ID: <391FFACC.619082B0@francetelecom.fr>

Hello everybody,


I would like to perform some treatments on a group. Each element of my
group is a 2D array. They all have the same dimensions.

I would like to know if I can find in R some functions like "dist" (base
package), "hclust" and "kmeans" (mva package) but in order to use 2D
arrays more than vectors. 

Maybe my question doesn't have sense for the R context but it would be
really great for my job :-)

Many thank in advance for any help

Li?m TRAN
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon May 15 17:28:35 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 15 May 2000 08:28:35 -0700 (PDT)
Subject: [R] Non linear regression using Levenberg-Marquardt method
In-Reply-To: <391FC454.FCD3E256@salome.saclay.cea.fr>
Message-ID: <Pine.GSO.4.21.0005150822060.3462-100000@mail.biostat.washington.edu>

On Mon, 15 May 2000, Marjorie Bourgoin wrote:

> Hello,
> 
> I want to fit some non linear models with the Levenberg-Marquardt
> algorithm. It doesn't seem to exist any function to do this in R ( well,
> maybe one does, but I'm a new user, and the only documentation I have is
> "An introduction to R").
> I'd like to know if this function exists, maybe throught an additionnal
> package.

The nls package fits many non-linear models. Some of them are
'self-starting'; they don't need starting values.  Even if your model
isn't one of them you might be able to work out how to make it
self-starting.

I don't think it uses a Levenberg-Marquardt algorithm, but that shouldn't
matter.

You could also code the model as a minimisation problem and feed it to
optim(), which also doesn't use a Levenberg-Marquardt model.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arranz at pvi.uc3m.es  Mon May 15 19:09:51 2000
From: arranz at pvi.uc3m.es (M. Angel Arranz)
Date: Mon, 15 May 2000 19:09:51 +0200 (MET DST)
Subject: [R] L1 Norm
Message-ID: <200005151709.TAA09621@elrond.uc3m.es>

Dear R people

I must estimate a linear model with the L1 norm. S-Plus includes the l1fit
command that performs exactly what I need, but I do not know how to do it
in R. I checked the 'lqs' library, but it was not included there. Do you
how to estimate it with R?

Thanks in advance

Miguel A.

************************************
Miguel A. Arranz
Dpt. of Statistics and Econometrics
Universidad Carlos III de Madrid
arranz at pvi.uc3m.es
************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 15 20:08:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 15 May 2000 19:08:02 +0100 (BST)
Subject: [R] L1 Norm
In-Reply-To: <200005151709.TAA09621@elrond.uc3m.es>
Message-ID: <Pine.GSO.4.05.10005151903590.22975-100000@auk.stats>

On Mon, 15 May 2000, M. Angel Arranz wrote:

> Dear R people
> 
> I must estimate a linear model with the L1 norm. S-Plus includes the l1fit

Why?  (Is this a homework?)  There are lots of things wrong with l1 norm
solutions.

> command that performs exactly what I need, but I do not know how to do it
> in R. I checked the 'lqs' library, but it was not included there. Do you
> how to estimate it with R?

Check out the quantreg package on CRAN for a *much* comprehensive solution.
Also, you could use rlm()	 in library MASS with k \approx 0, but k \approx 1
is a much better idea.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Tue May 16 11:14:27 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Tue, 16 May 2000 11:14:27 +0200 (MEST)
Subject: [R] 2D fellows
In-Reply-To: <391FFACC.619082B0@francetelecom.fr>
Message-ID: <XFMail.000516111427.theis@statistik.uni-dortmund.de>

Dear Liem!
On 15-May-00 TRAN Liem FTM/Men wrote:
> Hello everybody,
> 
> 
> I would like to perform some treatments on a group. Each element of my
> group is a 2D array. They all have the same dimensions.
I don't know what you mean exactly by a "2D-array", I would think first of
something you could easily convert to a matrix, or a data frame! (I just had a
look on "Notes on R" and the description of arrays there confirms my belief
about the convertion.)
> 
> I would like to know if I can find in R some functions like "dist" (base
> package), "hclust" and "kmeans" (mva package) but in order to use 2D
> arrays more than vectors. 
Well, if you could convert your arrays into vectors (via matrix or data frame
 if you want to) and collect them in a data frame you could use these functions.
If you need a special distance you could program a function in which you compute
the pairwise distances and write them to a dissimilarity matrix as in the
package cluster. For a description see the documentation there (or just type
daisy after loading the package cluster). With this you could use the functions
diana for divisive hierarchical
clustering, agnes for agglomerative nesting or for k-means pam. 

I hope this helps,

yours Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 16-May-00
Tel.: +49-231-755-5903                  Room: Mathematikgebude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universitt Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liem.tran at francetelecom.fr  Tue May 16 12:08:20 2000
From: liem.tran at francetelecom.fr (TRAN Liem FTM/Men)
Date: Tue, 16 May 2000 12:08:20 +0200
Subject: [R] 2D fellows
References: <XFMail.000516111427.theis@statistik.uni-dortmund.de>
Message-ID: <39211E14.CB9C3976@francetelecom.fr>

Hello Winfried

> I don't know what you mean exactly by a "2D-array", I would think first of
> something you could easily convert to a matrix, or a data frame! (I just had a
> look on "Notes on R" and the description of arrays there confirms my belief
> about the convertion.)

Indeed, my objects can be considered as matrix or data frame


> Well, if you could convert your arrays into vectors (via matrix or data frame
>  if you want to) and collect them in a data frame you could use these functions.

It would give me (for example with "dist") the (relative) distances
between
my collection of rows. 

My problem (I realize I wasn't precise enough) is to calulate, for
example, the distance between two matrices and not between two rows. 

If I consider 2 matrices A and B with N rows each (and M columns), I
could use dist on each pair of rows (one for A, one for B), and compute
N time "dist" on 2 x M matrices. 

And I could after calculate a distance with the N distances but I find
it a bit heavy, and I don't know how to
perform an object which would be usable as input for, let's say,
"hclust". 
 
> If you need a special distance you could program a function in which you compute
> the pairwise distances and write them to a dissimilarity matrix as in the
> package cluster. 

That is typically my problem with R: How can I write the right object
like a dissimilarity matrix if I need one?
I'm not used enough with the "statistical" objects and not used enough
with R to succeed writing directly the objects in the right "R-shape".
That's why I would like to find already "R-shaped" objects.

> For a description see the documentation there (or just type
> daisy after loading the package cluster). With this you could use the functions
> diana for divisive hierarchical
> clustering, agnes for agglomerative nesting or for k-means pam.
>

I just installed the cluster package among others. I hope to find what
I'm looking for. 
Otherwise, I'll be back ;-)
 
> I hope this helps,
> 

It does. Many thanks

Li?m
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Tue May 16 12:40:31 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Tue, 16 May 2000 12:40:31 +0200
Subject: [R] C code: how to handle *double as a matrix t[] []
Message-ID: <3921259E.291E7D2D@univ-orleans.fr>

Helle R people,

here's my slightly out of range question: i am in c code (dll call from
R - passing a matrix as double * data, int * row and int * col). In
C/C++, i'd like to handle this *double as a 2D matrix with (*row-1) rows
and (*col - 1) columns. Something like double t [*row -1 ] [*col -1]
doesn't work (of course) but this is the idea - declaration of a 2D
array with dimensions passed as arguments.

Is the solution pure C/C++ or should i use R.h ... Any advice or
solution.

Merci d'avance,

Cordialement,

--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue May 16 14:45:47 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 16 May 2000 14:45:47 +0200 (CEST)
Subject: [R] C code: how to handle *double as a matrix t[] []
In-Reply-To: <3921259E.291E7D2D@univ-orleans.fr>
Message-ID: <XFMail.000516144547.plummer@iarc.fr>

On 16-May-00 nicolas baurin wrote:
> Helle R people,
> 
> here's my slightly out of range question: i am in c code (dll call from
> R - passing a matrix as double * data, int * row and int * col). In
> C/C++, i'd like to handle this *double as a 2D matrix with (*row-1) rows
> and (*col - 1) columns. Something like double t [*row -1 ] [*col -1]
> doesn't work (of course) but this is the idea - declaration of a 2D
> array with dimensions passed as arguments.

I faced this problem myself writing routines for multivariate time
series and came up with a solution which you will find in the C source for
the "ts" package in files carray.c, carray.h.  I have used a structure called
"Array" to represent a multi-dimensional array of doubles using arrays
of pointers. (and pointers to pointers...) A matrix would be created with
the function

Array make_matrix(double vec[], int nrow, int ncol);

Then you would use the macro MATRIX(x) to cast the result to an
array of pointers which behaves just like a two-dimensional array,
e.g. MATRIX(x)[i][j] would access the (i,j)th element.  There are
some convenience functions for doing element-wise arithmetic,
matrix multiplication and so on.

I hope this helps.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 16 15:16:31 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 16 May 2000 14:16:31 +0100 (BST)
Subject: [R] C code: how to handle *double as a matrix t[] []
Message-ID: <200005161316.OAA10983@toucan.stats.ox.ac.uk>


> X-Priority: 3 (Normal)
> Date: Tue, 16 May 2000 14:45:47 +0200 (CEST)
> From: Martyn Plummer <plummer at iarc.fr>
> To: nicolas baurin <nicolas.baurin at univ-orleans.fr>
> Subject: RE: [R] C code: how to handle *double as a matrix t[] []
> Cc: "r-help at stat.math.ethz.ch" <r-help at stat.math.ethz.ch>
> 
> On 16-May-00 nicolas baurin wrote:
> > Helle R people,
> > 
> > here's my slightly out of range question: i am in c code (dll call from
> > R - passing a matrix as double * data, int * row and int * col). In
> > C/C++, i'd like to handle this *double as a 2D matrix with (*row-1) rows
> > and (*col - 1) columns. Something like double t [*row -1 ] [*col -1]
> > doesn't work (of course) but this is the idea - declaration of a 2D
> > array with dimensions passed as arguments.
> 
> I faced this problem myself writing routines for multivariate time
> series and came up with a solution which you will find in the C source for
> the "ts" package in files carray.c, carray.h.  I have used a structure called
> "Array" to represent a multi-dimensional array of doubles using arrays
> of pointers. (and pointers to pointers...) A matrix would be created with
> the function
> 
> Array make_matrix(double vec[], int nrow, int ncol);
> 
> Then you would use the macro MATRIX(x) to cast the result to an
> array of pointers which behaves just like a two-dimensional array,
> e.g. MATRIX(x)[i][j] would access the (i,j)th element.  There are
> some convenience functions for doing element-wise arithmetic,
> matrix multiplication and so on.
> 

Another similar idea is to use the Numerical Recipes support functions
as in e.g. package nnet (part of the VR bundle).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Tue May 16 21:43:14 2000
From: salwin at mitretek.org (Art Salwin)
Date: Tue, 16 May 2000 15:43:14 -0400
Subject: [R] How do you combine smaller tables into a larger one
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc> <38EBA4D7.C412A1EA@mitretek.org>
Message-ID: <3921A4D2.200CA45A@mitretek.org>

I have a total of  n  tables, each 3 rows by 4 columns.
How can they be combined into one large table of
3*n rows by 4 columns?  We want each of the smaller tables
to
be added "below" one another.  Simple example for n=2:

TableOne:
  1  2  3  4
  5  6  7  8
  9 10 11 12

TableTwo:
 51 52 53 54
 55 56 57 58
 59 60 61 62

Desired result:

  1  2  3  4
  5  6  7  8
  9 10 11 12
 51 52 53 54
 55 56 57 58
 59 60 61 62

Essentially, we want to add rows to a matrix, when the
"natural" 
behavior of R is to add columns.  Does this imply that the
solution
would somehow involve the t() function?
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Tue May 16 21:03:12 2000
From: jmarca at translab.its.uci.edu (James Edward Marca)
Date: Tue, 16 May 2000 12:03:12 -0700
Subject: [R] GPS data import into R
Message-ID: <20000516120312.A507@papa.home>

Hi all,  
before I develop my own routines, is there a package or 
library for loading Global Positioning System (GPS) sentences 
into R for analysis?

If not, I plan to try to write a routine to listen to 
a GPS signal, strip off the identification codes, and then 
*do something interesting* with the data, such as plot the 
three-dimensional drift statistics.  (Obviously the interesting
stuff can be done with existing R packages.)

Any tips or hints on loading NMEA sentences would be appreciated.

James Marca
jmarca at translab.its.uci.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Tue May 16 22:04:38 2000
From: salwin at mitretek.org (Art Salwin)
Date: Tue, 16 May 2000 16:04:38 -0400
Subject: [R] Adding rows to a matrix
References: <200005161316.OAA10983@toucan.stats.ox.ac.uk>
Message-ID: <3921A9D6.D6221E58@mitretek.org>

As soon as I sent my previous query on adding tables
"below" one another into a larger table, the answer struck
me:

transpose the individual tables
concatenate
adjust the dimensions of the resulting table
transpose

Sorry to have bothered the mailing list.
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue May 16 22:28:17 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 17 May 2000 08:28:17 +1200
Subject: [R] GPS data import into R
In-Reply-To: <20000516120312.A507@papa.home>; from James Edward Marca on Tue, May 16, 2000 at 12:03:12PM -0700
References: <20000516120312.A507@papa.home>
Message-ID: <20000517082817.B18082@stat1.stat.auckland.ac.nz>

On Tue, May 16, 2000 at 12:03:12PM -0700, James Edward Marca wrote:
> Hi all,  
> before I develop my own routines, is there a package or 
> library for loading Global Positioning System (GPS) sentences 
> into R for analysis?
> 
> If not, I plan to try to write a routine to listen to 
> a GPS signal, strip off the identification codes, and then 
> *do something interesting* with the data, such as plot the 
> three-dimensional drift statistics.  (Obviously the interesting
> stuff can be done with existing R packages.)

This sounds pretty interesting.  I can;t offer any help, but I'd
like to hear about what you come up with.
	Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 16 22:49:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 May 2000 22:49:14 +0200
Subject: [R] Adding rows to a matrix
In-Reply-To: Art Salwin's message of "Tue, 16 May 2000 16:04:38 -0400"
References: <200005161316.OAA10983@toucan.stats.ox.ac.uk> <3921A9D6.D6221E58@mitretek.org>
Message-ID: <x2k8gui5kl.fsf@blueberry.kubism.ku.dk>

Art Salwin <salwin at mitretek.org> writes:

> As soon as I sent my previous query on adding tables
> "below" one another into a larger table, the answer struck
> me:
> 
> transpose the individual tables
> concatenate
> adjust the dimensions of the resulting table
> transpose
> 
> Sorry to have bothered the mailing list.

rbind() would be easier, though...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May 16 23:02:11 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 16 May 2000 17:02:11 -0400 (EDT)
Subject: [R] How do you combine smaller tables into a larger one
In-Reply-To: <3921A4D2.200CA45A@mitretek.org>
Message-ID: <Pine.LNX.4.10.10005161655440.9929-100000@bolker.zoo.ufl.edu>


rbind(TableOne,TableTwo)

(you can extend this to rbind(TableOne,TableTwo,TableThree,...))
At least in this context, there doesn't seem to be anything "natural" or
preferred about cbind(TableOne,TableTwo).  I guess what you mean is that
if you want do this with c() you have to do something like

matrix(c(t(a1),t(a2)),ncol=4,byrow=TRUE)

which is admittedly pretty clumsy.

On Tue, 16 May 2000, Art Salwin wrote:

> I have a total of  n  tables, each 3 rows by 4 columns.
> How can they be combined into one large table of
> 3*n rows by 4 columns?  We want each of the smaller tables
> to
> be added "below" one another.  Simple example for n=2:
> 
> TableOne:
>   1  2  3  4
>   5  6  7  8
>   9 10 11 12
> 
> TableTwo:
>  51 52 53 54
>  55 56 57 58
>  59 60 61 62
> 
> Desired result:
> 
>   1  2  3  4
>   5  6  7  8
>   9 10 11 12
>  51 52 53 54
>  55 56 57 58
>  59 60 61 62
> 
> Essentially, we want to add rows to a matrix, when the
> "natural" 
> behavior of R is to add columns.  Does this imply that the
> solution
> would somehow involve the t() function?
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jsw9c at unix.mail.virginia.edu  Tue May 16 23:26:26 2000
From: jsw9c at unix.mail.virginia.edu (John S. Walker)
Date: Tue, 16 May 2000 17:26:26 -0400 (EDT)
Subject: [R] How do I add fitted curves to coplots?
Message-ID: <Pine.A41.4.05.10005161717440.62272-100000@node5.unix.Virginia.EDU>


G'day

I've been performing an analysis of some data by a follow the leader
method (Bad I know but it seems to work and I think I understand all the
steps now) and I've run into a problem. The analysis is for all practical
purposes identical to the non-linear mixed effects analysis performed on
Ludbrooks Rabbit data in the second edition of Venables & Ripley (page
315--321). I have the stats pretty much done and have estimates for all
the model parameters from the nlme object.  Now I want to add the fitted
lines to my coplot of the data in the manner of figure 10.3.  How would I
do this? I owuld guess that I use the lines function or the panel function
but I can't find an index varibale to tell me what panel I'm in. Any
suggestions?


John Walker




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greiff at mitre.org  Wed May 17 00:18:55 2000
From: greiff at mitre.org (Warren R. Greiff)
Date: Tue, 16 May 2000 18:18:55 -0400
Subject: [R] iterative scaling
Message-ID: <3921C94F.1C433CBC@mitre.org>

I have never used R, but am seriously considering it.

Could anyone tell me if there are implementations out there for the
iterative scaling and/or iterative proportional fitting algorithms
for estimating log-linear models?

I searched for these terms on the CRAN search page, but didn't find
anything.

thanks,
-warren
-------------- next part --------------
A non-text attachment was scrubbed...
Name: greiff.vcf
Type: text/x-vcard
Size: 357 bytes
Desc: Card for Warren R. Greiff
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000516/b735b289/greiff.vcf

From thomas at biostat.washington.edu  Wed May 17 00:31:06 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 16 May 2000 15:31:06 -0700 (PDT)
Subject: [R] iterative scaling
In-Reply-To: <3921C94F.1C433CBC@mitre.org>
Message-ID: <Pine.GSO.4.21.0005161530330.16755-100000@mail.biostat.washington.edu>

On Tue, 16 May 2000, Warren R. Greiff wrote:

> I have never used R, but am seriously considering it.
> 
> Could anyone tell me if there are implementations out there for the
> iterative scaling and/or iterative proportional fitting algorithms
> for estimating log-linear models?

loglin() in the base package and loglm() in package MASS.  

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Wed May 17 05:01:28 2000
From: markhall at gol.com (Mark Hall)
Date: Wed, 17 May 2000 12:01:28 +0900
Subject: [Re: [R] GPS data import into R]
Message-ID: <39220B88.3326FD3F@gol.com>

But isn't this really going to depend on the specific GPS unit one is using?
I know from my experience with Trimble's equipment, their software interface allows
you to produce ASCII files of your data points and the readings taken at whatever
time interval you take them at.

Just my two yen's worth today....
Later, Mark Hall


Ross Ihaka wrote:

> On Tue, May 16, 2000 at 12:03:12PM -0700, James Edward Marca wrote:
> > Hi all,
> > before I develop my own routines, is there a package or
> > library for loading Global Positioning System (GPS) sentences
> > into R for analysis?
> >
> > If not, I plan to try to write a routine to listen to
> > a GPS signal, strip off the identification codes, and then
> > *do something interesting* with the data, such as plot the
> > three-dimensional drift statistics.  (Obviously the interesting
> > stuff can be done with existing R packages.)
>
> This sounds pretty interesting.  I can;t offer any help, but I'd
> like to hear about what you come up with.
>         Ross
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 17 08:49:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 May 2000 07:49:29 +0100 (BST)
Subject: [R] How do I add fitted curves to coplots?
In-Reply-To: <Pine.A41.4.05.10005161717440.62272-100000@node5.unix.Virginia.EDU>
Message-ID: <Pine.GSO.4.05.10005170744510.2356-100000@auk.stats>

On Tue, 16 May 2000, John S. Walker wrote:

> I've been performing an analysis of some data by a follow the leader
> method (Bad I know but it seems to work and I think I understand all the
> steps now) and I've run into a problem. The analysis is for all practical
> purposes identical to the non-linear mixed effects analysis performed on
> Ludbrooks Rabbit data in the second edition of Venables & Ripley (page
> 315--321). I have the stats pretty much done and have estimates for all
> the model parameters from the nlme object.  Now I want to add the fitted
> lines to my coplot of the data in the manner of figure 10.3.  How would I
> do this? I owuld guess that I use the lines function or the panel function
> but I can't find an index varibale to tell me what panel I'm in. Any
> suggestions?

You need to fake it. There is an example in the 3rd edition R scripts,
which for the Rabbit data becomes

coplot(seq(0,40, len=60) ~ log(Dose) | Animal * Treatment, Rabbit,
       show.given=FALSE,
       panel = function(x, y, ...) {
           ind <- round(1 + 59*y/40)
           lines(spline(x, fitted(R.nlme2)[ind]))
           points(x, Rabbit$BPchange[ind])
       })

coplot does not have the subscripts = T argument that Trellis has.
I think we could usefully add it (since `lattice' seems nowhere visible
yet), and I will do so for 1.1.0.  Also, the handling of xlab/ylab differs
a bit from the S original, and I will take a look.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Wed May 17 10:20:48 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 17 May 2000 18:20:48 +1000 (EST)
Subject: [R] How do I add fitted curves to coplots?
Message-ID: <200005170820.SAA00499@leonard.anu.edu.au>

Brian Ripley wrote

....
> coplot does not have the subscripts = T argument that Trellis has.
> I think we could usefully add it (since `lattice' seems nowhere visible
> yet), and I will do so for 1.1.0. 

That would be very useful.

> Also, the handling of xlab/ylab differs
> a bit from the S original, and I will take a look.

In coplot() as it stands, xlab and ylab control the labels for the
"given" (or conditioning) values, which seems to me odd terminology.
It is not possible to directly control the x and y labels.  Provide
it does not break too much existing code, I'd plump for given.xlab
etc. for labelling the given values, using xlab and ylab of the
x and y-axis labels for the individual panels.

John Maindonald
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 17 10:27:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 May 2000 09:27:58 +0100 (BST)
Subject: [R] How do I add fitted curves to coplots?
In-Reply-To: <200005170820.SAA00499@leonard.anu.edu.au>
Message-ID: <Pine.GSO.4.05.10005170922510.18765-100000@auk.stats>

On Wed, 17 May 2000, John Maindonald wrote:

> Brian Ripley wrote
> 
> ....
> > coplot does not have the subscripts = T argument that Trellis has.
> > I think we could usefully add it (since `lattice' seems nowhere visible
> > yet), and I will do so for 1.1.0. 
> 
> That would be very useful.

It's now in, and was easy to do.

> > Also, the handling of xlab/ylab differs
> > a bit from the S original, and I will take a look.
> 
> In coplot() as it stands, xlab and ylab control the labels for the
> "given" (or conditioning) values, which seems to me odd terminology.
> It is not possible to directly control the x and y labels.  Provide
> it does not break too much existing code, I'd plump for given.xlab
> etc. for labelling the given values, using xlab and ylab of the
> x and y-axis labels for the individual panels.

What I chose to do was to make the first component of xlab and ylab the x
and y-axis labels for the array of panels (which is what they are in S, and
in xyplot), and an optional second component the labels for the
conditioning values.

Anything like this would break some existing code, but the
current version breaks my S code!  Re-using x/ylab might give
sensible answers on old R code, I thought.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Wed May 17 10:30:08 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 17 May 2000 18:30:08 +1000 (EST)
Subject: [R] How do I add fitted curves to coplots?
Message-ID: <200005170830.SAA00791@leonard.anu.edu.au>

Another point is that one would like to be able to control
the space left for the margins in coplot().  This is one
of a number of thinks I have been meaning to look at when
I get a chance.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dandon at capa.stat.umu.se  Wed May 17 10:32:41 2000
From: dandon at capa.stat.umu.se (dandon@capa.stat.umu.se)
Date: Wed, 17 May 2000 10:32:41 +0200 (CEST)
Subject: [R] crosstabs
Message-ID: <Pine.LNX.4.10.10005171029470.6501-100000@capa.stat.umu.se>


Hi all!
What is the equivalent R function of SPLUS crosstabs? 
Thank you.

Danar.
Stat. Inst. Umea Univ.
Umea, Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Wed May 17 12:59:11 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Wed, 17 May 2000 12:59:11 +0200
Subject: [R] Euclidean distance definition
Message-ID: <39227B7E.EE6BA24B@univ-orleans.fr>

Hello,

I'd like to know if the euclidean distance calculation is:

sqrt(sum(delta^2)) or (sqrt(sum(delta^2)))/(nb of descriptors) or
else...

Merci beaucoup,

Nicolas Baurin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Wed May 17 12:53:40 2000
From: bob.ohara at helsinki.fi (Anon.)
Date: Wed, 17 May 2000 13:53:40 +0300
Subject: [R] Trying to get xlim to do what I want
Message-ID: <39227A34.2CF16AE8@helsinki.fi>

I'm trying to draw a plot with both the x and y axes starting at zero.
However, even with xlim and ylim specified (e.g.
plot(x,y,ylim=c(0,800),xlim=c(0,2000)) ), the axes still start just
below zero.  The lowest x and y values are sufficiently higher than 0 so
that having symbols overlapping isn't a problem.  How does one force R
to do exactly what you want?

Bob

--
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 7382  fax: +358 9 191 7301
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

I have yet to see any problem, however complicated, which, when you
looked at it in the right way, did not become still more complicated.  -
Poul Anderson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 17 13:24:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 May 2000 12:24:57 +0100 (BST)
Subject: [R] Trying to get xlim to do what I want
In-Reply-To: <39227A34.2CF16AE8@helsinki.fi>
Message-ID: <Pine.GSO.4.05.10005171223440.19041-100000@auk.stats>

On Wed, 17 May 2000, Anon. wrote:

> I'm trying to draw a plot with both the x and y axes starting at zero.
> However, even with xlim and ylim specified (e.g.
> plot(x,y,ylim=c(0,800),xlim=c(0,2000)) ), the axes still start just
> below zero.  The lowest x and y values are sufficiently higher than 0 so
> that having symbols overlapping isn't a problem.  How does one force R
> to do exactly what you want?

xaxs="i", yaxs="i"

See ?par for an explanation.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From i.wilson at maths.abdn.ac.uk  Wed May 17 13:52:00 2000
From: i.wilson at maths.abdn.ac.uk (Ian Wilson)
Date: Wed, 17 May 2000 12:52:00 +0100
Subject: [R] Trying to get xlim to do what I want
In-Reply-To: <39227A34.2CF16AE8@helsinki.fi>
Message-ID: <3.0.6.32.20000517125200.009d6cd0@mail.maths.abdn.ac.uk>


plot(x,y,ylim=c(0,800),xlim=c(0,2000)),xaxs="i", yaxs="i");

see help(par) for details
the relevant bit is:

xaxs 
The style of axis interval calculation to be used for the x-axis. Possible
values are "r", "i", "e", "s", "d". The styles are generally controlled by
the range of data or xlim, if given. 
Style "r" (regular) first extends the data range by 4 percent and then
finds an axis with pretty labels that fits within the range. 
Style "i" (internal) just finds an axis with pretty labels that fits within
the original data range. 
Style "s" (standard) finds an axis with pretty labels within which the
original data range fits. 
Style "e" (extended) is like style "s", except that it is also ensured that
there is room for plotting symbols within the bounding box. 
Style "d" (direct) specifies that the current axis should be used on
subsequent plots. (Only "r" and "i" styles are currently implemented) 

Ian Wilson

>I'm trying to draw a plot with both the x and y axes starting at zero.
>However, even with xlim and ylim specified (e.g.
>plot(x,y,ylim=c(0,800),xlim=c(0,2000)) ), the axes still start just
>below zero.  The lowest x and y values are sufficiently higher than 0 so
>that having symbols overlapping isn't a problem.  How does one force R
>to do exactly what you want?
>



Dr Ian J Wilson
Department of Mathematical Sciences
University of Aberdeen
Aberdeen, AB24 3UE

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Wed May 17 15:40:20 2000
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Wed, 17 May 2000 14:40:20 +0100
Subject: [R] R under windows 3.1x
Message-ID: <000101bfc005$74e72ca0$6458589d@palent.etsiiaa.uva.es>

It is posible to run R in windows 3.1x or MS-DOS? Can I do it with Win32s?

Thanks for any hint

Eusebio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vaddon at po-box.mcgill.ca  Wed May 17 15:04:43 2000
From: vaddon at po-box.mcgill.ca (Vittorio Addona)
Date: Wed, 17 May 2000 09:04:43 -0400
Subject: [R] parameter estimation
Message-ID: <392298EB.53A86ACE@po-box.mcgill.ca>

Hello, my question is the following: from a data set (assuming the data
has a parametric form, gamma, say) how can I estimate the parameters of
the data's density.  That is,
for the gamma, say, how can I estimate alpha and beta using R?  Thank
you.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 17 15:19:05 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 May 2000 08:19:05 -0500
Subject: [R] parameter estimation
In-Reply-To: Vittorio Addona's message of "Wed, 17 May 2000 09:04:43 -0400"
References: <392298EB.53A86ACE@po-box.mcgill.ca>
Message-ID: <6rbt25iaba.fsf@franz.stat.wisc.edu>

Vittorio Addona <vaddon at po-box.mcgill.ca> writes:

> Hello, my question is the following: from a data set (assuming the data
> has a parametric form, gamma, say) how can I estimate the parameters of
> the data's density.  That is,
> for the gamma, say, how can I estimate alpha and beta using R?  Thank
> you.

One possibility is to use maximum likelihood, which is surprisingly
easy to implement in R.  The log-likelihood function for the parameters
alpha and beta given the data x is
  sum(dgamma(x, shape = alpha, scale = beta, log = TRUE))
To determine the maximum likelihood estimates, simply put the negative
of the log-likelihood into the optim function.

A worked-out example is given as xmp06.12 in the Devore5 library
(available in the contrib section at CRAN).  Use

 library(Devore5)
 help(xmp06.12)      # shows the description with comments
 example(xmp06.12)   # run the example to see the result

That example also shows the calculations for the method of moments
estimators but I would not recommend them.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.vanderMee at amc.uva.nl  Wed May 17 16:41:22 2000
From: M.vanderMee at amc.uva.nl (Merlijn van der Mee)
Date: Wed, 17 May 2000 16:41:22 +0200
Subject: [R] R from CGI script.
Message-ID: <3922AF92.5488CB74@amc.uva.nl>

Hello everybody.

I'm having some troubles with using R from a CGI script.

What I do is, from perl, call a simple

system("$Rprogram < $Rcode > $Rdumpfile");

$Rprogram, $Rcode and $Rdumpfile all have full paths.

This used to work on Linux and Solaris, but when I try 
it on Irix6.5  all I get in the dumpfile is some startup messages and;
'Fatal error: unable to open the base package'

If I try the same command on the commandline it works.

What am I doing wrong??


Greetings, Merlijn

--
Merlijn van der Mee - Bioinformatician
Academic Medical Centre - Amsterdam
Bioinformatics Laboratory
Email: M.vanderMee at amc.uva.nl tel. +31-20-5668601
-
Version: 3.1
GCS d- s+:- a- C+++ UL++ P++++ L+++ E---- W++ N o-- K- w---
O M-- V-- PS+++ PE- Y+ PGP+ t+ 5 X- R+ tv-- b+ DI-- D++ 
G e* h- r--- y? 
--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 17 16:41:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 May 2000 15:41:18 +0100 (BST)
Subject: [R] R under windows 3.1x
In-Reply-To: <000101bfc005$74e72ca0$6458589d@palent.etsiiaa.uva.es>
Message-ID: <Pine.GSO.4.05.10005171539320.19459-100000@auk.stats>

On Wed, 17 May 2000, [iso-8859-1] Eusebio Arenal Gutirrez wrote:

> It is posible to run R in windows 3.1x or MS-DOS? Can I do it with Win32s?
> 
> Thanks for any hint

Read the R for Windows FAQ!   The answer is no, as you need a proper
file system with support for real names.  Not sure why you want to 
use an operating system that was replaced 4.8 years ago....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 17 16:47:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 May 2000 15:47:12 +0100 (BST)
Subject: [R] parameter estimation
In-Reply-To: <392298EB.53A86ACE@po-box.mcgill.ca>
Message-ID: <Pine.GSO.4.05.10005171544320.19459-100000@auk.stats>

On Wed, 17 May 2000, Vittorio Addona wrote:

> Hello, my question is the following: from a data set (assuming the data
> has a parametric form, gamma, say) how can I estimate the parameters of
> the data's density.  That is,
> for the gamma, say, how can I estimate alpha and beta using R?  Thank
> you.

Maximize the likelihood directly. There are worked examples in the
Venables & Ripley on-line exercises and answers.  Now for the gamma
there are some shortcuts, as the MLE of the mean is the sample mean, and
gamma.shape.glm in package MASS will fit the shape parameter by MLE.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed May 17 16:59:53 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 17 May 2000 10:59:53 -0400
Subject: [R] ? Plot
Message-ID: <008a01bfc010$91878250$0201a8c0@Workgroup>

Hi,

When you use plot(x,y) and next lines(x,y2). If the range of y2 is greater
then y the graph range remains at the range of y. Is there a way to get the
full range of both y and y2 or any other y's after that?

Thanks in advance

Yves

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlamias at isr.umich.edu  Wed May 17 15:25:56 2000
From: mlamias at isr.umich.edu (Mark Lamias)
Date: Wed, 17 May 2000 09:25:56 -0400
Subject: [R] crosstabs
Message-ID: <5D28BEE5CAE8D1119F5700A0C9B4268E04DB26BB@isr.umich.edu>

>>Hi all!
>>What is the equivalent R function of SPLUS crosstabs? 
>>Thank you.
>>
>>Danar.
>>Stat. Inst. Umea Univ.
>>Umea, Sweden


"qftable" will produce contingency tables in R.  Code from the help file is
pasted below.



>  ## Start with a contingency table.
>      data(Titanic)
>      ftable(Titanic, row.vars = 1:3)
                   Survived  No Yes
Class Sex    Age                   
1st   Male   Child            0   5
             Adult          118  57
      Female Child            0   1
             Adult            4 140
2nd   Male   Child            0  11
             Adult          154  14
      Female Child            0  13
             Adult           13  80
3rd   Male   Child           35  13
             Adult          387  75
      Female Child           17  14
             Adult           89  76
Crew  Male   Child            0   0
             Adult          670 192
      Female Child            0   0
             Adult            3  20
>      ftable(Titanic, row.vars = 1:2, col.vars = "Survived")
             Survived  No Yes
Class Sex                    
1st   Male            118  62
      Female            4 141
2nd   Male            154  25
      Female           13  93
3rd   Male            422  88
      Female          106  90
Crew  Male            670 192
      Female            3  20
>      ftable(Titanic, row.vars = 2:1, col.vars = "Survived")
             Survived  No Yes
Sex    Class                 
Male   1st            118  62
       2nd            154  25
       3rd            422  88
       Crew           670 192
Female 1st              4 141
       2nd             13  93
       3rd            106  90
       Crew             3  20
> 
>      ## Start with a data frame.
>      data(mtcars)
>      x <- ftable(mtcars[c("cyl", "vs", "am", "gear")])
>      x
          gear  3 4 5
cyl vs am            
4   0  0        0 0 0
       1        0 0 1
    1  0        1 2 0
       1        0 6 1
6   0  0        0 0 0
       1        0 2 1
    1  0        2 2 0
       1        0 0 0
8   0  0       12 0 0
       1        0 0 2
    1  0        0 0 0
       1        0 0 0
>      ftable(x, row.vars = c(2, 4))
        cyl 4   6    8  
        am  0 1 0 1  0 1
vs gear                 
0  3        0 0 0 0 12 0
   4        0 0 0 2  0 0
   5        0 1 0 1  0 2
1  3        1 0 2 0  0 0
   4        2 6 2 0  0 0
   5        0 1 0 0  0 0

Mark J. Lamias
Department of Statistics
Department of Political Science
Survey Methodology Program/Survey Research Center
Institute for Social Research - University of Michigan
426 Thompson Street, Room 315
Ann Arbor, Michigan 48104-2321
(734) 647-5381



-----Original Message-----
From: dandon at capa.stat.umu.se [mailto:dandon at capa.stat.umu.se]
Sent: Wednesday, May 17, 2000 4:33 AM
To: R mailing list
Subject: [R] crosstabs



Hi all!
What is the equivalent R function of SPLUS crosstabs? 
Thank you.

Danar.
Stat. Inst. Umea Univ.
Umea, Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Wed May 17 20:37:21 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Wed, 17 May 2000 11:37:21 -0700
Subject: [R] alternative to stop()?
Message-ID: <4.3.1.0.20000517113359.00a91e60@pop-server.hawaii.edu>

I'm using stop to exit functions when certain arguments are specified and 
would like to suppress the "Error in ..." that is printed to the console 
before the message given as the argument to stop(). Is there some 
alternative to stop that will allow this?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed May 17 17:30:36 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 17 May 2000 17:30:36 +0200 (MET DST)
Subject: [R] parameter estimation
In-Reply-To: <392298EB.53A86ACE@po-box.mcgill.ca> from "Vittorio Addona" at May 17, 2000 09:04:43 AM
Message-ID: <200005171530.RAA27358@alpha.luc.ac.be>

> 
> Hello, my question is the following: from a data set (assuming the data
> has a parametric form, gamma, say) how can I estimate the parameters of
> the data's density.  That is,
> for the gamma, say, how can I estimate alpha and beta using R?  Thank
> you.

The gnlr and gnlr3 functions in my gnlm library at
www.luc.ac.be/~jlindsey/rcode.html
will do this for a wide selection of distributions.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Goran.Arnoldsson at stat.umu.se  Wed May 17 18:00:40 2000
From: Goran.Arnoldsson at stat.umu.se (=?iso-8859-1?Q?G=F6ran?= Arnoldsson)
Date: Wed, 17 May 2000 18:00:40 +0200
Subject: [R] data.frame <- table
Message-ID: <3922C228.D966E710@stat.umu.se>

I have an 8-dimensional contingency table (640 cells) produced by the
table function. Which is the easiest method to transform the table to a
data frame with 8 factors and a 9th column for the frequencies (for
further log-linear modelling)? Perhaps there is a function in a package
somewhere in R-space?



-------------- next part --------------
A non-text attachment was scrubbed...
Name: Goran.Arnoldsson.vcf
Type: text/x-vcard
Size: 418 bytes
Desc: Card for Gran Arnoldsson
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000517/f4a4ea74/Goran.Arnoldsson.vcf

From L.E.Jamieson at statslab.cam.ac.uk  Wed May 17 19:21:49 2000
From: L.E.Jamieson at statslab.cam.ac.uk (Lara Jamieson)
Date: Wed, 17 May 2000 18:21:49 +0100 (BST)
Subject: [R] ? Plot
In-Reply-To: <008a01bfc010$91878250$0201a8c0@Workgroup>
Message-ID: <Pine.LNX.4.10.10005171820420.30111-100000@hearts.statslab.cam.ac.uk>


Yes you can specify the range when you first use plot.

Eg

plot(x,y,ylim=c(min,max))
Similarly xlim sets the range for x values.


On Wed, 17 May 2000, Yves Gauvreau wrote:

> Hi,
> 
> When you use plot(x,y) and next lines(x,y2). If the range of y2 is greater
> then y the graph range remains at the range of y. Is there a way to get the
> full range of both y and y2 or any other y's after that?
> 
> Thanks in advance
> 
> Yves
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Wed May 17 20:16:53 2000
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Wed, 17 May 2000 11:16:53 -0700 (PDT)
Subject: [R] data.frame <- table
Message-ID: <200005171816.LAA06087@aggie.pnl.gov>

Arnoldsson <Goran.Arnoldsson at stat.umu.se> wrote:

> I have an 8-dimensional contingency table (640 cells) produced by the
> table function. Which is the easiest method to transform the table to a
> data frame with 8 factors and a 9th column for the frequencies (for
> further log-linear modelling)? Perhaps there is a function in a package
> somewhere in R-space?

Here's a function I've used for years, mostly in S (it's a simple
wrapper around expand.grid):

   dfify <- function(arr, value.name = "value", dn.names = names(dimnames(arr))) {
   
      Version <- "$Id: dfify.sfun,v 1.1 1995/10/09 16:06:12 d3a061 Exp $"
      dn <- dimnames(arr <- as.array(arr))
      if(is.null(dn))
         stop("Can't data-frame-ify an array without dimnames")
      names(dn) <- dn.names
      ans <- cbind(expand.grid(dn), as.vector(arr))
      names(ans)[ncol(ans)] <- value.name
      ans
   }

The name is short for "data-frame-i-fy".

For your example, assuming your multi-way array has proper
dimnames, you'd just do:

   my.data.frame <- dfify(my.array, value.name="frequency")

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why is it unable and inability, not inable and unability?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Wed May 17 21:11:50 2000
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Thu, 18 May 2000 07:11:50 +1200
Subject: [R] alternative to stop()?
In-Reply-To: <4.3.1.0.20000517113359.00a91e60@pop-server.hawaii.edu>; from Griffith Feeney on Wed, May 17, 2000 at 11:37:21AM -0700
References: <4.3.1.0.20000517113359.00a91e60@pop-server.hawaii.edu>
Message-ID: <20000518071150.M29849@stat1.stat.auckland.ac.nz>

On Wed, May 17, 2000 at 11:37:21AM -0700, Griffith Feeney wrote:
> I'm using stop to exit functions when certain arguments are specified and 
> would like to suppress the "Error in ..." that is printed to the console 
> before the message given as the argument to stop(). Is there some 
> alternative to stop that will allow this?
> 

  There are a variety of ways to do this,
 from the options help:

     error: an expression governing the handling of non-catastrophic
          errors such as those generated by `stop' as well as by
          signals and internally detected errors. The default
          expression is `NULL': see `stop' for the behaviour in that
          case. The function `dump.frames' provides one alternative
          that allows post-mortem debugging.

show.error.messages: a logical. Should error messages be printed? 
          Intended for use with `try' or a user-installed error
          handler.

    warn: sets the handling of warning messages.  If `warn' is negative

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu May 18 01:01:07 2000
From: pauljohn at ukans.edu (Paul E. Johnson)
Date: Wed, 17 May 2000 18:01:07 -0500
Subject: [R] Kind words about R in political science lists
Message-ID: <392324B3.DFC05BCD@ukans.edu>

Just wanted to pass on the good words I hear about R.  Last week someone
posted a general question about time series packages in the political
science research methods list and I trolled for a flamewar by asking why
everybody doesn't use R, the open source high quality program.

Interestingly enough, no flame war ensued. One person rather feebly
asserted he'd rather not have open source because he did not feel
qualified to read code, but several others added very strong words for
R. 

One person said "I use R extensively for both statistical and
computational work, and I highly recommend the package.  It usually
manages memory *far* better than the other famous implementation of the
S language.  Having the source code is a great thing.  If there is a
function which is too
slow or doesn't do exactly what one wants done, one can change the R
source code or link in one's own preferred C/C++ or Fortran object. The
benefits of being able to learn from and modify the source code
cannot be underestimated.  Would any one of us trust an estimator which
was a black box?  Would we use it just because the inventor said: "trust
me the estimator actually *does* work, but I can't tell you in detail
how because of intellectual property concerns"?  Why should we adopt a
different standard for the numerical algorithms we use?"

While another added " In response to your well-put comments below, I use
R virtually everyday after years of using Splus.  Other than the Trellis
graphics (which make everything look like Bill Cleveland did it), there
is very little that R does not have over Splus, and R has better scoping
rules within
functions.  The best part is that you can take your Splus code and run
it on R generally without modification.  So in addition to the free and
open part you mention, there is considerable power and near complete
compatibility with the de facto package for research statisticians"

Just thought you'd get a happy feeling to hear some good words from a
neutral audience.

-- 
Paul E. Johnson        			email: pauljohn at ukans.edu
Dept. of Political Science     		http://lark.cc.ukans.edu/~pauljohn
University of Kansas           		Office: (785) 864-9086
Lawrence, Kansas 66045         		FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu May 18 04:44:30 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 18 May 2000 14:44:30 +1200
Subject: [R] Robust Regression
Message-ID: <200005180244.OAA24623@gosset.stats.waikato.ac.nz>

Hi to all!

I'm writing a small review article on robust regression and want to bias it
toward methods already implemented in standard statistical software.

Specific question: rank regression a la Hettmansperger/McKean is
implemented in an 'experimental' and, one suspects, officially deprecated
Minitab session command RREG. Is it available within any contributed
library for R?

General question [but to me by email rather than cluttering up the list,
please] Can you tell me about any particularly good or bad experiences that
you have had in using a particular kind of robust regression with real
data?  Although off-topic I will post a summary to the list unless I get
clear feed-back that I should not.

Murray Jorgensen

Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu May 18 08:57:04 2000
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 18 May 2000 08:57:04 +0200
Subject: [R] attach (S-style)?
Message-ID: <3.0.5.32.20000518085704.0096fb20@mail.wsl.ch>

Hi everyone,

Being new to the crowd of R users I am wondering what the equivalent of  

attach("/home/bla/hoffmann/R/.RData",2) 

 (S style) is in R.

What I want is a split of .RData repositories. One in a central place where I keep functions and interesting stuff important for all work I am doing, an several others which contain stuff of an dividual project only. When I start in a project directory I want to make available the central stuff. If I do it like in S+ I am getting and rightly so:

Error in attach("/home/woodstock/hoffmann/R/.RData", 2) : 
	attach only works for lists and data frames

What is the trick to use in R?

Thanks for your help.
--Christian

Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Institute for Forest, Snow and Landscape Research
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax  : ++41-1-737 40 80 or  ++41-1-739 2215  e-mail: Hoffmann at WSL.CH

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From abotvin at gwdg.de  Thu May 18 08:46:49 2000
From: abotvin at gwdg.de (Alexey Botvinnik)
Date: Thu, 18 May 2000 08:46:49 +0200
Subject: [R] Fortran Code in R
Message-ID: <10365.000518@gwdg.de>

Hello everyone,

I would appreciate any help on how to make FORTRAN programs work with
R.  The problem is that there is a lot of FORTRAN code and now there's
a need to use this code from R.  I looked into R-Writing Extensions
Manual, but there's not a lot on this, and what there is, is not quite
clear.  So please, if anyone had the same problem and solved it
succesfully, let me know (the simpler the solution instruction will be
the better).

-- 
Thanks,
Alexey Botvinnik                         mailto:abotvin at gwdg.de

Institut for Statistik and Econometrics,
Goettingen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 18 11:25:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 18 May 2000 10:25:24 +0100 (BST)
Subject: [R] Fortran Code in R
Message-ID: <200005180925.KAA00857@toucan.stats.ox.ac.uk>

> Date: Thu, 18 May 2000 08:46:49 +0200
> From: Alexey Botvinnik <abotvin at gwdg.de>
> 
> Hello everyone,
> 
> I would appreciate any help on how to make FORTRAN programs work with
> R.  The problem is that there is a lot of FORTRAN code and now there's
> a need to use this code from R.  I looked into R-Writing Extensions
> Manual, but there's not a lot on this, and what there is, is not quite
> clear.  So please, if anyone had the same problem and solved it
> succesfully, let me know (the simpler the solution instruction will be
> the better).

If you want to use Fortran programs in R under Unix use

$ R SHLIB -o myprogs.so prog1.f prog2.f prog3.f
$ R
> dyn.load("myprogs.so")

[On a very few systems it might need to be .sl not .so.]

If you get no errors, that's all that is needed *except* interfacing the
code to R via .Fortran calls.   There is quite a bit on that, and it
can be tricky.  (S books will help your there, though.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu May 18 12:20:02 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 18 May 2000 10:20:02 GMT
Subject: [R] Re: Introductory Statistics
In-Reply-To: <200005172052.WAA17183@alpha.luc.ac.be>
References: <200005172052.WAA17183@alpha.luc.ac.be>
Message-ID: <3923c37c.2998769@julian.uwo.ca>

I'm not sure if this is something you put together or the system
administrator there did, but the URL you gave comes up as a blank page
on my system.  Looking at the source, it's because you're doing a
redirect using Javascript, which I have turned off; it would probably
be a good idea to include a manual redirect option too.

Duncan Murdoch

On Wed, 17 May 2000 22:52:59 +0200 (MET DST), you wrote:

>
>Following the recent discussion on the R-help list about introductory
>statistics, I have spent some time updating the R code for my
>Introductory Statistics book (OUP, 1995). The previous version was
>over four years old and used R v0.7! (under current numbering that
>would be 0.07 -- it still used my Fortran implementation of nlm).
>  The R (and GLIM4) code for all examples and answers to the exercises
>are available at www.luc.ac.be/~jlindsey/books.html and the
>instructors manual at www.luc.ac.be/~jlindsey/publications.html
>(A professor using the book at UCLA has also promised Stata code for
>it.)
>  Errors, comments, and suggestions welcome!
>  Jim
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Thu May 18 16:14:24 2000
From: r.e.darnell at ncl.ac.uk (Ross Darnell)
Date: Thu, 18 May 2000 15:14:24 +0100
Subject: [R] Partitioning matrices and drop
Message-ID: <3923FAC0.9729CA2D@ncl.ac.uk>

I have some code

         Xj<-X[Jlist[[M]],Xjlist[[M]],drop=F]

which I use to partition the matrix X. However
when the second argument is a single number, Xj is not a matrix but a 
vector. I thought the drop=F argument should have kept Xj a matrix.

I am using version 0.90.1

Can someone tell me how I'm wrong?

Thanks
Ross Darnell
-
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu May 18 17:00:43 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 18 May 2000 17:00:43 +0200 (CEST)
Subject: [R] attach (S-style)?
In-Reply-To: <3.0.5.32.20000518085704.0096fb20@mail.wsl.ch>
References: <3.0.5.32.20000518085704.0096fb20@mail.wsl.ch>
Message-ID: <14628.1435.400469.619530@lynne.ethz.ch>

>>>>> "ChHo" == Christian Hoffmann <christian.hoffmann at wsl.ch> writes:

    ChHo> Hi everyone, Being new to the crowd of R users I am wondering
    ChHo> what the equivalent of

    ChHo>      attach("/home/bla/hoffmann/R/.RData",2) 

    ChHo> (S style) is in R.

    ChHo> What I want is a split of .RData repositories. One in a central
    ChHo> place where I keep functions and interesting stuff important for
    ChHo> all work I am doing, an several others which contain stuff of an
    ChHo> dividual project only. When I start in a project directory I want
    ChHo> to make available the central stuff. If I do it like in S+ I am
    ChHo> getting and rightly so:

    ChHo> Error in attach("/home/woodstock/hoffmann/R/.RData", 2) : 
    ChHo> attach only works for lists and data frames

    ChHo> What is the trick to use in R?

You use packages [via library()] ==>  help(library) and help(INSTALL)
				 and the "Writing R Extensions" Manual
and then you can add a
    library(my.important.stuff)
to a local or a site-wide  Rprofile file such that it is 
automatically there.

If you really want to get at the content of .RData (binary) files,
you use load(.), but this adds the objects to your ".GlobalEnv"
i.e.,  search()[1].
If you want be even smarter, you can look how the library() command
"does it" and probably do the same, using  load() instead of [sys.]source().

But anyway, as said initially : Using packages is what you should do ...

On creating your own packages, the R-FAQ says
>>    See section "Creating R packages" in `Writing R Extensions', for details.
>> This manual is included in the R distribution, *note What documentation
>> exists for R?::, and gives information on package structure, the configure
>> and cleanup mechanisms, and on automated package checking and building.

---

I hope this helps to get you started.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Thu May 18 17:21:54 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Thu, 18 May 2000 11:21:54 -0400
Subject: [R] RdConv.bat under NT 4.0
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E507@mail.nsabp.pitt.edu>

Hello:

	I have just used prompt() in R1.0.1, NT4.0, to make a
file called myfun.Rd, in my %R_HOME%\bin subdirectory, then
tried converting the .rd file to HTML using the Rdconv.bat, as follows:

Rdconv --type=html myfun.Rd

The message that I got was

cat: cannot open **

where ** is some unintelligible character.
It looks like a Perl problem to me (I've just installed ActivePerl 5.6.0.613
today)
Perl is definitely in my path.
I have set R_HOME=D:\Progra~1\Rw1001.

Can anyone tell me what I'm doing wrong in trying to convert to HTML?
thanks in advance.

				Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu May 18 17:27:32 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 18 May 2000 08:27:32 -0700 (PDT)
Subject: [R] attach (S-style)?
In-Reply-To: <14628.1435.400469.619530@lynne.ethz.ch>
Message-ID: <Pine.GSO.4.21.0005180824500.17764-100000@mail.biostat.washington.edu>

On Thu, 18 May 2000, Martin Maechler wrote:

> >>>>> "ChHo" == Christian Hoffmann <christian.hoffmann at wsl.ch> writes:
> 
>     ChHo> Hi everyone, Being new to the crowd of R users I am wondering
>     ChHo> what the equivalent of
> 
>     ChHo>      attach("/home/bla/hoffmann/R/.RData",2) 
> 
>     ChHo> (S style) is in R.

While the best way to do this is usually with load() or by creating a
package, you will be able to do this in R 1.1.0

The way it is implemented is basically

	attach(NULL,2)
	load("/home/bla/hoffmann/R/.RData",envir=pos.to.env(2))



   -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 18 18:04:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 18 May 2000 17:04:42 +0100 (BST)
Subject: [R] RdConv.bat under NT 4.0
Message-ID: <200005181604.RAA02335@toucan.stats.ox.ac.uk>

> From: "Richards, Tom" <richards at pci.upmc.edu>
> Subject: [R] RdConv.bat under NT 4.0
> 
> 	I have just used prompt() in R1.0.1, NT4.0, to make a
> file called myfun.Rd, in my %R_HOME%\bin subdirectory, then
> tried converting the .rd file to HTML using the Rdconv.bat, as follows:
> 
> Rdconv --type=html myfun.Rd
> 
> The message that I got was
> 
> cat: cannot open **
> 
> where ** is some unintelligible character.
> It looks like a Perl problem to me (I've just installed ActivePerl 5.6.0.613
> today)
> Perl is definitely in my path.
> I have set R_HOME=D:\Progra~1\Rw1001.
> 
> Can anyone tell me what I'm doing wrong in trying to convert to HTML?
> thanks in advance.

The relevant paragraph in CHANGES says:

   There are batch files  Rd2txt.bat Rdconv.bat Rdindex.bat Sd2Rd.bat
   which are the equivalent of the Unix `R CMD foo' utilities mentioned in
   `Writing R Extensions'.  To use these you must have R_HOME set as an
   environment variable (using the form P:/R/rw1001).

Please try using that form (/ not \).



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu May 18 23:50:01 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 18 May 2000 23:50:01 +0200
Subject: [R] Hosmer-Lemeshow test
Message-ID: <4.3.1.0.20000518234027.00df5c30@127.0.0.1>


Dear Friends.
Hosmer- Lemeshow test of fit in logistic regression seems easy enough to 
program, but anyway: is it already available and is it the right thing to 
do as such ? Can one have a reasonable fit by such a tests and even then a 
lousy model with severe dispersion problems ? Apart from comparing 
likelihoods or AICs when changing models is there any generally 
recommendable procedures available  to test fit ? Perhaps people could 
answer to me and I could summarize so not to clutter the list too much ?


Best wishes

Troels
Troels

look here:
http://www.wired.com/wired/archive/8.04/joy.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Fri May 19 00:46:53 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 19 May 2000 08:46:53 +1000
Subject: [R] Control of box and staple width in boxplot()
Message-ID: <3.0.6.32.20000519084653.007b5560@pophost.anu.edu.au>

I'd like to make the following changes (differences are from R1.0.1):

boxplot.default()
1c1
< function (x, ..., range = 1.5, width = NULL, varwidth = FALSE, 
---
> function (x, ..., range = 1.5, width = NULL, varwidth = FALSE,
boxwex=0.8,
37c37,38
<         bxp(groups, width, varwidth = varwidth, notch = notch, 
---
>         bxp(groups, width, varwidth = varwidth, boxwex=boxwex, 
>             notch = notch, 

bxp()
1c1,2
< function (z, notch = FALSE, width = NULL, varwidth = FALSE,
notch.frac = 0.5, 
---
> function (z, notch = FALSE, width = NULL, varwidth = FALSE, 
>     boxwex=0.8, notch.frac = 0.5, 
52c53
<         0.8 * width/max(width)
---
>         boxwex * width/max(width)
55c56
<         0.8 * sqrt(unlist(lapply(z, "[[", "n"))/nmax)
---
>         boxwex * sqrt(unlist(lapply(z, "[[", "n"))/nmax)
57,58c58,59
<         0.4
<     else rep(0.8, n)
---
>         0.5*boxwex
>     else rep(boxwex, n)

Examples:
 data(PlantGrowth)
 boxplot(split(PlantGrowth$weight,PlantGrowth$group))
 boxplot(split(PlantGrowth$weight,PlantGrowth$group),boxwex=0.1)
 boxplot(split(PlantGrowth$weight,PlantGrowth$group),boxwex=0.8)
     # This last command gives the same result as the default.

My view is that the default should be more like boxwex=0.1 .
In the default style of boxplot, the horizontal dimension
of the box carries no information.

John Maindonald.
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri May 19 02:00:54 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 18 May 2000 20:00:54 -0400 (EDT)
Subject: [R] environments and lexical scoping (conceptual issues)
Message-ID: <Pine.LNX.4.21.0005181501030.509-100000@Chrestomanci.home.earth>

Dear R people,

I have been reading about R in V&R's `S programming', specifically Section
3.4, entitled `Databases, frames, and environments'.

I have found it useful in helping me understand things which I had
previously found puzzling. However, there are still some things I don't
fully understand.  Could some kind person help me clarify them? For
instance, I am having difficulties with the latter part of the
following passage (pgs 63,64), which is entirely about R. Quoting:

VR> `Lexical scoping' comes into play when we consider how R finds objects
VR> to associate with names when evaluating a function. In principle the
VR> answer is easy: it searches the `environment',that is in the frame of
VR> the environment, then in the frame of the enclosing environment, then
VR> in the frame of the enclosing environment of the enclosing environment,
VR> and so on. In less precise language, it searches up the tree of 
VR> environments until it finds a match or reaches the root, which will be
VR> the user's workspace, and then along the search path.

Ok, clear so far.

VR> So, we need to know where the evaluation environment is on the tree of
VR> environments. When the evaluation environment is a function body, the
VR> enclosing environment is that of the function, which is normally the
VR> environment within which the function was defined. This is what is
VR> meant by lexical scoping.

Still clear...

VR> The enclosing environment need not be the parent environment, the 
VR> environment from which the evaluation environment was created, and
VR> [the enclosing environment (my addition)] is usually the environment
VR> within which the function was created, often the workspace.

?? I don't understand. If "the enclosing environment need not be the
parent environment, from which the evaluation environment was created"
then this seems to contradict the previous para, where it says "When the
evaluation environment is a function body, the enclosing environment is
that of the function, which is normally the environment within which the
function was defined." Does the last para refer to situations other than
functions defined within functions? If so, an example of this would be
helpful in understanding what is meant. And if the enclosing environment
is not the parent environment, then how is the enclosing environment
chosen? 

VR> Notice that the end effect is somewhat similar to that of S; the 
VR> frames of the parents of the function are not normally searched, so
VR> the search goes from the local environment to the user's workplace, and
VR> then along the search path given by search() (as the enclosing
VR> environment of all functions in packages is set to the workspace).
VR> However, the scope is different for functions defined within other
VR> functions. (A function's environment can be changed by using
VR> environment as a replacement function, a complication we will not
VR> explore here.)

This seems to confirm that functions defined within other functions *are*
treated differently, ie. by lexical scoping, whereas environments created
by other means are not necessarily. 

The phrase "(as the enclosing environment of all functions in packages is
set to the workspace)" is also confusing me. Is the enclosing environment
in this case being forced to be the user's workplace, and is this an
example of the enclosing environment not being the parent environment?

The discussion in `S Programming' is by far the most detailed of these
important concepts that I have seen, but it would be even more useful if
it were made more wordy and more (simple) examples were given, so as to
make misunderstandings more difficult. I have read the preceding passage a
number of times, but as you can see its meaning is still not fully clear
to me, and I have not been able to find any documentation that sheds
further light on the concepts discussed here.
                                                      Faheem. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 19 03:21:56 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 May 2000 03:21:56 +0200
Subject: [R] environments and lexical scoping (conceptual issues)
In-Reply-To: Faheem Mitha's message of "Thu, 18 May 2000 20:00:54 -0400 (EDT)"
References: <Pine.LNX.4.21.0005181501030.509-100000@Chrestomanci.home.earth>
Message-ID: <x2ya57gwqz.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> VR> The enclosing environment need not be the parent environment, the 
> VR> environment from which the evaluation environment was created, and
> VR> [the enclosing environment (my addition)] is usually the environment
> VR> within which the function was created, often the workspace.
> 
> ?? I don't understand. If "the enclosing environment need not be the
> parent environment, from which the evaluation environment was created"
> then this seems to contradict the previous para, where it says "When the
> evaluation environment is a function body, the enclosing environment is
> that of the function, which is normally the environment within which the
> function was defined." Does the last para refer to situations other than
> functions defined within functions? If so, an example of this would be
> helpful in understanding what is meant. And if the enclosing environment
> is not the parent environment, then how is the enclosing environment
> chosen? 

This is crucial. You have to distinguish between the *defining*
environment and the *calling* environment. 

 x<-5
 f<-function()x 
 g<-function(){x<-2;f()}
 g() # == 5

The converse would be

 g<-function(){x<-2;function()x}
 h<-g()
 x<-5
 h() # == 2

There are situations beyond defining functions inside other functions,
for instance 

 k <- evalq(function(n)x+n, environment(h))
 k(2) # == 4


> VR> Notice that the end effect is somewhat similar to that of S; the 
> VR> frames of the parents of the function are not normally searched, so
> VR> the search goes from the local environment to the user's workplace, and
> VR> then along the search path given by search() (as the enclosing
> VR> environment of all functions in packages is set to the workspace).
> VR> However, the scope is different for functions defined within other
> VR> functions. (A function's environment can be changed by using
> VR> environment as a replacement function, a complication we will not
> VR> explore here.)
> 
> This seems to confirm that functions defined within other functions *are*
> treated differently, ie. by lexical scoping, whereas environments created
> by other means are not necessarily.

Not really. Environments are always lexically scoped. The enclosure is
the environment in which the environment was defined. Functions are
special only in the sense that they carry the environment in which
they are defined (this is the concept of "function closures"). When
you are defining a function within another function that environment
is the execution environment of the function that calls "function",
unless you explicitly set the environment differently using e.g. eval().

> The phrase "(as the enclosing environment of all functions in packages is
> set to the workspace)" is also confusing me. Is the enclosing environment
> in this case being forced to be the user's workplace, and is this an
> example of the enclosing environment not being the parent environment?

Exactly. Have a look at library(). Notice that packages are loaded
with

 sys.source(file, env, keep.source = keep.source) 

This makes all loaded functions be defined in "env", but it has the
side effect that their enclosing environment is also "env". That is
not practical because then a function in a package cannot "see"
definitions in the global environment or for that matter in later
packages, hence the chasing

 .Internal(lib.fixup(env, .GlobalEnv))

> The discussion in `S Programming' is by far the most detailed of these
> important concepts that I have seen, but it would be even more useful if
> it were made more wordy and more (simple) examples were given, so as to
> make misunderstandings more difficult. I have read the preceding passage a
> number of times, but as you can see its meaning is still not fully clear
> to me, and I have not been able to find any documentation that sheds
> further light on the concepts discussed here.

Also have a look at:

Ihaka & Gentleman (1996), "R: A Language for Data Analysis and
Graphics", Journal of Computational and Graphical Statistics, 5,
299-314.

There's an R language manual on the drawing board, and it is supposed
to contain material of this caliber, but writing it is a slow process.
(As you will have noticed, it is necessary to be both comprehensive
and comprehensible, and achieving both goals can be difficult.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 19 03:31:29 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 18 May 2000 18:31:29 -0700 (PDT)
Subject: [R] environments and lexical scoping (conceptual issues)
In-Reply-To: <Pine.LNX.4.21.0005181501030.509-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.21.0005181812440.17764-100000@mail.biostat.washington.edu>

On Thu, 18 May 2000, Faheem Mitha wrote:

> 
> VR> The enclosing environment need not be the parent environment, the 
> VR> environment from which the evaluation environment was created, and
> VR> [the enclosing environment (my addition)] is usually the environment
> VR> within which the function was created, often the workspace.
> 
> ?? I don't understand. If "the enclosing environment need not be the
> parent environment, from which the evaluation environment was created"
> then this seems to contradict the previous para, where it says "When the
> evaluation environment is a function body, the enclosing environment is
> that of the function, which is normally the environment within which the
> function was defined." Does the last para refer to situations other than
> functions defined within functions? If so, an example of this would be
> helpful in understanding what is meant. And if the enclosing environment
> is not the parent environment, then how is the enclosing environment
> chosen? 

There are two environments: the one that the function was defined in
("enclosing"), and the one it was invoked in ("parent")

If you create a function at the command line or load it in a package it's
enclosing environment is the global workspace.   If you define a function
f() inside another function g() its enclosing environment
is the environment inside g(). The enclosing environment for a function is
fixed when the function is created.  You can find out the enclosing
environment for a function f() using 
	environment(f)

The "parent" environment, on the other hand, is defined when you invoke a
function.  If you invoke lm() at the command line its parent environment
is the global workspace, if you invoke it inside a function f() then its
parent environment is the environment inside f().  You can find out the
parent environment for an invocation of a function by using
sys.frame(sys.parent()).


So for most user-visible functions the enclosing environment will be the
global workspace, since that is where most functions are defined.  The
parent environment will be wherever the function happens to be called
from.

If a function f() is defined inside another function g() it will probably
be used inside g() as well, so in fact its parent environment and
enclosing environment will be the same.


Parent environments are important is that things like model formulas need
to be evaluated in the environment the function was called from, since
that's where all the variables will be available. This relies on the
parent environment being potentially different with each invocation.

Enclosing environments are important because a function can use variables
in the enclosing environment to share information with other functions or
with other invocations of itself. This relies on the enclosing environment
being the same each time the function is invoked.

Scoping *is* hard.  Looking at examples helps, and I would particularly
recommend playing around with all the examples in that chapter of VR. It
is particularly instructive to look at examples that work differently in
R and S and try to see why they differ.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri May 19 04:54:39 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 18 May 2000 21:54:39 -0500
Subject: [R] environment and scoping
Message-ID: <200005190254.AA27551@uhddx01.dt.uh.edu>

Hi Faheem!
(apologies again to group...accidentally erased Faheem's
personal e-mail address.  just back from vacation and fuzzy-headed)

The best way to un-puzzle yourself is to look at the
original S Book:  "The New S Language", Becker, Chambers, and
Wilks, from 1988.

Pls. look in Section 5.4, p. 117.  This section describes
how frames and such work in S of that time.

Then you can do a nice "compare-and-contrast" to the VR material, which
is excellent, by the way.

The gist of the section is that operations take place in different
"locations", if you will.

The best way to see this is to write a function in R, check 
how/when it is evaluated, and then do the same thing in S/SPlus.  (it's
a very interesting exercise!!!)

Hope this helps!

Sincerely,
Erin M. Hodgess, Ph.D.
Assistant Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


Subject: [R] environments and lexical scoping (conceptual issues)

Dear R people,

I have been reading about R in V&R's `S programming', specifically Section
3.4, entitled `Databases, frames, and environments'.

I have found it useful in helping me understand things which I had
previously found puzzling. However, there are still some things I don't
fully understand.  Could some kind person help me clarify them? For
instance, I am having difficulties with the latter part of the
following passage (pgs 63,64), which is entirely about R. Quoting:

VR> `Lexical scoping' comes into play when we consider how R finds objects
VR> to associate with names when evaluating a function. In principle the
VR> answer is easy: it searches the `environment',that is in the frame of
VR> the environment, then in the frame of the enclosing environment, then
VR> in the frame of the enclosing environment of the enclosing environment,
VR> and so on. In less precise language, it searches up the tree of 
VR> environments until it finds a match or reaches the root, which will be
VR> the user's workspace, and then along the search path.

Ok, clear so far.

VR> So, we need to know where the evaluation environment is on the tree of
VR> environments. When the evaluation environment is a function body, the
VR> enclosing environment is that of the function, which is normally the
VR> environment within which the function was defined. This is what is
VR> meant by lexical scoping.

Still clear...

VR> The enclosing environment need not be the parent environment, the 
VR> environment from which the evaluation environment was created, and
VR> [the enclosing environment (my addition)] is usually the environment
VR> within which the function was created, often the workspace.

?? I don't understand. If "the enclosing environment need not be the
parent environment, from which the evaluation environment was created"
then this seems to contradict the previous para, where it says "When the
evaluation environment is a function body, the enclosing environment is
that of the function, which is normally the environment within which the
function was defined." Does the last para refer to situations other than
functions defined within functions? If so, an example of this would be
helpful in understanding what is meant. And if the enclosing environment
is not the parent environment, then how is the enclosing environment
chosen? 

VR> Notice that the end effect is somewhat similar to that of S; the 
VR> frames of the parents of the function are not normally searched, so
VR> the search goes from the local environment to the user's workplace, and
VR> then along the search path given by search() (as the enclosing
VR> environment of all functions in packages is set to the workspace).
VR> However, the scope is different for functions defined within other
VR> functions. (A function's environment can be changed by using
VR> environment as a replacement function, a complication we will not
VR> explore here.)

This seems to confirm that functions defined within other functions *are*
treated differently, ie. by lexical scoping, whereas environments created
by other means are not necessarily. 

The phrase "(as the enclosing environment of all functions in packages is
set to the workspace)" is also confusing me. Is the enclosing environment
in this case being forced to be the user's workplace, and is this an
example of the enclosing environment not being the parent environment?

The discussion in `S Programming' is by far the most detailed of these
important concepts that I have seen, but it would be even more useful if
it were made more wordy and more (simple) examples were given, so as to
make misunderstandings more difficult. I have read the preceding passage a
number of times, but as you can see its meaning is still not fully clear
to me, and I have not been able to find any documentation that sheds
further light on the concepts discussed here.
                                                      Faheem. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 19 07:44:39 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 May 2000 06:44:39 +0100 (BST)
Subject: [R] environments and lexical scoping (conceptual issues)
In-Reply-To: <Pine.LNX.4.21.0005181501030.509-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10005190639140.24980-100000@auk.stats>

On Thu, 18 May 2000, Faheem Mitha wrote:

> Dear R people,
> 
> I have been reading about R in V&R's `S programming', specifically Section
> 3.4, entitled `Databases, frames, and environments'.

> The discussion in `S Programming' is by far the most detailed of these
> important concepts that I have seen, but it would be even more useful if
> it were made more wordy and more (simple) examples were given, so as to
> make misunderstandings more difficult. I have read the preceding passage a
> number of times, but as you can see its meaning is still not fully clear
> to me, and I have not been able to find any documentation that sheds
> further light on the concepts discussed here.

Well, page 55 does say it is hard work, and there are extensive examples
in that chapter and in chapter 7.  Thomas Lumley and Peter Dalgaard
have I hope shed some further light for you.

One problem with writing about R is that it changes, and it changed a lot
while that section was being written (including in notation and 
in part because of difficulties we found in describing it).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 19 08:45:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 May 2000 07:45:24 +0100 (BST)
Subject: [R] RdConv.bat under NT 4.0
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E507@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.05.10005190743030.29469-100000@auk.stats>

On Thu, 18 May 2000, Richards, Tom wrote:

> Hello:
> 
> 	I have just used prompt() in R1.0.1, NT4.0, to make a
> file called myfun.Rd, in my %R_HOME%\bin subdirectory, then
> tried converting the .rd file to HTML using the Rdconv.bat, as follows:
> 
> Rdconv --type=html myfun.Rd
> 
> The message that I got was
> 
> cat: cannot open **
> 
> where ** is some unintelligible character.
> It looks like a Perl problem to me (I've just installed ActivePerl 5.6.0.613
> today)
> Perl is definitely in my path.
> I have set R_HOME=D:\Progra~1\Rw1001.

Some further investigation has shown that this is due to the `cat' program
in use.  To use Rdconv.bat you need a Unix-compatible `cat' program, for
example the one in tools.zip on CRAN.

I will try to eliminate this dependency for 1.1.0, but for now that is the
workaround.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri May 19 11:23:41 2000
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 19 May 2000 11:23:41 +0200
Subject: [R] spatial functions
Message-ID: <3.0.6.32.20000519112341.0097e830@mail.anst.uu.se>

Hi all,

I am considering buying S-Plus but I wonder if that is really necessary
since it seems to be possible doing most (all?) things using R instead.

More specifically I am interested in the functions available in the
SpatialStats module of S-Plus. It seems as if the functions in the module
(Khat, variogram, correlogram etc.) are not available in R base.

I now wonder: 
Are these spatial functions available somewhere on the web? 
Can I load the SpatialStats module into R without having S-Plus or in some
other way get the functions from the module into R?

I am using Windows NT 4.0.


	Tord

-----------------------------------------------------------------------
******New e-mail address: Tord.Snall at ebc.uu.se*******

Tord Sn?ll, PhD student
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
Homepage: http://www.vaxtbio.uu.se/resfold/tord_s.htm
------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gary.Collins at bgtechnology.com  Fri May 19 12:08:07 2000
From: Gary.Collins at bgtechnology.com (Collins, Gary)
Date: Fri, 19 May 2000 11:08:07 +0100
Subject: No subject
Message-ID: <FD005144E0A3D3119FD600508B6F3EB601CD1300@BGTEXCL1>

>I have some code 
>
>
>         Xj<-X[Jlist[[M]],Xjlist[[M]],drop=F] 
>
>
>which I use to partition the matrix X. However 
>when the second argument is a single number, Xj is not a
matrix but a 
>vector. I thought the drop=F argument should have kept Xj a
matrix. 

It does work, look at the following example

> X
     [,1] [,2] [,3]
[1,]    1    5    6
[2,]    2    6    6
[3,]    3    7    8
[4,]    4    8    8

> Xj<-X[c(2,3),c(1,2),drop=F] 
> Xj
     [,1] [,2]
[1,]    2    6
[2,]    3    7

> Xj<-X[c(2,3),2, drop=F) 
> Xj
     [,1]
[1,]    6
[2,]    7

> is.matrix(Xj)
[1] TRUE

>
>
>I am using version 0.90.1 

This is probably your problem, you a bit out of date now, R
1.0.1 has been available since
14/04/2000!! Get the latest version, I gather many things
have changed from pre 1.0.0.

>
>
>Can someone tell me how I'm wrong? 
>
>
>Thanks 
>Ross Darnell 

Hope this helps.

Gary.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Fri May 19 17:30:36 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Sat, 20 May 2000 00:30:36 +0900
Subject: [R] Japanese in R
Message-ID: <20000520003036K.mase@is.titech.ac.jp>


Dear Paul Murrel, this is a little bit late reply to your previous 
information on the Japanese facility of R.

Recently I installed R(1.0.1) from the woody package of Debian GNU/Linux
and tested help(Japanese) and example(Japanese) as you kindly taught me. 
They worked fine!

Frankly speaking, the quality of Japanese fonts is not so good (I have
not yet tired to print out them), but, of course, far better than having 
nothing. Thank you very much for your (and maybe other's) efforts.

As you know very well, almost all Japanese PC have a variant of 
qwerty keyboard with 106 (or 109) keys. Extra keys are for Japanese
input and we use special software to convert alphabetic inputs into 
Japanese. I am not completely certain yet, but seemingly only method 
for using Japanese fonts from R is just as you did in example(Japanese),
that is, using Hershey fonts codes directly. Therefore, fortunately
or unfortunately, no problem due to Japanese special keyboards at present, 
Probably this is not a big problem since we need Japanese only in 
legends or titles. 

Again thank you very much. This solves partially one of main obstacles of the 
use of R in Japan. 

-----------------------------------------------
Shigeru Mase <mase at is.titech.ac.jp>
Dept. of Math. and Comp. Sciences,
Tokyo Institute of Technology, Tokyo, Japan
-----------------------------------------------
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From L.E.Jamieson at statslab.cam.ac.uk  Fri May 19 17:28:14 2000
From: L.E.Jamieson at statslab.cam.ac.uk (Lara Jamieson)
Date: Fri, 19 May 2000 16:28:14 +0100 (BST)
Subject: [R] New Versions
Message-ID: <Pine.LNX.4.10.10005191617010.6766-100000@hearts.statslab.cam.ac.uk>


Hi,

Problems with .Random.seed. with both versions released this year - a
first attempt to use any random number generator gives the following
error:

> rnorm(1)
Error in rnorm(1) : .Random.seed[0] is not a valid Normal type
> .Random.seed[0]
numeric(0)
> .Random.seed
[1]  6615 29074  9812

Removing the .Random.seed and letting R find another one fixes the problem
but doesn't seem ideal.

Is this a problem with installation, a general bug or a Linux interface
problem?

The new versions have been installed on a number of our Linux machines and
all seem to have the same problem.

------------

In the April release in-line editing doesn't appear to work.  Again is
this a bug or a system problem?

Any ideas and help, will be greatly appreciated.

Thanks,
Lara


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 19 18:04:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 19 May 2000 09:04:46 -0700 (PDT)
Subject: [R] spatial functions
In-Reply-To: <3.0.6.32.20000519112341.0097e830@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.21.0005190857390.12151-100000@mail.biostat.washington.edu>

On Fri, 19 May 2000, Tord Snall wrote:

> Hi all,
> 
> I am considering buying S-Plus but I wonder if that is really necessary
> since it seems to be possible doing most (all?) things using R instead.
> 
> More specifically I am interested in the functions available in the
> SpatialStats module of S-Plus. It seems as if the functions in the module
> (Khat, variogram, correlogram etc.) are not available in R base.
> 
> I now wonder: 
> Are these spatial functions available somewhere on the web? 

There are some spatial functions in the sgeostat package on CRAN and
some in the `spatial' package in the VR bundle and there
may be more on Statlib (lib.stat.smu.edu)

> Can I load the SpatialStats module into R without having S-Plus or in some
> other way get the functions from the module into R?

It would probably not work. More worryingly, it might almost work but give
wrong answers in some cases. It wouldn't be supported (we don't have the
code and Mathsoft obviously wouldn't feel obliged to help). In any case,
if you want the commercial add-ons to S-PLUS you probably want S-PLUS
itself.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 19 18:19:10 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 19 May 2000 09:19:10 -0700 (PDT)
Subject: [R] New Versions
In-Reply-To: <Pine.LNX.4.10.10005191617010.6766-100000@hearts.statslab.cam.ac.uk>
Message-ID: <Pine.GSO.4.21.0005190913230.12151-100000@mail.biostat.washington.edu>

On Fri, 19 May 2000, Lara Jamieson wrote:

> 
> Hi,
> 
> Problems with .Random.seed. with both versions released this year - a
> first attempt to use any random number generator gives the following
> error:
> 
> > rnorm(1)
> Error in rnorm(1) : .Random.seed[0] is not a valid Normal type
> > .Random.seed[0]
> numeric(0)
> > .Random.seed
> [1]  6615 29074  9812
> 
> Removing the .Random.seed and letting R find another one fixes the problem
> but doesn't seem ideal.
> 
> Is this a problem with installation, a general bug or a Linux interface
> problem?

This is a once-only problem with old .Random.seeds.  The random number
generator system has changed a number of times. We hope it is now
settled. However, sufficiently old .Random.seeds don't work (I think
pre-0.90).

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 19 18:49:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 19 May 2000 17:49:56 +0100 (BST)
Subject: [R] New Versions
Message-ID: <200005191649.RAA06402@toucan.stats.ox.ac.uk>

> Date: Fri, 19 May 2000 16:28:14 +0100 (BST)
> From: Lara Jamieson <L.E.Jamieson at statslab.cam.ac.uk>
> 
> Problems with .Random.seed. with both versions released this year - a

I guess you mean 1.0.0 and 1.0.1, the first non-beta versions of R.

> first attempt to use any random number generator gives the following
> error:
> 
> > rnorm(1)
> Error in rnorm(1) : .Random.seed[0] is not a valid Normal type
> > .Random.seed[0]
> numeric(0)
> > .Random.seed
> [1]  6615 29074  9812
> 
> Removing the .Random.seed and letting R find another one fixes the problem
> but doesn't seem ideal.

You are almost certainly using a workspace that is older than 0.63.1
(1998!) and unsaved since.   All versions throughout 1999 gave a warning
and fixed this up on saving the workspace.  One solution is to use

.Random.seed <- c(0, .Random.seed)

in such ancient workspaces.  However, that PRNG is nothing like as
good as the current default and is maintained for historical reasons only.
Just deleting .Random.seed is pretty well ideal.  Use set.seed()
if you want repeatable behaviour.

> Is this a problem with installation, a general bug or a Linux interface
> problem?

It is a problem with using a very old saved workspace (.RData).
Remember that R was beta software in 1998, and has changed (a lot) since,
not always in compatible ways.  Only with the advent of 1.0.0 are
we attempting to keep such things working (until 2.0.0 arrives).

> In the April release in-line editing doesn't appear to work.  Again is
> this a bug or a system problem?

A local problem.  Did it report that the readline library was found?
It looks like not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri May 19 19:41:42 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 19 May 2000 13:41:42 -0400 (EDT)
Subject: [R] spatial functions
In-Reply-To: <Pine.GSO.4.21.0005190857390.12151-100000@mail.biostat.washington.edu>
Message-ID: <Pine.LNX.4.10.10005191331230.13306-100000@bolker.zoo.ufl.edu>


  In particular, VR's "spatial" package does have correlogram, variogram,
and Kfn (which is the equivalent of Khat), and the sgeostat package
appears to have a variety of variogram estimators. I think it depends on
your degree of expertise, how much of a cheapskate you are, and how much
you're willing to fuss to make things work.  I suspect that S+SpatialStats
was originally built on top of the VR functions, but it has been extended
and polished since; the documentation is certainly more polished (I've
bought S-PLUS and S+SpatialStats, but haven't got around to using them yet
-- not because I've been using R to do the same things, but just because I
haven't done any of that kind of spatial work recently).
  If you have any particular analyses in mind I can look in the
S+SpatialStats manual and see if they're covered.

On Fri, 19 May 2000, Thomas Lumley wrote:

> On Fri, 19 May 2000, Tord Snall wrote:
> 
> > Hi all,
> > 
> > I am considering buying S-Plus but I wonder if that is really necessary
> > since it seems to be possible doing most (all?) things using R instead.
> > 
> > More specifically I am interested in the functions available in the
> > SpatialStats module of S-Plus. It seems as if the functions in the module
> > (Khat, variogram, correlogram etc.) are not available in R base.
> > 
> > I now wonder: 
> > Are these spatial functions available somewhere on the web? 
> 
> There are some spatial functions in the sgeostat package on CRAN and
> some in the `spatial' package in the VR bundle and there
> may be more on Statlib (lib.stat.smu.edu)
> 
> > Can I load the SpatialStats module into R without having S-Plus or in some
> > other way get the functions from the module into R?
> 
> It would probably not work. More worryingly, it might almost work but give
> wrong answers in some cases. It wouldn't be supported (we don't have the
> code and Mathsoft obviously wouldn't feel obliged to help). In any case,
> if you want the commercial add-ons to S-PLUS you probably want S-PLUS
> itself.
> 
> 
> 	-thomas
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From otter-rsch at home.com  Fri May 19 20:27:22 2000
From: otter-rsch at home.com (dave fournier)
Date: Fri, 19 May 2000 11:27:22 -0700
Subject: [R] using Rprintf with NT
Message-ID: <39258786.BE061654@home.com>

Hi,

I'm using the Rprintf function under NT to print from a C++ DLL.
The printing works fine -- except that nothing is printed until
the program returns from the DLL.  Can anything be done to the code to
fix this problem.

       Thanks,

       Dave




--
David A Fournier
PO Box 2040
Sidney, B.C. V8L 3S3
Canada
250-655-3364
otter at otter-rsch.com
http://otter-rsch.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Fri May 19 21:54:07 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Fri, 19 May 2000 15:54:07 -0400
Subject: [R] Check if directory exists
Message-ID: <39259BDE.767570BB@acsu.buffalo.edu>

Dear R users,

is there a function to check if a directory exists? file.exists() works
for both files and dirs, but there's no way to tell, AFAIK. Something
like
file.exists(dir=T), or is.dir() would be nice...

Thanks

Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 19 23:12:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 May 2000 22:12:45 +0100 (BST)
Subject: [R] using Rprintf with NT
In-Reply-To: <39258786.BE061654@home.com>
Message-ID: <Pine.GSO.4.05.10005192209190.4118-100000@auk.stats>

On Fri, 19 May 2000, dave fournier wrote:

> Hi,
> 
> I'm using the Rprintf function under NT to print from a C++ DLL.
> The printing works fine -- except that nothing is printed until
> the program returns from the DLL.  Can anything be done to the code to
> fix this problem.

Yes. Call R_Process_events() periodically.  That will clear the Windows
event queue.

Just in case it is catching you, the output in the console is always
batched up waiting for the prompt. Use ^W to toggle this.  My guess is
that this _is_ catching you.  Do send complete lines (with \n) via
Rprintf if possible.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat May 20 01:24:37 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 20 May 2000 11:24:37 +1200
Subject: [R] rmeta Package
Message-ID: <3925CD31.B99F9C32@xtra.co.nz>

I want to draw a meta plot with Mantel-Haenszel  analysis (meta.MH) in
the "rmeta" package.

Is it possible to change the confidence interval?  The default is 95%,
but what if I want, say 99% or 90% confidence interval?  I can't seem to
find how to do this in the manual.

Thanks.

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat May 20 12:12:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 May 2000 12:12:47 +0200
Subject: [R] rmeta Package
In-Reply-To: Ko-Kang Wang's message of "Sat, 20 May 2000 11:24:37 +1200"
References: <3925CD31.B99F9C32@xtra.co.nz>
Message-ID: <x2wvkpr0m8.fsf@blueberry.kubism.ku.dk>

Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:

> I want to draw a meta plot with Mantel-Haenszel  analysis (meta.MH) in
> the "rmeta" package.
> 
> Is it possible to change the confidence interval?  The default is 95%,
> but what if I want, say 99% or 90% confidence interval?  I can't seem to
> find how to do this in the manual.
> 
> Thanks.

There are multiple hardcoded "1.96"s in the code for metaplot() and
summary.meta.MH(). 

You'd have to replace those with -qnorm((1-conf.level)/2) (== 2.576
and 1.645 for 99% resp. 90%) either manually changing the value or -
better - by adding a parameter to the routines (and contributing your
fixes back to the maintainer).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat May 20 13:48:34 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 20 May 2000 23:48:34 +1200
Subject: [R] rmeta Package
References: <3925CD31.B99F9C32@xtra.co.nz> <x2wvkpr0m8.fsf@blueberry.kubism.ku.dk>
Message-ID: <39267B92.E0CE560@xtra.co.nz>

To Thomas,

I have made some attemp to add the ability to change the level of confidence
interval into your rmeta package.

Currently I've successfully (although I've just tested on 1 data set which
worked) changed meta.MH, I will try to add the parameter into meta.DSL.

My question is, would you like me to send you the rmeta.R file after I've
added the new parameter (currently the changes have been saved under
MyMeta.R)?  Or I shall just keep the file myself for private use?  I think it
will be kind of great if I send it to you after I finish and you may want to
upgrade the package, since it will be much more convinient to be able to
specify the confidence interval without having to go through the actual code
behind the function.

Cheers,

Ko-Kang

Peter Dalgaard BSA wrote:

> Ko-Kang Wang <Ko-Kang at xtra.co.nz> writes:
>
> > I want to draw a meta plot with Mantel-Haenszel  analysis (meta.MH) in
> > the "rmeta" package.
> >
> > Is it possible to change the confidence interval?  The default is 95%,
> > but what if I want, say 99% or 90% confidence interval?  I can't seem to
> > find how to do this in the manual.
> >
> > Thanks.
>
> There are multiple hardcoded "1.96"s in the code for metaplot() and
> summary.meta.MH().
>
> You'd have to replace those with -qnorm((1-conf.level)/2) (== 2.576
> and 1.645 for 99% resp. 90%) either manually changing the value or -
> better - by adding a parameter to the routines (and contributing your
> fixes back to the maintainer).
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat May 20 19:08:06 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 20 May 2000 13:08:06 -0400 (EDT)
Subject: [R] error with princomp
Message-ID: <Pine.LNX.4.21.0005201256010.851-100000@Chrestomanci.home.earth>

Dear R people,

Thanks to everyone who replied to my questions about environments and
lexical scoping. It was very helpful. I am still working on understanding
this. My phone line has been dead for the last 24 hrs, so I was cut off
and could not reply earlier.

I now have another question. I am trying to use princomp with a data frame
of size (2061,98) so quite large. I successfully applied princomp in Splus
to it, but the R version exits with the following incomprehensible error:

Error in if (symmetric) { : missing value where logical needed

if (symmetric) does not appear in the code for princomp so I am flummoxed. 

My code follows. It is identical to that which I used for Splus. I doubt
if the problem will be clear from that, but if anyone wants my dataset to
try to reproduce the results, feel free to ask. In the meantime I am going
to take the princomp object from splus, dump it to a file, transfer it to
R, and pray it works.
      
                               Sincerely, Faheem Mitha.

************************************************************************
num <- 1:33
tanf <- rep("tanf",33)
tanf <- paste(tanf,num, sep="")
med <- rep("med",33)
med <- paste(med,num, sep="")
wage <- rep("wage",33)
wage <- paste(wage,num, sep="")

names <- c(tanf,med,wage)     #tanf, medicaid, wages (33,33,33)

rm(num,tanf,med,wage)

prin.df <- read.table("clus.dat",header= FALSE,
                                         row.names=NULL, col.names=names)

rm(names)

prin.df <- prin.df[ ,2:99]

prin.pr <- princomp(prin.df, cor = T)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun May 21 04:30:06 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 21 May 2000 12:30:06 +1000
Subject: [R] error with princomp
Message-ID: <3.0.32.20000521123004.01283830@pophost.nsw.cmis.csiro.au>

At 01:08 PM 5/20/00 -0400, Faheem Mitha wrote:
>
>I now have another question. I am trying to use princomp with a data frame
>of size (2061,98) so quite large. I successfully applied princomp in Splus
>to it, but the R version exits with the following incomprehensible error:
>
>Error in if (symmetric) { : missing value where logical needed
>
>if (symmetric) does not appear in the code for princomp so I am flummoxed. 

Did traceback() say it came from princomp?  

Did you use traceback() at all?

Do you know about traceback()?

Don't worry if the answer to all three questions is a shrug - many users
are like that, but it really is a fundamental tool for errors like this and
I recommend it to all.

traceback() would have told you that the error is not in princomp() but in
eigen(), the workhorse that princomp() uses.  That has to be a clue.  Have
you looked at the code for eigen()?

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May 21 05:16:48 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 20 May 2000 23:16:48 -0400 (EDT)
Subject: [R] error with princomp
In-Reply-To: <3.0.32.20000521123004.01283830@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.LNX.4.21.0005202304310.851-100000@Chrestomanci.home.earth>



On Sun, 21 May 2000, Bill Venables wrote:

> At 01:08 PM 5/20/00 -0400, Faheem Mitha wrote:
> >
> >I now have another question. I am trying to use princomp with a data frame
> >of size (2061,98) so quite large. I successfully applied princomp in Splus
> >to it, but the R version exits with the following incomprehensible error:
> >
> >Error in if (symmetric) { : missing value where logical needed
> >
> >if (symmetric) does not appear in the code for princomp so I am flummoxed. 
> 
> Did traceback() say it came from princomp? 

No.

> traceback()
[1] "eigen(cv)"                  "princomp(prin.df, cor = T)"
> princomp

> Did you use traceback() at all?

Not till Douglas Bates mentioned it.

> Do you know about traceback()?

Used it in Splus, but Splus helpfully reminds you about it. Never realised
it was in R, never thought of using it. I will from now on, though. I
really would like to learn this stuff.
 
> Don't worry if the answer to all three questions is a shrug - many users
> are like that, but it really is a fundamental tool for errors like this and
> I recommend it to all.

> traceback() would have told you that the error is not in princomp() but in
> eigen(), the workhorse that princomp() uses.  That has to be a clue.  Have
> you looked at the code for eigen()?

Yup. I'm guessing the relevant part is 

if (symmetric) {
        if (complex.x) {
            xr <- Re(x)
            xi <- Im(x)
            z <- .Fortran("ch", n, n, xr, xi, values = dbl.n, 
                !only.values, vectors = xr, ivectors = xi, dbl.n, 
                dbl.n, double(2 * n), ierr = integer(1), PACKAGE = "base")
            if (z$ierr) 
                stop(paste("ch returned code ", z$ierr, " in eigen"))
            if (!only.values) 
                z$vectors <- matrix(complex(re = z$vectors, im =
z$ivectors), 
                  nc = n)
        }

But this does not enlighten me. It seems to involve a call to some Fortran
code, and I don't know Fortran.  And I am still freaked that it worked in
Splus and not in R (same data set, same code).

Could someone speculate on possible reasons? I have given up hope of
running this successfully on R (even if I figure out what it wrong,
princomp for a data set this large requires an unholy amount of memory,
probably more than I have available) but I am curious what it causing it
to go kerblooey. I tried princomp with small data sets and it works fine.

                                          Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 21 11:59:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2000 11:59:22 +0200
Subject: [R] error with princomp
In-Reply-To: Faheem Mitha's message of "Sat, 20 May 2000 23:16:48 -0400 (EDT)"
References: <Pine.LNX.4.21.0005202304310.851-100000@Chrestomanci.home.earth>
Message-ID: <x21z2wb4w5.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> Yup. I'm guessing the relevant part is 
> 
> if (symmetric) {
>         if (complex.x) {
>             xr <- Re(x)
>             xi <- Im(x)
>             z <- .Fortran("ch", n, n, xr, xi, values = dbl.n, 
>                 !only.values, vectors = xr, ivectors = xi, dbl.n, 
>                 dbl.n, double(2 * n), ierr = integer(1), PACKAGE = "base")
>             if (z$ierr) 
>                 stop(paste("ch returned code ", z$ierr, " in eigen"))
>             if (!only.values) 
>                 z$vectors <- matrix(complex(re = z$vectors, im =
> z$ivectors), 
>                   nc = n)
>         }
> 
> But this does not enlighten me. It seems to involve a call to some Fortran
> code, and I don't know Fortran.  And I am still freaked that it worked in
> Splus and not in R (same data set, same code).

The error message said that the problem was in "if (symmetric) {..."
so I'd suspect that it is because symmetric is not a logical - you're
not getting to the Fortran at all. Now, since eigen is not explicitly
being passed a "symmetric" argument, that must come from missing
values in the covariance matrix itself. So where do they come from?

One more hint: debug(princomp) and have a look at the generation of
"cv". It looks like it should be protected from missings, but there
might be a bug somewhere.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun May 21 12:14:20 2000
From: gb at stat.umu.se (gb)
Date: Sun, 21 May 2000 12:14:20 +0200 (CEST)
Subject: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <x21z2wb4w5.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>


Is there a function somewhere for estimating the survivor function
(plus confidence limits) when data are both left truncated and right
censored?  survfit in  survival5  doesn't like left truncation.

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Sun May 21 16:05:40 2000
From: markhall at gol.com (Mark Hall)
Date: Sun, 21 May 2000 23:05:40 +0900
Subject: [R] Problem with MCLUST
Message-ID: <3927ED34.BE122F6B@gol.com>

Hi,

I'm using R 1.0.0 on both a machine running Win95 and another machine
running Win98.  I'm using the mclust function emclust and creating a bic
values file for my data.  the strange part is, I keep getting the error
message, "Error in summary.emclust (file info) : subscript out of
bounds."

Thinking it was my data, I used the iris data and the commands from
the help manual and my error message was:

Error in summary.emclust (iris.bic,iris [,1;4]): subscript out of bounds

Any tips, suggestions, etc?

Thanks in advance, Mark Hall




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun May 21 17:01:02 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 21 May 2000 17:01:02 +0200
Subject: [R] Problem with MCLUST
References: <3927ED34.BE122F6B@gol.com>
Message-ID: <3927FA2E.4480C526@statistik.uni-dortmund.de>

Mark Hall wrote:
> I'm using R 1.0.0 on both a machine running Win95 and another machine
> running Win98.  I'm using the mclust function emclust and creating a bic
> values file for my data.  the strange part is, I keep getting the error
> message, "Error in summary.emclust (file info) : subscript out of
> bounds."
> 
> Thinking it was my data, I used the iris data and the commands from
> the help manual and my error message was:
> 
> Error in summary.emclust (iris.bic,iris [,1;4]): subscript out of bounds

Running the example from documentation to emclust() works on:
NT4.0, R-1.0.1, mclust Version 1.0-1

Do you have installed the mclust package Version 1.0-1 ?
Try to start R with --vanilla option and then test again, maybe
something goes wrong with your workspace.

You should upgrade to R-1.0.1 (there is an important bugfix for the
windows version).

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 21 17:10:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 21 May 2000 16:10:35 +0100 (BST)
Subject: [R] Problem with MCLUST
In-Reply-To: <3927ED34.BE122F6B@gol.com>
Message-ID: <Pine.GSO.4.05.10005211600220.14001-100000@auk.stats>

On Sun, 21 May 2000, Mark Hall wrote:

> I'm using R 1.0.0 on both a machine running Win95 and another machine
> running Win98.  I'm using the mclust function emclust and creating a bic
> values file for my data.  the strange part is, I keep getting the error
> message, "Error in summary.emclust (file info) : subscript out of
> bounds."
> 
> Thinking it was my data, I used the iris data and the commands from
> the help manual and my error message was:
> 
> Error in summary.emclust (iris.bic,iris [,1;4]): subscript out of bounds
> 
> Any tips, suggestions, etc?

Please report problems with addon packages to the porter or author,
in this case  Ron Wehrens <rwehrens at sci.kun.nl>.  It is also
very helpful to say that you are using an add-on package and to give
its version number.

For what it is worth, example(summary.emclust) works for me with rw1001.
I strongly recommend your first step is to upgrade to the current
version of R, for one of the bug fixes was

    o   x <- list(a=1, b=2) ; x["c"] <- 3 now (again) stretches the list
        rather than give a "subscript out of bounds" error.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Sun May 21 17:42:05 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 21 May 2000 16:42:05 +0100
Subject: [R] Problem with MCLUST
In-Reply-To: Mark Hall's message of "Sun, 21 May 2000 23:05:40 +0900"
References: <3927ED34.BE122F6B@gol.com>
Message-ID: <dgkog5z3o6q.fsf@scs2.ncl.ac.uk>

Mark Hall <markhall at gol.com> writes:

> Hi,
> 
> I'm using R 1.0.0 on both a machine running Win95 and another machine
> running Win98.  I'm using the mclust function emclust and creating a bic
> values file for my data.  the strange part is, I keep getting the error
> message, "Error in summary.emclust (file info) : subscript out of
> bounds."
> 
> Thinking it was my data, I used the iris data and the commands from
> the help manual and my error message was:
> 
> Error in summary.emclust (iris.bic,iris [,1;4]): subscript out of bounds

Did you mean to use the semicolon? should be 1:4 , however I thought
this would have responded with a syntax error. 

Cheers
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May 21 19:14:33 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 21 May 2000 13:14:33 -0400 (EDT)
Subject: [R] error with princomp
In-Reply-To: <x21z2wb4w5.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005211251130.1209-100000@Chrestomanci.home.earth>

Dear R people,

I have been doing some more sherlocking of a rather primitive sort. Thanks
very much for hints supplied by Peter Dalgaard and Bill Venables. I found
debug(princomp) would just exit with the same error. So, since the
calculations are really quite simple, I decided to follow them along,
creating the objects as needed. This approach was successful in detecting
the source of the prolem. The first column of my data set, corresponding
to the first variable, was all ones. This reasonably enough gave a lot of
zero covariances, and hence NaN's are generated down the line when
calculating the correlation matrix, hence throwing R into a tizzy. This
seems reasonable enough. I don't know enough about principal components
analysis to know whether R should be expected to do anything further with
a correlation matrix with missing values, but I doubt it. (Yes, the
correlation matrix seems to be the problem). I wonder how Splus coped with
it. I may take a look later if I have the energy.

I deleted this column and then ran into a further problem. When I tried to
do princomp(prin.df, cor = T) again I got

Error in princomp(prin.df, cor = T) : covariance matrix is not
non-negative definite.

I took a look at the covariance matrix and indeed some of the eigenvalues
were negative. However, they were very small negative numbers, ie

[86] -1.861163e-18 -3.507169e-18 -1.400653e-17 -4.185918e-17 -5.495597e-17
[91] -8.742655e-17 -1.227594e-16 -1.515011e-16 -2.975572e-16 -3.650603e-16
[96] -5.166079e-16 -1.719909e-15

Now, I am no expert on this stuff, but I think the covariance matrix
estimator is simply calculating the covariance matrix of the sample
distribution, so should be guaranteed to give a non-negative definite
matrix. So, I am inclined to think that this is probably a rounding error
and not my fault. What should be done about it? No, please don't tell me
to rewrite the code. I don't know enough.
                                                 Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun May 21 20:45:55 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 21 May 2000 14:45:55 -0400 (EDT)
Subject: [R] error with princomp
In-Reply-To: <x21z2wb4w5.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0005211419310.1209-100000@Chrestomanci.home.earth>

Dear R people,

A followup on my previous message. I did a little more investigation and
experimentation. 

Firstly, I tried princomp, with cor = F. I was relieved that it gave me
the "covariance matrix is not non-negative definite" error, otherwise I
would have been really puzzled. So it seems clear that the first column of
my matrix being all ones is what is causing the if(symmetric) error.

Moving on, I was curious why Splus was not giving me a error for the same
reason. I looked at the covariance matrix, and guess what, I get (for
example)

             tanf2    
 tanf2  1.215290e-27

where R gave me zero. (tanf2 is the variable corresponding to the first
column). Clearly zero is the correct answer, so R is the voice of sanity
here. Three cheers for R!

So, I have decided that I will deleted that first column of ones and run
the results again. Goodness knows what terrible things this rounding error
may be doing later on in the calculation.

To close off, I would like to briefly explain what I am doing (which is
very simple) and ask if it seems reasonable. I don't want to be one of
those people out there doing nonsense statistics.

I have a data set, of 2061 rows and 99 columns originally. Now I guess it
is going to be 97 columns, since the first column was all zeros (even
Splus choked on this and I deleted it earlier) and the second one was all
ones. Anyway, the first 64 (was 66) columns are binary data. The last 33
are numeric data. Now, I thought that a reasonable thing to do (in fact,
the only thing I could think of) was to treat the first 64 columns as
numeric zeros and ones, and then use the cor=TRUE flag (ie use the
correlation matrix instead of the corelation matrix). This is advertised
as a way of handling cases when the data is not all of the same scale. So
that is what I did. Any comments/suggestions?
                                    Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 21 22:01:44 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2000 22:01:44 +0200
Subject: [R] error with princomp
In-Reply-To: Faheem Mitha's message of "Sun, 21 May 2000 14:45:55 -0400 (EDT)"
References: <Pine.LNX.4.21.0005211419310.1209-100000@Chrestomanci.home.earth>
Message-ID: <x2g0rbvfiv.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> I have a data set, of 2061 rows and 99 columns originally. Now I guess it
> is going to be 97 columns, since the first column was all zeros (even
> Splus choked on this and I deleted it earlier) and the second one was all
> ones. Anyway, the first 64 (was 66) columns are binary data. The last 33
> are numeric data. Now, I thought that a reasonable thing to do (in fact,
> the only thing I could think of) was to treat the first 64 columns as
> numeric zeros and ones, and then use the cor=TRUE flag (ie use the
> correlation matrix instead of the corelation matrix). This is advertised
> as a way of handling cases when the data is not all of the same scale. So
> that is what I did. Any comments/suggestions?

Whatever the software, you're likely to get in trouble trying to
interpret the result of a PCA on binary data (using correlations or
not). It can be tricky enough with continuous data....

Anyway, I bet some of those 64 binary columns will turn out to be
linearly dependent, either overtly by some of them summing to a
constant or more subtly because of some combinations being absent.

A QR decomposition of your data matrix might be enlightening. Look at
the rank and the pivoting information. 

It does seem that we're handling the singular case suboptimally,
though. Ideally, one should apply a fuzz factor before declaring that
the matrix isn't NND and I don't think there's a problem with
factoring out a null space in the PCA.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Mon May 22 00:56:13 2000
From: markhall at gol.com (Mark Hall)
Date: Mon, 22 May 2000 07:56:13 +0900
Subject: [R] Problem with MCLUST
References: <Pine.GSO.4.05.10005211600220.14001-100000@auk.stats>
Message-ID: <3928698D.50B95CFB@gol.com>

Upgrading to rw1001 took care of the problem.

Thanks, Mark Hall

Prof Brian D Ripley wrote:

> On Sun, 21 May 2000, Mark Hall wrote:
>
> > I'm using R 1.0.0 on both a machine running Win95 and another machine
> > running Win98.  I'm using the mclust function emclust and creating a bic
> > values file for my data.  the strange part is, I keep getting the error
> > message, "Error in summary.emclust (file info) : subscript out of
> > bounds."
> >
> > Thinking it was my data, I used the iris data and the commands from
> > the help manual and my error message was:
> >
> > Error in summary.emclust (iris.bic,iris [,1;4]): subscript out of bounds
> >
> > Any tips, suggestions, etc?
>
> Please report problems with addon packages to the porter or author,
> in this case  Ron Wehrens <rwehrens at sci.kun.nl>.  It is also
> very helpful to say that you are using an add-on package and to give
> its version number.
>
> For what it is worth, example(summary.emclust) works for me with rw1001.
> I strongly recommend your first step is to upgrade to the current
> version of R, for one of the bug fixes was
>
>     o   x <- list(a=1, b=2) ; x["c"] <- 3 now (again) stretches the list
>         rather than give a "subscript out of bounds" error.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon May 22 03:50:08 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Mon, 22 May 2000 11:50:08 +1000
Subject: [R] handling dates
Message-ID: <61411576E951D211AF330008C7245DD905379B06@ntmsg0005.corpmail.telstra.com.au>

howdy R friends,

Can anyone help me with converting a 'unix' date (seconds since 1970) into
something readable?

There doesn't seem to be anything in the 'date' package and the prospect of
calculating this myself doesn't excite me.

thanks,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon May 22 07:20:20 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 22 May 2000 01:20:20 -0400 (EDT)
Subject: [R] handling dates
In-Reply-To: <61411576E951D211AF330008C7245DD905379B06@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.LNX.4.21.0005220102440.1209-100000@Chrestomanci.home.earth>

Dear John,

If you are using Unix look at man date or, preferably, info date (which is
more comprehensive, and has examples). I think you may be able to do your
conversion using the tools they have available, though I couldn't see how
immediately. If you aren't using Unix, you should be :-). Or give me an
example of what you want converted, and I will try and get it to work.

Personally, I enjoy fiddling around with Unix, but each to his own
perversion...
                                                 Faheem.

On Mon, 22 May 2000, Strumila, John wrote:

> howdy R friends,
> 
> Can anyone help me with converting a 'unix' date (seconds since 1970) into
> something readable?
> 
> There doesn't seem to be anything in the 'date' package and the prospect of
> calculating this myself doesn't excite me.
> 
> thanks,
> John Strumila
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ma1estad at uco.es  Mon May 22 09:14:58 2000
From: ma1estad at uco.es (Juan Antonio Caballero)
Date: Mon, 22 May 2000 09:14:58 +0200
Subject: [R] Re: New R core member 
In-Reply-To: Your message of "19 May 2000 23:18:43 +0200."
             <x2itwaz1ak.fsf@blueberry.kubism.ku.dk> 
Message-ID: <20000522071459.11E2120954@seneca.uco.es>

An excellent news !!
Felicidades
-- 
===========================================
J.A.Caballero M.
Dpto. Estadistica e Investigacion Operativa
Campus de Rabanales
Edificio C-II
Universidad de Cordoba
14080 SPAIN
-------------------------------------------
tel +34 57 218480
fax +34 57 218123
e-mail ma1estad at uco.es
===========================================



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Mon May 22 13:34:40 2000
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Mon, 22 May 2000 08:34:40 -0300
Subject: [R] [?] ARIMA in R
Message-ID: <00052208363304.22982@edgeworth.de.ufpe.br>


I am using R version 1.0.1 both under Linux and Windows 98.

A simple question: After fitting an ARIMA model, how can I 
plot in the same graph both the original series (solid line, 
say) and the fitted values implied by the estimated model 
(dotted line, say)? 

Example: 

library(ts)
data(LakeHuron)
arima0(LakeHuron, order=c(2,0,0), xreg=1:98)

How can I plot both the original series (LakeHuron) and the 
fitted values in the same graph? 

Thank you in advance. Francisco.

-- 
Francisco Cribari-Neto               voice: +55-81-2718420
Departamento de Estatistica          fax:   +55-81-2718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.de.ufpe.br/~cribari/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 22 13:55:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 May 2000 12:55:06 +0100 (BST)
Subject: [R] [?] ARIMA in R
Message-ID: <200005221155.MAA13792@toucan.stats.ox.ac.uk>


> From: Francisco Cribari <cribari at de.ufpe.br>
> To: r-help at stat.math.ethz.ch
> Subject: [R] [?] ARIMA in R
> Date: Mon, 22 May 2000 08:34:40 -0300
> 
> 
> I am using R version 1.0.1 both under Linux and Windows 98.
> 
> A simple question: After fitting an ARIMA model, how can I 
> plot in the same graph both the original series (solid line, 
> say) and the fitted values implied by the estimated model 
> (dotted line, say)? 
> 
> Example: 
> 
> library(ts)
> data(LakeHuron)
> arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
> 
> How can I plot both the original series (LakeHuron) and the 
> fitted values in the same graph? 

What do you mean by the fitted values?  (For dependent data it is
not a very useful concept.)  Do you mean successive one-step predictions?
Or the predictions from the regression terms?  Or ...?

I suspect the answer is that it is not easy in R, but please specify
what you want.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Mon May 22 15:06:28 2000
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Mon, 22 May 2000 13:06:28 +0000
Subject: [R] [?] ARIMA in R
References: <00052208363304.22982@edgeworth.de.ufpe.br>
Message-ID: <392930D4.FB50F3E9@wu-wien.ac.at>

Francisco Cribari wrote:

> I am using R version 1.0.1 both under Linux and Windows 98.
>
> A simple question: After fitting an ARIMA model, how can I
> plot in the same graph both the original series (solid line,
> say) and the fitted values implied by the estimated model
> (dotted line, say)?
>
> Example:
>
> library(ts)
> data(LakeHuron)
> arima0(LakeHuron, order=c(2,0,0), xreg=1:98)

What about

md <- arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
plot(LakeHuron)
lines(LakeHuron-md$resid,col="red")

Adrian


--
Adrian Trapletti, Vienna  University  of  Economics  and Business Ad-
ministration, Operations Research,  Augasse 2-6, 1090 Vienna, Austria
Phone: ++43-(0)1-31336-4561     Email: adrian.trapletti at wu-wien.ac.at
Fax: ++43-(0)1-31336-708   WWW: http://quor.wu-wien.ac.at/adrian.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon May 22 17:44:50 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 22 May 2000 08:44:50 -0700 (PDT)
Subject: [R] handling dates
In-Reply-To: <61411576E951D211AF330008C7245DD905379B06@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.21.0005220841110.15596-100000@mail.biostat.washington.edu>

On Mon, 22 May 2000, Strumila, John wrote:

> howdy R friends,
> 
> Can anyone help me with converting a 'unix' date (seconds since 1970) into
> something readable?
> 
> There doesn't seem to be anything in the 'date' package and the prospect of
> calculating this myself doesn't excite me.

Well, if you take a date and divide by 60*60*24 you have days since the
zero date. You can then add this to the zero date.  

   date<-mdy.date(1,1,1970)+unixdate/(60*60*24)


	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Mon May 22 18:56:43 2000
From: helgito at hi.is (Helgi Tomasson)
Date: Mon, 22 May 2000 16:56:43 +0000
Subject: [R] backslash
Message-ID: <392966CB.998553DF@rhi.hi.is>

Hi R-people

I am trying to have R write latex-code.

"\begin{tabular}"

and

"\end{tabular}

do not produce similar results.  I would like to something like

write("\begin{tabular} ,file=. . .)
.
.
.
write("\end{tabular},file=. . .)

regards

Helgi Tomasson

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 22 18:54:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2000 18:54:16 +0200
Subject: [R] backslash
In-Reply-To: Helgi Tomasson's message of "Mon, 22 May 2000 16:56:43 +0000"
References: <392966CB.998553DF@rhi.hi.is>
Message-ID: <x2wvkm34qv.fsf@blueberry.kubism.ku.dk>

Helgi Tomasson <helgito at hi.is> writes:

> Hi R-people
> 
> I am trying to have R write latex-code.
> 
> "\begin{tabular}"
> 
> and
> 
> "\end{tabular}
> 
> do not produce similar results.  I would like to something like
> 
> write("\begin{tabular} ,file=. . .)
> .
> .
> .
> write("\end{tabular},file=. . .)

Hmmm. Not too clear what your problem is but if something is eating
your backslashes, chances are that you just need to double them, as in

> cat("\\help\n")
\help
>

In some rare cases you need to redouble them, but this is not one of
them, I think....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 22 19:23:41 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 22 May 2000 19:23:41 +0200 (MET DST)
Subject: [R] backslash
In-Reply-To: <392966CB.998553DF@rhi.hi.is>
Message-ID: <Pine.GSO.4.05.10005221921420.1356-100000@amadeus.statistik.uni-dortmund.de>



On Mon, 22 May 2000, Helgi Tomasson wrote:

> Hi R-people
> 
> I am trying to have R write latex-code.
> 
> "\begin{tabular}"
> 
> and
> 
> "\end{tabular}
> 
> do not produce similar results.  I would like to something like
> 
> write("\begin{tabular} ,file=. . .)
> .
> .
> .
> write("\end{tabular},file=. . .)
> 
> regards
> 
> Helgi Tomasson
> 
 
Try write("\\begin...",....) and "\\end", as "\" is a special character.

Regards,
Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 22 19:27:21 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 22 May 2000 19:27:21 +0200 (MET DST)
Subject: [R] backslash
In-Reply-To: <x2wvkm34qv.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10005221925180.1356-100000@amadeus.statistik.uni-dortmund.de>



On 22 May 2000, Peter Dalgaard BSA wrote:

> Helgi Tomasson <helgito at hi.is> writes:
> 
> > Hi R-people
> > 
> > I am trying to have R write latex-code.
> > 
> > "\begin{tabular}"
> > 
> > and
> > 
> > "\end{tabular}
> > 
> > do not produce similar results.  I would like to something like
> > 
> > write("\begin{tabular} ,file=. . .)
> > .
> > .
> > .
> > write("\end{tabular},file=. . .)
> 
> Hmmm. Not too clear what your problem is but if something is eating
> your backslashes, chances are that you just need to double them, as in
> 
> > cat("\\help\n")
> \help
> >
> 
> In some rare cases you need to redouble them, but this is not one of
> them, I think....

Oh. It is one of these cases , I think:
\b means: Backspace!

To write something with "\" in it, it is much safer to double the "\"
every time.

Regards,
Uwe Ligges
 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Colin.Knowles at bristol.ac.uk  Mon May 22 20:11:40 2000
From: Colin.Knowles at bristol.ac.uk (Colin Knowles)
Date: Mon, 22 May 2000 19:11:40 +0100
Subject: [R] What is an rpm
Message-ID: <3929785C.AF20185@bristol.ac.uk>

Forgive my ignorance, but I have not met an .rpm file before.

How do I unpack it?

Colin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Colin.Knowles at bristol.ac.uk  Mon May 22 20:13:47 2000
From: Colin.Knowles at bristol.ac.uk (C.R. Knowles, Economics)
Date: Mon, 22 May 2000 19:13:47 +0100
Subject: [R] .rpm files
Message-ID: <EXECMAIL.1000522191347.H@pc194.bris.ac.uk>


Dear R

Forgive my ignorance, but I have not met an .rpm file before.

How do I unpack it?

Colin

----------------------
C. R. Knowles, Computing Officer
Department of Economics
University of Bristol
8 Woodland Road
Bristol
BS8

Tel: +44 (0)117 928 8420
Fax: +44 (0)117 928 8577
Colin.Knowles at bristol.ac.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 22 20:26:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2000 20:26:01 +0200
Subject: [R] .rpm files
In-Reply-To: "C.R. Knowles, Economics"'s message of "Mon, 22 May 2000 19:13:47 +0100"
References: <EXECMAIL.1000522191347.H@pc194.bris.ac.uk>
Message-ID: <x2r9au30hy.fsf@blueberry.kubism.ku.dk>

"C.R. Knowles, Economics" <Colin.Knowles at bristol.ac.uk> writes:

> Dear R
> 
> Forgive my ignorance, but I have not met an .rpm file before.
> 
> How do I unpack it?
> 
> Colin

With the rpm program... If you haven't got that (you didn't tell what
system you're on), then you likely picked up the wrong file to begin
with.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Mon May 22 20:57:12 2000
From: smcnary at charm.net (Scot W McNary)
Date: Mon, 22 May 2000 14:57:12 -0400 (EDT)
Subject: [R] Selecting a random sample
Message-ID: <Pine.BSI.4.10.10005221449550.27263-100000@fellspt.charm.net>


Hi,

I'm trying to learn R and get an errand done at the same time.  I have a
list of cases with ids numbered sequentially 1 to 403.  I want to select
at random exactly 20 without replacement.  Here's what I've tried so far:

> ids<-(1:403)
> pick<-runif(403)
> picklist<-as.data.frame(cbind(ids,pick))
> who<-subset(picklist, pick<20/403)
> who

This works, but I can have anywhere from 16 to 32 cases in the subset
'who', due to random variability in the runif generator.  What's a more
efficient (and general) way to extract a subset of exactly n from a total
sample N?

Thanks in advance,

Scot


--
  Scot W. McNary  email:smcnary at charm.net   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Mon May 22 21:35:34 2000
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Mon, 22 May 2000 12:35:34 -0700
Subject: [R] What is an rpm
In-Reply-To: <3929785C.AF20185@bristol.ac.uk>; from Colin.Knowles@bristol.ac.uk on Mon, May 22, 2000 at 07:11:40PM +0100
References: <3929785C.AF20185@bristol.ac.uk>
Message-ID: <20000522123534.A15224@ix.netcom.com>

On Mon, May 22, 2000 at 07:11:40PM +0100, Colin Knowles wrote:
> Forgive my ignorance, but I have not met an .rpm file before.
> 
> How do I unpack it?

RPM is one of several standard software package distribution formats
popularized by Linux, the other primary one being a Debian package (.deb
file), and "tarballs" -- tar (tape archive) files being the old standbye.  
Analogs might be CAB files under Windows, though this doesn't do justice
to the full capabilities of the RPM and Debian packaging systems.

Interaction with RPM files is performed under Linux with the "rpm" or
"alien" commands.

Under Windows NT (your system, I gather, from your X-mailer headers),
you should use an alternative packaging format, or install Linux on your
system <g>.  There may be tools capable of managing RPMs under WinNT,
but it won't be a native solution.

-- 
Karsten M. Self <kmself at ix.netcom.com>         http://www.netcom.com/~kmself
  What part of "Gestalt" don't you understand?       Debian GNU/Linux rocks!
    http://gestalt-system.sourceforge.net/    Rusty? http://www.kuro5hin.org
GPG fingerprint: F932 8B25 5FDD 2528 D595  DC61 3847 889F 55F2 B9B0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000522/a739a036/attachment.bin

From ripley at stats.ox.ac.uk  Mon May 22 21:37:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 22 May 2000 20:37:36 +0100 (BST)
Subject: [R] Selecting a random sample
In-Reply-To: <Pine.BSI.4.10.10005221449550.27263-100000@fellspt.charm.net>
Message-ID: <Pine.GSO.4.05.10005222029100.19252-100000@auk.stats>

On Mon, 22 May 2000, Scot W McNary wrote:

> 
> Hi,
> 
> I'm trying to learn R and get an errand done at the same time.  I have a
> list of cases with ids numbered sequentially 1 to 403.  I want to select
> at random exactly 20 without replacement.  Here's what I've tried so far:
> 
> > ids<-(1:403)
> > pick<-runif(403)
> > picklist<-as.data.frame(cbind(ids,pick))
> > who<-subset(picklist, pick<20/403)
> > who
> 
> This works, but I can have anywhere from 16 to 32 cases in the subset
> 'who', due to random variability in the runif generator.  What's a more
> efficient (and general) way to extract a subset of exactly n from a total
> sample N?

sample(N, n, replace=F)

Easy?  See ?sample for variations on the theme.

By the way, seq(N)[runif(N) < n/N] would have done it your way in
simpler code, and 

seq(N)[rank(runif(N)) <= n]

is another general solution.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon May 22 22:12:17 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 22 May 2000 16:12:17 -0400 (EDT)
Subject: [R] What is an rpm
Message-ID: <200005222012.QAA07579@cattell.psych.upenn.edu>

RPM is for Red-Hat Package Manager.  It is for Red-Hat Linux.
An rpm file installs itself with one command, putting everything
in the correct place.  It is, if anything, even easier to use
than the comparable Windows install programs, and it is far
better than anything I've seen in (Sun) unix systems.  But you
need Red-Hat Linux (although I'm sure that you could install
it on other Linux systems).  Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon May 22 22:44:20 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 22 May 2000 16:44:20 -0400 (EDT)
Subject: [R] What is an rpm
In-Reply-To: <3929785C.AF20185@bristol.ac.uk>
Message-ID: <Pine.LNX.4.21.0005221626250.893-100000@Chrestomanci.home.earth>

Dear Colin

Try man rpm if you have rpm installed. Also, there is extensive
information on the rpm home page, http://www.rpm.org which includes a link
to a downloadable free book called "Maximum rpm" ( 1997), which is now
rather out of date, but still useful. You can install rpms on your system
even if it is not rpm-based, I believe, but you do need the rpm program
(rpm stands for Redhat Package Manager). Type rpm at your prompt and see
what you get.

To install an rpm you go

$ rpm -Uvh something.rpm

which is good, since -U stands for upgrades and makes backups of changed
config files of the current package. vh just prints hash marks as the
package is installed, I think. (But check this command is correct before
using it. I just did so and it looks OK).

There are other programs which will provide an interface for doing this,
including Yast (on SuSE) and kpackage (if you have KDE installed), and
xrpm. I use Yast myself.

rpm is cool because among other things it makes installing, removing and
upgrading software clean and simple. It has other advantages too.

                                                Faheem.

On Mon, 22 May 2000, Colin Knowles wrote:

> Forgive my ignorance, but I have not met an .rpm file before.
> 
> How do I unpack it?
> 
> Colin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmd at isharp.com  Tue May 23 00:46:26 2000
From: jmd at isharp.com (John Davis)
Date: Mon, 22 May 2000 15:46:26 -0700
Subject: [R] Installing MASS Package
Message-ID: <3929B8C2.83525F1E@iSharp.com>

Hate to annoy with a topic treated by the faq and "R- Complements", but
I just haven't found the answer despite my efforts. I installed the
packages which accompany Modern Applied Statistics w/ S-Plus in a local
directory (using R INSTALL --library $HOME/R VR_etc.tar.gz). That
directory is in my R_LIBS path and the "library(MASS)" command within R
does not complain, neither does the help for MASS (or, for that matter
chem). But, "mean(chem)", complains that no chem object is found.

Finally, the command "R CMD check --library=$HOME/lib/R --debug
--vsize=10M --nsize=400k" MASS complains:

 [...]
 + test 1 -eq 0
 + echo ERROR
 ERROR
 + exit 1

Thank you for any pointers that can help me get started...  the class,
spatial, and nnet packages do not appear to have any problems. Whatever
it is I've overlooked has not revealed itself to me on second, third, +
attempts.-- jd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue May 23 02:34:37 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 23 May 2000 12:34:37 +1200
Subject: [R] Japanese in R
References: <20000520003036K.mase@is.titech.ac.jp>
Message-ID: <013401bfc44e$afe5a820$175dd882@stat.auckland.ac.nz>

hi


> Recently I installed R(1.0.1) from the woody package of Debian GNU/Linux
> and tested help(Japanese) and example(Japanese) as you kindly taught me.
> They worked fine!
>
> Frankly speaking, the quality of Japanese fonts is not so good (I have
> not yet tired to print out them), but, of course, far better than having
> nothing. Thank you very much for your (and maybe other's) efforts.


The printed output should be much nicer.  Is it good enough ?
For viewing the fonts on the computer screen, does it help much to increase
the font size ?


> As you know very well, almost all Japanese PC have a variant of
> qwerty keyboard with 106 (or 109) keys. Extra keys are for Japanese
> input and we use special software to convert alphabetic inputs into
> Japanese. I am not completely certain yet, but seemingly only method
> for using Japanese fonts from R is just as you did in example(Japanese),
> that is, using Hershey fonts codes directly. Therefore, fortunately
> or unfortunately, no problem due to Japanese special keyboards at present,
> Probably this is not a big problem since we need Japanese only in
> legends or titles.


I think it should be possible for you to press a Japanese key on your
keyboard and have the appropriate Japanese character drawn by the Hershey
font.  However, at least one necessary condition will be that your
keypresses are encoded by the computer using the same encoding that the
Hershey fonts use, which is JIS X0208 standard.  Do you know how your
keypresses are encoded ?

Just out of interest, I presume that the Japanese keys represent Kana rather
than Kanji.  Is that right and if so, how do you normally type Kanji
characters on a computer ?

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Tue May 23 02:42:56 2000
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Tue, 23 May 2000 10:42:56 +1000 (EST)
Subject: [R] backslash
In-Reply-To: <Pine.GSO.4.05.10005221925180.1356-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.10.10005231039160.27047-100000@solzhenitsyn.ens.gu.edu.au>

On Mon, 22 May 2000, Uwe Ligges wrote:

> On 22 May 2000, Peter Dalgaard BSA wrote:
> 
> > Helgi Tomasson <helgito at hi.is> writes:
> > 
> > > Hi R-people
> > > 
> > > I am trying to have R write latex-code.

> > > do not produce similar results.  I would like to something like
> > > 
> > > write("\begin{tabular} ,file=. . .)
> > > .
> > > .
> > > .
> > > write("\end{tabular},file=. . .)
> > 
> > Hmmm. Not too clear what your problem is but if something is eating
> > your backslashes, chances are that you just need to double them, as in
> > 
> > > cat("\\help\n")
> > \help
> > 
> > In some rare cases you need to redouble them, but this is not one of
> > them, I think....
> 
> Oh. It is one of these cases , I think:
> \b means: Backspace!
> 
> To write something with "\" in it, it is much safer to double the "\"
> every time.

This means that for the \\ at the end of lines of tables you need to
double each backslash.  e.g. for some tables I produced I had R code like
this ...

tabfile _ "../tex/zzq.table"
write("\\begin{table}\\label{table:zzq}\\caption[Summary of results --- simulation zzq]",file=tabfile,append=T)
write("\\begin{tabular}{|l|c|c|c|c|}",file=tabfile,append=T)
write("\\multicolumn{5}{c}{$\\hat\\la$ (true value = \\laval)}\\\\",file=tabfile ,append=T)
write("\\hline",file=tabfile,append=T)
write("method & mean & median & std. dev. & IQR \\\\",file=tabfile,append=T)
write("\\hline",file=tabfile,append=T)
write(paste('starship (K-S) &',signif(mean(ks.zzq$l1),4),' & ',
 signif(median(ks.zzq$l1),4),' & ', signif(sqrt(var(ks.zzq$l1)),4),' & ', 
 signif((quantile(ks.zzq$l1,.75)[[1]]-quantile(ks.zzq$l1,.25)[[1]]),4),
 ' \\\\ '),file=tabfile,append=T)
write("\\hline",file=tabfile,append=T)


----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/

"I would rather spend 10 hours reading someone else's source code than
10 minutes listening to Musak waiting for technical support which isn't."
(By Dr. Greg Wettstein, Roger Maris Cancer Center)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Tue May 23 09:12:53 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Tue, 23 May 2000 09:12:53 +0200 (MET_DST)
Subject: [R] .rpm files
Message-ID: <Pine.A41.4.05.10005230911400.20338-100000@kilauea.evp.slu.se>

Hello All,

I have a vague memory of a program that would convert .rpm files to
tarballs, but of course you lose all the dependency information.  I never
tried it myself -- I find that I have to install most things from source.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cestluk at polyu.edu.hk  Tue May 23 11:36:16 2000
From: cestluk at polyu.edu.hk (LUK ShunTim)
Date: Tue, 23 May 2000 17:36:16 +0800
Subject: [R] .rpm files
References: <Pine.A41.4.05.10005230911400.20338-100000@kilauea.evp.slu.se>
Message-ID: <392A510F.8C5AEE4E@polyu.edu.hk>

Jonathan.Yuen at evp.slu.se wrote:
> 
> Hello All,
> 
> I have a vague memory of a program that would convert .rpm files to
> tarballs, but of course you lose all the dependency information.  I never
> tried it myself -- I find that I have to install most things from source.

Maybe you're looking for alien. It's in the debian distribution;
I don't know about others.

Regards,
ST
--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dandon at capa.stat.umu.se  Tue May 23 12:48:20 2000
From: dandon at capa.stat.umu.se (dandon@capa.stat.umu.se)
Date: Tue, 23 May 2000 12:48:20 +0200 (CEST)
Subject: [R] dbf-read
In-Reply-To: <Pine.GSO.4.21.0005220841110.15596-100000@mail.biostat.washington.edu>
Message-ID: <Pine.LNX.4.10.10005231244570.10989-100000@capa.stat.umu.se>


Hi R users!
Is there any library for reading database file (dbf), or are there now
people working around with that?

Danar.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue May 23 13:54:30 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 23 May 2000 13:54:30 +0200 (CEST)
Subject: [R] dbf-read
In-Reply-To: <Pine.LNX.4.10.10005231244570.10989-100000@capa.stat.umu.se>
Message-ID: <Pine.LNX.4.21.0005231351210.2481-100000@artemis.imbe.med.uni-erlangen.de>



On Tue, 23 May 2000 dandon at capa.stat.umu.se wrote:

> 
> Hi R users!
> Is there any library for reading database file (dbf), or are there now
> people working around with that?

Directly reading of *.dbf is not available (at my knowledge). You can read
your data into a database like Postgres, MySQL or mSQL and then use the
database packages RmSQL (CRAN) or RS_DBI (omegahat.org, I think) for
reading your data into the R paradise :-)

Torsten 

> 
> Danar.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Tue May 23 14:47:04 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Tue, 23 May 2000 14:47:04 +0200 (MET_DST)
Subject: [R] dbf-read
In-Reply-To: <Pine.LNX.4.21.0005231351210.2481-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.A41.4.05.10005231433450.26416-100000@kilauea.evp.slu.se>

Hello All,

I use dbf2txt (a perl script written by Gilbert Ramirez at University of
Texas) to convert dbase files to text files.  It also will produce the
necessary program (for another statistical package produced by a company
in North Carolina) to read the text file if you give it the -s option.  
Might be a good place to start, at least to see how the dbase file is
constructed.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nina.lieske at planet-interkom.de  Tue May 23 16:21:55 2000
From: nina.lieske at planet-interkom.de (Nina Lieske)
Date: Tue, 23 May 2000 16:21:55 +0200
Subject: [R] std.error of coefficients in lm
Message-ID: <392A9403.2CFAF098@planet-interkom.de>

Dear All,
sorry for bothering you with a simple (?) question.

Is it possible to save the std.error of the estimated coefficients
obtained by the summary.lm function? Something analogous to coef( )?

Thank you,
Nina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 23 16:37:43 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 May 2000 16:37:43 +0200
Subject: [R] std.error of coefficients in lm
In-Reply-To: Nina Lieske's message of "Tue, 23 May 2000 16:21:55 +0200"
References: <392A9403.2CFAF098@planet-interkom.de>
Message-ID: <x2aehhuybs.fsf@blueberry.kubism.ku.dk>

Nina Lieske <nina.lieske at planet-interkom.de> writes:

> Dear All,
> sorry for bothering you with a simple (?) question.
> 
> Is it possible to save the std.error of the estimated coefficients
> obtained by the summary.lm function? Something analogous to coef( )?

Have a look at the example(summary.lm)...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 23 16:53:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 23 May 2000 15:53:51 +0100 (BST)
Subject: [R] std.error of coefficients in lm
Message-ID: <200005231453.PAA16480@toucan.stats.ox.ac.uk>


> Date: Tue, 23 May 2000 16:21:55 +0200
> From: Nina Lieske <nina.lieske at planet-interkom.de>
> X-Accept-Language: de,en
> To: r-help at stat.math.ethz.ch
> Subject: [R] std.error of coefficients in lm
> 
> Dear All,
> sorry for bothering you with a simple (?) question.
> 
> Is it possible to save the std.error of the estimated coefficients
> obtained by the summary.lm function? Something analogous to coef( )?

The trick here is to remember (know) that summary returns something
that print.summary prints.  So

> example(lm)
> summary(lm.D9)

Call:
lm(formula = weight ~ group)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.0710 -0.4937  0.0685  0.2462  1.3690 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)
(Intercept)   5.0320     0.2202  22.850 9.55e-15
groupTrt     -0.3710     0.3114  -1.191    0.249
...
> names(.Last.value)
 [1] "call"          "terms"         "residuals"     "coefficients" 
 [5] "sigma"         "df"            "r.squared"     "adj.r.squared"
 [9] "fstatistic"    "cov.unscaled" 
> summary(lm.D9)$coeff
            Estimate Std. Error   t value     Pr(>|t|)
(Intercept)    5.032  0.2202177 22.850117 9.547918e-15
groupTrt      -0.371  0.3114349 -1.191260 2.490232e-01
> summary(lm.D9)$coeff[, "Std. Error"]
(Intercept)    groupTrt 
  0.2202177   0.3114349 

as required.

You could write a little function to do this.

More generally, the vcov function in the MASS package extracts
variance-covariance matrices, so try

library(MASS)
sqrt(diag(vcov(lm.D9)))
(Intercept)    groupTrt 
  0.2202177   0.3114349 

This works for lots of model classes, for example glm, nls, polr, multinom....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue May 23 17:06:18 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 23 May 2000 08:06:18 -0700 (PDT)
Subject: [R] backslash
In-Reply-To: <Pine.LNX.4.10.10005231039160.27047-100000@solzhenitsyn.ens.gu.edu.au>
Message-ID: <Pine.GSO.4.21.0005230801410.12769-100000@mail.biostat.washington.edu>

On Tue, 23 May 2000 Robert.King at mailbox.gu.edu.au wrote:

> This means that for the \\ at the end of lines of tables you need to
> double each backslash.  e.g. for some tables I produced I had R code like
> this ...
> 
> tabfile _ "../tex/zzq.table"
> write("\\begin{table}\\label{table:zzq}\\caption[Summary of results --- simulation zzq]",file=tabfile,append=T)
> write("\\begin{tabular}{|l|c|c|c|c|}",file=tabfile,append=T)
> write("\\multicolumn{5}{c}{$\\hat\\la$ (true value = \\laval)}\\\\",file=tabfile ,append=T)
> write("\\hline",file=tabfile,append=T)
> write("method & mean & median & std. dev. & IQR \\\\",file=tabfile,append=T)
> write("\\hline",file=tabfile,append=T)
> write(paste('starship (K-S) &',signif(mean(ks.zzq$l1),4),' & ',
>  signif(median(ks.zzq$l1),4),' & ', signif(sqrt(var(ks.zzq$l1)),4),' & ', 
>  signif((quantile(ks.zzq$l1,.75)[[1]]-quantile(ks.zzq$l1,.25)[[1]]),4),
>  ' \\\\ '),file=tabfile,append=T)
> write("\\hline",file=tabfile,append=T)


You can use write.table to produce the data portion of the table, which is
a bit simpler

eg
write.table(round(x,2),quote=FALSE,sep="$ & $",eol="$\\\\
\n $",col.names=FALSE,row.names=FALSE)

where the $ signs ensure that negative numbers are printed with a minus
sign rather than a hyphen.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dandon at capa.stat.umu.se  Tue May 23 18:49:46 2000
From: dandon at capa.stat.umu.se (dandon@capa.stat.umu.se)
Date: Tue, 23 May 2000 18:49:46 +0200 (CEST)
Subject: [R] std.error of coefficients in lm
In-Reply-To: <392A9403.2CFAF098@planet-interkom.de>
Message-ID: <Pine.LNX.4.10.10005231847150.11325-100000@capa.stat.umu.se>



On Tue, 23 May 2000, Nina Lieske wrote:

> Dear All,
> sorry for bothering you with a simple (?) question.
> 
> Is it possible to save the std.error of the estimated coefficients
> obtained by the summary.lm function? Something analogous to coef( )?


I usually use vcov in MASS library to calculate variance and covariance
matrix of the estimate.

Danar.






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Tue May 23 19:11:55 2000
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 23 May 2000 10:11:55 -0700
Subject: [R] dbf-read
In-Reply-To: dandon@capa.stat.umu.se's message of "Tue, 23 May 2000 12:48:20 +0200 (CEST)"
References: <Pine.LNX.4.10.10005231244570.10989-100000@capa.stat.umu.se>
Message-ID: <87zoph9oo4.fsf@alpha.cfas.washington.edu>

>>>>> "d" == dandon  <dandon at capa.stat.umu.se> writes:

    d> Hi R users!  Is there any library for reading database file
    d> (dbf), or are there now people working around with that?

Debian has a number of conversion utilites,
dbfto(NAME_AN_OPENSOURCE_SQL_DB), as well as general tools for
extracting information into tab/csv formats.

You might look there and backtrace to find the actual source.

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|hivnet.fhcrc.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos at pcweb.net  Tue May 23 20:37:44 2000
From: carlos at pcweb.net (Carlos Carroll)
Date: Tue, 23 May 2000 11:37:44 -0700
Subject: [R] glmm library
Message-ID: <392ACFF8.B882F921@pcweb.net>

It was mentioned on S-News that R has a generalized mixed-effects model
library called glmm. I have not been able to locate this on CRAN. Which
package should I look for and would this be on CRAN or at another
location? Thanks 
-- 
Carlos Carroll, M.S.
Dept. of Forest Science, Oregon State University
Mailing address: PO Box 104
Orleans, CA 95556
e-mail: carlos at pcweb.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Tue May 23 20:54:16 2000
From: naumov at acsu.buffalo.edu (Aleksey Y Naumov)
Date: Tue, 23 May 2000 14:54:16 -0400 (EDT)
Subject: [R] Check if directory exists
In-Reply-To: <39259BDE.767570BB@acsu.buffalo.edu>
Message-ID: <Pine.GSO.4.05.10005231454020.7450-100000@joxer.acsu.buffalo.edu>



On Fri, 19 May 2000, Aleksey Naumov wrote:

> Dear R users,
> 
> is there a function to check if a directory exists? file.exists() works
> for both files and dirs, but there's no way to tell, AFAIK. Something
> like
> file.exists(dir=T), or is.dir() would be nice...
> 
> Thanks
> 
> Aleksey
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue May 23 21:00:56 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 23 May 2000 21:00:56 +0200 (MET DST)
Subject: [R] glmm library
In-Reply-To: <392ACFF8.B882F921@pcweb.net> from "Carlos Carroll" at May 23, 2000 11:37:44 AM
Message-ID: <200005231900.VAA11753@alpha.luc.ac.be>

>
> It was mentioned on S-News that R has a generalized mixed-effects model 
> library called glmm. I have not been able to locate this on CRAN. Which
> package should I look for and would this be on CRAN or at another
> location? Thanks

I suspect that the reference was to the glmm _function_ in my repeated
library available at
www.alpha.luc.ac.be/~jlindsey/rcode.html
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 23 21:09:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 23 May 2000 20:09:28 +0100 (BST)
Subject: [R] glmm library
In-Reply-To: <392ACFF8.B882F921@pcweb.net>
Message-ID: <Pine.GSO.4.05.10005232003570.4225-100000@auk.stats>

On Tue, 23 May 2000, Carlos Carroll wrote:

> It was mentioned on S-News that R has a generalized mixed-effects model
> library called glmm. I have not been able to locate this on CRAN. Which
> package should I look for and would this be on CRAN or at another
> location? Thanks 

Perhaps you could give the reference for us?  Jim Lindsey has some related
libraries not on CRAN (AFAIK): see the FAQ.  But I read S-news and cannot
find any reference there to R libraries for GLMM (aka packages).  Jim's
libraries do not cover the case discussed on S-news, as I understand it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue May 23 21:34:33 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 23 May 2000 21:34:33 +0200
Subject: Followup: Re: [R] Interaction Plots in R
In-Reply-To: <39180C77.302E25E9@cirsium.ethz.ch>
Message-ID: <B550A9E8.2F21%pflugshaupt@geobot.umnw.ethz.ch>

>> 
>> Ko-Kang Wang wrote:
>> Is there a function to do interaction plots in R?
>> I know in Splus I can simply use interaction.plot()
> 
> Thanks.
> I don't think there's such a function, so I wrote one some time ago. It takes
> two factors f1, f2 and a response variable data.
 
Well, I've been using that function a lot lately and so I've improved it
considerably, up to the point of being useful. Having a bit of a bad
conscience for my last version (it was rather ugly), I'd like to post a
better one. It uses colours, draws a legend (which can be reordered) and
does a better job with axis labels. What's more, I've since discovered the
"matlines" function :-) .

If anyone else needs interaction plots similar to S-Plus, here you go:

----------------------------------------------------------
interaction.plot<-
function (f1, f2, data, main = "Interaction Plot",
    xlab = deparse(substitute(f2)),
    ylab = paste("Mean of", deparse(substitute(data))),
    legend=T, leg.order = 1:n1, ...)
{

    # f1,f2: factors. data: data vector
    # (extraction from matrix or data.frame not implemented)
    
    cellmeans <- tapply(data, list(f1, f2), mean)
    n1 <- nlevels(f1)
    n2 <- nlevels(f2)
    xr <- c(1, n2)
    yr <- range(cellmeans)
    plot(0, 0, type = "n", xaxt = "n", xlim = xr, ylim = yr,
        main = main, xlab = xlab, ylab = ylab)
    matlines(t(cellmeans), lty = 1, col = 1:n1)
    axis(1, at = 1:n2, labels = as.character(levels(f2)))
    if(legend)    
        legend(locator(1), legend = rownames(cellmeans)[leg.order],
            lty = 1, col = (1:n1)[leg.order])

    # locator(1) waits for user to choose legend location
    # (click marks upper left corner)
    # legend entries get ordered according to leg.order

    invisible(list(cellmeans = cellmeans))
    # cellmeans are returned
}
--------------------------------------------------------

 -- 
Kaspar Pflugshaupt
Geobotanisches Institut ETH Zurich
mailto: pflugshaupt at geobot.umnw.ethz.ch


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May 23 22:43:01 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 24 May 2000 08:43:01 +1200
Subject: Followup: Re: [R] Interaction Plots in R
References: <B550A9E8.2F21%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <392AED55.B6E9693A@xtra.co.nz>

Ah yes.  I've just tested the code and it proved to be extremely good.  Thank you.

I actually think it will be a good idea to put up a package (library), with
examples and help files etc...I don't know how the others on this list think about
this idea, but I would certainly like to see such a package in CRAN.

If you don't mind, I could put up a package for you and e-mailed it to you.

Thanks again.

Ko-Kang

Kaspar Pflugshaupt wrote:

> >>
> >> Ko-Kang Wang wrote:
> >> Is there a function to do interaction plots in R?
> >> I know in Splus I can simply use interaction.plot()
> >
> > Thanks.
> > I don't think there's such a function, so I wrote one some time ago. It takes
> > two factors f1, f2 and a response variable data.
>
> Well, I've been using that function a lot lately and so I've improved it
> considerably, up to the point of being useful. Having a bit of a bad
> conscience for my last version (it was rather ugly), I'd like to post a
> better one. It uses colours, draws a legend (which can be reordered) and
> does a better job with axis labels. What's more, I've since discovered the
> "matlines" function :-) .
>
> If anyone else needs interaction plots similar to S-Plus, here you go:
>
> ----------------------------------------------------------
> interaction.plot<-
> function (f1, f2, data, main = "Interaction Plot",
>     xlab = deparse(substitute(f2)),
>     ylab = paste("Mean of", deparse(substitute(data))),
>     legend=T, leg.order = 1:n1, ...)
> {
>
>     # f1,f2: factors. data: data vector
>     # (extraction from matrix or data.frame not implemented)
>
>     cellmeans <- tapply(data, list(f1, f2), mean)
>     n1 <- nlevels(f1)
>     n2 <- nlevels(f2)
>     xr <- c(1, n2)
>     yr <- range(cellmeans)
>     plot(0, 0, type = "n", xaxt = "n", xlim = xr, ylim = yr,
>         main = main, xlab = xlab, ylab = ylab)
>     matlines(t(cellmeans), lty = 1, col = 1:n1)
>     axis(1, at = 1:n2, labels = as.character(levels(f2)))
>     if(legend)
>         legend(locator(1), legend = rownames(cellmeans)[leg.order],
>             lty = 1, col = (1:n1)[leg.order])
>
>     # locator(1) waits for user to choose legend location
>     # (click marks upper left corner)
>     # legend entries get ordered according to leg.order
>
>     invisible(list(cellmeans = cellmeans))
>     # cellmeans are returned
> }
> --------------------------------------------------------
>
>  --
> Kaspar Pflugshaupt
> Geobotanisches Institut ETH Zurich
> mailto: pflugshaupt at geobot.umnw.ethz.ch
>
> --
>
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
>
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
>
> mailto:pflugshaupt at geobot.umnw.ethz.ch
> privat:pflugshaupt at mails.ch
> http://www.geobot.umnw.ethz.ch
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Fri May 19 13:24:18 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Fri, 19 May 2000 13:24:18 +0200
Subject: [R] 1.0.1 for SuSE 6.3
In-Reply-To: <0002081849521H.00336@friedman>
References: <0002089500.AA950055233@dogbert.akctr.noaa.gov> <0002081849521H.00336@friedman>
Message-ID: <00051913492300.03332@ligarto>

Dear All,

I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
SuSE 6.3 and I got the following error:

"unpacking of archive failed: cpio: Bad magic";

then I checked the packages signature (using gnorpm) and got:

"md5 sum does not match signature".

What is happening here?

Ramon

---------
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 23 23:36:37 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 May 2000 23:36:37 +0200
Subject: [R] 1.0.1 for SuSE 6.3
In-Reply-To: Ramon Diaz-Uriarte's message of "Fri, 19 May 2000 13:24:18 +0200"
References: <0002089500.AA950055233@dogbert.akctr.noaa.gov> <0002081849521H.00336@friedman> <00051913492300.03332@ligarto>
Message-ID: <x2og5xdk4a.fsf@blueberry.kubism.ku.dk>

Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:

> Dear All,
> 
> I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
> SuSE 6.3 and I got the following error:
> 
> "unpacking of archive failed: cpio: Bad magic";
> 
> then I checked the packages signature (using gnorpm) and got:
> 
> "md5 sum does not match signature".
> 
> What is happening here?

One possibility is that you FTP'ed it in ASCII mode instead of binary.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Wed May 24 04:11:26 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 23 May 2000 22:11:26 -0400 (EDT)
Subject: Followup: Re: [R] Interaction Plots in R
In-Reply-To: <392AED55.B6E9693A@xtra.co.nz>
Message-ID: <Pine.LNX.4.21.0005232209100.678-100000@Chrestomanci.home.earth>

I think it would be extremely useful to have code for interaction
plots. This is something I missed when working with linear models on
R. But why not add it to the R-base?          
                                             Faheem.

On Wed, 24 May 2000, Ko-Kang Wang wrote:

> Ah yes.  I've just tested the code and it proved to be extremely good.  Thank you.
> 
> I actually think it will be a good idea to put up a package (library), with
> examples and help files etc...I don't know how the others on this list think about
> this idea, but I would certainly like to see such a package in CRAN.
> 
> If you don't mind, I could put up a package for you and e-mailed it to you.
> 
> Thanks again.
> 
> Ko-Kang
> 
> Kaspar Pflugshaupt wrote:
> 
> > >>
> > >> Ko-Kang Wang wrote:
> > >> Is there a function to do interaction plots in R?
> > >> I know in Splus I can simply use interaction.plot()
> > >
> > > Thanks.
> > > I don't think there's such a function, so I wrote one some time ago. It takes
> > > two factors f1, f2 and a response variable data.
> >
> > Well, I've been using that function a lot lately and so I've improved it
> > considerably, up to the point of being useful. Having a bit of a bad
> > conscience for my last version (it was rather ugly), I'd like to post a
> > better one. It uses colours, draws a legend (which can be reordered) and
> > does a better job with axis labels. What's more, I've since discovered the
> > "matlines" function :-) .

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed May 24 08:29:09 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 24 May 2000 08:29:09 +0200 (CEST)
Subject: Followup: Re: [R] Interaction Plots in R
In-Reply-To: <Pine.LNX.4.21.0005232209100.678-100000@Chrestomanci.home.earth>
References: <392AED55.B6E9693A@xtra.co.nz>
	<Pine.LNX.4.21.0005232209100.678-100000@Chrestomanci.home.earth>
Message-ID: <14635.30389.338673.499822@gargle.gargle.HOWL>

>>>>> "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:

    Faheem> I think it would be extremely useful to have code for interaction
    Faheem> plots. This is something I missed when working with linear models on
    Faheem> R. But why not add it to the R-base?          

yes. definitely.  This should go into R base, -- unless Kaspar objects --
and I think for 1.1.0 (due around June 15).

Kaspar (or anyone), can you provide the corresponding help (source) file,
interaction.plot.Rd -- including a few examples {using R builtin datasets} ?

We then will put it into R "base".

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


    Faheem> On Wed, 24 May 2000, Ko-Kang Wang wrote:

    >> Ah yes.  I've just tested the code and it proved to be extremely
    >> good.  Thank you.
    >> 
    >> I actually think it will be a good idea to put up a package
    >> (library), with examples and help files etc...I don't know how the
    >> others on this list think about this idea, but I would certainly
    >> like to see such a package in CRAN.
    >> 
    >> If you don't mind, I could put up a package for you and e-mailed it
    >> to you.
    >> 
    >> Thanks again.
    >> 
    >> Ko-Kang
    >> 
    >> Kaspar Pflugshaupt wrote:
    >> 
    >> > >>
    >> > >> Ko-Kang Wang wrote:
    >> > >> Is there a function to do interaction plots in R?
    >> > >> I know in Splus I can simply use interaction.plot()
    >> > >
    >> > > Thanks.
    >> > > I don't think there's such a function, so I wrote one some time ago. It takes
    >> > > two factors f1, f2 and a response variable data.
    >> >
    >> > Well, I've been using that function a lot lately and so I've improved it
    >> > considerably, up to the point of being useful. Having a bit of a bad
    >> > conscience for my last version (it was rather ugly), I'd like to post a
    >> > better one. It uses colours, draws a legend (which can be reordered) and
    >> > does a better job with axis labels. What's more, I've since discovered the
    >> > "matlines" function :-) .


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Wed May 24 08:35:24 2000
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 24 May 2000 08:35:24 +0200
Subject: Followup: Re: [R] Interaction Plots in R
References: <Pine.LNX.4.21.0005232209100.678-100000@Chrestomanci.home.earth>
Message-ID: <392B782C.D2EBF0FC@cirsium.ethz.ch>

Faheem Mitha wrote:
> 
> I think it would be extremely useful to have code for interaction
> plots. This is something I missed when working with linear models on
> R. But why not add it to the R-base?
>                                              Faheem.
> 


Well, I'm not sure that it is ready for that. For example, it has no
protection against wrong parameter types and cannot extract factors from
a dataframe (as the S-Plus version does). Compatibility to the S-Plus
version should be checked thoroughly, as a matter of fact. Generally,
much polish is missing, and I will probably not have the time to finish
it properly. Anybody who wants to do it is most welcome!

Meanwhile, if Ko-Kang Wang makes a package of it, that's enough for my
needs.

Kaspar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May 24 09:39:29 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 24 May 2000 09:39:29 +0200
Subject: [R] 1.0.1 for SuSE 6.3
References: <0002089500.AA950055233@dogbert.akctr.noaa.gov> <0002081849521H.00336@friedman> <00051913492300.03332@ligarto> <x2og5xdk4a.fsf@blueberry.kubism.ku.dk>
Message-ID: <392B8731.B8133141@statistik.uni-dortmund.de>

Peter Dalgaard BSA wrote:
> 
> Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:
> 
> > Dear All,
> >
> > I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
> > SuSE 6.3 and I got the following error:
> >
> > "unpacking of archive failed: cpio: Bad magic";
> >
> > then I checked the packages signature (using gnorpm) and got:
> >
> > "md5 sum does not match signature".
> >
> > What is happening here?
> 
> One possibility is that you FTP'ed it in ASCII mode instead of binary.

I tried to install the rpm on a SuSE 6.2 system a few days ago and got
the same error message, so I installed it from source.
There really seems to be an error with the rpm.

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May 24 09:48:42 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 24 May 2000 19:48:42 +1200
Subject: Followup: Re: [R] Interaction Plots in R
References: <392AED55.B6E9693A@xtra.co.nz>
		<Pine.LNX.4.21.0005232209100.678-100000@Chrestomanci.home.earth> <14635.30389.338673.499822@gargle.gargle.HOWL>
Message-ID: <392B8959.F0B6BE92@xtra.co.nz>

Well, as I said.  I have actually put it into a package which has a help file and an
example.

I agree with Kaspar, it may not be ready to put into R base.  I will send the package file
to Kaspar in an hour or so as I've almost finished putting them together (now I'm just doing
some final checking), and if he decides to put it up, anyone who is interested can download
it, improve it (both the code and help files!), then perhaps later on it can be placed into
R Base.

I am just curious why nobody brought this interaction plot idea up, since R has be around
for quite a few years!

Cheers,

Ko-Kang
Martin Maechler wrote:

> >>>>> "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:
>
>     Faheem> I think it would be extremely useful to have code for interaction
>     Faheem> plots. This is something I missed when working with linear models on
>     Faheem> R. But why not add it to the R-base?
>
> yes. definitely.  This should go into R base, -- unless Kaspar objects --
> and I think for 1.1.0 (due around June 15).
>
> Kaspar (or anyone), can you provide the corresponding help (source) file,
> interaction.plot.Rd -- including a few examples {using R builtin datasets} ?
>
> We then will put it into R "base".
>
> Martin Maechler <maechler at stat.math.ethz.ch>    http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO D10    Leonhardstr. 27
> ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
> phone: x-41-1-632-3408          fax: ...-1228                   <><
>
>     Faheem> On Wed, 24 May 2000, Ko-Kang Wang wrote:
>
>     >> Ah yes.  I've just tested the code and it proved to be extremely
>     >> good.  Thank you.
>     >>
>     >> I actually think it will be a good idea to put up a package
>     >> (library), with examples and help files etc...I don't know how the
>     >> others on this list think about this idea, but I would certainly
>     >> like to see such a package in CRAN.
>     >>
>     >> If you don't mind, I could put up a package for you and e-mailed it
>     >> to you.
>     >>
>     >> Thanks again.
>     >>
>     >> Ko-Kang
>     >>
>     >> Kaspar Pflugshaupt wrote:
>     >>
>     >> > >>
>     >> > >> Ko-Kang Wang wrote:
>     >> > >> Is there a function to do interaction plots in R?
>     >> > >> I know in Splus I can simply use interaction.plot()
>     >> > >
>     >> > > Thanks.
>     >> > > I don't think there's such a function, so I wrote one some time ago. It takes
>     >> > > two factors f1, f2 and a response variable data.
>     >> >
>     >> > Well, I've been using that function a lot lately and so I've improved it
>     >> > considerably, up to the point of being useful. Having a bit of a bad
>     >> > conscience for my last version (it was rather ugly), I'd like to post a
>     >> > better one. It uses colours, draws a legend (which can be reordered) and
>     >> > does a better job with axis labels. What's more, I've since discovered the
>     >> > "matlines" function :-) .
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------
 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at commerce.otago.ac.nz  Wed May 24 12:10:53 2000
From: jwilliams at commerce.otago.ac.nz (John Williams)
Date: Wed, 24 May 2000 12:10:53 +0200
Subject: [R] 1.0.1 for SuSE 6.3
In-Reply-To: <x2og5xdk4a.fsf@blueberry.kubism.ku.dk>
References: <0002089500.AA950055233@dogbert.akctr.noaa.gov> <00051913492300.03332@ligarto> <x2og5xdk4a.fsf@blueberry.kubism.ku.dk>
Message-ID: <00052412124400.13286@john>

 > I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
> > SuSE 6.3 and I got the following error:
> > 
> > "unpacking of archive failed: cpio: Bad magic";
> > 
> 
> One possibility is that you FTP'ed it in ASCII mode instead of binary.

I got the same message, and I _definitely_ used BIN.  I gave up and compiled
from source, which worked flawlessly on SuSE 6.3: give it a go!

--------------------------
John Williams
Institut fr Marketing II
Humboldt Universitt
Berlin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Wed May 24 12:52:17 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Wed, 24 May 2000 12:52:17 +0200
Subject: [R] order() results
Message-ID: <000a01bfc56e$208c18f0$b1eb92c1@unirioja.es>

Hi,
Let?s consider aux1. I wanted to order its data considering its first column as the index

> aux1[1:4,]
              V1   V2    V3     V4      V5 V6
1 0.08506724 150 1956 15.08 233.82 463.295 14
2 0.76205323 203 1922 15.35 218.74 463.295 14
3 0.86274890 195 1835 12.54 203.39 463.295 14
4 0.37940715 152 1567 24.73 190.85 463.295 14

> aux2 <-- aux1[order(aux1[1:4,1]) , ]
> aux2
                V1    V2     V3      V4       V5  V6
1 -0.08506724 -150 -1956 -15.08 -233.82 -463.295 -14
4 -0.37940715 -152 -1567 -24.73 -190.85 -463.295 -14
2 -0.76205323 -203 -1922 -15.35 -218.74 -463.295 -14
3 -0.86274890 -195 -1835 -12.54 -203.39 -463.295 -14

Why did the result came with a minus sign?

Is it a bug?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000524/ade24d21/attachment.html

From p.dalgaard at biostat.ku.dk  Wed May 24 13:05:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 May 2000 13:05:14 +0200
Subject: [R] order() results
In-Reply-To: "Manuel Castejon Limas"'s message of "Wed, 24 May 2000 12:52:17 +0200"
References: <000a01bfc56e$208c18f0$b1eb92c1@unirioja.es>
Message-ID: <x21z2s439x.fsf@blueberry.kubism.ku.dk>

"Manuel Castejon Limas" <manuel.castejon at dim.unirioja.es> writes:

> > aux2 <-- aux1[order(aux1[1:4,1]) , ]
> > aux2
>                 V1    V2     V3      V4       V5  V6
> 1 -0.08506724 -150 -1956 -15.08 -233.82 -463.295 -14
> 4 -0.37940715 -152 -1567 -24.73 -190.85 -463.295 -14
> 2 -0.76205323 -203 -1922 -15.35 -218.74 -463.295 -14
> 3 -0.86274890 -195 -1835 -12.54 -203.39 -463.295 -14
> 
> Why did the result came with a minus sign?
> 
> Is it a bug?

Only in your code. Try 

aux2 <- aux1[order(aux1[1:4,1]) , ]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Wed May 24 13:15:09 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Wed, 24 May 2000 13:15:09 +0200
Subject: [R] order() results
References: <000a01bfc56e$208c18f0$b1eb92c1@unirioja.es> <x21z2s439x.fsf@blueberry.kubism.ku.dk>
Message-ID: <000801bfc571$52c5bc10$b1eb92c1@unirioja.es>

My fault.
Sorry for disturbing with such silly thing.
Thanks a lot.

You have discovered the blind of the list. :-)
 

> Only in your code. Try 
> 
> aux2 <- aux1[order(aux1[1:4,1]) , ]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May 24 13:35:07 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 24 May 2000 13:35:07 +0200
Subject: [R] order() results
References: <000a01bfc56e$208c18f0$b1eb92c1@unirioja.es>
Message-ID: <392BBE6B.ADCCC100@statistik.uni-dortmund.de>

> Manuel Castejon Limas wrote:
> 
> Hi,
> Let?s consider aux1. I wanted to order its data considering its first
> column as the index
> 
> > aux1[1:4,]
>               V1   V2    V3     V4      V5 V6
> 1 0.08506724 150 1956 15.08 233.82 463.295 14
> 2 0.76205323 203 1922 15.35 218.74 463.295 14
> 3 0.86274890 195 1835 12.54 203.39 463.295 14
> 4 0.37940715 152 1567 24.73 190.85 463.295 14
> 
> > aux2 <-- aux1[order(aux1[1:4,1]) , ]
> > aux2
>                 V1    V2     V3      V4       V5  V6
> 1 -0.08506724 -150 -1956 -15.08 -233.82 -463.295 -14
> 4 -0.37940715 -152 -1567 -24.73 -190.85 -463.295 -14
> 2 -0.76205323 -203 -1922 -15.35 -218.74 -463.295 -14
> 3 -0.86274890 -195 -1835 -12.54 -203.39 -463.295 -14
> Why did the result came with a minus sign?
> 
> Is it a bug?


No. 
You wrote:
  aux2 <-- aux1[order(aux1[1:4,1]) , ]
         ^
but this is correct ;-):
  aux2 <- aux1[order(aux1[1:4,1]) , ]

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed May 24 14:53:45 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 24 May 2000 14:53:45 +0200
Subject: [R] no warning with NULL component in data.frame
Message-ID: <3.0.32.20000524145345.008fb300@162.38.183.200>

Dear all,

I am a bit surprised that R does not give a warning (or a message error)
when calling, in a data.frame (or a list), an element that does not exist:

> temp <- data.frame(my.var1 = c(1,2), my.var2 = c(3,4))
> temp
  my.var1 my.var2
1       1       3
2       2       4
> temp$my.var3                               ### it does not exist
NULL
> my.vect <- c(temp$my.var1, temp$my.var3)   ### no marning
> my.vect
[1] 1 2

I would expect a message saying that my.var3 is NULL when trying to
manipulate it. For instance, sum() gives:

> sum(temp$my.var3)
[1] 0

(the same with any suffix after $) which is again surprising since, to me,
the element does not exist.

Is there a reason for this?

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 24 15:33:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 May 2000 14:33:50 +0100 (BST)
Subject: Followup: Re: [R] Interaction Plots in R
In-Reply-To: <392B8959.F0B6BE92@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10005241426090.8042-100000@auk.stats>

The current plan is to put an S-compatible version of interaction.plot
into 1.1.0.

On Wed, 24 May 2000, Ko-Kang Wang wrote:

> Well, as I said.  I have actually put it into a package which has a help file and an
> example.
> 
> I agree with Kaspar, it may not be ready to put into R base.  I will send the package file
> to Kaspar in an hour or so as I've almost finished putting them together (now I'm just doing
> some final checking), and if he decides to put it up, anyone who is interested can download
> it, improve it (both the code and help files!), then perhaps later on it can be placed into
> R Base.
> 
> I am just curious why nobody brought this interaction plot idea up, since R has be around
> for quite a few years!

I think that shows how little interaction plots are used.  The problem I
find is that they are sometimes useful for two-way layouts, but I rarely
see such simple designs.  One often needs to plot particular
two-way interactions as part of a larger model.

Another problem is that they depend crucially on the ordering of the
levels in factors, so apart from ordered factors the order in which levels
are joined up is completely arbitrary.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 24 16:06:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 May 2000 16:06:54 +0200
Subject: Followup: Re: [R] Interaction Plots in R
In-Reply-To: Prof Brian D Ripley's message of "Wed, 24 May 2000 14:33:50 +0100 (BST)"
References: <Pine.GSO.4.05.10005241426090.8042-100000@auk.stats>
Message-ID: <x2ya502gap.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> The current plan is to put an S-compatible version of interaction.plot
> into 1.1.0.
...
> > I am just curious why nobody brought this interaction plot idea up, since R has be around
> > for quite a few years!
> 
> I think that shows how little interaction plots are used.

..or how easy it often is to get a plot with equivalent information
with matlines(). I actually hadn't noticed the existence of
interaction.plot() before.

We might need a general "trace grapher" including continuous variables
instead of factors and handling unbalanced designs, e.g. plot data vs.
time for each person, with different symbols for different groups.
Maybe also with fixups for missing values, etc. (Now don't tell me
such a thing already exists!)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Wed May 24 16:05:30 2000
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Wed, 24 May 2000 15:05:30 +0100 (BST)
Subject: [R] RE: RODBC
In-Reply-To: <20000524085500.A3565@athome.lapsley>
Message-ID: <XFMail.000524150530.Ted.Harding@nessie.mcc.ac.uk>

On 24-May-00 Michael Lapsley wrote:
>
> Dear R-fans,
>
> My database access package RODBC is now available on CRAN.
> [snip]
> To my knowledge RODBC works with oracle, MSAccess, Sybase,
> DB2 and SQLServer on MSWindows platforms, and with
> MySQL, postgreSQL and oracle (with a slightly buggy
> beta driver) under unix.  With access to the server I
> have been able to use it with MSAccess from unix as well by
> installing (free) bridging software.

As far as you can tell, could it also be put to work straightforwardly
with Borland's Interbase? (In my experience one of the nicest
SQL engines available for Linux and currently available free).

With thanks,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 24-May-00                                       Time: 15:05:29
------------------------------ XFMail ------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Wed May 24 17:33:50 2000
From: smcnary at charm.net (Scot W McNary)
Date: Wed, 24 May 2000 11:33:50 -0400 (EDT)
Subject: [R] thanks for sample() suggestion
Message-ID: <Pine.BSI.4.10.10005241125420.21892-100000@fellspt.charm.net>


Thanks to all who suggested the sample() function; it was very easy to
use:

Usman Shehu, Prof. Brian Ripley, gb (goran), Tom Richards, Chuck Cleland,
Denis White, Karl Broman, and Erin Hodgess.  Also thanks to Prof. Ripley
for suggestions of general R code to reach the same end.

Scot


--
  Scot W. McNary  email:smcnary at charm.net   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Wed May 24 17:37:09 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Wed, 24 May 2000 17:37:09 +0200 (MET DST)
Subject: [R] 1.0.1 for SuSE 6.3
In-Reply-To: <00051913492300.03332@ligarto>
Message-ID: <Pine.OSF.4.21.0005241731050.22814-100000@zidsrv.sci.uni-klu.ac.at>

On Fri, 19 May 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
> SuSE 6.3 and I got the following error:
> 
> "unpacking of archive failed: cpio: Bad magic";
> 
> then I checked the packages signature (using gnorpm) and got:
> 
> "md5 sum does not match signature".
> 
> What is happening here?
> 
> Ramon
> 

sorry for the inconvenience, something has gone wrong during the upload
of this rpm from home to office. A new one is now in place (on
ftp://ftp-stat.sci.uni-klu.ac.at/pub/R/bin/linux/suse/RPMS/6.3/i386/base)
and will soon reach CRAN via mirrors.

After upgrading to 6.4 I have only one 6.3 machine left which I use
seldomly, so I did not recognize the bug, sorry.


Albrecht
......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed May 24 17:44:44 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 24 May 2000 11:44:44 -0400
Subject: [R] Problem w/cygwin1.1 (maybe)
Message-ID: <852568E9.0056492C.00@EPAHUB2.RTP.EPA.GOV>



I am using rw1001 on Windows 98.  I have a package that involves both c and
fortran code, which compiled successfully under cygnus b20.1 with Mummit Kahn's
port of gcc 2.95.2.  I have upgraded to the new net release of cygwin (version
1.1, including the recent cygwin package upgrade to 1.1.1).  Now when the dll
for my package is being created, I get the string of errors like:

[...]
gcc -mno-cygwin -mdll  -Wl,--base-file,odesolve.b -s  -o odesolve.dll odesolve.e
odesolve.a  -L/R/rw1001/src/gnuwin32  -lg2c -lR
/usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0x4e): undefined
reference to `__errno'
/usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0xb9): undefined
reference to `__errno'
/usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0xf3): undefined
reference to `__errno'
/usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(fmt.o)(.text+0x51): undefined
reference to `__errno'
/usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(fmt.o)(.text+0x9d): undefined
reference to `_impure_ptr'
[...]

Presumably, somewhere I have configured either MkRules or my cygwin installation
incorrectly, but I cannot see where I've gone wrong.  I wonder if someone on the
list recognizes this error, or can give me some hints?  Thanks!

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 24 17:59:03 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 24 May 2000 11:59:03 -0400 (EDT)
Subject: Followup: Re: [R] Interaction Plots in R
Message-ID: <200005241559.LAA10455@cattell.psych.upenn.edu>

It would be nice to be able to do quickly and easily what
are called "parallel coordinate plots" in Systat.  This
was the feature that kept me using Systat for years and
years.  If you have an experimental design with several
variables for each of several subjects, the plot consists
of one like per subject.  The variables are listed along
the horizontal axis.  Patterns in the data just leap out.
Not only differences between variables but also clusters
of subjects, correlations, etc.

Now this CAN be done NOW in R.  I've done it.  I have,
somewhere, the code to produce it, which was based on
what Prof. Ripley gave me (I think) in response to an
earlier post.  In order to do it, though, I had to
transform the data from its original layout (one row per
subject) to a different one (one row per observation).
Often this is necessary anyway (even in Systat), so it
isn't a BIG bother.  But it would be NICE to be able to
look at a parallel plot right away, before trying anything
else.

On the other hand, I worry a little that, if all requests
like this one found their way into the next version or a
later one, it would become bloated and slow (like recent
versions of Systat, compared to older ones :) ).  So don't
take me too seriously!

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Wed May 24 11:44:19 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Wed, 24 May 2000 11:44:19 +0200
Subject: [R] 1.0.1 for SuSE 6.3
In-Reply-To: <Pine.OSF.4.21.0005241731050.22814-100000@zidsrv.sci.uni-klu.ac.at>
References: <Pine.OSF.4.21.0005241731050.22814-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <00052411472803.00998@ligarto>

Thanks! (and no problem: I cannot complain, since I haven't done any work!).
Thanks too to all of you that replied, which indicated that it wasn't just
me doing something silly.

Ramon

On Wed, 24 May 2000, Albrecht Gebhardt wrote:
> On Fri, 19 May 2000, Ramon Diaz-Uriarte wrote:
> 
> > Dear All,
> > 
> > I tried installing (actually, upgrading) R to 1.0.1 using the binary on CRAN for
> > SuSE 6.3 and I got the following error:
> > 
> > "unpacking of archive failed: cpio: Bad magic";
> > 
> > then I checked the packages signature (using gnorpm) and got:
> > 
> > "md5 sum does not match signature".
> > 
> > What is happening here?
> > 
> > Ramon
> > 
> 
> sorry for the inconvenience, something has gone wrong during the upload
> of this rpm from home to office. A new one is now in place (on
> ftp://ftp-stat.sci.uni-klu.ac.at/pub/R/bin/linux/suse/RPMS/6.3/i386/base)
> and will soon reach CRAN via mirrors.
> 
> After upgrading to 6.4 I have only one 6.3 machine left which I use
> seldomly, so I did not recognize the bug, sorry.
> 
> 
> Albrecht
> ......................................................................
> || Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
> | Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
> | Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
> | Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
> | A-9020 Klagenfurt, Austria                                         |
> `--------------------------------------------------------------------'
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed May 24 20:30:35 2000
From: gb at stat.umu.se (gb)
Date: Wed, 24 May 2000 20:30:35 +0200 (CEST)
Subject: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
Message-ID: <Pine.LNX.4.21.0005242012330.27454-100000@pc16.stat.umu.se>

On Sun, 21 May 2000, gb wrote:

> 
> Is there a function somewhere for estimating the survivor function
> (plus confidence limits) when data are both left truncated and right
> censored?  survfit in  survival5  doesn't like left truncation.

I got one answer, but a function for left censoring (for which I am 
grateful). So I wrote my own function. Here it is. Be careful, there
are a few nasty loops... and no serious testing yet.

Tips on improvements are welcome! (Note, it just plots, no return
values. Easy to change, though.)

G?ran
------------------------------------------------------------------------
plot.surv <- function(enter = rep( 0, length(exit) ),
                      exit,
                      event = rep( 1, length(exit) ),
                      group = rep( 1, length(exit) ),
                      limits = F,
                      conf = 0.95)
  {
    ## Input data:
    ##
    ## enter : left truncation point
    ## exit  : exit time point
    ## event : if zero, a censored observation; otherwise an event.
    ## group : one curve for each distinct value in group.
    ## limits: if TRUE, and only one group, pointwise confidence
    ##         limits (Greenwoods formula, log(-log) type).
    ## conf  : confidence level. Can be given as a percentage.
    
    ## Check input data:
    n <- length(exit)
    if (length(enter) != n)stop("enter and exit must have equal length.")
    if (length(event) != n)
      stop("event and exit must have equal length.")
    if (length(group) != n)
      stop("group and exit must have equal length.")
    if (min(exit - enter) <= 0) stop("Interval length must be positive.")
    if (conf > 1) conf <- conf / 100 ## conf given as a percentage(?)
    if ( (conf < 0.5) | (conf >=1) ) stop("Bad conf value")

    grupp <- as.character(group)
   
    strata <- sort(unique(grupp))
    if (length(strata) > 9)
      stop("Too many groups. No more than 9 are allowed.")
    
    ##
    if (length(strata) > 1) limits <- F # No limits if multiple curves.
    gang <- 0
    for (stratum in strata)
      {
        atom <- table.events(enter[grupp == stratum],
                             exit[grupp == stratum],
                             event[grupp == stratum])
        
        gang <- gang + 1
        surv <- c( 1, cumprod(1 - atom$events / atom$riskset.sizes) )
        if (gang == 1)
          {
            plot(c(0, atom$times), surv, type = "s",
                 xlab = "duration", ylab = "Surviving fraction",
                 main = "Survivor function(s)", ylim = c(0, 1),
                 col = gang%%5)
            if (limits) ## Greenwood's formula,
                        ## Kalbfleisch & Prentice, p. 15 (note error!).
              {
                q.alpha <- abs(qnorm((1 - conf) / 2))
                survived <- (atom$riskset.size - atom$events)
                se <- sqrt(cumsum(atom$events /
                                   ( atom$riskset.sizes * survived )
                                   )
                           )/
                            cumsum(-log(survived / atom$riskset.sizes))
                upper <- surv ^ exp(q.alpha * c(0, se))
                lower <- surv ^ exp(-q.alpha * c(0, se))
                lines(c(0, atom$times), upper, type = "s",
                      col = gang%%5 + 1)
                lines(c(0, atom$times), lower, type = "s",
                      col = gang%%5 + 1)
              }
          }
        else
          {
            lines(c(0, atom$times), surv, type = "s", 
                  col = gang%%5)
          }
      }
    abline(h=0)
    if (length(strata) > 1)
      {
        ## legend.txt <- as.character(strata)
        colors <- (1:length(strata))%%5
        legend(0, 0.6, lty = 1, legend = strata, col = colors)
      }
  }

table.events <- function(enter = rep(0, length(exit)),
                         exit,
                         event)
{
  n <- length(exit)

  ## Check input data:
  if ( length(enter) != n ) stop("enter and exit must have equal length.")
  if ( length(event) != n ) stop("event and exit must have equal length.")
  ##
  
  event <- (event != 0) ## 0 (F) = censoring, else (T) = event

  times <- c(unique(sort(exit[event])))
  nn <- length(times)

  rs.size <- double(nn)
  n.events <- double(nn)

  for (i in 1:nn) ## Try to avoid this loop!
    {
      rs.size[i] <- sum( (enter < times[i]) &
                        (exit >= times[i]) )
      n.events[i] <- sum( (exit == times[i]) & event )
    }

  stop.at <- which(rs.size == n.events)
  if (length(stop.at))
    {
      stop.at <- min(stop.at) - 1
      if (stop.at <= 0) stop("Bad data. All died immediately!")
      times <- times[1:stop.at]
      n.events <- n.events[1:stop.at]
      rs.size <- rs.size[1:stop.at]
    }
      
  return ( list(times         = times,
                events        = n.events,
                riskset.sizes = rs.size)
          )
}

Have fun! And send bug reports to
-- 
 G?ran Brostr?m                    e-mail: gb at stat.umu.se
 Professor                           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             http://www.stat.umu.se/egna/gb

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Wed May 24 21:17:36 2000
From: posse at talariainc.com (Christian Posse)
Date: Wed, 24 May 2000 12:17:36 -0700
Subject: [R] problem with ts package
Message-ID: <392C2AD0.B34D0386@talariainc.com>


I just encountered a problem with the ts package:

> library(ts)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/lib/R/library/ts/libs/ts.so":
  /usr/local/lib/R/library/ts/libs/ts.so: undefined symbol: ma

My environment is

R 1.0.1
RedHat  6.2  for intel.
> R.Version()$system
[1] "i686, linux"


I just updated RedHat from 6.1. Under 6.1, that version of R
worked fine.

Thanks for any help on this.

Cheers,
Christian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 24 21:48:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 May 2000 20:48:36 +0100 (BST)
Subject: [R] problem on upgrading to RH6.2 (was problem with ts package)
In-Reply-To: <392C2AD0.B34D0386@talariainc.com>
Message-ID: <Pine.GSO.4.05.10005242042010.19543-100000@auk.stats>

On Wed, 24 May 2000, Christian Posse wrote:

> 
> I just encountered a problem with the ts package:
> 
> > library(ts)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/lib/R/library/ts/libs/ts.so":
>   /usr/local/lib/R/library/ts/libs/ts.so: undefined symbol: ma
> 
> My environment is
> 
> R 1.0.1
> RedHat  6.2  for intel.
> > R.Version()$system
> [1] "i686, linux"
> 
> 
> I just updated RedHat from 6.1. Under 6.1, that version of R
> worked fine.

Simple Qs:

1) did you build R yourself or are you using an RPM?
2) If you did build it, have you tried re-building it under 6.2?

BTW: I think your subject line is misleading: the problem is with the
system upgrade, not the ts package. (And the package maintainer does care
about the distinction.)

I have no idea what is going on: ma is not a symbol in the ts package,
so the problem is definitely elsewhere. We do know that this works
correctly when compiled and run on an RH6.2 system.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 24 22:09:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 May 2000 22:09:01 +0200
Subject: [R] problem on upgrading to RH6.2 (was problem with ts package)
In-Reply-To: Prof Brian D Ripley's message of "Wed, 24 May 2000 20:48:36 +0100 (BST)"
References: <Pine.GSO.4.05.10005242042010.19543-100000@auk.stats>
Message-ID: <x2r9araexu.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> I have no idea what is going on: ma is not a symbol in the ts package,
> so the problem is definitely elsewhere. We do know that this works
> correctly when compiled and run on an RH6.2 system.

Yup, on mine for instance. However, I think I upgraded to 6.2 before
1.0.1 came out.

For some odd reason I still have a 0.65.0 sitting here and that one
still loads the (then preliminary) ts quite OK.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at sthelier.sghms.ac.uk  Thu May 25 00:28:44 2000
From: mlapsley at sthelier.sghms.ac.uk (Michael Lapsley)
Date: Wed, 24 May 2000 23:28:44 +0100
Subject: [R] RE: RODBC
In-Reply-To: <XFMail.000524150530.Ted.Harding@nessie.mcc.ac.uk>; from Ted.Harding@nessie.mcc.ac.uk on Wed, May 24, 2000 at 03:05:30PM +0100
References: <20000524085500.A3565@athome.lapsley> <XFMail.000524150530.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <20000524232844.A5388@athome.lapsley>

On Wed, May 24, 2000 at 03:05:30PM +0100, Ted Harding wrote:
> 
> As far as you can tell, could it also be put to work straightforwardly
> with Borland's Interbase? (In my experience one of the nicest
> SQL engines available for Linux and currently available free).
> 
> With thanks,
> Ted.

Ted,

I think you are probably out of luck here:  I do not think there
is a unix driver available for it.

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmd at isharp.com  Thu May 25 02:11:57 2000
From: jmd at isharp.com (John Davis)
Date: 24 May 2000 17:11:57 -0700
Subject: [R] Plotting Time Series
Message-ID: <vuya4zxzci.fsf@isharp.com>

I'm new to R and reading Modern Applied Statistics w/ S-Plus (read the
first two chapters and am skimming the chapter 13). I'm trying to take
data of the form:

Time Attribute Frequency
1       A       7
1       B       12
2       A       6
2       C       4
2       D       7
4       B       11
4       D       5
5       A       9
5       B       11
5       C       14
   [...]

and create a time series (Time ~ Frequency) for each attribute in the
same plot somewhat similar to Figure 13.1 on page 403 (which plot I
can reproduce following ch13.R).

There are a few ways I've thought to address this:

1. Rearrange the data into one file for each attribute

eg.

File_A
1 7
2 6
5 9

Then plot each in the same plot...

2. Read the data from one file, then use the factors to create vectors
   of different lengths holding the time and freq data.

3. Divine some magic about factors and do it all with some incredible
   one liner.

The last is where I'd like to get to, but I need a better mental model
of what is going on... Presently, I'm just "trying stuff". Anyway, any
clues would be appreciated, about the problem itself, or about the
"trying stuff" approach to R.

Regards, jd
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 25 07:28:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 25 May 2000 06:28:32 +0100 (BST)
Subject: [R] Plotting Time Series
In-Reply-To: <vuya4zxzci.fsf@isharp.com>
Message-ID: <Pine.GSO.4.05.10005250621431.20217-100000@auk.stats>

On 24 May 2000, John Davis wrote:

> I'm new to R and reading Modern Applied Statistics w/ S-Plus (read the
> first two chapters and am skimming the chapter 13). I'm trying to take
> data of the form:
> 
> Time Attribute Frequency
> 1       A       7
> 1       B       12
> 2       A       6
> 2       C       4
> 2       D       7
> 4       B       11
> 4       D       5
> 5       A       9
> 5       B       11
> 5       C       14
>    [...]
> 
> and create a time series (Time ~ Frequency) for each attribute in the
> same plot somewhat similar to Figure 13.1 on page 403 (which plot I
> can reproduce following ch13.R).

BTW, Time ~ Frequency has a technical meaning in R, and you don't mean it
in that sense. It's in Chapter 6, one of the ones you skipped.
And most people would read that to mean Time as the response and Frequency
the time base, which I think is the reverse of what you mean.

> There are a few ways I've thought to address this:
> 
> 1. Rearrange the data into one file for each attribute
> 
> eg.
> 
> File_A
> 1 7
> 2 6
> 5 9
> 
> Then plot each in the same plot...
> 
> 2. Read the data from one file, then use the factors to create vectors
>    of different lengths holding the time and freq data.
> 
> 3. Divine some magic about factors and do it all with some incredible
>    one liner.
> 
> The last is where I'd like to get to, but I need a better mental model
> of what is going on... Presently, I'm just "trying stuff". Anyway, any
> clues would be appreciated, about the problem itself, or about the
> "trying stuff" approach to R.

Unfortunately, your example is not a time series in the sense used in R.
That must have a regularly-spaced time base.  You have what S-PLUS
calls an `irregular time series' (class its) and little support for.

You could plot the series by

plot(Time[Attribute==A], Frequency[Attribute==A])

for example.  Indexing is a very powerful tool in the S language.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 25 08:00:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 25 May 2000 07:00:46 +0100 (BST)
Subject: [R] Problem w/cygwin1.1 (maybe)
In-Reply-To: <852568E9.0056492C.00@EPAHUB2.RTP.EPA.GOV>
Message-ID: <Pine.GSO.4.05.10005250645480.20217-100000@auk.stats>

On Wed, 24 May 2000 Setzer.Woodrow at epamail.epa.gov wrote:

> I am using rw1001 on Windows 98.  I have a package that involves both c and
> fortran code, which compiled successfully under cygnus b20.1 with Mummit Kahn's
> port of gcc 2.95.2.  I have upgraded to the new net release of cygwin (version
> 1.1, including the recent cygwin package upgrade to 1.1.1).  Now when the dll

I have had a lot of problems with the cygwin net releases, and their
mailing list shows that I am not alone.  The version of make up currently
is broken (and they know the cause and have not re-made it) and there are
further problems with the 1.1.1 DLL that mean that re-direction in
Makefiles fails (and that is used extensively in the R Makefiles).


> for my package is being created, I get the string of errors like:
> 
> [...]
> gcc -mno-cygwin -mdll  -Wl,--base-file,odesolve.b -s  -o odesolve.dll odesolve.e
> odesolve.a  -L/R/rw1001/src/gnuwin32  -lg2c -lR
> /usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0x4e): undefined
> reference to `__errno'
> /usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0xb9): undefined
> reference to `__errno'
> /usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(sfe.o)(.text+0xf3): undefined
> reference to `__errno'
> /usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(fmt.o)(.text+0x51): undefined
> reference to `__errno'
> /usr/lib/gcc-lib/i686-pc-cygwin/2.95.2/libg2c.a(fmt.o)(.text+0x9d): undefined
> reference to `_impure_ptr'
> [...]
> 
> Presumably, somewhere I have configured either MkRules or my cygwin installation
> incorrectly, but I cannot see where I've gone wrong.  I wonder if someone on the
> list recognizes this error, or can give me some hints?  Thanks!

Looks like you have the wrong libg2c.a in use, the cygwin not -mno-cygwin
one.  What do you have set as FLIBS in MkRules?  In rw1001 it says

#-L(directory where gcc-2.95-mingw-extra.tar.gz was uncompressed)
FLIBS=-L/cygnus/cygwin-b20/mingw32/lib -lg2c

I don't see any sign of pointing you at a particular lg2c (but do not
know if that is needed under cygwin 1.1.1).

It is pretty irritating that every time I `upgrade' cygwin something else
breaks.  For rw1010 we intend to support only the mingw32 compiler
and a set of tools we will make available that we know works.  For example,
I compiled up a version of make 3.79 from the GNU make sources.  The
mingw32 compilers are just as easy to install and use, and they seem very
stable.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu May 25 08:58:01 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 25 May 2000 08:58:01 +0200 (CEST)
Subject: [R] problem on upgrading to RH6.2 (was problem with ts package)
In-Reply-To: <x2r9araexu.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.05.10005242042010.19543-100000@auk.stats>
	<x2r9araexu.fsf@blueberry.kubism.ku.dk>
Message-ID: <14636.52985.545009.215275@gargle.gargle.HOWL>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
    >> I have no idea what is going on: ma is not a symbol in the ts package,
    >> so the problem is definitely elsewhere. We do know that this works
    >> correctly when compiled and run on an RH6.2 system.

    PD> Yup, on mine for instance. However, I think I upgraded to 6.2 before
    PD> 1.0.1 came out.

    PD> For some odd reason I still have a 0.65.0 sitting here and that one
    PD> still loads the (then preliminary) ts quite OK.

Our R 1.0.1 was compiled *before* the upgrade (from 6.1) to 6.2
and library(ts) still works.

[BTW, nice to hear from you, Christian!]

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu May 25 09:49:37 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 25 May 2000 09:49:37 +0200 (CEST)
Subject: [R] problem on upgrading to RH6.2 (was problem with ts packa
In-Reply-To: <Pine.GSO.4.05.10005242042010.19543-100000@auk.stats>
Message-ID: <XFMail.000525094937.plummer@iarc.fr>

On 24-May-00 Prof Brian D Ripley wrote:
> On Wed, 24 May 2000, Christian Posse wrote:
> 
>> 
>> I just encountered a problem with the ts package:
>> 
>> > library(ts)
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>         unable to load shared library
>> "/usr/local/lib/R/library/ts/libs/ts.so":
>>   /usr/local/lib/R/library/ts/libs/ts.so: undefined symbol: ma
>
> ...
>
> I have no idea what is going on: ma is not a symbol in the ts package,
> so the problem is definitely elsewhere. We do know that this works
> correctly when compiled and run on an RH6.2 system.

I'm afraid dlerror() can return garbage on RH6.2 so the
"undefined symbol: ma" message is probably not helpful.

The latest R RPM for Red Hat Linux is compiled on RH6.2 and works fine.
I suggest you try that.

Martyn


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zivan.karaman at limagrain.com  Thu May 25 11:15:35 2000
From: zivan.karaman at limagrain.com (zivan.karaman@limagrain.com)
Date: Thu, 25 May 2000 11:15:35 +0200
Subject: [R] axis function
Message-ID: <C12568EA.00329A14.00@limagrain.ftgin.com>

In S-PLUS, the 'axis' function accepts some arguments that don't exist in the R
counterpart.

The two that I'm interested in right now are 'pos' and 'ticks'.

Any suggestions on how obtain the same result with R?

As a reminder, copy of the S-PLUS help page.

USAGE

axis(side, at=<<see below>>, labels=T, ticks=T, distn=NULL, line=0, pos=<<see
below>>, outer=F)

REQUIRED ARGUMENTS

side a number representing the side of the plot for the axis (1 for bottom, 2
for left, 3 for top, and 4 for right).

OPTIONAL ARGUMENTS

at   vector of positions at which the ticks and tick labels will be plotted.  If
side is 1 or 3, at represents x-coordinates.  If side is 2 or 4, at represents
y-coordinates.  If at is omitted, the current axis (as specified by the xaxp or
yaxp parameters, see par) will be plotted.

labels    if labels is logical, it specifies whether or not to plot tick labels.
Otherwise, labels must be the same length as at, and label[i] is plotted at
coordinate at[i].

ticks     if TRUE, tick marks and the axis line will be plotted.

distn     character string describing the distribution used for transforming the
axis labels.  The only choice is distn="normal", in which case values of at are
assumed to be probability levels, and the labels are actually plotted at
qnorm(at).  This also implies a reasonable default set of values for the at
argument. By default the values in at are used as the labels.

line distance from the plot (measured out from the plot in units of
standard-sized character heights) at which the axis line will be plotted. Tick
labels will be plotted relative to this position using the graphical parameter
mgp).

pos  x- or y-coordinate position at which the axis line should be plotted.
Labels will be on the side of the axis specified by side.  If pos is omitted,
argument line controls positioning of the axis.

outer     if TRUE, the axis will be drawn in the outer margin rather than the
standard plot margin.


TIA.

Zivan Karaman


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Thu May 25 11:39:47 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Thu, 25 May 2000 12:39:47 +0300
Subject: [R] problem on upgrading to RH6.2 (was problem with ts pack
Message-ID: <200005250939.MAA21213@khatkhat.ecology.helsinki.fi>

plummer at iarc.fr said:
> On 24-May-00 Prof Brian D Ripley wrote:
> On Wed, 24 May 2000, Christian Posse wrote:
>  >>  >> I just encountered a problem with the ts package: >>  >> >
> library(ts) >> Error in dyn.load(x, as.logical(local),
> as.logical(now)) : >>         unable to load shared library >> "/usr/
> local/lib/R/library/ts/libs/ts.so": >>   /usr/local/lib/R/library/ts/
> libs/ts.so: undefined symbol: ma >
> ... >
> I have no idea what is going on: ma is not a symbol in the ts package,
> so the problem is definitely elsewhere. We do know that this works
> correctly when compiled and run on an RH6.2 system.

> I'm afraid dlerror() can return garbage on RH6.2 so the "undefined
> symbol: ma" message is probably not helpful.

> The latest R RPM for Red Hat Linux is compiled on RH6.2 and works
> fine. I suggest you try that. 

I have similar problems with R 1.0.1 on RH6.2 (pre-compiled rpm binaries). 
Some of the old packages ceased to work and when I tried to re-install them 
through `R INSTALL package.tar.gz', some just fail and give similar error 
messages. My `ts' works, but it is of the old original version, and I don't 
dare to check if it stops working after re-installation. However, re-installed 
`tripack' gives the following error message:

 > library(tripack)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library "/usr/lib/R/library/tripack/libs/tripack.so":
  /usr/lib/R/library/tripack/libs/tripack.so: undefined symbol: ?

If I first gunzip the package, I get another undefined symbol, but the net 
effect is the unchanged: a failure to load a library. Otherwise the message is 
the same as for `ts' above.

Downgrading to the old binaries of the package does not help, since they fail 
for other reasons, in this case because they can't find e_wsfe. This, I think, 
is caused by libf2g growing independent of libf2c which had this function 
(originally in libI77.a).

cheers, jari oksanen
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 25 12:21:44 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 May 2000 12:21:44 +0200
Subject: [R] problem on upgrading to RH6.2 (was problem with ts pack
In-Reply-To: Jari Oksanen's message of "Thu, 25 May 2000 12:39:47 +0300"
References: <200005250939.MAA21213@khatkhat.ecology.helsinki.fi>
Message-ID: <x2puqbhqvb.fsf@blueberry.kubism.ku.dk>

Jari Oksanen <jhoksane at ecology.helsinki.fi> writes:

> I have similar problems with R 1.0.1 on RH6.2 (pre-compiled rpm binaries). 
> Some of the old packages ceased to work and when I tried to re-install them 
> through `R INSTALL package.tar.gz', some just fail and give similar error 
> messages. My `ts' works, but it is of the old original version, and I don't 
> dare to check if it stops working after re-installation. However, re-installed 
> `tripack' gives the following error message:
> 
>  > library(tripack)
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
> 	unable to load shared library "/usr/lib/R/library/tripack/libs/tripack.so":
>   /usr/lib/R/library/tripack/libs/tripack.so: undefined symbol: ?
> 

You're doing better than me, I just get a segfault... It seems that
something is seriously wrong with dyn.loading Fortran on RH6.2.
Upgrading the C/Fortran compilers to gcc 2.95.1 or newer seems to cure
it.

I'll be d**ned if I can figure out what is going wrong, but .so files
created with  2.95.1 work with R compiled with egcs-1.1.2 and .so
files created with egcs-1.1.2 cause segfaults when used with R
compiled with 2.95.1, so the problem is likely in the shared libraries
themselves. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu May 25 16:38:40 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 25 May 2000 16:38:40 +0200 (MET DST)
Subject: [R] Needed: Understading runif() output :-)
Message-ID: <Pine.OSF.4.21.0005251435160.13610-100000@alnair.uio.no>

Dear all,

I have been trying to understand what runif() is telling me. 
I am generating lots of numbers (billions and billions (wow, I've dreamed
about saying that for many years... :-) ), for a distribution that has the
following quantile function:
    1 / (2 * sqrt(1 - p)) 
(that is, the distribution has a lower cutoff)
As you can imagine, this has rather heavy upper tail. I was looking at the
largest values, and it looked as if the largest values appeared again and
again. Now, it wasn't in itself that large values were strange, since I'm
generating so many numbers, but that the largest were very much larger
than the second largest numbers, and that exactly the same number appeared
again and again. First I thought it was a bug, and I'm sorry to have
wasted r-devels time with a bug report. 

I started running the same simulation with different RNGs and they all
seem to generate numbers in "quantized states". Then, I started to look
into what runif() gives, and let it print 13 digits. 
In the below output, I use the "Mersenne-Twister" RNG and I have generated
1e+10 numbers (100000 at a time) and I print a line if it the number is
above 10000 (my dist, the left coloumn), the right coloumn are runif()
the corresponding outputs.
[1] 3.276800000000e+04 9.999999997672e-01
[1] 13377.479981919865     0.999999998603
[1] 1.158523750296e+04 9.999999981374e-01
[1] 1.036215143684e+04 9.999999976717e-01
[1] 1.158523750296e+04 9.999999981374e-01
[1] 1.036215143684e+04 9.999999976717e-01
[1] 1.036215143684e+04 9.999999976717e-01
[1] 13377.479981919865     0.999999998603

So, it seems that the runif() outputs are "quantized" too. The question 
is: What is the reason for this?
I have been playing with the tought that it may be connected to the finite 
number representation capabilites of a computer? As I said, all the RNGs
seems to have similar characteristics.

If this is the case, I have no problem. It's cosmology I'm doing, so
whether a number is 32768 or 29923 is (presumably) of little
importance. However, I should understand what is going on here.... :-)

Finally, I may get a "loss of precision"-problem in my coding of my
quantile function, but I guess it is not that much of a concern.

Hope somebody can help me with this.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 25 17:09:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 25 May 2000 16:09:20 +0100 (BST)
Subject: [R] Needed: Understading runif() output :-)
In-Reply-To: <Pine.OSF.4.21.0005251435160.13610-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.05.10005251557530.20647-100000@auk.stats>

On Thu, 25 May 2000, Kjetil Kjernsmo wrote:

> Dear all,
> 
> I have been trying to understand what runif() is telling me. 
> I am generating lots of numbers (billions and billions (wow, I've dreamed
> about saying that for many years... :-) ), for a distribution that has the
> following quantile function:
>     1 / (2 * sqrt(1 - p)) 
> (that is, the distribution has a lower cutoff)
> As you can imagine, this has rather heavy upper tail. I was looking at the
> largest values, and it looked as if the largest values appeared again and
> again. Now, it wasn't in itself that large values were strange, since I'm
> generating so many numbers, but that the largest were very much larger
> than the second largest numbers, and that exactly the same number appeared
> again and again. First I thought it was a bug, and I'm sorry to have
> wasted r-devels time with a bug report. 
> 
> I started running the same simulation with different RNGs and they all
> seem to generate numbers in "quantized states". Then, I started to look
> into what runif() gives, and let it print 13 digits. 
> In the below output, I use the "Mersenne-Twister" RNG and I have generated
> 1e+10 numbers (100000 at a time) and I print a line if it the number is
> above 10000 (my dist, the left coloumn), the right coloumn are runif()
> the corresponding outputs.
> [1] 3.276800000000e+04 9.999999997672e-01
> [1] 13377.479981919865     0.999999998603
> [1] 1.158523750296e+04 9.999999981374e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 1.158523750296e+04 9.999999981374e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 13377.479981919865     0.999999998603
> 
> So, it seems that the runif() outputs are "quantized" too. The question 
> is: What is the reason for this?
> I have been playing with the tought that it may be connected to the finite 
> number representation capabilites of a computer? As I said, all the RNGs
> seems to have similar characteristics.

Yes, they are all quantized (all to ca 2^-31 or 2^-32).  Reason: that's
all we can assume for integer arithmetic. That is perfectly
sufficient for a *stable* procedure for using them. As I said before, I
don't think the algorithm you have for making use of them is adequate.  
Now, you haven't actually told us how you are generating numbers from your
distribution (and you haven't actually defined the distribution precisely
enough so that I could program it), but I guess you are using inversion.  
Don't: it is not adequate for your purposes.  You want to make use of
several random numbers if you want behaviour in the far tail.
Alternatively, you could plug in a generator that had a lower quantization.

The moral is a familiar one: computer results are almost always
approximate, and you always have to watch out for the effects of the
approximations.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Thu May 25 18:03:56 2000
From: posse at talariainc.com (Christian Posse)
Date: Thu, 25 May 2000 09:03:56 -0700
Subject: [R] problem on upgrading to RH6.2 (Update)
References: <200005250939.MAA21213@khatkhat.ecology.helsinki.fi>
Message-ID: <002501bfc662$d5492ae0$b0ed0e18@sttln1.wa.home.com>

Prof. Ripley was correct suggesting a title with an RH6.2
problem and not a problem concerning the ts package.
In fact, it is far worse than I thought and is similar to
what Jair Oksanen and Peter Dalgaard wrote.

The situation is the following:

- The RPM  R-base-1.0.1-2.i386.rpm  from statlib works fine
under RH 6.2. Loading the libraries in the base works fine too.
Most contrib packages installed with this version of R with
R INSTALL  work except for  tripack, acepack, akima,
mclust (segfault!), leaps,   and so on. (I stopped trying all of them.....)
Strange messages of undefined symbols :

> library(tripack)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/lib/R/library/tripack/libs/tripack.s
o":
  /usr/lib/R/library/tripack/libs/tripack.so: undefined symbol: ?


The situation is far worse  with the version of R built by myself
after having downloaded the *.tgz file from statlib. With this
version, R base works fine, but impossible to load successfully
any library, even the one in the base packages
(Just in case, the R-base*src.rpm provides the same source code
and therefore I got the same problems).

Note, my PC is pure vanilla. I just got it brand new and  I installed
RH6.2. Then I tried to build R and got all these problems.
RH6.2 comes with

<18>root at cuky/R: gcc --version
egcs-2.91.66

How can I compare that with what Peter Dalgaard wrote
( I have been confused for a long time between the different
brands of gcc, true gcc or egcs flavor).

Peter Dalgaard wrote:
  You're doing better than me, I just get a segfault... It seems that
  something is seriously wrong with dyn.loading Fortran on RH6.2.
  Upgrading the C/Fortran compilers to gcc 2.95.1 or newer seems to cure
  it.

  I'll be d**ned if I can figure out what is going wrong, but .so files
  created with  2.95.1 work with R compiled with egcs-1.1.2 and .so
  files created with egcs-1.1.2 cause segfaults when used with R
  compiled with 2.95.1, so the problem is likely in the shared libraries
  themselves.

Thanks for all answers so far.
Christian


----- Original Message -----
From: "Jari Oksanen" <jhoksane at ecology.helsinki.fi>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Thursday, May 25, 2000 2:39 AM
Subject: Re: [R] problem on upgrading to RH6.2 (was problem with ts pack


plummer at iarc.fr said:
> On 24-May-00 Prof Brian D Ripley wrote:
> On Wed, 24 May 2000, Christian Posse wrote:
>  >>  >> I just encountered a problem with the ts package: >>  >> >
> library(ts) >> Error in dyn.load(x, as.logical(local),
> as.logical(now)) : >>         unable to load shared library >> "/usr/
> local/lib/R/library/ts/libs/ts.so": >>   /usr/local/lib/R/library/ts/
> libs/ts.so: undefined symbol: ma >
> ... >
> I have no idea what is going on: ma is not a symbol in the ts package,
> so the problem is definitely elsewhere. We do know that this works
> correctly when compiled and run on an RH6.2 system.

> I'm afraid dlerror() can return garbage on RH6.2 so the "undefined
> symbol: ma" message is probably not helpful.

> The latest R RPM for Red Hat Linux is compiled on RH6.2 and works
> fine. I suggest you try that.

I have similar problems with R 1.0.1 on RH6.2 (pre-compiled rpm binaries).
Some of the old packages ceased to work and when I tried to re-install them
through `R INSTALL package.tar.gz', some just fail and give similar error
messages. My `ts' works, but it is of the old original version, and I don't
dare to check if it stops working after re-installation. However,
re-installed
`tripack' gives the following error message:

 > library(tripack)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
unable to load shared library "/usr/lib/R/library/tripack/libs/tripack.so":
  /usr/lib/R/library/tripack/libs/tripack.so: undefined symbol: ?

If I first gunzip the package, I get another undefined symbol, but the net
effect is the unchanged: a failure to load a library. Otherwise the message
is
the same as for `ts' above.

Downgrading to the old binaries of the package does not help, since they
fail
for other reasons, in this case because they can't find e_wsfe. This, I
think,
is caused by libf2g growing independent of libf2c which had this function
(originally in libI77.a).

cheers, jari oksanen
--
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsmith at statsci.com  Thu May 25 18:58:37 2000
From: dsmith at statsci.com (David M Smith)
Date: Thu, 25 May 2000 09:58:37 -0700
Subject: [R] Needed: Understading runif() output :-)
In-Reply-To: <Pine.OSF.4.21.0005251435160.13610-100000@alnair.uio.no>
Message-ID: <002901bfc66a$78e04560$180110ac@statsci.com>

I don't think this is a problem with the RNG.  There are only 2^32 numbers
(2^31 in some systems)that can be represented with a 32-bit floating point
number.  So, a rough back-of-the-envelope calculation gives me:

> (1-.9999999975)*2^32
[1] 10.73742

i.e. about 10-11 possible numbers bigger than .9999999975 which seems to be
your threshold.  So the results you get aren't very surprising.

# David Smith

--
David M Smith <dsmith at splus.mathsoft.com>
S-PLUS Product Manager, MathSoft DAPD, Seattle WA
Tel: +1 (206) 283 8802 x360
Fax: +1 (206) 283 0347



> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Kjetil Kjernsmo
> Sent: Thursday, May 25, 2000 07:39
> To: R Help list
> Subject: [R] Needed: Understading runif() output :-)
>
>
> Dear all,
>
> I have been trying to understand what runif() is telling me.
> I am generating lots of numbers (billions and billions (wow,
> I've dreamed
> about saying that for many years... :-) ), for a distribution
> that has the
> following quantile function:
>     1 / (2 * sqrt(1 - p))
> (that is, the distribution has a lower cutoff)
> As you can imagine, this has rather heavy upper tail. I was
> looking at the
> largest values, and it looked as if the largest values
> appeared again and
> again. Now, it wasn't in itself that large values were
> strange, since I'm
> generating so many numbers, but that the largest were very much larger
> than the second largest numbers, and that exactly the same
> number appeared
> again and again. First I thought it was a bug, and I'm sorry to have
> wasted r-devels time with a bug report.
>
> I started running the same simulation with different RNGs and they all
> seem to generate numbers in "quantized states". Then, I
> started to look
> into what runif() gives, and let it print 13 digits.
> In the below output, I use the "Mersenne-Twister" RNG and I
> have generated
> 1e+10 numbers (100000 at a time) and I print a line if it the
> number is
> above 10000 (my dist, the left coloumn), the right coloumn are runif()
> the corresponding outputs.
> [1] 3.276800000000e+04 9.999999997672e-01
> [1] 13377.479981919865     0.999999998603
> [1] 1.158523750296e+04 9.999999981374e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 1.158523750296e+04 9.999999981374e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 1.036215143684e+04 9.999999976717e-01
> [1] 13377.479981919865     0.999999998603
>
> So, it seems that the runif() outputs are "quantized" too.
> The question
> is: What is the reason for this?
> I have been playing with the tought that it may be connected
> to the finite
> number representation capabilites of a computer? As I said,
> all the RNGs
> seems to have similar characteristics.
>
> If this is the case, I have no problem. It's cosmology I'm doing, so
> whether a number is 32768 or 29923 is (presumably) of little
> importance. However, I should understand what is going on here.... :-)
>
> Finally, I may get a "loss of precision"-problem in my coding of my
> quantile function, but I guess it is not that much of a concern.
>
> Hope somebody can help me with this.
>
> Best,
>
> Kjetil
> --
> Kjetil Kjernsmo
> Graduate astronomy-student                    Problems worthy
> of attack
> University of Oslo, Norway            Prove their worth by
> hitting back
> E-mail: kjetikj at astro.uio.no                                -
> Piet Hein
> Homepage <URL:http://www.astro.uio.no/~kjetikj/>
> Webmaster at skepsis.no
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu May 25 19:48:38 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 25 May 2000 19:48:38 +0200 (MET DST)
Subject: [R] Needed: Understading runif() output :-)
In-Reply-To: <Pine.GSO.4.05.10005251557530.20647-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0005251918560.13610-100000@alnair.uio.no>

On Thu, 25 May 2000, Prof Brian D Ripley wrote:

>Yes, they are all quantized (all to ca 2^-31 or 2^-32).  Reason: that's
>all we can assume for integer arithmetic. 

Yes, indeed.

>That is perfectly
>sufficient for a *stable* procedure for using them. As I said before, I
>don't think the algorithm you have for making use of them is adequate.  
>Now, you haven't actually told us how you are generating numbers from your
>distribution (and you haven't actually defined the distribution precisely
>enough so that I could program it), but I guess you are using inversion.  
>Don't: it is not adequate for your purposes.

Aha, now I understand! 
Indeed, I use inversion. My (cumulative) distribution function is 
F(mu) = 1 - 0.25 * mu^-2, for mu >= 0.5 and 0 for mu < 0.
I have inverted it, to get the 1 / (2 * sqrt(1 - p) quantile function,
then I use runif(n) for the p.

>  You want to make use of
>several random numbers if you want behaviour in the far tail.
>Alternatively, you could plug in a generator that had a lower quantization.
>
>The moral is a familiar one: computer results are almost always
>approximate, and you always have to watch out for the effects of the
>approximations.

Yes, it is a valuable lesson to learn. It is not that often the effects of
the approximation are that glaring. I'm thinking about if I can live with
this approximation in this case.

I guess I should have a more thorough look into it nevertheless. My lack
of training in statistics strikes again, I have based my analysis on a
brief discussion in Dudewicz & Mishra's "Modern Mathematical
Statistics". If someone can recommend a text that discuss this topic, I
would be very happy...
 
Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 25 20:20:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 May 2000 20:20:54 +0200
Subject: [R] problem on upgrading to RH6.2 (Update)
In-Reply-To: "Christian Posse"'s message of "Thu, 25 May 2000 09:03:56 -0700"
References: <200005250939.MAA21213@khatkhat.ecology.helsinki.fi> <002501bfc662$d5492ae0$b0ed0e18@sttln1.wa.home.com>
Message-ID: <x2ya4yebjt.fsf@blueberry.kubism.ku.dk>

"Christian Posse" <posse at talariainc.com> writes:

> The situation is far worse  with the version of R built by myself
> after having downloaded the *.tgz file from statlib. With this
> version, R base works fine, but impossible to load successfully
> any library, even the one in the base packages
> (Just in case, the R-base*src.rpm provides the same source code
> and therefore I got the same problems).
> 
> Note, my PC is pure vanilla. I just got it brand new and  I installed
> RH6.2. Then I tried to build R and got all these problems.
> RH6.2 comes with
> 
> <18>root at cuky/R: gcc --version
> egcs-2.91.66
> 
> How can I compare that with what Peter Dalgaard wrote
> ( I have been confused for a long time between the different
> brands of gcc, true gcc or egcs flavor).

[pd at blueberry pd]$ rpm -q egcs    
egcs-1.1.2-30
[pd at blueberry pd]$ gcc --version
egcs-2.91.66

It's the same one. So it's pretty odd that you cannot build the
packaces supplied with R (I assume "make check" fails?). That has
worked for me all the time. I don't think I have anything out of the
ordinary in my setup, except

$ more .Rconf 
CFLAGS="-Wall -g -O2"
FFLAGS="-Wall -g -O2"


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu May 25 21:25:14 2000
From: gb at stat.umu.se (gb)
Date: Thu, 25 May 2000 21:25:14 +0200 (CEST)
Subject: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <Pine.LNX.4.21.0005242012330.27454-100000@pc16.stat.umu.se>
Message-ID: <Pine.LNX.4.21.0005252113280.30253-100000@pc16.stat.umu.se>


I have got two late answers to this question, from Mai Zhou and Bendix
Carstensen. Both point out a 'trick': Use  coxph  to fit a model with
no covariates and ask for the 'baseline hazard' of that fit!  
Unlike  survfit,  coxph  allows for left truncated data.

Thanks to both!

G?ran

> On Sun, 21 May 2000, gb wrote:
> 
> > 
> > Is there a function somewhere for estimating the survivor function
> > (plus confidence limits) when data are both left truncated and right
> > censored?  survfit in  survival5  doesn't like left truncation.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu May 25 22:05:29 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 26 May 2000 08:05:29 +1200
Subject: [R] axis function
In-Reply-To: <C12568EA.00329A14.00@limagrain.ftgin.com>; from zivan.karaman@limagrain.com on Thu, May 25, 2000 at 11:15:35AM +0200
References: <C12568EA.00329A14.00@limagrain.ftgin.com>
Message-ID: <20000526080529.A19040@stat1.stat.auckland.ac.nz>

On Thu, May 25, 2000 at 11:15:35AM +0200, zivan.karaman at limagrain.com wrote:
> In S-PLUS, the 'axis' function accepts some arguments that don't exist in the R
> counterpart.
> 
> The two that I'm interested in right now are 'pos' and 'ticks'.
> 
> Any suggestions on how obtain the same result with R?

There is no built-in support at the moment, but it is not too
hard to create a function to do the job using abline(), segments()
and text() (if it was early in the semester, I'd give it to my
class as homework :-).

I am poking about in the axis function at the moment and I will
add these parameters.  Hopefully they will be in the next release.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From frohne at gci.net  Thu May 25 22:30:20 2000
From: frohne at gci.net (Ivan Frohne)
Date: Thu, 25 May 2000 12:30:20 -0800
Subject: [R] Needed: Understading runif() output :-)
In-Reply-To: <Pine.OSF.4.21.0005251435160.13610-100000@alnair.uio.no>
Message-ID: <4.3.2.7.0.20000525120709.00aa9100@mail.gci.net>

At 06:38 25-05-00, Kjetil Kjernsmo wrote:
>Dear all,
>
>I have been trying to understand what runif() is telling me.
>I am generating lots of numbers (billions and billions (wow, I've dreamed
>about saying that for many years... :-) ), for a distribution that has the
>following quantile function:
>     1 / (2 * sqrt(1 - p))
>(that is, the distribution has a lower cutoff)
>As you can imagine, this has rather heavy upper tail. I was looking at the
>largest values, and it looked as if the largest values appeared again and
>again. Now, it wasn't in itself that large values were strange, since I'm
>generating so many numbers, but that the largest were very much larger
>than the second largest numbers, and that exactly the same number appeared
>again and again. First I thought it was a bug, and I'm sorry to have
>wasted r-devels time with a bug report.
>
>I started running the same simulation with different RNGs and they all
>seem to generate numbers in "quantized states". Then, I started to look
>into what runif() gives, and let it print 13 digits.
>In the below output, I use the "Mersenne-Twister" RNG and I have generated
>1e+10 numbers (100000 at a time) and I print a line if it the number is
>above 10000 (my dist, the left coloumn), the right coloumn are runif()
>the corresponding outputs.
>[1] 3.276800000000e+04 9.999999997672e-01
>[1] 13377.479981919865     0.999999998603
>[1] 1.158523750296e+04 9.999999981374e-01
>[1] 1.036215143684e+04 9.999999976717e-01
>[1] 1.158523750296e+04 9.999999981374e-01
>[1] 1.036215143684e+04 9.999999976717e-01
>[1] 1.036215143684e+04 9.999999976717e-01
>[1] 13377.479981919865     0.999999998603
>
>So, it seems that the runif() outputs are "quantized" too. The question
>is: What is the reason for this?


Mersenne Twister pseudo-random numbers are based on 32-bit
unsigned integers.  R uses 64-bit doubles, and if you want all
bits random, you need to combine two uniforms.  Something like

x <- (1.0 - 2^-32) * first.uniform + 2 ^ -32 * second.uniform

should work.  For efficiency, use the actual values of the two
constants, and make first.uniform and second.uniform vectors of
1000 or more uniforms.

--Ivan Frohne

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Thu May 25 23:49:19 2000
From: posse at talariainc.com (Christian Posse)
Date: Thu, 25 May 2000 14:49:19 -0700
Subject: [R] problem on upgrading to RH6.2 (One solution)
References: <200005250939.MAA21213@khatkhat.ecology.helsinki.fi> <002501bfc662$d5492ae0$b0ed0e18@sttln1.wa.home.com> <x2ya4yebjt.fsf@blueberry.kubism.ku.dk>
Message-ID: <004101bfc693$14f73260$b0ed0e18@sttln1.wa.home.com>

I finally found a way around though the underlying problem
persists. It seems that the problem is with g77. Only
the packages using FORTRAN failed to be loaded correctly
in either way (R from rpm or built from scratch).

The solution was to build R from the source using the flag

--with-f2c

with ./configure.

All contrib packages installed with this version of R are loaded 
correctly and, as far as I can superficially see, work.
make check gives positive feedback.

Has anyone encountered the same problem?
Christian

----- Original Message ----- 
From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
To: "Christian Posse" <posse at talariainc.com>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Thursday, May 25, 2000 11:20 AM
Subject: Re: [R] problem on upgrading to RH6.2 (Update)


> "Christian Posse" <posse at talariainc.com> writes:
> 
> > The situation is far worse  with the version of R built by myself
> > after having downloaded the *.tgz file from statlib. With this
> > version, R base works fine, but impossible to load successfully
> > any library, even the one in the base packages
> > (Just in case, the R-base*src.rpm provides the same source code
> > and therefore I got the same problems).
> > 
> > Note, my PC is pure vanilla. I just got it brand new and  I installed
> > RH6.2. Then I tried to build R and got all these problems.
> > RH6.2 comes with
> > 
> > <18>root at cuky/R: gcc --version
> > egcs-2.91.66
> > 
> > How can I compare that with what Peter Dalgaard wrote
> > ( I have been confused for a long time between the different
> > brands of gcc, true gcc or egcs flavor).
> 
> [pd at blueberry pd]$ rpm -q egcs    
> egcs-1.1.2-30
> [pd at blueberry pd]$ gcc --version
> egcs-2.91.66
> 
> It's the same one. So it's pretty odd that you cannot build the
> packaces supplied with R (I assume "make check" fails?). That has
> worked for me all the time. I don't think I have anything out of the
> ordinary in my setup, except
> 
> $ more .Rconf 
> CFLAGS="-Wall -g -O2"
> FFLAGS="-Wall -g -O2"
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri May 26 00:02:23 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 25 May 2000 18:02:23 -0400 (EDT)
Subject: [R] axis function
In-Reply-To: <C12568EA.00329A14.00@limagrain.ftgin.com>
Message-ID: <Pine.LNX.4.10.10005251741110.1202-100000@bolker.zoo.ufl.edu>

On Thu, 25 May 2000 zivan.karaman at limagrain.com wrote:

> In S-PLUS, the 'axis' function accepts some arguments that don't exist
> in the R counterpart.
> 
> The two that I'm interested in right now are 'pos' and 'ticks'.
> 
> Any suggestions on how obtain the same result with R?
> 

Good news and bad news.
The good news: you can pass any graphics parameter to 'axis', including
"tck" (tick length--if set to zero this eliminates ticks) and "mgp" (which
is a three-place vector that sets the position of axis title, labels, and
lines respectively).

The bad news: only the second element of mgp (label position) seems to
have any effect (R 1.0.0, RH 6.0).  This looks like a couple of bugs ...

## examples

par(mfrow=c(2,2))
## ticks on y-axis but not x-axis
plot(c(0,1),c(0,1),axes=FALSE)
axis(side=1,tck=0)
axis(side=2)

## attempt to move x-title in toward plot, doesn't work
plot(c(0,1),c(0,1),axes=FALSE)
axis(side=1,mgp=c(1,1,1),labels=FALSE)
axis(side=2,lwd=2)

## move x-labels away from plot
plot(c(0,1),c(0,1),axes=FALSE)
axis(side=1,mgp=c(1,4,1))
axis(side=2,lwd=2)

## try to move x-axis line, doesn't work
plot(c(0,1),c(0,1),axes=FALSE)
axis(side=1,mgp=c(1,1,4))
axis(side=2,lwd=2)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Fri May 26 07:01:47 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Fri, 26 May 2000 08:01:47 +0300
Subject: [R] problem on upgrading to RH6.2 (One solution) 
In-Reply-To: Message from "Christian Posse" <posse@talariainc.com> 
   of "Thu, 25 May 2000 14:49:19 PDT." <004101bfc693$14f73260$b0ed0e18@sttln1.wa.home.com> 
Message-ID: <200005260501.IAA23897@khatkhat.ecology.helsinki.fi>


posse at talariainc.com said:
> I finally found a way around though the underlying problem persists.
> It seems that the problem is with g77. Only the packages using FORTRAN
> failed to be loaded correctly in either way (R from rpm or built from
> scratch).

> The solution was to build R from the source using the flag

> --with-f2c

> with ./configure.

> All contrib packages installed with this version of R are loaded
> correctly and, as far as I can superficially see, work. make check
> gives positive feedback. 

I am not sure this is safe. At least I was warned when I used a similar shortcut some years ago when I had some trouble with g77 on MS-DOS (djgpp port). g77 used to apply f2c libraries in her childhood, but has grown independent since then and so the libraries forked (libf2c and libf2g). I think that there *may* be a danger of strange behaviour in some other places if we just resort to drop in f2c-libraries in g77, and at worst, this behaviour remains undetected. 

Not all Fortran fails. For instance, MASS (or all of VR_*) loads (and runs) beautifully, although it uses many Fortran routines.

cheers, Jari Oksanen
-- 
"Infinite variety of Nature, that is pure myth. It is not found in
Nature herself. It resides in the imagination, or fancy, or cultivated
blindness of the man who looks at her." Oscar Wilde

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Fri May 26 07:50:23 2000
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Fri, 26 May 2000 07:50:23 +0200
Subject: [R] Kaplan-Meier for left truncated data?
References: <Pine.LNX.4.21.0005252113280.30253-100000@pc16.stat.umu.se>
Message-ID: <000e01bfc6d6$49c65960$acc643c3@oemcomputer>

R-users!

How do I ask for the 'baseline hazard' of a coxph fit??

Fredrik Lundgren
----- Ursprungligt meddelande ----- 
Fr?n: "gb" <gb at stat.umu.se>
Till: <r-help at stat.math.ethz.ch>
Skickat: den 25 maj 2000 21:25
?mne: Re: [R] Kaplan-Meier for left truncated data?


> 
> I have got two late answers to this question, from Mai Zhou and Bendix
> Carstensen. Both point out a 'trick': Use  coxph  to fit a model with
> no covariates and ask for the 'baseline hazard' of that fit!  
> Unlike  survfit,  coxph  allows for left truncated data.
> 
> Thanks to both!
> 
> G?ran
> 
> > On Sun, 21 May 2000, gb wrote:
> > 
> > > 
> > > Is there a function somewhere for estimating the survivor function
> > > (plus confidence limits) when data are both left truncated and right
> > > censored?  survfit in  survival5  doesn't like left truncation.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 26 08:25:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 26 May 2000 07:25:50 +0100 (BST)
Subject: [R] problem on upgrading to RH6.2 (One solution) 
In-Reply-To: <200005260501.IAA23897@khatkhat.ecology.helsinki.fi>
Message-ID: <Pine.GSO.4.05.10005260708400.25838-100000@auk.stats>

On Fri, 26 May 2000, Jari Oksanen wrote:

> 
> posse at talariainc.com said:
> > I finally found a way around though the underlying problem persists.
> > It seems that the problem is with g77. Only the packages using FORTRAN
> > failed to be loaded correctly in either way (R from rpm or built from
> > scratch).
> 
> > The solution was to build R from the source using the flag
> 
> > --with-f2c
> 
> > with ./configure.
> 
> > All contrib packages installed with this version of R are loaded
> > correctly and, as far as I can superficially see, work. make check
> > gives positive feedback. 
> 
> I am not sure this is safe. At least I was warned when I used a 
similar shortcut some years ago when I had some trouble with g77 
on MS-DOS (djgpp port). g77 used to apply f2c libraries in her 
childhood, but has grown independent since then and so the libraries 
forked (libf2c and libf2g). I think that there *may* be a danger of 
strange behaviour in some other places if we just resort to drop 
in f2c-libraries in g77, and at worst, this behaviour remains undetected. 

I think you mean libg2c.a.  That's not what --with-f2c does though:
it forces the installation routines to translate Fortran to C and then use
the C compiler on them.  That is, it uses f2c not just its libraries.

However, I still don't think this is a good idea. f2c + C accepts lots of
code that is not valid Fortran, so in particular is a bad idea for anyone
developing code.  And f2c makes lots of assumptions about how the Fortran
compiler should operate that are not always true of the real compiler.
(Trailing underlines, passing character strings in C style, for two.)  
More generally, a real Fortran compiler should generate better code (and on
the main platforms used for scientific computing the Fortran compilers have
had enormous effort expended on them, whereas g77 seems a poor cousin to
gcc).

> Not all Fortran fails. For instance, MASS (or all of VR_*) loads 
> (and runs) beautifully, although it uses many Fortran routines.

MASS does not use Fortran on R.  The S-PLUS versions do, but I donated the
relevant code to modreg in R.  (And VR_* would not be valid Fortran
symbols.)

The problem here is that it appears that the Fortran system on (some?)
RH6.2 installations is broken.  My reaction whenever that happens on Linux
(far too frequently to be comfortable) is to get the latest version, so I
would suggest using gcc 2.95.2 which has been around and stable for quite a
while.  (BTW, g77 in egcs-1.1.2 aka 2.91.66 had problems on both Solaris
and Windows with R, so I was relieved to its passing.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri May 26 08:37:08 2000
From: gb at stat.umu.se (gb)
Date: Fri, 26 May 2000 08:37:08 +0200 (CEST)
Subject: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <000e01bfc6d6$49c65960$acc643c3@oemcomputer>
Message-ID: <Pine.LNX.4.21.0005260835040.30807-100000@pc16.stat.umu.se>

On Fri, 26 May 2000, Fredrik Lundgren wrote:

> R-users!
> 
> How do I ask for the 'baseline hazard' of a coxph fit??

This interesting:

> start <- c(1,2,1,1)
> stopp <- c(3,4,5,6)
> event <- c(1,1,1,1)
> library(survival5)
> survfit(Surv(start, stopp, event))
Error in survfit.km(X, Y, casewt, ...) : Can only handle right censored
data

Does not work :-(

> res <- coxph(Surv(start, stopp, event) ~ 1)
> survfit(res)

Is ok! :-)

G?ran

> 
> Fredrik Lundgren
> ----- Ursprungligt meddelande ----- 
> Fr?n: "gb" <gb at stat.umu.se>
> Till: <r-help at stat.math.ethz.ch>
> Skickat: den 25 maj 2000 21:25
> ?mne: Re: [R] Kaplan-Meier for left truncated data?
> 
> 
> > 
> > I have got two late answers to this question, from Mai Zhou and Bendix
> > Carstensen. Both point out a 'trick': Use  coxph  to fit a model with
> > no covariates and ask for the 'baseline hazard' of that fit!  
> > Unlike  survfit,  coxph  allows for left truncated data.
> > 
> > Thanks to both!
> > 
> > G?ran
> > 
> > > On Sun, 21 May 2000, gb wrote:
> > > 
> > > > 
> > > > Is there a function somewhere for estimating the survivor function
> > > > (plus confidence limits) when data are both left truncated and right
> > > > censored?  survfit in  survival5  doesn't like left truncation.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
 G?ran Brostr?m, professor           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 26 08:50:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 26 May 2000 07:50:37 +0100 (BST)
Subject: [R] axis function
In-Reply-To: <Pine.LNX.4.10.10005251741110.1202-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.05.10005260730530.25838-100000@auk.stats>

On Thu, 25 May 2000, Ben Bolker wrote:

> On Thu, 25 May 2000 zivan.karaman at limagrain.com wrote:
> 
> > In S-PLUS, the 'axis' function accepts some arguments that don't exist
> > in the R counterpart.
> > 
> > The two that I'm interested in right now are 'pos' and 'ticks'.
> > 
> > Any suggestions on how obtain the same result with R?
> > 
> 
> Good news and bad news.
> The good news: you can pass any graphics parameter to 'axis', including
> "tck" (tick length--if set to zero this eliminates ticks) and "mgp" (which
> is a three-place vector that sets the position of axis title, labels, and
> lines respectively).
> 
> The bad news: only the second element of mgp (label position) seems to
> have any effect (R 1.0.0, RH 6.0).  This looks like a couple of bugs ...

pos has nothing to do with mgp: it is the position on the plot in user
coordinates. Bill Venables reported it as lacking to R-bugs a little while
ago. The problem is that the current R code has hard-coded the axis labels
to be in the margins, not in the plot area itself.  pos is used to, for
example, put an axis in the middle of a plot region. For example

plot(c(0,1),c(-0.5,,1),axes=FALSE, xaxs="i")
axis(side=1, pos=0)
axis(side=2)

in S puts an axis at y=0.

> ## examples
> 
> par(mfrow=c(2,2))
> ## ticks on y-axis but not x-axis
> plot(c(0,1),c(0,1),axes=FALSE)
> axis(side=1,tck=0)
> axis(side=2)

That is not what ticks=F does, either. It omits the axis line too and just
plots the labels.

plot(c(0,1),c(0,1),axes=FALSE)   
axis(side=1, ticks=FALSE)

gives an axis with 0.0  ...  1.0  and nothing else.

> ## attempt to move x-title in toward plot, doesn't work
> plot(c(0,1),c(0,1),axes=FALSE)
> axis(side=1,mgp=c(1,1,1),labels=FALSE)
> axis(side=2,lwd=2)

That's not a bug. It is plot not axis that puts the x-title on. Try

plot(c(0,1),c(0,1),axes=FALSE, mgp=c(1,1,1))
axis(side=1,mgp=c(1,1,1),labels=FALSE)
 
> ## move x-labels away from plot
> plot(c(0,1),c(0,1),axes=FALSE)
> axis(side=1,mgp=c(1,4,1))
> axis(side=2,lwd=2)
> 
> ## try to move x-axis line, doesn't work
> plot(c(0,1),c(0,1),axes=FALSE)
> axis(side=1,mgp=c(1,1,4))
> axis(side=2,lwd=2)

True.  In S that can also be done by argument line, that moves the axis
as a whole (including ticks and labels), and mgp[3] measures the
displacement from the line as moved by line=foo.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karamian at cyceron.fr  Fri May 26 11:31:10 2000
From: karamian at cyceron.fr (karamian)
Date: Fri, 26 May 2000 11:31:10 +0200
Subject: [R] 3D plotting
Message-ID: <392E445E.8127BAB6@cyceron.fr>

Hi ,

I wanted to know it is possible to do 3D plotting with R.

If it is possible what shall I do?


   * Are there special packages to install?
   * Where can I find them?

Thanks a lot for your help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000526/d179d2f0/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: karamian.vcf
Type: text/x-vcard
Size: 331 bytes
Desc: Card for karamian
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000526/d179d2f0/karamian.vcf

From uli at biochem.dshs-koeln.de  Fri May 26 12:34:02 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Fri, 26 May 2000 12:34:02 +0200 (CEST)
Subject: [R] 3D plotting
In-Reply-To: <392E445E.8127BAB6@cyceron.fr>
Message-ID: <Pine.LNX.3.95.1000526121630.16218B-100000@pcinternet.biochem.dshs-koeln.de>

Karamian,

R provides the possibility of perspective plots, which are one kind of
3D graphics. Look at the documentation for "persp()", or just type
"example(persp)".

On the other hand there is a extremely powerful software package named
"xgobi" which can do a lot of (dynamic) 3D plotting.

You will find it at http://www.research.att.com/areas/stat/xgobi.

There is a R interface to xgobi available from CRAN.

I had (and still have) some problems with building the newest
xgobi version from source. It seems to be a bit sophisticated concerning
the libraries on my system. So when you are using linux, I think you
should make sure that you don't have a too old distrbution.

Good luck ...


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri May 26 12:44:15 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 26 May 2000 22:44:15 +1200
Subject: [R] 3D plotting
References: <392E445E.8127BAB6@cyceron.fr>
Message-ID: <392E557F.D5131762@xtra.co.nz>

karamian wrote:

> Hi ,
>
> I wanted to know it is possible to do 3D plotting with R.

What kind of 3D plotting?
If you mean 3D scatterplot, Uwe Ligges has a packge which can be
downloaded from http://www.statistik.uni-dortmund.de/leute/ligges.htm

If you mean contour or perspective 3D drawing, have a look at
help(persp), or:
> ?persp

This is all I can suggest from your description, since I'm not quite
sure as to what "kind" of 3D plotting you are talking about, if you know
what I mean...

Cheers,

Ko-Kang

>
>
> If it is possible what shall I do?
>
>
>    * Are there special packages to install?
>    * Where can I find them?
>
> Thanks a lot for your help

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri May 26 13:35:33 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 26 May 2000 07:35:33 -0400 (EDT)
Subject: [R] 3D plotting
Message-ID: <200005261135.HAA02433@cattell.psych.upenn.edu>

One way to do 3-D plotting was just told to me by Kaspar
Pflugshaupt, in response to my earlier question about
parallel coordinate displays.  It is to get the xgobi
package.  There are two parts to it.  One is the R
package, which you get from CRAN, under "Contributed
code."  You download this and install it according to
the directions for installing packages.  (For me, that
was simply "R INSTALL xgobi" on the linux command line.)
But that is just the R interface.  You also need xgobi
itself.  The web page for it is
http://lib.stat.cmu.edu/general/XGobi/
This does 3-D graphs, rotations, etc.  Very nice.

Only the newer versions do parallel coodinate displays.
Unfortunately for me, the rpm for Linux that exists in
http://www.rpmfind.net/linux/RPM/
is out of date and does not include this, so I will have
to install the newer version by hand.  Haven't done this
yet.  But I have installed the RPM, and it does work
very nicely.  Of course, on the R command line, you have
to say
library(xgobi)
and then the command to invoke it is
xgobi(matrix) where "matrix" is the data set you want to
display.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri May 26 14:01:06 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 26 May 2000 14:01:06 +0200
Subject: [R] 3D plotting
Message-ID: <3.0.32.20000526140106.0090d7b0@162.38.183.200>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1224 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000526/edc0c3d1/attachment.bin

From edd at debian.org  Fri May 26 14:31:23 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 26 May 2000 08:31:23 -0400
Subject: [R] problem on upgrading to RH6.2 (One solution)
In-Reply-To: <Pine.GSO.4.05.10005260708400.25838-100000@auk.stats>; from ripley@stats.ox.ac.uk on Fri, May 26, 2000 at 07:25:50AM +0100
References: <200005260501.IAA23897@khatkhat.ecology.helsinki.fi> <Pine.GSO.4.05.10005260708400.25838-100000@auk.stats>
Message-ID: <20000526083123.A24808@eddelbuettel.com>


On Fri, May 26, 2000 at 07:25:50AM +0100, Prof Brian D Ripley wrote:
> The problem here is that it appears that the Fortran system on (some?)
> RH6.2 installations is broken.  My reaction whenever that happens on Linux
> (far too frequently to be comfortable) is to get the latest version, so I

Linux != Red Hat 

Don't trash all of Linux only because some dists don't get development
systems right. Trash those dists, and recommend one that works. 

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri May 26 16:43:41 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 26 May 2000 10:43:41 -0400
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
Message-ID: <OF9EDF7711.989174F8-ON852568EA.004C3ECF@hgsi.com>

Hello,
I was wondering if anyone have encountered an invalid page fault by cutting
and pasting into R (or using the command line editing) - seems to happen at
the same address 017f:7fc0c9da.
Here is the relevant information:

RGUI caused an invalid page fault in
module CRTDLL.DLL at 017f:7fc0c9da.
Registers:
EAX=00431de0 CS=017f EIP=7fc0c9da EFLGS=00010206
EBX=00431db4 SS=0187 ESP=0253f754 EBP=0253f75c
ECX=3fee9c00 DS=0187 ESI=0045cffe FS=6437
EDX=00000001 ES=0187 EDI=0045c168 GS=0000
Bytes at CS:EIP:
f3 a5 ff 24 95 e4 c9 c0 7f 90 1c ca c0 7f 18 ca
Stack dump:
00432c77 00431db4 0253f78c 10007b33 00431de0 00432c76 ffbd1389 000003a4
00431db4 00000001 00431db4 000002db 00cc0020 00437070 0253f7bc 10007ba0

I am using ver 1.0.0 on a Windows98 platform.
TIA.
Partha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 26 16:45:31 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 26 May 2000 07:45:31 -0700 (PDT)
Subject: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <000e01bfc6d6$49c65960$acc643c3@oemcomputer>
Message-ID: <Pine.GSO.4.21.0005260741060.4254-100000@atlas.biostat.washington.edu>

On Fri, 26 May 2000, Fredrik Lundgren wrote:

> R-users!
> 
> How do I ask for the 'baseline hazard' of a coxph fit??

One way is to take -log of the survival function
    survfit(a.coxph.fit)$surv
gives the survival function at the mean covariates, so
   -log(survfit(a.coxph.fit)$surv)
gives the hazard at the mean covariates.

Many people define the baseline hazard as the hazard at all covariates=0
in which case you need to supply these values to survfit. This can be
numerically unstable and in any case is usually not what you really want.

	-thomas


> 
> Fredrik Lundgren
> ----- Ursprungligt meddelande ----- 
> Frn: "gb" <gb at stat.umu.se>
> Till: <r-help at stat.math.ethz.ch>
> Skickat: den 25 maj 2000 21:25
> mne: Re: [R] Kaplan-Meier for left truncated data?
> 
> 
> > 
> > I have got two late answers to this question, from Mai Zhou and Bendix
> > Carstensen. Both point out a 'trick': Use  coxph  to fit a model with
> > no covariates and ask for the 'baseline hazard' of that fit!  
> > Unlike  survfit,  coxph  allows for left truncated data.
> > 
> > Thanks to both!
> > 
> > Gran
> > 
> > > On Sun, 21 May 2000, gb wrote:
> > > 
> > > > 
> > > > Is there a function somewhere for estimating the survivor function
> > > > (plus confidence limits) when data are both left truncated and right
> > > > censored?  survfit in  survival5  doesn't like left truncation.
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 26 17:02:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 May 2000 17:02:16 +0200
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
In-Reply-To: partha_bagchi@hgsi.com's message of "Fri, 26 May 2000 10:43:41 -0400"
References: <OF9EDF7711.989174F8-ON852568EA.004C3ECF@hgsi.com>
Message-ID: <x2d7m9e4nb.fsf@blueberry.kubism.ku.dk>

partha_bagchi at hgsi.com writes:

> Hello,
> I was wondering if anyone have encountered an invalid page fault by cutting
> and pasting into R (or using the command line editing) - seems to happen at
> the same address 017f:7fc0c9da.
> Here is the relevant information:
....
> I am using ver 1.0.0 on a Windows98 platform.
> TIA.
> Partha.

A bug matching that description was zapped in 1.0.1.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 26 17:16:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 26 May 2000 16:16:20 +0100 (BST)
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
Message-ID: <200005261516.QAA27050@toucan.stats.ox.ac.uk>

Usual answer, I'm afraid.  There were some fixes in that area
for 1.0.1, so please try upgrading.  If that does not work, we need to
know exactly what you were pasting, and what you had done before
(which is how thanks to Uwe Ligges we found the fix we did).

>From: partha_bagchi at hgsi.com
>Date: Fri, 26 May 2000 10:43:41 -0400
>
>I was wondering if anyone have encountered an invalid page fault by cutting
>and pasting into R (or using the command line editing) - seems to happen at
>the same address 017f:7fc0c9da.

[...]

Unfortunately that address in CRTDLL.DLL, and your CRTDLL.DLL won't
be the same as mine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Fri May 26 19:51:14 2000
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Fri, 26 May 2000 19:51:14 +0200
Subject: SV: [R] Kaplan-Meier for left truncated data?
References: <Pine.GSO.4.21.0005260741060.4254-100000@atlas.biostat.washington.edu>
Message-ID: <003901bfc73b$41a82640$b0c643c3@oemcomputer>

summary of "How do I ask for the 'baseline hazard' of a coxph fit??"

Thank you to Thomas Lumley, Brian Ripley, G?ran Bodstr?m and Bendix Cartensen for their tips to use 
plot(survfit(a.coxph.fit)). Thomas Lumley suggests that to get the "real baseline hazard" I should use
-log(survfit(a.coxph.fit)$surv) and set all covariates=0
in which case I need to supply these values to survfit. But how do you supply covariate values to survfit?
Shouldn't  they be supplied to coxph in some way?

Fredrik Lundgren

"Thomas Lumley wrote may 26 2000 "

> One way is to take -log of the survival function
>     survfit(a.coxph.fit)$surv
> gives the survival function at the mean covariates, so
>    -log(survfit(a.coxph.fit)$surv)
> gives the hazard at the mean covariates.
> 
> Many people define the baseline hazard as the hazard at all covariates=0
> in which case you need to supply these values to survfit. This can be
> numerically unstable and in any case is usually not what you really want.
> 
> -thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri May 26 19:44:15 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 26 May 2000 13:44:15 -0400
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
Message-ID: <OF38863CDE.678ED60B-ON852568EB.00601F21@hgsi.com>


Thanks for the quick response Prof. Ripley. I will try to upgrade over the
holidays. In the meantime, I will try to reproduce the page fault.
Unfortunately, it does not happen at the same place at all times. I have
noticed that, cut and paste from window's notepad did not produce the fault
while it did while doing so from the Programmer's File Editor 1.01 (beware
though since my sample sizes are small). It happen sometimes while simply
doing command line editing.
BTW: doing a quickview of CRTDLL.DLL shows (on my system) in the Export
table that
for the ordinal 017f, the entry point is 0000be95 and the name is fwscanf
Does that help any?
 TIA.
Partha.




                                                                                                       
                    Prof Brian                                                                         
                    Ripley               To:     r-help at stat.math.ethz.ch, partha_bagchi at hgsi.com      
                    <ripley at stats        cc:                                                           
                    .ox.ac.uk>           Subject:     Re: [R] Invalid Page fault - R ver 1.0.0 on      
                                         Windows98 SE                                                  
                    05/26/00                                                                           
                    11:16 AM                                                                           
                    Please                                                                             
                    respond to                                                                         
                    Prof Brian                                                                         
                    Ripley                                                                             
                                                                                                       
                                                                                                       




Usual answer, I'm afraid.  There were some fixes in that area
for 1.0.1, so please try upgrading.  If that does not work, we need to
know exactly what you were pasting, and what you had done before
(which is how thanks to Uwe Ligges we found the fix we did).

>From: partha_bagchi at hgsi.com
>Date: Fri, 26 May 2000 10:43:41 -0400
>
>I was wondering if anyone have encountered an invalid page fault by
cutting
>and pasting into R (or using the command line editing) - seems to happen
at
>the same address 017f:7fc0c9da.

[...]

Unfortunately that address in CRTDLL.DLL, and your CRTDLL.DLL won't
be the same as mine.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri May 26 19:54:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 26 May 2000 10:54:59 -0700 (PDT)
Subject: SV: [R] Kaplan-Meier for left truncated data?
In-Reply-To: <003901bfc73b$41a82640$b0c643c3@oemcomputer>
Message-ID: <Pine.GSO.4.21.0005261053390.4254-100000@atlas.biostat.washington.edu>

On Fri, 26 May 2000, Fredrik Lundgren wrote:

> summary of "How do I ask for the 'baseline hazard' of a coxph fit??"
> 
> Thank you to Thomas Lumley, Brian Ripley, Gran Bodstrm and Bendix
> Cartensen for their tips to use plot(survfit(a.coxph.fit)). Thomas
> Lumley suggests that to get the "real baseline hazard" I should use
> -log(survfit(a.coxph.fit)$surv) and set all covariates=0 in which case
> I need to supply these values to survfit. But how do you supply
> covariate values to survfit? Shouldn't they be supplied to coxph in
> some way?

No, to survfit.  coxph fits the model, it doesn't care what you do to it
afterwards.  If you look at the documentation for survfit() it has a
data= argument to specify which covariates values you want the survival
curve for.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 26 21:25:42 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 26 May 2000 21:25:42 +0200
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
References: <OF38863CDE.678ED60B-ON852568EB.00601F21@hgsi.com>
Message-ID: <392ECFB6.536A382A@statistik.uni-dortmund.de>

partha_bagchi at hgsi.com wrote:
> 
> Thanks for the quick response Prof. Ripley. I will try to upgrade over the
> holidays. In the meantime, I will try to reproduce the page fault.
> Unfortunately, it does not happen at the same place at all times. I have
> noticed that, cut and paste from window's notepad did not produce the fault
> while it did while doing so from the Programmer's File Editor 1.01 (beware
> though since my sample sizes are small). It happen sometimes while simply
> doing command line editing.
> BTW: doing a quickview of CRTDLL.DLL shows (on my system) in the Export
> table that
> for the ordinal 017f, the entry point is 0000be95 and the name is fwscanf
> Does that help any?
>  TIA.

It seems to be the bug mentioned by Prof Brian D Ripley.
The problem is not pasting (I also thought this would be the problem at
first), but a problem with the command history.
If you have got a big number of short lines, i.e. more than 512 lines
with less than 16kB in your history, R-1.0.0 crashes sometimes.

I do not understand why you don't want to upgrade at once. Upgrading
takes mostly less time than writing this mail ;-).

A quick workaround (so the next 512 lines will): Delete your file
.Rhistory .

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri May 26 23:05:37 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 27 May 2000 09:05:37 +1200
Subject: [R] 3D plotting
References: <392E445E.8127BAB6@cyceron.fr> <392E557F.D5131762@xtra.co.nz> <392E61D8.620D6416@cyceron.fr>
Message-ID: <392EE720.78D369B@xtra.co.nz>

I had a look at your ps file and I'm not sure whether persp() can do it or not.  I would
suspect Uwe Ligges scatterplot3d can do it, give it a try.

Alternatively you can send the file into R list and see if anyone knows how to plot that.

Cheers,

Ko-Kang

karamian wrote:

> Ko-Kang Wang wrote:
>
> > karamian wrote:
> >
> > > Hi ,
> > >
> > > I wanted to know it is possible to do 3D plotting with R.
> >
> > What kind of 3D plotting?
> > If you mean 3D scatterplot, Uwe Ligges has a packge which can be
> > downloaded from http://www.statistik.uni-dortmund.de/leute/ligges.htm
> >
> > If you mean contour or perspective 3D drawing, have a look at
> > help(persp), or:
> > > ?persp
> >
> > This is all I can suggest from your description, since I'm not quite
> > sure as to what "kind" of 3D plotting you are talking about, if you know
> > what I mean...
> >
> > Cheers,
> >
> > Ko-Kang
> >
> > >
> > >
> > > If it is possible what shall I do?
> > >
> > >
> > >    * Are there special packages to install?
> > >    * Where can I find them?
> > >
> > > Thanks a lot for your help
> >
> > --
> > -----------------------------------------------------------------------------------
> >
> >  Ko-Kang Wang
> >  Undergraduate Student
> >  Computer Science/Statistics Double Major
> >  University of Auckland
> >  Auckland 1005
> >  New Zealand
> > -----------------------------------------------------------------------------------
>
> In fact, I 've got a file with datas. first colum concen x_axis_data, second colum
> y_axis_data and the third one z_aris_data. I want to plot this dats in 3Dimensional
> plot, and project these datas on the three planes that are  X-Y_palne, X-Z _plane and
> Y-Z_plane. And adding other files 3D_plotted too using different colors to distinguish
> them.
>
> Do you thing, that could be possible.
>
> For Information , I managed to plot these datas without being abble to project them
> on  X-Y_palne, X-Z _plane and Y-Z_plane using gnuplot.
>
> So for a better understanding, I attached the figure
>
>   ------------------------------------------------------------------------
>                     Name: hist3d.moy.ps
>    hist3d.moy.ps    Type: Postscript Document (application/postscript)
>                 Encoding: 7bit

--
-----------------------------------------------------------------------------------
 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From posse at talariainc.com  Sat May 27 02:41:12 2000
From: posse at talariainc.com (Christian Posse)
Date: Fri, 26 May 2000 17:41:12 -0700
Subject: [R] RH6,2  / make check / f2c
References: <Pine.GSO.4.05.10005260708400.25838-100000@auk.stats>
Message-ID: <001b01bfc774$42c05d20$b0ed0e18@sttln1.wa.home.com>

I would like first to thank Prof. Ripley for his hint.

R 1.01 built from the source and all contrib packages
work fine when using gcc-2.95.x  Too bad RedHat
stopped shipping it along ecgs since 5.2.

Two questions come from all the comments:

- is f2c unsafe? I was not able to find any comment
in the R distribution about what I just learned from
Prof Ripley and Oksanen. This would be certainly
an enlightening admission.

- My earlier installation of R with f2c produces
no error  when checking with "make check".
Can I conlcude that I had a safe installation?

Thanks again for any help.
Christian


----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Jari Oksanen" <jhoksane at ecology.helsinki.fi>
Cc: "Christian Posse" <posse at talariainc.com>; "r-help"
<r-help at stat.math.ethz.ch>
Sent: Thursday, May 25, 2000 11:25 PM
Subject: Re: [R] problem on upgrading to RH6.2 (One solution)


> On Fri, 26 May 2000, Jari Oksanen wrote:
>
> >
> > posse at talariainc.com said:
> > > I finally found a way around though the underlying problem persists.
> > > It seems that the problem is with g77. Only the packages using FORTRAN
> > > failed to be loaded correctly in either way (R from rpm or built from
> > > scratch).
> >
> > > The solution was to build R from the source using the flag
> >
> > > --with-f2c
> >
> > > with ./configure.
> >
> > > All contrib packages installed with this version of R are loaded
> > > correctly and, as far as I can superficially see, work. make check
> > > gives positive feedback.
> >
> > I am not sure this is safe. At least I was warned when I used a
> similar shortcut some years ago when I had some trouble with g77
> on MS-DOS (djgpp port). g77 used to apply f2c libraries in her
> childhood, but has grown independent since then and so the libraries
> forked (libf2c and libf2g). I think that there *may* be a danger of
> strange behaviour in some other places if we just resort to drop
> in f2c-libraries in g77, and at worst, this behaviour remains undetected.
>
> I think you mean libg2c.a.  That's not what --with-f2c does though:
> it forces the installation routines to translate Fortran to C and then use
> the C compiler on them.  That is, it uses f2c not just its libraries.
>
> However, I still don't think this is a good idea. f2c + C accepts lots of
> code that is not valid Fortran, so in particular is a bad idea for anyone
> developing code.  And f2c makes lots of assumptions about how the Fortran
> compiler should operate that are not always true of the real compiler.
> (Trailing underlines, passing character strings in C style, for two.)
> More generally, a real Fortran compiler should generate better code (and
on
> the main platforms used for scientific computing the Fortran compilers
have
> had enormous effort expended on them, whereas g77 seems a poor cousin to
> gcc).
>
> > Not all Fortran fails. For instance, MASS (or all of VR_*) loads
> > (and runs) beautifully, although it uses many Fortran routines.
>
> MASS does not use Fortran on R.  The S-PLUS versions do, but I donated the
> relevant code to modreg in R.  (And VR_* would not be valid Fortran
> symbols.)
>
> The problem here is that it appears that the Fortran system on (some?)
> RH6.2 installations is broken.  My reaction whenever that happens on Linux
> (far too frequently to be comfortable) is to get the latest version, so I
> would suggest using gcc 2.95.2 which has been around and stable for quite
a
> while.  (BTW, g77 in egcs-1.1.2 aka 2.91.66 had problems on both Solaris
> and Windows with R, so I was relieved to its passing.)
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 27 07:51:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 27 May 2000 06:51:36 +0100 (BST)
Subject: [R] RH6,2  / make check / f2c
In-Reply-To: <001b01bfc774$42c05d20$b0ed0e18@sttln1.wa.home.com>
Message-ID: <Pine.GSO.4.05.10005270642180.864-100000@auk.stats>

On Fri, 26 May 2000, Christian Posse wrote:

> I would like first to thank Prof. Ripley for his hint.
> 
> R 1.01 built from the source and all contrib packages
> work fine when using gcc-2.95.x  Too bad RedHat
> stopped shipping it along ecgs since 5.2.
> 
> Two questions come from all the comments:
> 
> - is f2c unsafe? I was not able to find any comment
> in the R distribution about what I just learned from
> Prof Ripley and Oksanen. This would be certainly
> an enlightening admission.

I think it is slightly unsafe: see below.

> - My earlier installation of R with f2c produces
> no error  when checking with "make check".
> Can I conlcude that I had a safe installation?

Probably.  Unfortunately few things in make check test that you get the
right answer, just that things ran.  A few do, hence the reports on
R-bugs of errors in example(eigen) on some machines.  The problem is that
there are so many machine-accuracy points that it is hard to write
tests that will pass on all reasonable installations and fail on all
problematic ones.  (We, especially Martin Maechler, do try.)

My worry is as follows. If you configure R with f2c, it uses f2c for all
the contributed/local packages.  We have seen examples of packages that
compiled and ran under f2c even though the source code was not valid
Fortran and did not do what its author intended when translated.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Sun May 28 11:34:13 2000
From: mase at is.titech.ac.jp (Shigeru Mase)
Date: Sun, 28 May 2000 18:34:13 +0900
Subject: [R] Japanese in R
In-Reply-To: <013401bfc44e$afe5a820$175dd882@stat.auckland.ac.nz>
References: <20000520003036K.mase@is.titech.ac.jp>
	<013401bfc44e$afe5a820$175dd882@stat.auckland.ac.nz>
Message-ID: <20000528183413D.mase@is.titech.ac.jp>


Dear Paul, 

paul> 
paul> I think it should be possible for you to press a Japanese key on your
paul> keyboard and have the appropriate Japanese character drawn by the Hershey
paul> font.  However, at least one necessary condition will be that your
paul> keypresses are encoded by the computer using the same encoding that the
paul> Hershey fonts use, which is JIS X0208 standard.  Do you know how your
paul> keypresses are encoded ?
paul> 
paul> Just out of interest, I presume that the Japanese keys represent Kana rather
paul> than Kanji.  Is that right and if so, how do you normally type Kanji
paul> characters on a computer ?
paul> 
paul> paul

Thank you for your kind information on the Hershey fonts facility of R.
It may be boring for a majority of R users to know details on the Japanese 
character system, but let me explain a little. In order to be widely used 
in non-English countries and among non-statisticians, R cannot avoid such 
subtle problems. 

I am afraid not to be able to reply your questions with confidence, because 
I am fairly ignorant of details of internal computer mechanism of handling 
Japanese fonts. I am using the Debian GNU/Linux (potato) on a PC which is 
partially Japanized from the first by volunteer experts. A font utility tool 
taught me that my default Japanese encoding system is the JIS x0212. Also I 
found my PC already has the JIS x0208 fonts which Paul said to be equivalent 
to the Hershey fonts. Apparently, their appearances are similar to those in 
the display output of example(Japanese). They looks fairly good even on a PC 
display (sorry, I could not still check their printouts). The main difference 
between JIS x0212 and JIS x0208 fonts is the width of component lines of 
fonts. The JIS x0208 fonts consist of the same thin lines (as the Hershey 
fonts should be) and JIS x0208 fonts have variable width lines. Originally 
Japanese fonts were drawn by a kind of brush and, hence, are designed to 
have variable-widths naturally. 

As Paul seems to know well, there are several font systems used in parallel
in Japan. Kanji (meaning Chinese characters) fonts are ideogram and originally 
were Chinese fonts (fairly a large part is still in common even now). 
Therefore there are extraordinary many kinds. Hershey fonts have 603 kanji 
fonts. This number is probably sufficient for most Japanese to live comfortably. 
But our Ministry of Education has the opinion that every Japanese school children 
should learn to read and write 881 Kanjis and that every decent Japanese citizens 
should read (not necessarily should be able to write) at least 1850 Kanjis. 
JIS (Japanese Industrial Standards) presently requires for Japanese PC to be 
able to use about 3000 Kanjis (will be extended finally to about 4,000 kinds in 
future). Absurd, you may think, but we are lucky enough if compared with Chinese 
who should conquer much larger kinds of Chinese characters. (It is said that 
there are about 50,000 kinds of Chinese characters including historical ones which 
were at least once used.) You may think that the so-called "unicode" system will
solve these worldwide language problems. But we are skeptic about such scope. 
Recently, a Japanese software company began to sell a new OS for PC (a descendent 
of TRON, an OS of Japanese origin which is secretly and widely used as OS of japanese 
domestic electric machines) which is proud of its builtin facility of handling about 
120,000 world fonts (including Egyptian hieroglyphs :-) from the first as OS level. 
This would be certainly a final solution in a sense.

The situation is even more complex. In order to handle Japanese in computers, there 
are several (a least 4 kinds) encoding systems used simultaneously. Most PC (e.g., 
with MS-Windows) use the Shift-JIS encoding, while most Unix machine (including Linux 
PC) uses the JIS encoding (and internally using the EUC encoding). In old times, 
mainframe machines such as IBM's used another encoding systems. Therefore, even 
Japanese frequently finds impossible to read files created by others.

Other three fonts are phonograms. Hirakana and Katakana fonts (about 50 kinds each)  
were originally abbreviated styles of certain Kanji fonts and they have one-to-one 
correspondence and the same pronunciations but quite different appearances. Why there 
are two, you may ask. The reason is simple :-). In old times (about 1,000 years ago), 
Katakana was used solely by men and Hirakana was used solely by women. Also after 
learning western culture, Japanese invented a system to denote Japanese using Roman 
alphabets (Romaji).

OK, I should hurry to reply Paul's question. Japanese PC keyboards (jp106 keyboards) 
have keys each of which have both a Roman alphabet and a Hirakana on the key tops.
Therefore we can input both Roman alphabets and Hirakanas directly. But, what are
actually inputted depends on each softwares (and, in particular, on their customizations).   
In order to convert alphabet or Hirakana inputs to actual Japanese characters, 
we need to use extra resident softwares (FEP, Front End Processor, we call) what 
translate (actually they make clever, sometime stupid, guessing) which Japanese fonts 
users atually want to need. In order to use these FEP, corresponding softwares should 
have builtin facilities to communicate with FEP internally (and, of course, to display 
or printout them). What is most difficult for Japanese users to use foreign softwares 
(free or commercial) is to implement such facilities into softwares. I am not completely 
certain, but this difficulty seems becoming less important due to the use of vector fonts 
(as GNU plotutil just does). Soryy, I have not yet test the MS Windows version of R.  
I myself am used to input alphabets (as Romaji) and then convert them wordwise (frequently 
by trial-and-error operations) using a FEP into what I actually need.

(It may be interesting for you to know that these inevitable complexities happened 
to become once a natural iron fort for Japanese computer industries to guard their 
markets from American giant computer companies such as IBM. But, now, it is rather a 
curse to us.)   

Therefore, my reply to Paul's question is again that (probably) the only method to use 
the Hershey fonts from R is, at least at present, just to write escape sequence codes 
as in example(Japanese). This may be true even if I change my basic encoding system to 
JIS X0208. As I said before, this seems of minor inconvenience. No Japanese want to write 
R codes themselves by Japanese. And I can have a happy expect that we could use Japanese
in R more flexibly in future if some kind Japanese experts would japanize GNU plotutil 
program.

By the way, Japanese PC keyboards usually lack the backslash key. It is replaced by the 
Japanese "yen" symbol. But, this is not a problem. It normally works just as if it is the 
backslash symbol, although we are forced to see yen symbols over all around display :-)

PS. Paul, I have just translate "Hershey.html" into Japanese and noted that 
there are several "<CODE></CODE>" in it. I guess this should be "<CODE>/</CODE>", true?

================================================================
Shigeru Mase <mase at is.titech.ac.jp>
Dept. of Math. and Comp. Sciences, Tokyo Institute od Technology.
Oh-Okayama, 2-12-1, Meguro-ku, Tokyo, 152-8552, Japan
=================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sun May 28 18:19:16 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sun, 28 May 2000 17:19:16 +0100
Subject: [R] NA in C/C++
Message-ID: <393146FC.BB73B41F@EUnet.at>

Dear R-people

Sorry for asking a question only indirectly related to S/R but since
data containing NA values
can so easily be handled in S/R, and you can write functions for S/R in
C, my question is:
How do you handle data containing NA in C/C++ ?

Although I know that IEEE floating point arithmetics supports NaN and
Inf, I cannot find
any information about this (e.g. in any of my many C++ books)

Thank you in advance for your help
Christian Stratowa, Vienna


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 28 17:43:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 28 May 2000 16:43:46 +0100 (GMT Daylight Time)
Subject: [R] NA in C/C++
In-Reply-To: <393146FC.BB73B41F@EUnet.at>
Message-ID: <Pine.WNT.4.05.10005281639520.146-100000@tern.stats>

On Sun, 28 May 2000 cstrato at EUnet.at wrote:

> Dear R-people
> 
> Sorry for asking a question only indirectly related to S/R but since
> data containing NA values
> can so easily be handled in S/R, and you can write functions for S/R in
> C, my question is:
> How do you handle data containing NA in C/C++ ?
> 
> Although I know that IEEE floating point arithmetics supports NaN and
> Inf, I cannot find
> any information about this (e.g. in any of my many C++ books)
> 
> Thank you in advance for your help
> Christian Stratowa, Vienna

It's in Writing R Extensions (sections 3.7.3 and 4.4 in the copy I have to
hand, but it's in the concept index). You cannot assume in R that NA is
represented by an NaN, although on most machines it is.  Conversely, most
NaNs are not NA.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sun May 28 20:12:21 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sun, 28 May 2000 19:12:21 +0100
Subject: [R] NA in C/C++
References: <Pine.WNT.4.05.10005281639520.146-100000@tern.stats>
Message-ID: <3931617B.666F307@EUnet.at>

Dear Prof Ripley

Thank you very much for your fast response. I did not realize that meanwhile
CRAN has official documents.

Section 3.7.3 mentions macros in "Arith.h" for handling NAs.
I assume that these macros can also be used in normal C programs.

>From your answer I assume that C-libraries like the  STL-library are normally

not able to deal with NAs?

Best regards
Christian Stratowa


Prof Brian D Ripley wrote:

> On Sun, 28 May 2000 cstrato at EUnet.at wrote:
>
> > Dear R-people
> >
> > Sorry for asking a question only indirectly related to S/R but since
> > data containing NA values
> > can so easily be handled in S/R, and you can write functions for S/R in
> > C, my question is:
> > How do you handle data containing NA in C/C++ ?
> >
> > Although I know that IEEE floating point arithmetics supports NaN and
> > Inf, I cannot find
> > any information about this (e.g. in any of my many C++ books)
> >
> > Thank you in advance for your help
> > Christian Stratowa, Vienna
>
> It's in Writing R Extensions (sections 3.7.3 and 4.4 in the copy I have to
> hand, but it's in the concept index). You cannot assume in R that NA is
> represented by an NaN, although on most machines it is.  Conversely, most
> NaNs are not NA.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 28 19:30:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 May 2000 19:30:32 +0200
Subject: [R] NA in C/C++
In-Reply-To: Prof Brian D Ripley's message of "Sun, 28 May 2000 16:43:46 +0100 (GMT Daylight Time)"
References: <Pine.WNT.4.05.10005281639520.146-100000@tern.stats>
Message-ID: <x2r9amy43r.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > Although I know that IEEE floating point arithmetics supports NaN and
> > Inf, I cannot find
> > any information about this (e.g. in any of my many C++ books)
...
> It's in Writing R Extensions (sections 3.7.3 and 4.4 in the copy I have to
> hand, but it's in the concept index). You cannot assume in R that NA is
> represented by an NaN, although on most machines it is.  Conversely, most
> NaNs are not NA.

Perhaps it is necessary to be a little more specific here: The IEEE
NaN is not a single value, but a set of values characterized by having
an all-ones exponent and a non-zero significand (the cases with a zero
significand are +Inf and -Inf). Have a look at

http://www.linuxsupportline.com/~billm/index.html

for the details.

The double NA in R on IEEE-supporting systems is the NaN with
significand 1954 (no, I don't know who was born that year...). 

However integers have no definition of NaN, so NaInt is INT_MIN and
for systems that don't support IEEE, we have some special hacks too.
Have a look in src/include/R_ext/Arith.h and src/main/arithmetic.c. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sun May 28 21:19:25 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sun, 28 May 2000 20:19:25 +0100
Subject: [R] NA in C/C++
References: <Pine.WNT.4.05.10005281639520.146-100000@tern.stats> <x2r9amy43r.fsf@blueberry.kubism.ku.dk>
Message-ID: <39317122.700E8974@EUnet.at>

Dear Dr. Dalgaard

Thank you, too, for your fast response.

I have checked the web-site you mentioned. There is a function:
    int isnan(floating-type x)
for floating point numbers, which I could use.
For integers I will check Arith.h and Arithmetic.c

Best regards
Christian Stratowa


Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
>
> > > Although I know that IEEE floating point arithmetics supports NaN and
> > > Inf, I cannot find
> > > any information about this (e.g. in any of my many C++ books)
> ...
> > It's in Writing R Extensions (sections 3.7.3 and 4.4 in the copy I have to
> > hand, but it's in the concept index). You cannot assume in R that NA is
> > represented by an NaN, although on most machines it is.  Conversely, most
> > NaNs are not NA.
>
> Perhaps it is necessary to be a little more specific here: The IEEE
> NaN is not a single value, but a set of values characterized by having
> an all-ones exponent and a non-zero significand (the cases with a zero
> significand are +Inf and -Inf). Have a look at
>
> http://www.linuxsupportline.com/~billm/index.html
>
> for the details.
>
> The double NA in R on IEEE-supporting systems is the NaN with
> significand 1954 (no, I don't know who was born that year...).
>
> However integers have no definition of NaN, so NaInt is INT_MIN and
> for systems that don't support IEEE, we have some special hacks too.
> Have a look in src/include/R_ext/Arith.h and src/main/arithmetic.c.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 28 21:48:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 28 May 2000 20:48:10 +0100 (BST)
Subject: [R] NA in C/C++
In-Reply-To: <39317122.700E8974@EUnet.at>
Message-ID: <Pine.GSO.4.05.10005282040390.5562-100000@auk.stats>

On Sun, 28 May 2000 cstrato at EUnet.at wrote:

> Dear Dr. Dalgaard
> 
> Thank you, too, for your fast response.
> 
> I have checked the web-site you mentioned. There is a function:
>     int isnan(floating-type x)
> for floating point numbers, which I could use.
> For integers I will check Arith.h and Arithmetic.c

Unfortunately, we found isnan is not 100% reliable.  R defines

int R_IsNaNorNA(double);

for that purpose, and makes sure it works on all the platforms.
(Note that some platforms that have isnan are marked as non-IEEE
by the configure process.)

My memory is that the real mess came with finite() and Inf/-Inf (at least
one compiler had Inf < 3 true), but we also had problems with isnan
returning a value which differed from true (as in 1 == 1).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon May 29 07:04:34 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 29 May 2000 17:04:34 +1200
Subject: [R] Density Estimation
In-Reply-To: <393146FC.BB73B41F@EUnet.at>
Message-ID: <200005290505.RAA07001@gosset.stats.waikato.ac.nz>

I'm looking for a way to do something like Kernel Density Estimation in R.
I have some very big sets of things like packet interarrival times and
would like to make plots of the estimated density function.

Can anyone help me?


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 29 08:05:27 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 May 2000 07:05:27 +0100 (BST)
Subject: [R] Density Estimation
In-Reply-To: <200005290505.RAA07001@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.10005290658190.13870-100000@auk.stats>

On Mon, 29 May 2000, Murray Jorgensen wrote:

> I'm looking for a way to do something like Kernel Density Estimation in R.
> I have some very big sets of things like packet interarrival times and
> would like to make plots of the estimated density function.
> 
> Can anyone help me?

Well, R itself has density, and the MASS library has bandwidth selection
techniques for it.  That should work well for large datasets (up to the
limits of R, anyway).   A similar and perhaps even more capable
approach is binning as taken by the library KernSmooth, an R version of
which is packaged on CRAN.  logspline and locfit (also on CRAN) have
more sophisticated approaches to density estimation.

There are comparisons and details of what is available in V&R3 and in
particular in our on-line statistics complements.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Mon May 29 08:52:48 2000
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Mon, 29 May 2000 08:52:48 +0200
Subject: [R] computing ranks in subgroups
Message-ID: <C4D44AB4CB62D311BA6500041202E886263FE0@xms1.tirol.gv.at>

Dear R-users!

I am using R 1.0.0 and Windows NT 4.0. I want to compute ranks for the
values of a variable, in several subgroups of a data.frame.
Currently I use:
> #example:
> x <- data.frame(group=c("A","A","B","A","B","B","A"),
val=c(10,3,9,3,5,1,7))
> x
  group val
1     A  10
2     A   3
3     B   9
4     A   3
5     B   5
6     B   1
7     A   7
> x.new<-x[order(x$group),  ]
> x.new$valgroupranks <- unlist(tapply(x.new$val, x.new$group, rank))
> x.new
  group val valgroupranks
1     A  10           4.0
2     A   3           1.5
4     A   3           1.5
7     A   7           3.0
3     B   9           3.0
5     B   5           2.0
6     B   1           1.0
> 
This seems to work, but I wonder if there is a more "natural" (simple?) way
to do that?

Heinrich..
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 29 09:17:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 May 2000 08:17:44 +0100 (BST)
Subject: [R] computing ranks in subgroups
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886263FE0@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.05.10005290814350.14010-100000@auk.stats>

On Mon, 29 May 2000, RINNER Heinrich wrote:

> Dear R-users!
> 
> I am using R 1.0.0 and Windows NT 4.0. I want to compute ranks for the
> values of a variable, in several subgroups of a data.frame.
> Currently I use:
> > #example:
> > x <- data.frame(group=c("A","A","B","A","B","B","A"),
> val=c(10,3,9,3,5,1,7))
> > x
>   group val
> 1     A  10
> 2     A   3
> 3     B   9
> 4     A   3
> 5     B   5
> 6     B   1
> 7     A   7
> > x.new<-x[order(x$group),  ]
> > x.new$valgroupranks <- unlist(tapply(x.new$val, x.new$group, rank))
> > x.new
>   group val valgroupranks
> 1     A  10           4.0
> 2     A   3           1.5
> 4     A   3           1.5
> 7     A   7           3.0
> 3     B   9           3.0
> 5     B   5           2.0
> 6     B   1           1.0
> > 
> This seems to work, but I wonder if there is a more "natural" (simple?) way
> to do that?

Look at by():

> by(x[2], x$group, rank)
x$group: A
[1] 4.0 1.5 1.5 3.0
------------------------------------------------------------ 
x$group: B
[1] 3 2 1

> c(by(x[2], x$group, rank),  recursive=T)
 A1  A2  A3  A4  B1  B2  B3 
4.0 1.5 1.5 3.0 3.0 2.0 1.0 



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon May 29 09:37:35 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 29 May 2000 09:37:35 +0200 (CEST)
Subject: [R] Japanese in R --> work with *.Rd files !?
In-Reply-To: <20000528183413D.mase@is.titech.ac.jp>
References: <20000520003036K.mase@is.titech.ac.jp>
	<013401bfc44e$afe5a820$175dd882@stat.auckland.ac.nz>
	<20000528183413D.mase@is.titech.ac.jp>
Message-ID: <14642.7743.853378.107572@gargle.gargle.HOWL>

>>>>> "Shigeru" == Shigeru Mase <mase at is.titech.ac.jp> writes:

    Shigeru> Dear Paul,

    paul>  I think it should be possible for you to press a Japanese key on
    paul> your keyboard and have the appropriate Japanese character drawn
    paul> by the Hershey font.  However, at least one necessary condition
    paul> will be that your keypresses are encoded by the computer using
    paul> the same encoding that the Hershey fonts use, which is JIS X0208
    paul> standard.  Do you know how your keypresses are encoded ?
    paul> 
    paul> Just out of interest, I presume that the Japanese keys represent
    paul> Kana rather than Kanji.  Is that right and if so, how do you
    paul> normally type Kanji characters on a computer ?
    paul> 
    paul> paul

    Shigeru> Thank you for your kind information on the Hershey fonts
    Shigeru> facility of R.  It may be boring for a majority of R users to
    Shigeru> know details on the Japanese character system, but let me
    Shigeru> explain a little. In order to be widely used in non-English
    Shigeru> countries and among non-statisticians, R cannot avoid such
    Shigeru> subtle problems.


	     ... omitted ...
		 (but interesting for me, even as only a European
		  interested in languages)

    Shigeru> PS. Paul, I have just translate "Hershey.html" into Japanese
    Shigeru> and noted that there are several "<CODE></CODE>" in it. I
    Shigeru> guess this should be "<CODE>/</CODE>", true?

Please consider:  

 The HTML files are *NOT* the original documentation!
 In particular, they don't have the full mathematical formulae where
 available.

 The source of all the help files are the *.Rd files
 from which  html /  text / latex and R example files are
 created at "installation time" -- from the source version of R.

 { If you have only worked with binary distributions of R :
   These `Rd' ("R documentation") files are in src/library/<pkg>/man/*.Rd
   where <pkg> stands for  base , ctest, eda, ...., ts.
 }

So it really would make sense to translate these *.Rd files
and further "(inter)nationalize" the (Perl) file "etc/Rdconvlib.pl"
which is used [from src/scripts/Rdconv ] to produce the 4 different output
formats from the Rd input.
You'd have to translate things like  
      "Arguments:",  "Description:",  "Examples:", ....

--
Should we (R core) consider internationalizing these Rdtools ?
Are there helping volunteers from R users 
    (e.g. for French, Japanese, Spanish, ...? 
    [R core can provide Danish, Italian & German at least]

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon May 29 14:40:15 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 29 May 2000 14:40:15 +0200 (CEST)
Subject: [R] LaTeX \varrho
Message-ID: <Pine.LNX.4.21.0005291438190.24786-100000@artemis.imbe.med.uni-erlangen.de>


Hi,

plot( <whatever> , xlab=expression(rho))

works fine and plots LaTeX's \rho. How can I plot \varrho ?

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 29 16:00:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 May 2000 15:00:54 +0100 (BST)
Subject: [R] LaTeX \varrho
In-Reply-To: <Pine.LNX.4.21.0005291438190.24786-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.GSO.4.05.10005291454120.25613-100000@auk.stats>

On Mon, 29 May 2000, Torsten Hothorn wrote:

> 
> Hi,
> 
> plot( <whatever> , xlab=expression(rho))
> 
> works fine and plots LaTeX's \rho. How can I plot \varrho ?

Don't think so.  What you get depends on the output device, but I think
you get PostScript's symbol font's rho.  (On my system, on both postscript
and x11 devices.)  That font does not have the equivalent of varrho
(although it does for varpsi).

The usual answer is to use pstricks with LaTeX to post-process the output.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Mon May 29 16:46:31 2000
From: jmc at research.bell-labs.com (John Chambers)
Date: Mon, 29 May 2000 10:46:31 -0400 (EDT)
Subject: [R] NA in C/C++
References: <Pine.GSO.4.05.10005282040390.5562-100000@auk.stats>
Message-ID: <200005291446.KAA14521@jessie.research.bell-labs.com>

A few general comments.

The IEEE 754 floating-point standard is one of the more striking
successes in getting computer hardware to be more useful for those who
program.  There are, of course, glitches, both in non-compliance and
in holes in the standard, but if we can work within the standard as
far as possible, while complaining about the glitches, we'll be better
off, and C/C++ software produced will be more likely to port
gracefully to other environments.

>From that view, using C routines that are part of the standard (while
perhaps overriding them on machines that don't conform) has advantages
inside your own C/C++ code, IF that code is not intrinsically R/S
dependent.  So isnan() would be better in that case, R_IsNaNorNA()
better for code that is R-dependent.

Where it makes sense, there is also an advantage to doing the relevant
testing in the S language and passing the result to the C code, either
directly, say as a logical vector argument, or indirectly by doing the
selection outside and leaving the C code to just grind away on the
selected subset of the data.  Within the S language, is.na() is the
best test, because it deals with either floating point or integer
data.

Anyone interested in the relevance of the standard, or just a read
through some insightful if eccentric ranting about numerical
computation generally should eventually encounter W. Kahan, "the
father of IEEE 754".

There is a directory on the web at the Berkeley CS department:
  www.cs.berkeley.edu/%7Ewkahan/ieee754status/
All the papers in that directory are worth looking at, allowing
for Kahan's legendary rages at all those who failed his standards.
Having had the privilege (well, looking back on it anyway) of taking a
course from Kahan, I can verify that his personality comes across well
in the papers.

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tin.it  Mon May 29 17:13:40 2000
From: stecalza at tin.it (Stefano Calza)
Date: Mon, 29 May 2000 17:13:40 +0200
Subject: [R] Latex & R
Message-ID: <39328924.157D2E68@tin.it>

Hi,
is there a function/library like print.display by F.Harrel for R?
BTW Harrel clearly states in the reame that "you may not port the
library to R" ...

Thanks,
Stefano.

-- 
***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 29 17:26:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 May 2000 16:26:37 +0100 (BST)
Subject: [R] NA in C/C++
In-Reply-To: <200005291446.KAA14521@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.05.10005291558440.9230-100000@auk.stats>

On Mon, 29 May 2000, John Chambers wrote:

> A few general comments.
> 
> The IEEE 754 floating-point standard is one of the more striking
> successes in getting computer hardware to be more useful for those who
> program.  There are, of course, glitches, both in non-compliance and
> in holes in the standard, but if we can work within the standard as
> far as possible, while complaining about the glitches, we'll be better
> off, and C/C++ software produced will be more likely to port
> gracefully to other environments.
> 
> From that view, using C routines that are part of the standard (while
> perhaps overriding them on machines that don't conform) has advantages
> inside your own C/C++ code, IF that code is not intrinsically R/S
> dependent.  So isnan() would be better in that case, R_IsNaNorNA()
> better for code that is R-dependent.

Since John may not have read *all* the R code yet, that is precisely what
R_IsNaNorNA is: a wrapper for isnan on machines which have a working
isnan, and something else otherwise. Namely:

#ifdef IEEE_754

int R_IsNaNorNA(double x)
{
/* NOTE: some systems do not return 1 for TRUE. */
    return (isnan(x) != 0);
}
#else
....

where IEEE_754 is only set after testing (somewhat) functionality.

For finite, which is buggier, the 1997 draft revision to the 
ANSI C standard promised isfinite and defined it tightly.  It's just that
neither that revision not isfinite seem to be making any progress.

One thing the R project keeps on teaching me is the importance of
pragmatism here: a large proportion of the bug-fixing time is actually
bug-avoidance over all of an increasing range of machines.  Even so. I was
unprepared for the truth of Inf < 3 on Visual C++ ! I would prefer to be
pragmatic with correct answers than purist with wrong ones.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon May 29 18:04:21 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 29 May 2000 12:04:21 -0400 (EDT)
Subject: [R] including ESS and R packages in the SuSE Linux distribution
Message-ID: <Pine.LNX.4.21.0005282234000.426-100000@Chrestomanci.home.earth>

Dear R and ESS people,

On a better late than never note...

Some weeks ago I circulated a message asking if people would be interested
in asking SuSE Linux to include R and ESS in their Linux distribution.
Shortly afterwards, I discovered that R-base would be included in SuSE
6.4. However, it is not clear whether SuSE would be supporting all the
contributed packages as well (probably not). So I decided to change my
letter to ask SuSE to include ESS and the R contrib packages in their
distribution as well.

The letter I propose to send follows below. The signatories listed are all
people who expressed a willingness to have their name attached to such a
letter. I am sending this message out again to the R-help and ESS mailing
lists, as well as the signatories. If you would like your name added to
the letter, please let me know. 

If you are one of the signatories and would like modifications in the
letter, make changes and send them to me. If (heaven forbid) you want your
name removed, let me know. In particular, you may want to modify what
appears after your name. I have used the information I have available,
which in most cases is just address and email. If you have some impressive
titles you might want to add them.

I will circulate modifications to the signatories one more time before
sending it to SuSE.

By the way, the appropriate email address to send this seems to be
feedback at suse.de. Does anyone have any other ideas?

                                     Sincerely, Faheem Mitha.

*****************************************************************************

Dear SuSE Team, 

We are writing to you about the high -quality, free statistical analysis
package R, and the associated package ESS (Emacs Speaks Statistics).

We greatly appreciate the fact that SuSE has recently added (as of version
6.4) R-base to the excellent and comprehensive SuSE distribution. In light
of this, perhaps you would consider:

a) Including ESS in your distribution. ESS is a natural companion to R on
any Unix platform, since it provides an enhanced Emacs mode which is a
nice interface between Emacs and a number of other statistical packages,
including R and Splus.

(NOTE: this phrasing could be improved. Would some expert care to rephrase
it?)

b) Including the numerous R contributed packages which are not part of
R-base in your distribution. These contributed packages are an integral
part of R. Note that R-base, ESS and all the R- contrib packages together
occupy no more diskspace than other free, high-quality, scientific
packages already present in your distribution such as Octave or Scilab.

The benefits of a) and b) would be two-fold.

On the one hand, it would be a tremendous convenience to people (like
ourselves) who are already using SuSE Linux and R.

On the other hand, it would benefit SuSE Linux, since it would increase
the probability that statisticians and others wanting to use R would
choose SuSE Linux as their distribution. SuSE already has the edge over
most other distributions in terms of inclusion of scientific software.

Albrecht Gebhardt has been kind enough to give of his time in making SuSE
rpms for R and ESS. However, he cannot be expected to do so indefinitely.  
The rpms are available on CRAN (Comprehensive R Archive Network) at, for
example, http://lib.stat.cmu.edu/R/CRAN/bin/linux/suse/ . You could use
these to assist you in integrating R and ESS into the SuSE distribution.

                             Sincerely, 
                                      
          Ramon Diaz-Uriarte, Dept. Zoology and Statistics
          University of Wisconsin-Madison, Madison, WI 53706
          email: rdiazuri at students.wisc.edu

          Albrecht Gebhardt, Institut fuer Mathematik, 
          Universitaet Klagenfurt, Villacher Str. 161, A-9020
          Klagenfurt, Austria. 
          email: albrecht.gebhardt at uni-klu.ac.at 

          Christian W. Hoffmann, Mathematics and Statistical Computing
          Landscape Modeling and Web Applications,            
          Swiss Federal Institute for Forest, Snow and Landscape Research, 
          CH-8903 Birmensdorf, Switzerland
          e-mail: Hoffmann at WSL.CH

          Rich Heiberger, ESS maintainer,
          email: rmh at surfer.sbm.temple.edu

          Martin Maechler, member of R core and "ESS core"
          Seminar fuer Statistik, ETH-Zentrum  LEO D10 Leonhardstr. 27, 
          ETH (Federal Inst. Technology)  8092, Zurich SWITZERLAND
          email: maechler at stat.math.ethz.ch

          Frank  Ritter, School of Information Sciences and Technology
          former developer of s-mode for Emacs (1990-1992?)  
          assoc. prof. of Information Sciences and Technology
          assoc. prof of psychology, assoc. prof. of computer scienc
          The Pennsylvania State University, 
          University Park, PA 16801-3857
          email: ritter at ist.psu.edu
      
          Faheem Mitha, Dept. of Statistics,
          University of North Carolina at Chapel Hill,                    
          Chapel Hill, NC 27599-3260 
          email: faheem at email.unc.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nortonm at magellan.umontreal.ca  Mon May 29 19:02:42 2000
From: nortonm at magellan.umontreal.ca (Matthew Norton)
Date: Mon, 29 May 2000 13:02:42 EDT
Subject: [R] a question about sgeostat
Message-ID: <200005291701.NAA26274573@jason.MAGELLAN.UMontreal.CA>


I know hese sorts of questions should be addressed directly to the author of
the extensions, but since I'm in a bit of a rush, I thought I'd fire this
out to the group at large.  Furthermore, one of the problems I'm having
seems to be indenpendent of the packages themselves (I think, but I'm not
sure).

When I try to load the library sgeostat, it tries to load the tripack
library, but seems to fail.  If I try to load the tripack library first, it
seems to be unhappy as well, but sgeostat then loads without trouble.  I'll
give you examples:


> library(sgeostat)
Loading required package: mva
Loading required package: tripack
Error in library.dynam("tripack") : dynamic library `tripack' not found
>library(tripack)
>

  ...............  or 

> library(tripack)
Error in library.dynam("tripack") : dynamic library `tripack' not found
> library(sgeostat)
Loading required package: mva
>


Does anyone have any idea as to what the problem may be here?

The second little problem I've been running across is the following.  The
function dist() is included in the sgeostat library, and at times after
I've been working away for some time in R, all of a sudden I'm informed
that "the function dist() is not found".  However, if I type:

>dist

I get a list of all the source code in the function, which tells me that
the library is still loaded into memory.  Furthermore, typing
">library(sgeostat)" doesn't seem to reload the library and function. 
Especially weird is the fact that I can even quit the program, log out, log
back in and reload R, and the same error will occur.  When this happens, I
have to reboot in order to get the library to work properly. Any ideas why
such a function might suddenly be no longer available?

In closing, I guess I should mention that I'm running R under Linux
(Mandrake 7.0) Version 1.0.1  (April 14, 2000).

Thanks in advance,

Matt



-- 
Matthew Norton
nortonm at magellan.umontreal.ca 
D?pt. des Sciences Biologiques, Universit? de Montr?al
C.P. 6128 Succ. centre-ville,  Montr?al, Qc H3C 3J7
(514) 343-6111 x1233
__________________________________________________________________
"If we're going to go down, we're going to go down fighting; fighting
together, fighting each other; fighting somebody."  Craig Hartsburg.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 29 19:24:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 29 May 2000 18:24:24 +0100 (BST)
Subject: [R] a question about sgeostat
In-Reply-To: <200005291701.NAA26274573@jason.MAGELLAN.UMontreal.CA>
Message-ID: <Pine.GSO.4.05.10005291815410.21375-100000@auk.stats>

On Mon, 29 May 2000, Matthew Norton wrote:

> I know hese sorts of questions should be addressed directly to the author of
> the extensions, but since I'm in a bit of a rush, I thought I'd fire this
> out to the group at large.  Furthermore, one of the problems I'm having
> seems to be indenpendent of the packages themselves (I think, but I'm not
> sure).

The first thing to establish is theat R CMD check works for all the
packages here. If you do that when you install them, you save a lot
of future bother.  I suspect that it not the case for your installations.
 
> When I try to load the library sgeostat, it tries to load the tripack
> library, but seems to fail.  If I try to load the tripack library first, it
> seems to be unhappy as well, but sgeostat then loads without trouble.  I'll
> give you examples:
> 
> 
> > library(sgeostat)
> Loading required package: mva
> Loading required package: tripack
> Error in library.dynam("tripack") : dynamic library `tripack' not found
> >library(tripack)
> >
> 
>   ...............  or 
> 
> > library(tripack)
> Error in library.dynam("tripack") : dynamic library `tripack' not found
> > library(sgeostat)
> Loading required package: mva
> >
> 
> 
> Does anyone have any idea as to what the problem may be here?

No, but it is specific to your system.  Did you compile the package
yourself?  If so, were there any compile warnings?  The first thing to
check is if the tripack/libs/tripack.so is actually there. If not,
go back to installing tripack.  I strongly suspect that you are being
misled, as loading a package a second time in circumstances like this
often appears to succeed, and in fact does nothing.

> The second little problem I've been running across is the following.  The
> function dist() is included in the sgeostat library, and at times after
> I've been working away for some time in R, all of a sudden I'm informed
> that "the function dist() is not found".  However, if I type:

dist in mva, not sgeostat.  What informs you?  Does example(dist) work,
for example?

> >dist
> 
> I get a list of all the source code in the function, which tells me that
> the library is still loaded into memory.  Furthermore, typing
> ">library(sgeostat)" doesn't seem to reload the library and function. 

It will not reload anything that is already loaded (it thinks).

> Especially weird is the fact that I can even quit the program, log out, log
> back in and reload R, and the same error will occur.  When this happens, I
> have to reboot in order to get the library to work properly. Any ideas why
> such a function might suddenly be no longer available?
> 
> In closing, I guess I should mention that I'm running R under Linux
> (Mandrake 7.0) Version 1.0.1  (April 14, 2000).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon May 29 19:31:22 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 29 May 2000 19:31:22 +0200 (MET DST)
Subject: [R] Getting a vector of list component components...
Message-ID: <Pine.OSF.4.21.0005291920330.2028-100000@alnair.uio.no>

Dear all,

I have a list of htest objects, and I want a vector of e.g. p.values. Is
there a simple way of doing this...?
I got the desired result with 
apply(cbind(1:1000), 1, function(i) chisq1M11[[i]]$p.value)
but it doesn't seem very elegant to me... I was thinking along the lines
of chisq1M11[[]]$p.value, chisq1M11[[1:1000]]$p.value or something like
that.... Or using attach() in some way, or...

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 29 19:39:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 May 2000 19:39:30 +0200
Subject: [R] Getting a vector of list component components...
In-Reply-To: Kjetil Kjernsmo's message of "Mon, 29 May 2000 19:31:22 +0200 (MET DST)"
References: <Pine.OSF.4.21.0005291920330.2028-100000@alnair.uio.no>
Message-ID: <x2bt1p2r3h.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> Dear all,
> 
> I have a list of htest objects, and I want a vector of e.g. p.values. Is
> there a simple way of doing this...?
> I got the desired result with 
> apply(cbind(1:1000), 1, function(i) chisq1M11[[i]]$p.value)
> but it doesn't seem very elegant to me... I was thinking along the lines
> of chisq1M11[[]]$p.value, chisq1M11[[1:1000]]$p.value or something like
> that.... Or using attach() in some way, or...

How about

sapply(chisq1M11,function(x)x$p.value)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Mon May 29 22:31:17 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Mon, 29 May 2000 21:31:17 +0100
Subject: [R] NA in C/C++
References: <Pine.GSO.4.05.10005282040390.5562-100000@auk.stats> <200005291446.KAA14521@jessie.research.bell-labs.com>
Message-ID: <3932D382.B9B5D5A4@EUnet.at>

Dear experts

Thank you all for this interesting information. I have learned a lot and
hopefully can use it in C++.

A personal note: I liked especially the document:
http://www.cs.berkeley.edu/%7Ewkahan/ieee754status/754story.html
since it mentions SANE as one of the few environments supporting
the IEEE standard. The phonebook edition of "Inside Macintosh" was
my only source until now. Luckily I got from you now a lot of  information

on this issue.

Best regards
Christian Stratowa, Vienna


John Chambers wrote:

> A few general comments.
>
> The IEEE 754 floating-point standard is one of the more striking
> successes in getting computer hardware to be more useful for those who
> program.  There are, of course, glitches, both in non-compliance and
> in holes in the standard, but if we can work within the standard as
> far as possible, while complaining about the glitches, we'll be better
> off, and C/C++ software produced will be more likely to port
> gracefully to other environments.
>
> >From that view, using C routines that are part of the standard (while
> perhaps overriding them on machines that don't conform) has advantages
> inside your own C/C++ code, IF that code is not intrinsically R/S
> dependent.  So isnan() would be better in that case, R_IsNaNorNA()
> better for code that is R-dependent.
>
> Where it makes sense, there is also an advantage to doing the relevant
> testing in the S language and passing the result to the C code, either
> directly, say as a logical vector argument, or indirectly by doing the
> selection outside and leaving the C code to just grind away on the
> selected subset of the data.  Within the S language, is.na() is the
> best test, because it deals with either floating point or integer
> data.
>
> Anyone interested in the relevance of the standard, or just a read
> through some insightful if eccentric ranting about numerical
> computation generally should eventually encounter W. Kahan, "the
> father of IEEE 754".
>
> There is a directory on the web at the Berkeley CS department:
>   www.cs.berkeley.edu/%7Ewkahan/ieee754status/
> All the papers in that directory are worth looking at, allowing
> for Kahan's legendary rages at all those who failed his standards.
> Having had the privilege (well, looking back on it anyway) of taking a
> course from Kahan, I can verify that his personality comes across well
> in the papers.
>
> --
> John M. Chambers                  jmc at bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-2681
> 700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
> Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue May 30 00:49:49 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 30 May 2000 00:49:49 +0200 (CEST)
Subject: [R] a question about sgeostat
In-Reply-To: <Pine.GSO.4.05.10005291815410.21375-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0005300027360.4174-100000@epsilon.fuzzy.at>

On Mon, 29 May 2000, Prof Brian D Ripley wrote:

> On Mon, 29 May 2000, Matthew Norton wrote:
> 
> > I know hese sorts of questions should be addressed directly to the author of
> > the extensions, but since I'm in a bit of a rush, I thought I'd fire this
> > out to the group at large.  Furthermore, one of the problems I'm having
> > seems to be indenpendent of the packages themselves (I think, but I'm not
> > sure).
>
> .......
>
> No, but it is specific to your system.  Did you compile the package
> yourself?  If so, were there any compile warnings?  The first thing to
> check is if the tripack/libs/tripack.so is actually there. If not,
> go back to installing tripack.  I strongly suspect that you are being
> misled, as loading a package a second time in circumstances like this
> often appears to succeed, and in fact does nothing.
>

I just tried installing tripack on RedHat 6.2 (gcc 2.95.2) into a private
R_LIBS dir, the same thing:

> library(tripack,lib.loc="~/R-Lib-x86")
Error in library.dynam("tripack") : dynamic library `tripack' not found

But 

> library.dynam("tripack",lib.loc="~/R-Lib-x86") 

works and after rm(.lib.loc) and setting R_LIBS to "~/R-Lib-x86" it works
without errors via

> library(tripack)

So I guess you may also have some trouble with your R_LIBS variable?

Currently I'm doing a

.First.lib <- function(lib, pkg) library.dynam("tripack", pkg, lib)

in the tripack package. I think I have to modify it so that it works also
if called via library(tripack, lib.loc="path/to/somewhere"), any hints?

Or is there an error in the library() function not passing its lib.loc
argument to subsequent calls?

Albrecht


PS: it was not exactly the same version of tripack, I will release a new
one soon, but I think this doesn't matter here.
 
> > The second little problem I've been running across is the following.  The
> 
> ....
>

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 30 08:17:11 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 May 2000 07:17:11 +0100 (BST)
Subject: [R] a question about sgeostat
In-Reply-To: <Pine.LNX.4.21.0005300027360.4174-100000@epsilon.fuzzy.at>
Message-ID: <Pine.GSO.4.05.10005300708550.4992-100000@auk.stats>

Matthew had already said that re-installing solved this for him.

On Tue, 30 May 2000, Albrecht Gebhardt wrote:

> I just tried installing tripack on RedHat 6.2 (gcc 2.95.2) into a private
> R_LIBS dir, the same thing:
> 
> > library(tripack,lib.loc="~/R-Lib-x86")
> Error in library.dynam("tripack") : dynamic library `tripack' not found
> 
> But 
> 
> > library.dynam("tripack",lib.loc="~/R-Lib-x86") 
> 
> works and after rm(.lib.loc) and setting R_LIBS to "~/R-Lib-x86" it works
> without errors via
> 
> > library(tripack)
> 
> So I guess you may also have some trouble with your R_LIBS variable?
> 
> Currently I'm doing a
> 
> .First.lib <- function(lib, pkg) library.dynam("tripack", pkg, lib)
> 
> in the tripack package. I think I have to modify it so that it works also
> if called via library(tripack, lib.loc="path/to/somewhere"), any hints?

See below.

> Or is there an error in the library() function not passing its lib.loc
> argument to subsequent calls?

It's your error. You have (version 1.0-3)

.First.lib <- function(lib, pkg) library.dynam("tripack", pkg, lib)

if(version$minor < "62") library.dynam("tripack")

You fail to test for version$major!

That the error message you got is not mentioning the other two arguments
was a useful hint.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Mon May 29 19:05:55 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Mon, 29 May 2000 19:05:55 +0200
Subject: [R] scoping problems?
Message-ID: <00052911413100.00338@ligarto>

Dear All,

This is driving me nuts; I think it should be very simple (and I am sure the
answer is in front of me somewhere in ch. 3 of "S programming") but I just don't
get it.

It seems that "weights" never gets passed on to the second funciton as it
should:



myf1<-function(formula,data,weights=NULL,max.num=0,exclude.tips=NULL){
  myf2<-function(formula,data,weights){
    mf <- match.call()
    mf[[1]] <- as.name("model.frame")
    print("we get up to here")
    mf<-eval(mf,sys.frame(sys.parent())) #this is the culprit doesn't work
    w <- model.weights(mf)
    # do several things here; for simplicity just
    print(w)
    }    
# the next two lines exclude certain data points
  if(!is.null(exclude.tips)) data<-data[match(data$Tips,exclude.tips,nomatch=0)==0,] 
  if(max.num) data<-data[data$sim.counter<max.num+1,]
  myf2(formula,data,weights=weights)
}


The following is an example:

>data.ex2<-data.frame(sim.counter=c(rep(0,3),rep(1,3)),Tips=rep(c("a","b","c"),2),y=rnorm(6),x1=rnorm(6),x2=rnorm(6))
> myf1(y~x1,data.ex2,weights=x2)
[1] "we get up to here"
Error in eval(expr, envir, enclos) : Object "x2" not found

Why doesn't it find x2? Isn't x2 right there? Note that if I define myf2 as a
function in the global env. and I call it, it works fine.

What I am doing wrong?

Thanks,

Ramon

P.S. In case it matters, I am using R 1.0.1 (under Linux)

-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
phone: 608-238-8041

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 30 09:16:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 May 2000 08:16:21 +0100 (GMT Daylight Time)
Subject: [R] scoping problems?
In-Reply-To: <00052911413100.00338@ligarto>
Message-ID: <Pine.WNT.4.05.10005300757020.246-100000@tern.stats>

On Mon, 29 May 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> This is driving me nuts; I think it should be very simple (and I am sure the
> answer is in front of me somewhere in ch. 3 of "S programming") but I just don't
> get it.
> 
> It seems that "weights" never gets passed on to the second funciton as it
> should:
> 
> 
> 
> myf1<-function(formula,data,weights=NULL,max.num=0,exclude.tips=NULL){
>   myf2<-function(formula,data,weights){
>     mf <- match.call()
>     mf[[1]] <- as.name("model.frame")
>     print("we get up to here")
>     mf<-eval(mf,sys.frame(sys.parent())) #this is the culprit doesn't work
>     w <- model.weights(mf)
>     # do several things here; for simplicity just
>     print(w)
>     }    
> # the next two lines exclude certain data points
>   if(!is.null(exclude.tips)) data<-data[match(data$Tips,exclude.tips,nomatch=0)==0,] 
>   if(max.num) data<-data[data$sim.counter<max.num+1,]
>   myf2(formula,data,weights=weights)
> }
> 
> 
> The following is an example:
> 
> >data.ex2<-data.frame(sim.counter=c(rep(0,3),rep(1,3)),Tips=rep(c("a","b","c"),2),y=rnorm(6),x1=rnorm(6),x2=rnorm(6))
> > myf1(y~x1,data.ex2,weights=x2)
> [1] "we get up to here"
> Error in eval(expr, envir, enclos) : Object "x2" not found
> 
> Why doesn't it find x2? Isn't x2 right there? Note that if I define myf2 as a
> function in the global env. and I call it, it works fine.

Put a browser in myf2 and take a closer look. Your call is

Browse[1]> mf
model.frame(formula = formula, data = data, weights = weights)

Now, weights is x2, and x2 exists nowhere visible (it is a column of data).
So you want the value of weights substituted but not evaluated, and that
gets tricky, if not impossible.  So let's look for an easier way.

The usual way to do this is to assemble the call in myf1, not myf2.  As in

myf1 <- function(formula,data,weights=NULL,max.num=0,exclude.tips=NULL)
{
    mf <- match.call()
    mf$nax.num <- mf$exclude.tips <- NULL
    mf[[1]] <- as.name("model.frame")

    myf2<-function(mf) {
        mf <- eval(mf,sys.frame(sys.parent(2)))
        w <- model.weights(mf)
        # do several things here; for simplicity just
        print(w)
    }
# the next two lines exclude certain data points
    if(!is.null(exclude.tips))
    data <- data[match(data$Tips,exclude.tips,nomatch=0)==0,]
    if(max.num) data <- data[data$sim.counter<max.num+1,]
    myf2(mf)
}
 
Note that I go up two parents, as the data are in the caller of myf1.
eval.parent(mf, 2) would be neater, or you could do this in myf1.

Another idea is to use subset= rather than the data manipulations here.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue May 30 09:28:56 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 30 May 2000 09:28:56 +0200 (MET DST)
Subject: [R] a question about sgeostat
In-Reply-To: <Pine.GSO.4.05.10005300708550.4992-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0005300922430.8569-100000@zidsrv.sci.uni-klu.ac.at>

On Tue, 30 May 2000, Prof Brian D Ripley wrote:

> Matthew had already said that re-installing solved this for him.
> 
> On Tue, 30 May 2000, Albrecht Gebhardt wrote:
> 
> > I just tried installing tripack on RedHat 6.2 (gcc 2.95.2) into a private
> > R_LIBS dir, the same thing:
> > 
> > > library(tripack,lib.loc="~/R-Lib-x86")
> > Error in library.dynam("tripack") : dynamic library `tripack' not found
> > 
> > But 
> > 
> > > library.dynam("tripack",lib.loc="~/R-Lib-x86") 
> > 
> > works and after rm(.lib.loc) and setting R_LIBS to "~/R-Lib-x86" it works
> > without errors via
> > 
> > > library(tripack)
> > 
> > So I guess you may also have some trouble with your R_LIBS variable?
> > 
> > Currently I'm doing a
> > 
> > .First.lib <- function(lib, pkg) library.dynam("tripack", pkg, lib)
> > 
> > in the tripack package. I think I have to modify it so that it works also
> > if called via library(tripack, lib.loc="path/to/somewhere"), any hints?
> 
> See below.
> 
> > Or is there an error in the library() function not passing its lib.loc
> > argument to subsequent calls?
> 
> It's your error. You have (version 1.0-3)
> 
> First.lib <- function(lib, pkg) library.dynam("tripack", pkg, lib)
> 
> if(version$minor < "62") library.dynam("tripack")
> 
> You fail to test for version$major!
> 
> That the error message you got is not mentioning the other two arguments
> was a useful hint.

Now I have stolen

.First.lib <- function(lib, pkg) {
  if(version$major==0 && version$minor < 62)
    stop("This version for R 0.62 or later")
  library.dynam("tripack", pkg, lib)
  provide(tripack)
}

from library(spatial) and library(tripack,lib.loc="path/to/somewhere")
works now.

Thanks for the hint. 

But help() still does not find anything about the library in
"path/to/somewhere", even if I pass lib.loc="path/to/somewhere" to help.
Is still something wrong with my .First.lib function?


Albrecht

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 30 10:05:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 May 2000 09:05:47 +0100 (BST)
Subject: [R] a question about sgeostat
In-Reply-To: <Pine.OSF.4.21.0005300922430.8569-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.GSO.4.05.10005300854310.5300-100000@auk.stats>

On Tue, 30 May 2000, Albrecht Gebhardt wrote:

> Now I have stolen
> 
> .First.lib <- function(lib, pkg) {
>   if(version$major==0 && version$minor < 62)
>     stop("This version for R 0.62 or later")
>   library.dynam("tripack", pkg, lib)
>   provide(tripack)
> }
> 
> from library(spatial) and library(tripack,lib.loc="path/to/somewhere")
> works now.

Better, just put Depends: R (>0.62) in DESCRIPTION, or just forget
about R pre-1.0.0.  

Package akima has the same problem.

> Thanks for the hint. 
> 
> But help() still does not find anything about the library in
> "path/to/somewhere", even if I pass lib.loc="path/to/somewhere" to help.
> Is still something wrong with my .First.lib function?

.First.lib is not relevant to help.  Have you loaded the package or not?
Something like

> help(interp, package="akima", lib.loc="/ext/R/library")
> help(package="akima", lib.loc="/ext/R/library") 

works whether it is loaded or not.  The semantics of this got changed
around 0.99.0 to try to ensure that the help came from loaded libraries.
So you can do

library(akima, lib.loc="/ext/R/library")
?interp
help(interp, package="akima")

and you will get the help from the loaded library even if there is
a version in the standard library.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue May 30 10:24:39 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 30 May 2000 10:24:39 +0200 (MET DST)
Subject: [R] help() and lib.loc (was Re: question about sgeostat)
In-Reply-To: <Pine.GSO.4.05.10005300854310.5300-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0005301012220.8569-100000@zidsrv.sci.uni-klu.ac.at>

On Tue, 30 May 2000, Prof Brian D Ripley wrote:

> On Tue, 30 May 2000, Albrecht Gebhardt wrote:
> 
> > Now I have stolen
> > 
> > .First.lib <- function(lib, pkg) {
> >   if(version$major==0 && version$minor < 62)
> >     stop("This version for R 0.62 or later")
> >   library.dynam("tripack", pkg, lib)
> >   provide(tripack)
> > }
> > 
> > from library(spatial) and library(tripack,lib.loc="path/to/somewhere")
> > works now.
>  ....
> > 
> > But help() still does not find anything about the library in
> > "path/to/somewhere", even if I pass lib.loc="path/to/somewhere" to help.
> > Is still something wrong with my .First.lib function?
> 
> First.lib is not relevant to help.  Have you loaded the package or not?
yes, loaded.

> Something like
> 
> > help(interp, package="akima", lib.loc="/ext/R/library")
> > help(package="akima", lib.loc="/ext/R/library") 
> 
> works whether it is loaded or not.  The semantics of this got changed
> around 0.99.0 to try to ensure that the help came from loaded libraries.
> So you can do
> 
> library(akima, lib.loc="/ext/R/library")
> ?interp
> help(interp, package="akima")
> 
> and you will get the help from the loaded library even if there is
> a version in the standard library.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Ok, now without loading the library:

...
[Previously saved workspace restored]

> help(tri.mesh)
Error in help(tri.mesh) : No documentation for `tri.mesh'
> help(tri.mesh, package="tripack", lib.loc="~/R-Lib-x86/")
Error in help(tri.mesh, package = "tripack", lib.loc = "~/R-Lib-x86/") : 
        No documentation for `tri.mesh'
> help(tri.mesh, package="tripack", lib.loc="/home/users/agebhard/R-Lib-x86/")
... works

So it seems the lib.loc path contents in library() and help() gets parsed
differently: 

library() knows about the expansion of "~" to the $HOME variable (because
library(tripack,lib.loc="~/R-Lib-x86/") works) but help() does not.


Albrecht


......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue May 30 10:28:20 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 30 May 2000 10:28:20 +0200 (CEST)
Subject: [R] a question about sgeostat
In-Reply-To: <200005291701.NAA26274573@jason.MAGELLAN.UMontreal.CA>
References: <200005291701.NAA26274573@jason.MAGELLAN.UMontreal.CA>
Message-ID: <14643.31652.117569.98718@gargle.gargle.HOWL>

>>>>> "Matthew" == Matthew Norton <nortonm at magellan.umontreal.ca> writes:

    Matthew> I know hese sorts of questions should be addressed directly to
    Matthew> the author of the extensions, but since I'm in a bit of a
    Matthew> rush, I thought I'd fire this out to the group at large.
    Matthew> Furthermore, one of the problems I'm having seems to be
    Matthew> indenpendent of the packages themselves (I think, but I'm not
    Matthew> sure).

    Matthew> When I try to load the library sgeostat, it tries to load the
    Matthew> tripack library, but seems to fail.  If I try to load the
    Matthew> tripack library first, it seems to be unhappy as well, but
    Matthew> sgeostat then loads without trouble.  I'll give you examples:


    >> library(sgeostat)
    Matthew> Loading required package: mva Loading required package:
    Matthew> tripack Error in library.dynam("tripack") : dynamic library
    Matthew> `tripack' not found
    >> library(tripack)
    >> 

    Matthew>   ...............  or

    >> library(tripack)
    Matthew> Error in library.dynam("tripack") : dynamic library `tripack'
    Matthew> not found
    >> library(sgeostat)
    Matthew> Loading required package: mva
    >>


    Matthew> Does anyone have any idea as to what the problem may be here?

I think "Yes": you've encountered a long-standing "design bug" here --
 it's good time to be reminded of it !

The first time  tripack  "is tried to be loaded"  it ends, not finding the 
"*.DLL/*.so library" file with the compiled code 
--- but it is still attached to the search() path 
(i.e. ` search()[2] ' will give "package:tripack" )

Hence, the second time it is required, nothing happens since
library() / require() finds that the tripack package is already present
and will not do anything.

--> another problem to be fixed hopefully for R 1.1.0

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 30 12:25:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 May 2000 11:25:25 +0100 (BST)
Subject: [R] help() and lib.loc (was Re: question about sgeostat)
In-Reply-To: <Pine.OSF.4.21.0005301012220.8569-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.GSO.4.05.10005301117480.5585-100000@auk.stats>

On Tue, 30 May 2000, Albrecht Gebhardt wrote:

> > help(tri.mesh)
> Error in help(tri.mesh) : No documentation for `tri.mesh'
> > help(tri.mesh, package="tripack", lib.loc="~/R-Lib-x86/")
> Error in help(tri.mesh, package = "tripack", lib.loc = "~/R-Lib-x86/") : 
>         No documentation for `tri.mesh'
> > help(tri.mesh, package="tripack", lib.loc="/home/users/agebhard/R-Lib-x86/")
> ... works
> 
> So it seems the lib.loc path contents in library() and help() gets parsed
> differently: 
> 
> library() knows about the expansion of "~" to the $HOME variable (because
> library(tripack,lib.loc="~/R-Lib-x86/") works) but help() does not.

Yes. As "~" is a csh construct, and not in general a valid part of a path,
it is just chance that it works for library.  index.search(), the
tool used by help, does not know about "~".  sys.source() as used 
by library () does.

I'll see if I can add "~" to the knowledge of index.search.

Generally, though, don't assume that packages know about csh's shortcuts.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karamian at cyceron.fr  Tue May 30 13:43:55 2000
From: karamian at cyceron.fr (karamian)
Date: Tue, 30 May 2000 13:43:55 +0200
Subject: [R] heap size trouble
Message-ID: <3933A97A.E40523B4@cyceron.fr>

Hi ,

I 've got a trouble with using R.

When I want to load a file that contains 93 thousand raws and 22 colums
of data (essentially float)
R shows me this error message

"heap size trouble"

Does anyone could tell me what parameter shall I precise before
launching R in order to load my big file.

Thanks a lot


-------------- next part --------------
A non-text attachment was scrubbed...
Name: karamian.vcf
Type: text/x-vcard
Size: 331 bytes
Desc: Card for karamian
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000530/94a555d3/karamian.vcf

From uli at biochem.dshs-koeln.de  Tue May 30 14:26:44 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Tue, 30 May 2000 14:26:44 +0200 (CEST)
Subject: [R] heap size trouble
In-Reply-To: <3933A97A.E40523B4@cyceron.fr>
Message-ID: <Pine.LNX.3.95.1000530142106.24009A-100000@pcinternet.biochem.dshs-koeln.de>

Karamian,
have a look at "help(memory)" ...

You can enlarge the memory reserved for R by specifyng the command line
arguments "--vsize" and "--nsize". When using ESS, type "C-u M-x R" and
ESS will prompt for arguments passed to R.


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Tue, 30 May 2000, karamian wrote:

> Hi ,
> 
> I 've got a trouble with using R.
> 
> When I want to load a file that contains 93 thousand raws and 22 colums
> of data (essentially float)
> R shows me this error message
> 
> "heap size trouble"
> 
> Does anyone could tell me what parameter shall I precise before
> launching R in order to load my big file.
> 
> Thanks a lot
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue May 30 16:18:42 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 30 May 2000 10:18:42 -0400 (EDT)
Subject: [R] heap size trouble
In-Reply-To: <3933A97A.E40523B4@cyceron.fr>
Message-ID: <Pine.LNX.4.21.0005301010350.464-100000@Chrestomanci.home.earth>

You need to change R_VSIZE in .Renviron I belived, at least if you are
using Unix.                Faheem. 

Ie R_SIZE=somethingM

where something is a number currently larger than what you are using, and
M stands for megs. eg

R_SIZE=35M

You can use gc() to see your current memory situation. Ie. mine gives:

> gc()
          free   total (Mb) <- currently available
Ncells  839332 1024000 19.6
Vcells 3258006 4587520 35.0
                       
This is all for Unix, might differ for other platforms. In any case look
at the section in the FAQ about memory or do 
> help(Memory)

I've found memory problems with large data sets in R a big pain. Sometimes
I just run out of memory and have to give up. I wish there was a magical
way arond this, but there doesn't seem to be.

                                             Yours, Faheem.

On Tue, 30 May 2000, karamian wrote:

> Hi ,
> 
> I 've got a trouble with using R.
> 
> When I want to load a file that contains 93 thousand raws and 22 colums
> of data (essentially float)
> R shows me this error message
> 
> "heap size trouble"
> 
> Does anyone could tell me what parameter shall I precise before
> launching R in order to load my big file.
> 
> Thanks a lot
> 
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Tue May 30 16:29:29 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Tue, 30 May 2000 16:29:29 +0200 (CEST)
Subject: [R] heap size trouble
In-Reply-To: <Pine.LNX.3.95.1000530142106.24009A-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <Pine.LNX.3.95.1000530162704.24009C-100000@pcinternet.biochem.dshs-koeln.de>

Oooops,
its "help(Memory)" not "help(memory)"!
          ~                
	Sorry for this ...


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Tue, 30 May 2000, Uli Flenker; Raum 704 wrote:

> Karamian,
> have a look at "help(memory)" ...
> 
> You can enlarge the memory reserved for R by specifyng the command line
> arguments "--vsize" and "--nsize". When using ESS, type "C-u M-x R" and
> ESS will prompt for arguments passed to R.
> 
> 
>         Uli Flenker
>         Institute of Biochemistry
>         German Sports University Cologne
>         Carl-Diem-Weg 6
> 
>         50933 Cologne / Germany
> 
>         Phone 0049/0221/4982-493
> 
> 
> On Tue, 30 May 2000, karamian wrote:
> 
> > Hi ,
> > 
> > I 've got a trouble with using R.
> > 
> > When I want to load a file that contains 93 thousand raws and 22 colums
> > of data (essentially float)
> > R shows me this error message
> > 
> > "heap size trouble"
> > 
> > Does anyone could tell me what parameter shall I precise before
> > launching R in order to load my big file.
> > 
> > Thanks a lot
> > 
> > 
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Tue May 30 11:03:29 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Tue, 30 May 2000 11:03:29 +0200
Subject: [R] scoping problems?
In-Reply-To: <Pine.WNT.4.05.10005300757020.246-100000@tern.stats>
References: <Pine.WNT.4.05.10005300757020.246-100000@tern.stats>
Message-ID: <00053011082202.00548@ligarto>

Thank you very much to Prof. Ripley for his prompt (and very helpful)
response!!!  I think I understand the situation now; and I was happily 
surprised by the simplicity and elegance of setting to null two offending
components returned by match.call and by going up two parents to get the data.

Ramon

On Tue, 30 May 2000, Prof Brian D Ripley wrote:
> On Mon, 29 May 2000, Ramon Diaz-Uriarte wrote:
> 
> > Dear All,
> > 
> > This is driving me nuts; I think it should be very simple (and I am sure the
> > answer is in front of me somewhere in ch. 3 of "S programming") but I just don't
> > get it.
> > 
> > It seems that "weights" never gets passed on to the second funciton as it
> > should:
> > 
> > 
> > 
> > myf1<-function(formula,data,weights=NULL,max.num=0,exclude.tips=NULL){
> >   myf2<-function(formula,data,weights){
> >     mf <- match.call()
> >     mf[[1]] <- as.name("model.frame")
> >     print("we get up to here")
> >     mf<-eval(mf,sys.frame(sys.parent())) #this is the culprit doesn't work
> >     w <- model.weights(mf)
> >     # do several things here; for simplicity just
> >     print(w)
> >     }    
> > # the next two lines exclude certain data points
> >   if(!is.null(exclude.tips)) data<-data[match(data$Tips,exclude.tips,nomatch=0)==0,] 
> >   if(max.num) data<-data[data$sim.counter<max.num+1,]
> >   myf2(formula,data,weights=weights)
> > }
> > 
> > 
> > The following is an example:
> > 
> > >data.ex2<-data.frame(sim.counter=c(rep(0,3),rep(1,3)),Tips=rep(c("a","b","c"),2),y=rnorm(6),x1=rnorm(6),x2=rnorm(6))
> > > myf1(y~x1,data.ex2,weights=x2)
> > [1] "we get up to here"
> > Error in eval(expr, envir, enclos) : Object "x2" not found
> > 
> > Why doesn't it find x2? Isn't x2 right there? Note that if I define myf2 as a
> > function in the global env. and I call it, it works fine.
> 
> Put a browser in myf2 and take a closer look. Your call is
> 
> Browse[1]> mf
> model.frame(formula = formula, data = data, weights = weights)
> 
> Now, weights is x2, and x2 exists nowhere visible (it is a column of data).
> So you want the value of weights substituted but not evaluated, and that
> gets tricky, if not impossible.  So let's look for an easier way.
> 
> The usual way to do this is to assemble the call in myf1, not myf2.  As in
> 
> myf1 <- function(formula,data,weights=NULL,max.num=0,exclude.tips=NULL)
> {
>     mf <- match.call()
>     mf$nax.num <- mf$exclude.tips <- NULL
>     mf[[1]] <- as.name("model.frame")
> 
>     myf2<-function(mf) {
>         mf <- eval(mf,sys.frame(sys.parent(2)))
>         w <- model.weights(mf)
>         # do several things here; for simplicity just
>         print(w)
>     }
> # the next two lines exclude certain data points
>     if(!is.null(exclude.tips))
>     data <- data[match(data$Tips,exclude.tips,nomatch=0)==0,]
>     if(max.num) data <- data[data$sim.counter<max.num+1,]
>     myf2(mf)
> }
>  
> Note that I go up two parents, as the data are in the caller of myf1.
> eval.parent(mf, 2) would be neater, or you could do this in myf1.
> 
> Another idea is to use subset= rather than the data manipulations here.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May 30 22:40:00 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 31 May 2000 08:40:00 +1200
Subject: [R] Drawing Trig Function
Message-ID: <3934271F.B6FD1CCD@xtra.co.nz>

Hi there,

Two simple questions:

1) How do I comment out several lines in R?  Do I need to type # in the
beginning of each line?
2) I have got a few lines of codes that draws sin, cos and tan
(supposedly) below.  My codes can draw sin() and cos() perfectly fine,
but when it comes to tan(), the last part which I have commentted out, I
have problem.  It does not draw what it's supposed to do.

Thanks...

Ko-Kang

layout.my <- function (m, n) {
    par(mfrow = c(m, n))
}

x <- 0:12566 / 1000   # Range from 0 to 4*pi

layout.my( 1, 2 )
plot( sin(x), type = "l",
      xaxs = "i", yaxs = "i", axes = F,
      xlab = "x", ylab = "sin(x)",
      main = "Y = sin(x), x = [ 0, 720 ]"
    )
axis( 2, at = seq( -1, 1, by=1 ),las = 2 )
box(lty="dotted")
abline( h = 0, lwd = 1 )

plot( cos(x), type = "l",
      xaxs = "i", yaxs = "i", axes = F,
      xlab = "x", ylab = "cos(x)",
      main = "Y = cos(x), x = [ 0, 720 ]"
    )
axis( 2, at = seq( -1, 1, by=1 ),las = 2 )
box(lty="dotted")
abline( h = 0, lwd = 1 )

#plot( tan(x), type = "l",
#      xaxs = "i", yaxs = "i", axes = F,
#      xlab = "x", ylab = "tan(x)",
#      main = "Y = sin(x), x = [ 0, 360 ]"
#    )
#axis( 2, at = seq( -1, 1, by=1 ),las = 2 )
#box(lty="dotted")
#abline( h = 0, lwd = 1 )

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue May 30 23:05:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 30 May 2000 14:05:01 -0700 (PDT)
Subject: [R] Drawing Trig Function
In-Reply-To: <3934271F.B6FD1CCD@xtra.co.nz>
Message-ID: <Pine.GSO.4.21.0005301400570.18417-100000@atlas.biostat.washington.edu>

On Wed, 31 May 2000, Ko-Kang Wang wrote:

> Hi there,
> 
> Two simple questions:
> 
> 1) How do I comment out several lines in R?  Do I need to type # in the
> beginning of each line?
Yes

> 2) I have got a few lines of codes that draws sin, cos and tan
> (supposedly) below.  My codes can draw sin() and cos() perfectly fine,
> but when it comes to tan(), the last part which I have commentted out, I
> have problem.  It does not draw what it's supposed to do.

I think it draws what it's supposed to. It doesn't draw what you want,
perhaps.  The problem is that you are drawing an unbounded function, so
what you get will be determined almost entirely by how close x gets to the
singularities at odd multiples of pi/2.

You probably want to plot something like
   pmax(-10,pmin(10,tan(x)))
or
   ifelse(abs(tan(x))>10,NA,tan(x))


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed May 31 00:59:05 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 30 May 2000 18:59:05 -0400 (EDT)
Subject: [R] Drawing Trig Function
In-Reply-To: <3934271F.B6FD1CCD@xtra.co.nz>
Message-ID: <Pine.LNX.4.10.10005301856480.2392-100000@bolker.zoo.ufl.edu>


  One quick and dirty answer to your first question is that if the lines
you want to comment out  all have acceptable R syntax (as in your
example) you can just put

if (FALSE) {}

around the stuff you want to comment out.
This won't work if you have open parentheses or other "syntax errors" in
the commented region.

On Wed, 31 May 2000, Ko-Kang Wang wrote:

> Hi there,
> 
> Two simple questions:
> 
> 1) How do I comment out several lines in R?  Do I need to type # in the
> beginning of each line?

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikeo at syncrasy.com  Wed May 31 01:54:10 2000
From: mikeo at syncrasy.com (mike olsen)
Date: Tue, 30 May 2000 17:54:10 -0600
Subject: [R] FFT (fast fourier transform) function
Message-ID: <007401bfca92$59639e40$0200a8c0@syncrasy.com>

I'm having trouble with the fast fourier transform function ("fft").  Apparently, I'm not understanding what R's function is actually doing, let me show you with the example in the R manual:

if I put in:

    y <- 1:4
    fft(x)

i'll get this back:

10+0i    -2+2i    -2+0i    -2-2i

this is what I'm assuming:

R is interpreting the increasing values of y to have an associated value that is incremented as x increases (a plot will show y against an index, so in this case we have something like y=x over the interval 1 to 4).
The real value returned represents the coeffient of the cosine value, the imaginary value that of the sine, for n=0 to N-1 where N is the number of data points and n is the coeffient inside the sine/cosine terms, so that the output would be interpreted as:

10 - 2 cos(2 pi*x) + 2 sin (2 pi * x) -2 cos (4 pi * x) -2 cos(6 pi * x) - 2 sin (6 pi * x)

which looks nothing like y=x over the interval (1,4).

Basically, I want to be able to fit fast fourier transforms to several sets of empirical data. Controlling the period would also be important here, and the R function does not seem to have a way of handling that.  I would appreciate any information on what this function is actually doing, or information on other R packages that are able to do transforms.

Thank you for taking the time to look at this,

Michael Olsen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000530/4610ccdd/attachment.html

From Matthias.Fischer at wiso.uni-erlangen.de  Wed May 31 08:28:15 2000
From: Matthias.Fischer at wiso.uni-erlangen.de (M. Fischer)
Date: Wed, 31 May 2000 08:28:15 +0200
Subject: [R] Dynamic ordered probit models
Message-ID: <23FED320EFC@wsrz2.wiso.uni-erlangen.de>

Hi R-Users,

are there any packages or functions in R to estimate
a dynamic ordered probit model?

M. Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed May 31 09:35:15 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 31 May 2000 08:35:15 +0100 (BST)
Subject: [R] FFT (fast fourier transform) function
In-Reply-To: <007401bfca92$59639e40$0200a8c0@syncrasy.com>
Message-ID: <Pine.LNX.4.10.10005310825210.2277-100000@localhost.localdomain>



On Tue, 30 May 2000, mike olsen wrote:

> I'm having trouble with the fast fourier transform function ("fft").  Apparently, I'm not understanding what R's function is actually doing, let me show you with the example in the R manual:
> 
> if I put in:
> 
>     y <- 1:4
>     fft(x)
I think you mean
fft(y)

> i'll get this back:
> 
> 10+0i    -2+2i    -2+0i    -2-2i
> 
> this is what I'm assuming:
> 
> R is interpreting the increasing values of y to have an associated value that is incremented as x increases (a plot will show y against an index, so in this case we have something like y=x over the interval 1 to 4).
> The real value returned represents the coeffient of the cosine value, the imaginary value that of the sine, for n=0 to N-1 where N is the number of data points and n is the coeffient inside the sine/cosine terms, so that the output would be interpreted as:
> 
> 10 - 2 cos(2 pi*x) + 2 sin (2 pi * x) -2 cos (4 pi * x) -2 cos(6 pi * x) - 2 sin (6 pi * x)
> 
> which looks nothing like y=x over the interval (1,4).
> 
> Basically, I want to be able to fit fast fourier transforms to several sets of empirical data. Controlling the period would also be important here, and the R function does not seem to have a way of handling that.  I would appreciate any information on what this function is actually doing, or information on other R packages that are able to do transforms.

I don't think you have questions about *R's* fft, but about ffts in
general. I suggest you read a book on the fft. Try ch 18 of
Bracewell, The Fourier transform and its applications.

BTW R's output is correct for this example, see Bracewell p.366. Note that
you will have to multiply R's output by 1/n to get Bracewell's values.
(Some implementations of fft do this multiplication, and in others the
ifft is left to do it)

Another suggestion is to try comp.dsp, where a lot of fft questions are
posted and answered.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed May 31 11:10:47 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 31 May 2000 11:10:47 +0200 (CEST)
Subject: [R] LaTeX \varrho
In-Reply-To: <Pine.GSO.4.05.10005291454120.25613-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0005311052430.5085-100000@artemis.imbe.med.uni-erlangen.de>

> 
> Don't think so.  What you get depends on the output device, but I think
> you get PostScript's symbol font's rho.  (On my system, on both postscript
> and x11 devices.)  That font does not have the equivalent of varrho
> (although it does for varpsi).
> 
> The usual answer is to use pstricks with LaTeX to post-process the output.
> 

Thanks to Prof. Ripley for the hint, maybe someone other is interested, so
I will shortly outline what "to use pstricks with LaTeX" means:

* get PSfrag	(e.g. www.dante.de)
* get graphics	(same url)
* create your ps-graphic in R and define "tags" e.g.
	
	postscript("myfile.ps")
	plot(..., xlab="rho", ylab="wrho")
	dev.off()
	system("ps2epsi myfile.ps")

* add 
	\usepackage{graphics}
	\usepackage{psfrag}

	to your LaTeX-File

* and now we reach the climax:

	\begin{figure}
	\begin{center}
	\psfrag{rho}{$\varrho$}		<-- this replaces rho with \varrho
	\psfrag{wrho}{$W(\varrho)$}	<-- this replaces wrho with W(\varrho)
	\includegraphics{myfile.epsi}
	\caption{wonderful R plotting \label{fig}}
	\end{center}
	\end{figure}

* run latex and dvips and enjoy :-)

Torsten
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed May 31 12:03:34 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 31 May 2000 12:03:34 +0200 (MET DST)
Subject: [R] Drawing Trig Function
In-Reply-To: <3934271F.B6FD1CCD@xtra.co.nz>
Message-ID: <Pine.OSF.4.05.10005311159550.10679-100000@alnair.uio.no>

On Wed, 31 May 2000, Ko-Kang Wang wrote:

>Two simple questions:
>
>1) How do I comment out several lines in R?  Do I need to type # in the
>beginning of each line?

If you are using ESS (I saw you're on Win98, but there is NTEmacs... :-)),
you can mark the region and go
M-x comment-region
That'll do the trick. I'm not sure how you should uncomment it again,
though.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 31 12:13:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 May 2000 12:13:14 +0200
Subject: [R] Drawing Trig Function
In-Reply-To: Kjetil Kjernsmo's message of "Wed, 31 May 2000 12:03:34 +0200 (MET DST)"
References: <Pine.OSF.4.05.10005311159550.10679-100000@alnair.uio.no>
Message-ID: <x2puq3uix1.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> If you are using ESS (I saw you're on Win98, but there is NTEmacs... :-)),
> you can mark the region and go
> M-x comment-region
> That'll do the trick. I'm not sure how you should uncomment it again,
> though.

C-u M-x comment-region

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 31 12:25:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 May 2000 12:25:00 +0200
Subject: [R] Drawing Trig Function
In-Reply-To: Ben Bolker's message of "Tue, 30 May 2000 18:59:05 -0400 (EDT)"
References: <Pine.LNX.4.10.10005301856480.2392-100000@bolker.zoo.ufl.edu>
Message-ID: <x2n1l7uidf.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at zoo.ufl.edu> writes:

> if (FALSE) {}
> 
> around the stuff you want to comment out.
> This won't work if you have open parentheses or other "syntax errors" in
> the commented region.

..and if you use it to remove largish blocks in scripts fed to stdin,
you'll notice that it takes quit a lot of time. This is due to a
current silliness in the R parser: Whenever we see a newline, we check
whether the expression is complete. If so, then we evaluate it,
otherwise we *reparse* what has already been seen, adding another
line. This makes parsing O(k^2) in the number of lines in an
expression which is really unnecessary. It's just that noone has
figured out how to do the required checkpointing of the bison/yacc
parser yet. The effect doesn't happen when you source() files, because
in that case we always parse the entire file before executing it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May 31 12:27:06 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 31 May 2000 22:27:06 +1200
Subject: [R] Drawing Trig Function
References: <Pine.LNX.4.10.10005301856480.2392-100000@bolker.zoo.ufl.edu> <x2n1l7uidf.fsf@blueberry.kubism.ku.dk>
Message-ID: <3934E8F9.434DB6C6@xtra.co.nz>

Just out of curiousity, why is it I can't do multiple commenting in R.  I have
to type # in front of each line (well, it's true).  If there are 20 or more
lines it becomes a bit annoying.

In SAS there is /* blah blah blah */, which comments out an entire block.
Java and C++ have the similar feature too.  Will it be possible to put this
feature in R in the future?

Just some personal opinions,

Ko-Kang

Peter Dalgaard BSA wrote:

> Ben Bolker <ben at zoo.ufl.edu> writes:
>
> > if (FALSE) {}
> >
> > around the stuff you want to comment out.
> > This won't work if you have open parentheses or other "syntax errors" in
> > the commented region.
>
> ..and if you use it to remove largish blocks in scripts fed to stdin,
> you'll notice that it takes quit a lot of time. This is due to a
> current silliness in the R parser: Whenever we see a newline, we check
> whether the expression is complete. If so, then we evaluate it,
> otherwise we *reparse* what has already been seen, adding another
> line. This makes parsing O(k^2) in the number of lines in an
> expression which is really unnecessary. It's just that noone has
> figured out how to do the required checkpointing of the bison/yacc
> parser yet. The effect doesn't happen when you source() files, because
> in that case we always parse the entire file before executing it.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Wed May 31 12:33:51 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Wed, 31 May 2000 11:33:51 +0100
Subject: [R] FFT (fast fourier transform) function
In-Reply-To: <Pine.LNX.4.10.10005310825210.2277-100000@localhost.localdo main>
References: <007401bfca92$59639e40$0200a8c0@syncrasy.com>
Message-ID: <3.0.1.32.20000531113351.00715310@pop3.ucd.ie>

>On Tue, 30 May 2000, mike olsen wrote:
>
>> I'm having trouble with the fast fourier transform function ("fft").
Apparently, I'm not understanding what R's function is actually doing, let
me show you with the example in the R manual:
>> 
>> if I put in:
>> 
>>     y <- 1:4
>>     fft(x)
>I think you mean
>fft(y)
>
>> i'll get this back:
>> 
>> 10+0i    -2+2i    -2+0i    -2-2i
>> 
>> this is what I'm assuming:
>> 
>> R is interpreting the increasing values of y to have an associated value
that is >incremented as x increases (a plot will show y against an index,
so in this case we >have something like y=x over the interval 1 to 4).
>> The real value returned represents the coeffient of the cosine value,
the imaginary >value that of the sine, for n=0 to N-1 where N is the number
of data points and n is the >coeffient inside the sine/cosine terms, so
that the output would be interpreted as:
>> 
>> 10 - 2 cos(2 pi*x) + 2 sin (2 pi * x) -2 cos (4 pi * x) -2 cos(6 pi * x)
- 2 sin (6 pi * x)
>> 
>> which looks nothing like y=x over the interval (1,4).
Not true. The inverse FT (starting with real series) should be 
10 - 2 cos(2 pi*x) - 2 sin (2 pi * x) -2 cos (4 pi * x) -2 cos(6 pi * x) +
2 sin (6 pi * x)

(The sine coef's should minus the imag component).

>> 
>> Basically, I want to be able to fit fast fourier transforms to several
sets of empirical >data. Controlling the period would also be important
here, and the R function does not >seem to have a way of handling that.  I
would appreciate any information on what this >function is actually doing,
or information on other R packages that are able to do >transforms.
>
'To fit fast fourier transforms' to data is not very meaningful. What you 
are doing is probably looking for some strong periodicity in the data, 
in which case a bit of spectral analysis would be useful. If your data 
analysis is serious, it'll be worth investing some time reading some
time series texts (e.g., Shumway).


Regarding the above exercise, try the following to see that the 
function does recover 1:4, but **only on the Fourier frequencies**:

x_ seq(0,3,by=.25)/4   # note division by N=4
y _  10 - 2* cos(2* pi*x) - 2* sin (2* pi * x) -
     2* cos (4* pi * x) -2* cos(6* pi * x) + 2* sin (6* pi * x)
plot(x,y)
lines(0:3/4,1:4*4)  
abline(v=0:3/4)    # Fourier frequencies only !!


Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toots at info.com.ph  Mon May 29 10:14:19 2000
From: toots at info.com.ph (Jose Ramon G. Albert)
Date: Mon, 29 May 2000 16:14:19 +0800
Subject: [R] survey methods 
Message-ID: <010c01bfc949$60c6cc60$62f1a3ca@Albert>

i've just gotten hold of STATA and see that there are a number
of helpful functions for survey based analysis that takes into
account stratification, weights, etc. is there something
similar in R or is this on a to-do list?

Jose Ramon Albert
Statistical Research and Training Center
www.srtc.gov.ph 
J & S Bldg., 104 Kalayaan Ave.
Diliman, Quezon City
Philippines


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 31 13:37:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 31 May 2000 12:37:40 +0100 (BST)
Subject: commenting lines (was [R] Drawing Trig Function)
Message-ID: <200005311137.MAA14786@toucan.stats.ox.ac.uk>


> Date: Wed, 31 May 2000 22:27:06 +1200
> From: Ko-Kang Wang <Ko-Kang at xtra.co.nz>
> 
> Just out of curiousity, why is it I can't do multiple commenting in R.  I have
> to type # in front of each line (well, it's true).  If there are 20 or more
> lines it becomes a bit annoying.
> 
> In SAS there is /* blah blah blah */, which comments out an entire block.
> Java and C++ have the similar feature too.  Will it be possible to put this
> feature in R in the future?

There are a couple of conventions here.  C uses /* blah blah blah */,
but as I understand it // rest of line is preferred in C++.  Indeed,
there is some tendency for C++ programmers to find it convenient in C,
and gcc lets it be used.  Perl uses # rest of line and TeX (and Rd) %
rest of line, and Visual Basic ' rest of line and ...

With a good code editor none of these are any problem.  There is no
reason to write many lines of comments in R code: that's what the .Rd
file is for.  And if you want to temporarily delete a block, 
if(0) { ... } will work, as indeed will temporarily deleting in an editor.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed May 31 13:51:13 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 31 May 2000 21:51:13 +1000
Subject: [R] heap size trouble
Message-ID: <3934FCB1.3D1F1518@ozemail.com.au>

karamian wrote:

...I want to load a file that contains 93 thousand raws and 22 colums of
data (essentially float)...

I just had to process over 199000 records with four numeric values.  If
I remember correctly, I used:

--vsize 30M  --nsize 500000

which pretty much ate all the RAM (64M) I had.  Don't forget to "rm" big
data sets before you exit, or R will bomb when you next try to load
without the increased memory.  Just reread from the data file when you
need them again (and it helps to exit other apps before starting R to
avoid disk thrashing).

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed May 31 14:46:47 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 31 May 2000 08:46:47 -0400
Subject: [R] Invalid Page fault - R ver 1.0.0 on Windows98 SE
Message-ID: <OF9C1E35FC.DDF4387A-ON852568F0.00461764@hgsi.com>


Thanks for your help. To answer your question, it is a bit involved process
to upgrade for me (as I use R in a "production" environment).



                                                                                                                  
                    Uwe Ligges                                                                                    
                    <ligges at statistik.uni-do        To:     partha_bagchi at hgsi.com                                
                    rtmund.de>                      cc:     r-help <r-help at stat.math.ethz.ch>                     
                    Sent by:                        Subject:     Re: [R] Invalid Page fault - R ver 1.0.0 on      
                    owner-r-help at stat.math.e        Windows98 SE                                                  
                    thz.ch                                                                                        
                                                                                                                  
                                                                                                                  
                    05/26/00 03:25 PM                                                                             
                                                                                                                  
                                                                                                                  




partha_bagchi at hgsi.com wrote:
>
> Thanks for the quick response Prof. Ripley. I will try to upgrade over
the
> holidays. In the meantime, I will try to reproduce the page fault.
> Unfortunately, it does not happen at the same place at all times. I have
> noticed that, cut and paste from window's notepad did not produce the
fault
> while it did while doing so from the Programmer's File Editor 1.01
(beware
> though since my sample sizes are small). It happen sometimes while simply
> doing command line editing.
> BTW: doing a quickview of CRTDLL.DLL shows (on my system) in the Export
> table that
> for the ordinal 017f, the entry point is 0000be95 and the name is fwscanf
> Does that help any?
>  TIA.

It seems to be the bug mentioned by Prof Brian D Ripley.
The problem is not pasting (I also thought this would be the problem at
first), but a problem with the command history.
If you have got a big number of short lines, i.e. more than 512 lines
with less than 16kB in your history, R-1.0.0 crashes sometimes.

I do not understand why you don't want to upgrade at once. Upgrading
takes mostly less time than writing this mail ;-).

A quick workaround (so the next 512 lines will): Delete your file
.Rhistory .

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 31 15:36:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 May 2000 08:36:29 -0500
Subject: [R] heap size trouble
In-Reply-To: Jim Lemon's message of "Wed, 31 May 2000 21:51:13 +1000"
References: <3934FCB1.3D1F1518@ozemail.com.au>
Message-ID: <6rr9aikfj6.fsf@franz.stat.wisc.edu>

Jim Lemon <bitwrit at ozemail.com.au> writes:

> karamian wrote:
> 
> ...I want to load a file that contains 93 thousand raws and 22 colums of
> data (essentially float)...
> 
> I just had to process over 199000 records with four numeric values.  If
> I remember correctly, I used:
> 
> --vsize 30M  --nsize 500000
> 
> which pretty much ate all the RAM (64M) I had.  Don't forget to "rm" big
> data sets before you exit, or R will bomb when you next try to load
> without the increased memory.  Just reread from the data file when you
> need them again (and it helps to exit other apps before starting R to
> avoid disk thrashing).

Another approach is to use a relational database to store such a large
table and load the table into R from the database.  There are several
interfaces into R from relational databases.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David.Brahm at fmr.com  Wed May 31 16:48:31 2000
From: David.Brahm at fmr.com (Brahm, David)
Date: Wed, 31 May 2000 10:48:31 -0400
Subject: [R] FFT (fast fourier transform) function
Message-ID: <BDFB8C2A6273D211B73C0060B067443C019D10C1@msgbos537nts.fmr.com>

Here's how I interpret output from fft().  (It's equivalent to Yudi
Pawitan's response, just with different scaling conventions.)
 
y <- 1:4
N <- length(y)   #  N=4
x <- 0:(N-1)      #  x = 0,1,2,3
z <- fft(y)/N     #  z = c(2.5,  -.5+.5i,  -.5+0i,  -.5-.5i)
 
Then the fit function is
yf <- 2.5 - .5 * cos(2*pi*x/N) - .5 * sin(2*pi*x/N) - .5 * cos(4*pi*x/N) -
.5 * cos(6*pi*x/N) + .5 * sin(6*pi*x/N)
 
which exactly matches y for integer values of x.

-- David Brahm 
    Fidelity Investments 
    (617)563-7438 

 

-----Original Message-----
From: mike olsen [mailto:mikeo at syncrasy.com]
Sent: Tuesday, May 30, 2000 7:54 PM
To: r-help at hypatia.math.ethz.ch
Subject: [R] FFT (fast fourier transform) function


I'm having trouble with the fast fourier transform function ("fft").
Apparently, I'm not understanding what R's function is actually doing, let
me show you with the example in the R manual:
 
if I put in:
 
    y <- 1:4
    fft(x)
 
i'll get this back:
 
10+0i    -2+2i    -2+0i    -2-2i
 
this is what I'm assuming:
 
R is interpreting the increasing values of y to have an associated value
that is incremented as x increases (a plot will show y against an index, so
in this case we have something like y=x over the interval 1 to 4).
The real value returned represents the coeffient of the cosine value, the
imaginary value that of the sine, for n=0 to N-1 where N is the number of
data points and n is the coeffient inside the sine/cosine terms, so that the
output would be interpreted as:
 
10 - 2 cos(2 pi*x) + 2 sin (2 pi * x) -2 cos (4 pi * x) -2 cos(6 pi * x) - 2
sin (6 pi * x)
 
which looks nothing like y=x over the interval (1,4).
 
Basically, I want to be able to fit fast fourier transforms to several sets
of empirical data. Controlling the period would also be important here, and
the R function does not seem to have a way of handling that.  I would
appreciate any information on what this function is actually doing, or
information on other R packages that are able to do transforms.
 
Thank you for taking the time to look at this,
 
Michael Olsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed May 31 17:45:03 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 31 May 2000 08:45:03 -0700 (PDT)
Subject: [R] survey methods 
In-Reply-To: <010c01bfc949$60c6cc60$62f1a3ca@Albert>
Message-ID: <Pine.GSO.4.21.0005310837570.689-100000@atlas.biostat.washington.edu>

On Mon, 29 May 2000, Jose Ramon G. Albert wrote:

> i've just gotten hold of STATA and see that there are a number
> of helpful functions for survey based analysis that takes into
> account stratification, weights, etc. is there something
> similar in R or is this on a to-do list?

I would like to have this sort of code and have vague plans to look into
it but nothing concrete. It would be useful to distinguish between
sampling weights and frequency weights the way Stata does, particularly
with inverse-probability weighting techniques becoming more popular in
biostatistics.  I'm most likely to get around to this for lm and glm
rather than for descriptive statistics, though.

At the moment, though, I think the traditional response "if
you want Stata you know where to find it".  You can transfer data easily
between Stata and R using the stataread package, and Stata is very good at
the things it is good at (which are in many ways orthogonal to the
things R is good at)


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed May 31 18:07:46 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 31 May 2000 18:07:46 +0200
Subject: [R] no warning with NULL component in data.frame
Message-ID: <3.0.32.20000531180745.00909db0@162.38.183.200>

Dear all,

I sent a message a few days ago about NULL components in list or
data.frame. To reiterate, if I have a list or a data.frame, and try to
manipulate some elements using the $ symbol, no warning is given if the
elements do not exist.

	> DF <- data.frame(x=c(1,2), y=c(3,4))
	> DF
	  x y
	1 1 3
	2 2 4
	> tmp <- c(DF$u, DF$v)
	> tmp
	NULL

Practically, I met the problem recently reading some data with:

	DF <- read.table(..., header=TRUE)

where the column names were L1, L3, L4, L5, L6 (L2 missing), and then went
on concatenating all these:

	X <- c(DF$L1, DF$L2, DF$L3, DF$L4, DF$L5, DF$L6)

which, of course, gave no warning, but then I realized that the length of X
was not what I expected.

A work-around to this particular problem would be to attach the data.frame:

	> attach(DF)
	> tmp <- c(u, v)
	Error: Object "u" not found

But yet, I do not understand the reason for this:

	> DF$anything.you.could.imagine
	NULL

since I would expect something like:

	> DF$anything.you.could.imagine
	Error: Component "anything.you.could.imagine" not found in Object "DF"

I suppose this has more to do with the design of the language. I understand
too that components within lists or data frames are not objects. 

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed May 31 18:30:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 31 May 2000 09:30:46 -0700 (PDT)
Subject: [R] no warning with NULL component in data.frame
In-Reply-To: <3.0.32.20000531180745.00909db0@162.38.183.200>
Message-ID: <Pine.GSO.4.21.0005310921090.689-100000@atlas.biostat.washington.edu>

On Wed, 31 May 2000, Emmanuel Paradis wrote:


> I sent a message a few days ago about NULL components in list or
> data.frame. To reiterate, if I have a list or a data.frame, and try to
> manipulate some elements using the $ symbol, no warning is given if the
> elements do not exist.

"It's not a bug, it's a feature"

You can do is.null(list$component) to test very efficiently whether the
component is there, which would be hard if it gave an error. Also, it
turns out to be useful to be able to handle a list which may have missing
components without a lot of special cases and without errors.

Anyway, it's a fairly fundamental part of the language.

There might be a case for warning if you access a non-existent element of
a data frame. The problem here is that a lot of correct and functional 
code probably does access non-existent elements and the warnings would
get annoying.

Accessing non-existent dataframe columns with "[" does give an error, so
you could do that instead.

>data(trees)
>trees$aardvark
NULL
>trees[,"aardvark"]
Error in [.data.frame(trees, , "aardvark") : 
        subscript out of bounds


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 31 18:38:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 31 May 2000 17:38:13 +0100 (BST)
Subject: [R] no warning with NULL component in data.frame
Message-ID: <200005311638.RAA00935@toucan.stats.ox.ac.uk>


> Date: Wed, 31 May 2000 18:07:46 +0200
> To: r-help <r-help at stat.math.ethz.ch>
> From: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
> Subject: [R] no warning with NULL component in data.frame
> 
> Dear all,
> 
> I sent a message a few days ago about NULL components in list or
> data.frame. To reiterate, if I have a list or a data.frame, and try to
> manipulate some elements using the $ symbol, no warning is given if the
> elements do not exist.
> 
> 	> DF <- data.frame(x=c(1,2), y=c(3,4))
> 	> DF
> 	  x y
> 	1 1 3
> 	2 2 4
> 	> tmp <- c(DF$u, DF$v)
> 	> tmp
> 	NULL
> 
> Practically, I met the problem recently reading some data with:
> 
> 	DF <- read.table(..., header=TRUE)
> 
> where the column names were L1, L3, L4, L5, L6 (L2 missing), and then went
> on concatenating all these:
> 
> 	X <- c(DF$L1, DF$L2, DF$L3, DF$L4, DF$L5, DF$L6)
> 
> which, of course, gave no warning, but then I realized that the length of X
> was not what I expected.

Yes, but did you not want c(DF, recursive=T)?

> A work-around to this particular problem would be to attach the data.frame:
> 
> 	> attach(DF)
> 	> tmp <- c(u, v)
> 	Error: Object "u" not found
> 
> But yet, I do not understand the reason for this:
> 
> 	> DF$anything.you.could.imagine
> 	NULL
> 
> since I would expect something like:
> 
> 	> DF$anything.you.could.imagine
> 	Error: Component "anything.you.could.imagine" not found in Object "DF"
> 
> I suppose this has more to do with the design of the language.  

Yes, it's a feature.  People from Unix backgrounds appreciate getting
sensible answers rather than warnings.  You asked for something that
did not exist, and you got the empty set back.  Makes sense!  It's
up to you to check for it.  After all, if in C you try to open a
non-existent file, you don't get a warning, just a NULL result.

> I understand
> too that components within lists or data frames are not objects.

They _are_ full-status objects.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed May 31 19:35:45 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Wed, 31 May 2000 12:35:45 -0500 (CDT)
Subject: [R] Drawing Trig Function
In-Reply-To: <Pine.OSF.4.05.10005311159550.10679-100000@alnair.uio.no>
Message-ID: <XFMail.20000531123545.s-luppescu@uchicago.edu>

On 31-May-2000 Kjetil Kjernsmo wrote:
>>1) How do I comment out several lines in R?  Do I need to type # in the
>>beginning of each line?
> 
> If you are using ESS (I saw you're on Win98, but there is NTEmacs... :-)),
> you can mark the region and go
> M-x comment-region

The other way is to put point at the beginning of the first line to be
commented, set the mark (C-@), move point to the beginning of the last line to
be commented, then C-x r t #. This works without ESS, too.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
I'll show you MY telex number if you show me YOURS ...
>> Sent on 31-May-2000 at 12:33:08 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Wed May 31 20:29:53 2000
From: denis at mail.cor.epa.gov (Denis White)
Date: Wed, 31 May 2000 11:29:53 -0700 (PDT)
Subject: [R] subset of matrix vs data frame
Message-ID: <Pine.SUN.3.91.1000531112236.7667H-100000@okapi.cor.epa.gov>


In Splus this works,

> a <- data.frame(matrix(round(runif(10),0),nrow=2,ncol=5))
> a[a == 1] <- 2

but in R only if a is matrix,

> a[a == 1] <- 2
Error in [<-.data.frame(*tmp*, a == 1, value = 2) : 
        matrix subscripts not allowed in replacement

Was this a design decision?  Sorry if I missed it in
An Introduction to R.

Denis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 31 21:30:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 31 May 2000 20:30:03 +0100 (BST)
Subject: [R] subset of matrix vs data frame
In-Reply-To: <Pine.SUN.3.91.1000531112236.7667H-100000@okapi.cor.epa.gov>
Message-ID: <Pine.GSO.4.05.10005312018520.19340-100000@auk.stats>

On Wed, 31 May 2000, Denis White wrote:

> In Splus this works,
> 
> > a <- data.frame(matrix(round(runif(10),0),nrow=2,ncol=5))
> > a[a == 1] <- 2
> 
> but in R only if a is matrix,
> 
> > a[a == 1] <- 2
> Error in [<-.data.frame(*tmp*, a == 1, value = 2) : 
>         matrix subscripts not allowed in replacement
> 
> Was this a design decision?  Sorry if I missed it in
> An Introduction to R.

S-PLUS differs from the original S here, as I understand it.
So it was an S-PLUS design decision as I understand it. S-PLUS says:

        else if(nargs() == 3) {
# really ambiguous, but follow common use as if list, 
# except when one subscript is a logical matrix the shape of x, then treat
# as if x were a matrix.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 31 22:31:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 May 2000 22:31:32 +0200
Subject: [R] subset of matrix vs data frame
In-Reply-To: Prof Brian D Ripley's message of "Wed, 31 May 2000 20:30:03 +0100 (BST)"
References: <Pine.GSO.4.05.10005312018520.19340-100000@auk.stats>
Message-ID: <x2u2fewjff.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Wed, 31 May 2000, Denis White wrote:
> 
> > In Splus this works,
> > 
> > > a <- data.frame(matrix(round(runif(10),0),nrow=2,ncol=5))
> > > a[a == 1] <- 2
> > 
> > but in R only if a is matrix,
> > 
> > > a[a == 1] <- 2
> > Error in [<-.data.frame(*tmp*, a == 1, value = 2) : 
> >         matrix subscripts not allowed in replacement
> > 
> > Was this a design decision?  Sorry if I missed it in
> > An Introduction to R.
> 
> S-PLUS differs from the original S here, as I understand it.
> So it was an S-PLUS design decision as I understand it. S-PLUS says:
> 
>         else if(nargs() == 3) {
> # really ambiguous, but follow common use as if list, 
> # except when one subscript is a logical matrix the shape of x, then treat
> # as if x were a matrix.

Semantically it is a rather strange thing to do since elements
in different columns of a data matrix can be of different type. 
And some really weird stuff *does* happen in Splus 3.4:

>  a<-data.frame(a=1:10,b=factor(1:10),c=I(as.character(1:10)))
> a[a==5]<-"x"
Warning messages:
  replacement values not all in levels(x): NA's generated in:
> "[<-.factor"(.A0,
        i[, k, drop = T], value = .A1)
> a        
    a  b  c 
 1  1  1 1 
 2  2  2 2 
 3  3  3 3 
 4  4  4 4 
 5  x NA x 
 6  6  6 6 
 7  7  7 7 
 8  8  8 8 
 9  9  9 9 
10 10 10 10
> a[a==4]<-"y"
Warning messages:
1: Data length is not an even multiple of group length in:
> split(Value,
        factor(col(i)[i], levels = seq(len = ncol(i))))
2: replacement values not all in levels(x): NA's generated in:
> "[<-.factor"(.\
        A0, i[, k, drop = T], value = .A1)
3: replacement values not all in levels(x): NA's generated in:
> "[<-.factor"(.\
        A0, i[, k, drop = T], value = .A1)
> a
    a  b  c 
 1  1  1 1 
 2  2  2 2 
 3  3  3 3 
 4 NA NA 4 
 5  x NA x 
 6  6  6 6 
 7  7  7 7 
 8  8  8 8 
 9  9  9 9 
10 10 10 10


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rschick at neaq.org  Wed May 31 23:39:09 2000
From: rschick at neaq.org (Robert Schick)
Date: Wed, 31 May 2000 17:39:09 -0400
Subject: [R] Installing add on packages
Message-ID: <3.0.1.32.20000531173909.00f06a78@mail.neaq.org>

Hi- I'm a complete newbie trying to install R and the 'tree' package on a
linux box. I installed R successfully using an RPM for Redhat 6.2. I
downloaded the tree*.gz file, ran tar, the fired up R. When I'm at the
>prompt in R, and type 'R INSTALL /usr/apps/tree' I get: 'Error: Syntax
error' I want tree to end up in the default directory so I did not specify
any different paths. Is my syntax wrong?  Thanks.

********************************************************************

Rob Schick
Assistant Scientist/GIS
Edgerton Research Lab
New England Aquarium
Central Wharf
Boston, MA 02110-3399

Phone: 617.742.5198
Fax: 617.723.9705
rschick at neaq.org
http://www.marinegis.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


