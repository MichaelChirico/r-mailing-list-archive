From luke at goose.stat.umn.edu  Wed Nov  1 00:07:40 2000
From: luke at goose.stat.umn.edu (Luke Tierney)
Date: Tue, 31 Oct 2000 17:07:40 -0600 (CST)
Subject: [R] Compiling R in Caldera Linux
In-Reply-To: <x2y9z4bpmd.fsf@blueberry.kubism.ku.dk> from Peter Dalgaard BSA at "Oct 31, 2000 11:41:14 pm"
Message-ID: <200010312307.RAA02998@goose.stat.umn.edu>

Peter Dalgaard BSA wrote:
> Chris Roed <croed at mb.sympatico.ca> writes:
> 
> > I am new to Linux and its ways, and so I am having a bit of trouble compiling R.
> > The system I am using is Caldera Open Linux 2.4.  I have egcs and g77 version
> > 2.91.66 installed and they seem to work fine.  When I try to run the 
> > configure script for R, it quits at the test of g77 with an error "Can't find
> > -lg2c". 
> >  Does this error mean I am missing a library, and if so, which one?
> 
> Yes, libg2c... As far as I remember (it's been a while since we had
> reports on Caldera) the wisest thing to do is probably to install f2c
> and reconfigure using --with-f2c. 
> 
> I'm pretty sure that the root of the problem is that Caldera simply
> forgot to package that library with the g77 compiler. If you really
> want it, it might be best simply to recompile the compiler (which
> isn't all that hard, but not completely trivial either).
> 
> There's a remote chance that it might work to copy libf2c.a to
> libg2c.a in whatever corresponds to RedHats
> /usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/ directory.
> 

I believe they forgot the g2c library with 2.3 and fairly quickly
posted an rpm that fixed that on their web site--you might check
there.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From croed at mb.sympatico.ca  Wed Nov  1 01:52:05 2000
From: croed at mb.sympatico.ca (Chris Roed)
Date: Tue, 31 Oct 2000 18:52:05 -0600
Subject: [R] Compiling R in Caldera Linux
In-Reply-To: <200010312307.RAA02998@goose.stat.umn.edu>
References: <200010312307.RAA02998@goose.stat.umn.edu>
Message-ID: <00103118542101.01039@elvis.nodomain.nowhere>

On Tue, 31 Oct 2000, you wrote:
> Peter Dalgaard BSA wrote:
> > Chris Roed <croed at mb.sympatico.ca> writes:
> > 
> > > I am new to Linux and its ways, and so I am having a bit of trouble compiling R.
> > > The system I am using is Caldera Open Linux 2.4.  I have egcs and g77 version
> > > 2.91.66 installed and they seem to work fine.  When I try to run the 
> > > configure script for R, it quits at the test of g77 with an error "Can't find
> > > -lg2c". 
> > >  Does this error mean I am missing a library, and if so, which one?
> > 
> > Yes, libg2c... As far as I remember (it's been a while since we had
> > reports on Caldera) the wisest thing to do is probably to install f2c
> > and reconfigure using --with-f2c. 
> > 
> > I'm pretty sure that the root of the problem is that Caldera simply
> > forgot to package that library with the g77 compiler. If you really
> > want it, it might be best simply to recompile the compiler (which
> > isn't all that hard, but not completely trivial either).
> > 
> > There's a remote chance that it might work to copy libf2c.a to
> > libg2c.a in whatever corresponds to RedHats
> > /usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/ directory.
> > 
> 
> I believe they forgot the g2c library with 2.3 and fairly quickly
> posted an rpm that fixed that on their web site--you might check
> there.
> 
> luke
> 
> 
Exactly right.  The library is still missing from 2.4, but the RPM from their
site fixed that.  R compiled perfectly after I updated g77.
Thanks for your help
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uctpzcs at ucl.ac.uk  Wed Nov  1 08:42:23 2000
From: uctpzcs at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 1 Nov 2000 07:42:23 +0000
Subject: [R] Straight
In-Reply-To: <Pine.GSO.4.05.10010311958060.2911-100000@auk.stats>; from ripley@stats.ox.ac.uk on Tue, Oct 31, 2000 at 08:01:57PM +0000
References: <Pine.GSO.4.21.0010311151460.1810-100000@atlas.biostat.washington.edu> <Pine.GSO.4.05.10010311958060.2911-100000@auk.stats>
Message-ID: <20001101074223.B6258@socrates-a.ucl.ac.uk>


On Tue, Oct 31, 2000 at 08:01:57PM +0000, Prof Brian D Ripley wrote:
> Tell us exactly what you want, but there is a fair chance it is in base R.

OK. 1) Linear restrictions of parameters (Rb {=,<,>} c) and confidence
intervals (numerics, not graphics). [I've just tried to be 'polite' and
gradual, but this is more comfortable; I have not tried MASS yet, but I will.]

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  1 09:23:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Nov 2000 08:23:36 +0000 (GMT)
Subject: [R] Straight
In-Reply-To: <20001101074223.B6258@socrates-a.ucl.ac.uk>
Message-ID: <Pine.GSO.4.05.10011010816250.3034-100000@toucan.stats>

On Wed, 1 Nov 2000, Zsombor Cseres-Gergely wrote:

> 
> On Tue, Oct 31, 2000 at 08:01:57PM +0000, Prof Brian D Ripley wrote:
> > Tell us exactly what you want, but there is a fair chance it is in base R.
> 
> OK. 1) Linear restrictions of parameters (Rb {=,<,>} c) and confidence

What do you want there: estimation under restrictions or tests of linear
combinations?  The latter is a simple R programming exercise. I don't know
how to do the first easily (nor do I see why I would need to: normally one
can re-parametrize and test nested models via anova),.

> intervals (numerics, not graphics). [I've just tried to be 'polite' and
> gradual, but this is more comfortable; I have not tried MASS yet, but I will.]

MASS has confidence intervals (generic function confint), but again,
a simple R programming exercise for linear models.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Nov  1 09:55:11 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 01 Nov 2000 21:55:11 +1300
Subject: [R] Loop elimination question
In-Reply-To: <00103118542101.01039@elvis.nodomain.nowhere>
References: <200010312307.RAA02998@goose.stat.umn.edu>
 <200010312307.RAA02998@goose.stat.umn.edu>
Message-ID: <200011010852.VAA14602@gosset.stats.waikato.ac.nz>

I want to make a vector built up from several parts. Each part consists of 3
followed by a variable number of 4s. The number of 4s is given by a vector
called dim, say

dim <- c(3,1,4,1,5)

>From this I want to produce 

3 4 4 4 3 4 3 4 4 4 4 3 4 3 4 4 4 4 4

Now the following code seems to work

type <- numeric(0)
for (j in seq(along=dim)) {
      type <- c(type,3,rep(4,dim[j]))}

and I won't really need it to work for very large dim vectors so you could say
my problem is solved. I am wondering, though, if the loop can be eliminated.



Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  1 10:21:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Nov 2000 09:21:36 +0000 (GMT)
Subject: [R] Loop elimination question
In-Reply-To: <200011010852.VAA14602@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.10011010916020.3116-100000@toucan.stats>

On Wed, 1 Nov 2000, Murray Jorgensen wrote:

> I want to make a vector built up from several parts. Each part consists of 3
> followed by a variable number of 4s. The number of 4s is given by a vector
> called dim, say
> 
> dim <- c(3,1,4,1,5)
> 
> From this I want to produce 
> 
> 3 4 4 4 3 4 3 4 4 4 4 3 4 3 4 4 4 4 4
> 
> Now the following code seems to work
> 
> type <- numeric(0)
> for (j in seq(along=dim)) {
>       type <- c(type,3,rep(4,dim[j]))}
> 
> and I won't really need it to work for very large dim vectors so you could say
> my problem is solved. I am wondering, though, if the loop can be eliminated.

Using rep:

rep(rep(c(3,4), length(dim)), as.vector(t(cbind(1, dim))))

for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Wed Nov  1 11:51:01 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Wed, 1 Nov 2000 11:51:01 +0100 
Subject: [R] Loop elimination question
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E880@exdkba03.novo.dk>

How  about:

> dim
[1] 3 1 4 1 5
> N <- length(dim)
> one <- rep(c(3,4),N)
> two <- c(rep(1,N),dim)
> three <- rep(1:N,rep(2,N))+N*rep(0:1,N)
> rep(one,two[three])
 [1] 3 4 4 4 3 4 3 4 4 4 4 3 4 3 4 4 4 4 4

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


> -----Original Message-----
> From: Murray Jorgensen [mailto:maj at waikato.ac.nz]
> Sent: 1. november 2000 09:55
> To: r-help at stat.math.ethz.ch
> Subject: [R] Loop elimination question
> 
> 
> I want to make a vector built up from several parts. Each 
> part consists of 3
> followed by a variable number of 4s. The number of 4s is 
> given by a vector
> called dim, say
> 
> dim <- c(3,1,4,1,5)
> 
> From this I want to produce 
> 
> 3 4 4 4 3 4 3 4 4 4 4 3 4 3 4 4 4 4 4
> 
> Now the following code seems to work
> 
> type <- numeric(0)
> for (j in seq(along=dim)) {
>       type <- c(type,3,rep(4,dim[j]))}
> 
> and I won't really need it to work for very large dim vectors 
> so you could say
> my problem is solved. I am wondering, though, if the loop can 
> be eliminated.
> 
> 
> 
> Murray Jorgensen,  Department of Statistics,  U of Waikato, 
> Hamilton, NZ
> -----[+64-7-838-4773]---------------------------[maj at waikato.a
> c.nz]-----
> "Doubt everything or believe everything:these are two equally 
> convenient
> strategies. With either we dispense with the need to think."
> http://www.stats.waikato.ac.nz/Staff/maj.html          - 
> Henri Poincare'
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  1 12:23:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Nov 2000 12:23:12 +0100
Subject: [R] Loop elimination question
In-Reply-To: Prof Brian Ripley's message of "Wed, 1 Nov 2000 09:21:36 +0000 (GMT)"
References: <Pine.GSO.4.05.10011010916020.3116-100000@toucan.stats>
Message-ID: <x2wveogcm7.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> rep(rep(c(3,4), length(dim)), as.vector(t(cbind(1, dim))))

Or (using slightly dirtier tricks):

N <- length(dim)
rep(rep(3:4,N),rbind(1,dim))

And of course, the generic (although likely less efficient) approach
would be

unlist(sapply(dim,function(x)c(3,rep(4,x))))
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Wed Nov  1 15:00:41 2000
From: rls at pincock.com (Bob Sandefur)
Date: Wed, 01 Nov 2000 06:00:41 -0800
Subject: [R] Performance note: Preallocating helps? and two questions
Message-ID: <s9ffb1ad.064@hc4>

hi-
 in r 1.1 on windows 2000
 with length(AU) of 35833
 AUcap30<-0
 for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
but
AUcap30<-AU 
 for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
is very quick (a few seconds)

Is this performance difference common in r (ie is linux the same way)?

Are there other tricks to speed up R (in windows) (besides a faster processor and more memory)?

thanx

bob sandefur

Principal Geostatistician
Pincock Allen & Holt
International Minerals Consultants
274 Union Suite 200
Lakewood CO 80228
USA
303 914-4467  v
303 987-8907 f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cafa at cin.ufpe.br  Wed Nov  1 15:41:34 2000
From: cafa at cin.ufpe.br (Cesar Augusto de Freitas Anselmo)
Date: Wed, 1 Nov 2000 11:41:34 -0300 (EST)
Subject: [R] triangular matrix
Message-ID: <Pine.GSO.4.02.10011011135200.8603-100000@paulista>

How I make the below matrix

| a^0	0	0	...	0   |
| a^1	a^0	0	...	0   |
| a^2	a^1	a^0	...	0   | 
| 	.			    |	
| 	.			    |
| 	.			    |			
| a^n	a^(n-1) a^(n-2) ...	a^0 |

with no loops, where "a" is a constant?

========================================================================
C?zar de Freitas
Depto. de Estat?stica - UFPE
Recife - Pernambuco - Brasil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Nov  1 15:45:39 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 01 Nov 2000 15:45:39 +0100
Subject: [R] Performance note: Preallocating helps? and two questions
In-Reply-To: <s9ffb1ad.064@hc4>
Message-ID: <B625EB23.69E2%pflugshaupt@geobot.umnw.ethz.ch>

> AUcap30<-0
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i])
> took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
> but
> AUcap30<-AU 
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i])
> is very quick (a few seconds)


> Is this performance difference common in r (ie is linux the same way)?


The crucial thing is that in your first example, AUcap30 is set to 0 (one
number), whereas in the second one, it's initialized as a vector of the same
size as AU. So, in the first one, R has to grow the variable for each
iteration of the loop, and in the second, it just fills in an already
existing vector.

I've noticed similar speed differences for this constellation on Linux, or
on S-Plus (Win or Unix). It really pays to initialize objects in the size
you're going to need.


Cheers

Kaspar Pflugshaupt
-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  1 15:47:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Nov 2000 15:47:47 +0100
Subject: [R] Performance note: Preallocating helps? and two questions
In-Reply-To: "Bob Sandefur"'s message of "Wed, 01 Nov 2000 06:00:41 -0800"
References: <s9ffb1ad.064@hc4>
Message-ID: <x2r94vhhpo.fsf@blueberry.kubism.ku.dk>

"Bob Sandefur" <rls at pincock.com> writes:

> hi-
>  in r 1.1 on windows 2000
>  with length(AU) of 35833
>  AUcap30<-0
>  for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
> took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
> but
> AUcap30<-AU 
>  for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
> is very quick (a few seconds)
> 
> Is this performance difference common in r (ie is linux the same way)?

Yes. The problem with the first version is that vectors are allocated
just long enough. Assigning past the end of one will stretch it, but
that involves allocating a new longer vector, copying the data into
the first N elements and then assigning the new value to the N+1st
element. So you have 35833 allocations of size 1,2,3,4,5,....,35833 in
the above code, and that is going to take some time. 

The canonical form for a loop calculating a vector element by element
would be

x<-numeric(N)
for (i in 1:N) # often better: "i in seq(length=N)"
    x[i]<-...

> Are there other tricks to speed up R (in windows) (besides a faster processor and more memory)?

Several...

One of the more effective ones is vectorisation: Try

AUcap30 <- pmin(30,AU)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Nov  1 16:36:05 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 01 Nov 2000 16:36:05 +0100
Subject: [R] triangular matrix
References: <Pine.GSO.4.02.10011011135200.8603-100000@paulista>
Message-ID: <3A003865.53D16341@statistik.uni-dortmund.de>

Cesar Augusto de Freitas Anselmo wrote:
> 
> How I make the below matrix
> 
> | a^0   0       0       ...     0   |
> | a^1   a^0     0       ...     0   |
> | a^2   a^1     a^0     ...     0   |
> |       .                           |
> |       .                           |
> |       .                           |
> | a^n   a^(n-1) a^(n-2) ...     a^0 |
> 
> with no loops, where "a" is a constant?

What about
  ma <- matrix(rep(c(a^(0:n), 0), n+1), nrow=n+1, ncol=n+1)
  ma[upper.tri(ma)] <- 0


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Wed Nov  1 16:53:44 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Wed, 01 Nov 2000 10:53:44 -0500
Subject: [R] Performance note: Preallocating helps? and two questions
References: <s9ffb1ad.064@hc4>
Message-ID: <3A003C88.940CFCA7@discrete.concordia.ca>

I'm not sure why the first method works so badly although it is
clearly not something you should do.  You are trying to use indices
of 1:35833 on a vector of length 1.  With the second method the vector
that you are using is at least of the correct length.  On my Sun Sparc
the first method takes 3 minutes and the second takes 9 seconds.
Interestingly on S-plus 3.4 for Unix, the two methods take about the
same time (12 seconds each).  My personal feeling is that the first
method should result in an error message (or at least a warning).

In any case there is no need for a loop here since
AUcap30 <- pmin(AU, 30)
does what you want in about half a second.

Angelo

Bob Sandefur wrote:
> 
> hi-
>  in r 1.1 on windows 2000
>  with length(AU) of 35833
>  AUcap30<-0
>  for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i])
> took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
> but
> AUcap30<-AU
>  for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i])
> is very quick (a few seconds)
> 
> Is this performance difference common in r (ie is linux the same way)?
> 
> Are there other tricks to speed up R (in windows) (besides a faster processor and more memory)?
> 
> thanx
> 
> bob sandefur
> 
> Principal Geostatistician
> Pincock Allen & Holt
> International Minerals Consultants
> 274 Union Suite 200
> Lakewood CO 80228
> USA
> 303 914-4467  v
> 303 987-8907 f
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Nov  1 17:35:00 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Nov 2000 10:35:00 -0600
Subject: [R] Performance note: Preallocating helps? and two questions
In-Reply-To: Angelo Canty's message of "Wed, 01 Nov 2000 10:53:44 -0500"
References: <s9ffb1ad.064@hc4> <3A003C88.940CFCA7@discrete.concordia.ca>
Message-ID: <6ru29rhcqz.fsf@franz.stat.wisc.edu>

Angelo Canty <canty at discrete.Concordia.CA> writes:

> I'm not sure why the first method works so badly although it is
> clearly not something you should do.  You are trying to use indices
> of 1:35833 on a vector of length 1.  With the second method the vector
> that you are using is at least of the correct length.  On my Sun Sparc
> the first method takes 3 minutes and the second takes 9 seconds.
> Interestingly on S-plus 3.4 for Unix, the two methods take about the
> same time (12 seconds each).  My personal feeling is that the first
> method should result in an error message (or at least a warning).

The semantics of the S language allow you to assign an element to a
vector even if the index did not exist previously.  You can use this
to extend vectors.

The way it is implemented is to allocate a new vector, copy the
contents of the previous version of the vector to the leading part,
then install the new element(s).  

That is why the first version of this code is so slow.  The initial
parts of the vector are being copied tens of thousands of times.  In
the second version the new elements can be installed without having to
copy the previous contents.

> In any case there is no need for a loop here since
> AUcap30 <- pmin(AU, 30)
> does what you want in about half a second.

Indeed.  It helps to look for these functions.

I heartily recommend reading section 8.7 of Venables and Ripley's "S
Programming" where they give a checklist for S programmers.  The first
item on their checklist is to decide if you really should be using
pmin or pmax where you have min or max.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov  1 17:47:25 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 1 Nov 2000 11:47:25 -0500 (EST)
Subject: [R] triangular matrix
In-Reply-To: <Pine.GSO.4.02.10011011135200.8603-100000@paulista>
Message-ID: <Pine.LNX.4.10.10011011146200.12267-100000@bolker.zoo.ufl.edu>


  Here's a way:

tmpmat <- function(a,n) {
  x <- matrix(a,nrow=n,ncol=n)
  x <- x^pmax(0,row(x)-col(x))
  x[row(x)<col(x)] <- 0
  x
}


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Nov  1 17:40:55 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 01 Nov 2000 17:40:55 +0100
Subject: [R] Performance note: Preallocating helps? and two
  questions
Message-ID: <3.0.32.20001101174055.009219f0@162.38.183.200>

At 06:00 01/11/00 -0800, you wrote:
>hi-
> in r 1.1 on windows 2000
> with length(AU) of 35833
> AUcap30<-0
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
>took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
>but
>AUcap30<-AU 
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
>is very quick (a few seconds)
>
>Is this performance difference common in r (ie is linux the same way)?

I do not think this is a problem with memory. In the first case, you have
length(AUcap30)==1, thus your loop is non-sense. I would have expected an
error message here like "subscript out of range for AUcap30" (is this a
bug? it seems R is trapped in the loop). In the second case, you have:

> length(AU)==length(AUcap30)
[1] TRUE

and things are fine.

Emmanuel Paradis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Nov  1 17:45:45 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 01 Nov 2000 17:45:45 +0100
Subject: [R] Performance note: Preallocating helps? and two
  questions
Message-ID: <3.0.32.20001101174545.00922100@162.38.183.200>

Ignore my reply as I have now received Peter's and Kaspar's judicious ones.

EP

At 06:00 01/11/00 -0800, you wrote:
>hi-
> in r 1.1 on windows 2000
> with length(AU) of 35833
> AUcap30<-0
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
>took over an hour on pentium II 300 mhertz (I esc'ed before it finished)
>but
>AUcap30<-AU 
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i]) 
>is very quick (a few seconds)
>
>Is this performance difference common in r (ie is linux the same way)?

I do not think this is a problem with memory. In the first case, you have
length(AUcap30)==1, thus your loop is non-sense. I would have expected an
error message here like "subscript out of range for AUcap30" (is this a
bug? it seems R is trapped in the loop). In the second case, you have:

> length(AU)==length(AUcap30)
[1] TRUE

and things are fine.

Emmanuel Paradis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Nov  1 17:41:57 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 01 Nov 2000 11:41:57 -0500
Subject: [R] triangular matrix
Message-ID: <8525698A.005BD1E5.00@EPAHUB2.RTP.EPA.GOV>



Try this:
> n <- 3
> a <- 2
> out <- diag(n+1)
> out[lower.tri(out)] <-
a^apply(matrix(1:n,ncol=1),1,function(x)c(rep(0,x),1:(n-x+1)))[lower.tri(out)]
> out
     [,1] [,2] [,3] [,4]
[1,]    1    0    0    0
[2,]    2    1    0    0
[3,]    4    2    1    0
[4,]    8    4    2    1

R. Woodrow Setzer, Jr.                                            Phone: (919)
541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-55; US EPA; RTP, NC 27711


|--------+----------------------->
|        |          cafa at cin.ufpe|
|        |          .br          |
|        |                       |
|        |          11/01/2000   |
|        |          09:41 AM     |
|        |                       |
|--------+----------------------->
  >--------------------------------------------------------------------------|
  |                                                                          |
  |       To:     r-help at stat.math.ethz.ch, cafa at cin.ufpe.br                 |
  |       cc:                                                                |
  |       Subject:     [R] triangular matrix                                 |
  >--------------------------------------------------------------------------|




-------------- next part --------------


How I make the below matrix

| a^0     0    0    ...  0   |
| a^1     a^0  0    ...  0   |
| a^2     a^1  a^0  ...  0   |
|    .                  |
|    .                  |
|    .                  |
| a^n     a^(n-1) a^(n-2) ... a^0 |

with no loops, where "a" is a constant?

========================================================================
C?zar de Freitas
Depto. de Estat?stica - UFPE
Recife - Pernambuco - Brasil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



From mjpocern at ouray.cudenver.edu  Wed Nov  1 18:37:54 2000
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Wed, 1 Nov 2000 10:37:54 -0700
Subject: [R] Forward stepwise regression
Message-ID: <003901c0442a$77afd0a0$c4c8c284@cudenver.edu>

I have a question regarding doing forward stepwise regression using the step function and an lm model.

I am trying to run a stepwise procedure that will add a predictor variable, one at a time, conduct an F test to determine whether or not to drop any previous terms,  and terminate when no other predictors qualify to be added.  Using the step function and looking at the example in the book, I have the following questions.

Is the use of step (lm, direction="forward") appropriate for forward stepwise regression?
Should all terms be included in the original lm model?
Should all possible models be included in the scope parameter?  Can I generate all possible models with a single command?

Thank you for your comments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001101/90703829/attachment.html

From z.cseres-gergely at ucl.ac.uk  Wed Nov  1 18:45:09 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 1 Nov 2000 17:45:09 +0000
Subject: [R] Straight
In-Reply-To: <Pine.GSO.4.05.10011010816250.3034-100000@toucan.stats>; from ripley@stats.ox.ac.uk on Wed, Nov 01, 2000 at 08:23:36AM +0000
References: <20001101074223.B6258@socrates-a.ucl.ac.uk> <Pine.GSO.4.05.10011010816250.3034-100000@toucan.stats>
Message-ID: <20001101174509.B5249@socrates-a.ucl.ac.uk>

On Wed, Nov 01, 2000 at 08:23:36AM +0000, Prof Brian Ripley wrote:

> What do you want there: estimation under restrictions or tests of linear
> combinations?  The latter is a simple R programming exercise. I don't know

Sorry for bad wording, I meant the latter. And this is why I did not ask this
before: easy, _provided_ we have the covariance matrix of the estimators. Now
I have the answer also for this, so it is really straight. (I still do not
know, how summarize() gets it, since in a lm.model, I have not found the
underlying data for it [or overlooked]. The reason I did not do a X'X was that
I believe that this is expensive. I have not tried, but my previous
experiences (again: Stata) tells me this. Or am I wrong, and this is cheap in R?

> how to do the first easily (nor do I see why I would need to: normally one
> can re-parametrize and test nested models via anova),.

Sure, this is not an issue.

> MASS has confidence intervals (generic function confint), but again,
> a simple R programming exercise for linear models.

Same appies.

Thank you,

Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  1 19:09:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Nov 2000 18:09:33 +0000 (GMT)
Subject: [R] Straight
In-Reply-To: <20001101174509.B5249@socrates-a.ucl.ac.uk>
Message-ID: <Pine.GSO.4.05.10011011802340.616-100000@auk.stats>

On Wed, 1 Nov 2000, Zsombor Cseres-Gergely wrote:

> On Wed, Nov 01, 2000 at 08:23:36AM +0000, Prof Brian Ripley wrote:
> 
> > What do you want there: estimation under restrictions or tests of linear
> > combinations?  The latter is a simple R programming exercise. I don't know
> 
> Sorry for bad wording, I meant the latter. And this is why I did not ask this
> before: easy, _provided_ we have the covariance matrix of the estimators. Now
> I have the answer also for this, so it is really straight. (I still do not
> know, how summarize() gets it, since in a lm.model, I have not found the
> underlying data for it [or overlooked]. The reason I did not do a X'X was that
> I believe that this is expensive. I have not tried, but my previous
> experiences (again: Stata) tells me this. Or am I wrong, and this is cheap in R?

Modern linear models theory does not use X'X ^-1 but R'R ^-1 for the QR
decomposition, and R is there in the object. Further, all you have to do is
invert R and crosspoduct the inverse. That's cheap and stable.  Here's the
exact code from summary.lm:

    chol2inv(Qr$qr[p1, p1, drop = FALSE])

which is X'X^-1.  chol2inv is a Fortran routine to invert an matrix from
its Cholesky decomposition, and R (or moe precisely the top p1 rows of R)
is the (possibly pivoted) Cholesky decomposition of X'X.  On the other
hand, S just inverts R by solve().


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pperkins at ucsd.edu  Wed Nov  1 19:51:52 2000
From: pperkins at ucsd.edu (Peter Perkins)
Date: Wed, 01 Nov 2000 10:51:52 -0800
Subject: [R] Performance note: Preallocating helps? and two questions
References: <B625EB23.69E2%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <3A006648.EB91FE51@ucsd.edu>

> AUcap30<-0
> for(i in 1:length(AU))AUcap30[i]<-min(30,AU[i])

am i right in thinking that this is an implicit version of 

   for(i in 1:length(AU)) AUcap30 <- c(AUcap30, min(30,AU[i])) ?

huh.  i guess i'm surprised that this even works at all.  i don't see
any specific mention in section 3 of the FAQ, and a quick look at the R
intro documents turned up no mention either.  but i seem to remember
that it would not work in S (not that that is necessarily a reason for
it not to work in R).  i kind of _like_ having array bounds checking --
is "array extension on out of bounds indexing" really the default in R,
and is there a way to enforce array bounds checking?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Nov  1 20:57:48 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 02 Nov 2000 08:57:48 +1300
Subject: [R] Loop elimination question
In-Reply-To: <200011010852.VAA14602@gosset.stats.waikato.ac.nz>
References: <00103118542101.01039@elvis.nodomain.nowhere>
 <200010312307.RAA02998@goose.stat.umn.edu>
 <200010312307.RAA02998@goose.stat.umn.edu>
Message-ID: <200011011954.IAA16560@gosset.stats.waikato.ac.nz>

Thanks for all the responses on and off the list. I'm sure I'll understand
R/S a lot better after digesting them. A lurking friend made a point to me
that one also must consider maintainability of the code. Explicit loops
have the advantage of transparency to others than the writer of the code.

Murray Jorgensen

At 21:55 01-11-00 , Murray Jorgensen wrote:
>I want to make a vector built up from several parts. Each part consists of 3
>followed by a variable number of 4s. The number of 4s is given by a vector
>called dim, say
>
>dim <- c(3,1,4,1,5)
>
>>From this I want to produce 
>
>3 4 4 4 3 4 3 4 4 4 4 3 4 3 4 4 4 4 4
>
>Now the following code seems to work
>
>type <- numeric(0)
>for (j in seq(along=dim)) {
>      type <- c(type,3,rep(4,dim[j]))}
>
>and I won't really need it to work for very large dim vectors so you could
say
>my problem is solved. I am wondering, though, if the loop can be eliminated.
>
>
>
>Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
>-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
>"Doubt everything or believe everything:these are two equally convenient
>strategies. With either we dispense with the need to think."
>http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Wed Nov  1 21:50:45 2000
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Wed, 01 Nov 2000 21:50:45 +0100
Subject: [R] object orientation using local procedures
Message-ID: <3A008225.73F353D8@rcs.urz.tu-dresden.de>

Hi R-folks,

R is a great data analysis system and yes, there is some object
orientation (OO). My problem coming from other OO-languages like JAVA
is, that I have problems constructing "objects", which contain data
(object properties) and code (methods). Is there any mechanism like the
"self" or "my" in other languages.

In the R introduction I found an example, like:

test <- function() {
   a<-1,
   b<-2,
   list (
      geta = function () a,
      seta = function (newa) a<<-newa,
    )
}

Now I can create an instance of test:
> aTest <- test()
and call the functions 
> aTest$geta()
and e.g.
> aTest$seta(5)
or
> aTest$product()

with the expected results. Now, as the "object" becomes more complex I
want to call local functions, e.g. in the extended object:

test2 <- function() {
   a<-1,
   b<-2,
   list (
      geta = function () a,
      seta = function (newa) a<<-newa,
      product = function() a*b,
      localcall = function() product()   # a function which *should
call* a function of the "object"
   )
}

where the function localcall() should call the local function product().
Written as above, this will not work, as the function product() exists
in another environment. Is there a straightforward solution for this
(common OO) problem?

Thanks in advance!

Thomas Petzoldt

--
Thomas Petzoldt
Institute of Hydrobiology
Dresden University of Technology
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Nov  2 10:02:22 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 2 Nov 2000 10:02:22 +0100
Subject: [R] Performance note: Preallocating helps? and two questions
In-Reply-To: <3A006648.EB91FE51@ucsd.edu>
References: <B625EB23.69E2%pflugshaupt@geobot.umnw.ethz.ch>
	<3A006648.EB91FE51@ucsd.edu>
Message-ID: <14849.11678.445464.595856@gargle.gargle.HOWL>

>>>>> "Peter" == Peter Perkins <pperkins at ucsd.edu> writes:

    >>        AUcap30<-0 
    >>        for(i in 1:length(AU)) AUcap30[i] <- min(30,AU[i])

    Peter> am i right in thinking that this is an implicit version of

    Peter>    for(i in 1:length(AU)) AUcap30 <- c(AUcap30, min(30,AU[i])) ?

yes (as others have said on this thread).

    Peter> huh.  i guess i'm surprised that this even works at all.  i
    Peter> don't see any specific mention in section 3 of the FAQ, and a
    Peter> quick look at the R intro documents turned up no mention either.
(really, I thought it *was* there;  no time to search now..)

    Peter> but i seem to remember that it would not work in S (not that
    Peter> that is necessarily a reason for it not to work in R).
yes, it has been working in S `since ever' (even before there was S+).

    Peter> i kind of _like_ having array bounds checking -- is "array
    Peter> extension on out of bounds indexing" really the default in R,
yes (and will be)

    Peter> and is there a way to enforce array bounds checking?
not currently, but probably, there will be, by

      options(check.bound = TRUE)

which is (only partly implemented) in the current development version.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Thu Nov  2 23:25:06 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Thu, 02 Nov 2000 14:25:06 -0800
Subject: [R] Installing R on RedHat7.0
References: <200011022215.XAA08976@stat.math.ethz.ch>
Message-ID: <3A01E9C2.5E5EA18@noaa.gov>

I recently got a new machine, running RedHat Linux 7.0 (kernel 2.2.16,
XFree864.0.1), and tried to install R-1.1.1 on it from the rpm file on
CRAN.  RPM complained about missing dependencies:

	libreadline.so.3
	libtcl8.0
	libtk8.0

The RH7.0 installation includes later versions of these libraries.  I went
ahead and forced an installation, and of course R wouldn't work.  By
linking libreadline.so.3 to libreadline.so.4.1, I got R running, but the tk
demo won't run.  Linking the tlc and tk lib's to later versions (8.3) got a
bit further, but the demo fails with an error about function "delTcl" not
in load table--this function was apparently dropped from the new version. 
I built libtcl8.0 and libtk8.0 from source, and installed them both.  This
got rid of the "delTcl" error, but the demo now fails with a segmentation
fault.

After that long-winded introduction, my question is:  Has anyone gotten a
working installation of R on RedHat 7, or on any other system with the
version 8.3 tcl/tk libraries, or been able to get the earlier libraries to
work under RH7??

Thanks for any help!

Tom Wainwright
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  2 23:50:36 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2000 23:50:36 +0100
Subject: [R] Installing R on RedHat7.0
In-Reply-To: Tom Wainwright's message of "Thu, 02 Nov 2000 14:25:06 -0800"
References: <200011022215.XAA08976@stat.math.ethz.ch> <3A01E9C2.5E5EA18@noaa.gov>
Message-ID: <x2ofzyj8eb.fsf@blueberry.kubism.ku.dk>

Tom Wainwright <thomas.wainwright at noaa.gov> writes:

> After that long-winded introduction, my question is:  Has anyone gotten a
> working installation of R on RedHat 7, or on any other system with the
> version 8.3 tcl/tk libraries, or been able to get the earlier libraries to
> work under RH7??

I think Brian Ripley has been using the 8.3 libraries on windows.
delTcl is on the R side of things, defined in tcltk.c, so you're
getting some pretty strange errors there.

I suspect your best bet is to install R from source, which ought to be
pretty easy - or at any rate, we'd like to know about any trouble you
run into.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Nov  3 01:27:14 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 2 Nov 2000 19:27:14 -0500
Subject: [R] Filled region on graph
Message-ID: <036e01c0452c$d0e9ba70$0201a8c0@Workgroup>

Hi,

Say I'd like to fill in color or by hashing the region above 0.5 and
below -0.5 in the following situation.

> x <- seq(0,2*pi, length=100)
> plot(x, sin(x), type="l")
> # Now fill the top part and the bottom part

The only mention of the words "fill" or "filled" seem to be in
filled.contour.

So is this possible in R?

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Nov  3 03:09:22 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 3 Nov 2000 15:09:22 +1300
Subject: [R] Filled region on graph
In-Reply-To: <036e01c0452c$d0e9ba70$0201a8c0@Workgroup>; from Yves Gauvreau on Thu, Nov 02, 2000 at 07:27:14PM -0500
References: <036e01c0452c$d0e9ba70$0201a8c0@Workgroup>
Message-ID: <20001103150922.B27114@stat1.stat.auckland.ac.nz>

On Thu, Nov 02, 2000 at 07:27:14PM -0500, Yves Gauvreau wrote:
> Hi,
> 
> Say I'd like to fill in color or by hashing the region above 0.5 and
> below -0.5 in the following situation.
> 
> > x <- seq(0,2*pi, length=100)
> > plot(x, sin(x), type="l")
> > # Now fill the top part and the bottom part

Like many other problems there is no high level solution and you have
to create your own.  The function "polygon" can be used to draw filled
polygons and it can be used to fill a polygon approximation to the area
you want filled.  (Hashing is on my TODO list, but its not close to
the top).

To start, we need the points where the line y==0.5 cuts the curve.
In the case you mention, it is easy to see that these points are

    lower <- asin(0.5)
    upper <- pi - asin(0.5).

More generally, you could determine the intersection points by root finding

    lower <- uniroot(function(x) sin(x)-0.5, lower=0, upper=pi/2)$root
    upper <- uniroot(function(x) sin(x)-0.5, lower=pi/2, upper=pi)$root

Now we just compute the appoximating polygon

    x <- seq(lower, upper, length=100)
    y <- sin(x)

and draw it

    polygon(x, y, col = "hotpink")

So here a the full solution.

    x <- seq(0,2*pi, length=100)
    plot(x, sin(x), type="l")
    lower <- uniroot(function(x) sin(x)-0.5, lower=0, upper=pi/2)$root
    upper <- uniroot(function(x) sin(x)-0.5, lower=pi/2, upper=pi)$root
    x <- seq(lower, upper, length=100)
    y <- sin(x)
    polygon(x,y,col="hotpink")
    lower <- uniroot(function(x) sin(x)+0.5, lower=pi, upper=3*pi/2)$root
    upper <- uniroot(function(x) sin(x)+0.5, lower=3*pi/2, upper=2*pi)$root
    x <- seq(lower, upper, length = 100)
    y <- sin(x)
    polygon(x, y, col = "limegreen")

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Nov  3 03:23:19 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 2 Nov 2000 21:23:19 -0500
Subject: [R] Filled region on graph
References: <036e01c0452c$d0e9ba70$0201a8c0@Workgroup> <20001103150922.B27114@stat1.stat.auckland.ac.nz>
Message-ID: <038401c0453d$085b0bc0$0201a8c0@Workgroup>

I knew about polygon() and I was wondering if there where a high level
solution to do this sort of things.

Many thanks to all for a great peice of software.

Yves Gauvreau

----- Original Message -----
From: "Ross Ihaka" <ihaka at stat.auckland.ac.nz>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, November 02, 2000 9:09 PM
Subject: Re: [R] Filled region on graph


> On Thu, Nov 02, 2000 at 07:27:14PM -0500, Yves Gauvreau wrote:
> > Hi,
> >
> > Say I'd like to fill in color or by hashing the region above 0.5 and
> > below -0.5 in the following situation.
> >
> > > x <- seq(0,2*pi, length=100)
> > > plot(x, sin(x), type="l")
> > > # Now fill the top part and the bottom part
>
> Like many other problems there is no high level solution and you have
> to create your own.  The function "polygon" can be used to draw filled
> polygons and it can be used to fill a polygon approximation to the area
> you want filled.  (Hashing is on my TODO list, but its not close to
> the top).
>
> To start, we need the points where the line y==0.5 cuts the curve.
> In the case you mention, it is easy to see that these points are
>
>     lower <- asin(0.5)
>     upper <- pi - asin(0.5).
>
> More generally, you could determine the intersection points by root
finding
>
>     lower <- uniroot(function(x) sin(x)-0.5, lower=0, upper=pi/2)$root
>     upper <- uniroot(function(x) sin(x)-0.5, lower=pi/2, upper=pi)$root
>
> Now we just compute the appoximating polygon
>
>     x <- seq(lower, upper, length=100)
>     y <- sin(x)
>
> and draw it
>
>     polygon(x, y, col = "hotpink")
>
> So here a the full solution.
>
>     x <- seq(0,2*pi, length=100)
>     plot(x, sin(x), type="l")
>     lower <- uniroot(function(x) sin(x)-0.5, lower=0, upper=pi/2)$root
>     upper <- uniroot(function(x) sin(x)-0.5, lower=pi/2, upper=pi)$root
>     x <- seq(lower, upper, length=100)
>     y <- sin(x)
>     polygon(x,y,col="hotpink")
>     lower <- uniroot(function(x) sin(x)+0.5, lower=pi, upper=3*pi/2)$root
>     upper <- uniroot(function(x) sin(x)+0.5, lower=3*pi/2,
upper=2*pi)$root
>     x <- seq(lower, upper, length = 100)
>     y <- sin(x)
>     polygon(x, y, col = "limegreen")
>
> Ross

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Nov  3 08:31:48 2000
From: gb at stat.umu.se (gb)
Date: Fri, 3 Nov 2000 08:31:48 +0100 (CET)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <x2ofzyj8eb.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0011030812200.6529-100000@pc32.poljus.umu.se>

On 2 Nov 2000, Peter Dalgaard BSA wrote:

> Tom Wainwright <thomas.wainwright at noaa.gov> writes:
> 
> > After that long-winded introduction, my question is:  Has anyone gotten a
> > working installation of R on RedHat 7, or on any other system with the
> > version 8.3 tcl/tk libraries, or been able to get the earlier libraries to
> > work under RH7??
> 
> I think Brian Ripley has been using the 8.3 libraries on windows.
> delTcl is on the R side of things, defined in tcltk.c, so you're
> getting some pretty strange errors there.
> 
> I suspect your best bet is to install R from source, which ought to be
> pretty easy - or at any rate, we'd like to know about any trouble you
> run into.

As I already have informed you folks, I have installed  R-1.1.1 on
RedHat 7.0 from source, without any problems. Besides that some on 
this list seemed to worry about the warnings the gcc compiler
issued. Nevertheless, I  haven' noticed any anomalies with the 
installed  R. Haven't been hard-testing, though.

RH 7.0 comes with gcc 2.96, which, according to gcc.gnu.org, "is not
a formal  GCC release nor will there ever be such a release. Rather, 
GCC 2.96 has been the code-name for our development branch that will
eventually become GCC 3.0". Should this make us 7.0 users nervous?

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  3 08:33:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 3 Nov 2000 07:33:58 +0000 (GMT)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <x2ofzyj8eb.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10011030729300.6473-100000@toucan.stats>

On 2 Nov 2000, Peter Dalgaard BSA wrote:

> Tom Wainwright <thomas.wainwright at noaa.gov> writes:
> 
> > After that long-winded introduction, my question is:  Has anyone gotten a
> > working installation of R on RedHat 7, or on any other system with the
> > version 8.3 tcl/tk libraries, or been able to get the earlier libraries to
> > work under RH7??
> 
> I think Brian Ripley has been using the 8.3 libraries on windows.
> delTcl is on the R side of things, defined in tcltk.c, so you're
> getting some pretty strange errors there.

I've also used them on Solaris and on RH6.2 with no problems.

> I suspect your best bet is to install R from source, which ought to be
> pretty easy - or at any rate, we'd like to know about any trouble you
> run into.

Isn't there a problem (or at least warnings) with the beta-2.96 version of
gcc that RedHat decided to use?  As I recall it, that was complaining
about the use of ## in some of the header files.  It will be in the
archives of R-help or R-devel.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Nov  3 09:55:20 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 03 Nov 2000 09:55:20 +0100 (CET)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <Pine.LNX.4.21.0011030812200.6529-100000@pc32.poljus.umu.se>
Message-ID: <XFMail.001103095520.plummer@iarc.fr>

On 03-Nov-00 gb wrote:
> As I already have informed you folks, I have installed  R-1.1.1 on
> RedHat 7.0 from source, without any problems. Besides that some on 
> this list seemed to worry about the warnings the gcc compiler
> issued. Nevertheless, I  haven' noticed any anomalies with the 
> installed  R. Haven't been hard-testing, though.

I apologize for the delay in bringing out an RPM for Red Hat 7.0.
The main reason for the delay is that I have been very busy, but
I was also worried about the compiler warnings.  I didn't realize
they weren't fatal.  I shall roll up a new RPM at the weekend.

> RH 7.0 comes with gcc 2.96, which, according to gcc.gnu.org, "is not
> a formal  GCC release nor will there ever be such a release. Rather, 
> GCC 2.96 has been the code-name for our development branch that will
> eventually become GCC 3.0". Should this make us 7.0 users nervous?

It makes me nervous. Only my home machine has been upgraded.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From atobias at ole.com  Fri Nov  3 10:33:18 2000
From: atobias at ole.com (atobias)
Date: Fri, 3 Nov 2000 10:33:18 +0100 (MET)
Subject: [R] QUERY: gam models in R? 
Message-ID: <37743e378e8c.378e8c37743e@ole.com>

Hi Allstaters,

Does anybody know if the R package can fit 
Generalised Additive Models?.

Thanks indeed,
Aurelio.
atobias at ole.com

 ___________________________________________________________________ 
Consigue tu e-mail gratuito TERRA.ES
 Haz click en http://www.terra.es/correo/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  3 11:03:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 3 Nov 2000 10:03:18 +0000 (GMT)
Subject: [R] QUERY: gam models in R? 
In-Reply-To: <37743e378e8c.378e8c37743e@ole.com>
Message-ID: <Pine.GSO.4.05.10011031000120.6759-100000@toucan.stats>

On Fri, 3 Nov 2000, atobias wrote:

> Hi Allstaters,

You posted to the R-help list!

> Does anybody know if the R package can fit 
> Generalised Additive Models?.

Base R cannot, and that is in the FAQ (point 5.6).

For gaussian additive models, see package mda, for GAMs package gss, on
CRAN.

If you look in the R-help archives you will see discussion last time this
came up of why you might not want to fit GAMs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  3 11:06:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 2000 11:06:35 +0100
Subject: [R] QUERY: gam models in R?
In-Reply-To: atobias's message of "Fri, 3 Nov 2000 10:33:18 +0100 (MET)"
References: <37743e378e8c.378e8c37743e@ole.com>
Message-ID: <x2wvelmkt0.fsf@blueberry.kubism.ku.dk>

atobias <atobias at ole.com> writes:

> Hi Allstaters,
     ^^^^^^^^^^

Um, ...

> Does anybody know if the R package can fit 
> Generalised Additive Models?.

It hasn't been implemented, but it seems that people are happy enough
after being pointed in the direction of Chong Gu's gss package...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Fri Nov  3 11:40:22 2000
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Fri, 3 Nov 2000 10:40:22 +0000
Subject: [R] Macs and R
Message-ID: <f04320405b62844644366@[139.222.80.154]>

I hope this is the right place for my question, my apologise if it is not.

I am a long time Mac/UNIX user and my local machine is a Mac. At 
present I run an orphan version of R which a worried out of (*****). 
On reflection I guess I'd better not say, but it changed my life. It 
is howerver a little out of date ( say 0.6ish)

So the obvious question, do I move to MacLinux or is there likely to 
be a Mac R in the near (<18 months) future?  I do think you might 
offer some idea of any possible Mac developments or at least say they 
will not be any!
GJ
-- 
   G.Janacek
   Dean				               e-mail: G.Janacek at uea.ac.uk
   School of Mathematics			          tel: 44-(0)1603-592849
   UEA, Norwich NR4 7TJ,UK		          fax: 44-(0)1603-593868
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Fri Nov  3 11:46:49 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Fri, 3 Nov 2000 10:46:49 +0000 (GMT)
Subject: [R] QUERY: gam models in R? 
In-Reply-To: <37743e378e8c.378e8c37743e@ole.com>
Message-ID: <Pine.GSO.4.21.0011031042220.24181-100000@dolphin>

> Does anybody know if the R package can fit 
> Generalised Additive Models?.


You might want to try the packages mgcv, which has a version of gam(), or
gss which will fit a wide range of spline models. Both are available from
CRAN. mgcv is also available from the address given below.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Fri Nov  3 12:48:45 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Fri, 3 Nov 2000 11:48:45 +0000 (GMT)
Subject: [R] Macs and R
In-Reply-To: <f04320405b62844644366@[139.222.80.154]>
Message-ID: <Pine.GSO.4.21.0011031142570.24181-100000@dolphin>

> I am a long time Mac/UNIX user and my local machine is a Mac. At 
> present I run an orphan version of R which a worried out of (*****). 
> On reflection I guess I'd better not say, but it changed my life. It 
> is howerver a little out of date ( say 0.6ish)

- We had this problem for teaching (and were not allowed by our IT
managers to switch to "MacLinux"). We now run R from a Linux server with
students sitting at Macs running MacX, and so far it's worked well and has
been quite painless to set up. 

Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  3 13:10:19 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 2000 13:10:19 +0100
Subject: [R] Macs and R
In-Reply-To: Simon Wood's message of "Fri, 3 Nov 2000 11:48:45 +0000 (GMT)"
References: <Pine.GSO.4.21.0011031142570.24181-100000@dolphin>
Message-ID: <x2lmv1mf2s.fsf@blueberry.kubism.ku.dk>

Simon Wood <snw at mcs.st-and.ac.uk> writes:

> > I am a long time Mac/UNIX user and my local machine is a Mac. At 
> > present I run an orphan version of R which a worried out of (*****). 
> > On reflection I guess I'd better not say, but it changed my life. It 
> > is howerver a little out of date ( say 0.6ish)
> 
> - We had this problem for teaching (and were not allowed by our IT
> managers to switch to "MacLinux"). We now run R from a Linux server with
> students sitting at Macs running MacX, and so far it's worked well and has
> been quite painless to set up. 

There were also two reports on ports of 1.1.1 within the last couple
of months on R-devel. 

Date: Mon, 11 Sep 2000 18:40:54 +0200
To: r-devel at stat.math.ethz.ch
From: Stefano Iacus <jago at mclink.it>
Subject: [Rd] R 1.1.1 (and 1.2.0) on Mac (PPC) and "/afm/" bugs (?)

From: flip at skidmore.edu
Date: Mon, 16 Oct 2000 03:04:00 +0200 (MET DST)
To: r-devel at stat.math.ethz.ch
Subject: [Rd] build errors in configure script (PR#697)

One is plain PPC Mac, the other is OS X. Both seemed quite optimistic.
(The bugs they reported were fairly trivial to work around).
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Fri Nov  3 13:43:53 2000
From: Matthias.Fischer at wiso.uni-erlangen.de (Matthias Fischer)
Date: Fri, 03 Nov 2000 13:43:53 +0100
Subject: [R] Chi-square Goodness of Fit Test
Message-ID: <3A02B309.442C0BEB@wiso.uni-erlangen.de>

Dear R-users,

is there a function for the Chi-square Goodness of Fit Test in R
(compare function chisq.gof in S/S-PLUS).

Thanks for help.

Matthias Seitzinger

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedro.aphalo at joensuu.fi  Fri Nov  3 15:10:54 2000
From: pedro.aphalo at joensuu.fi (Pedro J. Aphalo)
Date: Fri, 03 Nov 2000 16:10:54 +0200
Subject: [R] aov and missing values
Message-ID: <3A02C76E.5A764995@joensuu.fi>

I am learning R, and although I have looked in the documentation, I may
be asking something obvious. Sorry, if that is the case. 

In a split-plot design if there is a missing subunit summary gives me a
table with two rows for the same factor, one in the error within section
and one in the section using error between units. With no data missing
the table is "normal". How does one interpret the table when data is
missing?, or is it that aov cannot cope with missing values in this
case?

Thanks in advance for any help.

Pedro.

The model I am using is of the form "y ~ A * B * C + block +
Error(A/B)", I tried the simpler model "y ~ A * B + block + Error(A)"
with the same result.

The behaviour is the same in Version 1.1.1 and Version 1.2.0 Under
development (unstable) (2000-10-11). If it matters, I am using Windows.

-- 
===============================================================
 Pedro J. Aphalo
 University of Joensuu
 Faculty of Forestry
 P.O. Box 111, FIN-80101 Joensuu, FINLAND
 mailto:pedro.aphalo at joensuu.fi
 http://cc.joensuu.fi/~aphalo/pedro.html
 fax: +358 13 251 4444
 tel: +358 13 251 4406                         ,,,^..^,,,
================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nathapong_samlamjiag at hotmail.com  Fri Nov  3 21:11:51 2000
From: nathapong_samlamjiag at hotmail.com (Nathapong Samlamjiag)
Date: Fri, 03 Nov 2000 21:11:51 ICT
Subject: [R] How to call R functions from a C++ program
Message-ID: <F1208aii08N8yxdZjfN000093c1@hotmail.com>

Dear R experts,

Could anyone give some concrete examples of how to call R functions from a 
program written in C++?

Thanks in advance for your help.

Nathapong Samlamjiag
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

Share information about yourself, create your own public profile at 
http://profiles.msn.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  3 15:31:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 3 Nov 2000 14:31:36 +0000 (GMT)
Subject: [R] aov and missing values
Message-ID: <200011031431.OAA07483@toucan.stats.ox.ac.uk>


> Date: Fri, 03 Nov 2000 16:10:54 +0200
> From: "Pedro J. Aphalo" <pedro.aphalo at joensuu.fi>
> 
> I am learning R, and although I have looked in the documentation, I may
> be asking something obvious. Sorry, if that is the case. 

(No, the problem is with your expectations from the theory.)

> In a split-plot design if there is a missing subunit summary gives me a
> table with two rows for the same factor, one in the error within section
> and one in the section using error between units. With no data missing
> the table is "normal". How does one interpret the table when data is
> missing?, or is it that aov cannot cope with missing values in this
> case?

aov() does cope, but the conventional analysis is indeed as you
describe.  Factors do have effects in more than one stratum. For example,
consider the oats example in Venables & Ripley (1999). If I omit
observation 70, I get

> summary(oats.aov)
Error: B 
          Df Sum of Sq  Mean Sq   F Value     Pr(F) 
Nf         1    841.89  841.890 0.2242563 0.6605042
Residuals  4  15016.57 3754.142                    

Error: V %in% B 
          Df Sum of Sq  Mean Sq  F Value     Pr(F) 
Nf         1  1100.458 1100.458 1.747539 0.2187982
V          2  1156.821  578.410 0.918521 0.4335036
Residuals  9  5667.471  629.719                   

Error: Within 
          Df Sum of Sq  Mean Sq  F Value     Pr(F) 
Nf         3  19921.29 6640.431 37.23252 0.0000000
Nf:V       6    408.96   68.160  0.38217 0.8864622
Residuals 44   7847.41  178.350                   

so Nf appears in all three strata, not just the last one.
The `recovery of intra-block information is needed'.

If you have an unbalanced layout (e.g. with a missing value) use
lme to fit a model.  V&R do this example in lme too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  3 15:48:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 2000 15:48:40 +0100
Subject: [R] aov and missing values
In-Reply-To: "Pedro J. Aphalo"'s message of "Fri, 03 Nov 2000 16:10:54 +0200"
References: <3A02C76E.5A764995@joensuu.fi>
Message-ID: <x2d7gdm7qv.fsf@blueberry.kubism.ku.dk>

"Pedro J. Aphalo" <pedro.aphalo at joensuu.fi> writes:

> I am learning R, and although I have looked in the documentation, I may
> be asking something obvious. Sorry, if that is the case. 
> 
> In a split-plot design if there is a missing subunit summary gives me a
> table with two rows for the same factor, one in the error within section
> and one in the section using error between units. With no data missing
> the table is "normal". How does one interpret the table when data is
> missing?, or is it that aov cannot cope with missing values in this
> case?
> 
> Thanks in advance for any help.
> 
> Pedro.
> 
> The model I am using is of the form "y ~ A * B * C + block +
> Error(A/B)", I tried the simpler model "y ~ A * B + block + Error(A)"
> with the same result.

As a general matter, the theory for these designs is based on having
balanced data. The analysis with aov is based on an orthogonal
decompostion according to the error terms, which in the balanced case
means splitting into averages and differences of the values within a plot.
If each plot has received the same treatments, then there is no information
in the averages of the effect of treatment (and therefore it does not
appear in the between-unit stratum), but there will be if the
plots have received different sets of treatment. This will be the case
if some plots have missing values, but not only that: The error model
also becomes dubious (it essentially implies that averages have the same
variance no matter how many observations they are averages of). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Nov  3 16:02:59 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 3 Nov 2000 10:02:59 -0500 (EST)
Subject: [R] Chi-square Goodness of Fit Test
In-Reply-To: <3A02B309.442C0BEB@wiso.uni-erlangen.de>
Message-ID: <Pine.LNX.4.10.10011030949020.14061-100000@bolker.zoo.ufl.edu>


  Not quite.  There is a chisq.test() in the ctest library, but that does
Pearson chi-square tests of contingency tables.

  Looking at chisq.gof, it seems to (1) cut the data into bins (you can
use hist() to do this); (2) calculate the expected numbers in each bin
using the differences of the CDF (pnorm, pexp, etc.); (3) calculate
sum((exp-obs)^2/exp); (4) find the tail probability of the chi-square
distribution (pchisq).

  So the answer is no, but putting the pieces that you need together
shouldn't be too hard if you have a basic knowledge of R.  If you're
really stuck, ask again.

  Ben

On Fri, 3 Nov 2000, Matthias Fischer wrote:

> Dear R-users,
> 
> is there a function for the Chi-square Goodness of Fit Test in R
> (compare function chisq.gof in S/S-PLUS).
> 
> Thanks for help.
> 
> Matthias Seitzinger
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  3 16:59:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 2000 16:59:57 +0100
Subject: [R] aov and missing values
In-Reply-To: Peter Dalgaard BSA's message of "03 Nov 2000 15:48:40 +0100"
References: <3A02C76E.5A764995@joensuu.fi> <x2d7gdm7qv.fsf@blueberry.kubism.ku.dk>
Message-ID: <x21ywtm4g2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> if some plots have missing values, but not only that: The error model
> also becomes dubious (it essentially implies that averages have the same
> variance no matter how many observations they are averages of). 

Oops, sorry. It's the other way around: It implies that the variance
of single observations is different in order to get the same ratio for
the variance of averages. I.e. the average of two observations is
always half that of one observation. If the within-plot observation is
small, then this becomes clearly unrealistic.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Nov  3 22:21:58 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 03 Nov 2000 15:21:58 -0600 (CST)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <3A01E9C2.5E5EA18@noaa.gov>
Message-ID: <XFMail.20001103152158.s-luppescu@uchicago.edu>

On 02-Nov-2000 Tom Wainwright wrote:
> I recently got a new machine, running RedHat Linux 7.0 (kernel 2.2.16,
> XFree864.0.1), and tried to install R-1.1.1 on it from the rpm file on
> CRAN.  RPM complained about missing dependencies:
> 
>       libreadline.so.3
>       libtcl8.0
>       libtk8.0
[snip]

I'm running R 1.1.1 under RedHat 7 with no problems. I used the rpm for 6.2 but
I installed the readline2.2.1 rpm for libreadline.so.3. (It may be on the
second CD.)  Here's the info on readline2.2.1:

Name        : readline2.2.1                Relocations: /usr 
Version     : 2.2.1                             Vendor: Red Hat, Inc.
Release     : 2                             Build Date: Wed Jul 12 17:16:24 2000
Install date: Wed Oct  4 11:33:35 2000      Build Host: porky.devel.redhat.com
Group       : System Environment/Libraries   Source RPM:
readline2.2.1-2.2.1-2.src.rpm
Size        : 195060                           License: GPL
Packager    : Red Hat, Inc. <http://bugzilla.redhat.com/bugzilla>
Summary     : A library for reading and returning lines from a terminal.
Description :
The readline library reads a line from the terminal and returns it,
allowing the user to edit the line with standard Emacs editing keys.
The readline library allows programmers to provide an easy to use and
more intuitive interface for users.

This version of the readline package provides backwards compatibility
for programs built against Red Hat Linux 6.2.
/usr/lib/libhistory.so.3.0
/usr/lib/libreadline.so.3.0

I don't use Tk/tcl so I think I just installed with --nodeps.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
Lookie, lookie, here comes cookie...
                -- Stephen Sondheim
>> Sent on 03-Nov-2000 at 15:17:28 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Fri Nov  3 22:43:22 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Fri, 03 Nov 2000 13:43:22 -0800
Subject: [R] Installing R on RedHat7.0
References: <200011022215.XAA08976@stat.math.ethz.ch> <3A01E9C2.5E5EA18@noaa.gov> <x2ofzyj8eb.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A03317A.C8A7C29E@noaa.gov>

Thanks!  Building from source worked, and the demos all run.  Several
others report that R runs smoothly on RedHat7.

However, not all the tests in $R_HOME/tests succeed.  When I do "make
test-Examples" in that directory,  it fails executing "base-Ex.R" in the
"eigen" section, with the error:

	Error: abs(sm %*% V - V %*% diag(lam)) < 60 * Meps is not TRUE

This appears to be a numerical precision problem.  Checking, Meps (i.e.
.Machine.double.eps) is 1.084202e-19.  Is this a reasonable value for a
Pentium III?

If I rerun test-Examples, all the remaining tests complete with no problem.

Similarly, make test-Specific fails during arith-true.R, with many tests
returning FALSE.

Have others who run R on RedHat7 run these tests? It seems that either
there's a serious compiler problem, or the .Machine variables are getting
set wrong, or I have a hardware problem.

Peter Dalgaard BSA wrote:
> 
> Tom Wainwright <thomas.wainwright at noaa.gov> writes:
> 
> > After that long-winded introduction, my question is:  Has anyone gotten a
> > working installation of R on RedHat 7, or on any other system with the
> > version 8.3 tcl/tk libraries, or been able to get the earlier libraries to
> > work under RH7??
> 
> I think Brian Ripley has been using the 8.3 libraries on windows.
> delTcl is on the R side of things, defined in tcltk.c, so you're
> getting some pretty strange errors there.
> 
> I suspect your best bet is to install R from source, which ought to be
> pretty easy - or at any rate, we'd like to know about any trouble you
> run into.
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Tom Wainwright
NOAA/NMFS/NWFSC
2030 S Marine Science Dr
Newport, OR 97365 USA
thomas.wainwright at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdenis2 at home.com  Fri Nov  3 22:59:34 2000
From: pdenis2 at home.com (Peter Denisevich)
Date: Fri, 03 Nov 2000 13:59:34 -0800
Subject: [R] Installing R on RedHat7.0 -- binary RPM seems OK 
Message-ID: <3A033546.F422719A@home.com>

FWIW -- I installed RH7.0 *over* my existing R installation (RH6.1). 
Everything, including tcl/tk, seems OK.  R-base is the binary RPM
R-base-1.1.1-1 built on 16 Aug 2000. Tcl/Tk are both 8.3.  The RH
upgrade process seems to have left R-base untouched (good!).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Fri Nov  3 15:10:16 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Fri, 3 Nov 2000 15:10:16 +0100
Subject: [R] How to call R functions from a C++ program
In-Reply-To: <F1208aii08N8yxdZjfN000093c1@hotmail.com>
References: <F1208aii08N8yxdZjfN000093c1@hotmail.com>
Message-ID: <00110315271204.03188@ligarto>

If you want to call certain functions, such as the random number generators,
that is easy. Get the sources, untar, and ./configure; then go to standalone
src/nmath/standalone, and read the README; if you want to call them as static
libraries, type make archive.  That will create the libRmath.a library.

Now, if you were using C, that would be all. But to use those functions from a
C++ program you need to modify Mathlib.h (in R_DIRECTORY/src/include/R_ext). 
Edit Mathlib.h and insert, before any of the function headers,

extern "C" {

(don't forget to add also the closing braket at the end of the file).
(The reason why you need to do this is explained, for instance, in Meyer's
"More effective C++", itme 34).

Thats it; you can now use the functions in Mathlib.h by giving the appropriate
paths to the library and header files.

For instance:

g++ -I/usr/lib/R-patched/src/include -L/usr/lib/R-patched/src/nmath/standalone
test1.cc -lRmath -lm



Ramon


On Fri, 03 Nov 2000, Nathapong Samlamjiag wrote:
> Dear R experts,
> 
> Could anyone give some concrete examples of how to call R functions from a 
> program written in C++?
> 
> Thanks in advance for your help.
> 
> Nathapong Samlamjiag
> _________________________________________________________________________
> Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.
> 
> Share information about yourself, create your own public profile at 
> http://profiles.msn.com.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Ramn Daz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov  3 23:43:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Nov 2000 22:43:13 +0000 (GMT)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <3A03317A.C8A7C29E@noaa.gov>
Message-ID: <Pine.GSO.4.05.10011032233450.17193-100000@auk.stats>

On Fri, 3 Nov 2000, Tom Wainwright wrote:

> Thanks!  Building from source worked, and the demos all run.  Several
> others report that R runs smoothly on RedHat7.
> 
> However, not all the tests in $R_HOME/tests succeed.  When I do "make
> test-Examples" in that directory,  it fails executing "base-Ex.R" in the
> "eigen" section, with the error:
> 
> 	Error: abs(sm %*% V - V %*% diag(lam)) < 60 * Meps is not TRUE
> 
> This appears to be a numerical precision problem.  Checking, Meps (i.e.
> .Machine.double.eps) is 1.084202e-19.  Is this a reasonable value for a
> Pentium III?

No. .Machine$double.eps should be about 2e-16.  An i686 does not have
19 digits of precision.  Here's what gcc-2.95.2 gives on a PIII under
RH6.2:

> .Machine
$double.eps
[1] 2.220446e-16

$double.neg.eps
[1] 1.110223e-16

$double.xmin
[1] 2.225074e-308

$double.xmax
[1] 1.797693e+308

$double.base
[1] 2

$double.digits
[1] 53

$double.rounding
[1] 5

$double.guard
[1] 0

$double.ulp.digits
[1] -52

$double.neg.ulp.digits
[1] -53

$double.exponent
[1] 11

$double.min.exp
[1] -1022

$double.max.exp
[1] 1024

$integer.max
[1] 2147483647


> If I rerun test-Examples, all the remaining tests complete with no problem.
> 
> Similarly, make test-Specific fails during arith-true.R, with many tests
> returning FALSE.
> 
> Have others who run R on RedHat7 run these tests? It seems that either
> there's a serious compiler problem, or the .Machine variables are getting
> set wrong, or I have a hardware problem.

The likely story is that that beta compiler is even farther from
IEEE-compliant than is usual for gcc on Linux.  Some of us are
too nervous about it to even try an installation.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov  4 00:05:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Nov 2000 23:05:53 +0000 (GMT)
Subject: [R] How to call R functions from a C++ program
In-Reply-To: <00110315271204.03188@ligarto>
Message-ID: <Pine.GSO.4.05.10011032256180.17193-100000@auk.stats>

On Fri, 3 Nov 2000, Ramon Diaz-Uriarte wrote:

> If you want to call certain functions, such as the random number generators,
> that is easy. Get the sources, untar, and ./configure; then go to standalone
> src/nmath/standalone, and read the README; if you want to call them as static
> libraries, type make archive.  That will create the libRmath.a library.
> 
> Now, if you were using C, that would be all. But to use those functions from a
> C++ program you need to modify Mathlib.h (in R_DIRECTORY/src/include/R_ext). 
> Edit Mathlib.h and insert, before any of the function headers,
> 
> extern "C" {
> 
> (don't forget to add also the closing braket at the end of the file).
> (The reason why you need to do this is explained, for instance, in Meyer's
> "More effective C++", itme 34).

(BTW, I had spotted that a couple of days ago for linking C++ code
into R, and we will modify the header files. Until then, I suggest using

extern "C" {
#include "R_ext/Mathlib.h"
}

rather than edit the headers.)


> Thats it; you can now use the functions in Mathlib.h by giving the appropriate
> paths to the library and header files.
> 
> For instance:
> 
> g++ -I/usr/lib/R-patched/src/include -L/usr/lib/R-patched/src/nmath/standalone
> test1.cc -lRmath -lm

But that does not call R functions from a C++ program, just a few
utilities in R.  I read `R functions' as the interpreted ones like lm.

The short answer is that you cannot easily do this yet.  On Windows
you can embed R or use a DCOM link.  On Unix similar things (building
R as a shared library, CORBA connections) are in various stages of
preparation.  In all of these you need to remember that R expects
to run its own event loop, and that can cause contortions: this is never
going to be straightforward.

You may have more success calling R functions from a C++ package 
running under R, using eval in a .Call for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Nov  4 00:03:57 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 3 Nov 2000 23:03:57 +0000 (GMT)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <Pine.GSO.4.05.10011032233450.17193-100000@auk.stats>
Message-ID: <Pine.LNX.4.10.10011032300500.11438-100000@aleph.biostat.washington.edu>

On Fri, 3 Nov 2000, Prof Brian D Ripley wrote:

> On Fri, 3 Nov 2000, Tom Wainwright wrote:
> 
> > Thanks!  Building from source worked, and the demos all run.  Several
> > others report that R runs smoothly on RedHat7.
> > 
> > However, not all the tests in $R_HOME/tests succeed.  When I do "make
> > test-Examples" in that directory,  it fails executing "base-Ex.R" in the
> > "eigen" section, with the error:
> > 
> > 	Error: abs(sm %*% V - V %*% diag(lam)) < 60 * Meps is not TRUE
> > 
> > This appears to be a numerical precision problem.  Checking, Meps (i.e.
> > .Machine.double.eps) is 1.084202e-19.  Is this a reasonable value for a
> > Pentium III?
> 
> No. .Machine$double.eps should be about 2e-16.  An i686 does not have
> 19 digits of precision.  Here's what gcc-2.95.2 gives on a PIII under
> RH6.2:
<snip> 


> The likely story is that that beta compiler is even farther from
> IEEE-compliant than is usual for gcc on Linux.  Some of us are
> too nervous about it to even try an installation.

As the value is 2^-63 it may be that the machine precision calculation is
being done entirely internally to the chip, using the 80-bit extended
double format, which has this level of precision.

This is certainly wrong and new; I don't know enough about the machine
precision calculations to know if it is really a compiler bug or whether
it is something the compiler was previously allowed to do but didn't.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov  4 00:48:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2000 00:48:27 +0100
Subject: [R] Installing R on RedHat7.0
In-Reply-To: Prof Brian D Ripley's message of "Fri, 3 Nov 2000 22:43:13 +0000 (GMT)"
References: <Pine.GSO.4.05.10011032233450.17193-100000@auk.stats>
Message-ID: <x2snp8wras.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > If I rerun test-Examples, all the remaining tests complete with no problem.
> > 
> > Similarly, make test-Specific fails during arith-true.R, with many tests
> > returning FALSE.
> > 
> > Have others who run R on RedHat7 run these tests? It seems that either
> > there's a serious compiler problem, or the .Machine variables are getting
> > set wrong, or I have a hardware problem.
> 
> The likely story is that that beta compiler is even farther from
> IEEE-compliant than is usual for gcc on Linux.  Some of us are
> too nervous about it to even try an installation.

..although, as bit me earlier today, it isn't as if the compiler suite
that comes with RH6.* is too hot either!

Maybe it is time to take a closer look at Mandrake 7.2 (which
incidentally is the first distribution to ship with a *current*
version of R)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov  4 01:08:19 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2000 01:08:19 +0100
Subject: [R] Installing R on RedHat7.0
In-Reply-To: Thomas Lumley's message of "Fri, 3 Nov 2000 23:03:57 +0000 (GMT)"
References: <Pine.LNX.4.10.10011032300500.11438-100000@aleph.biostat.washington.edu>
Message-ID: <x2pukcwqdo.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> As the value is 2^-63 it may be that the machine precision calculation is
> being done entirely internally to the chip, using the 80-bit extended
> double format, which has this level of precision.
> 
> This is certainly wrong and new; I don't know enough about the machine
> precision calculations to know if it is really a compiler bug or whether
> it is something the compiler was previously allowed to do but didn't.

Might well be that we need to be more careful about compiler switches
for machar.c. But the relevant computation seems to be

        for(;;) {
		temp = one + a;
		if (temp - one != zero)
			break;
		a = a * beta;
		*machep = *machep + 1;
	}

i.e. decrease a until adding it to one does not change it. However, a,
one, and temp are all declared volatile, and that would normally
ensure that they are stored off-chip as ordinary 64-bit doubles. I
don't see how the compiler can treat them as 80-bit extended doubles
while still respecting the volatility. Unless it stores them to memory
as long longs...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Sat Nov  4 01:04:25 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Fri, 03 Nov 2000 16:04:25 -0800
Subject: [R] Installing R on RedHat7.0
References: <Pine.GSO.4.05.10011032233450.17193-100000@auk.stats>
Message-ID: <3A035289.70D020AB@noaa.gov>

Prof. Ripley hit it on the head:  my problems were the result of a bad c
compiler.
I hadn't dreamed that RedHat would distribute a development version of a
compiler without even a comment in the release notes.  Luckily, they also
provide the old version, renamed "kgcc" (apparently because they discovered
the "new" compiler wouldn't rebuild the kernel).

I specified CC=kgcc in "config.site" and rebuilt the R source.  Now all
tests complete OK!  This works even though the Fortran compiler (g77) is
still the development 2.96 version.

My .Machine now looks just like his.

Thanks again!--Tom Wainwright


Prof Brian D Ripley wrote:
> 
> On Fri, 3 Nov 2000, Tom Wainwright wrote:
> 
> > Thanks!  Building from source worked, and the demos all run.  Several
> > others report that R runs smoothly on RedHat7.
> >
> > However, not all the tests in $R_HOME/tests succeed.  When I do "make
> > test-Examples" in that directory,  it fails executing "base-Ex.R" in the
> > "eigen" section, with the error:
> >
> >       Error: abs(sm %*% V - V %*% diag(lam)) < 60 * Meps is not TRUE
> >
> > This appears to be a numerical precision problem.  Checking, Meps (i.e.
> > .Machine.double.eps) is 1.084202e-19.  Is this a reasonable value for a
> > Pentium III?
> 
> No. .Machine$double.eps should be about 2e-16.  An i686 does not have
> 19 digits of precision.  Here's what gcc-2.95.2 gives on a PIII under
> RH6.2:
> 
> > .Machine
> $double.eps
> [1] 2.220446e-16
> 
> $double.neg.eps
> [1] 1.110223e-16
> 
> $double.xmin
> [1] 2.225074e-308
> 
> $double.xmax
> [1] 1.797693e+308
> 
> $double.base
> [1] 2
> 
> $double.digits
> [1] 53
> 
> $double.rounding
> [1] 5
> 
> $double.guard
> [1] 0
> 
> $double.ulp.digits
> [1] -52
> 
> $double.neg.ulp.digits
> [1] -53
> 
> $double.exponent
> [1] 11
> 
> $double.min.exp
> [1] -1022
> 
> $double.max.exp
> [1] 1024
> 
> $integer.max
> [1] 2147483647
> 
> > If I rerun test-Examples, all the remaining tests complete with no problem.
> >
> > Similarly, make test-Specific fails during arith-true.R, with many tests
> > returning FALSE.
> >
> > Have others who run R on RedHat7 run these tests? It seems that either
> > there's a serious compiler problem, or the .Machine variables are getting
> > set wrong, or I have a hardware problem.
> 
> The likely story is that that beta compiler is even farther from
> IEEE-compliant than is usual for gcc on Linux.  Some of us are
> too nervous about it to even try an installation.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Tom Wainwright
NOAA/NMFS/NWFSC
2030 S Marine Science Dr
Newport, OR 97365 USA
thomas.wainwright at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Sun Nov  5 17:58:47 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Sun, 05 Nov 2000 17:58:47 +0100
Subject: [R] hello
Message-ID: <3A0591C6.78D4C701@info.univ-angers.fr>

Hello,
I am a new user.
I would like to know if it is possible with R to fix the position of
ticks.
for example for my plot I obtained automatically the positions
200,400,600,800 and 1000 on x axis and so  a scale of 200
But I would like to obtain
100,200,300,400,500,600,700,800,900,100 so a scale of 100.
Which fonction can help me to do so?
thank you
meriema


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Sun Nov  5 19:04:45 2000
From: rnassar at duke.edu (Rashid Nassar)
Date: Sun, 5 Nov 2000 13:04:45 -0500 (EST)
Subject: [R] hello
In-Reply-To: <3A0591C6.78D4C701@info.univ-angers.fr>
Message-ID: <Pine.SOL.3.91.1001105130311.1173A-100000@bio3.acpub.duke.edu>


help(par) gives: 

  xaxp: A vector of the form `c(x1, x2, n)' giving the coordinates of
          the extreme tick marks and the number of intervals between
          tick-marks.

So I tried:

> plot(x <- seq(0,1000,by=100),x,xaxp=c(0,1000,10))

but that did not seem to work.  The following works:

> plot(x <- seq(0,1000,by=100),x,axes=F)
> axis(1,at=seq(0,1000,by=100))
> axis(2,at=seq(0,1000,by=100),las=1)

Rashid Nassar


On Sun, 5 Nov 2000, Meriema Belaidouni wrote:

> Date: Sun, 05 Nov 2000 17:58:47 +0100
> From: Meriema Belaidouni <meriema at info.univ-angers.fr>
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] hello
> 
> Hello,
> I am a new user.
> I would like to know if it is possible with R to fix the position of
> ticks.
> for example for my plot I obtained automatically the positions
> 200,400,600,800 and 1000 on x axis and so  a scale of 200
> But I would like to obtain
> 100,200,300,400,500,600,700,800,900,100 so a scale of 100.
> Which fonction can help me to do so?
> thank you
> meriema
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sun Nov  5 20:17:12 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 6 Nov 2000 08:17:12 +1300
Subject: [R] hello
In-Reply-To: <3A0591C6.78D4C701@info.univ-angers.fr>; from Meriema Belaidouni on Sun, Nov 05, 2000 at 05:58:47PM +0100
References: <3A0591C6.78D4C701@info.univ-angers.fr>
Message-ID: <20001106081712.A20664@stat1.stat.auckland.ac.nz>

On Sun, Nov 05, 2000 at 05:58:47PM +0100, Meriema Belaidouni wrote:
> Hello,
> I am a new user.
> I would like to know if it is possible with R to fix the position of
> ticks.
> for example for my plot I obtained automatically the positions
> 200,400,600,800 and 1000 on x axis and so  a scale of 200
> But I would like to obtain
> 100,200,300,400,500,600,700,800,900,100 so a scale of 100.
> Which fonction can help me to do so?
> thank you
> meriema

Here is a simple example; plotting a sequence of 1000 random numbers
against the sequence 1:1000.

    plot(1:1000, rnorm(1000), axes=FALSE)	#  plot with no axes
    axis(1, at = seq(0, 1000, by = 100))	#  custom x axis
    axis(2)					#  default y axis
    box()					#  box around the plot

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Mon Nov  6 00:30:45 2000
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sun, 5 Nov 2000 21:30:45 -0200
Subject: [R] glm
Message-ID: <005301c04780$707e8660$a19ed2c8@aolinto>

Hi to all,

So I'm also a new user. I downloaded the program last week and I think it's great. Thanks to those who have developed R.

I have a special interest in GLM as a tool to describe fisheries and its variables and I'm just begging to study it.

As I could understand there's two types of GLM sun of squares: in "type I" the factors are added in sequence and "type III" this sequence doesn't matter. In R I always get the message: "Terms added sequentially (first to last)".

Is there any way to make the so called Type III procedure?

Thanks!

Antonio Olinto
Fisheries Institute
Sao Paulo - Brazil



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001105/3eaf1b64/attachment.html

From p.dalgaard at biostat.ku.dk  Mon Nov  6 00:51:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Nov 2000 00:51:26 +0100
Subject: [R] glm
In-Reply-To: "Antonio Olinto"'s message of "Sun, 5 Nov 2000 21:30:45 -0200"
References: <005301c04780$707e8660$a19ed2c8@aolinto>
Message-ID: <x2aebe5669.fsf@blueberry.kubism.ku.dk>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> Hi to all,
> 
> So I'm also a new user. I downloaded the program last week and I think =
> it's great. Thanks to those who have developed R.
> 
> I have a special interest in GLM as a tool to describe fisheries and its =
> variables and I'm just begging to study it.

First: glm in R is not PROC GLM in SAS. In R the "G" is for
"generalized", cf. GLIM or GENMOD in SAS. The SAS GLM (General Linear
Model) functionality comes via lm() and friends in R.

> As I could understand there's two types of GLM sun of squares: in "type =
> I" the factors are added in sequence and "type III" this sequence =
> doesn't matter. In R I always get the message: "Terms added sequentially =
> (first to last)".

I wouldn't say it "doesn't matter". Rather, it is "testing with
replacement" - see if you can drop a term, then put it back in the
model and see if you can drop another term.

> Is there any way to make the so called Type III procedure?

Essentially, drop1() - barring details concerning main effects with 
interaction terms present.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Mon Nov  6 03:14:46 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Mon, 06 Nov 2000 12:14:46 +1000
Subject: [R] glm 
In-Reply-To: Your message of "Sun, 05 Nov 2000 21:30:45 -0200."
             <005301c04780$707e8660$a19ed2c8@aolinto> 
Message-ID: <200011060214.NAA20043@snowy.nsw.cmis.CSIRO.AU>

Hi Antonio,

> Hi to all,
> 
> So I'm also a new user. I downloaded the program last week and I think =
> it's great. Thanks to those who have developed R.
> 
> I have a special interest in GLM as a tool to describe fisheries and its =
> variables and I'm just begging to study it.

I'm in fisheries research as well.
 
> As I could understand there's two types of GLM sun of squares: in "type =
> I" the factors are added in sequence and "type III" this sequence =
> doesn't matter. In R I always get the message: "Terms added sequentially =
> (first to last)".
> 
> Is there any way to make the so called Type III procedure?

I'm really curious to know why the "two types" of sum of squares are
called "Type I" and "Type III"!  This is a very common misconception,
particularly among SAS users who have been fed this nonsense quite
often for all their professional lives.  Fortunately the reality is
much simpler. There is, by any sensible reckoning, only ONE type of
sum of squares, and it always represents an improvement sum of squares
of the outer (or alternative) model over the inner (or null
hypothesis) model.  What the SAS highly dubious classification of sums
of squares does is to encourage users to concentrate on the null
hypothesis model and to forget about the alternative.  This is always
a very bad idea and not surprisingly it can lead to nonsensical tests,
as in the test it provides for main effects "even in the presence of
interactions", something which beggars definition, let alone belief.

It is quite reasonable to talk about testing strategies and to
consider sequential strategies (which yield a single analysis of
variance table) and non-sequential strategies (which logically do NOT
lead to a single analysis of variance table).  The nonsense really
starts when you see a non-sequential analysis of variance table (for a
non-orthogonal design) where the sums of squares don't add up.  This
is a clear indication that all is not as it seems.

The basic tool for investigating hypotheses in a non-sequential way is
to use drop1() on the fitted model object.  This is what you get,
effectively, in the coefficients table from a regression model,
anyway.  drop1() does not produce a table, thank goodness.  It does
allow you to look at each *non marginal* term separately, though,
which is really what you are getting at.  The fact that it does not
give anything for *marginal* terms should be seen as a very sensible
*feature*, mostly lacking in other systems....

As you might have gathered, this is something that tends to get me
rather excited.  I consider the way this material is presented in SAS
and elsewhere to be at least irresponsible and something that actively
encourages bad and rather slovenly practice.  Furthermore the way this
flawed view of the subject and the terminology that goes with it is
infiltrating the profession and its software systems is alarming and
should be resisted.  I regret to say that our commercial sister system
has already succumbed to the pressures rather arrogantly, if subtly,
exerted on it to conform (and not entirely by SAS, actually).  May R
remain ever free of this particular canker.

Bill Venables.

> 
> Thanks!
> 
> Antonio Olinto
> Fisheries Institute
> Sao Paulo - Brazil

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Nov  6 09:49:17 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 06 Nov 2000 09:49:17 +0100 (CET)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <3A035289.70D020AB@noaa.gov>
Message-ID: <XFMail.001106094917.plummer@iarc.fr>

I have been struggling with this problem on my own over the weekend.
I should have popped into work to read my mail! I found that turning
off the optimization for the C compiler also solves this problem, although
Tom's solution seems to be a better one.

Martyn 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  6 10:46:21 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Nov 2000 10:46:21 +0100
Subject: [R] Installing R on RedHat7.0
In-Reply-To: Martyn Plummer's message of "Mon, 06 Nov 2000 09:49:17 +0100 (CET)"
References: <XFMail.001106094917.plummer@iarc.fr>
Message-ID: <x2zojdzb4i.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> I have been struggling with this problem on my own over the weekend.
> I should have popped into work to read my mail! I found that turning
> off the optimization for the C compiler also solves this problem, although
> Tom's solution seems to be a better one.

Hmm. Maybe. The kgcc compiler is the same as the one from RH6.2 that
gave us trouble with dyn.loading of Fortran code, and I don't know
whether that is solved by using g77 from the 2.96 suite.
('install.packages("akima"); library(akima)' should show it soon
enough.) 

An alternative (which I suppose we might as well adopt for defensive
reasons) would seem to be to compile just machar.c with optimisation
off. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  6 10:55:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 6 Nov 2000 09:55:40 +0000 (GMT)
Subject: [R] Installing R on RedHat7.0
In-Reply-To: <x2zojdzb4i.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10011060953200.12373-100000@toucan.stats>

On 6 Nov 2000, Peter Dalgaard BSA wrote:

> Martyn Plummer <plummer at iarc.fr> writes:
> 
> > I have been struggling with this problem on my own over the weekend.
> > I should have popped into work to read my mail! I found that turning
> > off the optimization for the C compiler also solves this problem, although
> > Tom's solution seems to be a better one.
> 
> Hmm. Maybe. The kgcc compiler is the same as the one from RH6.2 that
> gave us trouble with dyn.loading of Fortran code, and I don't know
> whether that is solved by using g77 from the 2.96 suite.
> ('install.packages("akima"); library(akima)' should show it soon
> enough.) 
> 
> An alternative (which I suppose we might as well adopt for defensive
> reasons) would seem to be to compile just machar.c with optimisation
> off. 

Not so easy to do automatically when a user can specify any compiler as CC
and any flags as CFLAGS. And people do: I build installed versions
without debugging information for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  6 11:36:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Nov 2000 11:36:18 +0100
Subject: [R] Installing R on RedHat7.0
In-Reply-To: Prof Brian Ripley's message of "Mon, 6 Nov 2000 09:55:40 +0000 (GMT)"
References: <Pine.GSO.4.05.10011060953200.12373-100000@toucan.stats>
Message-ID: <x2wvehz8t9.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Not so easy to do automatically when a user can specify any compiler as CC
> and any flags as CFLAGS. And people do: I build installed versions
> without debugging information for example.

Hmm. With gcc, you can specify -O0 which cancels any previous -O
options, so it seems to work to insert the following rule in
src/appl/Makefile

machar.o: machar.c
        $(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) -O0 -c $< -o $@

Does that break badly with other compilers?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Mon Nov  6 14:38:38 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Mon, 06 Nov 2000 14:38:38 +0100
Subject: [R] unix
Message-ID: <3A06B45D.F01B67D4@info.univ-angers.fr>

hello
Is it possible to execute Unix command from R prompt?
for example
ls
cd ..

In matlab this possible by adding "!"
!ls
!cd ..

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Mon Nov  6 15:02:16 2000
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Mon, 6 Nov 2000 15:02:16 +0100 (MET)
Subject: [R] unix
In-Reply-To: <3A06B45D.F01B67D4@info.univ-angers.fr>
Message-ID: <Pine.OSF.4.21.0011061500580.13290-100000@arnold.math.ku.dk>


Try something like:

R>system("ls")


Anders

On Mon, 6 Nov 2000, Meriema Belaidouni wrote:

> hello
> Is it possible to execute Unix command from R prompt?
> for example
> ls
> cd ..
> 
> In matlab this possible by adding "!"
> !ls
> !cd ..
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  6 15:02:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Nov 2000 15:02:46 +0100
Subject: [R] unix
In-Reply-To: Meriema Belaidouni's message of "Mon, 06 Nov 2000 14:38:38 +0100"
References: <3A06B45D.F01B67D4@info.univ-angers.fr>
Message-ID: <x2itq1yz95.fsf@blueberry.kubism.ku.dk>

Meriema Belaidouni <meriema at info.univ-angers.fr> writes:

> ls
> cd ..
> 
> In matlab this possible by adding "!"
> !ls
> !cd ..

Use system("ls"). We've had the "!" convention at some point, but as I
remember it, people got tired of having it kick in unexpectedly where
logical "not" was intended, and we decided that it was probably a bad
idea to have a syntactically correct R expression do something
completely different when it happened to sit at the beginning of a line...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shethj at epi.wustl.edu  Mon Nov  6 15:48:04 2000
From: shethj at epi.wustl.edu (Jagat Sheth)
Date: Mon, 06 Nov 2000 08:48:04 -0600
Subject: [R] Aggregate
Message-ID: <sa067089.006@EPI.WUSTL.EDU>

Hello to all,

I recently downloaded R to my PC and am enjoying getting acquainted with it. Thank you to everyone involved in the R-project!

I am interested in doing a log-linear analysis with R on a data set with dichotomous variables. There are 11 variables (columns) and around 1000 subjects (rows).  How do I aggregate my data, i.e. how do I make a new dataset that includes the variable giving  the counts for rows with the same configuration of responses? I know this is possible using the package 'cfa' (configural frequency analysis, a contributed package in R) but I can't coerce the output from the cfa command into a data frame. 
 Any suggestions would be greatly appreciated.  Thanks!

Jagat Sheth
Washington University in St. Louis
Department of Psychiatry
40 N. Kingshighway 
St. Louis, MO 63108
Tel: (314) 286-2253
Fax: (314) 286-2265
email: shethj at epi.wustl.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Mon Nov  6 15:39:03 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 06 Nov 2000 14:39:03 +0000
Subject: [R] unix
In-Reply-To: Meriema Belaidouni's message of "Mon, 06 Nov 2000 14:38:38 +0100"
References: <3A06B45D.F01B67D4@info.univ-angers.fr>
Message-ID: <dgkem0p17y0.fsf@scs2.ncl.ac.uk>

Meriema Belaidouni <meriema at info.univ-angers.fr> writes:

> hello
> Is it possible to execute Unix command from R prompt?
> for example
> ls
> cd ..

system("ls")

[...]

Cheers
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Olivier.Houix at ircam.fr  Mon Nov  6 15:49:21 2000
From: Olivier.Houix at ircam.fr (Houix Olivier)
Date: Mon, 06 Nov 2000 15:49:21 +0100
Subject: [R] unix
References: <3A06B45D.F01B67D4@info.univ-angers.fr>
Message-ID: <3A06C4F1.301777F3@ircam.fr>

Yes, you can use this:

system("date > date.txt")

for example
Meriema Belaidouni wrote:
> 
> hello
> Is it possible to execute Unix command from R prompt?
> for example
> ls
> cd ..
> 
> In matlab this possible by adding "!"
> !ls
> !cd ..
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  6 16:01:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 6 Nov 2000 15:01:33 +0000 (GMT)
Subject: [R] Aggregate
Message-ID: <200011061501.PAA23681@toucan.stats.ox.ac.uk>


> Date: Mon, 06 Nov 2000 08:48:04 -0600
> From: "Jagat Sheth" <shethj at epi.wustl.edu>
> 
> Hello to all,
> 
> I recently downloaded R to my PC and am enjoying getting acquainted with it. 
Thank you to everyone involved in the R-project!
> 
> I am interested in doing a log-linear analysis with R on a data set
with dichotomous variables. There are 11 variables (columns) and around
1000 subjects (rows).  How do I aggregate my data, i.e. how do I make a
new dataset that includes the variable giving  the counts for rows with
the same configuration of responses? I know this is possible using the
package 'cfa' (configural frequency analysis, a contributed package in
R) but I can't coerce the output from the cfa command into a data
frame.

I'm not fully sure I understand.  You have a data frame, one row per
subject with 11 columns?  What's the response here?  If one of the
columns is the response (and it is dichotomous) then you can just use
logistic regression without any transformation.  To do a log-linear
analysis using a few of the variables as a joint response you can use
multinom from package nnet on the original data, and it will summarize
the data as you request en route.  To use loglin all you need to do is
use table on the data frame

do.call("table", dataset)

*BUT* I am not sure that is at all appropriate as an analysis.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov  6 16:52:47 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 6 Nov 2000 10:52:47 -0500 (EST)
Subject: [R] unix
In-Reply-To: <x2itq1yz95.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10011061046270.18242-100000@bolker.zoo.ufl.edu>


  I'd like to point out a potential confusion. Although the advice about
system() is technically correct, for the particular case of changing
directories you probably want to use getwd/setwd [I think system() spawns
its own shell, so changing directories with system() isn't persistent].  
For example:

> getwd()   ## start in my home directory
[1] "/home/ben"
> system("cd ..")  ## this executes OK but ...
> getwd()
[1] "/home/ben"    ## I'm still in the same working directory
> setwd("..")      ## this is the way to change working directory
NULL
> getwd()          ## now I've moved up one
[1] "/home"

system("pwd") would do the same thing as getwd(), but is specific to Unix
(whereas getwd() should also work on Windows etc.)

  For my two cents, the "shorthand" command that I'd like to have in R
would be a shortcut for referring to .Last.value like %, %% in Maple ...
might be hard to find a special character that's not already used for
something, though.

On 6 Nov 2000, Peter Dalgaard BSA wrote:

> Meriema Belaidouni <meriema at info.univ-angers.fr> writes:
> 
> > ls
> > cd ..
> > 
> > In matlab this possible by adding "!"
> > !ls
> > !cd ..
> 
> Use system("ls"). We've had the "!" convention at some point, but as I
> remember it, people got tired of having it kick in unexpectedly where
> logical "not" was intended, and we decided that it was probably a bad
> idea to have a syntactically correct R expression do something
> completely different when it happened to sit at the beginning of a line...
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Mon Nov  6 17:17:14 2000
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Mon, 6 Nov 2000 17:17:14 +0100 (CET)
Subject: [R] unix
In-Reply-To: <3A06C4F1.301777F3@ircam.fr>
Message-ID: <Pine.LNX.4.21.0011061713030.23606-100000@reclus.nhh.no>

On Mon, 6 Nov 2000, Houix Olivier wrote:

> Yes, you can use this:
> 
> system("date > date.txt")
> 
> Meriema Belaidouni wrote:
> > 
> > hello
> > Is it possible to execute Unix command from R prompt?
> > for example
> > ls
> > cd ..
> > 
> 

Both yes and no - I don't think you can change the working directory,
because system() runs a shell process to termination:

> system("pwd")
/home/rsb
> system("cd tmp")
> system("pwd")
/home/rsb
> system("cd tmp; pwd")
/home/rsb/tmp
> system("pwd")
/home/rsb

Is there a way to do this too?

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Nov  6 17:24:51 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 6 Nov 2000 17:24:51 +0100 (CET)
Subject: [R] unix
In-Reply-To: <Pine.LNX.4.21.0011061713030.23606-100000@reclus.nhh.no>
References: <3A06C4F1.301777F3@ircam.fr>
	<Pine.LNX.4.21.0011061713030.23606-100000@reclus.nhh.no>
Message-ID: <14854.56147.924115.748451@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 6 Nov 2000 17:17:14 +0100 (CET),
>>>>> Roger Bivand (RB) wrote:


RB> Both yes and no - I don't think you can change the working directory,
RB> because system() runs a shell process to termination:

>> system("pwd")
RB> /home/rsb
>> system("cd tmp")
>> system("pwd")
RB> /home/rsb
>> system("cd tmp; pwd")
RB> /home/rsb/tmp
>> system("pwd")
RB> /home/rsb

RB> Is there a way to do this too?


Sure, using setwd():

> system("pwd")
/home/Leisch/bin
> setwd("/tmp")
NULL
> system("pwd")
/tmp

best,
.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shethj at epi.wustl.edu  Mon Nov  6 18:51:32 2000
From: shethj at epi.wustl.edu (Jagat Sheth)
Date: Mon, 06 Nov 2000 11:51:32 -0600
Subject: [R] Aggregate
Message-ID: <sa069b86.032@EPI.WUSTL.EDU>



>>> Prof Brian Ripley <ripley at stats.ox.ac.uk> 11/06 9:01 AM >>>

> Date: Mon, 06 Nov 2000 08:48:04 -0600
> From: "Jagat Sheth" <shethj at epi.wustl.edu>
> 
> Hello to all,
> 
> I recently downloaded R to my PC and am enjoying getting acquainted with it. 
Thank you to everyone involved in the R-project!
> 
> I am interested in doing a log-linear analysis with R on a data set
with dichotomous variables. There are 11 variables (columns) and around
1000 subjects (rows).  How do I aggregate my data, i.e. how do I make a
new dataset that includes the variable giving  the counts for rows with
the same configuration of responses? I know this is possible using the
package 'cfa' (configural frequency analysis, a contributed package in
R) but I can't coerce the output from the cfa command into a data
frame.

I'm not fully sure I understand.  You have a data frame, one row per
subject with 11 columns?  What's the response here?  

Sorry for my ambiguity! The response variable I want is not in my original dataset having one row per observation and 11 columns. I would like to make a new dataset having one row per 'configuration' from my original dataset and 12 columns. The 12-th column will be the dependent variable I want, namely 'freq', the  number of times the given 'configuration' appeared in the original data set. I would like to do a log-linear analysis on this new data set, eg. loglm( freq ~., newdataset).  

If I try to set 'freq' equal to 1 for each row in my original data set, then I am prompted by R to increase the heapsize for memory when running loglin or loglm.

Thanks again.

J. Sheth

 

If one of the
columns is the response (and it is dichotomous) then you can just use
logistic regression without any transformation.  To do a log-linear
analysis using a few of the variables as a joint response you can use
multinom from package nnet on the original data, and it will summarize
the data as you request en route.  To use loglin all you need to do is
use table on the data frame

do.call("table", dataset)

*BUT* I am not sure that is at all appropriate as an analysis.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/ 
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michel.hoffi at gmx.de  Mon Nov  6 19:19:30 2000
From: michel.hoffi at gmx.de (Michael Hoffmeier)
Date: Mon, 6 Nov 2000 19:19:30 +0100 (MET)
Subject: [R] multivariate
Message-ID: <23478.973534770@www38.gmx.net>

Hello.

I?m student at the university of Dortmund and at this time I?m working
with multivariate datas. Trying to get some useful results with S-Plus 4.0 and
R concerning the multivariate linear regression, I got a few problems. So
here my question:

I?m looking especially for two tests for the multivariate linear
regression:
1. the test on significance on one independent variable
2. the general multivariate linear hypothesis C*beta=gamma

Are these tests implented anyway in S-Plus or R, or do I have to program
them myself?

I hope you can help me. Thank you in advance.

Sincerely,
Michael Hoffmeier


-- 
Sent through GMX FreeMail - http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Mon Nov  6 21:20:28 2000
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Mon, 6 Nov 2000 21:20:28 +0100 (CET)
Subject: [R] R and national characters
Message-ID: <Pine.LNX.4.21.0011062119360.28564-100000@atys.fi.muni.cz>

Hello,
I have some problem with graphics.
Is there any way how print national characters in right form to plot in
R(Windows or UNIX)? 
How does it work?

Thank you in advance
Martin Gotz

.-___-^..^--~~~-^-.^.^-^.^-~-.--__-~-^^^-~~~-^.-..^-^---
Martin Gotz  xgotz at fi.muni.cz  Lisky 37, Brno, Czech Rep.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  6 21:41:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 6 Nov 2000 20:41:45 +0000 (GMT)
Subject: [R] R and national characters
In-Reply-To: <Pine.LNX.4.21.0011062119360.28564-100000@atys.fi.muni.cz>
Message-ID: <Pine.GSO.4.05.10011062037310.18856-100000@auk.stats>

On Mon, 6 Nov 2000, Martin Gotz wrote:

> Hello,
> I have some problem with graphics.
> Is there any way how print national characters in right form to plot in
> R(Windows or UNIX)? 
> How does it work?

Under Unix, you should be able to plot on X11 or postscript devices any
characters in the ISO latin1 character set: see ?text for some examples.
You may need to set the locale correctly before launching R.

On Windows, ditto for NT, but there are known problems with 95/98/ME that
we think we have addressed for the next release.

I assume you want Czech chars, and you will have to tell us if they are in
ISO latin1, I am afraid.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  6 22:45:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Nov 2000 22:45:29 +0100
Subject: [R] R and national characters
In-Reply-To: Prof Brian D Ripley's message of "Mon, 6 Nov 2000 20:41:45 +0000 (GMT)"
References: <Pine.GSO.4.05.10011062037310.18856-100000@auk.stats>
Message-ID: <x2zojcpyfa.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> I assume you want Czech chars, and you will have to tell us if they are in
> ISO latin1, I am afraid.

I was going to point to plotmath, but for Czech we seem to be missing
the hacek accent (\vee in TeX, AFAIR) rather badly. Anyone know
whether that is an omission or a font problem?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Nov  7 03:22:01 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Tue, 7 Nov 2000 02:22:01 +0000
Subject: [Rd] Re: [R] Newbie questions
In-Reply-To: <14853.5377.881692.164218@mithrandir.hornik.net>; from Kurt.Hornik@ci.tuwien.ac.at on Sun, Nov 05, 2000 at 09:06:25AM +0100
References: <20001031193640.B1043@ps2-4.ucl-41> <200010311957.OAA26707@jessie.research.bell-labs.com> <20001104212318.A829@ps2-4.ucl-41> <x28zqzjliy.fsf@blueberry.kubism.ku.dk> <14853.5377.881692.164218@mithrandir.hornik.net>
Message-ID: <20001107022201.A20159@ps2-4.ucl-41>

On Sun, Nov 05, 2000 at 09:06:25AM +0100, Kurt Hornik wrote:
> Actually, can you try a current snapshot of R-devel?

I did.

> I am in the process of converting all shlib stuff to GNU libtool which
> is now used by default ... and I think this change should make Peter's
> suggestion happen automagically ...

It did. Everything went fine, included make check. The demos fly,... So,
everything is OK on the Hurd (well, as far as R is concerned)

BTW, how stable is R-devel considered? I mean both in terms of the software
itself and the code R accepts (improvements, incompatibilities)?

> Thanks && waiting for your findings,

Thank you for the magic,

Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Nov  7 07:46:44 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 7 Nov 2000 07:46:44 +0100 (MET)
Subject: [R] R and national characters
In-Reply-To: <x2zojcpyfa.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0011070744540.9952-100000@artemis.imbe.med.uni-erlangen.de>


On 6 Nov 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > I assume you want Czech chars, and you will have to tell us if they are in
> > ISO latin1, I am afraid.
> 
> I was going to point to plotmath, but for Czech we seem to be missing
> the hacek accent (\vee in TeX, AFAIR) rather badly. Anyone know
> whether that is an omission or a font problem?
> 

If this is not possible from within R, see

http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html#5.3

for some tricks using PSfrag.

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Nov  7 10:11:57 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 7 Nov 2000 09:11:57 +0000 (GMT)
Subject: [R] unix
In-Reply-To: <Pine.LNX.4.10.10011061046270.18242-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10011070909440.1719-100000@localhost.localdomain>

On Mon, 6 Nov 2000 ben at zoo.ufl.edu wrote:
 
>   For my two cents, the "shorthand" command that I'd like to have in R
> would be a shortcut for referring to .Last.value like %, %% in Maple ...
> might be hard to find a special character that's not already used for
> something, though.
I agree with this suggestion, I was going to suggest it myself at one
point. (I think it is Mathematica that uses %, %% and Maple uses ",
"",...)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov  7 12:02:51 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 7 Nov 2000 06:02:51 -0500
Subject: [R] unix
References: <Pine.LNX.4.10.10011070909440.1719-100000@localhost.localdomain>
Message-ID: <03fa01c048aa$45e13080$0201a8c0@Workgroup>

... and Matlab uses "ans" and Mathematica effectively uses %, %%

Would be nice to have something simpler than .Last.value

YG

----- Original Message -----
From: "Bill Simpson" <wsi at gcal.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, November 07, 2000 4:11 AM
Subject: Re: [R] unix


> On Mon, 6 Nov 2000 ben at zoo.ufl.edu wrote:
>
> >   For my two cents, the "shorthand" command that I'd like to have in R
> > would be a shortcut for referring to .Last.value like %, %% in Maple ...
> > might be hard to find a special character that's not already used for
> > something, though.
> I agree with this suggestion, I was going to suggest it myself at one
> point. (I think it is Mathematica that uses %, %% and Maple uses ",
> "",...)
>
> Bill
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Nov  7 13:03:04 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 07 Nov 2000 23:03:04 +1100
Subject: [R] Aggregate
Message-ID: <3A07EF77.325DF4C6@ozemail.com.au>

Hi Jaget,

If I have correctly understood your problem, this might give you a
start:

sum.response.patterns<-function(mat) {
 nrows<-dim(mat)[1]
 sorted.mat<-mat[order(mat[,1],mat[,2],mat[,3],mat[,4],mat[,5]),]
 pattern.count<-rep(1,nrows)
 j<-1
 for(i in 1:(nrows-1)) {
  if(sum(abs(sorted.mat[i,]-sorted.mat[i+1,])) == 0)
   pattern.count[j]<-pattern.count[j]+1
  else j<-j+1
 }
 return(pattern.count[1:j])
}

I tried it with this:
test.mat<-matrix(as.numeric(runif(500) > 0.5),ncol=5)
and it seemed to do what you requested.
You have to use a matrix with this one.
Perhaps one of the experts can get rid of that loop (sigh!)

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Tue Nov  7 13:22:30 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Tue, 7 Nov 2000 12:22:30 +0000 (GMT)
Subject: No subject
Message-ID: <Pine.GSO.3.96.1001107122050.22607B-100000@cordite>

I have just moved to a new workplace.  I saved an R workspace into
an ascii file at my old workplace and have ftp'ed it down here.
Unfortunately when I try to load the get a message saying that 
the file is corrupted.  It's  a big file, but my experience suggests
that this normally refers to a problem at the beginning or end of a file,
so I thought it might be worth enclosing just the output of "head" and "tail"

=============
RDA1
49 0
28 woman.level.data.under.fifty
27 woman.level.data.over.fifty
16 woman.level.data
22 under.fifty.id.numbers
6 source
3 pyb
2 if
3 sum

....... 


-1
-1
-1
-1
-1
-1
-1
-1
-1
-1
=================


{there seems to be a carriage return after the last -1}

I saved using UNIX R and have tried to load in Windows 98 and LINUX R's
down here.  All R versions are >= 1.0.

Can anyone who knows about the ASCII format of loads see what might be wrong?

Jonathan Myles

Department of Mathematics, Statistics and Epidemiology
Imperial Cancer Research Fund
Lincoln's Inns Fields
LONDON


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov  7 13:35:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Nov 2000 13:35:12 +0100
Subject: [R] Re: none
In-Reply-To: Jonathan Myles's message of "Tue, 7 Nov 2000 12:22:30 +0000 (GMT)"
References: <Pine.GSO.3.96.1001107122050.22607B-100000@cordite>
Message-ID: <x2n1fc3qpr.fsf@blueberry.kubism.ku.dk>

Jonathan Myles <mylesj at icrf.icnet.uk> writes:

> I have just moved to a new workplace.  I saved an R workspace into
> an ascii file at my old workplace and have ftp'ed it down here.
> Unfortunately when I try to load the get a message saying that 
> the file is corrupted.  It's  a big file, but my experience suggests
> that this normally refers to a problem at the beginning or end of a file,
> so I thought it might be worth enclosing just the output of "head" and "tail"

Hmm. Did you use binary mode FTP? 
..

> {there seems to be a carriage return after the last -1}

Or maybe a ctr-Z which is used for EOF on DOS?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Nov  7 14:43:18 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 7 Nov 2000 13:43:18 +0000
Subject: [R] .Last.value or % or ANS or ... (was unix)
In-Reply-To: <03fa01c048aa$45e13080$0201a8c0@Workgroup>
References: <Pine.LNX.4.10.10011070909440.1719-100000@localhost.localdomain>
 <03fa01c048aa$45e13080$0201a8c0@Workgroup>
Message-ID: <286l3cA2bAC6Ewkg@myatt.demon.co.uk>

Yves Gauvreau <cyg at sympatico.ca> writes:
>... and Matlab uses "ans" and Mathematica effectively uses %, %%
>
>Would be nice to have something simpler than .Last.value

Perhaps I am stating the obvious or being extremely stupid but you can
create a function:

        lv <- function()
         {
         .Last.value
         }

And then use lv() whenever you need .Last.value.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov  7 15:23:06 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 7 Nov 2000 09:23:06 -0500
Subject: [R] .Last.value or % or ANS or ... (was unix)
References: <Pine.LNX.4.10.10011070909440.1719-100000@localhost.localdomain> <03fa01c048aa$45e13080$0201a8c0@Workgroup> <286l3cA2bAC6Ewkg@myatt.demon.co.uk>
Message-ID: <040401c048c6$3f8e0390$0201a8c0@Workgroup>

Good suggestion and simple enough.

I had in mind something more like "version" which doesn't require the "()",
but your idea is excellent.

Regards

YG

----- Original Message -----
From: "Mark Myatt" <mark at myatt.demon.co.uk>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "Bill Simpson" <wsi at gcal.ac.uk>; <r-help at stat.math.ethz.ch>
Sent: Tuesday, November 07, 2000 8:43 AM
Subject: [R] .Last.value or % or ANS or ... (was unix)


> Yves Gauvreau <cyg at sympatico.ca> writes:
> >... and Matlab uses "ans" and Mathematica effectively uses %, %%
> >
> >Would be nice to have something simpler than .Last.value
>
> Perhaps I am stating the obvious or being extremely stupid but you can
> create a function:
>
>         lv <- function()
>          {
>          .Last.value
>          }
>
> And then use lv() whenever you need .Last.value.
>
> Mark
>
> --
> Mark Myatt
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Nov  7 15:47:21 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 7 Nov 2000 14:47:21 +0000 (GMT)
Subject: [R] .Last.value or % or ANS or ... (was unix)
In-Reply-To: <286l3cA2bAC6Ewkg@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.10.10011071439430.2269-100000@localhost.localdomain>



On Tue, 7 Nov 2000, Mark Myatt wrote:

> Yves Gauvreau <cyg at sympatico.ca> writes:
> >... and Matlab uses "ans" and Mathematica effectively uses %, %%
> >
> >Would be nice to have something simpler than .Last.value
> 
> Perhaps I am stating the obvious or being extremely stupid but you can
> create a function:
> 
>         lv <- function()
>          {
>          .Last.value
>          }
> 
> And then use lv() whenever you need .Last.value.

How do you say "give me the output I saw three steps ago?" In Mathematica
you would use %%% or Out[-3].

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Tue Nov  7 16:32:52 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Tue, 7 Nov 2000 16:32:52 +0100
Subject: [R] matrix transpose and object name
Message-ID: <OF627D52D2.719F6CBB-ONC1256990.0054A643@muc.allianz>

hello, everybody,

i have several unresolved issues:
1. how to do a matrix transpose? i cant find how to do it in the
documentation.
2..suppose i have an object named as lm1 from linear regression, how could
i refer to it by paste("lm",1,sep="") ?
3. to save a matrix 100 x 30, how to have a text file with 100 lines and 30
cols, instead of stacking them?

thanks.

best regards
pan yuming

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at crusher.smtl.co.uk  Tue Nov  7 17:12:00 2000
From: pete at crusher.smtl.co.uk (Pete Phillips)
Date: Tue, 07 Nov 2000 16:12:00 +0000
Subject: [R] coercion of LHS to a list
Message-ID: <200011071612.QAA10986@crusher.smtl.co.uk>


I'm using R to manipulate some data for testing nebulisers.

I have a data frame as follows:

            Volt
       ABal 0.4208
       A1   0.3982
       AF   0.4353
       B1   0.3954
       BF   0.4355
       C1   0.3975
       CF   0.4345

I also have a calibration curve loaded 

     Voltage NaF  LogNaF
  1  0.3588  20 1.30103
  2  0.3990 100 2.00000
  3  0.4391 500 2.69897


If I try to create a new column at the R command line, as follows:

nebdata$logconc<-nebdata$Volt*nebcal.fm$coefficients[2]+nebcal.fm$coefficients[1]

I get this (as I expected):

> nebdata
            Volt   logconc
       ABal 0.4208 2.380112
       A1   0.3982 1.986653
       AF   0.4353 2.632553
       B1   0.3954 1.937905
       BF   0.4355 2.636035
       C1   0.3975 1.974466
       CF   0.4345 2.618625

However, if I do it from a batch file, I get this:

[1] 2.380096 1.986653 2.632525 1.937908 2.636007 1.974467 2.618598

What has happened ?

Also, is it possible for me to reference a single figure in the data
frame eg: the intersect of Volt and ABal (0.4208) without having to
resort to this:
	 nebdata[1:1, c(2)]

Any help appreciated,
Pete

--
Pete Phillips, Deputy Director,     | Visit  http://www.smtl.co.uk/ 
Surgical Materials Testing Lab,     | A web site dedicated to medical
Princess of Wales Hospital, S. Wales| disposables, dressings, wound care
Fax: +44 1656-752830 pete at smtl.co.uk| and biosurgery (maggot therapy).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  7 17:59:38 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 7 Nov 2000 08:59:38 -0800 (PST)
Subject: [R] matrix transpose and object name
In-Reply-To: <OF627D52D2.719F6CBB-ONC1256990.0054A643@muc.allianz>
Message-ID: <Pine.GSO.4.21.0011070854280.23410-100000@atlas.biostat.washington.edu>

On Tue, 7 Nov 2000 Pan_Yuming at aam.de wrote:

> hello, everybody,
> 
> i have several unresolved issues:
> 1. how to do a matrix transpose? i cant find how to do it in the
> documentation.

t(matrix).  

This may be a good time to point out the help.search() function.
   help.search(transpose) 
returns
  Help files with name or title matching `transpose':

  t(base)   Matrix Transpose


> 2..suppose i have an object named as lm1 from linear regression, how could
> i refer to it by paste("lm",1,sep="") ?

You could refer to it by get(paste("lm",1,sep="")) but this sort of thing
is very rarely necessary.  

If you have a whole bunch of lms to store then you can put them in a list,
and then refer to them as, say, lmlist[[1]], lmlist[[2]]


> 3. to save a matrix 100 x 30, how to have a text file with 100 lines and 30
> cols, instead of stacking them?

help(write.table)


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Tue Nov  7 18:07:41 2000
From: Diego at kuonen.com (Diego Kuonen)
Date: Tue, 07 Nov 2000 18:07:41 +0100
Subject: [R] coercion of LHS to a list
References: <200011071612.QAA10986@crusher.smtl.co.uk>
Message-ID: <3A0836DD.711F9AA0@Kuonen.com>

Pete Phillips wrote:
> If I try to create a new column at the R command line, as follows:
> 
> nebdata$logconc<-nebdata$Volt*nebcal.fm$coefficients[2]+nebcal.fm$coefficients[1]

why not simply take the following:

 nebdata <- data.frame(nebdata,
                       logconc = nebdata$Volt*nebcal.fm$coefficients[2]
                       +nebcal.fm$coefficients[1])

> Also, is it possible for me to reference a single figure in the data
> frame eg: the intersect of Volt and ABal (0.4208) without having to
> resort to this:
>          nebdata[1:1, c(2)]

you can think of a data frame to be like a matrix, i.e. if u want to
access the element in the i-th line and j-th column, you simply take
  
   nebdata[i, j]

for instance in your case

   nebdata[1, 2]

or

   nebdata[nebdata$Volt=="ABal", 2]

or by attaching the data frame

   attach(nebdata)
   nebdata[Volt=="ABal", 2]
   detach(nebdata)

Greets

  Diego

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Nov  7 18:10:50 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Nov 2000 09:10:50 -0800
Subject: [R] matrix transpose and object name
In-Reply-To: <Pine.GSO.4.21.0011070854280.23410-100000@atlas.biostat.washington.edu>
 (Thomas Lumley's message of "Tue, 7 Nov 2000 08:59:38 -0800 (PST)")
References: <OF627D52D2.719F6CBB-ONC1256990.0054A643@muc.allianz>
 <Pine.GSO.4.21.0011070854280.23410-100000@atlas.biostat.washington.edu>
Message-ID: <8766lzd7xh.fsf@jeeves.blindglobe.net>

>>>>> "TL" == Thomas Lumley <thomas at biostat.washington.edu> writes:


    TL> On Tue, 7 Nov 2000 Pan_Yuming at aam.de wrote:
    >> hello, everybody,
    >> 
    >> i have several unresolved issues: 1. how to do a matrix
    >> transpose? i cant find how to do it in the documentation.

    TL> t(matrix).

    TL> This may be a good time to point out the help.search()
    TL> function.  help.search(transpose) returns Help files with name
    TL> or title matching `transpose':

    TL>   t(base) Matrix Transpose

Is there a beginner/expert flag in R?  If so, for beginners, it might
be worth sending 
        help(transpose)
to 
        help.search(transpose)
instead of throwing an error.

Also, is there a means of doing a search for partial matches or regexs
(i.e. help.search(trans) or help.search(*trans*) would match to
transpose).



-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  7 18:20:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 7 Nov 2000 09:20:09 -0800 (PST)
Subject: [R] matrix transpose and object name
In-Reply-To: <8766lzd7xh.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.GSO.4.21.0011070915570.23410-100000@atlas.biostat.washington.edu>

On 7 Nov 2000, A.J. Rossini wrote:

> >>>>> "TL" == Thomas Lumley <thomas at biostat.washington.edu> writes:
> 
> 
>     TL> On Tue, 7 Nov 2000 Pan_Yuming at aam.de wrote:
>     >> hello, everybody,
>     >> 
>     >> i have several unresolved issues: 1. how to do a matrix
>     >> transpose? i cant find how to do it in the documentation.
> 
>     TL> t(matrix).
> 
>     TL> This may be a good time to point out the help.search()
>     TL> function.  help.search(transpose) returns Help files with name
>     TL> or title matching `transpose':
> 
>     TL>   t(base) Matrix Transpose
> 
> Is there a beginner/expert flag in R?  If so, for beginners, it might
> be worth sending 
>         help(transpose)
> to 
>         help.search(transpose)
> instead of throwing an error.

yes, but help.search can be very slow. More importantly, it doesn't
actually give any help, just the titles of help topics.
 
> Also, is there a means of doing a search for partial matches or regexs
> (i.e. help.search(trans) or help.search(*trans*) would match to
> transpose).

help.search takes regular expressions (as its help describes)

R> help.search(".*trans.*")
Help files with name or title matching `.*trans.*':

boxcox(MASS)             Box-Cox Transformations for Linear Models 
gilgais(MASS)            Line Transect of Soil in Gilgai Territory 
heart(MASS)              The Stanford heart transplant data 
logtrans(MASS)           Estimate log Transformation Parameter 
aperm(base)              Array Transposition
chartr(base)             Character Translation
fft(base)                Fast Discrete Fourier Transform
t(base)                  Matrix Transpose
transform(base)          Transform an Object, e.g. a Data Frame
co.transfer(boot)        Carbon Monoxide Transfer 
paulsen(boot)            Neurotransmission in Guinea Pig Brains. 
DNAtoProt(dna)           Translate Coding DNA/RNA Base Triplets to Amino Acids
stft(e1071)              Computes the Short Time Fourier Transform of a  Vector
heart(locfit)            Survival Times of Heart Transplant Recipients
dftorep(rmutil)          Transform a Dataframe to a repeated Object
heart(survival5)         Stanford Heart Transplant data
first.last(wavethresh)   Build a first/last database for wavelet transforms
imwd(wavethresh)         2D Discrete Wavelet Transform (Image W. Decomposition) 
imwr(wavethresh)         2D Inverse Discrete Wavelet Transform (Image W. Reconstruction)
imwr.imwd(wavethresh)    2D Inverse Discrete Wavelet Transform (Image W. Reconstruction)
wd(wavethresh)           Discrete wavelet transform (decomposition). 
wr(wavethresh)           Discrete wavelet transform (reconstruction).



	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Tue Nov  7 18:34:37 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Tue, 7 Nov 2000 17:34:37 +0000 (GMT)
Subject: [R] ascii load file ( was Re: none)
In-Reply-To: <x2n1fc3qpr.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.1001107172950.26399B-100000@cordite>



On 7 Nov 2000, Peter Dalgaard BSA wrote:

> Jonathan Myles <mylesj at icrf.icnet.uk> writes:
> 
> > I have just moved to a new workplace.  I saved an R workspace into
> > an ascii file at my old workplace and have ftp'ed it down here.
> > Unfortunately when I try to load the get a message saying that 
> > the file is corrupted.  It's  a big file, but my experience suggests
> > that this normally refers to a problem at the beginning or end of a file,
> > so I thought it might be worth enclosing just the output of "head" and "tail"
> 
> Hmm. Did you use binary mode FTP? 
> ..
> 
> > {there seems to be a carriage return after the last -1}
> 
> Or maybe a ctr-Z which is used for EOF on DOS?
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

I've now got a colleague at MRC-BSU to compress it, and email it as an
attachment to my UNIX machine, where I uncompressed it and then ftp'ed
it in ascii format to my laptop.  So it doesn't seem to be an ascii/bin
issue ...

Jonathan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  7 18:57:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 7 Nov 2000 17:57:47 +0000 (GMT)
Subject: [R] ascii load file ( was Re: none)
Message-ID: <200011071757.RAA11165@toucan.stats.ox.ac.uk>


> Date: Tue, 7 Nov 2000 17:34:37 +0000 (GMT)
> From: Jonathan Myles <mylesj at icrf.icnet.uk>
> 
> I've now got a colleague at MRC-BSU to compress it, and email it as an
> attachment to my UNIX machine, where I uncompressed it and then ftp'ed
> it in ascii format to my laptop.  So it doesn't seem to be an ascii/bin
> issue ...

Is it possible to get a binary version of this (a .Rdata)?  Unless
you had strange machines at MRC-BSU, it should be in XDR and cross-platform
readable.

Ross did once say that ASCII save/load was only for testing,
so I would regard XDR saves as more reliable.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Nov  7 21:28:41 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 08 Nov 2000 07:28:41 +1100
Subject: [R] Aggregate
Message-ID: <3A0865F8.5845479@ozemail.com.au>

OOPS!  This is what I get for reading the R help list at the end of the
day.

I forgot to solve the "sort" problem in the following function:

sum.response.patterns<-function(mat) {
 nrows<-dim(mat)[1]
 sorted.mat<-mat[order(mat[,1],mat[,2],mat[,3],mat[,4],mat[,5]),]
 pattern.count<-rep(1,nrows)
 j<-1
 for(i in 1:(nrows-1)) {
  if(sum(abs(sorted.mat[i,]-sorted.mat[i+1,])) == 0)
   pattern.count[j]<-pattern.count[j]+1
  else j<-j+1
 }
 return(pattern.count[1:j])
}

So, this morning I have fooled around trying to get something like I
would expect from an UNIX 'sort' function and, while I have gotten the
argument list as a character string:

paste(paste("mat[,",1:dim(mat)[2],"]",sep="")sep=",",collapse="")

I have drawn a blank on how to make this into an argument list.  Might I
beg assistance?

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eloi_kpamegan at hgsi.com  Tue Nov  7 22:02:43 2000
From: eloi_kpamegan at hgsi.com (eloi_kpamegan@hgsi.com)
Date: Tue, 7 Nov 2000 16:02:43 -0500
Subject: [R] infinity in integrate function in R
Message-ID: <OFA2390F2F.8CA69970-ON85256990.0072EAEC@hgsi.com>

The integrate function in R is not taking Inf (infinity). How do you use
infinity in R. I was doing: integrate(dnorm, Inf, 1.96) and I was getting
Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
problem in R?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eloi_kpamegan at hgsi.com  Tue Nov  7 22:12:39 2000
From: eloi_kpamegan at hgsi.com (eloi_kpamegan@hgsi.com)
Date: Tue, 7 Nov 2000 16:12:39 -0500
Subject: [R] infinity in integrate function in R
Message-ID: <OFA2390F2F.8CA69970-ON85256990.0072EAEC@hgsi.com>

sorry the integration was from -Inf to 1.96
The integrate function in R is not taking Inf (infinity). How do you use
infinity in R. I was doing: integrate(dnorm,- Inf, 1.96) and I was getting
Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
problem in R?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  7 22:29:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 7 Nov 2000 13:29:01 -0800 (PST)
Subject: [R] infinity in integrate function in R
In-Reply-To: <OFA2390F2F.8CA69970-ON85256990.0072EAEC@hgsi.com>
Message-ID: <Pine.GSO.4.21.0011071327561.23410-100000@atlas.biostat.washington.edu>

On Tue, 7 Nov 2000 eloi_kpamegan at hgsi.com wrote:

> The integrate function in R is not taking Inf (infinity). How do you use
> infinity in R. I was doing: integrate(dnorm, Inf, 1.96) and I was getting
> Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
> be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
> problem in R?

The integrate function doesn't know how to integrate over infinite
regions. This is a different (and more difficult) problem than integrating
over finite regions.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  7 23:05:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 7 Nov 2000 22:05:42 +0000 (GMT)
Subject: [R] infinity in integrate function in R
In-Reply-To: <Pine.GSO.4.21.0011071327561.23410-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10011072200090.22500-100000@auk.stats>

On Tue, 7 Nov 2000, Thomas Lumley wrote:

> On Tue, 7 Nov 2000 eloi_kpamegan at hgsi.com wrote:
> 
> > The integrate function in R is not taking Inf (infinity). How do you use
> > infinity in R. I was doing: integrate(dnorm, Inf, 1.96) and I was getting
> > Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
> > be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
> > problem in R?
> 
> The integrate function doesn't know how to integrate over infinite
> regions. This is a different (and more difficult) problem than integrating
> over finite regions.

But it does know how to do integrate(dnorm, 10, 1.96) and in this problem
we have an accurate estimate of the tail probabilities that shows that is
accurate enough.

You can also transform the range to (-1,1), say.  (Or, of course, use
pnorm.)

With a modicum of numerical analysis, this really is not a problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Nov  7 23:40:15 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 7 Nov 2000 17:40:15 -0500
Subject: [R] infinity in integrate function in R
In-Reply-To: <OFA2390F2F.8CA69970-ON85256990.0072EAEC@hgsi.com>
	(eloi_kpamegan@hgsi.com)
Message-ID: <200011072240.RAA86058@odds.stat.purdue.edu>


   From: eloi_kpamegan at hgsi.com
   X-Mailer: Lotus Notes Release 5.0.2c  February 2, 2000
   Date: Tue, 7 Nov 2000 16:02:43 -0500
   X-MIMETrack: Serialize by Router on Mozart/Hgsi(Release 5.0.5 |September 22, 2000) at 11/07/2000
    04:02:39 PM
   MIME-Version: 1.0
   Content-type: text/plain; charset=us-ascii
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   The integrate function in R is not taking Inf (infinity). How do you use
   infinity in R. I was doing: integrate(dnorm, Inf, 1.96) and I was getting
   Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
   be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
   problem in R?

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Transform to a finite interval and multiply your integrand by the
Jacobian of the transform.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Nov  7 23:51:27 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 08 Nov 2000 09:51:27 +1100
Subject: [R] Aggregate
Message-ID: <3A08876E.BB63348E@ozemail.com.au>

Apologies for this extended correspondence with myself.  I worked out
another solution.

binvec2dec<-function(binvec) {
 result<-0
 for(i in 1:length(binvec)) result<-result+binvec[i]*2^i
 return(result)
}
sum.response.patterns<-function(mat) {
 matdim<-dim(mat)
 sorted.mat<-mat[order(apply(mat,1,binvec2dec)),]
 sorted.mat<-cbind(sorted.mat,rep(1,matdim[1]))
 print(sorted.mat)
 j<-1
 rindex<-1:matdim[2]
 count.index<-matdim[2]+1
 for(i in 1:(matdim[1]-1)) {
  if(sum(abs(sorted.mat[i,rindex]-sorted.mat[i+1,rindex])) == 0)
   sorted.mat[j,count.index]<-sorted.mat[j,count.index]+1
  else {
   j<-j+1
   sorted.mat[j,]<-sorted.mat[i+1,]
  }
 }
 return(sorted.mat[1:j,])
}

I do hope that this is the right answer...

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  8 01:38:51 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 2000 01:38:51 +0100
Subject: [R] ascii load file ( was Re: none)
In-Reply-To: Jonathan Myles's message of "Tue, 7 Nov 2000 17:34:37 +0000 (GMT)"
References: <Pine.GSO.3.96.1001107172950.26399B-100000@cordite>
Message-ID: <x2aebb5mck.fsf@blueberry.kubism.ku.dk>

Jonathan Myles <mylesj at icrf.icnet.uk> writes:

> I've now got a colleague at MRC-BSU to compress it, and email it as an
> attachment to my UNIX machine, where I uncompressed it and then ftp'ed
> it in ascii format to my laptop.  So it doesn't seem to be an ascii/bin
> issue ...

Actually, it is the ascii transfer that could be problematic, because
different machines/OSes have different ideas of what is an ascii file
- and in the case of Microsoft, the same OS may even have multiple
conflicting ideas. A ctrl-Z which was standard for end-of-file in DOS
may be read as a character in Windows and cause the load to hiccup. So
what happens if you transfer in binary?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Nov  8 09:48:23 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 8 Nov 2000 09:48:23 +0100 (MET)
Subject: [R] infinity in integrate function in R
In-Reply-To: <OFA2390F2F.8CA69970-ON85256990.0072EAEC@hgsi.com> from "eloi_kpamegan@hgsi.com" at Nov 07, 2000 04:02:43 PM
Message-ID: <200011080848.JAA07957@alpha.luc.ac.be>


> 
> The integrate function in R is not taking Inf (infinity). How do you use
> infinity in R. I was doing: integrate(dnorm, Inf, 1.96) and I was getting
> Error: NA/NaN/Inf in foreign function call (arg 2). Obviously this should
> be equal to pnorm(1.96)= 0.9750021. How do you get around the infinity
> problem in R?

The int function in my rmutil library at
www.luc.ac.be/~jlindsey/rcode.html
will handle infinite integration limits. Jim

> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Nov  8 09:50:02 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 8 Nov 2000 08:50:02 +0000
Subject: [R] .Last.value or % or ANS or ... (was unix)
In-Reply-To: <Pine.LNX.4.10.10011071439430.2269-100000@localhost.localdomain>
References: <286l3cA2bAC6Ewkg@myatt.demon.co.uk>
 <Pine.LNX.4.10.10011071439430.2269-100000@localhost.localdomain>
Message-ID: <ktZxDAA6ORC6EwWS@myatt.demon.co.uk>

Bill Simpson <wsi at gcal.ac.uk> writes:

>On Tue, 7 Nov 2000, Mark Myatt wrote:
>
>> Yves Gauvreau <cyg at sympatico.ca> writes:
>> >... and Matlab uses "ans" and Mathematica effectively uses %, %%
>> >
>> >Would be nice to have something simpler than .Last.value
>> 
>> Perhaps I am stating the obvious or being extremely stupid but you can
>> create a function:
>> 
>>         lv <- function()
>>          {
>>          .Last.value
>>          }
>> 
>> And then use lv() whenever you need .Last.value.
>
>How do you say "give me the output I saw three steps ago?" In Mathematica
>you would use %%% or Out[-3].

Why not implement a LIFO stack? Here is a first attempt:

        #
        # Flush the stack 
        # (call this to create the stack)
        #
        flush <- function()
         {
         stack <<- list()
         }
 
        #
        # Push a value onto the stack
        #
        push <- function()
         {
         stack <<- c(stack, .Last.value)
         }

        #
        # Pull a value from the stack 
        # (default is last pushed value)
        #
        pull <- function(x = 0)
         {
         stack[[length(stack) - x]]
         }

        #
        # Pull a value from the stack and remove it
        # (default is last pushed value)
        #
        pop <- function(x = 0) 
         {
         pop <- stack[[length(stack) - x]]
         stack <<- stack[-length(stack) + x]
         pop
         }

You still need to push() the values you want to keep onto the stack.
Another limitations of the above code is that objects are stored as
'atoms':

        > flush()
        > a <- c(1,2,3,4,5)
        > mean(a)
        [1] 3
        > push()
        > stack
        [[1]]
        [1] 3

        > a
        [1] 1 2 3 4 5
        > push()
        > stack
        [[1]]
        [1] 3

        [[2]]
        [1] 1

        [[3]]
        [1] 2

        [[4]]
        [1] 3

        [[5]]
        [1] 4

        [[6]]
        [1] 5

        > pull(1)
        [1] 4
        > pop(1)
        [1] 4
        > stack
        [[1]]
        [1] 3

        [[2]]
        [1] 1

        [[3]]
        [1] 2 

        [[4]]
        [1] 3

        [[5]]
        [1] 5

Which makes it pretty useless for vector and matrix results but there
should be a way round that.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Wed Nov  8 11:52:38 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Wed, 8 Nov 2000 11:52:38 +0100
Subject: [R] Graphics-Device-Size vs. Window-Size
Message-ID: <001201c04972$037bfa90$c10616ac@bbdo.de>


I want to layout on screen a graphic bigger than the screen (width=16.53543,
height=11.69291) but strwidth() and strheight() give wrong results.

> x11(width=42/2.54, height=29.7/2.54, pointsize=12)
> plot(1,1, type="n", xlim=c(0, 1), ylim=c(-1, 0), xlab="", ylab="",
axes=FALSE)
> strwidth("Whatever")
[1] 0.08471151
> # Now resize the window and repeat
> strwidth("Whatever")
[1] 0.1856643

strwidth() obviously tells me how much space a text needs ON THE SCREEN, not
on the desired device size. Can someone enlighten what is the best way to
solve this?

Regards


Jens Oehlschl?gel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Wed Nov  8 12:44:05 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Wed, 8 Nov 2000 11:44:05 +0000 (GMT)
Subject: [R] Aggregate
In-Reply-To: <3A0865F8.5845479@ozemail.com.au>
Message-ID: <Pine.GSO.4.20.0011081114440.8632-100000@laplace>

Hi Jim,

On Wed, 8 Nov 2000, Jim Lemon wrote:

> sum.response.patterns<-function(mat) {
>  nrows<-dim(mat)[1]
>  sorted.mat<-mat[order(mat[,1],mat[,2],mat[,3],mat[,4],mat[,5]),]
>  pattern.count<-rep(1,nrows)
>  j<-1
>  for(i in 1:(nrows-1)) {
>   if(sum(abs(sorted.mat[i,]-sorted.mat[i+1,])) == 0)
>    pattern.count[j]<-pattern.count[j]+1
>   else j<-j+1
>  }
>  return(pattern.count[1:j])
> }
> 
> So, this morning I have fooled around trying to get something like I
> would expect from an UNIX 'sort' function and, while I have gotten the
> argument list as a character string:
> 
> paste(paste("mat[,",1:dim(mat)[2],"]",sep="")sep=",",collapse="")
> 
> I have drawn a blank on how to make this into an argument list.  Might I
> beg assistance?

Perhaps simpler than the solution you subsequently posted would be 

oo <- do.call("order", split(mat, col(mat)))
sorted.mat <- mat[oo, ]

As for your loop, it seems to me that the object you should be processing
is

sad <- apply(abs(sorted.mat[-nrow(sorted.mat), , drop=FALSE] -
  sorted.mat[-1, , drop=FALSE]), 1, sum) == 0

Cheers, Jonathan. 

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Nov  8 13:46:39 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 8 Nov 2000 07:46:39 -0500
Subject: [R] Graphics?
Message-ID: <046a01c04981$f08c9dd0$0201a8c0@Workgroup>

Hi,

Say I've setup a plot using layout which produce 2 rows x 1 column and I'm
using the same x values for both subplots.

Say for illustration that the top part is:

    plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")

and for the bottom I have:

    plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")

Now after the output of whatever function I use to draw this is done. What
I'd like to know is, is it possible to draw a line from (5, 1) on the bottom
part to (5,5) on the top part?

Assuming it's not possible, then could I at least do the line in 2 steps, I
mean draw from (5,1) to the top of the bottom part and from (5,5) to the
bottom of the top part. In other words can I add items such as lines or
points to a multi section drawing as we can on a single section drawing?

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov  8 14:18:17 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 8 Nov 2000 08:18:17 -0500 (EST)
Subject: [R] .Last.value or % or ANS or ... (was unix)
In-Reply-To: <ktZxDAA6ORC6EwWS@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.10.10011080817200.2899-100000@bolker.zoo.ufl.edu>


  [stack implementation]

  But if I could remember to push() every time I could remember to assign
everything to temporary variables anyway ...

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Nov  8 14:49:41 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 8 Nov 2000 13:49:41 +0000
Subject: [R] .Last.value or % or ANS or ... (was unix)
In-Reply-To: <Pine.LNX.4.10.10011080817200.2899-100000@bolker.zoo.ufl.edu>
References: <ktZxDAA6ORC6EwWS@myatt.demon.co.uk>
 <Pine.LNX.4.10.10011080817200.2899-100000@bolker.zoo.ufl.edu>
Message-ID: <NZK7+AA1nVC6Ewwg@myatt.demon.co.uk>

ben at zoo.ufl.edu writes:
>
>  [stack implementation]
>
>  But if I could remember to push() every time I could remember to assign
>everything to temporary variables anyway ...

I suppose so. It might be possible to do an automatic push() on any
assignment but that would create an enormous stack just retrieving a
dataset or fitting a model.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Wed Nov  8 12:51:02 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Wed, 08 Nov 2000 11:51:02 +0000
Subject: [R] Real data type in FORTRAN
Message-ID: <3.0.5.32.20001108115102.0085a100@bureau.ucc.ie>

Dear all,

In FORTRAN we specify real*4 data type,
what is the equivalence of this data type
in R? is it single?


Thanks,
Agus
Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Wed Nov  8 15:09:24 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Wed, 8 Nov 2000 15:09:24 +0100 (MET)
Subject: [R] Strange means of numbers drawn from rpois
Message-ID: <Pine.OSF.4.30.0011081437010.24652-100000@alnair.uio.no>

Dear all,

I think I must be going crazy.... If I do
> mean(rpois(1000000, 14))
I get:
[1] 13.50420
and again:
> mean(rpois(1000000, 14))
[1] 13.49896
> mean(rpois(1000000, 14))
[1] 13.50161
> mean(rpois(1000000, 15))
[1] 14.49250
> mean(rpois(1000000, 15))
[1] 14.49897
> mean(rpois(1000000, 14.5))
[1] 13.99689
> mean(rpois(1000000, 14.5))
[1] 13.9963

This was on a
platform alphaev6-dec-osf4.0e
major    1
minor    1.1
checking out on a
platform sparc-sun-solaris2.7
major    1
minor    1.0
I get the same
> mean(rpois(100000, 14.5))
[1] 14.00347
> mean(rpois(100000, 14.5))
[1] 14.00667
> mean(rpois(100000, 14.5))
[1] 14.00675

It's fishy, isn't it...? I have generated lots of numbers, but I haven't
seen anything like this before....

I have also done

> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000052  1.999150  2.996975  4.003843  4.996136  5.999065  6.999725
 [8]  7.998869  9.003127  9.518397 10.512347 11.500405 12.510494 13.499788
[15] 14.504661

So, something happens at 10... And again:

> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000173  2.001639  2.997016  4.000163  5.000802  5.992751  6.999794
 [8]  7.997315  8.998479  9.517824 10.508328 11.507336 12.501885 13.502146
[15] 14.496810

Starting with --vanilla gives pretty much the same result...

trying different RNGs:
> RNGkind("Mersenne")
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000563  1.998802  2.998526  3.997537  4.999230  5.996591  6.999596
 [8]  7.998982  9.000783  9.510220 10.509562 11.505009 12.505001 13.504522
[15] 14.500956
> RNGkind("Knut")
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  0.999031  2.000444  3.002296  3.997795  4.998880  5.995267  7.001894
 [8]  7.999983  9.000267  9.513537 10.507142 11.502634 12.498944 13.498615
[15] 14.502410

After printing rpois (to see that I haven't replaced it with something
strange) and version, I call
> plot(sapply(1:15, function(n) mean(rpois(1000000, n))), t='l')
getting a plot that isn't a straight line, and then:
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  0.997961  1.999509  3.000748  3.999825  5.002983  6.004424  6.998825
 [8]  7.997999  8.998341  9.766942 10.781751 11.817181 12.856154 13.900369
[15] 14.999378
and again:
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  0.998570  2.000155  2.999534  4.002987  4.997999  5.996326  6.996761
 [8]  7.996728  8.997265  9.764972 10.793913 11.822874 12.859886 13.903846
[15] 15.000311

Weird....?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  8 15:13:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Nov 2000 14:13:14 +0000 (GMT)
Subject: [R] Real data type in FORTRAN
Message-ID: <200011081413.OAA19842@toucan.stats.ox.ac.uk>

> Date: Wed, 08 Nov 2000 11:51:02 +0000
> From: Agus Salim <a.salim at ucc.ie>
> 
> In FORTRAN we specify real*4 data type,

Perhaps you do, but the ISO Standard specifies REAL. What that
maps to is system-specific.

> what is the equivalence of this data type
> in R? is it single?

See ?Foreign.  R does not have a `single' data type, but .Fortran
can convert a double data type with the right attribute to and from 
a Fortran REAL.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mewssgdh at fs1.ed.man.ac.uk  Wed Nov  8 15:44:40 2000
From: mewssgdh at fs1.ed.man.ac.uk (Graeme D Hutcheson)
Date: Wed, 8 Nov 2000 14:44:40 GMT
Subject: [R] polr question
Message-ID: <10FCAFE96D56@fs1.ed.man.ac.uk>

Hi,

I am trying to reproduce in R an analysis reported in Agresti
(1996; page 214) and Agresti and Finley (1997; page 602) which
uses the proportional odds logistic regression model to compare
political ideology.

I am using the "polr" function from the MASS library which provides
a number of statistics, but does not appear to provide -2 LOG L
for the intercept only model. This statistic is useful as it
would enable me to reproduce exactly the analysis which is
currently reported using SAS and enble me teach a bit more using R.

thanks,

G. Hutcheson
Faculaty of Education
Manchester University
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Wed Nov  8 15:55:23 2000
From: arnholt at math.appstate.edu (Alan Arnholt)
Date: Wed, 8 Nov 2000 09:55:23 -0500 (EST)
Subject: [R] Strange means of numbers drawn from rpois
In-Reply-To: <Pine.OSF.4.30.0011081437010.24652-100000@alnair.uio.no>
Message-ID: <SIMEON.10011080923.A@arnholt.math.appstate.edu>

Kjetil,

I get "expected" results using a windows machine version 
1.1.1.


> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000284  1.999766  3.001319  4.000618  5.000408  6.003184  7.000026  7.997165  9.000461  9.514773 11.000396
[12] 12.128740 13.160210 14.177194 15.193355
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000726  2.000776  3.000708  4.000043  5.001959  6.001235  7.002085  7.998147  9.000528  9.901534 10.999140
[12] 12.124794 13.152148 14.182332 15.007930
> sapply(1:15, function(n) mean(rpois(1000000, n)))
 [1]  1.000320  2.001331  3.002032  4.004577  4.999679  6.000778  6.997700  8.002213  9.005890  9.764240 10.786886
[12] 11.822689 12.863624 13.904637 15.000833
>  sapply(1:15, function(n) mean(rpois(100000, n)))
 [1]  1.00049  1.99307  2.99624  3.99277  5.00063
 [6]  6.00018  6.99672  8.01585  8.98921  9.76499
[11] 10.76767 11.78713 12.82248 13.85002 14.89385
>  sapply(1:15, function(n) mean(rpois(100000, n)))
 [1]  0.99788  2.00799  3.00712  3.98751  4.99152
 [6]  5.99747  7.01120  7.99749  9.00031  9.73359
[11] 10.75011 12.00378 13.11141 14.14407 15.17481
>  sapply(1:15, function(n) mean(rpois(100000, n)))
 [1]  1.00198  1.98872  3.00582  3.99331  4.99453
 [6]  6.01429  6.99885  7.98966  8.99976  9.87061
[11] 10.90451 11.99415 13.13388 14.15692 15.16398
>  sapply(1:15, function(n) mean(rpois(100000, n)))
 [1]  0.99634  1.99840  3.00492  3.99907  4.99878
 [6]  6.00134  7.00225  7.98363  8.99210  9.85822
[11] 10.89415 12.00827 13.12437 14.16350 14.99912



On Wed, 8 Nov 2000 15:09:24 +0100 (MET) Kjetil Kjernsmo 
<kjetil.kjernsmo at astro.uio.no> wrote:

> Dear all,
> 
> I think I must be going crazy.... If I do
> > mean(rpois(1000000, 14))
> I get:
> [1] 13.50420
> and again:
> > mean(rpois(1000000, 14))
> [1] 13.49896
> > mean(rpois(1000000, 14))
> [1] 13.50161
> > mean(rpois(1000000, 15))
> [1] 14.49250
> > mean(rpois(1000000, 15))
> [1] 14.49897
> > mean(rpois(1000000, 14.5))
> [1] 13.99689
> > mean(rpois(1000000, 14.5))
> [1] 13.9963
> 
> This was on a
> platform alphaev6-dec-osf4.0e
> major    1
> minor    1.1
> checking out on a
> platform sparc-sun-solaris2.7
> major    1
> minor    1.0
> I get the same
> > mean(rpois(100000, 14.5))
> [1] 14.00347
> > mean(rpois(100000, 14.5))
> [1] 14.00667
> > mean(rpois(100000, 14.5))
> [1] 14.00675
> 
> It's fishy, isn't it...? I have generated lots of numbers, but I haven't
> seen anything like this before....
> 
> I have also done
> 
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  1.000052  1.999150  2.996975  4.003843  4.996136  5.999065  6.999725
>  [8]  7.998869  9.003127  9.518397 10.512347 11.500405 12.510494 13.499788
> [15] 14.504661
> 
> So, something happens at 10... And again:
> 
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  1.000173  2.001639  2.997016  4.000163  5.000802  5.992751  6.999794
>  [8]  7.997315  8.998479  9.517824 10.508328 11.507336 12.501885 13.502146
> [15] 14.496810
> 
> Starting with --vanilla gives pretty much the same result...
> 
> trying different RNGs:
> > RNGkind("Mersenne")
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  1.000563  1.998802  2.998526  3.997537  4.999230  5.996591  6.999596
>  [8]  7.998982  9.000783  9.510220 10.509562 11.505009 12.505001 13.504522
> [15] 14.500956
> > RNGkind("Knut")
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  0.999031  2.000444  3.002296  3.997795  4.998880  5.995267  7.001894
>  [8]  7.999983  9.000267  9.513537 10.507142 11.502634 12.498944 13.498615
> [15] 14.502410
> 
> After printing rpois (to see that I haven't replaced it with something
> strange) and version, I call
> > plot(sapply(1:15, function(n) mean(rpois(1000000, n))), t='l')
> getting a plot that isn't a straight line, and then:
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  0.997961  1.999509  3.000748  3.999825  5.002983  6.004424  6.998825
>  [8]  7.997999  8.998341  9.766942 10.781751 11.817181 12.856154 13.900369
> [15] 14.999378
> and again:
> > sapply(1:15, function(n) mean(rpois(1000000, n)))
>  [1]  0.998570  2.000155  2.999534  4.002987  4.997999  5.996326  6.996761
>  [8]  7.996728  8.997265  9.764972 10.793913 11.822874 12.859886 13.903846
> [15] 15.000311
> 
> Weird....?
> 
> Best,
> 
> Kjetil
> -- 
> Kjetil Kjernsmo
> Graduate astronomy-student                    Problems worthy of attack
> University of Oslo, Norway            Prove their worth by hitting back
> E-mail: kjetikj at astro.uio.no                                - Piet Hein
> Homepage <URL:http://www.astro.uio.no/~kjetikj/>
> Webmaster at skepsis.no
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------
Alan T. Arnholt
Associate Professor
Dept. of Mathematical Sciences
TEL: (828) 262-2863
FAX: (828) 265-8617
arnholt at math.appstate.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  8 16:18:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Nov 2000 15:18:51 +0000 (GMT)
Subject: [R] polr question
Message-ID: <200011081518.PAA19934@toucan.stats.ox.ac.uk>


> From: "Graeme D Hutcheson" <mewssgdh at fs1.ed.man.ac.uk>
> To: r-help at hypatia.math.ethz.ch
> Date: Wed, 8 Nov 2000 14:44:40 GMT
> Subject: [R] polr question
> 
> Hi,
> 
> I am trying to reproduce in R an analysis reported in Agresti
> (1996; page 214) and Agresti and Finley (1997; page 602) which
> uses the proportional odds logistic regression model to compare
> political ideology.
> 
> I am using the "polr" function from the MASS library which provides
> a number of statistics, but does not appear to provide -2 LOG L
> for the intercept only model. This statistic is useful as it
> would enable me to reproduce exactly the analysis which is
> currently reported using SAS and enble me teach a bit more using R.

Did you fit an intercept-only model to get it?  As in the example
on the help page

     options(contrasts=c("contr.treatment", "contr.poly"))
     data(housing)
     house.plr <- polr(Sat ~ Infl + Type + Cont, weights = Freq, data = housing)
     house.plr0 <- polr(Sat ~ 1, weights = Freq, data = housing)

Note that -2 LOG L is not actually well-defined as it depends on the
grouping of the data assumed, and so is not a statistic.  I assume
that you want differences of that quantity, as in

house.plr0$deviance - house.plr$deviance
169.7283

(maybe I need to write anova.polr ....)

Again, whether testing against the intercept-only model makes sense
is pretty debatable.   Are you seriously entertaining no effect
of the regressors?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  8 16:32:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 2000 16:32:58 +0100
Subject: [R] Strange means of numbers drawn from rpois
In-Reply-To: Alan Arnholt's message of "Wed, 8 Nov 2000 09:55:23 -0500 (EST)"
References: <SIMEON.10011080923.A@arnholt.math.appstate.edu>
Message-ID: <x2vgtytr6c.fsf@blueberry.kubism.ku.dk>

Alan Arnholt <arnholt at math.appstate.edu> writes:

> Kjetil,
> 
> I get "expected" results using a windows machine version 
> 1.1.1.
> 

I'm not at all happy with this:

Solaris : 
> range(sapply(1:2000, function(n) mean(rpois(10000, 15.0))))
[1] 15.0524 15.3403

Linux (1.1.1):
> range(sapply(1:2000, function(n) mean(rpois(10000, 15.0))))
[1] 15.0595 15.3663

Linux (1.2.0 pre):
> range(sapply(1:2000, function(n) mean(rpois(10000, 15.0))))
[1] 14.3791 14.6555

The procedure seems to be getting stuck generating means just above
15.0 or around 14.5. The 1.1.1 run started off like this:

> sapply(1:15, function(n) mean(rpois(10000, n+0.)))
 [1]  1.0006  2.0136  3.0239  3.9795  5.0292  5.9888  7.0101  7.9058  8.9772
[10]  9.5557 10.5125 11.4522 12.5265 13.4270 14.5742
> sapply(1:15, function(n) mean(rpois(10000, n+0.)))
 [1]  1.0094  1.9796  2.9633  3.9877  5.0483  6.0335  6.9966  7.9727  9.0225
[10]  9.4975 10.5473 11.4476 12.4487 13.5871 14.4855
> sapply(1:15, function(n) mean(rpois(10000, n+0.)))
 [1]  1.0121  1.9939  3.0023  3.9635  4.9544  6.0144  6.9735  7.9900  9.0084
[10]  9.5156 10.5689 11.5872 12.5461 13.5204 14.5182
> sapply(1:15, function(n) mean(rpois(10000, n+0.)))
 [1]  0.9879  2.0095  2.9689  4.0110  4.9970  6.0013  7.0118  7.9585  8.9915
[10]  9.4942 10.9539 12.1061 13.1538 14.1939 15.2268
> sapply(1:15, function(n) mean(rpois(10000, n+0.)))
 [1]  1.0092  2.0295  2.9964  4.0196  4.9673  6.0266  7.0023  8.0051  8.9427
[10]  9.9276 11.0051 12.1399 13.2233 14.1429 15.2280

whereafter every single attmept to call mean(rpois(10000, 15)) in
various guises gave values above 15.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Wed Nov  8 16:34:19 2000
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Wed, 08 Nov 2000 10:34:19 -0500
Subject: [R] a time-series question
Message-ID: <sa092e98.080@ers.usda.gov>

Hello,

I am a new R user but somewhat familiar with S-plus.  Can
someone please tell me if the following model can be easily 
estimated in R?

I have a lot of time series data to which I would like to
fit the following two-variable system:

p_t = f(t) + e_t (v_t-1, v_t-2, v_t-3)

y_t = g(t) + v_t

f(t) and g(t) are deterministic (nonparametric) functions
of time, e_t and v_t are random errors, with e_t correlated
with past errors of v_t.  I would like to test this model against
one where v_t also is autocorrelated.

Thanks!



Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-654-5557
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meb at dataventures.com  Wed Nov  8 16:38:45 2000
From: meb at dataventures.com (Mike Beddo)
Date: Wed, 08 Nov 2000 08:38:45 -0700
Subject: [R] How to plot error bars
Message-ID: <3A097385.D906395F@dataventures.com>

I'm a newcomer to R. I can't seem to find any documentation how to add
error bars to points in scatter plots. I guess I could plot the points,
then compute and plot line segments in the X and/or Y directions to
represent the errors?

- Mike

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From an at dfu.min.dk  Wed Nov  8 17:02:14 2000
From: an at dfu.min.dk (Anders Nielsen)
Date: Wed, 8 Nov 2000 17:02:14 +0100 
Subject: [R] Strange means of numbers drawn from rpois
Message-ID: <3EABB7ABA434D4118DD600A0C94BF3BF27520E@hfi02.dfu.min.dk>

I can add:

Anders


> version; mean(rpois(100000, 15))
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    0         
minor    90.0      
year     1999      
month    November  
day      22        
language R         
[1] 14.98694




> version; mean(rpois(100000, 15))
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status   Patched   
major    0         
minor    99.0      
year     2000      
month    February  
day      9         
language R         
[1] 14.99506



> version; mean(rpois(100000, 15))
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    0.0       
year     2000      
month    February  
day      29        
language R         
[1] 14.99713


> version; mean(rpois(100000, 15))
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R         
[1] 14.48548



> version; mean(rpois(100000, 15))
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         
[1] 14.50388



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov  8 17:06:43 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 8 Nov 2000 11:06:43 -0500 (EST)
Subject: [R] Strange means of numbers drawn from rpois
In-Reply-To: <Pine.OSF.4.30.0011081437010.24652-100000@alnair.uio.no>
Message-ID: <Pine.LNX.4.10.10011081056170.3097-100000@bolker.zoo.ufl.edu>


  Happens on linux RH 6.0 R-1.1.1 as well, and furthermore a brief poke
into src/nmath/rpois.c shows that it's using a different method for
lambda>=10, so there's reason to believe there's a fairly localized (but
scary!!!) bug.  I can't really understand/find/fix it, without a lot more
work and looking up the original reference (the rejection method given in
_Numerical Recipes_ is quite different) ...

 I'd say the following is a pretty clear indication of a bug ...

> mean(rpois(100000,9.99))
[1] 10.00021
> mean(rpois(100000,10.0))
[1] 9.50424


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Nov  8 18:31:34 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 8 Nov 2000 18:31:34 +0100 (MET)
Subject: [R] How to plot error bars
In-Reply-To: <3A097385.D906395F@dataventures.com>
Message-ID: <Pine.GSO.4.21.0011081823360.11175-100000@amadeus.statistik.uni-dortmund.de>

On Wed, 8 Nov 2000, Mike Beddo wrote:

> I'm a newcomer to R. I can't seem to find any documentation how to add
> error bars to points in scatter plots. I guess I could plot the points,
> then compute and plot line segments in the X and/or Y directions to
> represent the errors?

You are right.
You can plot the points, fit a model (e.g. using lm()), and plot the
"error bars" or residuals. Have a look at e.g. str(lm(...)), maybe you
don't need to calculate fitted values / residuals manually.
In some cases there are already existing plot methods ...

Finally: To plot line segments you might want to use segments().

Regards,
Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov  8 20:07:34 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 8 Nov 2000 14:07:34 -0500 (EST)
Subject: [R] How to plot error bars
In-Reply-To: <3A097385.D906395F@dataventures.com>
Message-ID: <Pine.LNX.4.10.10011081349020.16365-100000@bolker.zoo.ufl.edu>


  I'm going to take the liberty of reposting this function, which is based
on one that Bill Venables posted a while back.  I've tweaked with it a bit
to add functionality.  It will do horizontal bars or vertical bars, but
not (yet) both simultaneously (the hardest thing about that is deciding on
what format you want the data supplied in).

  There's also a help file supplied below.

  Should this (after appropriate tweaking/polishing/testing/revision) go
into the main R code base?  It seems like a pretty basic function to me
...

plotCI <- function (x, y = NULL, uiw, liw = uiw, aui=NULL, ali=aui,
                    err="y", ylim=NULL, xlim=NULL, sfrac = 0.01, gap=0, add=FALSE,
                    col=par("col"), lwd=par("lwd"), slty=par("lty"), xlab=NULL,
                    ylab=NULL, main="", pt.bg = NA, scol=col,
                    axes=TRUE, ...)  {
# from Bill Venables, R-list
  if (is.list(x)) {
    y <- x$y
    x <- x$x
  }
  if (is.null(y)) {
    if (is.null(x)) 
      stop("both x and y NULL")
    y <- as.numeric(x)
    x <- seq(along = x)
  }
  if (missing(xlab)) xlab <- deparse(substitute(x))
  if (missing(ylab)) ylab <- deparse(substitute(y))
  if (missing(uiw)) {  ## absolute limits
    ui <- aui
    li <- ali
  }
  else {  ## relative limits
    if (err=="y") z <- y else z <- x
    ui <- z + uiw
    li <- z - liw
  }
  if (err=="y" & is.null(ylim))
    ylim <- range(c(y, ui, li), na.rm=TRUE)
  else
    if (err=="x" & is.null(xlim))
      xlim <- range(c(x, ui, li), na.rm=TRUE)
  if (!add)
    plot(x, y, ylim = ylim, xlim = xlim, col=col, lwd=lwd, xlab=xlab, ylab=ylab,
         main=main, type="n", axes=axes, ...)
  if (gap==TRUE) gap <- 0.01  ## default gap size
  ul <- c(li, ui)
  if (err=="y") {
    ## draw vertical segments
    gap <- rep(gap,length(x))*diff(par("usr")[3:4])
    segments(x , li, x, pmax(y-gap,li), col=scol, lwd=lwd, lty=slty)
    segments(x , ui, x, pmin(y+gap,ui), col=scol, lwd=lwd, lty=slty)
    ## horizontal segments
    x2 <- c(x, x)
    smidge <- diff(par("usr")[1:2]) * sfrac
    segments(x2 - smidge, ul, x2 + smidge, ul, col=scol, lwd=lwd)
  }
  else if (err=="x") {
    ## draw horizontal segments
    gap <- rep(gap,length(x))*diff(par("usr")[1:2])
    segments(li, y, pmax(x-gap,li), y, col=scol, lwd=lwd, lty=slty)
    segments(ui, y, pmin(x+gap,ui), y, col=scol, lwd=lwd, lty=slty)
    ## vertical segments
    y2 <- c(y, y)
    smidge <- diff(par("usr")[3:4]) * sfrac
    segments(ul, y2 - smidge, ul, y2 + smidge, col=scol, lwd=lwd)
  }
  ## _now_ draw the points (in case we want to have "bg" set for points)
  points(x, y, col=col, lwd=lwd, bg=pt.bg, ...)
  invisible(list(x = x, y = y))
}

\name{plotCI}
\alias{plotCI}
\title{Plot confidence intervals/error bars}
\description{
  Given a set of x and y values and upper and lower bounds,
  this function plots the points with error bars.
}
\usage{
plotCI(x, y=NULL, uiw, liw=uiw, ylim=NULL, sfrac=0.01, add=FALSE, col=par("col"), lwd=par("lwd"), slty=par("lty"), xlab=NULL, ylab=NULL, ...)
}
%- maybe also `usage' for other objects documented here.
\arguments{
  \item{x}{The x coordinates of points in the plot}
  \item{y}{The y coordinates of points in the plot}
  \item{uiw}{The width of the upper portion of the confidence region,
    or (if \code{liw} is missing) the width of both halves of
    the confidence region}
  \item{liw}{The width of the lower portion of the confidence region (if
    missing, the function assumes symmetric confidence bounds)}
  \item{aui}{The absolute upper limit of the confidence region}
  \item{ali}{The absolute lower limit of the confidence region}
  \item{err}{The direction of error bars: "x" for horizontal, "y"
for vertical ("xy" would be nice but is not implemented yet)}
  \item{xlim}{x limits of the plot}
  \item{ylim}{y limits of the plot}
  \item{gap}{Size of gap in error bars around points (default 0)}
  \item{sfrac}{Scaling factor for the size of the "serifs" (end bars) on
    the confidence bars, in x-axis units}
  \item{add}{If FALSE (default), create a new plot; if TRUE, add error
    bars to an existing plot.}
  \item{col}{Color of points}
  \item{pt.bg}{Background color of points (use pch=21, pt.bg=par("bg")
to get open points superimposed on error bars)} 
  \item{lwd}{Line width of error bars}
  \item{slty}{Line type of error bars}
  \item{scol}{Color of error bars}
  \item{xlab}{Horizontal axis label}
  \item{ylab}{Vertical axis label}
  \item{\dots}{Any other parameters to be passed through to \code{plot}}
}
\value{
None.
}
\author{Ben Bolker (documentation and tweaking of a function provided by
  Bill Venables)}
\section{TO DO}{Fixes for logarithmic axes; simultaneous horizontal and vertical error bars.
The main problem is figuring how parameters should be specified.}
\examples{
  y <- runif(10)
  err <- runif(10)
  plotCI(1:10,y,err)
  plotCI(1:10,y,err,2*err,lwd=2,col="red")
  err.x <- runif(10)
  err.y <- runif(10)
  plotCI(1:10,y,err.y,pt.bg=par("bg"),pch=21)
  plotCI(1:10,y,err.x,pt.bg=par("bg"),pch=21,err="x",add=TRUE)
}

\keyword{hplot}

On Wed, 8 Nov 2000, Mike Beddo wrote:

> I'm a newcomer to R. I can't seem to find any documentation how to add
> error bars to points in scatter plots. I guess I could plot the points,
> then compute and plot line segments in the X and/or Y directions to
> represent the errors?
> 
> - Mike
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Nov  8 21:23:43 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 9 Nov 2000 09:23:43 +1300
Subject: [R] Graphics?
References: <046a01c04981$f08c9dd0$0201a8c0@Workgroup>
Message-ID: <00af01c049c1$ca30de90$175dd882@stat.auckland.ac.nz>

Hi


> Say I've setup a plot using layout which produce 2 rows x 1 column and I'm
> using the same x values for both subplots.
>
> Say for illustration that the top part is:
>
>     plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")
>
> and for the bottom I have:
>
>     plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")
>
> Now after the output of whatever function I use to draw this is done. What
> I'd like to know is, is it possible to draw a line from (5, 1) on the
bottom
> part to (5,5) on the top part?
>
> Assuming it's not possible, then could I at least do the line in 2 steps,
I
> mean draw from (5,1) to the top of the bottom part and from (5,5) to the
> bottom of the top part. In other words can I add items such as lines or
> points to a multi section drawing as we can on a single section drawing?


You do not have access to the coordinate systems in two different plots at
once so your first suggestion is not possible.

You can do your second suggestion as long as you add each part of the line
to the appropriate plot.  For example, ...

> par(mfrow=c(2,1), xpd=T)
> plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")
> lines(c(5,5), c(5,-5))
> plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")
> lines(c(5,5), c(1,10))

(Note the par=xpd makes sure that the lines are drawn outside the data
region)

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Wed Nov  8 22:13:29 2000
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Wed, 08 Nov 2000 16:13:29 -0500
Subject: [R] state-space models and kalman filter
Message-ID: <sa097e10.075@ers.usda.gov>

Hello again,

A different but related question to my last one:

Does anyone know if one can easily estimate state-space models
using ML and the kalman filter using R?  I would be especially 
interested in a relatively flexible function that would allow for
estimation 
of hyperparameters, or could be made to do so.

Thanks

Michael J. Roberts
Resource Economics Division, PMT
USDA-ERS
202-654-5557
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Wed Nov  8 23:32:29 2000
From: rachel at stat.auckland.ac.nz (Rachel Merriman)
Date: Thu, 9 Nov 2000 11:32:29 +1300
Subject: [R] R for windows read.table()
Message-ID: <00b901c049d3$c7644be0$0c5dd882@A4>

Just wondering if there was a reason why when I use the read.table() command the R console window shrinks in size?
 

--------------------------------------------------------------------------------

Rachel Merriman
Department of Statistics
University of Auckland

(wk) 373 7599 x 8797  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001109/b1e5f856/attachment.html

From ripley at stats.ox.ac.uk  Wed Nov  8 23:42:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 Nov 2000 22:42:52 +0000 (GMT)
Subject: [R] R for windows read.table()
In-Reply-To: <00b901c049d3$c7644be0$0c5dd882@A4>
Message-ID: <Pine.GSO.4.05.10011082238460.19927-100000@auk.stats>

On Thu, 9 Nov 2000, Rachel Merriman wrote:

> Just wondering if there was a reason why when I use the read.table() command the R console window shrinks in size?

Well, not much we can work on there, but it does not shrink for me,
and I've been working on read.table this afternoon and so have
used it many times.

If you have a reproducible example, can you file a bug report with
full details, including your Rconsole settings?  As ever, we cannot
investigate things we have never seen!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Wed Nov  8 23:55:50 2000
From: rachel at stat.auckland.ac.nz (Rachel Merriman)
Date: Thu, 9 Nov 2000 11:55:50 +1300
Subject: [R] R for windows read.table()
References: <Pine.GSO.4.05.10011082238460.19927-100000@auk.stats>
Message-ID: <00df01c049d7$0a253220$0c5dd882@A4>

I think the problem was that my console settings were smaller than the full
screen so I was starting R, maximising the console window and once I'd used
read.table, the console window went back to the size it was when I started
R.  I've changed the default settings and it's fine now thankyou.

----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Rachel Merriman" <rachel at stat.auckland.ac.nz>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, November 09, 2000 11:42 AM
Subject: Re: [R] R for windows read.table()


> On Thu, 9 Nov 2000, Rachel Merriman wrote:
>
> > Just wondering if there was a reason why when I use the read.table()
command the R console window shrinks in size?
>
> Well, not much we can work on there, but it does not shrink for me,
> and I've been working on read.table this afternoon and so have
> used it many times.
>
> If you have a reproducible example, can you file a bug report with
> full details, including your Rconsole settings?  As ever, we cannot
> investigate things we have never seen!
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  9 00:05:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2000 00:05:03 +0100
Subject: [R] R for windows read.table()
In-Reply-To: "Rachel Merriman"'s message of "Thu, 9 Nov 2000 11:32:29 +1300"
References: <00b901c049d3$c7644be0$0c5dd882@A4>
Message-ID: <x2snp2ysio.fsf@blueberry.kubism.ku.dk>

"Rachel Merriman" <rachel at stat.auckland.ac.nz> writes:

> Just wondering if there was a reason why when I use the read.table()
> command the R console window shrinks in size?


It cringes when it sees that section of code? ;)

Seriously, I think it is just a side effect of the Microsoft Way (it
happens on Windows, right?) of writing programs that causes that
quirk. You have the source if you want to go look for the specific
cause...


> ------=_NextPart_000_00B6_01C04A40.BE43A340
> Content-Type: text/html;
> 	charset="iso-8859-1"
> Content-Transfer-Encoding: quoted-printable
> 
> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> <HTML><HEAD>
> <META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>

Ahem. I think you have people *really* close to you who know how to
avoid sending that sort of stuff out.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Nov  9 01:20:57 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 8 Nov 2000 19:20:57 -0500
Subject: [R] Graphics?
References: <046a01c04981$f08c9dd0$0201a8c0@Workgroup> <00af01c049c1$ca30de90$175dd882@stat.auckland.ac.nz>
Message-ID: <049601c049e2$ee965500$0201a8c0@Workgroup>


----- Original Message -----
From: "Paul Murrell" <paul at stat.auckland.ac.nz>
To: "Yves Gauvreau" <cyg at sympatico.ca>; <r-help at stat.math.ethz.ch>
Sent: Wednesday, November 08, 2000 3:23 PM
Subject: Re: [R] Graphics?


> Hi
>
>
> > Say I've setup a plot using layout which produce 2 rows x 1 column and
I'm
> > using the same x values for both subplots.
> >
> > Say for illustration that the top part is:
> >
> >     plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")
> >
> > and for the bottom I have:
> >
> >     plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")
> >
> > Now after the output of whatever function I use to draw this is done.
What
> > I'd like to know is, is it possible to draw a line from (5, 1) on the
> bottom
> > part to (5,5) on the top part?
> >
> > Assuming it's not possible, then could I at least do the line in 2
steps,
> I
> > mean draw from (5,1) to the top of the bottom part and from (5,5) to the
> > bottom of the top part. In other words can I add items such as lines or
> > points to a multi section drawing as we can on a single section drawing?
>
>
> You do not have access to the coordinate systems in two different plots at
> once so your first suggestion is not possible.
>
> You can do your second suggestion as long as you add each part of the line
> to the appropriate plot.  For example, ...
>
> > par(mfrow=c(2,1), xpd=T)
> > plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")
> > lines(c(5,5), c(5,-5))
> > plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")
> > lines(c(5,5), c(1,10))
>
> (Note the par=xpd makes sure that the lines are drawn outside the data
> region)
>

This is not quite what I had in mind.

It would be more in the lines of:

par(mfrow=c(2,1), xpd=T)
plot(1:10, c(1,2,3,4,5,4,3,2,1,0), type="l")
plot(1:10, c(5,4,3,2,1,2,3,4,5,6), type="l")

Now that I have my plots, the idea is to allow for example an interaction
between the user and the underlying "program" using maybe locator(),
identify() or other means to get some input and then as seems necessary draw
both lines in their respective frame or whatever it's called.

lines(c(5,5), c(5,-5) , "***** top *****")
lines(c(5,5), c(1,10), "***** bottom *****"))

The principle is exactly the same as I would do if I where using Matlab
subplots functionality. I wondered if I could use R to do similar things. I
know it's possible to work around this with sufficient work probably by
scaling every thing into a single plot region.

To resume, ounce I've plotted both the upper and bottom part like I
suggested, is it possible to access the top part again?

Thanks

YG






> Hope that helps
>
> Paul
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Thu Nov  9 05:03:40 2000
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Wed, 8 Nov 2000 23:03:40 -0500
Subject: [R] state-space models and kalman filter
Message-ID: <00110823034002.09940@localhost.localdomain>

On Wednesday 08 November 2000 22:01, Michael Roberts wrote:
> Does anyone know if one can easily estimate state-space models
> using ML and the kalman filter using R?  I would be especially
> interested in a relatively flexible function that would allow for
> estimation
> of hyperparameters, or could be made to do so.

I looked into this a bit ago and dropped it because of other deadlines, but
all I could find was a small routine on Statlib,
http://lib.stat.cmu.edu/S/kalman.
It's not pretty and doesn't do ML for you, but maybe it's worth a start?

Maybe over the holidays I'll get around to writing up something original.
I've got a need to estimate the state evolution matrix in a big-dimensional
problem myself.  Of course, if you find anything that already works well...

Good Luck,

Elliot Williams (ewilliams at ucsd.edu)
Economics Dept, UCSD
San Diego, CA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zivan.karaman at limagrain.com  Thu Nov  9 09:00:56 2000
From: zivan.karaman at limagrain.com (zivan.karaman@limagrain.com)
Date: Thu, 9 Nov 2000 09:00:56 +0100
Subject: [R] R for windows read.table()
Message-ID: <C1256992.002C3004.00@limagrain.ftgin.com>


I  observed  similar  behaviour  when  pressing the <Escape> key in RGui console
window: if the window is in maximised state, it shrinks back to the normal state
(but  respecting  the previous size of the normal state - which is the usual MDI
application behaviour). Not really a big problem, just to let you know.

Best wishes

Zivan

> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Thu Nov  9 10:17:55 2000
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Thu, 9 Nov 2000 09:17:55 +0000
Subject: [R] state-space models and kalman filter
In-Reply-To: <00110823034002.09940@localhost.localdomain>
References: <00110823034002.09940@localhost.localdomain>
Message-ID: <f04320401b6301ae2b707@[139.222.80.154]>

>On Wednesday 08 November 2000 22:01, Michael Roberts wrote:
>>  Does anyone know if one can easily estimate state-space models
>>  using ML and the kalman filter using R?  I would be especially
>>  interested in a relatively flexible function that would allow for
>>  estimation
>>  of hyperparameters, or could be made to do so.
>
It is not difficult to do. There used to be an EM version in Splus( 
which ran on R pretty well out of the box) due to Shumway at Statlib. 
If it is gone try his book ot the paper in J.Time Series.

If you don't like  the EM algorithm its pretty simple to use Kalman 
for the loglikelihood in time series estimation ( ARMA /structural 
models) . I have several home brew variants - they are not amazingly 
fast but they seem to work OK as an input to nlm( the R I use is 
~0.62).  If anyone is interested I'm happy to pass them on. The usual 
caviats


Jan
-- 
   G.Janacek
   Dean				               e-mail: G.Janacek at uea.ac.uk
   School of Mathematics			          tel: 44-(0)1603-592849
   UEA, Norwich NR4 7TJ,UK		          fax: 44-(0)1603-593868
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov  9 10:15:34 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 09 Nov 2000 10:15:34 +0100
Subject: [R] How to plot error bars
Message-ID: <3.0.32.20001109101533.008ec4b0@162.38.183.200>

At 14:07 08/11/00 -0500, Ben Bolker wrote:
>
>  I'm going to take the liberty of reposting this function, which is based
>on one that Bill Venables posted a while back.  I've tweaked with it a bit
>to add functionality.  It will do horizontal bars or vertical bars, but
>not (yet) both simultaneously (the hardest thing about that is deciding on
>what format you want the data supplied in).
>
>  There's also a help file supplied below.
>
>  Should this (after appropriate tweaking/polishing/testing/revision) go
>into the main R code base?  It seems like a pretty basic function to me
>...

[...]

>On Wed, 8 Nov 2000, Mike Beddo wrote:
>
>> I'm a newcomer to R. I can't seem to find any documentation how to add
>> error bars to points in scatter plots. I guess I could plot the points,
>> then compute and plot line segments in the X and/or Y directions to
>> represent the errors?
>> 
>> - Mike

I think using arrows(..., code=3, angle=90, ...) is quite simple, e.g.:

 	x <- rnorm(10)
 	y <- rnorm(10)
 	se.x <- runif(10)
 	se.y <- runif(10)
 	plot(x, y, pch=22)
 	arrows(x, y-se.y, x, y+se.y, code=3, angle=90, length=0.1)
 	arrows(x-se.x, y, x+se.x, y, code=3, angle=90, length=0.1)

The first arrows() draws the error bars for y, and the second one for x,
'code=3' draws a head at both ends of the arrow, 'angle=' is the angle of
the head with the main axis of the arrow, and 'length=' is the length of
the head. You can also add usual graphic parameters (col, lwd, ...).


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Nov  9 12:09:16 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 09 Nov 2000 12:09:16 +0100
Subject: [R] How to plot error bars
References: <3A097385.D906395F@dataventures.com>
Message-ID: <3A0A85DC.9C94D707@psy.uni-muenchen.de>

Mike Beddo wrote:
> 
> I'm a newcomer to R. I can't seem to find any documentation how to add
> error bars to points in scatter plots. I guess I could plot the points,
> then compute and plot line segments in the X and/or Y directions to
> represent the errors?
> 

Hi,

maybe you want to look at:

http://www.ci.tuwien.ac.at/R/doc/contrib/rpsych.pdf

there?s a nice example with barplots.

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Thu Nov  9 12:21:33 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Thu, 9 Nov 2000 12:21:33 +0100
Subject: [R] increase memory
Message-ID: <OF2693E129.7D65E24D-ONC1256992.003E4845@muc.allianz>

dear all,

i cant figure out how to increase memory as in the help. would appreciate
somebody to tell me step by step how to do it.

thanks and regards
yuming

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  9 12:48:06 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2000 12:48:06 +0100
Subject: [R] increase memory
In-Reply-To: Pan_Yuming@aam.de's message of "Thu, 9 Nov 2000 12:21:33 +0100"
References: <OF2693E129.7D65E24D-ONC1256992.003E4845@muc.allianz>
Message-ID: <x2g0l1gydl.fsf@blueberry.kubism.ku.dk>

Pan_Yuming at aam.de writes:

> dear all,
> 
> i cant figure out how to increase memory as in the help. would appreciate
> somebody to tell me step by step how to do it.

Step 1: Tell us which platform you are talking about...

[Assuming that it is Windows since they are usually the ones
forgetting that theirs is not the only platform in the world]

Step 2: Do you start R using as shortcut? (If no, make one)
Step 3: Right-click the icon and choose "Properties"
Step 4: Edit the "Target" field by adding e.g "--nsize=400k
        --vsize=20M" or whatever is relevant for your task. 

On less user-friendly platforms, just start R with "R --nsize=400k
--vsize=20M" or whatever is relevant for your task.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Nov  9 12:49:47 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 9 Nov 2000 12:49:47 +0100 (MET)
Subject: [R] state-space models and kalman filter
In-Reply-To: <sa097e10.075@ers.usda.gov> from "Michael Roberts" at Nov 08, 2000 04:13:29 PM
Message-ID: <200011091149.MAA00682@alpha.luc.ac.be>

> 
> Hello again,
> 
> A different but related question to my last one:
> 
> Does anyone know if one can easily estimate state-space models
> using ML and the kalman filter using R?  I would be especially 
> interested in a relatively flexible function that would allow for
> estimation 
> of hyperparameters, or could be made to do so.

I have ported Richard Jones' CARMA to R. It uses state space
modelling. It is in my growth library
www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> Thanks
> 
> Michael J. Roberts
> Resource Economics Division, PMT
> USDA-ERS
> 202-654-5557
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marchettedj at nswc.navy.mil  Thu Nov  9 13:38:19 2000
From: marchettedj at nswc.navy.mil (David Marchette)
Date: Thu, 09 Nov 2000 07:38:19 -0500
Subject: [R] Expressions in plots
Message-ID: <3A0A9ABB.8DB4B202@nswc.navy.mil>

Perhaps there is an obvious answer to this,
but I can't seem to figure it out. I want to
generate a sequence of plots, where a variable
(say x) is changed from plot to plot. For each
plot I'd like to have a title indicating the value
of x. However, what I really want is to use
expression to typeset some math. A simple
example is I'd like to do something like
expression(mu==x), where instead of the string "x"
I'd like it to put the value of x (2.35, say).
I can't figure out how to do this. Obviously
I could treat each value individually and type
in 2.35, etc, but I'd like to do this a little
more elegantly, especially since I want to change
the values of x quite a bit to explore some
property. The closest I have come is to use
paste: qq <- paste("expression(mu==",x,")",sep="")
but can't figure out how to turn qq from a string
to an expression. Thanks for any suggestions.

dave
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marchettedj at nswc.navy.mil  Thu Nov  9 13:53:14 2000
From: marchettedj at nswc.navy.mil (David Marchette)
Date: Thu, 09 Nov 2000 07:53:14 -0500
Subject: [R] re: Expressions in plots
Message-ID: <3A0A9E3A.72C7A955@nswc.navy.mil>

I am so sorry, I forgot the fundamental rule:
always check the FAQ. Yes indeed, it contains
the answer to my question.

title(substitute(mu==x),list(x=x)))

Again, I am sorry for cluttering the group
with a FAQ.

dave
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov  9 14:19:43 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 09 Nov 2000 14:19:43 +0100
Subject: [R] Expressions in plots
References: <3A0A9ABB.8DB4B202@nswc.navy.mil>
Message-ID: <3A0AA46F.61B81C93@statistik.uni-dortmund.de>

David Marchette wrote:
> 
> Perhaps there is an obvious answer to this,
> but I can't seem to figure it out. I want to
> generate a sequence of plots, where a variable
> (say x) is changed from plot to plot. For each
> plot I'd like to have a title indicating the value
> of x. However, what I really want is to use
> expression to typeset some math. A simple
> example is I'd like to do something like
> expression(mu==x), where instead of the string "x"
> I'd like it to put the value of x (2.35, say).
> I can't figure out how to do this. Obviously
> I could treat each value individually and type
> in 2.35, etc, but I'd like to do this a little
> more elegantly, especially since I want to change
> the values of x quite a bit to explore some
> property. The closest I have come is to use
> paste: qq <- paste("expression(mu==",x,")",sep="")
> but can't figure out how to turn qq from a string
> to an expression. Thanks for any suggestions.

Try the nice function substitute(.), e.g.:

  x <- 2.35
  plot(1:10, main=substitute(mu==x, list(x=x)))

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov  9 14:22:38 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 9 Nov 2000 08:22:38 -0500 (EST)
Subject: [R] How to plot error bars
In-Reply-To: <3.0.32.20001109101533.008ec4b0@162.38.183.200>
Message-ID: <Pine.LNX.4.10.10011090819350.17017-100000@bolker.zoo.ufl.edu>


  That's certainly a simpler solution.  It might be worth wrapping a few
arrows() calls up in some kind of simple errorbar function (just so it's
slightly more accessible to newcomers).  The only two things my function
did that these calls don't do is (1) to size the plot appropriately so the
upper and lower limits of the errors are within the plot, (2) to draw the
segments/arrows first so that one can add points with pch=19 and
bg=par("bg") to get open points without lines going through them.


On Thu, 9 Nov 2000, Emmanuel Paradis wrote:

> At 14:07 08/11/00 -0500, Ben Bolker wrote:
> >
> >  I'm going to take the liberty of reposting this function, which is based
> >on one that Bill Venables posted a while back.  I've tweaked with it a bit
> >to add functionality.  It will do horizontal bars or vertical bars, but
> >not (yet) both simultaneously (the hardest thing about that is deciding on
> >what format you want the data supplied in).
> >
> >  There's also a help file supplied below.
> >
> >  Should this (after appropriate tweaking/polishing/testing/revision) go
> >into the main R code base?  It seems like a pretty basic function to me
> >...
> 
> [...]
> 
> >On Wed, 8 Nov 2000, Mike Beddo wrote:
> >
> >> I'm a newcomer to R. I can't seem to find any documentation how to add
> >> error bars to points in scatter plots. I guess I could plot the points,
> >> then compute and plot line segments in the X and/or Y directions to
> >> represent the errors?
> >> 
> >> - Mike
> 
> I think using arrows(..., code=3, angle=90, ...) is quite simple, e.g.:
> 
>  	x <- rnorm(10)
>  	y <- rnorm(10)
>  	se.x <- runif(10)
>  	se.y <- runif(10)
>  	plot(x, y, pch=22)
>  	arrows(x, y-se.y, x, y+se.y, code=3, angle=90, length=0.1)
>  	arrows(x-se.x, y, x+se.x, y, code=3, angle=90, length=0.1)
> 
> The first arrows() draws the error bars for y, and the second one for x,
> 'code=3' draws a head at both ends of the arrow, 'angle=' is the angle of
> the head with the main axis of the arrow, and 'length=' is the length of
> the head. You can also add usual graphic parameters (col, lwd, ...).
> 
> 
> Emmanuel Paradis
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Nov  9 14:56:10 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 09 Nov 2000 14:56:10 +0100
Subject: [R] How to plot error bars
In-Reply-To: <Pine.LNX.4.10.10011090819350.17017-100000@bolker.zoo.ufl.edu>
Message-ID: <B6306B8A.6C9E%pflugshaupt@geobot.umnw.ethz.ch>

On 9.11.2000 14:22 Uhr, ben at zoo.ufl.edu wrote:

> That's certainly a simpler solution.  It might be worth wrapping a few
> arrows() calls up in some kind of simple errorbar function (just so it's
> slightly more accessible to newcomers).  The only two things my function
> did that these calls don't do is (1) to size the plot appropriately so the
> upper and lower limits of the errors are within the plot, (2) to draw the
> segments/arrows first so that one can add points with pch=19 and
> bg=par("bg") to get open points without lines going through them.

I consider these quite important improvements!

When I needed error bars lately, I thought first "well, it'll be easy, just
use arrows()", but ended up with just those two problems. I hacked up
something then, but never made it into a clean function. So I'd welcome the
addition of plot.CI to R-base.

My 2 Rp

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov  9 15:02:02 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 09 Nov 2000 15:02:02 +0100
Subject: [R] simple mixture
Message-ID: <3.0.32.20001109150202.009214b0@162.38.183.200>

Dear All,

I am trying to do some simple mixture analyses. For instance, I have a
sample of n observations and I suspect they come from two different
exponential distributions with parameters rate1 and rate2, respectively.
So, I want to estimate rate1, rate2, and the proportions of both kinds of
individuals in the sample. I had a look at the packages mda and mclust, but
they do not seem to do this kind of analysis.

Has anybody tried to program such simple mixture analysis in R? Also, I am
interested in testing the hypothesis that the suspected heterogeneity is
significant: are there any method in R for such a test?

Thanks in advance for any help.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Thu Nov  9 16:00:20 2000
From: p.ribeiro at lancaster.ac.uk (Paulo J. Ribeiro Jr)
Date: Thu, 9 Nov 2000 15:00:20 +0000 (GMT)
Subject: [R] creating dll file
In-Reply-To: <3.0.32.20001109150202.009214b0@162.38.183.200>
Message-ID: <Pine.GSO.4.21.0011091449050.8702-100000@unixb.lancs.ac.uk>

Hi 
I'm trying to create a dll file for the windows distribution of a package.

I've tried  mingw32 and cygwin with the commands given below and it seems 
that there is a problem related with C random() function.  
(-mno-cygwin only included when using cygwin)

Can anybody tell me how to go around this?
Thanks
P.J.

$ gcc -O2 -mno-cygwin -c function.c
$ dllwrap -o function.dll -mno-cygwin --export-all-symbols function.o 
dllwrap: no export definition file provided
dllwrap: creating one, but that may not be what you want
/usr/bin/ld: warning: cannot find entry symbol
__cygwin_dll_entry at 12; defaulting
 to 64f81000
function.o(.text+0x164a):function.c: undefined reference to `random'
function.o(.text+0x168f):function.c: undefined reference to `random'
collect2: ld returned 1 exit status
dllwrap: gcc exited with status 1

--------------------------------------------------------------

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Thu Nov  9 16:00:47 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Thu, 9 Nov 2000 09:00:47 -0600
Subject: [R] increase memory
In-Reply-To: <x2g0l1gydl.fsf@blueberry.kubism.ku.dk>
References: <OF2693E129.7D65E24D-ONC1256992.003E4845@muc.allianz> <x2g0l1gydl.fsf@blueberry.kubism.ku.dk>
Message-ID: <00110909004704.00374@friedman>

On Thursday 09 November 2000 05:48, Peter Dalgaard BSA wrote:
> Pan_Yuming at aam.de writes:
> > dear all,
> >
> > i cant figure out how to increase memory as in the help. would appreciate
> > somebody to tell me step by step how to do it.

This question is probably the top "FAQ". I can only speculate that it's due 
to its "big caps" syntax (?Memory), rather than the common "small caps". For 
exampe,

> ?memory
Error in help(memory) : No documentation for `memory' in specified packages 
and libraries
> apropos('memory')
[1] "memory.profile"

which leaves one clueless... unless he/she remembers to pay a visit to the 
"FAQ" site. So, maybe a ".Alias" of memory to Memory would be appreciated 
(much like, unix.time to system.time)... I may be overlooking some 
convention, of course.

My two cents...

Alvaro Novo
R-1.1.1 - Linux SuSE 6.4
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Nov  9 16:04:50 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 09 Nov 2000 07:04:50 -0800
Subject: [R] state-space models and kalman filter
In-Reply-To: <f04320401b6301ae2b707@[139.222.80.154]>
 (G.Janacek's message of "Thu, 9 Nov 2000 09:17:55 +0000")
References: <00110823034002.09940@localhost.localdomain>
 <f04320401b6301ae2b707@[139.222.80.154]>
Message-ID: <873dh12nl9.fsf@jeeves.blindglobe.net>


For some reason, I thought that Jim Lindsey's package did it (Kalman
filtering) for a range of models.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Thu Nov  9 15:55:44 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Thu, 09 Nov 2000 14:55:44 +0000
Subject: [R] file processing with a FORTRAN subroutine
Message-ID: <3.0.5.32.20001109145544.00873100@bureau.ucc.ie>

Dear all,

Is it possible to call a FORTRAN subroutine which does
file processing (open an input and write to an output file)
using the .Fortran command.

FYI, I am using R 1.1.1 for windows,


Thanks,
Agus


Agus Salim
PhD student
Dept. of Statistics
University College Cork
Ireland
Tel:353-21-4902197


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov  9 16:16:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 9 Nov 2000 15:16:40 +0000 (GMT)
Subject: [R] creating dll file
Message-ID: <200011091516.PAA21980@toucan.stats.ox.ac.uk>

> Date: Thu, 9 Nov 2000 15:00:20 +0000 (GMT)
> From: "Paulo J. Ribeiro Jr" <p.ribeiro at lancaster.ac.uk>

> I'm trying to create a dll file for the windows distribution of a package.
> 
> I've tried  mingw32 and cygwin with the commands given below and it seems 
> that there is a problem related with C random() function.  
> (-mno-cygwin only included when using cygwin)
> 
> Can anybody tell me how to go around this?

Simple question: is there a C random function in the Windows runtime?
It does not seem to be in the header files, and it is not a standard C
function (it is a BSD extension).  If it is not there, you can't use it.

Why not use the R random number generator instead?


> Thanks
> P.J.
> 
> $ gcc -O2 -mno-cygwin -c function.c
> $ dllwrap -o function.dll -mno-cygwin --export-all-symbols function.o 
> dllwrap: no export definition file provided
> dllwrap: creating one, but that may not be what you want
> /usr/bin/ld: warning: cannot find entry symbol
> __cygwin_dll_entry at 12; defaulting
>  to 64f81000
> function.o(.text+0x164a):function.c: undefined reference to `random'
> function.o(.text+0x168f):function.c: undefined reference to `random'
> collect2: ld returned 1 exit status
> dllwrap: gcc exited with status 1
> 
> --------------------------------------------------------------
> 
> Paulo Justiniano Ribeiro Jr
> Dept Maths & Stats  -  Fylde College
> Lancaster University
> Lancaster LA1 4YF   -  U.K.
> 
> e-mail: paulojus at est.ufpr.br
> http://www.maths.lancs.ac.uk/~ribeiro
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Nov  9 16:28:11 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 09 Nov 2000 10:28:11 -0500
Subject: [R] state-space models and kalman filter
References: <sa097e10.075@ers.usda.gov>
Message-ID: <3A0AC28B.6BF13DF0@bank-banque-canada.ca>

>Does anyone know if one can easily estimate state-space models
>using ML and the kalman filter using R?  I would be especially
>interested in a relatively flexible function that would allow for
>estimation of hyperparameters, or could be made to do so.

My DSE library is on CRAN and a users guide is available at
<http://www.bank-banque-canada.ca/pgilbert>.  It handles multivariate ARMA and
state-space models. Both the Kalman filter  and the smoothed state estimates can
be estimated by the state-space models.

The ML estimation is (I believe) superficially broken at present but I hope to
get a chance to fix it in a few weeks. I don't really recommend ML estimation of
state-space models (at least not multivariate ones) because of know problems
with convergence. This appears to be related to parameter effects cuvature. You
will generally have much better  luck doing ML estimation with the equivalent
ARMA representation and then converting back to state-space form once you have
convergence (if you really want a state-space model). The DSE library has
methods for converting between representations.

EM estimation would be relatively straight forward to implement but, after
hearing Stoffer at a 1993 conference say he had switched back to ML because of
poor performance of EM (for time series model estimation), I have been in no
rush to do that. In any case, the convergence problems related to curvature
would apply equally for EM estimation.

With respect to hyperparameters, it depends on how much you care about the
structure of the model. If you are happy with  "black box" models then I would
recommend a procedure I called "brute force technique" in  a 1995 paper
"Combining VAR Estimation and State Space Model Reduction for Simple Good
Predictions" J. of Forecasting: Special Issue on VAR Modelling. 14:229-250. It
is implemented in bft() in the DSE library. The technique results in a linear
time-invariant model by a combination of VAR estimation and balanced state-space
reduction using a technique of S. Mittnik. (BTW another reduction technique
proposed by Aoki does not work.) Even though it uses VAR estimation the
resulting state-space model may have only an ARMA equivalent (not a VAR
equivalent) because the reduction attempts to find a parsimonious
representation. I have studied lots of estimation techniques for multivariate
time series models and bft is still my perferred starting point. You can do
better, but you can do a lot worse.

In addition to linear time-invariant ARMA and state-space models the DSE library
implements many tools for doing multivariate time series modeling. In the S/R
code I have not implemented time varying models (as in your first post) but
there are many tools in the library that would help do that. There is, however,
some overhead and I would not necessarily recommend it if you are only
interested in univariate models.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Thu Nov  9 16:50:03 2000
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Thu, 9 Nov 2000 16:50:03 +0100 (MET)
Subject: [R] memory
Message-ID: <Pine.GSO.4.21.0011091649060.1944-100000@oreias11>

Hello,
how big memory(RAM&HDD) I need for clustering data(hierarchical or
iterative optimalization method), when I have 10000 observation with some
variables? 
Now I can use 1GB RAM and some space on HDD.

Thank you in advance
Martin Gotz
 
.-___-^..^--~~~-^-.^.^-^.^-~-.--__-~-^^^-~~~-^.-..^-^---
Martin Gotz  xgotz at fi.muni.cz  Lisky 37, Brno, Czech Rep.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Thu Nov  9 16:55:13 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Thu, 9 Nov 2000 16:55:13 +0100
Subject: [R] memory management
Message-ID: <OF012A5B6B.F44C4A11-ONC1256992.005718DC@muc.allianz>

dear experts,

i m very concerned about memory management. would appreciate if you leave
me some tips on handling large datasets..

special interset:
1. importing large data from a text file
2. subsequent manipulations in R

thanks very much

best regards
pan yuming

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Nov  9 17:11:34 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 09 Nov 2000 17:11:34 +0100
Subject: [R] maximum of nsize=20000k ??
Message-ID: <3A0ACCB6.2350A8C9@physik.uni-marburg.de>


Dear R-ers,

somehow it is not possible to increase nsize to more than
20000k. When I specify e.g.

> R --vsize=10M --nsize=21000K

the result is:

          free   total (Mb)
Ncells   99658  350000  6.7
Vcells 1219173 1310720 10.0

Maybe I have overlooked s.th....

    Marcus

--
+-------------------------------------------------------
| Marcus Eger
| E-Mail:  eger.m at gmx.de (NEW)
|          marcus.eger at physik.uni-marburg.de (OLD)
+-------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Nov  9 17:26:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 9 Nov 2000 08:26:21 -0800 (PST)
Subject: [R] maximum of nsize=20000k ??
In-Reply-To: <3A0ACCB6.2350A8C9@physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.21.0011090818500.1836-100000@atlas.biostat.washington.edu>

On Thu, 9 Nov 2000, Marcus Eger wrote:

> 
> Dear R-ers,
> 
> somehow it is not possible to increase nsize to more than
> 20000k. When I specify e.g.
> 
> > R --vsize=10M --nsize=21000K
> 
> the result is:
> 
>           free   total (Mb)
> Ncells   99658  350000  6.7
> Vcells 1219173 1310720 10.0
> 
> Maybe I have overlooked s.th....


This was a bug. In src/system/sys-common.c there is
  #define Max_Nsize 20000000
that you can change to
  #define Max_Nsize 50000000

5e7 is about the limit, since we need to be able to fit the cons cells in
2Gb of memory.

Under the new memory manager in 1.2 this is unnecessary, as you don't need
to specifiy a --nsize or --vsize. 


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  9 17:32:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2000 17:32:47 +0100
Subject: [R] maximum of nsize=20000k ??
In-Reply-To: Marcus Eger's message of "Thu, 09 Nov 2000 17:11:34 +0100"
References: <3A0ACCB6.2350A8C9@physik.uni-marburg.de>
Message-ID: <x2aeb9gl74.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Dear R-ers,
> 
> somehow it is not possible to increase nsize to more than
> 20000k. When I specify e.g.
> 
> > R --vsize=10M --nsize=21000K
> 
> the result is:
> 
>           free   total (Mb)
> Ncells   99658  350000  6.7
> Vcells 1219173 1310720 10.0
> 
> Maybe I have overlooked s.th....

Um, do you really need more than 400MB worth of nodes? It's a sanity
check in src/unix/sys-common.c

#define Max_Nsize 20000000      /* must be < LONG_MAX (= 2^32 - 1 =)
                                   2147483647 = 2.1e9 */

..so if you really need it it can be upped by about two orders of
magnitudes, but you'd have to recompile. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Nov  9 17:41:41 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 9 Nov 2000 16:41:41 +0000 (GMT)
Subject: [R] simple mixture
In-Reply-To: <3.0.32.20001109150202.009214b0@162.38.183.200>
Message-ID: <Pine.LNX.4.10.10011091636000.5570-100000@localhost.localdomain>

On Thu, 9 Nov 2000, Emmanuel Paradis wrote:
> I am trying to do some simple mixture analyses. For instance, I have a
> sample of n observations and I suspect they come from two different
> exponential distributions with parameters rate1 and rate2, respectively.
> So, I want to estimate rate1, rate2, and the proportions of both kinds of
> individuals in the sample. I had a look at the packages mda and mclust, but
> they do not seem to do this kind of analysis.
This is an MLE problem; use nlm().

I recently had to do this with the Gumbel distribution. Experts, please
let me know if I've screwed up.

Bill

==================================================
pgumbel<-function(x,a,b) exp(-exp(-(x-a)/b))

dgumbel<-function(x,a,b) (1/b)*exp(-(x-a)/b)*exp(-exp(-(x-a)/b))

rgumbel<-function(n,a,b) a-b*log(-log(runif(n=n)))

dmixgumbel<-function(x,p,a1,b1,a2,b2)
{
p*(1/b1)*exp(-(x-a1)/b1)*exp(-exp(-(x-a1)/b1)) +
(1-p)*(1/b2)*exp(-(x-a2)/b2)*exp(-exp(-(x-a2)/b2))
}

#not sure if this is right!!!!!!
pmixgumbel<-function(x,p,a1,b1,a2,b2)
{
p*exp(-exp(-(x-a1)/b1)) + (1-p)*exp(-exp(-(x-a2)/b2))
}

fitmixture.sim<-function(p=.9,a1=200,b1=50,a2=600,b2=20)
{
n1<-round(p*150)
n2<-150-n1
x<-c(rgumbel(n=n1,a=a1,b=b1),rgumbel(n=n2,a=a2,b=b2))
plot(sort(x),ppoints(x))

fn<-function(p)
        {
        sum(-log(dmixgumbel(x,p=p[1],a1=p[2],b1=p[3],a2=p[4],b2=p[5])) )
        }
out<-nlm(fn,p=c(.9,200,50,600,20), hessian=TRUE)

xfit<-seq(min(x),max(x),length=40)
yfit<-pmixgumbel(xfit,p=out$estimate[1],a1=out$estimate[2],
b1=out$estimate[3],a2=out$estimate[4],b2=out$estimate[5])
lines(xfit,yfit)

list(out=out)
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov  9 18:00:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2000 18:00:55 +0100
Subject: [R] maximum of nsize=20000k ??
In-Reply-To: Peter Dalgaard BSA's message of "09 Nov 2000 17:32:47 +0100"
References: <3A0ACCB6.2350A8C9@physik.uni-marburg.de> <x2aeb9gl74.fsf@blueberry.kubism.ku.dk>
Message-ID: <x27l6dgjw8.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> #define Max_Nsize 20000000      /* must be < LONG_MAX (= 2^32 - 1 =)
>                                    2147483647 = 2.1e9 */
> 
> ..so if you really need it it can be upped by about two orders of
> magnitudes, but you'd have to recompile. 

Um, listen to Thomas rather than me, here.... Need to have room for
the nodes as well, so 5e7 is more like it (it's 20 bytes/node, so that
would only fill up about half of a 2GB address space, but you wouldn't
have that many nodes without them carrying some data in the heap space.)

In a 64bit address space, maybe...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Nov  9 18:09:55 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 9 Nov 2000 12:09:55 -0500
Subject: [R] file processing with a FORTRAN subroutine
References: <3.0.5.32.20001109145544.00873100@bureau.ucc.ie>
Message-ID: <04dc01c04a6f$e279eb00$0201a8c0@Workgroup>

I haven't tried with Fortran but I did it from a C dll without any problem.
I don't think R would care about what you do in your routine after control
is transfered to it.

Regards

YG


----- Original Message -----
From: "Agus Salim" <a.salim at ucc.ie>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, November 09, 2000 9:55 AM
Subject: [R] file processing with a FORTRAN subroutine


> Dear all,
>
> Is it possible to call a FORTRAN subroutine which does
> file processing (open an input and write to an output file)
> using the .Fortran command.
>
> FYI, I am using R 1.1.1 for windows,
>
>
> Thanks,
> Agus
>
>
> Agus Salim
> PhD student
> Dept. of Statistics
> University College Cork
> Ireland
> Tel:353-21-4902197
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barmada+ at pitt.edu  Thu Nov  9 18:36:35 2000
From: barmada+ at pitt.edu (M. Michael Barmada)
Date: Thu, 09 Nov 2000 12:36:35 -0500
Subject: [R] EFA and/or CFA
Message-ID: <B6304AD2.63EE%barmada+@pitt.edu>

Hi,

I'm looking for prepackaged functions for exploratory factor analysis (like
the factanal function in S-plus), but I can't seem to find anything in the
CRAN repositories that specifically mentions factor analysis (lot's of
principal component stuff though). Does anybody have a factanal function for
R, or know where I might find this utility? Thanks in advance...

-- 
M. Michael Barmada, Ph.D.           barmada+ at pitt.edu
Assistant Professor                 (412) 383-7959 (voice)
Department of Human Genetics        (412) 624-3020 (fax)
University of Pittsburgh
Graduate School of Public Health, Crabtree A300
130 Desoto Street
Pittsburgh, PA 15261

=====================================================================
            There are three kinds of people in this world:
             those that can count, and those that can't...
=====================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov  9 18:54:29 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 9 Nov 2000 18:54:29 +0100 (MET)
Subject: [R] memory
In-Reply-To: <Pine.GSO.4.21.0011091649060.1944-100000@oreias11>
Message-ID: <Pine.GSO.4.21.0011091848060.26962-100000@amadeus.statistik.uni-dortmund.de>

On Thu, 9 Nov 2000, Martin Gotz wrote:

> Hello,
> how big memory(RAM&HDD) I need for clustering data(hierarchical or
> iterative optimalization method), when I have 10000 observation with some
> variables? 
> Now I can use 1GB RAM and some space on HDD.

Hm. That highly depends on the functions you are going to use.

It is one thing to import a data.frame, but another one to do some
calculations on the data. The memory consumption highly depends on the
functions, you are using (creating copies of (parts of) the data, ...).

You won't need 1GB to calculate the mean of 10000 observations for
example. ;-)

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov  9 19:04:12 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 9 Nov 2000 19:04:12 +0100 (MET)
Subject: [R] memory management
In-Reply-To: <OF012A5B6B.F44C4A11-ONC1256992.005718DC@muc.allianz>
Message-ID: <Pine.GSO.4.21.0011091855150.26962-100000@amadeus.statistik.uni-dortmund.de>

On Thu, 9 Nov 2000 Pan_Yuming at aam.de wrote:

> dear experts,
> 
> i m very concerned about memory management. would appreciate if you leave
> me some tips on handling large datasets..
> 
> special interset:
> 1. importing large data from a text file
> 2. subsequent manipulations in R


a. Read the FAQ (memory managment)
b. Read "An Introduction to R" (data manipulations)
(both available at CRAN)

To your questions:
1. read.table()
2. What kind of answer do you expect ???

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Thu Nov  9 19:11:24 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Thu, 9 Nov 2000 19:11:24 +0100
Subject: [R] maximum of nsize=20000k ??
In-Reply-To: <3A0ACCB6.2350A8C9@physik.uni-marburg.de>; from marcus.eger@physik.uni-marburg.de on Thu, Nov 09, 2000 at 17:11:34 +0100
References: <3A0ACCB6.2350A8C9@physik.uni-marburg.de>
Message-ID: <20001109191124.A2658@diw14093.diw.de>

Hello,

i've tried 

 R --vsize=10M --nsize=2M    

> gc()
          free   total (Mb)
Ncells 1956136 2097152   40
Vcells 1266203 1310720   10

So, do we have to use M's?

greetings

jan


On Thu, 09 Nov 2000, Marcus Eger wrote:

> 
> Dear R-ers,
> 
> somehow it is not possible to increase nsize to more than
> 20000k. When I specify e.g.
> 
> > R --vsize=10M --nsize=21000K
> 
> the result is:
> 
>           free   total (Mb)
> Ncells   99658  350000  6.7
> Vcells 1219173 1310720 10.0
> 

-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov  9 19:34:37 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 9 Nov 2000 19:34:37 +0100 (MET)
Subject: [R] maximum of nsize=20000k ??
In-Reply-To: <20001109191124.A2658@diw14093.diw.de>
Message-ID: <Pine.GSO.4.21.0011091932320.27731-100000@amadeus.statistik.uni-dortmund.de>



On Thu, 9 Nov 2000, Jan Goebel wrote:

> Hello,
> 
> i've tried 
> 
>  R --vsize=10M --nsize=2M    
> 
> > gc()
>           free   total (Mb)
> Ncells 1956136 2097152   40
> Vcells 1266203 1310720   10
> 
> So, do we have to use M's?
> > 

> > > R --vsize=10M --nsize=21000K


Look closer: 21000K ~ 21M !!!
And that's limited in R-1.1.1 as already described ...

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Thu Nov  9 23:32:56 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Thu, 09 Nov 2000 22:32:56 +0000
Subject: [R] Alternative to Numerical Recipes
Message-ID: <3A0B2618.42A03235@clara.net>

Some time ago I mentioned the online version of the book
"Numerical Recipes in C"
http://www.ulib.org/webRoot/Books/Numerical_Recipes/
and inadvertantly stirred up a hornets' nest.
I obtained from this book code to calculate the Incomplete beta
function. It appears in: 
6.4 Incomplete Beta Function, Student?s Distribution, F-Distribution,
Cumulative Binomial Distribution, p.226,
and it calls the log-gamma function that appears in:
6.1 Gamma, Beta, and Related Functions, p.213.

I wish to attribute this material to its source, but would prefer to
cite a more "respectable" source than Numerical Recipes. Can anyone
suggest the original source, or a source of something very similar, or a
better place to ask the question?

Thanks,
Clive Jenkins

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Fri Nov 10 01:16:41 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Fri, 10 Nov 2000 00:16:41 +0000
Subject: [R] NLS
Message-ID: <20001110001637.B1401@ps2-4.ucl-41>

Hello,

I try to do a very simple nonlinear regression. The function is

y = (b0 + b1*x1 + b2*x2 + b3*x3) * x4^b4 

I think I do everything well, but as I set the starting value of b4 to 0 (it
is the theoretically sane starting value), it converges very quickly, and to
the wrong solution. Wrong in a sense, that 1) we do not expect this and 2) we
do not get this on E-Views, Stata and SAS. I do not use any extra setting,
just the plain default. I did several regressions choosing starting values for
b4 on the seq(-1,1,.01) series. It did find the correct values (with
`globally' smallest RSS), but the result is strongly dependent on the initial
values. Morover, the good result comes from a `bad' initial value!  I have
read that the nonlinear optimizer/minimizer will change in the future, but
this is funny. And it happens when I use R-devel, anyway.  Anyone had the same
problem?

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Nov 10 04:24:24 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Nov 2000 21:24:24 -0600
Subject: [R] NLS
In-Reply-To: Zsombor Cseres-Gergely's message of "Fri, 10 Nov 2000 00:16:41 +0000"
References: <20001110001637.B1401@ps2-4.ucl-41>
Message-ID: <6rwvec4ihj.fsf@franz.stat.wisc.edu>

Zsombor Cseres-Gergely <z.cseres-gergely at ucl.ac.uk> writes:

> I try to do a very simple nonlinear regression. The function is
> 
> y = (b0 + b1*x1 + b2*x2 + b3*x3) * x4^b4 

Are you taking advantage of the fact that four of your five parameters
are conditionally linear?  You can use 
 algorithm = "plinear"
to indicate to the nls function that your model is partially linear
like this one is.  When this option is user you only need to specify a
starting estimate for b4 and the optimization is reduced to a
one-dimensional optimization of the profiled residual sum-of-squares.

You would write the model as

 nls(y ~ x4^b4*cbind(1, x1, x2, x3), data = mydata, start = c(b4 = 0),
     alg = "plinear", trace = TRUE)

> I think I do everything well, but as I set the starting value of b4 to 0 (it
> is the theoretically sane starting value), 

Do you really expect 0 to be a sensible value for this parameter?  If
so, have you already fit the linear regression model
  y ~ 1 + x1 + x2 + x3
and found it to be adequate?  Why then do you think that x4 determines
the response in this fashion is your best guess at the value of b4 is
the value that makes x4 of no consequence.

Do you actually know so little about these data that you can't tell if
you expect b4 to be negative or to be positive?

One does not choose starting estimates in a nolinear regression
because they are theoretically possible values.  One uses every
possible trick to come up with values that are consistent with the
observed data.

> it converges very quickly, and to the wrong solution.

Please explain this further.  An independent evaluation of the
nonlinear least squares algorithms in several major statistical and
econometrics packages by Bruce McCullough found that the algorithm and
convergence criterion used in S-PLUS (and in R) was one of two that
did *not* declare convergence to incorrect values (in the sense that
one of more of the "converged" parameter estimates had zero correct
significant digits) on at least one test problem.

> Wrong in a sense, that 1) we do not expect this and 2) we
> do not get this on E-Views, Stata and SAS. I do not use any extra setting,
> just the plain default. I did several regressions choosing starting values for
> b4 on the seq(-1,1,.01) series. It did find the correct values (with
> `globally' smallest RSS), but the result is strongly dependent on the initial
> values. Morover, the good result comes from a `bad' initial value!  I have
> read that the nonlinear optimizer/minimizer will change in the future, but

Not that I am aware of.  However, R is an open source system and you
are welcome to contribute a superior nonlinear least squares
implementation at any time.

> this is funny. And it happens when I use R-devel, anyway.  Anyone
> had the same problem?

I don't think that question is answerable because you have not given
us enough detail of your problem.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Nov 10 04:33:33 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Nov 2000 21:33:33 -0600
Subject: [R] NLS
In-Reply-To: Douglas Bates's message of "09 Nov 2000 21:24:24 -0600"
References: <20001110001637.B1401@ps2-4.ucl-41> <6rwvec4ihj.fsf@franz.stat.wisc.edu>
Message-ID: <6rofzo4i2a.fsf@franz.stat.wisc.edu>

One disadvantage of typing over a slow remote link is that you don't
always catch your typos.  In my previous message I wrote

Douglas Bates <bates at cs.wisc.edu> writes:

...
> like this one is.  When this option is user you only need to specify a
                                         ^^^^ I meant "used"
> starting estimate for b4 and the optimization is reduced to a
...
> and found it to be adequate?  Why then do you think that x4 determines
> the response in this fashion is your best guess at the value of b4 is
                               ^^ I meant "if"
> the value that makes x4 of no consequence.
...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 10 08:04:30 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 10 Nov 2000 07:04:30 +0000 (GMT)
Subject: [R] NLS
In-Reply-To: <20001110001637.B1401@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.05.10011100700520.4228-100000@auk.stats>

Doug Bates has answered the substantive part of this.


On Fri, 10 Nov 2000, Zsombor Cseres-Gergely wrote:

> I have
> read that the nonlinear optimizer/minimizer will change in the future, but
> this is funny.

Where, please?  nls does not use it, as far as I know, but the optimizer
nlm was supplemented/replaced by optim in version 0.99.0 so the
referenced is outdated and we'd like to correct it if it is current.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Fri Nov 10 11:46:39 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Fri, 10 Nov 2000 11:46:39 +0100
Subject: [R] memory management
Message-ID: <OFFC550114.AA31E7BE-ONC1256993.003AD19A@muc.allianz>


dear uwe ligges,

thanks for your response. i have problems when importing and handling large
data sets in R. i know read.table() is not optimal for it. what i want to
know how to deal with large datasets efficiently in R with respect to
 1. importing large data from a text file
 2. subsequent manipulations in R

and also some general guidelines to improve efficiency.

thanks and regards
pan yuming






Uwe Ligges <ligges at statistik.uni-dortmund.de> on 09.11.2000 19:04:12

To:   Pan_Yuming at aam.de
cc:   r-help at stat.math.ethz.ch

Subject:  Re: [R] memory management


On Thu, 9 Nov 2000 Pan_Yuming at aam.de wrote:

> dear experts,
>
> i m very concerned about memory management. would appreciate if you leave
> me some tips on handling large datasets..
>
> special interset:
> 1. importing large data from a text file
> 2. subsequent manipulations in R


a. Read the FAQ (memory managment)
b. Read "An Introduction to R" (data manipulations)
(both available at CRAN)

To your questions:
1. read.table()
2. What kind of answer do you expect ???

Uwe Ligges





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Nov 10 12:04:20 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 10 Nov 2000 12:04:20 +0100
Subject: [R] memory management
References: <OFFC550114.AA31E7BE-ONC1256993.003AD19A@muc.allianz>
Message-ID: <3A0BD634.2D6A12DD@statistik.uni-dortmund.de>

Pan_Yuming at aam.de wrote:
> 
> dear uwe ligges,
> 
> thanks for your response. i have problems when importing and handling large
> data sets in R. i know read.table() is not optimal for it. what i want to
> know how to deal with large datasets efficiently in R with respect to
>  1. importing large data from a text file
>  2. subsequent manipulations in R
> 
> and also some general guidelines to improve efficiency.

Please give us some more information! We cannot help, if you don't
describe your problem exactly.
"Importing large data" and "subsequent manipulations" sounds like: 
   Please tell me how to use R!

As mentioned in my last mail: At first read the FAQ and "An introduction
to R".

To import large data sets you might want to start R with specified
memory size, e.g.:
   R --nsize=500K --vsize=20M 
or 
   c:\.....\RGui.exe --nsize=500K --vsize=20M   (if you are on windows)
But that's also described in the FAQ.

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Fri Nov 10 13:30:17 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Fri, 10 Nov 2000 13:30:17 +0100
Subject: [R] memory management
Message-ID: <OFE09E9EAB.BF11B9C0-ONC1256993.00431E03@muc.allianz>


thank you for your useful discussions.

i had unpleasant experinces when handling data in R, like importing large datasets into R and do calculations on it. it is not whether the job can be
donw, but how to do it more elegantly.

read.table() is slower than scan(), but i wont use scan() if read.table() can do it satifactoriely.  Kjetil gave me the right direction. i tend to use
 a lot of loops in the program and that s not efficient.

best wishes
pan yuming






Uwe Ligges <ligges at statistik.uni-dortmund.de> on 10.11.2000 12:04:20

To:   Pan_Yuming at aam.de
cc:   r-help <r-help at stat.math.ethz.ch>

Subject:  Re: [R] memory management


Pan_Yuming at aam.de wrote:
>
> dear uwe ligges,
>
> thanks for your response. i have problems when importing and handling
large
> data sets in R. i know read.table() is not optimal for it. what i want to
> know how to deal with large datasets efficiently in R with respect to
>  1. importing large data from a text file
>  2. subsequent manipulations in R
>
> and also some general guidelines to improve efficiency.

Please give us some more information! We cannot help, if you don't
describe your problem exactly.
"Importing large data" and "subsequent manipulations" sounds like:
   Please tell me how to use R!

As mentioned in my last mail: At first read the FAQ and "An introduction
to R".

To import large data sets you might want to start R with specified
memory size, e.g.:
   R --nsize=500K --vsize=20M
or
   c:\.....\RGui.exe --nsize=500K --vsize=20M   (if you are on windows)
But that's also described in the FAQ.

Regards,
Uwe Ligges



I think you need to specify more what you are looking for. All the general
guidelines are specified in "An Introduction to R", and if you need a long
discussion, Venable and Ripley's book is the source. The general
guidelines in short is that you should never use loops (for, while, etc),
and rather use apply (including sapply, lapply).

You know, it is very hard to answer your question in general terms, other
than refering you to existing literature. If there is something in the
existing literature that is unclear, people like to hear about it though.

Best,

Kjetil
--
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Fri Nov 10 14:20:26 2000
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Fri, 10 Nov 2000 14:20:26 +0100 (CET)
Subject: [R] memory management
In-Reply-To: <OFE09E9EAB.BF11B9C0-ONC1256993.00431E03@muc.allianz>
Message-ID: <Pine.LNX.4.21.0011101412520.29087-100000@reclus.nhh.no>

On Fri, 10 Nov 2000 Pan_Yuming at aam.de wrote:

> read.table() is slower than scan(), but i wont use scan() if
> read.table() can do it satifactoriely.  Kjetil gave me the right
> direction. i tend to use
>  a lot of loops in the program and that s not efficient.
> 
I have a feeling that there is an underlying issue concerning the
treatment of character strings in read.table(), both for factors and as
row names. A lot of con cells seem to be used up - that's where I've
typically hit memory limits on reading largish files. If you can
manage with scan(), and convert your character vectors to numeric (for
later conversion to factor) before you read the file, you can use more
memory for heap and less for con cells. If you are really stuck, then for
special files, like images, it's best to write a small C function to suck
in the data - this is much less challenging than it might seem, and gives
you a chance to see how elegant R really is under the hood!

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 10 14:26:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 10 Nov 2000 13:26:47 +0000 (GMT)
Subject: [R] memory management
Message-ID: <200011101326.NAA00317@toucan.stats.ox.ac.uk>


> Date: Fri, 10 Nov 2000 14:20:26 +0100 (CET)
> From: Roger Bivand <rsb at reclus.nhh.no>
> To: Pan_Yuming at aam.de
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] memory management
> 
> On Fri, 10 Nov 2000 Pan_Yuming at aam.de wrote:
> 
> > read.table() is slower than scan(), but i wont use scan() if
> > read.table() can do it satifactoriely.  Kjetil gave me the right
> > direction. i tend to use
> >  a lot of loops in the program and that s not efficient.
> > 
> I have a feeling that there is an underlying issue concerning the
> treatment of character strings in read.table(), both for factors and as
> row names. A lot of con cells seem to be used up - that's where I've
> typically hit memory limits on reading largish files. If you can
> manage with scan(), and convert your character vectors to numeric (for
> later conversion to factor) before you read the file, you can use more
> memory for heap and less for con cells. If you are really stuck, then for
> special files, like images, it's best to write a small C function to suck
> in the data - this is much less challenging than it might seem, and gives
> you a chance to see how elegant R really is under the hood!

Or use package Rstreams on CRAN, thereby using someone else's C function.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Fri Nov 10 23:27:40 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Fri, 10 Nov 2000 22:27:40 +0000
Subject: [R] (NLS) correctly: NLM
In-Reply-To: <Pine.GSO.4.05.10011100700520.4228-100000@auk.stats>; from ripley@stats.ox.ac.uk on Fri, Nov 10, 2000 at 07:04:30AM +0000
References: <20001110001637.B1401@ps2-4.ucl-41> <Pine.GSO.4.05.10011100700520.4228-100000@auk.stats>
Message-ID: <20001110222740.B520@ps2-4.ucl-41>

On Fri, Nov 10, 2000 at 07:04:30AM +0000, Prof Brian D Ripley wrote:
> Where, please?  nls does not use it, as far as I know, but the optimizer
> nlm was supplemented/replaced by optim in version 0.99.0 so the
> referenced is outdated and we'd like to correct it if it is current.

Sorry, I now see that I put NLS in the subject instead of NLM. The Help that
comes with major 1, minor 1.1 2000/August/15 i586-pc-linus-gnu says for NLM
that "This is a preliminary version of this function and it will probably change."
This is what I wanted to mean originally.

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpiper at med.usyd.edu.au  Sat Nov 11 00:58:11 2000
From: rpiper at med.usyd.edu.au (Richard Piper)
Date: Sat, 11 Nov 2000 10:58:11 +1100
Subject: [R] Executing an R function from Java.
Message-ID: <3A0C8B93.6DE4EAB8@med.usyd.edu.au>

Is anyone aware of a mechanism by which I could
execute an R function from within java (say
a servlet). 

thanks 

Richard Piper
-- 
Intensive Care Unit, RNS Hospital, Sydney.
Phone:	612-9926-8656 or 8617
FAX:	612-9439-8418
Page:	612-9962-4936
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sat Nov 11 01:56:04 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 10 Nov 2000 16:56:04 -0800
Subject: [R] Executing an R function from Java.
In-Reply-To: <3A0C8B93.6DE4EAB8@med.usyd.edu.au>
 (Richard Piper's message of "Sat, 11 Nov 2000 10:58:11 +1100")
References: <3A0C8B93.6DE4EAB8@med.usyd.edu.au>
Message-ID: <87aeb75ntn.fsf@jeeves.blindglobe.net>

>>>>> "RP" == Richard Piper <rpiper at med.usyd.edu.au> writes:

    RP> Is anyone aware of a mechanism by which I could execute an R
    RP> function from within java (say a servlet).

I've nearly solved a similar problem -- getting access to R from
within Zope (using Duncan's RSPython work), as a ZMethod.  Tres cool
for WebObject publishing...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pperkins at ucsd.edu  Sat Nov 11 02:11:47 2000
From: pperkins at ucsd.edu (Peter Perkins)
Date: Fri, 10 Nov 2000 17:11:47 -0800
Subject: [R] -ffloat-store
Message-ID: <3A0C9CD3.4565EB6E@ucsd.edu>

hi -

in the context of funny problems with optim() -- bug report 671 -- Prof
Brian Ripley  wrote:
> I think this is the usual problem with inconsistent internal precision
> on Linux compilers, so try compiling optim.c with -ffloat-store to make
> gcc IEEE-compliant.

this was new to me, but then i am somewhat new to linux and gcc.  a grep
on the R-1.1.1 source dist'n does not match -ffloat-store.  i've lately
run into funny "jumps" while using optim(), similar to what was
described in the original bug report.  according to the gcc info page,
the "extra precision" (how can that be bad?) is a hardware-specific
issue.  is there any store of R-knowledge on what hardware is affected
(i'm running on ppc -- the gcc info page mentions m68k and x86) and
what, if any, other routines might be affected?

along the same lines, is there an official R-stance on the accuracy of
libmoto for ppc?  i remember having heard some vague mention on a ppc
newsgroup about the routines in libmoto being fast but not very
accurate.  at one point, i compared results from R with libmoto to
something else and didn't find anything shocking.

thanks for any info.

- peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 11 08:10:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 11 Nov 2000 07:10:47 +0000 (GMT)
Subject: [R] -ffloat-store
In-Reply-To: <3A0C9CD3.4565EB6E@ucsd.edu>
Message-ID: <Pine.GSO.4.05.10011110656490.6072-100000@auk.stats>

On Fri, 10 Nov 2000, Peter Perkins wrote:

> hi -
> 
> in the context of funny problems with optim() -- bug report 671 -- Prof
> Brian Ripley  wrote:
> > I think this is the usual problem with inconsistent internal precision
> > on Linux compilers, so try compiling optim.c with -ffloat-store to make
> > gcc IEEE-compliant.
> 
> this was new to me, but then i am somewhat new to linux and gcc.  a grep
> on the R-1.1.1 source dist'n does not match -ffloat-store. 

No: it would be very system-specific.

>  i've lately
> run into funny "jumps" while using optim(), similar to what was
> described in the original bug report.  according to the gcc info page,
> the "extra precision" (how can that be bad?) is a hardware-specific

It can be bad because algebraically identical calculations can be done in
different ways, and even the same calculation in different ways, and on an
ix86 the answer to them will differ depending if the results gets stored
off the FPU or not.  The IEEE 754 standard is intended to ensure that at
least the second does not happen.  The extra precision is a good thing only
if it is always used!

The context of the report was Linux on ix86, and the L-BFGS-B method in
optim.  So the problem was occurring on linux-i686 but not on Solaris-sparc
or even win32-i686.

> issue.  is there any store of R-knowledge on what hardware is affected
> (i'm running on ppc -- the gcc info page mentions m68k and x86) and
> what, if any, other routines might be affected?

We've seen a few, but we try to pin them down.  There was a pestilential
one inside smooth.spline for a while.  We've seen differences between
different (non-)releases of egcs/gcc too, and the commonly used
egcs-2.91.66 seems the most problematic and the only one where I have seen
problems on Windows.

If you are seeing problems with the L-BFGS-B method in optim(), try the
R-devel version which has some tweaks now, mainly to give earlier and
better diagnoses of such problems.  However, the original problem boiled
down to using numerical derivatives in a very poorly scaled problem (I
think because the scaling had been done the wrong way: up not down or
v.v.), so do take a close look at the scaling.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew at opsi.co.za  Sat Nov 11 17:49:23 2000
From: matthew at opsi.co.za (Matthew Kushner)
Date: Sat, 11 Nov 2000 18:49:23 +0200
Subject: [R] appending frames
Message-ID: <000a01c04bff$586f3280$967826c4@localdomain>

Maybe some knowledgable R-user can clear up a question I have. Is there any way, given two frames with identical attributes, to append them? If you simply "append" or "c" them, it just creates a list with two distinct frames as members. I want them to be merged.

thanks,

matthew kushner
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001111/ad736b47/attachment.html

From alexandre.fayolle at free.fr  Sat Nov 11 17:55:23 2000
From: alexandre.fayolle at free.fr (Alexandre Fayolle)
Date: Sat, 11 Nov 2000 17:55:23 +0100 (MET)
Subject: [R] problem using MASS corresp and mca functions
Message-ID: <973961723.3a0d79fb3702c@imp.free.fr>

Hello,

I'm an absolute beginner with R and neophite in data analysis, so please bear
with me if I ask stupid question. 

I'm trying to do a correspondence analysis using R and MASS corresp function,
but I get an error message which I'm unable to interpret:

> data(weblog)
> library(MASS)
> corresp(~ url + fromurl, data=weblog)
Error in svd(t(t(x1 * Dr) * Dc)) : error  306  in dsvdc

Similarly, I get another error if I try to use mca:
> mca(weblog)
Error in (rep(1, n)) %*% G : non-conformable arguments

I'm a bit stuck there, with the impression that I'm missing something
fundamental. 

The data I'm using is a csv file extracted from an web server logfile. The first
lines are:
visitor;date;url;fromurl;agent
61.133.139.118;05/Nov/2000:04:02:08;/img/main_window.gif;http://www.logilab.org/sshots.html;Teleport
61.133.139.118;05/Nov/2000:04:02:16;/contact.html;http://www.logilab.org/dev.html;Teleport
<snip>

Any help or comment is welcome.

Alexandre Fayolle
--
http://alexandre.fayolle.free.fr
http://www.logilab.org
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Nov 11 18:44:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 11 Nov 2000 09:44:09 -0800 (PST)
Subject: [R] appending frames
In-Reply-To: <000a01c04bff$586f3280$967826c4@localdomain>
Message-ID: <Pine.GSO.4.21.0011110944020.8905-100000@atlas.biostat.washington.edu>

On Sat, 11 Nov 2000, Matthew Kushner wrote:

> Maybe some knowledgable R-user can clear up a question I have. Is
> there any way, given two frames with identical attributes, to append
> them? If you simply "append" or "c" them, it just creates a list with
> two distinct frames as members. I want them to be merged.
> 

rbind()

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Sat Nov 11 19:33:25 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Sat, 11 Nov 2000 13:33:25 -0500 (EST)
Subject: [R] Executing an R function from Java.
In-Reply-To: <87aeb75ntn.fsf@jeeves.blindglobe.net> (rossini@blindglobe.net)
References: <3A0C8B93.6DE4EAB8@med.usyd.edu.au> <87aeb75ntn.fsf@jeeves.blindglobe.net>
Message-ID: <200011111833.NAA06217@jessie.research.bell-labs.com>



   >>>>> "RP" == Richard Piper <rpiper at med.usyd.edu.au> writes:

       RP> Is anyone aware of a mechanism by which I could execute an R
       RP> function from within java (say a servlet).

  The RJava (http://www.omegahat.org/RSJava) package has all the
necessary pieces to do this.  Specifically, see the native eval()
method in the RForeignReference class.  For the reasons below, this
functionality is not in the most covenient form for calling R from
Java.  There are some documents on the web site above which might help
understand the interface.

Previously, the package was oriented towards calling Java methods from
R, not calling R functions from Java. But, of course, to be useful it
has to do the reverse, and it does using some cute tricks to generate
new Java classes on demand, leaves complex objects in the system they
were defined and exports references, etc.

Now that Kurt and I have "finished" getting the R as a shared library
on Unix working, embedding R in other applications/languages (Java,
Perl, Python, Postgres & MySQL, Apache) is quite easy.

 I can provide a Java class that provides more convenient access to
calling R functions from Java. It would help if you described a little
more about how you want to use it. The R/SPlus-Java interface is very
general and it doesn't really matter what functions you call. The
difficulty lies in what the caller expects to have happen when the
result of the R function is a complex object, e.g. a fitted model. The
RJava package has facilities to care of importing it into Java with
the correct class type. But the developer had better understand that
it actually makes sense to use the R object (reference) in subsequent
Java calls. In other words, the mechanics are there, but it is back to
thinking about what are the semantics. Damn, I thought we weren't
going to have to think :-)


 D.


  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Nov 11 19:56:19 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 11 Nov 2000 19:56:19 +0100
Subject: [R] problem using MASS corresp and mca functions
References: <973961723.3a0d79fb3702c@imp.free.fr>
Message-ID: <3A0D9653.7E61DCC9@statistik.uni-dortmund.de>

Alexandre Fayolle wrote:

> I'm an absolute beginner with R and neophite in data analysis, so please bear
> with me if I ask stupid question.
> 
> I'm trying to do a correspondence analysis using R and MASS corresp function,
> but I get an error message which I'm unable to interpret:
> 
> > data(weblog)

Try 
  read.table(filename, sep=";", header=TRUE)
instead of data(weblog). I guess the file is not read in correctly (?).


> > library(MASS)
> > corresp(~ url + fromurl, data=weblog)
> Error in svd(t(t(x1 * Dr) * Dc)) : error  306  in dsvdc

Works for me, so I think it is the way you read in the data. Have you
checked, if the data.frame weblog looks OK in R?
[Assuming you are running R-1.1.1 and the latest MASS package]
 

> Similarly, I get another error if I try to use mca:
> > mca(weblog)
> Error in (rep(1, n)) %*% G : non-conformable arguments
> 
> I'm a bit stuck there, with the impression that I'm missing something
> fundamental.
> 
> The data I'm using is a csv file extracted from an web server logfile. The first
> lines are:
> visitor;date;url;fromurl;agent
> 61.133.139.118;05/Nov/2000:04:02:08;/img/main_window.gif;http://www.logilab.org/sshots.html;Teleport
> 61.133.139.118;05/Nov/2000:04:02:16;/contact.html;http://www.logilab.org/dev.html;Teleport
> <snip>


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 11 20:37:22 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 11 Nov 2000 19:37:22 +0000 (GMT)
Subject: [R] appending frames
In-Reply-To: <000a01c04bff$586f3280$967826c4@localdomain>
Message-ID: <Pine.GSO.4.05.10011111937090.15785-100000@auk.stats>

On Sat, 11 Nov 2000, Matthew Kushner wrote:

> Maybe some knowledgable R-user can clear up a question I have. Is there any way, given two frames with identical attributes, to append them? If you simply "append" or "c" them, it just creates a list with two distinct frames as members. I want them to be merged.

rbind?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Sun Nov 12 12:12:03 2000
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Sun, 12 Nov 2000 12:12:03 +0100
Subject: [R] putting output from print() into a string?
Message-ID: <v04210100b6342a53679f@[163.1.146.10]>

Is there some neat way of storing the printed representation of an 
object as a character string?  I can see how it could be done via 
disk using sink() and then scan(), but that's ugly.

Something like Lisp-Stat's "with-output-to-string" macro perhaps?



David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278612
United Kingdom                     Email david.firth at nuffield.oxford.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Sun Nov 12 15:57:43 2000
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Sun, 12 Nov 2000 15:57:43 +0100 (CET)
Subject: [R] problem using MASS corresp and mca functions
Message-ID: <Pine.LNX.4.21.0011121542200.14067-100000@leo.logilab.fr>

> > I'm an absolute beginner with R and neophite in data analysis, so
> > please bear  with me if I ask stupid question.
> > 
> > I'm trying to do a correspondence analysis using R and MASS corresp
> > function,  but I get an error message which I'm unable to interpret:
> > 
> > data(weblog)
> 
> Try 
>   read.table(filename, sep=";", header=TRUE)
> instead of data(weblog). I guess the file is not read in correctly (?).

I get another error with this method:
> corresp(~ url + fromurl, data=log)
Error in svd(t(t(x1 * Dr) * Dc)) : error  34  in dsvdc
(not that this is easier to fix...)

> > > library(MASS)
> > > corresp(~ url + fromurl, data=weblog)
> > Error in svd(t(t(x1 * Dr) * Dc)) : error  306  in dsvdc

> Works for me, so I think it is the way you read in the data. Have you
> checked, if the data.frame weblog looks OK in R?

It does, as far as I can tell. The file has no empty fields, only
qualitative variables... I tried to suppress some lines in the file, and
finally reached the point where deleting the last line would get the thing
running. So I thought Ahaa, there you are, however the line itself has
nothing special. And replacing it with another line from somewhere earlier
in the file would break things again. 

If anyone wants to help me, I can send the file (it's only 2.3K gzipped). 

> [Assuming you are running R-1.1.1 and the latest MASS package]
 
I am : I installed R on a Redhat 6.2 box with latest RPM from CRAN, and
MASS from VR_6.2-1.tar.gz


Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Nov 12 16:29:31 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 12 Nov 2000 16:29:31 +0100 (CET)
Subject: [R] putting output from print() into a string?
In-Reply-To: <v04210100b6342a53679f@[163.1.146.10]>
Message-ID: <Pine.LNX.4.21.0011121628470.860-100000@ligges.statistik.uni-dortmund.de>



On Sun, 12 Nov 2000, David Firth wrote:

> Is there some neat way of storing the printed representation of an 
> object as a character string?  I can see how it could be done via 
> disk using sink() and then scan(), but that's ugly.
> 
> Something like Lisp-Stat's "with-output-to-string" macro perhaps?

dump() ?

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Nov 12 16:46:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 2000 16:46:46 +0100
Subject: [R] putting output from print() into a string?
In-Reply-To: Uwe Ligges's message of "Sun, 12 Nov 2000 16:29:31 +0100 (CET)"
References: <Pine.LNX.4.21.0011121628470.860-100000@ligges.statistik.uni-dortmund.de>
Message-ID: <x24s1dtcpl.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> On Sun, 12 Nov 2000, David Firth wrote:
> 
> > Is there some neat way of storing the printed representation of an 
> > object as a character string?  I can see how it could be done via 
> > disk using sink() and then scan(), but that's ugly.
> > 
> > Something like Lisp-Stat's "with-output-to-string" macro perhaps?
> 
> dump() ?

I don't think that was what David was looking for. If you really want
to postprocess the printed output, the sink-then-scan method would
seem to be the way to do it (or the soon-to- be readLines() instead of
scan()). I suppose that a sink(text=...) could be implemented, but
AFAIK it is not on anyones TODO list. 

One obvious counterquestion is "Why?". It would normally be preferable
to retrieve information from the object itself rather than the printed
representation, which is generally lossful in a number of ways. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Sun Nov 12 19:25:26 2000
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Sun, 12 Nov 2000 18:25:26 +0000
Subject: [R] putting output from print() into a string?
In-Reply-To: <x24s1dtcpl.fsf@blueberry.kubism.ku.dk>
References: 
 <Pine.LNX.4.21.0011121628470.860-100000@ligges.statistik.uni-dortmund.de>
 <x24s1dtcpl.fsf@blueberry.kubism.ku.dk>
Message-ID: <v04210102b6348b602996@[192.76.27.78]>

>Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
>
> > On Sun, 12 Nov 2000, David Firth wrote:
> >
> > > Is there some neat way of storing the printed representation of an
> > > object as a character string?  I can see how it could be done via
> > > disk using sink() and then scan(), but that's ugly.
> > >
> > > Something like Lisp-Stat's "with-output-to-string" macro perhaps?
> >
> > dump() ?
>
>I don't think that was what David was looking for. If you really want
>to postprocess the printed output, the sink-then-scan method would
>seem to be the way to do it (or the soon-to- be readLines() instead of
>scan()). I suppose that a sink(text=...) could be implemented, but
>AFAIK it is not on anyones TODO list.

That's right, dump() doesn't do what I want: I should have made it 
clearer that what I would like to store in a string is the 
prettily-printed representation that gets displayed on the console 
when print() is called.  Yes, sink()-ing to a string would be nice. 
Or perhaps (more radically?) an optional argument as in print(mydata, 
return.the.string=TRUE) which requests the return of a string instead 
of returning the object mydata itself.

>
>One obvious counterquestion is "Why?". It would normally be preferable
>to retrieve information from the object itself rather than the printed
>representation, which is generally lossful in a number of ways.

I somehow thought I'd be asked this!  I need to exchange information 
rapidly with a non-R user using write.socket(), and for that purpose 
the information has to be in the form of a character string.  I can 
of course format the string myself using formatC(), paste(), etc., 
but it turns out that the way that data frames get formatted by 
print.matrix() is just right for my purposes.  So, rather than 
duplicate some of the excellent work that went into print.matrix(), 
I'd like to use it!

Thanks anyway for your very helpful answer, Peter: at least I can 
stop looking now.

Regards -- David

>
>--
>   O__  ---- Peter Dalgaard             Blegdamsvej 3
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 12 21:19:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 12 Nov 2000 20:19:25 +0000 (GMT)
Subject: [R] putting output from print() into a string?
In-Reply-To: <x24s1dtcpl.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10011122013450.18829-100000@auk.stats>

On 12 Nov 2000, Peter Dalgaard BSA wrote:

> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> 
> > On Sun, 12 Nov 2000, David Firth wrote:
> > 
> > > Is there some neat way of storing the printed representation of an 
> > > object as a character string?  I can see how it could be done via 
> > > disk using sink() and then scan(), but that's ugly.
> > > 
> > > Something like Lisp-Stat's "with-output-to-string" macro perhaps?
> > 
> > dump() ?
> 
> I don't think that was what David was looking for. If you really want
> to postprocess the printed output, the sink-then-scan method would
> seem to be the way to do it (or the soon-to- be readLines() instead of
> scan()). I suppose that a sink(text=...) could be implemented, but
> AFAIK it is not on anyones TODO list. 

Sure it is.  Output connections to a character vector solves this, I
believe. I have had a prototype running, but doubt if this will make 1.2.
Indeed, I suspect what David really wants is a socket as an output
connection.  (`Connections' are S4-speak for general hooks for input and
output streams.)

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tmed at pacbell.net  Sun Nov 12 21:36:33 2000
From: tmed at pacbell.net (tmed)
Date: Sun, 12 Nov 2000 12:36:33 -0800
Subject: [R] R help for a newby
Message-ID: <000801c04ce8$3f8cf560$6601a8c0@mypc>

Hello,

    I'm trying to read a file that has ascci data in it. The format of the data
is in this order: test_number(integer) 4 double readings. Simple,ok, but for 
life of me I can't get R to put it into the internal format I need. What I want
to do is to make an array called dat and dim it 10000 rows by 5 columns.
That seems simple enough, I start out by:

dat <- array(0,dim=c(10000,5)) this looks ok. 
The next thing I did was to scan in the data.
dat <-scan("mydata-file",what=array(""),sep="\n").
I get the data into the dat array but its looks like a string.
ie "1000 34.5  34.7  35  35.6".
what I want is to make each of these data point go into 
the appropriate array index ie:
dat[1][1]   dat[1][2]  dat[1][3]   dat[1][4]   dat[1][5]
    1000     34.5        34.7         35           35.6

Any help would be greatly appreciated.

Thank you
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001112/f981c178/attachment.html

From p.dalgaard at biostat.ku.dk  Sun Nov 12 22:59:17 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 2000 22:59:17 +0100
Subject: [R] R help for a newby
In-Reply-To: tmed's message of "Sun, 12 Nov 2000 12:36:33 -0800"
References: <000801c04ce8$3f8cf560$6601a8c0@mypc>
Message-ID: <x2snow7sy2.fsf@blueberry.kubism.ku.dk>

tmed <tmed at pacbell.net> writes:

> Hello,
> 
>     I'm trying to read a file that has ascci data in it. The format of =
> the data
> is in this order: test_number(integer) 4 double readings. Simple,ok, but =
> for=20
> life of me I can't get R to put it into the internal format I need. What =
> I want
> to do is to make an array called dat and dim it 10000 rows by 5 columns.
> That seems simple enough, I start out by:
> 
> dat <- array(0,dim=3Dc(10000,5)) this looks ok.=20
> The next thing I did was to scan in the data.
> dat <-scan("mydata-file",what=3Darray(""),sep=3D"\n").
> I get the data into the dat array but its looks like a string.
> ie "1000 34.5  34.7  35  35.6".
> what I want is to make each of these data point go into=20
> the appropriate array index ie:
> dat[1][1]   dat[1][2]  dat[1][3]   dat[1][4]   dat[1][5]
>     1000     34.5        34.7         35           35.6
>
> Any help would be greatly appreciated.

matrix(scan("mydata-file"), ncol=5, byrow=TRUE)

or

do.call("cbind", scan("mydata-file", what=rep(0,5)))

or

as.matrix(read.table("mydata-file"))
 
should all work ("should" being code for "I didn't actually try"). I'd
expect the middle one to be the most efficient, but who knows.

BTW: Accessing an element of a matrix is dat[1,1] in R, not dat[1][1]
as in C.

> ------=_NextPart_000_0005_01C04CA5.30664F20
> Content-Type: text/html;
> 	charset="iso-8859-1"
> Content-Transfer-Encoding: quoted-printable

Um, please try to avoid that stuff. It looks bad in some peoples
mailers, and I think it also messes with the list digests.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kimh at corvu.com.au  Mon Nov 13 00:16:02 2000
From: kimh at corvu.com.au (Kim Horn)
Date: Mon, 13 Nov 2000 10:16:02 +1100
Subject: [R] Alternative to Numerical Recipes
References: <3A0B2618.42A03235@clara.net>
Message-ID: <3A0F24B1.FC76BF42@corvu.com.au>

We have had problems with licensing with Numerical Recipes.
We wanted to use the code in our product but never got a
reply from them about licensing. So we built our own.
It is a pity that such a resource cannot be used :-)

The original algorithms are mostly published in Appl. Statistics
journal. You can down load the Fortran code from StatLib web
site and then use F2C to translate to C code.

The ones I have used are:

Algorithm As 109  Appl. Statist. (1977) Vol.26, P.111

Algorithm As 63  appl. statist. (1973), vol.22, no.3

Natural Log of the Complete Gamma Function
Lanczos, C. 'A precision approximation of the gamma
function', J. SIAM Numer. Anal., B, 1, 86-96, 1964.

All the best
Kim

-----------------------------------------------------------------------------
Kim Horn
Product Manager Data Mining
Corvu Australia Pty Ltd
Level 4, 1 James Place
North Sydney NSW 2060 Australia
Telephone: 61 2 9959 3522
Facsimile:   61 2 9959 3583
www.corvu.com

C O R V U
MANAGING BUSINESS PERFORMANCE
"Top 100 Emerging Companies to Watch in 2000"
Computerworld, November, 1999
-----------------------------------------------------------------------------

Clive Jenkins wrote:

> Some time ago I mentioned the online version of the book
> "Numerical Recipes in C"
> http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> and inadvertantly stirred up a hornets' nest.
> I obtained from this book code to calculate the Incomplete beta
> function. It appears in:
> 6.4 Incomplete Beta Function, Student?s Distribution, F-Distribution,
> Cumulative Binomial Distribution, p.226,
> and it calls the log-gamma function that appears in:
> 6.1 Gamma, Beta, and Related Functions, p.213.
>
> I wish to attribute this material to its source, but would prefer to
> cite a more "respectable" source than Numerical Recipes. Can anyone
> suggest the original source, or a source of something very similar, or a
> better place to ask the question?
>
> Thanks,
> Clive Jenkins
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 13 08:20:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 13 Nov 2000 07:20:40 +0000 (GMT)
Subject: [R] Alternative to Numerical Recipes
In-Reply-To: <3A0F24B1.FC76BF42@corvu.com.au>
Message-ID: <Pine.GSO.4.05.10011130711160.19171-100000@auk.stats>

On Mon, 13 Nov 2000, Kim Horn wrote:

> We have had problems with licensing with Numerical Recipes.
> We wanted to use the code in our product but never got a
> reply from them about licensing. So we built our own.
> It is a pity that such a resource cannot be used :-)
> 
> The original algorithms are mostly published in Appl. Statistics
> journal. You can down load the Fortran code from StatLib web
> site and then use F2C to translate to C code.

R uses some Appl Statistics algorithms.  They too have conditions, and we
obtained permission to include code (even translated code) in R.
>From the Statlib site:

   The Royal Statistical Society holds the copyright to these routines, but
   has given its permission for their distribution provided that no fee is
   charged. 

R itself is a source of routines for this sort of thing, we
believe with documented sources, and of course with strong
usage conditions (GPL).

> 
> The ones I have used are:
> 
> Algorithm As 109  Appl. Statist. (1977) Vol.26, P.111
> 
> Algorithm As 63  appl. statist. (1973), vol.22, no.3
> 
> Natural Log of the Complete Gamma Function
> Lanczos, C. 'A precision approximation of the gamma
> function', J. SIAM Numer. Anal., B, 1, 86-96, 1964.
> 
> All the best
> Kim
> 
> -----------------------------------------------------------------------------
> Kim Horn
> Product Manager Data Mining
> Corvu Australia Pty Ltd
> Level 4, 1 James Place
> North Sydney NSW 2060 Australia
> Telephone: 61 2 9959 3522
> Facsimile:   61 2 9959 3583
> www.corvu.com
> 
> C O R V U
> MANAGING BUSINESS PERFORMANCE
> "Top 100 Emerging Companies to Watch in 2000"
> Computerworld, November, 1999
> -----------------------------------------------------------------------------
> 
> Clive Jenkins wrote:
> 
> > Some time ago I mentioned the online version of the book
> > "Numerical Recipes in C"
> > http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> > and inadvertantly stirred up a hornets' nest.
> > I obtained from this book code to calculate the Incomplete beta
> > function. It appears in:
> > 6.4 Incomplete Beta Function, Students Distribution, F-Distribution,
> > Cumulative Binomial Distribution, p.226,
> > and it calls the log-gamma function that appears in:
> > 6.1 Gamma, Beta, and Related Functions, p.213.
> >
> > I wish to attribute this material to its source, but would prefer to
> > cite a more "respectable" source than Numerical Recipes. Can anyone
> > suggest the original source, or a source of something very similar, or a
> > better place to ask the question?
> >
> > Thanks,
> > Clive Jenkins
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> --
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Mon Nov 13 00:48:38 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Sun, 12 Nov 2000 23:48:38 +0000
Subject: [R] NLS or better: NLM
In-Reply-To: <6r1ywk5xbe.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Thu, Nov 09, 2000 at 09:18:45PM -0600
References: <20001110001637.B1401@ps2-4.ucl-41> <6r1ywk5xbe.fsf@franz.stat.wisc.edu>
Message-ID: <20001112234838.B493@ps2-4.ucl-41>


I have to correct my previous post (or have I already did it?): I used NLM,
not NLS.

On Thu, Nov 09, 2000 at 09:18:45PM -0600, Douglas Bates wrote:
> Are you taking advantage of the fact that four of your five parameters
> are conditionally linear?  You can use 

No. I used my fingers before my brain.

> You would write the model as
> 
>  nls(y ~ x4^b4*cbind(1, x1, x2, x3), data = mydata, start = c(b4 = 0),
>      alg = "plinear", trace = TRUE)

This works fine.

> Do you really expect 0 to be a sensible value for this parameter?  If
> so, have you already fit the linear regression model
>   y ~ 1 + x1 + x2 + x3
> and found it to be adequate?  Why then do you think that x4 determines
> the response in this fashion is your best guess at the value of b4 is
> the value that makes x4 of no consequence.

Probably wrongly, but exatly for this reason. x1, x2 and x3 are number of
adu1t males, females and children in the household, y is energy intake, and x4
is log(income)/head. Plotting the data indicated difference, so I choose 0 to
see if there is one.

> > it converges very quickly, and to the wrong solution.
> Please explain this further.  An independent evaluation of the

> Not that I am aware of.  However, R is an open source system and you
> are welcome to contribute a superior nonlinear least squares
> implementation at any time.

Well, I did not wanted to blame the minimizer engine (nor R!). I just observed
these things and behaved like a consumer of software bloathed with AI-like
features, not like a craftsman with a precision tool. I hope R will teach me
to be more the latter.

But one question still remains for me. OK, I should have noticed and exploited
the structure of the problem. But what if I do not? Should the other way give
so different results?

Thanks,
Zsombor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isabelle.zabalza-mezghani at ifp.fr  Mon Nov 13 11:27:27 2000
From: isabelle.zabalza-mezghani at ifp.fr (isabelle Zabalza-Mezghani)
Date: Mon, 13 Nov 2000 11:27:27 +0100
Subject: [R] DLL for calling Fortran subroutines
Message-ID: <3A0FC20E.897384FD@ifp.fr>

Hi everybody,

I'm trying to use fortran subroutines in a R function. I've generated a
DLL file using my fortran subroutines, and I've got a DLL which includes
an export table with the names of my subroutines.
Then, I use the R command library(test), where test is a directory
located in the R library tree and which contains a R directory (with my
R functions) and a libs directory (with my test.dll).
Everything seems to be ok, but when I try the R command :
is.loaded(symbol.For("functest")), R returns False.
Furthermore, when I try to execute the R function which calls
Fortran("functest",...) I've got the following message :
 "Error in .Fortran("functest",...) : C/Fortran function name not in
load table".

If someone has a solution to this problem ....

Thanks

Isabelle Zabalza-Mezghani


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 13 13:12:38 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Nov 2000 12:12:38 +0000 (GMT)
Subject: [R] DLL for calling Fortran subroutines
Message-ID: <200011131212.MAA08640@toucan.stats.ox.ac.uk>


> Date: Mon, 13 Nov 2000 11:27:27 +0100
> From: isabelle Zabalza-Mezghani <isabelle.zabalza-mezghani at ifp.fr>
> 
> I'm trying to use fortran subroutines in a R function. I've generated a
> DLL file using my fortran subroutines, and I've got a DLL which includes
> an export table with the names of my subroutines.

How did you generate it?

> Then, I use the R command library(test), where test is a directory
> located in the R library tree and which contains a R directory (with my
> R functions) and a libs directory (with my test.dll).
> Everything seems to be ok, but when I try the R command :
> is.loaded(symbol.For("functest")), R returns False.
> Furthermore, when I try to execute the R function which calls
> Fortran("functest",...) I've got the following message :
>  "Error in .Fortran("functest",...) : C/Fortran function name not in
> load table".
> 
> If someone has a solution to this problem ....

Use pedump.exe -e to see what your DLL actually exports.  If you generated
the DLL with a compiler other than our recommended setup, you will
probably need to use .C not .Fortran.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Nov 13 15:28:52 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 13 Nov 2000 09:28:52 -0500
Subject: [R] DLL for calling Fortran subroutines
References: <200011131212.MAA08640@toucan.stats.ox.ac.uk>
Message-ID: <057401c04d7e$0c0535e0$0201a8c0@Workgroup>

Just a thought, maybe is package (if it's really one in R sense) doesn't
load the DLL.

May be he could try to dyn.load is DLL. From the looks of it I suspect he
confused the library function with dyn.load or something like that.

My 2 cent bit.

YG


----- Original Message -----
From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
To: <r-help at stat.math.ethz.ch>; <isabelle.zabalza-mezghani at ifp.fr>
Sent: Monday, November 13, 2000 7:12 AM
Subject: Re: [R] DLL for calling Fortran subroutines


>
> > Date: Mon, 13 Nov 2000 11:27:27 +0100
> > From: isabelle Zabalza-Mezghani <isabelle.zabalza-mezghani at ifp.fr>
> >
> > I'm trying to use fortran subroutines in a R function. I've generated a
> > DLL file using my fortran subroutines, and I've got a DLL which includes
> > an export table with the names of my subroutines.
>
> How did you generate it?
>
> > Then, I use the R command library(test), where test is a directory
> > located in the R library tree and which contains a R directory (with my
> > R functions) and a libs directory (with my test.dll).
> > Everything seems to be ok, but when I try the R command :
> > is.loaded(symbol.For("functest")), R returns False.
> > Furthermore, when I try to execute the R function which calls
> > Fortran("functest",...) I've got the following message :
> >  "Error in .Fortran("functest",...) : C/Fortran function name not in
> > load table".
> >
> > If someone has a solution to this problem ....
>
> Use pedump.exe -e to see what your DLL actually exports.  If you generated
> the DLL with a compiler other than our recommended setup, you will
> probably need to use .C not .Fortran.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew at opsi.co.za  Mon Nov 13 17:40:02 2000
From: matthew at opsi.co.za (Matthew Kushner)
Date: Mon, 13 Nov 2000 18:40:02 +0200
Subject: [R] sorting frames
Message-ID: <000a01c04d90$5e83cfe0$967826c4@localdomain>

Can the sort function be used on frames to sort a frame according to a certain numeric attribute?

Much thanks,

Matthew Kushner
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001113/5aaed7db/attachment.html

From thomas at biostat.washington.edu  Mon Nov 13 17:50:40 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 13 Nov 2000 08:50:40 -0800 (PST)
Subject: [R] sorting frames
In-Reply-To: <000a01c04d90$5e83cfe0$967826c4@localdomain>
Message-ID: <Pine.GSO.4.21.0011130850240.22342-100000@atlas.biostat.washington.edu>

On Mon, 13 Nov 2000, Matthew Kushner wrote:

> Can the sort function be used on frames to sort a frame according to a
> certain numeric attribute?
> 

You want to use order()

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tom.likins at icube.com  Mon Nov 13 19:04:29 2000
From: tom.likins at icube.com (Thomas Likins)
Date: Mon, 13 Nov 2000 10:04:29 -0800
Subject: [R] R help for a newby
Message-ID: <4.1.20001113093642.00a5bc10@mailhub>

Hello,

	Yesterday I asked a question about how to read data from a file
that had test numbers in the first column followed by 4 readings. I received
three responses to my question with in an hour. Thanks to all who responded.
After trying out your responses - which seem to work. I noticed that some of
the data had only one or two reading after the test number. 

	My next question: what's the command to fill a matrix with an unknown
value of column data. The nice people who responded to me yesterday used
matrix(scan("data.file"),rcol=5, byrow=TRUE). I would have to imagine the
solution is some variation on this theme. I tried several last night
myself, but 
with no success.  I hope that you will bear with me though  this leaning curve.
I HAVE tried to read the documentation, but there is so much information that
it's some what overwhelming. I'm sure all of you  know how important it
is to be able to succeed in using a new tool to prevent being frustrated and 
giving up prematurely. I am truly in awe over this tool, its power is
amazing.  
I hope you will bear with me as I continue in the mastery of this incredible
tool.

	Thanks for all your help,

	Tom Likins
	



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gbrush at darwin.sfbr.org  Mon Nov 13 22:57:11 2000
From: gbrush at darwin.sfbr.org (Gerry Brush)
Date: Mon, 13 Nov 2000 15:57:11 -0600 (CST)
Subject: [R] Python and R
Message-ID: <200011132157.PAA09458@darwin.sfbr.org>

I've been doing some prototype simulations in Python, and my plan at 
first was to pass the results off to R, but now I would like to make 
more of an integrated use of the R routines.  I'm curious about the 
use of libR.so, but I'm uncertain, still after having looked through 
the documentation 'Embedding R in Other Applications' and 'Writing R 
extensions' how I can use the shared library from Python.  I'd be 
grateful for any pointers.  I'm working with Solaris 7 and Python 
1.5.2.

Gerry Brush


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Nov 13 23:35:29 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 13 Nov 2000 17:35:29 -0500 (EST)
Subject: [R] R help for a newby
In-Reply-To: <4.1.20001113093642.00a5bc10@mailhub>
Message-ID: <Pine.LNX.4.10.10011131723380.19525-100000@bolker.zoo.ufl.edu>


  I don't actually think there's an easy way to do this; an alternate way
might be to reformat your data either with fixed-width fields (read.fwf())
or with separator characters.  If you insist, though, here is a (probably
overly convoluted) way of doing what I think you want.  I would welcome
suggestions for making this more efficient or understandable.

scan.irreg <- function(...) {
  row.lens <- count.fields(...)  # count fields per line
  x <- scan(...)                  # read data into a vector
  maxcol <- max(row.lens)        # largest # of columns
  nrows <- length(row.lens)      # total # of rows
  y <- matrix(nrow=nrows,ncol=maxcol)
  ind1 <- seq(1,length=nrows,by=maxcol)
  ind2 <- cbind(ind1,ind1+row.lens-1)
  ind3 <- unlist(apply(ind2,1,function(x)seq(from=x[1],to=x[2])))
  ty <- t(y)
  ty[ind3] <- x
  t(ty)
}

  Arguably it would be more efficient and more "R-like" (and certainly
easier to code) to return the answers as a list of variable-length
vectors:

scan.irreg2 <- function(...) {
  row.lens <- count.fields(...)  # count fields per line
  x <- scan(...)                  # read data into a vector
  nrows <- length(row.lens)      # total # of rows
  split(x,rep(1:nrows,row.lens))
}

  You can then use apply or sapply to operate on the elements of the list.

On Mon, 13 Nov 2000, Thomas Likins wrote:

> Hello,
> 
> 	Yesterday I asked a question about how to read data from a file
> that had test numbers in the first column followed by 4 readings. I received
> three responses to my question with in an hour. Thanks to all who responded.
> After trying out your responses - which seem to work. I noticed that some of
> the data had only one or two reading after the test number. 
> 
> 	My next question: what's the command to fill a matrix with an unknown
> value of column data. The nice people who responded to me yesterday used
> matrix(scan("data.file"),rcol=5, byrow=TRUE). I would have to imagine the
> solution is some variation on this theme. I tried several last night
> myself, but 
> with no success.  I hope that you will bear with me though  this leaning curve.
> I HAVE tried to read the documentation, but there is so much information that
> it's some what overwhelming. I'm sure all of you  know how important it
> is to be able to succeed in using a new tool to prevent being frustrated and 
> giving up prematurely. I am truly in awe over this tool, its power is
> amazing.  
> I hope you will bear with me as I continue in the mastery of this incredible
> tool.
> 
> 	Thanks for all your help,
> 
> 	Tom Likins
> 	
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kimh at corvu.com.au  Mon Nov 13 23:39:25 2000
From: kimh at corvu.com.au (Kim Horn)
Date: Tue, 14 Nov 2000 09:39:25 +1100
Subject: [R] Alternative to Numerical Recipes
References: <Pine.GSO.4.05.10011130711160.19171-100000@auk.stats>
Message-ID: <3A106D9D.ABF5C721@corvu.com.au>

To avoid any confusion, we wrote our own code from
scratch using the articles as a hint on how to do it. The cost
of this far outways the beuracracy involved.

The sugestion to use translated code (F2C) was for researchers
wanting to use "C" with R. The necessary permissions should
be obtained.

All the best
Kim

-----------------------------------------------------------------------------
Kim Horn
Product Manager Data Mining
Corvu Australia Pty Ltd
Level 4, 1 James Place
North Sydney NSW 2060 Australia
Telephone: 61 2 9959 3522
Facsimile:   61 2 9959 3583
www.corvu.com

C O R V U
MANAGING BUSINESS PERFORMANCE
"Top 100 Emerging Companies to Watch in 2000"
Computerworld, November, 1999
-----------------------------------------------------------------------------



Prof Brian D Ripley wrote:

> On Mon, 13 Nov 2000, Kim Horn wrote:
>
> > We have had problems with licensing with Numerical Recipes.
> > We wanted to use the code in our product but never got a
> > reply from them about licensing. So we built our own.
> > It is a pity that such a resource cannot be used :-)
> >
> > The original algorithms are mostly published in Appl. Statistics
> > journal. You can down load the Fortran code from StatLib web
> > site and then use F2C to translate to C code.
>
> R uses some Appl Statistics algorithms.  They too have conditions, and we
> obtained permission to include code (even translated code) in R.
> >From the Statlib site:
>
>    The Royal Statistical Society holds the copyright to these routines, but
>    has given its permission for their distribution provided that no fee is
>    charged.
>
> R itself is a source of routines for this sort of thing, we
> believe with documented sources, and of course with strong
> usage conditions (GPL).
>
> >
> > The ones I have used are:
> >
> > Algorithm As 109  Appl. Statist. (1977) Vol.26, P.111
> >
> > Algorithm As 63  appl. statist. (1973), vol.22, no.3
> >
> > Natural Log of the Complete Gamma Function
> > Lanczos, C. 'A precision approximation of the gamma
> > function', J. SIAM Numer. Anal., B, 1, 86-96, 1964.
> >
> > All the best
> > Kim
> >
> > -----------------------------------------------------------------------------
> > Kim Horn
> > Product Manager Data Mining
> > Corvu Australia Pty Ltd
> > Level 4, 1 James Place
> > North Sydney NSW 2060 Australia
> > Telephone: 61 2 9959 3522
> > Facsimile:   61 2 9959 3583
> > www.corvu.com
> >
> > C O R V U
> > MANAGING BUSINESS PERFORMANCE
> > "Top 100 Emerging Companies to Watch in 2000"
> > Computerworld, November, 1999
> > -----------------------------------------------------------------------------
> >
> > Clive Jenkins wrote:
> >
> > > Some time ago I mentioned the online version of the book
> > > "Numerical Recipes in C"
> > > http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> > > and inadvertantly stirred up a hornets' nest.
> > > I obtained from this book code to calculate the Incomplete beta
> > > function. It appears in:
> > > 6.4 Incomplete Beta Function, Student?s Distribution, F-Distribution,
> > > Cumulative Binomial Distribution, p.226,
> > > and it calls the log-gamma function that appears in:
> > > 6.1 Gamma, Beta, and Related Functions, p.213.
> > >
> > > I wish to attribute this material to its source, but would prefer to
> > > cite a more "respectable" source than Numerical Recipes. Can anyone
> > > suggest the original source, or a source of something very similar, or a
> > > better place to ask the question?
> > >
> > > Thanks,
> > > Clive Jenkins
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > --
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Nov 13 23:53:10 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 13 Nov 2000 14:53:10 -0800
Subject: [R] Python and R
In-Reply-To: <200011132157.PAA09458@darwin.sfbr.org>
 (Gerry Brush's message of "Mon, 13 Nov 2000 15:57:11 -0600 (CST)")
References: <200011132157.PAA09458@darwin.sfbr.org>
Message-ID: <87pujzxz55.fsf@jeeves.blindglobe.net>


Duncan has a nice start on this, for which I've debugged the
installation :-) (and there are plans by both of us to improve it,
some how). 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 14 01:16:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2000 01:16:16 +0100
Subject: [R] R help for a newby
In-Reply-To: ben@zoo.ufl.edu's message of "Mon, 13 Nov 2000 17:35:29 -0500 (EST)"
References: <Pine.LNX.4.10.10011131723380.19525-100000@bolker.zoo.ufl.edu>
Message-ID: <x24s1bcsrz.fsf@blueberry.kubism.ku.dk>

ben at zoo.ufl.edu writes:

>   I don't actually think there's an easy way to do this; an alternate way
> might be to reformat your data either with fixed-width fields (read.fwf())
> or with separator characters.  

..or add NA values to fill the rows with missing observations.

> If you insist, though, here is a (probably
> overly convoluted) way of doing what I think you want.  I would welcome
> suggestions for making this more efficient or understandable.

In the development version, scan and read.table now have a fill= argument...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ximing at are.berkeley.edu  Tue Nov 14 02:29:32 2000
From: ximing at are.berkeley.edu (ximing)
Date: Mon, 13 Nov 2000 17:29:32 -0800
Subject: [R] import data from splus
Message-ID: <4.3.2.7.2.20001113172706.00ac9560@pop3.spa.norton.antivirus>

hi there,
anybody knows how to import data into R from splus directly? I have a huge 
amount of data in splus format, which will cost forever for me to transform 
the data back to ascii or something else and then read them into R.
thanks a lot.

ximing

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Tue Nov 14 03:12:24 2000
From: jaitchis at lisp.com.au (John Aitchison)
Date: Tue, 14 Nov 2000 13:12:24 +1100
Subject: [R] Alternative to Numerical Recipes
In-Reply-To: <Pine.GSO.4.05.10011130711160.19171-100000@auk.stats>
References: <3A0F24B1.FC76BF42@corvu.com.au>
Message-ID: <200011140212.DAA26009@stat.math.ethz.ch>


On 13 Nov 00, at 7:20, Prof Brian D Ripley wrote:

> On Mon, 13 Nov 2000, Kim Horn wrote:
> 
> > We have had problems with licensing with Numerical Recipes.
> > We wanted to use the code in our product but never got a
> > reply from them about licensing. So we built our own.
> > It is a pity that such a resource cannot be used :-)
> > 
> > The original algorithms are mostly published in Appl. Statistics
> > journal. You can down load the Fortran code from StatLib web
> > site and then use F2C to translate to C code.
> 
> R uses some Appl Statistics algorithms.  They too have conditions, and we
> obtained permission to include code (even translated code) in R. >From the
> Statlib site:
> 
>    The Royal Statistical Society holds the copyright to these routines,
>    but has given its permission for their distribution provided that no
>    fee is charged. 
> 
> R itself is a source of routines for this sort of thing, we
> believe with documented sources, and of course with strong
> usage conditions (GPL).
 
Surely the *algorithms*  themselves are not subject to copyright?  for 
instance if I look up Abramowitz and Stegun and find some suggestion for 
estimating the approximation and then code it myself .. no problem. If I 
look at the original ACM paper for some algorithm and code it myself.. no 
problem. If I look at the APSTAT code to implement some algorithm then 
code it myself  'as inspired by AS241' .. presumably, no problem. If I 
directly translate (using a conversion program) that code to another 
language then perhaps there is a grey area, but then often that translated 
code will need significant modification, so maybe again there is no 
problem.  

It is interesting that no copyright notice appears in the AS code itself : 
I have in front of me AS241  (function PPND7) , just a reference to the
publication. 

It may be that 
"
>    The Royal Statistical Society holds the copyright to these routines,
>    but has given its permission for their distribution provided that no
>    fee is charged. 
"
is intended to apply to the DISTRIBUTION of the raw SOURCE (eg on a CD 
shovelware compilation) and that incorporation into a larger work in 
compiled form would not be an issue of concern to the RSS. 

It seems to me that,at least in practice, widely and freely disseminated 
implementations of algorithms are pretty much inevitably public domain or 
at least that the provenance is so complex that untangling it isn't worth 
the candle. 

I quote from the Cephes readme  

"   Some software in this archive may be from the book _Methods and
Programs for Mathematical Functions_ (Prentice-Hall or Simon & Schuster
International, 1989) or from the Cephes Mathematical Library, a
commercial product. In either event, it is copyrighted by the author.
What you see here may be used freely but it comes with no support or
guarantee.

snip

   Stephen L. Moshier
   moshier at na-net.ornl.gov
"
most of the source contains comments like 
/* Cephes Math Library Release 2.8:  June, 2000
Copyright 1984, 1987, 1995, 2000 by Stephen L. Moshier
*/

but it is clear that a) (at least some of)  the copyright is unclear b) 
the putative copyright owner gives you permission to 'use freely'.  

I have not looked in depth at GPL'd mathematical/statistical code eg in 
GSL, but it seems probable that much of this is a 'port' of earlier work 
rather than 'completely original' code, thus calling into question the 
validity of the GPL if there exists copyright over the earlier work.


imho, these issues of licensing of fundamental algorithms and the 
expression/implementation of those, should NOT arise and need not arise.

It seems very arguable that the authors of various AS algorithms intended 
to place those algorithms and the expressions thereof in the public 
domain. I think it likely that Press et al ('Numerical Recipes') had the 
same intent .. here is the cookbook (based on other people's work : the 
shoulders of giants, if you will), use it at your own risk .. ok. 


Most implementations of algorithms are in the context of a larger work : 
imo, licensing is irrelevant, 'copyright' also (not so if you attempt to 
make money with a thin wrapper around an extant body of work).

fwiw


As an aside, it seems that the default 'reply to' address for this list is 
set to the sender, rather than the list .(I am using Pegasus, not that it 
should matter). Is there a reason for this? (probably in the FAQ somewhere 
<g>).

John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 14 08:22:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Nov 2000 07:22:09 +0000 (GMT)
Subject: [R] import data from splus
In-Reply-To: <4.3.2.7.2.20001113172706.00ac9560@pop3.spa.norton.antivirus>
Message-ID: <Pine.GSO.4.05.10011140719270.10002-100000@auk.stats>

On Mon, 13 Nov 2000, ximing wrote:

> anybody knows how to import data into R from splus directly? I have a huge 
> amount of data in splus format, which will cost forever for me to transform 
> the data back to ascii or something else and then read them into R.

If that really will cost forever, then I think any route will take a long
time (and perhaps let that be a lesson not to store data in a proprietary
format).

You may find that the function readSdata in package Rstreams helps.
The normal route is to dump in S-PLUS and source in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Nov 14 08:42:53 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 14 Nov 2000 08:42:53 +0100 (CET)
Subject: [R] import data from splus
In-Reply-To: <4.3.2.7.2.20001113172706.00ac9560@pop3.spa.norton.antivirus>
Message-ID: <Pine.LNX.4.21.0011140837500.661-100000@ligges.statistik.uni-dortmund.de>




On Mon, 13 Nov 2000, ximing wrote:

> hi there,
> anybody knows how to import data into R from splus directly? I have a huge 
> amount of data in splus format, which will cost forever for me to transform 
> the data back to ascii or something else and then read them into R.
> thanks a lot.

There's a nice function readSfile() in the Rstreams package, available at
CRAN.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Tue Nov 14 12:33:05 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Tue, 14 Nov 2000 12:33:05 +0100
Subject: [R] how to get variables from hist?
Message-ID: <3A1122F0.7E1B8301@info.univ-angers.fr>

hello,
my question concerns how to get variables from hist function?
pp is some variable
>hist(pp)     #gives the histogram of pp
>str(hist(pp))    #gives 4 variables  which values are for example
$breaks  :  num[1..18] 5 10 15 20 25 ...
$counts   :  int[1..17] 1215    19381    47721 ...
$ intensities :  num [1..17]   0.00243    0.03876    0.09544 ...
$mids        : num[1..17]   7.5  12.5   17.5  22.5 ...

I want to  plot intensities against mids for example
what I need is to get intensities and mids  as variables to be able to
use plot function.

thank you for help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Nov 14 12:57:26 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 14 Nov 2000 12:57:26 +0100
Subject: [R] atlas for R1.1.1 and R1.2 different?
Message-ID: <3A1128A6.3A323A8@physik.uni-marburg.de>

Dear R'ers,

when I e.g. install the integrate2.2-2 package under R1.1.1 (debian2.2)
atlas is linked into the library:


Installing package `integrate' ...
 libs
gcc -shared -lc -shared  -o
/usr/lib/R/library/integrate/libs/integrate.so adapt.o adapt_callback.o
bsrl.o flfm.o nxprt.o symrl.o wht.o -L/usr/local/lib  -lf77blas -lcblas
-latlas  -lg2c -lm -L/usr/lib/gcc-lib/i386-linux/2.95.2 -lm
 R


...however, for R1.2.0 (snapshot ~3 days ago) it looks different:
Installing package `integrate' ...
 libs
gcc -shared  -o integrate.so adapt.o adapt_callback.o bsrl.o flfm.o
nxprt.o symrl.o wht.o -L/usr/local/lib  -lg2c -lm
-L/usr/lib/gcc-lib/i386-linux/2.95.2 -lm
 R

I ask because integrate behaves differently for both R-versions.
  Marcus

--
+-------------------------------------------------------
| Marcus Eger
+--------------------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Tue Nov 14 13:01:33 2000
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Tue, 14 Nov 2000 13:01:33 +0100 (MET)
Subject: [R] how to get variables from hist?
In-Reply-To: <3A1122F0.7E1B8301@info.univ-angers.fr>
Message-ID: <Pine.OSF.4.21.0011141255060.7895-100000@arnold.math.ku.dk>

On Tue, 14 Nov 2000, Meriema Belaidouni wrote:

> hello,
> my question concerns how to get variables from hist function?
> pp is some variable
> >hist(pp)     #gives the histogram of pp
> >str(hist(pp))    #gives 4 variables  which values are for example
> $breaks  :  num[1..18] 5 10 15 20 25 ...
> $counts   :  int[1..17] 1215    19381    47721 ...
> $ intensities :  num [1..17]   0.00243    0.03876    0.09544 ...
> $mids        : num[1..17]   7.5  12.5   17.5  22.5 ...
>
> I want to  plot intensities against mids for example
> what I need is to get intensities and mids  as variables to be able to
> use plot function.
>

Try something like;

> x<-rnorm(1000)
> x.hist<-hist(x, plot=F) #now the histogram is stored in x.hist
> x.hist
$breaks
[1] -4 -3 -2 -1  0  1  2  3  4

$counts
[1]   1  24 143 333 338 137  22   2

$intensities
[1] 0.001 0.024 0.143 0.333 0.338 0.137 0.022 0.002

$mids
[1] -3.5 -2.5 -1.5 -0.5  0.5  1.5  2.5  3.5

> plot(x.hist$mids, x.hist$intensities)


(See also ?density)

Anders 
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From samir.mishra at norkom.com  Tue Nov 14 13:05:41 2000
From: samir.mishra at norkom.com (Samir Mishra)
Date: Tue, 14 Nov 2000 12:05:41 -0000
Subject: [R] ODBC Connectivity
Message-ID: <91F6EFDA767FD411955100508BDCDD0936E94A@EXDUB02>

Does anyone have any experience using R to pull/push data from an ODBC
compliant database? I'm working on a small project and am undecided about
whether to use just R or use some other software for extracting and
transforming.

TIA

Samir.


The information contained in this e-mail transmission is confidential and may 
be privileged. It is intended only for the addressee(s) stated above.  If you 
are not an addressee, any use, dissemination, distribution, publication, or 
copying of the information contained in this e-mail is strictly prohibited.  If you 
have received this e-mail in error, please immediately notify our IT Department 
by telephone at 353-1-6769333 or e-mail mail.sweeper at norkom.com and
delete the e-mail from your system.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 14 13:29:46 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2000 06:29:46 -0600
Subject: [R] atlas for R1.1.1 and R1.2 different?
In-Reply-To: Marcus Eger's message of "Tue, 14 Nov 2000 12:57:26 +0100"
References: <3A1128A6.3A323A8@physik.uni-marburg.de>
Message-ID: <6r1ywe68jp.fsf@franz.stat.wisc.edu>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> when I e.g. install the integrate2.2-2 package under R1.1.1 (debian2.2)
> atlas is linked into the library:
> 
> 
> Installing package `integrate' ...
>  libs
> gcc -shared -lc -shared  -o
> /usr/lib/R/library/integrate/libs/integrate.so adapt.o adapt_callback.o
> bsrl.o flfm.o nxprt.o symrl.o wht.o -L/usr/local/lib  -lf77blas -lcblas
> -latlas  -lg2c -lm -L/usr/lib/gcc-lib/i386-linux/2.95.2 -lm
>  R
> 
> 
> ...however, for R1.2.0 (snapshot ~3 days ago) it looks different:
> Installing package `integrate' ...
>  libs
> gcc -shared  -o integrate.so adapt.o adapt_callback.o bsrl.o flfm.o
> nxprt.o symrl.o wht.o -L/usr/local/lib  -lg2c -lm
> -L/usr/lib/gcc-lib/i386-linux/2.95.2 -lm
>  R
> 
> I ask because integrate behaves differently for both R-versions.

I don't think the presence or absence of atlas should affect the
results from integrate.  The atlas library is an enhanced, faster
version of the basic linear algebra subroutines (blas) and a few of
the lapack subroutines.  Unless the C code in integrate is calling
these subroutines explicitly, atlas should not affect the results.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Nov 14 13:44:36 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 14 Nov 2000 13:44:36 +0100
Subject: [R] atlas for R1.1.1 and R1.2 different?
References: <3A1128A6.3A323A8@physik.uni-marburg.de> <6r1ywe68jp.fsf@franz.stat.wisc.edu>
Message-ID: <3A1133B4.7E7EBC5A@physik.uni-marburg.de>

Douglas Bates wrote:

> I don't think the presence or absence of atlas should affect the
> results from integrate.  The atlas library is an enhanced, faster
> version of the basic linear algebra subroutines (blas) and a few of
> the lapack subroutines.  Unless the C code in integrate is calling
> these subroutines explicitly, atlas should not affect the results.

An example for the different behaviour is the following:

"prds" <-  function (s,r,sn=1)
1/(pi*sqrt(1-s^2))/(sqrt(2*pi)*sn)*exp(-(r-s)^2/(2*sn^2))


UNDER R1.2:
===========
> integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
        value        relerr        minpts        lenwrk         ifail
2.735080e-269   7.38275e-08           165            73             0
>


UNDER R.1.1:
============
> integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
      value      relerr      minpts      lenwrk       ifail
  0.3146147 0.009182386        1023         283           0

.... which makes more sense.
I'm wondering why the same integrate package under R1.1.1 uses atlas,
but under R1.2 it doesn't.

   Marcus


--
+-------------------------------------------------------
| Marcus Eger
+--------------------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 14 13:58:13 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2000 06:58:13 -0600
Subject: [R] atlas for R1.1.1 and R1.2 different?
In-Reply-To: Marcus Eger's message of "Tue, 14 Nov 2000 13:44:36 +0100"
References: <3A1128A6.3A323A8@physik.uni-marburg.de> <6r1ywe68jp.fsf@franz.stat.wisc.edu> <3A1133B4.7E7EBC5A@physik.uni-marburg.de>
Message-ID: <6rr94e4snu.fsf@franz.stat.wisc.edu>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Douglas Bates wrote:
> 
> > I don't think the presence or absence of atlas should affect the
> > results from integrate.  The atlas library is an enhanced, faster
> > version of the basic linear algebra subroutines (blas) and a few of
> > the lapack subroutines.  Unless the C code in integrate is calling
> > these subroutines explicitly, atlas should not affect the results.
> 
> An example for the different behaviour is the following:
> 
> "prds" <-  function (s,r,sn=1)
> 1/(pi*sqrt(1-s^2))/(sqrt(2*pi)*sn)*exp(-(r-s)^2/(2*sn^2))
> 
> 
> UNDER R1.2:
> ===========
> > integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
>         value        relerr        minpts        lenwrk         ifail
> 2.735080e-269   7.38275e-08           165            73             0
> >
> 
> 
> UNDER R.1.1:
> ============
> > integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
>       value      relerr      minpts      lenwrk       ifail
>   0.3146147 0.009182386        1023         283           0
> 
> .... which makes more sense.
> I'm wondering why the same integrate package under R1.1.1 uses atlas,
> but under R1.2 it doesn't.

On a Debian 2.2 system running yesterday's snapshot of R-1.2.0 I get

> library(integrate)
> "prds" <-  function (s,r,sn=1)
+ 1/(pi*sqrt(1-s^2))/(sqrt(2*pi)*sn)*exp(-(r-s)^2/(2*sn^2))
> integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
      value      relerr      minpts      lenwrk       ifail 
  0.3146147 0.009182386        1023         283           0 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov 14 14:00:43 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 14 Nov 2000 08:00:43 -0500
Subject: [R] how to get variables from hist?
References: <3A1122F0.7E1B8301@info.univ-angers.fr>
Message-ID: <05a601c04e3a$e5f80400$0201a8c0@Workgroup>

hist.vars <- hist(...)

Just assign it, simple enough.

YG

----- Original Message -----
From: "Meriema Belaidouni" <meriema at info.univ-angers.fr>
To: <r-help at lists.R-project.org>
Sent: Tuesday, November 14, 2000 6:33 AM
Subject: [R] how to get variables from hist?


> hello,
> my question concerns how to get variables from hist function?
> pp is some variable
> >hist(pp)     #gives the histogram of pp
> >str(hist(pp))    #gives 4 variables  which values are for example
> $breaks  :  num[1..18] 5 10 15 20 25 ...
> $counts   :  int[1..17] 1215    19381    47721 ...
> $ intensities :  num [1..17]   0.00243    0.03876    0.09544 ...
> $mids        : num[1..17]   7.5  12.5   17.5  22.5 ...
>
> I want to  plot intensities against mids for example
> what I need is to get intensities and mids  as variables to be able to
> use plot function.
>
> thank you for help
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 14 14:10:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 14 Nov 2000 13:10:44 +0000 (GMT)
Subject: [R] ODBC Connectivity
Message-ID: <200011141310.NAA04137@toucan.stats.ox.ac.uk>

> From: Samir Mishra <samir.mishra at norkom.com>
> Date: Tue, 14 Nov 2000 12:05:41 -0000
> 
> Does anyone have any experience using R to pull/push data from an ODBC
> compliant database? I'm working on a small project and am undecided about
> whether to use just R or use some other software for extracting and
> transforming.

I've been using it quite a bit recently (and there's a new manual
on `R Data Import/Export' being written for 1.2.0 that you can see a draft of
at http://developer.r-project.org/R-data.pdf, and also an early
manual based on MySQL there).

The RODBC package seems to have quite a number of users. There's a
reported bug on R-bugs with data frames with NAs in that might be worth
knowing about.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From samir.mishra at norkom.com  Tue Nov 14 14:09:04 2000
From: samir.mishra at norkom.com (Samir Mishra)
Date: Tue, 14 Nov 2000 13:09:04 -0000
Subject: [R] ODBC Connectivity
Message-ID: <91F6EFDA767FD411955100508BDCDD0936E94C@EXDUB02>

I'm working with that package it at the moment. My question was more to try
and understand issues of reliability and performance. BTW I'm working on a
Win NT platform.


-----Original Message-----
From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
Sent: Tuesday, November 14, 2000 12:55 PM
To: Samir Mishra
Subject: Re: [R] ODBC Connectivity


On Tue, 14 Nov 2000, Samir Mishra wrote:

> Does anyone have any experience using R to pull/push data from an ODBC
> compliant database? I'm working on a small project and am undecided about
> whether to use just R or use some other software for extracting and
> transforming.

Have a look at the package RODBC.

Uwe Ligges


> The information contained in this e-mail transmission is confidential and
may 
> be privileged. It is intended only for the addressee(s) stated above.  If
you 
> are not an addressee, any use, dissemination, distribution, publication,
or 
> copying of the information contained in this e-mail is strictly
prohibited.  If you 
> have received this e-mail in error, please immediately notify our IT
Department 
> by telephone at 353-1-6769333 or e-mail mail.sweeper at norkom.com and
> delete the e-mail from your system.

PS: Why did you send this nonsense?

--- Sorry about the 'nonsense' My company's email system adds it on to every
email There'll probably be another one generated for this email too. It's
embarrassing.


The information contained in this e-mail transmission is confidential and may 
be privileged. It is intended only for the addressee(s) stated above.  If you 
are not an addressee, any use, dissemination, distribution, publication, or 
copying of the information contained in this e-mail is strictly prohibited.  If you 
have received this e-mail in error, please immediately notify our IT Department 
by telephone at 353-1-6769333 or e-mail mail.sweeper at norkom.com and
delete the e-mail from your system.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 14 14:16:41 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2000 14:16:41 +0100
Subject: [R] atlas for R1.1.1 and R1.2 different?
In-Reply-To: Douglas Bates's message of "14 Nov 2000 06:58:13 -0600"
References: <3A1128A6.3A323A8@physik.uni-marburg.de> <6r1ywe68jp.fsf@franz.stat.wisc.edu> <3A1133B4.7E7EBC5A@physik.uni-marburg.de> <6rr94e4snu.fsf@franz.stat.wisc.edu>
Message-ID: <x2k8a6vgli.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> On a Debian 2.2 system running yesterday's snapshot of R-1.2.0 I get
> 
> > library(integrate)
> > "prds" <-  function (s,r,sn=1)
> + 1/(pi*sqrt(1-s^2))/(sqrt(2*pi)*sn)*exp(-(r-s)^2/(2*sn^2))
> > integrate(prds, -1,+1,minpts=100,maxpts=NULL,eps=0.01,r=0)
>       value      relerr      minpts      lenwrk       ifail 
>   0.3146147 0.009182386        1023         283           0 

Ditto with RH6.2 

linked with 

gcc -shared  -o integrate.so adapt.o adapt_callback.o bsrl.o flfm.o nxprt.o symrl.o wht.o -L/usr/local/lib  -lg2c -lm -L/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66 -L/usr/i386-redhat-linux/lib -lm

[but I wonder how -L/usr/local/lib got into my LIBPATHS...]
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov 14 14:56:31 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 14 Nov 2000 08:56:31 -0500
Subject: [R] ODBC Connectivity
References: <91F6EFDA767FD411955100508BDCDD0936E94A@EXDUB02>
Message-ID: <05b001c04e42$b1b856b0$0201a8c0@Workgroup>

I've tried RODBC on both SQL Server and Access databases only to read in
some data. I think especially if the size of your data sets is relatively
small then RODBC will do the job. The only complaint I would have is the
speed at which it runs but again this is a generic tool, it is flexible
enough and relatively efficient for all the work it does. If you have
particular needs and speed is critical then you would probably want
something faster.

Hope this helps

YG


----- Original Message -----
From: "Samir Mishra" <samir.mishra at norkom.com>
To: "R-Help (E-mail)" <r-help at lists.R-project.org>
Sent: Tuesday, November 14, 2000 7:05 AM
Subject: [R] ODBC Connectivity


> Does anyone have any experience using R to pull/push data from an ODBC
> compliant database? I'm working on a small project and am undecided about
> whether to use just R or use some other software for extracting and
> transforming.
>
> TIA
>
> Samir.
>
>
> The information contained in this e-mail transmission is confidential and
may
> be privileged. It is intended only for the addressee(s) stated above.  If
you
> are not an addressee, any use, dissemination, distribution, publication,
or
> copying of the information contained in this e-mail is strictly
prohibited.  If you
> have received this e-mail in error, please immediately notify our IT
Department
> by telephone at 353-1-6769333 or e-mail mail.sweeper at norkom.com and
> delete the e-mail from your system.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Nov 14 14:56:52 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 14 Nov 2000 14:56:52 +0100
Subject: [R] atlas for R1.1.1 and R1.2 different?
In-Reply-To: <3A1133B4.7E7EBC5A@physik.uni-marburg.de>
References: <3A1128A6.3A323A8@physik.uni-marburg.de>
	<6r1ywe68jp.fsf@franz.stat.wisc.edu>
	<3A1133B4.7E7EBC5A@physik.uni-marburg.de>
Message-ID: <14865.17572.984099.576172@mithrandir.hornik.net>

>>>>> Marcus Eger writes:

> Douglas Bates wrote:
>> I don't think the presence or absence of atlas should affect the
>> results from integrate.  The atlas library is an enhanced, faster
>> version of the basic linear algebra subroutines (blas) and a few of
>> the lapack subroutines.  Unless the C code in integrate is calling
>> these subroutines explicitly, atlas should not affect the results.

> An example for the different behaviour is the following:

> ...
> I'm wondering why the same integrate package under R1.1.1 uses atlas,
> but under R1.2 it doesn't.

The configure detection of fast BLAS libraries is different between
these versions, but I don't think that this is the reason.

I suspect that your R 1.1.1 is from a .deb file which requires package
atlas2, and the R 1.2.0 is compiled from source but cannot find atlas
(look at config.log) because package atlas2-dev is not installed.

Bingo?

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Nov 14 15:35:17 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 14 Nov 2000 15:35:17 +0100
Subject: [R] atlas for R1.1.1 and R1.2 different?
References: <3A1128A6.3A323A8@physik.uni-marburg.de> <6r1ywe68jp.fsf@franz.stat.wisc.edu> <3A1133B4.7E7EBC5A@physik.uni-marburg.de> <6rr94e4snu.fsf@franz.stat.wisc.edu> <x2k8a6vgli.fsf@blueberry.kubism.ku.dk> <3A11460C.A162B60C@physik.uni-marburg.de> <x26
Message-ID: <3A114DA5.B3AACF77@physik.uni-marburg.de>

Bingo, before I tried to install R1.2.0 I installed integrate2.2.2 which
indeed needed atlas2-dev. R1.1.1 went smoothly, and also did R1.2.0,
until I reinstalled integrate2.2.2 which - I did not know - was
already shipped with R1.2.0.

   Marcus

ps. to Peter Daalgard:  I installed R1.2.0 and R1.1.1 in different
directories
and even removed the old installation before doing a make install again...


Kurt Hornik wrote:

> I suspect that your R 1.1.1 is from a .deb file which requires package
> atlas2, and the R 1.2.0 is compiled from source but cannot find atlas
> (look at config.log) because package atlas2-dev is not installed.
>
> Bingo?

Peter Dalgaard BSA wrote:

> Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:
>
> > I guess I know where the problem comes from...
> > I reinstalled integrate2.2.2 not knowing that integrate was already
> > contained in R1.2.0. Doing a make install of R1.2.0 solved the problem.
>
> Er? It isn't...
>
> I did install.packages('integrate') from inside R. However, if you
> were loading an older .so file, which was linked against atlas into an
> R which wasn't, you might get into trouble.... Conversely, make
> install may cause you to install R on top of your old R 1.1 and get
> you your *previous* integrate.so. So I'd try reinstalling the
> integrate package before claiming success!

--
+-------------------------------------------------------
| Marcus Eger
+--------------------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001114/da7c57df/attachment.html

From dj at research.bell-labs.com  Tue Nov 14 16:04:42 2000
From: dj at research.bell-labs.com (David James)
Date: Tue, 14 Nov 2000 10:04:42 -0500 (EST)
Subject: [R] import data from splus
Message-ID: <200011141504.KAA25758@jessie.research.bell-labs.com>

hi,

I have a somewhat similar problem.  I also need to move huge, somewhat
complicated objects from Splus5 to R.  I need data.restore() in R 
(in my case it should be S4/Splus5 aware).

I took a quick look at the Rstream manual, but I didn't see anything that
I could easily use/modify for this problem (right?).

Is there something out there I could use, or will data.dump()/data.restore()
need to be written for R? (BTW I think this is not an R issue per se, but
rather an R-S interface issue -- it is a fact that most of my collaborators
use Splus.)

For the record,
> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    2.0                         
year     2000                        
month    11                          
day      08                          
language R                           
> 

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636



------------- Begin Forwarded Message -------------

> Date: Tue, 14 Nov 2000 07:22:09 +0000 (GMT)
> > : ximing <ximing at are.berkeley.edu>
cc: r-help at stat.math.ethz.ch
Subject: Re: [R] import data from splus
MIME-Version: 1.0

On Mon, 13 Nov 2000, ximing wrote:

> anybody knows how to import data into R from splus directly? I have a huge 
> amount of data in splus format, which will cost forever for me to transform 
> the data back to ascii or something else and then read them into R.

If that really will cost forever, then I think any route will take a long
time (and perhaps let that be a lesson not to store data in a proprietary
format).

You may find that the function readSdata in package Rstreams helps.
The normal route is to dump in S-PLUS and source in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


------------- End Forwarded Message -------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Tue Nov 14 16:06:19 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Tue, 14 Nov 2000 16:06:19 +0100
Subject: [R] 2 plots 1 figure
Message-ID: <3A1154EA.43AC645E@info.univ-angers.fr>

How do you obtain two plots on the same figure?
for example
plot(rnorm(100)
plot(rnorm(100),type="l")

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 14 16:45:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 14 Nov 2000 15:45:48 +0000 (GMT)
Subject: [R] import data from splus
In-Reply-To: <200011141504.KAA25758@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.05.10011141541001.4622-100000@toucan.stats>

On Tue, 14 Nov 2000, David James wrote:

> hi,
> 
> I have a somewhat similar problem.  I also need to move huge, somewhat
> complicated objects from Splus5 to R.  I need data.restore() in R 
> (in my case it should be S4/Splus5 aware).
> 
> I took a quick look at the Rstream manual, but I didn't see anything that
> I could easily use/modify for this problem (right?).

readSfile could be modified (see later).

> Is there something out there I could use, or will data.dump()/data.restore()
> need to be written for R? (BTW I think this is not an R issue per se, but
> rather an R-S interface issue -- it is a fact that most of my collaborators
> use Splus.)

We are hoping to have a data.restore() S3-style.  Duncan Murdoch has
been working on one, hit a snag with blank lines that R-devel solves
(via readLines or even scan now).  (Duncan: where is this at?)

Our problem is that the only firm information we have is on S3-style dump
format, and that for vector and list objects with attributes.  If anyone
can extend this to a description of what S4 uses, we could maybe go
further.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Tue Nov 14 17:22:48 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Tue, 14 Nov 2000 17:22:48 +0100
Subject: [R] 2 plots 1 figure
References: <Pine.LNX.4.21.0011141707060.1608-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <3A1166D7.480B84D0@info.univ-angers.fr>




In fact my question is more general perhaps this example is better
 x and y are some variables

hist(x)
hist(y)

my question is how one can get both histograms in the same figure so that they can
cross each others.

This command exist under matlab it is hold on.



Torsten Hothorn a ?crit:

> On Tue, 14 Nov 2000, Meriema Belaidouni wrote:
>
> > How do you obtain two plots on the same figure?
> > for example
> > plot(rnorm(100)
> > plot(rnorm(100),type="l")
>
> Does
>
> x <- rnorm(100)
> plot(x)
> lines(x)                # or/and ...
> points(x, pch=5)
>
> do what you want?
>
> Torsten
>
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Tue Nov 14 17:35:43 2000
From: meriema at info.univ-angers.fr (Meriema Belaidouni)
Date: Tue, 14 Nov 2000 17:35:43 +0100
Subject: [R] to superimpose
Message-ID: <3A1169DE.ADAD92FE@info.univ-angers.fr>

Hello,

if I superimpose a circle and a cross I obtain a cross in a circle.

My question is how to superimpose two figures obtained with hist for
example

This command is called "hold on" in matlab

thank you for help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Tue Nov 14 17:49:03 2000
From: stecalza at tiscalinet.it (Stefano Calza)
Date: Tue, 14 Nov 2000 17:49:03 +0100
Subject: [R] library doubt
Message-ID: <3A116CFF.9B11D1A8@tiscalinet.it>

Hi all.

I'm trying to install the packages Rstreams and RPgSQL, but with no
success.
I did R INSTALL name package but if I try library(Rstreams) I get the
following error:

Error in library.dynam("Rstreams",pkg,lib):
	dynamic library 'Rstreams' not found
Error in library(Rstreams): .First.lib failed

Where did I go wrong? I'm using R 1-1-1 on a Debian GNU/Linux box.

Thank you,
Stefano
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov 14 17:54:34 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 14 Nov 2000 08:54:34 -0800 (PST)
Subject: [R] atlas for R1.1.1 and R1.2 different?
In-Reply-To: <3A1133B4.7E7EBC5A@physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.21.0011140850520.6597-100000@atlas.biostat.washington.edu>

On Tue, 14 Nov 2000, Marcus Eger wrote:
> I'm wondering why the same integrate package under R1.1.1 uses atlas,
> but under R1.2 it doesn't.
> 

The integrate package never uses atlas. The linker uses atlas under 1.1.1
because R does. This would allow integrate to use atlas if it wanted
to. It doesn't.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Nov 14 18:02:32 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 14 Nov 2000 12:02:32 -0500
Subject: [R] import data from splus
In-Reply-To: <200011141504.KAA25758@jessie.research.bell-labs.com>
References: <200011141504.KAA25758@jessie.research.bell-labs.com>
Message-ID: <3a126e01.92531913@fisher.stats.uwo.ca>

On Tue, 14 Nov 2000 10:04:42 -0500 (EST), you wrote in message
<200011141504.KAA25758 at jessie.research.bell-labs.com>:

>hi,
>
>I have a somewhat similar problem.  I also need to move huge, somewhat
>complicated objects from Splus5 to R.  I need data.restore() in R 
>(in my case it should be S4/Splus5 aware).

That may not be very easy at all.  There are differences between the
ways that R and S construct expressions and formulas; to work at the
level of the binary files or of data.dump, you'd need to first of all
understand how S stored expressions and translate that into the way R
stores them.

Why not just use "dump" and "source"?  They are more robust, because
they use the human-readable formats which are more often consistent
between the two systems.

>
>I took a quick look at the Rstream manual, but I didn't see anything that
>I could easily use/modify for this problem (right?).

I tried writing data.restore, and quit when I found there's no way to
read a blank line into a vector of strings.  You have to go to
external code, and that was just too much trouble at the time.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 14 18:34:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 14 Nov 2000 17:34:52 +0000 (GMT)
Subject: [R] library doubt
In-Reply-To: <3A116CFF.9B11D1A8@tiscalinet.it>
Message-ID: <Pine.GSO.4.05.10011141732340.4898-100000@toucan.stats>

On Tue, 14 Nov 2000, Stefano Calza wrote:

> Hi all.
> 
> I'm trying to install the packages Rstreams and RPgSQL, but with no
> success.

Did the configure work?  Looks like the .so was not made, and both
packages have configure scripts.

> I did R INSTALL name package but if I try library(Rstreams) I get the
> following error:
> 
> Error in library.dynam("Rstreams",pkg,lib):
> 	dynamic library 'Rstreams' not found
> Error in library(Rstreams): .First.lib failed
> 
> Where did I go wrong? I'm using R 1-1-1 on a Debian GNU/Linux box.

I believe that Debian users at TU Wien have successfully installed both.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 14 18:33:29 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 14 Nov 2000 12:33:29 -0500 (EST)
Subject: [R] 2 plots 1 figure
In-Reply-To: <3A1154EA.43AC645E@info.univ-angers.fr>
Message-ID: <Pine.LNX.4.30.0011141231400.27311-100000@bolker.zoo.ufl.edu>


  Do you want two plots plotted on top of each other (use par(new=TRUE))
or next two each other (par(mfrow=c(2,1)) or par(mfcol=c(2,1)))?

On Tue, 14 Nov 2000, Meriema Belaidouni wrote:

> How do you obtain two plots on the same figure?
> for example
> plot(rnorm(100)
> plot(rnorm(100),type="l")
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Tue Nov 14 18:49:42 2000
From: stecalza at tiscalinet.it (Stefano Calza)
Date: Tue, 14 Nov 2000 18:49:42 +0100
Subject: [R] library doubt
References: <3A116CFF.9B11D1A8@tiscalinet.it> <6rr94efos6.fsf@franz.stat.wisc.edu>
Message-ID: <3A117B36.394AF482@tiscalinet.it>

I tried both but with success, that is 

> library("Rstreams", lib.loc="/usr/lib/R/library")

I did the same with xgobi package and everything works fine.

Thank you anyway.

Stefano

Douglas Bates wrote:
> 
> Stefano Calza <stecalza at tiscalinet.it> writes:
> 
> > Hi all.
> >
> > I'm trying to install the packages Rstreams and RPgSQL, but with no
> > success.
> > I did R INSTALL name package but if I try library(Rstreams) I get the
> > following error:
> >
> > Error in library.dynam("Rstreams",pkg,lib):
> >       dynamic library 'Rstreams' not found
> > Error in library(Rstreams): .First.lib failed
> >
> > Where did I go wrong? I'm using R 1-1-1 on a Debian GNU/Linux box.
> 
> Try just
> 
> library("Rstreams")
> 
> or
> 
> library("Rstreams", lib.loc = "/path/to/my/local/libraries/")

-- 
***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Tue Nov 14 19:03:19 2000
From: stecalza at tiscalinet.it (Stefano Calza)
Date: Tue, 14 Nov 2000 19:03:19 +0100
Subject: [R] library doubt
References: <Pine.GSO.4.05.10011141732340.4898-100000@toucan.stats>
Message-ID: <3A117E67.11B60135@tiscalinet.it>

Well, I did this:
./configure (and everything looks fine)
R INSTALL RPgSQL and actually I got these errors:

/usr/bin/ld: cannot find -lf77blas
collect2: ld returned 1 exit status
make *** [/usr/lib/R/library/RPgSQL/libs/RPgSQL.so] Error 1

So it seems  you are right, but where's the mistake?

Thanks
Stefano

-- 
***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Nov 14 19:19:03 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 14 Nov 2000 19:19:03 +0100 (MET)
Subject: [R] 2 plots 1 figure
In-Reply-To: <3A1166D7.480B84D0@info.univ-angers.fr>
Message-ID: <Pine.OSF.4.30.0011141853150.22777-100000@alnair.uio.no>

On Tue, 14 Nov 2000, Meriema Belaidouni wrote:

>In fact my question is more general perhaps this example is better
> x and y are some variables
>
>hist(x)
>hist(y)

I've hacked up something that does this, it's undocumented, not
extensively tested, and is not very elegant, but it works for my
purpose, and I guess it might work for your purpose too. The
easiest way to get it, including my comments, is to look in Roberts
R-devel-archives, here:
<URL:http://www.ens.gu.edu.au/robertk/R/devel/00b/0024.html>

After evaluating this code, what you would do to use it is:
hist(x)
lines(hist(y, plot=FALSE))

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 14 19:23:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2000 12:23:29 -0600
Subject: [R] library doubt
In-Reply-To: Stefano Calza's message of "Tue, 14 Nov 2000 19:03:19 +0100"
References: <Pine.GSO.4.05.10011141732340.4898-100000@toucan.stats> <3A117E67.11B60135@tiscalinet.it>
Message-ID: <6ritpqfm5a.fsf@franz.stat.wisc.edu>

Stefano Calza <stecalza at tiscalinet.it> writes:

> Well, I did this:
> ./configure (and everything looks fine)
> R INSTALL RPgSQL and actually I got these errors:
> 
> /usr/bin/ld: cannot find -lf77blas
> collect2: ld returned 1 exit status
> make *** [/usr/lib/R/library/RPgSQL/libs/RPgSQL.so] Error 1
> 
> So it seems  you are right, but where's the mistake?

Install the Debian package atlas2-dev.

There is now a Debian package r-base-dev_1.1.1-2_all.deb on the CRAN
archives that you should install if you want to be sure of being able
to compile add-on packages.  The r-base-dev package does not contain
any programs or libraries but it forces the correct dependencies on
other packages so you can compile other code to add to R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 14 19:53:12 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 14 Nov 2000 13:53:12 -0500 (EST)
Subject: [R] 2 plots 1 figure
In-Reply-To: <3A1166D7.480B84D0@info.univ-angers.fr>
Message-ID: <Pine.LNX.4.30.0011141315160.27836-100000@bolker.zoo.ufl.edu>


  par(new=TRUE) will do this but probably isn't what you want unless you
set xlim and ylim so that the graphs are on exactly the same scale.  It
might be better to save the output from the two hist() calls and
then use

x <- rnorm(100)
y <- rnorm(100)
h <- hist(x,xlim=c(-3,3),ylim=c(0,20),
        breaks=seq(-3,3,length=30),col="blue")
par(new=TRUE)
hist(y,xlim=c(-3,3),ylim=c(0,20),breaks=h$breaks,ann=FALSE,col="red")

but it might be better to use barplot() to put the histograms side by
side:

barplot(rbind(h$counts,h2$counts),beside=TRUE)

  In the newer versions of R hist() is a little bit more flexible,
returning an object of type "histogram":  eventually it might be worth
writing a "multihist" type as well, since this comparison of distributions
is something that people want to do a lot in exploratory data analysis.

On Tue, 14 Nov 2000, Meriema Belaidouni wrote:

>
>
>
> In fact my question is more general perhaps this example is better
>  x and y are some variables
>
> hist(x)
> hist(y)
>
> my question is how one can get both histograms in the same figure so that they can
> cross each others.
>
> This command exist under matlab it is hold on.
>
>
>
> Torsten Hothorn a ?crit:
>
> > On Tue, 14 Nov 2000, Meriema Belaidouni wrote:
> >
> > > How do you obtain two plots on the same figure?
> > > for example
> > > plot(rnorm(100)
> > > plot(rnorm(100),type="l")
> >
> > Does
> >
> > x <- rnorm(100)
> > plot(x)
> > lines(x)                # or/and ...
> > points(x, pch=5)
> >
> > do what you want?
> >
> > Torsten
> >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Fairouz_Makhlouf at hgsi.com  Tue Nov 14 22:06:07 2000
From: Fairouz_Makhlouf at hgsi.com (Fairouz_Makhlouf@hgsi.com)
Date: Tue, 14 Nov 2000 16:06:07 -0500
Subject: [R] 3 D bar graph
Message-ID: <OF6A43CFBF.3C14FDBC-ON85256997.0073DB67@hgsi.com>

Anybody who did a 3D bar Graph in r?

Thanks

Fairouz Makhlouf


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov 15 01:07:29 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 14 Nov 2000 19:07:29 -0500 (EST)
Subject: [R] 3 D bar graph
In-Reply-To: <OF6A43CFBF.3C14FDBC-ON85256997.0073DB67@hgsi.com>
Message-ID: <Pine.LNX.4.30.0011141905590.28596-100000@bolker.zoo.ufl.edu>


  Your best bet is Uwe Ligges's "scatterplot3d" package -- see

http://www.ens.gu.edu.au/robertk/R/help/00b/0520.html

for an answer to a similar question.

[I must admit that I was only able to find this in the archives because I
knew it was there somewhere and searched on "Ligges".  Just looking for
"3D barplot" didn't help.]

On Tue, 14 Nov 2000 Fairouz_Makhlouf at hgsi.com wrote:

> Anybody who did a 3D bar Graph in r?
>
> Thanks
>
> Fairouz Makhlouf
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Wed Nov 15 10:56:06 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Wed, 15 Nov 2000 09:56:06 +0000 (GMT)
Subject: [R] ascii load file ( was Re: none)
In-Reply-To: <200011071757.RAA11165@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.3.96.1001115095258.8288A-100000@cordite>


(apologies for delay)


On Tue, 7 Nov 2000, Prof Brian Ripley wrote:

<snip>

> 
> Is it possible to get a binary version of this (a .Rdata)?  Unless
> you had strange machines at MRC-BSU, it should be in XDR and cross-platform
> readable.
> 
> Ross did once say that ASCII save/load was only for testing,
> so I would regard XDR saves as more reliable.
> 
Yes, using a binary .Rdata worked fine.  Thnaks to everyone who
helped.


Jonathan Myles

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Wed Nov 15 11:16:21 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Wed, 15 Nov 2000 10:16:21 +0000 (GMT)
Subject: [R] 2 plots 1 figure
Message-ID: <200011151016.KAA03563@achill.nmrc.ucc.ie>

Hi,

I am wondering would it not be easier to fit curves to the histograms and then 
plot these curves. These are not as accurate but it is easier to compare the 
results. For instance the following function has as an input two measured data 
sets, e.g.,

plothist(rnorm(500),rnorm(500))

The function takes these data sets and fits a normal function to each of them 
and also scales the function to the dataset size. It then plots the fitted 
curves (It is a little messy as I had only intended to use it to fit one data 
set at a time but I am sure that someone should should be able to modify it 
easily).

function (input1,input2) 
{
# Calculate Stats for input1
sigma1<-sd(input1)
mu1<-mean(input1)
xlow1<-(min(input1)) - 2*sigma1
xhigh1<-(max(input1)) + 2*sigma1
# Calculate Stats for input2
sigma2<-sd(input2)
mu2<-mean(input2)
xlow2<-(min(input2)) - 2*sigma2
xhigh2<-(max(input2)) + 2*sigma2
# Calculate scaling for fit1
hist.obj1<-hist(input1,xlim=range(xlow1,xhigh1),plot=F)
k1<-hist.obj1$counts[1]/hist.obj1$intensities[1]
# Calculate scaling for fit2
hist.obj2<-hist(input2,xlim=range(xlow2,xhigh2),plot=F)
k2<-hist.obj2$counts[1]/hist.obj2$intensities[1]
# Calculate fit1
normal.fit1 <- function(x) 
k1/(sqrt(2*3.142)*sigma1)*exp(0.5*(-(x-mu1)**2)*sigma1**-2)
# Calculate fit2
normal.fit2 <- function(x) 
k2/(sqrt(2*3.142)*sigma2)*exp(0.5*(-(x-mu2)**2)*sigma2**-2)
# Plot measured and fitted data
hist(input1,xlim=range(xlow1,xhigh1),freq=T)
#hist(input2,xlim=range(xlow1,xhigh1),freq=T,col="blue")
curve(normal.fit1,add=T,xlow1,xhigh1,col="red")
curve(normal.fit2,add=T,xlow2,xhigh2,col="blue")
box()
}

**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Nov 15 15:11:48 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 15 Nov 2000 15:11:48 +0100
Subject: [R] 2 plots 1 figure
In-Reply-To: <Pine.OSF.4.30.0011141853150.22777-100000@alnair.uio.no>
References: <3A1166D7.480B84D0@info.univ-angers.fr>
	<Pine.OSF.4.30.0011141853150.22777-100000@alnair.uio.no>
Message-ID: <14866.39332.218287.381356@gargle.gargle.HOWL>

>>>>> "Kjetil" == Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

    Kjetil> On Tue, 14 Nov 2000, Meriema Belaidouni wrote:
    >> In fact my question is more general perhaps this example is better
    >> x and y are some variables
    >> 
    >> hist(x)
    >> hist(y)

    Kjetil> I've hacked up something that does this, it's undocumented, not
    Kjetil> extensively tested, and is not very elegant, but it works for my
    Kjetil> purpose, and I guess it might work for your purpose too. The
    Kjetil> easiest way to get it, including my comments, is to look in Roberts
    Kjetil> R-devel-archives, here:

        <URL:http://www.ens.gu.edu.au/robertk/R/devel/00b/0024.html>

    Kjetil> After evaluating this code, what you would do to use it is:
    Kjetil> hist(x)
    Kjetil> lines(hist(y, plot=FALSE))

Kjetil, did I forget to tell you that your above "hack" has made it 
(after a bit of modification) into
R 1.2 [due on Dec 15] ?

Here is the NEWS entry (under "NEW FEATURES")

    o	hist() now returns a "histogram" object and calls the new
	function plot.histogram() for plotting.
	It now also allows character labels.

--

Thanks for your contribution!

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Nov 15 15:58:22 2000
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Wed, 15 Nov 2000 14:58:22 +0000 (GMT)
Subject: [R] 2 plots 1 figure
In-Reply-To: <Pine.LNX.4.30.0011141315160.27836-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.10.10011151455130.9669-100000@mercury.quantex>

(perhaps better for general discussion)

par(new=TRUE) 

Just a casual aside - why has the standard been new=TRUE for overplotting
on old graph?  This has always seemed perverse and counter-intuitive to me
but perhaps there is an explanation - other than for compatability with S+
of course.  Anyone know?

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 15 17:51:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Nov 2000 17:51:14 +0100
Subject: [R] 2 plots 1 figure
In-Reply-To: j.logsdon@lancaster.ac.uk's message of "Wed, 15 Nov 2000 14:58:22 +0000 (GMT)"
References: <Pine.LNX.4.10.10011151455130.9669-100000@mercury.quantex>
Message-ID: <x23dgt6uwt.fsf@blueberry.kubism.ku.dk>

j.logsdon at lancaster.ac.uk writes:

> (perhaps better for general discussion)
> 
> par(new=TRUE) 
> 
> Just a casual aside - why has the standard been new=TRUE for overplotting
> on old graph?  This has always seemed perverse and counter-intuitive to me
> but perhaps there is an explanation - other than for compatability with S+
> of course.  Anyone know?
> 
> John

The logic is as follows: When something is plotted to a frame, the
paper is dirtied, so to speak, by saying "this is not a new frame",
which is reflected in par(new) == FALSE. Conversely, when advancing to
a new frame, we use plot.new() which sets par(new) == TRUE. High level
plots query par(new) to see whether it is necessary to advance to a
new frame. So explicitly setting par(new)<-TRUE means "pretend this is
a new frame, even though someone already scribbled on it".

I get it wrong half the time too, though... We have frame() as a
more intuitive version of plot.new(), maybe one could think of an
alias for par(new=TRUE) too? overplot() perhaps? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emmanuel.charpentier at sap.ap-hop-paris.fr  Wed Nov 15 18:23:06 2000
From: emmanuel.charpentier at sap.ap-hop-paris.fr (Emmanuel Charpentier)
Date: Wed, 15 Nov 2000 18:23:06 +0100
Subject: [R] RODBC
Message-ID: <3A12C67A.47397004@sap.ap-hop-paris.fr>

I saw in the R-digest a thread about RODBC.

1) I think that this package is *extremely* valuable : it fulfills a need
quite important in the case of iterative (e. g. periodic) analyses. No need to
periodically return to your data and re-dumping them ...

2) The current version has a serious bug if your datasets has missing numeric
values. M. Lapsley, the original author, is aware of it, but has had no time
yet to look at it ...

I looked into the source to no avail. I'll have to dive in ODBC library
mysteries (which are pure Swahili to me ...), and did not yet had time for
this.

<OffTheTopOfMyHeadIDontHaveTheFilesOnHand>
In interim, you can uncomment the old (much less efficient) of the odbcQuery
routine, which does *not* exhibit this bug. Data are correct, speed seriously
sucks ...
</OffTheTopOfMyHeadIDontHaveTheFilesOnHand>

3) If you happen to use PostgreSQL, the RPgSql package (also on CRAN) is much
more interesting : it allows direct access to PostgreSQL classes (tables) as R
objects, ensuring that any R access is done to up-to-date data.

Of course, OTOH, if you happen to trash your R data-access-objects, your
original data are gone for good. Caveat emptor ...

4) IMNSHO, the future lies somewhere in the (hypothetical) fusion of these two
package : direct access to ODBC objects would be perfect (and might seriously
alleviate problems due to the R static memory allocation model, which is an
EPITA ...).

Hope this helps,

					Emmanuel Charpentier

--
Emmanuel Charpentier			Tel :		+33-01 40 27 35 98
Secr?tariat scientifique du CEDIT	Fax :		+33-01 40 27 55 65
Direction de la Politique M?dicale // Assistance Publique - H?pitaux de Paris
3, Avenue Victoria // F-75004 Paris /// France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 15 19:18:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 15 Nov 2000 18:18:46 +0000 (GMT Standard Time)
Subject: [R] RODBC
In-Reply-To: <3A12C67A.47397004@sap.ap-hop-paris.fr>
Message-ID: <Pine.WNT.4.05.10011151810240.265-100000@tern.stats>

On Wed, 15 Nov 2000, Emmanuel Charpentier wrote:

> I saw in the R-digest a thread about RODBC.
> 
> 1) I think that this package is *extremely* valuable : it fulfills a need
> quite important in the case of iterative (e. g. periodic) analyses. No need to
> periodically return to your data and re-dumping them ...
> 
> 2) The current version has a serious bug if your datasets has missing numeric
> values. M. Lapsley, the original author, is aware of it, but has had no time
> yet to look at it ...

I have tried in the last two days to reproduce it, and I just can't.
I've tried RODBC to MySQL on Windows, and RODBC to PostgreSQL on Unix.
Every time I get blank strings mapped to NAs, in numeric (right) or
character (wrong) fields, and I have a fix for the latter.

So can you tell me (and Michael L) exactly what you did?

> I looked into the source to no avail. I'll have to dive in ODBC library
> mysteries (which are pure Swahili to me ...), and did not yet had time for
> this.
> 
> <OffTheTopOfMyHeadIDontHaveTheFilesOnHand>
> In interim, you can uncomment the old (much less efficient) of the odbcQuery
> routine, which does *not* exhibit this bug. Data are correct, speed seriously
> sucks ...
> </OffTheTopOfMyHeadIDontHaveTheFilesOnHand>
> 
> 3) If you happen to use PostgreSQL, the RPgSql package (also on CRAN) is much
> more interesting : it allows direct access to PostgreSQL classes (tables) as R
> objects, ensuring that any R access is done to up-to-date data.
> 
> Of course, OTOH, if you happen to trash your R data-access-objects, your
> original data are gone for good. Caveat emptor ...
> 
> 4) IMNSHO, the future lies somewhere in the (hypothetical) fusion of these two
> package : direct access to ODBC objects would be perfect (and might seriously
> alleviate problems due to the R static memory allocation model, which is an
> EPITA ...).

What R static memory allocation model?  Take a look at R-devel....
Notwithstanding that, I agree and am beginning to use databases quite a
bit.  Of course, one then sees how to improve the interfaces ....

One thing R-1.2.0 will come with is a Data Import/Export manual covering
all the database access packages (and much else).  A draft is available
on the R developer site (http://developer.r-project.org/R-data.pdf)
if you want to take a look.  (Comments to me please, and it is not
completely finished yet, and that includes not completely checked yet.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Wed Nov 15 20:44:36 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Wed, 15 Nov 2000 14:44:36 -0500
Subject: [R] Re: mvtnorm
References: <Pine.LNX.4.21.0011141746580.1608-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <3A12E7A4.6000700@kutsyy.com>

Hello.

I have a small question.  For computing normal CDF you are using 
"mvtdst" wouldn't be use of "mvnpack" be more efficient?

Thanks.

Vadim Kutsyy
vadim at kutsyy.com
htpp://www.kutsyy.com


Torsten Hothorn wrote:

> 
> Announcement: mvtnorm
> 
> 	Multivariate Normal and T Distribution
> 
> mvtnorm implements two R functions for the computation of the multivariate t
> and normal distribution: 
> 
> pmvt: 	Computes the the distribution function of the multivariate t
> 	distribution  for arbitary limits, degrees of freedom and
> 	correlation matrices  based on algorithms by Genz and Bretz. 
> 
> pmvnorm: Computes the distribution function of the multivariate normal 
> 	distribution for arbitary limits and correlation matrices  based
> 	on algorithms by Genz and Bretz.
> 
> 
> mvtnorm is currently available in CRAN's devel section. 
> 
> Literature: 
> 
> Genz, A. (1992). Numerical computation of multivariate normal
> probabilities. Journal of Computational and Graphical Statistics,
> 1, 141-150 
> 
> Genz, A. (1993). Comparison of methods for the computation of
> multivariate normal probabilities. Computing Science and
> Statistics, 25, 400-405
> 
> Genz, A. and Bretz, F. (1999), Numerical computation of
> multivariate t-probabilities with application to power calculation
> of multiple contrasts. Journal of Statistical Computation and
> Simulation, 63, 361-378.
> 
> Genz, A. and Bretz, F. (2001), Methods for the computation of
> multivariate t-probabilities. (submitted)
> 
> Bests, 
> 
> Torsten
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j_mazuch at hotmail.com  Wed Nov 15 20:57:40 2000
From: j_mazuch at hotmail.com (Josmar Mazucheli)
Date: Wed, 15 Nov 2000 19:57:40 GMT
Subject: [R] expression
Message-ID: <F157QcqnWwAeRaNgEpT00005428@hotmail.com>

Dear all, Why this does not work???

plot(1:10,1:10,ylab=expression(sigma),xlab=expression (sigma))

but

plot(1:10,1:10,ylab=expression(sigma),xlab=expression(sigma))
title("",xlab=expression(sigma))

work!!!!!!!


ps: R under windows

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

Share information about yourself, create your own public profile at 
http://profiles.msn.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j_mazuch at hotmail.com  Wed Nov 15 21:10:28 2000
From: j_mazuch at hotmail.com (Josmar Mazucheli)
Date: Wed, 15 Nov 2000 20:10:28 GMT
Subject: [R] expression
Message-ID: <F51dOGKrgkpI2QCFFLb000056d9@hotmail.com>

Dear all, Why this does not work???

plot(1:10,1:10,ylab=expression(sigma),xlab=expression(sigma))

but

plot(1:10,1:10,ylab=expression(sigma),xlab=expression(sigma))
title("",xlab=expression(sigma))

work!!!!!!!


ps: R under windows


_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

Share information about yourself, create your own public profile at 
http://profiles.msn.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 15 21:28:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Nov 2000 21:28:08 +0100
Subject: [R] expression
In-Reply-To: "Josmar Mazucheli"'s message of "Wed, 15 Nov 2000 20:10:28 GMT"
References: <F51dOGKrgkpI2QCFFLb000056d9@hotmail.com>
Message-ID: <x27l65f09z.fsf@blueberry.kubism.ku.dk>

"Josmar Mazucheli" <j_mazuch at hotmail.com> writes:

> Dear all, Why this does not work???
> 
> plot(1:10,1:10,ylab=expression(sigma),xlab=expression(sigma))
> 
> but
> 
> plot(1:10,1:10,ylab=expression(sigma),xlab=expression(sigma))
> title("",xlab=expression(sigma))
> 
> work!!!!!!!
> 
> 
> ps: R under windows

Which version?

The NEWS for 1.1.1 has under Bug fixes:

    o   Specifying xlab as an expression now works again.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derrick.Snowden at noaa.gov  Wed Nov 15 21:55:02 2000
From: Derrick.Snowden at noaa.gov (Derrick P. Snowden)
Date: Wed, 15 Nov 2000 15:55:02 -0500
Subject: [R] loess documentation
Message-ID: <3A12F826.86978386@noaa.gov>

Hi all,

I 've got a question about the usage of loess in the modreg package. 
The documentation (loess.html) states that the smoothing window is
either set by span or enp.target.  If span is used,  the details section
of the docs state...

<SNIP>

DETAILS

Fitting is done locally. That is, for the fit at point x, the fit is
made using points in a neighbourhood of x, weighted by their distance
from x (with differences in `parametric' variables being ignored when
computing the distance). The size of the neighbourhood is controlled by
&alpha; (set by span or enp.target). 

For &alpha; < 1, the neighbourhood includes proportion &alpha; of the
points, and these have tricubic weighting (proportional to (1 -
(dist/maxdist)^3)^3. 

For &alpha; > 1, all points are used, with the `maximum distance'
assumed to be &alpha; times the actual maximum distance. 

</SNIP>

I understand the situation when alpha is less than one, presuming it
uses the same convention set forth in any number of Clevelend and Devlin
articles, ie, nearest neighbor smoothing.  

However, I'm interested in looking at fixed bandwidth smoothing and I'm
wondering if the second option, (alpha>1) is some variation of this
theme.  I don't understand the "alpha times actual maxdistance"
statement.  If my estimation point is 10 meters from the farthest data
point in physical space and I set my alpha = 2, then according to the
statement above the smoothing window would be 20m????  Obviously this
can't be right.  Where have I gone wrong?

Thanks in advance for your comments.

Derrick


-- 
Derrick Snowden
NOAA / AOML / PhOD
4301 Rickenbacker Cswy.
Miami, FL  33149
Derrick.Snowden at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 15 22:06:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 15 Nov 2000 21:06:44 +0000 (GMT Standard Time)
Subject: [R] loess documentation
In-Reply-To: <3A12F826.86978386@noaa.gov>
Message-ID: <Pine.WNT.4.05.10011152100570.262-100000@tern.stats>

On Wed, 15 Nov 2000, Derrick P. Snowden wrote:

> Hi all,
> 
> I 've got a question about the usage of loess in the modreg package. 
> The documentation (loess.html) states that the smoothing window is
> either set by span or enp.target.  If span is used,  the details section
> of the docs state...
> 
> <SNIP>
> 
> DETAILS
> 
> Fitting is done locally. That is, for the fit at point x, the fit is
> made using points in a neighbourhood of x, weighted by their distance
> from x (with differences in `parametric' variables being ignored when
> computing the distance). The size of the neighbourhood is controlled by
> &alpha; (set by span or enp.target). 
> 
> For &alpha; < 1, the neighbourhood includes proportion &alpha; of the
> points, and these have tricubic weighting (proportional to (1 -
> (dist/maxdist)^3)^3. 
> 
> For &alpha; > 1, all points are used, with the `maximum distance'
> assumed to be &alpha; times the actual maximum distance. 
> 
> </SNIP>
> 
> I understand the situation when alpha is less than one, presuming it
> uses the same convention set forth in any number of Clevelend and Devlin
> articles, ie, nearest neighbor smoothing.  
> 
> However, I'm interested in looking at fixed bandwidth smoothing and I'm
> wondering if the second option, (alpha>1) is some variation of this
> theme.  I don't understand the "alpha times actual maxdistance"
> statement.  If my estimation point is 10 meters from the farthest data
> point in physical space and I set my alpha = 2, then according to the
> statement above the smoothing window would be 20m????  Obviously this
> can't be right.  Where have I gone wrong?

Yes it can be right. Read those Cleveland et al articles again. See for
example the White Book page 315. It's a weighted average over the
window, so still sensible for a bigger window.

Actually, I think it might be alpha^(1/p), but the docs are unclear on
that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Nov 16 11:14:01 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 16 Nov 2000 11:14:01 +0100
Subject: [R] European Meeting of Statisticians, Funchal, August 2001
Message-ID: <200011161014.LAA21855@mapc79.epfl.ch>



Apologies for cross-postings.


======================================
First announcement and call for papers
======================================

The 23rd European Meeting of Statisticians will be held at Funchal,
capital of the Portuguese island of Madeira, from 13-18 August 2001,
under the auspices of the European Regional Committee of the
Bernoulli Society. 

For more information see the conference web site

   http://www.fc.ul.pt/cea/ems2001

Keynote speakers are Peter Donnelly (Oxford) on `Some statistical
challenges in modern genetics', Frank den Hollander (Eindhoven)
on `Polymer chains' and Andrew Barron (Yale) on `Information
theory in probability and statistics'.  Special invited lecturers
are Soeren Asmussen (Lund) on simulation for rare events, Veronique
Gayrard (Marseille) on the statistical mechanics of the Hopfield
model and Irene Gijbels (Louvain) on nonparametric function
estimation. There will be invited paper sessions on asymptotic
statistics, Bayesian nonparametrics,  bioinformatics, causal inference,
concentration of measure, disease mapping, environmetrics, finance,
perfect simulation, probability approximations for rare events,
quantum probability and statistics, statistical mechanics, statistics

of extremes, telecommunications, and time series.  Contributed papers
will be accepted on these and other topics in probability, statistics
and related subjects.

Madeira is a beautiful island in the Atlantic Ocean, 1000km from
Lisbon, with stunning landscapes and a mild climate, easily reached
by air from Lisbon or by charter flights from other European capitals.
The Organizing Committee will try to show participants as much of the
island as possible.  Two tours, one a full-day excursion to the rugged
and unspoilt north coast, will be included as part of the registration,
and several other excursions will be available before, during and after
the meeting. Madeira is a popular holiday destination and we recommend
early planning of your trip in order to take advantage of the good
deals that the Local Organizers have negotiated on hotels etc.
Don't be disappointed!

The chair of the Programme Committee is Anthony Davison (EPF,
Lausanne), (Anthony.Davison at epfl.ch).  The Local Organizing Committee
is chaired by Dinis Pestana, Dept. Estatstica, Bloco C2 Piso 2,
Faculdade de Cincias, Campo Grande, 1749-016 Lisboa Codex, Portugal
(dinis.pestana at fc.ul.pt), and Rita Vasconcelos, University of Madeira
(rita at dragoeiro.uma.pt), to whom enquiries may be addressed.

For more information, registration fees and deadlines, details about
submitting papers and deadlines, see the conference web site

   http://www.fc.ul.pt/cea/ems2001



-- 
Diego Kuonen        http://wap.kuonen.com        http://stat.kuonen.com
http://www.Statoo.ch Have you ever been Statooed? http://www.Statoo.com     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Thu Nov 16 13:01:26 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Thu, 16 Nov 2000 13:01:26 +0100
Subject: [R] RNN Algorithm for Ward Clustering ?
Message-ID: <3A13CC96.25A39E60@univ-orleans.fr>

Hi R people,

i'm looking for the Reciprocal Nearest Neighbour algorithm applied to
Ward clustering;

I know that it is explained in details in the following book:

Downs, G. M.; Willett, P. In Advanced Computer-Assisted Techniques in
Drug Discovery; van de Waterbeemd, H., Ed.; VCH: Weinheim, 1994; Vol. 3.

but cannot order copies it without knowing the pages involved; could
someone communicate the pages or the detailed algorithm ???


Thansk in advance,

--
Nicolas Baurin

Doctorant
Laboratoire de Chimiom?trie - Mod?lisation Mol?culaire
Institut de Chimie Organique et Analytique, UMR 6005
http://www.univ-orleans.fr/SCIENCES/ICOA/
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Thu Nov 16 13:29:52 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 16 Nov 2000 12:29:52 +0000
Subject: [R] postscript error
Message-ID: <dgkk8a49k1r.fsf@scs2.ncl.ac.uk>


I have generated a graph on the X11 device, but when I

> dev.copy(postscript)
postscript 
         3 
> dev.off()
X11 
  2 
>

the Rplots.ps file is generated but contains a prologue only.

Can anyone suggest what I am doing wrong? Just to anticipate the
upgrade reply ...

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R                
> 

and I have attached the postscript file at the end. (It is small)

Thank you
Ross Darnell

%!PS-Adobe-3.0
%%DocumentFonts: Helvetica Helvetica-Bold Helvetica-Oblique
%%+ Helvetica-BoldOblique Symbol
%%DocumentMedia: a4 595 841 0 ()
%%Title: R Graphics Output
%%Creator: R Software
%%Pages: (atend)
%%Orientation: Landscape
%%BoundingBox: 18 18 577 824
%%EndComments
%%BeginProlog
/gs  { gsave } def
/gr  { grestore } def
/bp  { gs 595.00 0 translate 90 rotate} def
/ep  { showpage gr } def
/m   { moveto } def
/l   { lineto } def
/np  { newpath } def
/cp  { closepath } def
/f   { fill } def
/o   { stroke } def
/c   { newpath 0 360 arc } def
/r   { 3 index 3 index moveto 1 index 4 -1 roll
	lineto exch 1 index lineto lineto closepath } def
/p1  { stroke } def
/p2  { bg setrgbcolor fill fg setrgbcolor } def
/p3  { gsave bg setrgbcolor fill grestore stroke } def
/t   { 6 -2 roll moveto gsave rotate
       ps mul neg 0 2 1 roll rmoveto
       1 index stringwidth pop
       mul neg 0 rmoveto show grestore } def
/cl  { initclip newpath 3 index 3 index moveto 1 index
       4 -1 roll lineto  exch 1 index lineto lineto
       closepath clip newpath } def
/rgb { setrgbcolor } def
/s   { scalefont setfont } def
/R   { /Font1 findfont } def
/B   { /Font2 findfont } def
/I   { /Font3 findfont } def
/BI  { /Font4 findfont } def
/S   { /Font5 findfont } def
/Helvetica findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font1 exch definefont pop
/Helvetica-Bold findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font2 exch definefont pop
/Helvetica-Oblique findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font3 exch definefont pop
/Helvetica-BoldOblique findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  /Encoding ISOLatin1Encoding def
  currentdict
  end
/Font4 exch definefont pop
/Symbol findfont
dup length dict begin
  {1 index /FID ne {def} {pop pop} ifelse} forall
  currentdict
  end
/Font5 exch definefont pop
1 setlinecap 1 setlinejoin
%%EndProlog
ep
%%Trailer
%%Pages: 0
%%EOF
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 16 14:06:07 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2000 14:06:07 +0100
Subject: [R] postscript error
In-Reply-To: r.e.darnell@ncl.ac.uk's message of "16 Nov 2000 12:29:52 +0000"
References: <dgkk8a49k1r.fsf@scs2.ncl.ac.uk>
Message-ID: <x2hf58yslc.fsf@blueberry.kubism.ku.dk>

r.e.darnell at ncl.ac.uk (R.E. Darnell) writes:

> I have generated a graph on the X11 device, but when I
> 
> > dev.copy(postscript)
> postscript 
>          3 
> > dev.off()
> X11 
>   2 
> >
> 
> the Rplots.ps file is generated but contains a prologue only.
> 
> Can anyone suggest what I am doing wrong? Just to anticipate the
> upgrade reply ...
> 

I can't reproduce that on a similar platform:


>      x11()
>      plot(rnorm(10), main="Plot 1")
>   dev.copy(postscript)
postscript 
         3 
> dev.off()
X11 
  2 

..and there's a nice picture in Rplots.ps.

> and I have attached the postscript file at the end. (It is small)

But not very informative sinc it just contains the standard prolog...


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From burse at eawag.ch  Thu Nov 16 15:46:55 2000
From: burse at eawag.ch (Jan Burse)
Date: Thu, 16 Nov 2000 15:46:55 +0100
Subject: [R] newbee question
Message-ID: <3A13F35F.BB961B23@eawag.ch>

Dear All

Where can I lookup good methods to compute
p from q=bin(m,n)p^n*(1-p)^(m-n) such that
q<=alfa, alfa small. Are there such libs,
code and source in R?

Best Regards
--
Jan Burse                         SIAM, EAWAG
Scheuchzerstr. 67                 ?berlandstr. 133
8006 Z?rich                       8600 D?bendorf
tel: +41-1-364 17 66              tel: +41-1-823 55 34
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Thu Nov 16 16:54:55 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Thu, 16 Nov 2000 16:54:55 +0100
Subject: [R] assign names to matrix
Message-ID: <OF98EEFD19.CBB5173E-ONC1256999.00569846@muc.allianz>



dear all,

i have a matrix and i dont know how to assign names to this matrix.

given v is 100x5 matrix, and label -> c("A","B","C","D","E")

idealy, names(v) <- label, but it doesnt work for different length

if dimnames(v) <- list(1:nrow(v),label), then names(v) return NULL

any smart ways? thanks in advance.

best regards
pan yuming



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Nov 16 17:11:25 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 16 Nov 2000 08:11:25 -0800 (PST)
Subject: [R] assign names to matrix
In-Reply-To: <OF98EEFD19.CBB5173E-ONC1256999.00569846@muc.allianz>
Message-ID: <Pine.GSO.4.21.0011160810150.2485-100000@atlas.biostat.washington.edu>

On Thu, 16 Nov 2000 Pan_Yuming at aam.de wrote:

> 
> 
> dear all,
> 
> i have a matrix and i dont know how to assign names to this matrix.
> 
> given v is 100x5 matrix, and label -> c("A","B","C","D","E")
> 
> idealy, names(v) <- label, but it doesnt work for different length
> 
> if dimnames(v) <- list(1:nrow(v),label), then names(v) return NULL
> 
> any smart ways? thanks in advance.

Lists have names(). Matrices don't have names(). They have dimnames() (or
colnames() and rownames()). You want to use dimnames instead.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derrick.Snowden at noaa.gov  Thu Nov 16 17:13:41 2000
From: Derrick.Snowden at noaa.gov (Derrick P. Snowden)
Date: Thu, 16 Nov 2000 11:13:41 -0500
Subject: [R] loess documentation
References: <5.0.0.25.0.20001116094053.0188f860@127.0.0.1>
Message-ID: <3A1407B5.9CE04DD@noaa.gov>

Yes, thanks.  The documentation is a bit clearer thanks to you and some
others.  I just wish it wasn't the case.  I would like to be able to
specify a different fixed width window along the axes of each
independent variable.  I'm smoothing data where the physical dimensions
of the independent variables are space and time.  Knowing the exact
width, in physical dimensions, of the smoothing window at each
estimation point.  It allows me to calculate a filter frequency transfer
function and say something about the frequency/wavenumber
characteristics of the estimate.  If anyone has ideas on another way to
do this or something similar I'd be all ears.  I suppose that if I knew
the weights at each estimation point I could do something similar. 
Maybe I'll have to code up the bandwidth smoother myself.  However, it
would no doubt be rudimentary and lack many of the bells and whistles of
R/S.  Incidentally this brings up a couple more questions.

1.  It looks like loess() will fit a model by making an estimate at
*every?* data point location.  And then predict() will use that model to
make a prediction at user specified points.  This seems contrary to the
philosophy of using k-d trees and blending functions to ease the
computational burden as there probably many more data points than
estiamtion points.  Do I read this right or are there approximations in
loess() just like there are in predict() (i.e. the blending functions).


2.  For anyone who's fairly familiar with the method:  What is the trace
hat value mentioned in the code of cloess?  It looks like it is used in
estimating the variance of the the errors.  tr(L'L)  where L is the NxP
matrix of weights.  This is useful information.  Is it possible in R, to
get at the full L matrix or just the trace(L'L), without digging into
the bowels of the cloess code.   (It's terribly ugly machine generated
fortran4).

3.  I understand that this type of request (bandwidth smoothing) is
probably not implemented already for good reason.  (I understand that
there are bias concerns for fixed window estimates which have few data
points inside the window etc)  However, I come from an oceanography
background not a statistics background and things like scales of
variability, decorrelation distances etc, are important quantities  in
our literature ( We're thinking in terms of representative physics as
much or more than statistical fitting of models).  Anyone care to
comment/direct me to references  on the frequency wavenumber
characteristics of various nearest neighbor smoothers and how they can
be diagnosed for specific designs?  (kernel methods, splines, loess
etc)  

For anyone who cares to respond, thank you for your input.

John Fox wrote:
> 
> Dear Derrick,
> 
> I haven't looked at this carefully, but it is possible to have a smoothing
> window wider than the data. This just means that the weights don't get to
> zero. If the window is of infinite width, then one fits a global polynomial
> rather than a local one.
> 
> I hope that this helps,
>   John
> 
> At 03:55 PM 15/11/2000 -0500, you wrote:
> >Hi all,
> >
> >I 've got a question about the usage of loess in the modreg package.
> >The documentation (loess.html) states that the smoothing window is
> >either set by span or enp.target.  If span is used,  the details section
> >of the docs state...
> >
> ><SNIP>
> >
> >DETAILS
> >
> >Fitting is done locally. That is, for the fit at point x, the fit is
> >made using points in a neighbourhood of x, weighted by their distance
> >from x (with differences in `parametric' variables being ignored when
> >computing the distance). The size of the neighbourhood is controlled by
> >&alpha; (set by span or enp.target).
> >
> >For &alpha; < 1, the neighbourhood includes proportion &alpha; of the
> >points, and these have tricubic weighting (proportional to (1 -
> >(dist/maxdist)^3)^3.
> >
> >For &alpha; > 1, all points are used, with the `maximum distance'
> >assumed to be &alpha; times the actual maximum distance.
> >
> ></SNIP>
> >
> >I understand the situation when alpha is less than one, presuming it
> >uses the same convention set forth in any number of Clevelend and Devlin
> >articles, ie, nearest neighbor smoothing.
> >
> >However, I'm interested in looking at fixed bandwidth smoothing and I'm
> >wondering if the second option, (alpha>1) is some variation of this
> >theme.  I don't understand the "alpha times actual maxdistance"
> >statement.  If my estimation point is 10 meters from the farthest data
> >point in physical space and I set my alpha = 2, then according to the
> >statement above the smoothing window would be 20m????  Obviously this
> >can't be right.  Where have I gone wrong?
> >
> >Thanks in advance for your comments.
> >
> >Derrick
> >
> >
> >--
> >Derrick Snowden
> >NOAA / AOML / PhOD
> >4301 Rickenbacker Cswy.
> >Miami, FL  33149
> >Derrick.Snowden at noaa.gov
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> ________________________________
>   John Fox
>   Department of Sociology
>   McMaster University
>   email: jfox at McMaster.ca
>   web: www.socsci.mcmaster.ca/jfox
> ________________________________

-- 
Derrick Snowden
NOAA / AOML / PhOD
4301 Rickenbacker Cswy.
Miami, FL  33149
Derrick.Snowden at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Pan_Yuming at aam.de  Thu Nov 16 17:52:42 2000
From: Pan_Yuming at aam.de (Pan_Yuming@aam.de)
Date: Thu, 16 Nov 2000 17:52:42 +0100
Subject: [R] assign names to matrix
Message-ID: <OFCB5E96BF.5E5CCE86-ONC1256999.005C4B19@muc.allianz>


Thanks for your advice.

My interest is to how to refer to each column as if it is a variable. i
solved this problem by
dimnames(v) <- list(1:nrow(v),label)
v <- as.data.frame(v)

now i can refer to column 1 of v as v$A...

regards
Pan Yuming





Thomas Lumley <thomas at biostat.washington.edu> on 16.11.2000 17:11:25

To:   Pan_Yuming at aam.de
cc:   r-help at stat.math.ethz.ch

Subject:  Re: [R] assign names to matrix


On Thu, 16 Nov 2000 Pan_Yuming at aam.de wrote:

>
>
> dear all,
>
> i have a matrix and i dont know how to assign names to this matrix.
>
> given v is 100x5 matrix, and label -> c("A","B","C","D","E")
>
> idealy, names(v) <- label, but it doesnt work for different length
>
> if dimnames(v) <- list(1:nrow(v),label), then names(v) return NULL
>
> any smart ways? thanks in advance.

Lists have names(). Matrices don't have names(). They have dimnames() (or
colnames() and rownames()). You want to use dimnames instead.

     -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Thu Nov 16 17:55:42 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 16 Nov 2000 16:55:42 +0000
Subject: [R] newbee question
In-Reply-To: Jan Burse's message of "Thu, 16 Nov 2000 15:46:55 +0100"
References: <3A13F35F.BB961B23@eawag.ch>
Message-ID: <dgkwve397qp.fsf@scs2.ncl.ac.uk>

Jan Burse <burse at eawag.ch> writes:

> Dear All
> 
> Where can I lookup good methods to compute
> p from q=bin(m,n)p^n*(1-p)^(m-n) such that
> q<=alfa, alfa small. Are there such libs,
> code and source in R?
> 


 eta<-glm(cbind(n,m-n)~1,family=binomial)$coeff
 exp(eta)/(1+exp(eta))

would work ;-). I am not sure how "good" it is.

[...]

Ross Darnell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 16 18:18:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2000 18:18:05 +0100
Subject: [R] assign names to matrix
In-Reply-To: Pan_Yuming@aam.de's message of "Thu, 16 Nov 2000 17:52:42 +0100"
References: <OFCB5E96BF.5E5CCE86-ONC1256999.005C4B19@muc.allianz>
Message-ID: <x2lmujal9u.fsf@blueberry.kubism.ku.dk>

Pan_Yuming at aam.de writes:

> Thanks for your advice.
> 
> My interest is to how to refer to each column as if it is a variable. i
> solved this problem by
> dimnames(v) <- list(1:nrow(v),label)
> v <- as.data.frame(v)
> 
> now i can refer to column 1 of v as v$A...

Um, you're crossing the creek to fetch water:

v <- as.data.frame(v)
names(v) <- label

(and if I remember correctly you asked how to read this from a file.
Using read.table('filename') gives you a data frame right away, but
you were asking how to read it as a matrix...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 16 18:37:45 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 16 Nov 2000 18:37:45 +0100 (MET)
Subject: [R] assign names to matrix
In-Reply-To: <OFCB5E96BF.5E5CCE86-ONC1256999.005C4B19@muc.allianz>
Message-ID: <Pine.GSO.4.21.0011161832390.23571-100000@amadeus.statistik.uni-dortmund.de>



On Thu, 16 Nov 2000 Pan_Yuming at aam.de wrote:

> 
> Thanks for your advice.
> 
> My interest is to how to refer to each column as if it is a variable. i
> solved this problem by
> dimnames(v) <- list(1:nrow(v),label)
> v <- as.data.frame(v)
> 
> now i can refer to column 1 of v as v$A...

That's not neccessary.

Why don't you use:  
matrixname[,colname]

e.g.:
 my.matrix <- matrix(1:16, nrow=4)
 my.matrix
 my.matrix[,1] 


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Thu Nov 16 19:24:05 2000
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Thu, 16 Nov 2000 19:24:05 +0100 (CET)
Subject: [R] R and national characters
In-Reply-To: <Pine.GSO.4.05.10011062037310.18856-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0011161922180.23607-100000@nymfe19.fi.muni.cz>

On Mon, 6 Nov 2000, Prof Brian D Ripley wrote:

> Under Unix, you should be able to plot on X11 or postscript devices any
> characters in the ISO latin1 character set: see ?text for some examples.
> You may need to set the locale correctly before launching R.
> 
> On Windows, ditto for NT, but there are known problems with 95/98/ME that
> we think we have addressed for the next release.
> 
> I assume you want Czech chars, and you will have to tell us if they are in
> ISO latin1, I am afraid.

Some Czech chars are in ISO Latin1 but only some. All are in ISO Latin2
(ISO-8859-2) in encoding for central European languages.

Martin Gotz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Thu Nov 16 19:40:12 2000
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Thu, 16 Nov 2000 19:40:12 +0100 (CET)
Subject: [R] memory
In-Reply-To: <Pine.GSO.4.21.0011091848060.26962-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.21.0011161925181.23607-100000@nymfe19.fi.muni.cz>

On Thu, 9 Nov 2000, Uwe Ligges wrote:

> > how big memory(RAM&HDD) I need for clustering data(hierarchical or
> > iterative optimalization method), when I have 10000 observation with some
> > variables? 
> > Now I can use 1GB RAM and some space on HDD.
> 
> Hm. That highly depends on the functions you are going to use.

function hclust()

> 
> It is one thing to import a data.frame, but another one to do some
> calculations on the data. The memory consumption highly depends on the
> functions, you are using (creating copies of (parts of) the data, ...).

10000 observation means 10000x10000 matrix (distance matrix for
hclust). How big space I need for one integer number? (8byte?) 
It's matrix with 100 000 000 elements.
I made some experiments with matrix  3000x3000 and I shutdown UNIX server
station (R was invoke with nice 19) :(

> 
> You won't need 1GB to calculate the mean of 10000 observations for
> example. ;-)
> 
> Uwe Ligges


What is highest memory limit?  

Martin Gotz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Nov 16 19:42:31 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 16 Nov 2000 13:42:31 -0500 (EST)
Subject: [R] newbee question
In-Reply-To: <3A13F35F.BB961B23@eawag.ch>
Message-ID: <Pine.LNX.4.30.0011161337560.31062-100000@bolker.zoo.ufl.edu>


  I can't quite tell from the description whether you're looking for the
CDF or PDF of the binomial distribution or of the beta distribution: the C
code for these functions (qbinom.c, pbinom.c, qbeta.c, pbeta.c) lives in
the src/nmath directory.

On Thu, 16 Nov 2000, Jan Burse wrote:

> Dear All
>
> Where can I lookup good methods to compute
> p from q=bin(m,n)p^n*(1-p)^(m-n) such that
> q<=alfa, alfa small. Are there such libs,
> code and source in R?
>
> Best Regards
> --
> Jan Burse                         SIAM, EAWAG
> Scheuchzerstr. 67                 ?berlandstr. 133
> 8006 Z?rich                       8600 D?bendorf
> tel: +41-1-364 17 66              tel: +41-1-823 55 34
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Fri Nov 17 02:01:23 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Thu, 16 Nov 2000 20:01:23 -0500
Subject: [R] Randomly selecting n (unique) elements out of vector of length m...
Message-ID: <3A148363.6CE8F7FA@acsu.buffalo.edu>

Dear R users,

I wonder if there is a simple way to select a random and non-overlapping
subset of a vector?
Say, I need to randomly select 10 out of 100 numbers in a vector V. By
"non-overlapping" I
mean that a number in any position in V (V[1]...V[100]) should be
selected at most once
(i.e. selection without recycling).

I could simplu use a uniform distribution to generate selection indices:

> floor( runif(10, min=1, max=101) )
 [1] 17 34 16 91 43  2 22 75 59 38

but there is no guarantee that elements will be unique, so I'll have to
check and add some if
needed (and probably do it a few times)...

Is there a simper way?

Thanks,
Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Nov 17 02:51:04 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 17 Nov 2000 14:51:04 +1300
Subject: [R] Randomly selecting n (unique) elements out of vector of length m...
In-Reply-To: <3A148363.6CE8F7FA@acsu.buffalo.edu>; from Aleksey Naumov on Thu, Nov 16, 2000 at 08:01:23PM -0500
References: <3A148363.6CE8F7FA@acsu.buffalo.edu>
Message-ID: <20001117145104.A7860@stat1.stat.auckland.ac.nz>

On Thu, Nov 16, 2000 at 08:01:23PM -0500, Aleksey Naumov wrote:
> Dear R users,
> 
> I wonder if there is a simple way to select a random and non-overlapping
> subset of a vector?
> Say, I need to randomly select 10 out of 100 numbers in a vector V. By
> "non-overlapping" I
> mean that a number in any position in V (V[1]...V[100]) should be
> selected at most once
> (i.e. selection without recycling).
> 
> I could simplu use a uniform distribution to generate selection indices:
> 
> > floor( runif(10, min=1, max=101) )
>  [1] 17 34 16 91 43  2 22 75 59 38
> 
> but there is no guarantee that elements will be unique, so I'll have to
> check and add some if
> needed (and probably do it a few times)...
> 
> Is there a simper way?

> sample(1:101, 10, replace=FALSE)
 [1] 77 56 84  6  2 50 63 99 35 11

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Fri Nov 17 04:39:35 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Thu, 16 Nov 2000 22:39:35 -0500
Subject: [R] Randomly selecting n (unique) elements out of vector of length 
 m...
References: <3A148363.6CE8F7FA@acsu.buffalo.edu>
Message-ID: <3A14A877.59B04678@acsu.buffalo.edu>

Thank you all very much! The answer was simple, but it just wasn't clear where to
look for it
(I checked in "Keywords by Topic", "An Introduction to R", and "Reference Manual")

:-)

Aleksey

-------
Try the function sample().  In your case...
  subset <- sample(V,size=10,replace=FALSE)

Cheers, Pierre


Aleksey Naumov wrote:

> Dear R users,
>
> I wonder if there is a simple way to select a random and non-overlapping
> subset of a vector?
> Say, I need to randomly select 10 out of 100 numbers in a vector V. By
> "non-overlapping" I
> mean that a number in any position in V (V[1]...V[100]) should be
> selected at most once
> (i.e. selection without recycling).
>
> I could simplu use a uniform distribution to generate selection indices:
>
> > floor( runif(10, min=1, max=101) )
>  [1] 17 34 16 91 43  2 22 75 59 38
>
> but there is no guarantee that elements will be unique, so I'll have to
> check and add some if
> needed (and probably do it a few times)...
>
> Is there a simper way?
>
> Thanks,
> Aleksey
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Nov 17 10:18:14 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 17 Nov 2000 09:18:14 +0000 (GMT)
Subject: [R] loess documentation
In-Reply-To: <3A1407B5.9CE04DD@noaa.gov>
Message-ID: <Pine.LNX.4.10.10011170910170.5743-100000@localhost.localdomain>

do this:
help.start()
click on
Search Engine & Keywords
search for "smooth"

You will find various smoothing methods. Sounds like ksmooth is something
you'd like.

It sounds to me you'd like some simple filtering. If so, just convolve
your data with the filter you want to pass it through (lowpass, bandpass).

out = x * h, where x is input, h is filter, and * is convolution

Use convolve().  Here is an example:
#Bracewell The Fourier transform and its applications, chap 3 (p.32 in 2nd
#edition): {2 2 3 3 4} * {1 1 2} = {2 4 9 10 13 10 8}
x<-c(2,2,3,3,4)
h<-c(1,1,2)
out<-convolve(x,rev(h),type="o") #need to do rev due to fault in R code

I pointed it out several times to the R-developers that convolve() should
do convolution by default! However they prefer it to do correlation by
default (which makes no sense to me). Anyway the workaround is to use
rev(h).

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Nov 17 10:47:20 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 17 Nov 2000 09:47:20 +0000 (GMT)
Subject: [R] hist() and density
Message-ID: <Pine.LNX.4.10.10011170933441.5743-100000@localhost.localdomain>

There were some questions about hist() a couple of days ago which
triggered this post. My question/suggestion is about the y-axis in hist.
There are reasons to prefer making the y-axis density=relative
frequency/bin width. One reason is that the height of the plot does not
depend on the bin width; another is that if your histogram is in density
then you can easily superimpose a smooth theoretical pdf on top--they will
be on the same scale. (BTW the best intro stats book--Freedman et al--only
shows students how to make density histograms)

It doesn't seem easy to make density on the y-axis with the current
hist().  The freq argument only lets you choose counts (TRUE) or relative
frequency (FALSE). I would like to suggest that freq (or some renamed
version of the argument) take on the values
counts
freqs
densities
So that you can easily do a density histogram.

The strange thing to me is that if you do
h<-hist(...)
you get h$intensities, which is the densities. So hist calculates the
densities, but doesn't let you plot them?

May I suggest you call it $densities? I don't know why you call it
intensities--I thought in stats intensity meant the instantaneous rate of
a point process. Also I find the help quite obscure:

intensities
             values f^(x[i]), as estimated density values. If
all(diff(breaks) == 1), they are the relative frequencies counts/n and in
general satisfy sum[i; f^(x[i]) (b[i+1]-b[i])] = 1, where b[i] =
breaks[i].

May I suggest:

densities	estimated densities calculated by relative frequency/bin
width, where relative frequency is count/n
(I can't figure out why you've got powering ^ in there!)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 17 13:54:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 2000 13:54:58 +0100
Subject: [R] hist() and density
In-Reply-To: Bill Simpson's message of "Fri, 17 Nov 2000 09:47:20 +0000 (GMT)"
References: <Pine.LNX.4.10.10011170933441.5743-100000@localhost.localdomain>
Message-ID: <x2n1eyu5b1.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> There were some questions about hist() a couple of days ago which
> triggered this post. My question/suggestion is about the y-axis in hist.
> There are reasons to prefer making the y-axis density=relative
> frequency/bin width. One reason is that the height of the plot does not
> depend on the bin width; another is that if your histogram is in density
> then you can easily superimpose a smooth theoretical pdf on top--they will
> be on the same scale. (BTW the best intro stats book--Freedman et al--only
> shows students how to make density histograms)
> 
> It doesn't seem easy to make density on the y-axis with the current
> hist().  The freq argument only lets you choose counts (TRUE) or relative
> frequency (FALSE). I would like to suggest that freq (or some renamed
> version of the argument) take on the values
> counts
> freqs
> densities
> So that you can easily do a density histogram.

Look closer:  freq=FALSE  *does* give densitities. Try for instance

x<-rnorm(500,sd=100)
hist(x,freq=F)
curve(dnorm(x,sd=100),add=T)

freq=T gives absolute frequencies i.e. counts

> The strange thing to me is that if you do
> h<-hist(...)
> you get h$intensities, which is the densities. So hist calculates the
> densities, but doesn't let you plot them?

Well, it does...

> May I suggest you call it $densities? I don't know why you call it
> intensities--I thought in stats intensity meant the instantaneous rate of
> a point process. 

I tend to agree here. Maybe singular $density is better, though.

> Also I find the help quite obscure:
> 
> intensities
>              values f^(x[i]), as estimated density values. If
> all(diff(breaks) == 1), they are the relative frequencies counts/n and in
> general satisfy sum[i; f^(x[i]) (b[i+1]-b[i])] = 1, where b[i] =
> breaks[i].
> 
> May I suggest:
> 
> densities	estimated densities calculated by relative frequency/bin
> width, where relative frequency is count/n
> (I can't figure out why you've got powering ^ in there!)

I think that should read as "f hat". No particular reason to single
out the case of unit bin width, I agree.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beimfohr at dorf.wh.uni-dortmund.de  Fri Nov 17 15:57:18 2000
From: beimfohr at dorf.wh.uni-dortmund.de (beimfohr@dorf.wh.uni-dortmund.de)
Date: Fri, 17 Nov 2000 15:57:18 +0100 (CET)
Subject: [R] Simulation of Timeseries
Message-ID: <20001117145723.4459.qmail@mail.dorf.wh.uni-dortmund.de>

Hello,

I try to simulate an ARMA-model using R, but I didn't find any function
to generate such timeseries.
In Splus there is the function arima.sim which generates AR-, MA- and
ARIMA-series. Is there any similar in R?

Best regards,

Frank Beimfohr


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 17 16:06:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 17 Nov 2000 15:06:26 +0000 (GMT)
Subject: [R] Simulation of Timeseries
Message-ID: <200011171506.PAA00121@toucan.stats.ox.ac.uk>


> From: beimfohr at dorf.wh.uni-dortmund.de
> Date: Fri, 17 Nov 2000 15:57:18 +0100 (CET)
> 
> I try to simulate an ARMA-model using R, but I didn't find any function
> to generate such timeseries.
> In Splus there is the function arima.sim which generates AR-, MA- and
> ARIMA-series. Is there any similar in R?

See ?filter in package ts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Fri Nov 17 18:56:48 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Fri, 17 Nov 2000 09:56:48 -0800
Subject: [R] Ordinary differential equations in R?
Message-ID: <3A157160.C3F871EB@noaa.gov>

Is there any R code available for solving ODE's?  I am considering building
an interface to ODEPACK, but don't want to duplicate any existing effort.

-- 
Tom Wainwright
NOAA/NMFS/NWFSC
2030 S Marine Science Dr
Newport, OR 97365 USA
thomas.wainwright at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 17 19:15:51 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 17 Nov 2000 19:15:51 +0100
Subject: [R] Ordinary differential equations in R?
In-Reply-To: <3A157160.C3F871EB@noaa.gov>
References: <3A157160.C3F871EB@noaa.gov>
Message-ID: <14869.30167.475145.812325@gargle.gargle.HOWL>

>>>>> "Tom" == Tom Wainwright <thomas.wainwright at noaa.gov> writes:

    Tom> Is there any R code available for solving ODE's?  I am considering
    Tom> building an interface to ODEPACK, but don't want to duplicate any
    Tom> existing effort.

There's an (experimental I think) package `odesolve'

    Package: odesolve
    Version: 0.5-2
    Date: 2000/04/19
    Title: Solvers for Ordinary Differential Equations
    Author: R. Woodrow Setzer <setzer.woodrow at epa.gov>
    Depends: R (>= 1.0.0)
    Description: This package provides an interface for ODE solvers lsoda,
      lsodar, ddassl, ddslrt.  ODEs are expressed as R functions.
    License: Public Domain

of which I don't have an URL ready.

------

For an ODEPACK interface, please consider interfacing to the GSL

              GSL -- The GNU Scientific Library 
	      http://sourceware.cygnus.com/gsl/

(which has a C version of odepack with it's own gsl-interface)

This would be great to have  (and we could use `it' for numerical
integration, too; it has  QUADPACK too...)


Both these have been on my todo list for many months, but unfortunately
never come close to the top of that list.... ;-(


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Nov 17 19:51:41 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 17 Nov 2000 13:51:41 -0500
Subject: [R] Simulation of Timeseries
References: <20001117145723.4459.qmail@mail.dorf.wh.uni-dortmund.de>
Message-ID: <3A157E3D.A20F7537@bank-banque-canada.ca>

>I try to simulate an ARMA-model using R, but I didn't find any function
>to generate such timeseries.

There is a "simulate()" method for ARMA models in the DSE package on CRAN. It works
for univariate AR-, MA- and ARIMA-series as well as the multivariate versions
sometimes called VAR, VMA, VARMA and VARIMA and also with exogenous variable,
sometimes called ARX, MAX, ARMAX, ARIMAX, VARX, VMAX, VARMAX, VARIMAX. (I use ARMA to
mean all these.) There is also a simulate method for state space models.

Best regards,
Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Sun Nov 19 02:13:20 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Sun, 19 Nov 2000 01:13:20 +0000
Subject: [R] A simple (hopefully) question about Plot's ylim
In-Reply-To: <w0ak1QAHeY+5Ewpi@myatt.demon.co.uk>
References: <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
 <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
 <200007251339.JAA12345@sirocco.cc.mcgill.ca>
 <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.1.0.20001119010544.00abd260@mail.austasia.net>

I have a graph of a variable that fluctuates around 1.1 - for a couple of 
reasons it is better to have the graph range from 0.0 to 1.2 but when I try 
to use the ylim=range(..) argument to plot it insists on using whole 
numbers for the range - so I can use: 0.0 - 2.0 and 0.2 - 1.2 but not 0.0 - 
1.2  .

Is there something I am missing or is this not possible?

Thanks,

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Sat Nov 18 16:03:37 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sat, 18 Nov 2000 16:03:37 +0100
Subject: [R] A simple (hopefully) question about Plot's ylim
In-Reply-To: <4.3.1.0.20001119010544.00abd260@mail.austasia.net>; from philr@mail.austasia.net on Sun, Nov 19, 2000 at 01:13:20AM +0000
References: <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se> <200007251339.JAA12345@sirocco.cc.mcgill.ca> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <w0ak1QAHeY+5Ewpi@myatt.demon.co.uk> <4.3.1.0.200011190105
Message-ID: <20001118160337.A28534@sirio.stat.unipd.it>

On Sun, Nov 19, 2000 at 01:13:20AM +0000, Phil Rhoades wrote:
> I have a graph of a variable that fluctuates around 1.1 - for a couple of 
> reasons it is better to have the graph range from 0.0 to 1.2 but when I try 
> to use the ylim=range(..) argument to plot it insists on using whole 
> numbers for the range - so I can use: 0.0 - 2.0 and 0.2 - 1.2 but not 0.0 - 
> 1.2  .
> 
> Is there something I am missing or is this not possible?
> 

  If I understand the question,

  > plot(...,ylim=c(0.0,1.2),yaxs="i")

  should do what you want.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Sun Nov 19 16:36:40 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Sun, 19 Nov 2000 15:36:40 +0000
Subject: [R] Stataread + R-Devel fails for me
Message-ID: <20001119153640.A311@ps2-4.ucl-41>

Hi,

I have a problem with R-devel and Stataread 2.5. Stataread installs
(compiles, at gives no error messages). But typing

> library(stataread)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
unable to load shared library "/usr/local/lib/R/library/stataread/libs/stataread.so":
/usr/local/lib/R/library/stataread/libs/stataread.so: undefined symbol: errorcall
Error in library(stataread) : .First.lib failed

I have:

platform i586-pc-linux-gnu           
arch     i586                        
os       linux-gnu                   
system   i586, linux-gnu             
status   Under development (unstable)
major    1                           
minor    2.0                         
year     2000                        
month    11                          
day      07                          
language R                           

Any ideas?

Thank you,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Nov 19 17:44:13 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 19 Nov 2000 08:44:13 -0800 (PST)
Subject: [R] Stataread + R-Devel fails for me
In-Reply-To: <20001119153640.A311@ps2-4.ucl-41>
Message-ID: <Pine.GSO.4.21.0011190841380.10018-100000@atlas.biostat.washington.edu>

On Sun, 19 Nov 2000, Zsombor Cseres-Gergely wrote:

> Hi,
> 
> I have a problem with R-devel and Stataread 2.5. Stataread installs
> (compiles, at gives no error messages). But typing

You need version 2.6 of stataread.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sun Nov 19 18:06:23 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 19 Nov 2000 11:06:23 -0600
Subject: [R] Stataread + R-Devel fails for me
In-Reply-To: Zsombor Cseres-Gergely's message of "Sun, 19 Nov 2000 15:36:40 +0000"
References: <20001119153640.A311@ps2-4.ucl-41>
Message-ID: <6rr947c2nk.fsf@franz.stat.wisc.edu>

Zsombor Cseres-Gergely <z.cseres-gergely at ucl.ac.uk> writes:

> I have a problem with R-devel and Stataread 2.5. Stataread installs
> (compiles, at gives no error messages). But typing
> 
> > library(stataread)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> unable to load shared library "/usr/local/lib/R/library/stataread/libs/stataread.so":
> /usr/local/lib/R/library/stataread/libs/stataread.so: undefined symbol: errorcall
> Error in library(stataread) : .First.lib failed

Did you recompile the package under R-devel?  Some of the names of
internal routines that are not part of the API have changed between
R-1.1.1 and R-Devel.

I have no difficulty compiling and testing stataread under R-devel on
a Debian 2.2 Linux system.

 $ /usr/local/bin/R CMD check stataread
 * checking for working latex ... OK
 * using log directory /tmp/stataread.Rcheck

 Installing package `stataread' ...
  libs
 gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c stataread.c -o stataread.o
 gcc -shared  -o stataread.so stataread.o -L/usr/local/lib  
  R
  help
  >>> Building/Updating help pages for package `stataread'
      Formats: text html latex example 
   read.dta                          text    html    latex   example
   write.dta                         text    html    latex   example
  DONE (stataread)

 DONE (INSTALL)

 * checking for file `stataread/DESCRIPTION' ... OK
 * checking package directory ... OK
 * checking DESCRIPTION Package entry ... OK
 * checking DESCRIPTION Version entry ... OK
 * checking DESCRIPTION Title entry ... OK
 * checking DESCRIPTION License entry ... OK
 * checking DESCRIPTION Author entry ... OK
 * checking Rd files ... OK
 * checking for undocumented objects ... OK
 * creating stataread-Ex.R ... OK
 * checking examples ... OK
 * creating stataread-manual.tex ... OK
 ...

Furthermore, there is no symbol errorcall in the shared library
object.

 $ nm -g /tmp/stataread.Rcheck/stataread/libs/stataread.so | egrep errorcall
 $
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garethj at gamasc.com  Mon Nov 20 07:42:29 2000
From: garethj at gamasc.com (GJ)
Date: Mon, 20 Nov 2000 01:42:29 -0500
Subject: [R] Graphic window
Message-ID: <4.3.2.7.2.20001120013632.00ae2290@mail.gamasc.com>

I just recently started using R-Plus and find it excellent.  However, I 
have come up against something I want to change in the graphics window but 
can't.

I am using R 1.1.1 on Windows NT4 PC.  I have drawn two graphs - one on top 
of the other - but I want them to use the whole page.  I checked the values 
of  din, and these are set to din[1]=6.8 and din[2]=6.79.  How can I change 
these to closer to letter size, such as 7.5 and 10.5?

Many thanks,

Gareth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Nov 20 11:12:42 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 20 Nov 2000 10:12:42 +0000 (GMT)
Subject: [R] hist() and density
Message-ID: <Pine.LNX.4.10.10011201012230.1244-100000@localhost.localdomain>

On 17 Nov 2000, Peter Dalgaard BSA wrote:

> Bill Simpson <wsi at gcal.ac.uk> writes:

> > It doesn't seem easy to make density on the y-axis with the current
> > hist().  The freq argument only lets you choose counts (TRUE) or relative
> > frequency (FALSE). I would like to suggest that freq (or some renamed
> > version of the argument) take on the values
> > counts
> > freqs
> > densities
> > So that you can easily do a density histogram.
> 
> Look closer:  freq=FALSE  *does* give densitities. Try for instance
> 
> x<-rnorm(500,sd=100)
> hist(x,freq=F)
> curve(dnorm(x,sd=100),add=T)
> 
> freq=T gives absolute frequencies i.e. counts
OK then, the help page and the plot are wrong.
The help page says:

freq	logical; if TRUE, the histogram graphic is to present a
representation of frequencies, i.e, the counts component of the result; if
FALSE, relative frequencies (``probabilities''), the rel.freqs, are
plotted. Defaults to TRUE iff breaks are equidistant.

It says that freq=FALSE produces a plot with relative frequency on the
y-axis. In general rel freq != density. The two will be equal only if the
bin width is 1. So my suggestion still stands. Right now it seems you can
have counts or densities on the y-axis (mis-labelled on the plot and
mis-labelled in the help as "relative frequency"). Maybe some people want
relative frequency, so allow them to do it too.

rel freq = count/n
density = (count/n)/bin width

So at least the help page should be re-written and the axis label for the
hist when freq=F should be changed to "Density".

New help:

freq    logical; if TRUE, the histogram graphic is to present a
representation of frequencies, i.e, the counts component of the result; if
FALSE, densities, the rel.freqs/bin width, are
plotted. Defaults to TRUE iff breaks are equidistant.

There must be lots of people who have been confused by histogram that was
supposedly rel freq but was really density.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Mon Nov 20 15:13:24 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Mon, 20 Nov 2000 14:13:24 +0000
Subject: [R] Stataread + R-Devel fails for me
In-Reply-To: <Pine.GSO.4.21.0011190841380.10018-100000@atlas.biostat.washington.edu>; from thomas@biostat.washington.edu on Sun, Nov 19, 2000 at 08:44:13AM -0800
References: <20001119153640.A311@ps2-4.ucl-41> <Pine.GSO.4.21.0011190841380.10018-100000@atlas.biostat.washington.edu>
Message-ID: <20001120141324.A26965@socrates-a.ucl.ac.uk>

On Sun, Nov 19, 2000 at 08:44:13AM -0800, Thomas Lumley wrote:
> You need version 2.6 of stataread.

That works (basically). But I gave up reading a 30M Stata file with
128M RAM + 128M Swap. It could not do it after an hour or so.

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Mon Nov 20 16:16:35 2000
From: dj at research.bell-labs.com (David James)
Date: Mon, 20 Nov 2000 10:16:35 -0500 (EST)
Subject: [R] precision, incorrect(?) tapply() NA's 
Message-ID: <200011201516.KAA26803@jessie.research.bell-labs.com>

Hi,

Summary:

I ran into some unexpected behavior in approx() and tapply()
that introduced NA's in "clean" data due to (?) numerical accuracy/round off.
The culprit seems to be in match() that coerces it's arguments to character, 
loosing precision in the process.  

[R development version 1.2.0, 08 Nov 2000, on Linux]

Example:

> r
> [1] 0.6931472 0.6931472 0.6931472 0.6931472 0.6931472 1.3373177 1.8052529
> [8] 3.3902202 4.5529401

the 5th element is not exactly equal to the first 4 elements:

> diff(r)
> [1] 0.000000e+00 0.000000e+00 0.000000e+00 1.110223e-16 6.441705e-01
> [6] 4.679352e-01 1.584967e+00 1.162720e+00

which agrees with unique(r)

> unique(r)
> [1] 0.6931472 0.6931472 1.3373177 1.8052529 3.3902202 4.5529401

(note that .Machine$double.eps is [1] 2.220446e-16, twice the 4th diff.)

Now the following call to approx() erroneously introduces an NA:

> approx(r, rec.p, ties = min)
Error in approx(r, rec.p, ties = "min") : approx(): attempted to interpolate NA
values

where the value of rec.p is 
> rec.p
[1] 0.050 0.100 0.250 0.500 0.750 0.900 0.950 0.990 0.999

Looking at approx we see a call to tapply, which is producing the NA

> tapply(rec.p, r, min)
0.693147180559945 0.693147180559945  1.33731770200756  1.80525289211574 
            0.050                NA             0.900             0.950 
3.39022015484073  4.55294011989587 
           0.990             0.999 

Upon inspection, we see that tapply coerces its INDEX (second) argument
to factors, which in turn does a match():

> match(r, unique(r))
[1] 1 1 1 1 1 3 4 5 6

which shows that match() incorrectly assigned the 5th entry in r to the first
element of unique(r) -- not the 2nd one. (We also see that index 2 does not
appear on the output of match() at all.)

Thus match() seems to be introducing the round off as it coerces its 
arguments to character:

> match
function (x, table, nomatch = NA) 
.Internal(match(as.character(x), as.character(table), nomatch))

I'm enclosing the "r" and "rec.p" vectors as binary R data. I wish I could
send the ASCII versions, but then I would be introducing rounding
and the example above could not be reproduced.

By the way, I *do* realize that it's my (i.e., user) responsibility
to deal myself with such accuracy/precision issues (which I wishfully 
thought I was by specifying "ties = min" to approx).  Nevertheless, there 
seems to be some inconsistency somewhere.

With regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/octet-stream
Size: 381 bytes
Desc: tmp.Rdata
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001120/8241c4c3/attachment.obj

From p.dalgaard at biostat.ku.dk  Mon Nov 20 16:46:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 2000 16:46:40 +0100
Subject: [R] Re: precision, incorrect(?) tapply() NA's
In-Reply-To: David James's message of "Mon, 20 Nov 2000 10:16:35 -0500 (EST)"
References: <200011201516.KAA26803@jessie.research.bell-labs.com>
Message-ID: <x2r9468x3z.fsf@blueberry.kubism.ku.dk>

David James <dj at research.bell-labs.com> writes:

> > [1] 0.000000e+00 0.000000e+00 0.000000e+00 1.110223e-16 6.441705e-01
> > [6] 4.679352e-01 1.584967e+00 1.162720e+00
> 
> which agrees with unique(r)
> 
> > unique(r)
> > [1] 0.6931472 0.6931472 1.3373177 1.8052529 3.3902202 4.5529401
> 
> (note that .Machine$double.eps is [1] 2.220446e-16, twice the 4th diff.)

Yep, but since the number is < 1 and double.eps is a relative
quantity, it's probably still a last-bit representation issue in 64
bit doubles (i.e. it is not the infamous Intel extended precision
playing tricks on us again.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Mon Nov 20 21:15:39 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Mon, 20 Nov 2000 12:15:39 -0800
Subject: [R] unexpected reloc type in dyn.load
References: <XFMail.001117105958.plummer@iarc.fr>
Message-ID: <3A19866B.3B220192@noaa.gov>

I am getting errors trying to install contributed packages.  After running
R INSTALL, when I try to load the library in R I get something like: 

  >library(akima)
  Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
  "/usr/local/lib/R/library/akima/libs/akima.so":
      unexpected reloc type 0x12
  Error in library(akima) : .First.lib failed unexpected reloc type

This happens both with akima and with odesolve (from Woodrow Setzer).

The .so file exists and seems to be of the right type.

I am building the libraries on RedHat 7.0, and I suspect some problem with
the FORTRAN compiler, which is g77 version 2.96 20000731 (Red Hat Linux
7.0) (from FSF-g77 version 0.5.26 20000731), R Version 1.1.1  (August 15,
2000)

Has anyone else experienced this or can anyone suggest a workaround (short
of installing another compiler)?

-- 
Tom Wainwright
NOAA/NMFS/NWFSC
2030 S Marine Science Dr
Newport, OR 97365 USA
thomas.wainwright at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Nov 20 22:32:35 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 20 Nov 2000 13:32:35 -0800 (PST)
Subject: [R] Stataread + R-Devel fails for me
In-Reply-To: <20001120141324.A26965@socrates-a.ucl.ac.uk>
Message-ID: <Pine.GSO.4.21.0011201326090.19036-100000@atlas.biostat.washington.edu>

On Mon, 20 Nov 2000, Zsombor Cseres-Gergely wrote:

> On Sun, Nov 19, 2000 at 08:44:13AM -0800, Thomas Lumley wrote:
> > You need version 2.6 of stataread.
> 
> That works (basically). But I gave up reading a 30M Stata file with
> 128M RAM + 128M Swap. It could not do it after an hour or so.

That's surprising.  I just tried a 32Mb file on two machines.  Using
R1.1.1 with memory limited to vsize=100M, nsize=1000k (which would fit
into 128M, I think), it took about 20secs or less. This was using a local 
drive on a Sun server.

Using Rpre1.2 (and a network drive) on a 2-year-old Linux box it took 
  > unix.time(a<-read.dta("~/tmp/bigstatafile.dta"))
  [1] 18.12 29.21 47.74  0.00  0.00
  > gc()
            used (Mb) gc trigger (Mb)
  Ncells  483066 12.9     597831 16.0
  Vcells 8321421 63.5    8832871 67.4

and doesn't seem to have used an unreasonably large amount of RAM.

If the dataset has a lot of strings I would expect it to be slower (though
not that much), but Stata advises against using strings anyway.  Bad file
buffering/caching might cause problems too (since I use byte-by-byte
reads), but I can't see it being that bad.

Could you send the results of -desc- on your Stata file?

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 20 22:47:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 2000 22:47:38 +0100
Subject: [R] unexpected reloc type in dyn.load
In-Reply-To: Tom Wainwright's message of "Mon, 20 Nov 2000 12:15:39 -0800"
References: <XFMail.001117105958.plummer@iarc.fr> <3A19866B.3B220192@noaa.gov>
Message-ID: <x2r94648p1.fsf@blueberry.kubism.ku.dk>

Tom Wainwright <thomas.wainwright at noaa.gov> writes:

> Has anyone else experienced this or can anyone suggest a workaround (short
> of installing another compiler)?

We've more or less decided not to support the gcc 2.96 that never
should have shipped with RH7.0, so I'm afraid the workaround *is*
another compiler.

There are two options of which one might not work, and the other might
not work either (although it should have a better chance):

(1) Install gcc 2.95.2. This is known good compiler-wise (I run it on
    RH 6.2), unless they also happened to break glibc... Compiling gcc
    from source is not all that painful, and if you install into
    /usr/local (the default) it is also fairly easy to get rid of at a
    later stage.

(2) The rawhide distributions contain updated versions gcc 2.96, fixing
    some of its bugs. That might be easier to install for you, but
    nobody knows whether the bugs fixed are the relevant ones... 

If any of this works, please let us know (and please try 'make
check'). We're anticipating a minor flood of queries re. this RedHat
unfortunateness.

BTW: Martyn's RPM for RH7.0 is compiled with gcc 2.95.2. There's an
off chance that installing that would allow the library to work if
built with the system compilers.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 21 00:48:08 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 20 Nov 2000 18:48:08 -0500 (EST)
Subject: [R] unexpected reloc type in dyn.load
In-Reply-To: <x2r94648p1.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.30.0011201844590.2302-100000@bolker.zoo.ufl.edu>


  Forgive the really vague thought ... but ... I thought I heard somewhere
that RH 7.0 also shipped with an older compiler (maybe referred to as
"kgcc"?) because people were having trouble compiling the Linux kernel
with the new gcc ... according to a random web-trawl, kgcc is

gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)

Perhaps this would work better?

  If this works it might (?) even be possible to put the workaround into
the configure scripts, I guess ...

On 20 Nov 2000, Peter Dalgaard BSA wrote:

> Tom Wainwright <thomas.wainwright at noaa.gov> writes:
>
> > Has anyone else experienced this or can anyone suggest a workaround (short
> > of installing another compiler)?
>
> We've more or less decided not to support the gcc 2.96 that never
> should have shipped with RH7.0, so I'm afraid the workaround *is*
> another compiler.
>
> There are two options of which one might not work, and the other might
> not work either (although it should have a better chance):
>
> (1) Install gcc 2.95.2. This is known good compiler-wise (I run it on
>     RH 6.2), unless they also happened to break glibc... Compiling gcc
>     from source is not all that painful, and if you install into
>     /usr/local (the default) it is also fairly easy to get rid of at a
>     later stage.
>
> (2) The rawhide distributions contain updated versions gcc 2.96, fixing
>     some of its bugs. That might be easier to install for you, but
>     nobody knows whether the bugs fixed are the relevant ones...
>
> If any of this works, please let us know (and please try 'make
> check'). We're anticipating a minor flood of queries re. this RedHat
> unfortunateness.
>
> BTW: Martyn's RPM for RH7.0 is compiled with gcc 2.95.2. There's an
> off chance that installing that would allow the library to work if
> built with the system compilers.
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 21 01:31:24 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Nov 2000 01:31:24 +0100
Subject: [R] unexpected reloc type in dyn.load
In-Reply-To: ben@zoo.ufl.edu's message of "Mon, 20 Nov 2000 18:48:08 -0500 (EST)"
References: <Pine.LNX.4.30.0011201844590.2302-100000@bolker.zoo.ufl.edu>
Message-ID: <x2r946jhcz.fsf@blueberry.kubism.ku.dk>

ben at zoo.ufl.edu writes:

>   Forgive the really vague thought ... but ... I thought I heard somewhere
> that RH 7.0 also shipped with an older compiler (maybe referred to as
> "kgcc"?) because people were having trouble compiling the Linux kernel
> with the new gcc ... according to a random web-trawl, kgcc is
> 
> gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)
> 
> Perhaps this would work better?
> 
>   If this works it might (?) even be possible to put the workaround into
> the configure scripts, I guess ...

Unfortunately, the egcs-2.91.66 from RH 6.2 is *also* having trouble
with the akima library (and several others with Fortran components),
so I wouldn't set my hopes too high...

Compiling with kgcc *and* using --with-f2c on the configure might
work, but honestly...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadik at kutsyy.com  Tue Nov 21 09:07:08 2000
From: vadik at kutsyy.com (Vadik Kutsyy)
Date: Tue, 21 Nov 2000 03:07:08 -0500
Subject: [R] boxplot grouped by two variables.
Message-ID: <3A1A2D2C.3@kutsyy.com>

Is there a quick way to make boxplots groups by two variables?  By that 
I mean, that if x axes have values ("A","B","C"), than at each value 
there would be a few boxplots each for a value of second variable (say 
("1","2","3")).

Thank You.
-- 
Vadim Kutsyy
http://www.kutsyy.com                     vadim at kutsyy.com
The University of Michigan - Ann Arbor         PhD Student

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Nov 21 09:50:19 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 21 Nov 2000 09:50:19 +0100 (CET)
Subject: [R] unexpected reloc type in dyn.load
In-Reply-To: <x2r946jhcz.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.001121095019.plummer@iarc.fr>

On 21-Nov-00 Peter Dalgaard BSA wrote:
> ben at zoo.ufl.edu writes:
> 
>>   Forgive the really vague thought ... but ... I thought I heard somewhere
>> that RH 7.0 also shipped with an older compiler (maybe referred to as
>> "kgcc"?) because people were having trouble compiling the Linux kernel
>> with the new gcc ... according to a random web-trawl, kgcc is
>> 
>> gcc version egcs-2.91.66 19990314/Linux (egcs-1.1.2 release)
>> 
>> Perhaps this would work better?
>> 
>>   If this works it might (?) even be possible to put the workaround into
>> the configure scripts, I guess ...
> 
> Unfortunately, the egcs-2.91.66 from RH 6.2 is *also* having trouble
> with the akima library (and several others with Fortran components),
> so I wouldn't set my hopes too high...

I tested akima after building R with kgcc.  It does work.

Building gcc 2.95.2 on Red Hat 7.0 is not so easy since it uses glibc 2.2
(actually a pre-release version ... ).  You can get the necessary patches
to build it at
ftp://ftp-fis.iarc.fr/pub/R/RedHat/7.x/DIY/

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Nov 21 09:52:30 2000
From: gb at stat.umu.se (gb)
Date: Tue, 21 Nov 2000 09:52:30 +0100 (CET)
Subject: [R] unexpected reloc type in dyn.load
In-Reply-To: <x2r94648p1.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.30.0011210910390.4380-100000@tal.stat.umu.se>

On 20 Nov 2000, Peter Dalgaard BSA wrote:

> Tom Wainwright <thomas.wainwright at noaa.gov> writes:
>
> > Has anyone else experienced this or can anyone suggest a workaround (short
> > of installing another compiler)?
>
> We've more or less decided not to support the gcc 2.96 that never
> should have shipped with RH7.0, so I'm afraid the workaround *is*
> another compiler.
>
> There are two options of which one might not work, and the other might
> not work either (although it should have a better chance):
>
> (1) Install gcc 2.95.2. This is known good compiler-wise (I run it on
>     RH 6.2), unless they also happened to break glibc... Compiling gcc
>     from source is not all that painful, and if you install into
>     /usr/local (the default) it is also fairly easy to get rid of at a
>     later stage.
>
> (2) The rawhide distributions contain updated versions gcc 2.96, fixing
>     some of its bugs. That might be easier to install for you, but
>     nobody knows whether the bugs fixed are the relevant ones...
>
> If any of this works, please let us know (and please try 'make
> check'). We're anticipating a minor flood of queries re. this RedHat
> unfortunateness.
>
> BTW: Martyn's RPM for RH7.0 is compiled with gcc 2.95.2. There's an
> off chance that installing that would allow the library to work if
> built with the system compilers.

I compiled gcc-2.95.2 following Martyn's hints, and it went very smoothly
and all checks building  R  passed. See the ReadMe file in

ftp://ftp-fis.iarc.fr/pub/R/RedHat/7.x/DIY/

where you also find the necessary patches. The  gcc  distribution itself
can be found starting at http://gcc.gnu.org. Remember then to put
/usr/local/bin  before /usr/bin in your  PATH! If you followed the
default installation path. Once again, it was very simple.

Thanks Martyn!

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Tue Nov 21 11:47:02 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Tue, 21 Nov 2000 11:47:02 +0100
Subject: [R] boxplot grouped by two variables.
In-Reply-To: <3A1A2D2C.3@kutsyy.com>; from vadik@kutsyy.com on Tue, Nov 21, 2000 at 03:07:08 -0500
References: <3A1A2D2C.3@kutsyy.com>
Message-ID: <20001121114702.A6429@diw14093.diw.de>

Hello,

you can make a new variable with the values A1, A2, A3, B1, B2 ...
and then do a boxplot and define you own axis-labels.

I guess it is not the most elegant way ...

Hope it helps

jan

On Tue, 21 Nov 2000, Vadik Kutsyy wrote:

> Is there a quick way to make boxplots groups by two variables?  By that 
> I mean, that if x axes have values ("A","B","C"), than at each value 
> there would be a few boxplots each for a value of second variable (say 
> ("1","2","3")).

+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From usjag at lucent.com  Tue Nov 21 13:55:32 2000
From: usjag at lucent.com (Garcia, Jose Angel (Jose Angel))
Date: Tue, 21 Nov 2000 12:55:32 -0000
Subject: [R] Exist the S 'dates' function in R?
Message-ID: <CB2D2F502B52D211BB3A00805F15215102AD2438@SP0005EXCH001U>


Good afternoon,

I am a new user of the R application, and I don't know to much about the
lenguage.

I am  trying a to run some of the S programs I have, and some of them are
crashing with the "dates" function. This function translate a character
string into a 'dates representation object'. 

Do you know if there is a similar function in R?

Thank you very much for your help

Regards

Jose Angel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Nov 21 15:11:52 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Tue, 21 Nov 2000 08:11:52 -0600 (CST)
Subject: [R] large object disorientation
Message-ID: <Pine.SOL.3.96.1001121073837.24657A-100000@ysidro>

This is an inquiry for all those who have been working on external 
data base applications.  I sent an inquiry (below) to snews about
this sort of thing a couple of years ago and eventually decided that
I would wait to see what external database developments occurred and
then revisit the problem.  I hope that foundations are now better.

Suppose for the sake of concreteness you have a large dataframe-like
object stored in some compressed format (e.g.  I have a 48Mb stata
dataset that is about 2.5 million observations on about 40 variables.)
and you would like to do lm() fitting.  That is you would like to
specify that the data frame is somehow external, and using the formula
specification in lm() generate a sequence of queries that would return
chunks of rows of the dataframe, accumulate X'X and X'y, do Major
Cholesky's solve, and return.  All with a modest memory requirement
and in the blink of the cpu's eye.  I realize that it sounds a bit
retrograde to be doing least squares computations like this, but if
there were a good way to do this, then there would be good ways to
do lots of other more interesting things too, I believe. 

I expect that there are still grand plans for data type external sorts
of schemes that would, as John's message cited below suggests, allow
a transparent, fully featured, access in the language to large objects.
But for the moment I would be happy with something much more limited that
I could use to brew at home.  So any advice about which of the several
database interfaces might be suitable, and references to related applications
would be very welcome.


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

---------- Forwarded message ----------
Date: Thu, 2 Jul 1998 17:45:21 -0500 (CDT)
From: Roger Koenker <roger at ysidro.econ.uiuc.edu>
To: s-news at wubios.wustl.edu
Subject: [S] large object disorientation

Against my better judgement, I'm being inextrictably drawn into problems
of computing fits for linear models which involve X matrices which are
too big to handle comfortably as single objects in Splus.  Of course,
it is clear that one can do old-fashioned things like accumulate moment
matrices by looping over submatrices stored as separate datasets, but
this seems a bit too much like reinventing SAS.

John Chambers about 5 years ago suggested here that there was some ongoing
research on a more modern approach to this sort of thing.  I'm wondering
whether there is progress on this front which will appear in V 5.0
for Unix, or whether others have any experience which they would be
willing to share on this topic.

John's comment is available from the S-news archive: 

	http://lib.stat.cmu.edu/s-news/Burst/3862

The basic idea of using the method/class approach to recognize
disaggregated large objects, operate on them a piece at a time
and then assemble the results seems very attractive.  Obviously,
it is going to be easier to to implement for some functions than
others, but it seems that it would be better to have a limited
functionality for large objects of this sort,  than nothing at
all.  In fact at the moment, I would be happy to have something
which managed to do basic indexing operations and some linear
algebra.



url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-----------------------------------------------------------------------
This message was distributed by s-news at wubios.wustl.edu.  To unsubscribe
send e-mail to s-news-request at wubios.wustl.edu with the BODY of the
message:  unsubscribe s-news

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alvine.Bissery at imag.fr  Tue Nov 21 16:26:58 2000
From: Alvine.Bissery at imag.fr (Alvine Bissery)
Date: Tue, 21 Nov 2000 16:26:58 +0100
Subject: [R] nods and tree .. 
Message-ID: <3A1A9441.CF836295@imag.fr>

hello,

I would like to build a classification tree, with the formula  x~y,
where x is a 22 levels factor, and y a numeric variable.

I use rpart (R) or tree (Splus) function, but I would like to know how I
can do to force  the tree to have exactly 22 terminal nods, one for each
level.

Thank you

Alvine Bissery

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Tue Nov 21 18:10:51 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 21 Nov 2000 17:10:51 +0000 (GMT)
Subject: [R] boxplot grouped by two variables.
In-Reply-To: <3A1A2D2C.3@kutsyy.com>
Message-ID: <Pine.GSO.4.20.0011211651590.14553-100000@laplace>

Hi Vadik,

On Tue, 21 Nov 2000, Vadik Kutsyy wrote:

> Is there a quick way to make boxplots groups by two variables?  By that 
> I mean, that if x axes have values ("A","B","C"), than at each value 
> there would be a few boxplots each for a value of second variable (say 
> ("1","2","3")).

If I understand you correctly you want to try the "interaction" function
in a boxplot.  Your data needs to be organised into a data.frame with
appropriate factors.  Here's a simple example ...

data(warpbreaks)
boxplot(breaks~interaction(wool, tension), data=warpbreaks, col=2:3)

Hope this helps, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Tue Nov 21 18:50:06 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Tue, 21 Nov 2000 09:50:06 -0800
Subject: [R] unexpected reloc type in dyn.load
References: <XFMail.001121095019.plummer@iarc.fr>
Message-ID: <3A1AB5CE.52F47EAC@noaa.gov>

Martyn Plummer wrote:
>  
> I tested akima after building R with kgcc.  It does work.
>

That's interesting.  I also built my R with kgcc, then tried to install
akima, but it doesn't work.

What bothers me is that all the libraries included in the R distribution
work, but any contributed libraries that I've installed subsequently fail. 
It seems that R INSTALL is doing something different than the original make
did, but all the compiler and loader options I can see are identical.

I'll keep playing with options and see if I can get something that works.

What I've tried so far that hasn't worked:

--Using the kgcc compiler.

--Updating the gcc and g77 compilers to 2.96-63 (Rawhide) versions.

--Updating glibc to 2.1.94-3.

Next, I'll try downdating the compilers to 2.95.2.

-- 
Tom Wainwright
NOAA/NMFS/NWFSC
2030 S Marine Science Dr
Newport, OR 97365 USA
thomas.wainwright at noaa.gov
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tim.Smits at student.kuleuven.ac.be  Tue Nov 21 19:19:09 2000
From: Tim.Smits at student.kuleuven.ac.be (Tim Smits)
Date: Tue, 21 Nov 2000 19:19:09 +0100
Subject: [R] S function crosstabs
Message-ID: <3A1ABC9D.D0106187@student.kuleuven.ac.be>

Hello there,

I'm quite new with R. Does anybody know a true variant in R of the Splus
function "crosstabs" to create contingency tables, with the possibility
of assigning a weight variable?

Thanx

Tim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadik at kutsyy.com  Tue Nov 21 19:26:29 2000
From: vadik at kutsyy.com (Vadik Kutsyy)
Date: Tue, 21 Nov 2000 13:26:29 -0500
Subject: [R] boxplot grouped by two variables.
References: <Pine.GSO.4.20.0011211651590.14553-100000@laplace>
Message-ID: <3A1ABE55.5010700@kutsyy.com>

>> Is there a quick way to make boxplots groups by two variables?  By that 
>> I mean, that if x axes have values ("A","B","C"), than at each value 
>> there would be a few boxplots each for a value of second variable (say 
>> ("1","2","3")).
> 
> 
> If I understand you correctly you want to try the "interaction" function
> in a boxplot.  Your data needs to be organised into a data.frame with
> appropriate factors.  Here's a simple example ...
> 
> data(warpbreaks)
> boxplot(breaks~interaction(wool, tension), data=warpbreaks, col=2:3)
> 
> Hope this helps, Jonathan.

Thanks, it works.  Now fowlup question, I created addition level, in 
order to have extra space between groups.  Is there a nicer way to do it?

Thanks.

-- 
Vadim Kutsyy
http://www.kutsyy.com                     vadim at kutsyy.com
The University of Michigan - Ann Arbor         PhD Student

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.wainwright at noaa.gov  Tue Nov 21 20:13:44 2000
From: thomas.wainwright at noaa.gov (Tom Wainwright)
Date: Tue, 21 Nov 2000 11:13:44 -0800
Subject: [R] unexpected reloc type in dyn.load
References: <XFMail.001121095019.plummer@iarc.fr> <3A1AB5CE.52F47EAC@noaa.gov>
Message-ID: <3A1AC968.2D5DB508@noaa.gov>

Tom Wainwright wrote:
> 
> What I've tried so far that hasn't worked:
> 
> --Using the kgcc compiler.
> 
> --Updating the gcc and g77 compilers to 2.96-63 (Rawhide) versions.
> 
> --Updating glibc to 2.1.94-3.
> 
> Next, I'll try downdating the compilers to 2.95.2.

Well, I gave up playing with compilers and downloaded Martyn Plummer's R
rpm. This installed smoothly.  I then installed akima and odesolve, both
built using gcc/g77 2.96-63.  Both work, despite the mismatch between
2.95.2 used to build R and 2.96 used to build the libraries.

Thank you all for your help!

--Tom Wainwright
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Nov 21 21:55:07 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 21 Nov 2000 21:55:07 +0100
Subject: [R] Exist the S 'dates' function in R?
References: <CB2D2F502B52D211BB3A00805F15215102AD2438@SP0005EXCH001U>
Message-ID: <3A1AE12B.26627361@statistik.uni-dortmund.de>

"Garcia, Jose Angel (Jose Angel)" wrote:
> 
> Good afternoon,
> 
> I am a new user of the R application, and I don't know to much about the
> lenguage.
> 
> I am  trying a to run some of the S programs I have, and some of them are
> crashing with the "dates" function. This function translate a character
> string into a 'dates representation object'.
> 
> Do you know if there is a similar function in R?
> 
> Thank you very much for your help


There's a function dates() in the package "chron"....

Uwe Ligges



BTW: In Version 1.2.0 Under development (unstable) (2000-11-15)

> dates(c("02/27/92", "02/27/92", "01/14/92",
+                "02/28/92", "02/01/92"))
Error in names<-.default(*tmp*, value = fnames) : 
        Unimplemented feature in duplicate
> dates("02/27/99")
Error in as.vector(x, "double") : cannot coerce to vector
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov 21 22:09:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Nov 2000 13:09:59 -0800 (PST)
Subject: [R] large object disorientation
In-Reply-To: <Pine.SOL.3.96.1001121073837.24657A-100000@ysidro>
Message-ID: <Pine.GSO.4.21.0011211308230.29752-100000@atlas.biostat.washington.edu>

On Tue, 21 Nov 2000, Roger Koenker wrote:

> This is an inquiry for all those who have been working on external 
> data base applications.  I sent an inquiry (below) to snews about
> this sort of thing a couple of years ago and eventually decided that
> I would wait to see what external database developments occurred and
> then revisit the problem.  I hope that foundations are now better.
> 
> Suppose for the sake of concreteness you have a large dataframe-like
> object stored in some compressed format (e.g.  I have a 48Mb stata
> dataset that is about 2.5 million observations on about 40 variables.)
> and you would like to do lm() fitting.  That is you would like to
> specify that the data frame is somehow external, and using the formula
> specification in lm() generate a sequence of queries that would return
> chunks of rows of the dataframe, accumulate X'X and X'y, do Major
> Cholesky's solve, and return.  All with a modest memory requirement
> and in the blink of the cpu's eye.  I realize that it sounds a bit
> retrograde to be doing least squares computations like this, but if
> there were a good way to do this, then there would be good ways to
> do lots of other more interesting things too, I believe. 

I don't know if this is relevant/useful, but there is Fortran code as part
of the "leaps" package to do linear regression in bounded memory using a
QR decomposition (less retrograde).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov 21 22:16:08 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Nov 2000 13:16:08 -0800 (PST)
Subject: [R] S function crosstabs
In-Reply-To: <3A1ABC9D.D0106187@student.kuleuven.ac.be>
Message-ID: <Pine.GSO.4.21.0011211314400.29752-100000@atlas.biostat.washington.edu>

On Tue, 21 Nov 2000, Tim Smits wrote:

> Hello there,
> 
> I'm quite new with R. Does anybody know a true variant in R of the Splus
> function "crosstabs" to create contingency tables, with the possibility
> of assigning a weight variable?

In the development version (soon to be R1.2)  there is a function xtabs()
that does this sort of thing.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From woodardw001 at hawaii.rr.com  Tue Nov 21 23:12:34 2000
From: woodardw001 at hawaii.rr.com (W. T. Woodard)
Date: Tue, 21 Nov 2000 12:12:34 -1000
Subject: [R] Session logging in Windows98?
Message-ID: <007c01c05408$267139c0$6401a8c0@pionex>

I'd like to log all console I/O for an entire session while maintaining
normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
function is not the answer since it diverts output from the console. In the
RFAQ I see references to "...save the contents of the interaction buffer to
a file..." and in the R-Help Archive "...just save the console output...".
I guess I've missed something somewhere, so I'd appreciate it someone could
tell me (a) how to save the contents of the interaction buffer, or (b) how
to save the console output.

Thanks for your help,

Bill Woodard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rose_Amanda_Hoberman at gs36.sp.cs.cmu.edu  Tue Nov 21 23:30:57 2000
From: Rose_Amanda_Hoberman at gs36.sp.cs.cmu.edu (Rose Amanda Hoberman)
Date: Tue, 21 Nov 2000 17:30:57 -0500
Subject: [R] help installing packages
Message-ID: <200011212231.XAA11057@stat.math.ethz.ch>


I was trying to install a package but received this error message:

>R INSTALL KernSmooth_2.22-3.tar.gz 

Installing package `KernSmooth' ...
 libs
g77   -fPIC  -O2 -m486 -fno-strength-reduce -g -c blkest.f -o blkest.o
make: g77: Command not found
make: *** [blkest.o] Error 127

Must I have a fortran compiler to install R packages?

Thanks for any advice,

Rose Hoberman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov 21 23:40:51 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Nov 2000 14:40:51 -0800 (PST)
Subject: [R] help installing packages
In-Reply-To: <200011212231.XAA11057@stat.math.ethz.ch>
Message-ID: <Pine.GSO.4.21.0011211439570.29752-100000@atlas.biostat.washington.edu>

On Tue, 21 Nov 2000, Rose Amanda Hoberman wrote:

> 
> I was trying to install a package but received this error message:
> 
> >R INSTALL KernSmooth_2.22-3.tar.gz 
> 
> Installing package `KernSmooth' ...
>  libs
> g77   -fPIC  -O2 -m486 -fno-strength-reduce -g -c blkest.f -o blkest.o
> make: g77: Command not found
> make: *** [blkest.o] Error 127
> 
> Must I have a fortran compiler to install R packages?

Yes, if the package uses fortran. This one does, but many others don't.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 21 23:48:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Nov 2000 23:48:55 +0100
Subject: [R] help installing packages
In-Reply-To: Rose Amanda Hoberman's message of "Tue, 21 Nov 2000 17:30:57 -0500"
References: <200011212231.XAA11057@stat.math.ethz.ch>
Message-ID: <x2em05ym94.fsf@blueberry.kubism.ku.dk>

Rose Amanda Hoberman <Rose_Amanda_Hoberman at gs36.sp.cs.cmu.edu> writes:

> I was trying to install a package but received this error message:
> 
> >R INSTALL KernSmooth_2.22-3.tar.gz 
> 
> Installing package `KernSmooth' ...
>  libs
> g77   -fPIC  -O2 -m486 -fno-strength-reduce -g -c blkest.f -o blkest.o
> make: g77: Command not found
> make: *** [blkest.o] Error 127
> 
> Must I have a fortran compiler to install R packages?

Yes, if the R package contains fortran code (like this one does),
unless R itself was configure and built using the f2c program. (You
can in principle diddle the configuration so that R INSTALL uses f2c
but I strongly doubt it will be worth the trouble).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Tue Nov 21 00:23:22 2000
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Mon, 20 Nov 2000 23:23:22 +0000
Subject: [R] Stataread + R-Devel fails for me
In-Reply-To: <Pine.GSO.4.21.0011201326090.19036-100000@atlas.biostat.washington.edu>; from thomas@biostat.washington.edu on Mon, Nov 20, 2000 at 01:32:35PM -0800
References: <20001120141324.A26965@socrates-a.ucl.ac.uk> <Pine.GSO.4.21.0011201326090.19036-100000@atlas.biostat.washington.edu>
Message-ID: <20001120232322.A11065@ps2-4.ucl-41>

On Mon, Nov 20, 2000 at 01:32:35PM -0800, Thomas Lumley wrote:
>   > unix.time(a<-read.dta("~/tmp/bigstatafile.dta"))

Well, I was not able to reproduce my "experiment". First I thought that my
problem was caused by using '' instead of "". I have tried the latter as well,
but -- now -- it did work using both. Anyway, it works.
Thank you,
Zsombor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Wed Nov 22 09:05:10 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Wed, 22 Nov 2000 09:05:10 +0100
Subject: [R] Session logging in Windows98?
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E8AE@exdkba03.novo.dk>

Further to W. T. Woodard's query:
The natural solution would be to provide a function tee()
with the same syntax as sink, whose effect was to 
divert output to a file but als? let the output appear
at the screen.

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


> -----Original Message-----
> From: W. T. Woodard [mailto:woodardw001 at hawaii.rr.com]
> Sent: 21. november 2000 23:13
> To: r-help at lists.r-project.org
> Subject: [R] Session logging in Windows98?
> 
> 
> I'd like to log all console I/O for an entire session while 
> maintaining
> normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
> function is not the answer since it diverts output from the 
> console. In the
> RFAQ I see references to "...save the contents of the 
> interaction buffer to
> a file..." and in the R-Help Archive "...just save the 
> console output...".
> I guess I've missed something somewhere, so I'd appreciate it 
> someone could
> tell me (a) how to save the contents of the interaction 
> buffer, or (b) how
> to save the console output.
> 
> Thanks for your help,
> 
> Bill Woodard
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Wed Nov 22 10:55:24 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 22 Nov 2000 09:55:24 +0000
Subject: [R] Figure rotation
Message-ID: <dgkzois5o1f.fsf@scs2.ncl.ac.uk>

I am experiencing a problem generating a postscript version
of a figure. The figure appears in the X11 window correctly
but if I use 

dev.copy(postscript, horiz=TRUE)
dev.off()

the figure in the postscript file is rotated by -90 degrees and clipped.
The postscript _page_ is landscape.

Changing this to 

dev.copy(postscript, horiz=FALSE)
dev.off()

works as it should (all of the figure is printed and the page is
portrait) but the figure is ill-proportioned.

My figure is a 2x5 matrix of matplots. I use mfrow to define the
configuration and mfg to define which graph is which.

Any help would be appreciated.

Regards
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Nov 22 15:48:33 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 22 Nov 2000 09:48:33 -0500
Subject: [R] Figure rotation
In-Reply-To: <dgkzois5o1f.fsf@scs2.ncl.ac.uk>
References: <dgkzois5o1f.fsf@scs2.ncl.ac.uk>
Message-ID: <3a1ddaf0.167599180@fisher.stats.uwo.ca>

On 22 Nov 2000 09:55:24 +0000, you wrote in message
<dgkzois5o1f.fsf at scs2.ncl.ac.uk>:

>I am experiencing a problem generating a postscript version
>of a figure. The figure appears in the X11 window correctly
>but if I use 
>
>dev.copy(postscript, horiz=TRUE)
>dev.off()
>
>the figure in the postscript file is rotated by -90 degrees and clipped.
>The postscript _page_ is landscape.
>
>Changing this to 
>
>dev.copy(postscript, horiz=FALSE)
>dev.off()
>
>works as it should (all of the figure is printed and the page is
>portrait) but the figure is ill-proportioned.
>
>My figure is a 2x5 matrix of matplots. I use mfrow to define the
>configuration and mfg to define which graph is which.
>
>Any help would be appreciated.

You can set the width and height of a page in the postscript driver;
maybe the workaround

dev.copy(postscript, horiz=TRUE, width=11, height=8.5) 

(or whatever the measurements are for A4 paper, if you want that)
would give you something usable.  Both your original and this
workaround seem to be okay for me in 1.1.1; are you using the latest
version?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Wed Nov 22 16:54:31 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 22 Nov 2000 15:54:31 +0000
Subject: [R] Figure rotation
In-Reply-To: murdoch@stats.uwo.ca's message of "Wed, 22 Nov 2000 09:48:33 -0500"
References: <dgkzois5o1f.fsf@scs2.ncl.ac.uk> <3a1ddaf0.167599180@fisher.stats.uwo.ca>
Message-ID: <dgkn1es57ew.fsf@scs2.ncl.ac.uk>

murdoch at stats.uwo.ca (Duncan Murdoch) writes:

> On 22 Nov 2000 09:55:24 +0000, you wrote in message
> <dgkzois5o1f.fsf at scs2.ncl.ac.uk>:
> 

[...]

> 
> You can set the width and height of a page in the postscript driver;
> maybe the workaround
> 
> dev.copy(postscript, horiz=TRUE, width=11, height=8.5) 

Defining the width and height work. I am still surprised that
the figure is rotated.

[...]

Thanks for the advice (or should that be advices... :-))

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgriswol at jhsph.edu  Wed Nov 22 18:04:10 2000
From: mgriswol at jhsph.edu (Michael Griswold)
Date: Wed, 22 Nov 2000 12:04:10 -0500
Subject: [R] memory check
Message-ID: <659fd643a8.643a8659fd@jhsph.edu>

I'm working on R1.1.1 and was wondering if there is a way to check how 
much memory an object would require, a.k.a. a way to check whether the 
object you'd like to create is going to exceed the heap memory 
available?

 Something to the effect of:

  if ( memorycheck(object) > vsize ) { don't create object }
  else { create object }

 Thanks in advance for any help,

  Michael Griswold

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Nov 22 18:38:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 22 Nov 2000 09:38:46 -0800 (PST)
Subject: [R] memory check
In-Reply-To: <659fd643a8.643a8659fd@jhsph.edu>
Message-ID: <Pine.GSO.4.21.0011220933370.9780-100000@atlas.biostat.washington.edu>

On Wed, 22 Nov 2000, Michael Griswold wrote:

> I'm working on R1.1.1 and was wondering if there is a way to check how 
> much memory an object would require, a.k.a. a way to check whether the 
> object you'd like to create is going to exceed the heap memory 
> available?
> 
>  Something to the effect of:
> 
>   if ( memorycheck(object) > vsize ) { don't create object }
>   else { create object }
> 

This isn't possible in full generality, though for matrices and dataframes
of atomic types it might be.

You can use try()
	
	object<-try(createobject())
	if (inherits(object,"try-error"))
		didn't work
        else
		worked
	
The disadvantage is that it might take a while to run out of memory


   -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From woodardw001 at hawaii.rr.com  Wed Nov 22 19:35:54 2000
From: woodardw001 at hawaii.rr.com (W. T. Woodard)
Date: Wed, 22 Nov 2000 08:35:54 -1000
Subject: Fw: [R] Session logging in Windows98?
Message-ID: <000801c054b3$0c637e20$6401a8c0@pionex>

Does anyone have a function such as tee() described below?
It would be nice not to have to go to Emacs and have to deal with yet
another editor.

----- Original Message -----
From: "BXC (Bendix Carstensen)" <bxc at novonordisk.com>
To: <r-help at lists.r-project.org>
Sent: Tuesday, November 21, 2000 10:05 PM
Subject: RE: [R] Session logging in Windows98?


Further to W. T. Woodard's query:
The natural solution would be to provide a function tee()
with the same syntax as sink, whose effect was to
divert output to a file but als? let the output appear
at the screen.

Bendix

> -----Original Message-----
> From: W. T. Woodard [mailto:woodardw001 at hawaii.rr.com]
> Sent: 21. november 2000 23:13
> To: r-help at lists.r-project.org
> Subject: [R] Session logging in Windows98?
>
>
> I'd like to log all console I/O for an entire session while maintaining
> normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
> function is not the answer since it diverts output from the
> console. In the  RFAQ I see references to "...save the contents of the
> interaction buffer to a file..." and in the R-Help Archive "...just save
the
> console output...".
> I guess I've missed something somewhere, so I'd appreciate it
> someone could tell me (a) how to save the contents of the interaction
> buffer, or (b) how to save the console output.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gbrajovic at entelchile.net  Wed Nov 22 22:07:34 2000
From: gbrajovic at entelchile.net (gbrajovic@entelchile.net)
Date: Wed, 22 Nov 2000 15:07:34 -0600
Subject: [R] Confidence interval
Message-ID: <20001122210838.UZYO408.mta3@mta3>


I have this question I hope you can answer. First, lets see this simple example, using the Student's t-test:


> test<-t.test(miTest.data, mu=0.5, conf.level=0.90 )
> test

         One Sample t-test 

data:  miTest.data 
t = 0.5222, df = 9, p-value = 0.6141 
alternative hypothesis: true mean is not equal to 5 
90 percent confidence interval:
 3.744928 7.255072 
sample estimates:
mean of x 
      5.5 

The question is: what kind of expression should I use to get the confidence interval? That is, what expression should <exp> be, so

> confInterval <- <exp>
> cinfInterval
[1] 3.744928 7.255072
> 

Thanks in advance,

Guillermo.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 22 22:36:13 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Nov 2000 22:36:13 +0100
Subject: [R] Confidence interval
In-Reply-To: gbrajovic@entelchile.net's message of "Wed, 22 Nov 2000 15:07:34 -0600"
References: <20001122210838.UZYO408.mta3@mta3>
Message-ID: <x266lfpu42.fsf@blueberry.kubism.ku.dk>

gbrajovic at entelchile.net writes:

> The question is: what kind of expression should I use to get the confidence interval? That is, what expression should <exp> be, so
> 
> > confInterval <- <exp>
> > cinfInterval
> [1] 3.744928 7.255072
> > 
> 

test$conf.int

For a more generalizable solution consider the output of

names(test)
str(test)
unclass(test)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Nov 22 22:54:19 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 22 Nov 2000 22:54:19 +0100
Subject: [R] Confidence interval
References: <20001122210838.UZYO408.mta3@mta3>
Message-ID: <3A1C408B.7B27DEF5@statistik.uni-dortmund.de>



gbrajovic at entelchile.net wrote:
> 
> I have this question I hope you can answer. First, lets see this simple example, using the Student's t-test:
> 
> > test<-t.test(miTest.data, mu=0.5, conf.level=0.90 )
> > test
> 
>          One Sample t-test
> 
> data:  miTest.data
> t = 0.5222, df = 9, p-value = 0.6141
> alternative hypothesis: true mean is not equal to 5
> 90 percent confidence interval:
>  3.744928 7.255072
> sample estimates:
> mean of x
>       5.5
> 
> The question is: what kind of expression should I use to get the confidence interval? That is, what expression should <exp> be, so
> 
> > confInterval <- <exp>
> > cinfInterval
> [1] 3.744928 7.255072

Example:

 my.t.test <- t.test(rnorm(100))
 str(my.t.test)
# So you see, that <exp> can be replaced with:
 my.t.test$conf.int[1:2]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Wed Nov 22 22:53:32 2000
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Wed, 22 Nov 2000 22:53:32 +0100 (CET)
Subject: [R] Confidence interval
In-Reply-To: <20001122210838.UZYO408.mta3@mta3>
Message-ID: <XFMail.001122225332.detlef.steuer@unibw-hamburg.de>

Good evening!

On 22-Nov-00 gbrajovic at entelchile.net wrote:
> 
> I have this question I hope you can answer. First, lets see this simple
> example, using the Student's t-test:
> 
> 
>> test<-t.test(miTest.data, mu=0.5, conf.level=0.90 )
>> test
> 
>          One Sample t-test 
> 
> data:  miTest.data 
> t = 0.5222, df = 9, p-value = 0.6141 
> alternative hypothesis: true mean is not equal to 5 
> 90 percent confidence interval:
>  3.744928 7.255072 
> sample estimates:
> mean of x 
>       5.5 
> 
> The question is: what kind of expression should I use to get the confidence
> interval? That is, what expression should <exp> be, so
> 
>> confInterval <- <exp>
>> cinfInterval
> [1] 3.744928 7.255072

Try

confInterval <- t.test(miTest.data, mu=0.5, conf.level=0.90)$conf.int[1:2]

Details are found in help(t.test)

Happy Ring!
Detlef

----
Detlef Steuer ** Universitt der Bw ** 22043 Hamburg
steuer at unibw-hamburg.de

Th. Adorno: "Die Neigung zum Okkultismus ist ein Symptom der Rckbildung des
Bewusstseins."


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 23 00:33:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 22 Nov 2000 23:33:05 +0000 (GMT)
Subject: [R] Figure rotation
In-Reply-To: <dgkn1es57ew.fsf@scs2.ncl.ac.uk>
Message-ID: <Pine.GSO.4.05.10011222331010.21686-100000@auk.stats>

On 22 Nov 2000, R.E. Darnell wrote:

> murdoch at stats.uwo.ca (Duncan Murdoch) writes:
> 
> > On 22 Nov 2000 09:55:24 +0000, you wrote in message
> > <dgkzois5o1f.fsf at scs2.ncl.ac.uk>:
> > 
> 
> [...]
> 
> > 
> > You can set the width and height of a page in the postscript driver;
> > maybe the workaround
> > 
> > dev.copy(postscript, horiz=TRUE, width=11, height=8.5) 
> 
> Defining the width and height work. I am still surprised that
> the figure is rotated.

That's what you asked for: perhaps you are not used to software following
your commands?  Try dev.copy2eps or dev.print if you want more
sensible defaults for a copy.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 23 00:52:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 2000 00:52:15 +0100
Subject: [R] Figure rotation
In-Reply-To: Prof Brian D Ripley's message of "Wed, 22 Nov 2000 23:33:05 +0000 (GMT)"
References: <Pine.GSO.4.05.10011222331010.21686-100000@auk.stats>
Message-ID: <x266lf1s5s.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> That's what you asked for: perhaps you are not used to software following
> your commands?  Try dev.copy2eps or dev.print if you want more
> sensible defaults for a copy.

dev.print() won't help in this respect, will it? I've just been doing
a bunch of plots to the tune of

 dev.print(file='LRT-variants.ps', height=3.5, width=4, horizontal=FALSE)

(with 1.1.1 - I think some of this got changed for 1.2.0, but forgot
exactly what...)

The real problem is that "horizontal" means landscape, i.e. orientate
the *paper* horisontally before plotting. The docs could be clearer on
that count I suppose.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 23 08:24:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Nov 2000 07:24:35 +0000 (GMT)
Subject: [R] Figure rotation
In-Reply-To: <x266lf1s5s.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10011230721180.500-100000@auk.stats>

On 23 Nov 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > That's what you asked for: perhaps you are not used to software following
> > your commands?  Try dev.copy2eps or dev.print if you want more
> > sensible defaults for a copy.
> 
> dev.print() won't help in this respect, will it? I've just been doing
> a bunch of plots to the tune of
> 
>  dev.print(file='LRT-variants.ps', height=3.5, width=4, horizontal=FALSE)
> 
> (with 1.1.1 - I think some of this got changed for 1.2.0, but forgot
> exactly what...)
> 
> The real problem is that "horizontal" means landscape, i.e. orientate
> the *paper* horisontally before plotting. The docs could be clearer on
> that count I suppose.

dev.copy2eps sets portrait explicitly.   I didn't say that either was
appropriate as the original message did not give a purpose (nor yours)
but suspect that dev.copy2eps was most likely the close to the set of
defaults needed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 23 08:58:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Nov 2000 07:58:24 +0000 (GMT)
Subject: [R] Session logging in Windows98?
In-Reply-To: <007c01c05408$267139c0$6401a8c0@pionex>
Message-ID: <Pine.GSO.4.05.10011230757100.500-100000@auk.stats>

On Tue, 21 Nov 2000, W. T. Woodard wrote:

> I'd like to log all console I/O for an entire session while maintaining
> normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
> function is not the answer since it diverts output from the console. In the
> RFAQ I see references to "...save the contents of the interaction buffer to
> a file..." and in the R-Help Archive "...just save the console output...".
> I guess I've missed something somewhere, so I'd appreciate it someone could
> tell me (a) how to save the contents of the interaction buffer, or (b) how
> to save the console output.

With 1.1.1, use cut-and-paste.  With 1.2.0 there will be a menu item to do
so.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 23 08:56:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Nov 2000 07:56:32 +0000 (GMT)
Subject: [R] Exist the S 'dates' function in R?
In-Reply-To: <3A1AE12B.26627361@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10011230752450.500-100000@auk.stats>

On Tue, 21 Nov 2000, Uwe Ligges wrote:

> BTW: In Version 1.2.0 Under development (unstable) (2000-11-15)
> 
> > dates(c("02/27/92", "02/27/92", "01/14/92",
> +                "02/28/92", "02/01/92"))
> Error in names<-.default(*tmp*, value = fnames) : 
>         Unimplemented feature in duplicate
> > dates("02/27/99")
> Error in as.vector(x, "double") : cannot coerce to vector

Did you re-compile it for that version?  The CRAN Windows zip files are
for 1.1.1.   Several packages need to be re-compiled, including chron.
Come the release of 1.2.0 we will provide re-compiled versions.  Your
example works for me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 23 09:09:08 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 23 Nov 2000 09:09:08 +0100
Subject: [R] Exist the S 'dates' function in R?
References: <Pine.GSO.4.05.10011230752450.500-100000@auk.stats>
Message-ID: <3A1CD0A4.43E326@statistik.uni-dortmund.de>

Prof Brian D Ripley wrote:
> 
> On Tue, 21 Nov 2000, Uwe Ligges wrote:
> 
> > BTW: In Version 1.2.0 Under development (unstable) (2000-11-15)
> >
> > > dates(c("02/27/92", "02/27/92", "01/14/92",
> > +                "02/28/92", "02/01/92"))
> > Error in names<-.default(*tmp*, value = fnames) :
> >         Unimplemented feature in duplicate
> > > dates("02/27/99")
> > Error in as.vector(x, "double") : cannot coerce to vector
> 
> Did you re-compile it for that version?  The CRAN Windows zip files are
> for 1.1.1.   Several packages need to be re-compiled, including chron.
> Come the release of 1.2.0 we will provide re-compiled versions.  Your
> example works for me.

Ups! Sorry! You are right. I didn't re-compile. Works also on Linux. 
What a blame!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmf at kba.sks.au.dk  Thu Nov 23 11:08:14 2000
From: cmf at kba.sks.au.dk (Casper M. Frederiksen)
Date: Thu, 23 Nov 2000 11:08:14 +0100
Subject: [R] Support Vector Machines
Message-ID: <3A1CFA9E.8034.9A9D2A4@localhost>

Does anybody know if a script for Support Vector Machines (SVM) 
exist?

I would like to apply it to R-stat.

Casper Frederiksen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Nov 23 11:16:35 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 23 Nov 2000 11:16:35 +0100
Subject: [R] Support Vector Machines
In-Reply-To: <3A1CFA9E.8034.9A9D2A4@localhost>
References: <3A1CFA9E.8034.9A9D2A4@localhost>
Message-ID: <14876.61059.412460.708080@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 23 Nov 2000 11:08:14 +0100,
>>>>> Casper M Frederiksen (CMF) wrote:

  > Does anybody know if a script for Support Vector Machines (SVM) 
  > exist?

  > I would like to apply it to R-stat.


We have svm support (both classification and regression) ready, it
will be in the new e1071 package that will be released together with R
1.2 (svm uses the C++ support from 1.2).

I'll put a snapshot version into the Devel section of CRAN later
today.

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Thu Nov 23 12:07:55 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Thu, 23 Nov 2000 12:07:55 +0100
Subject: FW: [R] boxplot grouped by two variables: general issue
Message-ID: <000901c0553d$a200a090$c10616ac@bbdo.de>



> On Tue, 21 Nov 2000, Vadik Kutsyy wrote:
>
> > Is there a quick way to make boxplots groups by two
> variables?  By that
> > I mean, that if x axes have values ("A","B","C"), than at
> each value
> > there would be a few boxplots each for a value of second
> variable (say
> > ("1","2","3")).
>
> If I understand you correctly you want to try the
> "interaction" function
> in a boxplot.  Your data needs to be organised into a data.frame with
> appropriate factors.  Here's a simple example ...

I'd rather prefer to have something like

  coplot(breaks | wool * tension, data = warpbreaks, panel=function(x, y,
...)boxplot(x))

but there are three problems:

1) coplot doesn't seem to support univariate panel functions
2) coplot doesn't seem to support synchronization options for xlim= and
ylim= across panels
3) plot functions appear to be EITHER panel functions OR high level plot
functions. Needing two versions for each plot function is a little bit
complicated. Rather have ONLY panel functions and a one-panel high level
wrapper.

Here are my questions:

a) Any plans to implement trellis?
b) Are there any other solutions in R which offer simple trellis
functionality?
c) Do you think, attacking these problems leads to reinventing trellis with
all it's complexity?

If the answers turn out to be c(a=NO,b=NO,c=NO) I would like  to ask in more
detail:

Is it possible to write plot functions to properly behave as high level AND
as panel functions?
Are there any issues that NEED to be addressed beyond 1) to 3) ?
Any recommendations? Any related work in progress? Any volunteers?

If nobody else is attacking this, I will think about a solution (r-devel:
AFTER the strwidth() issue has been resolved)


Jens


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Nov 23 12:43:41 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 23 Nov 2000 12:43:41 +0100
Subject: [R] Graphics-Device-Size vs. Window-Size
In-Reply-To: <001201c04972$037bfa90$c10616ac@bbdo.de>
References: <001201c04972$037bfa90$c10616ac@bbdo.de>
Message-ID: <14877.749.266796.685755@gargle.gargle.HOWL>

>>>>> "Jens" == Jens Oehlschlaegel <jens.oehlschlaegel at bbdo-interone.de> writes:

on Wed, 8 Nov 2000 11:52:38 +0100

    Jens> I want to layout on screen a graphic bigger than the screen
    Jens> (width=16.53543, height=11.69291) but strwidth() and strheight()
    Jens> give wrong results.

    >> x11(width=42/2.54, height=29.7/2.54, pointsize=12)
    >> plot(1,1, type="n", xlim=c(0, 1), ylim=c(-1, 0), xlab="", ylab="",
    Jens> axes=FALSE)
    >> strwidth("Whatever")
    Jens> [1] 0.08471151
    >> # Now resize the window and repeat
    >> strwidth("Whatever")
    Jens> [1] 0.1856643

    Jens> strwidth() obviously tells me how much space a text needs ON THE
    Jens> SCREEN, not on the desired device size. Can someone enlighten
    Jens> what is the best way to solve this?

Since you are mentioning this again:

Have you looked at  help(strwidth) 
and seen the three different kinds of units that you can ask for ?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Thu Nov 23 14:13:09 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Thu, 23 Nov 2000 14:13:09 +0100
Subject: [R] Graphics-Device-Size vs. Window-Size
In-Reply-To: <14877.749.266796.685755@gargle.gargle.HOWL>
Message-ID: <001101c0554f$20c36eb0$c10616ac@bbdo.de>



Hi Martin,

Thank you.

> Have you looked at  help(strwidth)
> and seen the three different kinds of units that you can ask for ?

Yes. Paul already mentioned this and I already checked it and I already said
that none of these options help. None of them lies, but none of them does
the job. The crucial point is, that resizing the window does NOT CHANGE the
font size, does CHANGE par("fin") and thus does CHANGE the proportion of the
device needed to show the text (under linux AND under windows).

This means that resizing a window (keep in mind that big devices are
automatically resized at creation time) causes

strwidth("sometext", units="user")   to report CHANGED     space
requirements in user coordinates
strwidth("sometext", units="figure") to report CHANGED     space
requirements as fraction of par("fin")[1]
strwidth("sometext", units="inches") to report NON-CHANGED space
requirements in inches

None of those tells you, which space requirements "sometext" would have
relatively to the originally intended device size or it's user coordinates.
(Yes, I know that I could calculate that, by administering two versions of
device sizes, by calculating two versions of all text sizes, but it is quite
nonsense to have the user do all that).

As I understood Ross Ihaka's mail, this will be improved in one of the
future versions of R, so that we get a real separation of representation
(device) and presentation (screen window), such layer separation has prooved
to be useful in other systems like LaTeX.

BTW: this was a thread on r-devel, not on r-help.

Regards


Jens



> -----Original Message-----
> From: Martin Maechler [mailto:maechler at stat.math.ethz.ch]
> Sent: Thursday, November 23, 2000 12:44 PM
> To: jens.oehlschlaegel at bbdo-interone.de
> Cc: R-help at stat.math.ethz.ch
> Subject: Re: [R] Graphics-Device-Size vs. Window-Size
>
>
> >>>>> "Jens" == Jens Oehlschlaegel
> <jens.oehlschlaegel at bbdo-interone.de> writes:
>
> on Wed, 8 Nov 2000 11:52:38 +0100
>
>     Jens> I want to layout on screen a graphic bigger than the screen
>     Jens> (width=16.53543, height=11.69291) but strwidth()
> and strheight()
>     Jens> give wrong results.
>
>     >> x11(width=42/2.54, height=29.7/2.54, pointsize=12)
>     >> plot(1,1, type="n", xlim=c(0, 1), ylim=c(-1, 0),
> xlab="", ylab="",
>     Jens> axes=FALSE)
>     >> strwidth("Whatever")
>     Jens> [1] 0.08471151
>     >> # Now resize the window and repeat
>     >> strwidth("Whatever")
>     Jens> [1] 0.1856643
>
>     Jens> strwidth() obviously tells me how much space a text
> needs ON THE
>     Jens> SCREEN, not on the desired device size. Can someone
> enlighten
>     Jens> what is the best way to solve this?
>
> Since you are mentioning this again:
>
> Have you looked at  help(strwidth)
> and seen the three different kinds of units that you can ask for ?
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Fri Nov 24 01:46:37 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Fri, 24 Nov 2000 00:46:37 +0000
Subject: [R] Splitting an array into two - alternate columns
In-Reply-To: <20001118160337.A28534@sirio.stat.unipd.it>
References: <4.3.1.0.20001119010544.00abd260@mail.austasia.net>
 <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
 <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
 <200007251339.JAA12345@sirocco.cc.mcgill.ca>
 <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
 <w0ak1QAHeY+5Ewpi@myatt.demon.co.uk>
 <4.3.1.0.20001119010544.00abd260@mail.austasia.net>
Message-ID: <4.3.1.0.20001124004056.00abd3a0@mail.austasia.net>

I want to split an array (A1) into two arrays using alternate columns eg

A2 would consist of:

A1[,1], A1[,3], A1[,5], . .

A3 would consist of:

A1[,2], A1[,4], A1[,6], . .

Anyone got a nice method?

Thanks,

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 23 15:00:11 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Nov 2000 15:00:11 +0100
Subject: [R] Splitting an array into two - alternate columns
In-Reply-To: Phil Rhoades's message of "Fri, 24 Nov 2000 00:46:37 +0000"
References: <4.3.1.0.20001119010544.00abd260@mail.austasia.net> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se> <200007251339.JAA12345@sirocco.cc.mcgill.ca> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <w0ak1
Message-ID: <x2aeaqwzys.fsf@blueberry.kubism.ku.dk>

Phil Rhoades <philr at mail.austasia.net> writes:

> I want to split an array (A1) into two arrays using alternate columns eg
> 
> A2 would consist of:
> 
> A1[,1], A1[,3], A1[,5], . .
> 
> A3 would consist of:
> 
> A1[,2], A1[,4], A1[,6], . .
> 
> Anyone got a nice method?

How about

k <- ncol(A1)
A2 <- A1[,seq(1,k,2)]
A3 <- A1[,seq(2,k,2)]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emmanuel.charpentier at sap.ap-hop-paris.fr  Thu Nov 23 18:19:30 2000
From: emmanuel.charpentier at sap.ap-hop-paris.fr (Emmanuel Charpentier)
Date: Thu, 23 Nov 2000 18:19:30 +0100
Subject: [R] large object disorientation
Message-ID: <3A1D51A2.A67255C0@sap.ap-hop-paris.fr>

> This is an inquiry for all those who have been working on external 
> data base applications. I sent an inquiry (below) to snews about 
> this sort of thing a couple of years ago and eventually decided that 
> I would wait to see what external database developments occurred and 
> then revisit the problem. I hope that foundations are now better. 

[ "Concrete" exemple uncast for bandwith's sake ... ]

Well ... this points back to the "database interfaces" discussed here a while
ago.

The closest present implementation of whazt you wish is, IMSAO, the RPgSql
package, which offers "proxy" databases objects. Depending of the algorithms
used in your application, you might end up achieving what you aim at without
any special coding.

The drawback is obvious : if your data aren't in PostgreSQL, you're SOL ...

Another possibility, which requires explicit coding, is RODBC. In that package,
you have two levels of function : the "sqlXxxx" functions, which in general
return a whole database object, and the "odbcXxxx" functions, which allow you
to specify some SQL request and read the result back one row at a time.

Drawbacks : explicit coding necessary. Advantages : any ODBC-enabled database
for which you happen to have a driver will do.

Hope this helps ...

						Emmanuel Charpentier


--
Emmanuel Charpentier			Tel :		+33-01 40 27 35 98
Secr?tariat scientifique du CEDIT	Fax :		+33-01 40 27 55 65
Direction de la Politique M?dicale // Assistance Publique - H?pitaux de Paris
3, Avenue Victoria // F-75004 Paris /// France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cafa at cin.ufpe.br  Thu Nov 23 18:43:14 2000
From: cafa at cin.ufpe.br (Cesar Augusto de Freitas Anselmo)
Date: Thu, 23 Nov 2000 14:43:14 -0300 (EST)
Subject: [R] glm
Message-ID: <Pine.GSO.4.02.10011231441400.28363-100000@paulista>

Hello. How I get the weights matrix W after a glm fitted model? Thanks.


========================================================================
C?zar de Freitas
Depto. de Estat?stica - UFPE
Recife - Pernambuco - Brasil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bruno.Tassin at cereve.enpc.fr  Thu Nov 23 18:47:11 2000
From: Bruno.Tassin at cereve.enpc.fr (Bruno Tassin)
Date: Thu, 23 Nov 2000 18:47:11 +0100
Subject: [R] hatch or line fill
Message-ID: <3A1D581F.19D8A3F4@cergrene.enpc.fr>

M. Camanm posted in Jul 1999 the following message:

"
Is there any way to fill the bars in a barplot() with solid lines for
postscript output, i.e. cross hatch or parallel
lines, or a halftone gray rather than (semi) continuous-tone gray
produced by gray()? S allows this, or at least
used to, via the angle and density arguments to barplot(). The objective
of course, is to produce camera ready
black and white plots on a laser printer. The gray values produced by
gray() do not reproduce well. "

and Paul Murrel gave the following answer
"
implementing density and angle arguments are on the todo list. the bad
news
is that they're behind a number of more important bugs. the good news is

that they get closer to the front of the todo list as more people
request it "

Is this point still on the ToDo list  ?

much thanks

Bruno

--
Bruno Tassin
Cereve
ENPC-ENGREF-UPVM
6-8 rue Blaise Pascal
Cit? Descartes Champs sur Marne
F 77455 MARNE LA VALLEE cedex 2
t?l : + 33 (0) 1 64 15 36 40
fax : + 33 (0) 1 64 15 37 64
email tassin at cereve.enpc.fr



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 23 19:24:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Nov 2000 18:24:40 +0000 (GMT)
Subject: [R] glm
In-Reply-To: <Pine.GSO.4.02.10011231441400.28363-100000@paulista>
Message-ID: <Pine.GSO.4.05.10011231822150.17642-100000@auk.stats>

On Thu, 23 Nov 2000, Cesar Augusto de Freitas Anselmo wrote:

> Hello. How I get the weights matrix W after a glm fitted model? Thanks.

If you mean the IWLS matrix, it stored as a vector not a matrix, in
component `weights' of the fitted object.  If you mean the weights
specified e.g. for the binomial denominator, see `prior.weights'.
The function glm.fit should make this clean.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Nov 23 21:06:35 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 24 Nov 2000 09:06:35 +1300
Subject: FW: [R] boxplot grouped by two variables: general issue
In-Reply-To: =?iso-8859-1?Q?=3C000901c0553d$a200a090$c10616ac=40bbdo=2Ede=3E=3B_from_?=
 =?iso-8859-1?Q?Jens_Oehlschl=E4gel_on_Thu=2C_Nov_23=2C_2000_at_12:07:55P?=
 =?iso-8859-1?Q?M_+0100?=
References: <000901c0553d$a200a090$c10616ac@bbdo.de>
Message-ID: <20001124090635.B24152@stat1.stat.auckland.ac.nz>

On Thu, Nov 23, 2000 at 12:07:55PM +0100, Jens Oehlschl?gel wrote:
> 
> Here are my questions:
> 
> a) Any plans to implement trellis?

	Yes, in fact work is in progress.  Paul Murrell is working on
	generalized layout facilities which will provide the necessary
	support for multipanel conditioning (and more).  It is probably
	premature to talk about a time frame for this, but can report
	that I have seen trellis-like plots on Paul's screen.

	Of course, layout support is just the low-level part of trellis,
	but I think the higher level parts could come comparatively
	quickly once the layout support is in place.  (Issues are things
	like shingles and banking).

> b) Are there any other solutions in R which offer simple trellis
> functionality?

	Deepayan Sarkar has been working on modifications to coplot
	to make it more trellis-like.  This could well be placed over
	Paul's layout code at some point.

> c) Do you think, attacking these problems leads to reinventing trellis with
> all it's complexity?
> 
> If the answers turn out to be c(a=NO,b=NO,c=NO) I would like  to ask in more
> detail:
> 
> Is it possible to write plot functions to properly behave as high level AND
> as panel functions?

	I want to look issues like this.  Some kind of partitioning of
	functionality is clearly needed.  It should be possible to
	access plots at a variety of levels

	 (i)	High level,
	 (ii)	Purely computational (no plotting).
		Some methods accept a plot=FALSE argument.

	In addition, it seems like we need:

	 (iii)	an intermediate level which allows the embedding
		of plots within other plots.

	Examples of this last are trellis panels and panels of plots
	superimposed on maps.

> Are there any issues that NEED to be addressed beyond 1) to 3) ?
> Any recommendations? Any related work in progress? Any volunteers?

	A useful contribution would be a look at how to package the
	functionality of the higher levels of trellis.	There are general
	issues of compatibility and extension, as well as specific
	functionality that needs to be provided.  The "for the record"
	sections of Cleveland's latest book are a good source for
	the latter.

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Nov 23 21:32:18 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 24 Nov 2000 09:32:18 +1300
Subject: [R] hatch or line fill
In-Reply-To: <3A1D581F.19D8A3F4@cergrene.enpc.fr>; from Bruno Tassin on Thu, Nov 23, 2000 at 06:47:11PM +0100
References: <3A1D581F.19D8A3F4@cergrene.enpc.fr>
Message-ID: <20001124093218.C24152@stat1.stat.auckland.ac.nz>

On Thu, Nov 23, 2000 at 06:47:11PM +0100, Bruno Tassin wrote:
> M. Camanm posted in Jul 1999 the following message:
> 
> "
> Is there any way to fill the bars in a barplot() with solid lines for
> postscript output, i.e. cross hatch or parallel
> lines, or a halftone gray rather than (semi) continuous-tone gray
> produced by gray()? S allows this, or at least
> used to, via the angle and density arguments to barplot(). The objective
> of course, is to produce camera ready
> black and white plots on a laser printer. The gray values produced by
> gray() do not reproduce well. "
> 
> and Paul Murrel gave the following answer
> "
> implementing density and angle arguments are on the todo list. the bad
> news
> is that they're behind a number of more important bugs. the good news is
> 
> that they get closer to the front of the todo list as more people
> request it "
> 
> Is this point still on the ToDo list  ?

    Yes.  But no closer to the top :-(

    It's actually something which anyone who knows a bit of C
    programming and graphics could tackle.    It comes down to
    computing the intersection of infinite straight lines with
    each of the edges of the polygon,  sorting these intersections
    (left to right or top to bottom), and joining adjacent pairs of
    intersections with straight lines.

    A useful approach is to rotate the polygon so that the cross
    hatching lines are horizontal, then the intersection tests with
    the edges are easy.

    Two important points to consider are:

    (i) The lines should placed relative to a fixed point on the
    device, rather than to a vertex of the polygon being filled.
    This means that the cross hatching patterns of adjacent polygons
    will match.

    (ii) There is virtually no extra work in structuring the code
    so that it can handle polygons containing holes (this is a
    very useful capability).

    A couple of useful references are:

    Robert Cromley (1992). "Digital Cartography". Prentice-Hall.

    Paul Bourke's geometry pages:
    http://www.swin.edu.au/astronomy/pbourke

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Nov 23 21:39:50 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 24 Nov 2000 09:39:50 +1300
Subject: [R] Splitting an array into two - alternate columns
In-Reply-To: <4.3.1.0.20001124004056.00abd3a0@mail.austasia.net>; from Phil Rhoades on Fri, Nov 24, 2000 at 12:46:37AM +0000
References: <4.3.1.0.20001119010544.00abd260@mail.austasia.net> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se> <200007251339.JAA12345@sirocco.cc.mcgill.ca> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <w0ak1
Message-ID: <20001124093950.D24152@stat1.stat.auckland.ac.nz>

On Fri, Nov 24, 2000 at 12:46:37AM +0000, Phil Rhoades wrote:
> I want to split an array (A1) into two arrays using alternate columns eg
> 
> A2 would consist of:
> 
> A1[,1], A1[,3], A1[,5], . .
> 
> A3 would consist of:
> 
> A1[,2], A1[,4], A1[,6], . .
> 
> Anyone got a nice method?

I'm a big fan of brute force and ignorance!

	asplit <- 
	function(X)
	list(odd = x[,seq(1, ncol(x), by = 2)],
	     even = x[,seq(2, ncol(x), by = 2)])

	> x <- matrix(1:10,nr=2)
	> x
	     [,1] [,2] [,3] [,4] [,5]
	[1,]    1    3    5    7    9
	[2,]    2    4    6    8   10
	> asplit(x)
	$odd
	     [,1] [,2] [,3]
	[1,]    1    5    9
	[2,]    2    6   10
	
	$even
	     [,1] [,2]
	[1,]    3    7
	[2,]    4    8
	
Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From woodardw001 at hawaii.rr.com  Thu Nov 23 23:11:17 2000
From: woodardw001 at hawaii.rr.com (W. T. Woodard)
Date: Thu, 23 Nov 2000 12:11:17 -1000
Subject: [R] Session logging in Windows98?
References: <Pine.GSO.4.05.10011230757100.500-100000@auk.stats>
Message-ID: <000401c0559a$50f916c0$6401a8c0@pionex>

The suggested cut-and-paste requires laborious multiple
cut-and-pastes  for long sessions extending over multiple screens.
 Will the new 1.2.0 menu item permit dumping the entire
interaction buffer to the clipboard, or only a single screen?

On Wed, 22 Nov 2000, Prof Brian D Ripley wrote:
>With 1.1.1, use cut-and-paste.  With 1.2.0 there will be a menu item to do
>so.

On Tue, 21 Nov 2000, W. T. Woodard wrote:

> I'd like to log all console I/O for an entire session while maintaining
> normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
> function is not the answer since it diverts output from the console. In
the
> RFAQ I see references to "...save the contents of the interaction buffer
to
> a file..." and in the R-Help Archive "...just save the console output...".
> I guess I've missed something somewhere, so I'd appreciate it someone
could
> tell me (a) how to save the contents of the interaction buffer, or (b) how
> to save the console output.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 24 08:29:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 24 Nov 2000 07:29:36 +0000 (GMT)
Subject: [R] Session logging in Windows98?
In-Reply-To: <000401c0559a$50f916c0$6401a8c0@pionex>
Message-ID: <Pine.GSO.4.05.10011240716180.27026-100000@auk.stats>

I despair of this!   There is a Select All menu on the File | Edit menu,
and on the console pop-up.  This is absolutely standard Windows behaviour,
as is the ability to drag a selection and the console scrolls.

One point: the `interaction buffer' I presume means the console screen
buffer.  That is of limited size, and the oldest history is purged if
necessary.  You can only save what is left.

On Thu, 23 Nov 2000, W. T. Woodard wrote:

> The suggested cut-and-paste requires laborious multiple
> cut-and-pastes  for long sessions extending over multiple screens.

For the record, that's completely incorrect.

>  Will the new 1.2.0 menu item permit dumping the entire
> interaction buffer to the clipboard, or only a single screen?

Neither.  It will save the whole console buffer, or whatever is
highlighted, to a *file*.

> On Wed, 22 Nov 2000, Prof Brian D Ripley wrote:
> >With 1.1.1, use cut-and-paste.  With 1.2.0 there will be a menu item to do
> >so.
> 
> On Tue, 21 Nov 2000, W. T. Woodard wrote:
> 
> > I'd like to log all console I/O for an entire session while maintaining
> > normal console I/O. I'm working in Windows98, RGui, R1.1.1. The sink()
> > function is not the answer since it diverts output from the console. In
> the
> > RFAQ I see references to "...save the contents of the interaction buffer
> to
> > a file..." and in the R-Help Archive "...just save the console output...".
> > I guess I've missed something somewhere, so I'd appreciate it someone
> could

I think you missed the menus, although I find this incredible.
Now you know how to do cut-and-paste in Windows, I hope it will help
you use other applications too.

> > tell me (a) how to save the contents of the interaction buffer, or (b) how
> > to save the console output.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Nov 24 11:56:01 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 24 Nov 2000 21:56:01 +1100
Subject: [R] hatch or line fill
References: <3A1D581F.19D8A3F4@cergrene.enpc.fr>
Message-ID: <3A1E4941.BC1BB837@ozemail.com.au>

> M. Camanm wrote:
>
> "
> Is there any way to fill the bars in a barplot() with solid lines for
> postscript output, i.e. cross hatch or parallel
> lines, or a halftone gray rather than (semi) continuous-tone gray
> produced by gray()?

+ replies.

If only Postscrpt output is required, I have a routine which uses the Postscript
"paint" function to fill bars with four types of hatching.  This can be extended
to dots, etc. (it's messy using halftone to do this in Postscript).

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Fri Nov 24 10:41:29 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Fri, 24 Nov 2000 10:41:29 +0100
Subject: [R] groupe averages error
Message-ID: <40805827C15@let.ish-lyon.cnrs.fr>

I want to get subsets averaged on numeric variables number 5:13 but I 
get the error below that I cannot understand.
> is.factor(dat$Statut)
[1] TRUE
> s<-ave(dat[,5:13],dat$Statut)
Error in [<-.data.frame(*tmp*, , value = if (n) { : 
        Argument "i" is missing, with no default

Thanks in advance
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 24 12:30:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Nov 2000 11:30:07 +0000 (GMT)
Subject: [R] groupe averages error
Message-ID: <200011241130.LAA17836@toucan.stats.ox.ac.uk>


> From: "Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr>
> To: <r-help at stat.math.ethz.ch>
> Date: Fri, 24 Nov 2000 10:41:29 +0100
> Subject: [R] groupe averages error
 
> I want to get subsets averaged on numeric variables number 5:13 but I 
> get the error below that I cannot understand.
> > is.factor(dat$Statut)
> [1] TRUE
> > s<-ave(dat[,5:13],dat$Statut)
> Error in [<-.data.frame(*tmp*, , value = if (n) { : 
>         Argument "i" is missing, with no default
> 
Nor can I, but then I don't have your data, nor the result of traceback()
(which can be *very* helpful).  However, ave() does not apply to
dataframes, and its help page says

Usage:

     ave(x, ..., FUN = mean)

Arguments:

       x: A numeric.

I think you probably need to use by()

> dat <- as.data.frame(matrix(rnorm(1300), 100)) 
> dat$Statut <- factor((0:99)%/%10)
> by(dat[,5:13],dat$Statut, function(x) sapply(x, mean))

for example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lemine-Mohamed.Ould-Mohamed-Abdallahi at imag.fr  Fri Nov 24 14:46:47 2000
From: Lemine-Mohamed.Ould-Mohamed-Abdallahi at imag.fr (LAM)
Date: Fri, 24 Nov 2000 14:46:47 +0100
Subject: [R] Comments in read.table
Message-ID: <3A1E7147.73BAF365@imag.fr>

I know it is possible to use the character "#" to comment lines in
script files.

Is it possible to give an argument (just like skip) to the fuction
read.table to avoid reading commented lines in data files.

I want to use this function to read a table in a data file like this
#-------------------------------
x y z
#my data begin here
1 2 3
12 3 4
1 0 1
# no comment !!!
2 3 5
#--------------------------------

Thanks in advance.

--
Ould MOHAMED ABDALLAHI Mohamed Lemine  || e-mail: mould at imag.fr
Laboratoire de Modelisation et Calcul  || Tel: +33 4 76 51 45 54
BP 53, 38041 Grenoble cedex 9 (France) || Fax: +33 4 76 63 12 63
----------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 24 14:53:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Nov 2000 13:53:06 +0000 (GMT)
Subject: [R] Comments in read.table
Message-ID: <200011241353.NAA28518@toucan.stats.ox.ac.uk>


> Date: Fri, 24 Nov 2000 14:46:47 +0100
> From: LAM <Lemine-Mohamed.Ould-Mohamed-Abdallahi at imag.fr>
> To: "r-help at stat.math.ethz.ch" <r-help at stat.math.ethz.ch>
> Subject: [R] Comments in read.table
> 
> I know it is possible to use the character "#" to comment lines in
> script files.

R-language file, yes

> 
> Is it possible to give an argument (just like skip) to the fuction
> read.table to avoid reading commented lines in data files.

No.

> I want to use this function to read a table in a data file like this
> #-------------------------------
> x y z
> #my data begin here
> 1 2 3
> 12 3 4
> 1 0 1
> # no comment !!!
> 2 3 5
> #--------------------------------

Pre-process them with e.g. Perl to remove the comment lines, or
even with R itself (read in the lines, remove those starting with #,
write them out to a temp file and call read.table on the temp file).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri Nov 24 15:12:57 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 24 Nov 2000 14:12:57 GMT
Subject: [R] Session logging in Windows98?
In-Reply-To: <Pine.GSO.4.05.10011240716180.27026-100000@auk.stats>
References: <Pine.GSO.4.05.10011240716180.27026-100000@auk.stats>
Message-ID: <3a207681.33669677@smtp1.sympatico.ca>

On Fri, 24 Nov 2000 07:29:36 +0000 (GMT), Prof Brian D Ripley
<ripley at stats.ox.ac.uk> wrote:

>One point: the `interaction buffer' I presume means the console screen
>buffer.  That is of limited size, and the oldest history is purged if
>necessary.  You can only save what is left.

I thought I recalled that you can set the size of the history that is
kept, but I can't find how to do it now.  Is this possible?  If so, I
think the natural place to put it is in the "GUI preferences" dialog.

BTW, that dialog doesn't work quite right with large fonts selected; I
lose the last letters of "MD?", "multiple windo??", "True Type onl?".
This is a pretty common problem with windows applications; I think the
simplest solution is to design with large fonts installed, then small
fonts just have extra space around them.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Fri Nov 24 15:42:49 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Fri, 24 Nov 2000 15:42:49 +0100
Subject: [R] Session logging in Windows98?
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E8B7@exdkba03.novo.dk>

> -----Original Message-----
> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: 24. november 2000 08:30
> To: W. T. Woodard
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Session logging in Windows98?
> 
> 
> I despair of this!   There is a Select All menu on the File | 
> Edit menu,
> and on the console pop-up.  This is absolutely standard 
> Windows behaviour,
> as is the ability to drag a selection and the console scrolls.
> 
> One point: the `interaction buffer' I presume means the console screen
> buffer.  That is of limited size, and the oldest history is purged if
> necessary.  You can only save what is left.

I think Brian is missing what the point is here.
When working on a dataset in R, an important result is a fairly short
piece of R-code that will do what you want to be done, when submitted in
batch.
That will typically be of magnitude about 2-5% of the lines that you
actually
do on the console. Sitting at the console you will typically know, when the
next
5 commands you recall and paste etc. is IT.
So at that point you would like to switch a tee() on, perhaps
even with the facility to write the total session to one file and only the
commands to another. 

Correct Brian, we can choose the manual way and scroll up the screen
after the five lines, grab the output and save it to a file. 
And we can choose to take the .Rhistory and remove 98% of its contents
to get what we are after. Which is what we to now, but
automation is a great thing, now that we have this computer sitting in 
front of us...

Bendix
> 
> On Thu, 23 Nov 2000, W. T. Woodard wrote:
> 
> > The suggested cut-and-paste requires laborious multiple
> > cut-and-pastes  for long sessions extending over multiple screens.
> 
> For the record, that's completely incorrect.
> 
> >  Will the new 1.2.0 menu item permit dumping the entire
> > interaction buffer to the clipboard, or only a single screen?
> 
> Neither.  It will save the whole console buffer, or whatever is
> highlighted, to a *file*.
> 
> > On Wed, 22 Nov 2000, Prof Brian D Ripley wrote:
> > >With 1.1.1, use cut-and-paste.  With 1.2.0 there will be a 
> menu item to do
> > >so.
> > 
> > On Tue, 21 Nov 2000, W. T. Woodard wrote:
> > 
> > > I'd like to log all console I/O for an entire session 
> while maintaining
> > > normal console I/O. I'm working in Windows98, RGui, 
> R1.1.1. The sink()
> > > function is not the answer since it diverts output from 
> the console. In
> > the
> > > RFAQ I see references to "...save the contents of the 
> interaction buffer
> > to
> > > a file..." and in the R-Help Archive "...just save the 
> console output...".
> > > I guess I've missed something somewhere, so I'd 
> appreciate it someone
> > could
> 
> I think you missed the menus, although I find this incredible.
> Now you know how to do cut-and-paste in Windows, I hope it will help
> you use other applications too.
> 
> > > tell me (a) how to save the contents of the interaction 
> buffer, or (b) how
> > > to save the console output.
> 

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Nov 24 15:52:08 2000
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 24 Nov 2000 15:52:08 +0100
Subject: [R] export residuals
Message-ID: <3.0.6.32.20001124155208.00993d10@mail.anst.uu.se>

Dear all,
I want to use the residuals of a regression model in another program
(ArcView). Can anyone tell me how to export data like these from R. 

I use R 1.1.0 for Windows.

Thanks in advance!


Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 24 16:15:22 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Nov 2000 15:15:22 +0000 (GMT)
Subject: [R] Session logging in Windows98?
Message-ID: <200011241515.PAA28762@toucan.stats.ox.ac.uk>


> From: dmurdoch at pair.com (Duncan Murdoch)
> To: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Session logging in Windows98?
> Date: Fri, 24 Nov 2000 14:12:57 GMT
> 
> On Fri, 24 Nov 2000 07:29:36 +0000 (GMT), Prof Brian D Ripley
> <ripley at stats.ox.ac.uk> wrote:
> 
> >One point: the `interaction buffer' I presume means the console screen
> >buffer.  That is of limited size, and the oldest history is purged if
> >necessary.  You can only save what is left.
> 
> I thought I recalled that you can set the size of the history that is
> kept, but I can't find how to do it now.  Is this possible?  If so, I
> think the natural place to put it is in the "GUI preferences" dialog.

For 1.2.0 it will be possible to set the size of the history buffer
(it's in the CHANGES file) via an environment variable.  It is not
currently possible to set the size of the console screen buffer, and the
way it works it is not as easy to alter it on the fly.  I'll look into
what might easily be possible.

> BTW, that dialog doesn't work quite right with large fonts selected; I
> lose the last letters of "MD?", "multiple windo??", "True Type onl?".
> This is a pretty common problem with windows applications; I think the
> simplest solution is to design with large fonts installed, then small
> fonts just have extra space around them.

That's known and I thought already fixed.  I'll see if it has really
been fixed on pre-1.2.0.  There are limits to what you can do: at
the magnification my father uses (150%) lots of things get truncated.
I don't think it's much of an issue: the "GUI preferences" dialog
merely interfaces some text files which you can edit.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lemine-Mohamed.Ould-Mohamed-Abdallahi at imag.fr  Fri Nov 24 16:28:08 2000
From: Lemine-Mohamed.Ould-Mohamed-Abdallahi at imag.fr (LAM)
Date: Fri, 24 Nov 2000 16:28:08 +0100
Subject: [R] Comments in read.table
References: <3A1E7147.73BAF365@imag.fr>
Message-ID: <3A1E8908.2CD1D4E8@imag.fr>

Pr. B.D. Ripley Wrote :

>Because skipping headers is much more commonly used.  I've never in a
decade of use of S seen a data file with comments in, except as a
header.

Sure. I agree with you. This functionality is quite strange in the
context on statistical data processing!!



--
Ould MOHAMED ABDALLAHI Mohamed Lemine  || e-mail: mould at imag.fr
Laboratoire de Modelisation et Calcul  || Tel: +33 4 76 51 45 54
BP 53, 38041 Grenoble cedex 9 (France) || Fax: +33 4 76 63 12 63
----------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Sat Nov 25 11:58:43 2000
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Sat, 25 Nov 2000 10:58:43 +0000
Subject: [R] assigning to data frames with whole columns of NAs
Message-ID: <v04210100b64544e72b00@[163.1.146.10]>

I suppose this could be described as a feature (it seems to be similar in S-Plus), but it looks to me more like a bug.  Why can't the assignment below to a row of "emptyframe" (or "anotherframe") be made?  This with R --vanilla (version info below).

Regards -- David
David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278612
United Kingdom                     Email david.firth at nuffield.oxford.ac.uk


> emptyframe<-data.frame(a=c(NA,NA),b=c(NA,NA))
> emptyframe
   a  b
1 NA NA
2 NA NA
> emptyframe[1,]<-c(1,2)
Warning messages: 
1: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj) 
2: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj) 
> emptyframe
   a  b
1 NA NA
2 NA NA
> anotherframe<-data.frame(a=c(8,9),b=c(NA,NA))
> anotherframe
  a  b
1 8 NA
2 9 NA
> anotherframe[1,]<-c(1,2)
Warning message: 
invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj) 
> anotherframe
  a  b
1 1 NA
2 9 NA
> yetanotherframe<-data.frame(a=c(8,NA),b=c(9,NA))
> yetanotherframe
   a  b
1  8  9
2 NA NA
> yetanotherframe[1,]<-c(1,2)   #  no problem with this one
> yetanotherframe
   a  b
1  1  2
2 NA NA

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov 25 12:35:23 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Nov 2000 12:35:23 +0100
Subject: [R] assigning to data frames with whole columns of NAs
In-Reply-To: David Firth's message of "Sat, 25 Nov 2000 10:58:43 +0000"
References: <v04210100b64544e72b00@[163.1.146.10]>
Message-ID: <x2bsv4l1xg.fsf@blueberry.kubism.ku.dk>

David Firth <david.firth at nuffield.oxford.ac.uk> writes:

> > emptyframe<-data.frame(a=c(NA,NA),b=c(NA,NA))
> > emptyframe
>    a  b
> 1 NA NA
> 2 NA NA
> > emptyframe[1,]<-c(1,2)
> Warning messages: 
> 1: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj) 
> 2: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj) 

Problem, what problem?

> emptyframe  
   a  b
1 NA NA
2 NA NA
> emptyframe[1,]<-c(1,2)
> emptyframe
   a  b
1  1  2
2 NA NA

OK, I'm pulling your leg. The snag is that NA is logical NA, unless
something coerces it to something else, and when constructing data
frames, logical vectors are coerced to factors. So I had defined:

> emptyframe<-data.frame(a=as.numeric(c(NA,NA)),b=as.numeric(c(NA,NA)))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Nov 25 12:53:18 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 25 Nov 2000 12:53:18 +0100
Subject: [R] assigning to data frames with whole columns of NAs
References: <v04210100b64544e72b00@[163.1.146.10]>
Message-ID: <3A1FA82E.2B6762B5@statistik.uni-dortmund.de>



David Firth wrote:
> 
> I suppose this could be described as a feature (it seems to be similar in S-Plus), but it looks to me more like a bug.  Why can't the assignment below to a row of "emptyframe" (or "anotherframe") be made?  This with R --vanilla (version info below).

> 
> > emptyframe<-data.frame(a=c(NA,NA),b=c(NA,NA))
> > emptyframe
>    a  b
> 1 NA NA
> 2 NA NA
> > emptyframe[1,]<-c(1,2)
> Warning messages:
> 1: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj)
> 2: invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj)

OK. That's not a bug! 
str(emptyframe) tells us: $a and $b are factors. You cannot assign the
*levels* "1" or "2" on this way.
So we can generate another similar example:
  emptyframe <- data.frame(a=c("A", "B"), b=c("A", "B"))
  str(emptyframe)
  emptyframe[1,] <- c(1, 2) # Don't work either, what we expect.


> > emptyframe
>    a  b
> 1 NA NA
> 2 NA NA
> > anotherframe<-data.frame(a=c(8,9),b=c(NA,NA))
> > anotherframe
>   a  b
> 1 8 NA
> 2 9 NA
> > anotherframe[1,]<-c(1,2)
> Warning message:
> invalid factor level, NAs generated in: [<-.factor(*tmp*, iseq, value = vjj)
> > anotherframe
>   a  b
> 1 1 NA
> 2 9 NA
> > yetanotherframe<-data.frame(a=c(8,NA),b=c(9,NA))
> > yetanotherframe
>    a  b
> 1  8  9
> 2 NA NA
> > yetanotherframe[1,]<-c(1,2)   #  no problem with this one
> > yetanotherframe
>    a  b
> 1  1  2
> 2 NA NA

Right, because here $a and $b are numeric: str(yetanotherframe)

If you really want to generate a data.frame only with NAs in it, you can
use for example:
  emptyframe <- data.frame(a=as.numeric(c(NA, NA)), b=as.numeric(c(NA,
NA)))
  emptyframe[1,] <- c(1, 2) # Works now ...

 
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbrands at interchange.ubc.ca  Sat Nov 25 22:50:34 2000
From: rbrands at interchange.ubc.ca (Ralph Brands)
Date: Sat, 25 Nov 2000 13:50:34 -0800
Subject: [R] updating LinuxPPC installation
Message-ID: <B645742A.2A4%rbrands@interchange.ubc.ca>

I have R-1.01 installed on my Mac running LinuxPPC.

I updated previously by connecting directly to CRAN I think, and all my base
and packages were updated after prompts ("You have R-base 0.96 installed.
Update R-base to 1.01? Y/N" ...).

Now I want to do this again, but can't find the command to use in the FAQs
etc. Can someone suggest it?

Many thanks,

Ralph Brands.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Sun Nov 26 06:29:01 2000
From: jaitchis at lisp.com.au (John Aitchison)
Date: Sun, 26 Nov 2000 16:29:01 +1100
Subject: [R] Session logging in Windows98?
In-Reply-To: <Pine.GSO.4.05.10011240716180.27026-100000@auk.stats>
References: <000401c0559a$50f916c0$6401a8c0@pionex>
Message-ID: <200011260529.GAA16658@stat.math.ethz.ch>



On 24 Nov 00, at 7:29, Prof Brian D Ripley wrote:

> I despair of this!   There is a Select All menu on the File | Edit menu,
> and on the console pop-up.  This is absolutely standard Windows behaviour,
> as is the ability to drag a selection and the console scrolls.

snip

> On Thu, 23 Nov 2000, W. T. Woodard wrote:
> 
> > The suggested cut-and-paste requires laborious multiple
> > cut-and-pastes  for long sessions extending over multiple screens.
> 
> For the record, that's completely incorrect.

I'd just like to mention that if you DO find yourself using cut and paste 
a lot, there is a commercial (shareware) product for clipboard management 
called ClipCache Plus .. I use it frequently, and it has some nifty tools 
.. for example you can trim  leading > .. you don't actually have to paste
your selection anywhere, ClipCache just keeps a small database of anything 
you have copied to the clipboard, and you can edit those copies within 
ClipCache.

fwiw

John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janos at research.att.com  Mon Nov 27 03:36:40 2000
From: janos at research.att.com (Janos A. Csirik)
Date: Sun, 26 Nov 2000 21:36:40 -0500
Subject: [R] Margin question
Message-ID: <Pine.SGI.4.10.10011262132490.19201559-100000@fry.research.att.com>

I am trying to produce a postscript plot consisting of rectangles and text
labels in R.  It is going very well, but I have been unable to get small
margins on the page.  I read the documentation on the 'mar' and 'oma'
options, but they claim that the margins should default to being 0.25in
wide, in fact on my plot they are more like 1in each!  Here is the
smallest R script that illustrates my problem:

postscript ( "janos.ps", paper="letter" )
plot.new()
rect ( 0, 0, 1, 1, col="yellow", border=0 )
dev.off()

Could you kindly suggest an extra command (or two) to insert, which would
make the margins very small?  Please drop a copy of your reply to my email
address, janos at research.att.com

Thanks,

Janos A Csirik.


PS.  I am using version 1.1.1 on a Linux box.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 27 08:43:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 27 Nov 2000 07:43:46 +0000 (GMT)
Subject: [R] Margin question
In-Reply-To: <Pine.SGI.4.10.10011262132490.19201559-100000@fry.research.att.com>
Message-ID: <Pine.GSO.4.05.10011270730330.5887-100000@auk.stats>

On Sun, 26 Nov 2000, Janos A. Csirik wrote:

> I am trying to produce a postscript plot consisting of rectangles and text
> labels in R.  It is going very well, but I have been unable to get small
> margins on the page.  I read the documentation on the 'mar' and 'oma'
> options, but they claim that the margins should default to being 0.25in
> wide, in fact on my plot they are more like 1in each!  Here is the

Which margins?  The margins of the postscript device region are 0.25in
around the edge of the paper.  There are two more margins: see 
R-intro.  'mar' sets the margins of the plot within a figure, and
'oma' the margins of the figure within the devion region.


> smallest R script that illustrates my problem:
> 
> postscript ( "janos.ps", paper="letter" )

add par(mar=rep(0,4))

> plot.new()
> rect ( 0, 0, 1, 1, col="yellow", border=0 )
> dev.off()
> 
> Could you kindly suggest an extra command (or two) to insert, which would
> make the margins very small?  Please drop a copy of your reply to my email
> address, janos at research.att.com

The device region (in big points) is  18 18 594 774, and that's also the
figure region.  HOWEVER, you have not set a coordinate system, and by
default that has a 4% margin.  Try

postscript ( "janos.ps", paper="letter" )
par(mar=rep(0,4))
plot(c(0,1), c(0,1), type="n", xaxs="i", yaxs="i", bty="n")
rect ( 0, 0, 1, 1, col="yellow", border=0 )
dev.off()

Using plot.new from user code is almost always a mistake.

If you don't want the paper margins then you probably do not want to print,
and you should set paper="special" and width and height in the postscript
call.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel at bbdo-interone.de  Mon Nov 27 17:15:36 2000
From: jens.oehlschlaegel at bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 27 Nov 2000 17:15:36 +0100
Subject: FW: [R] boxplot grouped by two variables: general issue
In-Reply-To: <20001124090635.B24152@stat1.stat.auckland.ac.nz>
Message-ID: <000b01c0588d$46d43800$c10616ac@bbdo.de>



Dear Ross,

> > a) Any plans to implement trellis?
>
> 	Yes, in fact work is in progress.  Paul Murrell is working on
> 	generalized layout facilities which will provide the necessary
> 	support for multipanel conditioning (and more).  It is probably
> 	premature to talk about a time frame for this, but can report
> 	that I have seen trellis-like plots on Paul's screen.
>
> 	Of course, layout support is just the low-level part of trellis,
> 	but I think the higher level parts could come comparatively
> 	quickly once the layout support is in place.  (Issues are things
> 	like shingles and banking).

great news

> > b) Are there any other solutions in R which offer simple trellis
> > functionality?
>
> 	Deepayan Sarkar has been working on modifications to coplot
> 	to make it more trellis-like.  This could well be placed over
> 	Paul's layout code at some point.
>
> > c) Do you think, attacking these problems leads to
> reinventing trellis with
> > all it's complexity?
> >
> > If the answers turn out to be c(a=NO,b=NO,c=NO) I would
> like  to ask in more
> > detail:
> >
> > Is it possible to write plot functions to properly behave
> as high level AND
> > as panel functions?
>
> 	I want to look issues like this.  Some kind of partitioning of
> 	functionality is clearly needed.  It should be possible to
> 	access plots at a variety of levels
>
> 	 (i)	High level,
> 	 (ii)	Purely computational (no plotting).
> 		Some methods accept a plot=FALSE argument.
>
> 	In addition, it seems like we need:
>
> 	 (iii)	an intermediate level which allows the embedding
> 		of plots within other plots.
>
> 	Examples of this last are trellis panels and panels of plots
> 	superimposed on maps.
>
> > Are there any issues that NEED to be addressed beyond 1) to 3) ?
> > Any recommendations? Any related work in progress? Any volunteers?
>
> 	A useful contribution would be a look at how to package the
> 	functionality of the higher levels of trellis.	There
> are general
> 	issues of compatibility and extension, as well as specific
> 	functionality that needs to be provided.  The "for the record"
> 	sections of Cleveland's latest book are a good source for
> 	the latter.

I currently have no access to an actual version of trellis as to get ideas
of what might be necessary, so I do not feel in a good position to do that.
However that might change soon. Do you think this work should be done after
Paul's generalized layout facilities oder parallel to it?

Another area of standardization/modularization I am thinking about concerns
the variety of data import/export methods we have. Will send this soon to
r-devel. I hope it is OK to think loud about all this even if I finally
might not be the one who feels able to code it. BTW, I feel better prepared
to help with the data import/export issues, as I already invested some time
in that.

Regards


Jens

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Tue Nov 28 00:35:23 2000
From: mac24 at humboldt.edu (Michael Camann)
Date: Mon, 27 Nov 2000 15:35:23 -0800 (PST)
Subject: [R] Tree anova?
In-Reply-To: <3A1D581F.19D8A3F4@cergrene.enpc.fr>
Message-ID: <200011272335.PAA26806@axe.humboldt.edu>

A reviewer recently suggested that I include something he/she referred to
as a "tree ANOVA analysis" in a manuscript.  Forgive my ignorance, but I'm
a humble biologist....  1) can anyone give me any additional information
on this technique (a citation or two would be lovely), and 2) Does R do
it.  The reviewer did state that S-plus does, if that helps.

Thanks for any help you can offer.

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s887539 at mail.yzu.edu.tw  Tue Nov 28 03:14:27 2000
From: s887539 at mail.yzu.edu.tw (=?big5?B?pfSn06e7?=)
Date: Tue, 28 Nov 2000 10:14:27 +0800
Subject: [R] ask for help
Message-ID: <001601c058e0$f0edaa80$a88e8a8c@iem.yuz.edu.tw>

To whom it may concern:

The question is how we can incorporate a FORTRAN program into "R" system, just like calling subroutines.
Thank you for your help in this matter.

Please pass this message to the technical service section. Many thanks.

Best Wishes,
Chihhon Ren
Graduate School of Industrial Engineering
Yuan Ze University
Taiwan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001128/e292c8e0/attachment.html

From mavip1 at inet.polyu.edu.hk  Tue Nov 28 06:21:19 2000
From: mavip1 at inet.polyu.edu.hk (Li Dongfeng)
Date: Tue, 28 Nov 2000 13:21:19 +0800
Subject: [R] BUG report: polyroot()
Message-ID: <001101c058fb$0a5a4ea0$f0ae849e@polyu.edu.hk>

I have found that the polyroot()
function in R-1.1.1(both solaris
and Win32 version) gives totally
incorrect result. Here is the offending
code:

# Polyroot bug report:
# from R-1.1.1
> sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
 [1] 0.8758259 0.9486499 0.9731015 1.5419189 1.7466214 1.7535362 1.7589484
 [8] 2.0216317 2.4421509 2.5098488 2.6615572 2.7717724 2.8444048 2.9147685
[15] 2.9302278 2.9757159 3.2037151 3.2052962 3.2498510 3.2815881 3.3250881
[22] 4.6593700 4.7048556 5.2738258 5.7369920 5.9017094
# from Splus 2000
> sort(abs(polyroot(c(1, -2,1,0,0,0,0,0,0,0,0,0,-2,5,-2,0,0,0,0,0,0,0,0,0,1,-2,1))))
 [1] 0.8038812 0.8038812 0.8758259 0.8758259 0.9235722
 [6] 0.9235722 0.9439788 0.9439788 0.9536692 0.9536692
[11] 0.9582403 0.9582403 0.9596028 1.0420978 1.0435796
[16] 1.0435796 1.0485816 1.0485816 1.0593458 1.0593458
[21] 1.0827524 1.0827524 1.1417794 1.1417794 1.2439649
[26] 1.2439649

>From mathematical theory I know that the Splus result
is correct while the R result is wrong. I would have
checked the source if I had the time.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 28 08:15:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 28 Nov 2000 07:15:40 +0000 (GMT)
Subject: [R] Tree anova?
In-Reply-To: <200011272335.PAA26806@axe.humboldt.edu>
Message-ID: <Pine.GSO.4.05.10011280714260.6511-100000@auk.stats>

On Mon, 27 Nov 2000, Michael Camann wrote:

> A reviewer recently suggested that I include something he/she referred to
> as a "tree ANOVA analysis" in a manuscript.  Forgive my ignorance, but I'm
> a humble biologist....  1) can anyone give me any additional information
> on this technique (a citation or two would be lovely), and 2) Does R do
> it.  The reviewer did state that S-plus does, if that helps.

The reviewer is probably equally ignorant!  I think this means regression
trees, and R packages tree and rpart (on CRAN) provide this.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rahmed at julian.uwo.ca  Tue Nov 28 08:20:43 2000
From: rahmed at julian.uwo.ca (Muhammad Rashid Ahmed)
Date: Tue, 28 Nov 2000 08:20:43 +0100
Subject: [R] Fitting of Garch Model in R [forwarded]
Message-ID: <14883.23755.642002.907972@gargle.gargle.HOWL>

This accidentally (;-) didn't go to the R-help mailing list ..

------- start of forwarded message -------

 To: <maechler at stat.math.ethz.ch>
 Date: Mon, 27 Nov 2000 21:50:23 -0800

Dear Sir,

I know you are so busy and I would be highly appreciate you if you can
answer my question regarding to fitting of Garch Model.

Question: 
How can I change the innovation in Garch fitting from Normal to
T-dist. According to my understanding I could not find any option to change
the distribution of innovation from normal to T-Dist or any other dist..

Once again I would be very grateful for your early reply.

Best regards,
(Muhammad Rashid Ahmed)

------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Nov 28 08:31:07 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 28 Nov 2000 08:31:07 +0100 (MET)
Subject: [R] ask for help
In-Reply-To: <001601c058e0$f0edaa80$a88e8a8c@iem.yuz.edu.tw>
Message-ID: <Pine.LNX.4.21.0011280826560.27806-100000@artemis.imbe.med.uni-erlangen.de>

> To whom it may concern:
> 
> The question is how we can incorporate a FORTRAN program into "R" system, just like calling subroutines.
> Thank you for your help in this matter.

This is discussed in detail in "Writing R Extentions" and the
FAQ. It is always a good idea to check the documentation first! 

> 
> Please pass this message to the technical service section. Many thanks.
> 

????

Torsten

> Best Wishes,
> Chihhon Ren
> Graduate School of Industrial Engineering
> Yuan Ze University
> Taiwan
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue Nov 28 10:55:27 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 28 Nov 2000 10:55:27 +0100
Subject: [R] Merging levels of matrix dimensions
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E8C7@exdkba03.novo.dk>

If I have a matrix I can sum some of the rows by hand:
> M
     [,1] [,2] [,3]
[1,]    1    6   11
[2,]    2    7   12
[3,]    3    8   13
[4,]    4    9   14
[5,]    5   10   15
> rbind(M[1,],M[2,]+M[3,],M[4,]+M[5,])
     [,1] [,2] [,3]
[1,]    1    6   11
[2,]    5   15   25
[3,]    9   19   29

This is a trivial special case of the following problem that I
wuold like to have a solution to:

Consider a matix m, and suppose I have factors f.row and f.rcol 
of lengths dim(m), respectively.
These factors induce a division of m into submatrices.
How do I get a nlevels(f.row) by nlevels(f.col) matrix where each
entry is the sum (or any old function) of the elements in 
each submatrix?

Of course there is an array-generalization of this problem as well.

Any help would be appreaciated.

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Tue Nov 28 12:46:21 2000
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Tue, 28 Nov 2000 12:46:21 +0100 (MET)
Subject: [R] Merging levels of matrix dimensions
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E8C7@exdkba03.novo.dk>
Message-ID: <Pine.OSF.4.21.0011281241150.19550-100000@arnold.math.ku.dk>

Hey 

A first try might be something like: 


cfsum<-function(X, cf)
{
ret<-matrix(NA, ncol=nlevels(cf), nrow=nrow(X))
for(j in 1:nlevels(cf))ret[,j]<-apply(as.matrix(X[,
cf==levels(cf)[j]]),1,sum)
return(ret)
}

A<-matrix(1:25, 5, 5)
col.f<-as.factor(c("A","B","C","C","C"))

cfsum(A, col.f)


After this we can use the same function on the transposed matrix to 
add some of the rows. 

Anders


On Tue, 28 Nov 2000, BXC (Bendix Carstensen) wrote:

> If I have a matrix I can sum some of the rows by hand:
> > M
>      [,1] [,2] [,3]
> [1,]    1    6   11
> [2,]    2    7   12
> [3,]    3    8   13
> [4,]    4    9   14
> [5,]    5   10   15
> > rbind(M[1,],M[2,]+M[3,],M[4,]+M[5,])
>      [,1] [,2] [,3]
> [1,]    1    6   11
> [2,]    5   15   25
> [3,]    9   19   29
> 
> This is a trivial special case of the following problem that I
> wuold like to have a solution to:
> 
> Consider a matix m, and suppose I have factors f.row and f.rcol 
> of lengths dim(m), respectively.
> These factors induce a division of m into submatrices.
> How do I get a nlevels(f.row) by nlevels(f.col) matrix where each
> entry is the sum (or any old function) of the elements in 
> each submatrix?
> 
> Of course there is an array-generalization of this problem as well.
> 
> Any help would be appreaciated.
> 
> Bendix
> 
> ----------------------
> Bendix Carstensen
> Senior Statistician
> Steno Diabetes Centre
> Niels Steensens Vej 2
> DK-2820 Gentofte
> Denmark
> tel: +45 44 43 87 38
> mob: +45 28 25 87 38
> fax: +45 44 43 73 13
> bxc at novo.dk
> www.biostat.ku.dk/~bxc
> ----------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pennedinil at excite.com  Tue Nov 28 12:54:40 2000
From: pennedinil at excite.com (Dinil Penne)
Date: Tue, 28 Nov 2000 03:54:40 -0800 (PST)
Subject: [R] Haerdle Library
Message-ID: <12171907.975412486750.JavaMail.imail@ringo.excite.com>


Has anyone had success in installing and using the Haerdle library of
functions available for S-Plus? Is it as straightforward as copying the
files into the library directory for R? 

Thanks in advance. I'm using R on Windows.

Samir.






_______________________________________________________
Tired of slow Internet? Get @Home Broadband Internet
http://www.home.com/xinbox/signup.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 28 14:07:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Nov 2000 13:07:57 +0000 (GMT)
Subject: [R] Haerdle Library
Message-ID: <200011281307.NAA10246@toucan.stats.ox.ac.uk>


> Date: Tue, 28 Nov 2000 03:54:40 -0800 (PST)
> From: Dinil Penne <pennedinil at excite.com>
> To: R-help at stat.math.ethz.ch
> Subject: [R] Haerdle Library
> X-Sender-Ip: 193.120.151.66
> 
> 
> Has anyone had success in installing and using the Haerdle library of
> functions available for S-Plus? Is it as straightforward as copying the
> files into the library directory for R? 
> 
> Thanks in advance. I'm using R on Windows.

No, it uses C code.  I put the haerdle library on statlib, but decided not to 
port it to R as I think much better versions of the functions are
available.  Look at KernSmooth, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vbr at geomant.erin.utoronto.ca  Tue Nov 28 14:11:10 2000
From: vbr at geomant.erin.utoronto.ca (Doc Robinson)
Date: Tue, 28 Nov 2000 08:11:10 -0500 (EST)
Subject: [R] Multiple Comparisons
Message-ID: <Pine.LNX.4.21.0011280808471.3555-100000@geomant.erin.utoronto.ca>

I have used multicomp    in S-Plus 2000 to do multiple comparisons
and have had difficult time locating whether or not this is
availabe in R or one of the add-ons to R.......is it something
that is goin  to be added in the near future ?
or have i missed something in my search ?

-- 

Regards,
        Doc

-------------------------------------------------------------------------
|  V. B. Robinson            |                                          |
|  Department of Geography   | E-Mail: vbr at eratos.erin.utoronto.ca      |
|  University of Toronto     | Voice: (905)828-5299                     |
|     at Mississauga         | Fax:   (905)828-5273                     |
|  Mississauga, Ontario      |                                          |
|  Canada     L5L 1C6        |                                          |
|-----------------------------------------------------------------------|
|       http://eratos.erin.utoronto.ca/res/vbr/web/index.html           |
-------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue Nov 28 14:14:31 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 28 Nov 2000 14:14:31 +0100
Subject: [R] What is the name of this program
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E8CA@exdkba03.novo.dk>

Suppose you run the program x.R by

rterm < x.R > x.Rl

Is there a way from within x.R to access the full path name of
the file x.R? The purpose is of course to write a few lines
in my .Rprofile that will print the pathname of the program
somewhere near the top of x.Rl.

I use WinNT4. (soon Win2000)

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 28 14:29:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Nov 2000 13:29:32 +0000 (GMT)
Subject: [R] Multiple Comparisons
Message-ID: <200011281329.NAA10329@toucan.stats.ox.ac.uk>


> Date: Tue, 28 Nov 2000 08:11:10 -0500 (EST)
> From: Doc Robinson <vbr at geomant.erin.utoronto.ca>


> I have used multicomp    in S-Plus 2000 to do multiple comparisons
> and have had difficult time locating whether or not this is
> availabe in R or one of the add-ons to R.......is it something
> that is goin  to be added in the near future ?
> or have i missed something in my search ?

The answer depends if you are proposing to contribute a version!
There is nothing anything like as comprehensive, as far as I know.

multicomp is not part of S, and for fairly obvious reasons the R
project is not attempting to clone the work of a commercial organization.
If you have S-PLUS 2000, why not use it for this?

There are some simple multiple comparison things in R: look at the
*pairwise* functions in ctest, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amami at ma.man.ac.uk  Tue Nov 28 15:23:46 2000
From: amami at ma.man.ac.uk (AHMED MAMI)
Date: Tue, 28 Nov 2000 14:23:46 +0000
Subject: [R] random number generator
Message-ID: <3A23BFF2.DEAF5874@ma.man.ac.uk>

I have an inquire about the RNG in R

It is known that when we use the " rnorm " function , we pass the
arguments :

1- number of variables to be generated
2- mean vector of the normal random errors.
3- standard deviation vector of the normal random errors.

my question is the following

Is the a way (a function) in R that we could specify the covariance
matrix in step 3, instead of the

standard deviation vector of the normal random errors, since we want to
generate multivariate

correlated random data.

many thanks


A. mami

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pennedinil at excite.com  Tue Nov 28 15:25:35 2000
From: pennedinil at excite.com (Dinil Penne)
Date: Tue, 28 Nov 2000 06:25:35 -0800 (PST)
Subject: [R] Help update.packages()
Message-ID: <14023905.975421537786.JavaMail.imail@ringo.excite.com>


I'm getting the following error message - 

> update.packages()
The name specified is not recognized as an
internal or external command, operable program or batch file.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        No download method found
In addition: Warning messages: 
1: wget not found 
2: cmd execution failed with error code 1 in: shell("lynx -help", invisible
= TRUE) 


Could someone explain what may be going on and/or how I can fix the problem?

Thanks in advance.

Samir.






_______________________________________________________
Tired of slow Internet? Get @Home Broadband Internet
http://www.home.com/xinbox/signup.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 28 15:33:57 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Nov 2000 08:33:57 -0600
Subject: [R] Multiple Comparisons
In-Reply-To: Prof Brian Ripley's message of "Tue, 28 Nov 2000 13:29:32 +0000 (GMT)"
References: <200011281329.NAA10329@toucan.stats.ox.ac.uk>
Message-ID: <6rk89o5foq.fsf@franz.stat.wisc.edu>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > Date: Tue, 28 Nov 2000 08:11:10 -0500 (EST)
> > From: Doc Robinson <vbr at geomant.erin.utoronto.ca>
> 
> 
> > I have used multicomp    in S-Plus 2000 to do multiple comparisons
> > and have had difficult time locating whether or not this is
> > availabe in R or one of the add-ons to R.......is it something
> > that is goin  to be added in the near future ?
> > or have i missed something in my search ?
> 
> The answer depends if you are proposing to contribute a version!
> There is nothing anything like as comprehensive, as far as I know.
> 
> multicomp is not part of S, and for fairly obvious reasons the R
> project is not attempting to clone the work of a commercial organization.
> If you have S-PLUS 2000, why not use it for this?
> 
> There are some simple multiple comparison things in R: look at the
> *pairwise* functions in ctest, for example.

There is a Tukey studentized range test available in the Devore5
package.  Rukmini Kethireddypally <rukmini at stat.wisc.edu> is working
on Duncan's multiple comparison test.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 28 15:34:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Nov 2000 14:34:46 +0000 (GMT)
Subject: [R] Help update.packages()
Message-ID: <200011281434.OAA11231@toucan.stats.ox.ac.uk>


> Date: Tue, 28 Nov 2000 06:25:35 -0800 (PST)
> From: Dinil Penne <pennedinil at excite.com>
> 
> 
> I'm getting the following error message - 

Please report your R version and OS when asking for help.

> > update.packages()
> The name specified is not recognized as an
> internal or external command, operable program or batch file.
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
>         No download method found
> In addition: Warning messages: 
> 1: wget not found 
> 2: cmd execution failed with error code 1 in: shell("lynx -help", invisible
> = TRUE) 
> 
> 
> Could someone explain what may be going on and/or how I can fix the problem?

What is going on is that you are not reading the help pages, which do
indeed explain this!  You need to install wget or lynx. As in:

To use "wget" or "lynx" the executable must be installed on your system and
in your path. 

wget.exe is available from http://www.stats.ox.ac.uk/pub/Rtools/wget.zip
lynx.exe is available from http://www.fdisk.com/doslynx/lynxport.htm

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 28 15:36:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 28 Nov 2000 14:36:57 +0000 (GMT)
Subject: [R] random number generator
Message-ID: <200011281436.OAA11245@toucan.stats.ox.ac.uk>


> Date: Tue, 28 Nov 2000 14:23:46 +0000
> From: AHMED MAMI <amami at ma.man.ac.uk>
> 
> I have an inquire about the RNG in R

(I don't think so: this is nothing to do with the `random number generator'.)

> It is known that when we use the " rnorm " function , we pass the
> arguments :
> 
> 1- number of variables to be generated
> 2- mean vector of the normal random errors.
> 3- standard deviation vector of the normal random errors.
> 
> my question is the following
> 
> Is the a way (a function) in R that we could specify the covariance
> matrix in step 3, instead of the
> 
> standard deviation vector of the normal random errors, since we want to
> generate multivariate
> 
> correlated random data.

Perhpas, you do, but you don't use rnorm for that.  Try mvrnorm in
package MASS.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 28 16:13:47 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Nov 2000 09:13:47 -0600
Subject: [R] Multiple Comparisons
In-Reply-To: Douglas Bates's message of "28 Nov 2000 08:33:57 -0600"
References: <200011281329.NAA10329@toucan.stats.ox.ac.uk> <6rk89o5foq.fsf@franz.stat.wisc.edu>
Message-ID: <6r7l5o5duc.fsf@franz.stat.wisc.edu>

Douglas Bates <bates at stat.wisc.edu> writes:

> There is a Tukey studentized range test available in the Devore5
> package.  Rukmini Kethireddypally <rukmini at stat.wisc.edu> is working
> on Duncan's multiple comparison test.

I had Rukmini's e-mail address wrong.  The correct address is
                        kethired at stat.wisc.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Nov 28 17:35:45 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 28 Nov 2000 11:35:45 -0500 (EST)
Subject: [R] random number generator
In-Reply-To: <3A23BFF2.DEAF5874@ma.man.ac.uk>
Message-ID: <Pine.LNX.4.30.0011281135330.10454-100000@bolker.zoo.ufl.edu>


  Look for mvrnorm() in the MASS library.

On Tue, 28 Nov 2000, AHMED MAMI wrote:

> I have an inquire about the RNG in R
>
> It is known that when we use the " rnorm " function , we pass the
> arguments :
>
> 1- number of variables to be generated
> 2- mean vector of the normal random errors.
> 3- standard deviation vector of the normal random errors.
>
> my question is the following
>
> Is the a way (a function) in R that we could specify the covariance
> matrix in step 3, instead of the
>
> standard deviation vector of the normal random errors, since we want to
> generate multivariate
>
> correlated random data.
>
> many thanks
>
>
> A. mami
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Tue Nov 28 18:46:19 2000
From: mac24 at humboldt.edu (Michael Camann)
Date: Tue, 28 Nov 2000 09:46:19 -0800 (PST)
Subject: [R] Tree anova?
In-Reply-To: <Pine.GSO.4.05.10011280714260.6511-100000@auk.stats>
Message-ID: <200011281746.JAA31864@axe.humboldt.edu>


> The reviewer is probably equally ignorant!  I think this means regression
> trees, and R packages tree and rpart (on CRAN) provide this.

Charming as ever, Ripley.  Perhaps this list should be renamed the r-flame
list in honor of BDR's gentle, nurturing style.

Seriously, thanks to all who responded-- it seems that the reviewer did
indeed mean regression trees, which the rpart and MASS docs describe
admirably.

--Mike

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Nov 28 22:31:12 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 28 Nov 2000 16:31:12 -0500
Subject: [R] Rstreams package update
Message-ID: <3a2521e2.25303751@fisher.stats.uwo.ca>

Brian Ripley has uploaded a revised version of our Rstreams package to
CRAN <http://www.cran.r-project.org>.  Rstreams provides routines to
read external binary files.

Additions:

 data.restore:  like the S-PLUS function of the same name, reads
	 S-PLUS data.dump files
 getstreameol:  detects the end of line marker in a text file
 readlines:  reads lines from a text file

Improvements:

 readSfile:  can now read a larger range of S-PLUS binary files
 Numerous small changes to the help files
 A few bug fixes

The data.restore and readSfile functions can handle many S-PLUS
objects, but by no means all.  I'm still interested in improving them.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janos at research.att.com  Tue Nov 28 22:41:45 2000
From: janos at research.att.com (Janos A. Csirik)
Date: Tue, 28 Nov 2000 16:41:45 -0500
Subject: [R] R rectangle boundary question
In-Reply-To: <Pine.GSO.4.05.10011270730330.5887-100000@auk.stats>
Message-ID: <Pine.SGI.4.10.10011281638020.18783229-100000@fry.research.att.com>

Hello,

I am trying to produce two rectangles in R that are immediately adjacent
to each other.  However, I always seem to get a white boundary around each
rectangle, even though I have border=0.  Can anyone tell me how to get rid
of that boundary?  Thanks!

Here is a script of minimal length that illustrates my problem:
-------------------------------------------------------------------
postscript ( "out.ps", paper="letter" )
par(mar=rep(0,4))
plot(c(0,1), c(0,1), type="n", xaxs="i", yaxs="i", bty="n")
rect ( 0,0,1,1, col="white", border=0 )
rect ( 0.1, 0.1, 0.9, 0.9, col="darkgreen", border=0 )
rect ( 0.2, 0.2, 0.8, 0.8, col="yellow", border=0 )
dev.off()
-------------------------------------------------------------------

If you look at the output, you see that the yellow rectangle is surrounded
by a tiny white boundary, instead of the color going immediately from
yellow to green.  

Please send a copy of your reply to janos at research.att.com

Thanks again,

Janos A Csirik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue Nov 28 23:18:14 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 29 Nov 2000 11:18:14 +1300
Subject: [R] R rectangle boundary question
References: <Pine.SGI.4.10.10011281638020.18783229-100000@fry.research.att.com>
Message-ID: <009401c05989$199bb3c0$175dd882@stat.auckland.ac.nz>

Hi


> I am trying to produce two rectangles in R that are immediately adjacent
> to each other.  However, I always seem to get a white boundary around each
> rectangle, even though I have border=0.  Can anyone tell me how to get rid
> of that boundary?  Thanks!
>
> Here is a script of minimal length that illustrates my problem:
> -------------------------------------------------------------------
> postscript ( "out.ps", paper="letter" )
> par(mar=rep(0,4))
> plot(c(0,1), c(0,1), type="n", xaxs="i", yaxs="i", bty="n")
> rect ( 0,0,1,1, col="white", border=0 )
> rect ( 0.1, 0.1, 0.9, 0.9, col="darkgreen", border=0 )
> rect ( 0.2, 0.2, 0.8, 0.8, col="yellow", border=0 )
> dev.off()
> -------------------------------------------------------------------
>
> If you look at the output, you see that the yellow rectangle is surrounded
> by a tiny white boundary, instead of the color going immediately from
> yellow to green.


Setting border=0 means draw the border in colour "0" (which happens to be
white in this case).  If you do not want the border to be drawn, use
border=NULL.

This is hinted at in help(rect) with the default setting of col=NULL (which
does not fill the rect),
but we should probably document this more clearly.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Nov 28 23:13:59 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 28 Nov 2000 23:13:59 +0100 (MET)
Subject: [R] R rectangle boundary question
In-Reply-To: <Pine.SGI.4.10.10011281638020.18783229-100000@fry.research.att.com>
Message-ID: <Pine.GSO.4.21.0011282310530.11416-100000@amadeus.statistik.uni-dortmund.de>



On Tue, 28 Nov 2000, Janos A. Csirik wrote:

> Hello,
> 
> I am trying to produce two rectangles in R that are immediately adjacent
> to each other.  However, I always seem to get a white boundary around each
> rectangle, even though I have border=0.  Can anyone tell me how to get rid
> of that boundary?  Thanks!
> 
> Here is a script of minimal length that illustrates my problem:
> -------------------------------------------------------------------
> postscript ( "out.ps", paper="letter" )
> par(mar=rep(0,4))
> plot(c(0,1), c(0,1), type="n", xaxs="i", yaxs="i", bty="n")
> rect ( 0,0,1,1, col="white", border=0 )
> rect ( 0.1, 0.1, 0.9, 0.9, col="darkgreen", border=0 )
> rect ( 0.2, 0.2, 0.8, 0.8, col="yellow", border=0 )
> dev.off()
> -------------------------------------------------------------------
> 
> If you look at the output, you see that the yellow rectangle is surrounded
> by a tiny white boundary, instead of the color going immediately from
> yellow to green.  

That's right, because you specified white (border=0) borders. From the
help:

 border: color for rectangle border(s).


Everything works using

 ...
 rect(0.1, 0.1, 0.9, 0.9, col="darkgreen", border="darkgreen" )
 rect(0.2, 0.2, 0.8, 0.8, col="yellow", border="yellow")
 ...
 
Regards,
Uwe Ligges


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Tue Nov 28 23:40:35 2000
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Wed, 29 Nov 2000 08:40:35 +1000
Subject: [R] Tree anova?
In-Reply-To: <200011281746.JAA31864@axe.humboldt.edu>
References: <Pine.GSO.4.05.10011280714260.6511-100000@auk.stats>
Message-ID: <5.0.0.25.1.20001129082813.02bf1410@pop.jcu.edu.au>

At 09:46 28/11/00 -0800, you wrote:

> > The reviewer is probably equally ignorant!  I think this means regression
> > trees, and R packages tree and rpart (on CRAN) provide this.
>
>Charming as ever, Ripley.  Perhaps this list should be renamed the r-flame
>list in honor of BDR's gentle, nurturing style.

Hey, lay off.  Brian is a bit ascerbic BUT
1) you stated your ignorance (= unable to comprehend even what the referee 
wanted)
2) B confirmed it was not your fault as the referee's knowledge was 
obviously hazy (which you might consider a danger sign wrt advice offered)
3) he told you where to look for the information
4) he produced the goods you will use ...


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Tue Nov 28 23:57:26 2000
From: york at noaa.gov (Anne York)
Date: Tue, 28 Nov 2000 14:57:26 -0800 (PST)
Subject: [R] Mapping libraries in R
Message-ID: <Pine.GSO.4.05.10011281446180.16404-100000@ofis450a.akctr.noaa.gov>

Are there any packages for drawing maps in R? I did not see any
packages on CRAN.

Anne

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Nov 29 00:24:20 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 29 Nov 2000 10:24:20 +1100
Subject: [R] Patterning for fills
Message-ID: <3A243EA3.D4F25F92@ozemail.com.au>

I have coded a preliminary patterning for fills based on the Postscript
"paint" function that a couple of R-bies requested.  As an attempt to
forestall giving them headaches when someone (maybe even me) gets around
to coding patterning for the other devices, I have used the most
significant byte of the internal color code to hold the pattern code.
This does not interfere with solid color specification (as far as I can
see with x11(), Ghostview, KDE's PS viewer and a couple of Postscript
printers).  Anyone is welcome to look at the changes and tell me:

a) I've completely stuffed it up
b) It may be useful.
c) Both of the above.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Nov 29 01:03:24 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 28 Nov 2000 19:03:24 -0500 (EST)
Subject: [R] R rectangle boundary question
In-Reply-To: <Pine.SGI.4.10.10011281638020.18783229-100000@fry.research.att.com>
Message-ID: <Pine.LNX.4.30.0011281901160.11293-100000@bolker.zoo.ufl.edu>


 You want to use "lwd=0" rather than "border=0".  "border" sets the border
_color_, not its width (and border=0, I believe, sets the border to the
current background color, white in this case).
  A more careful reading of ?rect would have detected this ...

  Ben Bolker

On Tue, 28 Nov 2000, Janos A. Csirik wrote:

> Hello,
>
> I am trying to produce two rectangles in R that are immediately adjacent
> to each other.  However, I always seem to get a white boundary around each
> rectangle, even though I have border=0.  Can anyone tell me how to get rid
> of that boundary?  Thanks!
>
> Here is a script of minimal length that illustrates my problem:
> -------------------------------------------------------------------
> postscript ( "out.ps", paper="letter" )
> par(mar=rep(0,4))
> plot(c(0,1), c(0,1), type="n", xaxs="i", yaxs="i", bty="n")
> rect ( 0,0,1,1, col="white", border=0 )
> rect ( 0.1, 0.1, 0.9, 0.9, col="darkgreen", border=0 )
> rect ( 0.2, 0.2, 0.8, 0.8, col="yellow", border=0 )
> dev.off()
> -------------------------------------------------------------------
>
> If you look at the output, you see that the yellow rectangle is surrounded
> by a tiny white boundary, instead of the color going immediately from
> yellow to green.
>
> Please send a copy of your reply to janos at research.att.com
>
> Thanks again,
>
> Janos A Csirik
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Wed Nov 29 04:26:29 2000
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 29 Nov 2000 16:26:29 +1300
Subject: [R] importing data into R from matlab
Message-ID: <200011290326.eAT3Qdd08963@storm.niwa.cri.nz>

Colleagues

Has anyone out there developed a routine for importing matlab data into 
R? 
(if you are not familiar with matlab, see 
<http://www.mathworks.com/products/tech_computing/>

A sub-question concerns importing structured variables from matlab. 
Although you can save variables as an ascii file from matlab, you cannot 
write a structured variable in matlab into an ascii file without first 
converting the structured variable to an unstructured form. Superficially 
the structured variable in matlab corresponds to the data frame concept 
in S dialects.

Since matlab is widely used in oceanography, physics and acoustics it 
might be useful (and interesting?) for someone out there to create a data 
import function for matlab to R that incorportates the structured variable 
to data frame conversion.

Or perhaps one already exists?

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Nov 29 04:31:20 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 28 Nov 2000 19:31:20 -0800
Subject: [R] Tree anova?
In-Reply-To: <200011281746.JAA31864@axe.humboldt.edu>
References: <Pine.GSO.4.05.10011280714260.6511-100000@auk.stats>
Message-ID: <5.0.2.1.2.20001128192323.01e52ec0@127.0.0.1>

Frankly, I think Brian was gentle in his criticism of the reviewer.   My 
first thought when I wrote you privately about RPART and tree, was that I'd 
be real suspicious of a reviewer that ignorant.  I'd be even more wary of 
applying this technique based on the reviewer's dubious 
suggestion.  Perhaps the reviewer really did mean regression trees, but I 
doubt that anyone who ever *used* them would fall into the trap of calling 
them "anova trees".

I don't think Brian requires any defending.  He seems perfectly capable of 
defending himself <g>, but I think your reply was uncalled for.  The R user 
community owes a huge debt of gratitude to all those like Brian who give 
their time freely not only to this list but to the further development of R.



At 09:46 AM 11/28/00 -0800, Michael Camann wrote:
 >
 >> The reviewer is probably equally ignorant!  I think this means regression
 >> trees, and R packages tree and rpart (on CRAN) provide this.
 >
 >Charming as ever, Ripley.  Perhaps this list should be renamed the r-flame
 >list in honor of BDR's gentle, nurturing style.
 >
 >Seriously, thanks to all who responded-- it seems that the reviewer did
 >indeed mean regression trees, which the rpart and MASS docs describe
 >admirably.
 >
 >--Mike
 >
 >~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 >Michael A. Camann                                  Voice: 707-826-3676
 >Assistant Professor of Zoology                       Fax: 707-826-3201
 >Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
 >Department of Biology                            ifcr at axe.humboldt.edu
 >Humboldt State University
 >Arcata, CA 95521
 >
 >                 URL:http://www.humboldt.edu/~mac24/
 >~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 >
 >
 >
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Nov 29 07:59:48 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 29 Nov 2000 07:59:48 +0100
Subject: [R] importing data into R from matlab
In-Reply-To: <200011290326.eAT3Qdd08963@storm.niwa.cri.nz>
References: <200011290326.eAT3Qdd08963@storm.niwa.cri.nz>
Message-ID: <14884.43364.449491.788185@mithrandir.hornik.net>

>>>>> S McClatchie writes:

> Colleagues
> Has anyone out there developed a routine for importing matlab data into 
> R? 
> (if you are not familiar with matlab, see 
> <http://www.mathworks.com/products/tech_computing/>

> A sub-question concerns importing structured variables from matlab. 
> Although you can save variables as an ascii file from matlab, you cannot 
> write a structured variable in matlab into an ascii file without first 
> converting the structured variable to an unstructured form. Superficially 
> the structured variable in matlab corresponds to the data frame concept 
> in S dialects.

> Since matlab is widely used in oceanography, physics and acoustics it 
> might be useful (and interesting?) for someone out there to create a data 
> import function for matlab to R that incorportates the structured variable 
> to data frame conversion.

> Or perhaps one already exists?

I am not aware of one.

I seem to recall similar questions on the octave-help mailing list a few
years ago.  Someone even pointed to technical documentation for the file
format used by Matlab, but I am not sure whether this ever got done.

In any case, do you have a reference which describes the format?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 29 08:19:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 Nov 2000 07:19:15 +0000 (GMT)
Subject: [R] importing data into R from matlab
In-Reply-To: <14884.43364.449491.788185@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.05.10011290709080.17937-100000@auk.stats>

On Wed, 29 Nov 2000, Kurt Hornik wrote:

> >>>>> S McClatchie writes:
> 
> > Colleagues
> > Has anyone out there developed a routine for importing matlab data into 
> > R? 
> > (if you are not familiar with matlab, see 
> > <http://www.mathworks.com/products/tech_computing/>
> 
> > A sub-question concerns importing structured variables from matlab. 
> > Although you can save variables as an ascii file from matlab, you cannot 
> > write a structured variable in matlab into an ascii file without first 
> > converting the structured variable to an unstructured form. Superficially 
> > the structured variable in matlab corresponds to the data frame concept 
> > in S dialects.
> 
> > Since matlab is widely used in oceanography, physics and acoustics it 
> > might be useful (and interesting?) for someone out there to create a data 
> > import function for matlab to R that incorportates the structured variable 
> > to data frame conversion.
> 
> > Or perhaps one already exists?
> 
> I am not aware of one.
> 
> I seem to recall similar questions on the octave-help mailing list a few
> years ago.  Someone even pointed to technical documentation for the file
> format used by Matlab, but I am not sure whether this ever got done.
> 
> In any case, do you have a reference which describes the format?

R 1.2 will come with a data import/export manual, and in researching that  
no method for matlab has come to light.  So if there is one, we would
like to hear of it.  (I have not come across any data analysis package
that can read Matlab files.)
  
One possibility is to go via another format.  There are means in R (via
addons on CRAN) to read NDF5 and netCDF formats, and my guess is that there
are addons to Matlab to write those.  I turned up a reference to several
for netCDF:

http://www.unidata.ucar.edu/packages/netcdf/software.html#MATLAB


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Nov 29 09:09:59 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 29 Nov 2000 09:09:59 +0100 (MET)
Subject: [R] importing data into R from matlab 
Message-ID: <Pine.LNX.4.21.0011290909130.2908-100000@artemis.imbe.med.uni-erlangen.de>



> Colleagues
> 
> Has anyone out there developed a routine for importing matlab data into 
> R? 
> (if you are not familiar with matlab, see 
> <http://www.mathworks.com/products/tech_computing/>

To my knowledge, David Meyer <meyer at ci.tuwien.ac.at> added matlab and
octave import/export to StatDataML (not released yet). Maybe he offers a
snapshot.

Torsten


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Wed Nov 29 09:42:17 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Wed, 29 Nov 2000 09:42:17 +0100
Subject: [R] Re: R-help Digest V2 #275
References: <200011290301.EAA02470@stat.math.ethz.ch>
Message-ID: <3A24C169.8303B96B@olsen.ch>

R-help Digest wrote:

>
> Date: Tue, 28 Nov 2000 08:20:43 +0100
> From: "Muhammad Rashid Ahmed" <rahmed at julian.uwo.ca>
> Subject: [R] Fitting of Garch Model in R [forwarded]
>
> This accidentally (;-) didn't go to the R-help mailing list ..
>
> - ----
> -- start of forwarded message -------
>
>  To: <maechler at stat.math.ethz.ch>
>  Date: Mon, 27 Nov 2000 21:50:23 -0800
>
> Dear Sir,
>
> I know you are so busy and I would be highly appreciate you if you can
> answer my question regarding to fitting of Garch Model.
>
> Question:
> How can I change the innovation in Garch fitting from Normal to
> T-dist. According to my understanding I could not find any option to change
> the distribution of innovation from normal to T-Dist or any other dist..

Dear Muhammad

Unfortunately you cannot, and I also do not plan to include this feature in the near future because leaving
conditional normality in fitting the GARCH model is quite a business.

However, even if the data generating process is not conditionally normal you get consistent estimates under
quite general conditions. If you are further interested in the conditional distribution, you can, e.g.,
analyze the residuals of the GARCH model like estimating the degrees of freedom for a t-distribution...

best,

Adrian

--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From E.A.Catchpole at ukc.ac.uk  Wed Nov 29 10:57:19 2000
From: E.A.Catchpole at ukc.ac.uk (E.A.Catchpole)
Date: Wed, 29 Nov 2000 09:57:19 +0000 (GMT)
Subject: [R] offset
Message-ID: <Pine.GSO.4.05.10011290954220.5379-100000@heron.ukc.ac.uk>

I would like to do a logistic multiple regression on a binary variate,
with what Genstat calls an offset, ie a regression variable with the
coefficient constrained=1. I'm far from home and have Splus but not R
here, but any information from either source would be very welcome. I'd
hate to have to go back to using Genstat . . .

Thanks,
	Ted.
---------------
Dr E.A. (Ted) Catchpole			
School of Maths & Stats	
University College, UNSW		Institute of Maths & Stats      
Australian Defence Force Academy	University of Kent at Canterbury
e-catchpole at adfa.edu.au			Canterbury, CT2 7NF, England
http://www.ma.adfa.edu.au/~eac		E.A.Catchpole at ukc.ac.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 29 12:01:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Nov 2000 11:01:09 +0000 (GMT)
Subject: [R] offset
In-Reply-To: <Pine.GSO.4.05.10011290954220.5379-100000@heron.ukc.ac.uk>
Message-ID: <Pine.GSO.4.05.10011291059030.14548-100000@toucan.stats>

On Wed, 29 Nov 2000, E.A.Catchpole wrote:

> I would like to do a logistic multiple regression on a binary variate,
> with what Genstat calls an offset, ie a regression variable with the
> coefficient constrained=1. I'm far from home and have Splus but not R
> here, but any information from either source would be very welcome. I'd
> hate to have to go back to using Genstat . . .

Use offset() in the formula to glm.  In R only, you can also specify
offset as a parameter to glm: there are examples on ?glm in R (I know, I
added them).

> 
> Thanks,
> 	Ted.
> ---------------
> Dr E.A. (Ted) Catchpole			
> School of Maths & Stats	
> University College, UNSW		Institute of Maths & Stats      
> Australian Defence Force Academy	University of Kent at Canterbury
> e-catchpole at adfa.edu.au			Canterbury, CT2 7NF, England
> http://www.ma.adfa.edu.au/~eac		E.A.Catchpole at ukc.ac.uk
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Nov 29 12:25:20 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 29 Nov 2000 06:25:20 -0500 (EST)
Subject: [R] importing data into R from matlab
In-Reply-To: <Pine.GSO.4.05.10011290709080.17937-100000@auk.stats> (message
	from Prof Brian D Ripley on Wed, 29 Nov 2000 07:19:15 +0000 (GMT))
Message-ID: <200011291125.GAA04416@jessie.research.bell-labs.com>

> Date: Wed, 29 Nov 2000 07:19:15 +0000 (GMT)
> From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> cc: "S.McClatchie" <s.mcclatchie at niwa.cri.nz>, r-help at stat.math.ethz.ch
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk


>> Brian Ripley writes: 
> (I have not come across any data analysis package
> that can read Matlab files.)

 According to the Splus 2000 Programmer's guide (P 95),
that software can read a Matlab file containing a single
matrix. 

  I have never used this and the documentation does not provide many
details. The suggestion is that the file is  binary representation,
but it is possible that it has to be an ASCII dump or some suitably
engineered output from Matlab. 

  The StatDataML approach that Torsten mentioned would be good to have
implemented so that StatDataML can become a useful "standard".

  D.
 


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marlene.Mueller at uni-bayreuth.de  Wed Nov 29 12:34:22 2000
From: Marlene.Mueller at uni-bayreuth.de (Marlene Mueller)
Date: Wed, 29 Nov 2000 12:34:22 +0100
Subject: [R] offset
References: <Pine.GSO.4.05.10011290954220.5379-100000@heron.ukc.ac.uk>
Message-ID: <3A24E9BE.967AE9C0@uni-bayreuth.de>

"E.A.Catchpole" wrote:
> 
> I would like to do a logistic multiple regression on a binary variate,
> with what Genstat calls an offset, ie a regression variable with the
> coefficient constrained=1. I'm far from home and have Splus but not R
> here, but any information from either source would be very welcome. I'd
> hate to have to go back to using Genstat . . .

Offsets can be given in the same way in R, ie:
use glm with binomial family and logit link; do not include your
constrained variable into the formula but use it as the optional 
offset parameter. 

Alternatively (and I suppose, that is the way you have to go in Splus), 
you can use offset() in the formula for glm.

Hope that helps, Marlene
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From E.A.Catchpole at ukc.ac.uk  Wed Nov 29 12:32:22 2000
From: E.A.Catchpole at ukc.ac.uk (E.A.Catchpole)
Date: Wed, 29 Nov 2000 11:32:22 +0000 (GMT)
Subject: [R] offset
In-Reply-To: <200011291042.LAA01167@alpha.luc.ac.be>
Message-ID: <Pine.GSO.4.05.10011291129070.5379-100000@heron.ukc.ac.uk>

Jim,

Aha! offset(off) works. "offset=off" doesn't, as far as I can see.

But yes, I'll do my best to get R installed here before I leave.

That's terrific. Many thanks.

Ted.

---------------
Dr E.A. (Ted) Catchpole			
School of Maths & Stats			Honorary Senior Research Fellow
University College, UNSW		Institute of Maths & Stats      
Australian Defence Force Academy	University of Kent at Canterbury
e-catchpole at adfa.edu.au			Canterbury, CT2 7NF, England
http://www.ma.adfa.edu.au/~eac		E.A.Catchpole at ukc.ac.uk

On Wed, 29 Nov 2000, Jim Lindsey wrote:

> > 
> > Jim,
> > 
> > Thanks for the instant reply. Which dpcs? I've got the Splus ver5 manual
> > "Guide to Statistics" on my desk, and there's no mention of "offset" in
> > glm. Nor in the online
> > help, as far as I can see. And I looked thorough CRAN last night and
> > couldn't find a glm . . . Sorry to be dense . . 
> 
> Sorry. I didn't have my machine running when I first answered.
> 
> I checked. In R, the help is clear when I type ?offset. Just add
> offset(off) to your linear model where off is the offset vector. The
> second possibility, as I mentioned, is to use the offset option in the
> glm function: glm(...,family=binomial,offset=off).
> 
> You right about S-Plus2000. My son looked and cannot find
> offset. ?offset says it is internal, used by formula, but how????
> Apparently, the first method above does work.
> 
> Your best bet is to download and install R, 15 minutes work on most
> machines.
>   Good luck. Jim
> 
> > 
> > Ted.
> > ---------------
> > Dr E.A. (Ted) Catchpole			
> > School of Maths & Stats			Honorary Senior Research Fellow
> > University College, UNSW		Institute of Maths & Stats      
> > Australian Defence Force Academy	University of Kent at Canterbury
> > e-catchpole at adfa.edu.au			Canterbury, CT2 7NF, England
> > http://www.ma.adfa.edu.au/~eac		E.A.Catchpole at ukc.ac.uk
> > 
> > On Wed, 29 Nov 2000, Jim Lindsey wrote:
> > 
> > > > 
> > > > I would like to do a logistic multiple regression on a binary variate,
> > > > with what Genstat calls an offset, ie a regression variable with the
> > > > coefficient constrained=1. I'm far from home and have Splus but not R
> > > > here, but any information from either source would be very welcome. I'd
> > > > hate to have to go back to using Genstat . . .
> > > 
> > > offset can be used (in two different, but equivalen ways) in glm in R
> > > or S-Plus. See the docs. Jim
> > > 
> > > > 
> > > > Thanks,
> > > > 	Ted.
> > > > ---------------
> > > > Dr E.A. (Ted) Catchpole			
> > > > School of Maths & Stats	
> > > > University College, UNSW		Institute of Maths & Stats      
> > > > Australian Defence Force Academy	University of Kent at Canterbury
> > > > e-catchpole at adfa.edu.au			Canterbury, CT2 7NF, England
> > > > http://www.ma.adfa.edu.au/~eac		E.A.Catchpole at ukc.ac.uk
> > > > 
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > > 
> > > 
> > > 
> > 
> > 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From geoffroy.golfier at espci.fr  Wed Nov 29 16:55:32 2000
From: geoffroy.golfier at espci.fr (geoffroy golfier)
Date: Wed, 29 Nov 2000 16:55:32 +0100
Subject: [R] (no subject)
Message-ID: <3A2526F4.DB980B71@espci.fr>


suscribe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjpocern at ouray.cudenver.edu  Wed Nov 29 19:07:31 2000
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Wed, 29 Nov 2000 11:07:31 -0700
Subject: [R] Step function
Message-ID: <004801c05a2f$3e11f1a0$c4c8c284@cudenver.edu>

I am having problem using the step function for a linear regression model.  I've created an initial model containing only the intercept.  Then using the step function, I've selected three variables to be considered for the model. 


> x0.lm<- lm(MEDV~1, data = x)
> 
> anova(x0.lm)
Analysis of Variance Table

Response: MEDV
           Df Sum Sq Mean Sq F value Pr(>F)
Residuals 505  42716      85               
> 
> step(x0.lm, ~ CRIM + ZN + RM)
Start:  AIC= 2246.51 
 MEDV ~ 1 

Error in eval(expr, envir, enclos) : Object "MEDV" not found
>

I am not clear as to why the MEDV object ( the variable I am trying to predict) is not found.  I receive an identical message using the command > step(x0.lm).  

I am using R version 1.1.1.  I can run all the examples successfully.  Also, I realize that there are differences in the algorithms, but I can run the code above  on Splus version 5.  

Thanks 

Matt Pocernich 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001129/2f219ad5/attachment.html

From thomas at biostat.washington.edu  Wed Nov 29 19:30:26 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 29 Nov 2000 10:30:26 -0800 (PST)
Subject: [R] Step function
In-Reply-To: <004801c05a2f$3e11f1a0$c4c8c284@cudenver.edu>
Message-ID: <Pine.GSO.4.21.0011291020460.6329-100000@atlas.biostat.washington.edu>

On Wed, 29 Nov 2000, Matt Pocernich wrote:

> I am having problem using the step function for a linear regression model.  I've created an initial model containing only the intercept.  Then using the step function, I've selected three variables to be considered for the model. 
> 
> 
> > x0.lm<- lm(MEDV~1, data = x)
> > 
> > anova(x0.lm)
> Analysis of Variance Table
> 
> Response: MEDV
>            Df Sum Sq Mean Sq F value Pr(>F)
> Residuals 505  42716      85               
> > 
> > step(x0.lm, ~ CRIM + ZN + RM)
> Start:  AIC= 2246.51 
>  MEDV ~ 1 
> 
> Error in eval(expr, envir, enclos) : Object "MEDV" not found
> >
> 
> I am not clear as to why the MEDV object ( the variable I am trying to
> predict) is not found.  I receive an identical message using the
> command > step(x0.lm).
> 

This is a bug, I think.  The problem is that the data frame is called
x. If it were called something else there wouldn't be a problem, so the
workaround is to change the name of your data frame.


Looking at traceback() the problem is that the data frame `x' is being
searched for in the environment of add1.lm by model.frame.lm().  In most
cases it doesn't find it there and goes back to the global environment,
but if the data frame is called `x' (or one of 17 other things) it finds
the wrong thing in environment(add1.lm).

In R1.1.1 I'm not sure what can be done about this -- model.frame.lm
doesn't know where to find `x' and there isn't a general solution.  In
R1.2 we have more information and should be able to look in
environment(formula(lmobject)), but we aren't doing that yet.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Nov 29 20:00:43 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 29 Nov 2000 20:00:43 +0100
Subject: [R] incomplete gamma function
In-Reply-To: <3a254089.62f4.0@oecon.au.dk>
References: <3a254089.62f4.0@oecon.au.dk>
Message-ID: <14885.21083.483179.875596@gargle.gargle.HOWL>

>>>>> "Ott" == Ott Toomet <ecomus51 at oecon.au.dk> writes:

    Ott> HI, are there anything available which calculates incomplete gamma
    Ott> function?  I know such functions exist in both ox and Gauss.

and R, of course :

pgamma()  *is* a version of the incomplete gamma function.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Nov 30 00:13:32 2000
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 30 Nov 2000 12:13:32 +1300
Subject: [R] matlab to R / 2
Message-ID: <200011292313.eATNDid60976@storm.niwa.cri.nz>

Colleagues,

Thanks for the suggestions concerning reading matlab files into R

1. Regarding documentation for the format of matlab files, please see two
manuals that I picked up from the matlab websites. 

The name of the files are:
api_guide.pdf
api_ref.pdf

Use your web browser to access these files in my FTP directory
 <ftp://ftp.niwa.cri.nz/incoming/mcclatchie> under the appropriate 
subdirectory (\DDE). (You should be able to just point and click (if not,
copy the URL into the browser URL field). If the file you want won't load
straight into the application program (due to log filename for example),
save the file to disk first. 

This documentation should give sufficient information for developing
routines for dynamic data exchange in an application program interface (I
hope).

2. Regarding using netCDF as an intermediate format between matlab 
and R, I investigated  the URL that Brian Ripley found and followed 
download instructions for the NetCDF Toolbox for Matlab 
<http://crusty.er.usgs.gov/~cdenham/MexCDF/nc4ml5.html#STEPS>.

However in searching CRAN Package sources as well as StatLib, I did 
not see any routines for creating netCDF from R. At the risk of looking
silly, have I missed them?

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Nov 30 00:28:41 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 29 Nov 2000 15:28:41 -0800 (PST)
Subject: [R] matlab to R / 2
In-Reply-To: <200011292313.eATNDid60976@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.21.0011291527040.6329-100000@atlas.biostat.washington.edu>

On Thu, 30 Nov 2000, S.McClatchie wrote:
> However in searching CRAN Package sources as well as StatLib, I did 
> not see any routines for creating netCDF from R. At the risk of looking
> silly, have I missed them?
> 

It's under src/contrib/devel because it currently only reads, not writes.
The file is netCDF_1.0-1.tar.gz

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tan at uta.fi  Thu Nov 30 10:18:12 2000
From: tan at uta.fi (Tapio Nummi)
Date: Thu, 30 Nov 2000 12:18:12 +0300
Subject: [R] g-inverse
Message-ID: <l03130302b64bcb72d10b@[153.1.53.97]>




Is there any routine to obtain a g-inverse
of a matrix in R or S-PLUS?

Tapio Nummi
University of Tampere
Finland


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Nov 30 10:00:47 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 30 Nov 2000 10:00:47 +0100
Subject: [R] Silhouette plot labels in package cluster
In-Reply-To: <000301c04370$babfbd20$cb03cb92@physbio.mssm.edu>
References: <000301c04370$babfbd20$cb03cb92@physbio.mssm.edu>
Message-ID: <14886.5951.117866.274478@gargle.gargle.HOWL>

>>>>> "Massimo" == Massimo Sassaroli <massimo at inka.mssm.edu> writes:
(Oct 31)

    Massimo> I have just started using R, specifically the clustering
    Massimo> packages. Despite the vastness of the functionality of the
    Massimo> system, I have found it very flexible and intuitive. It has
    Massimo> been great fun to experiment with it.  Nevertheless, I am
    Massimo> under tight time constraints to complete a cluster analysis of
    Massimo> some data and need to come up with a "quick" solution for the
    Massimo> following problem: When I call the plot() function with a
    Massimo> pam.object and try to write labels for the individual objects
    Massimo> in the silhouette plots, rather than the object number, it
    Massimo> appears that the length of the strings allowed for the labels
    Massimo> is limited to 5 characters. Is this an intrinsic limitation?
    Massimo> Is there a way to work around this limitation?

yes, fix the function definitions :-)

Of course your `tight time constraints' are now over anyway...

The reason I'm writing:
In the last few days I've also extensively made use of
the `cluster' package, and found myself that the plotting functions are not
really flexible enough sometimes.

I've fixed many of them and also improved on the help files of cluster
(some of which come out with text in the wrong order).

I plan to shortly submit my patches to Kurt Hornik, the official maintainer
of "cluster".

Before that, I'd be quite interested in wishes,
feedback from you and other users, if you have!

    Massimo> Thank you very much for your help and thanks for a great piece
    Massimo> of software!

you're welcome.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Nov 30 10:27:44 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 30 Nov 2000 09:27:44 +0000 (GMT)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.GSO.4.20.0011300915490.14553-100000@laplace>

Hi Tapio,

On Thu, 30 Nov 2000, Tapio Nummi wrote:

> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?
> 
> Tapio Nummi
> University of Tampere
> Finland

Unfortunately there is no general `generalised inverse'.  But there are
special cases where it is easy to compute the generalised inverse.  These
are (1) if the matrix is symmetric, in which case you can use the eigen
decomposition; (2) if the matrix has full row or column rank, in which
case you can partition the matrix and invert the square submatrix of full
rank; (3) if you happen to know in advance that a particular subset of the
rows or columns is of full rank, in which case you can do the same thing
(after permuting).  Or you can use the SVD, but you might run into
numerical problems.  So it really depends on what you know, and it follows
that it is not generally possible to write a general function.

It's telling that both of my references on the subject, Campbell and
Meyer, "Generalised Inverses of Linear Transformations" and Rao and Mitra,
"Generalised Inverse of Matrices and its Applications", devote whole
chapters to computation, and in both cases the chapter occurs near the
back of the book.  If you happen to have more information about what you
want to invert I would be happy to help.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 30 10:36:04 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 30 Nov 2000 09:36:04 +0000 (GMT)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.GSO.4.05.10011300934250.17423-100000@toucan.stats>

On Thu, 30 Nov 2000, Tapio Nummi wrote:

> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?

A g-inverse is not, as far as I know, 100% uniquely defined.  However,
ginv in package MASS has the Moore-Penrose version.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Nov 30 11:17:16 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 30 Nov 2000 11:17:16 +0100 (MET)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.LNX.4.21.0011301116510.13342-100000@artemis.imbe.med.uni-erlangen.de>


> 
> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?

ginv in MASS, available at CRAN.

Torsten


> 
> Tapio Nummi
> University of Tampere
> Finland
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Janacek at uea.ac.uk  Thu Nov 30 13:18:20 2000
From: G.Janacek at uea.ac.uk (G.Janacek)
Date: Thu, 30 Nov 2000 12:18:20 +0000
Subject: [R] changes in glm?
Message-ID: <f04320402b64bf39f93e6@[139.222.80.154]>


I am running some simulations which involve fitting a glm with 
Binomial error ( in fact Bernoulli) and logistic link. Running R 0.63 
I have no problems. However I need more speed so migrated to our UNIX 
boxes which run
Version 0.90.1  (December 15, 1999)

Here I get an error


Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y 
= Y,  : y must be univariate unless binomial


which has baffled me.
So I as your indulgence and ask

(1) What if anything has changed in glm from 0.63 to 0.90?
(2) Is glm sensative to changes of word length?
(3) Given making R on an Alpha is beyond me (so is a problem) should 
I migrate to a later version of R or does this bring more problems in 
its wake?
(4) Does anyone recognise the error and if so I would appreciate some 
info. I'm sure it is my stupidity but ..

Sorry to trouble you
-- 
   G.Janacek
   Dean				               e-mail: G.Janacek at uea.ac.uk
   School of Mathematics			          tel: 44-(0)1603-592849
   UEA, Norwich NR4 7TJ,UK		          fax: 44-(0)1603-593868
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 30 14:35:30 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 30 Nov 2000 14:35:30 +0100
Subject: [R] changes in glm?
References: <f04320402b64bf39f93e6@[139.222.80.154]>
Message-ID: <3A2657A2.F2FBF11F@statistik.uni-dortmund.de>

"G.Janacek" wrote:
> 
> I am running some simulations which involve fitting a glm with
> Binomial error ( in fact Bernoulli) and logistic link. Running R 0.63
> I have no problems. However I need more speed so migrated to our UNIX
> boxes which run
> Version 0.90.1  (December 15, 1999)


The recent version is R-1.1.1 ! 
So it's a great idea to upgrade.

 
> Here I get an error
> 
> Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y
> = Y,  : y must be univariate unless binomial
> 
> which has baffled me.
> So I as your indulgence and ask
> 
> (1) What if anything has changed in glm from 0.63 to 0.90?
> (2) Is glm sensative to changes of word length?
> (3) Given making R on an Alpha is beyond me (so is a problem) should
> I migrate to a later version of R or does this bring more problems in
> its wake?
> (4) Does anyone recognise the error and if so I would appreciate some
> info. I'm sure it is my stupidity but ..

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Lundquist at ies.luth.se  Thu Nov 30 14:38:33 2000
From: Robert.Lundquist at ies.luth.se (Robert Lundquist)
Date: Thu, 30 Nov 2000 14:38:33 +0100
Subject: [R] jpeg in R for Windows?
Message-ID: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>

I have tried to put graphs in jpeg files, but even if a file is produced,
neither the graphics software nor the web browser can open such a file:
"Can't read file header". Any suggestions as to what might cause this? 

BTW, the output would presumably be better as png files, but I don't really
know if I can count on my students' web browsers being able to read this
format. Anyone who knows what browsers *can't* handle png files?

--robert
*******************
Robert Lundquist
Div of Quality Technology & Statistics
Lule? University of Technology

tel +46-920-91078
fax +46-920-72160

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 30 15:29:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Nov 2000 14:29:37 +0000 (GMT)
Subject: [R] jpeg in R for Windows?
In-Reply-To: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>
Message-ID: <Pine.GSO.4.05.10011301422090.26037-100000@auk.stats>

On Thu, 30 Nov 2000, Robert Lundquist wrote:

> I have tried to put graphs in jpeg files, but even if a file is produced,
> neither the graphics software nor the web browser can open such a file:
> "Can't read file header". Any suggestions as to what might cause this? 

No idea, as it works here with rw1011 in both IE5.01 and Netscape 4.75.  I
suspect you did not produce or save the file correctly, and as you supplied
no information about what you did or the version of R or ....

> BTW, the output would presumably be better as png files, but I don't really
> know if I can count on my students' web browsers being able to read this
> format. Anyone who knows what browsers *can't* handle png files?

No, but recent Netscape and IE can, and I think 4.x or later of either
can.  From memory (it's a long time since I saw either) 3.x versions could
not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Nov 30 15:34:56 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 30 Nov 2000 15:34:56 +0100
Subject: [R] jpeg in R for Windows?
In-Reply-To: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>
Message-ID: <B64C2420.6F40%pflugshaupt@geobot.umnw.ethz.ch>

On 30.11.2000 14:38 Uhr, Robert Lundquist wrote:

> BTW, the output would presumably be better as png files, but I don't really
> know if I can count on my students' web browsers being able to read this
> format. Anyone who knows what browsers *can't* handle png files?

You may be able  to find this information on the png home page at
http://www.libpng.org/pub/png/ . Seems to be unreachable right now (for me,
that is).

To my little experience, "new" browsers will display png files all right
("new" meaning something >= Netscape 4.7 or Explorer 5). Older versions may
display them partly (without transparency effects, for instance). Or not at
all. :-(

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 30 15:52:26 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 30 Nov 2000 15:52:26 +0100
Subject: [R] jpeg in R for Windows?
References: <DC3D7966FDC2D31183D000A0C9AA15390F4D54@marge.ies.ad.ltu.se>
Message-ID: <3A2669AA.803358E5@statistik.uni-dortmund.de>

Robert Lundquist wrote:

> thanks for your reply. Since I'm not too fluent in R, my attempts might be
> awkward, but I'll try to describe how I did it. I use R 1.1.1, and the
> session looked as follows:
> 
> >jpeg("plot.jpg")
> >plot(sin,2*pi)
> 
> This produces a file, but I can't open it. The corresponding sequence worked
> just fine for PNG files with
> 
> >png("test.png")
> >plot(sin,2*pi)
> 
> so my understanding of it is that something happens with the jpeg driver. Am
> I wrong there?

Aha. So you forgot to use dev.off(), e.g.:

  jpeg("plot.jpg")
  plot(sin, 2*pi)
  dev.off()

does the job.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Nov 30 16:51:17 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 30 Nov 2000 16:51:17 +0100 (MET)
Subject: [R] jpeg in R for Windows?
In-Reply-To: <B64C2420.6F40%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.OSF.4.30.0011301640470.4695-100000@alnair.uio.no>

On Thu, 30 Nov 2000, Kaspar Pflugshaupt wrote:

>On 30.11.2000 14:38 Uhr, Robert Lundquist wrote:
>
>> BTW, the output would presumably be better as png files, but I don't really
>> know if I can count on my students' web browsers being able to read this
>> format. Anyone who knows what browsers *can't* handle png files?
>
>You may be able  to find this information on the png home page at
>http://www.libpng.org/pub/png/ . Seems to be unreachable right now (for me,
>that is).

It was unreachable for me too.

>To my little experience, "new" browsers will display png files all right
>("new" meaning something >= Netscape 4.7 or Explorer 5). Older versions may
>display them partly (without transparency effects, for instance). Or not at
>all. :-(

<rant>
Yes. Unfortunately, PNG is yet another example of good technologies being
(or have been) ignored by browser makers because browser makers are more
concerned with winning a browser war than providing useful software.
</rant>

I would suggest installing the ImageMagick "display" utility on all
systems. <URL:http://www.simplesystems.org/ImageMagick/www/display.html>.
It can display images on all systems running X server. Also, ImageMagick
itself <URL:http://www.simplesystems.org/ImageMagick/> runs on most
popular OSes, including Mac and Win32 (and obviously, unices), so you may
get something out of that that can be used to view graphs on most
platforms.

If all else fails, display can be configured as external viewer, which is
something most browsers support, including lynx.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 30 17:13:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 30 Nov 2000 16:13:43 +0000 (GMT)
Subject: [R] jpeg in R for Windows?
In-Reply-To: <Pine.OSF.4.30.0011301640470.4695-100000@alnair.uio.no>
Message-ID: <Pine.LNX.4.21.0011301602440.5442-100000@localhost>

On Thu, 30 Nov 2000, Kjetil Kjernsmo wrote:

> On Thu, 30 Nov 2000, Kaspar Pflugshaupt wrote:
> 
> >On 30.11.2000 14:38 Uhr, Robert Lundquist wrote:
> >
> >> BTW, the output would presumably be better as png files, but I don't really
> >> know if I can count on my students' web browsers being able to read this
> >> format. Anyone who knows what browsers *can't* handle png files?
> >
> >You may be able  to find this information on the png home page at
> >http://www.libpng.org/pub/png/ . Seems to be unreachable right now (for me,
> >that is).
> 
> It was unreachable for me too.

Lots of mirrors are available, though, and they say Netscape and IE
got support in late 1997 except for transparency, which our driver does not
produce.  E.g.

http://www.mirror.ac.uk/sites/ftp.libpng.org/pub/png/pngstatus.html


> >To my little experience, "new" browsers will display png files all right
> >("new" meaning something >= Netscape 4.7 or Explorer 5). Older versions may
> >display them partly (without transparency effects, for instance). Or not at
> >all. :-(
> 
> <rant>
> Yes. Unfortunately, PNG is yet another example of good technologies being
> (or have been) ignored by browser makers because browser makers are more
> concerned with winning a browser war than providing useful software.
> </rant>
> 
> I would suggest installing the ImageMagick "display" utility on all
> systems. <URL:http://www.simplesystems.org/ImageMagick/www/display.html>.
> It can display images on all systems running X server. Also, ImageMagick
> itself <URL:http://www.simplesystems.org/ImageMagick/> runs on most
> popular OSes, including Mac and Win32 (and obviously, unices), so you may
> get something out of that that can be used to view graphs on most
> platforms.

Um.  It's an awful lot of effort to do that on Windows, and the only stable
X servers I know there cost real money.  Just to confirm, ImageMagick on
Windows requires an X server, and in my experience a good one at that.

GIMP will also work on most platforms, natively on Win32.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Nov 30 22:12:54 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 30 Nov 2000 13:12:54 -0800 (PST)
Subject: [R] changes in glm?
In-Reply-To: <f04320402b64bf39f93e6@[139.222.80.154]>
Message-ID: <Pine.GSO.4.21.0011301301560.28740-100000@atlas.biostat.washington.edu>

On Thu, 30 Nov 2000, G.Janacek wrote:

> 
> I am running some simulations which involve fitting a glm with 
> Binomial error ( in fact Bernoulli) and logistic link. Running R 0.63 
> I have no problems. However I need more speed so migrated to our UNIX 
> boxes which run
> Version 0.90.1  (December 15, 1999)
> 
> Here I get an error
> 
> 
> Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y 
> = Y,  : y must be univariate unless binomial
> 
> 
> which has baffled me.
> So I as your indulgence and ask
> 
> (1) What if anything has changed in glm from 0.63 to 0.90?

I shouldn't think anyone can remember -- that's a long time ago.

> (2) Is glm sensative to changes of word length?

Shouldn't be.  I have used in on both 32-bit and 64-bit Solaris.

> (3) Given making R on an Alpha is beyond me (so is a problem) should 
> I migrate to a later version of R or does this bring more problems in 
> its wake?

Yes, definitely update. Many many bugs were fixed before 1.0.0.  You won't
get any support for pre1.0 versions.  The newest version is 1.1.1, and
while a shiny new 1.2 is due out in a couple of weeks we expect quite a
lot of people to stick with 1.1.1 for the rest of the Northern hemisphere
academic year.


> (4) Does anyone recognise the error and if so I would appreciate some 
> info. I'm sure it is my stupidity but ..

It's hard to tell without knowing exactly what you did to get the error.
The error means that glm() thinks you gave it a matrix rather than a
vector as the response (outcome, dependent) variable.

Remember, the purpose of a bug report is for us to reproduce the bug. This
isn't being difficult -- we usually can't fix bugs unless we can reproduce
them.

Bug reports get fixed a lot faster if they are of the form

	"I did X. Y happened. I think Z should have happened"


   -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Thu Nov 30 23:24:33 2000
From: mnelson at esperion.com (Matthew Nelson)
Date: Thu, 30 Nov 2000 17:24:33 -0500
Subject: [R] Landscape problems with ps2pdf
Message-ID: <8156A6FE684ED21194D20008C756F8DF443CCB@independence.esperion.com>

R Users,

I have created a multipage PostScript file using the postscript() function
with horizontal = TRUE to produce my plots in landscape.  I intended to
convert that entire file to PDF using ps2pdf to have the plots available for
a presentation.  Unfortunately, the resulting PDF document is rotated -90
degrees.

I have found dozens of references to this kind of problem with ps2pdf
online, but no effective workaround.  I would really appreciate any
suggestions.

I am using R Version 1.1.1 on RedHat Linux 6.2.  I have upgraded to
ghostscript 6.01 (in an attempt to correct the problem). 

Thanks,

Matt

Matthew R. Nelson, Ph.D.
Information Scientist
Esperion Therapeutics, Inc.
3621 S. State St.
695 KMS Place
Ann Arbor, MI 48108

Phone: (734) 332-0506 x235
Mobile: (734) 657-6302
Fax: (734) 332-0516
email: mnelson at esperion.com
web: http://www.esperion.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Thu Nov 30 23:24:33 2000
From: mnelson at esperion.com (Matthew Nelson)
Date: Thu, 30 Nov 2000 17:24:33 -0500
Subject: [R] Landscape problems with ps2pdf
Message-ID: <8156A6FE684ED21194D20008C756F8DF443CCB@independence.esperion.com>

R Users,

I have created a multipage PostScript file using the postscript() function
with horizontal = TRUE to produce my plots in landscape.  I intended to
convert that entire file to PDF using ps2pdf to have the plots available for
a presentation.  Unfortunately, the resulting PDF document is rotated -90
degrees.

I have found dozens of references to this kind of problem with ps2pdf
online, but no effective workaround.  I would really appreciate any
suggestions.

I am using R Version 1.1.1 on RedHat Linux 6.2.  I have upgraded to
ghostscript 6.01 (in an attempt to correct the problem). 

Thanks,

Matt

Matthew R. Nelson, Ph.D.
Information Scientist
Esperion Therapeutics, Inc.
3621 S. State St.
695 KMS Place
Ann Arbor, MI 48108

Phone: (734) 332-0506 x235
Mobile: (734) 657-6302
Fax: (734) 332-0516
email: mnelson at esperion.com
web: http://www.esperion.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Nov 30 10:27:44 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 30 Nov 2000 09:27:44 +0000 (GMT)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.GSO.4.20.0011300915490.14553-100000@laplace>

Hi Tapio,

On Thu, 30 Nov 2000, Tapio Nummi wrote:

> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?
> 
> Tapio Nummi
> University of Tampere
> Finland

Unfortunately there is no general `generalised inverse'.  But there are
special cases where it is easy to compute the generalised inverse.  These
are (1) if the matrix is symmetric, in which case you can use the eigen
decomposition; (2) if the matrix has full row or column rank, in which
case you can partition the matrix and invert the square submatrix of full
rank; (3) if you happen to know in advance that a particular subset of the
rows or columns is of full rank, in which case you can do the same thing
(after permuting).  Or you can use the SVD, but you might run into
numerical problems.  So it really depends on what you know, and it follows
that it is not generally possible to write a general function.

It's telling that both of my references on the subject, Campbell and
Meyer, "Generalised Inverses of Linear Transformations" and Rao and Mitra,
"Generalised Inverse of Matrices and its Applications", devote whole
chapters to computation, and in both cases the chapter occurs near the
back of the book.  If you happen to have more information about what you
want to invert I would be happy to help.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 30 10:36:04 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 30 Nov 2000 09:36:04 +0000 (GMT)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.GSO.4.05.10011300934250.17423-100000@toucan.stats>

On Thu, 30 Nov 2000, Tapio Nummi wrote:

> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?

A g-inverse is not, as far as I know, 100% uniquely defined.  However,
ginv in package MASS has the Moore-Penrose version.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Nov 30 11:17:16 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 30 Nov 2000 11:17:16 +0100 (MET)
Subject: [R] g-inverse
In-Reply-To: <l03130302b64bcb72d10b@[153.1.53.97]>
Message-ID: <Pine.LNX.4.21.0011301116510.13342-100000@artemis.imbe.med.uni-erlangen.de>


> 
> Is there any routine to obtain a g-inverse
> of a matrix in R or S-PLUS?

ginv in MASS, available at CRAN.

Torsten


> 
> Tapio Nummi
> University of Tampere
> Finland
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Lundquist at ies.luth.se  Thu Nov 30 14:38:33 2000
From: Robert.Lundquist at ies.luth.se (Robert Lundquist)
Date: Thu, 30 Nov 2000 14:38:33 +0100
Subject: [R] jpeg in R for Windows?
Message-ID: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>

I have tried to put graphs in jpeg files, but even if a file is produced,
neither the graphics software nor the web browser can open such a file:
"Can't read file header". Any suggestions as to what might cause this? 

BTW, the output would presumably be better as png files, but I don't really
know if I can count on my students' web browsers being able to read this
format. Anyone who knows what browsers *can't* handle png files?

--robert
*******************
Robert Lundquist
Div of Quality Technology & Statistics
Lule? University of Technology

tel +46-920-91078
fax +46-920-72160

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Nov 30 15:34:56 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 30 Nov 2000 15:34:56 +0100
Subject: [R] jpeg in R for Windows?
In-Reply-To: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>
Message-ID: <B64C2420.6F40%pflugshaupt@geobot.umnw.ethz.ch>

On 30.11.2000 14:38 Uhr, Robert Lundquist wrote:

> BTW, the output would presumably be better as png files, but I don't really
> know if I can count on my students' web browsers being able to read this
> format. Anyone who knows what browsers *can't* handle png files?

You may be able  to find this information on the png home page at
http://www.libpng.org/pub/png/ . Seems to be unreachable right now (for me,
that is).

To my little experience, "new" browsers will display png files all right
("new" meaning something >= Netscape 4.7 or Explorer 5). Older versions may
display them partly (without transparency effects, for instance). Or not at
all. :-(

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 30 15:29:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Nov 2000 14:29:37 +0000 (GMT)
Subject: [R] jpeg in R for Windows?
In-Reply-To: <DC3D7966FDC2D31183D000A0C9AA15390F4D53@marge.ies.ad.ltu.se>
Message-ID: <Pine.GSO.4.05.10011301422090.26037-100000@auk.stats>

On Thu, 30 Nov 2000, Robert Lundquist wrote:

> I have tried to put graphs in jpeg files, but even if a file is produced,
> neither the graphics software nor the web browser can open such a file:
> "Can't read file header". Any suggestions as to what might cause this? 

No idea, as it works here with rw1011 in both IE5.01 and Netscape 4.75.  I
suspect you did not produce or save the file correctly, and as you supplied
no information about what you did or the version of R or ....

> BTW, the output would presumably be better as png files, but I don't really
> know if I can count on my students' web browsers being able to read this
> format. Anyone who knows what browsers *can't* handle png files?

No, but recent Netscape and IE can, and I think 4.x or later of either
can.  From memory (it's a long time since I saw either) 3.x versions could
not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Nov 30 15:52:26 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 30 Nov 2000 15:52:26 +0100
Subject: [R] jpeg in R for Windows?
References: <DC3D7966FDC2D31183D000A0C9AA15390F4D54@marge.ies.ad.ltu.se>
Message-ID: <3A2669AA.803358E5@statistik.uni-dortmund.de>

Robert Lundquist wrote:

> thanks for your reply. Since I'm not too fluent in R, my attempts might be
> awkward, but I'll try to describe how I did it. I use R 1.1.1, and the
> session looked as follows:
> 
> >jpeg("plot.jpg")
> >plot(sin,2*pi)
> 
> This produces a file, but I can't open it. The corresponding sequence worked
> just fine for PNG files with
> 
> >png("test.png")
> >plot(sin,2*pi)
> 
> so my understanding of it is that something happens with the jpeg driver. Am
> I wrong there?

Aha. So you forgot to use dev.off(), e.g.:

  jpeg("plot.jpg")
  plot(sin, 2*pi)
  dev.off()

does the job.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From latouche at dbim.jussieu.fr  Thu Nov  9 16:04:39 2000
From: latouche at dbim.jussieu.fr (latouche)
Date: Thu, 09 Nov 2000 16:04:39 +0100
Subject: [R] graphic interface on redhad 7.0 ?
Message-ID: <3A0ABD07.6EFBC7AA@dbim.jussieu.fr>

I've just installed R  on redhat 7.0
i can use it in an Xterm window
how can i have an graphic interface (the same as windows R interface) ?
thanks
A. Latouche

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


