From g@b|k|m01 @end|ng |rom gm@||@com  Sat Jul 12 15:46:36 2025
From: g@b|k|m01 @end|ng |rom gm@||@com (Gabriel Cotlier)
Date: Sat, 12 Jul 2025 10:46:36 -0300
Subject: [R-sig-Geo] Question on Scale bar
Message-ID: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>

Hello,
I would like to ask for help to add a scale bar to the following map below.
Thanks a lot in advance.
Kind regards,
Gabriel

library(ggplot2)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)

# Get world map data
world <- ne_countries(scale = "medium", returnclass = "sf")

# Define the bounding box for Europe
europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
crs = st_crs(4326))

# Filter for Europe, then for Italy and Iberian Peninsula
europe <- st_crop(world, europe_extent)
italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
"Italy"),]

# Load another shapefile
# Replace "path/to/your/shapefile.shp"
A <- st_read("path/to/your/shapefile1.shp" )
B <- st_read("path/to/your/shapefile2.shp" )
sq1 <- st_read("path/to/your/shapefile3.shp" )
sq2 <- st_read("path/to/your/shapefile4.shp" )

# Plot the map with the added shapefile
ggplot(data = europe) +
  geom_sf(fill = "lightgray") + # Background map
  geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted areas
  geom_sf(data = A, fill = "lightgreen") + # Added shapefile
 geom_sf(data = B, fill = "lightblue") + # Added shapefile
  geom_sf(data = sq1, fill =NA,  color="red", lwd=0.5) + # Added shapefile
  geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
  coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set map
boundaries.
  theme_bw() +
  labs(title = "Italian, Iberian in Europe")

	[[alternative HTML version deleted]]


From m|ch@_@||ver+DEV @end|ng |rom proton@me  Sat Jul 12 22:01:22 2025
From: m|ch@_@||ver+DEV @end|ng |rom proton@me (Micha Silver)
Date: Sat, 12 Jul 2025 20:01:22 +0000
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
Message-ID: <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>





--
Micha Silver
cell: +972-523-665918


On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:

> Hello,
> I would like to ask for help to add a scale bar to the following map below.
> Thanks a lot in advance.
> Kind regards,
> Gabriel

You might consider the `ggspatial` package that has a function: `annotation_scale()`

https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html


> 
> library(ggplot2)
> library(sf)
> library(rnaturalearth)
> library(rnaturalearthdata)
> 
> # Get world map data
> world <- ne_countries(scale = "medium", returnclass = "sf")
> 
> # Define the bounding box for Europe
> europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
> crs = st_crs(4326))
> 
> # Filter for Europe, then for Italy and Iberian Peninsula
> europe <- st_crop(world, europe_extent)
> italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
> "Italy"),]
> 
> # Load another shapefile
> # Replace "path/to/your/shapefile.shp"
> A <- st_read("path/to/your/shapefile1.shp" )
> B <- st_read("path/to/your/shapefile2.shp" )
> sq1 <- st_read("path/to/your/shapefile3.shp" )
> sq2 <- st_read("path/to/your/shapefile4.shp" )
> 
> # Plot the map with the added shapefile
> ggplot(data = europe) +
> geom_sf(fill = "lightgray") + # Background map
> geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted areas
> geom_sf(data = A, fill = "lightgreen") + # Added shapefile
> geom_sf(data = B, fill = "lightblue") + # Added shapefile
> geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added shapefile
> geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
> coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set map
> boundaries.
> theme_bw() +
> labs(title = "Italian, Iberian in Europe")
> 
> [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-geo


From g@b|k|m01 @end|ng |rom gm@||@com  Sat Jul 12 22:34:37 2025
From: g@b|k|m01 @end|ng |rom gm@||@com (Gabriel Cotlier)
Date: Sat, 12 Jul 2025 17:34:37 -0300
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
 <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
Message-ID: <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>

Dear Micha,
Thank you very much for the tip. I worked out, but I am concerned about the
warning that appears:

*Scale on map varies by more than 10%, scale bar may be inaccurate*

On Sat, Jul 12, 2025 at 5:01?PM Micha Silver <micha_silver+DEV at proton.me>
wrote:

>
>
>
>
> --
> Micha Silver
> cell: +972-523-665918
>
>
> On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier <gabiklm01 at gmail.com>
> wrote:
>
> > Hello,
> > I would like to ask for help to add a scale bar to the following map
> below.
> > Thanks a lot in advance.
> > Kind regards,
> > Gabriel
>
> You might consider the `ggspatial` package that has a function:
> `annotation_scale()`
>
> https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html
>
>
> >
> > library(ggplot2)
> > library(sf)
> > library(rnaturalearth)
> > library(rnaturalearthdata)
> >
> > # Get world map data
> > world <- ne_countries(scale = "medium", returnclass = "sf")
> >
> > # Define the bounding box for Europe
> > europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
> > crs = st_crs(4326))
> >
> > # Filter for Europe, then for Italy and Iberian Peninsula
> > europe <- st_crop(world, europe_extent)
> > italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
> > "Italy"),]
> >
> > # Load another shapefile
> > # Replace "path/to/your/shapefile.shp"
> > A <- st_read("path/to/your/shapefile1.shp" )
> > B <- st_read("path/to/your/shapefile2.shp" )
> > sq1 <- st_read("path/to/your/shapefile3.shp" )
> > sq2 <- st_read("path/to/your/shapefile4.shp" )
> >
> > # Plot the map with the added shapefile
> > ggplot(data = europe) +
> > geom_sf(fill = "lightgray") + # Background map
> > geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted areas
> > geom_sf(data = A, fill = "lightgreen") + # Added shapefile
> > geom_sf(data = B, fill = "lightblue") + # Added shapefile
> > geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added shapefile
> > geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
> > coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set map
> > boundaries.
> > theme_bw() +
> > labs(title = "Italian, Iberian in Europe")
> >
> > [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-sig-Geo mailing list
> > R-sig-Geo at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-geo
>

	[[alternative HTML version deleted]]


From m|ch@_@||ver+DEV @end|ng |rom proton@me  Sun Jul 13 10:48:20 2025
From: m|ch@_@||ver+DEV @end|ng |rom proton@me (Micha Silver)
Date: Sun, 13 Jul 2025 08:48:20 +0000
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
 <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
 <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>
Message-ID: <TQKsAc81QsoytguW5-idjPO3a4W7TzUXsOfCsbL5mlZ4CPMqZyXhE4ImVm5SdkUFBZ9G98DhypDummQnCoOcYt9QvtmqgqDrul91fhpyPUA=@proton.me>

--
Micha Silvercell: +972-523-665918

> On Saturday, 12 July 2025 at 23:35, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:
>
> Dear Micha,
> Thank you very much for the tip. I worked out, but I am concerned about the warning that appears:

I assume that is because you are using WGS84 long/lat. So there is a difference in distances E-W vs N-S. For example, in S. Spain 1 degree N-S is about 110 km while 1 degree E-W is about 90 km.

> Scale on map varies by more than 10%, scale bar may be inaccurate

On Sat, Jul 12, 2025 at 5:01?PM Micha Silver <[micha_silver+DEV at proton.me](mailto:micha_silver%2BDEV at proton.me)> wrote:

> --
> Micha Silver
> cell: +972-523-665918
>
> On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:
>
>> Hello,
>> I would like to ask for help to add a scale bar to the following map below.
>> Thanks a lot in advance.
>> Kind regards,
>> Gabriel
>
> You might consider the `ggspatial` package that has a function: `annotation_scale()`
>
> https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html
>
>>
>> library(ggplot2)
>> library(sf)
>> library(rnaturalearth)
>> library(rnaturalearthdata)
>>
>> # Get world map data
>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>
>> # Define the bounding box for Europe
>> europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
>> crs = st_crs(4326))
>>
>> # Filter for Europe, then for Italy and Iberian Peninsula
>> europe <- st_crop(world, europe_extent)
>> italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
>> "Italy"),]
>>
>> # Load another shapefile
>> # Replace "path/to/your/shapefile.shp"
>> A <- st_read("path/to/your/shapefile1.shp" )
>> B <- st_read("path/to/your/shapefile2.shp" )
>> sq1 <- st_read("path/to/your/shapefile3.shp" )
>> sq2 <- st_read("path/to/your/shapefile4.shp" )
>>
>> # Plot the map with the added shapefile
>> ggplot(data = europe) +
>> geom_sf(fill = "lightgray") + # Background map
>> geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted areas
>> geom_sf(data = A, fill = "lightgreen") + # Added shapefile
>> geom_sf(data = B, fill = "lightblue") + # Added shapefile
>> geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added shapefile
>> geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
>> coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set map
>> boundaries.
>> theme_bw() +
>> labs(title = "Italian, Iberian in Europe")
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-sig-Geo mailing list
>> R-sig-Geo at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo
	[[alternative HTML version deleted]]


From g@b|k|m01 @end|ng |rom gm@||@com  Sun Jul 13 14:41:12 2025
From: g@b|k|m01 @end|ng |rom gm@||@com (Gabriel Cotlier)
Date: Sun, 13 Jul 2025 09:41:12 -0300
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <TQKsAc81QsoytguW5-idjPO3a4W7TzUXsOfCsbL5mlZ4CPMqZyXhE4ImVm5SdkUFBZ9G98DhypDummQnCoOcYt9QvtmqgqDrul91fhpyPUA=@proton.me>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
 <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
 <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>
 <TQKsAc81QsoytguW5-idjPO3a4W7TzUXsOfCsbL5mlZ4CPMqZyXhE4ImVm5SdkUFBZ9G98DhypDummQnCoOcYt9QvtmqgqDrul91fhpyPUA=@proton.me>
Message-ID: <CAAKwTDEsGANSDg0Fs_47V-daBA+h370LUM83336tL=TZnNGWbQ@mail.gmail.com>

Yes is correct. Using CRS 3587 would correct this distortion?
Thanks a lot.

On Sun, Jul 13, 2025 at 5:48?AM Micha Silver <micha_silver+DEV at proton.me>
wrote:

>
> --
> Micha Silver
> cell: +972-523-665918
>
> On Saturday, 12 July 2025 at 23:35, Gabriel Cotlier <gabiklm01 at gmail.com>
> wrote:
> Dear Micha,
> Thank you very much for the tip. I worked out, but I am concerned about
> the warning that appears:
>
>
> I assume that is because you are using WGS84 long/lat. So there is a
> difference in distances E-W vs N-S. For example, in S. Spain 1 degree  N-S
> is about 110 km while 1 degree E-W is about 90 km.
>
>
> *Scale on map varies by more than 10%, scale bar may be inaccurate*
>
>
> On Sat, Jul 12, 2025 at 5:01?PM Micha Silver <micha_silver+DEV at proton.me>
> wrote:
>
>>
>>
>>
>>
>> --
>> Micha Silver
>> cell: +972-523-665918
>>
>>
>> On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier <gabiklm01 at gmail.com>
>> wrote:
>>
>> > Hello,
>> > I would like to ask for help to add a scale bar to the following map
>> below.
>> > Thanks a lot in advance.
>> > Kind regards,
>> > Gabriel
>>
>> You might consider the `ggspatial` package that has a function:
>> `annotation_scale()`
>>
>> https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html
>>
>>
>> >
>> > library(ggplot2)
>> > library(sf)
>> > library(rnaturalearth)
>> > library(rnaturalearthdata)
>> >
>> > # Get world map data
>> > world <- ne_countries(scale = "medium", returnclass = "sf")
>> >
>> > # Define the bounding box for Europe
>> > europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
>> > crs = st_crs(4326))
>> >
>> > # Filter for Europe, then for Italy and Iberian Peninsula
>> > europe <- st_crop(world, europe_extent)
>> > italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
>> > "Italy"),]
>> >
>> > # Load another shapefile
>> > # Replace "path/to/your/shapefile.shp"
>> > A <- st_read("path/to/your/shapefile1.shp" )
>> > B <- st_read("path/to/your/shapefile2.shp" )
>> > sq1 <- st_read("path/to/your/shapefile3.shp" )
>> > sq2 <- st_read("path/to/your/shapefile4.shp" )
>> >
>> > # Plot the map with the added shapefile
>> > ggplot(data = europe) +
>> > geom_sf(fill = "lightgray") + # Background map
>> > geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted
>> areas
>> > geom_sf(data = A, fill = "lightgreen") + # Added shapefile
>> > geom_sf(data = B, fill = "lightblue") + # Added shapefile
>> > geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added shapefile
>> > geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
>> > coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set
>> map
>> > boundaries.
>> > theme_bw() +
>> > labs(title = "Italian, Iberian in Europe")
>> >
>> > [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-sig-Geo mailing list
>> > R-sig-Geo at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-geo
>>
>
>

	[[alternative HTML version deleted]]


From m|ch@_@||ver+DEV @end|ng |rom proton@me  Sun Jul 13 15:22:13 2025
From: m|ch@_@||ver+DEV @end|ng |rom proton@me (Micha Silver)
Date: Sun, 13 Jul 2025 13:22:13 +0000
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <CAAKwTDEsGANSDg0Fs_47V-daBA+h370LUM83336tL=TZnNGWbQ@mail.gmail.com>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
 <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
 <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>
 <TQKsAc81QsoytguW5-idjPO3a4W7TzUXsOfCsbL5mlZ4CPMqZyXhE4ImVm5SdkUFBZ9G98DhypDummQnCoOcYt9QvtmqgqDrul91fhpyPUA=@proton.me>
 <CAAKwTDEsGANSDg0Fs_47V-daBA+h370LUM83336tL=TZnNGWbQ@mail.gmail.com>
Message-ID: <tgwLx6tWFfeOYhgJaEhYfUjiNxhzLMpn_hRu3XzHDhfkiEJdpuP7c6V0K20ZpzPaMof85TFbmTZOR-b5bybLVoMfXfHIvHR0IsBfpHVbKQA=@proton.me>

--
Micha Silvercell: +972-523-665918

On Sunday, 13 July 2025 at 15:41, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:

> Yes is correct. Using CRS 3587 would correct this distortion?
> Thanks a lot.

I don't think so
Check here:
https://epsg.io/3857

If it's important to keep distances accurate, you should look for an equidistant projection for your area. Maps of Europe are typically projected to EPSG:3035 which is equal area, not equidistant, but it's pretty close, and widely accepted.

> On Sun, Jul 13, 2025 at 5:48?AM Micha Silver <[micha_silver+DEV at proton.me](mailto:micha_silver%2BDEV at proton.me)> wrote:
>
>> --
>> Micha Silvercell: +972-523-665918
>>
>>> On Saturday, 12 July 2025 at 23:35, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:
>>>
>>> Dear Micha,
>>> Thank you very much for the tip. I worked out, but I am concerned about the warning that appears:
>>
>> I assume that is because you are using WGS84 long/lat. So there is a difference in distances E-W vs N-S. For example, in S. Spain 1 degree N-S is about 110 km while 1 degree E-W is about 90 km.
>>
>>> Scale on map varies by more than 10%, scale bar may be inaccurate
>>
>> On Sat, Jul 12, 2025 at 5:01?PM Micha Silver <[micha_silver+DEV at proton.me](mailto:micha_silver%2BDEV at proton.me)> wrote:
>>
>>> --
>>> Micha Silver
>>> cell: +972-523-665918
>>>
>>> On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier <gabiklm01 at gmail.com> wrote:
>>>
>>>> Hello,
>>>> I would like to ask for help to add a scale bar to the following map below.
>>>> Thanks a lot in advance.
>>>> Kind regards,
>>>> Gabriel
>>>
>>> You might consider the `ggspatial` package that has a function: `annotation_scale()`
>>>
>>> https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html
>>>
>>>>
>>>> library(ggplot2)
>>>> library(sf)
>>>> library(rnaturalearth)
>>>> library(rnaturalearthdata)
>>>>
>>>> # Get world map data
>>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>>>
>>>> # Define the bounding box for Europe
>>>> europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 72),
>>>> crs = st_crs(4326))
>>>>
>>>> # Filter for Europe, then for Italy and Iberian Peninsula
>>>> europe <- st_crop(world, europe_extent)
>>>> italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
>>>> "Italy"),]
>>>>
>>>> # Load another shapefile
>>>> # Replace "path/to/your/shapefile.shp"
>>>> A <- st_read("path/to/your/shapefile1.shp" )
>>>> B <- st_read("path/to/your/shapefile2.shp" )
>>>> sq1 <- st_read("path/to/your/shapefile3.shp" )
>>>> sq2 <- st_read("path/to/your/shapefile4.shp" )
>>>>
>>>> # Plot the map with the added shapefile
>>>> ggplot(data = europe) +
>>>> geom_sf(fill = "lightgray") + # Background map
>>>> geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted areas
>>>> geom_sf(data = A, fill = "lightgreen") + # Added shapefile
>>>> geom_sf(data = B, fill = "lightblue") + # Added shapefile
>>>> geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added shapefile
>>>> geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added shapefile
>>>> coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # Set map
>>>> boundaries.
>>>> theme_bw() +
>>>> labs(title = "Italian, Iberian in Europe")
>>>>
>>>> [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-sig-Geo mailing list
>>>> R-sig-Geo at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo
	[[alternative HTML version deleted]]


From dewey @end|ng |rom dunn|ngton@c@  Sun Jul 13 21:44:35 2025
From: dewey @end|ng |rom dunn|ngton@c@ (Dewey Dunnington)
Date: Sun, 13 Jul 2025 16:44:35 -0300
Subject: [R-sig-Geo] Question on Scale bar
In-Reply-To: <tgwLx6tWFfeOYhgJaEhYfUjiNxhzLMpn_hRu3XzHDhfkiEJdpuP7c6V0K20ZpzPaMof85TFbmTZOR-b5bybLVoMfXfHIvHR0IsBfpHVbKQA=@proton.me>
References: <CAAKwTDGbBXjUi4x593uRp2F4ftGrvpO6+EvsAWE9gfb21Q2PtA@mail.gmail.com>
 <dToPcrlu8bdCVS9xVtduMn38wfWw7fZ6vScumW-YHAfxNCJuQgCqDs0uslBFodFZ89las-Sct3Jt5Tv6_FmL1G2C95qNV7o1knll3o0gUE8=@proton.me>
 <CAAKwTDGNhMvypk21T5cQKXxmMkwKccXYogyOJSarD9zUASmhSQ@mail.gmail.com>
 <TQKsAc81QsoytguW5-idjPO3a4W7TzUXsOfCsbL5mlZ4CPMqZyXhE4ImVm5SdkUFBZ9G98DhypDummQnCoOcYt9QvtmqgqDrul91fhpyPUA=@proton.me>
 <CAAKwTDEsGANSDg0Fs_47V-daBA+h370LUM83336tL=TZnNGWbQ@mail.gmail.com>
 <tgwLx6tWFfeOYhgJaEhYfUjiNxhzLMpn_hRu3XzHDhfkiEJdpuP7c6V0K20ZpzPaMof85TFbmTZOR-b5bybLVoMfXfHIvHR0IsBfpHVbKQA=@proton.me>
Message-ID: <b43542c4b3986fe610ce31c4bb79244d@dunnington.ca>

Glad the scale bar function from ggspatial is still useful!

I'm not sure that when I put that warning in that I anticipated the 
number of use-cases where this warning would be emitted. On most maps of 
large-scale areas you see in the wild, the scale bar will be wildly 
inaccurate for some places on the map and for most maps this is OK 
(unless your map is quite literally claiming to be a map of the distance 
between x and x, for example). The function of the scale bar is often to 
communicate order of magnitude, or often just has to exist as a 
requirement for a publication style guide.

What I'm getting at is that...I wrote that warning and I ignore it all 
the time :)

All the best,

-dewey

On 2025-07-13 10:22, Micha Silver via R-sig-Geo wrote:
> --
> Micha Silvercell: +972-523-665918
> 
> On Sunday, 13 July 2025 at 15:41, Gabriel Cotlier <gabiklm01 at gmail.com> 
> wrote:
> 
>> Yes is correct. Using CRS 3587 would correct this distortion?
>> Thanks a lot.
> 
> I don't think so
> Check here:
> https://epsg.io/3857
> 
> If it's important to keep distances accurate, you should look for an 
> equidistant projection for your area. Maps of Europe are typically 
> projected to EPSG:3035 which is equal area, not equidistant, but it's 
> pretty close, and widely accepted.
> 
>> On Sun, Jul 13, 2025 at 5:48?AM Micha Silver 
>> <[micha_silver+DEV at proton.me](mailto:micha_silver%2BDEV at proton.me)> 
>> wrote:
>> 
>>> --
>>> Micha Silvercell: +972-523-665918
>>> 
>>>> On Saturday, 12 July 2025 at 23:35, Gabriel Cotlier 
>>>> <gabiklm01 at gmail.com> wrote:
>>>> 
>>>> Dear Micha,
>>>> Thank you very much for the tip. I worked out, but I am concerned 
>>>> about the warning that appears:
>>> 
>>> I assume that is because you are using WGS84 long/lat. So there is a 
>>> difference in distances E-W vs N-S. For example, in S. Spain 1 degree 
>>> N-S is about 110 km while 1 degree E-W is about 90 km.
>>> 
>>>> Scale on map varies by more than 10%, scale bar may be inaccurate
>>> 
>>> On Sat, Jul 12, 2025 at 5:01?PM Micha Silver 
>>> <[micha_silver+DEV at proton.me](mailto:micha_silver%2BDEV at proton.me)> 
>>> wrote:
>>> 
>>>> --
>>>> Micha Silver
>>>> cell: +972-523-665918
>>>> 
>>>> On Saturday, 12 July 2025 at 16:47, Gabriel Cotlier 
>>>> <gabiklm01 at gmail.com> wrote:
>>>> 
>>>>> Hello,
>>>>> I would like to ask for help to add a scale bar to the following 
>>>>> map below.
>>>>> Thanks a lot in advance.
>>>>> Kind regards,
>>>>> Gabriel
>>>> 
>>>> You might consider the `ggspatial` package that has a function: 
>>>> `annotation_scale()`
>>>> 
>>>> https://paleolimbot.github.io/ggspatial/reference/annotation_scale.html
>>>> 
>>>>> 
>>>>> library(ggplot2)
>>>>> library(sf)
>>>>> library(rnaturalearth)
>>>>> library(rnaturalearthdata)
>>>>> 
>>>>> # Get world map data
>>>>> world <- ne_countries(scale = "medium", returnclass = "sf")
>>>>> 
>>>>> # Define the bounding box for Europe
>>>>> europe_extent <- st_bbox(c(xmin = -12, xmax = 35, ymin = 30, ymax = 
>>>>> 72),
>>>>> crs = st_crs(4326))
>>>>> 
>>>>> # Filter for Europe, then for Italy and Iberian Peninsula
>>>>> europe <- st_crop(world, europe_extent)
>>>>> italy_and_iberian <- europe[europe$name %in% c("Spain", "Portugal",
>>>>> "Italy"),]
>>>>> 
>>>>> # Load another shapefile
>>>>> # Replace "path/to/your/shapefile.shp"
>>>>> A <- st_read("path/to/your/shapefile1.shp" )
>>>>> B <- st_read("path/to/your/shapefile2.shp" )
>>>>> sq1 <- st_read("path/to/your/shapefile3.shp" )
>>>>> sq2 <- st_read("path/to/your/shapefile4.shp" )
>>>>> 
>>>>> # Plot the map with the added shapefile
>>>>> ggplot(data = europe) +
>>>>> geom_sf(fill = "lightgray") + # Background map
>>>>> geom_sf(data = italy_and_iberian, fill = "skyblue") + # Highlighted 
>>>>> areas
>>>>> geom_sf(data = A, fill = "lightgreen") + # Added shapefile
>>>>> geom_sf(data = B, fill = "lightblue") + # Added shapefile
>>>>> geom_sf(data = sq1, fill =NA, color="red", lwd=0.5) + # Added 
>>>>> shapefile
>>>>> geom_sf(data = sq2, fill=NA, color ="red", lwd=0.5) + # Added 
>>>>> shapefile
>>>>> coord_sf(xlim = c(-12, 35), ylim = c(30, 72), expand = FALSE) + # 
>>>>> Set map
>>>>> boundaries.
>>>>> theme_bw() +
>>>>> labs(title = "Italian, Iberian in Europe")
>>>>> 
>>>>> [[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-sig-Geo mailing list
>>>>> R-sig-Geo at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-geo
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-geo


