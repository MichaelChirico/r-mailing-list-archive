From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Tue Apr  1 10:26:35 2025
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Tue, 1 Apr 2025 10:26:35 +0200
Subject: [R-pkg-devel] 
 [CRAN-pretest-archived] CRAN Submission OPCreg 0.2.0
In-Reply-To: <513f1a07.73cc.195f03a36e2.Coremail.ggb11111111@163.com>
References: <20250401013307.D9595A01D4@xmpalantir.wu.ac.at>
 <01dba2ac$Blat.v3.2.24$40b54e1c$2604851e1@mail.statistik.tu-dortmund.de>
 <513f1a07.73cc.195f03a36e2.Coremail.ggb11111111@163.com>
Message-ID: <405d9027-1b87-4b80-a0ec-60cb501e9e97@statistik.tu-dortmund.de>

But we see

Author field differs from that derived from Authors at R
   Author:    'Guangbao Guo [aut, cre] 
https://orcid.org/0000-0002-4115-6218>), Chunjie Wei [aut]'
   Authors at R: 'Guangbao Guo [aut, cre] (ORCID: 
<https://orcid.org/0000-0002-4115-6218>), Chunjie Wei [aut]'


You have to build the package with R-devel or R-prerelease, then the 
field will be auto generated in the new form.

Best,
Uwe Ligges


On 01.04.2025 09:21, ??? wrote:
> Dear Uwe Ligges,
> 
>          The name "Guo" is correctly spelled. Guo is my family name.
> 
> 
> 
> 
> If you are fairly certain the rejection is a false positive.
> 
>   
> 
> 
> 
> 
> --
> 
> Sincerely yours,
> Guangbao Guo
> 
> 
> Wechat Number: ggb11111111
> 
> 
> 
> 
> 
> At 2025-04-01 10:17:44, ligges at statistik.tu-dortmund.de wrote:
>> Dear maintainer,
>>
>> package OPCreg_0.2.0.tar.gz does not pass the incoming checks automatically, please see the following pre-tests (additional issue checks):
>> Windows: <https://win-builder.r-project.org/incoming_pretest/OPCreg_0.2.0_20250401_033307/Windows/00check.log>
>> Status: 2 NOTEs
>> Debian: <https://win-builder.r-project.org/incoming_pretest/OPCreg_0.2.0_20250401_033307/Debian/00check.log>
>> Status: 2 NOTEs
>>
>>
>>
>> Please fix all problems and resubmit a fixed version via the webform.
>> If you are not sure how to fix the problems shown, please ask for help on the R-package-devel mailing list:
>> <https://stat.ethz.ch/mailman/listinfo/r-package-devel>
>> If you are fairly certain the rejection is a false positive, please reply-all to this message and explain.
>>
>> More details are given in the directory:
>> <https://win-builder.r-project.org/incoming_pretest/OPCreg_0.2.0_20250401_033307/>
>> The files will be removed after roughly 7 days.
>>
>> No strong reverse dependencies to be checked.
>>
>> Best regards,
>> CRAN teams' auto-check service
> 
> 	[[alternative HTML version deleted]]
> 


From @ergue|@@oko| @end|ng |rom gm@||@com  Tue Apr  1 10:26:44 2025
From: @ergue|@@oko| @end|ng |rom gm@||@com (Serguei Sokol)
Date: Tue, 1 Apr 2025 10:26:44 +0200
Subject: [R-pkg-devel] AlgDesign C Issue
In-Reply-To: <CAMUU=-+C8bMCUFOOD_FEGJLvSnVk+Ubjd+JEwHL86Th+8Mn7pw@mail.gmail.com>
References: <CAMUU=-Km46C8gMdnBQQ2VoHXLxKoi-=B-7i5u90PvRx9psXndQ@mail.gmail.com>
 <CAPRVBcy+LpPHQ9DAAOMFicZ7m-P7+fgc7oqD0jT0bK_XFrjQew@mail.gmail.com>
 <CAMUU=-LsEvLGvTbub0nKz2R-sG4HFgms2cxP_6bO5E9PxJHOJg@mail.gmail.com>
 <dcd2bc2b-c486-4532-962f-c04793ecb091@gmail.com>
 <CAMUU=-+C8bMCUFOOD_FEGJLvSnVk+Ubjd+JEwHL86Th+8Mn7pw@mail.gmail.com>
Message-ID: <fa95ce55-a249-45a8-be6e-167a808e0398@gmail.com>

Le 31/03/2025 ? 18:00, Jerome Braun a ?crit?:
> Hi Duncan!
> 
>>   Since the compiler will supply stdbool.h, it's safer to use that than to
> try to emulate it.
> 
> Understood. It seems like the definitions are exactly the same between the
> two.
Yes and no. Yes, true and false are the same. No, because there is also 
__bool_true_false_are_defined which is set to 1 and this can make the 
compiler react differently in various situations.

> 
> Currently there is no use of "bool" in any of the code (after having
> changed bool to int everywhere in the code).
> 
> So I think I can replace the two lines in the original code with a call to
> include the <stdbool.h> header --- does that seem reasonable?   Can I use
> an include statement there in place of those two lines?
I think it would be good and safe idea.

Best,
Serguei.

> 
> Thank you!


From th|erry@onke||nx @end|ng |rom |nbo@be  Tue Apr  1 14:28:04 2025
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Tue, 1 Apr 2025 14:28:04 +0200
Subject: [R-pkg-devel] Connection time-out when checking a package
Message-ID: <CAJuCY5xfn7uykxM2JHPOWgkzUPrjXz8tpJ-3E_=GFw7XucuYfA@mail.gmail.com>

Dear all,

When checking a package via a GitHub action I often (but not always) get a
connection-time out for the GNU license page. The github actions runs the
code below

   Sys.setenv("R_DEFAULT_INTERNET_TIMEOUT" = 360)
   options(timeout = max(360, getOption("timeout")))
    rcmdcheck::rcmdcheck(
      path = x$get_path, args = c("--timings", "--as-cran", "--no-manual"),
      error_on = "never", timeout = Inf
    )

The resulting NOTE

Found the following (possibly) invalid URLs:
  URL: https://www.gnu.org/licenses/gpl-3.0.html
    From: README.md
    Status: Error
    Message: libcurl error code 28:
      Failed to connect to www.gnu.org port 443 after 136189 ms: Couldn't
connect to server

I'm guessing that https://www.gnu.org is blocking the request from the
GitHub Action. Any suggestions how to fix this note without removing the
URL for the README?

Best regards,

Thierry

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE AND
FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
*Postadres:* Koning Albert II-laan 15 bus 186, 1210 Brussel
*Poststukken die naar dit adres worden gestuurd, worden ingescand en
digitaal aan de geadresseerde bezorgd. Zo kan de Vlaamse overheid haar
dossiers volledig digitaal behandelen. Poststukken met de vermelding
?vertrouwelijk? worden niet ingescand, maar ongeopend aan de geadresseerde
bezorgd.*
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no more
than asking him to perform a post-mortem examination: he may be able to say
what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does not
ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////

<https://www.inbo.be>

	[[alternative HTML version deleted]]


From |kry|ov @end|ng |rom d|@root@org  Wed Apr  2 11:45:54 2025
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Wed, 2 Apr 2025 12:45:54 +0300
Subject: [R-pkg-devel] Connection time-out when checking a package
In-Reply-To: <CAJuCY5xfn7uykxM2JHPOWgkzUPrjXz8tpJ-3E_=GFw7XucuYfA@mail.gmail.com>
References: <CAJuCY5xfn7uykxM2JHPOWgkzUPrjXz8tpJ-3E_=GFw7XucuYfA@mail.gmail.com>
Message-ID: <20250402124554.023fa302@arachnoid>

? Tue, 1 Apr 2025 14:28:04 +0200
Thierry Onkelinx <thierry.onkelinx at inbo.be> ?????:

> Any suggestions how to fix this note without removing the
> URL for the README?

I think it should be possible to set the environment variable
_R_CHECK_CRAN_INCOMING_REMOTE_=FALSE to disable the "remote" checks [*]
(including checks for repository content) or
_R_CHECK_CRAN_INCOMING_SKIP_URL_CHECKS_IF_REMOTE_=TRUE to only skip the
URL checks.

-- 
Best regards,
Ivan

[*]
https://cran.r-project.org/doc/manuals/r-devel/R-ints.html#index-_005fR_005fCHECK_005fCRAN_005fINCOMING_005fREMOTE_005f


From th|erry@onke||nx @end|ng |rom |nbo@be  Wed Apr  2 13:01:12 2025
From: th|erry@onke||nx @end|ng |rom |nbo@be (Thierry Onkelinx)
Date: Wed, 2 Apr 2025 13:01:12 +0200
Subject: [R-pkg-devel] Connection time-out when checking a package
In-Reply-To: <20250402124554.023fa302@arachnoid>
References: <CAJuCY5xfn7uykxM2JHPOWgkzUPrjXz8tpJ-3E_=GFw7XucuYfA@mail.gmail.com>
 <20250402124554.023fa302@arachnoid>
Message-ID: <CAJuCY5wdRwwmu_b1NZHPjTvBoDa+YFrBe8SsuawoXnxL0CYvLg@mail.gmail.com>

Dear Ivan,

Thanks for the feedback. Skipping all URL checks is not an ideal solution.
Getting a NOTE for a broken link is valuable. Given that the problem occurs
over several repositories but always with the gnu.org domain, I was hoping
for a more tailored solution.

Removing the problematic URL is probably the best solution for now.

Best regards,

Thierry

ir. Thierry Onkelinx
Statisticus / Statistician

Vlaamse Overheid / Government of Flanders
INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE AND
FOREST
Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
thierry.onkelinx at inbo.be
Havenlaan 88 bus 73, 1000 Brussel
*Postadres:* Koning Albert II-laan 15 bus 186, 1210 Brussel
*Poststukken die naar dit adres worden gestuurd, worden ingescand en
digitaal aan de geadresseerde bezorgd. Zo kan de Vlaamse overheid haar
dossiers volledig digitaal behandelen. Poststukken met de vermelding
?vertrouwelijk? worden niet ingescand, maar ongeopend aan de geadresseerde
bezorgd.*
www.inbo.be

///////////////////////////////////////////////////////////////////////////////////////////
To call in the statistician after the experiment is done may be no more
than asking him to perform a post-mortem examination: he may be able to say
what the experiment died of. ~ Sir Ronald Aylmer Fisher
The plural of anecdote is not data. ~ Roger Brinner
The combination of some data and an aching desire for an answer does not
ensure that a reasonable answer can be extracted from a given body of data.
~ John Tukey
///////////////////////////////////////////////////////////////////////////////////////////

<https://www.inbo.be>


Op wo 2 apr 2025 om 11:45 schreef Ivan Krylov <ikrylov at disroot.org>:

> ? Tue, 1 Apr 2025 14:28:04 +0200
> Thierry Onkelinx <thierry.onkelinx at inbo.be> ?????:
>
> > Any suggestions how to fix this note without removing the
> > URL for the README?
>
> I think it should be possible to set the environment variable
> _R_CHECK_CRAN_INCOMING_REMOTE_=FALSE to disable the "remote" checks [*]
> (including checks for repository content) or
> _R_CHECK_CRAN_INCOMING_SKIP_URL_CHECKS_IF_REMOTE_=TRUE to only skip the
> URL checks.
>
> --
> Best regards,
> Ivan
>
> [*]
>
> https://cran.r-project.org/doc/manuals/r-devel/R-ints.html#index-_005fR_005fCHECK_005fCRAN_005fINCOMING_005fREMOTE_005f
>

	[[alternative HTML version deleted]]


From corne||o|d @end|ng |rom gm@||@com  Wed Apr  2 19:28:32 2025
From: corne||o|d @end|ng |rom gm@||@com (Jason Cory Brunson)
Date: Wed, 2 Apr 2025 13:28:32 -0400
Subject: [R-pkg-devel] proper way to cite an invalid URL
Message-ID: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>

Hello,

I'm trying to submit a new version of a package to CRAN. Among the 
additions is an RMarkdown vignette that uses data from a website that is 
no longer active. For completeness, i'd still like to cite the invalid 
URL, but without formatting it as a hyperlink. What is the preferred way 
to do this?

One StackExchange answer is to surround the URL with <span></span>, but 
this did not remove the hyperlink when i rendered the vignette locally. 
Instead, i surrounded it with back-ticks, which works locally, but i've 
been unable to run Win-Builder checks to see whether this prevents the 
"invalid URLs" NOTE. And, even if the NOTE is prevented, i'm not sure 
this is preferred.

Thank you,

Cory Brunson


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Apr  2 23:42:35 2025
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 2 Apr 2025 17:42:35 -0400
Subject: [R-pkg-devel] proper way to cite an invalid URL
In-Reply-To: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
References: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
Message-ID: <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>

On 2025-04-02 1:28 p.m., Jason Cory Brunson wrote:
> Hello,
> 
> I'm trying to submit a new version of a package to CRAN. Among the
> additions is an RMarkdown vignette that uses data from a website that is
> no longer active. For completeness, i'd still like to cite the invalid
> URL, but without formatting it as a hyperlink. What is the preferred way
> to do this?
> 
> One StackExchange answer is to surround the URL with <span></span>, but
> this did not remove the hyperlink when i rendered the vignette locally.
> Instead, i surrounded it with back-ticks, which works locally, but i've
> been unable to run Win-Builder checks to see whether this prevents the
> "invalid URLs" NOTE. And, even if the NOTE is prevented, i'm not sure
> this is preferred.

Why not leave off the scheme, e.g. "www.r-project.org" instead of 
"https://www.r-project.org".

Duncan Murdoch


From @|mon@urb@nek @end|ng |rom R-project@org  Thu Apr  3 00:01:03 2025
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 3 Apr 2025 11:01:03 +1300
Subject: [R-pkg-devel] Connection time-out when checking a package
In-Reply-To: <CAJuCY5wdRwwmu_b1NZHPjTvBoDa+YFrBe8SsuawoXnxL0CYvLg@mail.gmail.com>
References: <CAJuCY5xfn7uykxM2JHPOWgkzUPrjXz8tpJ-3E_=GFw7XucuYfA@mail.gmail.com>
 <20250402124554.023fa302@arachnoid>
 <CAJuCY5wdRwwmu_b1NZHPjTvBoDa+YFrBe8SsuawoXnxL0CYvLg@mail.gmail.com>
Message-ID: <C14FACC0-4361-4BFA-8EAA-DAE30D225C0D@R-project.org>

FWIW: connectivity from GH runners is notoriously patchy*, so I wouldn?t rely on those for URL checks, so I?d recommend using the solution by Ivan in actions and simply running a separate check without the option once in a while locally (e.g., before submission) to detect such issues. After all, the point of GHAs is to detect things you cannot detect locally (because of OS etc.) which this not the case here.

* - the failure rate is so high that pretty much all actions involving remote files include provisions for several retries, otherwise your actions will fail on a regular basis. That said, GNU servers are notoriously unreliable themselves, compounding the problem. Even in our macOS recipes I had to create a provision for automatic rewriting of gnu.org URLs to more reliable GNU mirrors as the master site is either slow or unresponsive very often, so this is not an unusual problem.

Cheers,
Simon


> On 3 Apr 2025, at 00:01, Thierry Onkelinx <thierry.onkelinx at inbo.be> wrote:
> 
> Dear Ivan,
> 
> Thanks for the feedback. Skipping all URL checks is not an ideal solution.
> Getting a NOTE for a broken link is valuable. Given that the problem occurs
> over several repositories but always with the gnu.org domain, I was hoping
> for a more tailored solution.
> 
> Removing the problematic URL is probably the best solution for now.
> 
> Best regards,
> 
> Thierry
> 
> ir. Thierry Onkelinx
> Statisticus / Statistician
> 
> Vlaamse Overheid / Government of Flanders
> INSTITUUT VOOR NATUUR- EN BOSONDERZOEK / RESEARCH INSTITUTE FOR NATURE AND
> FOREST
> Team Biometrie & Kwaliteitszorg / Team Biometrics & Quality Assurance
> thierry.onkelinx at inbo.be
> Havenlaan 88 bus 73, 1000 Brussel
> *Postadres:* Koning Albert II-laan 15 bus 186, 1210 Brussel
> *Poststukken die naar dit adres worden gestuurd, worden ingescand en
> digitaal aan de geadresseerde bezorgd. Zo kan de Vlaamse overheid haar
> dossiers volledig digitaal behandelen. Poststukken met de vermelding
> ?vertrouwelijk? worden niet ingescand, maar ongeopend aan de geadresseerde
> bezorgd.*
> www.inbo.be
> 
> ///////////////////////////////////////////////////////////////////////////////////////////
> To call in the statistician after the experiment is done may be no more
> than asking him to perform a post-mortem examination: he may be able to say
> what the experiment died of. ~ Sir Ronald Aylmer Fisher
> The plural of anecdote is not data. ~ Roger Brinner
> The combination of some data and an aching desire for an answer does not
> ensure that a reasonable answer can be extracted from a given body of data.
> ~ John Tukey
> ///////////////////////////////////////////////////////////////////////////////////////////
> 
> <https://www.inbo.be>
> 
> 
> Op wo 2 apr 2025 om 11:45 schreef Ivan Krylov <ikrylov at disroot.org>:
> 
>> ? Tue, 1 Apr 2025 14:28:04 +0200
>> Thierry Onkelinx <thierry.onkelinx at inbo.be> ?????:
>> 
>>> Any suggestions how to fix this note without removing the
>>> URL for the README?
>> 
>> I think it should be possible to set the environment variable
>> _R_CHECK_CRAN_INCOMING_REMOTE_=FALSE to disable the "remote" checks [*]
>> (including checks for repository content) or
>> _R_CHECK_CRAN_INCOMING_SKIP_URL_CHECKS_IF_REMOTE_=TRUE to only skip the
>> URL checks.
>> 
>> --
>> Best regards,
>> Ivan
>> 
>> [*]
>> 
>> https://cran.r-project.org/doc/manuals/r-devel/R-ints.html#index-_005fR_005fCHECK_005fCRAN_005fINCOMING_005fREMOTE_005f
>> 
> 
> [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
> 


From n|cho|@@@t|erney @end|ng |rom gm@||@com  Thu Apr  3 02:28:32 2025
From: n|cho|@@@t|erney @end|ng |rom gm@||@com (Nicholas Tierney)
Date: Thu, 3 Apr 2025 11:28:32 +1100
Subject: [R-pkg-devel] proper way to cite an invalid URL
In-Reply-To: <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>
References: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
 <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>
Message-ID: <CACrL82XTjtTHZRvz4YL2rPRfWvKvFE3rgAsDJSVUKbo2zY4QuA@mail.gmail.com>

Could you potentially look for the original website in the internet archive
/ wayback machine: https://web.archive.org/ and cite that instead?

On Thu, 3 Apr 2025 at 08:42, Duncan Murdoch <murdoch.duncan at gmail.com>
wrote:

> On 2025-04-02 1:28 p.m., Jason Cory Brunson wrote:
> > Hello,
> >
> > I'm trying to submit a new version of a package to CRAN. Among the
> > additions is an RMarkdown vignette that uses data from a website that is
> > no longer active. For completeness, i'd still like to cite the invalid
> > URL, but without formatting it as a hyperlink. What is the preferred way
> > to do this?
> >
> > One StackExchange answer is to surround the URL with <span></span>, but
> > this did not remove the hyperlink when i rendered the vignette locally.
> > Instead, i surrounded it with back-ticks, which works locally, but i've
> > been unable to run Win-Builder checks to see whether this prevents the
> > "invalid URLs" NOTE. And, even if the NOTE is prevented, i'm not sure
> > this is preferred.
>
> Why not leave off the scheme, e.g. "www.r-project.org" instead of
> "https://www.r-project.org".
>
> Duncan Murdoch
>
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>

	[[alternative HTML version deleted]]


From corne||o|d @end|ng |rom gm@||@com  Thu Apr  3 03:20:19 2025
From: corne||o|d @end|ng |rom gm@||@com (Jason Cory Brunson)
Date: Wed, 2 Apr 2025 21:20:19 -0400
Subject: [R-pkg-devel] proper way to cite an invalid URL
In-Reply-To: <CACrL82XTjtTHZRvz4YL2rPRfWvKvFE3rgAsDJSVUKbo2zY4QuA@mail.gmail.com>
References: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
 <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>
 <CACrL82XTjtTHZRvz4YL2rPRfWvKvFE3rgAsDJSVUKbo2zY4QuA@mail.gmail.com>
Message-ID: <93131639-5472-4fdb-b5af-0091ead580aa@gmail.com>

Thank you both!

Nicholas, i did check the Wayback Machine; the URL was never archived, 
nor was the domain itself (in case you're curious, www.ibge.Goi?sv.br/).

Duncan, that worked at preventing the hyperlink locally; thank you. But 
i got a new error from Win-Builder (the development version via 
devtools::check_win_devel() but not the release version via 
devtools::check_win_release()). It seems to apply to all URLs and DOIs, 
though i did not get it on any previous check:

Checking URLs failed with message:
 ? there is no package called 'curl'

Checking DOIs failed with message:
 ? there is no package called 'curl'

Cory

On 4/2/25 20:28, Nicholas Tierney wrote:
> Could you potentially look for the original website in the internet 
> archive / wayback machine: https://web.archive.org/ and cite that instead?
>
> On Thu, 3 Apr 2025 at 08:42, Duncan Murdoch <murdoch.duncan at gmail.com> 
> wrote:
>
>     On 2025-04-02 1:28 p.m., Jason Cory Brunson wrote:
>     > Hello,
>     >
>     > I'm trying to submit a new version of a package to CRAN. Among the
>     > additions is an RMarkdown vignette that uses data from a website
>     that is
>     > no longer active. For completeness, i'd still like to cite the
>     invalid
>     > URL, but without formatting it as a hyperlink. What is the
>     preferred way
>     > to do this?
>     >
>     > One StackExchange answer is to surround the URL with
>     <span></span>, but
>     > this did not remove the hyperlink when i rendered the vignette
>     locally.
>     > Instead, i surrounded it with back-ticks, which works locally,
>     but i've
>     > been unable to run Win-Builder checks to see whether this
>     prevents the
>     > "invalid URLs" NOTE. And, even if the NOTE is prevented, i'm not
>     sure
>     > this is preferred.
>
>     Why not leave off the scheme, e.g. "www.r-project.org
>     <http://www.r-project.org>" instead of
>     "https://www.r-project.org".
>
>     Duncan Murdoch
>
>     ______________________________________________
>     R-package-devel at r-project.org mailing list
>     https://stat.ethz.ch/mailman/listinfo/r-package-devel
>

	[[alternative HTML version deleted]]


From |kry|ov @end|ng |rom d|@root@org  Thu Apr  3 07:54:33 2025
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Thu, 3 Apr 2025 08:54:33 +0300
Subject: [R-pkg-devel] proper way to cite an invalid URL
In-Reply-To: <93131639-5472-4fdb-b5af-0091ead580aa@gmail.com>
References: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
 <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>
 <CACrL82XTjtTHZRvz4YL2rPRfWvKvFE3rgAsDJSVUKbo2zY4QuA@mail.gmail.com>
 <93131639-5472-4fdb-b5af-0091ead580aa@gmail.com>
Message-ID: <20250403085433.52c99c01@Tarkus>

? Wed, 2 Apr 2025 21:20:19 -0400
Jason Cory Brunson <cornelioid at gmail.com> ?????:

> in case you're curious, www.ibge.Goi?sv.br/

I went looking for links to this domain on the Web, found the link in
the documentation for the 'ripserr' package, and then found what looks
like a domain where the desired page could be found. Could it be

https://www.ibge.gov.br/geociencias/organizacao-do-territorio/estrutura-territorial/15761-areas-dos-municipios.html?edicao=30133&t=acesso-ao-produto

instead of the original link?

https://www.ibge.Goiasv.br/geociencias/organizacao-do-territorio/estrutura-territorial/15761-areas-dos-municipios.html?edicao=30133&t=acesso-ao-produto?

> But i got a new error from Win-Builder (the development version via 
> devtools::check_win_devel() but not the release version via 
> devtools::check_win_release()). It seems to apply to all URLs and
> DOIs, though i did not get it on any previous check:
> 
> Checking URLs failed with message:
>  ? there is no package called 'curl'
> 
> Checking DOIs failed with message:
>  ? there is no package called 'curl'

Looks like Win-Builder for R-devel is having transient problems:
https://www.r-project.org/nosvn/R.check/r-devel-windows-x86_64/curl-00install.html

("ERROR: cannot remove earlier installation, is it in use?", and then
it fails to overwrite libs\x64\curl.dll with "Permission denied".)

-- 
Best regards,
Ivan


From corne||o|d @end|ng |rom gm@||@com  Thu Apr  3 14:34:30 2025
From: corne||o|d @end|ng |rom gm@||@com (Jason Cory Brunson)
Date: Thu, 3 Apr 2025 08:34:30 -0400
Subject: [R-pkg-devel] proper way to cite an invalid URL
In-Reply-To: <20250403085433.52c99c01@Tarkus>
References: <cc4856a9-3a87-4f9b-a0f1-6ce40b1d5e45@gmail.com>
 <f08930c4-6928-469c-ab27-1773004934ae@gmail.com>
 <CACrL82XTjtTHZRvz4YL2rPRfWvKvFE3rgAsDJSVUKbo2zY4QuA@mail.gmail.com>
 <93131639-5472-4fdb-b5af-0091ead580aa@gmail.com>
 <20250403085433.52c99c01@Tarkus>
Message-ID: <038242e6-9bdb-4dac-9088-f6bd2d67ecea@gmail.com>

Ivan, thank you! That seems to be correct. I'll replace the link.

For future reference in answer to the original question, it seems that 
Duncan's suggestion works best, assuming that the 'curl' problem was 
unrelated.

Cory

On 4/3/25 01:54, Ivan Krylov wrote:
> ? Wed, 2 Apr 2025 21:20:19 -0400
> Jason Cory Brunson <cornelioid at gmail.com> ?????:
>
>> in case you're curious, www.ibge.Goi?sv.br/
> I went looking for links to this domain on the Web, found the link in
> the documentation for the 'ripserr' package, and then found what looks
> like a domain where the desired page could be found. Could it be
>
> https://www.ibge.gov.br/geociencias/organizacao-do-territorio/estrutura-territorial/15761-areas-dos-municipios.html?edicao=30133&t=acesso-ao-produto
>
> instead of the original link?
>
> https://www.ibge.Goiasv.br/geociencias/organizacao-do-territorio/estrutura-territorial/15761-areas-dos-municipios.html?edicao=30133&t=acesso-ao-produto?
>
>> But i got a new error from Win-Builder (the development version via
>> devtools::check_win_devel() but not the release version via
>> devtools::check_win_release()). It seems to apply to all URLs and
>> DOIs, though i did not get it on any previous check:
>>
>> Checking URLs failed with message:
>>   ? there is no package called 'curl'
>>
>> Checking DOIs failed with message:
>>   ? there is no package called 'curl'
> Looks like Win-Builder for R-devel is having transient problems:
> https://www.r-project.org/nosvn/R.check/r-devel-windows-x86_64/curl-00install.html
>
> ("ERROR: cannot remove earlier installation, is it in use?", and then
> it fails to overwrite libs\x64\curl.dll with "Permission denied".)
>


From ||@t@ @end|ng |rom dewey@myzen@co@uk  Thu Apr  3 15:49:46 2025
From: ||@t@ @end|ng |rom dewey@myzen@co@uk (Michael Dewey)
Date: Thu, 3 Apr 2025 14:49:46 +0100
Subject: [R-pkg-devel] 
 [My solution] How and where do I document sysdata.rda
In-Reply-To: <6e48e8fa-2e36-4dbc-8fb9-8039e487ab55@dewey.myzen.co.uk>
References: <6e48e8fa-2e36-4dbc-8fb9-8039e487ab55@dewey.myzen.co.uk>
Message-ID: <3f84af97-544e-42d2-932b-35cca7bd6128@dewey.myzen.co.uk>

I promised I would update on this.

I now realise that what I was tryig to do was logically impossible. I 
was trying to hide the data set (achieved) but also hide the 
documentation. That makes no sense as anyone wanting to change the 
dataset would not know where to find the documentation. The probabiliy 
anyone would want to edit it is almost indsitinguishable from zero but 
it is as Charles suggests a good principle.

So the answer is to document it in the usual way and use the keyword 
internal. The main difference from a standard Rd file for data is the 
usage statement. As georgi pointed out this just consists of the dataset 
name not data(datasetname).

Thanks for all your help on this and sorry it took so long to respond.

Michael

On 20/03/2025 14:39, Lists wrote:
> I want to put a look-up table into sysdata.rda to avoid having to 
> compute it everytime. At the moment I create it and save the resulting 
> file and then manually copy it to sysdata.rda. This works but the 
> package now contains no documentation about the look-up table.
> 
> Most of the information which I turned up online involves doing it all 
> indirectly using various packages. I do not want to do that, I am quite 
> happy editing files by hand and moving them to where I want them by 
> hand. So what I need is to know where I should put the documentation and 
> what format it should be assuming it is not an Rd file.
> 
> Of course what I want may be impossible and I just need to document it 
> in the script which creates it but that seems messy.
> 
> Michael Dewey
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel

-- 
Michael Dewey


From r@c@rtwr|ght @end|ng |rom gm@||@com  Sat Apr  5 02:58:25 2025
From: r@c@rtwr|ght @end|ng |rom gm@||@com (Reed A. Cartwright)
Date: Fri, 4 Apr 2025 17:58:25 -0700
Subject: [R-pkg-devel] libc++ and abort function usage
Message-ID: <CALOkxuxkANWVyYeC1JFzVSjRwWG9ae=5CYN1Ze9SBL8jMBTz2g@mail.gmail.com>

I have updated my package, rbedrock [1-2], to remove a bundled
library's calls to abort() and stderr when compiled with -DNDEBUG
(which is the default). This has mostly worked; however, I have
uncovered that libc++ contains inline functions that call abort() if
exceptions are disabled.

My bundled library is a C++ library and is compiled with exceptions
turned off. I use its C-level interface in my package, so its C++ code
is mostly hidden from my package. When compiled on a platform with
libc++, libc++ introduces abort calls into the compiled package. This
is causing `R CMD check` to warn about abort() usage on those
platforms.

I am wondering what people on this list think I should do?

Should I enable exceptions in the bundled library and keep using the
C-level interface? (It doesn't throw any exceptions itself, but std
library calls might.)

If there is any other strategy that I should try, please let me know.

Thanks,
Reed

[1] https://github.com/reedacartwright/rbedrock
[2] https://cran.r-project.org/package=rbedrock
[3] https://github.com/llvm/llvm-project/blob/release/12.x/libcxx/include/any#L107-L116

--
Reed A. Cartwright, PhD
Associate Professor of Life Sciences
TEACh Representative - Evolution and Computational Courses
School of Life Sciences and The Biodesign Institute
Arizona State University
==================
Address: The Biodesign Institute, PO Box 876401, Tempe, AZ 85287-6401 USA
Packages: The Biodesign Institute, 1001 S. McAllister Ave, Tempe, AZ
85287-6401 USA
Office: Biodesign B-220C, 1-480-965-9949
Website: http://cartwrig.ht/


From @h3758 @end|ng |rom drexe|@edu  Sat Apr  5 00:29:40 2025
From: @h3758 @end|ng |rom drexe|@edu (Halder,Aritra)
Date: Fri, 4 Apr 2025 22:29:40 +0000
Subject: [R-pkg-devel] Warnings and notes while building package with nimble
Message-ID: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>

Hi,

I am trying to submit a package to CRAN built using nimble. It generates warnings like so:

: no visible global function definition for  'nimDim'

and fails automatic checks by CRAN. Any help is appreciated.

Thanks and regards,

Aritra

	[[alternative HTML version deleted]]


From p@cm@n|@p@z @end|ng |rom gm@||@com  Sat Apr  5 08:40:56 2025
From: p@cm@n|@p@z @end|ng |rom gm@||@com (Paul Angelo Manlapaz)
Date: Sat, 5 Apr 2025 14:40:56 +0800
Subject: [R-pkg-devel] R Package Submission
Message-ID: <CAB3e68C8KRW4TtHRDhd9-AfVeZisZAaajR3OcmajuciFStebpQ@mail.gmail.com>

Dear Sir / Ma'am,

Greetings.

I am but a newbie in R Package development and currently, I am trying to
submit my second package to CRAN and every time after submission, the
results for the pre-tests come back 'does not pass the incoming checks
automatically'.

The NOTE says;

  Possibly misspelled words in DESCRIPTION:
    ProteinPCA (9:45, 12:19)
    ggplot (12:5)

The name of the package is ProteinPCA and I have already checked multiple
times the Description files for any possible misspellings but I have not
found any. Same goes with ggplot2.

At this moment, I am really at loss on how to resolve this issue. Could you
perhaps enlighten me on this?

Thank you very much.

Sincerely,
*P. A. C. Manlapaz, RCh*

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Sat Apr  5 18:30:16 2025
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Sat, 5 Apr 2025 18:30:16 +0200
Subject: [R-pkg-devel] R Package Submission
In-Reply-To: <CAB3e68C8KRW4TtHRDhd9-AfVeZisZAaajR3OcmajuciFStebpQ@mail.gmail.com>
References: <CAB3e68C8KRW4TtHRDhd9-AfVeZisZAaajR3OcmajuciFStebpQ@mail.gmail.com>
Message-ID: <7918ce96-307d-484c-8896-c7738931fcc6@statistik.tu-dortmund.de>

See my response in the communication among you and CRAN.

Best,
Uwe Ligges




On 05.04.2025 08:40, Paul Angelo Manlapaz wrote:
> Dear Sir / Ma'am,
> 
> Greetings.
> 
> I am but a newbie in R Package development and currently, I am trying to
> submit my second package to CRAN and every time after submission, the
> results for the pre-tests come back 'does not pass the incoming checks
> automatically'.
> 
> The NOTE says;
> 
>    Possibly misspelled words in DESCRIPTION:
>      ProteinPCA (9:45, 12:19)
>      ggplot (12:5)
> 
> The name of the package is ProteinPCA and I have already checked multiple
> times the Description files for any possible misspellings but I have not
> found any. Same goes with ggplot2.
> 
> At this moment, I am really at loss on how to resolve this issue. Could you
> perhaps enlighten me on this?
> 
> Thank you very much.
> 
> Sincerely,
> *P. A. C. Manlapaz, RCh*
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Apr  5 23:31:38 2025
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Sat, 5 Apr 2025 15:31:38 -0600
Subject: [R-pkg-devel] R Package Submission
In-Reply-To: <CAB3e68C8KRW4TtHRDhd9-AfVeZisZAaajR3OcmajuciFStebpQ@mail.gmail.com>
References: <CAB3e68C8KRW4TtHRDhd9-AfVeZisZAaajR3OcmajuciFStebpQ@mail.gmail.com>
Message-ID: <294AB8A2-A6AE-4C15-8789-0F9CE15B5870@comcast.net>

It would be unusual these days to have pkg:ggplot as a dependency. 

? 
David. 
Sent from my iPhone

> On Apr 5, 2025, at 10:28?AM, Paul Angelo Manlapaz <pacmanlapaz at gmail.com> wrote:
> 
> ?Dear Sir / Ma'am,
> 
> Greetings.
> 
> I am but a newbie in R Package development and currently, I am trying to
> submit my second package to CRAN and every time after submission, the
> results for the pre-tests come back 'does not pass the incoming checks
> automatically'.
> 
> The NOTE says;
> 
>  Possibly misspelled words in DESCRIPTION:
>    ProteinPCA (9:45, 12:19)
>    ggplot (12:5)
> 
> The name of the package is ProteinPCA and I have already checked multiple
> times the Description files for any possible misspellings but I have not
> found any. Same goes with ggplot2.
> 
> At this moment, I am really at loss on how to resolve this issue. Could you
> perhaps enlighten me on this?
> 
> Thank you very much.
> 
> Sincerely,
> *P. A. C. Manlapaz, RCh*
> 
>    [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From ||u|@@rev|||@ @end|ng |rom gm@||@com  Sun Apr  6 01:25:09 2025
From: ||u|@@rev|||@ @end|ng |rom gm@||@com (=?UTF-8?Q?Llu=C3=ADs_Revilla?=)
Date: Sun, 6 Apr 2025 01:25:09 +0200
Subject: [R-pkg-devel] 
 Warnings and notes while building package with nimble
In-Reply-To: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>
References: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>
Message-ID: <CAN+W6_uVKhYy=Vz8oboRfGsHUMm8rLPcaN27tfYQ9F75Lx3-AA@mail.gmail.com>

Hi Aritra,

It would be helpful if we can explore the package source code. It helps to
provide a more accurate answer.

But you will find some other cases on the archive of the mailing list with
similar messages.
The message indicates that the static code analyzer hasn't detected the
definition of the object but detected it is used.
This is often the case if you use subset, within or dplyr, ggplot2,
data.table or other packages that use delayed evaluation.
To solve it, it might be as simple as writing nimDim <- NULL inside your
package or there might be a real issue there.

Best,

Llu?s

On Sat, 5 Apr 2025 at 18:25, Halder,Aritra <ah3758 at drexel.edu> wrote:

> Hi,
>
> I am trying to submit a package to CRAN built using nimble. It generates
> warnings like so:
>
> : no visible global function definition for  'nimDim'
>
> and fails automatic checks by CRAN. Any help is appreciated.
>
> Thanks and regards,
>
> Aritra
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>

	[[alternative HTML version deleted]]


From edd @end|ng |rom deb|@n@org  Sun Apr  6 01:31:54 2025
From: edd @end|ng |rom deb|@n@org (Dirk Eddelbuettel)
Date: Sat, 5 Apr 2025 18:31:54 -0500
Subject: [R-pkg-devel] 
 Warnings and notes while building package with nimble
In-Reply-To: <CAN+W6_uVKhYy=Vz8oboRfGsHUMm8rLPcaN27tfYQ9F75Lx3-AA@mail.gmail.com>
References: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>
 <CAN+W6_uVKhYy=Vz8oboRfGsHUMm8rLPcaN27tfYQ9F75Lx3-AA@mail.gmail.com>
Message-ID: <26609.48490.450936.846033@rob.eddelbuettel.com>


On 6 April 2025 at 01:25, Llu?s Revilla wrote:
| To solve it, it might be as simple as writing nimDim <- NULL inside your
| package or there might be a real issue there.

Or call utils::globalVariables(c("nimDim")) where, if needed, you could add
to that argument vector any other variables listed as global. 

Cheers, Dirk

-- 
dirk.eddelbuettel.com | @eddelbuettel | edd at debian.org


From chr|@@br|en @end|ng |rom @de|@|de@edu@@u  Sun Apr  6 10:08:15 2025
From: chr|@@br|en @end|ng |rom @de|@|de@edu@@u (Chris Brien)
Date: Sun, 6 Apr 2025 08:08:15 +0000
Subject: [R-pkg-devel] Unreproducible error for CRAN submission on
 winbuilder using r-devel
Message-ID: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>

Hi all,

I submitted my package asremlPlus 4.4.47 to CRAN on Thurs 3/04/2025 and it generated an Error (and a NOTE) on Winbuilder using R version 4.5.0 RC (2025-04-04 r88102 ucrt):

package asremlPlus_4.4.47.tar.gz does not pass the incoming checks automatically, please see the following pre-tests (additional issue checks):
Windows: <https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log<https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log>>
Status: 1 ERROR, 1 NOTE

I ran R CMD check on the package using r-devel r88102 and was unable to generate the ERROR.

So, I submitted the package to Winbuilder r-devel and the package does not generate an error using R version 4.5.0 RC (2025-04-04 r88112 ucrt) - see https://win-builder.r-project.org/Ht2zyDE9N1Xx/00check.log.

Can I assume that the error was transitory and resubmit my package to CRAN?

Cheers,

 Chris



	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Sun Apr  6 13:08:10 2025
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Sun, 6 Apr 2025 13:08:10 +0200
Subject: [R-pkg-devel] Unreproducible error for CRAN submission on
 winbuilder using r-devel
In-Reply-To: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>
References: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>
Message-ID: <421d4aaa-571d-40a6-a4cf-3fe773d5d0b0@statistik.tu-dortmund.de>

This is on so far strange as the winbuilder service and the CRAN 
incoming check happen actually on the same machine, same library and 
same version of R.

If this is not related to some randomness in generating your data, 
please simply resubmit.

Best,
Uwe Ligges




On 06.04.2025 10:08, Chris Brien wrote:
> Hi all,
> 
> I submitted my package asremlPlus 4.4.47 to CRAN on Thurs 3/04/2025 and it generated an Error (and a NOTE) on Winbuilder using R version 4.5.0 RC (2025-04-04 r88102 ucrt):
> 
> package asremlPlus_4.4.47.tar.gz does not pass the incoming checks automatically, please see the following pre-tests (additional issue checks):
> Windows: <https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log<https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log>>
> Status: 1 ERROR, 1 NOTE
> 
> I ran R CMD check on the package using r-devel r88102 and was unable to generate the ERROR.
> 
> So, I submitted the package to Winbuilder r-devel and the package does not generate an error using R version 4.5.0 RC (2025-04-04 r88112 ucrt) - see https://win-builder.r-project.org/Ht2zyDE9N1Xx/00check.log.
> 
> Can I assume that the error was transitory and resubmit my package to CRAN?
> 
> Cheers,
> 
>   Chris
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From murdoch@dunc@n @end|ng |rom gm@||@com  Sun Apr  6 15:33:19 2025
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Sun, 6 Apr 2025 09:33:19 -0400
Subject: [R-pkg-devel] Unreproducible error for CRAN submission on
 winbuilder using r-devel
In-Reply-To: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>
References: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>
Message-ID: <b29b0479-9569-440c-80f3-1558354aa7b9@gmail.com>

On 2025-04-06 4:08 a.m., Chris Brien wrote:
> Hi all,
> 
> I submitted my package asremlPlus 4.4.47 to CRAN on Thurs 3/04/2025 and it generated an Error (and a NOTE) on Winbuilder using R version 4.5.0 RC (2025-04-04 r88102 ucrt):
> 
> package asremlPlus_4.4.47.tar.gz does not pass the incoming checks automatically, please see the following pre-tests (additional issue checks):
> Windows: <https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log<https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log>>
> Status: 1 ERROR, 1 NOTE
> 
> I ran R CMD check on the package using r-devel r88102 and was unable to generate the ERROR.
> 
> So, I submitted the package to Winbuilder r-devel and the package does not generate an error using R version 4.5.0 RC (2025-04-04 r88112 ucrt) - see https://win-builder.r-project.org/Ht2zyDE9N1Xx/00check.log.
> 
> Can I assume that the error was transitory and resubmit my package to CRAN?
> 
> Cheers,

The error was

"Error in pf(q = Fvalue, df1 = ndf, df2 = ddf, lower.tail = FALSE) :
   Non-numeric argument to mathematical function"

That doesn't look like something that would be transitory.  If you are 
working with random data it might be hard to reproduce, but still worth 
worrying about.  Or it could be transitory because some package you're 
using was updated between the two runs, or some weird timing issue 
caused some value to be wrong.

Duncan Murdoch


From chr|@@br|en @end|ng |rom @de|@|de@edu@@u  Mon Apr  7 01:51:45 2025
From: chr|@@br|en @end|ng |rom @de|@|de@edu@@u (Chris Brien)
Date: Sun, 6 Apr 2025 23:51:45 +0000
Subject: [R-pkg-devel] Unreproducible error for CRAN submission on
 winbuilder using r-devel
In-Reply-To: <b29b0479-9569-440c-80f3-1558354aa7b9@gmail.com>
References: <ME4P282MB1287D439FBAC309EC438D30EA0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>
 <b29b0479-9569-440c-80f3-1558354aa7b9@gmail.com>
Message-ID: <ME4P282MB12875D91379E8866C17C7AD7A0AB2@ME4P282MB1287.AUSP282.PROD.OUTLOOK.COM>

Hi Duncan,

Thanks for your comments.

"Error in pf(q = Fvalue, df1 = ndf, df2 = ddf, lower.tail = FALSE) :
Non-numeric argument to mathematical function"
Indeed, and the problem arises from a call to the anova function of lmerTest whose latest versions is 2020-10-23.


That doesn't look like something that would be transitory. If you are
working with random data it might be hard to reproduce, but still worth
worrying about. Or it could be transitory because some package you're
using was updated between the two runs, or some weird timing issue
caused some value to be wrong.

The data is a data set from asremlplus called Oat.dat, so not random at all.

It seems that the most likely explanation is that it is some weird transitory issue on the CRAN incoming check that caused some value to be wrong.

Anyway, asremlPlus has now been resubmitted and is on its way to CRAN.

Cheers,

 Chris



From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Sunday, 6 April 2025 11:03 PM
To: Chris Brien <chris.brien at adelaide.edu.au>; r-package-devel at r-project.org
Subject: Re: [R-pkg-devel] Unreproducible error for CRAN submission on winbuilder using r-devel

On 2025-04-06 4:08 a.m., Chris Brien wrote:
> Hi all,
>
> I submitted my package asremlPlus 4.4.47 to CRAN on Thurs 3/04/2025 and it generated an Error (and a NOTE) on Winbuilder using R version 4.5.0 RC (2025-04-04 r88102 ucrt):
>
> package asremlPlus_4.4.47.tar.gz does not pass the incoming checks automatically, please see the following pre-tests (additional issue checks):
> Windows: <https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log<https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log><https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log<https://win-builder.r-project.org/incoming_pretest/asremlPlus_4.4.47_20250403_120518/Windows/00check.log>>>
> Status: 1 ERROR, 1 NOTE
>
> I ran R CMD check on the package using r-devel r88102 and was unable to generate the ERROR.
>
> So, I submitted the package to Winbuilder r-devel and the package does not generate an error using R version 4.5.0 RC (2025-04-04 r88112 ucrt) - see https://win-builder.r-project.org/Ht2zyDE9N1Xx/00check.log<https://win-builder.r-project.org/Ht2zyDE9N1Xx/00check.log>.
>
> Can I assume that the error was transitory and resubmit my package to CRAN?
>
> Cheers,

The error was

"Error in pf(q = Fvalue, df1 = ndf, df2 = ddf, lower.tail = FALSE) :
Non-numeric argument to mathematical function"

That doesn't look like something that would be transitory. If you are
working with random data it might be hard to reproduce, but still worth
worrying about. Or it could be transitory because some package you're
using was updated between the two runs, or some weird timing issue
caused some value to be wrong.

Duncan Murdoch

	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Apr  7 10:24:13 2025
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 7 Apr 2025 10:24:13 +0200
Subject: [R-pkg-devel] 
 Warnings and notes while building package with nimble
In-Reply-To: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>
References: <DM6PR01MB38971146EB7242086206CBDBA2A92@DM6PR01MB3897.prod.exchangelabs.com>
Message-ID: <d0bf0977-d98b-4ba4-b161-8b6d7d730ff0@statistik.tu-dortmund.de>



On 05.04.2025 00:29, Halder,Aritra wrote:
> Hi,
> 
> I am trying to submit a package to CRAN built using nimble. It generates warnings like so:

Which package?


> : no visible global function definition for  'nimDim'

and you have not forgot to import nlmDim()?

Best,
Uwe Ligges






> and fails automatic checks by CRAN. Any help is appreciated.
> 
> Thanks and regards,
> 
> Aritra
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From kev|n@r@coombe@ @end|ng |rom gm@||@com  Mon Apr  7 17:10:21 2025
From: kev|n@r@coombe@ @end|ng |rom gm@||@com (Kevin R. Coombes)
Date: Mon, 7 Apr 2025 11:10:21 -0400
Subject: [R-pkg-devel] URLs in DESCRIPTION file
Message-ID: <412dd1c9-85e9-4786-b20d-109af5c96fc8@gmail.com>

Hi,

I am systematically going through the packages that I maintain on CRAN 
to clean up some administrative details. Specifically, I am (1) changing 
all DESCRIPTION files to use Authirs at R, (2) updating the links in man 
files to include package anchors, and (3) making sure that the output of 
calls to summary in test scripts don't break (i.e., mismatch the saved 
test output) in the 4.5.0 release candidate.

Not surprisingly, this process also finds other issues. Right now,I am 
looking at the package BimodalIndex. The version currently on CRAN (v. 
1.1.9) includes the following URL:
 ??? https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2730180/
On first checking the package, I get informed that this URL has 
"permanently moved" to:
 ??? https://pmc.ncbi.nlm.nih.gov/articles/PMC2730180/

The fix seems simple, so I edited the DESCRIPTION file to use the new 
URL instead of the old one. Then I submitted the newly built version 
(1.1.11) to both the current release and the development release at 
winbuilder before submitting the update to CRAN.? R version 4.4.3 comes 
back with a 00check.log that is absolutely "OK". No errors, warnings, or 
notes. But version R 4.5.0 RC comes back with;
 ??? (possibly) invalid URL. Status: 403? Message: Forbidden
I copied the URL as reported in the error message, pasted it into my 
browser, and it worked just fine.

Can I assume that this is just something weird about the corresponding 
winbuilder server at the moment, and go ahead and submit the package? Or 
is there some mysterious change in R 4.5 lurking somewhere that I need 
to deal with?

Thanks,
 ?? Kevin


From |kry|ov @end|ng |rom d|@root@org  Mon Apr  7 17:35:35 2025
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Mon, 7 Apr 2025 18:35:35 +0300
Subject: [R-pkg-devel] URLs in DESCRIPTION file
In-Reply-To: <412dd1c9-85e9-4786-b20d-109af5c96fc8@gmail.com>
References: <412dd1c9-85e9-4786-b20d-109af5c96fc8@gmail.com>
Message-ID: <20250407183535.2f11ab7f@arachnoid>

? Mon, 7 Apr 2025 11:10:21 -0400
"Kevin R. Coombes" <kevin.r.coombes at gmail.com> ?????:

> But version R 4.5.0 RC comes back with;
>  ??? (possibly) invalid URL. Status: 403? Message: Forbidden
> I copied the URL as reported in the error message, pasted it into my 
> browser, and it worked just fine.
> 
> Can I assume that this is just something weird about the
> corresponding winbuilder server at the moment, and go ahead and
> submit the package?

This is a false positive. R CMD check sends automated requests to all
URLs it finds in the package. PubMed "protects" itself from automated
requests and returns an error code:

$ curl -I https://pmc.ncbi.nlm.nih.gov/articles/PMC2730180/
HTTP/2 403
content-length: 134
content-type: text/html; charset=UTF-8
date: Mon, 07 Apr 2025 15:14:59 GMT
alt-svc: clear

Using a browser instead results in subtly different behaviour visible
to the server, so the page loads successfully when clicking a link.

I see you're already linking to the article's DOI, 10.4137/cin.s2846,
and the article is not paywalled. Is it an option to remove the PubMed
link? There is code that is intended to recommend to only use the DOI,
but currently doesn't include a pattern for the new PubMed URLs:

if(length(y) &&
         any(ind <-
           (grepl(re_or(c("^https://pubmed.ncbi.nlm.nih.gov/[0-9]+",
              "^https://www.ncbi.nlm.nih.gov/pmc/articles/PMC[0-9]+/$",
              "^https://academic.oup.com/.*(/[0-9]*){4}$",
              "^https://www.sciencedirect.com/science/article")),
            y$URL)))) {
    ## <FIXME>
    ## Ideally we would complain about such URLs in general
    ## and not only when the URL checks were not OK.
    paste(c("Please use DOIs for the following publisher URLs:",
            paste0("  ", y$URL[ind])),
          collapse = "\n")
    ## </FIXME>
}

If you don't want to remove the PubMed link, you can explain the
"possibly invalid URL" as a false positive in the submission comment.

-- 
Best regards,
Ivan


From kev|n@r@coombe@ @end|ng |rom gm@||@com  Mon Apr  7 17:52:30 2025
From: kev|n@r@coombe@ @end|ng |rom gm@||@com (Kevin R. Coombes)
Date: Mon, 7 Apr 2025 11:52:30 -0400
Subject: [R-pkg-devel] URLs in DESCRIPTION file
In-Reply-To: <20250407183535.2f11ab7f@arachnoid>
References: <412dd1c9-85e9-4786-b20d-109af5c96fc8@gmail.com>
 <20250407183535.2f11ab7f@arachnoid>
Message-ID: <7a26a6a4-8501-44bf-baad-13885ed1a305@gmail.com>

Thanks. That's what I thought (though I was somewhat confused by the 
different behaviors of winbuilder on the current and development 
versions). I think the original DESCRIPTION file (from 2017?) just had 
the URL. Some time after that, CRAN asked for the inclusion of the DOI, 
but they didn't say to get rid of the URL. The code itself hasn't been 
touched since at least 2019 (since it still works exactly the way it is 
supposed to.)

And, becauseI have been both finding and losing things on the Internet 
for several decades, I am not particularly confident that the DOI is 
going to have a significantly longer stable lifetime than the NCBI URL. 
So, for now at least, I think I will leave them both.

Best,
 ?? Kevin

On 4/7/2025 11:35 AM, Ivan Krylov wrote:
> ? Mon, 7 Apr 2025 11:10:21 -0400
> "Kevin R. Coombes" <kevin.r.coombes at gmail.com> ?????:
>
>> But version R 4.5.0 RC comes back with;
>>   ??? (possibly) invalid URL. Status: 403? Message: Forbidden
>> I copied the URL as reported in the error message, pasted it into my
>> browser, and it worked just fine.
>>
>> Can I assume that this is just something weird about the
>> corresponding winbuilder server at the moment, and go ahead and
>> submit the package?
> This is a false positive. R CMD check sends automated requests to all
> URLs it finds in the package. PubMed "protects" itself from automated
> requests and returns an error code:
>
> $ curl -I https://pmc.ncbi.nlm.nih.gov/articles/PMC2730180/
> HTTP/2 403
> content-length: 134
> content-type: text/html; charset=UTF-8
> date: Mon, 07 Apr 2025 15:14:59 GMT
> alt-svc: clear
>
> Using a browser instead results in subtly different behaviour visible
> to the server, so the page loads successfully when clicking a link.
>
> I see you're already linking to the article's DOI, 10.4137/cin.s2846,
> and the article is not paywalled. Is it an option to remove the PubMed
> link? There is code that is intended to recommend to only use the DOI,
> but currently doesn't include a pattern for the new PubMed URLs:
>
> if(length(y) &&
>           any(ind <-
>             (grepl(re_or(c("^https://pubmed.ncbi.nlm.nih.gov/[0-9]+",
>                "^https://www.ncbi.nlm.nih.gov/pmc/articles/PMC[0-9]+/$",
>                "^https://academic.oup.com/.*(/[0-9]*){4}$",
>                "^https://www.sciencedirect.com/science/article")),
>              y$URL)))) {
>      ## <FIXME>
>      ## Ideally we would complain about such URLs in general
>      ## and not only when the URL checks were not OK.
>      paste(c("Please use DOIs for the following publisher URLs:",
>              paste0("  ", y$URL[ind])),
>            collapse = "\n")
>      ## </FIXME>
> }
>
> If you don't want to remove the PubMed link, you can explain the
> "possibly invalid URL" as a false positive in the submission comment.
>


From kev|nu@hey @end|ng |rom gm@||@com  Mon Apr  7 18:18:29 2025
From: kev|nu@hey @end|ng |rom gm@||@com (Kevin Ushey)
Date: Mon, 7 Apr 2025 09:18:29 -0700
Subject: [R-pkg-devel] libc++ and abort function usage
In-Reply-To: <CALOkxuxkANWVyYeC1JFzVSjRwWG9ae=5CYN1Ze9SBL8jMBTz2g@mail.gmail.com>
References: <CALOkxuxkANWVyYeC1JFzVSjRwWG9ae=5CYN1Ze9SBL8jMBTz2g@mail.gmail.com>
Message-ID: <CAJXgQP1N6qEKHBxRFnRZN593ycGq-WoZ=cu_eGkUiaRn2KMiCg@mail.gmail.com>

Hi Reed,

Unfortunately I don't think there is any other strategy here -- I
would agree that your best bet is to just enable exceptions in the
bundled library.

Best,
Kevin

On Fri, Apr 4, 2025 at 5:59?PM Reed A. Cartwright
<racartwright at gmail.com> wrote:
>
> I have updated my package, rbedrock [1-2], to remove a bundled
> library's calls to abort() and stderr when compiled with -DNDEBUG
> (which is the default). This has mostly worked; however, I have
> uncovered that libc++ contains inline functions that call abort() if
> exceptions are disabled.
>
> My bundled library is a C++ library and is compiled with exceptions
> turned off. I use its C-level interface in my package, so its C++ code
> is mostly hidden from my package. When compiled on a platform with
> libc++, libc++ introduces abort calls into the compiled package. This
> is causing `R CMD check` to warn about abort() usage on those
> platforms.
>
> I am wondering what people on this list think I should do?
>
> Should I enable exceptions in the bundled library and keep using the
> C-level interface? (It doesn't throw any exceptions itself, but std
> library calls might.)
>
> If there is any other strategy that I should try, please let me know.
>
> Thanks,
> Reed
>
> [1] https://github.com/reedacartwright/rbedrock
> [2] https://cran.r-project.org/package=rbedrock
> [3] https://github.com/llvm/llvm-project/blob/release/12.x/libcxx/include/any#L107-L116
>
> --
> Reed A. Cartwright, PhD
> Associate Professor of Life Sciences
> TEACh Representative - Evolution and Computational Courses
> School of Life Sciences and The Biodesign Institute
> Arizona State University
> ==================
> Address: The Biodesign Institute, PO Box 876401, Tempe, AZ 85287-6401 USA
> Packages: The Biodesign Institute, 1001 S. McAllister Ave, Tempe, AZ
> 85287-6401 USA
> Office: Biodesign B-220C, 1-480-965-9949
> Website: http://cartwrig.ht/
>
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From ch@r|e@-||@te@+rd @end|ng |rom p|e@@y@org  Tue Apr  8 06:49:29 2025
From: ch@r|e@-||@te@+rd @end|ng |rom p|e@@y@org (Charles Plessy)
Date: Tue, 8 Apr 2025 13:49:29 +0900
Subject: [R-pkg-devel] URLs in DESCRIPTION file
In-Reply-To: <20250407183535.2f11ab7f@arachnoid>
References: <412dd1c9-85e9-4786-b20d-109af5c96fc8@gmail.com>
 <20250407183535.2f11ab7f@arachnoid>
Message-ID: <Z_Sq2XEUnVi20Z6x@kumo.plessy.net>

Le Mon, Apr 07, 2025 at 06:35:35PM +0300, Ivan Krylov via R-package-devel a ?crit :
> 
> PubMed "protects" itself from automated requests and returns an error code:
> 
> $ curl -I https://pmc.ncbi.nlm.nih.gov/articles/PMC2730180/
> HTTP/2 403

Quick minor correction: this is PubMed Central, not PubMed.

A PubMed URL to the same article would work:

curl -I https://pubmed.ncbi.nlm.nih.gov/19718451/
HTTP/2 200 

Have a nice day,

Charles Plessy


From pro|jcn@@h @end|ng |rom gm@||@com  Thu Apr 10 01:52:05 2025
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Wed, 9 Apr 2025 19:52:05 -0400
Subject: [R-pkg-devel] Procedure for dealing with reverse dependency that
 has gone bad on CRAN version of my package
Message-ID: <f9d824ef-2e0c-4d50-b754-e2b24849a5b7@gmail.com>

In correcting a minor bug in the optimx package, I submitted a new version today.
The existing CRAN version (2024-12.2) has all CRAN checks OK, and to my knowledge
no notifications of bugs. The new version has hit a FAIL with package phenofit revdep.
Wanting to have output from a "working" system, I (re-)installed the CRAN version
of optimx and ran R CMD check on phenofit, and also get the FAIL on one of its tests.

The failure is a solve error (singularity) in the called minimizer nlminb, so could be
a result of some alteration in something like the matrix routines. I've also seen
changes in tests due to use of M1 and similar processors, relaxed IEEE arithmetic
being the cause. Such differences in outcome are not really a surprise, but can
be a nuisance.

My query is how to proceed to resolve this situation. Since my existing package --
which was supposedly OK back in December -- also throws the test failure in phenofit,
I've no path to reverse changes in my code. It's also possible there's no error
in phenofit, just a test case that now trips up when it did not prior to some
external change.

Still, some resolution is needed, and it would be good to avoid too much fuss.

John Nash


From ph||||p@j@rrett1 @end|ng |rom gm@||@com  Thu Apr 10 01:57:36 2025
From: ph||||p@j@rrett1 @end|ng |rom gm@||@com (Jarrett Phillips)
Date: Wed, 9 Apr 2025 19:57:36 -0400
Subject: [R-pkg-devel] Lost Braces in R Markdown File
Message-ID: <CAMVrHdB1MD09exeXi1OLC7-fE7y2VEH0GW2wbEsR6gTw_efvBg@mail.gmail.com>

Hello!

I recently ran R CMD CHECK via devtools::check_built() on my CRAN package
'VLF'. See: https://cran.r-project.org/web/checks/check_results_VLF.html.

The notes I received pertain to the below, but I am unsure exactly how to
resolve the issue after googling a bit. Any ideas?

Thanks.

Cheers,

Jarrett

-----

Version: 1.1
Check: Rd files
Result: NOTE
  checkRd: (-1) aminoAcidFun.Rd:37: Lost braces
      37 | \item{ownVLFreduced}{ownVLFMatrix}{A matrix containing only
those specimen that have VLFs as well as the amino     acids at the
positions that contain VLFs and NAs in all other positions of the
sequence.  Only appears if own is not NULL.}
         |                                   ^
  checkRd: (-1) vlfFun.Rd:36: Lost braces
      36 | \item{ownVLFreduced}{ownVLFMatrix}{A matrix containing only
those specimen that have VLFs as well as the     nucleotides at the
positions that contain VLFs and NAs in all other positions of the
sequence.  Only appears if own is not NULL.}
         |

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Apr 10 04:41:07 2025
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 9 Apr 2025 22:41:07 -0400
Subject: [R-pkg-devel] Lost Braces in R Markdown File
In-Reply-To: <CAMVrHdB1MD09exeXi1OLC7-fE7y2VEH0GW2wbEsR6gTw_efvBg@mail.gmail.com>
References: <CAMVrHdB1MD09exeXi1OLC7-fE7y2VEH0GW2wbEsR6gTw_efvBg@mail.gmail.com>
Message-ID: <455645f1-3bc7-4da2-a9a8-47e49aa72906@gmail.com>

[I sent this only to Jarrett on my first attempt, this was meant to go 
to the list.]

The syntax for the \item macro has two arguments, so the text "A matrix
containing only those specimen that have ..." is in braces that are
unnecessary.  That's why you got the note, because check thinks that was
unintentional and wanted to point it out to you.  It's legal, so it's
not an error, just a note.

If I look at the display of the help page ?aminoAcidFun, I think it's
right that something is wrong.  The formatting near the end of the Value
section looks messed up.

Duncan Murdoch



On 2025-04-09 7:57 p.m., Jarrett Phillips wrote:
> Hello!
> 
> I recently ran R CMD CHECK via devtools::check_built() on my CRAN package
> 'VLF'. See: https://cran.r-project.org/web/checks/check_results_VLF.html.
> 
> The notes I received pertain to the below, but I am unsure exactly how to
> resolve the issue after googling a bit. Any ideas?
> 
> Thanks.
> 
> Cheers,
> 
> Jarrett
> 
> -----
> 
> Version: 1.1
> Check: Rd files
> Result: NOTE
>    checkRd: (-1) aminoAcidFun.Rd:37: Lost braces
>        37 | \item{ownVLFreduced}{ownVLFMatrix}{A matrix containing only
> those specimen that have VLFs as well as the amino     acids at the
> positions that contain VLFs and NAs in all other positions of the
> sequence.  Only appears if own is not NULL.}
>           |                                   ^
>    checkRd: (-1) vlfFun.Rd:36: Lost braces
>        36 | \item{ownVLFreduced}{ownVLFMatrix}{A matrix containing only
> those specimen that have VLFs as well as the     nucleotides at the
> positions that contain VLFs and NAs in all other positions of the
> sequence.  Only appears if own is not NULL.}
>           |
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel


From em@nue|e@cord@no @end|ng |rom gm@||@com  Thu Apr 10 11:24:31 2025
From: em@nue|e@cord@no @end|ng |rom gm@||@com (Emanuele Cordano)
Date: Thu, 10 Apr 2025 11:24:31 +0200
Subject: [R-pkg-devel] broken or outdaeted URLs
Message-ID: <CAKw81f_UYBRk8tvyF7B3UysvrXU3jY86PLwiHEWWsePeAZuStg@mail.gmail.com>

Dear all,

I'm submitting a new version of a package created and published on CRAN
since 2011. I'm the maintainer. CRAN checks highlight the presence of some
URLs link in the documentation that can be broken or outdated and CRAN
asked me to fix them. I'm fixing them following the list set by CRAN and
win-builder services.  Is there an option in R CMD check that I can use on
my server to directly verify all URLs and fix them on my server / RStudio
server?

Thank you
Best
Emanuele Cordano

-- 
Emanuele Cordano, PhD
Environmental Engineer / Ingegnere per l' Ambiente e il territorio nr.
3587 (Albo A - Provincia di Trento)
cell: +39 3282818564
email: emanuele.cordano at gmail.com,emanuele.cordano at rendena100.eu,
emanuele.cordano at eurac.edu
PEC: emanuele.cordano at ingpec.eu
URL: www.rendena100.eu
LinkedIn: https://www.linkedin.com/in/emanuele-cordano-31995333
GitHub: https://github.com/ecor

	[[alternative HTML version deleted]]


From @d@mhsp@rks m@iii@g oii tut@@com  Thu Apr 10 12:40:15 2025
From: @d@mhsp@rks m@iii@g oii tut@@com (@d@mhsp@rks m@iii@g oii tut@@com)
Date: Thu, 10 Apr 2025 12:40:15 +0200 (CEST)
Subject: [R-pkg-devel] broken or outdaeted URLs
In-Reply-To: <CAKw81f_UYBRk8tvyF7B3UysvrXU3jY86PLwiHEWWsePeAZuStg@mail.gmail.com>
References: <CAKw81f_UYBRk8tvyF7B3UysvrXU3jY86PLwiHEWWsePeAZuStg@mail.gmail.com>
Message-ID: <ONUH3zQ--J-9@tuta.com>

Hi Emanuele,
I usually use `urlchecker::url_check()` to start with. There is a `urlchecker::url_update()` option in the package as well. The check catches the errors, the update can fix some but not all errors.

--
best,
Adam
10 Apr 2025 at 17:25 by emanuele.cordano at gmail.com:

> Dear all,
>
> I'm submitting a new version of a package created and published on CRAN
> since 2011. I'm the maintainer. CRAN checks highlight the presence of some
> URLs link in the documentation that can be broken or outdated and CRAN
> asked me to fix them. I'm fixing them following the list set by CRAN and
> win-builder services.  Is there an option in R CMD check that I can use on
> my server to directly verify all URLs and fix them on my server / RStudio
> server?
>
> Thank you
> Best
> Emanuele Cordano
>
> --
> Emanuele Cordano, PhD
> Environmental Engineer / Ingegnere per l' Ambiente e il territorio nr.
> 3587 (Albo A - Provincia di Trento)
> cell: +39 3282818564
> email: emanuele.cordano at gmail.com,emanuele.cordano at rendena100.eu,
> emanuele.cordano at eurac.edu
> PEC: emanuele.cordano at ingpec.eu
> URL: www.rendena100.eu
> LinkedIn: https://www.linkedin.com/in/emanuele-cordano-31995333
> GitHub: https://github.com/ecor
>
> [[alternative HTML version deleted]]
>
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>


	[[alternative HTML version deleted]]


From |kry|ov @end|ng |rom d|@root@org  Thu Apr 10 12:52:08 2025
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Thu, 10 Apr 2025 13:52:08 +0300
Subject: [R-pkg-devel] broken or outdaeted URLs
In-Reply-To: <CAKw81f_UYBRk8tvyF7B3UysvrXU3jY86PLwiHEWWsePeAZuStg@mail.gmail.com>
References: <CAKw81f_UYBRk8tvyF7B3UysvrXU3jY86PLwiHEWWsePeAZuStg@mail.gmail.com>
Message-ID: <20250410135208.157697c6@arachnoid>

? Thu, 10 Apr 2025 11:24:31 +0200
Emanuele Cordano <emanuele.cordano at gmail.com> ?????:

> Is there an option in R CMD check that I can use on
> my server to directly verify all URLs

Does R CMD check --as-cran help?

-- 
Best regards,
Ivan


From pro|jcn@@h @end|ng |rom gm@||@com  Thu Apr 10 13:47:51 2025
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Thu, 10 Apr 2025 07:47:51 -0400
Subject: [R-pkg-devel] 
 Procedure for dealing with reverse dependency that
 has gone bad on CRAN version of my package
In-Reply-To: <f9d824ef-2e0c-4d50-b754-e2b24849a5b7@gmail.com>
References: <f9d824ef-2e0c-4d50-b754-e2b24849a5b7@gmail.com>
Message-ID: <7f2cda3e-cb44-41c9-b412-5d41201ad16f@gmail.com>


I've had an email from CRAN team that the revdep failure with phenofit is a known issue and
updated optimx package (fixing glitch in computing approximate Hessian when objective uses dot args)
is on its way to CRAN.

John Nash


From r@k||||ck @end|ng |rom |@nc@@ter@@c@uk  Fri Apr 11 18:00:16 2025
From: r@k||||ck @end|ng |rom |@nc@@ter@@c@uk (Killick, Rebecca)
Date: Fri, 11 Apr 2025 16:00:16 +0000
Subject: [R-pkg-devel] \linkS4class anchoring
In-Reply-To: <LNXP265MB1564D9993DE64BAFF2F4B957A8B72@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>
References: <LNXP265MB1564D9993DE64BAFF2F4B957A8B72@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <LNXP265MB15649B9DFEE0CB8839F6DFA9A8B62@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>

Hi Fellow Package Maintainers,

I received the following helpful message from the CRAN maintainers about a new check that my EnvCpt package is failing:

"CRAN would like to move its package web pages to providing (static) HTML refmans instead of PDF refmans, which needs Rd cross-references to Rd \link{} targets not in the package itself nor in the base packages to use package anchors, i.e., use \link[PKG]{FOO} (see section "Cross-references" in "Writing R Extensions")."

The CRAN package checks here:
https://cran.r-project.org/web/checks/check_results_EnvCpt.html
note that:
"Found the following Rd file(s) with Rd \link{} targets missing package anchors: envcpt.Rd: cpt-class"

All of the \link uses within my package are anchored except for the \linkS4class{cpt} call so I think this is what it is referring to.? I've checked the writing R extensions "Cross-references" section and it just says to use \linkS4class{<class>} but does so in reference to a class within the current package - which is what has been working up until now.

The class is within the changepoint package so, I tried the obvious inference, \linkS4class[changepoint]{cpt} but this creates the following warning on check:
"prepare_Rd: ./man/envcpt.Rd:63: unexpected TEXT '[changepoint]', expecting '{'
checkRd: (7) envcpt.Rd:63: Tag LIST is invalid in a \code block"

Has anyone else come across this (needing to reference a class in another package) and knows how to anchor it?

I could be lazy and just delete the reference to solve the problem but, as the class is given as outputs, I think it is helpful to users who haven't come across the class before to have a direct link to the structure of it.

Thanks,
Rebecca

Pronouns: They/Them/Theirs
Please note:? Whilst I may choose to correspond by email during evenings and weekends as it fits best with my preferred working pattern, I do not expect responses outside your usual working pattern.

From |kry|ov @end|ng |rom d|@root@org  Fri Apr 11 21:45:03 2025
From: |kry|ov @end|ng |rom d|@root@org (Ivan Krylov)
Date: Fri, 11 Apr 2025 22:45:03 +0300
Subject: [R-pkg-devel] \linkS4class anchoring
In-Reply-To: <LNXP265MB15649B9DFEE0CB8839F6DFA9A8B62@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>
References: <LNXP265MB1564D9993DE64BAFF2F4B957A8B72@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>
 <LNXP265MB15649B9DFEE0CB8839F6DFA9A8B62@LNXP265MB1564.GBRP265.PROD.OUTLOOK.COM>
Message-ID: <20250411224503.4c763fcb@Tarkus>

? Fri, 11 Apr 2025 16:00:16 +0000
"Killick, Rebecca" <r.killick at lancaster.ac.uk> ?????:

> All of the \link uses within my package are anchored except for the
> \linkS4class{cpt} call so I think this is what it is referring to.
> I've checked the writing R extensions "Cross-references" section and
> it just says to use \linkS4class{<class>} but does so in reference to
> a class within the current package - which is what has been working
> up until now.
> 
> The class is within the changepoint package so, I tried the obvious
> inference, \linkS4class[changepoint]{cpt} but this creates the
> following warning on check:
> "prepare_Rd: ./man/envcpt.Rd:63: unexpected TEXT '[changepoint]',
> expecting '{' checkRd: (7)
> envcpt.Rd:63: Tag LIST is invalid in a \code block"

\linkS4class is a "primitive" Rd markup operation, included in the
grammar and implemented directly by the individual Rd converters.
Currently, the grammar says that \linkS4class{} takes no optional
arguments. The workaround used by ?stats::xtabs is:

>> \code{\link[Matrix:sparseMatrix-class]{sparseMatrix}}

(With \linkS4class{sparseMatrix} helpfully left commented out on the
same line.)

In your case, that would be \link[changepoint:cpt-class]{cpt}.

For the future packages depending on future R versions, the grammar and
one of the converters can be changed:

-----------------------------------8<-----------------------------------
Index: src/library/tools/R/Rd2HTML.R
===================================================================
--- src/library/tools/R/Rd2HTML.R	(revision 88138)
+++ src/library/tools/R/Rd2HTML.R	(working copy)
@@ -35,6 +35,8 @@
     option <- attr(arg, "Rd_option")
 
     topic <- dest <- paste(unlist(arg), collapse = "")
+    if (tag == "\\linkS4class") dest <- paste0(dest, "-class")
+
     targetfile <- NULL
     pkg <- NULL
     if (!is.null(option)) {
@@ -55,7 +57,6 @@
     } else if (!isTEXT)
         stopRd(arg, Rdfile, "Bad \\link topic -- must be text")
 
-    if (tag == "\\linkS4class") dest <- paste0(dest, "-class")
     list(topic = topic, dest = dest, pkg = pkg, targetfile = targetfile)
 }
 
Index: src/library/tools/src/gramRd.y
===================================================================
--- src/library/tools/src/gramRd.y	(revision 88138)
+++ src/library/tools/src/gramRd.y	(working copy)
@@ -1168,7 +1168,6 @@
     
     { "\\emph",    LATEXMACRO },    
     { "\\file",    LATEXMACRO },
-    { "\\linkS4class", LATEXMACRO },
     { "\\pkg",	   LATEXMACRO },
     { "\\sQuote",  LATEXMACRO },
     
@@ -1209,6 +1208,7 @@
        one LaTeX-like argument */
        
     { "\\link",    OPTMACRO },
+    { "\\linkS4class", OPTMACRO },
        
     /* These markup macros require an R-like text argument */
     
-----------------------------------8<-----------------------------------

With the patch applied, the output for \linkS4class[changepoint]{cpt}
and \link[changepoint:cpt-class]{cpt} will be the same:

library(tools)
r"{ \linkS4class[changepoint]{cpt} \link[changepoint:cpt-class]{cpt} }" |>
 textConnection() |> parse_Rd(fragment = TRUE) |>
 Rd2HTML(no_links = FALSE, fragment = TRUE)'
# <p><a href="../../changepoint/help/cpt-class.html">cpt</a>
# <a href="../../changepoint/help/cpt-class.html">cpt</a>

Rd2ex skips \linkS4class as before; Rd2txt prints the name on the link;
Rd2latex doesn't support the cross-package anchor; and Rd2HTML needs to
process the ...-class destination first, before the if (option) { ... }
branch sets targetfile based on it.

-- 
Best regards,
Ivan


From jo@|@h@p@rry @end|ng |rom gm@||@com  Sat Apr 12 17:03:11 2025
From: jo@|@h@p@rry @end|ng |rom gm@||@com (Josiah Parry)
Date: Sat, 12 Apr 2025 08:03:11 -0700
Subject: [R-pkg-devel] extendr packages on CRAN
Message-ID: <CAL3ufULDRrB74hQwxmw9bWKy4aDk1o4mvfzf1DLcJzRmwVuBFA@mail.gmail.com>

Hey folks,

extendr v0.8.0 was released which provides backports from R 4.2 and onwards
to address the solidifying C api.

A number of packages are slated for archival on 2025-04-14. We believe
we've provided a PR to each package to get it back in good standing. If you
have not received a PR, please let Mossa (on the TO line) and myself know
and we will assist with a PR.

Release notes with migration guide at:
https://github.com/extendr/extendr/releases/tag/extendr-api-v0.8.0

Thanks,

Josiah Parry

	[[alternative HTML version deleted]]


