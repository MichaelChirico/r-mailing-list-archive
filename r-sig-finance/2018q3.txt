From @tephen @ending from org@nicfoodm@rket@@com@@u  Tue Jul 10 22:14:45 2018
From: @tephen @ending from org@nicfoodm@rket@@com@@u (Stephen Choularton)
Date: Wed, 11 Jul 2018 06:14:45 +1000
Subject: [R-SIG-Finance] Error in `[.xts`(one, trim:length(two),
 ) : subscript out of bounds
Message-ID: <ea2dbb98-8328-30a6-8d91-eb3917c7cb40@organicfoodmarkets.com.au>

Hi

I am getting this error even though I'm pretty sure I am not out of bounds:

Error in `[.xts`(one, trim:length(two), ) : subscript out of bounds
In addition: Warning message:
In trim:length(two) :
 ? numerical expression has 305 elements: only the first used

I have tried all sorts of things but clearly I am not figuring out what 
is going wrong.

I am developing code to recover prices from IB and test for cointegration.

There are two files attached:

* checkPairFromIB

* metals.csv

It all worked fine until I discovered gold and silver returned data of 
different lengths:? Gold had 320 days of data and silver 305.? The calls 
for data at lines 25 and 26 are identical so I don't know why.? Can 
anyone shed light on this?

I then tried to trim the longer table by disposing of the earlier 15 
lines (see lines 44 to 55 of the code).? This is where the error 
messages came up.? Can anyone point out what I am doing wrong?

Thanks.

Stephen

-- 
----------------------------------------------------------------------------------------------------------------------------------- 

Stephen Choularton PhD, FIoD
0413 545 182


-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: checkPairFromIB.R
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180711/1116296b/attachment.ksh>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: metals.csv
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180711/1116296b/attachment-0001.ksh>

From emm@nuel@@enyo @ending from gm@il@com  Wed Jul 11 13:15:28 2018
From: emm@nuel@@enyo @ending from gm@il@com (Fianu, Emmanuel Senyo)
Date: Wed, 11 Jul 2018 13:15:28 +0200
Subject: [R-SIG-Finance] Mean Variance Portfolio Optimization based on a DGP
Message-ID: <CAHpDiwRJY1M=bfnywbe+qDTQ8ZMJX2SGEQOm51jULntbTtesQw@mail.gmail.com>

Dear All,

I am trying to employ the MVP method to determine optimal weights for a
data, which is fine for me to do.
However, I intend to use a different Data generating process (DGP) such as
Vector Autoregressive  Process (VAR), and then compute the optimal weights.
Theoretically, it looks okay but empirically, have someone carried out this
before? If yes: how did you go about it?

 I would be grateful for your constructive and helpful comments.

Many thanks,
Emmanuel Fianu

	[[alternative HTML version deleted]]


From jo@h@m@ulrich @ending from gm@il@com  Wed Jul 11 14:33:18 2018
From: jo@h@m@ulrich @ending from gm@il@com (Joshua Ulrich)
Date: Wed, 11 Jul 2018 07:33:18 -0500
Subject: [R-SIG-Finance] Error in `[.xts`(one, trim:length(two),
 ) : subscript out of bounds
In-Reply-To: <ea2dbb98-8328-30a6-8d91-eb3917c7cb40@organicfoodmarkets.com.au>
References: <ea2dbb98-8328-30a6-8d91-eb3917c7cb40@organicfoodmarkets.com.au>
Message-ID: <CAPPM_gQxLonXGbybC5By3qkmERgZ=sazxMCmgQ2kv3Xi-vT=UA@mail.gmail.com>

On Tue, Jul 10, 2018 at 3:14 PM, Stephen Choularton
<stephen at organicfoodmarkets.com.au> wrote:
> Hi
>
> I am getting this error even though I'm pretty sure I am not out of bounds:
>
> Error in `[.xts`(one, trim:length(two), ) : subscript out of bounds
> In addition: Warning message:
> In trim:length(two) :
>   numerical expression has 305 elements: only the first used
>
> I have tried all sorts of things but clearly I am not figuring out what is
> going wrong.
>
> I am developing code to recover prices from IB and test for cointegration.
>
> There are two files attached:
>
> * checkPairFromIB
>
> * metals.csv
>
> It all worked fine until I discovered gold and silver returned data of
> different lengths:  Gold had 320 days of data and silver 305.  The calls for
> data at lines 25 and 26 are identical so I don't know why.  Can anyone shed
> light on this?
>
I see a few problems in your code.  Note that I cannot replicate your
error, but I assume 'one' and 'two' are xts objects with OHLCV data.

The calls to length() will return the total number of _elements_ in
the xts objects, not the number of rows (or observations).  You likely
want the latter.

You define 'trim' as 'one - two'.  That is, you've subtracted two xts
objects.  Therefore, 'trim' contains the price differences of 'one'
minus 'two'.  Your code seems to treat 'trim' as the difference in the
number of observations between 'one' and 'two'.

The calls to `[.xts` treat the first argument as the locations of the
rows you want returned.  You can probably see why this is an error.
Creating a sequence that starts at "an xts object of price differences
between two securities" and ends at "the number of elements in an xts
object" does not make sense.

Since you only need close prices for the call to 'ca.jo()', I suggest
you do an inner join of the close prices of the two xts objects.

closePrices <- merge(one$Close, two$Close, join = "inner")
jotest <- ca.jo(closePrices, ...)

> I then tried to trim the longer table by disposing of the earlier 15 lines
> (see lines 44 to 55 of the code).  This is where the error messages came up.
> Can anyone point out what I am doing wrong?
>
> Thanks.
>
> Stephen
>
> --
> -----------------------------------------------------------------------------------------------------------------------------------
> Stephen Choularton PhD, FIoD
> 0413 545 182
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From vivekr@o4 @ending from y@hoo@com  Wed Jul 11 17:39:26 2018
From: vivekr@o4 @ending from y@hoo@com (Vivek Rao)
Date: Wed, 11 Jul 2018 15:39:26 +0000 (UTC)
Subject: [R-SIG-Finance] 
 Mean Variance Portfolio Optimization based on a DGP
In-Reply-To: <CAHpDiwRJY1M=bfnywbe+qDTQ8ZMJX2SGEQOm51jULntbTtesQw@mail.gmail.com>
References: <CAHpDiwRJY1M=bfnywbe+qDTQ8ZMJX2SGEQOm51jULntbTtesQw@mail.gmail.com>
Message-ID: <617171683.2724686.1531323566578@mail.yahoo.com>

With a VAR your expected returns are changing at each time period. You could do a historicalsimulation where the the MVP portfolio is computed at each time step based on the expected1-period returns and the covariances. There is more evidence that covariances are predictablethan expected returns, so ideally you will have a model for time-varying covariances, maybe?something as simple as an EWMA.
Transaction costs may negate the benefits of updating the portfolio often. One simple way toreduce transaction costs is to trade X% (say 10%) of the way toward the target each day.
In general, this is a dynamic programming problem. With an estimated VAR, you can predictnot just 1-period but N-period returns through iteration, and people have thought about?how to optimize allocations when you have return forecasts over various time horizons. (Are thereR packages for this?)
Regards,Vivek Rao, CFABoston, MA
      From: "Fianu, Emmanuel Senyo" <emmanuel.senyo at gmail.com>
 To: r-sig-finance at r-project.org 
 Sent: Wednesday, July 11, 2018 7:16 AM
 Subject: [R-SIG-Finance] Mean Variance Portfolio Optimization based on a DGP
   
Dear All,

I am trying to employ the MVP method to determine optimal weights for a
data, which is fine for me to do.
However, I intend to use a different Data generating process (DGP) such as
Vector Autoregressive? Process (VAR), and then compute the optimal weights.
Theoretically, it looks okay but empirically, have someone carried out this
before? If yes: how did you go about it?

 I would be grateful for your constructive and helpful comments.

Many thanks,
Emmanuel Fianu

??? [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


   
	[[alternative HTML version deleted]]


From mickeyzkp @ending from gm@il@com  Thu Jul 19 18:32:20 2018
From: mickeyzkp @ending from gm@il@com (Mickey Petersen)
Date: Thu, 19 Jul 2018 18:32:20 +0200
Subject: [R-SIG-Finance] rugarch: Initializing an AR1 model fit
Message-ID: <CAAvDworgeea+FqzgsLpyKqTmSbQ+4moXO6UGpLOb_H-43Hbeyw@mail.gmail.com>

Hi all,

I'm using the rugarch package in R to fit (among others) an AR1 process, in
turn leading to some risk numbers. Doing the same fit in Matlab, I get
slightly different numbers.

The reason is that the estimated AR1-parameters differ and I've narrowed it
down to differences in the starting conditions for each process.
In other words, in the Matlab script, I specify that the first observation
should be interpreted as a presample response (Y0) and that the AR1 process
should then be fitted to the rest of the time series (1018 observations).
Apparently, leaving out this specification would lead to Matlab
'back-forecasting' Y0 and I presume rugarch does something similar. But the
risk numbers still disagree slightly.

My question is thus two-fold:
- How can I specify the single presample response (Y0) to use in fitting an
AR1 process using arfimafit from rugarch?
- Supplying the whole time series (all 1019 observations), what procedure
does arfimafit then apply as default to estimate the presample response?
Mean? First observation?

Kind regards,
Mickey Petersen

	[[alternative HTML version deleted]]


From ericjberger @ending from gm@il@com  Thu Jul 19 18:46:08 2018
From: ericjberger @ending from gm@il@com (Eric Berger)
Date: Thu, 19 Jul 2018 19:46:08 +0300
Subject: [R-SIG-Finance] rugarch: Initializing an AR1 model fit
In-Reply-To: <CAAvDworgeea+FqzgsLpyKqTmSbQ+4moXO6UGpLOb_H-43Hbeyw@mail.gmail.com>
References: <CAAvDworgeea+FqzgsLpyKqTmSbQ+4moXO6UGpLOb_H-43Hbeyw@mail.gmail.com>
Message-ID: <CAGgJW77UW9N3NNhQYCb1xvb7mVi9OOWWd0X+_dYn-1QqPtwHxw@mail.gmail.com>

Hi Mickey,
I don't have a full answer but I have a pointer.
In the rugarch documentation there is an argument n.start ("The burn-in
sample") which could be relevant.
Check out
?arfimadistribution-methods

Best,
Eric


On Thu, Jul 19, 2018 at 7:32 PM, Mickey Petersen <mickeyzkp at gmail.com>
wrote:

> Hi all,
>
> I'm using the rugarch package in R to fit (among others) an AR1 process, in
> turn leading to some risk numbers. Doing the same fit in Matlab, I get
> slightly different numbers.
>
> The reason is that the estimated AR1-parameters differ and I've narrowed it
> down to differences in the starting conditions for each process.
> In other words, in the Matlab script, I specify that the first observation
> should be interpreted as a presample response (Y0) and that the AR1 process
> should then be fitted to the rest of the time series (1018 observations).
> Apparently, leaving out this specification would lead to Matlab
> 'back-forecasting' Y0 and I presume rugarch does something similar. But the
> risk numbers still disagree slightly.
>
> My question is thus two-fold:
> - How can I specify the single presample response (Y0) to use in fitting an
> AR1 process using arfimafit from rugarch?
> - Supplying the whole time series (all 1019 observations), what procedure
> does arfimafit then apply as default to estimate the presample response?
> Mean? First observation?
>
> Kind regards,
> Mickey Petersen
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From @lexio@ @ending from 4d@c@pe@com  Thu Jul 19 19:20:57 2018
From: @lexio@ @ending from 4d@c@pe@com (alexios ghalanos)
Date: Thu, 19 Jul 2018 17:20:57 +0000 (UTC)
Subject: [R-SIG-Finance] rugarch: Initializing an AR1 model fit
In-Reply-To: <CAAvDworgeea+FqzgsLpyKqTmSbQ+4moXO6UGpLOb_H-43Hbeyw@mail.gmail.com>
Message-ID: <E1fgCbp-0000hy-Ku@rmmprod06.runbox>

Best illustrated with an example:

library(rugarch)
data(sp500ret)
spec=arfimaspec(mean.model=list(armaOrder=c(2,2)))
fit = arfimafit(spec, sp500ret)
head(fitted(fit))

1987-03-10  1.913217e-04
1987-03-11  1.913217e-04
1987-03-12 -4.294109e-04

t(t(coef(fit)))

mu     0.0001913217
ar1   -0.0643659160
ar2    0.2625192564
ma1    0.0241934750
ma2   -0.3439672864
sigma  0.0118930801

Therefore, until we have enough data (T>Lag), we use the estimated mean (mu) to initialize the recursion. There are certainly other ways to do this such as building up incrementally from Lag1 to LagN, but not currently implemented.

I don't know how matlab estimates ARMA models, but the documentation provides the formulation used (https://cran.r-project.org/web/packages/rugarch/vignettes/Introduction_to_the_rugarch_package.pdf) in Section 2.1

Regards,

Alexios

On Thu, 19 Jul 2018 18:32:20 +0200, Mickey Petersen <mickeyzkp at gmail.com> wrote:

> Hi all,
> 
> I'm using the rugarch package in R to fit (among others) an AR1 process, in
> turn leading to some risk numbers. Doing the same fit in Matlab, I get
> slightly different numbers.
> 
> The reason is that the estimated AR1-parameters differ and I've narrowed it
> down to differences in the starting conditions for each process.
> In other words, in the Matlab script, I specify that the first observation
> should be interpreted as a presample response (Y0) and that the AR1 process
> should then be fitted to the rest of the time series (1018 observations).
> Apparently, leaving out this specification would lead to Matlab
> 'back-forecasting' Y0 and I presume rugarch does something similar. But the
> risk numbers still disagree slightly.
> 
> My question is thus two-fold:
> - How can I specify the single presample response (Y0) to use in fitting an
> AR1 process using arfimafit from rugarch?
> - Supplying the whole time series (all 1019 observations), what procedure
> does arfimafit then apply as default to estimate the presample response?
> Mean? First observation?
> 
> Kind regards,
> Mickey Petersen


From @tephen @ending from org@nicfoodm@rket@@com@@u  Sun Jul 22 21:38:54 2018
From: @tephen @ending from org@nicfoodm@rket@@com@@u (Stephen Choularton)
Date: Mon, 23 Jul 2018 05:38:54 +1000
Subject: [R-SIG-Finance] problem creating graphs
Message-ID: <4f1f9127-b28d-d3f9-7851-123a672f7c04@organicfoodmarkets.com.au>

Hi

I am having problems producing graphs with the attached code.? It gets 
the two symbols down from IB that I think are congregated and extracts 
various features and is intended to put the data on a graph so? I can 
eyeball it.

I normally run the code via File > Source R Code.

The code seems to work all the way down to line 104 where the code is:

plot.new()


plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, 
"\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")


abline(h=thirty_day_mean, col="blue", lwd = 3)
abline(h=thirty_day_upper, col="red", lwd = 2)
abline(h=thirty_day_lower, col="red", lwd = 2)


all I get when I run it is the three ablines.? However, I can copy and 
paste this part:

plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, 
"\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")

into the console and it produces a graph!? If I paste:

abline(h=thirty_day_mean, col="blue", lwd = 3)
abline(h=thirty_day_upper, col="red", lwd = 2)
abline(h=thirty_day_lower, col="red", lwd = 2)

in after nothing else appears on the graph.

I wonder if anyone can advise me how to get the script to produce the 
graph with all the information on it.

Thanks.

Stephen Choularton PhD, FIoD

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: explorePairFromIB.R
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180723/65dd2325/attachment.ksh>

From @tephen @ending from org@nicfoodm@rket@@com@@u  Sun Jul 22 21:39:10 2018
From: @tephen @ending from org@nicfoodm@rket@@com@@u (Stephen Choularton)
Date: Mon, 23 Jul 2018 05:39:10 +1000
Subject: [R-SIG-Finance] problem creating graphs
Message-ID: <3e2c83bb-7644-a549-8e1e-79c6783f4b67@organicfoodmarkets.com.au>

Hi

I am having problems producing graphs with the attached code.? It gets 
the two symbols down from IB that I think are congregated and extracts 
various features and is intended to put the data on a graph so? I can 
eyeball it.

I normally run the code via File > Source R Code.

The code seems to work all the way down to line 104 where the code is:

plot.new()


plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, 
"\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")


abline(h=thirty_day_mean, col="blue", lwd = 3)
abline(h=thirty_day_upper, col="red", lwd = 2)
abline(h=thirty_day_lower, col="red", lwd = 2)


all I get when I run it is the three ablines.? However, I can copy and 
paste this part:

plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, 
"\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")

into the console and it produces a graph!? If I paste:

abline(h=thirty_day_mean, col="blue", lwd = 3)
abline(h=thirty_day_upper, col="red", lwd = 2)
abline(h=thirty_day_lower, col="red", lwd = 2)

in after nothing else appears on the graph.

I wonder if anyone can advise me how to get the script to produce the 
graph with all the information on it.

Thanks.

Stephen Choularton PhD, FIoD

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: explorePairFromIB.R
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180723/d2412c0c/attachment.ksh>

From fr@nkm60606 @ending from gm@il@com  Sun Jul 22 22:56:24 2018
From: fr@nkm60606 @ending from gm@il@com (Frank)
Date: Sun, 22 Jul 2018 15:56:24 -0500
Subject: [R-SIG-Finance] problem creating graphs
In-Reply-To: <4f1f9127-b28d-d3f9-7851-123a672f7c04@organicfoodmarkets.com.au>
References: <4f1f9127-b28d-d3f9-7851-123a672f7c04@organicfoodmarkets.com.au>
Message-ID: <002401d421fe$7451e180$5cf5a480$@gmail.com>

I have

pdf("V0_SPY_Scatter_Plot.pdf")

before I do my labels and plotting.

Best,

Frank
Chicago

-----Original Message-----
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> On Behalf Of Stephen Choularton
Sent: Sunday, July 22, 2018 2:39 PM
To: r-sig-finance <r-sig-finance at r-project.org>
Subject: [R-SIG-Finance] problem creating graphs

Hi

I am having problems producing graphs with the attached code.  It gets the two symbols down from IB that I think are congregated and extracts various features and is intended to put the data on a graph so  I can eyeball it.

I normally run the code via File > Source R Code.

The code seems to work all the way down to line 104 where the code is:

plot.new()


plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, "\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")


abline(h=thirty_day_mean, col="blue", lwd = 3) abline(h=thirty_day_upper, col="red", lwd = 2) abline(h=thirty_day_lower, col="red", lwd = 2)


all I get when I run it is the three ablines.  However, I can copy and paste this part:

plot(spread, main=paste(sym1, " - ", sym2, "\n", "lookback ", lookback, "\n", "width ", width), type="l")

lines(average,col="blue")
lines(upper,col="red")
lines(lower,col="red")

into the console and it produces a graph!  If I paste:

abline(h=thirty_day_mean, col="blue", lwd = 3) abline(h=thirty_day_upper, col="red", lwd = 2) abline(h=thirty_day_lower, col="red", lwd = 2)

in after nothing else appears on the graph.

I wonder if anyone can advise me how to get the script to produce the graph with all the information on it.

Thanks.

Stephen Choularton PhD, FIoD


From mickeyzkp @ending from gm@il@com  Mon Jul 23 12:38:36 2018
From: mickeyzkp @ending from gm@il@com (Mickey Petersen)
Date: Mon, 23 Jul 2018 12:38:36 +0200
Subject: [R-SIG-Finance] rugarch: Initializing an AR1 model fit
In-Reply-To: <E1fgCbp-0000hy-Ku@rmmprod06.runbox>
References: <CAAvDworgeea+FqzgsLpyKqTmSbQ+4moXO6UGpLOb_H-43Hbeyw@mail.gmail.com>
 <E1fgCbp-0000hy-Ku@rmmprod06.runbox>
Message-ID: <CAAvDworVvbF-zZq7yFTRSWTgVBoWQLb-sq-GMVwKsNhaaB4GfA@mail.gmail.com>

Alright, thanks! Much appreciated

2018-07-19 19:20 GMT+02:00 alexios ghalanos <alexios at 4dscape.com>:

> Best illustrated with an example:
>
> library(rugarch)
> data(sp500ret)
> spec=arfimaspec(mean.model=list(armaOrder=c(2,2)))
> fit = arfimafit(spec, sp500ret)
> head(fitted(fit))
>
> 1987-03-10  1.913217e-04
> 1987-03-11  1.913217e-04
> 1987-03-12 -4.294109e-04
>
> t(t(coef(fit)))
>
> mu     0.0001913217
> ar1   -0.0643659160
> ar2    0.2625192564
> ma1    0.0241934750
> ma2   -0.3439672864
> sigma  0.0118930801
>
> Therefore, until we have enough data (T>Lag), we use the estimated mean
> (mu) to initialize the recursion. There are certainly other ways to do this
> such as building up incrementally from Lag1 to LagN, but not currently
> implemented.
>
> I don't know how matlab estimates ARMA models, but the documentation
> provides the formulation used (https://cran.r-project.org/
> web/packages/rugarch/vignettes/Introduction_to_the_rugarch_package.pdf)
> in Section 2.1
>
> Regards,
>
> Alexios
>
> On Thu, 19 Jul 2018 18:32:20 +0200, Mickey Petersen <mickeyzkp at gmail.com>
> wrote:
>
> > Hi all,
> >
> > I'm using the rugarch package in R to fit (among others) an AR1 process,
> in
> > turn leading to some risk numbers. Doing the same fit in Matlab, I get
> > slightly different numbers.
> >
> > The reason is that the estimated AR1-parameters differ and I've narrowed
> it
> > down to differences in the starting conditions for each process.
> > In other words, in the Matlab script, I specify that the first
> observation
> > should be interpreted as a presample response (Y0) and that the AR1
> process
> > should then be fitted to the rest of the time series (1018 observations).
> > Apparently, leaving out this specification would lead to Matlab
> > 'back-forecasting' Y0 and I presume rugarch does something similar. But
> the
> > risk numbers still disagree slightly.
> >
> > My question is thus two-fold:
> > - How can I specify the single presample response (Y0) to use in fitting
> an
> > AR1 process using arfimafit from rugarch?
> > - Supplying the whole time series (all 1019 observations), what procedure
> > does arfimafit then apply as default to estimate the presample response?
> > Mean? First observation?
> >
> > Kind regards,
> > Mickey Petersen
>
>
>

	[[alternative HTML version deleted]]


From vmp @ending from @t-@ndrew@@@c@uk  Wed Jul 25 10:32:53 2018
From: vmp @ending from @t-@ndrew@@@c@uk (Valentin Popov)
Date: Wed, 25 Jul 2018 08:32:53 +0000
Subject: [R-SIG-Finance] Fitting a generalised student t distribution
Message-ID: <DB5PR06MB12536F554ADEE303185BA6B7DF540@DB5PR06MB1253.eurprd06.prod.outlook.com>

Hi,

Is there a way to fit a symmetric generalised student t distribution to data without writing your own function? The sgt package offers the function sgt.mle but I didn't find an option of fixing lambda to be zero.

Additionally, is it possible to fit a GARCH model with a generalised t distribution for the innovations? The rugarch package doesn't seem to offer this option.

Thank you!

Valentin

	[[alternative HTML version deleted]]


From m@rciobern@rdo1 @ending from gm@il@com  Thu Jul 26 01:08:30 2018
From: m@rciobern@rdo1 @ending from gm@il@com (Marcio Bernardo)
Date: Wed, 25 Jul 2018 20:08:30 -0300
Subject: [R-SIG-Finance] modeling VARMA-Garch in R
Message-ID: <8705E251-8374-4BD8-A341-AF442E85AD1F@gmail.com>

Hi,

I was wondering if the current rmgarch version allows for a VARMA-GARCH modeling. 


I tried forcing the issue, changing the rmgarch example:


uspec.n = multispec(replicate(30, ugarchspec(mean.model = list(armaOrder = c(1,1)))))
spec.dccn = dccspec(uspec.n, dccOrder = c(1, 1), distribution = 'mvnorm')
fit.1 = dccfit(spec.dccn, data = X, solver = 'solnp', cluster = cl, fit.control = list(eval.se = FALSE))

but the results were a bit off:


> fit.1

*---------------------------------*
*          DCC GARCH Fit          *
*---------------------------------*

Distribution         :  mvnorm
Model                :  DCC(1,1)
No. Parameters       :  617
[VAR GARCH DCC UncQ] : [0+180+2+435]
No. Series           :  30
No. Obs.             :  1141
Log-Likelihood       :  70882.93
Av.Log-Likelihood    :  62.12 

Optimal Parameters
-----------------------------------
               Estimate  Std. Error  t value Pr(>|t|)
[AA].mu        0.002643          NA       NA       NA
[AA].ar1      -0.693738          NA       NA       NA
[AA].ma1       0.664589          NA       NA       NA
[AA].omega     0.000065          NA       NA       NA
[AA].alpha1    0.115044          NA       NA       NA
[AA].beta1     0.869706          NA       NA       NA
[AXP].mu       0.002737          NA       NA       NA
[AXP].ar1      0.072418          NA       NA       NA
[AXP].ma1     -0.150777          NA       NA       NA
[AXP].omega    0.000011          NA       NA       NA
[AXP].alpha1   0.064777          NA       NA       NA
[AXP].beta1    0.934223          NA       NA       NA
.
.
.
[Joint]dcca1   0.004960          NA       NA       NA
[Joint]dccb1   0.942361          NA       NA       NA

Information Criteria
---------------------
                    
Akaike       -123.17
Bayes        -120.44
Shibata      -123.51
Hannan-Quinn -122.14



This seems to be a ARMA-DCC fit, instead of VARMA-DCC and the NA is troubling me.




I understand the package support VAR-Garch. Is there any package currently available in R that have VARMA-Garch model (I don?t have access to RATS)?


Any help would be much appreciated,



M?rcio R. Bernardo

From @lexio@ @ending from 4d@c@pe@com  Thu Jul 26 03:16:01 2018
From: @lexio@ @ending from 4d@c@pe@com (Alexios Galanos)
Date: Wed, 25 Jul 2018 18:16:01 -0700
Subject: [R-SIG-Finance] modeling VARMA-Garch in R
In-Reply-To: <8705E251-8374-4BD8-A341-AF442E85AD1F@gmail.com>
References: <8705E251-8374-4BD8-A341-AF442E85AD1F@gmail.com>
Message-ID: <B03D7F67-FAA5-4C24-9DC7-6DB099D24462@4dscape.com>

1. rmgarch does not support varma, only VAR
2. The model you estimated is univariate ARMA(1,1)
3. The NAs are because you set fit.control = list(eval.se = FALSE)
i.e. you are telling the routine to not evaluate the standard errors.

Alexios


> On Jul 25, 2018, at 16:08, Marcio Bernardo <marciobernardo1 at gmail.com> wrote:
> 
> Hi,
> 
> I was wondering if the current rmgarch version allows for a VARMA-GARCH modeling. 
> 
> 
> I tried forcing the issue, changing the rmgarch example:
> 
> 
> uspec.n = multispec(replicate(30, ugarchspec(mean.model = list(armaOrder = c(1,1)))))
> spec.dccn = dccspec(uspec.n, dccOrder = c(1, 1), distribution = 'mvnorm')
> fit.1 = dccfit(spec.dccn, data = X, solver = 'solnp', cluster = cl, fit.control = list(eval.se = FALSE))
> 
> but the results were a bit off:
> 
> 
>> fit.1
> 
> *---------------------------------*
> *          DCC GARCH Fit          *
> *---------------------------------*
> 
> Distribution         :  mvnorm
> Model                :  DCC(1,1)
> No. Parameters       :  617
> [VAR GARCH DCC UncQ] : [0+180+2+435]
> No. Series           :  30
> No. Obs.             :  1141
> Log-Likelihood       :  70882.93
> Av.Log-Likelihood    :  62.12 
> 
> Optimal Parameters
> -----------------------------------
>               Estimate  Std. Error  t value Pr(>|t|)
> [AA].mu        0.002643          NA       NA       NA
> [AA].ar1      -0.693738          NA       NA       NA
> [AA].ma1       0.664589          NA       NA       NA
> [AA].omega     0.000065          NA       NA       NA
> [AA].alpha1    0.115044          NA       NA       NA
> [AA].beta1     0.869706          NA       NA       NA
> [AXP].mu       0.002737          NA       NA       NA
> [AXP].ar1      0.072418          NA       NA       NA
> [AXP].ma1     -0.150777          NA       NA       NA
> [AXP].omega    0.000011          NA       NA       NA
> [AXP].alpha1   0.064777          NA       NA       NA
> [AXP].beta1    0.934223          NA       NA       NA
> .
> .
> .
> [Joint]dcca1   0.004960          NA       NA       NA
> [Joint]dccb1   0.942361          NA       NA       NA
> 
> Information Criteria
> ---------------------
> 
> Akaike       -123.17
> Bayes        -120.44
> Shibata      -123.51
> Hannan-Quinn -122.14
> 
> 
> 
> This seems to be a ARMA-DCC fit, instead of VARMA-DCC and the NA is troubling me.
> 
> 
> 
> 
> I understand the package support VAR-Garch. Is there any package currently available in R that have VARMA-Garch model (I don?t have access to RATS)?
> 
> 
> Any help would be much appreciated,
> 
> 
> 
> M?rcio R. Bernardo
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 

	[[alternative HTML version deleted]]


From m@rciobern@rdo1 @ending from gm@il@com  Thu Jul 26 03:22:19 2018
From: m@rciobern@rdo1 @ending from gm@il@com (=?utf-8?Q?M=C3=A1rcio_Rodrigues_Bernardo?=)
Date: Wed, 25 Jul 2018 22:22:19 -0300
Subject: [R-SIG-Finance] modeling VARMA-Garch in R
In-Reply-To: <B03D7F67-FAA5-4C24-9DC7-6DB099D24462@4dscape.com>
References: <8705E251-8374-4BD8-A341-AF442E85AD1F@gmail.com>
 <B03D7F67-FAA5-4C24-9DC7-6DB099D24462@4dscape.com>
Message-ID: <110E7580-45FB-4610-BB48-112377153C9C@gmail.com>

Thanks for your reply. Alexios

 

I will re-read to your rmgarch documentation to understand how to model VAR-DCC

 

Best regards,



M?rcio Bernardo

> Em 25 de jul de 2018, ?(s) 22:16, Alexios Galanos <alexios at 4dscape.com> escreveu:
> 
> 1. rmgarch does not support varma, only VAR
> 2. The model you estimated is univariate ARMA(1,1)
> 3. The NAs are because you set fit.control = list(eval.se <http://eval.se/> = FALSE)
> i.e. you are telling the routine to not evaluate the standard errors.
> 
> Alexios
> 
> 
> On Jul 25, 2018, at 16:08, Marcio Bernardo <marciobernardo1 at gmail.com <mailto:marciobernardo1 at gmail.com>> wrote:
> 
>> Hi,
>> 
>> I was wondering if the current rmgarch version allows for a VARMA-GARCH modeling. 
>> 
>> 
>> I tried forcing the issue, changing the rmgarch example:
>> 
>> 
>> uspec.n = multispec(replicate(30, ugarchspec(mean.model = list(armaOrder = c(1,1)))))
>> spec.dccn = dccspec(uspec.n, dccOrder = c(1, 1), distribution = 'mvnorm')
>> fit.1 = dccfit(spec.dccn, data = X, solver = 'solnp', cluster = cl, fit.control = list(eval.se <http://eval.se/> = FALSE))
>> 
>> but the results were a bit off:
>> 
>> 
>>> fit.1
>> 
>> *---------------------------------*
>> *          DCC GARCH Fit          *
>> *---------------------------------*
>> 
>> Distribution         :  mvnorm
>> Model                :  DCC(1,1)
>> No. Parameters       :  617
>> [VAR GARCH DCC UncQ] : [0+180+2+435]
>> No. Series           :  30
>> No. Obs.             :  1141
>> Log-Likelihood       :  70882.93
>> Av.Log-Likelihood    :  62.12 
>> 
>> Optimal Parameters
>> -----------------------------------
>>               Estimate  Std. Error  t value Pr(>|t|)
>> [AA].mu        0.002643          NA       NA       NA
>> [AA].ar1      -0.693738          NA       NA       NA
>> [AA].ma1       0.664589          NA       NA       NA
>> [AA].omega     0.000065          NA       NA       NA
>> [AA].alpha1    0.115044          NA       NA       NA
>> [AA].beta1     0.869706          NA       NA       NA
>> [AXP].mu       0.002737          NA       NA       NA
>> [AXP].ar1      0.072418          NA       NA       NA
>> [AXP].ma1     -0.150777          NA       NA       NA
>> [AXP].omega    0.000011          NA       NA       NA
>> [AXP].alpha1   0.064777          NA       NA       NA
>> [AXP].beta1    0.934223          NA       NA       NA
>> .
>> .
>> .
>> [Joint]dcca1   0.004960          NA       NA       NA
>> [Joint]dccb1   0.942361          NA       NA       NA
>> 
>> Information Criteria
>> ---------------------
>> 
>> Akaike       -123.17
>> Bayes        -120.44
>> Shibata      -123.51
>> Hannan-Quinn -122.14
>> 
>> 
>> 
>> This seems to be a ARMA-DCC fit, instead of VARMA-DCC and the NA is troubling me.
>> 
>> 
>> 
>> 
>> I understand the package support VAR-Garch. Is there any package currently available in R that have VARMA-Garch model (I don?t have access to RATS)?
>> 
>> 
>> Any help would be much appreciated,
>> 
>> 
>> 
>> M?rcio R. Bernardo
>> _______________________________________________
>> R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org> mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance <https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>> 


	[[alternative HTML version deleted]]


From j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com  Tue Jul 31 21:21:03 2018
From: j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com (James Hirschorn)
Date: Tue, 31 Jul 2018 15:21:03 -0400
Subject: [R-SIG-Finance] Quantstrat - extracting current symbol
Message-ID: <CADu2AOUbT-TvwJAMUpOEuyqWHX0ivHNtM7qou7iF0OQaKWbkow@mail.gmail.com>

This issue has already been discussed in the thread
https://stat.ethz.ch/pipermail/r-sig-finance/2017q2/014301.html, but leaves
the question of how to access the symbol from the add.indicator indicator
function (i.e. the name argument) unanswered.

I found a working solution here:
https://stackoverflow.com/a/47245472/1349673. But symbol <- parent.frame(n =
2)$symbol is obviously a kludge. I couldn't figure out how to extract the
current symbol using the ... argument either. A simple solution would be to
add a symbol argument to applyIndicators and then have applyStrategy pass
in symbol when it calls applyIndicators.

I wanted to check here if I am missing something before submitting a
feature request/bug report to github?

James Hirschorn, Ph.D.
*Quantitative Technologies*
Toronto, Canada
+1-647-929-0494

	[[alternative HTML version deleted]]


From P@ulo_Ve@ti@ @ending from hotm@il@com  Thu Aug 16 13:27:23 2018
From: P@ulo_Ve@ti@ @ending from hotm@il@com (=?iso-8859-1?Q?Paulo_V=E9stia?=)
Date: Thu, 16 Aug 2018 11:27:23 +0000
Subject: [R-SIG-Finance] Should VAR(1) and VAR(1)-GARCH(1,
 1) give equal point forecasts out of sample?
Message-ID: <MR2P264MB035421CE1EB31CEE69ACD404EB3E0@MR2P264MB0354.FRAP264.PROD.OUTLOOK.COM>

I have a VAR(1) with heteroscedastic errors, so I used the rmgarch package
for R to estimate a VAR(1)-GARCH(1,1). After that I performed an out-sample
forecast for the mean equation with both models. They give me the exact same
result with GARCH or without. Is that suppose to happen?

I will provide the code that I'm using:


    ## VAR(1) ##

library("vars")

Data <- betas[-c(163,164), ]

 var1 <- VAR(Data, p = 1, type = "const",
    season = NULL, exogen = NULL, lag.max = NULL,
    ic = c("AIC", "HQ", "SC", "FPE"))


 var.predict <- predict(var1, n.ahead = 2, ci = 0.95)

 ## VAR(1)-GARCH(1,1) ##

 library(rmgarch)

 uspec = ugarchspec(mean.model = list(armaOrder = c(0,0), include.mean =
                                        FALSE),
                    variance.model = list(garchOrder = c(1,1), model =
"sGARCH"),
                    distribution.model = "norm")

 spec = dccspec(uspec = multispec( replicate(3, uspec) ), VAR = TRUE,
                lag = 1, dccOrder = c(1,1),  model = "DCC", distribution =
"mvnorm")

 fit = dccfit(spec, data = Data)

 forecast = dccforecast(fit, n.ahead = 2, n.roll = 0)



And also the results:



> forecast at mforecast$mu
, , 1

         [,1]      [,2]      [,3]
[1,] 1.339556 -1.828901 -3.290908
[2,] 1.331527 -1.814802 -3.290787

> var.predict
$beta_1
         fcst     lower    upper        CI
[1,] 1.339556 0.8548577 1.824255 0.4846984
[2,] 1.331527 0.6600307 2.003022 0.6714958

$beta_2
          fcst     lower     upper        CI
[1,] -1.828901 -2.390441 -1.267361 0.5615401
[2,] -1.814802 -2.597114 -1.032490 0.7823119

$beta_3
          fcst     lower     upper       CI
[1,] -3.290908 -4.471721 -2.110096 1.180812
[2,] -3.290787 -4.871586 -1.709988 1.580799


Thanks you very much.

	[[alternative HTML version deleted]]


From j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com  Sun Aug 19 23:16:04 2018
From: j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com (James Hirschorn)
Date: Sun, 19 Aug 2018 17:16:04 -0400
Subject: [R-SIG-Finance] Quantstrat - running applyStrategy in a loop
Message-ID: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>

I plan to try it out myself, but I wanted to check here if running
applyStrategy in a loop, while looping over different dates, will work? I
could not find any examples of this.

There are 2 reasons for wanting to do this: First of all, one could have a
couple of years of tick data, which is too big to fit in memory for each
symbol. Of course, I am assuming that the orders placed by the strategy are
sparse enough so that the order_book generated by applyStrategy can still
fit in memory.

The second reason is that if this loop could moreover be run in parallel,
then there could potentially be a 500x speed up for two years of data.

	[[alternative HTML version deleted]]


From ily@@kipni@ @ending from gm@il@com  Mon Aug 20 00:08:54 2018
From: ily@@kipni@ @ending from gm@il@com (Ilya Kipnis)
Date: Sun, 19 Aug 2018 18:08:54 -0400
Subject: [R-SIG-Finance] Quantstrat - running applyStrategy in a loop
In-Reply-To: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>
References: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>
Message-ID: <CA+oJuEFnyTvv7WRL+VPZ3sKhqwdhQ-Kf1yUPEYWSR6rykNB1eA@mail.gmail.com>

So I'll let others correct me if I'm wrong, but the way I see it is so long
as you can encapsulate your script in a function, you can wrap it inside a
foreach loop, and return the results of each iteration, or just output
various files as part of the instructions of said function.

On Sun, Aug 19, 2018 at 5:16 PM, James Hirschorn <
james.hirschorn at quantitative-technologies.com> wrote:

> I plan to try it out myself, but I wanted to check here if running
> applyStrategy in a loop, while looping over different dates, will work? I
> could not find any examples of this.
>
> There are 2 reasons for wanting to do this: First of all, one could have a
> couple of years of tick data, which is too big to fit in memory for each
> symbol. Of course, I am assuming that the orders placed by the strategy are
> sparse enough so that the order_book generated by applyStrategy can still
> fit in memory.
>
> The second reason is that if this loop could moreover be run in parallel,
> then there could potentially be a 500x speed up for two years of data.
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 02:46:26 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Sun, 19 Aug 2018 19:46:26 -0500
Subject: [R-SIG-Finance] =?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
Message-ID: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>

Recently I have discovered a problem with a package called rugarch that
creates arma-garch models. The issue is that if you literally change the
positions of the x variables (external regressors) then you get two
completely different results.

In other words:

   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
   - rugarch's output is essentially saying that model1 != model2
   - When the correct result should be model1 == model2

I may not know a lot of statistics but I know for a fact that if you move
the x variables around, the output should still be the same.

Am I wrong on this?

Here's my stack exchange post that shows a generic R script proving my
point: Should the positioning of the external regressors change the output
of arma-garch? (Possible rugarch bug/error)
<https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc>

Any feedback is welcomed.

Thanks

	[[alternative HTML version deleted]]


From @lexio@ @ending from 4d@c@pe@com  Mon Aug 20 05:06:07 2018
From: @lexio@ @ending from 4d@c@pe@com (alexios galanos)
Date: Sun, 19 Aug 2018 20:06:07 -0700
Subject: [R-SIG-Finance] 
 =?utf-8?q?rugarch_gives_two_different_results_ba?=
 =?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible=3F?=
In-Reply-To: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
Message-ID: <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>

I run the code you provided and obtain the following results related to the external parameters:


Case 1 (x1,x2)
# x2 is second

            Estimate   Std. Error       t value  Pr(>|t|)
mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000

Case 2 (x2,x1)
# i.e. x2 is now first

mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00

Small differences in the coefficients are the result of the optimizer. There may be an issues in the
way starting parameters are being generated based on some recent input from Josh Ulrich (still to investigate) 
and related to arima0 (used to generate start parameters), but otherwise don?t see a large problem at first glance.

Alexios

> On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu> wrote:
> 
> Recently I have discovered a problem with a package called rugarch that
> creates arma-garch models. The issue is that if you literally change the
> positions of the x variables (external regressors) then you get two
> completely different results.
> 
> In other words:
> 
>   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>   - rugarch's output is essentially saying that model1 != model2
>   - When the correct result should be model1 == model2
> 
> I may not know a lot of statistics but I know for a fact that if you move
> the x variables around, the output should still be the same.
> 
> Am I wrong on this?
> 
> Here's my stack exchange post that shows a generic R script proving my
> point: Should the positioning of the external regressors change the output
> of arma-garch? (Possible rugarch bug/error)
> <https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc>
> 
> Any feedback is welcomed.
> 
> Thanks
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 05:57:33 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Sun, 19 Aug 2018 22:57:33 -0500
Subject: [R-SIG-Finance] =?utf-8?q?Fwd=3A__rugarch_gives_two_different_re?=
	=?utf-8?q?sults_based_on_the_same_model=E2=80=A6how_is_that_even_p?=
	=?utf-8?q?ossible=3F?=
In-Reply-To: <CAKGtyOkWhpR36m5b2_U8KV4EpeHHuyWFRE1t_gpFKBE8Sabf=w@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOkWhpR36m5b2_U8KV4EpeHHuyWFRE1t_gpFKBE8Sabf=w@mail.gmail.com>
Message-ID: <CAKGtyOkCZEWamV4OF0cHoMRyE8Db3XmM4n9WXi6p=tZpYToE_w@mail.gmail.com>

Galib Khan
Rutgers Business School '18
Business Analytics and Information Technology
(609) 412-3654

---------- Forwarded message ----------
From: GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
Date: Sun, Aug 19, 2018 at 10:56 PM
Subject: Re: [R-SIG-Finance] rugarch gives two different results based on
the same model?how is that even possible?
To: alexios galanos <alexios at 4dscape.com>


Alexios,

Did you set the set the seed to 1, because I'm looking at your results and
the numbers do not match with the numbers that I have provided.

I understand why the coefficients' estimates are similar but it doesn't
explain why other columns such as the t-value and pr are off by a large
margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
large differences.

Take mu as an example:
-7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a large
difference to the point where it's safe to say that these two values are
not similar?

Another example is the t-values for x1 and x2:
x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
x2 = 8.508606e+01   -  5.287634e+02 = -443.6773

An more alarming case that unfortunately I cannot share due to the data
being sensitive is that when the x variables' positions are switched, the
p-values are not the same. The p-value for a particular external regressor
went from 0 to 0.4385.

I will attempt to re-create a separate generic dataset that is similar to
the sensitive data that I am using.


On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
wrote:

> I run the code you provided and obtain the following results related to
> the external parameters:
>
>
> Case 1 (x1,x2)
> # x2 is second
>
>             Estimate   Std. Error       t value  Pr(>|t|)
> mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>
> Case 2 (x2,x1)
> # i.e. x2 is now first
>
> mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>
> Small differences in the coefficients are the result of the optimizer.
> There may be an issues in the
> way starting parameters are being generated based on some recent input
> from Josh Ulrich (still to investigate)
> and related to arima0 (used to generate start parameters), but otherwise
> don?t see a large problem at first glance.
>
> Alexios
>
> > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> >
> > Recently I have discovered a problem with a package called rugarch that
> > creates arma-garch models. The issue is that if you literally change the
> > positions of the x variables (external regressors) then you get two
> > completely different results.
> >
> > In other words:
> >
> >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> >   - rugarch's output is essentially saying that model1 != model2
> >   - When the correct result should be model1 == model2
> >
> > I may not know a lot of statistics but I know for a fact that if you move
> > the x variables around, the output should still be the same.
> >
> > Am I wrong on this?
> >
> > Here's my stack exchange post that shows a generic R script proving my
> > point: Should the positioning of the external regressors change the
> output
> > of arma-garch? (Possible rugarch bug/error)
> > <https://stackoverflow.com/questions/51900177/should-the-pos
> itioning-of-the-external-regressors-change-the-output-of-arma-garc>
> >
> > Any feedback is welcomed.
> >
> > Thanks
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
> >
>
>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 06:02:47 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Sun, 19 Aug 2018 23:02:47 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
Message-ID: <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>

 Sorry for sending this again, I didn't include r-sig-finance in the email
address. I'm still adjusting in how to respond.

Alexios,

Did you set the set the seed to 1, because I'm looking at your results and
the numbers do not match with the numbers that I have provided.

I understand why the coefficients' estimates are similar but it doesn't
explain why other columns such as the t-value and pr are off by a large
margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
large differences.

Take mu as an example:
-7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a large
difference to the point where it's safe to say that these two values are
not similar?

Another example is the t-values for x1 and x2:
x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
x2 = 8.508606e+01   -  5.287634e+02 = -443.6773

An more alarming case that unfortunately I cannot share due to the data
being sensitive is that when the x variables' positions are switched, the
p-values are not the same. The p-value for a particular external regressor
went from 0 to 0.4385.

I will attempt to re-create a separate generic dataset that is similar to
the sensitive data that I am using.


Galib Khan


On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
wrote:

> I run the code you provided and obtain the following results related to
> the external parameters:
>
>
> Case 1 (x1,x2)
> # x2 is second
>
>             Estimate   Std. Error       t value  Pr(>|t|)
> mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>
> Case 2 (x2,x1)
> # i.e. x2 is now first
>
> mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>
> Small differences in the coefficients are the result of the optimizer.
> There may be an issues in the
> way starting parameters are being generated based on some recent input
> from Josh Ulrich (still to investigate)
> and related to arima0 (used to generate start parameters), but otherwise
> don?t see a large problem at first glance.
>
> Alexios
>
> > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> >
> > Recently I have discovered a problem with a package called rugarch that
> > creates arma-garch models. The issue is that if you literally change the
> > positions of the x variables (external regressors) then you get two
> > completely different results.
> >
> > In other words:
> >
> >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> >   - rugarch's output is essentially saying that model1 != model2
> >   - When the correct result should be model1 == model2
> >
> > I may not know a lot of statistics but I know for a fact that if you move
> > the x variables around, the output should still be the same.
> >
> > Am I wrong on this?
> >
> > Here's my stack exchange post that shows a generic R script proving my
> > point: Should the positioning of the external regressors change the
> output
> > of arma-garch? (Possible rugarch bug/error)
> > <https://stackoverflow.com/questions/51900177/should-the-
> positioning-of-the-external-regressors-change-the-output-of-arma-garc>
> >
> > Any feedback is welcomed.
> >
> > Thanks
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
> >
>
>

	[[alternative HTML version deleted]]


From @lexio@ @ending from 4d@c@pe@com  Mon Aug 20 06:19:24 2018
From: @lexio@ @ending from 4d@c@pe@com (alexios galanos)
Date: Sun, 19 Aug 2018 21:19:24 -0700
Subject: [R-SIG-Finance] 
 =?utf-8?q?rugarch_gives_two_different_results_ba?=
 =?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible=3F?=
In-Reply-To: <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
Message-ID: <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>

I did use the seed you provided.

Use the following code for estimation:

fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb", fit.control=list(scale=1))

model_maker(var1)
         Estimate  Std. Error     t value     Pr(>|t|)
mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
ar1     0.3387323  0.08280162   4.0908900 0.0000429721
ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
ma2     0.8660807  0.06778418  12.7770320 0.0000000000
mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
omega  12.0047145  0.82986864  14.4658010 0.0000000000
alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
shape  63.0103309 98.49188643   0.6397515 0.5223341761

model_maker(var2)
         Estimate  Std. Error     t value     Pr(>|t|)
mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
omega  12.0047142  0.82992363  14.4648419 0.000000e+00
alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
shape  63.0105962 98.49368444   0.6397425 5.223400e-01


I can?t see any ?significant? differences, can you?
It?s completely related to the optimization/starting parameters. The ?scale? is documented and not on by default (perhaps it should be).

Alexios


> On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu> wrote:
> 
> Sorry for sending this again, I didn't include r-sig-finance in the email address. I'm still adjusting in how to respond.
>  
> Alexios,
> 
> Did you set the set the seed to 1, because I'm looking at your results and the numbers do not match with the numbers that I have provided. 
> 
> I understand why the coefficients' estimates are similar but it doesn't explain why other columns such as the t-value and pr are off by a large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have large differences. 
> 
> Take mu as an example:
> -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a large difference to the point where it's safe to say that these two values are not similar?
> 
> Another example is the t-values for x1 and x2: 
> x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
> x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
> 
> An more alarming case that unfortunately I cannot share due to the data being sensitive is that when the x variables' positions are switched, the p-values are not the same. The p-value for a particular external regressor went from 0 to 0.4385.
> 
> I will attempt to re-create a separate generic dataset that is similar to the sensitive data that I am using. 
> 
> 
> Galib Khan
> 
> 
> On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com> wrote:
> I run the code you provided and obtain the following results related to the external parameters:
> 
> 
> Case 1 (x1,x2)
> # x2 is second
> 
>             Estimate   Std. Error       t value  Pr(>|t|)
> mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
> 
> Case 2 (x2,x1)
> # i.e. x2 is now first
> 
> mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
> 
> Small differences in the coefficients are the result of the optimizer. There may be an issues in the
> way starting parameters are being generated based on some recent input from Josh Ulrich (still to investigate) 
> and related to arima0 (used to generate start parameters), but otherwise don?t see a large problem at first glance.
> 
> Alexios
> 
> > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu> wrote:
> > 
> > Recently I have discovered a problem with a package called rugarch that
> > creates arma-garch models. The issue is that if you literally change the
> > positions of the x variables (external regressors) then you get two
> > completely different results.
> > 
> > In other words:
> > 
> >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> >   - rugarch's output is essentially saying that model1 != model2
> >   - When the correct result should be model1 == model2
> > 
> > I may not know a lot of statistics but I know for a fact that if you move
> > the x variables around, the output should still be the same.
> > 
> > Am I wrong on this?
> > 
> > Here's my stack exchange post that shows a generic R script proving my
> > point: Should the positioning of the external regressors change the output
> > of arma-garch? (Possible rugarch bug/error)
> > <https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc>
> > 
> > Any feedback is welcomed.
> > 
> > Thanks
> > 
> >       [[alternative HTML version deleted]]
> > 
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions should go.
> > 
> 
> 


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 06:41:26 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Sun, 19 Aug 2018 23:41:26 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
 <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
Message-ID: <CAKGtyO=sQ2qpiQLrC8Ne0v1DbbZqi6Nc3rFfhxO+ecB_RRyySw@mail.gmail.com>

Alexios,


Veryyyy interesting!!!!! No I cannot see any differences at all lol.

I updated the code and indeed you are correct sir. Thank you for your time
in investigating this.

I will update my stack exchange post to reflect your answer in the morning.

Again thank you for all your help!!!!

Best,
Galib Khan


On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
wrote:

> I did use the seed you provided.
>
> Use the following code for estimation:
>
> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb",
> fit.control=list(scale=1))
>
> model_maker(var1)
>          Estimate  Std. Error     t value     Pr(>|t|)
> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
> omega  12.0047145  0.82986864  14.4658010 0.0000000000
> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>
> model_maker(var2)
>          Estimate  Std. Error     t value     Pr(>|t|)
> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>
>
> I can?t see any ?significant? differences, can you?
> It?s completely related to the optimization/starting parameters. The
> ?scale? is documented and not on by default (perhaps it should be).
>
> Alexios
>
>
> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> >
> > Sorry for sending this again, I didn't include r-sig-finance in the
> email address. I'm still adjusting in how to respond.
> >
> > Alexios,
> >
> > Did you set the set the seed to 1, because I'm looking at your results
> and the numbers do not match with the numbers that I have provided.
> >
> > I understand why the coefficients' estimates are similar but it doesn't
> explain why other columns such as the t-value and pr are off by a large
> margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
> large differences.
> >
> > Take mu as an example:
> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
> large difference to the point where it's safe to say that these two values
> are not similar?
> >
> > Another example is the t-values for x1 and x2:
> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
> >
> > An more alarming case that unfortunately I cannot share due to the data
> being sensitive is that when the x variables' positions are switched, the
> p-values are not the same. The p-value for a particular external regressor
> went from 0 to 0.4385.
> >
> > I will attempt to re-create a separate generic dataset that is similar
> to the sensitive data that I am using.
> >
> >
> > Galib Khan
> >
> >
> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
> wrote:
> > I run the code you provided and obtain the following results related to
> the external parameters:
> >
> >
> > Case 1 (x1,x2)
> > # x2 is second
> >
> >             Estimate   Std. Error       t value  Pr(>|t|)
> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
> >
> > Case 2 (x2,x1)
> > # i.e. x2 is now first
> >
> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
> >
> > Small differences in the coefficients are the result of the optimizer.
> There may be an issues in the
> > way starting parameters are being generated based on some recent input
> from Josh Ulrich (still to investigate)
> > and related to arima0 (used to generate start parameters), but otherwise
> don?t see a large problem at first glance.
> >
> > Alexios
> >
> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> > >
> > > Recently I have discovered a problem with a package called rugarch that
> > > creates arma-garch models. The issue is that if you literally change
> the
> > > positions of the x variables (external regressors) then you get two
> > > completely different results.
> > >
> > > In other words:
> > >
> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> > >   - rugarch's output is essentially saying that model1 != model2
> > >   - When the correct result should be model1 == model2
> > >
> > > I may not know a lot of statistics but I know for a fact that if you
> move
> > > the x variables around, the output should still be the same.
> > >
> > > Am I wrong on this?
> > >
> > > Here's my stack exchange post that shows a generic R script proving my
> > > point: Should the positioning of the external regressors change the
> output
> > > of arma-garch? (Possible rugarch bug/error)
> > > <https://stackoverflow.com/questions/51900177/should-the-
> positioning-of-the-external-regressors-change-the-output-of-arma-garc>
> > >
> > > Any feedback is welcomed.
> > >
> > > Thanks
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > > _______________________________________________
> > > R-SIG-Finance at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > -- Also note that this is not the r-help list where general R
> questions should go.
> > >
> >
> >
>
>

	[[alternative HTML version deleted]]


From bri@n @ending from br@verock@com  Mon Aug 20 13:40:28 2018
From: bri@n @ending from br@verock@com (Brian G. Peterson)
Date: Mon, 20 Aug 2018 06:40:28 -0500
Subject: [R-SIG-Finance] Quantstrat - running applyStrategy in a loop
In-Reply-To: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>
References: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>
Message-ID: <1534765228.4327.51.camel@braverock.com>

On Sun, 2018-08-19 at 17:16 -0400, James Hirschorn wrote:
> I plan to try it out myself, but I wanted to check here if running
> applyStrategy in a loop, while looping over different dates, will
> work? I could not find any examples of this.
> 
> There are 2 reasons for wanting to do this: First of all, one could
> have a couple of years of tick data, which is too big to fit in
> memory for each symbol. Of course, I am assuming that the orders
> placed by the strategy are sparse enough so that the order_book
> generated by applyStrategy can still fit in memory.
> 
> The second reason is that if this loop could moreover be run in
> parallel, then there could potentially be a 500x speed up for two
> years of data.

James,

The answer is 'it depends'.

There is a parallel version of applyStrategy in the sandbox on github. 
I haven't touched it in several years, so I wouldn't trust that code. I
mention it as an example of what is theoretically possible.  A better
example, which is already parallelized and much more highly utilized,
is apply.paramset().

First, to expand on Ilya's answer, let's talk about what *is* possible.

It is possible to wrap a foreach loop over applyStrategy that would
separate symbols to different workers (though your hypothesized 500x
speedup would require *at least* 500 worker nodes, spread out over
several physical machines, using something like doRedis, which we have
tested up to around 200 workers).  This assumes that each symbol is
completely independent, and that there is no interaction on things like
trade sizing or capital or risk among the symbols.  The simplest way to
do this would be to create separate portfolios per symbol, so that each
worker is completely independent.  See examples of a different kind of
splitting and parallelization in appply.paramset() (which is also used
in walk forward testing).

It is also possible, and we commonly do this, to segment the dates that
you want to run applyStrategy over.  As you hypothesized, a simple loop
over date regions, loading different non-conflicting time series, may
be applied to successively run each date range.  This, as you noted,
works well when even 64, 128, or 512GB+ of RAM is not enough for all of
your data.  We've made a number of changes over the years to make
quantstrat more memory efficient, but copies are still made when
unavoidable, state is kept between the various nested apply* functions,
and RAM use basically grows throughout the run of a strategy
evaluation.  So segmenting the use of market data by Dates can help,
though you may need to discard some intermediary results (like portions
of the order book) to make everything fit.  

In the first example of parallelizing by symbol, RAM is your most
likely issue still, since even very large machines rarely have more
than about 16GB per core/thread.

You still have some wrinkles here.  Again, you need to assess whether
there is any interaction.  Transactions cannot be added to a portfolio
out of order, as the P&L is (potentially) dependent on prior
transactions.  So you may again need to create multiple portfolios and
stitch the different period P&L together yourself.

So, in the 'don't do that' camp, don't try to apply transactions out of
order, the trade blotter won't allow it.

In the 'should work' camp are several variations of splitting your
computational problem so that it is amendable to looping and/or
parallelization, described above.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 14:29:03 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Mon, 20 Aug 2018 07:29:03 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <CAKGtyO=sQ2qpiQLrC8Ne0v1DbbZqi6Nc3rFfhxO+ecB_RRyySw@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
 <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
 <CAKGtyO=sQ2qpiQLrC8Ne0v1DbbZqi6Nc3rFfhxO+ecB_RRyySw@mail.gmail.com>
Message-ID: <CAKGtyOmoaRsifj5DZiDM4NenK-usb=tStDvzUhB2A5P_OidYiw@mail.gmail.com>

Alexios,

I changed the solver to "hybrid" but kept the scaling that you provided and
got different results when switching the positions for the external
regressors.

ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
"hybrid",fit.control=list(scale=1))

So it looks like you have to change the solver to "nlminb" and update
fit.control with the scaling that you provided.

Galib


On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Alexios,
>
>
> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>
> I updated the code and indeed you are correct sir. Thank you for your time
> in investigating this.
>
> I will update my stack exchange post to reflect your answer in the morning.
>
> Again thank you for all your help!!!!
>
> Best,
> Galib Khan
>
>
> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
> wrote:
>
>> I did use the seed you provided.
>>
>> Use the following code for estimation:
>>
>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb",
>> fit.control=list(scale=1))
>>
>> model_maker(var1)
>>          Estimate  Std. Error     t value     Pr(>|t|)
>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>
>> model_maker(var2)
>>          Estimate  Std. Error     t value     Pr(>|t|)
>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>
>>
>> I can?t see any ?significant? differences, can you?
>> It?s completely related to the optimization/starting parameters. The
>> ?scale? is documented and not on by default (perhaps it should be).
>>
>> Alexios
>>
>>
>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>> wrote:
>> >
>> > Sorry for sending this again, I didn't include r-sig-finance in the
>> email address. I'm still adjusting in how to respond.
>> >
>> > Alexios,
>> >
>> > Did you set the set the seed to 1, because I'm looking at your results
>> and the numbers do not match with the numbers that I have provided.
>> >
>> > I understand why the coefficients' estimates are similar but it doesn't
>> explain why other columns such as the t-value and pr are off by a large
>> margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
>> large differences.
>> >
>> > Take mu as an example:
>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>> large difference to the point where it's safe to say that these two values
>> are not similar?
>> >
>> > Another example is the t-values for x1 and x2:
>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>> >
>> > An more alarming case that unfortunately I cannot share due to the data
>> being sensitive is that when the x variables' positions are switched, the
>> p-values are not the same. The p-value for a particular external regressor
>> went from 0 to 0.4385.
>> >
>> > I will attempt to re-create a separate generic dataset that is similar
>> to the sensitive data that I am using.
>> >
>> >
>> > Galib Khan
>> >
>> >
>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>> > I run the code you provided and obtain the following results related to
>> the external parameters:
>> >
>> >
>> > Case 1 (x1,x2)
>> > # x2 is second
>> >
>> >             Estimate   Std. Error       t value  Pr(>|t|)
>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>> >
>> > Case 2 (x2,x1)
>> > # i.e. x2 is now first
>> >
>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>> >
>> > Small differences in the coefficients are the result of the optimizer.
>> There may be an issues in the
>> > way starting parameters are being generated based on some recent input
>> from Josh Ulrich (still to investigate)
>> > and related to arima0 (used to generate start parameters), but
>> otherwise don?t see a large problem at first glance.
>> >
>> > Alexios
>> >
>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>> > >
>> > > Recently I have discovered a problem with a package called rugarch
>> that
>> > > creates arma-garch models. The issue is that if you literally change
>> the
>> > > positions of the x variables (external regressors) then you get two
>> > > completely different results.
>> > >
>> > > In other words:
>> > >
>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>> > >   - rugarch's output is essentially saying that model1 != model2
>> > >   - When the correct result should be model1 == model2
>> > >
>> > > I may not know a lot of statistics but I know for a fact that if you
>> move
>> > > the x variables around, the output should still be the same.
>> > >
>> > > Am I wrong on this?
>> > >
>> > > Here's my stack exchange post that shows a generic R script proving my
>> > > point: Should the positioning of the external regressors change the
>> output
>> > > of arma-garch? (Possible rugarch bug/error)
>> > > <https://stackoverflow.com/questions/51900177/should-the-pos
>> itioning-of-the-external-regressors-change-the-output-of-arma-garc>
>> > >
>> > > Any feedback is welcomed.
>> > >
>> > > Thanks
>> > >
>> > >       [[alternative HTML version deleted]]
>> > >
>> > > _______________________________________________
>> > > R-SIG-Finance at r-project.org mailing list
>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>> > > -- Also note that this is not the r-help list where general R
>> questions should go.
>> > >
>> >
>> >
>>
>>
>

Galib Khan


On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Alexios,
>
>
> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>
> I updated the code and indeed you are correct sir. Thank you for your time
> in investigating this.
>
> I will update my stack exchange post to reflect your answer in the morning.
>
> Again thank you for all your help!!!!
>
> Best,
> Galib Khan
>
>
> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
> wrote:
>
>> I did use the seed you provided.
>>
>> Use the following code for estimation:
>>
>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb",
>> fit.control=list(scale=1))
>>
>> model_maker(var1)
>>          Estimate  Std. Error     t value     Pr(>|t|)
>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>
>> model_maker(var2)
>>          Estimate  Std. Error     t value     Pr(>|t|)
>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>
>>
>> I can?t see any ?significant? differences, can you?
>> It?s completely related to the optimization/starting parameters. The
>> ?scale? is documented and not on by default (perhaps it should be).
>>
>> Alexios
>>
>>
>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>> wrote:
>> >
>> > Sorry for sending this again, I didn't include r-sig-finance in the
>> email address. I'm still adjusting in how to respond.
>> >
>> > Alexios,
>> >
>> > Did you set the set the seed to 1, because I'm looking at your results
>> and the numbers do not match with the numbers that I have provided.
>> >
>> > I understand why the coefficients' estimates are similar but it doesn't
>> explain why other columns such as the t-value and pr are off by a large
>> margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
>> large differences.
>> >
>> > Take mu as an example:
>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>> large difference to the point where it's safe to say that these two values
>> are not similar?
>> >
>> > Another example is the t-values for x1 and x2:
>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>> >
>> > An more alarming case that unfortunately I cannot share due to the data
>> being sensitive is that when the x variables' positions are switched, the
>> p-values are not the same. The p-value for a particular external regressor
>> went from 0 to 0.4385.
>> >
>> > I will attempt to re-create a separate generic dataset that is similar
>> to the sensitive data that I am using.
>> >
>> >
>> > Galib Khan
>> >
>> >
>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>> > I run the code you provided and obtain the following results related to
>> the external parameters:
>> >
>> >
>> > Case 1 (x1,x2)
>> > # x2 is second
>> >
>> >             Estimate   Std. Error       t value  Pr(>|t|)
>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>> >
>> > Case 2 (x2,x1)
>> > # i.e. x2 is now first
>> >
>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>> >
>> > Small differences in the coefficients are the result of the optimizer.
>> There may be an issues in the
>> > way starting parameters are being generated based on some recent input
>> from Josh Ulrich (still to investigate)
>> > and related to arima0 (used to generate start parameters), but
>> otherwise don?t see a large problem at first glance.
>> >
>> > Alexios
>> >
>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>> > >
>> > > Recently I have discovered a problem with a package called rugarch
>> that
>> > > creates arma-garch models. The issue is that if you literally change
>> the
>> > > positions of the x variables (external regressors) then you get two
>> > > completely different results.
>> > >
>> > > In other words:
>> > >
>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>> > >   - rugarch's output is essentially saying that model1 != model2
>> > >   - When the correct result should be model1 == model2
>> > >
>> > > I may not know a lot of statistics but I know for a fact that if you
>> move
>> > > the x variables around, the output should still be the same.
>> > >
>> > > Am I wrong on this?
>> > >
>> > > Here's my stack exchange post that shows a generic R script proving my
>> > > point: Should the positioning of the external regressors change the
>> output
>> > > of arma-garch? (Possible rugarch bug/error)
>> > > <https://stackoverflow.com/questions/51900177/should-the-pos
>> itioning-of-the-external-regressors-change-the-output-of-arma-garc>
>> > >
>> > > Any feedback is welcomed.
>> > >
>> > > Thanks
>> > >
>> > >       [[alternative HTML version deleted]]
>> > >
>> > > _______________________________________________
>> > > R-SIG-Finance at r-project.org mailing list
>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>> > > -- Also note that this is not the r-help list where general R
>> questions should go.
>> > >
>> >
>> >
>>
>>
>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Mon Aug 20 22:29:25 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Mon, 20 Aug 2018 15:29:25 -0500
Subject: [R-SIG-Finance] Detail analysis of solvers' results
Message-ID: <CAKGtyO=kuKPg-ek1rnEZo9F_c8Z2JEqs7iU8EOoP1PZ5BUm4Hw@mail.gmail.com>

Alexios,

I updated my script to use multiple solvers and compare results.

It looks like nlminb is the most accurate solver for this generic dataset
that I am using.

I posted the results on stack exchange so its easier to view the results.

If you want, I can post the results here.

Here is the url with the updated script and results:

https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc/


On Mon, Aug 20, 2018, 7:29 AM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Alexios,
>
> I changed the solver to "hybrid" but kept the scaling that you provided
> and got different results when switching the positions for the external
> regressors.
>
> ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
> "hybrid",fit.control=list(scale=1))
>
> So it looks like you have to change the solver to "nlminb" and update
> fit.control with the scaling that you provided.
>
> Galib
>
>
> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
> ghk18 at scarletmail.rutgers.edu> wrote:
>
>> Alexios,
>>
>>
>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>
>> I updated the code and indeed you are correct sir. Thank you for your
>> time in investigating this.
>>
>> I will update my stack exchange post to reflect your answer in the
>> morning.
>>
>> Again thank you for all your help!!!!
>>
>> Best,
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>>
>>> I did use the seed you provided.
>>>
>>> Use the following code for estimation:
>>>
>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>> "nlminb", fit.control=list(scale=1))
>>>
>>> model_maker(var1)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>
>>> model_maker(var2)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>
>>>
>>> I can?t see any ?significant? differences, can you?
>>> It?s completely related to the optimization/starting parameters. The
>>> ?scale? is documented and not on by default (perhaps it should be).
>>>
>>> Alexios
>>>
>>>
>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>>> wrote:
>>> >
>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>> email address. I'm still adjusting in how to respond.
>>> >
>>> > Alexios,
>>> >
>>> > Did you set the set the seed to 1, because I'm looking at your results
>>> and the numbers do not match with the numbers that I have provided.
>>> >
>>> > I understand why the coefficients' estimates are similar but it
>>> doesn't explain why other columns such as the t-value and pr are off by a
>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>> have large differences.
>>> >
>>> > Take mu as an example:
>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>> large difference to the point where it's safe to say that these two values
>>> are not similar?
>>> >
>>> > Another example is the t-values for x1 and x2:
>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>> >
>>> > An more alarming case that unfortunately I cannot share due to the
>>> data being sensitive is that when the x variables' positions are switched,
>>> the p-values are not the same. The p-value for a particular external
>>> regressor went from 0 to 0.4385.
>>> >
>>> > I will attempt to re-create a separate generic dataset that is similar
>>> to the sensitive data that I am using.
>>> >
>>> >
>>> > Galib Khan
>>> >
>>> >
>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>> > I run the code you provided and obtain the following results related
>>> to the external parameters:
>>> >
>>> >
>>> > Case 1 (x1,x2)
>>> > # x2 is second
>>> >
>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>> >
>>> > Case 2 (x2,x1)
>>> > # i.e. x2 is now first
>>> >
>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>> >
>>> > Small differences in the coefficients are the result of the optimizer.
>>> There may be an issues in the
>>> > way starting parameters are being generated based on some recent input
>>> from Josh Ulrich (still to investigate)
>>> > and related to arima0 (used to generate start parameters), but
>>> otherwise don?t see a large problem at first glance.
>>> >
>>> > Alexios
>>> >
>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>> > >
>>> > > Recently I have discovered a problem with a package called rugarch
>>> that
>>> > > creates arma-garch models. The issue is that if you literally change
>>> the
>>> > > positions of the x variables (external regressors) then you get two
>>> > > completely different results.
>>> > >
>>> > > In other words:
>>> > >
>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>> > >   - rugarch's output is essentially saying that model1 != model2
>>> > >   - When the correct result should be model1 == model2
>>> > >
>>> > > I may not know a lot of statistics but I know for a fact that if you
>>> move
>>> > > the x variables around, the output should still be the same.
>>> > >
>>> > > Am I wrong on this?
>>> > >
>>> > > Here's my stack exchange post that shows a generic R script proving
>>> my
>>> > > point: Should the positioning of the external regressors change the
>>> output
>>> > > of arma-garch? (Possible rugarch bug/error)
>>> > > <
>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>> >
>>> > >
>>> > > Any feedback is welcomed.
>>> > >
>>> > > Thanks
>>> > >
>>> > >       [[alternative HTML version deleted]]
>>> > >
>>> > > _______________________________________________
>>> > > R-SIG-Finance at r-project.org mailing list
>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>> > > -- Also note that this is not the r-help list where general R
>>> questions should go.
>>> > >
>>> >
>>> >
>>>
>>>
>>
>
> Galib Khan
>
>
> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
> ghk18 at scarletmail.rutgers.edu> wrote:
>
>> Alexios,
>>
>>
>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>
>> I updated the code and indeed you are correct sir. Thank you for your
>> time in investigating this.
>>
>> I will update my stack exchange post to reflect your answer in the
>> morning.
>>
>> Again thank you for all your help!!!!
>>
>> Best,
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>>
>>> I did use the seed you provided.
>>>
>>> Use the following code for estimation:
>>>
>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>> "nlminb", fit.control=list(scale=1))
>>>
>>> model_maker(var1)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>
>>> model_maker(var2)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>
>>>
>>> I can?t see any ?significant? differences, can you?
>>> It?s completely related to the optimization/starting parameters. The
>>> ?scale? is documented and not on by default (perhaps it should be).
>>>
>>> Alexios
>>>
>>>
>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>>> wrote:
>>> >
>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>> email address. I'm still adjusting in how to respond.
>>> >
>>> > Alexios,
>>> >
>>> > Did you set the set the seed to 1, because I'm looking at your results
>>> and the numbers do not match with the numbers that I have provided.
>>> >
>>> > I understand why the coefficients' estimates are similar but it
>>> doesn't explain why other columns such as the t-value and pr are off by a
>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>> have large differences.
>>> >
>>> > Take mu as an example:
>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>> large difference to the point where it's safe to say that these two values
>>> are not similar?
>>> >
>>> > Another example is the t-values for x1 and x2:
>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>> >
>>> > An more alarming case that unfortunately I cannot share due to the
>>> data being sensitive is that when the x variables' positions are switched,
>>> the p-values are not the same. The p-value for a particular external
>>> regressor went from 0 to 0.4385.
>>> >
>>> > I will attempt to re-create a separate generic dataset that is similar
>>> to the sensitive data that I am using.
>>> >
>>> >
>>> > Galib Khan
>>> >
>>> >
>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>> > I run the code you provided and obtain the following results related
>>> to the external parameters:
>>> >
>>> >
>>> > Case 1 (x1,x2)
>>> > # x2 is second
>>> >
>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>> >
>>> > Case 2 (x2,x1)
>>> > # i.e. x2 is now first
>>> >
>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>> >
>>> > Small differences in the coefficients are the result of the optimizer.
>>> There may be an issues in the
>>> > way starting parameters are being generated based on some recent input
>>> from Josh Ulrich (still to investigate)
>>> > and related to arima0 (used to generate start parameters), but
>>> otherwise don?t see a large problem at first glance.
>>> >
>>> > Alexios
>>> >
>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>> > >
>>> > > Recently I have discovered a problem with a package called rugarch
>>> that
>>> > > creates arma-garch models. The issue is that if you literally change
>>> the
>>> > > positions of the x variables (external regressors) then you get two
>>> > > completely different results.
>>> > >
>>> > > In other words:
>>> > >
>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>> > >   - rugarch's output is essentially saying that model1 != model2
>>> > >   - When the correct result should be model1 == model2
>>> > >
>>> > > I may not know a lot of statistics but I know for a fact that if you
>>> move
>>> > > the x variables around, the output should still be the same.
>>> > >
>>> > > Am I wrong on this?
>>> > >
>>> > > Here's my stack exchange post that shows a generic R script proving
>>> my
>>> > > point: Should the positioning of the external regressors change the
>>> output
>>> > > of arma-garch? (Possible rugarch bug/error)
>>> > > <
>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>> >
>>> > >
>>> > > Any feedback is welcomed.
>>> > >
>>> > > Thanks
>>> > >
>>> > >       [[alternative HTML version deleted]]
>>> > >
>>> > > _______________________________________________
>>> > > R-SIG-Finance at r-project.org mailing list
>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>> > > -- Also note that this is not the r-help list where general R
>>> questions should go.
>>> > >
>>> >
>>> >
>>>
>>>
>>
>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Tue Aug 21 04:24:20 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Mon, 20 Aug 2018 21:24:20 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <CAKGtyOmoaRsifj5DZiDM4NenK-usb=tStDvzUhB2A5P_OidYiw@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
 <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
 <CAKGtyO=sQ2qpiQLrC8Ne0v1DbbZqi6Nc3rFfhxO+ecB_RRyySw@mail.gmail.com>
 <CAKGtyOmoaRsifj5DZiDM4NenK-usb=tStDvzUhB2A5P_OidYiw@mail.gmail.com>
Message-ID: <CAKGtyOmdR5St7mysjzjN-9wVjpAj0tQ7VPN0Q=qM2QBC3me_FA@mail.gmail.com>

Again sorry for the repeat. I accidentally created a new post when I wanted
to reply back.

Alexios,

I updated my script to use multiple solvers and compare results.

It looks like nlminb is the most accurate solver for this generic dataset
that I am using.

I posted the results on stack exchange so its easier to view the results.

If you want, I can post the results here.

Here is the url with the updated script and results:

https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc/

On Mon, Aug 20, 2018, 7:29 AM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Alexios,
>
> I changed the solver to "hybrid" but kept the scaling that you provided
> and got different results when switching the positions for the external
> regressors.
>
> ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
> "hybrid",fit.control=list(scale=1))
>
> So it looks like you have to change the solver to "nlminb" and update
> fit.control with the scaling that you provided.
>
> Galib
>
>
> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
> ghk18 at scarletmail.rutgers.edu> wrote:
>
>> Alexios,
>>
>>
>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>
>> I updated the code and indeed you are correct sir. Thank you for your
>> time in investigating this.
>>
>> I will update my stack exchange post to reflect your answer in the
>> morning.
>>
>> Again thank you for all your help!!!!
>>
>> Best,
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>>
>>> I did use the seed you provided.
>>>
>>> Use the following code for estimation:
>>>
>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>> "nlminb", fit.control=list(scale=1))
>>>
>>> model_maker(var1)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>
>>> model_maker(var2)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>
>>>
>>> I can?t see any ?significant? differences, can you?
>>> It?s completely related to the optimization/starting parameters. The
>>> ?scale? is documented and not on by default (perhaps it should be).
>>>
>>> Alexios
>>>
>>>
>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>>> wrote:
>>> >
>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>> email address. I'm still adjusting in how to respond.
>>> >
>>> > Alexios,
>>> >
>>> > Did you set the set the seed to 1, because I'm looking at your results
>>> and the numbers do not match with the numbers that I have provided.
>>> >
>>> > I understand why the coefficients' estimates are similar but it
>>> doesn't explain why other columns such as the t-value and pr are off by a
>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>> have large differences.
>>> >
>>> > Take mu as an example:
>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>> large difference to the point where it's safe to say that these two values
>>> are not similar?
>>> >
>>> > Another example is the t-values for x1 and x2:
>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>> >
>>> > An more alarming case that unfortunately I cannot share due to the
>>> data being sensitive is that when the x variables' positions are switched,
>>> the p-values are not the same. The p-value for a particular external
>>> regressor went from 0 to 0.4385.
>>> >
>>> > I will attempt to re-create a separate generic dataset that is similar
>>> to the sensitive data that I am using.
>>> >
>>> >
>>> > Galib Khan
>>> >
>>> >
>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>> > I run the code you provided and obtain the following results related
>>> to the external parameters:
>>> >
>>> >
>>> > Case 1 (x1,x2)
>>> > # x2 is second
>>> >
>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>> >
>>> > Case 2 (x2,x1)
>>> > # i.e. x2 is now first
>>> >
>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>> >
>>> > Small differences in the coefficients are the result of the optimizer.
>>> There may be an issues in the
>>> > way starting parameters are being generated based on some recent input
>>> from Josh Ulrich (still to investigate)
>>> > and related to arima0 (used to generate start parameters), but
>>> otherwise don?t see a large problem at first glance.
>>> >
>>> > Alexios
>>> >
>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>> > >
>>> > > Recently I have discovered a problem with a package called rugarch
>>> that
>>> > > creates arma-garch models. The issue is that if you literally change
>>> the
>>> > > positions of the x variables (external regressors) then you get two
>>> > > completely different results.
>>> > >
>>> > > In other words:
>>> > >
>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>> > >   - rugarch's output is essentially saying that model1 != model2
>>> > >   - When the correct result should be model1 == model2
>>> > >
>>> > > I may not know a lot of statistics but I know for a fact that if you
>>> move
>>> > > the x variables around, the output should still be the same.
>>> > >
>>> > > Am I wrong on this?
>>> > >
>>> > > Here's my stack exchange post that shows a generic R script proving
>>> my
>>> > > point: Should the positioning of the external regressors change the
>>> output
>>> > > of arma-garch? (Possible rugarch bug/error)
>>> > > <
>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>> >
>>> > >
>>> > > Any feedback is welcomed.
>>> > >
>>> > > Thanks
>>> > >
>>> > >       [[alternative HTML version deleted]]
>>> > >
>>> > > _______________________________________________
>>> > > R-SIG-Finance at r-project.org mailing list
>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>> > > -- Also note that this is not the r-help list where general R
>>> questions should go.
>>> > >
>>> >
>>> >
>>>
>>>
>>
>
> Galib Khan
>
>
> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
> ghk18 at scarletmail.rutgers.edu> wrote:
>
>> Alexios,
>>
>>
>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>
>> I updated the code and indeed you are correct sir. Thank you for your
>> time in investigating this.
>>
>> I will update my stack exchange post to reflect your answer in the
>> morning.
>>
>> Again thank you for all your help!!!!
>>
>> Best,
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>> wrote:
>>
>>> I did use the seed you provided.
>>>
>>> Use the following code for estimation:
>>>
>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>> "nlminb", fit.control=list(scale=1))
>>>
>>> model_maker(var1)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>
>>> model_maker(var2)
>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>
>>>
>>> I can?t see any ?significant? differences, can you?
>>> It?s completely related to the optimization/starting parameters. The
>>> ?scale? is documented and not on by default (perhaps it should be).
>>>
>>> Alexios
>>>
>>>
>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
>>> wrote:
>>> >
>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>> email address. I'm still adjusting in how to respond.
>>> >
>>> > Alexios,
>>> >
>>> > Did you set the set the seed to 1, because I'm looking at your results
>>> and the numbers do not match with the numbers that I have provided.
>>> >
>>> > I understand why the coefficients' estimates are similar but it
>>> doesn't explain why other columns such as the t-value and pr are off by a
>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>> have large differences.
>>> >
>>> > Take mu as an example:
>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>> large difference to the point where it's safe to say that these two values
>>> are not similar?
>>> >
>>> > Another example is the t-values for x1 and x2:
>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>> >
>>> > An more alarming case that unfortunately I cannot share due to the
>>> data being sensitive is that when the x variables' positions are switched,
>>> the p-values are not the same. The p-value for a particular external
>>> regressor went from 0 to 0.4385.
>>> >
>>> > I will attempt to re-create a separate generic dataset that is similar
>>> to the sensitive data that I am using.
>>> >
>>> >
>>> > Galib Khan
>>> >
>>> >
>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>> > I run the code you provided and obtain the following results related
>>> to the external parameters:
>>> >
>>> >
>>> > Case 1 (x1,x2)
>>> > # x2 is second
>>> >
>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>> >
>>> > Case 2 (x2,x1)
>>> > # i.e. x2 is now first
>>> >
>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>> >
>>> > Small differences in the coefficients are the result of the optimizer.
>>> There may be an issues in the
>>> > way starting parameters are being generated based on some recent input
>>> from Josh Ulrich (still to investigate)
>>> > and related to arima0 (used to generate start parameters), but
>>> otherwise don?t see a large problem at first glance.
>>> >
>>> > Alexios
>>> >
>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>> > >
>>> > > Recently I have discovered a problem with a package called rugarch
>>> that
>>> > > creates arma-garch models. The issue is that if you literally change
>>> the
>>> > > positions of the x variables (external regressors) then you get two
>>> > > completely different results.
>>> > >
>>> > > In other words:
>>> > >
>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>> > >   - rugarch's output is essentially saying that model1 != model2
>>> > >   - When the correct result should be model1 == model2
>>> > >
>>> > > I may not know a lot of statistics but I know for a fact that if you
>>> move
>>> > > the x variables around, the output should still be the same.
>>> > >
>>> > > Am I wrong on this?
>>> > >
>>> > > Here's my stack exchange post that shows a generic R script proving
>>> my
>>> > > point: Should the positioning of the external regressors change the
>>> output
>>> > > of arma-garch? (Possible rugarch bug/error)
>>> > > <
>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>> >
>>> > >
>>> > > Any feedback is welcomed.
>>> > >
>>> > > Thanks
>>> > >
>>> > >       [[alternative HTML version deleted]]
>>> > >
>>> > > _______________________________________________
>>> > > R-SIG-Finance at r-project.org mailing list
>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>> > > -- Also note that this is not the r-help list where general R
>>> questions should go.
>>> > >
>>> >
>>> >
>>>
>>>
>>
>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Tue Aug 21 04:25:57 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Mon, 20 Aug 2018 21:25:57 -0500
Subject: [R-SIG-Finance] Detail analysis of solvers' results
In-Reply-To: <CAKGtyO=kuKPg-ek1rnEZo9F_c8Z2JEqs7iU8EOoP1PZ5BUm4Hw@mail.gmail.com>
References: <CAKGtyO=kuKPg-ek1rnEZo9F_c8Z2JEqs7iU8EOoP1PZ5BUm4Hw@mail.gmail.com>
Message-ID: <CAKGtyOkphckafpGQKg35RsLAdo2wJQZfohXGSFsP5ZZja9wTwg@mail.gmail.com>

This post is an accident. Please ignore it.

On Mon, Aug 20, 2018, 3:29 PM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Alexios,
>
> I updated my script to use multiple solvers and compare results.
>
> It looks like nlminb is the most accurate solver for this generic dataset
> that I am using.
>
> I posted the results on stack exchange so its easier to view the results.
>
> If you want, I can post the results here.
>
> Here is the url with the updated script and results:
>
>
> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc/
>
>
> On Mon, Aug 20, 2018, 7:29 AM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
>
>> Alexios,
>>
>> I changed the solver to "hybrid" but kept the scaling that you provided
>> and got different results when switching the positions for the external
>> regressors.
>>
>> ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>> "hybrid",fit.control=list(scale=1))
>>
>> So it looks like you have to change the solver to "nlminb" and update
>> fit.control with the scaling that you provided.
>>
>> Galib
>>
>>
>> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>>
>>> Alexios,
>>>
>>>
>>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>>
>>> I updated the code and indeed you are correct sir. Thank you for your
>>> time in investigating this.
>>>
>>> I will update my stack exchange post to reflect your answer in the
>>> morning.
>>>
>>> Again thank you for all your help!!!!
>>>
>>> Best,
>>> Galib Khan
>>>
>>>
>>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>>
>>>> I did use the seed you provided.
>>>>
>>>> Use the following code for estimation:
>>>>
>>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>>> "nlminb", fit.control=list(scale=1))
>>>>
>>>> model_maker(var1)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>>
>>>> model_maker(var2)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>>
>>>>
>>>> I can?t see any ?significant? differences, can you?
>>>> It?s completely related to the optimization/starting parameters. The
>>>> ?scale? is documented and not on by default (perhaps it should be).
>>>>
>>>> Alexios
>>>>
>>>>
>>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> >
>>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>>> email address. I'm still adjusting in how to respond.
>>>> >
>>>> > Alexios,
>>>> >
>>>> > Did you set the set the seed to 1, because I'm looking at your
>>>> results and the numbers do not match with the numbers that I have provided.
>>>> >
>>>> > I understand why the coefficients' estimates are similar but it
>>>> doesn't explain why other columns such as the t-value and pr are off by a
>>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>>> have large differences.
>>>> >
>>>> > Take mu as an example:
>>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>>> large difference to the point where it's safe to say that these two values
>>>> are not similar?
>>>> >
>>>> > Another example is the t-values for x1 and x2:
>>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>>> >
>>>> > An more alarming case that unfortunately I cannot share due to the
>>>> data being sensitive is that when the x variables' positions are switched,
>>>> the p-values are not the same. The p-value for a particular external
>>>> regressor went from 0 to 0.4385.
>>>> >
>>>> > I will attempt to re-create a separate generic dataset that is
>>>> similar to the sensitive data that I am using.
>>>> >
>>>> >
>>>> > Galib Khan
>>>> >
>>>> >
>>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <
>>>> alexios at 4dscape.com> wrote:
>>>> > I run the code you provided and obtain the following results related
>>>> to the external parameters:
>>>> >
>>>> >
>>>> > Case 1 (x1,x2)
>>>> > # x2 is second
>>>> >
>>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>>> >
>>>> > Case 2 (x2,x1)
>>>> > # i.e. x2 is now first
>>>> >
>>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>>> >
>>>> > Small differences in the coefficients are the result of the
>>>> optimizer. There may be an issues in the
>>>> > way starting parameters are being generated based on some recent
>>>> input from Josh Ulrich (still to investigate)
>>>> > and related to arima0 (used to generate start parameters), but
>>>> otherwise don?t see a large problem at first glance.
>>>> >
>>>> > Alexios
>>>> >
>>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> > >
>>>> > > Recently I have discovered a problem with a package called rugarch
>>>> that
>>>> > > creates arma-garch models. The issue is that if you literally
>>>> change the
>>>> > > positions of the x variables (external regressors) then you get two
>>>> > > completely different results.
>>>> > >
>>>> > > In other words:
>>>> > >
>>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>>> > >   - rugarch's output is essentially saying that model1 != model2
>>>> > >   - When the correct result should be model1 == model2
>>>> > >
>>>> > > I may not know a lot of statistics but I know for a fact that if
>>>> you move
>>>> > > the x variables around, the output should still be the same.
>>>> > >
>>>> > > Am I wrong on this?
>>>> > >
>>>> > > Here's my stack exchange post that shows a generic R script proving
>>>> my
>>>> > > point: Should the positioning of the external regressors change the
>>>> output
>>>> > > of arma-garch? (Possible rugarch bug/error)
>>>> > > <
>>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>>> >
>>>> > >
>>>> > > Any feedback is welcomed.
>>>> > >
>>>> > > Thanks
>>>> > >
>>>> > >       [[alternative HTML version deleted]]
>>>> > >
>>>> > > _______________________________________________
>>>> > > R-SIG-Finance at r-project.org mailing list
>>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>>> > > -- Also note that this is not the r-help list where general R
>>>> questions should go.
>>>> > >
>>>> >
>>>> >
>>>>
>>>>
>>>
>>
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>>
>>> Alexios,
>>>
>>>
>>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>>
>>> I updated the code and indeed you are correct sir. Thank you for your
>>> time in investigating this.
>>>
>>> I will update my stack exchange post to reflect your answer in the
>>> morning.
>>>
>>> Again thank you for all your help!!!!
>>>
>>> Best,
>>> Galib Khan
>>>
>>>
>>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>>
>>>> I did use the seed you provided.
>>>>
>>>> Use the following code for estimation:
>>>>
>>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>>> "nlminb", fit.control=list(scale=1))
>>>>
>>>> model_maker(var1)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>>
>>>> model_maker(var2)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>>
>>>>
>>>> I can?t see any ?significant? differences, can you?
>>>> It?s completely related to the optimization/starting parameters. The
>>>> ?scale? is documented and not on by default (perhaps it should be).
>>>>
>>>> Alexios
>>>>
>>>>
>>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> >
>>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>>> email address. I'm still adjusting in how to respond.
>>>> >
>>>> > Alexios,
>>>> >
>>>> > Did you set the set the seed to 1, because I'm looking at your
>>>> results and the numbers do not match with the numbers that I have provided.
>>>> >
>>>> > I understand why the coefficients' estimates are similar but it
>>>> doesn't explain why other columns such as the t-value and pr are off by a
>>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>>> have large differences.
>>>> >
>>>> > Take mu as an example:
>>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>>> large difference to the point where it's safe to say that these two values
>>>> are not similar?
>>>> >
>>>> > Another example is the t-values for x1 and x2:
>>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>>> >
>>>> > An more alarming case that unfortunately I cannot share due to the
>>>> data being sensitive is that when the x variables' positions are switched,
>>>> the p-values are not the same. The p-value for a particular external
>>>> regressor went from 0 to 0.4385.
>>>> >
>>>> > I will attempt to re-create a separate generic dataset that is
>>>> similar to the sensitive data that I am using.
>>>> >
>>>> >
>>>> > Galib Khan
>>>> >
>>>> >
>>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <
>>>> alexios at 4dscape.com> wrote:
>>>> > I run the code you provided and obtain the following results related
>>>> to the external parameters:
>>>> >
>>>> >
>>>> > Case 1 (x1,x2)
>>>> > # x2 is second
>>>> >
>>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>>> >
>>>> > Case 2 (x2,x1)
>>>> > # i.e. x2 is now first
>>>> >
>>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>>> >
>>>> > Small differences in the coefficients are the result of the
>>>> optimizer. There may be an issues in the
>>>> > way starting parameters are being generated based on some recent
>>>> input from Josh Ulrich (still to investigate)
>>>> > and related to arima0 (used to generate start parameters), but
>>>> otherwise don?t see a large problem at first glance.
>>>> >
>>>> > Alexios
>>>> >
>>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> > >
>>>> > > Recently I have discovered a problem with a package called rugarch
>>>> that
>>>> > > creates arma-garch models. The issue is that if you literally
>>>> change the
>>>> > > positions of the x variables (external regressors) then you get two
>>>> > > completely different results.
>>>> > >
>>>> > > In other words:
>>>> > >
>>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>>> > >   - rugarch's output is essentially saying that model1 != model2
>>>> > >   - When the correct result should be model1 == model2
>>>> > >
>>>> > > I may not know a lot of statistics but I know for a fact that if
>>>> you move
>>>> > > the x variables around, the output should still be the same.
>>>> > >
>>>> > > Am I wrong on this?
>>>> > >
>>>> > > Here's my stack exchange post that shows a generic R script proving
>>>> my
>>>> > > point: Should the positioning of the external regressors change the
>>>> output
>>>> > > of arma-garch? (Possible rugarch bug/error)
>>>> > > <
>>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>>> >
>>>> > >
>>>> > > Any feedback is welcomed.
>>>> > >
>>>> > > Thanks
>>>> > >
>>>> > >       [[alternative HTML version deleted]]
>>>> > >
>>>> > > _______________________________________________
>>>> > > R-SIG-Finance at r-project.org mailing list
>>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>>> > > -- Also note that this is not the r-help list where general R
>>>> questions should go.
>>>> > >
>>>> >
>>>> >
>>>>
>>>>
>>>
>>

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Tue Aug 21 18:57:33 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Tue, 21 Aug 2018 11:57:33 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <CAKGtyOmdR5St7mysjzjN-9wVjpAj0tQ7VPN0Q=qM2QBC3me_FA@mail.gmail.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
 <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
 <CAKGtyO=sQ2qpiQLrC8Ne0v1DbbZqi6Nc3rFfhxO+ecB_RRyySw@mail.gmail.com>
 <CAKGtyOmoaRsifj5DZiDM4NenK-usb=tStDvzUhB2A5P_OidYiw@mail.gmail.com>
 <CAKGtyOmdR5St7mysjzjN-9wVjpAj0tQ7VPN0Q=qM2QBC3me_FA@mail.gmail.com>
Message-ID: <CAKGtyOknYrN2neSonkE1FEBnL02nxHyMtd80AVWpYf1iMKh1CA@mail.gmail.com>

Read your documentation and a post describing the details of fit.control
and solver.control

Let mess around those parameters and I'll report my findings back to you.


On Mon, Aug 20, 2018, 9:24 PM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:

> Again sorry for the repeat. I accidentally created a new post when I
> wanted to reply back.
>
> Alexios,
>
> I updated my script to use multiple solvers and compare results.
>
> It looks like nlminb is the most accurate solver for this generic dataset
> that I am using.
>
> I posted the results on stack exchange so its easier to view the results.
>
> If you want, I can post the results here.
>
> Here is the url with the updated script and results:
>
>
> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc/
>
> On Mon, Aug 20, 2018, 7:29 AM GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
>
>> Alexios,
>>
>> I changed the solver to "hybrid" but kept the scaling that you provided
>> and got different results when switching the positions for the external
>> regressors.
>>
>> ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>> "hybrid",fit.control=list(scale=1))
>>
>> So it looks like you have to change the solver to "nlminb" and update
>> fit.control with the scaling that you provided.
>>
>> Galib
>>
>>
>> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>>
>>> Alexios,
>>>
>>>
>>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>>
>>> I updated the code and indeed you are correct sir. Thank you for your
>>> time in investigating this.
>>>
>>> I will update my stack exchange post to reflect your answer in the
>>> morning.
>>>
>>> Again thank you for all your help!!!!
>>>
>>> Best,
>>> Galib Khan
>>>
>>>
>>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>>
>>>> I did use the seed you provided.
>>>>
>>>> Use the following code for estimation:
>>>>
>>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>>> "nlminb", fit.control=list(scale=1))
>>>>
>>>> model_maker(var1)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>>
>>>> model_maker(var2)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>>
>>>>
>>>> I can?t see any ?significant? differences, can you?
>>>> It?s completely related to the optimization/starting parameters. The
>>>> ?scale? is documented and not on by default (perhaps it should be).
>>>>
>>>> Alexios
>>>>
>>>>
>>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> >
>>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>>> email address. I'm still adjusting in how to respond.
>>>> >
>>>> > Alexios,
>>>> >
>>>> > Did you set the set the seed to 1, because I'm looking at your
>>>> results and the numbers do not match with the numbers that I have provided.
>>>> >
>>>> > I understand why the coefficients' estimates are similar but it
>>>> doesn't explain why other columns such as the t-value and pr are off by a
>>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>>> have large differences.
>>>> >
>>>> > Take mu as an example:
>>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>>> large difference to the point where it's safe to say that these two values
>>>> are not similar?
>>>> >
>>>> > Another example is the t-values for x1 and x2:
>>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>>> >
>>>> > An more alarming case that unfortunately I cannot share due to the
>>>> data being sensitive is that when the x variables' positions are switched,
>>>> the p-values are not the same. The p-value for a particular external
>>>> regressor went from 0 to 0.4385.
>>>> >
>>>> > I will attempt to re-create a separate generic dataset that is
>>>> similar to the sensitive data that I am using.
>>>> >
>>>> >
>>>> > Galib Khan
>>>> >
>>>> >
>>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <
>>>> alexios at 4dscape.com> wrote:
>>>> > I run the code you provided and obtain the following results related
>>>> to the external parameters:
>>>> >
>>>> >
>>>> > Case 1 (x1,x2)
>>>> > # x2 is second
>>>> >
>>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>>> >
>>>> > Case 2 (x2,x1)
>>>> > # i.e. x2 is now first
>>>> >
>>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>>> >
>>>> > Small differences in the coefficients are the result of the
>>>> optimizer. There may be an issues in the
>>>> > way starting parameters are being generated based on some recent
>>>> input from Josh Ulrich (still to investigate)
>>>> > and related to arima0 (used to generate start parameters), but
>>>> otherwise don?t see a large problem at first glance.
>>>> >
>>>> > Alexios
>>>> >
>>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> > >
>>>> > > Recently I have discovered a problem with a package called rugarch
>>>> that
>>>> > > creates arma-garch models. The issue is that if you literally
>>>> change the
>>>> > > positions of the x variables (external regressors) then you get two
>>>> > > completely different results.
>>>> > >
>>>> > > In other words:
>>>> > >
>>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>>> > >   - rugarch's output is essentially saying that model1 != model2
>>>> > >   - When the correct result should be model1 == model2
>>>> > >
>>>> > > I may not know a lot of statistics but I know for a fact that if
>>>> you move
>>>> > > the x variables around, the output should still be the same.
>>>> > >
>>>> > > Am I wrong on this?
>>>> > >
>>>> > > Here's my stack exchange post that shows a generic R script proving
>>>> my
>>>> > > point: Should the positioning of the external regressors change the
>>>> output
>>>> > > of arma-garch? (Possible rugarch bug/error)
>>>> > > <
>>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>>> >
>>>> > >
>>>> > > Any feedback is welcomed.
>>>> > >
>>>> > > Thanks
>>>> > >
>>>> > >       [[alternative HTML version deleted]]
>>>> > >
>>>> > > _______________________________________________
>>>> > > R-SIG-Finance at r-project.org mailing list
>>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>>> > > -- Also note that this is not the r-help list where general R
>>>> questions should go.
>>>> > >
>>>> >
>>>> >
>>>>
>>>>
>>>
>>
>> Galib Khan
>>
>>
>> On Sun, Aug 19, 2018 at 11:41 PM, GALIB KHAN <
>> ghk18 at scarletmail.rutgers.edu> wrote:
>>
>>> Alexios,
>>>
>>>
>>> Veryyyy interesting!!!!! No I cannot see any differences at all lol.
>>>
>>> I updated the code and indeed you are correct sir. Thank you for your
>>> time in investigating this.
>>>
>>> I will update my stack exchange post to reflect your answer in the
>>> morning.
>>>
>>> Again thank you for all your help!!!!
>>>
>>> Best,
>>> Galib Khan
>>>
>>>
>>> On Sun, Aug 19, 2018 at 11:19 PM, alexios galanos <alexios at 4dscape.com>
>>> wrote:
>>>
>>>> I did use the seed you provided.
>>>>
>>>> Use the following code for estimation:
>>>>
>>>> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver =
>>>> "nlminb", fit.control=list(scale=1))
>>>>
>>>> model_maker(var1)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
>>>> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
>>>> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
>>>> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
>>>> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
>>>> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
>>>> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
>>>> omega  12.0047145  0.82986864  14.4658010 0.0000000000
>>>> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
>>>> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>>>>
>>>> model_maker(var2)
>>>>          Estimate  Std. Error     t value     Pr(>|t|)
>>>> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
>>>> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
>>>> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
>>>> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
>>>> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
>>>> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
>>>> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
>>>> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
>>>> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
>>>> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>>>>
>>>>
>>>> I can?t see any ?significant? differences, can you?
>>>> It?s completely related to the optimization/starting parameters. The
>>>> ?scale? is documented and not on by default (perhaps it should be).
>>>>
>>>> Alexios
>>>>
>>>>
>>>> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> >
>>>> > Sorry for sending this again, I didn't include r-sig-finance in the
>>>> email address. I'm still adjusting in how to respond.
>>>> >
>>>> > Alexios,
>>>> >
>>>> > Did you set the set the seed to 1, because I'm looking at your
>>>> results and the numbers do not match with the numbers that I have provided.
>>>> >
>>>> > I understand why the coefficients' estimates are similar but it
>>>> doesn't explain why other columns such as the t-value and pr are off by a
>>>> large margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may
>>>> have large differences.
>>>> >
>>>> > Take mu as an example:
>>>> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
>>>> large difference to the point where it's safe to say that these two values
>>>> are not similar?
>>>> >
>>>> > Another example is the t-values for x1 and x2:
>>>> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
>>>> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>>>> >
>>>> > An more alarming case that unfortunately I cannot share due to the
>>>> data being sensitive is that when the x variables' positions are switched,
>>>> the p-values are not the same. The p-value for a particular external
>>>> regressor went from 0 to 0.4385.
>>>> >
>>>> > I will attempt to re-create a separate generic dataset that is
>>>> similar to the sensitive data that I am using.
>>>> >
>>>> >
>>>> > Galib Khan
>>>> >
>>>> >
>>>> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <
>>>> alexios at 4dscape.com> wrote:
>>>> > I run the code you provided and obtain the following results related
>>>> to the external parameters:
>>>> >
>>>> >
>>>> > Case 1 (x1,x2)
>>>> > # x2 is second
>>>> >
>>>> >             Estimate   Std. Error       t value  Pr(>|t|)
>>>> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
>>>> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>>>> >
>>>> > Case 2 (x2,x1)
>>>> > # i.e. x2 is now first
>>>> >
>>>> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
>>>> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>>>> >
>>>> > Small differences in the coefficients are the result of the
>>>> optimizer. There may be an issues in the
>>>> > way starting parameters are being generated based on some recent
>>>> input from Josh Ulrich (still to investigate)
>>>> > and related to arima0 (used to generate start parameters), but
>>>> otherwise don?t see a large problem at first glance.
>>>> >
>>>> > Alexios
>>>> >
>>>> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <
>>>> ghk18 at scarletmail.rutgers.edu> wrote:
>>>> > >
>>>> > > Recently I have discovered a problem with a package called rugarch
>>>> that
>>>> > > creates arma-garch models. The issue is that if you literally
>>>> change the
>>>> > > positions of the x variables (external regressors) then you get two
>>>> > > completely different results.
>>>> > >
>>>> > > In other words:
>>>> > >
>>>> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
>>>> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
>>>> > >   - rugarch's output is essentially saying that model1 != model2
>>>> > >   - When the correct result should be model1 == model2
>>>> > >
>>>> > > I may not know a lot of statistics but I know for a fact that if
>>>> you move
>>>> > > the x variables around, the output should still be the same.
>>>> > >
>>>> > > Am I wrong on this?
>>>> > >
>>>> > > Here's my stack exchange post that shows a generic R script proving
>>>> my
>>>> > > point: Should the positioning of the external regressors change the
>>>> output
>>>> > > of arma-garch? (Possible rugarch bug/error)
>>>> > > <
>>>> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>>>> >
>>>> > >
>>>> > > Any feedback is welcomed.
>>>> > >
>>>> > > Thanks
>>>> > >
>>>> > >       [[alternative HTML version deleted]]
>>>> > >
>>>> > > _______________________________________________
>>>> > > R-SIG-Finance at r-project.org mailing list
>>>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>>>> > > -- Also note that this is not the r-help list where general R
>>>> questions should go.
>>>> > >
>>>> >
>>>> >
>>>>
>>>>
>>>
>>

	[[alternative HTML version deleted]]


From j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com  Tue Aug 21 20:21:18 2018
From: j@me@@hir@chorn @ending from qu@ntit@tive-technologie@@com (James Hirschorn)
Date: Tue, 21 Aug 2018 14:21:18 -0400
Subject: [R-SIG-Finance] Quantstrat - running applyStrategy in a loop
In-Reply-To: <1534765228.4327.51.camel@braverock.com>
References: <CADu2AOU2JEu5dVjGjhkdE8HnOGWMZMNPkgJm3B3y=YfOfkybbQ@mail.gmail.com>
 <1534765228.4327.51.camel@braverock.com>
Message-ID: <CADu2AOVENUwJaHiaiAND+bXToQquVWvYNV9tHvdXjOqNKJacWw@mail.gmail.com>

Thanks for the very detailed reply!

I couldn't find a parallel applyStrategy in the sandbox. Is it still there,
and if so what is the filename?

In any case, if I understood correctly it should instead be modelled on
apply.paramset().

You mentioned that you commonly segment the dates that you run
applyStrategy over. If you have an example, could you please point it out?

I will report back once I attempt a parallelization.

Yes, I have run into problems with out of order transactions in two
different situations. Once of them was when using the delay argument of
ruleSignal, as you had suggested in an SO answer. But that is off topic for
this thread...

Regards,
James

On Mon, Aug 20, 2018 at 7:40 AM, Brian G. Peterson <brian at braverock.com>
wrote:

> On Sun, 2018-08-19 at 17:16 -0400, James Hirschorn wrote:
> > I plan to try it out myself, but I wanted to check here if running
> > applyStrategy in a loop, while looping over different dates, will
> > work? I could not find any examples of this.
> >
> > There are 2 reasons for wanting to do this: First of all, one could
> > have a couple of years of tick data, which is too big to fit in
> > memory for each symbol. Of course, I am assuming that the orders
> > placed by the strategy are sparse enough so that the order_book
> > generated by applyStrategy can still fit in memory.
> >
> > The second reason is that if this loop could moreover be run in
> > parallel, then there could potentially be a 500x speed up for two
> > years of data.
>
> James,
>
> The answer is 'it depends'.
>
> There is a parallel version of applyStrategy in the sandbox on github.
> I haven't touched it in several years, so I wouldn't trust that code. I
> mention it as an example of what is theoretically possible.  A better
> example, which is already parallelized and much more highly utilized,
> is apply.paramset().
>
> First, to expand on Ilya's answer, let's talk about what *is* possible.
>
> It is possible to wrap a foreach loop over applyStrategy that would
> separate symbols to different workers (though your hypothesized 500x
> speedup would require *at least* 500 worker nodes, spread out over
> several physical machines, using something like doRedis, which we have
> tested up to around 200 workers).  This assumes that each symbol is
> completely independent, and that there is no interaction on things like
> trade sizing or capital or risk among the symbols.  The simplest way to
> do this would be to create separate portfolios per symbol, so that each
> worker is completely independent.  See examples of a different kind of
> splitting and parallelization in appply.paramset() (which is also used
> in walk forward testing).
>
> It is also possible, and we commonly do this, to segment the dates that
> you want to run applyStrategy over.  As you hypothesized, a simple loop
> over date regions, loading different non-conflicting time series, may
> be applied to successively run each date range.  This, as you noted,
> works well when even 64, 128, or 512GB+ of RAM is not enough for all of
> your data.  We've made a number of changes over the years to make
> quantstrat more memory efficient, but copies are still made when
> unavoidable, state is kept between the various nested apply* functions,
> and RAM use basically grows throughout the run of a strategy
> evaluation.  So segmenting the use of market data by Dates can help,
> though you may need to discard some intermediary results (like portions
> of the order book) to make everything fit.
>
> In the first example of parallelizing by symbol, RAM is your most
> likely issue still, since even very large machines rarely have more
> than about 16GB per core/thread.
>
> You still have some wrinkles here.  Again, you need to assess whether
> there is any interaction.  Transactions cannot be added to a portfolio
> out of order, as the P&L is (potentially) dependent on prior
> transactions.  So you may again need to create multiple portfolios and
> stitch the different period P&L together yourself.
>
> So, in the 'don't do that' camp, don't try to apply transactions out of
> order, the trade blotter won't allow it.
>
> In the 'should work' camp are several variations of splitting your
> computational problem so that it is amendable to looping and/or
> parallelization, described above.
>
> Regards,
>
> Brian
>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Aug 22 18:24:40 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 22 Aug 2018 21:54:40 +0530
Subject: [R-SIG-Finance] rmgarch::Alexios Ghalanos
Message-ID: <CAP8zaQAL-rUCgProLue++FUa+B=5pGERKjwVkKBux-DTqCQpPw@mail.gmail.com>

Does anyone have the workaround for or a working copy of rmgarch with the
plot function working after updating the R packages to 3.5.1?



I am using pairwise cmd as suggested workaround to get some output



plot(rmdcc.fit, which=1, series=c(2,6))

Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
padj = 0,  :

  plot.new has not been called yet



My final goal is to get multiple plots on the same graph so I can point to
common regimes before and after the crises



My data set uses n indices from 37 indices (n>10) I have been unable to use
score models in multivariate specification because I do not have the
required package name



The rmgarch functions respond fast on both dccfit and cgarchfit but the
plot fn it seems to longer works , as seen on various R forums



I get a plot.new() not called error which seems to be however a syntax
problem



I am using

`plot(dccfitobj.2019)` as suggested by zivot (EE502 presentation on uwash)



And am also ready to try if plot or ggplot2 can work with the @mfit/@model
names/coefs/R/Q



plot(rmdcc.fit.t)



Make a plot selection (or 0 to exit):



1:   Conditional Mean (vs Realized Returns)

2:   Conditional Sigma (vs Realized Absolute Returns)

3:   Conditional Covariance

4:   Conditional Correlation

5:   EW Portfolio Plot with conditional density VaR limits



Selection: 3

Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
padj = 0,  :

  plot.new has not been called yet

> ################################################################################



______________________________
Amit Mittal
Ph.D. in Finance and Accounting (tbd)
Indian Institute of Management, Lucknow
http://ssrn.com/author=2665511
Mob: +91 7899381263

______________________________

	[[alternative HTML version deleted]]


From ghk18 @ending from @c@rletm@il@rutger@@edu  Wed Aug 22 19:26:21 2018
From: ghk18 @ending from @c@rletm@il@rutger@@edu (GALIB KHAN)
Date: Wed, 22 Aug 2018 12:26:21 -0500
Subject: [R-SIG-Finance] 
	=?utf-8?q?rugarch_gives_two_different_results_ba?=
	=?utf-8?q?sed_on_the_same_model=E2=80=A6how_is_that_even_possible?=
	=?utf-8?q?=3F?=
In-Reply-To: <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
References: <CAKGtyOnB+Y8u2re6av4GquH3Js4W4Qe8K_p9U5Y+8SdxJWckkQ@mail.gmail.com>
 <56F7A1F8-DA3C-4158-8B6D-D4F686EFA78D@4dscape.com>
 <CAKGtyOngPJcB506eT6QpYizNBtC2=9ZpBE6=EBnn-KQYNyeY6A@mail.gmail.com>
 <26DC29DB-E654-4079-8C63-68E2A1BC0838@4dscape.com>
Message-ID: <CAKGtyOkfpUrRwjsJ-FX0c-wLC05jBQfo2Uqpx2JRjgvgyrV-Tw@mail.gmail.com>

Alexios,

I went through your documenation for Rsolnp and I made the following
changes:

fit.control = list(scale = 0),solver.control =
list(tol=1e-20,delta=1e-20,outer.iter = 1000,inner.iter = 1000)

The sum of the total difference comes out to 4.729008e-05. Pretty darn
slick!!!!

So all is good!
Thanks for the catch!!!


On Sun, Aug 19, 2018, 11:19 PM alexios galanos <alexios at 4dscape.com> wrote:

> I did use the seed you provided.
>
> Use the following code for estimation:
>
> fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb",
> fit.control=list(scale=1))
>
> model_maker(var1)
>          Estimate  Std. Error     t value     Pr(>|t|)
> mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
> ar1     0.3387323  0.08280162   4.0908900 0.0000429721
> ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
> ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
> ma2     0.8660807  0.06778418  12.7770320 0.0000000000
> mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
> mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
> omega  12.0047145  0.82986864  14.4658010 0.0000000000
> alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
> shape  63.0103309 98.49188643   0.6397515 0.5223341761
>
> model_maker(var2)
>          Estimate  Std. Error     t value     Pr(>|t|)
> mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
> ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
> ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
> ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
> ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
> mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
> mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
> omega  12.0047142  0.82992363  14.4648419 0.000000e+00
> alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
> shape  63.0105962 98.49368444   0.6397425 5.223400e-01
>
>
> I can?t see any ?significant? differences, can you?
> It?s completely related to the optimization/starting parameters. The
> ?scale? is documented and not on by default (perhaps it should be).
>
> Alexios
>
>
> > On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> >
> > Sorry for sending this again, I didn't include r-sig-finance in the
> email address. I'm still adjusting in how to respond.
> >
> > Alexios,
> >
> > Did you set the set the seed to 1, because I'm looking at your results
> and the numbers do not match with the numbers that I have provided.
> >
> > I understand why the coefficients' estimates are similar but it doesn't
> explain why other columns such as the t-value and pr are off by a large
> margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
> large differences.
> >
> > Take mu as an example:
> > -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a
> large difference to the point where it's safe to say that these two values
> are not similar?
> >
> > Another example is the t-values for x1 and x2:
> > x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
> > x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
> >
> > An more alarming case that unfortunately I cannot share due to the data
> being sensitive is that when the x variables' positions are switched, the
> p-values are not the same. The p-value for a particular external regressor
> went from 0 to 0.4385.
> >
> > I will attempt to re-create a separate generic dataset that is similar
> to the sensitive data that I am using.
> >
> >
> > Galib Khan
> >
> >
> > On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
> wrote:
> > I run the code you provided and obtain the following results related to
> the external parameters:
> >
> >
> > Case 1 (x1,x2)
> > # x2 is second
> >
> >             Estimate   Std. Error       t value  Pr(>|t|)
> > mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> > mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
> >
> > Case 2 (x2,x1)
> > # i.e. x2 is now first
> >
> > mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> > mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
> >
> > Small differences in the coefficients are the result of the optimizer.
> There may be an issues in the
> > way starting parameters are being generated based on some recent input
> from Josh Ulrich (still to investigate)
> > and related to arima0 (used to generate start parameters), but otherwise
> don?t see a large problem at first glance.
> >
> > Alexios
> >
> > > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
> wrote:
> > >
> > > Recently I have discovered a problem with a package called rugarch that
> > > creates arma-garch models. The issue is that if you literally change
> the
> > > positions of the x variables (external regressors) then you get two
> > > completely different results.
> > >
> > > In other words:
> > >
> > >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> > >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> > >   - rugarch's output is essentially saying that model1 != model2
> > >   - When the correct result should be model1 == model2
> > >
> > > I may not know a lot of statistics but I know for a fact that if you
> move
> > > the x variables around, the output should still be the same.
> > >
> > > Am I wrong on this?
> > >
> > > Here's my stack exchange post that shows a generic R script proving my
> > > point: Should the positioning of the external regressors change the
> output
> > > of arma-garch? (Possible rugarch bug/error)
> > > <
> https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
> >
> > >
> > > Any feedback is welcomed.
> > >
> > > Thanks
> > >
> > >       [[alternative HTML version deleted]]
> > >
> > > _______________________________________________
> > > R-SIG-Finance at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > -- Also note that this is not the r-help list where general R
> questions should go.
> > >
> >
> >
>
>
On Aug 19, 2018 11:19 PM, "alexios galanos" <alexios at 4dscape.com> wrote:

I did use the seed you provided.

Use the following code for estimation:

fit <- ugarchfit(spec = spec, data = as.matrix(temp$y),solver = "nlminb",
fit.control=list(scale=1))

model_maker(var1)

         Estimate  Std. Error     t value     Pr(>|t|)
mu     -7.3998577  0.69086641 -10.7109821 0.0000000000
ar1     0.3387323  0.08280162   4.0908900 0.0000429721
ar2    -0.8834201  0.06569477 -13.4473414 0.0000000000
ma1    -0.2902069  0.08598589  -3.3750525 0.0007380161
ma2     0.8660807  0.06778418  12.7770320 0.0000000000
mxreg1  1.6782992  0.12769644  13.1428825 0.0000000000
mxreg2  2.5225382  0.04292728  58.7630625 0.0000000000
omega  12.0047145  0.82986864  14.4658010 0.0000000000
alpha1  0.0000000  0.07358520   0.0000000 1.0000000000
shape  63.0103309 98.49188643   0.6397515 0.5223341761

model_maker(var2)

         Estimate  Std. Error     t value     Pr(>|t|)
mu     -7.3998549  0.69086651 -10.7109764 0.000000e+00
ar1     0.3387334  0.08280150   4.0909088 4.296861e-05
ar2    -0.8834206  0.06569433 -13.4474406 0.000000e+00
ma1    -0.2902081  0.08598562  -3.3750776 7.379487e-04
ma2     0.8660811  0.06778412  12.7770487 0.000000e+00
mxreg1  2.5225383  0.04292728  58.7630642 0.000000e+00
mxreg2  1.6782987  0.12769640  13.1428817 0.000000e+00
omega  12.0047142  0.82992363  14.4648419 0.000000e+00
alpha1  0.0000000  0.07359329   0.0000000 1.000000e+00
shape  63.0105962 98.49368444   0.6397425 5.223400e-01


I can?t see any ?significant? differences, can you?
It?s completely related to the optimization/starting parameters. The
?scale? is documented and not on by default (perhaps it should be).


Alexios



> On Aug 19, 2018, at 9:02 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:
>
> Sorry for sending this again, I didn't include r-sig-finance in the email
address. I'm still adjusting in how to respond.
>
> Alexios,
>
> Did you set the set the seed to 1, because I'm looking at your results
and the numbers do not match with the numbers that I have provided.
>
> I understand why the coefficients' estimates are similar but it doesn't
explain why other columns such as the t-value and pr are off by a large
margin. Also estimates for mu, ar*, ma*, omega, alpha1, and shape may have
large differences.
>
> Take mu as an example:
> -7.538187e+00 - (-7.877120e+00) = 0.338933, isn't that considered a large
difference to the point where it's safe to say that these two values are
not similar?
>
> Another example is the t-values for x1 and x2:
> x1 = 8.799994e+01   -  5.509361e+02 = -462.9362
> x2 = 8.508606e+01   -  5.287634e+02 = -443.6773
>
> An more alarming case that unfortunately I cannot share due to the data
being sensitive is that when the x variables' positions are switched, the
p-values are not the same. The p-value for a particular external regressor
went from 0 to 0.4385.
>
> I will attempt to re-create a separate generic dataset that is similar to
the sensitive data that I am using.
>
>
> Galib Khan
>
>
> On Sun, Aug 19, 2018 at 10:06 PM, alexios galanos <alexios at 4dscape.com>
wrote:
> I run the code you provided and obtain the following results related to
the external parameters:
>
>
> Case 1 (x1,x2)
> # x2 is second
>
>             Estimate   Std. Error       t value  Pr(>|t|)
> mxreg1  1.6724148 1.203377e-01  1.389767e+01 0.0000000
> mxreg2  2.5310286 1.878833e-02  1.347128e+02 0.0000000
>
> Case 2 (x2,x1)
> # i.e. x2 is now first
>
> mxreg1  2.5225382  0.04292725  58.7631024 0.000000e+00
> mxreg2  1.6782986  0.12769622  13.1428990 0.000000e+00
>
> Small differences in the coefficients are the result of the optimizer.
There may be an issues in the
> way starting parameters are being generated based on some recent input
from Josh Ulrich (still to investigate)
> and related to arima0 (used to generate start parameters), but otherwise
don?t see a large problem at first glance.
>
> Alexios
>
> > On Aug 19, 2018, at 5:46 PM, GALIB KHAN <ghk18 at scarletmail.rutgers.edu>
wrote:
> >
> > Recently I have discovered a problem with a package called rugarch that
> > creates arma-garch models. The issue is that if you literally change the
> > positions of the x variables (external regressors) then you get two
> > completely different results.
> >
> > In other words:
> >
> >   - model1 = (arma(2,2) + garch(1,0) + x1 + x2)
> >   - model2 = (arma(2,2) + garch(1,0) + x2 + x1)
> >   - rugarch's output is essentially saying that model1 != model2
> >   - When the correct result should be model1 == model2
> >
> > I may not know a lot of statistics but I know for a fact that if you
move
> > the x variables around, the output should still be the same.
> >
> > Am I wrong on this?
> >
> > Here's my stack exchange post that shows a generic R script proving my
> > point: Should the positioning of the external regressors change the
output
> > of arma-garch? (Possible rugarch bug/error)
> > <
https://stackoverflow.com/questions/51900177/should-the-positioning-of-the-external-regressors-change-the-output-of-arma-garc
>
> >
> > Any feedback is welcomed.
> >
> > Thanks
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
should go.
> >
>
>

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Sun Aug 26 12:39:57 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Sun, 26 Aug 2018 16:09:57 +0530
Subject: [R-SIG-Finance] GAS/MSGARCH
Message-ID: <CAP8zaQC9_RH+fab1tj-kLLw3SLhv_L0Mp_fVND4gHd3qhUe_sw@mail.gmail.com>

Dear Board members

1. I am not getting plot outputs in rmgarch/multivariate models using GAS
packages. Please advise.
2. I am trying to use Harvey(2013) models of GAS/DCS with rmgarch package
as pointed in Ardia's vignettes for GAS(ssrn.com/abstract=2825380) I am
wondering if i can also add a switching specification from MSGARCH for a
regime based model using GAS models.

I need your help and support

Best Regards
Amit
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Sun Aug 26 12:45:52 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Sun, 26 Aug 2018 16:15:52 +0530
Subject: [R-SIG-Finance] MIDASR/DCC
Message-ID: <CAP8zaQCH_8d_tuM2ZFkQ9_nOy8tS2VnKnhJPunH0MAegOUkoQw@mail.gmail.com>

Dear Board members

1. Is there a way to extend the use of midasr package toi dcc models uin
rmgarch/rugarch/fgarch?
I need your help and support

Best Regards
Amit
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From @lexio@ @ending from 4d@c@pe@com  Mon Aug 27 03:17:50 2018
From: @lexio@ @ending from 4d@c@pe@com (alexios galanos)
Date: Sun, 26 Aug 2018 18:17:50 -0700
Subject: [R-SIG-Finance] rmgarch::Alexios Ghalanos
In-Reply-To: <CAP8zaQAL-rUCgProLue++FUa+B=5pGERKjwVkKBux-DTqCQpPw@mail.gmail.com>
References: <CAP8zaQAL-rUCgProLue++FUa+B=5pGERKjwVkKBux-DTqCQpPw@mail.gmail.com>
Message-ID: <7A457301-4DFE-442F-B7F6-58434E026B13@4dscape.com>

The plotting functionality has been fixed in version 1.3-5 which is available in the package?s bitbucket development repo (https://bitbucket.org/alexiosg/rmgarch/src/master/).

Additionally, an extra argument (?output') has been added to rcor and rcov which returns the pairwise values in matrix (or xts if a date is available) format (set output=?matrix? rather than default ?array?).

To use ggplot you probably want to convert the output to a long data.frame. The tsbox package has useful automatic converters to help you do this.
 

Alexios


> On Aug 22, 2018, at 9:24 AM, Amit Mittal <prof.amit.mittal at gmail.com> wrote:
> 
> Does anyone have the workaround for or a working copy of rmgarch with the
> plot function working after updating the R packages to 3.5.1?
> 
> 
> 
> I am using pairwise cmd as suggested workaround to get some output
> 
> 
> 
> plot(rmdcc.fit, which=1, series=c(2,6))
> 
> Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
> padj = 0,  :
> 
>  plot.new has not been called yet
> 
> 
> 
> My final goal is to get multiple plots on the same graph so I can point to
> common regimes before and after the crises
> 
> 
> 
> My data set uses n indices from 37 indices (n>10) I have been unable to use
> score models in multivariate specification because I do not have the
> required package name
> 
> 
> 
> The rmgarch functions respond fast on both dccfit and cgarchfit but the
> plot fn it seems to longer works , as seen on various R forums
> 
> 
> 
> I get a plot.new() not called error which seems to be however a syntax
> problem
> 
> 
> 
> I am using
> 
> `plot(dccfitobj.2019)` as suggested by zivot (EE502 presentation on uwash)
> 
> 
> 
> And am also ready to try if plot or ggplot2 can work with the @mfit/@model
> names/coefs/R/Q
> 
> 
> 
> plot(rmdcc.fit.t)
> 
> 
> 
> Make a plot selection (or 0 to exit):
> 
> 
> 
> 1:   Conditional Mean (vs Realized Returns)
> 
> 2:   Conditional Sigma (vs Realized Absolute Returns)
> 
> 3:   Conditional Covariance
> 
> 4:   Conditional Correlation
> 
> 5:   EW Portfolio Plot with conditional density VaR limits
> 
> 
> 
> Selection: 3
> 
> Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
> padj = 0,  :
> 
>  plot.new has not been called yet
> 
>> ################################################################################
> 
> 
> 
> ______________________________
> Amit Mittal
> Ph.D. in Finance and Accounting (tbd)
> Indian Institute of Management, Lucknow
> http://ssrn.com/author=2665511
> Mob: +91 7899381263
> 
> ______________________________
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From ecjbo@u @ending from @ol@com  Mon Aug 27 18:20:08 2018
From: ecjbo@u @ending from @ol@com (Joe W. Byers)
Date: Mon, 27 Aug 2018 11:20:08 -0500
Subject: [R-SIG-Finance] CME files
Message-ID: <9133e9a5-26b1-0b59-e21a-30d9eacdfc89@aol.com>

This is a bit off topic, but I thought I would ask.? Does anyone have 
the CME daily settle xml files for July 7/19 and 7/20?? I moved, missed 
downloading these two days, and CME only save a few weeks of files.


Thanks

Joe


From omerle m@ili@g off @gritel@com  Mon Aug 27 18:24:25 2018
From: omerle m@ili@g off @gritel@com (omerle m@ili@g off @gritel@com)
Date: 27 Aug 2018 18:24:25 +0200
Subject: [R-SIG-Finance] CME files
Message-ID: <1535387065.5b8425b9ceacc@agritel.extranet-e.net>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001
Type: image/jpeg
Size: 3686 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment.jpe>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002
Type: image/gif
Size: 354 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003
Type: image/gif
Size: 282 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment-0001.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004
Type: image/gif
Size: 378 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment-0002.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005
Type: image/gif
Size: 296 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment-0003.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006
Type: image/gif
Size: 291 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/9838d4b5/attachment-0004.gif>

From @o@mohebbi @ending from i@@b@@@c@ir  Mon Aug 27 20:34:26 2018
From: @o@mohebbi @ending from i@@b@@@c@ir (somaye mohebbi)
Date: Mon, 27 Aug 2018 23:04:26 +0430
Subject: [R-SIG-Finance] rmgarch package
Message-ID: <1535394866192107758@iasbs.ac.ir>

??Hello Master
I'm financial mathematics student and I am working on a project using mvgarch and copulas.
So, I find your rmgarch package very usefull in my work.
First of all I want to thank you because of this usefull and applicable package,
then I have a quastion.I will be appreciate if you answer me.
when using cgarchsim , first we should specify time series in rugarch,and fit them with real datas then simulate in rmgarch.
It,s very important for me to know kurtosis and skewness of my simulated datas.
in sim1 at model$mpars there are stimated values and in it I see shape and skew.
Is it degree of freedom and skewness for simulated datas?
It,s different from skewness(sim1 at model$modeldata$data).
and there is no thing to show kurosis of datas.
I use dskewness and  3+dkurtosis to calculate these two features.Again It,s different.
I,m confused.would you help me.
Thanks a million

	[[alternative HTML version deleted]]


From omerle m@ili@g off @gritel@com  Mon Aug 27 20:34:39 2018
From: omerle m@ili@g off @gritel@com (omerle m@ili@g off @gritel@com)
Date: 27 Aug 2018 20:34:39 +0200
Subject: [R-SIG-Finance] rmgarch package
Message-ID: <1535394879.5b84443fb9f50@agritel.extranet-e.net>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001
Type: image/jpeg
Size: 3269 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment.jpe>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002
Type: image/gif
Size: 354 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003
Type: image/gif
Size: 282 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment-0001.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004
Type: image/gif
Size: 378 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment-0002.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005
Type: image/gif
Size: 296 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment-0003.gif>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006
Type: image/gif
Size: 291 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180827/3f41b326/attachment-0004.gif>

From prof@@mit@mitt@l @ending from gm@il@com  Mon Aug 27 20:42:56 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Tue, 28 Aug 2018 00:12:56 +0530
Subject: [R-SIG-Finance] rmgarch package
In-Reply-To: <1535394866192107758@iasbs.ac.ir>
References: <1535394866192107758@iasbs.ac.ir>
Message-ID: <CAP8zaQCX4+A4KzB-iCkfxD7u62hjLbFV9hyQ+EqFNv-DKvJtZw@mail.gmail.com>

You chose a distribution.model with non normal parameters these are
variously v degrees in students t lambda and delta available in any
standard book on the models the model expression changes with these values
affecting shape and skew.

The actuals realised based on these paramagnetic are the ones later
reported. Rmgarch chooses all the defaults for you.

BR

On Tue 28 Aug, 2018, 00:04 somaye mohebbi via R-SIG-Finance, <
r-sig-finance at r-project.org> wrote:

> ??Hello Master
> I'm financial mathematics student and I am working on a project using
> mvgarch and copulas.
> So, I find your rmgarch package very usefull in my work.
> First of all I want to thank you because of this usefull and applicable
> package,
> then I have a quastion.I will be appreciate if you answer me.
> when using cgarchsim , first we should specify time series in rugarch,and
> fit them with real datas then simulate in rmgarch.
> It,s very important for me to know kurtosis and skewness of my simulated
> datas.
> in sim1 at model$mpars there are stimated values and in it I see shape and
> skew.
> Is it degree of freedom and skewness for simulated datas?
> It,s different from skewness(sim1 at model$modeldata$data).
> and there is no thing to show kurosis of datas.
> I use dskewness and  3+dkurtosis to calculate these two features.Again
> It,s different.
> I,m confused.would you help me.
> Thanks a million
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l m@ili@g off gm@il@com  Wed Aug 29 12:02:54 2018
From: prof@@mit@mitt@l m@ili@g off gm@il@com (prof@@mit@mitt@l m@ili@g off gm@il@com)
Date: Wed, 29 Aug 2018 15:32:54 +0530
Subject: [R-SIG-Finance] bitbucket code
Message-ID: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>

 

I installed a local zip file a few days ago and the package was recently
modified on bitbucket , with a stable zip version not yet available.

 

How many days does it usually take to get a stable zip version. How can I
`devtools` it from the bitbucket the fastest way? I have my own sourcetree
and the author has created in cloud.

 

 

BR

Amit

 

Listusers, 

Early answers help everyone.  Please acknowledge when you receive a useful
reply.

 

 


	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Aug 29 13:12:50 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 29 Aug 2018 16:42:50 +0530
Subject: [R-SIG-Finance] rmgarch::Alexios Ghalanos
In-Reply-To: <7A457301-4DFE-442F-B7F6-58434E026B13@4dscape.com>
References: <CAP8zaQAL-rUCgProLue++FUa+B=5pGERKjwVkKBux-DTqCQpPw@mail.gmail.com>
 <7A457301-4DFE-442F-B7F6-58434E026B13@4dscape.com>
Message-ID: <CAP8zaQDDxerXbX_7GcUNuZSVbOs=vd=Txfpd8xT2ACkMzv79-w@mail.gmail.com>

install errors:
non zero exit status in i.p.(...). Please make sure RTOOLS is in path
>>RTOOLS is not available in 3.5.1

I assume errors are not fatal.

BR

Amit



Listusers,

Early answers help everyone.  Please acknowledge when you receive a useful
reply.

Don't spam the lists with unnecessary questions



On Mon, Aug 27, 2018 at 6:48 AM alexios galanos <alexios at 4dscape.com> wrote:

> The plotting functionality has been fixed in version 1.3-5 which is
> available in the package?s bitbucket development repo (
> https://bitbucket.org/alexiosg/rmgarch/src/master/).
>
> Additionally, an extra argument (?output') has been added to rcor and rcov
> which returns the pairwise values in matrix (or xts if a date is available)
> format (set output=?matrix? rather than default ?array?).
>
> To use ggplot you probably want to convert the output to a long
> data.frame. The tsbox package has useful automatic converters to help you
> do this.
>
>
> Alexios
>
>
> > On Aug 22, 2018, at 9:24 AM, Amit Mittal <prof.amit.mittal at gmail.com>
> wrote:
> >
> > Does anyone have the workaround for or a working copy of rmgarch with the
> > plot function working after updating the R packages to 3.5.1?
> >
> >
> >
> > I am using pairwise cmd as suggested workaround to get some output
> >
> >
> >
> > plot(rmdcc.fit, which=1, series=c(2,6))
> >
> > Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
> > padj = 0,  :
> >
> >  plot.new has not been called yet
> >
> >
> >
> > My final goal is to get multiple plots on the same graph so I can point
> to
> > common regimes before and after the crises
> >
> >
> >
> > My data set uses n indices from 37 indices (n>10) I have been unable to
> use
> > score models in multivariate specification because I do not have the
> > required package name
> >
> >
> >
> > The rmgarch functions respond fast on both dccfit and cgarchfit but the
> > plot fn it seems to longer works , as seen on various R forums
> >
> >
> >
> > I get a plot.new() not called error which seems to be however a syntax
> > problem
> >
> >
> >
> > I am using
> >
> > `plot(dccfitobj.2019)` as suggested by zivot (EE502 presentation on
> uwash)
> >
> >
> >
> > And am also ready to try if plot or ggplot2 can work with the
> @mfit/@model
> > names/coefs/R/Q
> >
> >
> >
> > plot(rmdcc.fit.t)
> >
> >
> >
> > Make a plot selection (or 0 to exit):
> >
> >
> >
> > 1:   Conditional Mean (vs Realized Returns)
> >
> > 2:   Conditional Sigma (vs Realized Absolute Returns)
> >
> > 3:   Conditional Covariance
> >
> > 4:   Conditional Correlation
> >
> > 5:   EW Portfolio Plot with conditional density VaR limits
> >
> >
> >
> > Selection: 3
> >
> > Error in mtext(paste("rmgarch  : DCC model fit"), side = 4, adj = 0,
> > padj = 0,  :
> >
> >  plot.new has not been called yet
> >
> >>
> ################################################################################
> >
> >
> >
> > ______________________________
> > Amit Mittal
> > Ph.D. in Finance and Accounting (tbd)
> > Indian Institute of Management, Lucknow
> > http://ssrn.com/author=2665511
> > Mob: +91 7899381263 <+91%2078993%2081263>
> >
> > ______________________________
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
> >
>
> --

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From bri@n @ending from br@verock@com  Wed Aug 29 18:03:59 2018
From: bri@n @ending from br@verock@com (Brian G. Peterson)
Date: Wed, 29 Aug 2018 11:03:59 -0500
Subject: [R-SIG-Finance] bitbucket code
In-Reply-To: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>
References: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>
Message-ID: <1535558639.4327.106.camel@braverock.com>

This question really belongs on R-help or a forum like Stack Overflow,
as it has nothing to do with finance.  I understand that this is
related to the thread on rmgarch, but it could have been asked in that
thread with more specificity.

On Wed, 2018-08-29 at 15:32 +0530, prof.amit.mittal at gmail.com wrote:
> I installed a local zip file a few days ago and the package was
> recently modified on bitbucket , with a stable zip version not yet
> available.
> 
> How many days does it usually take to get a stable zip version. 

That depends on when a new version is released to CRAN, or when a
version is created in an alternative repository such as DRAT.  It will
be completely dependent on the package.  For example, because of the
hassle of testing and releasing a large package to CRAN, I typically
release new versions of PerformanceAnalytics only about once a year. 
Others with smaller packages or more spare time to meet CRAN's ever-
changing standards or more automated testing release packages more
frequently.

> How can I `devtools` it from the bitbucket the fastest way? I have my
> own sourcetree and the author has created in cloud.

I think the answer to your question is in the devtools documentation:

https://www.rstudio.com/products/rpackages/devtools/

You'll also need Rtools on Windows, which I assume is relevant since
you mention a zip file.

After you have devtools and Rtools installed, you can use
install_bitbucket() to build and install from the repository (assumedly
rmgarch).

Regards,

Brian


From @bb@@i@@@l @ending from gm@il@com  Wed Aug 29 18:18:20 2018
From: @bb@@i@@@l @ending from gm@il@com (Sal Abbasi)
Date: Wed, 29 Aug 2018 11:18:20 -0500
Subject: [R-SIG-Finance] New python backtesting library
Message-ID: <4D8807DC-5FF5-4BD1-B0E4-5BEF60AFC578@gmail.com>

Hi All,

I know this is a R forum, but for those people who write code in both R and Python, I just released an open source backtesting library called pyqstrat at https://pypi.org/project/pyqstrat/ <https://pypi.org/project/pyqstrat/>  

It takes some good ideas from quantstrat but is also very different in its design.

The readme is at: 

https://github.com/abbass2/pyqstrat/blob/master/README.rst

Here is a notebook showing you how to get started.

https://github.com/abbass2/pyqstrat/blob/master/pyqstrat/notebooks/building_strategies.ipynb <https://github.com/abbass2/pyqstrat/blob/master/pyqstrat/notebooks/building_strategies.ipynb>

The discussion group is at https://groups.io/g/pyqstrat <https://groups.io/g/pyqstrat>

Best,

Sal



	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Aug 29 18:26:12 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 29 Aug 2018 21:56:12 +0530
Subject: [R-SIG-Finance] bitbucket code
In-Reply-To: <1535558639.4327.106.camel@braverock.com>
References: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>
 <1535558639.4327.106.camel@braverock.com>
Message-ID: <CAP8zaQBikF4YXfuCwqquNHewV3iZ+abQzSt9ymOJ=YBOVjZjrQ@mail.gmail.com>

Thanks Brian, I did repost the query per suggestion but left in here for
other users of `rmgarch` , `PerformanceAnalytics` and `GAS`

If RTOOLS is not updated how do we use new source from bit/git and others

BR
Amit

On Wed 29 Aug, 2018, 21:34 Brian G. Peterson, <brian at braverock.com> wrote:

> This question really belongs on R-help or a forum like Stack Overflow,
> as it has nothing to do with finance.  I understand that this is
> related to the thread on rmgarch, but it could have been asked in that
> thread with more specificity.
>
> On Wed, 2018-08-29 at 15:32 +0530, prof.amit.mittal at gmail.com wrote:
> > I installed a local zip file a few days ago and the package was
> > recently modified on bitbucket , with a stable zip version not yet
> > available.
> >
> > How many days does it usually take to get a stable zip version.
>
> That depends on when a new version is released to CRAN, or when a
> version is created in an alternative repository such as DRAT.  It will
> be completely dependent on the package.  For example, because of the
> hassle of testing and releasing a large package to CRAN, I typically
> release new versions of PerformanceAnalytics only about once a year.
> Others with smaller packages or more spare time to meet CRAN's ever-
> changing standards or more automated testing release packages more
> frequently.
>
> > How can I `devtools` it from the bitbucket the fastest way? I have my
> > own sourcetree and the author has created in cloud.
>
> I think the answer to your question is in the devtools documentation:
>
> https://www.rstudio.com/products/rpackages/devtools/
>
> You'll also need Rtools on Windows, which I assume is relevant since
> you mention a zip file.
>
> After you have devtools and Rtools installed, you can use
> install_bitbucket() to build and install from the repository (assumedly
> rmgarch).
>
> Regards,
>
> Brian
>
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From bri@n @ending from br@verock@com  Wed Aug 29 18:48:37 2018
From: bri@n @ending from br@verock@com (Brian G. Peterson)
Date: Wed, 29 Aug 2018 11:48:37 -0500
Subject: [R-SIG-Finance] bitbucket code
In-Reply-To: <CAP8zaQBikF4YXfuCwqquNHewV3iZ+abQzSt9ymOJ=YBOVjZjrQ@mail.gmail.com>
References: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>
 <1535558639.4327.106.camel@braverock.com>
 <CAP8zaQBikF4YXfuCwqquNHewV3iZ+abQzSt9ymOJ=YBOVjZjrQ@mail.gmail.com>
Message-ID: <1535561317.4327.109.camel@braverock.com>

> Thanks Brian, I did repost the query per suggestion but left in here
> for other users of `rmgarch` , `PerformanceAnalytics` and `GAS`
> 
> If RTOOLS is not updated how do we use new source from bit/git and
> others
> 

You need the right version of Rtools for your version of R.  

https://cran.r-project.org/bin/windows/Rtools/

You only need to update Rtools when you update R, for the most part.

The devtools install_* functions will download and build the latest
code from the default branch of whatver repository you point them at,
or a specific branch if that is what you need e.g. to test a proposed
patch.

Regards,

Brian


> On Wed 29 Aug, 2018, 21:34 Brian G. Peterson, <brian at braverock.com>
> wrote:
> > This question really belongs on R-help or a forum like Stack
> > Overflow,
> > as it has nothing to do with finance.  I understand that this is
> > related to the thread on rmgarch, but it could have been asked in
> > that
> > thread with more specificity.
> > 
> > On Wed, 2018-08-29 at 15:32 +0530, prof.amit.mittal at gmail.com
> > wrote:
> > > I installed a local zip file a few days ago and the package was
> > > recently modified on bitbucket , with a stable zip version not
> > yet
> > > available.
> > > 
> > > How many days does it usually take to get a stable zip version. 
> > 
> > That depends on when a new version is released to CRAN, or when a
> > version is created in an alternative repository such as DRAT.  It
> > will
> > be completely dependent on the package.  For example, because of
> > the
> > hassle of testing and releasing a large package to CRAN, I
> > typically
> > release new versions of PerformanceAnalytics only about once a
> > year. 
> > Others with smaller packages or more spare time to meet CRAN's
> > ever-
> > changing standards or more automated testing release packages more
> > frequently.
> > 
> > > How can I `devtools` it from the bitbucket the fastest way? I
> > have my
> > > own sourcetree and the author has created in cloud.
> > 
> > I think the answer to your question is in the devtools
> > documentation:
> > 
> > https://www.rstudio.com/products/rpackages/devtools/
> > 
> > You'll also need Rtools on Windows, which I assume is relevant
> > since
> > you mention a zip file.
> > 
> > After you have devtools and Rtools installed, you can use
> > install_bitbucket() to build and install from the repository
> > (assumedly
> > rmgarch).
> > 
> > Regards,
> > 
> > Brian
> 
> -- 
> ______________________________
> Amit Mittal
> Pursuing Ph.D. in Finance and Accounting 
> Indian Institute of Management, Lucknow 
> Visit my SSRN author page:
> http://ssrn.com/author=2665511 
> * Top 10% Downloaded Author on SSRN
> Mob: +91 7525023664
> This message has been sent from a mobile device. I may contact you
> again.
> _________________
On Wed, 2018-08-29 at 21:56 +0530, Amit Mittal wrote:


From prof@@mit@mitt@l @ending from gm@il@com  Wed Aug 29 18:53:31 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 29 Aug 2018 22:23:31 +0530
Subject: [R-SIG-Finance] bitbucket code
In-Reply-To: <1535561317.4327.109.camel@braverock.com>
References: <01ff01d43f7f$7d324530$7796cf90$@gmail.com>
 <1535558639.4327.106.camel@braverock.com>
 <CAP8zaQBikF4YXfuCwqquNHewV3iZ+abQzSt9ymOJ=YBOVjZjrQ@mail.gmail.com>
 <1535561317.4327.109.camel@braverock.com>
Message-ID: <CAP8zaQA+7pAwgCTL2+rQ2CqOmyVxXnZY5Q=sr3fepEGdQ-7ZEw@mail.gmail.com>

But devtools::install_bit.. keeps throwing the same error and exits
install. Sorry, but suggested link did not close issue

On Wed 29 Aug, 2018, 22:18 Brian G. Peterson, <brian at braverock.com> wrote:

> > Thanks Brian, I did repost the query per suggestion but left in here
> > for other users of `rmgarch` , `PerformanceAnalytics` and `GAS`
> >
> > If RTOOLS is not updated how do we use new source from bit/git and
> > others
> >
>
> You need the right version of Rtools for your version of R.
>
> https://cran.r-project.org/bin/windows/Rtools/
>
> You only need to update Rtools when you update R, for the most part.
>
> The devtools install_* functions will download and build the latest
> code from the default branch of whatver repository you point them at,
> or a specific branch if that is what you need e.g. to test a proposed
> patch.
>
> Regards,
>
> Brian
>
>
> > On Wed 29 Aug, 2018, 21:34 Brian G. Peterson, <brian at braverock.com>
> > wrote:
> > > This question really belongs on R-help or a forum like Stack
> > > Overflow,
> > > as it has nothing to do with finance.  I understand that this is
> > > related to the thread on rmgarch, but it could have been asked in
> > > that
> > > thread with more specificity.
> > >
> > > On Wed, 2018-08-29 at 15:32 +0530, prof.amit.mittal at gmail.com
> > > wrote:
> > > > I installed a local zip file a few days ago and the package was
> > > > recently modified on bitbucket , with a stable zip version not
> > > yet
> > > > available.
> > > >
> > > > How many days does it usually take to get a stable zip version.
> > >
> > > That depends on when a new version is released to CRAN, or when a
> > > version is created in an alternative repository such as DRAT.  It
> > > will
> > > be completely dependent on the package.  For example, because of
> > > the
> > > hassle of testing and releasing a large package to CRAN, I
> > > typically
> > > release new versions of PerformanceAnalytics only about once a
> > > year.
> > > Others with smaller packages or more spare time to meet CRAN's
> > > ever-
> > > changing standards or more automated testing release packages more
> > > frequently.
> > >
> > > > How can I `devtools` it from the bitbucket the fastest way? I
> > > have my
> > > > own sourcetree and the author has created in cloud.
> > >
> > > I think the answer to your question is in the devtools
> > > documentation:
> > >
> > > https://www.rstudio.com/products/rpackages/devtools/
> > >
> > > You'll also need Rtools on Windows, which I assume is relevant
> > > since
> > > you mention a zip file.
> > >
> > > After you have devtools and Rtools installed, you can use
> > > install_bitbucket() to build and install from the repository
> > > (assumedly
> > > rmgarch).
> > >
> > > Regards,
> > >
> > > Brian
> >
> > --
> > ______________________________
> > Amit Mittal
> > Pursuing Ph.D. in Finance and Accounting
> > Indian Institute of Management, Lucknow
> > Visit my SSRN author page:
> > http://ssrn.com/author=2665511
> > * Top 10% Downloaded Author on SSRN
> > Mob: +91 7525023664
> > This message has been sent from a mobile device. I may contact you
> > again.
> > _________________
> On Wed, 2018-08-29 at 21:56 +0530, Amit Mittal wrote:
>
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From @imone@g@llo1990 @ending from gm@il@com  Thu Aug 30 15:15:17 2018
From: @imone@g@llo1990 @ending from gm@il@com (Simone Gallo)
Date: Thu, 30 Aug 2018 15:15:17 +0200
Subject: [R-SIG-Finance] Option prices on SPX using IBrokers in R
Message-ID: <CAGs7rjEszD3D3yQukVgtOJg9FGg_8Fh6H0Kz2aj9djMm=ReXOg@mail.gmail.com>

Hi everyone,

I'm trying to get SPX put option prices for a given strike and expiration
using the IBrokers package. The code is the following:

require(IBrokers)
tws=twsConnect()ticker="SPX"
exp="20181115"k=2700opt=twsOption(local="",symbol=ticker,expiry=exp,strike=k,right="P")optPrice=reqMktData(tws,opt,eventWrapper=eWrapper.data.Last(1),CALLBACK=snapShot)


where the two functions eWrapper.data.Last and snapShot are below reported:

eWrapper.data.Last <- function(n) {
  eW <- eWrapper(NULL)  # use basic template
  eW$assign.Data("data",
rep(list(structure(.xts(matrix(rep(NA_real_,2),nc=2),0),

.Dimnames=list(NULL,c("LastSize","Last")))),n))

  eW$tickPrice <- function(curMsg, msg, timestamp, file, ...)
  {
    tickType = msg[3]
    msg <- as.numeric(msg)
    id <- msg[2] #as.numeric(msg[2])
    data <- eW$get.Data("data") #[[1]]  # list position of symbol (by id ==
msg[2])
    attr(data[[id]],"index") <- as.numeric(Sys.time())
    nr.data <- NROW(data[[id]])
    if(tickType == .twsTickType$LAST) {
      data[[id]][nr.data,2] <- msg[4]
    }
    eW$assign.Data("data", data)
    c(curMsg, msg)
  }
  eW$tickSize  <- function(curMsg, msg, timestamp, file, ...)
  {
    data <- eW$get.Data("data")
    tickType = msg[3]
    msg <- as.numeric(msg)
    id <- as.numeric(msg[2])
    attr(data[[id]],"index") <- as.numeric(Sys.time())
    nr.data <- NROW(data[[id]])
    if(tickType == .twsTickType$LAST_SIZE) {
      data[[id]][nr.data,1] <- msg[4]
    }
    eW$assign.Data("data", data)
    c(curMsg, msg)
  }
  return(eW)}



snapShot <- function (twsCon, eWrapper, timestamp, file, playback = 1, ...){
  if (missing(eWrapper))
    eWrapper <- eWrapper()
  names(eWrapper$.Data$data) <- eWrapper$.Data$symbols
  con <- twsCon[[1]]
  if (inherits(twsCon, "twsPlayback")) {
    sys.time <- NULL
    while (TRUE) {
      if (!is.null(timestamp)) {
        last.time <- sys.time
        sys.time <- as.POSIXct(strptime(paste(readBin(con,
                                                      character(), 2),
collapse = " "), timestamp))
        if (!is.null(last.time)) {
          Sys.sleep((sys.time - last.time) * playback)
        }
        curMsg <- .Internal(readBin(con, "character",
                                    1L, NA_integer_, TRUE, FALSE))
        if (length(curMsg) < 1)
          next
        processMsg(curMsg, con, eWrapper, format(sys.time,
                                                 timestamp), file, ...)
      }
      else {
        curMsg <- readBin(con, character(), 1)
        if (length(curMsg) < 1)
          next
        processMsg(curMsg, con, eWrapper, timestamp,
                   file, ...)
        if (curMsg == .twsIncomingMSG$REAL_TIME_BARS)
          Sys.sleep(5 * playback)
      }
    }
  }
  else {
    while (TRUE) {
      socketSelect(list(con), FALSE, NULL)
      curMsg <- .Internal(readBin(con, "character", 1L,
                                  NA_integer_, TRUE, FALSE))
      if (!is.null(timestamp)) {
        processMsg(curMsg, con, eWrapper, format(Sys.time(),
                                                 timestamp), file, ...)
      }
      else {
        processMsg(curMsg, con, eWrapper, timestamp,
                   file, ...)
      }
      if (!any(sapply(eWrapper$.Data$data, is.na)))
        return(do.call(rbind, lapply(eWrapper$.Data$data,
                                     as.data.frame)))
    }
  }}

I get this on the console:

2 -1 2104 Connessione con il Server dei dati di mercato ? OK:usfuture
2 -1 2104 Connessione con il Server dei dati di mercato ? OK:eufarm
2 -1 2104 Connessione con il Server dei dati di mercato ? OK:usopt
2 -1 2104 Connessione con il Server dei dati di mercato ? OK:usfarm.us
2 -1 2106 Connessione con il HMDS data farm ? OK:euhmds
2 -1 2106 Connessione con il HMDS data farm ? OK:ushmds
2 1 10090 Parte dei dati di mercato richiesti non sono sottoscritti.
Tick indipendenti dalle sottoscrizioni sono ancora attivi.Dati di
mercato differiti non disponibili.SPX S&P 500 Stock Index/TOP/ALL

The last R message is not very clear since OPRA market data (which includes
SPX) is already included in my market data subscription.

In some cases, I get the last put option price for only few strike prices,
for others R does not stop running and stamp the message:

 "2 1 10090 Parte dei dati di mercato richiesti non sono sottoscritti. Tick
indipendenti dalle sottoscrizioni sono ancora attivi.Dati di mercato
differiti non disponibili.SPX S&P 500 Stock Index/TOP/ALL

This lead to problems in loops with multiple expirations and strikes (the
final aim is to create an option price chain from IB).

Any help would be greatly appreciated.

Simone

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Thu Aug 30 18:47:11 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Thu, 30 Aug 2018 16:47:11 +0000
Subject: [R-SIG-Finance] rmgarch/GAS models GAS models/betategarch
 GAS/egarch/rmgarch
Message-ID: <DM6PR01MB410717CA9EBE670F2A78D74BFC080@DM6PR01MB4107.prod.exchangelabs.com>

  1.  Has anyone experience with the score model packages, specially for packages working with rmgarch.
  2.  Can betategarch objects be used in rmgarch
  3.  Given the GAS limitation
?             The multivariate GAS model for N>4 does not report the exact update for the correlation parameters since the Jacobian of the hyperspherical coordinates transformation needs to be coded for the case N>4. The Jacobian for N>4 is replaced by the identity matrix.
Can I go ahead and use the end product as the Jacobian is not a required output at this   stage, or does this limitation not allow the software to work for more than 4

  1.  MSGARCH interfacing with rmgarch (as in cholette(2009))

My query on git is hereunder:
https://github.com/amitmittal-9294/PlutoMSDCCVineMidas/issues/1

Thanks to Alex Ghalanos, bitbucket has the current code with updated plot functionality in rmgarch objects.

BR
______________________________
Amit Mittal
Ph.D. in Finance and Accounting (tbd)
Indian Institute of Management, Lucknow
http://ssrn.com/author=2665511
Mob: +91 7899381263
______________________________


	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Sat Sep  1 15:30:35 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Sat, 1 Sep 2018 19:00:35 +0530
Subject: [R-SIG-Finance] Proposal for coding bridges in apps
Message-ID: <CAP8zaQAawcF5k=eFHGKR7fn_9f3qpygDxeydTzF2mChZp=BHZw@mail.gmail.com>

GAS SD models of Harvey 2013 work with DCC/FDCC Copula Garch models in
`rmgarch` using `rugarch` objects or as explained by Alex Ghalainos. In a
similar extension i want to use `MSGARCH` objects to create a regime like
in Cholette(2009) and test structural markers in a multivariate sample
sample > 1000 obs for each market/series. For example say, sged/sstd/Beta t
egarch -GAS-FDCC for these markets along with copulas and others for
robustness measures,

I need so I can actually use the `DCCfit` object of `rmgarch` for a common
output acroos a two regime MSGARCH spec for each univariate market/ideally
common spec across all 13 markets so i can compare with `vinecopula`. This
implies `MSGARCH` has already meshed with `multiDCCspec` and `DCCfit`
objects to get me working plots.

I believe then i have a comparable work with `vinecopula` package for
robustness tests of the vine specification

Also can `midasr` be extended into the `unigarchspec` objects of
`rugarch`/`rmgarch` to use dcc midas in `dccfit`



Best Regards

______________________________


???

-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Sep  5 06:44:58 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 5 Sep 2018 04:44:58 +0000
Subject: [R-SIG-Finance] Cordist/nisurface plots::rmgarch
Message-ID: <DM6PR01MB4107B00EBAB0D23E236902B2FC020@DM6PR01MB4107.prod.exchangelabs.com>

Hi


  1.  All attempts to use cordist failed

I tried changing xts object size to be an exact multiple of the rolling correlation window but I do not seem to correct the error


cordist(fdcc.fit.n at mfit$R, distance = "eigen", n=100, plot = TRUE, title = "DCC fit rolling Correlations plot", dates = NULL)

Error in seq.default(1, T, by = n) : 'to' must be of length 1

I tried originally with n=22 and truncated my xts to 4400 rows but still got the error . I replaced with 4399 rows thinking that might be the problem, which did not solve it


  1.  Nisurface  seems to be giving the same graph plot for any selected pair in contour option, while in surface I get the contours updated with correct values , there is no difference between different asset pairs (I have 13 assets and I got detailed and wonderfull DCC plots 4 at a time for all 13 over 400 graphs, Thanks a lot, amazingly texturized , Congratulations on a great product
  2.  I do not seem to get any graphica output for copula garch models dynamic (time.varying = TRUE) or static . Is there an option to be suggested
Best Regards




______________________________
Amit Mittal
Ph.D. in Finance and Accounting (tbd)
Indian Institute of Management, Lucknow
http://ssrn.com/author=2665511
Mob: +91 7899381263
______________________________


	[[alternative HTML version deleted]]


From prof@@mit@mitt@l m@ili@g off gm@il@com  Wed Sep  5 06:45:12 2018
From: prof@@mit@mitt@l m@ili@g off gm@il@com (prof@@mit@mitt@l m@ili@g off gm@il@com)
Date: Wed, 5 Sep 2018 10:15:12 +0530
Subject: [R-SIG-Finance] rmgarch: Alexios Ghalanos
 cordist/nisurface/copulagarch
Message-ID: <000001d444d3$3e6e47f0$bb4ad7d0$@gmail.com>

Hi,

 

I struck out with the following queries , mostly pertaining to graphing in
rmgarch

 

1.	Cordist()

 

> cordist(imfdcc.fit at mfit$R, distance = "eigen", n=100, plot = TRUE, title =
"DCC fit rolling Correlations plot", dates = NULL)

Error in seq.default(1, T, by = n) : 'to' must be of length 

 

Dccfit objects adjusted for any length of xts object are unable to get a
response apart from above error

 

I tried xts length according to chosen n but T by n is not satisfied. 

 

2.	Nisurface() 

 

Nisurface() seems to give out very similar looking plots for any and every
data in the contour option. The labeling in the surface option differs
according to the chosen pair=c(n,m)  

 

3.	For Cgarchfit() result objects, I have no plot options? Cannot find
any in the package. Has anyone used it to show output apart from listing
coefs.

 

 

I am using 13 assets. In the final case, cGarchfit() , I usually have
n(n-1)/2 or 78 copula parameters and none in time varying options when the
model just reports dcc parameters making it impossible to compare. The rest
is just univariate garch.

 

The plots from new rmgarch 1_3_5 package made my life shine with all 78
plots of exceedingly high quality and I hope to join more of them together a
s long data.frame in ggplot2()

 

 


	[[alternative HTML version deleted]]


From bog@@o@chri@tofer @ending from gm@il@com  Wed Sep 19 10:39:10 2018
From: bog@@o@chri@tofer @ending from gm@il@com (Christofer Bogaso)
Date: Wed, 19 Sep 2018 14:09:10 +0530
Subject: [R-SIG-Finance] BIS currency index
Message-ID: <CA+dpOJkca9LKFJyFEs8930JrbpGk0h2EVsqLKkwDWtCroCWsPg@mail.gmail.com>

Hi,

Have you heard anything about BIS narrow and broad indices for currencies?
In that case appreciate if you can share the constituents. Thanks,

	[[alternative HTML version deleted]]


From will@o@w@ld @ending from gm@il@com  Wed Sep 19 12:18:08 2018
From: will@o@w@ld @ending from gm@il@com (Will Oswald)
Date: Wed, 19 Sep 2018 10:18:08 +0000
Subject: [R-SIG-Finance] BIS currency index
In-Reply-To: <CA+dpOJkca9LKFJyFEs8930JrbpGk0h2EVsqLKkwDWtCroCWsPg@mail.gmail.com>
References: <CA+dpOJkca9LKFJyFEs8930JrbpGk0h2EVsqLKkwDWtCroCWsPg@mail.gmail.com>
Message-ID: <BLUPR18MB03210D1F8F3C48773E1E390CAF1C0@BLUPR18MB0321.namprd18.prod.outlook.com>

The BIS provides the data and the reference documentation here:
https://www.bis.org/statistics/eer.htm

Note that the weights for each country are re-estimated every 3 years, and calculated on the basis of direction of trade statistics, taking into consideration import weights, export weights, and third party competition (for example, Japan and Korea compete in many of the same electronics markets, so their relative exchange rate performance matters more than just the direct trade between these two countries).

________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Christofer Bogaso <bogaso.christofer at gmail.com>
Sent: Wednesday, September 19, 2018 4:39:10 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] BIS currency index

Hi,

Have you heard anything about BIS narrow and broad indices for currencies?
In that case appreciate if you can share the constituents. Thanks,

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

	[[alternative HTML version deleted]]


From @molgupt@87 @ending from gm@il@com  Wed Sep 19 15:15:58 2018
From: @molgupt@87 @ending from gm@il@com (amol gupta)
Date: Wed, 19 Sep 2018 18:45:58 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
Message-ID: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>

Hi

I need help to fetch option chain and pricing for active(+-1/2/3 sigma) for
an index. It would be nice if you could show this with an example. Here
<https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y>
is
the link for looking up the contract at interactive brokers

Here is what I have tried
________________________________________________
> c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency = "INR")
> d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
Warning messages:
1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
  Connectivity between IB and Trader Workstation has been lost.
2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
  No security definition has been found for the request
3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
  error in contract details
____________________________________________________

Since I want to fetch a chain there is no local name.

-- 
Regards
Amol
+91-9897860992

	[[alternative HTML version deleted]]


From @imonhovm@rk @ending from gm@il@com  Tue Sep 25 23:03:12 2018
From: @imonhovm@rk @ending from gm@il@com (Simon Hovmark)
Date: Tue, 25 Sep 2018 17:03:12 -0400
Subject: [R-SIG-Finance] xts 'order.by' cannot contain 'NA', 'NaN',
 or 'Inf' in optimize.portfolio.rebalancing
Message-ID: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>

I am trying to run the following optimize.portfolio.rebalancing:

opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
                                            optimize_method="ROI",
                                            #momentFUN = tranch1_boudt,
                                            rebalance_on = rebal.freq, 
                                            training_period = training.period,
                                            rolling_window = rolling.window)
But when I use summary(opt) I get the following error:

xts(x, order.by = order.by, frequency = frequency, ...) :'order.by' cannot contain 'NA', 'NaN', or 'Inf'
I can see that other has had a similar problem, but I've not been able to solve it using their answers. When I sum NA, NaN and InF on returns$dato I get 0.

A subset of my data is here:

dato       stock_1    stock_2    stock_3
1999-10-14 -0.002006019 0.016164145 -100
1999-10-15 0.000000000 0.000000000 -100
1999-10-18 -0.036813973 -0.049017341 -100
1999-10-19 0.016529302 0.000000000 -100
1999-10-20 0.016260521 0.011996238 -100
1999-10-21 0.008032172 0.005806736 -100
1999-10-22 0.000000000 0.000000000 -100 
1999-10-25 0.039220713 0.023164955 -100
1999-10-26 0.028437935 0.002152853 -100
1999-10-27 -0.032291505 0.014941580 -100
1999-10-28 0.030420597 0.011061477 -100
1999-10-29 0.000000000 0.000000000 -100
1999-11-02 0.027702603 -0.003410734 -100
1999-11-03 0.007259560 -0.007650743 -100
1999-11-04 0.003610112 0.000000000 -100
1999-11-05 0.000000000 0.000000000 -100
1999-11-08 0.014311514 0.005546033 -100
1999-11-09 0.007079676 -0.002373106 -100
1999-11-10 0.039763233 0.024512309 -100
1999-11-11 -0.001696353 -0.018721296 -100
1999-11-12 0.000000000 0.000000000 -100
And here is my full code.

rebal.freq <- "years"
training.period <- 0
rolling.window <- 120

returns <- read_excel("HEX.xlsx", sheet = 1, col_names = TRUE)
returns <- xts(returns[,-1], order.by= returns[,1])
returns <- Return.calculate(returns, method = "log")
returns <- returns[-1,]

returns[!is.finite(returns)] <- NA
returns[!is.finite(returns)] <- NA
returns <- na.fill(returns, fill = -100)
sum(is.nan(returns$dato)) #returns 0
sum(is.infinite(returns$dato)) #returns 0
sum(is.na(returns$dato)) #returns 0

fund.names <- colnames(returns)
tranch1 <- portfolio.spec(assets = fund.names)
tranch1 <- add.constraint(portfolio = tranch1, type = "leverage")
tranch1 <- add.constraint(portfolio = tranch1, type = "long_only")
tranch1 <- add.objective(portfolio=tranch1, type="return", name="mean")
tranch1 <- add.objective(portfolio=tranch1, type="risk", name="StdDev")

opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
                                            optimize_method="ROI",
                                            #momentFUN = tranch1_boudt,
                                            rebalance_on = rebal.freq, 
                                            training_period = training.period,
                                            rolling_window = rolling.window)


summary(opt)
And my sessioninfo:

R version 3.3.1 (2016-06-21)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.13.3 (unknown)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] RColorBrewer_1.1-2            readxl_0.1.1                        DEoptimR_1.0-8               
[4] PortfolioAnalytics_1.0.3636   PerformanceAnalytics_1.4.3541     foreach_1.4.4                
[7] xts_0.10-1                    zoo_1.7-13                   

loaded via a namespace (and not attached):
[1] compiler_3.3.1   parallel_3.3.1   tools_3.3.1      Rcpp_0.12.9          codetools_0.2-14
[6] grid_3.3.1       iterators_1.0.8  DEoptim_2.2-4    lattice_0.20-34 
EDIT When I read in the Excel file, then class(returns$Dato) returns 

class(returns$Dato) [1] "POSIXct" "POSIXt" 
Then instead of the below

returns <- xts(returns[,-1], order.by= returns[,1]) 
I tried using 

returns <- xts(returns[, -1], order.by=as.Date(paste(returns$Dato, "%m/%d/%Y")))
and run the optimization but summary(opt) again returned

xts(x, order.by = order.by, frequency = frequency, ...) :?order.by' cannot contain 'NA', 'NaN', or 'Inf'


	[[alternative HTML version deleted]]


From e@ @ending from enrico@chum@nn@net  Wed Sep 26 07:40:54 2018
From: e@ @ending from enrico@chum@nn@net (Enrico Schumann)
Date: Wed, 26 Sep 2018 07:40:54 +0200
Subject: [R-SIG-Finance] xts 'order.by' cannot contain 'NA', 'NaN',
 or 'Inf' in optimize.portfolio.rebalancing
In-Reply-To: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com> (Simon Hovmark's
 message of "Tue, 25 Sep 2018 17:03:12 -0400")
References: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>
Message-ID: <87tvmcbyu1.fsf@enricoschumann.net>

On Di, 25 Sep 2018, Simon Hovmark writes:

> I am trying to run the following optimize.portfolio.rebalancing:
>
> opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
>                                             optimize_method="ROI",
>                                             #momentFUN = tranch1_boudt,
>                                             rebalance_on = rebal.freq, 
>                                             training_period = training.period,
>                                             rolling_window = rolling.window)
> But when I use summary(opt) I get the following error:
>
> xts(x, order.by = order.by, frequency = frequency, ...) :'order.by' cannot contain 'NA', 'NaN', or 'Inf'
> I can see that other has had a similar problem, but I've not been able to solve it using their answers. When I sum NA, NaN and InF on returns$dato I get 0.
>
> A subset of my data is here:
>
> dato       stock_1    stock_2    stock_3
> 1999-10-14 -0.002006019 0.016164145 -100
> 1999-10-15 0.000000000 0.000000000 -100
> 1999-10-18 -0.036813973 -0.049017341 -100
> 1999-10-19 0.016529302 0.000000000 -100
> 1999-10-20 0.016260521 0.011996238 -100
> 1999-10-21 0.008032172 0.005806736 -100
> 1999-10-22 0.000000000 0.000000000 -100 
> 1999-10-25 0.039220713 0.023164955 -100
> 1999-10-26 0.028437935 0.002152853 -100
> 1999-10-27 -0.032291505 0.014941580 -100
> 1999-10-28 0.030420597 0.011061477 -100
> 1999-10-29 0.000000000 0.000000000 -100
> 1999-11-02 0.027702603 -0.003410734 -100
> 1999-11-03 0.007259560 -0.007650743 -100
> 1999-11-04 0.003610112 0.000000000 -100
> 1999-11-05 0.000000000 0.000000000 -100
> 1999-11-08 0.014311514 0.005546033 -100
> 1999-11-09 0.007079676 -0.002373106 -100
> 1999-11-10 0.039763233 0.024512309 -100
> 1999-11-11 -0.001696353 -0.018721296 -100
> 1999-11-12 0.000000000 0.000000000 -100
> And here is my full code.
>
> rebal.freq <- "years"
> training.period <- 0
> rolling.window <- 120
>
> returns <- read_excel("HEX.xlsx", sheet = 1, col_names = TRUE)
> returns <- xts(returns[,-1], order.by= returns[,1])
> returns <- Return.calculate(returns, method = "log")
> returns <- returns[-1,]
>
> returns[!is.finite(returns)] <- NA
> returns[!is.finite(returns)] <- NA
> returns <- na.fill(returns, fill = -100)
> sum(is.nan(returns$dato)) #returns 0
> sum(is.infinite(returns$dato)) #returns 0
> sum(is.na(returns$dato)) #returns 0
>
> fund.names <- colnames(returns)
> tranch1 <- portfolio.spec(assets = fund.names)
> tranch1 <- add.constraint(portfolio = tranch1, type = "leverage")
> tranch1 <- add.constraint(portfolio = tranch1, type = "long_only")
> tranch1 <- add.objective(portfolio=tranch1, type="return", name="mean")
> tranch1 <- add.objective(portfolio=tranch1, type="risk", name="StdDev")
>
> opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
>                                             optimize_method="ROI",
>                                             #momentFUN = tranch1_boudt,
>                                             rebalance_on = rebal.freq, 
>                                             training_period = training.period,
>                                             rolling_window = rolling.window)
>
>
> summary(opt)
> And my sessioninfo:
>
> R version 3.3.1 (2016-06-21)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X 10.13.3 (unknown)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>
> other attached packages:
> [1] RColorBrewer_1.1-2            readxl_0.1.1                        DEoptimR_1.0-8               
> [4] PortfolioAnalytics_1.0.3636   PerformanceAnalytics_1.4.3541     foreach_1.4.4                
> [7] xts_0.10-1                    zoo_1.7-13                   
>
> loaded via a namespace (and not attached):
> [1] compiler_3.3.1   parallel_3.3.1   tools_3.3.1      Rcpp_0.12.9          codetools_0.2-14
> [6] grid_3.3.1       iterators_1.0.8  DEoptim_2.2-4    lattice_0.20-34 
> EDIT When I read in the Excel file, then class(returns$Dato) returns 
>
> class(returns$Dato) [1] "POSIXct" "POSIXt" 
> Then instead of the below
>
> returns <- xts(returns[,-1], order.by= returns[,1]) 
> I tried using 
>
> returns <- xts(returns[, -1], order.by=as.Date(paste(returns$Dato, "%m/%d/%Y")))
> and run the optimization but summary(opt) again returned
>
> xts(x, order.by = order.by, frequency = frequency, ...) :?order.by' cannot contain 'NA', 'NaN', or 'Inf'
>
>
> 	[[alternative HTML version deleted]]
>

Your example is not reproducible: you should post the
data that causes the problems; e.g. by using
?dput. (But if the dataset is large, try find a
reasonably small subset that causes the problem and
send only the subset.)

You may check the dates with

    any(!is.finite(returns$dato))
    which(!is.finite(returns$dato))



-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From @molgupt@87 @ending from gm@il@com  Wed Sep 26 08:22:05 2018
From: @molgupt@87 @ending from gm@il@com (amol gupta)
Date: Wed, 26 Sep 2018 11:52:05 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
In-Reply-To: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
References: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
Message-ID: <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>

Someone, please help.

On Wed, Sep 19, 2018 at 6:45 PM amol gupta <amolgupta87 at gmail.com> wrote:

> Hi
>
> I need help to fetch option chain and pricing for active(+-1/2/3 sigma)
> for an index. It would be nice if you could show this with an example.
> Here
> <https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y> is
> the link for looking up the contract at interactive brokers
>
> Here is what I have tried
> ________________________________________________
> > c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency = "INR")
> > d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
> Warning messages:
> 1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
>   Connectivity between IB and Trader Workstation has been lost.
> 2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
>   No security definition has been found for the request
> 3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
>   error in contract details
> ____________________________________________________
>
> Since I want to fetch a chain there is no local name.
>
> --
> Regards
> Amol
> +91-9897860992
>
>

-- 
Regards
Amol
+91-9897860992

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Sep 26 08:54:18 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 26 Sep 2018 06:54:18 +0000
Subject: [R-SIG-Finance] xts 'order.by' cannot contain 'NA', 'NaN',
 or 'Inf' in optimize.portfolio.rebalancing
In-Reply-To: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>
References: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>
Message-ID: <DM6PR01MB4107A0404A6691F6D70BA396FC150@DM6PR01MB4107.prod.exchangelabs.com>



Where you are using data / data.frame use na.omit(data) na.omit(df) instead it will remove the rows with NAs or any market/asset. If you want to replace with zeroes etc instead of losing rows where NAs are included in your data, there are  other options to transform missing data using is.na()



https://stats.idre.ucla.edu/r/faq/how-does-r-handle-missing-values/





Best Regards

______________________________
Amit Mittal
Ph.D. in Finance and Accounting (tbd)
Indian Institute of Management, Lucknow
http://ssrn.com/author=2665511
Mob: +91 7899381263

______________________________



________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Simon Hovmark <simonhovmark at gmail.com>
Sent: Wednesday, September 26, 2018 2:33:12 AM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] xts 'order.by' cannot contain 'NA', 'NaN', or 'Inf' in optimize.portfolio.rebalancing

I am trying to run the following optimize.portfolio.rebalancing:

opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1,
                                            optimize_method="ROI",
                                            #momentFUN = tranch1_boudt,
                                            rebalance_on = rebal.freq,
                                            training_period = training.period,
                                            rolling_window = rolling.window)
But when I use summary(opt) I get the following error:

xts(x, order.by = order.by, frequency = frequency, ...) :'order.by' cannot contain 'NA', 'NaN', or 'Inf'
I can see that other has had a similar problem, but I've not been able to solve it using their answers. When I sum NA, NaN and InF on returns$dato I get 0.

A subset of my data is here:

dato       stock_1    stock_2    stock_3
1999-10-14 -0.002006019 0.016164145 -100
1999-10-15 0.000000000 0.000000000 -100
1999-10-18 -0.036813973 -0.049017341 -100
1999-10-19 0.016529302 0.000000000 -100
1999-10-20 0.016260521 0.011996238 -100
1999-10-21 0.008032172 0.005806736 -100
1999-10-22 0.000000000 0.000000000 -100
1999-10-25 0.039220713 0.023164955 -100
1999-10-26 0.028437935 0.002152853 -100
1999-10-27 -0.032291505 0.014941580 -100
1999-10-28 0.030420597 0.011061477 -100
1999-10-29 0.000000000 0.000000000 -100
1999-11-02 0.027702603 -0.003410734 -100
1999-11-03 0.007259560 -0.007650743 -100
1999-11-04 0.003610112 0.000000000 -100
1999-11-05 0.000000000 0.000000000 -100
1999-11-08 0.014311514 0.005546033 -100
1999-11-09 0.007079676 -0.002373106 -100
1999-11-10 0.039763233 0.024512309 -100
1999-11-11 -0.001696353 -0.018721296 -100
1999-11-12 0.000000000 0.000000000 -100
And here is my full code.

rebal.freq <- "years"
training.period <- 0
rolling.window <- 120

returns <- read_excel("HEX.xlsx", sheet = 1, col_names = TRUE)
returns <- xts(returns[,-1], order.by= returns[,1])
returns <- Return.calculate(returns, method = "log")
returns <- returns[-1,]

returns[!is.finite(returns)] <- NA
returns[!is.finite(returns)] <- NA
returns <- na.fill(returns, fill = -100)
sum(is.nan(returns$dato)) #returns 0
sum(is.infinite(returns$dato)) #returns 0
sum(is.na(returns$dato)) #returns 0

fund.names <- colnames(returns)
tranch1 <- portfolio.spec(assets = fund.names)
tranch1 <- add.constraint(portfolio = tranch1, type = "leverage")
tranch1 <- add.constraint(portfolio = tranch1, type = "long_only")
tranch1 <- add.objective(portfolio=tranch1, type="return", name="mean")
tranch1 <- add.objective(portfolio=tranch1, type="risk", name="StdDev")

opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1,
                                            optimize_method="ROI",
                                            #momentFUN = tranch1_boudt,
                                            rebalance_on = rebal.freq,
                                            training_period = training.period,
                                            rolling_window = rolling.window)


summary(opt)
And my sessioninfo:

R version 3.3.1 (2016-06-21)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.13.3 (unknown)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] RColorBrewer_1.1-2            readxl_0.1.1                        DEoptimR_1.0-8
[4] PortfolioAnalytics_1.0.3636   PerformanceAnalytics_1.4.3541     foreach_1.4.4
[7] xts_0.10-1                    zoo_1.7-13

loaded via a namespace (and not attached):
[1] compiler_3.3.1   parallel_3.3.1   tools_3.3.1      Rcpp_0.12.9          codetools_0.2-14
[6] grid_3.3.1       iterators_1.0.8  DEoptim_2.2-4    lattice_0.20-34
EDIT When I read in the Excel file, then class(returns$Dato) returns

class(returns$Dato) [1] "POSIXct" "POSIXt"
Then instead of the below

returns <- xts(returns[,-1], order.by= returns[,1])
I tried using

returns <- xts(returns[, -1], order.by=as.Date(paste(returns$Dato, "%m/%d/%Y")))
and run the optimization but summary(opt) again returned

xts(x, order.by = order.by, frequency = frequency, ...) :?order.by' cannot contain 'NA', 'NaN', or 'Inf'


        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Sep 26 12:26:29 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 26 Sep 2018 15:56:29 +0530
Subject: [R-SIG-Finance] Fwd: [R] Problems to obtain standardized betas in
 multiply-imputed data
In-Reply-To: <CAP8zaQARiw1ROxO+raCTcvdO0butoHPPgg5800G0O8McBoohsQ@mail.gmail.com>
References: <1b906c9b735b4d428ae528ef6609f74e@wexchprod08.huge.ad.hcuge.ch>
 <CAP8zaQARiw1ROxO+raCTcvdO0butoHPPgg5800G0O8McBoohsQ@mail.gmail.com>
Message-ID: <CAP8zaQDDUWF+c-YUq4W72q15HP0VfJ1ZRWEDRzn0co1QqeC5vw@mail.gmail.com>

---------- Forwarded message ---------
From: Amit Mittal <prof.amit.mittal at gmail.com>
Date: Wed 26 Sep, 2018, 15:55
Subject: Re: [R] Problems to obtain standardized betas in multiply-imputed
data
To: CHATTON Anne <Anne.Chatton at hcuge.ch>


Check all objects in lm results, you check 'summary(lm1)
names(lm1)
lm1<- lm(x1+x2+x3)'
names will show you need 'coefs(lm1)' u can check using cover and vcov
matrix

see data.princeton.edu/R/linear models.html for some names you can use
directly with 'lm'

Br

On Wed 26 Sep, 2018, 15:33 CHATTON Anne via R-help, <r-help at r-project.org>
wrote:

> Dear all,
>
> I am having problems in obtaining standardized betas on a multiply-imputed
> data set. Here are the codes I used :
> imp = mice(data, 5, maxit=10, seed=42, print=FALSE)
> FitImp <- with(imp,lm(y ~ x1 + x2 + x3))
> Up to here everything is fine. But when I ask for the standardized
> coefficients of the multiply-imputed regressions using this command :
> sdBeta <- lm.beta(FitImp)
> I get the following error message:
> Error in b * sx : argument non num?rique pour un op?rateur binaire
>
> Can anyone help me with this please?
>
> Anne
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Wed Sep 26 12:31:09 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Wed, 26 Sep 2018 16:01:09 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
In-Reply-To: <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>
References: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
 <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>
Message-ID: <CAP8zaQAhkXc=Q2knXXcObV0dkc6kT9ZkXYBGb_Kor=uBTU4Qpg@mail.gmail.com>

Available on r-bloggers.org using jsonlite and quant.stackexchange

Nse/Nifty does not share the data freely unless you want to crawl every few
months to collate the data. Available data is anyway able in CSV and should
not be a problem for R

On Wed 26 Sep, 2018, 11:52 amol gupta, <amolgupta87 at gmail.com> wrote:

> Someone, please help.
>
> On Wed, Sep 19, 2018 at 6:45 PM amol gupta <amolgupta87 at gmail.com> wrote:
>
> > Hi
> >
> > I need help to fetch option chain and pricing for active(+-1/2/3 sigma)
> > for an index. It would be nice if you could show this with an example.
> > Here
> > <
> https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y>
> is
> > the link for looking up the contract at interactive brokers
> >
> > Here is what I have tried
> > ________________________________________________
> > > c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency = "INR")
> > > d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
> > Warning messages:
> > 1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> >   Connectivity between IB and Trader Workstation has been lost.
> > 2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> >   No security definition has been found for the request
> > 3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
> >   error in contract details
> > ____________________________________________________
> >
> > Since I want to fetch a chain there is no local name.
> >
> > --
> > Regards
> > Amol
> > +91-9897860992
> >
> >
>
> --
> Regards
> Amol
> +91-9897860992
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
-- 

______________________________

Amit Mittal
Pursuing Ph.D. in Finance and Accounting
Indian Institute of Management, Lucknow
Visit my SSRN author page:
http://ssrn.com/author=2665511
* Top 10% Downloaded Author on SSRN
Mob: +91 7525023664

This message has been sent from a mobile device. I may contact you again.

_________________

	[[alternative HTML version deleted]]


From g@ne@h@@@1807 @ending from gm@il@com  Wed Sep 26 13:36:57 2018
From: g@ne@h@@@1807 @ending from gm@il@com (Ganesh Sonawane)
Date: Wed, 26 Sep 2018 17:06:57 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
In-Reply-To: <CAP8zaQAhkXc=Q2knXXcObV0dkc6kT9ZkXYBGb_Kor=uBTU4Qpg@mail.gmail.com>
References: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
 <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>
 <CAP8zaQAhkXc=Q2knXXcObV0dkc6kT9ZkXYBGb_Kor=uBTU4Qpg@mail.gmail.com>
Message-ID: <CALr0WW-HH6_Cb6buNz4zW+e+Z_wEsvcVgYqOLL1N+rj7bQpHtQ@mail.gmail.com>

Hi,

Have you tried scraping the page ? Because as said by Amit, NSE is not
sharing free data in .csv or xlsx format.

I am not sure by scraping the page you will get the data but you may try.

Regards
Ganesh S.


On Wed, Sep 26, 2018, 4:10 PM Amit Mittal <prof.amit.mittal at gmail.com>
wrote:

> Available on r-bloggers.org using jsonlite and quant.stackexchange
>
> Nse/Nifty does not share the data freely unless you want to crawl every few
> months to collate the data. Available data is anyway able in CSV and should
> not be a problem for R
>
> On Wed 26 Sep, 2018, 11:52 amol gupta, <amolgupta87 at gmail.com> wrote:
>
> > Someone, please help.
> >
> > On Wed, Sep 19, 2018 at 6:45 PM amol gupta <amolgupta87 at gmail.com>
> wrote:
> >
> > > Hi
> > >
> > > I need help to fetch option chain and pricing for active(+-1/2/3 sigma)
> > > for an index. It would be nice if you could show this with an example.
> > > Here
> > > <
> >
> https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y
> >
> > is
> > > the link for looking up the contract at interactive brokers
> > >
> > > Here is what I have tried
> > > ________________________________________________
> > > > c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency =
> "INR")
> > > > d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
> > > Warning messages:
> > > 1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> > >   Connectivity between IB and Trader Workstation has been lost.
> > > 2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> > >   No security definition has been found for the request
> > > 3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
> > >   error in contract details
> > > ____________________________________________________
> > >
> > > Since I want to fetch a chain there is no local name.
> > >
> > > --
> > > Regards
> > > Amol
> > > +91-9897860992
> > >
> > >
> >
> > --
> > Regards
> > Amol
> > +91-9897860992
> >
> >         [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
> --
>
> ______________________________
>
> Amit Mittal
> Pursuing Ph.D. in Finance and Accounting
> Indian Institute of Management, Lucknow
> Visit my SSRN author page:
> http://ssrn.com/author=2665511
> * Top 10% Downloaded Author on SSRN
> Mob: +91 7525023664
>
> This message has been sent from a mobile device. I may contact you again.
>
> _________________
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From bri@n @ending from br@verock@com  Wed Sep 26 14:05:16 2018
From: bri@n @ending from br@verock@com (Brian G. Peterson)
Date: Wed, 26 Sep 2018 07:05:16 -0500
Subject: [R-SIG-Finance] xts 'order.by' cannot contain 'NA', 'NaN',
 or 'Inf' in optimize.portfolio.rebalancing
In-Reply-To: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>
References: <D0F379DF-DD4D-40BE-BB97-B0B8DC9EAFD2@gmail.com>
Message-ID: <1537963516.5013.22.camel@braverock.com>

As Amit already said, zero is a better answer than -100.  log returns
don't behave well with -100x compounding returns.  This is what is
causing Inf/-Inf problems.  there is a 'zerofill' utility function
available in PerformanceAnalytics to make this replacement easier.  

see:

?zerofill

If you are *also* having a problem with order.by, your sample data
would b e insufficient to reproduce it, since the index in the subset
you pasted seems well-formed.

If Amit's and my suggestion to replace NA with 0 in your returns
doesn't solve the problem, then please reply to this thread with a
fully reproducible example (including data e.g. using dput function the
or reprex package).

Regards,

Brian
 
-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

On Tue, 2018-09-25 at 17:03 -0400, Simon Hovmark wrote:
> I am trying to run the following optimize.portfolio.rebalancing:
> 
> opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
>                                             optimize_method="ROI",
>                                             #momentFUN =
> tranch1_boudt,
>                                             rebalance_on =
> rebal.freq, 
>                                             training_period =
> training.period,
>                                             rolling_window =
> rolling.window)
> But when I use summary(opt) I get the following error:
> 
> xts(x, order.by = order.by, frequency = frequency, ...) :'order.by'
> cannot contain 'NA', 'NaN', or 'Inf'
> I can see that other has had a similar problem, but I've not been
> able to solve it using their answers. When I sum NA, NaN and InF on
> returns$dato I get 0.
> 
> A subset of my data is here:
> 
> dato       stock_1    stock_2    stock_3
> 1999-10-14 -0.002006019 0.016164145 -100
> 1999-10-15 0.000000000 0.000000000 -100
> 1999-10-18 -0.036813973 -0.049017341 -100
> 1999-10-19 0.016529302 0.000000000 -100
> 1999-10-20 0.016260521 0.011996238 -100
> 1999-10-21 0.008032172 0.005806736 -100
> 1999-10-22 0.000000000 0.000000000 -100 
> 1999-10-25 0.039220713 0.023164955 -100
> 1999-10-26 0.028437935 0.002152853 -100
> 1999-10-27 -0.032291505 0.014941580 -100
> 1999-10-28 0.030420597 0.011061477 -100
> 1999-10-29 0.000000000 0.000000000 -100
> 1999-11-02 0.027702603 -0.003410734 -100
> 1999-11-03 0.007259560 -0.007650743 -100
> 1999-11-04 0.003610112 0.000000000 -100
> 1999-11-05 0.000000000 0.000000000 -100
> 1999-11-08 0.014311514 0.005546033 -100
> 1999-11-09 0.007079676 -0.002373106 -100
> 1999-11-10 0.039763233 0.024512309 -100
> 1999-11-11 -0.001696353 -0.018721296 -100
> 1999-11-12 0.000000000 0.000000000 -100
> And here is my full code.
> 
> rebal.freq <- "years"
> training.period <- 0
> rolling.window <- 120
> 
> returns <- read_excel("HEX.xlsx", sheet = 1, col_names = TRUE)
> returns <- xts(returns[,-1], order.by= returns[,1])
> returns <- Return.calculate(returns, method = "log")
> returns <- returns[-1,]
> 
> returns[!is.finite(returns)] <- NA
> returns[!is.finite(returns)] <- NA
> returns <- na.fill(returns, fill = -100)
> sum(is.nan(returns$dato)) #returns 0
> sum(is.infinite(returns$dato)) #returns 0
> sum(is.na(returns$dato)) #returns 0
> 
> fund.names <- colnames(returns)
> tranch1 <- portfolio.spec(assets = fund.names)
> tranch1 <- add.constraint(portfolio = tranch1, type = "leverage")
> tranch1 <- add.constraint(portfolio = tranch1, type = "long_only")
> tranch1 <- add.objective(portfolio=tranch1, type="return",
> name="mean")
> tranch1 <- add.objective(portfolio=tranch1, type="risk",
> name="StdDev")
> 
> opt <- optimize.portfolio.rebalancing(R=returns, portfolio=tranch1, 
>                                             optimize_method="ROI",
>                                             #momentFUN =
> tranch1_boudt,
>                                             rebalance_on =
> rebal.freq, 
>                                             training_period =
> training.period,
>                                             rolling_window =
> rolling.window)
> 
> 
> summary(opt)
> And my sessioninfo:
> 
> R version 3.3.1 (2016-06-21)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X 10.13.3 (unknown)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] stats     graphics  grDevices
> utils     datasets  methods   base     
> 
> other attached packages:
> [1] RColorBrewer_1.1-
> 2            readxl_0.1.1                        DEoptimR_1.0-
> 8               
> [4]
> PortfolioAnalytics_1.0.3636   PerformanceAnalytics_1.4.3541     forea
> ch_1.4.4                
> [7] xts_0.10-1                    zoo_1.7-13                   
> 
> loaded via a namespace (and not attached):
> [1]
> compiler_3.3.1   parallel_3.3.1   tools_3.3.1      Rcpp_0.12.9       
>    codetools_0.2-14
> [6] grid_3.3.1       iterators_1.0.8  DEoptim_2.2-4    lattice_0.20-
> 34 
> EDIT When I read in the Excel file, then class(returns$Dato) returns 
> 
> class(returns$Dato) [1] "POSIXct" "POSIXt" 
> Then instead of the below
> 
> returns <- xts(returns[,-1], order.by= returns[,1]) 
> I tried using 
> 
> returns <- xts(returns[, -1], order.by=as.Date(paste(returns$Dato,
> "%m/%d/%Y")))
> and run the optimization but summary(opt) again returned
> 
> xts(x, order.by = order.by, frequency = frequency, ...) :?order.by'
> cannot contain 'NA', 'NaN', or 'Inf'
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R
> questions should go.
>


From @molgupt@87 @ending from gm@il@com  Wed Sep 26 19:34:11 2018
From: @molgupt@87 @ending from gm@il@com (amol gupta)
Date: Wed, 26 Sep 2018 23:04:11 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
In-Reply-To: <CALr0WW-HH6_Cb6buNz4zW+e+Z_wEsvcVgYqOLL1N+rj7bQpHtQ@mail.gmail.com>
References: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
 <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>
 <CAP8zaQAhkXc=Q2knXXcObV0dkc6kT9ZkXYBGb_Kor=uBTU4Qpg@mail.gmail.com>
 <CALr0WW-HH6_Cb6buNz4zW+e+Z_wEsvcVgYqOLL1N+rj7bQpHtQ@mail.gmail.com>
Message-ID: <CAO7kh0GVBcF4LAjcO2ZxW66imYqwFpMEMH=7GuWxzQyq2nE5NQ@mail.gmail.com>

I am inclined to use ibrokers. Is that possible?

On Wed, Sep 26, 2018, 5:07 PM Ganesh Sonawane <ganesh.s.1807 at gmail.com>
wrote:

> Hi,
>
> Have you tried scraping the page ? Because as said by Amit, NSE is not
> sharing free data in .csv or xlsx format.
>
> I am not sure by scraping the page you will get the data but you may try.
>
> Regards
> Ganesh S.
>
>
> On Wed, Sep 26, 2018, 4:10 PM Amit Mittal <prof.amit.mittal at gmail.com>
> wrote:
>
> > Available on r-bloggers.org using jsonlite and quant.stackexchange
> >
> > Nse/Nifty does not share the data freely unless you want to crawl every
> few
> > months to collate the data. Available data is anyway able in CSV and
> should
> > not be a problem for R
> >
> > On Wed 26 Sep, 2018, 11:52 amol gupta, <amolgupta87 at gmail.com> wrote:
> >
> > > Someone, please help.
> > >
> > > On Wed, Sep 19, 2018 at 6:45 PM amol gupta <amolgupta87 at gmail.com>
> > wrote:
> > >
> > > > Hi
> > > >
> > > > I need help to fetch option chain and pricing for active(+-1/2/3
> sigma)
> > > > for an index. It would be nice if you could show this with an
> example.
> > > > Here
> > > > <
> > >
> >
> https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y
> > >
> > > is
> > > > the link for looking up the contract at interactive brokers
> > > >
> > > > Here is what I have tried
> > > > ________________________________________________
> > > > > c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency =
> > "INR")
> > > > > d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
> > > > Warning messages:
> > > > 1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> > > >   Connectivity between IB and Trader Workstation has been lost.
> > > > 2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,  :
> > > >   No security definition has been found for the request
> > > > 3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
> > > >   error in contract details
> > > > ____________________________________________________
> > > >
> > > > Since I want to fetch a chain there is no local name.
> > > >
> > > > --
> > > > Regards
> > > > Amol
> > > > +91-9897860992
> > > >
> > > >
> > >
> > > --
> > > Regards
> > > Amol
> > > +91-9897860992
> > >
> > >         [[alternative HTML version deleted]]
> > >
> > > _______________________________________________
> > > R-SIG-Finance at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > -- Also note that this is not the r-help list where general R questions
> > > should go.
> > >
> > --
> >
> > ______________________________
> >
> > Amit Mittal
> > Pursuing Ph.D. in Finance and Accounting
> > Indian Institute of Management, Lucknow
> > Visit my SSRN author page:
> > http://ssrn.com/author=2665511
> > * Top 10% Downloaded Author on SSRN
> > Mob: +91 7525023664
> >
> > This message has been sent from a mobile device. I may contact you again.
> >
> > _________________
> >
> >         [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From g@ne@h@@@1807 @ending from gm@il@com  Wed Sep 26 19:57:52 2018
From: g@ne@h@@@1807 @ending from gm@il@com (Ganesh Sonawane)
Date: Wed, 26 Sep 2018 23:27:52 +0530
Subject: [R-SIG-Finance] Fetching options chain using ibrokers
In-Reply-To: <CAO7kh0GVBcF4LAjcO2ZxW66imYqwFpMEMH=7GuWxzQyq2nE5NQ@mail.gmail.com>
References: <CAO7kh0EqwZMy1rh=Sm2_7dxkOkrKEprS8LzbQqaxSMKkU+ZG6w@mail.gmail.com>
 <CAO7kh0GRczOdJ=nX__wru=s+s=kZpJcC--OvLtsTO4Tqys-Xtg@mail.gmail.com>
 <CAP8zaQAhkXc=Q2knXXcObV0dkc6kT9ZkXYBGb_Kor=uBTU4Qpg@mail.gmail.com>
 <CALr0WW-HH6_Cb6buNz4zW+e+Z_wEsvcVgYqOLL1N+rj7bQpHtQ@mail.gmail.com>
 <CAO7kh0GVBcF4LAjcO2ZxW66imYqwFpMEMH=7GuWxzQyq2nE5NQ@mail.gmail.com>
Message-ID: <CALr0WW-1fRjZBuewN_cDamy494jKDvcxghcSk3Vpi7=60QFgtg@mail.gmail.com>

I don't think so.

On Wed, Sep 26, 2018, 11:04 PM amol gupta <amolgupta87 at gmail.com> wrote:

> I am inclined to use ibrokers. Is that possible?
>
> On Wed, Sep 26, 2018, 5:07 PM Ganesh Sonawane <ganesh.s.1807 at gmail.com>
> wrote:
>
>> Hi,
>>
>> Have you tried scraping the page ? Because as said by Amit, NSE is not
>> sharing free data in .csv or xlsx format.
>>
>> I am not sure by scraping the page you will get the data but you may try.
>>
>> Regards
>> Ganesh S.
>>
>>
>> On Wed, Sep 26, 2018, 4:10 PM Amit Mittal <prof.amit.mittal at gmail.com>
>> wrote:
>>
>> > Available on r-bloggers.org using jsonlite and quant.stackexchange
>> >
>> > Nse/Nifty does not share the data freely unless you want to crawl every
>> few
>> > months to collate the data. Available data is anyway able in CSV and
>> should
>> > not be a problem for R
>> >
>> > On Wed 26 Sep, 2018, 11:52 amol gupta, <amolgupta87 at gmail.com> wrote:
>> >
>> > > Someone, please help.
>> > >
>> > > On Wed, Sep 19, 2018 at 6:45 PM amol gupta <amolgupta87 at gmail.com>
>> > wrote:
>> > >
>> > > > Hi
>> > > >
>> > > > I need help to fetch option chain and pricing for active(+-1/2/3
>> sigma)
>> > > > for an index. It would be nice if you could show this with an
>> example.
>> > > > Here
>> > > > <
>> > >
>> >
>> https://pennies.interactivebrokers.com/cstools/contract_info/v3.10/index.php?action=Advanced%20Search&entityId=a31749936&lang=en&wlId=IB&showEntities=Y
>> > >
>> > > is
>> > > > the link for looking up the contract at interactive brokers
>> > > >
>> > > > Here is what I have tried
>> > > > ________________________________________________
>> > > > > c<-twsOPT(local="",symbol = "NIFTY50", exch = "NSE", currency =
>> > "INR")
>> > > > > d<-reqContractDetails(conn = tws, Contract = c, verbose = TRUE )
>> > > > Warning messages:
>> > > > 1: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,
>> :
>> > > >   Connectivity between IB and Trader Workstation has been lost.
>> > > > 2: In errorHandler(con, verbose, OK = c(165, 300, 366, 2104, 2106,
>> :
>> > > >   No security definition has been found for the request
>> > > > 3: In reqContractDetails(conn = tws, Contract = c, verbose = TRUE) :
>> > > >   error in contract details
>> > > > ____________________________________________________
>> > > >
>> > > > Since I want to fetch a chain there is no local name.
>> > > >
>> > > > --
>> > > > Regards
>> > > > Amol
>> > > > +91-9897860992
>> > > >
>> > > >
>> > >
>> > > --
>> > > Regards
>> > > Amol
>> > > +91-9897860992
>> > >
>> > >         [[alternative HTML version deleted]]
>> > >
>> > > _______________________________________________
>> > > R-SIG-Finance at r-project.org mailing list
>> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > > -- Subscriber-posting only. If you want to post, subscribe first.
>> > > -- Also note that this is not the r-help list where general R
>> questions
>> > > should go.
>> > >
>> > --
>> >
>> > ______________________________
>> >
>> > Amit Mittal
>> > Pursuing Ph.D. in Finance and Accounting
>> > Indian Institute of Management, Lucknow
>> > Visit my SSRN author page:
>> > http://ssrn.com/author=2665511
>> > * Top 10% Downloaded Author on SSRN
>> > Mob: +91 7525023664
>> >
>> > This message has been sent from a mobile device. I may contact you
>> again.
>> >
>> > _________________
>> >
>> >         [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Finance at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > -- Subscriber-posting only. If you want to post, subscribe first.
>> > -- Also note that this is not the r-help list where general R questions
>> > should go.
>> >
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>

	[[alternative HTML version deleted]]


From cridder @ending from md@link@com  Thu Sep 27 17:28:31 2018
From: cridder @ending from md@link@com (Chris Ridder)
Date: Thu, 27 Sep 2018 09:28:31 -0600
Subject: [R-SIG-Finance] Correct princeton R models link
Message-ID: <CABOJ3dcDsxG41RpLMdTfv+kLujEMvUm5BibfokDbD9kqDZWBHg@mail.gmail.com>

Hi All,
Someone wrote:
"Check all objects in lm results, you check 'summary(lm1)
names(lm1)
lm1<- lm(x1+x2+x3)'
names will show you need 'coefs(lm1)' u can check using cover and vcov
matrix

see data.princeton.edu/R/linear models.html for some names you can use
directly with 'lm'"

However, the correct link is this:
http://data.princeton.edu/r/linearmodels.html

Cheers,

Chris Ridder

-- 

*MSc Investment Management - Cass Business School: City, University of
London *
*Chartered Financial Analyst* <http://basno.com/0hxcbihl>

	[[alternative HTML version deleted]]


From prof@@mit@mitt@l @ending from gm@il@com  Thu Sep 27 19:05:07 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Thu, 27 Sep 2018 17:05:07 +0000
Subject: [R-SIG-Finance] Correct princeton R models link
In-Reply-To: <CABOJ3dcDsxG41RpLMdTfv+kLujEMvUm5BibfokDbD9kqDZWBHg@mail.gmail.com>
References: <CABOJ3dcDsxG41RpLMdTfv+kLujEMvUm5BibfokDbD9kqDZWBHg@mail.gmail.com>
Message-ID: <DM6PR01MB4107D5FDA6516DF277BD7D78FC140@DM6PR01MB4107.prod.exchangelabs.com>

Thanks. Please use your understanding and common sense and don't overburden everyone with email.

The short mail was sent using a mobile device. It also illustrates a need to use common solutions in the public domain before resorting to the list.

------------
Amit Mittal
PhD in Finance and Accounting (tbd)
IIM Lucknow
http://ssrn.com/author=2665511
*Top 10%, downloaded author since July 2017
------------
Sent from my Outlook for Android
https://aka.ms/ghei36

________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Chris Ridder <cridder at mdalink.com>
Sent: Thursday, September 27, 2018 8:58:31 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] Correct princeton R models link

Hi All,
Someone wrote:
"Check all objects in lm results, you check 'summary(lm1)
names(lm1)
lm1<- lm(x1+x2+x3)'
names will show you need 'coefs(lm1)' u can check using cover and vcov
matrix

see data.princeton.edu/R/linear models.html for some names you can use
directly with 'lm'"

However, the correct link is this:
http://data.princeton.edu/r/linearmodels.html

Cheers,

Chris Ridder

--

*MSc Investment Management - Cass Business School: City, University of
London *
*Chartered Financial Analyst* <http://basno.com/0hxcbihl>

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

	[[alternative HTML version deleted]]


From j@@onh@rt4 @ending from icloud@com  Sat Sep 29 17:22:41 2018
From: j@@onh@rt4 @ending from icloud@com (Jason Hart)
Date: Sat, 29 Sep 2018 15:22:41 +0000 (GMT)
Subject: [R-SIG-Finance] Probability / Standard Deviation Cone
Message-ID: <03a553a1-625e-4afc-a4df-df6e224bf500@me.com>

I didn't see this in the archives anywhere but I'm curious if anyone has looked at standard deviation cones to assess how an asset or manager is performing relative to expectations based on longer term volatility and returns, i.e. are they performing ahead of expectations or below.? Here's a picture of a standard deviation cone created in excel which is tedious.? Basically there's the expected long term return plotted as a straight line and then additional plots of 1 & 2 standard deviation bands above and below the expected return.


I'd like to be able to do this in R because it is much quicker and easier than in excel.? I'm able to get the cone but the one thing I'm trying to do is plot an overlay of the cumulative returns on top of the cone.? I can't get these two to play well together b/c one data set is timeseries.? I'd to try and overlay something like chart.CumReturns? from the performanceanalytics package.? Any help is much appreciated

Here's an example plotting the cone in ggplot:
data(edhec)
vol <- StdDev.annualized(edhec[,2]) / 2 * 1:4 # 4 volatility levels
days <- 0:152 #Number of months
spot <- 1 ## starting price point
drift <- Return.cumulative(edhec[,2]) #total return

dat <- expand.grid(days, vol) # nice and long
names(dat) <- c("days", "vol")
dat$upper <- exp(log(spot) + (drift - (dat$vol^2 / 2)) * dat$days / 365 +
dat$vol * sqrt(dat$days / 365))
dat$lower <- exp(log(spot) + (drift - (dat$vol^2 / 2)) * dat$days / 365 -
dat$vol * sqrt(dat$days / 365))

ggplot(dat, aes(x = days,
ymin = lower,
ymax = upper,
group = factor(vol))) + # we need the group to tell
# which ribbons go together
geom_ribbon(alpha = 0.2, fill = "dodgerblue2", color = "gray70") 



?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180929/45f04eed/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: PastedImage-2.png
Type: image/png
Size: 57567 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180929/45f04eed/attachment.png>

From prof@@mit@mitt@l @ending from gm@il@com  Sat Sep 29 17:53:33 2018
From: prof@@mit@mitt@l @ending from gm@il@com (Amit Mittal)
Date: Sat, 29 Sep 2018 15:53:33 +0000
Subject: [R-SIG-Finance] Probability / Standard Deviation Cone
In-Reply-To: <03a553a1-625e-4afc-a4df-df6e224bf500@me.com>
References: <03a553a1-625e-4afc-a4df-df6e224bf500@me.com>
Message-ID: <DM6PR01MB410720FCA7D9513225408719FCED0@DM6PR01MB4107.prod.exchangelabs.com>

This should be part of the PerformanceAnalytics package and big data constructs in R sharp ratio, Jensen's alpha and others would also be readily avl in R and MATLAB and bit/git for r and python

????????????
Amit Mittal
PhD in Finance and Accounting (tbd)
IIM Lucknow
http://ssrn.com/author=2665511
*Top 10%, downloaded author since July 2017
????????????
Sent from my Outlook for Android
https://aka.ms/ghei36

________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Jason Hart via R-SIG-Finance <r-sig-finance at r-project.org>
Sent: Saturday, September 29, 2018 8:52:41 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] Probability / Standard Deviation Cone

I didn't see this in the archives anywhere but I'm curious if anyone has looked at standard deviation cones to assess how an asset or manager is performing relative to expectations based on longer term volatility and returns, i.e. are they performing ahead of expectations or below.  Here's a picture of a standard deviation cone created in excel which is tedious.  Basically there's the expected long term return plotted as a straight line and then additional plots of 1 & 2 standard deviation bands above and below the expected return.
[PastedImage-2.png]

I'd like to be able to do this in R because it is much quicker and easier than in excel.  I'm able to get the cone but the one thing I'm trying to do is plot an overlay of the cumulative returns on top of the cone.  I can't get these two to play well together b/c one data set is timeseries.  I'd to try and overlay something like chart.CumReturns  from the performanceanalytics package.  Any help is much appreciated

Here's an example plotting the cone in ggplot:
data(edhec)
vol <- StdDev.annualized(edhec[,2]) / 2 * 1:4 # 4 volatility levels
days <- 0:152 #Number of months
spot <- 1 ## starting price point
drift <- Return.cumulative(edhec[,2]) #total return

dat <- expand.grid(days, vol) # nice and long
names(dat) <- c("days", "vol")
dat$upper <- exp(log(spot) + (drift - (dat$vol^2 / 2)) * dat$days / 365 +
dat$vol * sqrt(dat$days / 365))
dat$lower <- exp(log(spot) + (drift - (dat$vol^2 / 2)) * dat$days / 365 -
dat$vol * sqrt(dat$days / 365))

ggplot(dat, aes(x = days,
ymin = lower,
ymax = upper,
group = factor(vol))) + # we need the group to tell
# which ribbons go together
geom_ribbon(alpha = 0.2, fill = "dodgerblue2", color = "gray70")





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180929/95375819/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: PastedImage-2.png
Type: image/png
Size: 57567 bytes
Desc: PastedImage-2.png
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180929/95375819/attachment.png>

