From isaacm300 at gmail.com  Tue Jan  1 08:10:01 2013
From: isaacm300 at gmail.com (asfdoij asfoij)
Date: Mon, 31 Dec 2012 23:10:01 -0800
Subject: [R-SIG-Finance] Time-varying cointegration
Message-ID: <CALBLFAU9A2OCLV2xwNZyYN9AOJHos6yj+U9u+upmu3bJc6+X6w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20121231/7d12b14e/attachment.pl>

From altaf.kassam at ubs.com  Wed Jan  2 08:44:18 2013
From: altaf.kassam at ubs.com (altaf)
Date: Tue, 1 Jan 2013 23:44:18 -0800 (PST)
Subject: [R-SIG-Finance] Rbbg package's CONNECTION_FAILURE
In-Reply-To: <1356613227630-4654046.post@n4.nabble.com>
References: <CAA7=MyVOMr1re0ZN=5D1hg6AqxgWQ5Ozx4XCmk+yaAdiVpfpyA@mail.gmail.com>
	<CAA3Wa=seWG4VSxCbmsi9iZa6jYMFXBVVVFRFFaRsBX9DPjLfQA@mail.gmail.com>
	<1356601226217-4654022.post@n4.nabble.com>
	<COL125-W699FA61C3EC6533CA22778F380@phx.gbl>
	<1356602654062-4654026.post@n4.nabble.com>
	<COL125-W1686437030E060DE8C85F18F380@phx.gbl>
	<1356604511937-4654031.post@n4.nabble.com>
	<CABM-keFdUmCx+daCJCzsFaz5+mB4aF=pvpYBVJahbC+V3Uh+hQ@mail.gmail.com>
	<CAA3Wa=uOv=Yazoah5hTm7f6CQ03S+m_M8=jHwkBO4d4EpcVOkA@mail.gmail.com>
	<1356613227630-4654046.post@n4.nabble.com>
Message-ID: <1357112658435-4654391.post@n4.nabble.com>

Thanks to everyone for their suggestions here.  I managed to resolve the
issue by going through the following steps:
1)  Reinstall the Bloomberg Java API from WAPI <Go> on Bloomberg to make
sure I had the Java API v.3 and point the Rbbg blp.connect() call to this
version.
2)  Reinstall the JRE and JDK from Oracle to make sure I had the right
javac.exe and add this version to the PATH.
3)  To limit memory usage run 'memory.size(4095)' and add the parameters
'jvm.params = "-Xss1024k", cache.responses = FALSE' to the blp.connect()
call.
4)  Make sure bbcomm.exe was running.

Thanks again for all your help,


altaf wrote
> Thanks, John.  I found the other blpapi3.jar file and made sure I
> specified that but then I got the following CONNECTION_FAILURE:
> 
>> con.BBG <-
>> blpConnect(blpapi.jar.file="C:\\blp\\API\\APIv3\\JavaAPI\\v3.5.1.1\\lib\\blpapi3.jar")
> R version 2.15.2 (2012-10-26) 
> rJava Version 0.9-3 
> Rbbg Version 0.4-155 
> Java environment initialized successfully.
> Adding C:\blp\API\APIv3\JavaAPI\v3.5.1.1\lib\blpapi3.jar to Java classpath
> Error in .jnew("org/findata/blpwrapper/Connection", java.log.level) : 
>   org.findata.blpwrapper.WrapperException: Session not started because:
> CONNECTION_FAILURE
> John Laing wrote
>> A typical Bloomberg SDK installation includes 2 blpapi3.jar files. They
>> are
>> not the same, and for use with Rbbg one is "right" and one is "wrong". On
>> my Windows box I have:
>> right file: C:\blp\API\APIv3\JavaAPI\v3.4.5.5\lib\blpapi3.jar
>> wrong file: C:\blp\API\blpapi3.jar
>> 
>> I don't know the details of Altaf's installation, but I imagine it looks
>> similar except that the root has been moved from C:\blp to C:\Program
>> Files\Bloomberg\bloomberg. If you can find the other jar file buried in
>> there you should be all set.
>> 
>> -John
>> 
>> 
>> On Thu, Dec 27, 2012 at 6:58 AM, Nuno Ramiro &lt;

>> nunoramiro@

>> &gt; wrote:
>> 
>>> Hi,
>>>
>>> It looks like you might have a class path issue, i.e., Java is not able
>>> to
>>> find your WAPI jar/Java classes.
>>>
>>> I suggest that you double check that you have a blpapi3.jar file (or
>>> similar) under C:\Program Files\Bloomberg\bloomberg\API, as that's the
>>> required file.
>>>
>>> If you do, I would then suggest that you point the blpapi.jar.file
>>> variable
>>> to the correct jar, e.g.:
>>>
>>> blpConnect(blpapi.jar.file="C:\\Program
>>> Files\\Bloomberg\\bloomberg\\API\\blpapi3.jar")
>>>
>>> Hope it helps.
>>>
>>> Nuno
>>>
>>>
>>> On 27 December 2012 10:35, altaf &lt;

>> altaf.kassam@

>> &gt; wrote:
>>>
>>> > Thanks again Julien.  The BBG isntallataion is centrally maintained
>>> from
>>> a
>>> > package by my company's IT support and so I don't really have any
>>> control
>>> > over it and Bloomberg is so essential to my work (more, even than R)
>>> that I
>>> > don't really want to reinstall any part of it.
>>> > I will alert the maintainer of this package as you suggest (John
>>> Laing?)
>>> > Thanks again and Happy Holidays!
>>> >
>>> >
>>> >
>>> > --
>>> > View this message in context:
>>> >
>>> http://r.789695.n4.nabble.com/Rbbg-package-s-CONNECTION-FAILURE-tp4642600p4654031.html
>>> > Sent from the Rmetrics mailing list archive at Nabble.com.
>>> >
>>> > _______________________________________________
>>> > 

>> R-SIG-Finance@

>>  mailing list
>>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> > -- Subscriber-posting only. If you want to post, subscribe first.
>>> > -- Also note that this is not the r-help list where general R
>>> questions
>>> > should go.
>>> >
>>>
>>>
>>>
>>> --
>>> Nuno Ramiro
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> 

>> R-SIG-Finance@

>>  mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________

>> R-SIG-Finance@

>>  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.





--
View this message in context: http://r.789695.n4.nabble.com/Rbbg-package-s-CONNECTION-FAILURE-tp4642600p4654391.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From kpomichowski at gmail.com  Thu Jan  3 02:50:58 2013
From: kpomichowski at gmail.com (rquantnoob)
Date: Wed, 2 Jan 2013 17:50:58 -0800 (PST)
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
Message-ID: <1357177858456-4654469.post@n4.nabble.com>

I'm following quantstrat-I.pdf by Guy Yollin to learn the language.  But it
seems the .instrument does not load for me as it does in the .pdf. 
Installing quanstrat, installed 3 packages, "blotter","financialinstrument"
and "quantstrat".

.PDF example

R Code:
> ls(all=T)
[1] ".blotter" ".instrument"

_______________________________

Mine.

> ls(all=T)
[1] ".blotter"

Since I'm missing ".instrument" it isn't allowing me to follow through with
the next step.

The installation seemed to have gone through fine, please help.

Thank you.



--
View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Thu Jan  3 03:04:13 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 2 Jan 2013 20:04:13 -0600
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <1357177858456-4654469.post@n4.nabble.com>
References: <1357177858456-4654469.post@n4.nabble.com>
Message-ID: <CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>

The .instrument environment is now stored in the FinancialInstrument
NAMESPACE.

.instrument is now FinancialInstrument:::.instrument

 I don't know what the rest of the pdf does, so I'm not sure what's
keeping you from following through.  I suppose you could do this
assignment

.instrument <- FinancialInstrument:::.instrument

I'd guess that will make things work for you since environments are by
reference, but it's probably necessary.  What specifically is holding
you back?

Garrett





On Wed, Jan 2, 2013 at 7:50 PM, rquantnoob <kpomichowski at gmail.com> wrote:
> I'm following quantstrat-I.pdf by Guy Yollin to learn the language.  But it
> seems the .instrument does not load for me as it does in the .pdf.
> Installing quanstrat, installed 3 packages, "blotter","financialinstrument"
> and "quantstrat".
>
> .PDF example
>
> R Code:
>> ls(all=T)
> [1] ".blotter" ".instrument"
>
> _______________________________
>
> Mine.
>
>> ls(all=T)
> [1] ".blotter"
>
> Since I'm missing ".instrument" it isn't allowing me to follow through with
> the next step.
>
> The installation seemed to have gone through fine, please help.
>
> Thank you.
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From gsee000 at gmail.com  Thu Jan  3 03:05:59 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 2 Jan 2013 20:05:59 -0600
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
Message-ID: <CA+xi=qYt6NToO15f2r6mpM=gcnsfhjudhXFNgyDiOYLNrhPomQ@mail.gmail.com>

I mean it's probably NOT necessary to assign it to your workspace.

On Wed, Jan 2, 2013 at 8:04 PM, G See <gsee000 at gmail.com> wrote:
> The .instrument environment is now stored in the FinancialInstrument
> NAMESPACE.
>
> .instrument is now FinancialInstrument:::.instrument
>
>  I don't know what the rest of the pdf does, so I'm not sure what's
> keeping you from following through.  I suppose you could do this
> assignment
>
> .instrument <- FinancialInstrument:::.instrument
>
> I'd guess that will make things work for you since environments are by
> reference, but it's probably necessary.  What specifically is holding
> you back?
>
> Garrett
>
>
>
>
>
> On Wed, Jan 2, 2013 at 7:50 PM, rquantnoob <kpomichowski at gmail.com> wrote:
>> I'm following quantstrat-I.pdf by Guy Yollin to learn the language.  But it
>> seems the .instrument does not load for me as it does in the .pdf.
>> Installing quanstrat, installed 3 packages, "blotter","financialinstrument"
>> and "quantstrat".
>>
>> .PDF example
>>
>> R Code:
>>> ls(all=T)
>> [1] ".blotter" ".instrument"
>>
>> _______________________________
>>
>> Mine.
>>
>>> ls(all=T)
>> [1] ".blotter"
>>
>> Since I'm missing ".instrument" it isn't allowing me to follow through with
>> the next step.
>>
>> The installation seemed to have gone through fine, please help.
>>
>> Thank you.
>>
>>
>>
>> --
>> View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From kpomichowski at gmail.com  Thu Jan  3 03:08:14 2013
From: kpomichowski at gmail.com (rquantnoob)
Date: Wed, 2 Jan 2013 18:08:14 -0800 (PST)
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
Message-ID: <1357178894509-4654475.post@n4.nabble.com>

First, thank you for taking your time to reply to my message.  

Here is the next step that perhaps will shed light on what's happening. 

> currency("USD")
[1] "USD"

 > get("USD",envir=.instrument)
Error in get("USD", envir = .instrument) : object '.instrument' not found





--
View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654475.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Thu Jan  3 03:11:11 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 2 Jan 2013 20:11:11 -0600
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <1357178894509-4654475.post@n4.nabble.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
	<1357178894509-4654475.post@n4.nabble.com>
Message-ID: <CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>

> getInstrument("USD")
primary_id :"USD"
currency   :"USD"
multiplier :1
tick_size  :0.01
identifiers: list()
type       :"currency"

Please have a look at the demo directory of the package.

Best,
Garrett

On Wed, Jan 2, 2013 at 8:08 PM, rquantnoob <kpomichowski at gmail.com> wrote:
> First, thank you for taking your time to reply to my message.
>
> Here is the next step that perhaps will shed light on what's happening.
>
>> currency("USD")
> [1] "USD"
>
>  > get("USD",envir=.instrument)
> Error in get("USD", envir = .instrument) : object '.instrument' not found
>
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654475.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From gsee000 at gmail.com  Thu Jan  3 03:17:40 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 2 Jan 2013 20:17:40 -0600
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
	<1357178894509-4654475.post@n4.nabble.com>
	<CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>
Message-ID: <CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>

If you specifically want to use "get"

> get("USD", envir=FinancialInstrument:::.instrument)
primary_id :"USD"
currency   :"USD"
multiplier :1
tick_size  :0.01
identifiers: list()
type       :"currency"

or, I think this works too

> .instrument <- FinancialInstrument:::.instrument
> get("USD", envir=.instrument)
primary_id :"USD"
currency   :"USD"
multiplier :1
tick_size  :0.01
identifiers: list()
type       :"currency"

Garrett

On Wed, Jan 2, 2013 at 8:11 PM, G See <gsee000 at gmail.com> wrote:
>> getInstrument("USD")
> primary_id :"USD"
> currency   :"USD"
> multiplier :1
> tick_size  :0.01
> identifiers: list()
> type       :"currency"
>
> Please have a look at the demo directory of the package.
>
> Best,
> Garrett
>
> On Wed, Jan 2, 2013 at 8:08 PM, rquantnoob <kpomichowski at gmail.com> wrote:
>> First, thank you for taking your time to reply to my message.
>>
>> Here is the next step that perhaps will shed light on what's happening.
>>
>>> currency("USD")
>> [1] "USD"
>>
>>  > get("USD",envir=.instrument)
>> Error in get("USD", envir = .instrument) : object '.instrument' not found
>>
>>
>>
>>
>>
>> --
>> View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654475.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From kpomichowski at gmail.com  Thu Jan  3 03:21:15 2013
From: kpomichowski at gmail.com (rquantnoob)
Date: Wed, 2 Jan 2013 18:21:15 -0800 (PST)
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
	<1357178894509-4654475.post@n4.nabble.com>
	<CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>
	<CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>
Message-ID: <1357179675178-4654482.post@n4.nabble.com>

That worked, you are awesome!

Thank you so much.



--
View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654482.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From kpomichowski at gmail.com  Thu Jan  3 03:58:01 2013
From: kpomichowski at gmail.com (rquantnoob)
Date: Wed, 2 Jan 2013 18:58:01 -0800 (PST)
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
	<1357178894509-4654475.post@n4.nabble.com>
	<CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>
	<CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>
Message-ID: <1357181881140-4654484.post@n4.nabble.com>

I don't see your last post but I have the email.  Thank you for your
suggestion and I appreciate it, I started yesterday I'm really new, I'll
take anything at this point. :)



--
View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654484.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Thu Jan  3 04:09:20 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 2 Jan 2013 21:09:20 -0600
Subject: [R-SIG-Finance] Installed quantstrat along with blotter and
 FinancialInstrument but seems I'm missing .instrument
In-Reply-To: <1357181881140-4654484.post@n4.nabble.com>
References: <1357177858456-4654469.post@n4.nabble.com>
	<CA+xi=qZCaC8hgWGUncy5WXDrqCM31X2JajnTBw74e=tqp3Rigg@mail.gmail.com>
	<1357178894509-4654475.post@n4.nabble.com>
	<CA+xi=qZPpRNfk1=UVVKpFmTSr4sgTjTJq_9z--GtF=eAMjjz2A@mail.gmail.com>
	<CA+xi=qaU=u-uoCpazyccOvPz401BqV9EX53z4k9SstgRAtkNoQ@mail.gmail.com>
	<1357181881140-4654484.post@n4.nabble.com>
Message-ID: <CA+xi=qa49GtJLCKWwrRUntG=UvLyGcHAV9BxL7j3X13i2xszkQ@mail.gmail.com>

I sent the e-mail to you directly and did not copy the list.  This is
a mailing list.  nabble makes it look like an online forum, but it is
not.  Most people receive and reply to messages as e-mails not with
nabble.

Since you mention it on-list, and people are curious beings, here's what I sent:

On Wed, Jan 2, 2013 at 7:50 PM, rquantnoob <kpomichowski at gmail.com> wrote:
> I'm following quantstrat-I.pdf by Guy Yollin to learn the language.

With all due respect to Mr. Yollin and the authors of the packages
outlined in that (now outdated) pdf, a better place to start learning
R is "An Introduction to R"
(http://cran.r-project.org/doc/manuals/R-intro.pdf).

Garrett

On Wed, Jan 2, 2013 at 8:58 PM, rquantnoob <kpomichowski at gmail.com> wrote:
> I don't see your last post but I have the email.  Thank you for your
> suggestion and I appreciate it, I started yesterday I'm really new, I'll
> take anything at this point. :)
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Installed-quantstrat-along-with-blotter-and-FinancialInstrument-but-seems-I-m-missing-instrument-tp4654469p4654484.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From rhelpacc at gmail.com  Thu Jan  3 14:00:35 2013
From: rhelpacc at gmail.com (Robert A'gata)
Date: Thu, 3 Jan 2013 08:00:35 -0500
Subject: [R-SIG-Finance] Quantstrat runs quite slow on large data
In-Reply-To: <CAA7=MyV=tQ4LaLwrnckimdNSRDMnqoQmv3rx1E8rNMtM73-gDw@mail.gmail.com>
References: <CAA7=MyV=tQ4LaLwrnckimdNSRDMnqoQmv3rx1E8rNMtM73-gDw@mail.gmail.com>
Message-ID: <CAA7=MyXqs4rYvtisT-xkTB9pGN+wj+m2xGK-qx8PkpNOgFcJUA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130103/be45808b/attachment.pl>

From rhelpacc at gmail.com  Fri Jan  4 01:25:31 2013
From: rhelpacc at gmail.com (Robert A'gata)
Date: Thu, 3 Jan 2013 19:25:31 -0500
Subject: [R-SIG-Finance] Limit order and level in position limit in
	quantstrat
Message-ID: <CAA7=MyUS7jAx0gkka8GD1jCZGQja5HfiHYLNXrBAhheSD8Xc7g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130103/a7460732/attachment.pl>

From yolande.tra at gmail.com  Sun Jan  6 03:25:23 2013
From: yolande.tra at gmail.com (Yolande Tra)
Date: Sat, 5 Jan 2013 21:25:23 -0500
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average to
	monthly
Message-ID: <CAF=8oOZD_PRKWFgLLWiXkBS+on=1WAZkpxFE1+P05w2eEdzEVw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130105/79a12ece/attachment.pl>

From jeff.a.ryan at gmail.com  Sun Jan  6 03:58:15 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 5 Jan 2013 20:58:15 -0600
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average to
	monthly
In-Reply-To: <CAF=8oOZD_PRKWFgLLWiXkBS+on=1WAZkpxFE1+P05w2eEdzEVw@mail.gmail.com>
References: <CAF=8oOZD_PRKWFgLLWiXkBS+on=1WAZkpxFE1+P05w2eEdzEVw@mail.gmail.com>
Message-ID: <CABDUZc8wYMHA+vACVoNsDp3zdsUJborpTMU_CNxSb7f2KHiOqA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130105/c4a7b66a/attachment.pl>

From yolande.tra at gmail.com  Sun Jan  6 04:26:24 2013
From: yolande.tra at gmail.com (ytra)
Date: Sat, 5 Jan 2013 19:26:24 -0800 (PST)
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average to
	monthly
In-Reply-To: <CABDUZc8wYMHA+vACVoNsDp3zdsUJborpTMU_CNxSb7f2KHiOqA@mail.gmail.com>
References: <CAF=8oOZD_PRKWFgLLWiXkBS+on=1WAZkpxFE1+P05w2eEdzEVw@mail.gmail.com>
	<CABDUZc8wYMHA+vACVoNsDp3zdsUJborpTMU_CNxSb7f2KHiOqA@mail.gmail.com>
Message-ID: <1357442784684-4654769.post@n4.nabble.com>

Hi Jeff,

Thank you for your reply and the link. The problem I have is that the
frequency is not quarterly. The values were smoothed already as 3 months
moving average. Hope to hear more for help.

Thanks.



--
View this message in context: http://r.789695.n4.nabble.com/dis-aggregate-from-3-month-rolling-average-to-monthly-tp4654765p4654769.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Sun Jan  6 04:37:18 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 5 Jan 2013 21:37:18 -0600
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average to
	monthly
In-Reply-To: <1357442784684-4654769.post@n4.nabble.com>
References: <CAF=8oOZD_PRKWFgLLWiXkBS+on=1WAZkpxFE1+P05w2eEdzEVw@mail.gmail.com>
	<CABDUZc8wYMHA+vACVoNsDp3zdsUJborpTMU_CNxSb7f2KHiOqA@mail.gmail.com>
	<1357442784684-4654769.post@n4.nabble.com>
Message-ID: <CABDUZc_sU_EWk6q=6iTRequT8qDL43UUv=1XiX9BbREktV-kTg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130105/9d33f4f6/attachment.pl>

From man_9753 at yahoo.com  Sun Jan  6 12:03:40 2013
From: man_9753 at yahoo.com (v mande)
Date: Sun, 6 Jan 2013 03:03:40 -0800 (PST)
Subject: [R-SIG-Finance] (no subject)
Message-ID: <1357470220.97302.YahooMailNeo@web142301.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130106/29a4c19d/attachment.pl>

From matt at considine.net  Sun Jan  6 15:16:28 2013
From: matt at considine.net (Matt Considine)
Date: Sun, 06 Jan 2013 09:16:28 -0500
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average
	to	monthly
In-Reply-To: <mailman.0.1357470002.14574.r-sig-finance@r-project.org>
References: <mailman.0.1357470002.14574.r-sig-finance@r-project.org>
Message-ID: <50E9873C.7020809@considine.net>

You will need at least n actual, consecutive datapoints and knowledge of 
the exact smoothing weights for an n-period smoothed series (or, 
generally, all the actual underlying data for one smoothed point).  From 
there you can deconstruct not only the one corresponding smoothed 
datapoint but also the datapoint that preceded and followed, by backing 
out the missing datapoint from the known smoothed value.  Then you work 
your way up and down the time period to retrieve the series...
Matt


From yolande.tra at gmail.com  Sun Jan  6 16:18:57 2013
From: yolande.tra at gmail.com (Yolande Tra)
Date: Sun, 6 Jan 2013 10:18:57 -0500
Subject: [R-SIG-Finance] dis aggregate from 3 month rolling average to
	monthly
In-Reply-To: <50E9873C.7020809@considine.net>
References: <mailman.0.1357470002.14574.r-sig-finance@r-project.org>
	<50E9873C.7020809@considine.net>
Message-ID: <CAF=8oOY4New1GCxHvQ58ggtEbX8bvcToczFkfKF6wUWwRLsTpw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130106/57fc4fa5/attachment.pl>

From louisinuq at yahoo.com.au  Mon Jan  7 10:10:35 2013
From: louisinuq at yahoo.com.au (intertodd)
Date: Mon, 7 Jan 2013 01:10:35 -0800 (PST)
Subject: [R-SIG-Finance] Neural Network for trading
Message-ID: <1357549835881-4654814.post@n4.nabble.com>

Hi ,

Im trying to develop some trading strategies based on neural network
theory..but Im quite new to this area..

I checked neuralnet package which is built in the context of regression
analyses. Not exactly what I need..

Can anyone help me with this issue. like what package should I use, what
kinds of paper should I read etc..

thanks guys

Louis







--
View this message in context: http://r.789695.n4.nabble.com/Neural-Network-for-trading-tp4654814.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From msuzen at gmail.com  Mon Jan  7 11:12:59 2013
From: msuzen at gmail.com (Suzen, Mehmet)
Date: Mon, 7 Jan 2013 11:12:59 +0100
Subject: [R-SIG-Finance] Neural Network for trading
In-Reply-To: <1357549835881-4654814.post@n4.nabble.com>
References: <1357549835881-4654814.post@n4.nabble.com>
Message-ID: <CAPtbhHwgDmvcfB3DT03smo9qpy+Q=-EOFfcewnyRsqUNK-73jw@mail.gmail.com>

Hey Louis,

There is a book called "Biologically Inspired Algorithms for Financial
Modelling" by
Brabazon, Anthony and  O'Neill, Michael

Also, have a look at R package DEoptim.

Best,
-m

On 7 January 2013 10:10, intertodd <louisinuq at yahoo.com.au> wrote:
> Hi ,
>
> Im trying to develop some trading strategies based on neural network
> theory..but Im quite new to this area..
>
> I checked neuralnet package which is built in the context of regression
> analyses. Not exactly what I need..
>
> Can anyone help me with this issue. like what package should I use, what
> kinds of paper should I read etc..
>
> thanks guys
>
> Louis
>
>
>
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Neural-Network-for-trading-tp4654814.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From a1492dc at gmail.com  Mon Jan  7 12:44:48 2013
From: a1492dc at gmail.com (a1492dc)
Date: Mon, 7 Jan 2013 03:44:48 -0800 (PST)
Subject: [R-SIG-Finance] Neural Network for trading
In-Reply-To: <1357549835881-4654814.post@n4.nabble.com>
References: <1357549835881-4654814.post@n4.nabble.com>
Message-ID: <1357559088921-4654827.post@n4.nabble.com>

Hi,

try this article. 

http://www.inside-r.org/howto/time-series-analysis-and-order-prediction-r

It could be useful.

Bye
A.



--
View this message in context: http://r.789695.n4.nabble.com/Neural-Network-for-trading-tp4654814p4654827.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From louisinuq at yahoo.com.au  Wed Jan  9 07:49:28 2013
From: louisinuq at yahoo.com.au (intertodd)
Date: Tue, 8 Jan 2013 22:49:28 -0800 (PST)
Subject: [R-SIG-Finance] wavelet analyisis to denoising time series
Message-ID: <1357714167818-4655006.post@n4.nabble.com>

Hi everyone,

Im trying to use wavelet analysis to denoising time series data(stock index)
in order to perform a SVM forecast..
like use  db4, sqtwolog,4 levels...

There are a few packages avaliable with R:
wavelets: A package of funtions for computing wavelet filters, wavelet
transforms and multiresolution analyses. 

waveslim: Basic wavelet routines for one-, two- and three-dimensional signal
processing. 

wavethresh: Wavelets statistics and transforms. 

wmtsa: Insightful Wavelet Methods for Time Series Analysis

can anyone tell me which package should I use or maybe some codes please...

thanks guys

Best Regards

Louis



--
View this message in context: http://r.789695.n4.nabble.com/wavelet-analyisis-to-denoising-time-series-tp4655006.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From wlmr at zhaw.ch  Wed Jan  9 10:05:17 2013
From: wlmr at zhaw.ch (Wildi Marc (wlmr))
Date: Wed, 9 Jan 2013 09:05:17 +0000
Subject: [R-SIG-Finance] wavelet analyisis to denoising time series
In-Reply-To: <1357714167818-4655006.post@n4.nabble.com>
References: <1357714167818-4655006.post@n4.nabble.com>
Message-ID: <E2339A3600811248AB525B8FAB3A1BCE8C51360E@srv-mail-101.zhaw.ch>

Before you get involved too deeply into this application please consider that wavelets are not well-suited for the task you intend to perform (SVM forecasting).
-Wavelets are well-suited for a posteriori data-analysis in the middle of a time series
-They fail to behave well towards the sample boundaries (the last data point).
But you're free to allocate your time as you want, of course.

Marc


________________________________________
Von: r-sig-finance-bounces at r-project.org [r-sig-finance-bounces at r-project.org]&quot; im Auftrag von &quot;intertodd [louisinuq at yahoo.com.au]
Gesendet: Mittwoch, 9. Januar 2013 07:49
An: r-sig-finance at r-project.org
Betreff: [R-SIG-Finance] wavelet analyisis to denoising time series

Hi everyone,

Im trying to use wavelet analysis to denoising time series data(stock index)
in order to perform a SVM forecast..
like use  db4, sqtwolog,4 levels...

There are a few packages avaliable with R:
wavelets: A package of funtions for computing wavelet filters, wavelet
transforms and multiresolution analyses.

waveslim: Basic wavelet routines for one-, two- and three-dimensional signal
processing.

wavethresh: Wavelets statistics and transforms.

wmtsa: Insightful Wavelet Methods for Time Series Analysis

can anyone tell me which package should I use or maybe some codes please...

thanks guys

Best Regards

Louis



--
View this message in context: http://r.789695.n4.nabble.com/wavelet-analyisis-to-denoising-time-series-tp4655006.html
Sent from the Rmetrics mailing list archive at Nabble.com.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

From agracian at yahoo.co.uk  Wed Jan  9 15:27:24 2013
From: agracian at yahoo.co.uk (Alexander Gracian)
Date: Wed, 9 Jan 2013 14:27:24 +0000 (GMT)
Subject: [R-SIG-Finance] Junior Quantitative Strategist role
Message-ID: <1357741644.75982.YahooMailNeo@web172506.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130109/60d33f1f/attachment.pl>

From worik.stanton at gmail.com  Wed Jan  9 23:20:30 2013
From: worik.stanton at gmail.com (Worik Stanton)
Date: Thu, 10 Jan 2013 11:20:30 +1300
Subject: [R-SIG-Finance] Minor bug in addSAR
Message-ID: <50EDED2E.8090301@gmail.com>

 > getSymbols("YHOO")
 > YH <- YHOO[,-5] # Remove volume
 > chartSeries(YH, subset='2012-11::2013-01-07')
 > addSAR()

The SAR plot extends off the plot area.

Using chart_Series(..) it is the same except that the background colour 
of the plot is changed from white to black.

cheers
Worik
-- 
Overcoming poverty is not a task of charity, it is an act of justice


From stephen at organicfoodmarkets.com.au  Thu Jan 10 06:36:28 2013
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Thu, 10 Jan 2013 16:36:28 +1100
Subject: [R-SIG-Finance] programming opportunity
Message-ID: <50EE535C.50809@organicfoodmarkets.com.au>

Hi

I'm looking for someone to re-implement Ngai Hang Chan's Trading with 
Cointegration Pairs (p235 Time Series book) using the ASX SPI (200)

If successful could lead on to IBroker programming to implement dealing 
algorithm.


-- 
Stephen Choularton PhD, FIoD


From isaacm300 at gmail.com  Thu Jan 10 14:32:11 2013
From: isaacm300 at gmail.com (asfdoij asfoij)
Date: Thu, 10 Jan 2013 05:32:11 -0800
Subject: [R-SIG-Finance] How to retrieve standard errors of cointegrating
 vector from vars/urca ?
Message-ID: <CALBLFAWBvLwyA=o366kj8vLcXOgLQ_Z-3xQaTd7CBczhrtLKkw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130110/992e9c8d/attachment.pl>

From jaimie.villanueva at gmail.com  Fri Jan 11 20:50:01 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Fri, 11 Jan 2013 20:50:01 +0100
Subject: [R-SIG-Finance] Fitting RSLN models
Message-ID: <CAEXmNQAcHE0gjkDtiP2xVKZzB=m3wXWSQgWpCiEGg9H3CMXZXQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130111/bd8d0c92/attachment.pl>

From gsee000 at gmail.com  Fri Jan 11 20:56:29 2013
From: gsee000 at gmail.com (G See)
Date: Fri, 11 Jan 2013 13:56:29 -0600
Subject: [R-SIG-Finance] Fitting RSLN models
In-Reply-To: <CAEXmNQAcHE0gjkDtiP2xVKZzB=m3wXWSQgWpCiEGg9H3CMXZXQ@mail.gmail.com>
References: <CAEXmNQAcHE0gjkDtiP2xVKZzB=m3wXWSQgWpCiEGg9H3CMXZXQ@mail.gmail.com>
Message-ID: <CA+xi=qZO6DWPFyUdDs1ydanNPGBgJ-hBc6Ux1jKCjwa11i6LuA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130111/57e815d7/attachment.pl>

From gsee000 at gmail.com  Fri Jan 11 21:02:53 2013
From: gsee000 at gmail.com (G See)
Date: Fri, 11 Jan 2013 14:02:53 -0600
Subject: [R-SIG-Finance] Fitting RSLN models
In-Reply-To: <CA+xi=qZO6DWPFyUdDs1ydanNPGBgJ-hBc6Ux1jKCjwa11i6LuA@mail.gmail.com>
References: <CAEXmNQAcHE0gjkDtiP2xVKZzB=m3wXWSQgWpCiEGg9H3CMXZXQ@mail.gmail.com>
	<CA+xi=qZO6DWPFyUdDs1ydanNPGBgJ-hBc6Ux1jKCjwa11i6LuA@mail.gmail.com>
Message-ID: <CA+xi=qZjxrFJPN5nMyoYttedcoaw7pT1_7fndCw9GdOb8EbcNg@mail.gmail.com>

Sorry for the html, I'm having a hell of a time getting gmail to
consistently send plain text.


Looks like the code has been removed in Rev. 8.  You can still get
Rev. 7, but since the author removed the code, maybe you don't want it
afterall?

svn checkout svn://svn.r-forge.r-project.org/svnroot/rsln/@7

If the above line doesn't make sense, see

http://stackoverflow.com/questions/11105131/cannot-install-r-forge-package-using-install-packages/11105132#11105132

Garrett

On Fri, Jan 11, 2013 at 1:56 PM, G See <gsee000 at gmail.com> wrote:
> Looks like the code has been removed in Rev. 8.  You can still get Rev. 7,
> but since the author removed the code, maybe you don't want it afterall?
>
> svn checkout svn://svn.r-forge.r-project.org/svnroot/rsln/@7
>
> If the above line doesn't make sense, see
>
> http://stackoverflow.com/questions/11105131/cannot-install-r-forge-package-using-install-packages/11105132#11105132
>
> Garrett
>
> On Fri, Jan 11, 2013 at 1:50 PM, jaimie villanueva
> <jaimie.villanueva at gmail.com> wrote:
>>
>> Fitting RSLN
>
>
>


From singletonthebest at msn.com  Fri Jan 11 21:34:38 2013
From: singletonthebest at msn.com (Simone Gogna)
Date: Fri, 11 Jan 2013 21:34:38 +0100
Subject: [R-SIG-Finance] high frequency italian market data
Message-ID: <DUB107-ds523F0E3516C73A505A4C1D3290@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130111/fe112b5c/attachment.pl>

From michael.weylandt at gmail.com  Fri Jan 11 23:33:39 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Fri, 11 Jan 2013 22:33:39 +0000
Subject: [R-SIG-Finance] high frequency italian market data
In-Reply-To: <DUB107-ds523F0E3516C73A505A4C1D3290@phx.gbl>
References: <DUB107-ds523F0E3516C73A505A4C1D3290@phx.gbl>
Message-ID: <15B75F17-8083-4469-BFA7-1742401A5AD8@gmail.com>

Intraday data usually requires a paid data subscription. Do you have any particular source in mind?

MW

On Jan 11, 2013, at 8:34 PM, "Simone Gogna" <singletonthebest at msn.com> wrote:

> Dear R users,
> I hope this is not an already discussed topic. I tried with RSiteSearch(?high frequency italian market data?) but I was not successful in the research.
> I need to download data of the price of italian stocks with the highest possible frequency. 
> I know that, for example, in the library tseries
> 
> get.hist.quote("",start=())
> 
> would give me Open-High-Low-Close price but, as fas as get.hist.quote is concerned this gives me only data at daily frequency at most.
> I wonder if there is something similar that allows to import data of the italian stock market with frequencies of, at least, one hour.
> 
> thanks and best regards,
> Simone Gogna
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From singletonthebest at msn.com  Fri Jan 11 23:40:05 2013
From: singletonthebest at msn.com (singletonthebest)
Date: Fri, 11 Jan 2013 23:40:05 +0100
Subject: [R-SIG-Finance] R: Re:  high frequency italian market data
Message-ID: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130111/a6e7a043/attachment.pl>

From michael.weylandt at gmail.com  Fri Jan 11 23:45:00 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Fri, 11 Jan 2013 22:45:00 +0000
Subject: [R-SIG-Finance] high frequency italian market data
In-Reply-To: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>
References: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>
Message-ID: <CAAmySGPSBU-K_ePjbnGwCFrn+PHUOMLc5qBMxun1k-G6g0HwzQ@mail.gmail.com>

Backtesting we can do; historical intraday data, not so much (to the
best of my knowledge) -- sorry...

MW

On Fri, Jan 11, 2013 at 10:40 PM, singletonthebest
<singletonthebest at msn.com> wrote:
> Thanks for the answers!
> Michael: no particular source in mind. Actually I was hoping to find
> something for free even if I knew it would have been not much likely.
> The purpose of my request was due to the fact that I was willing to backtest
> with R some strategy that requires intraday data.
>
>
>
>
>
> Michael Weylandt <michael.weylandt at gmail.com> ha scritto:
>
> Intraday data usually requires a paid data subscription. Do you have any
> particular source in mind?
>
> MW
>
> On Jan 11, 2013, at 8:34 PM, "Simone Gogna" <singletonthebest at msn.com>
> wrote:
>
>> Dear R users,
>> I hope this is not an already discussed topic. I tried with
>> RSiteSearch(?high frequency italian market data?) but I was not successful
>> in the research.
>> I need to download data of the price of italian stocks with the highest
>> possible frequency.
>> I know that, for example, in the library tseries
>>
>> get.hist.quote("",start=())
>>
>> would give me Open-High-Low-Close price but, as fas as get.hist.quote is
>> concerned this gives me only data at daily frequency at most.
>> I wonder if there is something similar that allows to import data of the
>> italian stock market with frequencies of, at least, one hour.
>>
>> thanks and best regards,
>> Simone Gogna
>>    [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.


From brian at braverock.com  Sat Jan 12 02:17:52 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 11 Jan 2013 19:17:52 -0600
Subject: [R-SIG-Finance] R: Re:  high frequency italian market data
In-Reply-To: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>
References: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>
Message-ID: <50F0B9C0.7000905@braverock.com>

On 01/11/2013 04:40 PM, singletonthebest wrote:
> Thanks for the answers!
> Michael: no particular source in mind. Actually I was hoping to find something for free even if I knew it would have been not much likely.?
> The purpose of my request was due to the fact that I was willing to backtest with R some strategy that requires intraday data.

Try Interactive Brokers.  The IBrokers R package can download intraday 
data.  You may be able to use a free paper trading account to get some 
data.  Typically, though, you have to pay for quality intraday data.

-- 
Brian


From jeff.a.ryan at gmail.com  Sat Jan 12 02:38:54 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Fri, 11 Jan 2013 19:38:54 -0600
Subject: [R-SIG-Finance] R: Re: high frequency italian market data
In-Reply-To: <50F0B9C0.7000905@braverock.com>
References: <DUB405-EAS1876969F0DE3A6169D946EED3290@phx.gbl>
	<50F0B9C0.7000905@braverock.com>
Message-ID: <CABDUZc9=ChQHwvnwBQsnM7Su3D3fbSzM_ZX9uaPB6gnySU19sw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130111/b53e49d4/attachment.pl>

From dhruv.maheshwari at blackrock.com  Mon Jan 14 07:35:44 2013
From: dhruv.maheshwari at blackrock.com (Maheshwari, Dhruv)
Date: Mon, 14 Jan 2013 06:35:44 +0000
Subject: [R-SIG-Finance] blotter date question
Message-ID: <771AE4FBFBCF204D819D8B346ACFCB7419C9EF29@USPMSEXC110N01.na.blkint.com>

Hi,
I was planning on using blotter for a project, and I've looked through the demos, but I'm having difficulty understanding some behavior in the simple example below. The initial account equity is set to exactly the close for SPY on 2012-01-03, and one share is bought @ 127.5. But as I examine the ending equity for a series of dates, it appears to correspond to the *following* day's close. Similarly, the output from PortfReturns implies the share purchased on Jan 3 experienced a return (that day) from Jan 3 -> 4, which seems odd. I must be missing something simple -- perhaps a subtle timezone issue or something.

-- Main output:
> getTxns('tst','SPY')
           Txn.Qty Txn.Price Txn.Fees Txn.Value Txn.Avg.Cost Net.Txn.Realized.PL
2011-12-31       0       0.0        0       0.0          0.0                   0
2012-01-03       1     127.5        0     127.5        127.5                   0
> getEndEq('tst','2012-01-03')
[1] 127.7
> getEndEq('tst','2012-01-04')
[1] 128.04
> head(PortfReturns('tst'),4)
                            SPY
2011-12-31 00:00:00 0.000000000
2012-01-03 00:00:00 0.000000000
2012-01-03 19:00:00 0.001568627
2012-01-04 19:00:00 0.002666667
> head(Cl(SPY), 3)
           SPY.Close
2012-01-03    127.50
2012-01-04    127.70
2012-01-05    128.04

-- Code:
require(blotter)
require(quantmod)

# basic set up / data retrieval
currency('USD')
stock('SPY',currency='USD',multiplier=1)
getSymbols('SPY',from='2012-01-01',to='2012-12-31',src='yahoo', index.class=c("Date"))

# initial equity = price of SPY on txn.date
init.date = '2011-12-31'
txn.date = '2012-01-03'
price = as.numeric(Cl(SPY)[txn.date])

# portfolio/acct set up
.blotter <- new.env() 
initPortf('tst', symbols='SPY', currency="USD", initDate=init.date)
initAcct(name='tst', portfolios='tst', initEq=price, currency='USD', initDate=init.date)

# add transaction
addTxn(Portfolio='tst', Symbol='SPY', TxnDate=txn.date, TxnQty=1, TxnPrice=price)

# updates
updatePortf(Portfolio='tst', Dates='2012')
updateAcct('tst', '2012')
updateEndEq('tst','2012')

# result
getTxns('tst','SPY')
getEndEq('tst','2012-01-03')
getEndEq('tst','2012-01-04')
head(PortfReturns('tst'),4)
head(Cl(SPY), 3)



Thanks!
Dhruv

P.S. sessionInfo (blotter, FinancialInstrument, quantmod all built from SVN this evening):

R version 2.15.1 (2012-06-22)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                           LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] qmao_1.4.7                XML_3.95-0.1              gdata_2.12.0              blotter_0.8.13            FinancialInstrument_1.1.2
 [6] quantmod_0.4-0            TTR_0.21-1                Defaults_1.1-1            xts_0.9-1                 zoo_1.7-9                

loaded via a namespace (and not attached):
 [1] bitops_1.0-5     caTools_1.14     digest_0.6.0     grid_2.15.1      gtools_2.7.0     lattice_0.20-13  pander_0.3       RCurl_1.95-3    
 [9] RJSONIO_1.0-1    shiny_0.2.4      tools_2.15.1     websockets_1.1.7 xtable_1.7-0





THIS MESSAGE AND ANY ATTACHMENTS ARE CONFIDENTIAL, PROPRIETARY, AND MAY BE PRIVILEGED.  If this message was misdirected, BlackRock, Inc. and its subsidiaries, ("BlackRock") does not waive any confidentiality or privilege.  If you are not the intended recipient, please notify us immediately and destroy the message without disclosing its contents to anyone.  Any distribution, use or copying of this e-mail or the information it contains by other than an intended recipient is unauthorized.  The views and opinions expressed in this e-mail message are the author's own and may not reflect the views and opinions of BlackRock, unless the author is authorized by BlackRock to express such views or opinions on its behalf.  All email sent to or from this address is subject to electronic storage and review by BlackRock.  Although BlackRock operates anti-virus programs, it does not accept responsibility for any damage whatsoever caused by viruses being passed.


From dhruv.maheshwari at blackrock.com  Mon Jan 14 16:34:42 2013
From: dhruv.maheshwari at blackrock.com (Maheshwari, Dhruv)
Date: Mon, 14 Jan 2013 15:34:42 +0000
Subject: [R-SIG-Finance] blotter date question
In-Reply-To: <771AE4FBFBCF204D819D8B346ACFCB7419C9EF29@USPMSEXC110N01.na.blkint.com>
References: <771AE4FBFBCF204D819D8B346ACFCB7419C9EF29@USPMSEXC110N01.na.blkint.com>
Message-ID: <771AE4FBFBCF204D819D8B346ACFCB7419CA625D@USPMSEXC110N01.na.blkint.com>

Someone pointed out to me off-list that the PortfReturns time-stamps of 1900 indicate some sort of timezone offset. Indeed, I am in EST (GMT -5).

Doing something like
Sys.setenv(TZ="UTC") or Sys.setenv(TZ="GMT ")

Seems to resolve the issue. I understand that blotter uses POSIXct/POSIXlt under the hood, but I wonder why this requires setting my own timezone to GMT. I use xts quite a bit for daily data with indexClass POSIXct, and this hasn't come up, so clarifications on this point would be helpful for my understanding of the package.

Regards,
Dhruv

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Maheshwari, Dhruv
Sent: Monday, January 14, 2013 01:36
To: 'r-sig-finance at r-project.org'
Subject: [R-SIG-Finance] blotter date question

Hi,
I was planning on using blotter for a project, and I've looked through the demos, but I'm having difficulty understanding some behavior in the simple example below. The initial account equity is set to exactly the close for SPY on 2012-01-03, and one share is bought @ 127.5. But as I examine the ending equity for a series of dates, it appears to correspond to the *following* day's close. Similarly, the output from PortfReturns implies the share purchased on Jan 3 experienced a return (that day) from Jan 3 -> 4, which seems odd. I must be missing something simple -- perhaps a subtle timezone issue or something.

-- Main output:
> getTxns('tst','SPY')
           Txn.Qty Txn.Price Txn.Fees Txn.Value Txn.Avg.Cost Net.Txn.Realized.PL
2011-12-31       0       0.0        0       0.0          0.0                   0
2012-01-03       1     127.5        0     127.5        127.5                   0
> getEndEq('tst','2012-01-03')
[1] 127.7
> getEndEq('tst','2012-01-04')
[1] 128.04
> head(PortfReturns('tst'),4)
                            SPY
2011-12-31 00:00:00 0.000000000
2012-01-03 00:00:00 0.000000000
2012-01-03 19:00:00 0.001568627
2012-01-04 19:00:00 0.002666667
> head(Cl(SPY), 3)
           SPY.Close
2012-01-03    127.50
2012-01-04    127.70
2012-01-05    128.04

-- Code:
require(blotter)
require(quantmod)

# basic set up / data retrieval
currency('USD')
stock('SPY',currency='USD',multiplier=1)
getSymbols('SPY',from='2012-01-01',to='2012-12-31',src='yahoo', index.class=c("Date"))

# initial equity = price of SPY on txn.date init.date = '2011-12-31'
txn.date = '2012-01-03'
price = as.numeric(Cl(SPY)[txn.date])

# portfolio/acct set up
.blotter <- new.env()
initPortf('tst', symbols='SPY', currency="USD", initDate=init.date) initAcct(name='tst', portfolios='tst', initEq=price, currency='USD', initDate=init.date)

# add transaction
addTxn(Portfolio='tst', Symbol='SPY', TxnDate=txn.date, TxnQty=1, TxnPrice=price)

# updates
updatePortf(Portfolio='tst', Dates='2012') updateAcct('tst', '2012')
updateEndEq('tst','2012')

# result
getTxns('tst','SPY')
getEndEq('tst','2012-01-03')
getEndEq('tst','2012-01-04')
head(PortfReturns('tst'),4)
head(Cl(SPY), 3)



Thanks!
Dhruv

P.S. sessionInfo (blotter, FinancialInstrument, quantmod all built from SVN this evening):

R version 2.15.1 (2012-06-22)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                           LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] qmao_1.4.7                XML_3.95-0.1              gdata_2.12.0              blotter_0.8.13            FinancialInstrument_1.1.2
 [6] quantmod_0.4-0            TTR_0.21-1                Defaults_1.1-1            xts_0.9-1                 zoo_1.7-9                

loaded via a namespace (and not attached):
 [1] bitops_1.0-5     caTools_1.14     digest_0.6.0     grid_2.15.1      gtools_2.7.0     lattice_0.20-13  pander_0.3       RCurl_1.95-3    
 [9] RJSONIO_1.0-1    shiny_0.2.4      tools_2.15.1     websockets_1.1.7 xtable_1.7-0



THIS MESSAGE AND ANY ATTACHMENTS ARE CONFIDENTIAL, PROPRIETARY, AND MAY BE PRIVILEGED.  If this message was misdirected, BlackRock, Inc. and its subsidiaries, ("BlackRock") does not waive any confidentiality or privilege.  If you are not the intended recipient, please notify us immediately and destroy the message without disclosing its contents to anyone.  Any distribution, use or copying of this e-mail or the information it contains by other than an intended recipient is unauthorized.  The views and opinions expressed in this e-mail message are the author's own and may not reflect the views and opinions of BlackRock, unless the author is authorized by BlackRock to express such views or opinions on its behalf.  All email sent to or from this address is subject to electronic storage and review by BlackRock.  Although BlackRock operates anti-virus programs, it does not accept responsibility for any damage whatsoever caused by viruses being passed.


From rhelpacc at gmail.com  Tue Jan 15 04:00:24 2013
From: rhelpacc at gmail.com (Robert A'gata)
Date: Mon, 14 Jan 2013 22:00:24 -0500
Subject: [R-SIG-Finance] Search for best parameter set when backtesting
Message-ID: <CAA7=MyXo7ra7Nnc3bO1+8X0VzC_=ezU0M6PUz-z8qmj-7CGDFw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130114/35abc902/attachment.pl>

From jkaprich at gmail.com  Tue Jan 15 19:48:50 2013
From: jkaprich at gmail.com (jkaprich at gmail.com)
Date: Tue, 15 Jan 2013 12:48:50 -0600
Subject: [R-SIG-Finance] DEoptim Risk Return Scatter Plot
Message-ID: <8E3B434C-EE7C-48F9-B4C5-2BDAED346542@gmail.com>

Hi,

What is the best function to print a risk return scatter plot of a DEoptim object?

I saw such a chart in The R Journal Vol.3/1, June 2011, but have been unable to recreate it. My charting capabilities in R are weak, but improving.

Thanks for your help.

Sent from my iPhone


From josh.m.ulrich at gmail.com  Tue Jan 15 20:16:15 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 15 Jan 2013 13:16:15 -0600
Subject: [R-SIG-Finance] DEoptim Risk Return Scatter Plot
In-Reply-To: <8E3B434C-EE7C-48F9-B4C5-2BDAED346542@gmail.com>
References: <8E3B434C-EE7C-48F9-B4C5-2BDAED346542@gmail.com>
Message-ID: <CAPPM_gRw39NS=zLLvSbwf-oYP09LcGGdzi58OWP4hiQzs+FSkw@mail.gmail.com>

I would email the author(s) of the article and ask for the code they used.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Tue, Jan 15, 2013 at 12:48 PM,  <jkaprich at gmail.com> wrote:
> Hi,
>
> What is the best function to print a risk return scatter plot of a DEoptim object?
>
> I saw such a chart in The R Journal Vol.3/1, June 2011, but have been unable to recreate it. My charting capabilities in R are weak, but improving.
>
> Thanks for your help.
>
> Sent from my iPhone
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From wuwei_10003 at yahoo.com  Wed Jan 16 06:02:22 2013
From: wuwei_10003 at yahoo.com (Wei Wu)
Date: Tue, 15 Jan 2013 21:02:22 -0800 (PST)
Subject: [R-SIG-Finance] Can any of the GARCH model R packages handle
	seasonality ?
Message-ID: <1358312542.81952.YahooMailNeo@web161904.mail.bf1.yahoo.com>

I hope this is the correct list to submit this question. I am relatively new to this list and to GARCH modeling.
?
1. Is there any GARCH model R package that can handle seasonality in the data series?
2. For example, for intraday financial data, it is clearly the volatility is relatively high at the open and close. To me it seems like a seasonality/periodic effect.
3. When doing GARCH modeling for intraday data, how do people handle the gap inter-day?
4. Any suggestion of which GARCH r package has features built in to handle intraday data?
?
Thanks


From jkaprich at gmail.com  Fri Jan 18 07:58:43 2013
From: jkaprich at gmail.com (jkaprich at gmail.com)
Date: Fri, 18 Jan 2013 00:58:43 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics CoSkewness Function
Message-ID: <1CD1AB10-780F-4134-BA4C-AC4868F9C4A7@gmail.com>

Running ES using...

Method = "modified"

Data is a timeSeries object (SC.Adjusted) with 12 variables.

When calculating m3, do I follow ...

CoSkewness (SC.Adjusted, SC.Adjusted)

Appreciate your help.

Sent from my iPhone


From brian at braverock.com  Fri Jan 18 11:14:53 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 18 Jan 2013 04:14:53 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics CoSkewness Function
In-Reply-To: <1CD1AB10-780F-4134-BA4C-AC4868F9C4A7@gmail.com>
References: <1CD1AB10-780F-4134-BA4C-AC4868F9C4A7@gmail.com>
Message-ID: <50F9209D.6000809@braverock.com>

On 01/18/2013 12:58 AM, jkaprich at gmail.com wrote:
> Running ES using...
>
> Method = "modified"
>
> Data is a timeSeries object (SC.Adjusted) with 12 variables.
>
> When calculating m3, do I follow ...
>
> CoSkewness (SC.Adjusted, SC.Adjusted)
>
> Appreciate your help.

What about the documentation isn't clear?

You haven't followed the posting guide and provided a reproducible 
example, so it is rather difficult to guess what you are talking about.

"a timeSeries object (SC.Adjusted) with 12 variables" doesn't tell me 
whether you have a returns object with 12 columns, where each column 
represents the returns of one asset or whether you have twelve 
observations on a single return series.

If you have a univariate series, as the documentation says, you will use 
the skewness of the series as m3, see ?skewness

If you have a multivariate series, and you're doing component ES, you 
will again follow the documentation and use the coskewness matrix.  see 
?CoSkewnessMatrix

If you want the math, it is also all in the documentation (I suggest 
looking at the pdf version so that the math will be laid out nicely) and 
in even more detail in the references.

Given that R doesn't run on an iPhone, perhaps next time you would be so 
kind as to construct a reproducible example on your computer and use the 
browser interface to gmail to provide a bit more detail on your query 
(providing your name wouldn't hurt either).

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From jaimie.villanueva at gmail.com  Sun Jan 20 17:33:25 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Sun, 20 Jan 2013 17:33:25 +0100
Subject: [R-SIG-Finance] Help with rugarch
Message-ID: <CAEXmNQDmpimhATAkOfTjFr0A1w6NAS5Jp3Vw42BwVWSEuczeFg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130120/54acab04/attachment.pl>

From alexios at 4dscape.com  Sun Jan 20 18:51:43 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Sun, 20 Jan 2013 17:51:43 +0000
Subject: [R-SIG-Finance] Help with rugarch
In-Reply-To: <CAEXmNQDmpimhATAkOfTjFr0A1w6NAS5Jp3Vw42BwVWSEuczeFg@mail.gmail.com>
References: <CAEXmNQDmpimhATAkOfTjFr0A1w6NAS5Jp3Vw42BwVWSEuczeFg@mail.gmail.com>
Message-ID: <61D74828-2671-4272-BCD6-7042E20767EB@4dscape.com>

Try updating Rcpp and RcppArmadillo.

-Alexios


On Jan 20, 2013, at 16:33, jaimie villanueva <jaimie.villanueva at gmail.com> wrote:

> Hi R users,
> 
> I've just updated my rugarch package version from "rugarch_1.0-8" to
> "rugarch_1.0-16" and I'm getting a warning message never happened before.
> 
> This is the code I'm working with:.
> 
> *spec2=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1,
> 1)),mean.model = list(armaOrder = c(0,0), include.mean =
> F),distribution.model = "norm")*
> *modelo2=ugarchfit(spec2,Ut,solver = "solnp")*
> *modelo2*
> 
> When I run this, I get the following message:
> 
> *> spec2=ugarchspec(variance.model = list(model = "sGARCH", garchOrder =
> c(1, 1)),mean.model = list(armaOrder = c(0,0), include.mean =
> F),distribution.model = "norm")*
> *> modelo2=ugarchfit(spec2,d_Ut,solver = "solnp")*
> *Error in .hessian2sidedcpp(f, ipars[estidx, 1], arglist = arglist) : *
> *  SET_VECTOR_ELT() can only be applied to a 'list', not a 'symbol'*
> 
> The problem might be in relation with the version change, as this code
> works perfectly with my former version ("rugarch_1.0-8")
> 
> I don't know what this message stands for, so It would be apreciated any
> suggestion on this.
> 
> Jaimie.
> -- 
> *Jaimie.*
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From josh.m.ulrich at gmail.com  Sun Jan 20 19:57:07 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 20 Jan 2013 12:57:07 -0600
Subject: [R-SIG-Finance] Minor bug in addSAR
In-Reply-To: <50EDED2E.8090301@gmail.com>
References: <50EDED2E.8090301@gmail.com>
Message-ID: <CAPPM_gTFZT90QB3=jiPzByAKntnWG=HBvzTChy+rUQeUj3NT2Q@mail.gmail.com>

On Wed, Jan 9, 2013 at 4:20 PM, Worik Stanton <worik.stanton at gmail.com> wrote:
>> getSymbols("YHOO")
>> YH <- YHOO[,-5] # Remove volume
>> chartSeries(YH, subset='2012-11::2013-01-07')
>> addSAR()
>
> The SAR plot extends off the plot area.
>
If you consider this a bug in addSAR, then it's a bug in all the
overlay functions (i.e. all moving averages, Bollinger Bands, ZigZag,
etc.).  It would be nice if the overlay functions checked and revised
the y-axis limits, but it's probably more than a trivial patch.

> Using chart_Series(..) it is the same except that the background colour of
> the plot is changed from white to black.
>
There is no add_SAR, so I'm not sure how you got (or expected)
reasonable results by combining chart_Series with addSAR.

> cheers
> Worik
> --
> Overcoming poverty is not a task of charity, it is an act of justice
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From michael at velocity-trading.com  Mon Jan 21 12:42:07 2013
From: michael at velocity-trading.com (Michael Berman)
Date: Mon, 21 Jan 2013 22:42:07 +1100
Subject: [R-SIG-Finance] RAPA Trader Database Available to R Community for
	Download
Message-ID: <bcd82c864f05143ed436636b5fa8e24e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130121/a1ab5a7e/attachment.pl>

From sebastian.brown.v at gmail.com  Tue Jan 22 00:52:17 2013
From: sebastian.brown.v at gmail.com (SebastianBrown)
Date: Mon, 21 Jan 2013 15:52:17 -0800 (PST)
Subject: [R-SIG-Finance] Rbbg
Message-ID: <1358812337455-4656211.post@n4.nabble.com>

Hi,

I've installed Rbbg and have the latest software from Bloomberg running on
my workstation and BBComm is running. However, when running blpconnect, I
run into the following problem

> library(Rbbg)
Loading required package: rJava
> con.BBG <- blpconnect()
Error: could not find function "blpconnect"
> con.BBG <- blpConnect()
R version 2.15.2 (2012-10-26) 
rJava Version 0.9-3 
Rbbg Version 0.4-155 
Java environment initialized successfully.
Looking for most recent blpapi3.jar file...
Adding C:\blp\API\APIv3\JavaAPI\v3.5.1.1\lib\blpapi3.jar to Java classpath
Error in .jnew("org/findata/blpwrapper/Connection", java.log.level) : 
  org.findata.blpwrapper.WrapperException: Session not started because:
CONNECTION_FAILURE
> 

Any help with this would be much appreciated. Thanks a lot.

Best,
Sebastian



--
View this message in context: http://r.789695.n4.nabble.com/Rbbg-tp4656211.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From p.desmazis at gmail.com  Tue Jan 22 01:03:14 2013
From: p.desmazis at gmail.com (Pierre-Alexandre des Mazis)
Date: Tue, 22 Jan 2013 00:03:14 +0000
Subject: [R-SIG-Finance] Rbbg
In-Reply-To: <1358812337455-4656211.post@n4.nabble.com>
References: <1358812337455-4656211.post@n4.nabble.com>
Message-ID: <C2C1FBAD-D75B-4E3F-B502-F45A6BC57F01@gmail.com>


Hi,

using Rbbg is isually pretty straighforward if the path of your bloomberg files is the default one.
Confirm that you have a valid licence for bloomberg and that you are currently logged in on the same machine

Rgds


On 21 Jan 2013, at 23:52, SebastianBrown <sebastian.brown.v at gmail.com> wrote:

> Hi,
> 
> I've installed Rbbg and have the latest software from Bloomberg running on
> my workstation and BBComm is running. However, when running blpconnect, I
> run into the following problem
> 
>> library(Rbbg)
> Loading required package: rJava
>> con.BBG <- blpconnect()
> Error: could not find function "blpconnect"
>> con.BBG <- blpConnect()
> R version 2.15.2 (2012-10-26) 
> rJava Version 0.9-3 
> Rbbg Version 0.4-155 
> Java environment initialized successfully.
> Looking for most recent blpapi3.jar file...
> Adding C:\blp\API\APIv3\JavaAPI\v3.5.1.1\lib\blpapi3.jar to Java classpath
> Error in .jnew("org/findata/blpwrapper/Connection", java.log.level) : 
>  org.findata.blpwrapper.WrapperException: Session not started because:
> CONNECTION_FAILURE
> 
> Any help with this would be much appreciated. Thanks a lot.
> 
> Best,
> Sebastian
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Rbbg-tp4656211.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From sebastian.brown.v at gmail.com  Tue Jan 22 01:07:19 2013
From: sebastian.brown.v at gmail.com (SebastianBrown)
Date: Mon, 21 Jan 2013 16:07:19 -0800 (PST)
Subject: [R-SIG-Finance] Rbbg
In-Reply-To: <C2C1FBAD-D75B-4E3F-B502-F45A6BC57F01@gmail.com>
References: <1358812337455-4656211.post@n4.nabble.com>
	<C2C1FBAD-D75B-4E3F-B502-F45A6BC57F01@gmail.com>
Message-ID: <1358813239973-4656214.post@n4.nabble.com>

Thanks for your reply.

I do have a valid license for Bloomberg and I am logged into the same
workstation.

In terms of the location of the program, Bloomberg is installed in
C:\Program Files\Bloomberg and I have installed the SDK into C:\blp\



--
View this message in context: http://r.789695.n4.nabble.com/Rbbg-tp4656211p4656214.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From sebastian.brown.v at gmail.com  Tue Jan 22 13:10:56 2013
From: sebastian.brown.v at gmail.com (SebastianBrown)
Date: Tue, 22 Jan 2013 04:10:56 -0800 (PST)
Subject: [R-SIG-Finance] Rbbg
In-Reply-To: <1358827387133-4656232.post@n4.nabble.com>
References: <1358812337455-4656211.post@n4.nabble.com>
	<C2C1FBAD-D75B-4E3F-B502-F45A6BC57F01@gmail.com>
	<1358813239973-4656214.post@n4.nabble.com>
	<1358827387133-4656232.post@n4.nabble.com>
Message-ID: <1358856656808-4656254.post@n4.nabble.com>

This is what I get when I do traceback():

> con.BBG <-  blpConnect()
R version 2.15.2 (2012-10-26) 
rJava Version 0.9-3 
Rbbg Version 0.4-155 
Java environment initialized successfully.
Looking for most recent blpapi3.jar file...
Adding C:\blp\API\APIv3\JavaAPI\v3.5.1.1\lib\blpapi3.jar to Java classpath
Error in .jnew("org/findata/blpwrapper/Connection", java.log.level) : 
  org.findata.blpwrapper.WrapperException: Session not started because:
CONNECTION_FAILURE
> traceback()
7: stop(list(message = "org.findata.blpwrapper.WrapperException: Session not
started because: CONNECTION_FAILURE", 
       call = .jnew("org/findata/blpwrapper/Connection", java.log.level), 
       jobj = <S4 object of class "jobjRef">))
6: .External(RcreateObject, class, ..., silent = silent)
5: .jnew("org/findata/blpwrapper/Connection", java.log.level)
4: blpConnect.Java("warning", NULL, TRUE, NULL, TRUE, FALSE)
3: eval(expr, envir, enclos)
2: eval(fn.call)
1: blpConnect()

Thanks



--
View this message in context: http://r.789695.n4.nabble.com/Rbbg-tp4656211p4656254.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From thomas.fuller at coherentlogic.com  Fri Jan 25 16:49:48 2013
From: thomas.fuller at coherentlogic.com (Thomas P. Fuller)
Date: Fri, 25 Jan 2013 07:49:48 -0800 (PST)
Subject: [R-SIG-Finance] Coherent Datafeed: Historic Time Series Data from
	Thomson Reuters is available
Message-ID: <1359128988.7263.YahooMailNeo@web2818.biz.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130125/5df71fc6/attachment.pl>

From nikos.rachmanis at gmail.com  Sun Jan 27 11:33:22 2013
From: nikos.rachmanis at gmail.com (Nikos Rachmanis)
Date: Sun, 27 Jan 2013 05:33:22 -0500
Subject: [R-SIG-Finance] Conversion of xts to ts object
Message-ID: <51050272.5060904@gmail.com>

Hi all,

I am trying to convert a xts to ts object in order to use with 
decompose() and forecast() functions.

I am currently using the following command which works:

tsdata<-ts(tradedata$dif,frequency=252)

where tradedata is the xts object.

I would feel more comfortable if i did not have to set the trading days 
in advance cause I am dealing with many years of daily data. I have 
search the internet but most people suggest similar ways.

Has anyone come across this problem?

Thank you,

Nikos


From ho.james.cs at gmail.com  Mon Jan 28 00:24:21 2013
From: ho.james.cs at gmail.com (hova9411)
Date: Sun, 27 Jan 2013 15:24:21 -0800 (PST)
Subject: [R-SIG-Finance] Bloomberg login through R
In-Reply-To: <9DE405308A6AA24AA794B76282C6C00F0DEA9E3B47@HQ-POST1>
References: <37F03B5FAABCC94D8AF66166AAE3639902EA5496@fnymail.fnylocal.com>
	<9DE405308A6AA24AA794B76282C6C00F0DEA9E3B47@HQ-POST1>
Message-ID: <1359329061560-4656796.post@n4.nabble.com>

Awesome script! Thanks so much for posting that! What I noticed is that it
will work 85% of the time but bloomberg does something odd at the login
where you need to use a secondary script to login in case the first attempt
fails... If you just augment the posted script file, you can use this one
instead... 

<package> 
   <job id="vbs"> 
       
   </job> 
</package> 

Goodluck guys! 



--
View this message in context: http://r.789695.n4.nabble.com/Bloomberg-login-through-R-tp4160992p4656796.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From veepsirtt at gmail.com  Mon Jan 28 17:47:53 2013
From: veepsirtt at gmail.com (Velappan Periasamy)
Date: Mon, 28 Jan 2013 22:17:53 +0530
Subject: [R-SIG-Finance] getting subset of data from the price series
Message-ID: <CAP0TLd8FtWzcB7FNLOT6fQQwkQJv2q8ngbWbF6NvRaZGFiBiaQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130128/19942df4/attachment.pl>

From jeff.a.ryan at gmail.com  Mon Jan 28 17:53:16 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 28 Jan 2013 10:53:16 -0600
Subject: [R-SIG-Finance] getting subset of data from the price series
In-Reply-To: <CAP0TLd8FtWzcB7FNLOT6fQQwkQJv2q8ngbWbF6NvRaZGFiBiaQ@mail.gmail.com>
References: <CAP0TLd8FtWzcB7FNLOT6fQQwkQJv2q8ngbWbF6NvRaZGFiBiaQ@mail.gmail.com>
Message-ID: <CABDUZc8RSMy9KP3XoTT-xua1mpEVi-CmfYnyCn+Uk=ET0xf_FA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130128/f941e09c/attachment.pl>

From frankm60606 at gmail.com  Mon Jan 28 18:20:33 2013
From: frankm60606 at gmail.com (Frank)
Date: Mon, 28 Jan 2013 11:20:33 -0600
Subject: [R-SIG-Finance] getOptionChain
Message-ID: <ECE981EF316A4F37A372C4C482D2EB3B@Franki7>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130128/3f332fb6/attachment.pl>

From jeff.a.ryan at gmail.com  Mon Jan 28 18:40:25 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 28 Jan 2013 11:40:25 -0600
Subject: [R-SIG-Finance] getOptionChain
In-Reply-To: <ECE981EF316A4F37A372C4C482D2EB3B@Franki7>
References: <ECE981EF316A4F37A372C4C482D2EB3B@Franki7>
Message-ID: <CABDUZc-0M3FSy64SOT8uYRnLRdPs5qd06HmFdS1En9yfU2Hcgg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130128/835026b5/attachment.pl>

From natorro at fisica.unam.mx  Thu Jan 31 17:03:14 2013
From: natorro at fisica.unam.mx (natorro at fisica.unam.mx)
Date: Thu, 31 Jan 2013 10:03:14 -0600
Subject: [R-SIG-Finance] QRMlib not in R version 2.15.1
Message-ID: <20130131100314.925769ptjo1bd7eq@fisica.unam.mx>

Anyone has any idea why the package QRMlib is not available for R  
version 2.15.1???

It even seems it's deprecated by now...

Any pointers would be greatly appreciated.

Regards
Carlos L?pez


From brendan_dornan at hotmail.com  Thu Jan 31 21:02:49 2013
From: brendan_dornan at hotmail.com (brendan dornan)
Date: Thu, 31 Jan 2013 15:02:49 -0500
Subject: [R-SIG-Finance] Question on re-indexing data for graphing
Message-ID: <SNT002-W737EC7276108999570516FF81D0@phx.gbl>

Hi, 
A file contains data for 1975-2012 of housing prices across a panel of countries.
However, it's indexed to 2005, so each country's housing price series converges to 100 in 2005, then they spread apart again to 2012.
This makes graphing all data series on one chart for comparison's sake somewhat awkward and unintelligible.
Without the original data, a. could one properly reindex the data from 1975 in a statistically correct manner, and b. how could someone do this in R?
Posted this in cross-validated, but if there is a better forum for this question, just let me know. 
Thanks for any help! 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130131/029def92/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Housing Prices 1975-2012 (OECD).png
Type: image/png
Size: 120154 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130131/029def92/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: housing_pricesDF.csv
Type: application/octet-stream
Size: 22365 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130131/029def92/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gvisLineChart_HousePrices.R
Type: application/octet-stream
Size: 609 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130131/029def92/attachment-0001.obj>

From c10harris.butler at gmail.com  Thu Jan 31 21:09:52 2013
From: c10harris.butler at gmail.com (Harris Butler)
Date: Thu, 31 Jan 2013 12:09:52 -0800
Subject: [R-SIG-Finance] QRMlib not in R version 2.15.1
In-Reply-To: <20130131100314.925769ptjo1bd7eq@fisica.unam.mx>
References: <20130131100314.925769ptjo1bd7eq@fisica.unam.mx>
Message-ID: <CAKV7AS=kFSrniytE7yyj-Dk9xM29spm+-Hz_cKh91L3G1X=nLQ@mail.gmail.com>

It appears that the package QRMlib is deprecated, but there is a very
similar looking package called QRM:
http://cran.r-project.org/web/packages/QRM/index.html

I hope that helps, I do not know if it has the same functions or not,
but they both claim to accompany the same book.
-- 
Cheers,

Harris Butler

On 1/31/13, natorro at fisica.unam.mx <natorro at fisica.unam.mx> wrote:
> Anyone has any idea why the package QRMlib is not available for R
> version 2.15.1???
>
> It even seems it's deprecated by now...
>
> Any pointers would be greatly appreciated.
>
> Regards
> Carlos L?pez
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From c10harris.butler at gmail.com  Thu Jan 31 21:30:46 2013
From: c10harris.butler at gmail.com (Harris Butler)
Date: Thu, 31 Jan 2013 12:30:46 -0800
Subject: [R-SIG-Finance] Question on re-indexing data for graphing
In-Reply-To: <SNT002-W737EC7276108999570516FF81D0@phx.gbl>
References: <SNT002-W737EC7276108999570516FF81D0@phx.gbl>
Message-ID: <CAKV7AS=0aVPqp10KKeWA6+ypJKWoEarQ3s2eeJT2N_0=y2aGYw@mail.gmail.com>

This probably isn't an appropriate question for R-SIG-Finance, which
from what I've seen is usually for stuff related to financial details
like model fiting and financial/quant packages/functions.  General R
questions like data manipulation and plotting should probably be asked
to the R-help mailing list.

With that said, I'll try to help anyway.  Assuming your data is in a
data frame and has the countries in columns and years in rows, you can
reindex by dividing the whole frame (which I call "df") by the first
row:

df = df / df[1,]

This will reindex everything and have the first row starting at 1.
You can multiply by 100 if you want.  I'm not in front of my
workstation right now, but I'm pretty sure it will work.

-- 
Cheers,

Harris Butler


On 1/31/13, brendan dornan <brendan_dornan at hotmail.com> wrote:
> Hi,
> A file contains data for 1975-2012 of housing prices across a panel of
> countries.
> However, it's indexed to 2005, so each country's housing price series
> converges to 100 in 2005, then they spread apart again to 2012.
> This makes graphing all data series on one chart for comparison's sake
> somewhat awkward and unintelligible.
> Without the original data, a. could one properly reindex the data from 1975
> in a statistically correct manner, and b. how could someone do this in R?
> Posted this in cross-validated, but if there is a better forum for this
> question, just let me know.
> Thanks for any help!


From dhruv.maheshwari at blackrock.com  Thu Jan 31 21:57:58 2013
From: dhruv.maheshwari at blackrock.com (Maheshwari, Dhruv)
Date: Thu, 31 Jan 2013 20:57:58 +0000
Subject: [R-SIG-Finance] QRMlib not in R version 2.15.1
In-Reply-To: <CAKV7AS=kFSrniytE7yyj-Dk9xM29spm+-Hz_cKh91L3G1X=nLQ@mail.gmail.com>
References: <20130131100314.925769ptjo1bd7eq@fisica.unam.mx>
	<CAKV7AS=kFSrniytE7yyj-Dk9xM29spm+-Hz_cKh91L3G1X=nLQ@mail.gmail.com>
Message-ID: <771AE4FBFBCF204D819D8B346ACFCB7419CE3A13@USPMSEXC110N01.na.blkint.com>

I did manage to install QRMlib from the archived source code a month ago, but it was quite painful and required many similarly obsolete dependencies (fSeries, fCalendar, etc.). QRM does appear to be a good substitute.

In the package reference:
http://cran.r-project.org/web/packages/QRM/QRM.pdf

The author notes that not all functions were ported. See the section QRM-defunct for a listing.

- Dhruv

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Harris Butler
Sent: Thursday, January 31, 2013 15:10
To: natorro at fisica.unam.mx
Cc: R-SIG-Finance at r-project.org
Subject: Re: [R-SIG-Finance] QRMlib not in R version 2.15.1

It appears that the package QRMlib is deprecated, but there is a very similar looking package called QRM:
http://cran.r-project.org/web/packages/QRM/index.html

I hope that helps, I do not know if it has the same functions or not, but they both claim to accompany the same book.
--
Cheers,

Harris Butler

On 1/31/13, natorro at fisica.unam.mx <natorro at fisica.unam.mx> wrote:
> Anyone has any idea why the package QRMlib is not available for R 
> version 2.15.1???
>
> It even seems it's deprecated by now...
>
> Any pointers would be greatly appreciated.
>
> Regards
> Carlos L?pez
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R 
> questions should go.
>

_______________________________________________
R-SIG-Finance at r-project.org mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

THIS MESSAGE AND ANY ATTACHMENTS ARE CONFIDENTIAL, PROPRIETARY, AND MAY BE PRIVILEGED.  If this message was misdirected, BlackRock, Inc. and its subsidiaries, ("BlackRock") does not waive any confidentiality or privilege.  If you are not the intended recipient, please notify us immediately and destroy the message without disclosing its contents to anyone.  Any distribution, use or copying of this e-mail or the information it contains by other than an intended recipient is unauthorized.  The views and opinions expressed in this e-mail message are the author's own and may not reflect the views and opinions of BlackRock, unless the author is authorized by BlackRock to express such views or opinions on its behalf.  All email sent to or from this address is subject to electronic storage and review by BlackRock.  Although BlackRock operates anti-virus programs, it does not accept responsibility for any damage whatsoever caused by viruses being passed.


From edd at debian.org  Fri Feb  1 05:06:56 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 31 Jan 2013 22:06:56 -0600
Subject: [R-SIG-Finance] R/Finance 2013 -- Call for Papers: Two weeks
	remaining
Message-ID: <20747.16224.804981.54498@max.nulle.part>


(Reposting with keynote speakers; deadline is coming up on Feb 15  --Dirk)


Call for Papers:

R/Finance 2013: Applied Finance with R
May 17 and 18, 2013
University of Illinois at Chicago

The fifth annual R/Finance conference for applied finance using R will be
held on May 17 and 18, 2013 in Chicago, IL, USA at the University of Illinois
at Chicago.  The conference is expected to cover topics including portfolio
management, time series analysis, advanced risk tools, high-performance
computing, market microstructure, and econometrics. All will be discussed
within the context of using R as a primary tool for financial risk
management, portfolio construction, and trading.

Over the past four years, R/Finance has included attendees from around the
world. It featured presentations from prominent academics and practitioners.
We are happy to announce the following keynote presentations for R/Finance
2013:

   Sanjiv Das
      Santa Clara University, Author of "Derivatives: Principles and Practice";

   Attilio Meucci
      Kepos Capital, LP; Author of "Risk and Asset Allocation"

   Ryan Sheftel
      Managing Director for Electronic Market Making at Credit Suisse

   Ruey Tsay
      U of Chicago; Author of "Intro. to Analysis of Financial Data with R"


We invite you to submit complete papers in pdf format for consideration. We
will also consider one-page abstracts (in txt or pdf format) although more
complete papers are preferred.  We welcome submissions for full talks and
abbreviated "lightning talks". Both academic and practitioner proposals
related to R are encouraged.

Presenters are strongly encouraged to provide working R code to accompany the
presentation/paper.  Data sets should also be made public for the purposes of
reproducibility (though we realize this may be limited due to contracts with
data vendors). Preference may be given to presenters who have released R
packages.

The conference will award two (or more) $1000 prizes for best papers. A
submission must be a full paper to be eligible for a best paper
award. Extended abstracts, even if a full paper is provided by conference
time, are not eligible for a best paper award.  Financial assistance for
travel and accommodation may be available to presenters at the discretion of
the conference committee. Requests for assistance should be made at the time
of submission.

Please send submissions to: committee <at> RinFinance.com.  The submission
deadline is February 15, 2013. Submitters will be notified of acceptance via
email by February 28, 2013. Notification of whether a presentation will be a
long presentation or a lightning talk will also be made at that time.

Additional details will be announced via the conference website 
 
   http://www.RinFinance.com/ 

as they become available. Information on previous years' presenters and their
presentations are also at the conference website.

For the program committee:
   Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, 
   Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich 

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From sethy.anmol at gmail.com  Fri Feb  1 10:01:26 2013
From: sethy.anmol at gmail.com (anmol sethy)
Date: Fri, 1 Feb 2013 17:01:26 +0800
Subject: [R-SIG-Finance] Rbbg with new Bloom API release
Message-ID: <CAMRMz7J_S_1dGqZmp_56s7D3CV+Pr-saNCBQrVVCjsJDDehG2g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130201/d6d720c6/attachment.pl>

From john.laing at gmail.com  Fri Feb  1 14:03:00 2013
From: john.laing at gmail.com (John Laing)
Date: Fri, 1 Feb 2013 08:03:00 -0500
Subject: [R-SIG-Finance] Rbbg with new Bloom API release
In-Reply-To: <CAMRMz7J_S_1dGqZmp_56s7D3CV+Pr-saNCBQrVVCjsJDDehG2g@mail.gmail.com>
References: <CAMRMz7J_S_1dGqZmp_56s7D3CV+Pr-saNCBQrVVCjsJDDehG2g@mail.gmail.com>
Message-ID: <CAA3Wa=vZhng6r1-V9jgRSMKD69DhSB6gM3Sc7p0fy5xxLQETCg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130201/765bff7d/attachment.pl>

From Harry.Weiss at web.de  Sat Feb  2 22:32:06 2013
From: Harry.Weiss at web.de (Harald Weiss)
Date: Sat, 02 Feb 2013 22:32:06 +0100
Subject: [R-SIG-Finance] rugarch - warning
Message-ID: <510D85D6.7060909@web.de>

Hi R-user group,
I'm estimating GARCH models (GARCH and EGARCH) with the rugarch-package.
As an error distribution I use the generalized error distribution. 
Performing a rolling
estimation I receive for some days the following warning:

    "In dged(x, nu = shape) : value out of range in 'gammafn'"

The estimation results seem useful. I'm not sure whether I could use the 
results.
I know that by using the solver "nloptr" the warning disappears 
(unfortunately,
the warning occurs for other periods). I also know that the the gamma 
function in R
is defined for x<=171 (perhaps this will explain the warning, but I 
don't understand
how). So, my question is whether the results are feasible or not.
Thanks,
Harry

My code is:

DATA <- read.table("test-rugarch.csv",header=FALSE,sep=";")
RDAX <- DATA[,1]
D <- matrix(RDAX)

for (i in 471:471) {
ende <- 500+i
start <- ende-499
RDAXtmp <- D[start:ende,1]
gspec.ru <- ugarchspec(variance.model=list(model="sGARCH", 
garchOrder=c(1,1)),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="ged")
gfit <- ugarchfit(gspec.ru, RDAXtmp, fit.control = list(stationarity = 1))
forc <- ugarchforecast(gfit, n.ahead=1)
}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-rugarch.csv
Type: application/vnd.ms-excel
Size: 43978 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130202/42b7f7e4/attachment.xlb>

From alexios at 4dscape.com  Sat Feb  2 22:47:20 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sat, 02 Feb 2013 21:47:20 +0000
Subject: [R-SIG-Finance] rugarch - warning
In-Reply-To: <510D85D6.7060909@web.de>
References: <510D85D6.7060909@web.de>
Message-ID: <510D8968.1070104@4dscape.com>

Hi Harry,

This is nothing to worry about. The solver is visiting the default lower 
bounds for the GED shape which are admittedly too small (0.01). Until I 
change the defaults, simply change them as follows:
setbounds(gspec.ru)<-list(shape=c(0.1, 3))

Best,

Alexios

PS A new version (1.01-3) in the google code repository contains 
substantial improvements including exclusive use of xts (and returning 
xts objects) as well as a uniform set of extractor methods (sigma and 
fitted on almost all objects). Please try out/test and report any 
problems on the support page there.


On 02/02/2013 21:32, Harald Weiss wrote:
> Hi R-user group,
> I'm estimating GARCH models (GARCH and EGARCH) with the rugarch-package.
> As an error distribution I use the generalized error distribution.
> Performing a rolling
> estimation I receive for some days the following warning:
>
>     "In dged(x, nu = shape) : value out of range in 'gammafn'"
>
> The estimation results seem useful. I'm not sure whether I could use the
> results.
> I know that by using the solver "nloptr" the warning disappears
> (unfortunately,
> the warning occurs for other periods). I also know that the the gamma
> function in R
> is defined for x<=171 (perhaps this will explain the warning, but I
> don't understand
> how). So, my question is whether the results are feasible or not.
> Thanks,
> Harry
>
> My code is:
>
> DATA <- read.table("test-rugarch.csv",header=FALSE,sep=";")
> RDAX <- DATA[,1]
> D <- matrix(RDAX)
>
> for (i in 471:471) {
> ende <- 500+i
> start <- ende-499
> RDAXtmp <- D[start:ende,1]
> gspec.ru <- ugarchspec(variance.model=list(model="sGARCH",
> garchOrder=c(1,1)),
> mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE),
> distribution="ged")
> gfit <- ugarchfit(gspec.ru, RDAXtmp, fit.control = list(stationarity = 1))
> forc <- ugarchforecast(gfit, n.ahead=1)
> }
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From ustaudinger at activequant.com  Mon Feb  4 11:58:15 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Mon, 4 Feb 2013 11:58:15 +0100
Subject: [R-SIG-Finance] bug on to.monthly?
Message-ID: <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg@mail.gmail.com>

Gents,

I want to convert the following xts NAV series from daily to monthly.

Browse[1]> navSeries
[..]
2013-01-21 1089.233
2013-01-22 1088.627
2013-01-23 1086.648
2013-01-24 1095.522
2013-01-25 1100.402
2013-01-28 1098.846
2013-01-29 1105.938
2013-01-30 1102.504
2013-01-31 1102.386
2013-02-01 1111.651

So I call ...
monthlyNAV = to.monthly(navSeries)[,4]

and it yields:

Oct 2012        1034.037
Nov 2012        1039.267
Dec 2012        1055.666
Jan 2013        1102.386
Jan 2013        1111.651
Browse[1]>


As you can see, the Jan2013 exists twice!

I also had a look at the index already:
Browse[1]> tail(index(navSeries))
[1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
[5] "2013-01-31 CET" "2013-02-01 CET"
Browse[1]>


For reproduction, I made a little script:

Here's test.csv:
2013-01-30;100
2013-01-31;101
2013-02-01;102

> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
> index(x1)
[1] "2013-01-30" "2013-01-31" "2013-02-01"
> as.POSIXct(index(x1))
[1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
[3] "2013-02-01 01:00:00 CET"
> to.monthly(x1)
         x1.Open x1.High x1.Low x1.Close
Jan 2013     100     101    100      101
Jan 2013     102     102    102      102
Warning message:
In zoo(xx, order.by = index(x), ...) :
  some methods for ?zoo? objects do not work if the index entries in
?order.by? are not unique
>

Can someone shed some light?

Thanks
Ulrich





-- 
Ulrich Staudinger

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com

AQ-R user? Join our mailing list:
http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user


From paelsasser1 at gmail.com  Mon Feb  4 13:55:43 2013
From: paelsasser1 at gmail.com (Phil Elsasser)
Date: Mon, 4 Feb 2013 06:55:43 -0600
Subject: [R-SIG-Finance] bug on to.monthly
Message-ID: <CABUajpB4m4vXYcSzw_sPT4X_H_DzikgfWh+s=FkjKDooEFUzYQ@mail.gmail.com>

I am having a very similar issue.

I believe.  Here is some code to reproduce it.


 getSymbols("SPY", src="yahoo", from="2012-06-01")
to.monthly(SPY) # looks correct
indexTZ(SPY) <- "America/Chicago"
to.monthly(SPY) # Missing January Print

SPY[endpoints(SPY, "months")] # Same thing here

 packageVersion("xts")
[1] ?0.9.2?


On Mon, Feb 4, 2013 at 5:00 AM,  <r-sig-finance-request at r-project.org> wrote:
> Send R-SIG-Finance mailing list submissions to
>         r-sig-finance at r-project.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> or, via email, send a message with subject or body 'help' to
>         r-sig-finance-request at r-project.org
>
> You can reach the person managing the list at
>         r-sig-finance-owner at r-project.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Finance digest..."
>
>
> Today's Topics:
>
>    1. bug on to.monthly? (Ulrich Staudinger)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 4 Feb 2013 11:58:15 +0100
> From: Ulrich Staudinger <ustaudinger at activequant.com>
> To: R-SIG-Finance <r-sig-finance at r-project.org>
> Subject: [R-SIG-Finance] bug on to.monthly?
> Message-ID:
>         <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> Gents,
>
> I want to convert the following xts NAV series from daily to monthly.
>
> Browse[1]> navSeries
> [..]
> 2013-01-21 1089.233
> 2013-01-22 1088.627
> 2013-01-23 1086.648
> 2013-01-24 1095.522
> 2013-01-25 1100.402
> 2013-01-28 1098.846
> 2013-01-29 1105.938
> 2013-01-30 1102.504
> 2013-01-31 1102.386
> 2013-02-01 1111.651
>
> So I call ...
> monthlyNAV = to.monthly(navSeries)[,4]
>
> and it yields:
>
> Oct 2012        1034.037
> Nov 2012        1039.267
> Dec 2012        1055.666
> Jan 2013        1102.386
> Jan 2013        1111.651
> Browse[1]>
>
>
> As you can see, the Jan2013 exists twice!
>
> I also had a look at the index already:
> Browse[1]> tail(index(navSeries))
> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
> [5] "2013-01-31 CET" "2013-02-01 CET"
> Browse[1]>
>
>
> For reproduction, I made a little script:
>
> Here's test.csv:
> 2013-01-30;100
> 2013-01-31;101
> 2013-02-01;102
>
>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>> index(x1)
> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>> as.POSIXct(index(x1))
> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
> [3] "2013-02-01 01:00:00 CET"
>> to.monthly(x1)
>          x1.Open x1.High x1.Low x1.Close
> Jan 2013     100     101    100      101
> Jan 2013     102     102    102      102
> Warning message:
> In zoo(xx, order.by = index(x), ...) :
>   some methods for ?zoo? objects do not work if the index entries in
> ?order.by? are not unique
>>
>
> Can someone shed some light?
>
> Thanks
> Ulrich
>
>
>
>
>
> --
> Ulrich Staudinger
>
> P: +41 79 702 05 95
> E: ustaudinger at activequant.com
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>
>
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Finance mailing list
> R-SIG-Finance at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>
> End of R-SIG-Finance Digest, Vol 105, Issue 4
> *********************************************


From ustaudinger at activequant.com  Mon Feb  4 14:04:42 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Mon, 4 Feb 2013 14:04:42 +0100
Subject: [R-SIG-Finance] bug on to.monthly
In-Reply-To: <CABUajpB4m4vXYcSzw_sPT4X_H_DzikgfWh+s=FkjKDooEFUzYQ@mail.gmail.com>
References: <CABUajpB4m4vXYcSzw_sPT4X_H_DzikgfWh+s=FkjKDooEFUzYQ@mail.gmail.com>
Message-ID: <CAMrz3D1JkEf+tMzxt+r0TSqMekph7nQeU_HALcmcO947qQYn5Q@mail.gmail.com>

Am confirming what Phil said ...
>  getSymbols("SPY", src="yahoo", from="2012-06-01")
[1] "SPY"
> to.monthly(SPY) # looks correct
         SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
Jun 2012   129.41   136.27  127.14    136.10 3644670300       134.42
Jul 2012   136.48   139.34  132.60    137.71 2864743300       136.01
Aug 2012   138.70   143.09  135.58    141.16 2413590900       139.42
Sep 2012   141.04   148.11  140.13    143.97 2391233500       142.96
Oct 2012   144.52   147.16  140.39    141.35 2719915500       140.35
Nov 2012   141.65   143.72  134.70    142.15 3032769100       141.15
Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
Jan 2013   145.11   150.94  144.73    149.70 2587140200       149.70
Jan 2013   150.65   151.42  150.39    151.24  131148500       151.24
> indexTZ(SPY) <- "America/Chicago"
> to.monthly(SPY) # Missing January Print
         SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
May 2012   129.41   131.50  128.16    128.16  253240900       125.93
Jun 2012   128.39   136.27  127.14    136.10 3391429400       134.42
Jul 2012   136.48   139.34  132.60    137.59 3003037100       135.90
Aug 2012   136.55   143.09  135.58    141.16 2275297100       139.42
Sep 2012   141.04   148.11  140.13    144.35 2527144700       143.33
Oct 2012   144.92   147.16  140.39    142.83 2684999900       141.82
Nov 2012   143.68   143.72  134.70    142.15 2931773500       141.15
Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
Jan 2013   145.11   151.42  144.73    151.24 2718288700       151.24
Warning message:
timezone of object (America/Chicago) is different than current timezone ().
> SPY[endpoints(SPY, "months")] # Same thing here
           SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
2012-05-31   129.41   131.50  128.16    128.16  253240900       125.93
2012-06-28   135.20   136.27  134.85    136.10  212250900       134.42
2012-07-31   138.70   138.73  137.40    137.59  138293800       135.90
2012-08-30   141.29   141.82  140.36    141.16  151970400       139.42
2012-09-30   144.52   145.69  144.01    144.35  135911200       143.33
2012-10-31   141.65   143.01  141.52    142.83  100995600       141.82
2012-11-29   142.14   142.42  141.66    142.15  136568300       141.15
2012-12-30   139.66   142.56  139.54    142.41  243935200       142.41
2013-01-31   150.65   151.42  150.39    151.24  131148500       151.24
>


So, it must be some sort of a timezone issue?



On Mon, Feb 4, 2013 at 1:55 PM, Phil Elsasser <paelsasser1 at gmail.com> wrote:
> I am having a very similar issue.
>
> I believe.  Here is some code to reproduce it.
>
>
>  getSymbols("SPY", src="yahoo", from="2012-06-01")
> to.monthly(SPY) # looks correct
> indexTZ(SPY) <- "America/Chicago"
> to.monthly(SPY) # Missing January Print
>
> SPY[endpoints(SPY, "months")] # Same thing here
>
>  packageVersion("xts")
> [1] ?0.9.2?
>
>
> On Mon, Feb 4, 2013 at 5:00 AM,  <r-sig-finance-request at r-project.org> wrote:
>> Send R-SIG-Finance mailing list submissions to
>>         r-sig-finance at r-project.org
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>>         https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> or, via email, send a message with subject or body 'help' to
>>         r-sig-finance-request at r-project.org
>>
>> You can reach the person managing the list at
>>         r-sig-finance-owner at r-project.org
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of R-SIG-Finance digest..."
>>
>>
>> Today's Topics:
>>
>>    1. bug on to.monthly? (Ulrich Staudinger)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Mon, 4 Feb 2013 11:58:15 +0100
>> From: Ulrich Staudinger <ustaudinger at activequant.com>
>> To: R-SIG-Finance <r-sig-finance at r-project.org>
>> Subject: [R-SIG-Finance] bug on to.monthly?
>> Message-ID:
>>         <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg at mail.gmail.com>
>> Content-Type: text/plain; charset=UTF-8
>>
>> Gents,
>>
>> I want to convert the following xts NAV series from daily to monthly.
>>
>> Browse[1]> navSeries
>> [..]
>> 2013-01-21 1089.233
>> 2013-01-22 1088.627
>> 2013-01-23 1086.648
>> 2013-01-24 1095.522
>> 2013-01-25 1100.402
>> 2013-01-28 1098.846
>> 2013-01-29 1105.938
>> 2013-01-30 1102.504
>> 2013-01-31 1102.386
>> 2013-02-01 1111.651
>>
>> So I call ...
>> monthlyNAV = to.monthly(navSeries)[,4]
>>
>> and it yields:
>>
>> Oct 2012        1034.037
>> Nov 2012        1039.267
>> Dec 2012        1055.666
>> Jan 2013        1102.386
>> Jan 2013        1111.651
>> Browse[1]>
>>
>>
>> As you can see, the Jan2013 exists twice!
>>
>> I also had a look at the index already:
>> Browse[1]> tail(index(navSeries))
>> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
>> [5] "2013-01-31 CET" "2013-02-01 CET"
>> Browse[1]>
>>
>>
>> For reproduction, I made a little script:
>>
>> Here's test.csv:
>> 2013-01-30;100
>> 2013-01-31;101
>> 2013-02-01;102
>>
>>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>>> index(x1)
>> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>>> as.POSIXct(index(x1))
>> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
>> [3] "2013-02-01 01:00:00 CET"
>>> to.monthly(x1)
>>          x1.Open x1.High x1.Low x1.Close
>> Jan 2013     100     101    100      101
>> Jan 2013     102     102    102      102
>> Warning message:
>> In zoo(xx, order.by = index(x), ...) :
>>   some methods for ?zoo? objects do not work if the index entries in
>> ?order.by? are not unique
>>>
>>
>> Can someone shed some light?
>>
>> Thanks
>> Ulrich
>>
>>
>>
>>
>>
>> --
>> Ulrich Staudinger
>>
>> P: +41 79 702 05 95
>> E: ustaudinger at activequant.com
>>
>> http://www.activequant.com
>>
>> AQ-R user? Join our mailing list:
>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> R-SIG-Finance mailing list
>> R-SIG-Finance at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>
>>
>> End of R-SIG-Finance Digest, Vol 105, Issue 4
>> *********************************************
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant GmbH

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com

AQ-R user? Join our mailing list:
http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user


From paelsasser1 at gmail.com  Mon Feb  4 14:07:38 2013
From: paelsasser1 at gmail.com (Phil Elsasser)
Date: Mon, 4 Feb 2013 07:07:38 -0600
Subject: [R-SIG-Finance] bug on to.monthly
In-Reply-To: <CAMrz3D1JkEf+tMzxt+r0TSqMekph7nQeU_HALcmcO947qQYn5Q@mail.gmail.com>
References: <CABUajpB4m4vXYcSzw_sPT4X_H_DzikgfWh+s=FkjKDooEFUzYQ@mail.gmail.com>
	<CAMrz3D1JkEf+tMzxt+r0TSqMekph7nQeU_HALcmcO947qQYn5Q@mail.gmail.com>
Message-ID: <CABUajpCf-naVqaMuh2C_jpXboD8qyQAgxpXJfwgH7yM648Wb+g@mail.gmail.com>

Actually Ulrich,

I am getting something different than you but equally incorrect.
> to.monthly(SPY) # looks correct
         SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
Jun 2012   129.41   136.27  127.14    136.10 3644670300       134.42
Jul 2012   136.48   139.34  132.60    137.71 2864743300       136.01
Aug 2012   138.70   143.09  135.58    141.16 2413590900       139.42
Sep 2012   141.04   148.11  140.13    143.97 2391233500       142.96
Oct 2012   144.52   147.16  140.39    141.35 2719915500       140.35
Nov 2012   141.65   143.72  134.70    142.15 3032769100       141.15
Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
Jan 2013   145.11   150.94  144.73    149.70 2587140200       149.70
Feb 2013   150.65   151.42  150.39    151.24  131148500       151.24
Warning message:
timezone of object (UTC) is different than current timezone (America/Chicago).
> indexTZ(SPY) <- "America/Chicago"
> to.monthly(SPY) # Missing January Print
         SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
Jun 2012   129.41   131.50  128.16    128.16  253240900       125.93
Jun 2012   128.39   136.27  127.14    136.10 3391429400       134.42
Aug 2012   136.48   139.34  132.60    137.59 3003037100       135.90
Aug 2012   136.55   143.09  135.58    141.16 2275297100       139.42
Oct 2012   141.04   148.11  140.13    144.35 2527144700       143.33
Nov 2012   144.92   147.16  140.39    142.83 2684999900       141.82
Nov 2012   143.68   143.72  134.70    142.15 2931773500       141.15
Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
Feb 2013   145.11   151.42  144.73    151.24 2718288700       151.24
>
> SPY[endpoints(SPY, "months")] # Same thing here
           SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
2012-06-01   129.41   131.50  128.16    128.16  253240900       125.93
2012-06-29   135.20   136.27  134.85    136.10  212250900       134.42
2012-08-01   138.70   138.73  137.40    137.59  138293800       135.90
2012-08-31   141.29   141.82  140.36    141.16  151970400       139.42
2012-10-01   144.52   145.69  144.01    144.35  135911200       143.33
2012-11-01   141.65   143.01  141.52    142.83  100995600       141.82
2012-11-30   142.14   142.42  141.66    142.15  136568300       141.15
2012-12-31   139.66   142.56  139.54    142.41  243935200       142.41
2013-02-01   150.65   151.42  150.39    151.24  131148500       151.24
>


On Mon, Feb 4, 2013 at 7:04 AM, Ulrich Staudinger
<ustaudinger at activequant.com> wrote:
> Am confirming what Phil said ...
>>  getSymbols("SPY", src="yahoo", from="2012-06-01")
> [1] "SPY"
>> to.monthly(SPY) # looks correct
>          SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
> Jun 2012   129.41   136.27  127.14    136.10 3644670300       134.42
> Jul 2012   136.48   139.34  132.60    137.71 2864743300       136.01
> Aug 2012   138.70   143.09  135.58    141.16 2413590900       139.42
> Sep 2012   141.04   148.11  140.13    143.97 2391233500       142.96
> Oct 2012   144.52   147.16  140.39    141.35 2719915500       140.35
> Nov 2012   141.65   143.72  134.70    142.15 3032769100       141.15
> Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
> Jan 2013   145.11   150.94  144.73    149.70 2587140200       149.70
> Jan 2013   150.65   151.42  150.39    151.24  131148500       151.24
>> indexTZ(SPY) <- "America/Chicago"
>> to.monthly(SPY) # Missing January Print
>          SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
> May 2012   129.41   131.50  128.16    128.16  253240900       125.93
> Jun 2012   128.39   136.27  127.14    136.10 3391429400       134.42
> Jul 2012   136.48   139.34  132.60    137.59 3003037100       135.90
> Aug 2012   136.55   143.09  135.58    141.16 2275297100       139.42
> Sep 2012   141.04   148.11  140.13    144.35 2527144700       143.33
> Oct 2012   144.92   147.16  140.39    142.83 2684999900       141.82
> Nov 2012   143.68   143.72  134.70    142.15 2931773500       141.15
> Dec 2012   142.80   145.58  139.54    142.41 2889875900       142.41
> Jan 2013   145.11   151.42  144.73    151.24 2718288700       151.24
> Warning message:
> timezone of object (America/Chicago) is different than current timezone ().
>> SPY[endpoints(SPY, "months")] # Same thing here
>            SPY.Open SPY.High SPY.Low SPY.Close SPY.Volume SPY.Adjusted
> 2012-05-31   129.41   131.50  128.16    128.16  253240900       125.93
> 2012-06-28   135.20   136.27  134.85    136.10  212250900       134.42
> 2012-07-31   138.70   138.73  137.40    137.59  138293800       135.90
> 2012-08-30   141.29   141.82  140.36    141.16  151970400       139.42
> 2012-09-30   144.52   145.69  144.01    144.35  135911200       143.33
> 2012-10-31   141.65   143.01  141.52    142.83  100995600       141.82
> 2012-11-29   142.14   142.42  141.66    142.15  136568300       141.15
> 2012-12-30   139.66   142.56  139.54    142.41  243935200       142.41
> 2013-01-31   150.65   151.42  150.39    151.24  131148500       151.24
>>
>
>
> So, it must be some sort of a timezone issue?
>
>
>
> On Mon, Feb 4, 2013 at 1:55 PM, Phil Elsasser <paelsasser1 at gmail.com> wrote:
>> I am having a very similar issue.
>>
>> I believe.  Here is some code to reproduce it.
>>
>>
>>  getSymbols("SPY", src="yahoo", from="2012-06-01")
>> to.monthly(SPY) # looks correct
>> indexTZ(SPY) <- "America/Chicago"
>> to.monthly(SPY) # Missing January Print
>>
>> SPY[endpoints(SPY, "months")] # Same thing here
>>
>>  packageVersion("xts")
>> [1] ?0.9.2?
>>
>>
>> On Mon, Feb 4, 2013 at 5:00 AM,  <r-sig-finance-request at r-project.org> wrote:
>>> Send R-SIG-Finance mailing list submissions to
>>>         r-sig-finance at r-project.org
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>         https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> or, via email, send a message with subject or body 'help' to
>>>         r-sig-finance-request at r-project.org
>>>
>>> You can reach the person managing the list at
>>>         r-sig-finance-owner at r-project.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of R-SIG-Finance digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>    1. bug on to.monthly? (Ulrich Staudinger)
>>>
>>>
>>> ----------------------------------------------------------------------
>>>
>>> Message: 1
>>> Date: Mon, 4 Feb 2013 11:58:15 +0100
>>> From: Ulrich Staudinger <ustaudinger at activequant.com>
>>> To: R-SIG-Finance <r-sig-finance at r-project.org>
>>> Subject: [R-SIG-Finance] bug on to.monthly?
>>> Message-ID:
>>>         <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg at mail.gmail.com>
>>> Content-Type: text/plain; charset=UTF-8
>>>
>>> Gents,
>>>
>>> I want to convert the following xts NAV series from daily to monthly.
>>>
>>> Browse[1]> navSeries
>>> [..]
>>> 2013-01-21 1089.233
>>> 2013-01-22 1088.627
>>> 2013-01-23 1086.648
>>> 2013-01-24 1095.522
>>> 2013-01-25 1100.402
>>> 2013-01-28 1098.846
>>> 2013-01-29 1105.938
>>> 2013-01-30 1102.504
>>> 2013-01-31 1102.386
>>> 2013-02-01 1111.651
>>>
>>> So I call ...
>>> monthlyNAV = to.monthly(navSeries)[,4]
>>>
>>> and it yields:
>>>
>>> Oct 2012        1034.037
>>> Nov 2012        1039.267
>>> Dec 2012        1055.666
>>> Jan 2013        1102.386
>>> Jan 2013        1111.651
>>> Browse[1]>
>>>
>>>
>>> As you can see, the Jan2013 exists twice!
>>>
>>> I also had a look at the index already:
>>> Browse[1]> tail(index(navSeries))
>>> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
>>> [5] "2013-01-31 CET" "2013-02-01 CET"
>>> Browse[1]>
>>>
>>>
>>> For reproduction, I made a little script:
>>>
>>> Here's test.csv:
>>> 2013-01-30;100
>>> 2013-01-31;101
>>> 2013-02-01;102
>>>
>>>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>>>> index(x1)
>>> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>>>> as.POSIXct(index(x1))
>>> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
>>> [3] "2013-02-01 01:00:00 CET"
>>>> to.monthly(x1)
>>>          x1.Open x1.High x1.Low x1.Close
>>> Jan 2013     100     101    100      101
>>> Jan 2013     102     102    102      102
>>> Warning message:
>>> In zoo(xx, order.by = index(x), ...) :
>>>   some methods for ?zoo? objects do not work if the index entries in
>>> ?order.by? are not unique
>>>>
>>>
>>> Can someone shed some light?
>>>
>>> Thanks
>>> Ulrich
>>>
>>>
>>>
>>>
>>>
>>> --
>>> Ulrich Staudinger
>>>
>>> P: +41 79 702 05 95
>>> E: ustaudinger at activequant.com
>>>
>>> http://www.activequant.com
>>>
>>> AQ-R user? Join our mailing list:
>>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>>
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> R-SIG-Finance mailing list
>>> R-SIG-Finance at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>
>>>
>>> End of R-SIG-Finance Digest, Vol 105, Issue 4
>>> *********************************************
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>
>
>
> --
> Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant GmbH
>
> P: +41 79 702 05 95
> E: ustaudinger at activequant.com
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user


From josh.m.ulrich at gmail.com  Mon Feb  4 18:11:24 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 4 Feb 2013 11:11:24 -0600
Subject: [R-SIG-Finance] bug on to.monthly?
In-Reply-To: <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg@mail.gmail.com>
References: <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg@mail.gmail.com>
Message-ID: <CAPPM_gSzA_Vj-Rbab=6F4rh3ZLN-ABo=fTuXK8UxJFkQDLXrEQ@mail.gmail.com>

Works fine for me, even with your timezone.

> Lines <- "2013-01-30;100
+ 2013-01-31;101
+ 2013-02-01;102"
>
> library(xts)
> Sys.setenv(TZ="Europe/Berlin")
> x1 <- read.zoo(con <- textConnection(Lines), sep=";")
> close(con)
> as.POSIXct(index(x1))
[1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
[3] "2013-02-01 01:00:00 CET"
> to.monthly(x1)
         x1.Open x1.High x1.Low x1.Close
Jan 2013     100     101    100      101
Feb 2013     102     102    102      102
> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-w64-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets
[6] methods   base

other attached packages:
[1] xts_0.9-3 zoo_1.7-9

loaded via a namespace (and not attached):
[1] grid_2.15.2     lattice_0.20-10
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Mon, Feb 4, 2013 at 4:58 AM, Ulrich Staudinger
<ustaudinger at activequant.com> wrote:
> Gents,
>
> I want to convert the following xts NAV series from daily to monthly.
>
> Browse[1]> navSeries
> [..]
> 2013-01-21 1089.233
> 2013-01-22 1088.627
> 2013-01-23 1086.648
> 2013-01-24 1095.522
> 2013-01-25 1100.402
> 2013-01-28 1098.846
> 2013-01-29 1105.938
> 2013-01-30 1102.504
> 2013-01-31 1102.386
> 2013-02-01 1111.651
>
> So I call ...
> monthlyNAV = to.monthly(navSeries)[,4]
>
> and it yields:
>
> Oct 2012        1034.037
> Nov 2012        1039.267
> Dec 2012        1055.666
> Jan 2013        1102.386
> Jan 2013        1111.651
> Browse[1]>
>
>
> As you can see, the Jan2013 exists twice!
>
> I also had a look at the index already:
> Browse[1]> tail(index(navSeries))
> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
> [5] "2013-01-31 CET" "2013-02-01 CET"
> Browse[1]>
>
>
> For reproduction, I made a little script:
>
> Here's test.csv:
> 2013-01-30;100
> 2013-01-31;101
> 2013-02-01;102
>
>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>> index(x1)
> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>> as.POSIXct(index(x1))
> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
> [3] "2013-02-01 01:00:00 CET"
>> to.monthly(x1)
>          x1.Open x1.High x1.Low x1.Close
> Jan 2013     100     101    100      101
> Jan 2013     102     102    102      102
> Warning message:
> In zoo(xx, order.by = index(x), ...) :
>   some methods for ?zoo? objects do not work if the index entries in
> ?order.by? are not unique
>>
>
> Can someone shed some light?
>
> Thanks
> Ulrich
>
>
>
>
>
> --
> Ulrich Staudinger
>
> P: +41 79 702 05 95
> E: ustaudinger at activequant.com
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From ustaudinger at activequant.com  Mon Feb  4 21:25:26 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Mon, 4 Feb 2013 21:25:26 +0100
Subject: [R-SIG-Finance] bug on to.monthly?
In-Reply-To: <CAPPM_gSzA_Vj-Rbab=6F4rh3ZLN-ABo=fTuXK8UxJFkQDLXrEQ@mail.gmail.com>
References: <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg@mail.gmail.com>
	<CAPPM_gSzA_Vj-Rbab=6F4rh3ZLN-ABo=fTuXK8UxJFkQDLXrEQ@mail.gmail.com>
Message-ID: <CAMrz3D0QBQUVKYYQspcqHEuUcs+AvTMRGqRtb3V-81NhhzezPw@mail.gmail.com>

Here's my session info.
I'll upgrade XTS and will let you know if I progress.

sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: i686-pc-linux-gnu (32-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=C                 LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] quantmod_0.3-17 TTR_0.21-1      xts_0.8-6       zoo_1.7-8
[5] Defaults_1.1-1

loaded via a namespace (and not attached):
[1] grid_2.15.1    lattice_0.20-6




On Mon, Feb 4, 2013 at 6:11 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> Works fine for me, even with your timezone.
>
>> Lines <- "2013-01-30;100
> + 2013-01-31;101
> + 2013-02-01;102"
>>
>> library(xts)
>> Sys.setenv(TZ="Europe/Berlin")
>> x1 <- read.zoo(con <- textConnection(Lines), sep=";")
>> close(con)
>> as.POSIXct(index(x1))
> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
> [3] "2013-02-01 01:00:00 CET"
>> to.monthly(x1)
>          x1.Open x1.High x1.Low x1.Close
> Jan 2013     100     101    100      101
> Feb 2013     102     102    102      102
>> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets
> [6] methods   base
>
> other attached packages:
> [1] xts_0.9-3 zoo_1.7-9
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.2     lattice_0.20-10
>>
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>
>
> On Mon, Feb 4, 2013 at 4:58 AM, Ulrich Staudinger
> <ustaudinger at activequant.com> wrote:
>> Gents,
>>
>> I want to convert the following xts NAV series from daily to monthly.
>>
>> Browse[1]> navSeries
>> [..]
>> 2013-01-21 1089.233
>> 2013-01-22 1088.627
>> 2013-01-23 1086.648
>> 2013-01-24 1095.522
>> 2013-01-25 1100.402
>> 2013-01-28 1098.846
>> 2013-01-29 1105.938
>> 2013-01-30 1102.504
>> 2013-01-31 1102.386
>> 2013-02-01 1111.651
>>
>> So I call ...
>> monthlyNAV = to.monthly(navSeries)[,4]
>>
>> and it yields:
>>
>> Oct 2012        1034.037
>> Nov 2012        1039.267
>> Dec 2012        1055.666
>> Jan 2013        1102.386
>> Jan 2013        1111.651
>> Browse[1]>
>>
>>
>> As you can see, the Jan2013 exists twice!
>>
>> I also had a look at the index already:
>> Browse[1]> tail(index(navSeries))
>> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
>> [5] "2013-01-31 CET" "2013-02-01 CET"
>> Browse[1]>
>>
>>
>> For reproduction, I made a little script:
>>
>> Here's test.csv:
>> 2013-01-30;100
>> 2013-01-31;101
>> 2013-02-01;102
>>
>>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>>> index(x1)
>> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>>> as.POSIXct(index(x1))
>> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
>> [3] "2013-02-01 01:00:00 CET"
>>> to.monthly(x1)
>>          x1.Open x1.High x1.Low x1.Close
>> Jan 2013     100     101    100      101
>> Jan 2013     102     102    102      102
>> Warning message:
>> In zoo(xx, order.by = index(x), ...) :
>>   some methods for ?zoo? objects do not work if the index entries in
>> ?order.by? are not unique
>>>
>>
>> Can someone shed some light?
>>
>> Thanks
>> Ulrich
>>
>>
>>
>>
>>
>> --
>> Ulrich Staudinger
>>
>> P: +41 79 702 05 95
>> E: ustaudinger at activequant.com
>>
>> http://www.activequant.com
>>
>> AQ-R user? Join our mailing list:
>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant GmbH

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com

AQ-R user? Join our mailing list:
http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user


From ustaudinger at activequant.com  Mon Feb  4 21:29:44 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Mon, 4 Feb 2013 21:29:44 +0100
Subject: [R-SIG-Finance] bug on to.monthly?
In-Reply-To: <CAMrz3D0QBQUVKYYQspcqHEuUcs+AvTMRGqRtb3V-81NhhzezPw@mail.gmail.com>
References: <CAMrz3D1_x4-g2P7xfh7PRJe-DoAHRbAwk8ASPfhCJezYUzd=Hg@mail.gmail.com>
	<CAPPM_gSzA_Vj-Rbab=6F4rh3ZLN-ABo=fTuXK8UxJFkQDLXrEQ@mail.gmail.com>
	<CAMrz3D0QBQUVKYYQspcqHEuUcs+AvTMRGqRtb3V-81NhhzezPw@mail.gmail.com>
Message-ID: <CAMrz3D1BnRWKipZRNi6pu73fkMGM-Se9rbSNEWiA-dixc8GptQ@mail.gmail.com>

Works with xts 0.9-3:

> Lines <- "2013-01-30;100
+ 2013-01-31;101
+ 2013-02-01;102"
> require(xts)
Loading required package: xts
Loading required package: zoo

Attaching package: ?zoo?

The following object(s) are masked from ?package:base?:

    as.Date, as.Date.numeric

> x1 <- read.zoo(con <- textConnection(Lines), sep=";")
>  close(con)
> as.POSIXct(index(x1))
[1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
[3] "2013-02-01 01:00:00 CET"
>  to.monthly(x1)
         x1.Open x1.High x1.Low x1.Close
Jan 2013     100     101    100      101
Feb 2013     102     102    102      102
>



Thanks!





On Mon, Feb 4, 2013 at 9:25 PM, Ulrich Staudinger
<ustaudinger at activequant.com> wrote:
> Here's my session info.
> I'll upgrade XTS and will let you know if I progress.
>
> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: i686-pc-linux-gnu (32-bit)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=C                 LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] quantmod_0.3-17 TTR_0.21-1      xts_0.8-6       zoo_1.7-8
> [5] Defaults_1.1-1
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1    lattice_0.20-6
>
>
>
>
> On Mon, Feb 4, 2013 at 6:11 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>> Works fine for me, even with your timezone.
>>
>>> Lines <- "2013-01-30;100
>> + 2013-01-31;101
>> + 2013-02-01;102"
>>>
>>> library(xts)
>>> Sys.setenv(TZ="Europe/Berlin")
>>> x1 <- read.zoo(con <- textConnection(Lines), sep=";")
>>> close(con)
>>> as.POSIXct(index(x1))
>> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
>> [3] "2013-02-01 01:00:00 CET"
>>> to.monthly(x1)
>>          x1.Open x1.High x1.Low x1.Close
>> Jan 2013     100     101    100      101
>> Feb 2013     102     102    102      102
>>> sessionInfo()
>> R version 2.15.2 (2012-10-26)
>> Platform: i386-w64-mingw32/i386 (32-bit)
>>
>> locale:
>> [1] LC_COLLATE=English_United States.1252
>> [2] LC_CTYPE=English_United States.1252
>> [3] LC_MONETARY=English_United States.1252
>> [4] LC_NUMERIC=C
>> [5] LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets
>> [6] methods   base
>>
>> other attached packages:
>> [1] xts_0.9-3 zoo_1.7-9
>>
>> loaded via a namespace (and not attached):
>> [1] grid_2.15.2     lattice_0.20-10
>>>
>>
>> Best,
>> --
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>>
>> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>>
>>
>> On Mon, Feb 4, 2013 at 4:58 AM, Ulrich Staudinger
>> <ustaudinger at activequant.com> wrote:
>>> Gents,
>>>
>>> I want to convert the following xts NAV series from daily to monthly.
>>>
>>> Browse[1]> navSeries
>>> [..]
>>> 2013-01-21 1089.233
>>> 2013-01-22 1088.627
>>> 2013-01-23 1086.648
>>> 2013-01-24 1095.522
>>> 2013-01-25 1100.402
>>> 2013-01-28 1098.846
>>> 2013-01-29 1105.938
>>> 2013-01-30 1102.504
>>> 2013-01-31 1102.386
>>> 2013-02-01 1111.651
>>>
>>> So I call ...
>>> monthlyNAV = to.monthly(navSeries)[,4]
>>>
>>> and it yields:
>>>
>>> Oct 2012        1034.037
>>> Nov 2012        1039.267
>>> Dec 2012        1055.666
>>> Jan 2013        1102.386
>>> Jan 2013        1111.651
>>> Browse[1]>
>>>
>>>
>>> As you can see, the Jan2013 exists twice!
>>>
>>> I also had a look at the index already:
>>> Browse[1]> tail(index(navSeries))
>>> [1] "2013-01-25 CET" "2013-01-28 CET" "2013-01-29 CET" "2013-01-30 CET"
>>> [5] "2013-01-31 CET" "2013-02-01 CET"
>>> Browse[1]>
>>>
>>>
>>> For reproduction, I made a little script:
>>>
>>> Here's test.csv:
>>> 2013-01-30;100
>>> 2013-01-31;101
>>> 2013-02-01;102
>>>
>>>> x1 = read.zoo("/opt/reports/etl/test.csv", sep=";")
>>>> index(x1)
>>> [1] "2013-01-30" "2013-01-31" "2013-02-01"
>>>> as.POSIXct(index(x1))
>>> [1] "2013-01-30 01:00:00 CET" "2013-01-31 01:00:00 CET"
>>> [3] "2013-02-01 01:00:00 CET"
>>>> to.monthly(x1)
>>>          x1.Open x1.High x1.Low x1.Close
>>> Jan 2013     100     101    100      101
>>> Jan 2013     102     102    102      102
>>> Warning message:
>>> In zoo(xx, order.by = index(x), ...) :
>>>   some methods for ?zoo? objects do not work if the index entries in
>>> ?order.by? are not unique
>>>>
>>>
>>> Can someone shed some light?
>>>
>>> Thanks
>>> Ulrich
>>>
>>>
>>>
>>>
>>>
>>> --
>>> Ulrich Staudinger
>>>
>>> P: +41 79 702 05 95
>>> E: ustaudinger at activequant.com
>>>
>>> http://www.activequant.com
>>>
>>> AQ-R user? Join our mailing list:
>>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>
>
>
> --
> Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant GmbH
>
> P: +41 79 702 05 95
> E: ustaudinger at activequant.com
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user



-- 
Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant GmbH

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com

AQ-R user? Join our mailing list:
http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user


From bastian2507hk at yahoo.co.uk  Tue Feb  5 04:19:51 2013
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Mon, 04 Feb 2013 22:19:51 -0500
Subject: [R-SIG-Finance] 4-digit SIC codes
Message-ID: <51107A57.1020804@yahoo.co.uk>

Hi,
does anybody know whether 4-digit SIC codes are available in R? 
Something along the lines

"2834" "Pharmaceutical Preparations"

Thank you.


From gsee000 at gmail.com  Tue Feb  5 04:29:37 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 4 Feb 2013 21:29:37 -0600
Subject: [R-SIG-Finance] 4-digit SIC codes
In-Reply-To: <51107A57.1020804@yahoo.co.uk>
References: <51107A57.1020804@yahoo.co.uk>
Message-ID: <CA+xi=qZJP1pag6BS0=7XaidSBRw+GEd0i9nkaPp+BT3WYZBqFA@mail.gmail.com>

I'm not sure, but here's a really quick and dirty way to get it

> library(XML)
> x <- readHTMLTable("http://www.sec.gov/info/edgar/siccodes.htm",
                                  stringsAsFactors=FALSE)[[4]]
> colnames(x) <- x[2, ]
> SIC <- x[-c(1:3), ]
> head(SIC)
  SICCode A/D  Office                                    Industry Title
4     100           5                     AGRICULTURAL PRODUCTION-CROPS
5     200           5  AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
6     700           5                             AGRICULTURAL SERVICES
7     800           5                                          FORESTRY
8     900           5                     FISHING, HUNTING AND TRAPPING
9    1000           9                                      METAL MINING

> SIC[SIC$SICCode == "2834", ]
   SICCode A/D  Office               Industry Title
91    2834           1  PHARMACEUTICAL PREPARATIONS

HTH,
Garrett

On Mon, Feb 4, 2013 at 9:19 PM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
> Hi,
> does anybody know whether 4-digit SIC codes are available in R? Something
> along the lines
>
> "2834" "Pharmaceutical Preparations"
>
> Thank you.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From David.Reiner at xrtrading.com  Tue Feb  5 15:20:51 2013
From: David.Reiner at xrtrading.com (David Reiner)
Date: Tue, 5 Feb 2013 08:20:51 -0600
Subject: [R-SIG-Finance] 4-digit SIC codes
Message-ID: <9DE405308A6AA24AA794B76282C6C00F4A3A905F86@HQ-POST1>

Very nice, Garrett!
More curious than anything, but does anyone know why I get the extraneous characters when I do it?
They are present in x as well. I believe they are non-breaking spaces.

> head(SIC)
  SICCode A/D ? Office ?                                   Industry Title
4     100            5 ?                    AGRICULTURAL PRODUCTION-CROPS
5     200            5 ? AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
6     700            5 ?                            AGRICULTURAL SERVICES
7     800            5 ?                                         FORESTRY
8     900            5 ?                    FISHING, HUNTING AND TRAPPING
9    1000            9 ?                                     METAL MINING
> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: x86_64-w64-mingw32/x64 (64-bit)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                           LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] XML_3.95-0.1

loaded via a namespace (and not attached):
[1] tools_2.15.2

Thanks,
-- David Reiner


-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of G See
Sent: Monday, February 04, 2013 9:30 PM
To: Bastian Offermann
Cc: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] 4-digit SIC codes

I'm not sure, but here's a really quick and dirty way to get it

> library(XML)
> x <- readHTMLTable("http://www.sec.gov/info/edgar/siccodes.htm",
                                  stringsAsFactors=FALSE)[[4]]
> colnames(x) <- x[2, ]
> SIC <- x[-c(1:3), ]
> head(SIC)
  SICCode A/D  Office                                    Industry Title
4     100           5                     AGRICULTURAL PRODUCTION-CROPS
5     200           5  AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
6     700           5                             AGRICULTURAL SERVICES
7     800           5                                          FORESTRY
8     900           5                     FISHING, HUNTING AND TRAPPING
9    1000           9                                      METAL MINING

> SIC[SIC$SICCode == "2834", ]
   SICCode A/D  Office               Industry Title
91    2834           1  PHARMACEUTICAL PREPARATIONS

HTH,
Garrett

On Mon, Feb 4, 2013 at 9:19 PM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
> Hi,
> does anybody know whether 4-digit SIC codes are available in R? Something
> along the lines
>
> "2834" "Pharmaceutical Preparations"
>
> Thank you.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.

THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From anand.chirag at gmail.com  Tue Feb  5 15:31:45 2013
From: anand.chirag at gmail.com (Chirag Anand)
Date: Tue, 5 Feb 2013 20:01:45 +0530
Subject: [R-SIG-Finance] 4-digit SIC codes
In-Reply-To: <9DE405308A6AA24AA794B76282C6C00F4A3A905F86@HQ-POST1>
References: <9DE405308A6AA24AA794B76282C6C00F4A3A905F86@HQ-POST1>
Message-ID: <CAOS9=__fSGBRuJn=Rw8X-bkwxg4WeYmbscFfoVD3P6ybyTdV4g@mail.gmail.com>

On 5 February 2013 19:50, David Reiner <David.Reiner at xrtrading.com> wrote:
> Very nice, Garrett!
> More curious than anything, but does anyone know why I get the extraneous characters when I do it?
> They are present in x as well. I believe they are non-breaking spaces.

Hi David,

I generally get rid of these characters by doing:
$ LC_ALL=C /usr/bin/R

You may want to export this variable during shell spawn, so that you
don't have to do this every time.
HTH


> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of G See
> Sent: Monday, February 04, 2013 9:30 PM
> To: Bastian Offermann
> Cc: r-sig-finance at r-project.org
> Subject: Re: [R-SIG-Finance] 4-digit SIC codes
>
> I'm not sure, but here's a really quick and dirty way to get it
>
>> library(XML)
>> x <- readHTMLTable("http://www.sec.gov/info/edgar/siccodes.htm",
>                                   stringsAsFactors=FALSE)[[4]]
>> colnames(x) <- x[2, ]
>> SIC <- x[-c(1:3), ]
>> head(SIC)
>   SICCode A/D  Office                                    Industry Title
> 4     100           5                     AGRICULTURAL PRODUCTION-CROPS
> 5     200           5  AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
> 6     700           5                             AGRICULTURAL SERVICES
> 7     800           5                                          FORESTRY
> 8     900           5                     FISHING, HUNTING AND TRAPPING
> 9    1000           9                                      METAL MINING
>
>> SIC[SIC$SICCode == "2834", ]
>    SICCode A/D  Office               Industry Title
> 91    2834           1  PHARMACEUTICAL PREPARATIONS
>
> HTH,
> Garrett
>
> On Mon, Feb 4, 2013 at 9:19 PM, Bastian Offermann
> <bastian2507hk at yahoo.co.uk> wrote:
>> Hi,
>> does anybody know whether 4-digit SIC codes are available in R? Something
>> along the lines
>>
>> "2834" "Pharmaceutical Preparations"
>>
>> Thank you.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>
>
> This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.
>
> THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



--
Chirag Anand
http://atvariance.in


From gsee000 at gmail.com  Tue Feb  5 15:46:44 2013
From: gsee000 at gmail.com (G See)
Date: Tue, 5 Feb 2013 08:46:44 -0600
Subject: [R-SIG-Finance] 4-digit SIC codes
In-Reply-To: <9DE405308A6AA24AA794B76282C6C00F4A3A905F86@HQ-POST1>
References: <9DE405308A6AA24AA794B76282C6C00F4A3A905F86@HQ-POST1>
Message-ID: <CA+xi=qazE3=uVVk1uRMM4OwkcB7feRBihMEw26kFxypMjS4VdA@mail.gmail.com>

There are actually non-break spaces in the source code of the page.
If you look at it, you will see things like this:

<B>A/D &nbsp;<BR>

Whether or not XML::trim gets rid of them for you may be OS specific.
See and answer to an old question of mine on R-help for example
https://stat.ethz.ch/pipermail/r-help/2012-February/302417.html

Best,
Garrett

On Tue, Feb 5, 2013 at 8:20 AM, David Reiner <David.Reiner at xrtrading.com> wrote:
> Very nice, Garrett!
> More curious than anything, but does anyone know why I get the extraneous characters when I do it?
> They are present in x as well. I believe they are non-breaking spaces.
>
>> head(SIC)
>   SICCode A/D ? Office ?                                   Industry Title
> 4     100            5 ?                    AGRICULTURAL PRODUCTION-CROPS
> 5     200            5 ? AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
> 6     700            5 ?                            AGRICULTURAL SERVICES
> 7     800            5 ?                                         FORESTRY
> 8     900            5 ?                    FISHING, HUNTING AND TRAPPING
> 9    1000            9 ?                                     METAL MINING
>> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C                           LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] XML_3.95-0.1
>
> loaded via a namespace (and not attached):
> [1] tools_2.15.2
>
> Thanks,
> -- David Reiner
>
>
> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of G See
> Sent: Monday, February 04, 2013 9:30 PM
> To: Bastian Offermann
> Cc: r-sig-finance at r-project.org
> Subject: Re: [R-SIG-Finance] 4-digit SIC codes
>
> I'm not sure, but here's a really quick and dirty way to get it
>
>> library(XML)
>> x <- readHTMLTable("http://www.sec.gov/info/edgar/siccodes.htm",
>                                   stringsAsFactors=FALSE)[[4]]
>> colnames(x) <- x[2, ]
>> SIC <- x[-c(1:3), ]
>> head(SIC)
>   SICCode A/D  Office                                    Industry Title
> 4     100           5                     AGRICULTURAL PRODUCTION-CROPS
> 5     200           5  AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
> 6     700           5                             AGRICULTURAL SERVICES
> 7     800           5                                          FORESTRY
> 8     900           5                     FISHING, HUNTING AND TRAPPING
> 9    1000           9                                      METAL MINING
>
>> SIC[SIC$SICCode == "2834", ]
>    SICCode A/D  Office               Industry Title
> 91    2834           1  PHARMACEUTICAL PREPARATIONS
>
> HTH,
> Garrett
>
> On Mon, Feb 4, 2013 at 9:19 PM, Bastian Offermann
> <bastian2507hk at yahoo.co.uk> wrote:
>> Hi,
>> does anybody know whether 4-digit SIC codes are available in R? Something
>> along the lines
>>
>> "2834" "Pharmaceutical Preparations"
>>
>> Thank you.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>
>
> This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.
>
> THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.

On Tue, Feb 5, 2013 at 8:20 AM, David Reiner <David.Reiner at xrtrading.com> wrote:
> Very nice, Garrett!
> More curious than anything, but does anyone know why I get the extraneous characters when I do it?
> They are present in x as well. I believe they are non-breaking spaces.
>
>> head(SIC)
>   SICCode A/D ? Office ?                                   Industry Title
> 4     100            5 ?                    AGRICULTURAL PRODUCTION-CROPS
> 5     200            5 ? AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
> 6     700            5 ?                            AGRICULTURAL SERVICES
> 7     800            5 ?                                         FORESTRY
> 8     900            5 ?                    FISHING, HUNTING AND TRAPPING
> 9    1000            9 ?                                     METAL MINING
>> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: x86_64-w64-mingw32/x64 (64-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C                           LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] XML_3.95-0.1
>
> loaded via a namespace (and not attached):
> [1] tools_2.15.2
>
> Thanks,
> -- David Reiner
>
>
> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of G See
> Sent: Monday, February 04, 2013 9:30 PM
> To: Bastian Offermann
> Cc: r-sig-finance at r-project.org
> Subject: Re: [R-SIG-Finance] 4-digit SIC codes
>
> I'm not sure, but here's a really quick and dirty way to get it
>
>> library(XML)
>> x <- readHTMLTable("http://www.sec.gov/info/edgar/siccodes.htm",
>                                   stringsAsFactors=FALSE)[[4]]
>> colnames(x) <- x[2, ]
>> SIC <- x[-c(1:3), ]
>> head(SIC)
>   SICCode A/D  Office                                    Industry Title
> 4     100           5                     AGRICULTURAL PRODUCTION-CROPS
> 5     200           5  AGRICULTURAL PROD-LIVESTOCK & ANIMAL SPECIALTIES
> 6     700           5                             AGRICULTURAL SERVICES
> 7     800           5                                          FORESTRY
> 8     900           5                     FISHING, HUNTING AND TRAPPING
> 9    1000           9                                      METAL MINING
>
>> SIC[SIC$SICCode == "2834", ]
>    SICCode A/D  Office               Industry Title
> 91    2834           1  PHARMACEUTICAL PREPARATIONS
>
> HTH,
> Garrett
>
> On Mon, Feb 4, 2013 at 9:19 PM, Bastian Offermann
> <bastian2507hk at yahoo.co.uk> wrote:
>> Hi,
>> does anybody know whether 4-digit SIC codes are available in R? Something
>> along the lines
>>
>> "2834" "Pharmaceutical Preparations"
>>
>> Thank you.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>
>
> This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.
>
> THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From lisasolomon at alum.mit.edu  Thu Feb  7 21:58:54 2013
From: lisasolomon at alum.mit.edu (Lisa Solomon)
Date: Thu, 7 Feb 2013 15:58:54 -0500
Subject: [R-SIG-Finance] New Webinar Series: The Evolution of Regression
 From Classical Linear Regression to Modern Ensembles
Message-ID: <713851378.830.1360270734279.JavaMail.help@alum.mit.edu>

The Evolution of Regression: An Upcoming Webinar Series
(Hands-on Component)

Registration: 
http://bit.ly/salford-systems-regression-webinar-series

Regression is one of the most popular modeling methods, but the classical approach has significant problems. This webinar series addresses these problems. Are you working with larger datasets? Is your data challenging? Does your data include missing values, nonlinear relationships, local patterns and interactions? This webinar series is for you! We will cover improvements to conventional and logistic regression, and will include a discussion of classical, regularized, and nonlinear regression, as well as modern ensemble and data mining approaches. This series will be of value to any classically trained statistician or modeler.

Overcoming Linear Regression Limitations

Part 1: March 1 - Regression methods discussed
?	Classical Regression
?	Logistic Regression
?	Regularized Regression: GPS Generalized Path Seeker
?	Nonlinear Regression: MARS Regression Splines

Part 2: March 15 - Hands-on demonstration of concepts discussed in Part 1
?	Step-by-step demonstration
?	Datasets and software available for download
?	Instructions for reproducing demo at your leisure
?	For the dedicated student: apply these methods to your own data (optional)

Part 3: March 29 - Regression methods discussed
*Part 1 is a recommended pre-requisite
?	Nonlinear Ensemble Approaches: TreeNet Gradient Boosting; Random Forests; Gradient Boosting incorporating RF
?	Ensemble Post-Processing: ISLE; RuleLearner

Part 4: April 12 - Hands-on demonstration of concepts discussed in Part 3
?	Step-by-step demonstration
?	Datasets and software available for download
?	Instructions for reproducing demo at your leisure
?	For the dedicated student: apply these methods to your own data (optional)

From gsee000 at gmail.com  Thu Feb  7 22:31:02 2013
From: gsee000 at gmail.com (G See)
Date: Thu, 7 Feb 2013 15:31:02 -0600
Subject: [R-SIG-Finance] New Webinar Series: The Evolution of Regression
 From Classical Linear Regression to Modern Ensembles
In-Reply-To: <713851378.830.1360270734279.JavaMail.help@alum.mit.edu>
References: <713851378.830.1360270734279.JavaMail.help@alum.mit.edu>
Message-ID: <CA+xi=qYaLEFZdfpBMwDzMUTxP1LbRZFjoFzyPt7iCbgcacq3HQ@mail.gmail.com>

Lisa,

Please don't crosspost.  R-help was was enough.  Please don't abuse the lists.

Thank you,
Garrett

On Thu, Feb 7, 2013 at 2:58 PM, Lisa Solomon <lisasolomon at alum.mit.edu> wrote:
> The Evolution of Regression: An Upcoming Webinar Series
> (Hands-on Component)
>
> Registration:
> http://bit.ly/salford-systems-regression-webinar-series
>
> Regression is one of the most popular modeling methods, but the classical approach has significant problems. This webinar series addresses these problems. Are you working with larger datasets? Is your data challenging? Does your data include missing values, nonlinear relationships, local patterns and interactions? This webinar series is for you! We will cover improvements to conventional and logistic regression, and will include a discussion of classical, regularized, and nonlinear regression, as well as modern ensemble and data mining approaches. This series will be of value to any classically trained statistician or modeler.
>
> Overcoming Linear Regression Limitations
>
> Part 1: March 1 - Regression methods discussed
> ?       Classical Regression
> ?       Logistic Regression
> ?       Regularized Regression: GPS Generalized Path Seeker
> ?       Nonlinear Regression: MARS Regression Splines
>
> Part 2: March 15 - Hands-on demonstration of concepts discussed in Part 1
> ?       Step-by-step demonstration
> ?       Datasets and software available for download
> ?       Instructions for reproducing demo at your leisure
> ?       For the dedicated student: apply these methods to your own data (optional)
>
> Part 3: March 29 - Regression methods discussed
> *Part 1 is a recommended pre-requisite
> ?       Nonlinear Ensemble Approaches: TreeNet Gradient Boosting; Random Forests; Gradient Boosting incorporating RF
> ?       Ensemble Post-Processing: ISLE; RuleLearner
>
> Part 4: April 12 - Hands-on demonstration of concepts discussed in Part 3
> ?       Step-by-step demonstration
> ?       Datasets and software available for download
> ?       Instructions for reproducing demo at your leisure
> ?       For the dedicated student: apply these methods to your own data (optional)
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From pantea_hafezian at yahoo.com  Fri Feb  8 02:34:10 2013
From: pantea_hafezian at yahoo.com (pantea hafezian)
Date: Thu, 7 Feb 2013 17:34:10 -0800 (PST)
Subject: [R-SIG-Finance] Question
Message-ID: <1360287250.52195.YahooMailClassic@web164006.mail.gq1.yahoo.com>

Dear Sir/MsThank you for your valuable and very helpful package (rugarch). Actually I am going to compare different GARCH models (VaR) by using this package but unfortunately ?I face a problem. The problem is related ?to the?back testing?method. For instance, in Qupiec ?test, the value of K (LRUC) ?is amounting to 0 and consequently p-value is equal to 1 for all models. I performed this procedure several times with various data but the results is same as I mentioned even for your own example. It would be appreciate if let me know the result is supposed to be like this or the problem rises from my programming.My program is enclosed to this email.Thank you again and I look forward hearing from you about that.Sincerely?Yours,Pantea HafezianPhD candidate in Finance,University Technology Malaysia (UTM)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130207/79a6ba37/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: My Program.text
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130207/79a6ba37/attachment.pl>

From edd at debian.org  Fri Feb  8 06:19:49 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 7 Feb 2013 23:19:49 -0600
Subject: [R-SIG-Finance] New Webinar Series: The Evolution of Regression
 From Classical Linear Regression to Modern Ensembles
In-Reply-To: <CA+xi=qYaLEFZdfpBMwDzMUTxP1LbRZFjoFzyPt7iCbgcacq3HQ@mail.gmail.com>
References: <713851378.830.1360270734279.JavaMail.help@alum.mit.edu>
	<CA+xi=qYaLEFZdfpBMwDzMUTxP1LbRZFjoFzyPt7iCbgcacq3HQ@mail.gmail.com>
Message-ID: <20756.35573.601359.26117@max.nulle.part>


On 7 February 2013 at 15:31, G See wrote:
| Lisa,
| 
| Please don't crosspost.  R-help was was enough.  Please don't abuse the lists.

Seconded, in my role as listmaster for r-sig-finance and r-sig-hpc. 

Please respect list etiquette or else I may be forced to unsubscribe you.

Dirk
 
| Thank you,
| Garrett
| 
| On Thu, Feb 7, 2013 at 2:58 PM, Lisa Solomon <lisasolomon at alum.mit.edu> wrote:
| > The Evolution of Regression: An Upcoming Webinar Series
| > (Hands-on Component)
| >
| > Registration:
| > http://bit.ly/salford-systems-regression-webinar-series
| >
| > Regression is one of the most popular modeling methods, but the classical approach has significant problems. This webinar series addresses these problems. Are you working with larger datasets? Is your data challenging? Does your data include missing values, nonlinear relationships, local patterns and interactions? This webinar series is for you! We will cover improvements to conventional and logistic regression, and will include a discussion of classical, regularized, and nonlinear regression, as well as modern ensemble and data mining approaches. This series will be of value to any classically trained statistician or modeler.
| >
| > Overcoming Linear Regression Limitations
| >
| > Part 1: March 1 - Regression methods discussed
| > ?       Classical Regression
| > ?       Logistic Regression
| > ?       Regularized Regression: GPS Generalized Path Seeker
| > ?       Nonlinear Regression: MARS Regression Splines
| >
| > Part 2: March 15 - Hands-on demonstration of concepts discussed in Part 1
| > ?       Step-by-step demonstration
| > ?       Datasets and software available for download
| > ?       Instructions for reproducing demo at your leisure
| > ?       For the dedicated student: apply these methods to your own data (optional)
| >
| > Part 3: March 29 - Regression methods discussed
| > *Part 1 is a recommended pre-requisite
| > ?       Nonlinear Ensemble Approaches: TreeNet Gradient Boosting; Random Forests; Gradient Boosting incorporating RF
| > ?       Ensemble Post-Processing: ISLE; RuleLearner
| >
| > Part 4: April 12 - Hands-on demonstration of concepts discussed in Part 3
| > ?       Step-by-step demonstration
| > ?       Datasets and software available for download
| > ?       Instructions for reproducing demo at your leisure
| > ?       For the dedicated student: apply these methods to your own data (optional)
| >
| > _______________________________________________
| > R-SIG-Finance at r-project.org mailing list
| > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
| > -- Subscriber-posting only. If you want to post, subscribe first.
| > -- Also note that this is not the r-help list where general R questions should go.
| 
| _______________________________________________
| R-SIG-Finance at r-project.org mailing list
| https://stat.ethz.ch/mailman/listinfo/r-sig-finance
| -- Subscriber-posting only. If you want to post, subscribe first.
| -- Also note that this is not the r-help list where general R questions should go.
-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com  


From alexios at 4dscape.com  Fri Feb  8 10:19:50 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 08 Feb 2013 09:19:50 +0000
Subject: [R-SIG-Finance] Question
In-Reply-To: <1360287250.52195.YahooMailClassic@web164006.mail.gq1.yahoo.com>
References: <1360287250.52195.YahooMailClassic@web164006.mail.gq1.yahoo.com>
Message-ID: <5114C336.6030202@4dscape.com>

Please follow the guidelines and post a reproducible example next time.
1. What is data(Gold), where can we find it?
2. There is no model called "egarch" in the specification. It is "eGARCH"

You are starting the model with 100 data points using the eGARCH model 
and the normal distribution. It is quite likely, that the solution 
converges to one which is on the boundary of covariance stationarity. I 
have replicated this :
########################################
set.seed(10)
X = rnorm(1000)
spec =ugarchspec(variance.model=list(model="eGARCH"),distribution.model 
= "norm")
roll = ugarchroll(spec, data = X, n.start = 100,  refit.every = 500, 
refit.window = "moving", solver = "solnp", fit.control = list(),
calculate.VaR = TRUE, VaR.alpha = c(0.01, 0.025, 0.05), keep.coef = TRUE)
as.data.frame(roll)
########################################
See the NaNs in the sigma.

Solutions:
1. Use more more data for the estimation start (e.g. 200).
2. Use a different model (e.g. sGARCH, gjrGARCH etc).

Also, read some of the older posts in this forum on the amount of data 
to use and why it is a bad idea to use so little data.

-Alexios

On 08/02/2013 01:34, pantea hafezian wrote:
> Dear Sir/Ms
> Thank you for your valuable and very helpful package (rugarch). Actually
> I am going to compare different GARCH models (VaR) by using this package
> but unfortunately  I face a problem. The problem is related  to the back
> testing method. For instance, in Qupiec  test, the value of K (LRUC)  is
> amounting to 0 and consequently p-value is equal to 1 for all models. I
> performed this procedure several times with various data but the results
> is same as I mentioned even for your own example. It would be appreciate
> if let me know the result is supposed to be like this or the problem
> rises from my programming.
> My program is enclosed to this email.
> Thank you again and I look forward hearing from you about that.
> Sincerely Yours,
> Pantea Hafezian
> PhD candidate in Finance,
> University Technology Malaysia (UTM)
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From jyotibasu.c at gmail.com  Sun Feb 10 06:21:17 2013
From: jyotibasu.c at gmail.com (jbasu)
Date: Sat, 9 Feb 2013 21:21:17 -0800 (PST)
Subject: [R-SIG-Finance] timeLastNdayInMonth returns with a date in the next
	month
Message-ID: <1360473677691-4658068.post@n4.nabble.com>

Hi,

I am trying to use the timeDate package and function timeLastNdayInMonth to
get the last Friday of the month. But when I call the function I get an
output date in the next month which is incorrect.

> library(timeDate)
> timeLastNdayInMonth("1996-05-01", 2)
America/New_York
[1] [1996-06-04]

I ran this on my machine as well as on http://pbil.univ-lyon1.fr/Rweb/ just
to make sure I did not have a messed up installation. 

Is there a bug in this function or should I be using some different function
for this purpose?

Also if the last Friday is a trading day, I would like to get the prior
trading day. I can write a loop to check this date against the list of
trading days in that month. Is there already some function or more efficient
way to do this?

Thanks for your help,
jbasu




--
View this message in context: http://r.789695.n4.nabble.com/timeLastNdayInMonth-returns-with-a-date-in-the-next-month-tp4658068.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brad.saterfiel at gmail.com  Sun Feb 10 19:33:31 2013
From: brad.saterfiel at gmail.com (JohnnyPaper)
Date: Sun, 10 Feb 2013 10:33:31 -0800 (PST)
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help with
 twsPortfolioValue
Message-ID: <1360521211856-4658101.post@n4.nabble.com>

Hi Everyone,

I have a couple of questions to ask, and I absolutely don't mind if this
gets resubmitted anywhere else.  It seems as though this may be helpful for
many people trying to manage portfolio risk with IBrokers, which as I may
add is an excellent addition to R.  Very nice work on Jeff's part, and many
many thanks.

I am just trying to keep a loop monitoring my position and shutting them
down if they hit a stop or profit target based on my position value.  Mind
you I am submitting these orders after my offline analysis is done at the
EOD.  So they are market orders executed at the open, hence the reason for
management of the portfolio in this sense through the twsPortfolioValue
updates in the data.frame .

Here is the code I am using and the results:

con <- twsConnect()

while (TRUE){
    Offset<-50
    Val<-twsPortfolioValue(reqAccountUpdates(con),zero.pos=FALSE)
        for (i in 1:nrow(Val)){
            if ( 0.01 * -abs(Val[i,4]) > Val[i,8] ){
                if (Val[i,6] < 0){
                    IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
                    Offset<- Offset +1
                } else if (Val[i,6] > 0){
                    IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
                    Offset<- Offset +1
                }
            } else if (    0.03 * abs(Val[i,4]) < Val[i,8] ){
                if (Val[i,6] < 0){
                    IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
                    Offset<- Offset +1
                } else if (Val[i,6] > 0){
                    IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
                    Offset<- Offset +1
                }
            }
        }
    print(Val)
    Sys.sleep(5)
}

2 -1 2104 Market data farm connection is OK:usfarm
2 -1 2106 HMDS data farm connection is OK:ushmds
   local sectype marketValue averageCost        return position realizedPNL
unrealizedPNL
2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0       
-10.22
6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0        
22.92
8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0       
-54.00
9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0       
-21.93
10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0       
-51.45
11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0         
3.00
12   ICE     STK     8047.89    8042.140  0.0007149839       54           0         
5.75
14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0       
-19.92
15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0        
-9.78
16   MWV     STK     8053.07    8009.890  0.0053908356      254           0        
43.18
19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0       
-14.20
21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0        
68.16
23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0        
65.82
25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0       
-54.73

2 -1 2100 API client has been unsubscribed from account data.
   local sectype marketValue averageCost        return position realizedPNL
unrealizedPNL
2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0       
-10.22
6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0        
22.92
8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0       
-54.00
9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0       
-21.93
10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0       
-51.45
11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0         
3.00
12   ICE     STK     8047.89    8042.140  0.0007149839       54           0         
5.75
14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0       
-19.92
15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0        
-9.78
16   MWV     STK     8053.07    8009.890  0.0053908356      254           0        
43.18
19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0       
-14.20
21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0        
68.16
23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0        
65.82
25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0       
-54.73


The main issue that I am having is the connection gets shut down after the
first query where I am getting Val populated so that I can monitor the
positions and take care of orders as need be.  There is the 2100 error
message after the first query...you can see it is shut down. So my question
is this... What is it I need to change for the socket to remain open and
this loop to stay in tact throughout the trading day?  (Also as a side...is
there any way to get around the box that pops up asking to "Allow incoming
API connections" in IB that you may have found?)

Thanks very much for any help to get this issue resolved.

Kind Regards,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gmonaie at gmail.com  Sun Feb 10 19:47:20 2013
From: gmonaie at gmail.com (Gei Lin)
Date: Sun, 10 Feb 2013 18:47:20 +0000
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
	with twsPortfolioValue
In-Reply-To: <1360521211856-4658101.post@n4.nabble.com>
References: <1360521211856-4658101.post@n4.nabble.com>
Message-ID: <0D7A2546-4C5C-4B77-9648-A1B5177BB782@gmail.com>

To get around the dialog box for incoming connections make sure the TWS is set with the local host being trusted 127.0.0.1, this will stop it from asking since the request is coming from your local host.

Sent from my iPhone

On 10 Feb 2013, at 18:33, JohnnyPaper <brad.saterfiel at gmail.com> wrote:

Hi Everyone,

I have a couple of questions to ask, and I absolutely don't mind if this
gets resubmitted anywhere else.  It seems as though this may be helpful for
many people trying to manage portfolio risk with IBrokers, which as I may
add is an excellent addition to R.  Very nice work on Jeff's part, and many
many thanks.

I am just trying to keep a loop monitoring my position and shutting them
down if they hit a stop or profit target based on my position value.  Mind
you I am submitting these orders after my offline analysis is done at the
EOD.  So they are market orders executed at the open, hence the reason for
management of the portfolio in this sense through the twsPortfolioValue
updates in the data.frame .

Here is the code I am using and the results:

con <- twsConnect()

while (TRUE){
   Offset<-50
   Val<-twsPortfolioValue(reqAccountUpdates(con),zero.pos=FALSE)
       for (i in 1:nrow(Val)){
           if ( 0.01 * -abs(Val[i,4]) > Val[i,8] ){
               if (Val[i,6] < 0){
                   IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
                   Offset<- Offset +1
               } else if (Val[i,6] > 0){
                   IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
                   Offset<- Offset +1
               }
           } else if (    0.03 * abs(Val[i,4]) < Val[i,8] ){
               if (Val[i,6] < 0){
                   IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
                   Offset<- Offset +1
               } else if (Val[i,6] > 0){
                   IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
                   Offset<- Offset +1
               }
           }
       }
   print(Val)
   Sys.sleep(5)
}

2 -1 2104 Market data farm connection is OK:usfarm
2 -1 2106 HMDS data farm connection is OK:ushmds
  local sectype marketValue averageCost        return position realizedPNL
unrealizedPNL
2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0       
-10.22
6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0        
22.92
8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0       
-54.00
9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0       
-21.93
10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0       
-51.45
11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0         
3.00
12   ICE     STK     8047.89    8042.140  0.0007149839       54           0         
5.75
14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0       
-19.92
15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0        
-9.78
16   MWV     STK     8053.07    8009.890  0.0053908356      254           0        
43.18
19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0       
-14.20
21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0        
68.16
23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0        
65.82
25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0       
-54.73

2 -1 2100 API client has been unsubscribed from account data.
  local sectype marketValue averageCost        return position realizedPNL
unrealizedPNL
2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0       
-10.22
6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0        
22.92
8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0       
-54.00
9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0       
-21.93
10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0       
-51.45
11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0         
3.00
12   ICE     STK     8047.89    8042.140  0.0007149839       54           0         
5.75
14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0       
-19.92
15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0        
-9.78
16   MWV     STK     8053.07    8009.890  0.0053908356      254           0        
43.18
19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0       
-14.20
21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0        
68.16
23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0        
65.82
25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0       
-54.73


The main issue that I am having is the connection gets shut down after the
first query where I am getting Val populated so that I can monitor the
positions and take care of orders as need be.  There is the 2100 error
message after the first query...you can see it is shut down. So my question
is this... What is it I need to change for the socket to remain open and
this loop to stay in tact throughout the trading day?  (Also as a side...is
there any way to get around the box that pops up asking to "Allow incoming
API connections" in IB that you may have found?)

Thanks very much for any help to get this issue resolved.

Kind Regards,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101.html
Sent from the Rmetrics mailing list archive at Nabble.com.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From brad.saterfiel at gmail.com  Sun Feb 10 20:09:06 2013
From: brad.saterfiel at gmail.com (JohnnyPaper)
Date: Sun, 10 Feb 2013 11:09:06 -0800 (PST)
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
 with twsPortfolioValue
In-Reply-To: <0D7A2546-4C5C-4B77-9648-A1B5177BB782@gmail.com>
References: <1360521211856-4658101.post@n4.nabble.com>
	<0D7A2546-4C5C-4B77-9648-A1B5177BB782@gmail.com>
Message-ID: <1360523346280-4658106.post@n4.nabble.com>

Hi Gabe,

Thanks for the fast reply...I will definitely get that under control after
the forex opens up here in a bit.  Should this be the type of fix that would
allow me to continuously open and close the connection to IB so that I can
1) Open the connection, 2) Get a snapshot, 3) Close the connection ,4)Pause
for a couple of seconds, reopen the connection 5)Do anlysis and close orders
if need be, and 6)repeat?  As long as I am opening and closing the
connection that should be ok right? All I am trying to do is maintain a
portfolio monitor on my positions and send in market orders to close
positions once thresholds are hit one way or the other.  I'm also trying to
work out in my head how this will function in a while loop.  There seems
like there should be an easy fix to all of this.  However, I wasn't able to
see any other mentions of this type of order management or examples
anywhere.

Kind Regards,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101p4658106.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Sun Feb 10 20:11:40 2013
From: gsee000 at gmail.com (G See)
Date: Sun, 10 Feb 2013 13:11:40 -0600
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
 with twsPortfolioValue
In-Reply-To: <1360521211856-4658101.post@n4.nabble.com>
References: <1360521211856-4658101.post@n4.nabble.com>
Message-ID: <CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>

I don't think the socket connection is shut down.

R> invisible(reqAccountUpdates(con))
2 -1 2100 API client has been unsubscribed from account data.
R> isConnected(con)
[1] TRUE

Why does your loop break?  Do you get an error in R?

The 2100 message is a warning
http://www.interactivebrokers.com/php/apiUsersGuide/apiguide/tables/api_message_codes.htm

Garrett

On Sun, Feb 10, 2013 at 12:33 PM, JohnnyPaper <brad.saterfiel at gmail.com> wrote:
> Hi Everyone,
>
> I have a couple of questions to ask, and I absolutely don't mind if this
> gets resubmitted anywhere else.  It seems as though this may be helpful for
> many people trying to manage portfolio risk with IBrokers, which as I may
> add is an excellent addition to R.  Very nice work on Jeff's part, and many
> many thanks.
>
> I am just trying to keep a loop monitoring my position and shutting them
> down if they hit a stop or profit target based on my position value.  Mind
> you I am submitting these orders after my offline analysis is done at the
> EOD.  So they are market orders executed at the open, hence the reason for
> management of the portfolio in this sense through the twsPortfolioValue
> updates in the data.frame .
>
> Here is the code I am using and the results:
>
> con <- twsConnect()
>
> while (TRUE){
>     Offset<-50
>     Val<-twsPortfolioValue(reqAccountUpdates(con),zero.pos=FALSE)
>         for (i in 1:nrow(Val)){
>             if ( 0.01 * -abs(Val[i,4]) > Val[i,8] ){
>                 if (Val[i,6] < 0){
>                     IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
> twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
>                     Offset<- Offset +1
>                 } else if (Val[i,6] > 0){
>                     IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
> twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
>                     Offset<- Offset +1
>                 }
>             } else if (    0.03 * abs(Val[i,4]) < Val[i,8] ){
>                 if (Val[i,6] < 0){
>                     IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
> twsOrder((i+Offset),"BUY",abs(Val[i,6]),"MKT") )
>                     Offset<- Offset +1
>                 } else if (Val[i,6] > 0){
>                     IBrokers:::.placeOrder( con, twsSTK(toString(Val[i,1])),
> twsOrder((i+Offset),"SELL",abs(Val[i,6]),"MKT") )
>                     Offset<- Offset +1
>                 }
>             }
>         }
>     print(Val)
>     Sys.sleep(5)
> }
>
> 2 -1 2104 Market data farm connection is OK:usfarm
> 2 -1 2106 HMDS data farm connection is OK:ushmds
>    local sectype marketValue averageCost        return position realizedPNL
> unrealizedPNL
> 2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0
> -10.22
> 6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0
> 22.92
> 8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0
> -54.00
> 9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0
> -21.93
> 10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0
> -51.45
> 11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0
> 3.00
> 12   ICE     STK     8047.89    8042.140  0.0007149839       54           0
> 5.75
> 14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0
> -19.92
> 15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0
> -9.78
> 16   MWV     STK     8053.07    8009.890  0.0053908356      254           0
> 43.18
> 19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0
> -14.20
> 21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0
> 68.16
> 23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0
> 65.82
> 25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0
> -54.73
>
> 2 -1 2100 API client has been unsubscribed from account data.
>    local sectype marketValue averageCost        return position realizedPNL
> unrealizedPNL
> 2   AKAM     STK    -8022.18   -8011.965 -0.0012749681     -227           0
> -10.22
> 6   ETFC     STK    -7964.32   -7987.240  0.0028695755     -728           0
> 22.92
> 8   FISV     STK    -8048.00   -7994.000 -0.0067550663     -100           0
> -54.00
> 9     GS     STK    -8006.97   -7985.040 -0.0027463856      -53           0
> -21.93
> 10   HAR     STK    -8066.78   -8015.330 -0.0064189493     -177           0
> -51.45
> 11   HNZ     STK    -7987.07   -7990.070  0.0003754658     -131           0
> 3.00
> 12   ICE     STK     8047.89    8042.140  0.0007149839       54           0
> 5.75
> 14  MOLX     STK    -8024.33   -8004.405 -0.0024892541     -291           0
> -19.92
> 15   MRK     STK    -8017.43   -8007.650 -0.0012213320     -195           0
> -9.78
> 16   MWV     STK     8053.07    8009.890  0.0053908356      254           0
> 43.18
> 19   OXY     STK    -8041.22   -8027.020 -0.0017690250      -91           0
> -14.20
> 21  SIAL     STK     8081.32    8013.160  0.0085060074      104           0
> 68.16
> 23   VFC     STK    -7962.50   -8028.320  0.0081984775      -52           0
> 65.82
> 25   ZMH     STK    -8115.41   -8060.680 -0.0067897497     -107           0
> -54.73
>
>
> The main issue that I am having is the connection gets shut down after the
> first query where I am getting Val populated so that I can monitor the
> positions and take care of orders as need be.  There is the 2100 error
> message after the first query...you can see it is shut down. So my question
> is this... What is it I need to change for the socket to remain open and
> this loop to stay in tact throughout the trading day?  (Also as a side...is
> there any way to get around the box that pops up asking to "Allow incoming
> API connections" in IB that you may have found?)
>
> Thanks very much for any help to get this issue resolved.
>
> Kind Regards,
>
> Brad
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From brad.saterfiel at gmail.com  Sun Feb 10 20:21:07 2013
From: brad.saterfiel at gmail.com (JohnnyPaper)
Date: Sun, 10 Feb 2013 11:21:07 -0800 (PST)
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
 with twsPortfolioValue
In-Reply-To: <CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>
References: <1360521211856-4658101.post@n4.nabble.com>
	<CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>
Message-ID: <1360524067871-4658109.post@n4.nabble.com>

Hi Garrett,

I suppose I was assuming that since the 2104 and 2106 messages were coming
and then the 2100 message was next and it said that I was unsubscribed to
account data after every successive attempt to query the portfolio value (as
well from Friday I remember that it looked to me as though the portfolio
data wasn't' changing in each successive query posted to the R console as it
was on the TWS display) .  So if the connection isn't getting closed, can
you see any type of solution in the code to work in so that I am getting
updated portfolio information to perform the risk checks?  I really
appreciate the help.  I'm sure there is some sort of small change that needs
to be made and things will run just fine.  This really is the last step for
me to get things nearly fully automated, and I am extremely excited to do
so.

Kind Regards,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101p4658109.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Sun Feb 10 21:51:33 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 10 Feb 2013 14:51:33 -0600
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
	with twsPortfolioValue
In-Reply-To: <1360524067871-4658109.post@n4.nabble.com>
References: <1360521211856-4658101.post@n4.nabble.com>
	<CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>
	<1360524067871-4658109.post@n4.nabble.com>
Message-ID: <75DB845E-B46C-499E-B675-1F1E5C5E163C@gmail.com>

I don't recall this as "fact" per se, but in my experience the account updates aren't updated as they happen. It's more of a when IB wants to send/update. 

I've typically watched the risk from the market data feed (reqMktData or reqRealTimeBars)

HTH
Jeff

Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com

www.lemnica.com

On Feb 10, 2013, at 1:21 PM, JohnnyPaper <brad.saterfiel at gmail.com> wrote:

> Hi Garrett,
> 
> I suppose I was assuming that since the 2104 and 2106 messages were coming
> and then the 2100 message was next and it said that I was unsubscribed to
> account data after every successive attempt to query the portfolio value (as
> well from Friday I remember that it looked to me as though the portfolio
> data wasn't' changing in each successive query posted to the R console as it
> was on the TWS display) .  So if the connection isn't getting closed, can
> you see any type of solution in the code to work in so that I am getting
> updated portfolio information to perform the risk checks?  I really
> appreciate the help.  I'm sure there is some sort of small change that needs
> to be made and things will run just fine.  This really is the last step for
> me to get things nearly fully automated, and I am extremely excited to do
> so.
> 
> Kind Regards,
> 
> Brad
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101p4658109.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From Peter.Brecknock at bp.com  Sun Feb 10 22:00:48 2013
From: Peter.Brecknock at bp.com (Pete Brecknock)
Date: Sun, 10 Feb 2013 13:00:48 -0800 (PST)
Subject: [R-SIG-Finance] Rbbg
In-Reply-To: <1358856656808-4656254.post@n4.nabble.com>
References: <1358812337455-4656211.post@n4.nabble.com>
	<C2C1FBAD-D75B-4E3F-B502-F45A6BC57F01@gmail.com>
	<1358813239973-4656214.post@n4.nabble.com>
	<1358827387133-4656232.post@n4.nabble.com>
	<1358856656808-4656254.post@n4.nabble.com>
Message-ID: <1360530048567-4658118.post@n4.nabble.com>

SebastianBrown wrote
> This is what I get when I do traceback():
> 
>> con.BBG <-  blpConnect()
> R version 2.15.2 (2012-10-26) 
> rJava Version 0.9-3 
> Rbbg Version 0.4-155 
> Java environment initialized successfully.
> Looking for most recent blpapi3.jar file...
> Adding C:\blp\API\APIv3\JavaAPI\v3.5.1.1\lib\blpapi3.jar to Java classpath
> Error in .jnew("org/findata/blpwrapper/Connection", java.log.level) : 
>   org.findata.blpwrapper.WrapperException: Session not started because:
> CONNECTION_FAILURE
>> traceback()
> 7: stop(list(message = "org.findata.blpwrapper.WrapperException: Session
> not started because: CONNECTION_FAILURE", 
>        call = .jnew("org/findata/blpwrapper/Connection", java.log.level), 
>        jobj = 
> <S4 object of class "jobjRef">
> ))
> 6: .External(RcreateObject, class, ..., silent = silent)
> 5: .jnew("org/findata/blpwrapper/Connection", java.log.level)
> 4: blpConnect.Java("warning", NULL, TRUE, NULL, TRUE, FALSE)
> 3: eval(expr, envir, enclos)
> 2: eval(fn.call)
> 1: blpConnect()
> 
> Thanks

Think you need to download the Java API from Bloomberg (type WAPI on a
Bloomberg monitor the select "API Download Center")

HTH

Pete





--
View this message in context: http://r.789695.n4.nabble.com/Rbbg-tp4656211p4658118.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brad.saterfiel at gmail.com  Wed Feb 13 02:54:17 2013
From: brad.saterfiel at gmail.com (JohnnyPaper)
Date: Tue, 12 Feb 2013 17:54:17 -0800 (PST)
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
 with twsPortfolioValue
In-Reply-To: <75DB845E-B46C-499E-B675-1F1E5C5E163C@gmail.com>
References: <1360521211856-4658101.post@n4.nabble.com>
	<CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>
	<1360524067871-4658109.post@n4.nabble.com>
	<75DB845E-B46C-499E-B675-1F1E5C5E163C@gmail.com>
Message-ID: <1360720457333-4658357.post@n4.nabble.com>

Hi Everyone,

Ok so I have pretty much thoroughly (at least to my knowledge) tested a
couple of ways to get this solution under control.  However, I cannot seem
to get around the problems of the code executing more than 1 order which
seems very strange to me.  As I have mentioned in earlier posts, this is
what I need to have manage the positions.  So what I did was try and create
a function to manage a futures position (ES only), which can currently be
tried out in paper at this moment.  Please, will someone just help me finish
up this solution so that I can move forward.  I really am trying here.  As
well, Jeff (if you read this) I have sent you an email at lemnica.  

Here is the code.

tws<-twsConnect()

OrderStatesFutures<-function(twsConnection,StopVal,ProfitVal){
Vals<-twsPortfolioValue(reqAccountUpdates(twsConnection),zero.pos=FALSE)
if (nrow(Vals) != 0){
ManagementData<-matrix(0,nrow(Vals),8)
	for(i in 1:nrow(Vals)){
		if (substr(Vals[i,1],1,2) == "ES"){
			FillPrice<-abs(Vals[i,4]/(Vals[i,6]))/50
		}
	
ManagementData[i,1:4]<-cbind(toString(substr(Vals[i,1],1,2)),toString(Vals[i,2]),toString(abs(Vals[i,6])),FillPrice)
			if (Vals[i,6] < 0){
				ManagementData[i,5]<-round(FillPrice*(1+StopVal),digits=2)
				ManagementData[i,6]<-round(FillPrice*(1-ProfitVal),digits=2)
				ManagementData[i,7]<-("SHORT")
				ManagementData[i,8]<-("BUY")
			} else if (Vals[i,6] >0){
				ManagementData[i,5]<-round(FillPrice*(1-StopVal),digits=2)
				ManagementData[i,6]<-round(FillPrice*(1+ProfitVal),digits=2)
				ManagementData[i,7]<-("LONG")
				ManagementData[i,8]<-("SELL")
			}
	}

colnames(ManagementData)<-c("Stock","IBType","NumShares","FillPrice","StopPrice","ProfitTarget","Currently","ToClose")
	return(ManagementData)
}
}

OSFutures<-OrderStatesFutures(tws,.00025,.00025)

while(TRUE){
	Flag<-1
	if ( nrow(OSFutures) != 0){
	Ding1<-reqMktData(tws,
twsFUT("ES","GLOBEX","201303"),eventWrapper=eWrapper.data(1),snapshot=TRUE)	
	PositionMonitor<-cbind(OSFutures,Ding1[,7]);print(PositionMonitor)
		for (i in 1:nrow(PositionMonitor)){
			if( Flag == 1 & PositionMonitor[i,7] == "LONG" & (PositionMonitor[i,9] <=
PositionMonitor[i,5])){
			
IBrokers:::.placeOrder(tws,twsFUT(PositionMonitor[i,1],"GLOBEX","201303"),twsOrder(Offset,"SELL",PositionMonitor[i,3],"MKT"))
				Flag<-2
				Offset<-Offset + 1
				#Sys.sleep(1)
				#break
			} else if ( Flag == 1 & PositionMonitor[i,7] == "LONG" &
(PositionMonitor[i,9] >= PositionMonitor[i,6])){
			
IBrokers:::.placeOrder(tws,twsFUT(PositionMonitor[i,1],"GLOBEX","201303"),twsOrder(Offset,"SELL",PositionMonitor[i,3],"MKT"))
				Flag<-2
				Offset<-Offset + 1
				#Sys.sleep(1)
				#break
			} else if ( Flag == 1 & PositionMonitor[i,7] == "SHORT" &
(PositionMonitor[i,9] >= PositionMonitor[i,5])){
			
IBrokers:::.placeOrder(tws,twsFUT(PositionMonitor[i,1],"GLOBEX","201303"),twsOrder(Offset,"BUY",PositionMonitor[i,3],"MKT"))
				Flag<-2
				Offset<-Offset + 1
				#Sys.sleep(1)
				#break
			} else if ( Flag == 1 &  PositionMonitor[i,7] == "SHORT" &
(PositionMonitor[i,9] <= PositionMonitor[i,6])){
			
IBrokers:::.placeOrder(tws,twsFUT(PositionMonitor[i,1],"GLOBEX","201303"),twsOrder(Offset,"BUY",PositionMonitor[i,3],"MKT"))
				Flag<-2
				Offset<-Offset + 1
				#Sys.sleep(1)
				#break
			}
			#break
		}
	
	}
	Sys.sleep(1)
	OSFutures<-OrderStatesFutures(tws,.00025,.00025)
	if(nrow(OSFutures) == 0){
		break
	}
}


I'd seriously like to thank anyone with some input to help me get this
solved.

Best to All,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101p4658357.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From josh.m.ulrich at gmail.com  Wed Feb 13 05:04:01 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 12 Feb 2013 22:04:01 -0600
Subject: [R-SIG-Finance] R/Finance 2013,
	Call for Papers: Deadline this Friday!
Message-ID: <CAPPM_gQ2e6wVo5T=4Ze99iCYgvutdbm-_wwjtj3hxAWTX2fXEw@mail.gmail.com>

(Final re-posting before the February 15th deadline -- Josh)


Call for Papers:

R/Finance 2013: Applied Finance with R
May 17 and 18, 2013
University of Illinois at Chicago

The fifth annual R/Finance conference for applied finance using R will
be held on May 17 and 18, 2013 in Chicago, IL, USA at the University
of Illinois at Chicago.  The conference is expected to cover topics
including portfolio management, time series analysis, advanced risk
tools, high-performance computing, market microstructure, and
econometrics. All will be discussed within the context of using R as a
primary tool for financial risk management, portfolio construction,
and trading.

Over the past four years, R/Finance has included attendees from around
the world. It featured presentations from prominent academics and
practitioners.  We are happy to announce the following keynote
presentations for R/Finance 2013:

   Sanjiv Das
      Santa Clara University, Author of "Derivatives: Principles and Practice";

   Attilio Meucci
      Kepos Capital, LP; Author of "Risk and Asset Allocation"

   Ryan Sheftel
      Managing Director for Electronic Market Making at Credit Suisse

   Ruey Tsay
      U of Chicago; Author of "Intro. to Analysis of Financial Data with R"


We invite you to submit complete papers in pdf format for
consideration. We will also consider one-page abstracts (in txt or pdf
format) although more complete papers are preferred.  We welcome
submissions for full talks and abbreviated "lightning talks". Both
academic and practitioner proposals related to R are encouraged.

Presenters are strongly encouraged to provide working R code to
accompany the presentation/paper.  Data sets should also be made
public for the purposes of reproducibility (though we realize this may
be limited due to contracts with data vendors). Preference may be
given to presenters who have released R packages.

The conference will award two (or more) $1000 prizes for best papers.
A submission must be a full paper to be eligible for a best paper
award. Extended abstracts, even if a full paper is provided by
conference time, are not eligible for a best paper award.  Financial
assistance for travel and accommodation may be available to presenters
at the discretion of the conference committee. Requests for assistance
should be made at the time of submission.

Please send submissions to: committee <at> RinFinance.com.  The
submission deadline is February 15, 2013. Submitters will be notified
of acceptance via email by February 28, 2013. Notification of whether
a presentation will be a long presentation or a lightning talk will
also be made at that time.

Additional details will be announced via the conference website

   http://www.RinFinance.com/

as they become available. Information on previous years' presenters
and their presentations are also at the conference website.

For the program committee:
   Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, Dale
Rosenthal, Jeffrey Ryan, Joshua Ulrich



--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From nikos.rachmanis at gmail.com  Wed Feb 13 06:34:35 2013
From: nikos.rachmanis at gmail.com (Nikos Rachmanis)
Date: Wed, 13 Feb 2013 00:34:35 -0500
Subject: [R-SIG-Finance] merge.xts problem
Message-ID: <511B25EB.9050704@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/dc00ec89/attachment.pl>

From brad.saterfiel at gmail.com  Wed Feb 13 07:07:37 2013
From: brad.saterfiel at gmail.com (JohnnyPaper)
Date: Tue, 12 Feb 2013 22:07:37 -0800 (PST)
Subject: [R-SIG-Finance] IBrokers Risk Management Backend Solution Help
 with twsPortfolioValue
In-Reply-To: <1360720457333-4658357.post@n4.nabble.com>
References: <1360521211856-4658101.post@n4.nabble.com>
	<CA+xi=qZEcOktZVrpbG09gXf4zaC_M0iVzc0mDuJYXvs5DbDtZg@mail.gmail.com>
	<1360524067871-4658109.post@n4.nabble.com>
	<75DB845E-B46C-499E-B675-1F1E5C5E163C@gmail.com>
	<1360720457333-4658357.post@n4.nabble.com>
Message-ID: <1360735657567-4658371.post@n4.nabble.com>

Hi Everyone,

Shame on me.  A couple of things: 1) I left out a key as.numeric() variable
coercion, and 2) the Sys.sleep(1) seems to be very important.  However, I
was able to have it run as it was seemingly intended with both the ES and NQ
contracts traded at the same time.  I have updated the code for the equities
trading tomorrow.  Hopefully everything is rather smooth.  

Thanks again for all the help.

Kind Regards,

Brad



--
View this message in context: http://r.789695.n4.nabble.com/IBrokers-Risk-Management-Backend-Solution-Help-with-twsPortfolioValue-tp4658101p4658371.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From josh.m.ulrich at gmail.com  Wed Feb 13 12:55:17 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Wed, 13 Feb 2013 05:55:17 -0600
Subject: [R-SIG-Finance] merge.xts problem
In-Reply-To: <511B25EB.9050704@gmail.com>
References: <511B25EB.9050704@gmail.com>
Message-ID: <CAPPM_gRY_FOr6_XZhpfZXWojxBJ9vPSYz0Ri4Zd47o8b6ZMa=w@mail.gmail.com>

Nikos,

Please provide a minimal reproducible example.  For examples of how to
do this, see:
http://stackoverflow.com/q/5963269/271616

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Tue, Feb 12, 2013 at 11:34 PM, Nikos Rachmanis
<nikos.rachmanis at gmail.com> wrote:
> Hi all,
>
> Just wondering if someone has come across this problem with the
> merge.xts function after updating from 0.8-6 to 0.9-3 version.
>
> I am trying to merge 2 xts objects one with daily observations and
> another one with weekly.
>
> With the older packet and the following command:
>
> tradedata<-merge.xts(timeseries.daily,timeseries.daily,join="left")
>
> the merge is done fine. With the new one does not work and although puts
> together the 2 datasets shows all the incoming observations as NA.
>
> Daily dataset
> Dates   IMM0ECOL Index  IMM0ECOS Index  IMM0ENCL Index
> 12/26/2000      4316    38769   26834
> 1/2/2001        5495    29995   15885
> 1/9/2001        5786    41915   21845
> 1/16/2001       6866    41480   19696
>
>
> Weekly dataset
> Index   SP1.OPEN        SP1.HIGH
> 1/2/1990        356.35  362.85
> 1/3/1990        363.25  364.8
> 1/4/1990        361.4   362.6
> 1/5/1990        359.2   359.6
> 1/8/1990        354.1   358.4
> 1/9/1990        357.8   358.1
> 1/10/1990       351.9   353.2
> 1/11/1990       352.4   353.5
>
>
> Has the command changed?
>
> Thanks,
>
> Nikos
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From tallent_e at lycos.com  Wed Feb 13 22:37:14 2013
From: tallent_e at lycos.com (Edouard Tallent)
Date: Wed, 13 Feb 2013 21:37:14 +0000 (UTC)
Subject: [R-SIG-Finance] Markov-Switching E-GARCH process
References: <mailman.3.1360753201.31801.r-sig-finance@r-project.org>
Message-ID: <1144352676.15024.1360791434176.JavaMail.mail@webmail08>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/1059bbbd/attachment.html>

From alexios at 4dscape.com  Thu Feb 14 00:02:00 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Wed, 13 Feb 2013 23:02:00 +0000
Subject: [R-SIG-Finance] rmgarch using "user defined" garch model
In-Reply-To: <6F87609F4530D049943018C55154B2D52E6A31AA@pmaila4w.theocc.com>
References: <6F87609F4530D049943018C55154B2D52E6A31AA@pmaila4w.theocc.com>
Message-ID: <511C1B68.8090903@4dscape.com>

Hi Jo,

What is a "locally developed garch-type model"? If you are asking about 
out-of-the-box plug-in of your own univariate GARCH model, the short 
answer is you can't - you need to use what's available with rugarch.

But have a look in the src directory for the DCC dynamics/likelihood 
functions which you can pick out and use in your own function.

Regards,
Alexios

On 13/02/2013 21:18, Jo Osinga wrote:
> Hi Alexios,
>
> Where can I find an example showing how to let rmgarch use a locally
> developed garch-type model?
>
> Thanks Jo
>


From pantea_hafezian at yahoo.com  Thu Feb 14 06:41:56 2013
From: pantea_hafezian at yahoo.com (pantea hafezian)
Date: Wed, 13 Feb 2013 21:41:56 -0800 (PST)
Subject: [R-SIG-Finance] rugarch
Message-ID: <1360820516.40802.YahooMailClassic@web164006.mail.gq1.yahoo.com>


 
  
  
   
    
    Dear all
    I have modified my
    program?according to?your?recommendation?but
    unfortunately I still face same problem. I attached the program, data and
    out put for your consideration.
    Thank you very much and?waiting
    to hera from you.
    With many kind,
    
   
  
  
 


?





--- On?Fri, 2/8/13, alexios ghalanos?<alexios at 4dscape.com>?wrote:





????????????????????????????????????????????????????????????? 

From: alexios ghalanos <alexios at 4dscape.com>

Subject: Re: [R-SIG-Finance] Question

To: "pantea hafezian" <pantea_hafezian at yahoo.com>

Cc: r-sig-finance at r-project.org

Date: Friday, February 8, 2013, 1:19 AM





Please
follow the guidelines and post a reproducible example next time.

1. What is data(Gold), where can we find it?

2. There is no model called "egarch" in the specification. It is
"eGARCH"



You are starting the model with 100 data points using the eGARCH model and the
normal distribution. It is quite likely, that the solution converges to one
which is on the boundary of covariance stationarity. I have replicated this :

########################################

set.seed(10)

X = rnorm(1000)

spec =ugarchspec(variance.model=list(model="eGARCH"),distribution.model
= "norm")

roll = ugarchroll(spec, data = X, n.start = 100,? refit.every = 500,
refit.window = "moving", solver = "solnp", fit.control =
list(),

calculate.VaR = TRUE, VaR.alpha = c(0.01, 0.025, 0.05), keep.coef = TRUE)

as.data.frame(roll)

########################################

See the NaNs in the sigma.



Solutions:

1. Use more more data for the estimation start (e.g. 200).

2. Use a different model (e.g. sGARCH, gjrGARCH etc).



Also, read some of the older posts in this forum on the amount of data to use
and why it is a bad idea to use so little data.



-Alexios

?

?

?

?

On 08/02/2013
01:34, pantea hafezian wrote:

> Dear Sir/Ms

> Thank you for your valuable and very helpful
package (rugarch). Actually

> I am going to compare different GARCH models
(VaR) by using this package

> but unfortunately? I face a problem. The
problem is related? to the back

> testing method. For instance, in Qupiec?
test, the value of K (LRUC)? is

> amounting to 0 and consequently p-value is
equal to 1 for all models. I

> performed this procedure several times with
various data but the results

> is same as I mentioned even for your own
example. It would be appreciate

> if let me know the result is supposed to be
like this or the problem

> rises from my programming.

> My program is enclosed to this email.

> Thank you again and I look forward hearing
from you about that.

> Sincerely Yours,

> Pantea Hafezian

> PhD candidate in Finance,

> University Technology Malaysia (UTM)

>?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/99e5d647/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Gold-Data.xlsx
Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
Size: 42538 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/99e5d647/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Out Put.docx
Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document
Size: 14077 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/99e5d647/attachment-0001.bin>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Program.text
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130213/99e5d647/attachment.pl>

From alexios at 4dscape.com  Thu Feb 14 11:25:57 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 14 Feb 2013 10:25:57 +0000
Subject: [R-SIG-Finance] rugarch
In-Reply-To: <1360820516.40802.YahooMailClassic@web164006.mail.gq1.yahoo.com>
References: <1360820516.40802.YahooMailClassic@web164006.mail.gq1.yahoo.com>
Message-ID: <511CBBB5.7080902@4dscape.com>

Check that your code is sensible and reproducible (it is not).
1. You have provided an excel file (bad form - use csv/txt/native R 
format) of prices but have not shown in your file how you go from that 
to "Gold$Rr.1000" in your code.
2. Your code on the VaR report is on another object, "X.bktest"
"report(X.bktest, type="VaR", VaR.alpha = 0.01, conf.level = 0.95)"
rather than on the object you are estimating "mod".
In fact, running the code you provided on the log returns of your 
dataset yields very reasonable results.
3. You provide your error report in an ms word file (bad form) when you 
could have easily provided us with text output.

In future, please put some more thought and consideration into your 
submitted code/questions if you expect any further help.

Regards,
Alexios

On 14/02/2013 05:41, pantea hafezian wrote:
> Dear all
>
> I have modified my program according to your recommendation but
> unfortunately I still face same problem. I attached the program, data
> and out put for your consideration.
>
> Thank you very much and waiting to hera from you.
>
> With many kind,
>
>
>
> --- On *Fri, 2/8/13, alexios ghalanos /<alexios at 4dscape.com>/* wrote:
>
>
> From: alexios ghalanos <alexios at 4dscape.com>
> Subject: Re: [R-SIG-Finance] Question
> To: "pantea hafezian" <pantea_hafezian at yahoo.com>
> Cc: r-sig-finance at r-project.org
> Date: Friday, February 8, 2013, 1:19 AM
>
> Please follow the guidelines and post a reproducible example next time.
> 1. What is data(Gold), where can we find it?
> 2. There is no model called "egarch" in the specification. It is "eGARCH"
>
> You are starting the model with 100 data points using the eGARCH model
> and the normal distribution. It is quite likely, that the solution
> converges to one which is on the boundary of covariance stationarity. I
> have replicated this :
> ########################################
> set.seed(10)
> X = rnorm(1000)
> spec =ugarchspec(variance.model=list(model="eGARCH"),distribution.model
> = "norm")
> roll = ugarchroll(spec, data = X, n.start = 100,  refit.every = 500,
> refit.window = "moving", solver = "solnp", fit.control = list(),
> calculate.VaR = TRUE, VaR.alpha = c(0.01, 0.025, 0.05), keep.coef = TRUE)
> as.data.frame(roll)
> ########################################
> See the NaNs in the sigma.
>
> Solutions:
> 1. Use more more data for the estimation start (e.g. 200).
> 2. Use a different model (e.g. sGARCH, gjrGARCH etc).
>
> Also, read some of the older posts in this forum on the amount of data
> to use and why it is a bad idea to use so little data.
>
> -Alexios
>
> On 08/02/2013 01:34, pantea hafezian wrote:
>> Dear Sir/Ms
>> Thank you for your valuable and very helpful  package (rugarch). Actually
>> I am going to compare different GARCH models  (VaR) by using this package
>> but unfortunately  I face a problem. The  problem is related  to the back
>> testing method. For instance, in Qupiectest, the value of K (LRUC)  is
>> amounting to 0 and consequently p-value is  equal to 1 for all models. I
>> performed this procedure several times with  various data but the results
>> is same as I mentioned even for your own  example. It would be appreciate
>> if let me know the result is supposed to be  like this or the problem
>> rises from my programming.
>> My program is enclosed to this email.
>> Thank you again and I look forward hearing  from you about that.
>> Sincerely Yours,
>> Pantea Hafezian
>> PhD candidate in Finance,
>> University Technology Malaysia (UTM)
>>
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From MSigurdsson at tiff.org  Thu Feb 14 18:56:14 2013
From: MSigurdsson at tiff.org (Sigurdsson, Magnus)
Date: Thu, 14 Feb 2013 17:56:14 +0000
Subject: [R-SIG-Finance] Portfolio construction with integer constraints
Message-ID: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130214/eee4761f/attachment.pl>

From alexios at 4dscape.com  Thu Feb 14 19:32:05 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 14 Feb 2013 18:32:05 +0000
Subject: [R-SIG-Finance] Portfolio construction with integer constraints
In-Reply-To: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
References: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
Message-ID: <511D2DA5.9060001@4dscape.com>

Magnus,

Have you done a search for "round lots" in the context of portfolio 
optimization? There are many references. I have personally found 
Scherer's classic ("Introduction to Modern Portfolio Optimization") to 
be quite good (see page 96 for this particular problem).

Keep in mind that in R you only have, AFAIK, MILP solvers. MINLP or MIQP 
are usually only found in commercial implementations (though you also 
have couenne in coin-or which has not been ported to R yet).

If you want to have a look at an implementation of 'in-between or out' 
cardinality constraints, the parma package on CRAN implements this for a 
number of risk measures within a MILP framework (using the GLPK solver).

Regards,
Alexios


On 14/02/2013 17:56, Sigurdsson, Magnus wrote:
> Dear R Finance enthusiasts
>
> I was wondering if anyone had experience with using R for portfolio construction with integer constraints, such as mean variance optimization, or equal risk contribution optimization, where you can only have integer number of shares/contracts in each underlying asset?
>
> The case I am referring to is, for example, a futures trading strategy, where you trade a few different futures markets. Due to the generally large nominal size of futures contract, your budget allows you only to trade 1 to 5 contracts of each different asset. The problem being creating an optimal portfolio with those constraints.
>
> I have done a fair amount of Google searches, and have looked through http://cran.r-project.org/web/views/Optimization.html . I have some mathematical optimization background, but it is getting a little rusty, not sure how to proceed. I was hoping someone here had some ideas.
>
> Thank you very much,
>
> Magnus Sigurdsson
>
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to
> privilege or exempt from disclosure under applicable
> law. These materials are solely for the use of the
> intended recipient. If you are not the intended
> recipient of this transmission, you are hereby
> notified that any distribution, disclosure, printing,
> copying, storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this
> communication.
>
> If you have received this communication in error,
> please notify the sender immediately and delete
> this message from your system.
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From nikos.rachmanis at gmail.com  Thu Feb 14 20:58:45 2013
From: nikos.rachmanis at gmail.com (Nikos Rachmanis)
Date: Thu, 14 Feb 2013 14:58:45 -0500
Subject: [R-SIG-Finance] merge.xts problem
In-Reply-To: <CAPPM_gRY_FOr6_XZhpfZXWojxBJ9vPSYz0Ri4Zd47o8b6ZMa=w@mail.gmail.com>
References: <511B25EB.9050704@gmail.com>
	<CAPPM_gRY_FOr6_XZhpfZXWojxBJ9vPSYz0Ri4Zd47o8b6ZMa=w@mail.gmail.com>
Message-ID: <511D41F5.7000000@gmail.com>

Hi Joshua,

I did some additional research and found that the command below, which 
tries to shift the index by 3 days, creates a problem and does not allow 
to the 2 datasets to be combined.
#shift the index
index(weekly)<-index(weekly)+3

This used to work in the previous version but not anymore.

Attached you will find the datasets and r code.

Nikos



On 2/13/2013 6:55 AM, Joshua Ulrich wrote:
> Nikos,
>
> Please provide a minimal reproducible example.  For examples of how to
> do this, see:
> http://stackoverflow.com/q/5963269/271616
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>
>
> On Tue, Feb 12, 2013 at 11:34 PM, Nikos Rachmanis
> <nikos.rachmanis at gmail.com> wrote:
>> Hi all,
>>
>> Just wondering if someone has come across this problem with the
>> merge.xts function after updating from 0.8-6 to 0.9-3 version.
>>
>> I am trying to merge 2 xts objects one with daily observations and
>> another one with weekly.
>>
>> With the older packet and the following command:
>>
>> tradedata<-merge.xts(timeseries.daily,timeseries.daily,join="left")
>>
>> the merge is done fine. With the new one does not work and although puts
>> together the 2 datasets shows all the incoming observations as NA.
>>
>> Daily dataset
>> Dates   IMM0ECOL Index  IMM0ECOS Index  IMM0ENCL Index
>> 12/26/2000      4316    38769   26834
>> 1/2/2001        5495    29995   15885
>> 1/9/2001        5786    41915   21845
>> 1/16/2001       6866    41480   19696
>>
>>
>> Weekly dataset
>> Index   SP1.OPEN        SP1.HIGH
>> 1/2/1990        356.35  362.85
>> 1/3/1990        363.25  364.8
>> 1/4/1990        361.4   362.6
>> 1/5/1990        359.2   359.6
>> 1/8/1990        354.1   358.4
>> 1/9/1990        357.8   358.1
>> 1/10/1990       351.9   353.2
>> 1/11/1990       352.4   353.5
>>
>>
>> Has the command changed?
>>
>> Thanks,
>>
>> Nikos
>>
>>          [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 000.SPX.csv
Type: application/vnd.ms-excel
Size: 26759 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130214/7078c280/attachment.xlb>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 001.S&P_Commit.csv
Type: application/vnd.ms-excel
Size: 5201 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130214/7078c280/attachment-0001.xlb>
-------------- next part --------------
####################################################################################################################
### Libraries + Settings ###########################################################################################
####################################################################################################################
#Clear memory
rm(list=ls())
#Increase display buffer (only when it is used with display opearations)
options(max.print=5E8)

#Common Libraries
library(xts)

#Read the files 
data01=read.csv("000.SPX.csv", sep=",", header=TRUE)
data02=read.csv("001.S&P_Commit.csv", sep=",", header=TRUE)

#Create the xts using the constructor
daily<-xts(data01[,-1],as.Date(data01[,1],"%m/%d/%Y"))

#replace NA with zeros(0) in Commit
data02<-replace(data02,is.na(data02),0)

#Create the xts using the constructor
weekly<-xts(data02[,-1],as.Date(data02[,1],"%m/%d/%Y"))

#shift the index
index(weekly)<-index(weekly)+3

#merge the 2 datasets
tradedata<-merge.xts(daily,weekly,join="left")

From aleksi at ideaario.net  Fri Feb 15 07:43:40 2013
From: aleksi at ideaario.net (Aleksi Mattila)
Date: Fri, 15 Feb 2013 08:43:40 +0200
Subject: [R-SIG-Finance] Return.portfolio() behaves differently in
	PerformanceAnalytics 1.0.5.2 vs 1.0.4.4?
Message-ID: <49AC8108-4CA7-45CF-8504-D76CC249FC86@ideaario.net>

Dear R experts,

After updating PerformanceAnalytics from 1.0.4.4. to 1.0.5.2 I have encountered a following issue (reproducible example below). I am not quite sure whether this is due to my sloppy coding (any hints on how to get around this would be greatly appreciated), or an actual bug. I think that the code causing the error is in function Return.portfolio(), and occurs when the parameter "geometric" is set to TRUE. I inspected the code from both versions of PerformanceAnalytics, and there were some large changes in the above mentioned function. Unfortunately my coding skills are not good enough to be able to produce a proposal for a workaround.

The following code works in PA 1.0.4.4

# create sample data and dates
library(PerformanceAnalytics)
cols <- 4
rows <- 50
sample.dates <- Sys.Date()-1:rows
sample.data <- xts(matrix(rep(rnorm(cols*rows)), ncol=cols, nrow=rows), order.by=sample.dates)
colnames(sample.data) <- c("one", "two", "three", "four")
sample.rebal.weights <- xts(matrix(rep(1/cols, cols), ncol=cols, nrow=rows), order.by=sample.dates)

# works in 1.0.4.4
Return.rebalancing(sample.data, sample.rebal.weights)

#, but in PerformanceAnalytics 1.0.5.2 the same code results in an error.
Return.rebalancing(sample.data, sample.rebal.weights)
>Error in `[.xts`(result, 2:length(result)) : subscript out of bounds

I also tried to use endpoints(), where periodicity "days" is fine, if parameter k is greater or equal to 3. Coarser periodicities work fine with k=1 (weeks,...)

# this works
sample.endpoints <- endpoints(sample.dates, on="days", k=3)
Return.rebalancing(sample.data, sample.rebal.weights[sample.endpoints])

# this does not
sample.endpoints <- endpoints(sample.dates, on="days", k=1)
Return.rebalancing(sample.data, sample.rebal.weights[sample.endpoints])
>Error in `[.xts`(result, 2:length(result)) : subscript out of bounds

I am stuck with this one, and can't figure out how to go around this problem.

Any pointers/hints on this would be greatly appreciated. SessionInfo() from both machines is attached below.

With best regards,
 Aleksi Mattila


> sessionInfo() # sample code run on this machine works fine
R version 2.15.2 (2012-10-26)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=fi_FI.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=fi_FI.UTF-8        LC_COLLATE=fi_FI.UTF-8    
 [5] LC_MONETARY=fi_FI.UTF-8    LC_MESSAGES=fi_FI.UTF-8   
 [7] LC_PAPER=C                 LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=fi_FI.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] PerformanceAnalytics_1.0.4.4 xts_0.9-1                   
[3] zoo_1.7-9                   

loaded via a namespace (and not attached):
[1] grid_2.15.2     lattice_0.20-13 tools_2.15.2   


> sessionInfo() # sample code run on this machine gives an error
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] PerformanceAnalytics_1.0.5.2 xts_0.9-3.2                  zoo_1.7-9                   

loaded via a namespace (and not attached):
[1] grid_2.15.1     lattice_0.20-13 tools_2.15.1   


From michael.weylandt at gmail.com  Fri Feb 15 08:46:50 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Fri, 15 Feb 2013 07:46:50 +0000
Subject: [R-SIG-Finance] Return.portfolio() behaves differently in
	PerformanceAnalytics 1.0.5.2 vs 1.0.4.4?
In-Reply-To: <49AC8108-4CA7-45CF-8504-D76CC249FC86@ideaario.net>
References: <49AC8108-4CA7-45CF-8504-D76CC249FC86@ideaario.net>
Message-ID: <3370163E-1F11-42CC-824B-2E5B7C2C6927@gmail.com>

Moved to r-sig-fin. 

On Feb 15, 2013, at 6:43 AM, Aleksi Mattila <aleksi at ideaario.net> wrote:

> Dear R experts,
> 
> After updating PerformanceAnalytics from 1.0.4.4. to 1.0.5.2 I have encountered a following issue (reproducible example below). I am not quite sure whether this is due to my sloppy coding (any hints on how to get around this would be greatly appreciated), or an actual bug. I think that the code causing the error is in function Return.portfolio(), and occurs when the parameter "geometric" is set to TRUE. I inspected the code from both versions of PerformanceAnalytics, and there were some large changes in the above mentioned function. Unfortunately my coding skills are not good enough to be able to produce a proposal for a workaround.
> 
> The following code works in PA 1.0.4.4
> 
> # create sample data and dates
> library(PerformanceAnalytics)
> cols <- 4
> rows <- 50
> sample.dates <- Sys.Date()-1:rows
> sample.data <- xts(matrix(rep(rnorm(cols*rows)), ncol=cols, nrow=rows), order.by=sample.dates)
> colnames(sample.data) <- c("one", "two", "three", "four")
> sample.rebal.weights <- xts(matrix(rep(1/cols, cols), ncol=cols, nrow=rows), order.by=sample.dates)
> 
> # works in 1.0.4.4
> Return.rebalancing(sample.data, sample.rebal.weights)
> 
> #, but in PerformanceAnalytics 1.0.5.2 the same code results in an error.
> Return.rebalancing(sample.data, sample.rebal.weights)
>> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds
> 
> I also tried to use endpoints(), where periodicity "days" is fine, if parameter k is greater or equal to 3. Coarser periodicities work fine with k=1 (weeks,...)
> 
> # this works
> sample.endpoints <- endpoints(sample.dates, on="days", k=3)
> Return.rebalancing(sample.data, sample.rebal.weights[sample.endpoints])
> 
> # this does not
> sample.endpoints <- endpoints(sample.dates, on="days", k=1)
> Return.rebalancing(sample.data, sample.rebal.weights[sample.endpoints])
>> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds
> 
> I am stuck with this one, and can't figure out how to go around this problem.
> 
> Any pointers/hints on this would be greatly appreciated. SessionInfo() from both machines is attached below.
> 
> With best regards,
> Aleksi Mattila
> 
> 
>> sessionInfo() # sample code run on this machine works fine
> R version 2.15.2 (2012-10-26)
> Platform: x86_64-pc-linux-gnu (64-bit)
> 
> locale:
> [1] LC_CTYPE=fi_FI.UTF-8       LC_NUMERIC=C              
> [3] LC_TIME=fi_FI.UTF-8        LC_COLLATE=fi_FI.UTF-8    
> [5] LC_MONETARY=fi_FI.UTF-8    LC_MESSAGES=fi_FI.UTF-8   
> [7] LC_PAPER=C                 LC_NAME=C                 
> [9] LC_ADDRESS=C               LC_TELEPHONE=C            
> [11] LC_MEASUREMENT=fi_FI.UTF-8 LC_IDENTIFICATION=C       
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] PerformanceAnalytics_1.0.4.4 xts_0.9-1                   
> [3] zoo_1.7-9                   
> 
> loaded via a namespace (and not attached):
> [1] grid_2.15.2     lattice_0.20-13 tools_2.15.2   
> 
> 
>> sessionInfo() # sample code run on this machine gives an error
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] PerformanceAnalytics_1.0.5.2 xts_0.9-3.2                  zoo_1.7-9                   
> 
> loaded via a namespace (and not attached):
> [1] grid_2.15.1     lattice_0.20-13 tools_2.15.1   
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From heimatlos72 at gmail.com  Fri Feb 15 10:39:16 2013
From: heimatlos72 at gmail.com (heimat los)
Date: Fri, 15 Feb 2013 10:39:16 +0100
Subject: [R-SIG-Finance] mundlak
Message-ID: <CA+72ZYT4P4sxQJ09PeJ+6CydAtirLGJseusMwZh+YiuLFd9jbQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130215/9ed6ca80/attachment.pl>

From es at enricoschumann.net  Fri Feb 15 13:01:52 2013
From: es at enricoschumann.net (Enrico Schumann)
Date: Fri, 15 Feb 2013 13:01:52 +0100
Subject: [R-SIG-Finance] Portfolio construction with integer constraints
In-Reply-To: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
	(Magnus Sigurdsson's message of "Thu, 14 Feb 2013 17:56:14 +0000")
References: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
Message-ID: <87r4khbxam.fsf@enricoschumann.net>

On Thu, 14 Feb 2013, "Sigurdsson, Magnus" <MSigurdsson at tiff.org> writes:

> Dear R Finance enthusiasts
>
> I was wondering if anyone had experience with using R for portfolio
> construction with integer constraints, such as mean variance
> optimization, or equal risk contribution optimization, where you can
> only have integer number of shares/contracts in each underlying asset?
>
> The case I am referring to is, for example, a futures trading
> strategy, where you trade a few different futures markets. Due to the
> generally large nominal size of futures contract, your budget allows
> you only to trade 1 to 5 contracts of each different asset. The
> problem being creating an optimal portfolio with those constraints.

One way to solve such models is via heuristics like Genetic
Algorithms. There are a number of packages in R that implement such
methods, but typically you have to do some programming yourself. There
has been some discussion of such methods on this list in the past;
Patrick Burns has also had some blog posts about R implementations
(there you could get some pointers to R packages).


Best regards,
Enrico


-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From brian at braverock.com  Fri Feb 15 13:16:50 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 15 Feb 2013 06:16:50 -0600
Subject: [R-SIG-Finance] Portfolio construction with integer constraints
In-Reply-To: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
References: <FE8D8E4E3F14AE448DEA0892078F364E7EBF1162@VSW8EXCH2.tiff.local>
Message-ID: <511E2732.5080008@braverock.com>

On 02/14/2013 11:56 AM, Sigurdsson, Magnus wrote:
> Dear R Finance enthusiasts
>
> I was wondering if anyone had experience with using R for portfolio
> construction with integer constraints, such as mean variance
> optimization, or equal risk contribution optimization, where you can
> only have integer number of shares/contracts in each underlying
> asset?
>
> The case I am referring to is, for example, a futures trading
> strategy, where you trade a few different futures markets. Due to the
> generally large nominal size of futures contract, your budget allows
> you only to trade 1 to 5 contracts of each different asset. The
> problem being creating an optimal portfolio with those constraints.

I'll note that futures are already leveraged, so rounding is not really 
much of a problem.  Additionally, simply rounding down will likely solve 
your problem.

Package PortfolioAnalytics on R-Forge includes an interface to the ROI 
solver, which wraps GLPK.  It supports integer constraints.  So, there 
are three options: GLPK for the lowest level option, ROI for one step 
more abstraction, and PortfolioAnalytics for further business abstraction.

see demo testing_ROI.R for examples of setting ROI constraints in 
PortfolioAnalytics.  Stefan has also demonstrated integer constraints 
using ROI in some of the ROI examples and documentation, iirc.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From paulkent7 at aol.com  Sun Feb 17 18:30:20 2013
From: paulkent7 at aol.com (Paul Kent)
Date: Sun, 17 Feb 2013 12:30:20 -0500 (EST)
Subject: [R-SIG-Finance] FIX engine integration
Message-ID: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/f0a32185/attachment.pl>

From jeff.a.ryan at gmail.com  Sun Feb 17 19:01:33 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 17 Feb 2013 12:01:33 -0600
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
Message-ID: <9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>

This isn't a a question per se. The simplest fastest way is to hire someone. 

The next best "question" is to carefully construct a request as to what you have done, what research you've done and what parts you are missing. 

Best
Jeff

Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com

www.lemnica.com

On Feb 17, 2013, at 11:30 AM, Paul Kent <paulkent7 at aol.com> wrote:

> 
> Hi All,
> 
> We are considering porting some automated trading strategies to R. 
> 
> Please can you advise me on FIX integration for trading:
> 
> The simplest and quickest way to do this
> 
> The most common/popular way of during this
> 
> The best (fastest/most robust) way of doing this.
> 
> Thanks
> 
> Paul
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From Yang.Lu at williams.edu  Sun Feb 17 19:15:10 2013
From: Yang.Lu at williams.edu (Yang Lu)
Date: Sun, 17 Feb 2013 13:15:10 -0500 (EST)
Subject: [R-SIG-Finance] Updated 'pa' package for equity portfolio
 performance attribution on CRAN
Message-ID: <201302171815.001608@miram7700b.williams.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/ea77b2ea/attachment.pl>

From ustaudinger at activequant.com  Sun Feb 17 19:24:06 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Sun, 17 Feb 2013 19:24:06 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
Message-ID: <CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/8ef5e912/attachment.pl>

From htrahdis at gmail.com  Sun Feb 17 19:32:48 2013
From: htrahdis at gmail.com (sidharth mallik)
Date: Mon, 18 Feb 2013 00:02:48 +0530
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
	<CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
Message-ID: <CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>

But has anybody attempted it already ? also FIX engines have
surprisingly not been implemented too much in C. will that be a
hindrance ? I can collaborate in this project if somebody wants to
make it. I already am making an algo trading platform in C. this would
just be an add on to it.

On 2/17/13, Ulrich Staudinger <ustaudinger at activequant.com> wrote:
> I agree, you should get some consultant that has R expertise and automated
> trading expertise. You might even check out the person that wrote this
> email for this. In any case, you are best advised to get someone with
> experience and work with them.
>
>
>
> On Sun, Feb 17, 2013 at 7:01 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>
>> This isn't a a question per se. The simplest fastest way is to hire
>> someone.
>>
>> The next best "question" is to carefully construct a request as to what
>> you have done, what research you've done and what parts you are missing.
>>
>> Best
>> Jeff
>>
>> Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com
>>
>> www.lemnica.com
>>
>> On Feb 17, 2013, at 11:30 AM, Paul Kent <paulkent7 at aol.com> wrote:
>>
>> >
>> > Hi All,
>> >
>> > We are considering porting some automated trading strategies to R.
>> >
>> > Please can you advise me on FIX integration for trading:
>> >
>> > The simplest and quickest way to do this
>> >
>> > The most common/popular way of during this
>> >
>> > The best (fastest/most robust) way of doing this.
>> >
>> > Thanks
>> >
>> > Paul
>> >
>> >    [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Finance at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > -- Subscriber-posting only. If you want to post, subscribe first.
>> > -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>
>
>
> --
> Ulrich Staudinger
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From ustaudinger at activequant.com  Sun Feb 17 19:40:19 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Sun, 17 Feb 2013 19:40:19 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
	<CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
	<CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
Message-ID: <51212413.5030301@activequant.com>

Well ..... There is AQ-R, which you can use to plug into an ActiveQuant 
Master Server. AQ-R has real time messaging based on STOMP in it.
That means, you can react to messages and send new messages to channels ...

I'll leave it to the educated reader how to put these puzzle pieces 
together.



On 02/17/2013 07:32 PM, sidharth mallik wrote:
> But has anybody attempted it already ? also FIX engines have
> surprisingly not been implemented too much in C. will that be a
> hindrance ? I can collaborate in this project if somebody wants to
> make it. I already am making an algo trading platform in C. this would
> just be an add on to it.
>
> On 2/17/13, Ulrich Staudinger <ustaudinger at activequant.com> wrote:
>> I agree, you should get some consultant that has R expertise and automated
>> trading expertise. You might even check out the person that wrote this
>> email for this. In any case, you are best advised to get someone with
>> experience and work with them.
>>
>>
>>
>> On Sun, Feb 17, 2013 at 7:01 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>>
>>> This isn't a a question per se. The simplest fastest way is to hire
>>> someone.
>>>
>>> The next best "question" is to carefully construct a request as to what
>>> you have done, what research you've done and what parts you are missing.
>>>
>>> Best
>>> Jeff
>>>
>>> Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com
>>>
>>> www.lemnica.com
>>>
>>> On Feb 17, 2013, at 11:30 AM, Paul Kent <paulkent7 at aol.com> wrote:
>>>
>>>> Hi All,
>>>>
>>>> We are considering porting some automated trading strategies to R.
>>>>
>>>> Please can you advise me on FIX integration for trading:
>>>>
>>>> The simplest and quickest way to do this
>>>>
>>>> The most common/popular way of during this
>>>>
>>>> The best (fastest/most robust) way of doing this.
>>>>
>>>> Thanks
>>>>
>>>> Paul
>>>>
>>>>     [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>>
>>
>> --
>> Ulrich Staudinger
>>
>> http://www.activequant.com
>>
>> AQ-R user? Join our mailing list:
>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>


-- 
Ulrich Staudinger, ActiveQuant GmbH

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com
Connect online: https://www.xing.com/profile/Ulrich_Staudinger


From ustaudinger at activequant.com  Sun Feb 17 19:43:44 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Sun, 17 Feb 2013 19:43:44 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
	<CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
	<CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
Message-ID: <512124E0.6050202@activequant.com>

In addition to my former mail, you don't need plain C, it is very 
convenient to use RCPP.

Sincerely,
Ulrich



On 02/17/2013 07:32 PM, sidharth mallik wrote:
> But has anybody attempted it already ? also FIX engines have
> surprisingly not been implemented too much in C. will that be a
> hindrance ? I can collaborate in this project if somebody wants to
> make it. I already am making an algo trading platform in C. this would
> just be an add on to it.
>
> On 2/17/13, Ulrich Staudinger <ustaudinger at activequant.com> wrote:
>> I agree, you should get some consultant that has R expertise and automated
>> trading expertise. You might even check out the person that wrote this
>> email for this. In any case, you are best advised to get someone with
>> experience and work with them.
>>
>>
>>
>> On Sun, Feb 17, 2013 at 7:01 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>>
>>> This isn't a a question per se. The simplest fastest way is to hire
>>> someone.
>>>
>>> The next best "question" is to carefully construct a request as to what
>>> you have done, what research you've done and what parts you are missing.
>>>
>>> Best
>>> Jeff
>>>
>>> Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com
>>>
>>> www.lemnica.com
>>>
>>> On Feb 17, 2013, at 11:30 AM, Paul Kent <paulkent7 at aol.com> wrote:
>>>
>>>> Hi All,
>>>>
>>>> We are considering porting some automated trading strategies to R.
>>>>
>>>> Please can you advise me on FIX integration for trading:
>>>>
>>>> The simplest and quickest way to do this
>>>>
>>>> The most common/popular way of during this
>>>>
>>>> The best (fastest/most robust) way of doing this.
>>>>
>>>> Thanks
>>>>
>>>> Paul
>>>>
>>>>     [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>>
>>
>> --
>> Ulrich Staudinger
>>
>> http://www.activequant.com
>>
>> AQ-R user? Join our mailing list:
>> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>


-- 
Ulrich Staudinger, ActiveQuant GmbH

P: +41 79 702 05 95
E: ustaudinger at activequant.com

http://www.activequant.com
Connect online: https://www.xing.com/profile/Ulrich_Staudinger


From frankm60606 at gmail.com  Sun Feb 17 20:02:20 2013
From: frankm60606 at gmail.com (Frank)
Date: Sun, 17 Feb 2013 13:02:20 -0600
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
Message-ID: <035E3C3207F741829050225C902259C9@Franki7>

I mean there are several trading firms in Chicago that do this. They have
full time staffs on hand to keep everything going. FIX is not just as easy
as sending in buy me 1 e-mini at a price. Everything in the FIX message has
to be correct to get an ACK, if not you get a NAK. An ACK message is
detailed here:

http://www.fixprotocol.org/specifications/fix4.4fiximate/TradeCaptureReportA
ck.html

I was on a team interviewing for a FIX person. The best person wanted
$200,000 plus incentives. That was more than $100,000 over our salary range.
She eventually got what she was asking from a trading shop in Boston. So the
help for this is not cheap.

Wouldn't you rather use a brokerage firm that can take an order off a simple
order entry system and let them process it into FIX format and send it on to
the exchange?

GL

Frank 

-----Original Message-----
From: r-sig-finance-bounces at r-project.org
[mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Paul Kent
Sent: Sunday, February 17, 2013 11:30 AM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] FIX engine integration


Hi All,

We are considering porting some automated trading strategies to R. 

Please can you advise me on FIX integration for trading:

The simplest and quickest way to do this

The most common/popular way of during this

The best (fastest/most robust) way of doing this.

Thanks

Paul

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.


From ustaudinger at activequant.com  Sun Feb 17 20:11:15 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Sun, 17 Feb 2013 20:11:15 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <035E3C3207F741829050225C902259C9@Franki7>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<035E3C3207F741829050225C902259C9@Franki7>
Message-ID: <CAMrz3D1Fu1sUHdTYP_qjK0zGx64M_yQLVM2x0X_yQ19gTcEvig@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/ba93029a/attachment.pl>

From htrahdis at gmail.com  Sun Feb 17 20:57:13 2013
From: htrahdis at gmail.com (sidharth mallik)
Date: Mon, 18 Feb 2013 01:27:13 +0530
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAMrz3D1Fu1sUHdTYP_qjK0zGx64M_yQLVM2x0X_yQ19gTcEvig@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<035E3C3207F741829050225C902259C9@Franki7>
	<CAMrz3D1Fu1sUHdTYP_qjK0zGx64M_yQLVM2x0X_yQ19gTcEvig@mail.gmail.com>
Message-ID: <CAJXbfOJGOJgdWc_eFgdiifmin3nXhbhjy3CXvgR+qeZ2+Sa5-g@mail.gmail.com>

@Ulrich : Aren't the specifications you mentioned somewhat obvious ?

Since he wants to use R, high frequency is ruled out. it is most
probably medium frequency.
then again, in absence of specs, we must assume that R will be used
here as a calculation engine for whatever kind of calculations
required which should by default include any calculations for reacting
to order events. I mean not reacting to order events is just a subset
of the whole thing and is just an architectural issue when actually
making the platform.

the actual issues he needs to answer are :

1. is this for a server level platform or a client level platform
2. what is the actual volume of trading
3. does he already have a front end or will that need to be integrated as well
4. what kind of risk management needs to be involved

and other such stuff.

but in any case, i think he is already using some platform and he has
strategies already prepared for that platform, so the actual
requirement is that a platform is being used, can he lay hands on R
code that can perform the same stuff or not.

On 2/18/13, Ulrich Staudinger <ustaudinger at activequant.com> wrote:
> There are so many what-ifs in this discussion that I strongly agree with
> Jeff. The original poster should write some specs or requirements and then
> it's possible to discuss it.
>
> For example, how fast does this have to be, what's the required latency?
> How complex is the trading system, does it have to react to order events,
> how complex is the trading system's order update logic? Which exchanges are
> to be supported? How many different brokers, etc. etc. etc.
>
>
>
> On Sun, Feb 17, 2013 at 8:02 PM, Frank <frankm60606 at gmail.com> wrote:
>
>> I mean there are several trading firms in Chicago that do this. They have
>> full time staffs on hand to keep everything going. FIX is not just as
>> easy
>> as sending in buy me 1 e-mini at a price. Everything in the FIX message
>> has
>> to be correct to get an ACK, if not you get a NAK. An ACK message is
>> detailed here:
>>
>>
>> http://www.fixprotocol.org/specifications/fix4.4fiximate/TradeCaptureReportA
>> ck.html
>>
>> I was on a team interviewing for a FIX person. The best person wanted
>> $200,000 plus incentives. That was more than $100,000 over our salary
>> range.
>> She eventually got what she was asking from a trading shop in Boston. So
>> the
>> help for this is not cheap.
>>
>> Wouldn't you rather use a brokerage firm that can take an order off a
>> simple
>> order entry system and let them process it into FIX format and send it on
>> to
>> the exchange?
>>
>> GL
>>
>> Frank
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at r-project.org
>> [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Paul Kent
>> Sent: Sunday, February 17, 2013 11:30 AM
>> To: r-sig-finance at r-project.org
>> Subject: [R-SIG-Finance] FIX engine integration
>>
>>
>> Hi All,
>>
>> We are considering porting some automated trading strategies to R.
>>
>> Please can you advise me on FIX integration for trading:
>>
>> The simplest and quickest way to do this
>>
>> The most common/popular way of during this
>>
>> The best (fastest/most robust) way of doing this.
>>
>> Thanks
>>
>> Paul
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>
>
>
> --
> Ulrich Staudinger, Managing Director and Sr. Software Engineer, ActiveQuant
> GmbH
>
> P: +41 79 702 05 95
> E: ustaudinger at activequant.com
>
> http://www.activequant.com
>
> AQ-R user? Join our mailing list:
> http://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/aqr-user
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From ustaudinger at activequant.com  Sun Feb 17 21:07:34 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Sun, 17 Feb 2013 21:07:34 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAJXbfOJGOJgdWc_eFgdiifmin3nXhbhjy3CXvgR+qeZ2+Sa5-g@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<035E3C3207F741829050225C902259C9@Franki7>
	<CAMrz3D1Fu1sUHdTYP_qjK0zGx64M_yQLVM2x0X_yQ19gTcEvig@mail.gmail.com>
	<CAJXbfOJGOJgdWc_eFgdiifmin3nXhbhjy3CXvgR+qeZ2+Sa5-g@mail.gmail.com>
Message-ID: <CAMrz3D3d96oiDMqbJmh5czwgY3X5JQ=szTYj=CyBYCoqtF+22A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/460233c5/attachment.pl>

From thomas.fuller at coherentlogic.com  Sun Feb 17 21:16:24 2013
From: thomas.fuller at coherentlogic.com (Thomas P. Fuller)
Date: Sun, 17 Feb 2013 12:16:24 -0800 (PST)
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
	<CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
	<CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
Message-ID: <1361132184.46524.YahooMailNeo@web2815.biz.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130217/0da7b259/attachment.pl>

From daniel.cegielka at gmail.com  Sun Feb 17 21:29:23 2013
From: daniel.cegielka at gmail.com (=?ISO-8859-2?Q?Daniel_Cegie=B3ka?=)
Date: Sun, 17 Feb 2013 21:29:23 +0100
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <1361132184.46524.YahooMailNeo@web2815.biz.mail.ne1.yahoo.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
	<9824A824-010A-4BF6-8DDB-45C4E001CF41@gmail.com>
	<CAMrz3D07re5Kp6Mt1zRTPWz2r1KDLRF11Ns2hw=XWrd-bVBoLQ@mail.gmail.com>
	<CAJXbfOL1erdULbR14_3dw3Ap9BBoRxQmAv-opJ6fu2gYCJJsTQ@mail.gmail.com>
	<1361132184.46524.YahooMailNeo@web2815.biz.mail.ne1.yahoo.com>
Message-ID: <CAPLrYESUSJOwcm-a0t6sOQb9VeO-G3bz3e301aeQxLWNzjZecw@mail.gmail.com>

my two cents:

1. keep FIX (engine) outside of R (instances).

2. use rzmq/zeromq as middleware between the FIX engine and R (multi-instances):
http://www.zeromq.org/
https://github.com/armstrtw/rzmq

3. use filtering per topic (symbol subscribe):
http://www.zeromq.org/whitepapers:message-matching

4. You can use QuickFIX but a better option may be a fix8:
http://fix8.org/

Best regards,
Daniel


From ikpex at hotmail.com  Sun Feb 17 23:28:06 2013
From: ikpex at hotmail.com (gustavo99)
Date: Sun, 17 Feb 2013 14:28:06 -0800 (PST)
Subject: [R-SIG-Finance] Forecasting a ARMA(1,1)/GARCH(1,1) model
Message-ID: <1361140086058-4658888.post@n4.nabble.com>

Hi, i am working in the forecast   of the daily  price crude .
The last prices of this data are the following:
 100.60 101.47 100.20 100.06  98.68 101.28 101.05 102.13 101.70  98.27
  101.00 100.50 100.03 102.23 102.68 103.32 102.67 102.23 102.14 101.25
  101.11  99.90  98.53  96.76  96.12  96.54  96.30  95.92  95.92  93.45
  93.71  96.42  93.99  93.76  95.24  95.63  95.95  95.83  95.65  96.61
  91.30  91.66  96.23  94.44  94.50  96.52  97.07  97.37  95.31  96.10
  94.35  93.34  93.68  93.65  95.16  94.32  94.82  94.93  95.72  96.41 
  96.70  95.87  95.46  96.83  96.49  96.70  99.61 100.84  99.90  99.65
  99.22  98.84  99.08  97.53  98.51  99.17 100.07 101.49 102.40 103.24
102.36 100.70 100.93 104.43 105.67 106.23 109.98 108.80 109.10 108.86 108.68
109.59 110.41
The data consist of 2973 observations.

For the analisys i considered the returns, the last ones are:
0.0066998270  0.0090753250  0.0141900670  0.0089664010  0.0082031250
-0.0085238280 -0.0162172720  0.0022840120  0.0346774990  0.0118739830
  0.0052995170  0.0353007620 -0.0107292230  0.0027573530 -0.0021998170
 -0.0016535000  0.0083732060  0.0074824350

For modelling the mean i fit an ARMA(1,1) and fot the volatility i fit a
GARCH(1,1) , i used a t-student as conditional distribution, for this i used
the fGarch librray, the code is the following:

h<-garchFit(~arma(1,1)+garch(2,2),data=R,cond.dist="std",TRACE=F)

On the other hand, for the prediction i use the function "predict".
predict(h,10)
   meanForecast  meanError standardDeviation
1   0.001451401 0.01531682        0.01531682
2   0.001265062 0.01540083        0.01539350
3   0.001263344 0.01549628        0.01548892
4   0.001263328 0.01557306        0.01556565
5   0.001263328 0.01566420        0.01565676
6   0.001263328 0.01574062        0.01573312
7   0.001263328 0.01582800        0.01582047
8   0.001263328 0.01590372        0.01589614
9   0.001263328 0.01598779        0.01598018
10  0.001263328 0.01606258        0.01605493

I am modelling this Y_t-mean=e_t=sigma_t*Z_t
however, my question is ,the prediction for the return itself  is the mean
forecast?
if this is the case my prediction for the price would be   equal to
(1+.001451401)*110.41 =110.57
but i think this is not a good prediction, because   the volatility is not
affecting so much  , in addition the predicted prices are growing up
nevertheless i would expect that at some point these ones decrease .

So i would expect that the prediction for the return would be different. but
i certanly dont know which is.

I would apreciate if you could help with this.

Greeting
Gustavo








--
View this message in context: http://r.789695.n4.nabble.com/Forecasting-a-ARMA-1-1-GARCH-1-1-model-tp4658888.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From atp at piskorski.com  Mon Feb 18 12:27:22 2013
From: atp at piskorski.com (Andrew Piskorski)
Date: Mon, 18 Feb 2013 06:27:22 -0500
Subject: [R-SIG-Finance] FIX engine integration
In-Reply-To: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
References: <8CFDB4B98420E88-13D4-21DE7@webmail-m055.sysops.aol.com>
Message-ID: <20130218112722.GA51236@piskorski.com>

On Sun, Feb 17, 2013 at 12:30:20PM -0500, Paul Kent wrote:

> We are considering porting some automated trading strategies to R.
> 
> Please can you advise me on FIX integration for trading:

I haven't done it, but have thought about doing so, and got some
feedback from folks who have built and used FIX in the past.  From
them, my understanding is that despite being a "standard", in actual
practice every broker uses FIX differently, with their own non-trivial
conventions and quirks.  So you will need to add custom support for
each broker you trade with.

You will probably also want to build a simulation of each of your
brokers FIX behavior, so you can hook that that up to your FIX-enabled
trading engine for testing.

If building your own, the C version of QuickFix is the obvious open
source codebase to start from.  Perhaps some commerical option would
be better, but I'm not familiar with them.

-- 
Andrew Piskorski <atp at piskorski.com>


From miniflowtrader at gmail.com  Wed Feb 20 17:53:56 2013
From: miniflowtrader at gmail.com (Dave)
Date: Wed, 20 Feb 2013 11:53:56 -0500
Subject: [R-SIG-Finance] Monte Carlo Simulation
Message-ID: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130220/8b2fca9d/attachment.pl>

From chris.is.fun at gmail.com  Wed Feb 20 21:06:49 2013
From: chris.is.fun at gmail.com (Chris Waggoner)
Date: Wed, 20 Feb 2013 15:06:49 -0500
Subject: [R-SIG-Finance] Monte Carlo Simulation
In-Reply-To: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>
References: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>
Message-ID: <CADFr+DUVMne2+8RNeM6BZNZWhpueZjEKtsTw+mE=0uQfvFuePA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130220/5f58c486/attachment.pl>

From miniflowtrader at gmail.com  Wed Feb 20 22:45:45 2013
From: miniflowtrader at gmail.com (Dave)
Date: Wed, 20 Feb 2013 16:45:45 -0500
Subject: [R-SIG-Finance] Monte Carlo Simulation
In-Reply-To: <CADFr+DUVMne2+8RNeM6BZNZWhpueZjEKtsTw+mE=0uQfvFuePA@mail.gmail.com>
References: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>
	<CADFr+DUVMne2+8RNeM6BZNZWhpueZjEKtsTw+mE=0uQfvFuePA@mail.gmail.com>
Message-ID: <002a01ce0fb3$a4971350$edc539f0$@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130220/a37d0925/attachment.pl>

From josh.m.ulrich at gmail.com  Thu Feb 21 03:58:30 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Wed, 20 Feb 2013 20:58:30 -0600
Subject: [R-SIG-Finance] merge.xts problem
In-Reply-To: <511D41F5.7000000@gmail.com>
References: <511B25EB.9050704@gmail.com>
	<CAPPM_gRY_FOr6_XZhpfZXWojxBJ9vPSYz0Ri4Zd47o8b6ZMa=w@mail.gmail.com>
	<511D41F5.7000000@gmail.com>
Message-ID: <CAPPM_gQWemY4tHZXzZ6DkhcmB__TO6+byjHoewep=2=+7C730w@mail.gmail.com>

Nikos,

Thank you for the reproducible example.  This issue was fixed on
R-Forge as of revision 768.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Thu, Feb 14, 2013 at 1:58 PM, Nikos Rachmanis
<nikos.rachmanis at gmail.com> wrote:
> Hi Joshua,
>
> I did some additional research and found that the command below, which tries
> to shift the index by 3 days, creates a problem and does not allow to the 2
> datasets to be combined.
> #shift the index
> index(weekly)<-index(weekly)+3
>
> This used to work in the previous version but not anymore.
>
> Attached you will find the datasets and r code.
>
> Nikos
>
>
>
>
> On 2/13/2013 6:55 AM, Joshua Ulrich wrote:
>>
>> Nikos,
>>
>> Please provide a minimal reproducible example.  For examples of how to
>> do this, see:
>> http://stackoverflow.com/q/5963269/271616
>>
>> Best,
>> --
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>>
>> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>>
>>
>> On Tue, Feb 12, 2013 at 11:34 PM, Nikos Rachmanis
>> <nikos.rachmanis at gmail.com> wrote:
>>>
>>> Hi all,
>>>
>>> Just wondering if someone has come across this problem with the
>>> merge.xts function after updating from 0.8-6 to 0.9-3 version.
>>>
>>> I am trying to merge 2 xts objects one with daily observations and
>>> another one with weekly.
>>>
>>> With the older packet and the following command:
>>>
>>> tradedata<-merge.xts(timeseries.daily,timeseries.daily,join="left")
>>>
>>> the merge is done fine. With the new one does not work and although puts
>>> together the 2 datasets shows all the incoming observations as NA.
>>>
>>> Daily dataset
>>> Dates   IMM0ECOL Index  IMM0ECOS Index  IMM0ENCL Index
>>> 12/26/2000      4316    38769   26834
>>> 1/2/2001        5495    29995   15885
>>> 1/9/2001        5786    41915   21845
>>> 1/16/2001       6866    41480   19696
>>>
>>>
>>> Weekly dataset
>>> Index   SP1.OPEN        SP1.HIGH
>>> 1/2/1990        356.35  362.85
>>> 1/3/1990        363.25  364.8
>>> 1/4/1990        361.4   362.6
>>> 1/5/1990        359.2   359.6
>>> 1/8/1990        354.1   358.4
>>> 1/9/1990        357.8   358.1
>>> 1/10/1990       351.9   353.2
>>> 1/11/1990       352.4   353.5
>>>
>>>
>>> Has the command changed?
>>>
>>> Thanks,
>>>
>>> Nikos
>>>
>>>          [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>
>


From nikos.rachmanis at gmail.com  Thu Feb 21 04:34:40 2013
From: nikos.rachmanis at gmail.com (Nikos Rachmanis)
Date: Wed, 20 Feb 2013 22:34:40 -0500
Subject: [R-SIG-Finance] merge.xts problem
In-Reply-To: <CAPPM_gQWemY4tHZXzZ6DkhcmB__TO6+byjHoewep=2=+7C730w@mail.gmail.com>
References: <511B25EB.9050704@gmail.com>
	<CAPPM_gRY_FOr6_XZhpfZXWojxBJ9vPSYz0Ri4Zd47o8b6ZMa=w@mail.gmail.com>
	<511D41F5.7000000@gmail.com>
	<CAPPM_gQWemY4tHZXzZ6DkhcmB__TO6+byjHoewep=2=+7C730w@mail.gmail.com>
Message-ID: <DF0822C7-29BC-4A09-8C07-F4B6DC5D29F2@gmail.com>

Hi Joshua,

Thank you for the quick fix:)

Nikos

Sent from my iPhone

On Feb 20, 2013, at 21:58, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:

> Nikos,
> 
> Thank you for the reproducible example.  This issue was fixed on
> R-Forge as of revision 768.
> 
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
> 
> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
> 
> 
> On Thu, Feb 14, 2013 at 1:58 PM, Nikos Rachmanis
> <nikos.rachmanis at gmail.com> wrote:
>> Hi Joshua,
>> 
>> I did some additional research and found that the command below, which tries
>> to shift the index by 3 days, creates a problem and does not allow to the 2
>> datasets to be combined.
>> #shift the index
>> index(weekly)<-index(weekly)+3
>> 
>> This used to work in the previous version but not anymore.
>> 
>> Attached you will find the datasets and r code.
>> 
>> Nikos
>> 
>> 
>> 
>> 
>> On 2/13/2013 6:55 AM, Joshua Ulrich wrote:
>>> 
>>> Nikos,
>>> 
>>> Please provide a minimal reproducible example.  For examples of how to
>>> do this, see:
>>> http://stackoverflow.com/q/5963269/271616
>>> 
>>> Best,
>>> --
>>> Joshua Ulrich  |  about.me/joshuaulrich
>>> FOSS Trading  |  www.fosstrading.com
>>> 
>>> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>>> 
>>> 
>>> On Tue, Feb 12, 2013 at 11:34 PM, Nikos Rachmanis
>>> <nikos.rachmanis at gmail.com> wrote:
>>>> 
>>>> Hi all,
>>>> 
>>>> Just wondering if someone has come across this problem with the
>>>> merge.xts function after updating from 0.8-6 to 0.9-3 version.
>>>> 
>>>> I am trying to merge 2 xts objects one with daily observations and
>>>> another one with weekly.
>>>> 
>>>> With the older packet and the following command:
>>>> 
>>>> tradedata<-merge.xts(timeseries.daily,timeseries.daily,join="left")
>>>> 
>>>> the merge is done fine. With the new one does not work and although puts
>>>> together the 2 datasets shows all the incoming observations as NA.
>>>> 
>>>> Daily dataset
>>>> Dates   IMM0ECOL Index  IMM0ECOS Index  IMM0ENCL Index
>>>> 12/26/2000      4316    38769   26834
>>>> 1/2/2001        5495    29995   15885
>>>> 1/9/2001        5786    41915   21845
>>>> 1/16/2001       6866    41480   19696
>>>> 
>>>> 
>>>> Weekly dataset
>>>> Index   SP1.OPEN        SP1.HIGH
>>>> 1/2/1990        356.35  362.85
>>>> 1/3/1990        363.25  364.8
>>>> 1/4/1990        361.4   362.6
>>>> 1/5/1990        359.2   359.6
>>>> 1/8/1990        354.1   358.4
>>>> 1/9/1990        357.8   358.1
>>>> 1/10/1990       351.9   353.2
>>>> 1/11/1990       352.4   353.5
>>>> 
>>>> 
>>>> Has the command changed?
>>>> 
>>>> Thanks,
>>>> 
>>>> Nikos
>>>> 
>>>>         [[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Finance at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions
>>>> should go.
>> 
>> 


From miaojpm at gmail.com  Thu Feb 21 07:51:19 2013
From: miaojpm at gmail.com (jpm miao)
Date: Thu, 21 Feb 2013 14:51:19 +0800
Subject: [R-SIG-Finance] About multivariate GARCH: DVEC and BEKK
Message-ID: <CABcx46BkpZSX711fcHOa262YyLNBcUn-iO-9uwUfx9POvq0GcQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130221/857c990b/attachment.pl>

From alexios at 4dscape.com  Thu Feb 21 08:17:53 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 21 Feb 2013 07:17:53 +0000
Subject: [R-SIG-Finance] About multivariate GARCH: DVEC and BEKK
In-Reply-To: <CABcx46BkpZSX711fcHOa262YyLNBcUn-iO-9uwUfx9POvq0GcQ@mail.gmail.com>
References: <CABcx46BkpZSX711fcHOa262YyLNBcUn-iO-9uwUfx9POvq0GcQ@mail.gmail.com>
Message-ID: <5125CA21.6070904@4dscape.com>

Hi,

Please don't cross post to both r-hep and r-sig-finance. Either one or 
the other, and from your question it is most likely more relevant to the 
latter.

1. rmgarch does not support either DVEC or BEKK, nor will it ever likely 
support these models since its stated goal is to provide feasible models 
for medium to large scale estimation (which neither DVEC nor the full 
BEKK can accommodate because of dimensionality issues).
2. It can be downloaded from code.google.com/p/rmgarch (you will also 
need to download the latest development version of rugarch, also from 
google code). There is full documentation, a vignette and numerous examples.
3. The "mgarch" code you cite from github is NOT related to rmgarch.

Regards,
Alexios

On 21/02/2013 06:51, jpm miao wrote:
> Dear All,
>
>     I attempted to fit a DVEC and a BEKK multivariate GARCH model, but am
> wondering which package to use.
>
>    1. I tried to use "rmgarch" package in R, but I couldn't find the
> subroutines for DVEC and BEKK.
>
>    2. I tried to find "rmgarch" package of R, which is not located on the
> official R site. This is the latest version I can find, where the programs
> were uploaded 2 years ago.
>
>      https://github.com/vst/mgarch/downloads
>
>      Are there later versions? Is there a manual on the functions?
>
>     Thanks,
>
> Miao
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From patrick at burns-stat.com  Thu Feb 21 12:39:24 2013
From: patrick at burns-stat.com (Patrick Burns)
Date: Thu, 21 Feb 2013 11:39:24 +0000
Subject: [R-SIG-Finance] Monte Carlo Simulation
In-Reply-To: <002a01ce0fb3$a4971350$edc539f0$@gmail.com>
References: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>
	<CADFr+DUVMne2+8RNeM6BZNZWhpueZjEKtsTw+mE=0uQfvFuePA@mail.gmail.com>
	<002a01ce0fb3$a4971350$edc539f0$@gmail.com>
Message-ID: <5126076C.90704@burns-stat.com>

Dave,

You are certainly proposing a resampling
operation, whether it is bootstrapping
depends on how you go about the selection
process.  One reference is:

http://www.burns-stat.com/documents/tutorials/the-statistical-bootstrap-and-other-resampling-methods-2/

I suspect that it might be easier for you
to just write the loop yourself rather than
trying to fit what you want into someone else's
framework.

Pat

On 20/02/2013 21:45, Dave wrote:
> I'm saying that I want to select a subset of data randomly and compute
> specific statistics based on each point in my data and do this repeatedly
> where each subset is chosen randomly.
>
>
>
> Is that also known as bootstrapping?
>
>
>
> From: chris.d.waggoner at gmail.com [mailto:chris.d.waggoner at gmail.com] On
> Behalf Of Chris Waggoner
> Sent: Wednesday, February 20, 2013 3:07 PM
> To: Dave
> Cc: R-SIG-Finance at r-project.org
> Subject: Re: [R-SIG-Finance] Monte Carlo Simulation
>
>
>
> Are you saying you want to bootstrap from your data? Because there is a
> bootstrap package. Drawdowns you can calculate from the results.
>
> On Wed, Feb 20, 2013 at 11:53 AM, Dave <miniflowtrader at gmail.com
> <mailto:miniflowtrader at gmail.com> > wrote:
>
> Hello All!
>
>
>
> I'm wondering, are there any packages out there which can run a Monte Carlo
> simulation based on pre-existing trade data.  And than plot the statistics
> from the various runs i.e. max draw down.
>
>
>
> I appreciate your input.
>
>
>
> Thanks!
>
>
>          [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>  mailing
> list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>

-- 
Patrick Burns
patrick at burns-stat.com
http://www.burns-stat.com
http://www.portfolioprobe.com/blog
twitter: @burnsstat @portfolioprobe


From dominykasgrigonis at gmail.com  Thu Feb 21 12:44:09 2013
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Thu, 21 Feb 2013 11:44:09 +0000
Subject: [R-SIG-Finance] log-return indicator
Message-ID: <F6C6609E48AC48FE88901C70AAAD51B1@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130221/c6786f8a/attachment.pl>

From brian at braverock.com  Thu Feb 21 13:23:03 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 21 Feb 2013 06:23:03 -0600
Subject: [R-SIG-Finance] log-return indicator
In-Reply-To: <F6C6609E48AC48FE88901C70AAAD51B1@gmail.com>
References: <F6C6609E48AC48FE88901C70AAAD51B1@gmail.com>
Message-ID: <512611A7.5050902@braverock.com>

On 02/21/2013 05:44 AM, Dominykas Grigonis wrote:
> Dear everyone,
>
> past 24 hours I have been testing some intraday strategies with
> blotter. Is there an indicator in any package that calculates
> log-returns? It is obviously simple to diff(log(x)), but I would like
> to see the return series in final chart: chart.Posn(portname,
> Symbol=ticker, Dates='2010::') to be able to analyse and spot flaws.
>
> Any ideas?

Transactions are, of course, made in prices, not returns.  blotter 
doesn't know anything about returns or *how* you generate the 
transactions that you tell it about.

There are many pre-built functions to take a price series and generate 
log returns.

?Return.calculate
?ROC
?allReturns

will all work.

chart.Posn uses the newer chart_Series functions from quantmod.  So you 
can easily call add_TA with any of the above or with diff(log(x)) to add 
another panel of log returns to the output of chart.Posn.

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From Markus.Gesmann at lloyds.com  Thu Feb 21 14:37:38 2013
From: Markus.Gesmann at lloyds.com (Gesmann, Markus)
Date: Thu, 21 Feb 2013 13:37:38 +0000
Subject: [R-SIG-Finance] Registration for 'R in Insurance' conference has
	opened
In-Reply-To: <68EDE3F9-E397-4AE3-9F94-75046C8C1DD0@gmail.com>
References: <29984310-4608-4B5C-B184-460CF1F3674A@gmail.com>
	<68EDE3F9-E397-4AE3-9F94-75046C8C1DD0@gmail.com>
Message-ID: <2D1AC19CDA3D5643B9D7AE596C377B2856F792@GBS0039303.lloyds.net>

The registration for the first conference on R in Insurance on Monday 15 July 2013 at Cass Business School in London has opened: http://www.cass.city.ac.uk/news-and-events/conferences/r-in-insurance

The intended audience of the conference includes both academics and practitioners who are active or interested in the applications of R in insurance. 

The 2013 R in Insurance conference builds upon the success of the R in Finance andR/Rmetrics events. 
We expect invited keynote lectures by:

	* Professor Alexander McNeil, Department of Actuarial Science & Statistics
	   Heriot-Watt University: Implementing CreditRisk+ in R with the Faster Fourier Transform
	* Trevor Maynard, Head of Exposure Management and Reinsurance,
	   Lloyd's: There is an R in Lloyd's

We invite you to submit a one-page abstract for consideration. 
Both academic and practitioner proposals related to R are encouraged.

The submission deadline for abstracts is 28 March 2013. 
Please email your abstract (in txt or pdf format) to rinsuranceconference at gmail dot com.

The conference committee consists of:

	* Jens Perch Nielsen
	* Andreas Tsanakas
	* Christophe Dutang
	* Markus Gesmann

Details about the registration and abstract submission are given on the new dedicated R in Insurance page at Cass Business School: http://www.cass.city.ac.uk/news-and-events/conferences/r-in-insurance

The organisers gratefully acknowledge the sponsorship of Mango Solutions.

>From the organisers

Markus Gesmann
http://lamages.blogspot.com/

Andreas Tsanakas
http://www.cass.city.ac.uk/experts/a.tsanakas

**********************************************************************
The information in this E-Mail and in any attachments is...{{dropped:27}}


From dennislwm at yahoo.com.au  Thu Feb 21 16:30:32 2013
From: dennislwm at yahoo.com.au (Dennis Lee)
Date: Thu, 21 Feb 2013 23:30:32 +0800
Subject: [R-SIG-Finance] Monte Carlo Simulation
In-Reply-To: <002a01ce0fb3$a4971350$edc539f0$@gmail.com>
References: <00a101ce0f8a$dfe93830$9fbba890$@gmail.com>
	<CADFr+DUVMne2+8RNeM6BZNZWhpueZjEKtsTw+mE=0uQfvFuePA@mail.gmail.com>
	<002a01ce0fb3$a4971350$edc539f0$@gmail.com>
Message-ID: <6628214B-31D6-4C7F-9CC0-238228930290@yahoo.com.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130221/a6d428d9/attachment.pl>

From feanor0 at hotmail.com  Sat Feb 23 20:35:38 2013
From: feanor0 at hotmail.com (M M)
Date: Sat, 23 Feb 2013 19:35:38 +0000
Subject: [R-SIG-Finance] Lag and rank selection in nonstationary VAR
Message-ID: <BAY002-W15025465B00CDF288978277EEF10@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130223/81cce674/attachment.pl>

From dominykasgrigonis at gmail.com  Sun Feb 24 08:51:21 2013
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Sun, 24 Feb 2013 07:51:21 +0000
Subject: [R-SIG-Finance] quantstrat sigFormula
Message-ID: <D5FF9EF755ED41E88162BFDF96868123@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130224/f8559f75/attachment.pl>

From weihanliu2002 at yahoo.com  Mon Feb 25 00:48:34 2013
From: weihanliu2002 at yahoo.com (Wei-han Liu)
Date: Sun, 24 Feb 2013 15:48:34 -0800 (PST)
Subject: [R-SIG-Finance] Error: Unexpected symbol in "1M"
Message-ID: <1361749714.30213.YahooMailNeo@web163805.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130224/e413298b/attachment.pl>

From josh.m.ulrich at gmail.com  Mon Feb 25 01:26:02 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 24 Feb 2013 18:26:02 -0600
Subject: [R-SIG-Finance] Error: Unexpected symbol in "1M"
In-Reply-To: <1361749714.30213.YahooMailNeo@web163805.mail.gq1.yahoo.com>
References: <1361749714.30213.YahooMailNeo@web163805.mail.gq1.yahoo.com>
Message-ID: <CAPPM_gQQdS7hoWeRMnHN7gRzVqkH07_6WnyVV7g0ZVgLv-Z2Ng@mail.gmail.com>

This has nothing to do with finance, so you should have posted it to
R-help instead.

The answer to your question is found in "An Introduction to R",
section 1.8: R commands, case sensitivity, etc.  "... a name must
start with '.' or a letter, and if it starts with '.' the second
character must not be a digit."  Technically, you can assign a value
to a name that starts with a number, but you will run into lots of
problems.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Sun, Feb 24, 2013 at 5:48 PM, Wei-han Liu <weihanliu2002 at yahoo.com> wrote:
> Hi R users:
>
> I tried the following coding:
> COMPdata <- read.csv("D:/........./Book1.csv", header=TRUE, sep=",")
> INDEX <- COMPdata[, 1]
> 1M <- COMPdata[, 2]
> 2M <- COMPdata[, 3]
>
> The partial list of original data Book1.csv is listed below:
> INDEX 1M 2M 3M 4M
> 1  0.0001026472  0.0001026472  0.0001427507  0.0001026147
> 2  0.0001026109  0.0001026109  0.0001453323  0.0001029040
> 3  0.0001169544  0.0001169544  0.0001326488  0.0001070135
> 4  0.0001159930  0.0001159930  0.0001362505  0.0001048737
> 5  0.0001212301  0.0001212301  0.0001320264  0.0001139550
> 6  0.0001211852  0.0001211852  0.0001247280  0.0001137742
>
> The dataset read-in looks fine:
>> head(COMPdata)
>   INDEX          X1M          X2M          X3M          X4M
> 1     1 0.0001026472 0.0001026472 0.0001427507 0.0001026147
> 2     2 0.0001026109 0.0001026109 0.0001453323 0.0001029040
> 3     3 0.0001169544 0.0001169544 0.0001326488 0.0001070135
> 4     4 0.0001159930 0.0001159930 0.0001362505 0.0001048737
> 5     5 0.0001212301 0.0001212301 0.0001320264 0.0001139550
> 6     6 0.0001211852 0.0001211852 0.0001247280 0.0001137742
>
> Nothing wrong with the first column:
>> INDEX <- COMPdata[, 1]
>
> However, it gives me the error message below
>> 1M <- COMPdata[, 2]
> Error: Unexpected symbol in "1M"
>
> So do the other variables 2M, 3M, and 4M.
>
>
> Could some people share advice to solve this problem?
>
> Thanks for your kind attention.
>
> Weihan
>
>         [[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From mcooganj at gmail.com  Mon Feb 25 12:24:26 2013
From: mcooganj at gmail.com (Matthew Johnson)
Date: Mon, 25 Feb 2013 22:24:26 +1100
Subject: [R-SIG-Finance] can quantmod obtain FRED data by vintage from
	ALFRED?
Message-ID: <CABCh89oZqeTfb=PMOxhGKm5GafgM6YYxrUgKP1F1th37=X7HSQ@mail.gmail.com>

Dear All,

I am aware that one may download data from the St Louis Fed FRED API
using the quantmod package -- however i was wondering if it is
possible to query ALFRED using the quantmod package?

Is this possible? and if so, how might i do it?

thanks in advance

matt johnson


From jeff.a.ryan at gmail.com  Mon Feb 25 14:24:33 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 25 Feb 2013 07:24:33 -0600
Subject: [R-SIG-Finance] can quantmod obtain FRED data by vintage from
	ALFRED?
In-Reply-To: <CABCh89oZqeTfb=PMOxhGKm5GafgM6YYxrUgKP1F1th37=X7HSQ@mail.gmail.com>
References: <CABCh89oZqeTfb=PMOxhGKm5GafgM6YYxrUgKP1F1th37=X7HSQ@mail.gmail.com>
Message-ID: <CABDUZc_4_Qds+KCn=JUmYD2A_BAJ8aOJ3Y3zXLRxS5sCjbPyow@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130225/60e6e51f/attachment.pl>

From mcooganj at gmail.com  Mon Feb 25 20:16:15 2013
From: mcooganj at gmail.com (Matthew Johnson)
Date: Tue, 26 Feb 2013 06:16:15 +1100
Subject: [R-SIG-Finance] can quantmod obtain FRED data by vintage from
	ALFRED?
In-Reply-To: <CABDUZc_4_Qds+KCn=JUmYD2A_BAJ8aOJ3Y3zXLRxS5sCjbPyow@mail.gmail.com>
References: <CABCh89oZqeTfb=PMOxhGKm5GafgM6YYxrUgKP1F1th37=X7HSQ@mail.gmail.com>
	<CABDUZc_4_Qds+KCn=JUmYD2A_BAJ8aOJ3Y3zXLRxS5sCjbPyow@mail.gmail.com>
Message-ID: <3963571869149166183@unknownmsgid>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130226/90009582/attachment.pl>

From lisasolomon at alum.mit.edu  Tue Feb 26 22:27:45 2013
From: lisasolomon at alum.mit.edu (Lisa Solomon)
Date: Tue, 26 Feb 2013 16:27:45 -0500
Subject: [R-SIG-Finance] Reminder: Webinar Series: The Evolution of
 Regression from Classical Linear Regression to Modern Ensembles (Hands-on
 Component)
Message-ID: <878772253.13109.1361914065333.JavaMail.help@alum.mit.edu>

Begins Friday (no charge) 
The Evolution of Regression: An Upcoming Webinar Series 
(Hands-on Component) 

Registration: http://bit.ly/salford-systems-regression-webinar-series 

Regression is one of the most popular modeling methods, but the classical approach has significant problems. This webinar series address these problems. Are you are working with larger datasets? Is your data challenging? Does your data include missing values, nonlinear relationships, local patterns and interactions? This webinar series is for you! We will cover improvements to conventional and logistic regression, and will include a discussion of classical, regularized, and nonlinear regression, as well as modern ensemble and data mining approaches. This series will be of value to any classically trained statistician or modeler.
 
Overcoming Linear Regression Limitations 

Part 1: March 1 - Regression methods discussed 
? Classical Regression 
? Logistic Regression 
? Regularized Regression: GPS Generalized Path Seeker 
? Nonlinear Regression: MARS Regression Splines 

Part 2: March 15 - Hands-on demonstration of concepts discussed in Part 1 
? Step-by-step demonstration 
? Datasets and software available for download 
? Instructions for reproducing demo at your leisure 
? For the dedicated student: apply these methods to your own data (optional) 

Part 3: March 29 - Regression methods discussed 
*Part 1 is a recommended pre-requisite 
? Nonlinear Ensemble Approaches: TreeNet Gradient Boosting; Random Forests; Gradient Boosting incorporating RF
 ? Ensemble Post-Processing: ISLE; RuleLearner 

Part 4: April 12 - Hands-on demonstration of concepts discussed in Part 3 
? Step-by-step demonstration 
? Datasets and software available for download 
? Instructions for reproducing demo at your leisure 
? For the dedicated student: apply these methods to your own data (optional)

From weihanliu2002 at yahoo.com  Thu Feb 28 22:44:23 2013
From: weihanliu2002 at yahoo.com (Wei-han Liu)
Date: Thu, 28 Feb 2013 13:44:23 -0800 (PST)
Subject: [R-SIG-Finance] Komogrov-Smirov dominance test and Wilcoxon rank
	sum and signed rank test
Message-ID: <1362087863.39980.YahooMailNeo@web163804.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130228/6858ce18/attachment.pl>

From swtzang at gmail.com  Fri Mar  1 07:11:11 2013
From: swtzang at gmail.com (ShyhWeir Tzang)
Date: Fri, 1 Mar 2013 14:11:11 +0800
Subject: [R-SIG-Finance] mutual fund historical data....
Message-ID: <CADg5Hzg++rr-gQ3WURv77Rdig7JM-Uf--2CRNSc0rXPXa0B80g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/17088b09/attachment.pl>

From sjansevanrensburg at gmail.com  Fri Mar  1 12:28:31 2013
From: sjansevanrensburg at gmail.com (Stefan Janse van Rensburg)
Date: Fri, 01 Mar 2013 13:28:31 +0200
Subject: [R-SIG-Finance] R-SIG-Finance Digest, Vol 106, Issue 1
In-Reply-To: <mailman.1.1362135602.14311.r-sig-finance@r-project.org>
References: <mailman.1.1362135602.14311.r-sig-finance@r-project.org>
Message-ID: <513090DF.1020201@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/98f561dc/attachment.pl>

From matthieu.stigler at gmail.com  Fri Mar  1 12:42:13 2013
From: matthieu.stigler at gmail.com (Matthieu Stigler)
Date: Fri, 1 Mar 2013 12:42:13 +0100
Subject: [R-SIG-Finance] Lag and rank selection in nonstationary VAR
In-Reply-To: <BAY002-W15025465B00CDF288978277EEF10@phx.gbl>
References: <BAY002-W15025465B00CDF288978277EEF10@phx.gbl>
Message-ID: <CAEYvig+ba8C=FGQoX+PditxKK+8ytc0iGhY1QgT8z4hUj8zFpQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/e85d0b1e/attachment.pl>

From Harry.Weiss at web.de  Fri Mar  1 13:35:41 2013
From: Harry.Weiss at web.de (Harald Weiss)
Date: Fri, 01 Mar 2013 13:35:41 +0100
Subject: [R-SIG-Finance] rugarch - estimation problem with an external
 regressor in the GARCH(1, 1) model
Message-ID: <5130A09D.5020209@web.de>

Hi R-users,
I'm estimating an extended GACH(1,1) model (solver is "nlminb") where 
realized volatility is added to the variance equation as an explanatory 
variable. Since the estimated coefficient of realized volatility was 
very small, I divided it by 1,000, 10,000, and so on. While realized 
volatility was still significant when I divided it by 1,000, the 
variable gets insignificant if I divide by 100,000. Using the solver 
"nloptr" I receive similar results. To my knowledge this should 
(normally) not happen. If I use the solver "solnp" realized volatility 
is not significant. However, many studies found that realized volatility 
is significant when added to the variance equation. My question is how 
can I explain this result. Is this due to an instability of the 
algorithm or perhaps the accuracy of the calculation in R?
Than you very much for helping me,
Harald

My code is:

library(rugarch)
rm(list=ls())

DATA <- read.table("20130121_rdax-Lrvar_1month.csv",header=FALSE,sep=";")
RDAX <- DATA[2:2035,1]
RVAR <- DATA[2:2035,4]
D <- matrix(RDAX)
B <- matrix(RVAR)
RDAXtmp <- D[1:2034,1]
RVARtmp1 <- matrix(B[1:2034,1])

#1. model estimation based on original data
gspec.ru <- ugarchspec(variance.model=list(model="sGARCH", 
garchOrder=c(1,1), external.regressors=RVARtmp1),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="ged")
gfit <- ugarchfit(gspec.ru, RDAXtmp, solver="nlminb", fit.control = 
list(stationarity = 1))

#2. model estimation based on adjusted volatility
RVARtmp2 <- RVARtmp1/1000
gspec.ru2 <- ugarchspec(variance.model=list(model="sGARCH", 
garchOrder=c(1,1), external.regressors=RVARtmp2),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="ged")
gfit2 <- ugarchfit(gspec.ru2, RDAXtmp, solver="nlminb", fit.control = 
list(stationarity = 1))

#3. model estimation based on adjusted volatility
RVARtmp3 <- RVARtmp1/10000
gspec.ru3 <- ugarchspec(variance.model=list(model="sGARCH", 
garchOrder=c(1,1), external.regressors=RVARtmp3),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="ged")
gfit3 <- ugarchfit(gspec.ru3, RDAXtmp, solver="nlminb", fit.control = 
list(stationarity = 1))


#4. model estimation based on adjusted volatility
RVARtmp4 <- RVARtmp1/100000
gspec.ru4 <- ugarchspec(variance.model=list(model="sGARCH", 
garchOrder=c(1,1), external.regressors=RVARtmp4),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="ged")
gfit4 <- ugarchfit(gspec.ru4, RDAXtmp, solver="nlminb", fit.control = 
list(stationarity = 1))
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20130121_rdax-Lrvar_1month.csv
Type: application/vnd.ms-excel
Size: 91633 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/ba33b4aa/attachment.xlb>

From alexios at 4dscape.com  Fri Mar  1 14:22:40 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 01 Mar 2013 13:22:40 +0000
Subject: [R-SIG-Finance] rugarch - estimation problem with an external
 regressor in the GARCH(1, 1) model
In-Reply-To: <5130A09D.5020209@web.de>
References: <5130A09D.5020209@web.de>
Message-ID: <5130ABA0.9020404@4dscape.com>

Harald,

1. The data you are passing to the variance equation is negative, while 
the constraints on the regressor coefficients in the conditional 
variance equation default to a positive range (0,100). You can of course 
change the defaults with the "setbounds<-" method.
2. Whether you divide by 1000 or any other value, what you should 
compare are the likelihoods of the solution. They should all be VERY 
close, but it is likely that they are NOT the same since scaling of the 
parameters+bounds does not use any sophisticated algorithm. To avoid 
scaling problems and having to make adjustments to default solver 
parameters, you really should try to pass values in the external 
regressor which are close in scale to the variance equation.
3. Try using the eGARCH model when using external regressors in the 
variance equation since it guarantees positivity.

e.g.
######################################################################
gspec.ru <- ugarchspec(variance.model=list(model="eGARCH", 
garchOrder=c(1,1), external.regressors=(RVARtmp1/100)^2),
mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE), 
distribution="std")
gfit <- ugarchfit(gspec.ru, RDAXtmp, solver="nlminb")
######################################################################
likelihood(gfit) = 6034


Compare that with the likelihood of a non-RV enhanced model=5818 (info 
criteria/LR Test will show that difference is significant).

-Alexios

On 01/03/2013 12:35, Harald Weiss wrote:
> Hi R-users,
> I'm estimating an extended GACH(1,1) model (solver is "nlminb") where
> realized volatility is added to the variance equation as an explanatory
> variable. Since the estimated coefficient of realized volatility was
> very small, I divided it by 1,000, 10,000, and so on. While realized
> volatility was still significant when I divided it by 1,000, the
> variable gets insignificant if I divide by 100,000. Using the solver
> "nloptr" I receive similar results. To my knowledge this should
> (normally) not happen. If I use the solver "solnp" realized volatility
> is not significant. However, many studies found that realized volatility
> is significant when added to the variance equation. My question is how
> can I explain this result. Is this due to an instability of the
> algorithm or perhaps the accuracy of the calculation in R?
> Than you very much for helping me,
> Harald
>
> My code is:
>
> library(rugarch)
> rm(list=ls())
>
> DATA <- read.table("20130121_rdax-Lrvar_1month.csv",header=FALSE,sep=";")
> RDAX <- DATA[2:2035,1]
> RVAR <- DATA[2:2035,4]
> D <- matrix(RDAX)
> B <- matrix(RVAR)
> RDAXtmp <- D[1:2034,1]
> RVARtmp1 <- matrix(B[1:2034,1])
>
> #1. model estimation based on original data
> gspec.ru <- ugarchspec(variance.model=list(model="sGARCH",
> garchOrder=c(1,1), external.regressors=RVARtmp1),
> mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE),
> distribution="ged")
> gfit <- ugarchfit(gspec.ru, RDAXtmp, solver="nlminb", fit.control =
> list(stationarity = 1))
>
> #2. model estimation based on adjusted volatility
> RVARtmp2 <- RVARtmp1/1000
> gspec.ru2 <- ugarchspec(variance.model=list(model="sGARCH",
> garchOrder=c(1,1), external.regressors=RVARtmp2),
> mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE),
> distribution="ged")
> gfit2 <- ugarchfit(gspec.ru2, RDAXtmp, solver="nlminb", fit.control =
> list(stationarity = 1))
>
> #3. model estimation based on adjusted volatility
> RVARtmp3 <- RVARtmp1/10000
> gspec.ru3 <- ugarchspec(variance.model=list(model="sGARCH",
> garchOrder=c(1,1), external.regressors=RVARtmp3),
> mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE),
> distribution="ged")
> gfit3 <- ugarchfit(gspec.ru3, RDAXtmp, solver="nlminb", fit.control =
> list(stationarity = 1))
>
>
> #4. model estimation based on adjusted volatility
> RVARtmp4 <- RVARtmp1/100000
> gspec.ru4 <- ugarchspec(variance.model=list(model="sGARCH",
> garchOrder=c(1,1), external.regressors=RVARtmp4),
> mean.model=list(arfima=FALSE, armaOrder=c(0,0), include.mean=TRUE),
> distribution="ged")
> gfit4 <- ugarchfit(gspec.ru4, RDAXtmp, solver="nlminb", fit.control =
> list(stationarity = 1))
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From sjansevanrensburg at gmail.com  Fri Mar  1 15:28:05 2013
From: sjansevanrensburg at gmail.com (Stefan Janse van Rensburg)
Date: Fri, 01 Mar 2013 16:28:05 +0200
Subject: [R-SIG-Finance] Komogrov-Smirov dominance test and Wilcoxon
 rank sum and, signed rank test (Wei-han Liu)
In-Reply-To: <mailman.1.1362135602.14311.r-sig-finance@r-project.org>
References: <mailman.1.1362135602.14311.r-sig-finance@r-project.org>
Message-ID: <5130BAF5.2080700@gmail.com>

Apologies, originally sent this without the appropriate subject line.

I don't think that those tests are exactly valid for financial data. The 
Wilcoxon test is based on the assumption that your observations are 
independent. In fact, of you are strict about it, the test is really one 
of location shift, so the two populations should have the same shape 
(scale, skew etc).

As for the KS, off the bat I don't really see why it shouldn't work, but 
my gut tells me that it isn't the best option.

-- 

Stefan Janse van Rensburg 
<http://www.ru.ac.za/statistics/staff/mrstefanjansevanrensburg/>

<http://www.ru.ac.za/statistics/staff/mrstefanjansevanrensburg/>

Lecturer, Dept. of Statistics, Rhodes University

Tel: +27-046-603-8682

--

Visit my public photo album... 
<https://picasaweb.google.com/102772614620404730049?feat=email>


From tomasnote at gmail.com  Fri Mar  1 18:52:49 2013
From: tomasnote at gmail.com (Tomas Note)
Date: Fri, 1 Mar 2013 14:52:49 -0300
Subject: [R-SIG-Finance] GMM for dynamic mdels: what if all models never
	passes Sargan test?
Message-ID: <CACbRMV73KD_wNLr0G0tcrCmKYnojyTVNpjNPTzqic=FH7MW4aw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/e26f63d0/attachment.pl>

From kambro at gmx.de  Fri Mar  1 21:34:04 2013
From: kambro at gmx.de (Gideon Jansen van Vuuren)
Date: Fri, 01 Mar 2013 21:34:04 +0100
Subject: [R-SIG-Finance] mutual fund historical data....
Message-ID: <s6v3wq60la6b5s8r7w5g5k6t.1362170044633@email.android.com>



Sent from my mobile.

ShyhWeir Tzang <swtzang at gmail.com> schrieb:

>Dear all:
>
>I need mutual fund historical data to do analysis. Besides on one-month
>return, I also need information like alpha, beta, IR, Sharpe, Sortino and
>Stdev. Is there a way to download from website? Thanks for your help.
>
>-- 
>Shyh-Weir Tzang
>Finance Department
>Asia University
>Tel: 04-2332-3456#48055
>Mobile: 0929125845/0973830823
>
>?N?K??
>???w?j???]???????t
>?q???G04-2332-3456#48055
>?????G0929125845/0973830823
>41354?x?????p?h????500??
>
>	[[alternative HTML version deleted]]
>
>
>_______________________________________________
>R-SIG-Finance at r-project.org mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only. If you want to post, subscribe first.
>-- Also note that this is not the r-help list where general R questions should go.

From christian.langkamp at gmxpro.de  Fri Mar  1 22:06:31 2013
From: christian.langkamp at gmxpro.de (Christian Langkamp)
Date: Fri, 1 Mar 2013 22:06:31 +0100
Subject: [R-SIG-Finance] Where can I obtain newer correlation matrices for
	the R CreditMetrics Package ?
Message-ID: <00a201ce16c0$a6cabf00$f4603d00$@gmxpro.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/97cdfc1f/attachment.pl>

From feanor0 at hotmail.com  Fri Mar  1 23:44:13 2013
From: feanor0 at hotmail.com (M M)
Date: Fri, 1 Mar 2013 22:44:13 +0000
Subject: [R-SIG-Finance] Lag and rank selection in nonstationary VAR
In-Reply-To: <CAEYvig+ba8C=FGQoX+PditxKK+8ytc0iGhY1QgT8z4hUj8zFpQ@mail.gmail.com>
References: <BAY002-W15025465B00CDF288978277EEF10@phx.gbl>,
	<CAEYvig+ba8C=FGQoX+PditxKK+8ytc0iGhY1QgT8z4hUj8zFpQ@mail.gmail.com>
Message-ID: <BAY158-W56CE4EEE9537D506EB8D9AEEFF0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130301/de60ecd8/attachment.pl>

From paul.ramer at gmail.com  Sun Mar  3 02:18:32 2013
From: paul.ramer at gmail.com (Paul Ramer)
Date: Sat, 2 Mar 2013 18:18:32 -0700
Subject: [R-SIG-Finance] Return.rebalancing and rebalancing on consecutive
	days
Message-ID: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>

When I rebalance my portfolio on consecutive days, I get an error:
Error in `[.xts`(result, 2:length(result)) : subscript out of bounds.

So, I wonder what I am doing wrong.

Below is a code snippet both with and without the error. The first is
rebalanced on consecutive days whereas the second one has at least a
day between all rebalancing. I ran debug on Return.rebalancing. With
consecutive rebalancing days, the only thing I could find was the
'from' and 'to' variables had the same date when the 'R' variable was
subset.

data(edhec)
data(weights)

days <- c("2000-05-01 18:00:00 MDT", "2000-05-02 18:00:00 MDT",
          "2000-05-03 18:00:00 MDT", "2000-05-04 18:00:00 MDT",
          "2000-05-07 18:00:00 MDT", "2000-05-08 18:00:00 MDT",
          "2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
          "2000-05-11 18:00:00 MDT", "2000-05-14 18:00:00 MDT",
          "2000-05-15 18:00:00 MDT", "2000-05-16 18:00:00 MDT",
          "2000-05-17 18:00:00 MDT", "2000-05-18 18:00:00 MDT",
          "2000-05-21 18:00:00 MDT", "2000-05-22 18:00:00 MDT",
          "2000-05-23 18:00:00 MDT", "2000-05-24 18:00:00 MDT",
          "2000-05-25 18:00:00 MDT", "2000-05-29 18:00:00 MDT",
          "2000-05-30 18:00:00 MDT", "2000-05-31 18:00:00 MDT")

may.reb <- c("2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
             "2000-05-15 18:00:00 MDT")

may.reb.2 <- c("2000-05-09 18:00:00 MDT", "2000-05-11 18:00:00 MDT",
               "2000-05-15 18:00:00 MDT")

e1 <- edhec[1:length(days), ]
index(e1) <- as.Date(days)

w1 <- weights[1:3, ]
index(w1) <- as.Date(may.reb)
Return.rebalancing(e1, w1)

w2 <- weights[1:3, ]
index(w2) <- as.Date(may.reb.2)
Return.rebalancing(e1, w2)

Session Info:
R version 2.15.2 (2012-10-26)
Platform: i386-w64-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252
[2] LC_CTYPE=English_United States.1252
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods
[8] base

other attached packages:
 [1] reshape_0.8.4              plyr_1.8
 [3] latticeExtra_0.6-24        RColorBrewer_1.0-5
 [5] Hmisc_3.10-1               survival_2.36-14
 [7] PerformanceAnalytics_1.1.0 quantmod_0.4-0
 [9] Defaults_1.1-1             TTR_0.21-1
[11] xts_0.9-3.2                zoo_1.7-10
[13] lattice_0.20-13

loaded via a namespace (and not attached):
[1] cluster_1.14.3  compiler_2.15.2 grid_2.15.2     tools_2.15.2

Any guidance is appreciated.

Thank you,

----
Paul Ramer, CAIA, CFA
paul.ramer at gmail.com
(303) 359-4192


From jeff.a.ryan at gmail.com  Sun Mar  3 02:34:25 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 2 Mar 2013 19:34:25 -0600
Subject: [R-SIG-Finance] Return.rebalancing and rebalancing on
	consecutive days
In-Reply-To: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
References: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
Message-ID: <C2A81537-87DB-4896-8FA8-107B00EB20B0@gmail.com>

Not having tried your code from my phone, you can start by setting TZ to UTC

Ideally the data source is agnostic on this but a simple fix should be Sys.setenv(TZ='UTC')

HTH
Jeff

Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com

www.lemnica.com

On Mar 2, 2013, at 7:18 PM, Paul Ramer <paul.ramer at gmail.com> wrote:

> When I rebalance my portfolio on consecutive days, I get an error:
> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds.
> 
> So, I wonder what I am doing wrong.
> 
> Below is a code snippet both with and without the error. The first is
> rebalanced on consecutive days whereas the second one has at least a
> day between all rebalancing. I ran debug on Return.rebalancing. With
> consecutive rebalancing days, the only thing I could find was the
> 'from' and 'to' variables had the same date when the 'R' variable was
> subset.
> 
> data(edhec)
> data(weights)
> 
> days <- c("2000-05-01 18:00:00 MDT", "2000-05-02 18:00:00 MDT",
>          "2000-05-03 18:00:00 MDT", "2000-05-04 18:00:00 MDT",
>          "2000-05-07 18:00:00 MDT", "2000-05-08 18:00:00 MDT",
>          "2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>          "2000-05-11 18:00:00 MDT", "2000-05-14 18:00:00 MDT",
>          "2000-05-15 18:00:00 MDT", "2000-05-16 18:00:00 MDT",
>          "2000-05-17 18:00:00 MDT", "2000-05-18 18:00:00 MDT",
>          "2000-05-21 18:00:00 MDT", "2000-05-22 18:00:00 MDT",
>          "2000-05-23 18:00:00 MDT", "2000-05-24 18:00:00 MDT",
>          "2000-05-25 18:00:00 MDT", "2000-05-29 18:00:00 MDT",
>          "2000-05-30 18:00:00 MDT", "2000-05-31 18:00:00 MDT")
> 
> may.reb <- c("2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>             "2000-05-15 18:00:00 MDT")
> 
> may.reb.2 <- c("2000-05-09 18:00:00 MDT", "2000-05-11 18:00:00 MDT",
>               "2000-05-15 18:00:00 MDT")
> 
> e1 <- edhec[1:length(days), ]
> index(e1) <- as.Date(days)
> 
> w1 <- weights[1:3, ]
> index(w1) <- as.Date(may.reb)
> Return.rebalancing(e1, w1)
> 
> w2 <- weights[1:3, ]
> index(w2) <- as.Date(may.reb.2)
> Return.rebalancing(e1, w2)
> 
> Session Info:
> R version 2.15.2 (2012-10-26)
> Platform: i386-w64-mingw32/i386 (32-bit)
> 
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
> 
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods
> [8] base
> 
> other attached packages:
> [1] reshape_0.8.4              plyr_1.8
> [3] latticeExtra_0.6-24        RColorBrewer_1.0-5
> [5] Hmisc_3.10-1               survival_2.36-14
> [7] PerformanceAnalytics_1.1.0 quantmod_0.4-0
> [9] Defaults_1.1-1             TTR_0.21-1
> [11] xts_0.9-3.2                zoo_1.7-10
> [13] lattice_0.20-13
> 
> loaded via a namespace (and not attached):
> [1] cluster_1.14.3  compiler_2.15.2 grid_2.15.2     tools_2.15.2
> 
> Any guidance is appreciated.
> 
> Thank you,
> 
> ----
> Paul Ramer, CAIA, CFA
> paul.ramer at gmail.com
> (303) 359-4192
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From paul.ramer at gmail.com  Sun Mar  3 02:59:57 2013
From: paul.ramer at gmail.com (Paul Ramer)
Date: Sat, 2 Mar 2013 18:59:57 -0700
Subject: [R-SIG-Finance] Return.rebalancing and rebalancing on
	consecutive days
In-Reply-To: <C2A81537-87DB-4896-8FA8-107B00EB20B0@gmail.com>
References: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
	<C2A81537-87DB-4896-8FA8-107B00EB20B0@gmail.com>
Message-ID: <CAGr519o6=hfsDGUQXFzPXYQS5SuSSOYoPBQ=nNYKmCgiJ+KM1w@mail.gmail.com>

Changing the TZ to UTC results in the same error.

Paul
----
Paul Ramer, CAIA, CFA
paul.ramer at gmail.com
(303) 359-4192



On Sat, Mar 2, 2013 at 6:34 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Not having tried your code from my phone, you can start by setting TZ to UTC
>
> Ideally the data source is agnostic on this but a simple fix should be Sys.setenv(TZ='UTC')
>
> HTH
> Jeff
>
> Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com
>
> www.lemnica.com
>
> On Mar 2, 2013, at 7:18 PM, Paul Ramer <paul.ramer at gmail.com> wrote:
>
>> When I rebalance my portfolio on consecutive days, I get an error:
>> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds.
>>
>> So, I wonder what I am doing wrong.
>>
>> Below is a code snippet both with and without the error. The first is
>> rebalanced on consecutive days whereas the second one has at least a
>> day between all rebalancing. I ran debug on Return.rebalancing. With
>> consecutive rebalancing days, the only thing I could find was the
>> 'from' and 'to' variables had the same date when the 'R' variable was
>> subset.
>>
>> data(edhec)
>> data(weights)
>>
>> days <- c("2000-05-01 18:00:00 MDT", "2000-05-02 18:00:00 MDT",
>>          "2000-05-03 18:00:00 MDT", "2000-05-04 18:00:00 MDT",
>>          "2000-05-07 18:00:00 MDT", "2000-05-08 18:00:00 MDT",
>>          "2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>>          "2000-05-11 18:00:00 MDT", "2000-05-14 18:00:00 MDT",
>>          "2000-05-15 18:00:00 MDT", "2000-05-16 18:00:00 MDT",
>>          "2000-05-17 18:00:00 MDT", "2000-05-18 18:00:00 MDT",
>>          "2000-05-21 18:00:00 MDT", "2000-05-22 18:00:00 MDT",
>>          "2000-05-23 18:00:00 MDT", "2000-05-24 18:00:00 MDT",
>>          "2000-05-25 18:00:00 MDT", "2000-05-29 18:00:00 MDT",
>>          "2000-05-30 18:00:00 MDT", "2000-05-31 18:00:00 MDT")
>>
>> may.reb <- c("2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>>             "2000-05-15 18:00:00 MDT")
>>
>> may.reb.2 <- c("2000-05-09 18:00:00 MDT", "2000-05-11 18:00:00 MDT",
>>               "2000-05-15 18:00:00 MDT")
>>
>> e1 <- edhec[1:length(days), ]
>> index(e1) <- as.Date(days)
>>
>> w1 <- weights[1:3, ]
>> index(w1) <- as.Date(may.reb)
>> Return.rebalancing(e1, w1)
>>
>> w2 <- weights[1:3, ]
>> index(w2) <- as.Date(may.reb.2)
>> Return.rebalancing(e1, w2)
>>
>> Session Info:
>> R version 2.15.2 (2012-10-26)
>> Platform: i386-w64-mingw32/i386 (32-bit)
>>
>> locale:
>> [1] LC_COLLATE=English_United States.1252
>> [2] LC_CTYPE=English_United States.1252
>> [3] LC_MONETARY=English_United States.1252
>> [4] LC_NUMERIC=C
>> [5] LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] splines   stats     graphics  grDevices utils     datasets  methods
>> [8] base
>>
>> other attached packages:
>> [1] reshape_0.8.4              plyr_1.8
>> [3] latticeExtra_0.6-24        RColorBrewer_1.0-5
>> [5] Hmisc_3.10-1               survival_2.36-14
>> [7] PerformanceAnalytics_1.1.0 quantmod_0.4-0
>> [9] Defaults_1.1-1             TTR_0.21-1
>> [11] xts_0.9-3.2                zoo_1.7-10
>> [13] lattice_0.20-13
>>
>> loaded via a namespace (and not attached):
>> [1] cluster_1.14.3  compiler_2.15.2 grid_2.15.2     tools_2.15.2
>>
>> Any guidance is appreciated.
>>
>> Thank you,
>>
>> ----
>> Paul Ramer, CAIA, CFA
>> paul.ramer at gmail.com
>> (303) 359-4192
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From peter at braverock.com  Sun Mar  3 03:35:20 2013
From: peter at braverock.com (Peter Carl)
Date: Sat, 2 Mar 2013 20:35:20 -0600
Subject: [R-SIG-Finance] Return.rebalancing and rebalancing on
 consecutive days
In-Reply-To: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
References: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
Message-ID: <9cf12cc3410b9717f5dd9437bd65cc88.squirrel@mail.braverock.com>

Paul,

This looks like a situation in Return.portfolio where it is being passed a
single row of returns that is causing the error.

> Return.portfolio(e1[7,],weights=w1[1,])
Error in `[.xts`(result, 2:length(result)) : subscript out of bounds
> Return.portfolio(e1[7:8,],weights=w1[1,])
           portfolio.returns
2000-05-09       0.029817496
2000-05-10      -0.002608741

This has to do with how the weights and returns are assumed to be
synchronized through time.  Both returns and weights are thought to be
timestamped at the end-of-period, so the weights are shifted forward to
apply to the next month's returns.  From the documentation:

Rebalancing periods can be thought of as taking effect immediately after
the close of the bar. So, a March 31 rebalancing date will actually be in
effect for April 1. A December 31 rebalancing date will be in effect on
Jan 1, and so forth. This convention was chosen because it fits with
common usage, and because it simplifies xts Date subsetting via endpoints.

So this appears to be a corner case where a single row of returns is being
passed in and the weights get shifted out of bounds.

Thanks for the reproducible error.  We'll take a look and find a solution.

pcc
-- 
Peter Carl
http://www.braverock.com/peter

> When I rebalance my portfolio on consecutive days, I get an error:
> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds.
>
> So, I wonder what I am doing wrong.
>
> Below is a code snippet both with and without the error. The first is
> rebalanced on consecutive days whereas the second one has at least a
> day between all rebalancing. I ran debug on Return.rebalancing. With
> consecutive rebalancing days, the only thing I could find was the
> 'from' and 'to' variables had the same date when the 'R' variable was
> subset.
>
> data(edhec)
> data(weights)
>
> days <- c("2000-05-01 18:00:00 MDT", "2000-05-02 18:00:00 MDT",
>           "2000-05-03 18:00:00 MDT", "2000-05-04 18:00:00 MDT",
>           "2000-05-07 18:00:00 MDT", "2000-05-08 18:00:00 MDT",
>           "2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>           "2000-05-11 18:00:00 MDT", "2000-05-14 18:00:00 MDT",
>           "2000-05-15 18:00:00 MDT", "2000-05-16 18:00:00 MDT",
>           "2000-05-17 18:00:00 MDT", "2000-05-18 18:00:00 MDT",
>           "2000-05-21 18:00:00 MDT", "2000-05-22 18:00:00 MDT",
>           "2000-05-23 18:00:00 MDT", "2000-05-24 18:00:00 MDT",
>           "2000-05-25 18:00:00 MDT", "2000-05-29 18:00:00 MDT",
>           "2000-05-30 18:00:00 MDT", "2000-05-31 18:00:00 MDT")
>
> may.reb <- c("2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>              "2000-05-15 18:00:00 MDT")
>
> may.reb.2 <- c("2000-05-09 18:00:00 MDT", "2000-05-11 18:00:00 MDT",
>                "2000-05-15 18:00:00 MDT")
>
> e1 <- edhec[1:length(days), ]
> index(e1) <- as.Date(days)
>
> w1 <- weights[1:3, ]
> index(w1) <- as.Date(may.reb)
> Return.rebalancing(e1, w1)
>
> w2 <- weights[1:3, ]
> index(w2) <- as.Date(may.reb.2)
> Return.rebalancing(e1, w2)
>
> Session Info:
> R version 2.15.2 (2012-10-26)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods
> [8] base
>
> other attached packages:
>  [1] reshape_0.8.4              plyr_1.8
>  [3] latticeExtra_0.6-24        RColorBrewer_1.0-5
>  [5] Hmisc_3.10-1               survival_2.36-14
>  [7] PerformanceAnalytics_1.1.0 quantmod_0.4-0
>  [9] Defaults_1.1-1             TTR_0.21-1
> [11] xts_0.9-3.2                zoo_1.7-10
> [13] lattice_0.20-13
>
> loaded via a namespace (and not attached):
> [1] cluster_1.14.3  compiler_2.15.2 grid_2.15.2     tools_2.15.2
>
> Any guidance is appreciated.
>
> Thank you,
>
> ----
> Paul Ramer, CAIA, CFA
> paul.ramer at gmail.com
> (303) 359-4192
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From paul.ramer at gmail.com  Sun Mar  3 04:15:31 2013
From: paul.ramer at gmail.com (Paul Ramer)
Date: Sat, 2 Mar 2013 20:15:31 -0700
Subject: [R-SIG-Finance] Return.rebalancing and rebalancing on
	consecutive days
In-Reply-To: <9cf12cc3410b9717f5dd9437bd65cc88.squirrel@mail.braverock.com>
References: <CAGr519oC6egHxz8cm5V-8bbXZkmPT3e7EbMOD4CsobozCw8hQA@mail.gmail.com>
	<9cf12cc3410b9717f5dd9437bd65cc88.squirrel@mail.braverock.com>
Message-ID: <CAGr519qhTTW1in55qJ+78wf=0fsOXZ-1eZYmuACOhrRZPhjRSA@mail.gmail.com>

Thanks for looking at the problem. What is standard procedure at this
point? Will the thread be updated with suggested solution or should I
watch the package updates for the solution?

Thank you,

Paul
----
Paul Ramer, CAIA, CFA
paul.ramer at gmail.com
(303) 359-4192



On Sat, Mar 2, 2013 at 7:35 PM, Peter Carl <peter at braverock.com> wrote:
> Paul,
>
> This looks like a situation in Return.portfolio where it is being passed a
> single row of returns that is causing the error.
>
>> Return.portfolio(e1[7,],weights=w1[1,])
> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds
>> Return.portfolio(e1[7:8,],weights=w1[1,])
>            portfolio.returns
> 2000-05-09       0.029817496
> 2000-05-10      -0.002608741
>
> This has to do with how the weights and returns are assumed to be
> synchronized through time.  Both returns and weights are thought to be
> timestamped at the end-of-period, so the weights are shifted forward to
> apply to the next month's returns.  From the documentation:
>
> Rebalancing periods can be thought of as taking effect immediately after
> the close of the bar. So, a March 31 rebalancing date will actually be in
> effect for April 1. A December 31 rebalancing date will be in effect on
> Jan 1, and so forth. This convention was chosen because it fits with
> common usage, and because it simplifies xts Date subsetting via endpoints.
>
> So this appears to be a corner case where a single row of returns is being
> passed in and the weights get shifted out of bounds.
>
> Thanks for the reproducible error.  We'll take a look and find a solution.
>
> pcc
> --
> Peter Carl
> http://www.braverock.com/peter
>
>> When I rebalance my portfolio on consecutive days, I get an error:
>> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds.
>>
>> So, I wonder what I am doing wrong.
>>
>> Below is a code snippet both with and without the error. The first is
>> rebalanced on consecutive days whereas the second one has at least a
>> day between all rebalancing. I ran debug on Return.rebalancing. With
>> consecutive rebalancing days, the only thing I could find was the
>> 'from' and 'to' variables had the same date when the 'R' variable was
>> subset.
>>
>> data(edhec)
>> data(weights)
>>
>> days <- c("2000-05-01 18:00:00 MDT", "2000-05-02 18:00:00 MDT",
>>           "2000-05-03 18:00:00 MDT", "2000-05-04 18:00:00 MDT",
>>           "2000-05-07 18:00:00 MDT", "2000-05-08 18:00:00 MDT",
>>           "2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>>           "2000-05-11 18:00:00 MDT", "2000-05-14 18:00:00 MDT",
>>           "2000-05-15 18:00:00 MDT", "2000-05-16 18:00:00 MDT",
>>           "2000-05-17 18:00:00 MDT", "2000-05-18 18:00:00 MDT",
>>           "2000-05-21 18:00:00 MDT", "2000-05-22 18:00:00 MDT",
>>           "2000-05-23 18:00:00 MDT", "2000-05-24 18:00:00 MDT",
>>           "2000-05-25 18:00:00 MDT", "2000-05-29 18:00:00 MDT",
>>           "2000-05-30 18:00:00 MDT", "2000-05-31 18:00:00 MDT")
>>
>> may.reb <- c("2000-05-09 18:00:00 MDT", "2000-05-10 18:00:00 MDT",
>>              "2000-05-15 18:00:00 MDT")
>>
>> may.reb.2 <- c("2000-05-09 18:00:00 MDT", "2000-05-11 18:00:00 MDT",
>>                "2000-05-15 18:00:00 MDT")
>>
>> e1 <- edhec[1:length(days), ]
>> index(e1) <- as.Date(days)
>>
>> w1 <- weights[1:3, ]
>> index(w1) <- as.Date(may.reb)
>> Return.rebalancing(e1, w1)
>>
>> w2 <- weights[1:3, ]
>> index(w2) <- as.Date(may.reb.2)
>> Return.rebalancing(e1, w2)
>>
>> Session Info:
>> R version 2.15.2 (2012-10-26)
>> Platform: i386-w64-mingw32/i386 (32-bit)
>>
>> locale:
>> [1] LC_COLLATE=English_United States.1252
>> [2] LC_CTYPE=English_United States.1252
>> [3] LC_MONETARY=English_United States.1252
>> [4] LC_NUMERIC=C
>> [5] LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] splines   stats     graphics  grDevices utils     datasets  methods
>> [8] base
>>
>> other attached packages:
>>  [1] reshape_0.8.4              plyr_1.8
>>  [3] latticeExtra_0.6-24        RColorBrewer_1.0-5
>>  [5] Hmisc_3.10-1               survival_2.36-14
>>  [7] PerformanceAnalytics_1.1.0 quantmod_0.4-0
>>  [9] Defaults_1.1-1             TTR_0.21-1
>> [11] xts_0.9-3.2                zoo_1.7-10
>> [13] lattice_0.20-13
>>
>> loaded via a namespace (and not attached):
>> [1] cluster_1.14.3  compiler_2.15.2 grid_2.15.2     tools_2.15.2
>>
>> Any guidance is appreciated.
>>
>> Thank you,
>>
>> ----
>> Paul Ramer, CAIA, CFA
>> paul.ramer at gmail.com
>> (303) 359-4192
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>
>


From maximilian.alletsee at uni-konstanz.de  Sun Mar  3 18:58:36 2013
From: maximilian.alletsee at uni-konstanz.de (Max Alletsee)
Date: Sun, 3 Mar 2013 18:58:36 +0100
Subject: [R-SIG-Finance] "rugarch" and external regressors
Message-ID: <CAEwkszQLEsNmAgGv4GUjaY4Te6s28R_tYsJrDCLKZHVSa_031A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130303/e48aff07/attachment.pl>

From alexios at 4dscape.com  Sun Mar  3 19:51:10 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sun, 03 Mar 2013 18:51:10 +0000
Subject: [R-SIG-Finance] "rugarch" and external regressors
In-Reply-To: <CAEwkszQLEsNmAgGv4GUjaY4Te6s28R_tYsJrDCLKZHVSa_031A@mail.gmail.com>
References: <CAEwkszQLEsNmAgGv4GUjaY4Te6s28R_tYsJrDCLKZHVSa_031A@mail.gmail.com>
Message-ID: <51339B9E.8050504@4dscape.com>

On 03/03/2013 17:58, Max Alletsee wrote:
> Hi,
>
> i'm trying to fit some GARCH models with external regressors using the
> package "rugarch", but it keeps on failing...
>
> This is how I create my zoo-object:
>
>> ts.rtr <- ts(data=as.numeric(df.merged.imputed[1,32:5525]), start=1,
>> end=5494, frequency=1)
>> ts.rtr.zoo <- as.zoo(ts.rtr)
>
>
> This is the specification of my model:
>
>>   spec <- ugarchspec(variance.model = list(model="sGARCH", garchOrder =
>> c(1,1), external.regressors=as.matrix(df.merged.imputed[1,c(4, 9, 11)])))
>
Run:
'NROW(as.matrix(df.merged.imputed[1,c(4, 9, 11)])))'.

How many rows does that report? Are they the same as NROW(ts.rtr.zoo)?

>
> This is my attempt to fit the model:
>
>> fit <- ugarchfit(spec = spec, data = ts.rtr.zoo, solver = "hybrid")
>
>
> It always stops with the error message:
>
>> Error in .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
>
>    Subscript out of bounds
>
>
-Alexios


From maximilian.alletsee at uni-konstanz.de  Sun Mar  3 22:35:27 2013
From: maximilian.alletsee at uni-konstanz.de (Max Alletsee)
Date: Sun, 3 Mar 2013 22:35:27 +0100
Subject: [R-SIG-Finance] "rugarch" and external regressors
In-Reply-To: <51339B9E.8050504@4dscape.com>
References: <CAEwkszQLEsNmAgGv4GUjaY4Te6s28R_tYsJrDCLKZHVSa_031A@mail.gmail.com>
	<51339B9E.8050504@4dscape.com>
Message-ID: <CAEwkszTCu+-ytCUbhJFVJt7xcTLR6NXJdRM3oEx50XWOZUUaEw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130303/13985aaa/attachment.pl>

From alexios at 4dscape.com  Sun Mar  3 23:17:11 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sun, 03 Mar 2013 22:17:11 +0000
Subject: [R-SIG-Finance] "rugarch" and external regressors
In-Reply-To: <CAEwkszTCu+-ytCUbhJFVJt7xcTLR6NXJdRM3oEx50XWOZUUaEw@mail.gmail.com>
References: <CAEwkszQLEsNmAgGv4GUjaY4Te6s28R_tYsJrDCLKZHVSa_031A@mail.gmail.com>
	<51339B9E.8050504@4dscape.com>
	<CAEwkszTCu+-ytCUbhJFVJt7xcTLR6NXJdRM3oEx50XWOZUUaEw@mail.gmail.com>
Message-ID: <5133CBE7.9030907@4dscape.com>

Hi Max,

Please search the R-SIG-FINANCE mailing list archive of the last week or 
so to see a similar issue and some suggested solutions with regards to 
external regressors in the variance equation.

Regards,
Alexios

On 03/03/2013 21:35, Max Alletsee wrote:
> Hi Alexios,
>
> thanks for your quick and extremely helpful response (and for your
> beautiful package).
>
> You were right, the nrow() of both objects weren't equal (if anybody has
> a similar problem and finds this post in the mailing list while
> searching for help, here is my mistake: nrow(ts.rtr.zoo) was the length
> of the time series, while nrow(as.matrix(df.merged.__imputed[1,c(4, 9,
> 11)])) was the number of time series itself).
>
> Sorry for bothering you again, but i have some troubles fitting the
> model. The estimates for my external regressors seem to be very close to
> zero (in fact, all digits that are displayed are zero) and it happens
> quite often that ugarchfit cannot invert hessian.
> I have seen that it is possible and helpful to manipulate the solver
> using solver.control in order to get a better fit of the models, but i
> wonder if there are any rules of thumb for some cases? (I want to
> estimate parameters for 225 different univariate time series which i
> believe to be quite similar, so simply playing around with
> solver.control for every time series until it fits the data will be
> quite painful.) I've noticed that adjusting the tolerance parameter
> "tol" was helpful sometimes, but not in every single case. Is there some
> information in the data itself which tells me what kind of adjustments
> for the solver might be most helpful?
>
> Best regards,
> Max
>
>
> 2013/3/3 alexios ghalanos <alexios at 4dscape.com <mailto:alexios at 4dscape.com>>
>
>     On 03/03/2013 17:58, Max Alletsee wrote:
>
>         Hi,
>
>         i'm trying to fit some GARCH models with external regressors
>         using the
>         package "rugarch", but it keeps on failing...
>
>         This is how I create my zoo-object:
>
>             ts.rtr <-
>             ts(data=as.numeric(df.merged.__imputed[1,32:5525]), start=1,
>             end=5494, frequency=1)
>             ts.rtr.zoo <- as.zoo(ts.rtr)
>
>
>
>         This is the specification of my model:
>
>                spec <- ugarchspec(variance.model = list(model="sGARCH",
>             garchOrder =
>             c(1,1),
>             external.regressors=as.matrix(__df.merged.imputed[1,c(4, 9,
>             11)])))
>
>
>     Run:
>     'NROW(as.matrix(df.merged.__imputed[1,c(4, 9, 11)])))'.
>
>     How many rows does that report? Are they the same as NROW(ts.rtr.zoo)?
>
>
>
>         This is my attempt to fit the model:
>
>             fit <- ugarchfit(spec = spec, data = ts.rtr.zoo, solver =
>             "hybrid")
>
>
>
>         It always stops with the error message:
>
>             Error in .sgarchfit(spec = spec, data = data, out.sample =
>             out.sample,  :
>
>
>             Subscript out of bounds
>
>
>     -Alexios
>
>     _________________________________________________
>     R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
>     mailing list
>     https://stat.ethz.ch/mailman/__listinfo/r-sig-finance
>     <https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
>     -- Subscriber-posting only. If you want to post, subscribe first.
>     -- Also note that this is not the r-help list where general R
>     questions should go.
>
>


From jesperhybel at hotmail.com  Mon Mar  4 01:05:12 2013
From: jesperhybel at hotmail.com (Jesper Hybel Pedersen)
Date: Mon, 4 Mar 2013 01:05:12 +0100
Subject: [R-SIG-Finance] apARCH forecast using rugarch
Message-ID: <DUB119-DS213ECAE8AF79FC64508987AEFA0@phx.gbl>

I would like to know how to calculate sigma(T+2) >>manually<< to make sure I 
understand how rugarch works. I have estimated apARCH(1,1)-model
and made a forecast:

forc = ugarchforecast(fit, n.ahead=10)
forc at forecast$forecast
[[1]]
        sigma     series
351 0.6670788 0.09166948
352 0.6799293 0.09166948
353 0.6900579 0.09166948
354 0.6981005 0.09166948

By >>manually<< I mean something like in the case of sigma(T+1=351) where I 
can do:

sigma_t_1=(omega+alpha*(abs(e_t)-gamma*e_t)^delta+beta*sigma_t^delta)^(1/delta) 
[using estimates]

I was wondering whether it was possible utilizing the estimated persistence:

hat(P) = fit at fit$persistence



Any guidance is appreciated

Best regards Jesper


From alexios at 4dscape.com  Mon Mar  4 08:54:41 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 04 Mar 2013 07:54:41 +0000
Subject: [R-SIG-Finance] apARCH forecast using rugarch
In-Reply-To: <DUB119-DS213ECAE8AF79FC64508987AEFA0@phx.gbl>
References: <DUB119-DS213ECAE8AF79FC64508987AEFA0@phx.gbl>
Message-ID: <51345341.2080409@4dscape.com>

Jesper,

- There is a vignette which shows details of the formulae used for each 
model.
- For t+h (h>1) you will also need to understand something about the 
unconditional expectation of certain values conditional on the density D
i.e.  E[ ((abs(e)-gamma*e)^(delta)) * D(e, skew, shape, ...)]
- ...all of which are available in the source code which is there for 
you to investigate if you are truly interested (which is the whole point 
of open source).

Regards,
Alexios

PS you can access persistence using 'persistence(fit)' rather than 
fit at fit$persistence, and you can also access the long run variance using 
'uncvariance(fit)'.

On 04/03/2013 00:05, Jesper Hybel Pedersen wrote:
> I would like to know how to calculate sigma(T+2) >>manually<< to make
> sure I understand how rugarch works. I have estimated apARCH(1,1)-model
> and made a forecast:
>
> forc = ugarchforecast(fit, n.ahead=10)
> forc at forecast$forecast
> [[1]]
>         sigma     series
> 351 0.6670788 0.09166948
> 352 0.6799293 0.09166948
> 353 0.6900579 0.09166948
> 354 0.6981005 0.09166948
>
> By >>manually<< I mean something like in the case of sigma(T+1=351)
> where I can do:
>
> sigma_t_1=(omega+alpha*(abs(e_t)-gamma*e_t)^delta+beta*sigma_t^delta)^(1/delta)
> [using estimates]
>
> I was wondering whether it was possible utilizing the estimated
> persistence:
>
> hat(P) = fit at fit$persistence
>
>
>
> Any guidance is appreciated
>
> Best regards Jesper
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From josh.m.ulrich at gmail.com  Tue Mar  5 03:15:56 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 4 Mar 2013 20:15:56 -0600
Subject: [R-SIG-Finance] mutual fund historical data....
In-Reply-To: <CADg5Hzg++rr-gQ3WURv77Rdig7JM-Uf--2CRNSc0rXPXa0B80g@mail.gmail.com>
References: <CADg5Hzg++rr-gQ3WURv77Rdig7JM-Uf--2CRNSc0rXPXa0B80g@mail.gmail.com>
Message-ID: <CAPPM_gQ88BJOUdD_yP5zApOOK5wgJ=CzG5R9LyTHnV2TpDFcMA@mail.gmail.com>

On Fri, Mar 1, 2013 at 12:11 AM, ShyhWeir Tzang <swtzang at gmail.com> wrote:
> Dear all:
>
> I need mutual fund historical data to do analysis. Besides on one-month
> return, I also need information like alpha, beta, IR, Sharpe, Sortino and
> Stdev. Is there a way to download from website? Thanks for your help.
>
Is there a function that does all this work for you? No.

Pull the data from Yahoo Finance using quantmod::getSymbols
Adjust the data using quantmod::adjustOHLC
Aggregate to monthly using xts::to.monthly
Calculate the various metrics you want using PerformanceAnalytics

> --
> Shyh-Weir Tzang
> Finance Department
> Asia University
> Tel: 04-2332-3456#48055
> Mobile: 0929125845/0973830823
>
> ???
> ?????????
> ???04-2332-3456#48055
> ???0929125845/0973830823
> 41354???????500?
>


Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From pantea_hafezian at yahoo.com  Wed Mar  6 14:15:56 2013
From: pantea_hafezian at yahoo.com (pantea hafezian)
Date: Wed, 6 Mar 2013 05:15:56 -0800 (PST)
Subject: [R-SIG-Finance] please help me
Message-ID: <1362575756.12604.YahooMailClassic@web164001.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/a98d3371/attachment.pl>

From ustaudinger at activequant.com  Wed Mar  6 14:22:06 2013
From: ustaudinger at activequant.com (Ulrich Staudinger)
Date: Wed, 6 Mar 2013 14:22:06 +0100
Subject: [R-SIG-Finance] please help me
In-Reply-To: <1362575756.12604.YahooMailClassic@web164001.mail.gq1.yahoo.com>
References: <1362575756.12604.YahooMailClassic@web164001.mail.gq1.yahoo.com>
Message-ID: <CAMrz3D0fht9X150r8zPjpScx7se1=kac=H5JtXME_+Djt4MAWw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/55923af0/attachment.pl>

From aidan.corcoran11 at gmail.com  Wed Mar  6 19:04:54 2013
From: aidan.corcoran11 at gmail.com (Aidan Corcoran)
Date: Wed, 6 Mar 2013 18:04:54 +0000
Subject: [R-SIG-Finance] getting semi annual data in rbbg bdh call
Message-ID: <CAO_BgESTwbmpdrngJzWFqqH_QsgD_H280p_wJNTvHf37HcmYXA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/5c1c6e36/attachment.pl>

From john.laing at gmail.com  Wed Mar  6 19:46:23 2013
From: john.laing at gmail.com (John Laing)
Date: Wed, 6 Mar 2013 13:46:23 -0500
Subject: [R-SIG-Finance] getting semi annual data in rbbg bdh call
In-Reply-To: <CAO_BgESTwbmpdrngJzWFqqH_QsgD_H280p_wJNTvHf37HcmYXA@mail.gmail.com>
References: <CAO_BgESTwbmpdrngJzWFqqH_QsgD_H280p_wJNTvHf37HcmYXA@mail.gmail.com>
Message-ID: <CAA3Wa=uvJ8MRdLQOqt7zOE53t84HupxcaJibavjRHFtxuuzLYA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/06bb0470/attachment.pl>

From aidan.corcoran11 at gmail.com  Wed Mar  6 20:34:22 2013
From: aidan.corcoran11 at gmail.com (Aidan Corcoran)
Date: Wed, 6 Mar 2013 19:34:22 +0000
Subject: [R-SIG-Finance] getting semi annual data in rbbg bdh call
In-Reply-To: <CAA3Wa=uvJ8MRdLQOqt7zOE53t84HupxcaJibavjRHFtxuuzLYA@mail.gmail.com>
References: <CAO_BgESTwbmpdrngJzWFqqH_QsgD_H280p_wJNTvHf37HcmYXA@mail.gmail.com>
	<CAA3Wa=uvJ8MRdLQOqt7zOE53t84HupxcaJibavjRHFtxuuzLYA@mail.gmail.com>
Message-ID: <CAO_BgEQBiwfEeTWMWgMiM22_zQ6twJEVs=RD7nid0=aNoAkwhQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/c8486a86/attachment.pl>

From weihanliu2002 at yahoo.com  Thu Mar  7 01:46:43 2013
From: weihanliu2002 at yahoo.com (Wei-han Liu)
Date: Wed, 6 Mar 2013 16:46:43 -0800 (PST)
Subject: [R-SIG-Finance] error message in PLM:
Message-ID: <1362617203.46851.YahooMailNeo@web163806.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130306/4c7d7651/attachment.pl>

From josh.m.ulrich at gmail.com  Thu Mar  7 16:03:06 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 7 Mar 2013 09:03:06 -0600
Subject: [R-SIG-Finance] error message in PLM:
In-Reply-To: <1362617203.46851.YahooMailNeo@web163806.mail.gq1.yahoo.com>
References: <1362617203.46851.YahooMailNeo@web163806.mail.gq1.yahoo.com>
Message-ID: <CAPPM_gQzuCLN+-ZKFRCRRTnYkAsZtqQ1oMxWEoGYJsBFJ1aGiQ@mail.gmail.com>

Hi Wei-han Liu,

This is not a finance question, so you will likely get faster/better
responses by re-posting to R-help.  It would also increase the
likelihood someone will respond if you include a reproducible example
of the error (as suggested in the posting guide).

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Wed, Mar 6, 2013 at 6:46 PM, Wei-han Liu <weihanliu2002 at yahoo.com> wrote:
> Hi R users:
>
> I am using the plm package for linear panel data analysis but encountered the following message when I try plm function to estimate an random model with individual effect.
>
>> data.re.ind <- plm(X.RETURN. ~ IOB + IOBS,data=E,model="random",effect = "individual")
> Error in swar(object, data, effect) :  the estimated variance of the individual effect is negative
>
> I have tried the other estimation methods ("walhus", "amemiya", "nerlove") in addition to method "swar" but it does not help.
>
> I have googled for answer but I have not found the solution yet. Would some people help in this regard?
>
> Best regards,
>
> Wei-han Liu
>         [[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From robsch at robsch.eu  Fri Mar  8 20:21:33 2013
From: robsch at robsch.eu (Robert Schien)
Date: Fri, 8 Mar 2013 20:21:33 +0100
Subject: [R-SIG-Finance] Quantstrat problem
Message-ID: <20130308192133.GA13572@robsch.eu>


Hello,

I am trying to get familiar with the quantstrat package. Therefore
I am following the documentation file quantstrat_I.pdf available at
r-programming.org.

I am trying the following code:


library(blotter)
library(quantstrat)
currency("USD")
stock("AMZN",currency="USD",multiplier=1)
getSymbols('AMZN', from='2005-01-01', to='2012-08-31', adjust=T)
qs.strategy <- "qsAMZN"
initPortf(qs.strategy,'AMZN', initDate='2004-12-31')
initAcct(qs.strategy,portfolios=qs.strategy, initDate='2004-12-31', initEq=1e6)
initOrders(portfolio=qs.strategy,initDate='2004-12-31')
strat<- strategy(qs.strategy)
strat <- add.indicator(strategy = strat, name = "SMA",
arguments = list(x = quote(Cl(mktdata)), n=7), label="SMA7")
strat <- add.indicator(strategy = strat, name = "SMA",
arguments = list(x = quote(Cl(mktdata)), n=30), label="SMA30")
strat <- add.signal(strat,name="sigCrossover",
arguments = list(columns=c("SMA7","SMA30"),relationship="gt"),
label="SMA7.gt.SMA30")
strat <- add.signal(strat,name="sigCrossover",
arguments = list(columns=c("Close","SMA7"),relationship="gt"),
label="cl.gt.SMA7")
strat <- add.signal(strat,name="sigCrossover",
arguments = list(columns=c("Close","SMA7"),relationship="lt"),
label="Cl.lt.SMA7")
strat <- add.rule(strat, name='sigFormula',
arguments = list(formula=" (SMA7 > SMA30) & (AMZN.Close > SMA30) ", orderqty=1000,
ordertype='market', orderside='long', pricemethod='market'),
type='enter', path.dep=TRUE)
out <- applyStrategy(strategy=strat , portfolios=qs.strategy)
updatePortf(Portfolio=qs.strategy,Dates=paste('::',as.Date(Sys.time()),sep=''))
updateAcct(name=qs.strategy,Dates=index(AMZN))
dummy <- sapply(X=index(AMZN),FUN=updateEndEq,Account=qs.strategy)

The last command produces an error:

Error in if (!all(i <= 0)) stop("only zeros may be mixed with negative subscripts") : 
  missing value where TRUE/FALSE needed


Did I overlook something?

Thanks in advance.

Robert


From bobschmdt at gmail.com  Sat Mar  9 02:22:05 2013
From: bobschmdt at gmail.com (Bob Schmidt)
Date: Fri, 8 Mar 2013 17:22:05 -0800 (PST)
Subject: [R-SIG-Finance] Quantstrat problem
In-Reply-To: <20130308192133.GA13572@robsch.eu>
References: <20130308192133.GA13572@robsch.eu>
Message-ID: <1362792125762-4660771.post@n4.nabble.com>

Hi Robert,

I'm learning like you and thought figuring this out would be fun.  I'm not
sure about the last error.  It might have been due to the script not making
any trades.  I put the sigFormula back into an add.signal command from the
add.rule command.  Then I mangled the rest of it with some rule commands I
made up.  I tried to preserve the formula you were using.  It is completely
messed up from what you are trying to do, no doubt.  But it does make some
trades and shows a plot.

Best regards,

Bob

library(blotter)
library(quantstrat)
try(rm("account.qsAMZN","portfolio.qsAMZN",pos=.blotter),silent=TRUE)
try(rm("order_book.qsAMZN",pos=.strategy),silent=TRUE)
currency("USD")
initDate='2009-12-31'
stock("AMZN",currency="USD",multiplier=1)
getSymbols('AMZN', from=initDate, to='2010-08-31', adjust=T)
qs.strategy <- "qsAMZN"
initPortf(qs.strategy,'AMZN', initDate=initDate)
initAcct(qs.strategy,portfolios=qs.strategy, initDate=initDate, initEq=1e6)
initOrders(portfolio=qs.strategy,initDate=initDate)
strat<- strategy(qs.strategy)
strat <- add.indicator(strategy = strat, name = "SMA",
                       arguments = list(x = quote(Cl(mktdata)), n=7),
                       label="SMA7")
strat <- add.indicator(strategy = strat, name = "SMA",
                       arguments = list(x = quote(Cl(mktdata)), n=30),
                       label="SMA30")
# changed this to use it for the exit rule since the sigFormula didn't need
it
strat <- add.signal(strat,name="sigCrossover",
                    arguments = list(columns=c("SMA7","SMA30"),
                    relationship="lt"), label="SMA7.lt.SMA30")
strat <- add.signal(strat,name="sigCrossover",
                    arguments = list(columns=c("Close","SMA7"),
                    relationship="gt"), label="cl.gt.SMA7")
strat <- add.signal(strat,name="sigCrossover",
                    arguments = list(columns=c("Close","SMA7"),
                    relationship="lt"), label="Cl.lt.SMA7")
# strat <- add.rule(strat, name='sigFormula',
#                   arguments = list(formula=" (SMA7 > SMA30) & (AMZN.Close
> SMA30) ", orderqty=1000,
#                                    ordertype='market', orderside='long',
pricemethod='market'),
#                   type='enter', path.dep=TRUE)

strat <- add.signal(strat, name="sigFormula",
                 arguments = list(columns=c("Close","SMA7","SMA30"),
                        formula = "(SMA7 > SMA30) & (AMZN.Close > SMA30)",
                        label="buysignal", cross=TRUE),
                 label="buysignal")
strat <- add.rule(strategy = strat,name='ruleSignal',
         arguments = list(sigcol="buysignal",sigval=TRUE, orderqty=100,
                    ordertype='market', orderside='long', type='enter'))
strat <- add.rule(strategy = strat,name='ruleSignal',
        arguments = list(sigcol="SMA7.lt.SMA30",sigval=TRUE, orderqty='all',
                    ordertype='market', orderside='long'),type='exit')

out <- applyStrategy(strategy=strat , portfolios=qs.strategy)
updatePortf(Portfolio=qs.strategy)
updateAcct(name=qs.strategy)
#dummy <- sapply(X=index(AMZN),FUN=updateEndEq,Account=qs.strategy)
updateEndEq(qs.strategy)
chart.Posn(Portfolio = 'qsAMZN', Symbol = 'AMZN')




--
View this message in context: http://r.789695.n4.nabble.com/Quantstrat-problem-tp4660746p4660771.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From bobschmdt at gmail.com  Sat Mar  9 03:02:06 2013
From: bobschmdt at gmail.com (Bob Schmidt)
Date: Fri, 8 Mar 2013 18:02:06 -0800 (PST)
Subject: [R-SIG-Finance] Quantstrat problem
In-Reply-To: <1362792125762-4660771.post@n4.nabble.com>
References: <20130308192133.GA13572@robsch.eu>
	<1362792125762-4660771.post@n4.nabble.com>
Message-ID: <1362794526837-4660773.post@n4.nabble.com>

Doh!  It still doesn't like that dummy line at the end even when it makes
trades.



--
View this message in context: http://r.789695.n4.nabble.com/Quantstrat-problem-tp4660746p4660773.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jan at opentrades.nl  Sat Mar  9 16:08:00 2013
From: jan at opentrades.nl (OpenTrades)
Date: Sat, 09 Mar 2013 16:08:00 +0100
Subject: [R-SIG-Finance] Quantstrat problem
In-Reply-To: <20130308192133.GA13572@robsch.eu>
References: <20130308192133.GA13572@robsch.eu>
Message-ID: <513B5050.6010105@opentrades.nl>

Hi Robert,

When running your code, I get a different error, getSymbols() .... 
didn't look further into it :-)

Please be aware that the sheets of Guy Yollin, although excellent 
tutorials, are quite dated, as the quantstrat package has been and still 
is under heavy development.

So I would suggest that you takea look at some of the demos in the demo 
directory. eg:
> > require(quantstrat)
> Loading required package: quantstrat
> Loading required package: foreach
> foreach: simple, scalable parallel programming from Revolution Analytics
> Use Revolution R for scalability, fault tolerance and more.
> http://www.revolutionanalytics.com
> > demo(package='quantstrat')
> > demo(package='quantstrat', topic='luxor.1')

etc etc

Source code for the demos comes with the quantstrat package in 
blotter/pkg/quantstrat/demo directory.

HTH,

Jan Humme.



On 03/08/2013 08:21 PM, Robert Schien wrote:
> Hello,
>
> I am trying to get familiar with the quantstrat package. Therefore
> I am following the documentation file quantstrat_I.pdf available at
> r-programming.org.
>
> I am trying the following code:
>
>
> library(blotter)
> library(quantstrat)
> currency("USD")
> stock("AMZN",currency="USD",multiplier=1)
> getSymbols('AMZN', from='2005-01-01', to='2012-08-31', adjust=T)
> qs.strategy <- "qsAMZN"
> initPortf(qs.strategy,'AMZN', initDate='2004-12-31')
> initAcct(qs.strategy,portfolios=qs.strategy, initDate='2004-12-31', initEq=1e6)
> initOrders(portfolio=qs.strategy,initDate='2004-12-31')
> strat<- strategy(qs.strategy)
> strat <- add.indicator(strategy = strat, name = "SMA",
> arguments = list(x = quote(Cl(mktdata)), n=7), label="SMA7")
> strat <- add.indicator(strategy = strat, name = "SMA",
> arguments = list(x = quote(Cl(mktdata)), n=30), label="SMA30")
> strat <- add.signal(strat,name="sigCrossover",
> arguments = list(columns=c("SMA7","SMA30"),relationship="gt"),
> label="SMA7.gt.SMA30")
> strat <- add.signal(strat,name="sigCrossover",
> arguments = list(columns=c("Close","SMA7"),relationship="gt"),
> label="cl.gt.SMA7")
> strat <- add.signal(strat,name="sigCrossover",
> arguments = list(columns=c("Close","SMA7"),relationship="lt"),
> label="Cl.lt.SMA7")
> strat <- add.rule(strat, name='sigFormula',
> arguments = list(formula=" (SMA7 > SMA30) & (AMZN.Close > SMA30) ", orderqty=1000,
> ordertype='market', orderside='long', pricemethod='market'),
> type='enter', path.dep=TRUE)
> out <- applyStrategy(strategy=strat , portfolios=qs.strategy)
> updatePortf(Portfolio=qs.strategy,Dates=paste('::',as.Date(Sys.time()),sep=''))
> updateAcct(name=qs.strategy,Dates=index(AMZN))
> dummy <- sapply(X=index(AMZN),FUN=updateEndEq,Account=qs.strategy)
>
> The last command produces an error:
>
> Error in if (!all(i <= 0)) stop("only zeros may be mixed with negative subscripts") :
>    missing value where TRUE/FALSE needed
>
>
> Did I overlook something?
>
> Thanks in advance.
>
> Robert
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


-- 
Jan Humme - OpenTrades

WWW:     http://www.opentrades.nl
Email:   jan at opentrades.nl
Twitter: @opentrades


From kempnicklin at gmail.com  Sun Mar 10 00:49:11 2013
From: kempnicklin at gmail.com (kempnicklin)
Date: Sat, 09 Mar 2013 15:49:11 -0800
Subject: [R-SIG-Finance] R-SIG-Finance Digest, Vol 106, Issue 8
Message-ID: <c4ao52yat7k4lv0ell4airmn.1362872951251@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130309/ea785ea9/attachment.pl>

From faiube at gmail.com  Sun Mar 10 12:21:04 2013
From: faiube at gmail.com (fernando)
Date: Sun, 10 Mar 2013 04:21:04 -0700 (PDT)
Subject: [R-SIG-Finance] using garchFit function
Message-ID: <1362914464720-4660858.post@n4.nabble.com>

I want to fit an AR-GARCH model with garchFit. 
On the arma specification I need only the AR(8).
But the code
fit <- garchFit(~arma(8,0), ~garch(1,1), cond.dist="dstd")
give all the AR's terms until the AR(8).
Any help with is issue. Thanks a lot
fernando



--
View this message in context: http://r.789695.n4.nabble.com/using-garchFit-function-tp4660858.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From nk at fennoturvapalvelut.com  Mon Mar 11 19:02:20 2013
From: nk at fennoturvapalvelut.com (Niklas K)
Date: Mon, 11 Mar 2013 20:02:20 +0200
Subject: [R-SIG-Finance] IBrokers, TWS and eWrapper.data.Last.R
Message-ID: <513E1C2C.8030108@fennoturvapalvelut.com>

Hi!

I am trying to achieve the same as A. Zege discussed on this list 
earlier (link: 
http://r.789695.n4.nabble.com/how-to-get-quotes-with-IBrokers-td2329328.html 
) which he seemed to accomplish. That is I need to poll a large number 
of very thinly traded instruments.


Based on the earlier discussion and the help of Garrett (here: 
http://stackoverflow.com/questions/15096987/ibrokers-reqmktdata-how-to-add-timeout-to-the-callback-function 
) I created an ewrapper with timeout that returns values even if not all 
values have been filled.


The code for it is here:
http://pastebin.com/FYp3dwCX

The problem I have with this callback is that when it has been called 
usually 2-3 times execution will stop with the error:
Error in file[[id]] : subscript out of bounds

I am not sure what would cause this kind of error and I havent been able 
to sort it out.

I make the call to it for example like this:
opts <- reqContractDetails(tws, twsOption(local="",  expiry=expir_date, 
right=put_or_call, symbol=stk))
opt_prices <- reqMktData(tws, Contract = opts, 
eventWrapper=eWrapper.data.Last(length(opts)),CALLBACK=snapShot)



If anyone has tips or has an wrapper file that would accomplish this I 
would be very grateful!

BR,
Niklas


From lisasolomon at alum.mit.edu  Mon Mar 11 21:04:51 2013
From: lisasolomon at alum.mit.edu (Lisa Solomon)
Date: Mon, 11 Mar 2013 16:04:51 -0400
Subject: [R-SIG-Finance] Hands-on Webinar Series (no charge) The Evolution
 of Regression from Classical Linear Regression to Modern Ensembles
Message-ID: <1272349765.7778.1363032291411.JavaMail.help@alum.mit.edu>

Maybe you missed Part 1 of "The Evolution of Regression Modeling from Classical Linear Regression to Modern Ensembles" webinar series, but you can still join for Parts 2, 3, & 4 

Register Now for Parts 2, 3, 4: https://www1.gotomeeting.com/register/500959705

Download (optional) a free evaluation of the SPM software suite v7.0 (used in the hands-on components of the webinar). As a webinar participant you will qualify for a 60-Day Evaluation of the software at no charge: http://2.salford-systems.com/the-salford-predictive-modeler-download/

Course Outline: Overcoming Linear Regression Limitations
Regression is one of the most popular modeling methods, but the classical approach has significant problems. This webinar series addresses these problems. Are you working with larger datasets? Is your data challenging? Does your data include missing values, nonlinear relationships, local patterns and interactions? This webinar series is for you! We will cover improvements to conventional and logistic regression, and will include a discussion of classical, regularized, and nonlinear regression, as well as modern ensemble and data mining approaches. This series will be of value to any classically trained statistician or modeler.

Part 2 (Hands-on): March 15, 10-11am PST - Hands-on demonstration of concepts discussed in Part 1 (Classical Regression, Logistic Regression, Regularized Regression: GPS Generalized Path Seeker, Nonlinear Regression: MARS Regression Splines)
?	Step-by-step demonstration
?	Datasets and software available for download
?	Instructions for reproducing demo at your leisure
?	For the dedicated student: apply these methods to your own data (optional)
?	Part 1 recording: http://www.salford-systems.com/videos/tutorials/805-the-evolution-of-regression-modeling-part-1

Part 3: March 29, 10-11am PST - Regression methods discussed
*Part 1 is a recommended pre-requisite
?	Nonlinear Ensemble Approaches: TreeNet Gradient Boosting; Random Forests; Gradient Boosting incorporating RF
?	Ensemble Post-Processing: ISLE; RuleLearner

Part 4: April 12, 10-11am PST - Hands-on demonstration of concepts discussed in Part 3
?	Step-by-step demonstration
?	Datasets and software available for download
?	Instructions for reproducing demo at your leisure
?	For the dedicated student: apply these methods to your own data (optional)

From edd at debian.org  Mon Mar 11 21:12:31 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 11 Mar 2013 15:12:31 -0500
Subject: [R-SIG-Finance] [R-sig-hpc] Hands-on Webinar Series (no charge)
 The Evolution of Regression from Classical Linear Regression to Modern
 Ensembles
In-Reply-To: <206641167.7783.1363032414190.JavaMail.help@alum.mit.edu>
References: <206641167.7783.1363032414190.JavaMail.help@alum.mit.edu>
Message-ID: <20798.15023.509414.455335@max.nulle.part>


Lisa,

On 11 March 2013 at 16:06, Lisa Solomon wrote:
| Maybe you missed Part 1 of "The Evolution of Regression Modeling from Classical Linear Regression to Modern Ensembles" webinar series, but you can still join for Parts 2, 3, & 4

Please refrain from spamming multiple R lists.  

You already blasted this on February 7 _and_ February 26.  We really did not
another round.  Please stop this.

Dirk,  as listmaster for r-sig-finance and r-sig-hpc

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From bill at easterngrain.com  Mon Mar 11 23:26:58 2013
From: bill at easterngrain.com (Bill Blount)
Date: Mon, 11 Mar 2013 18:26:58 -0400
Subject: [R-SIG-Finance] intraday historical data
Message-ID: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130311/241196dc/attachment.pl>

From michael.weylandt at gmail.com  Mon Mar 11 23:36:01 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Mon, 11 Mar 2013 22:36:01 +0000
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
Message-ID: <E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>

What exactly do you mean by end of day intraday?

Regardless, I assume the answer is 'yes, many by subscription: some cheap: few free.'

MW

On Mar 11, 2013, at 22:26, Bill Blount <bill at easterngrain.com> wrote:

> is there a source for end of day intraday data (i am assuming that yahoo is
> daily only)?
> 
> Thanks.  Bill
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From bill at easterngrain.com  Tue Mar 12 00:15:04 2013
From: bill at easterngrain.com (Bill Blount)
Date: Mon, 11 Mar 2013 19:15:04 -0400
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
Message-ID: <CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130311/ebd09ef0/attachment.pl>

From bastian2507hk at yahoo.co.uk  Tue Mar 12 00:28:17 2013
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Mon, 11 Mar 2013 19:28:17 -0400
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
	<CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
Message-ID: <513E6891.9090505@yahoo.co.uk>

TAQ WRDS

Am 3/11/2013 7:15 PM, schrieb Bill Blount:
> i just mean intraday historical quotes.  any ideas where?
>
> On Mon, Mar 11, 2013 at 6:36 PM, Michael Weylandt <
> michael.weylandt at gmail.com> wrote:
>
>> What exactly do you mean by end of day intraday?
>>
>> Regardless, I assume the answer is 'yes, many by subscription: some cheap:
>> few free.'
>>
>> MW
>>
>> On Mar 11, 2013, at 22:26, Bill Blount <bill at easterngrain.com> wrote:
>>
>>> is there a source for end of day intraday data (i am assuming that yahoo
>> is
>>> daily only)?
>>>
>>> Thanks.  Bill
>>>
>>>     [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From jan at opentrades.nl  Tue Mar 12 00:31:24 2013
From: jan at opentrades.nl (OpenTrades)
Date: Tue, 12 Mar 2013 00:31:24 +0100
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
	<CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
Message-ID: <513E694C.4050201@opentrades.nl>

Interactive Brokers provides a lot of intraday historical data, with 
some limitations. Just open an account with IB; the data is free.

Jeff Ryan's IBrokers package provides an API, as does the new IBData 
package by Charlie Friedemann (available on r-forge svn).


On 03/12/2013 12:15 AM, Bill Blount wrote:
> i just mean intraday historical quotes.  any ideas where?
>
> On Mon, Mar 11, 2013 at 6:36 PM, Michael Weylandt <
> michael.weylandt at gmail.com> wrote:
>
>> What exactly do you mean by end of day intraday?
>>
>> Regardless, I assume the answer is 'yes, many by subscription: some cheap:
>> few free.'
>>
>> MW
>>
>> On Mar 11, 2013, at 22:26, Bill Blount <bill at easterngrain.com> wrote:
>>
>>> is there a source for end of day intraday data (i am assuming that yahoo
>> is
>>> daily only)?
>>>
>>> Thanks.  Bill
>>>
>>>     [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


-- 
Jan Humme - OpenTrades

WWW:     http://www.opentrades.nl
Email:   jan at opentrades.nl
Twitter: @opentrades


From bobschmdt at gmail.com  Tue Mar 12 12:59:00 2013
From: bobschmdt at gmail.com (Bob Schmidt)
Date: Tue, 12 Mar 2013 04:59:00 -0700 (PDT)
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
	<CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
Message-ID: <1363089540253-4661027.post@n4.nabble.com>

Hi Bill,

May I suggest Dukascopy.  They have both intraday bars and tick data for
some 
select securities available for private use.

http://www.dukascopy.com/swiss/english/marketwatch/historical/

best regards,

Bob




--
View this message in context: http://r.789695.n4.nabble.com/intraday-historical-data-tp4660996p4661027.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Tue Mar 12 15:04:52 2013
From: gsee000 at gmail.com (G See)
Date: Tue, 12 Mar 2013 09:04:52 -0500
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
	<CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
Message-ID: <CA+xi=qbVGL6fxGsRHKL1KQWJ=-d3RJZv9=o7XsNGN6U0TM00LA@mail.gmail.com>

This is extremely broad.  You just want intraday data?  Whose day? The
SGX provides free intraday data:
http://www.sgx.com/wps/portal/sgxweb/home/marketinfo/historical_data/derivatives/time_sales

What asset class?  TrueFX provides historical tick data for FX
(http://truefx.com/?page=downloads).  There's a script called
download.TrueFX.R in the inst/parser directory of FinancialInstrument
that will download and parse that data.
(http://r-forge.r-project.org/scm/viewvc.php/pkg/FinancialInstrument/inst/parser/?root=blotter)

Maybe you want stocks?  Did you search the internet?  I found this via
google: http://www.quantshare.com/sa-426-6-ways-to-download-free-intraday-and-tick-data-for-the-us-stock-market

That link gives 6 sources.  One of them is "stooq".  They provide 5
days of 5 minute OHLC data for thousands of stocks around the world.
I once wrote a script to download and parse that data.  I ran it on a
crontab for a couple weeks, then they put up a captcha.  So, I guess
they don't want you downloading the data systematically -- I don't
know, I can't read Polish.  If you're willing to manually download the
data at least once every 5 days, I'd be happy share my code that
parses it.

Also, the methods that page gives for getting historical intraday data
from Google and Yahoo look promising if you're up to parsing it.  I
think I have some scraps of code laying around somewhere where I
started working on that.  Let me know if you'd like me to look.

I use Interactive Brokers for my personal intraday data needs.
They're really hard to beat since they provide a year's worth of data
for stocks, bonds, FX, options, futures, etc. for products all over
the world.

I use (a small adaptation of) twsInstrument:::update.data() to
download minutely OHLC data for BID, ASK, and TRADES, data for over
2000 stocks.  Since you can only make 6 requests every minute, it
takes almost a full day to download 5 days of data.  So, it runs 24
hours a day.  (it's also helpful to get more than one log-in).  There
is a cost for Interactive Brokers.  It's about 10 or 20 bucks a month,
but if you spend that much money on commissions, they waive the fee.
I just get minutely data, because I want a lot of history for a lot of
symbols, but they also provide 1 second frequency historical data if
you are patient.  Here's the reference for how much data you can get
per request (remember: 6 requests a minute)
http://www.interactivebrokers.com/php/apiUsersGuide/apiguide/api/historical_data_limitations.htm

If you're interested in realtime/near-realtime intraday data, you have
a few options.

This will give you a 15 minute delayed quote:
getQuote("SPY", src="yahoo")

These will give you a real-time quote:
library(qmao)

getQuote("SPY", src="google")

getQuote("SPY", src="IB") # if you have an Interactive Brokers account

getQuote("SPY", src="bats")
getQuote("SPY", src="bats", what="bbo")
getQuote("SPY", src="bats", what="ladder")
getQuote("SPY", src="bats", what="depth")
getQuote("SPY", src="bats", what="trades")
# These come with plot methods too
plot(getQuote("SPY", src="bats"))
plot(getQuote("SPY", src="ladder"))
plot(getQuote("SPY", src="depth"))

I created a shiny app using the getQuote.bats stuff.  If you run
qmao::shinyBATS() it will launch this shiny app:
http://glimmer.rstudio.com/gsee/BATS/

You can wrap one of these getQuote calls in a while loop to retrieve a
"stream" of data

dat <- NULL
while(TRUE){
    dat <- rbind(dat, getQuote("SPY", src="yahoo"))
    Sys.sleep(1)
}

(If you like shiny, here's a crude way to plot intraday data as it
comes in -- just replace the rnorm call with a getQuote call:
https://gist.github.com/gsee/4384158)

If you want real-time intraday fx quotes, see the TFX package
(http://rpubs.com/gsee/TFX)

Recently, I've been excited about this new free API (requires a free
account): https://developers.tradeking.com/documentation/r
According to their forums, they're planning on rolling out historical
intraday data soon.  Currently, you can get snapshots, or streaming
data.


twsInstrument and qmao can be obtained via svn checkout from
https://r-forge.r-project.org/R/?group_id=1113

I hope this helps, and I hope that if you write code to parse some
intraday historical data, that you share it with the list.

Best,
Garrett


On Mon, Mar 11, 2013 at 6:15 PM, Bill Blount <bill at easterngrain.com> wrote:
> i just mean intraday historical quotes.  any ideas where?
>
> On Mon, Mar 11, 2013 at 6:36 PM, Michael Weylandt <
> michael.weylandt at gmail.com> wrote:
>
>> What exactly do you mean by end of day intraday?
>>
>> Regardless, I assume the answer is 'yes, many by subscription: some cheap:
>> few free.'
>>
>> MW
>>
>> On Mar 11, 2013, at 22:26, Bill Blount <bill at easterngrain.com> wrote:
>>
>> > is there a source for end of day intraday data (i am assuming that yahoo
>> is
>> > daily only)?
>> >
>> > Thanks.  Bill
>> >
>> >    [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Finance at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > -- Subscriber-posting only. If you want to post, subscribe first.
>> > -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From daniel.cegielka at gmail.com  Tue Mar 12 16:01:45 2013
From: daniel.cegielka at gmail.com (=?ISO-8859-2?Q?Daniel_Cegie=B3ka?=)
Date: Tue, 12 Mar 2013 16:01:45 +0100
Subject: [R-SIG-Finance] intraday historical data
In-Reply-To: <CA+xi=qbVGL6fxGsRHKL1KQWJ=-d3RJZv9=o7XsNGN6U0TM00LA@mail.gmail.com>
References: <CABaKtPZy3daLsD+2aGMHHFQ9dKLGE86MhuW_u6EzQMdT9QXFnA@mail.gmail.com>
	<E7846296-ADC9-4859-AF7A-2FBA39ACF6C4@gmail.com>
	<CABaKtPbxp8Z0a19FYMTaMvxBtqxnHTrVKbK3zzr0SurnpWsJTQ@mail.gmail.com>
	<CA+xi=qbVGL6fxGsRHKL1KQWJ=-d3RJZv9=o7XsNGN6U0TM00LA@mail.gmail.com>
Message-ID: <CAPLrYESZmy58LBOk-q0dQ=0zTUJYhQCTB8chk+-zN1bFeX7N0Q@mail.gmail.com>

http://www.lmax.com/trading-tech/access

free real-time FX market data (without delay) and exchange access
(paper and live trading on LMAX MTF). json/xml via https or FIX-4.4
(ssl).

Best regards,
Daniel


From ranjodh.singh at gmail.com  Thu Mar 14 03:15:45 2013
From: ranjodh.singh at gmail.com (Ranjodh Singh)
Date: Thu, 14 Mar 2013 10:15:45 +0800
Subject: [R-SIG-Finance] RUGARCH Question
Message-ID: <CAGg6YqM8Qsuc7UvZM6OWC=TrZmX-3UnWVXjyP-KWirEWw8XU_w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130314/45d751a5/attachment.pl>

From marcl at svquant.com  Thu Mar 14 08:31:47 2013
From: marcl at svquant.com (Marc E Levitt)
Date: Thu, 14 Mar 2013 07:31:47 +0000
Subject: [R-SIG-Finance] R-SIG-Finance Digest, Vol 106, Issue 11
Message-ID: <827510917-1363246308-cardhu_decombobulator_blackberry.rim.net-849202910-@b3.c5.bise6.blackberry>


Sent via BBerry


From sduve at hotmail.com  Thu Mar 14 09:21:11 2013
From: sduve at hotmail.com (Sven D)
Date: Thu, 14 Mar 2013 01:21:11 -0700 (PDT)
Subject: [R-SIG-Finance] use rows and cols of a matrix as dates
Message-ID: <1363249271132-4661287.post@n4.nabble.com>

Dear All,

I am trying to evaluate a gas storage contract and I am trying to use R do
the work for me. What I am trying to do is to generate a matrix like:

gy <- matrix(0, nrow=13, ncol=13)
gy <- xts(gy, order.by = timeBasedSeq('201304/201404'))

# these numbers are an imaginariy gas forward curve
forwardcurve <-
c(26.5,26.45,26.4,26.25,26.25,26.25,26.21,27.54,27.91,28.14,28.17,27.91)

# populate first row and first col with the forward curve

gy[1,c(2:13)] <- forwardcurve
gy[c(2:13),1] <- forwardcurve

# calculate the monthly spreads

for(i in 2:13) gy[i,c(i:13)] <- (gy[1, c(i:13)] - gy[i,1])

# the matrix should look like this

> gy
          [,1] [,2]  [,3] [,4]  [,5]  [,6]  [,7]  [,8]  [,9] [,10] [,11]
[,12] [,13]
Mar 2013  0.00 26.5 26.45 26.4 26.25 26.25 26.25 26.21 27.54 27.91 28.14
28.17 27.91
Apr 2013 26.50  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
May 2013 26.45  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Jun 2013 26.40  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Jul 2013 26.25  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Aug 2013 26.25  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Sep 2013 26.25  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Oct 2013 26.21  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Nov 2013 27.54  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Dec 2013 27.91  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Jan 2014 28.14  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Feb 2014 28.17  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00
Mar 2014 27.91  0.0  0.00  0.0  0.00  0.00  0.00  0.00  0.00  0.00  0.00 
0.00  0.00

I now need to xts the columns as well, is that possibel?

I tried

gy <- xts(colnames(gy), order.by = timeBasedSeq('201304/201404'))

but this doesnt give me the required result at all. 

Can anyone help?


Best



Sven






--
View this message in context: http://r.789695.n4.nabble.com/use-rows-and-cols-of-a-matrix-as-dates-tp4661287.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From josh.m.ulrich at gmail.com  Thu Mar 14 12:43:09 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 14 Mar 2013 06:43:09 -0500
Subject: [R-SIG-Finance] use rows and cols of a matrix as dates
In-Reply-To: <1363249271132-4661287.post@n4.nabble.com>
References: <1363249271132-4661287.post@n4.nabble.com>
Message-ID: <CAPPM_gTKP40tB2so9Gp-owuPVv3_SyOPD2sT+=3jtCXzC0oD-A@mail.gmail.com>

On Thu, Mar 14, 2013 at 3:21 AM, Sven D <sduve at hotmail.com> wrote:
> Dear All,
>
> I am trying to evaluate a gas storage contract and I am trying to use R do
> the work for me. What I am trying to do is to generate a matrix like:
>
> gy <- matrix(0, nrow=13, ncol=13)
> gy <- xts(gy, order.by = timeBasedSeq('201304/201404'))
>
> # these numbers are an imaginariy gas forward curve
> forwardcurve <-
> c(26.5,26.45,26.4,26.25,26.25,26.25,26.21,27.54,27.91,28.14,28.17,27.91)
>
> # populate first row and first col with the forward curve
>
> gy[1,c(2:13)] <- forwardcurve
> gy[c(2:13),1] <- forwardcurve
>
> # calculate the monthly spreads
>
> for(i in 2:13) gy[i,c(i:13)] <- (gy[1, c(i:13)] - gy[i,1])
>
This throws an error (that you didn't mention) because arithmetic
operations on zoo/xts objects merge by index before performing the
operation.  In other words, you can't perform arithmetic operations on
different rows without using coredata() to drop the index attribute.
You need something like this instead:

for(i in 2:13) {
  gy[i, i:13] <- gy[1, i:13] - drop(coredata(gy[i,1]))
}

> # the matrix should look like this
>> gy
<snip... the output is incorrect anyway>
>
> I now need to xts the columns as well, is that possibel?
>
No.  xts is a specific class of object, it's not something you do to any object.

> I tried
>
> gy <- xts(colnames(gy), order.by = timeBasedSeq('201304/201404'))
>
> but this doesnt give me the required result at all.
>
What is the required result?  You only give a vague description; an
example would help others help you.  You could set the column names of
'gy' to the index values, but I have no idea if that's what you
actually want...

colnames(gy) <- index(gy)

> Can anyone help?
>
>
> Best
>
> Sven
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From alexios at 4dscape.com  Thu Mar 14 13:53:30 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 14 Mar 2013 12:53:30 +0000
Subject: [R-SIG-Finance] RUGARCH Question
In-Reply-To: <CAGg6YqM8Qsuc7UvZM6OWC=TrZmX-3UnWVXjyP-KWirEWw8XU_w@mail.gmail.com>
References: <CAGg6YqM8Qsuc7UvZM6OWC=TrZmX-3UnWVXjyP-KWirEWw8XU_w@mail.gmail.com>
Message-ID: <5141C84A.6050106@4dscape.com>

Hi,

Not sure what you mean by "halts". In any case, if you try searching the 
methods available for a uGARCHfit object (?'uGARCHfit-class') you will 
find one called 'convergence' which returns the solver convergence code 
for the estimated object (where convergence >= 0 means it has converged 
for most solvers).

There is also the possibility that the solver does converge but to a 
local solution (rare but it does happen) in which case it is also 
possible that the estimated hessian at that point cannot be inverted 
resulting in a warning.

You might find the 'multispec' and 'multifit' methods of value in your 
strategy since they do try to catch such problems and are also setup for 
parallel processing.

Finally, for purely arfima models, try the 'autoarfima' function which 
can also search for non-sequential ARMA orders via complete parameter 
space enumeration.

Regards,
Alexios

On 14/03/2013 02:15, Ranjodh Singh wrote:
> Hi,
>
> I have a rather quick question regarding the rugarch package.
>
> I am attempting to run several ARMA(ar,ma)-GARCH(p,q) models on a single
> set of data whilst varying the values of ar,ma,p and q. For some
> combinations, the GARCH routine does not converge. This is understandable.
>
> The dilemma I am facing is that R halts when convergence is not achieved.
> I would like it output something like "convergence not achieved" and move
> on to the next combination of parameters.
>
> I am hoping that someone else may have asked this question before or its
> part of the official documentation and all someone has to do is to point me
> in that direction.
>
> Thanks in advance.
>
> RJS
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From pgilbert902 at gmail.com  Thu Mar 14 15:51:50 2013
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Thu, 14 Mar 2013 10:51:50 -0400
Subject: [R-SIG-Finance] RUGARCH Question
In-Reply-To: <CAGg6YqM8Qsuc7UvZM6OWC=TrZmX-3UnWVXjyP-KWirEWw8XU_w@mail.gmail.com>
References: <CAGg6YqM8Qsuc7UvZM6OWC=TrZmX-3UnWVXjyP-KWirEWw8XU_w@mail.gmail.com>
Message-ID: <5141E406.4070507@gmail.com>



On 13-03-13 10:15 PM, Ranjodh Singh wrote:
> Hi,
>
> I have a rather quick question regarding the rugarch package.
>
> I am attempting to run several ARMA(ar,ma)-GARCH(p,q) models on a single
> set of data whilst varying the values of ar,ma,p and q. For some
> combinations, the GARCH routine does not converge. This is understandable.
>
> The dilemma I am facing is that R halts when convergence is not achieved.
> I would like it output something like "convergence not achieved" and move
> on to the next combination of parameters.

The generic way to handle this is to wrap your program call in try() and 
then check the result. That may not be necessary, depending on how the 
program "halts". (If it is actually R that is halting, that is, you end 
up no longer in R, then there is a bug you should report, with a 
reproducible example.)

Also, beware that this sort of fishing for a model fit has known 
pitfalls. Don't expect the model forecasts to be anywhere near as good 
as the fit might suggest.

Paul

>
> I am hoping that someone else may have asked this question before or its
> part of the official documentation and all someone has to do is to point me
> in that direction.
>
> Thanks in advance.
>
> RJS
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From sduve at hotmail.com  Thu Mar 14 16:05:40 2013
From: sduve at hotmail.com (Sven D)
Date: Thu, 14 Mar 2013 08:05:40 -0700 (PDT)
Subject: [R-SIG-Finance] use rows and cols of a matrix as dates
In-Reply-To: <CAPPM_gTKP40tB2so9Gp-owuPVv3_SyOPD2sT+=3jtCXzC0oD-A@mail.gmail.com>
References: <1363249271132-4661287.post@n4.nabble.com>
	<CAPPM_gTKP40tB2so9Gp-owuPVv3_SyOPD2sT+=3jtCXzC0oD-A@mail.gmail.com>
Message-ID: <1363273539919-4661347.post@n4.nabble.com>


On Thu, Mar 14, 2013 at 3:21 AM, Sven D &lt;sduve@&gt; wrote:
> Dear All,
>
> I am trying to evaluate a gas storage contract and I am trying to use R do
> the work for me. What I am trying to do is to generate a matrix like:
>
> gy <- matrix(0, nrow=13, ncol=13)
> gy <- xts(gy, order.by = timeBasedSeq('201304/201404'))
>
> # these numbers are an imaginariy gas forward curve
> forwardcurve <-
> c(26.5,26.45,26.4,26.25,26.25,26.25,26.21,27.54,27.91,28.14,28.17,27.91)
>
> # populate first row and first col with the forward curve
>
> gy[1,c(2:13)] <- forwardcurve
> gy[c(2:13),1] <- forwardcurve
>
> # calculate the monthly spreads
>
> for(i in 2:13) gy[i,c(i:13)] <- (gy[1, c(i:13)] - gy[i,1])
>
This throws an error (that you didn't mention) because arithmetic
operations on zoo/xts objects merge by index before performing the
operation.  In other words, you can't perform arithmetic operations on
different rows without using coredata() to drop the index attribute.
You need something like this instead:

for(i in 2:13) {
  gy[i, i:13] <- gy[1, i:13] - drop(coredata(gy[i,1]))
}

> # the matrix should look like this
>> gy
<snip... the output is incorrect anyway>
>

apologies, yes, I was performing the inital loop before I turned the matrix
into an xts. I kept on trying to find a solution while writing the question.

> I now need to xts the columns as well, is that possibel?
>
No.  xts is a specific class of object, it's not something you do to any
object.

> I tried
>
> gy <- xts(colnames(gy), order.by = timeBasedSeq('201304/201404'))
>
> but this doesnt give me the required result at all.
>
What is the required result?  You only give a vague description; an
example would help others help you.  You could set the column names of
'gy' to the index values, but I have no idea if that's what you
actually want...

colnames(gy) <- index(gy)

thank you, as things brings me closer to what I would like to do:

as.Date(as.yearmon(colnames(gy)[1], format="%B %Y"))

will return a date, and from that date value I will be able to calculate the
time to maturity for each single spreadoption. Like:

as.numeric(as.Date(as.yearmon(colnames(gy)[2], format="%B %Y")) -
as.Date(as.yearmon(colnames(gy)[1], format="%B %Y"))) / 365


In other words thank you for the input, this was helpful, apologies for
being a bit vague, wasnt intended.


Thank you.



Sven







--
View this message in context: http://r.789695.n4.nabble.com/use-rows-and-cols-of-a-matrix-as-dates-tp4661287p4661347.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From josh.m.ulrich at gmail.com  Thu Mar 14 16:38:47 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 14 Mar 2013 10:38:47 -0500
Subject: [R-SIG-Finance] use rows and cols of a matrix as dates
In-Reply-To: <1363273539919-4661347.post@n4.nabble.com>
References: <1363249271132-4661287.post@n4.nabble.com>
	<CAPPM_gTKP40tB2so9Gp-owuPVv3_SyOPD2sT+=3jtCXzC0oD-A@mail.gmail.com>
	<1363273539919-4661347.post@n4.nabble.com>
Message-ID: <CAPPM_gRi+dji55mUuuwJsBEWnW+sW2YGX3Yn2QJJghJhoYb7xQ@mail.gmail.com>

On Thu, Mar 14, 2013 at 10:05 AM, Sven D <sduve at hotmail.com> wrote:
>
> On Thu, Mar 14, 2013 at 3:21 AM, Sven D <sduve@> wrote:
>> Dear All,
>>
>> I am trying to evaluate a gas storage contract and I am trying to use R do
>> the work for me. What I am trying to do is to generate a matrix like:
>>
>> gy <- matrix(0, nrow=13, ncol=13)
>> gy <- xts(gy, order.by = timeBasedSeq('201304/201404'))
>>
>> # these numbers are an imaginariy gas forward curve
>> forwardcurve <-
>> c(26.5,26.45,26.4,26.25,26.25,26.25,26.21,27.54,27.91,28.14,28.17,27.91)
>>
>> # populate first row and first col with the forward curve
>>
>> gy[1,c(2:13)] <- forwardcurve
>> gy[c(2:13),1] <- forwardcurve
>>
>> # calculate the monthly spreads
>>
>> for(i in 2:13) gy[i,c(i:13)] <- (gy[1, c(i:13)] - gy[i,1])
>>
> This throws an error (that you didn't mention) because arithmetic
> operations on zoo/xts objects merge by index before performing the
> operation.  In other words, you can't perform arithmetic operations on
> different rows without using coredata() to drop the index attribute.
> You need something like this instead:
>
> for(i in 2:13) {
>   gy[i, i:13] <- gy[1, i:13] - drop(coredata(gy[i,1]))
> }
>
>> # the matrix should look like this
>>> gy
> <snip... the output is incorrect anyway>
>>
>
> apologies, yes, I was performing the inital loop before I turned the matrix
> into an xts. I kept on trying to find a solution while writing the question.
>
>> I now need to xts the columns as well, is that possibel?
>>
> No.  xts is a specific class of object, it's not something you do to any
> object.
>
>> I tried
>>
>> gy <- xts(colnames(gy), order.by = timeBasedSeq('201304/201404'))
>>
>> but this doesnt give me the required result at all.
>>
> What is the required result?  You only give a vague description; an
> example would help others help you.  You could set the column names of
> 'gy' to the index values, but I have no idea if that's what you
> actually want...
>
> colnames(gy) <- index(gy)
>
> thank you, as things brings me closer to what I would like to do:
>
> as.Date(as.yearmon(colnames(gy)[1], format="%B %Y"))
>
> will return a date, and from that date value I will be able to calculate the
> time to maturity for each single spreadoption. Like:
>
> as.numeric(as.Date(as.yearmon(colnames(gy)[2], format="%B %Y")) -
> as.Date(as.yearmon(colnames(gy)[1], format="%B %Y"))) / 365
>
Thanks for including context even though you're posting via Nabble.

No need to do all the conversions.  Your matrix is symmetric, which
means you can use the index values when you want to reference the
column "Dates".

indexDate <- as.Date(index(gy))
(indexDate[2]-indexDate[1])/365
c(indexDate[2]-indexDate[1])/365  # not a difftime object

>
> In other words thank you for the input, this was helpful, apologies for
> being a bit vague, wasnt intended.
>
>
> Thank you.
>
> Sven
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From tobias.berens at gmx.net  Thu Mar 14 17:34:12 2013
From: tobias.berens at gmx.net (TobiB)
Date: Thu, 14 Mar 2013 09:34:12 -0700 (PDT)
Subject: [R-SIG-Finance] rugarch package / VaR Duration Test / Size Property
Message-ID: <1363278852061-4661373.post@n4.nabble.com>

Hi,

I want to assess the size properties of the duration based VaR backtest of
Christoffersen and Pelletier (2004) by simulating i.i.d. Bernoulli variables
and using the function VaRDurTest() of the rugarch package. I am aware that
the size property is bad when evaluating small series, but even for a series
length of e.g. 10,000 I do not achieve the accurate significance level.
Furthermore, the size property become worse if the series length increases. 
Has anybody an idea, what I have done wrong?

 I use the following code for the evaluation:

library(rugarch)
VaR.quantile = 0.05	#VaR quantile
fc.period = 10000	        #Length Forecasting-Period
n.sim = 10000		#Number of simulations

DurTest.p = rep(0,n.sim)
test=0
outlier=0
i=0

while (test<n.sim)
{
	return.vec = (-1)*rbinom(fc.period,1,VaR.quantile)     #Return vector 
	var <- rep(-0.5,fc.period)                                                 
#VaR vector

	if (sum(return.vec)< -1)                                                     
#Exclude ouliers (sum of VaR violations<2)
	{	
		test = test+1
		DurTest.p[test] = VaRDurTest(alpha = VaR.quantile, actual = return.vec,
VaR = var, conf.level = 0.95)$LRp
	}	else {outlier = outlier+1}
	i=i+1
	print(c(i,test,outlier))	
}

rbind(
res.DurTest.001 = length(which(DurTest.p<=0.001))/test,
res.DurTest.01 = length(which(DurTest.p<=0.01))/test,
res.DurTest.05 = length(which(DurTest.p<=0.05))/test,
res.DurTest.10 = length(which(DurTest.p<=0.10))/test)
#


The application of this code leads to the following results:

res.DurTest.001 0.0715   # 0.1% Level
res.DurTest.01  0.2437    # 1% Level
res.DurTest.05  0.4953    # 5% Level
res.DurTest.10  0.6274   # 10% Level

Instead of using the code

	return.vec = (-1)*rbinom(fc.period,1,VaR.quantile)     #Return vector 
	var <- rep(-0.5,fc.period)                                                 
#VaR vector

to simulate an i.i.d Bernoulli distributed hit sequence, I also tried

	return.vec = rnorm(fc.period,0,0.1)
	var = rep(qnorm(VaR.quantile,0,0.1),fc.period)

However, the results are the same.

Thanks in advance.
TB




--
View this message in context: http://r.789695.n4.nabble.com/rugarch-package-VaR-Duration-Test-Size-Property-tp4661373.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Thu Mar 14 19:38:51 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 14 Mar 2013 18:38:51 +0000
Subject: [R-SIG-Finance] rugarch package / VaR Duration Test / Size
	Property
In-Reply-To: <1363278852061-4661373.post@n4.nabble.com>
References: <1363278852061-4661373.post@n4.nabble.com>
Message-ID: <5142193B.9020906@4dscape.com>

I see nothing wrong with your approach...if you expand the n.sim size to 
20,000, 30,000 you will start to see the results converging to what is 
expected. The fact that it has low power for the sizes tested has been 
known for some time. Have a look at the paper by Candelon et al (2011 
J.of.Fin.Econometrics) which discusses this issue and proposes an 
alternative with more power:
http://halshs.archives-ouvertes.fr/docs/00/32/94/95/PDF/GMM_JFE.pdf

I'll try to add this test in the next round of updates.

-Alexios

On 14/03/2013 16:34, TobiB wrote:
> Hi,
>
> I want to assess the size properties of the duration based VaR backtest of
> Christoffersen and Pelletier (2004) by simulating i.i.d. Bernoulli variables
> and using the function VaRDurTest() of the rugarch package. I am aware that
> the size property is bad when evaluating small series, but even for a series
> length of e.g. 10,000 I do not achieve the accurate significance level.
> Furthermore, the size property become worse if the series length increases.
> Has anybody an idea, what I have done wrong?
>
>   I use the following code for the evaluation:
>
> library(rugarch)
> VaR.quantile = 0.05	#VaR quantile
> fc.period = 10000	        #Length Forecasting-Period
> n.sim = 10000		#Number of simulations
>
> DurTest.p = rep(0,n.sim)
> test=0
> outlier=0
> i=0
>
> while (test<n.sim)
> {
> 	return.vec = (-1)*rbinom(fc.period,1,VaR.quantile)     #Return vector
> 	var <- rep(-0.5,fc.period)
> #VaR vector
>
> 	if (sum(return.vec)< -1)
> #Exclude ouliers (sum of VaR violations<2)
> 	{	
> 		test = test+1
> 		DurTest.p[test] = VaRDurTest(alpha = VaR.quantile, actual = return.vec,
> VaR = var, conf.level = 0.95)$LRp
> 	}	else {outlier = outlier+1}
> 	i=i+1
> 	print(c(i,test,outlier))	
> }
>
> rbind(
> res.DurTest.001 = length(which(DurTest.p<=0.001))/test,
> res.DurTest.01 = length(which(DurTest.p<=0.01))/test,
> res.DurTest.05 = length(which(DurTest.p<=0.05))/test,
> res.DurTest.10 = length(which(DurTest.p<=0.10))/test)
> #
>
>
> The application of this code leads to the following results:
>
> res.DurTest.001 0.0715   # 0.1% Level
> res.DurTest.01  0.2437    # 1% Level
> res.DurTest.05  0.4953    # 5% Level
> res.DurTest.10  0.6274   # 10% Level
>
> Instead of using the code
>
> 	return.vec = (-1)*rbinom(fc.period,1,VaR.quantile)     #Return vector
> 	var <- rep(-0.5,fc.period)
> #VaR vector
>
> to simulate an i.i.d Bernoulli distributed hit sequence, I also tried
>
> 	return.vec = rnorm(fc.period,0,0.1)
> 	var = rep(qnorm(VaR.quantile,0,0.1),fc.period)
>
> However, the results are the same.
>
> Thanks in advance.
> TB
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-package-VaR-Duration-Test-Size-Property-tp4661373.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From scott.schmidt1001 at gmail.com  Thu Mar 14 23:57:43 2013
From: scott.schmidt1001 at gmail.com (scott gmail)
Date: Thu, 14 Mar 2013 17:57:43 -0500
Subject: [R-SIG-Finance] quantstrat: executing stoplimit orders on the same
	bar as entry
Message-ID: <FD6474A3-DE4C-4B22-94A6-B798ABA49D0A@gmail.com>

Hi,

I am trying to test a strategy where a stoplimit order can be executed, if hit, on the same bar as trade entry. I am using intraday data, although I don't think that has any bearing on this case. The following is a situation I have run into:

bar 0: signal generated for entry, entry order entered in order book

bar 1: entry order executed with prefer='open'
bar 1: stoplimit order entered in order book (purpose is initial stop loss)
bar 1: signal generated for exit, exit order entered in order book

[bar 1: stoplimit hit, but no stoplimit order executed]

bar 2: exit order executed  with prefer='open'
bar 2: stoplimit order  on bar 1 canceled

I cannot seem to come up with a configuration that allows the stoplimit order entered on bar 1 to execute, if hit. After bar 1, the stoplimit seems to be executed as expected. I have tried changing the stoplimit orders from type 'chain' to type 'order', but that resulted in no transactions being placed. I also tried moving 'chain' up the rule.order hierarchy above 'exit' and 'entry', but that did not change the result.

Any suggestions are most welcome.

Thank you,

scott

Below are my rules:

### rules ----
# enter long
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.gt.SMA", 
                         sigval=TRUE, 
                         replace=FALSE,
                         orderqty=2, 
                         ordertype='market', 
                         orderside='long', 
                         pricemethod='market', 
                         prefer='open',
                         TxnFees=-5,
                         orderset='ocolong'), 
        type='enter', 
        label='EnterLong',
        path.dep=TRUE)
# enter short
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.lt.SMA", 
                         sigval=TRUE, 
                         replace=FALSE,
                         orderqty= -2, 
                         ordertype='market', 
                         orderside='short', 
                         pricemethod='market', 
                         prefer='open',
                         TxnFees=-5,
                         orderset='ocoshort'), 
        type='enter', 
        label='EnterShort',
        path.dep=TRUE)
# exit long
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.lt.SMA", 
                         sigval=TRUE, 
                         replace=TRUE,
                         orderqty='all', 
                         ordertype='market', 
                         orderside='long', 
                         pricemethod='market', 
                         prefer='open',
                         TxnFees=-5,
                         orderset='ocolong'), 
        type='exit', 
        label='ExitLong',
        path.dep=TRUE)
# exit short
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.gt.SMA", 
                         sigval=TRUE, 
                         replace=TRUE,
                         orderqty='all', 
                         ordertype='market', 
                         orderside='short', 
                         pricemethod='market', 
                         prefer='open',
                         TxnFees=-5,
                         orderset='ocoshort'), 
        type='exit', 
        label='ExitShort',
        path.dep=TRUE)
# stop-loss longs
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.gt.SMA", 
                         sigval=TRUE, 
                         replace=FALSE,
                         orderqty='all', 
                         ordertype='stoplimit', 
                         threshold= 5.25,
                         orderside='long', 
                         TxnFees=-5,
                         prefer='open',                          
                         orderset='ocolong'), 
        type='chain', 
        parent='EnterLong',
        label='StopLossLong',
        storefun=FALSE,
        path.dep=TRUE)
# stop-loss shorts
add.rule(strategy, name='ruleSignal', 
        arguments = list(sigcol="Cl.lt.SMA", 
                         sigval=TRUE, 
                         replace=FALSE,
                         orderqty='all', 
                         ordertype='stoplimit', 
                         threshold= 5.25,
                         orderside='short', 
                         prefer='open',
                         TxnFees=-5,
                         orderset='ocoshort'), 
        type='chain', 
        parent='EnterShort',
        label='StopLossShort',
        storefun=FALSE,         
        path.dep=TRUE)
### end rules


From tobias.berens at gmx.net  Fri Mar 15 11:46:25 2013
From: tobias.berens at gmx.net (TobiB)
Date: Fri, 15 Mar 2013 03:46:25 -0700 (PDT)
Subject: [R-SIG-Finance] rugarch package / VaR Duration Test / Size
	Property
In-Reply-To: <5142193B.9020906@4dscape.com>
References: <1363278852061-4661373.post@n4.nabble.com>
	<5142193B.9020906@4dscape.com>
Message-ID: <1363344385795-4661452.post@n4.nabble.com>

Thank you for the quick response.

I tried a higher number of simulations (n.sim = 20,000). The results remain
unchanged:

res.DurTest.001 0.07050 # 0.1% Level
res.DurTest.01  0.25005 # 1% Level
res.DurTest.05  0.48870 # 5% Level
res.DurTest.10  0.61850 # 10% Level

If the length of the tested forecast-period is increased to fc.period =
20,000, the results become even worse:

res.DurTest.001 0.2660 # 0.1% Level
res.DurTest.01  0.5534 # 1% Level
res.DurTest.05  0.7736 # 5% Level
res.DurTest.10  0.8486 # 10% Level

You can replicate these results by using the codes above.



--
View this message in context: http://r.789695.n4.nabble.com/rugarch-package-VaR-Duration-Test-Size-Property-tp4661373p4661452.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Fri Mar 15 14:51:24 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 15 Mar 2013 13:51:24 +0000
Subject: [R-SIG-Finance] rugarch package / VaR Duration Test / Size
	Property
In-Reply-To: <1363344385795-4661452.post@n4.nabble.com>
References: <1363278852061-4661373.post@n4.nabble.com>
	<5142193B.9020906@4dscape.com>
	<1363344385795-4661452.post@n4.nabble.com>
Message-ID: <5143275C.5090301@4dscape.com>

Not sure.

I tested the code yesterday against a couple of other publicly available 
implementations online, so I assume that this is not the problem, but 
feel free to look at the underlying code to check.

I've also run the test based on one of their other papers
(http://www4.ncsu.edu/~dpellet/papers/BCP_23Jun08.pdf) which does
a size test with iid Bernoulli  and find similar results (they use
sample sizes of 250-1500).

A proper full test (code below) for different coverage levels and sizes 
gives the following results:

             Coverage[0.01] Coverage[0.025] Coverage[0.05] Coverage[0.1]
Size[250]        0.2012009       0.1624248         0.1350        0.2007
Size[500]        0.1762988       0.1287000         0.1419        0.2871
Size[1000]       0.1304000       0.1131000         0.1657        0.4448
Size[2500]       0.1130000       0.1224000         0.2559        0.7502
Size[5000]       0.1082000       0.1458000         0.3955        0.8898
Size[10000]      0.1091000       0.1949000         0.6229        0.9110


The table reports the percent rejections at the 10% level of 
significance. What is expected, is that as the size grows, the 
rejections converge to 10% (since the underlying DGP is 'correct'). This 
is the case with 1% coverage....but not for higher rates. Don't really 
know why...slightly suspect it may be related to the numerical 
calculation of the Weibull shape parameter (beta) and the relationship 
with the scale (alpha) given in Equation (29) of the original paper, but 
I may be wrong. If you develop more insights into the reasons, do share 
them with the list.


-Alexios

#######################################
# take care with the cluster size since
# A is quite large and you may run out of RAM
library(rugarch)
alpha = c(0.01, 0.025, 0.05, 0.1)
n = c(250, 500, 1000, 2500, 5000, 10000)
sim = 10000
size_table = matrix(NA, 6, 4)
cl = makePSOCKcluster(5)
clusterEvalQ(cl, library(rugarch))
for(j in 1:4){
   A = matrix((-1)*rbinom(10000*sim,1,alpha[j]), 10000, sim)
   clusterExport(cl, c("A"))
   for(i in 1:6){
       clusterExport(cl, c("alpha", "n", "i", "j"))
       tmp = parApply(cl, A, 2, FUN = function(x){
       ans=try(VaRDurTest(alpha[j], x[1:n[i]], rep(-0.5,n[i]))$LRp, 
silent=TRUE)
       if(inherits(ans, 'try-error')) ans=NA
       return(ans)})
       tmp = na.omit(tmp)
       size_table[i,j] = length(which(tmp<=0.1))/length(tmp)
   }
}
rownames(size_table)=paste("Size[",n,"]",sep="")
colnames(size_table)=paste("Coverage[",alpha,"]",sep="")
#########################################

On 15/03/2013 10:46, TobiB wrote:
> Thank you for the quick response.
>
> I tried a higher number of simulations (n.sim = 20,000). The results remain
> unchanged:
>
> res.DurTest.001 0.07050 # 0.1% Level
> res.DurTest.01  0.25005 # 1% Level
> res.DurTest.05  0.48870 # 5% Level
> res.DurTest.10  0.61850 # 10% Level
>
> If the length of the tested forecast-period is increased to fc.period =
> 20,000, the results become even worse:
>
> res.DurTest.001 0.2660 # 0.1% Level
> res.DurTest.01  0.5534 # 1% Level
> res.DurTest.05  0.7736 # 5% Level
> res.DurTest.10  0.8486 # 10% Level
>
> You can replicate these results by using the codes above.
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-package-VaR-Duration-Test-Size-Property-tp4661373p4661452.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From mikhailbeketov at googlemail.com  Fri Mar 15 15:09:02 2013
From: mikhailbeketov at googlemail.com (Mikhail Beketov)
Date: Fri, 15 Mar 2013 15:09:02 +0100
Subject: [R-SIG-Finance] covEllipsesPlot in fPortfolio
Message-ID: <CAFPVqzyyMeKWHspBwg2q5Jcn5CGk8mW6K9sBF0-y3hbDHcpiKw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130315/708068c7/attachment.pl>

From rex at nosyntax.net  Fri Mar 15 20:49:14 2013
From: rex at nosyntax.net (rex)
Date: Fri, 15 Mar 2013 12:49:14 -0700
Subject: [R-SIG-Finance] TTR Yang-Zhang volatility bug?
Message-ID: <20130315194914.GB10052@ninja.nosyntax.net>

I'm generating lognormal OHLC series and testing the RNG using TTR's
volatility functions. The yang.zhang calculation prepends too many NAs.
When Joshua's Yang-Zhang code is added as a function in my code, it
prepends fewer NAs, but still one too many, I think. 

Why does what appears to be the same code behave differently?

R version 2.15.3 (2013-03-01) -- "Security Blanket"
Copyright (C) 2013 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-pc-linux-gnu (64-bit)

   library(TTR)
   library(xts)

   vYZ = function(OHLC, n=10, N=252, ...){     #Joshua's Yang-Zhang TTR function
   # Historical Open-High-Low-Close Volatility: Yang Zhang
      # http://www.sitmo.com/eq/417            #dead link
      if(is.xts(OHLC)) {
        Cl1 <- lag(OHLC[,4])
      } else {
        Cl1 <- c( NA, OHLC[-NROW(OHLC),4] )
      }
      
      dots <- list(...)
      if(is.null(dots$alpha)) {
        alpha <- 1.34
      }
      if(is.null(dots$k)) {
        k <- (alpha-1) / ( alpha + (n+1)/(n-1) )
      }

      s2o <- N * runVar(log(OHLC[,1] / Cl1), n=n)
      s2c <- N * runVar(log(OHLC[,4] / OHLC[,1]), n=n)
      #s2rs <- volatility(OHLC=OHLC, n=n, calc="rogers.satchell", N=N, ...)
      s2rs <- sqrt( N/n * runSum(        #taken from Joshua's rogers.satchell code
                 log(OHLC[,2]/OHLC[,4]) * log(OHLC[,2]/OHLC[,1]) +
                 log(OHLC[,3]/OHLC[,4]) * log(OHLC[,3]/OHLC[,1]), n ) )

      s <- sqrt(s2o + k*s2c + (1-k)*(s2rs^2))
   }

   #my code starts here
   options(width=132, digits=4)
   ohlc           = as.zoo(matrix(nrow=nDays,ncol=4))
   colnames(ohlc) = c('Open','High','Low','Close')
   allDays        = seq(as.Date('2012-01-01'), as.Date('2012-02-24'), by = 1)
   wkDays         = allDays[!weekdays(allDays) %in% c('Saturday','Sunday')]
   index(ohlc)    = wkDays
   ohlc           = as.xts(ohlc)
   tDays          = 252                         #trading days/year
   nDays          = length(wkDays)              #random walk this many trading days
   hist           = 15                          #days used to estimate volatility
   drift          = 0.10                        #annual trend of walk
   vol            = 0.25                        #25% annual volatility
   stkPr          = 100                         #initial stock price
   pricesDay      = 6.5*12                      #6.5 hours open and 12 prices per hour
   pricesWlk      = pricesDay*nDays             #number of prices in each random walk
   pricesYr       = pricesDay*tDays             #number of prices in a year
   nWalks         = 100                         #number of random walks
   tRands         = pricesWlk*nWalks            #number of lognormal rands required
   mu             = drift/(pricesYr)            #trend per trade for walk
   sd             = vol/sqrt(pricesYr)          #volatility per trade for walk          
   expPr          = stkPr*exp((drift + 0.5*vol*vol)*nDays/tDays)      #expected end price
   y              = matrix(rlnorm(tRands, mu, sd), nWalks, pricesWlk) #random lognormals
   z              = stkPr*t(apply(y,1,cumprod)) #do the day-by-day multiplication
   endPr          = mean(z[,pricesWlk])         #average price at end of walk
   
   sumYZ = sumCC = 0
   for (w in 1:nWalks){
     for (i in 1:nDays){
       j         = (i-1)*pricesDay + 1
       k         = j + pricesDay -1
       ohlc[i,1] = z[w,j]           #open for day
       ohlc[i,2] = max(z[w,j:k])    #high for day
       ohlc[i,3] = min(z[w,j:k])    #low for day
       ohlc[i,4] = z[w,i*pricesDay] #close for day
     }
     volYZ2 = vYZ(ohlc, n=hist, N=tDays)
     volYZ = volatility(ohlc, n=hist, N=tDays, calc="yang.zhang") #Yang-Zhang volatility
     volCC = volatility(ohlc, n=hist, N=tDays, calc="close")      #closing volatility
     sumYZ = sumYZ + mean(na.omit(volYZ))
     sumCC = sumCC + mean(na.omit(volCC))
     #print(c(mean(volYZ),mean(volCC)))     #there are multiple estimates
   }
   print(c('averageYZ', sumYZ/nWalks))
   #[1] "averageYZ"         "0.227380100996657"
   print(c('averageCC', sumCC/nWalks))
   #[1] "averageCC"         "0.239352679348972"
   #chartSeries(ohlc, name='SIM', theme='white')

> volYZ             #too many NAs
               [,1]
2012-01-02     NA
2012-01-03     NA
2012-01-04     NA
2012-01-05     NA
2012-01-06     NA
2012-01-09     NA
2012-01-10     NA
2012-01-11     NA
2012-01-12     NA
2012-01-13     NA
2012-01-16     NA
2012-01-17     NA
2012-01-18     NA
2012-01-19     NA
2012-01-20     NA
2012-01-23     NA
2012-01-24     NA
2012-01-25     NA
2012-01-26     NA
2012-01-27     NA
2012-01-30     NA
2012-01-31     NA
2012-02-01     NA
2012-02-02     NA
2012-02-03     NA
2012-02-06     NA
2012-02-07     NA
2012-02-08     NA
2012-02-09     NA
2012-02-10 0.2125
2012-02-13 0.2042
2012-02-14 0.2010
2012-02-15 0.2011
2012-02-16 0.2077
2012-02-17 0.2133
2012-02-20 0.2222
2012-02-21 0.2261
2012-02-22 0.2270
2012-02-23 0.2233
2012-02-24 0.2271

> volYZ2             #better
               [,1]
2012-01-02     NA
2012-01-03     NA
2012-01-04     NA
2012-01-05     NA
2012-01-06     NA
2012-01-09     NA
2012-01-10     NA
2012-01-11     NA
2012-01-12     NA
2012-01-13     NA
2012-01-16     NA
2012-01-17     NA
2012-01-18     NA
2012-01-19     NA
2012-01-20     NA
2012-01-23 0.2067
2012-01-24 0.2087
2012-01-25 0.2100
2012-01-26 0.2110
2012-01-27 0.2139
2012-01-30 0.2138
2012-01-31 0.2091
2012-02-01 0.2163
2012-02-02 0.2240
2012-02-03 0.2272
2012-02-06 0.2245
2012-02-07 0.2259
2012-02-08 0.2229
2012-02-09 0.2183
2012-02-10 0.2151
2012-02-13 0.2069
2012-02-14 0.2038
2012-02-15 0.2038
2012-02-16 0.2099
2012-02-17 0.2155
2012-02-20 0.2229
2012-02-21 0.2266
2012-02-22 0.2292
2012-02-23 0.2250
2012-02-24 0.2285

> volCC
               [,1]
2012-01-02     NA
2012-01-03     NA
2012-01-04     NA
2012-01-05     NA
2012-01-06     NA
2012-01-09     NA
2012-01-10     NA
2012-01-11     NA
2012-01-12     NA
2012-01-13     NA
2012-01-16     NA
2012-01-17     NA
2012-01-18     NA
2012-01-19     NA
2012-01-20 0.2288
2012-01-23 0.2281
2012-01-24 0.2628
2012-01-25 0.2618
2012-01-26 0.2715
2012-01-27 0.2710
2012-01-30 0.2766
2012-01-31 0.2603
2012-02-01 0.2891
2012-02-02 0.3014
2012-02-03 0.3083
2012-02-06 0.2822
2012-02-07 0.2812
2012-02-08 0.2813
2012-02-09 0.2788
2012-02-10 0.2845
2012-02-13 0.2471
2012-02-14 0.2654
2012-02-15 0.2560
2012-02-16 0.2827
2012-02-17 0.2627
2012-02-20 0.2832
2012-02-21 0.2686
2012-02-22 0.3048
2012-02-23 0.3093
2012-02-24 0.3536

Thanks,

-rex
--


From josh.m.ulrich at gmail.com  Fri Mar 15 20:51:33 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 15 Mar 2013 14:51:33 -0500
Subject: [R-SIG-Finance] TTR Yang-Zhang volatility bug?
In-Reply-To: <20130315194914.GB10052@ninja.nosyntax.net>
References: <20130315194914.GB10052@ninja.nosyntax.net>
Message-ID: <CAPPM_gTVTbvboskvPbzYn3CpC_+WytdBO-8O4SAdG5N2KGmQ6w@mail.gmail.com>

What version of TTR are you using?  I may have already fixed this on R-Forge.
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


On Fri, Mar 15, 2013 at 2:49 PM, rex <rex at nosyntax.net> wrote:
> I'm generating lognormal OHLC series and testing the RNG using TTR's
> volatility functions. The yang.zhang calculation prepends too many NAs.
> When Joshua's Yang-Zhang code is added as a function in my code, it
> prepends fewer NAs, but still one too many, I think.
> Why does what appears to be the same code behave differently?
>
> R version 2.15.3 (2013-03-01) -- "Security Blanket"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-pc-linux-gnu (64-bit)
>
>   library(TTR)
>   library(xts)
>
>   vYZ = function(OHLC, n=10, N=252, ...){     #Joshua's Yang-Zhang TTR
> function
>   # Historical Open-High-Low-Close Volatility: Yang Zhang
>      # http://www.sitmo.com/eq/417            #dead link
>      if(is.xts(OHLC)) {
>        Cl1 <- lag(OHLC[,4])
>      } else {
>        Cl1 <- c( NA, OHLC[-NROW(OHLC),4] )
>      }
>           dots <- list(...)
>      if(is.null(dots$alpha)) {
>        alpha <- 1.34
>      }
>      if(is.null(dots$k)) {
>        k <- (alpha-1) / ( alpha + (n+1)/(n-1) )
>      }
>
>      s2o <- N * runVar(log(OHLC[,1] / Cl1), n=n)
>      s2c <- N * runVar(log(OHLC[,4] / OHLC[,1]), n=n)
>      #s2rs <- volatility(OHLC=OHLC, n=n, calc="rogers.satchell", N=N, ...)
>      s2rs <- sqrt( N/n * runSum(        #taken from Joshua's rogers.satchell
> code
>                 log(OHLC[,2]/OHLC[,4]) * log(OHLC[,2]/OHLC[,1]) +
>                 log(OHLC[,3]/OHLC[,4]) * log(OHLC[,3]/OHLC[,1]), n ) )
>
>      s <- sqrt(s2o + k*s2c + (1-k)*(s2rs^2))
>   }
>
>   #my code starts here
>   options(width=132, digits=4)
>   ohlc           = as.zoo(matrix(nrow=nDays,ncol=4))
>   colnames(ohlc) = c('Open','High','Low','Close')
>   allDays        = seq(as.Date('2012-01-01'), as.Date('2012-02-24'), by = 1)
>   wkDays         = allDays[!weekdays(allDays) %in% c('Saturday','Sunday')]
>   index(ohlc)    = wkDays
>   ohlc           = as.xts(ohlc)
>   tDays          = 252                         #trading days/year
>   nDays          = length(wkDays)              #random walk this many
> trading days
>   hist           = 15                          #days used to estimate
> volatility
>   drift          = 0.10                        #annual trend of walk
>   vol            = 0.25                        #25% annual volatility
>   stkPr          = 100                         #initial stock price
>   pricesDay      = 6.5*12                      #6.5 hours open and 12 prices
> per hour
>   pricesWlk      = pricesDay*nDays             #number of prices in each
> random walk
>   pricesYr       = pricesDay*tDays             #number of prices in a year
>   nWalks         = 100                         #number of random walks
>   tRands         = pricesWlk*nWalks            #number of lognormal rands
> required
>   mu             = drift/(pricesYr)            #trend per trade for walk
>   sd             = vol/sqrt(pricesYr)          #volatility per trade for
> walk            expPr          = stkPr*exp((drift +
> 0.5*vol*vol)*nDays/tDays)      #expected end price
>   y              = matrix(rlnorm(tRands, mu, sd), nWalks, pricesWlk) #random
> lognormals
>   z              = stkPr*t(apply(y,1,cumprod)) #do the day-by-day
> multiplication
>   endPr          = mean(z[,pricesWlk])         #average price at end of walk
>     sumYZ = sumCC = 0
>   for (w in 1:nWalks){
>     for (i in 1:nDays){
>       j         = (i-1)*pricesDay + 1
>       k         = j + pricesDay -1
>       ohlc[i,1] = z[w,j]           #open for day
>       ohlc[i,2] = max(z[w,j:k])    #high for day
>       ohlc[i,3] = min(z[w,j:k])    #low for day
>       ohlc[i,4] = z[w,i*pricesDay] #close for day
>     }
>     volYZ2 = vYZ(ohlc, n=hist, N=tDays)
>     volYZ = volatility(ohlc, n=hist, N=tDays, calc="yang.zhang") #Yang-Zhang
> volatility
>     volCC = volatility(ohlc, n=hist, N=tDays, calc="close")      #closing
> volatility
>     sumYZ = sumYZ + mean(na.omit(volYZ))
>     sumCC = sumCC + mean(na.omit(volCC))
>     #print(c(mean(volYZ),mean(volCC)))     #there are multiple estimates
>   }
>   print(c('averageYZ', sumYZ/nWalks))
>   #[1] "averageYZ"         "0.227380100996657"
>   print(c('averageCC', sumCC/nWalks))
>   #[1] "averageCC"         "0.239352679348972"
>   #chartSeries(ohlc, name='SIM', theme='white')
>
>> volYZ             #too many NAs
>
>               [,1]
> 2012-01-02     NA
> 2012-01-03     NA
> 2012-01-04     NA
> 2012-01-05     NA
> 2012-01-06     NA
> 2012-01-09     NA
> 2012-01-10     NA
> 2012-01-11     NA
> 2012-01-12     NA
> 2012-01-13     NA
> 2012-01-16     NA
> 2012-01-17     NA
> 2012-01-18     NA
> 2012-01-19     NA
> 2012-01-20     NA
> 2012-01-23     NA
> 2012-01-24     NA
> 2012-01-25     NA
> 2012-01-26     NA
> 2012-01-27     NA
> 2012-01-30     NA
> 2012-01-31     NA
> 2012-02-01     NA
> 2012-02-02     NA
> 2012-02-03     NA
> 2012-02-06     NA
> 2012-02-07     NA
> 2012-02-08     NA
> 2012-02-09     NA
> 2012-02-10 0.2125
> 2012-02-13 0.2042
> 2012-02-14 0.2010
> 2012-02-15 0.2011
> 2012-02-16 0.2077
> 2012-02-17 0.2133
> 2012-02-20 0.2222
> 2012-02-21 0.2261
> 2012-02-22 0.2270
> 2012-02-23 0.2233
> 2012-02-24 0.2271
>
>> volYZ2             #better
>
>               [,1]
> 2012-01-02     NA
> 2012-01-03     NA
> 2012-01-04     NA
> 2012-01-05     NA
> 2012-01-06     NA
> 2012-01-09     NA
> 2012-01-10     NA
> 2012-01-11     NA
> 2012-01-12     NA
> 2012-01-13     NA
> 2012-01-16     NA
> 2012-01-17     NA
> 2012-01-18     NA
> 2012-01-19     NA
> 2012-01-20     NA
> 2012-01-23 0.2067
> 2012-01-24 0.2087
> 2012-01-25 0.2100
> 2012-01-26 0.2110
> 2012-01-27 0.2139
> 2012-01-30 0.2138
> 2012-01-31 0.2091
> 2012-02-01 0.2163
> 2012-02-02 0.2240
> 2012-02-03 0.2272
> 2012-02-06 0.2245
> 2012-02-07 0.2259
> 2012-02-08 0.2229
> 2012-02-09 0.2183
> 2012-02-10 0.2151
> 2012-02-13 0.2069
> 2012-02-14 0.2038
> 2012-02-15 0.2038
> 2012-02-16 0.2099
> 2012-02-17 0.2155
> 2012-02-20 0.2229
> 2012-02-21 0.2266
> 2012-02-22 0.2292
> 2012-02-23 0.2250
> 2012-02-24 0.2285
>
>> volCC
>
>               [,1]
> 2012-01-02     NA
> 2012-01-03     NA
> 2012-01-04     NA
> 2012-01-05     NA
> 2012-01-06     NA
> 2012-01-09     NA
> 2012-01-10     NA
> 2012-01-11     NA
> 2012-01-12     NA
> 2012-01-13     NA
> 2012-01-16     NA
> 2012-01-17     NA
> 2012-01-18     NA
> 2012-01-19     NA
> 2012-01-20 0.2288
> 2012-01-23 0.2281
> 2012-01-24 0.2628
> 2012-01-25 0.2618
> 2012-01-26 0.2715
> 2012-01-27 0.2710
> 2012-01-30 0.2766
> 2012-01-31 0.2603
> 2012-02-01 0.2891
> 2012-02-02 0.3014
> 2012-02-03 0.3083
> 2012-02-06 0.2822
> 2012-02-07 0.2812
> 2012-02-08 0.2813
> 2012-02-09 0.2788
> 2012-02-10 0.2845
> 2012-02-13 0.2471
> 2012-02-14 0.2654
> 2012-02-15 0.2560
> 2012-02-16 0.2827
> 2012-02-17 0.2627
> 2012-02-20 0.2832
> 2012-02-21 0.2686
> 2012-02-22 0.3048
> 2012-02-23 0.3093
> 2012-02-24 0.3536
>
> Thanks,
>
> -rex
> --
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From rex at nosyntax.net  Fri Mar 15 22:53:39 2013
From: rex at nosyntax.net (rex)
Date: Fri, 15 Mar 2013 14:53:39 -0700
Subject: [R-SIG-Finance] TTR Yang-Zhang volatility bug?
In-Reply-To: <CAPPM_gTVTbvboskvPbzYn3CpC_+WytdBO-8O4SAdG5N2KGmQ6w@mail.gmail.com>
References: <20130315194914.GB10052@ninja.nosyntax.net>
	<CAPPM_gTVTbvboskvPbzYn3CpC_+WytdBO-8O4SAdG5N2KGmQ6w@mail.gmail.com>
Message-ID: <20130315215339.GC10052@ninja.nosyntax.net>

Joshua Ulrich <josh.m.ulrich at gmail.com> [2013-03-15 12:51]:
>What version of TTR are you using?  I may have already fixed this on R-Forge.

How do I tell? Trying to reinstall using:

> install.packages("TTR", repos="http://R-Forge.R-project.org", type="source")
package ?TTR? is not available (for R version 2.15.3)

So, I did:

svn co svn://svn.r-forge.r-project.org/svnroot/ttr/pkg ttr
A    ttr/R
A    ttr/R/adjRatios.R
[...]
A    ttr/man/WPR.Rd
A    ttr/NAMESPACE
Checked out revision 150.
cd ttr && R CMD INSTALL . && cd ..
* installing to library ?/home/rex/R/x86_64-pc-linux-gnu-library/2.15?
* installing *source* package ?TTR? ...
** libs
gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG   -I"/home/rex/R/x86_64-pc-linux-gnu-library/2.15/xts/include"   -fpic  -O2 -pipe -g  -c adjRatios.c -o adjRatios.o
[...]
installing to /home/rex/R/x86_64-pc-linux-gnu-library/2.15/TTR/libs
** R
** data
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded

* DONE (TTR)
R

Now when I run the code it produces:
>  print(c('averageYZ', sumYZ/nWalks))
  #[1] "averageYZ"       "0.2277927327767"
>  print(c('averageCC', sumCC/nWalks))
  #[1] "averageCC"         "0.247154156449499"
> volYZ
              [,1]
2012-01-23 0.2255
2012-01-24 0.2259
2012-01-25 0.2240
2012-01-26 0.2217
2012-01-27 0.2192
2012-01-30 0.2172
2012-01-31 0.2188
2012-02-01 0.2198
2012-02-02 0.2276
2012-02-03 0.2279
2012-02-06 0.2270
2012-02-07 0.2229
2012-02-08 0.2279
2012-02-09 0.2275
2012-02-10 0.2386
2012-02-13 0.2437
2012-02-14 0.2502
2012-02-15 0.2484
2012-02-16 0.2554
2012-02-17 0.2584
2012-02-20 0.2550
2012-02-21 0.2476
2012-02-22 0.2422
2012-02-23 0.2384
2012-02-24 0.2377
> volCC
              [,1]
2012-01-20 0.3128
2012-01-23 0.3088
2012-01-24 0.2976
2012-01-25 0.3026
2012-01-26 0.3021
2012-01-27 0.3044
2012-01-30 0.3072
2012-01-31 0.3399
2012-02-01 0.3414
2012-02-02 0.3478
2012-02-03 0.3547
2012-02-06 0.2713
2012-02-07 0.2975
2012-02-08 0.2815
2012-02-09 0.2869
2012-02-10 0.3282
2012-02-13 0.3640
2012-02-14 0.3630
2012-02-15 0.3627
2012-02-16 0.3610
2012-02-17 0.3562
2012-02-20 0.3376
2012-02-21 0.3355
2012-02-22 0.3283
2012-02-23 0.2879
2012-02-24 0.3020

Much better!

However, shouldn't the two start on the same day since they have the same window size?

Thanks!

-rex
--


From rex at nosyntax.net  Sat Mar 16 01:43:07 2013
From: rex at nosyntax.net (rex)
Date: Fri, 15 Mar 2013 17:43:07 -0700
Subject: [R-SIG-Finance] qmao installation failure
Message-ID: <20130316004307.GD10052@ninja.nosyntax.net>

Tried:
> install.packages("qmao", repos="http://R-Forge.R-project.org")
package ?qmao? is not available (for R version 2.15.3)

SVN:
svn checkout svn://scm.r-forge.r-project.org/svnroot/twsinstrument/
A    twsinstrument/pkg
A    twsinstrument/pkg/twsInstrument
[...]
A    twsinstrument/www
A    twsinstrument/www/index.php
A    twsinstrument/README
   U   twsinstrument
Checked out revision 407.

cd twsinstrument && R CMD INSTALL ./pkg/qmao && cd ..
* installing to library ?/home/rex/R/x86_64-pc-linux-gnu-library/2.15?
ERROR: dependencies ?gdata?, ?pander? are not available for package ?qmao?
* removing ?/home/rex/R/x86_64-pc-linux-gnu-library/2.15/qmao?

I was unable to find gdata or pander.

Any suggestions appreciated.

Thanks,

-rex
--


From gsee000 at gmail.com  Sat Mar 16 01:45:42 2013
From: gsee000 at gmail.com (G See)
Date: Fri, 15 Mar 2013 19:45:42 -0500
Subject: [R-SIG-Finance] qmao installation failure
In-Reply-To: <20130316004307.GD10052@ninja.nosyntax.net>
References: <20130316004307.GD10052@ninja.nosyntax.net>
Message-ID: <CA+xi=qbOcVxy9hOnWKTrCer=LeS=djvE9VvkG_XRW1RXQstu0w@mail.gmail.com>

They're on CRAN
http://cran.r-project.org/package=gdata
http://cran.r-project.org/package=pander

Garrett

On Fri, Mar 15, 2013 at 7:43 PM, rex <rex at nosyntax.net> wrote:
> Tried:
>>
>> install.packages("qmao", repos="http://R-Forge.R-project.org")
>
> package ?qmao? is not available (for R version 2.15.3)
>
> SVN:
> svn checkout svn://scm.r-forge.r-project.org/svnroot/twsinstrument/
> A    twsinstrument/pkg
> A    twsinstrument/pkg/twsInstrument
> [...]
> A    twsinstrument/www
> A    twsinstrument/www/index.php
> A    twsinstrument/README
>   U   twsinstrument
> Checked out revision 407.
>
> cd twsinstrument && R CMD INSTALL ./pkg/qmao && cd ..
> * installing to library ?/home/rex/R/x86_64-pc-linux-gnu-library/2.15?
> ERROR: dependencies ?gdata?, ?pander? are not available for package ?qmao?
> * removing ?/home/rex/R/x86_64-pc-linux-gnu-library/2.15/qmao?
>
> I was unable to find gdata or pander.
>
> Any suggestions appreciated.
>
> Thanks,
>
> -rex
> --
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From josh.m.ulrich at gmail.com  Sat Mar 16 02:14:27 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 15 Mar 2013 20:14:27 -0500
Subject: [R-SIG-Finance] TTR Yang-Zhang volatility bug?
In-Reply-To: <20130315215339.GC10052@ninja.nosyntax.net>
References: <20130315194914.GB10052@ninja.nosyntax.net>
	<CAPPM_gTVTbvboskvPbzYn3CpC_+WytdBO-8O4SAdG5N2KGmQ6w@mail.gmail.com>
	<20130315215339.GC10052@ninja.nosyntax.net>
Message-ID: <CAPPM_gQm3tHa+PCSbJXkErOybeYFBjQHW_qUXe+U=OfMPztB6w@mail.gmail.com>

On Fri, Mar 15, 2013 at 4:53 PM, rex <rex at nosyntax.net> wrote:
> Joshua Ulrich <josh.m.ulrich at gmail.com> [2013-03-15 12:51]:
>
>> What version of TTR are you using?  I may have already fixed this on
>> R-Forge.
>
>
> How do I tell? Trying to reinstall using:
>
>> install.packages("TTR", repos="http://R-Forge.R-project.org",
>> type="source")
>
> package ?TTR? is not available (for R version 2.15.3)
>
Look at the output of sessionInfo() after calling library(TTR).

> So, I did:
>
> svn co svn://svn.r-forge.r-project.org/svnroot/ttr/pkg ttr
<snip>
> cd ttr && R CMD INSTALL . && cd ..
<snip>
> R
>
> Now when I run the code it produces:
>>
<snip>
>
> Much better!
>
> However, shouldn't the two start on the same day since they have the same
> window size?
>
No, because "close" is based on close price only and "yang.zhang" (and
others) is based on close and lag(close), which introduces an extra
missing value.

> Thanks!
>
> -rex
> --
>
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


From roschm at ymail.com  Sun Mar 17 01:20:44 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Sat, 16 Mar 2013 17:20:44 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat newbie sigFormula example
Message-ID: <1363479644572-4661594.post@n4.nabble.com>

Hi All,

I'm posting a small example of using signal formulas to help out other
beginners that are getting started with quantstrat.  It also includes stuff
copied from other examples such as the CUD custom indicator from
timelyportfolio, reading a OHLC CSV file with intraday bars downloaded from
Dukascopy, adding TA indicators to plots, and saving results to files.  I
may have gone a bit off the deep end with the signal formulas.  I'm certain
that there are smarter ways to do some of this.  I am also attaching a small
CSV file to play with.  

Thanks in advance for comments, suggestions, and warnings.

Rob Schmidt

# the frankenstein of signal formulas,  Rob Schmidt
# prices from online, or from a CSV file downloaded from dukascopy

# thanks to the people who made these great packages and
# thanks to all who made the examples from which I copied 

csvPath = '/home/rob/work/csvdata/dukascopy/'  #  these need to change
resultsPath = '/home/rob/work/R/quantstrat/'
setwd(resultsPath)

require(quantstrat)

try(rm("order_book.frank", pos=.strategy), silent=TRUE)
try(rm("account.frank", "portfolio.frank", pos=.blotter), silent=TRUE)

csvName = '' # assign an empty string to choose daily data from yahoo
# example file downloaded from dukascopy for evaluation
#csvName = 'AMZN.US_Candlestick_15_m_BID_01.01.2013-12.01.2013.csv'

stratg = "frank"  #  a creature from a collection of parts
symbol = "AMZN"

cudPeriods = 4
fastPeriods = 15
slowPeriods = 2*fastPeriods
initEq = 1.0e6
orderSize = 100

# CUD is the n-period sum of (up days = 1) and (down days = -1)
CUD = function(cl, n)
{   temp = runSum(ifelse(ROC(cl, 1, type="discrete") > 0, 1, -1), n)
    colnames(temp) = "CUD"
    temp
}

currency("USD")
stock(symbol, currency="USD", multiplier=1)

if(csvName == '')  #  get price data from yahoo online
{   initDate = '2011-07-01'
    endDate = '2012-01-01'
    getSymbols(symbol, from=initDate, to=endDate, adjust=TRUE)
} else   #   get price data from a CSV file
{   dukasFormat = '%d.%m.%Y %H:%M:%S'
     csvData = read.csv(paste(csvPath, csvName, sep=''), sep=',',
header=TRUE)
    # ignore empty trading periods, makes the plots prettier
    csvData = csvData[(csvData$High > csvData$Low),]

    #initDate = ''  # if empty string calculate from the start of the data
    initDate = '2013-01-05 00:00:00'    # else set init date 
    #endDate = ''   # if empty string calculate to the end of the data
    endDate = '2013-01-09 00:00:00'    # else set end date 
    # apply the user's end date if it is specified
    if(initDate != '') 
    {   initTime = as.POSIXct(strptime(initDate, '%Y-%m-%d %H:%M:%S'))
        csvData = csvData[(as.POSIXct(strptime(
                    csvData$Time, dukasFormat)) > initTime),]
    }
    if(endDate != '') 
    {   endTime = as.POSIXct(strptime(endDate, '%Y-%m-%d %H:%M:%S'))
        csvData = csvData[(as.POSIXct(strptime(
                    csvData$Time, dukasFormat)) < endTime),]
    }
    symb = as.xts(csvData[,2:6], 
        as.POSIXct(strptime(csvData[,1], dukasFormat)))
    colnames(symb) = c(paste(symbol,'.Open',sep=''),
                        paste(symbol,'.High',sep=''),
                        paste(symbol,'.Low',sep=''),
                        paste(symbol,'.Close',sep=''),
                        paste(symbol,'.Volume',sep=''))
    assign(symbol,symb)
    initDate = start(get(symbol))
    endDate = end(get(symbol))
}

# make some signal formula parts from indicators

cudUp = "(CUD > 0)"
cudDn = "(CUD < 0)"
smaUp = "(smaFast > smaSlow)"
smaDn = "(smaFast < smaSlow)"
closeAbvS = paste("(",symbol,".Close > smaSlow)",sep='')
closeBlwS = paste("(",symbol,".Close < smaSlow)",sep='')
closeAbvF = paste("(",symbol,".Close > smaFast)",sep='')
closeBlwF = paste("(",symbol,".Close < smaFast)",sep='')

# combine parts for entry/exit, long/short signal formulas

# goLong = cudUp
# exitLong = cudDn
# goShort = cudDn
# exitShort = cudUp

goLong = cudDn  # counter-trend madness
exitLong = cudUp
goShort = cudUp
exitShort = cudDn

# goLong = paste(cudUp,"&",closeAbvS,sep='')
# exitLong = paste(cudDn,"|",closeBlwS,sep='')
# goShort = paste(cudDn,"&",closeBlwS,sep='')
# exitShort = paste(cudUp,"|",closeAbvS,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwF,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvF,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwS,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvS,sep='')

initPortf(stratg, symbol, initDate=initDate)
initAcct(stratg, portfolios=stratg, initDate=initDate,
        initEq=initEq)
initOrders(portfolio=stratg, initDate=initDate)

strat = strategy(stratg)

strat = add.indicator(strategy=strat, name="SMA", label="smaFast",
                arguments=list(x=quote(Cl(mktdata)), n=fastPeriods))
strat = add.indicator(strategy=strat, name="SMA", label="smaSlow",
                arguments=list(x=quote(Cl(mktdata)), n=slowPeriods))
strat = add.indicator(strategy=strat, name="CUD", label="CUD",
                arguments=list(cl=get(symbol)[,4], n=cudPeriods))

strat = add.signal(strat, name="sigFormula", label="goLongSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = goLong, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="exitLongSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = exitLong, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="goShortSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = goShort, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="exitShortSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = exitShort, cross=TRUE))

strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
                arguments = list(sigcol="goLongSig", sigval=TRUE, 
                orderqty=orderSize, ordertype='market', orderside='long',
                osFUN=osMaxPos))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
                arguments = list(sigcol="exitLongSig", sigval=TRUE, 
                orderqty='all', ordertype='market', orderside='long'))
strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
                arguments = list(sigcol="goShortSig", sigval=TRUE, 
                orderqty=-orderSize, ordertype='market', orderside='short',
                osFUN=osMaxPos))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
                arguments = list(sigcol="exitShortSig", sigval=TRUE, 
                orderqty='all', ordertype='market', orderside='short'))

addPosLimit(stratg, symbol, timestamp=initDate, 
            maxpos=orderSize, minpos=-orderSize)

out = applyStrategy(strategy=strat, portfolios=stratg, prefer='Open')
updatePortf(Portfolio=stratg)
updateAcct(name=stratg)

# make plots
dateRange = paste(initDate,'::',endDate,sep='')
chart.Posn(Portfolio = stratg, Symbol = symbol, Dates=dateRange)
add_SMA(n=fastPeriods, on=1, col='blue')
add_SMA(n=slowPeriods, on=1, col='tan')
plot(add_TA(CUD(cl=get(symbol)[,4],n=cudPeriods)))

# write the results to files
ob = getOrderBook(stratg)
write.zoo(ob[1], quote=TRUE, 
        file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))
write.zoo(mktdata, quote=TRUE, 
    file=paste(stratg, "_",symbol, "_mktdata.csv", sep=''))
write.zoo(getTxns(stratg, symbol), quote=TRUE, 
        file = paste(stratg, "_", symbol, "_txns.csv", sep=''))

AMZN.US_Candlestick_15_m_BID_01.01.2013-12.01.2013.csv
<http://r.789695.n4.nabble.com/file/n4661594/AMZN.US_Candlestick_15_m_BID_01.01.2013-12.01.2013.csv>  



--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-newbie-sigFormula-example-tp4661594.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brian at braverock.com  Sun Mar 17 12:41:13 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 17 Mar 2013 06:41:13 -0500
Subject: [R-SIG-Finance] quantstrat newbie sigFormula example
In-Reply-To: <1363479644572-4661594.post@n4.nabble.com>
References: <1363479644572-4661594.post@n4.nabble.com>
Message-ID: <5145ABD9.9000306@braverock.com>

On 03/16/2013 07:20 PM, Rob Schmidt wrote:
> Hi All,
>
> I'm posting a small example of using signal formulas to help out other
> beginners that are getting started with quantstrat.  It also includes stuff
> copied from other examples such as the CUD custom indicator from
> timelyportfolio, reading a OHLC CSV file with intraday bars downloaded from
> Dukascopy, adding TA indicators to plots, and saving results to files.  I
> may have gone a bit off the deep end with the signal formulas.  I'm certain
> that there are smarter ways to do some of this.  I am also attaching a small
> CSV file to play with.
>
> Thanks in advance for comments, suggestions, and warnings.
>
> Rob Schmidt

Rob,

Thanks for doing this.  The community grows because people contribute.

First, I'd like to ask if I can adapt this and include it in the demos 
for the package.  We need a sigFormula demo.  I'd simplify it somewhat, 
likely using getSymbols and not saving things to files, but otherwise I 
think it is a good overall example in most respects.

Second, let's talk about how you could do signal checks faster, for your 
benefit later on.

sigFormula is seductive, since you can construct any formula at all.  It 
is also insanely slow, because we have to turn things back into a 
data.frame, and rely on a bunch of R-internals magic to evaluate the 
formula.

Because of that, for simple two-column comparisons, or for comparisons 
to some scalar variable, sigCrossover, sigThreshold, and sigComparison 
will be much faster.  Thousands of times faster.  For small amounts of 
data this may not matter, for large amounts of data, or things like 
parameter tests where you'll have thousands of trials, it does.

So, these:
cudUp = "(CUD > 0)"
cudDn = "(CUD < 0)"
smaUp = "(smaFast > smaSlow)"
smaDn = "(smaFast < smaSlow)"
closeAbvS = paste("(",symbol,".Close > smaSlow)",sep='')
closeBlwS = paste("(",symbol,".Close < smaSlow)",sep='')
closeAbvF = paste("(",symbol,".Close > smaFast)",sep='')
closeBlwF = paste("(",symbol,".Close < smaFast)",sep='')

would all be faster with sigThreshold, sigComparison, or sigCrossover 
(which calls sigComparison internally).

Lots faster.

These:

# goLong = paste(cudUp,"&",closeAbvS,sep='')
# exitLong = paste(cudDn,"|",closeBlwS,sep='')
# goShort = paste(cudDn,"&",closeBlwS,sep='')
# exitShort = paste(cudUp,"|",closeAbvS,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwF,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvF,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwS,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvS,sep='')

because of the presence of the & and | operators, and the more complex 
formula, would need to use sigFormula as written.  sigFormula is super 
convenient for these types of compound comparisons, and why I wrote it.

When you inevitably want to speed things up, you'll get faster results 
by combining multiple sigComparison, sigCrossover, and sigThreshold 
calls for your & clauses, because indicators and signals run in the 
order they are declared in the strategy, and can use the results of a 
previous one.

For the | operator, I can't think of a simple combination of faster 
signal functions that could work.

Thanks again,

Brian

-------------- next part --------------

# the frankenstein of signal formulas,  Rob Schmidt
# prices from online, or from a CSV file downloaded from dukascopy

# thanks to the people who made these great packages and
# thanks to all who made the examples from which I copied 

csvPath = '/home/rob/work/csvdata/dukascopy/'  #  these need to change
resultsPath = '/home/rob/work/R/quantstrat/'
setwd(resultsPath)

require(quantstrat)

try(rm("order_book.frank", pos=.strategy), silent=TRUE)
try(rm("account.frank", "portfolio.frank", pos=.blotter), silent=TRUE)

csvName = '' # assign an empty string to choose daily data from yahoo
# example file downloaded from dukascopy for evaluation
#csvName = 'AMZN.US_Candlestick_15_m_BID_01.01.2013-12.01.2013.csv'

stratg = "frank"  #  a creature from a collection of parts
symbol = "AMZN"

cudPeriods = 4
fastPeriods = 15
slowPeriods = 2*fastPeriods
initEq = 1.0e6
orderSize = 100

# CUD is the n-period sum of (up days = 1) and (down days = -1)
CUD = function(cl, n)
{   temp = runSum(ifelse(ROC(cl, 1, type="discrete") > 0, 1, -1), n)
    colnames(temp) = "CUD"
    temp
}

currency("USD")
stock(symbol, currency="USD", multiplier=1)

if(csvName == '')  #  get price data from yahoo online
{   initDate = '2011-07-01'
    endDate = '2012-01-01'
    getSymbols(symbol, from=initDate, to=endDate, adjust=TRUE)
} else   #   get price data from a CSV file
{   dukasFormat = '%d.%m.%Y %H:%M:%S'
     csvData = read.csv(paste(csvPath, csvName, sep=''), sep=',',
header=TRUE)
    # ignore empty trading periods, makes the plots prettier
    csvData = csvData[(csvData$High > csvData$Low),]

    #initDate = ''  # if empty string calculate from the start of the data
    initDate = '2013-01-05 00:00:00'    # else set init date 
    #endDate = ''   # if empty string calculate to the end of the data
    endDate = '2013-01-09 00:00:00'    # else set end date 
    # apply the user's end date if it is specified
    if(initDate != '') 
    {   initTime = as.POSIXct(strptime(initDate, '%Y-%m-%d %H:%M:%S'))
        csvData = csvData[(as.POSIXct(strptime(
                    csvData$Time, dukasFormat)) > initTime),]
    }
    if(endDate != '') 
    {   endTime = as.POSIXct(strptime(endDate, '%Y-%m-%d %H:%M:%S'))
        csvData = csvData[(as.POSIXct(strptime(
                    csvData$Time, dukasFormat)) < endTime),]
    }
    symb = as.xts(csvData[,2:6], 
        as.POSIXct(strptime(csvData[,1], dukasFormat)))
    colnames(symb) = c(paste(symbol,'.Open',sep=''),
                        paste(symbol,'.High',sep=''),
                        paste(symbol,'.Low',sep=''),
                        paste(symbol,'.Close',sep=''),
                        paste(symbol,'.Volume',sep=''))
    assign(symbol,symb)
    initDate = start(get(symbol))
    endDate = end(get(symbol))
}

# make some signal formula parts from indicators

cudUp = "(CUD > 0)"
cudDn = "(CUD < 0)"
smaUp = "(smaFast > smaSlow)"
smaDn = "(smaFast < smaSlow)"
closeAbvS = paste("(",symbol,".Close > smaSlow)",sep='')
closeBlwS = paste("(",symbol,".Close < smaSlow)",sep='')
closeAbvF = paste("(",symbol,".Close > smaFast)",sep='')
closeBlwF = paste("(",symbol,".Close < smaFast)",sep='')

# combine parts for entry/exit, long/short signal formulas

# goLong = cudUp
# exitLong = cudDn
# goShort = cudDn
# exitShort = cudUp

goLong = cudDn  # counter-trend madness
exitLong = cudUp
goShort = cudUp
exitShort = cudDn

# goLong = paste(cudUp,"&",closeAbvS,sep='')
# exitLong = paste(cudDn,"|",closeBlwS,sep='')
# goShort = paste(cudDn,"&",closeBlwS,sep='')
# exitShort = paste(cudUp,"|",closeAbvS,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwF,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvF,sep='')

# goLong = paste(smaUp,"&",closeAbvF,"&",cudUp,sep='')
# exitLong = paste(smaDn,"|",closeBlwS,sep='')
# goShort = paste(smaDn,"&",closeBlwF,"&",cudDn,sep='')
# exitShort = paste(smaUp,"|",closeAbvS,sep='')

initPortf(stratg, symbol, initDate=initDate)
initAcct(stratg, portfolios=stratg, initDate=initDate,
        initEq=initEq)
initOrders(portfolio=stratg, initDate=initDate)

strat = strategy(stratg)

strat = add.indicator(strategy=strat, name="SMA", label="smaFast",
                arguments=list(x=quote(Cl(mktdata)), n=fastPeriods))
strat = add.indicator(strategy=strat, name="SMA", label="smaSlow",
                arguments=list(x=quote(Cl(mktdata)), n=slowPeriods))
strat = add.indicator(strategy=strat, name="CUD", label="CUD",
                arguments=list(cl=get(symbol)[,4], n=cudPeriods))

strat = add.signal(strat, name="sigFormula", label="goLongSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = goLong, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="exitLongSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = exitLong, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="goShortSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = goShort, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="exitShortSig",
            arguments = list(columns=c("smaFast","smaSlow","CUD"),
            formula = exitShort, cross=TRUE))

strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
                arguments = list(sigcol="goLongSig", sigval=TRUE, 
                orderqty=orderSize, ordertype='market', orderside='long',
                osFUN=osMaxPos))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
                arguments = list(sigcol="exitLongSig", sigval=TRUE, 
                orderqty='all', ordertype='market', orderside='long'))
strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
                arguments = list(sigcol="goShortSig", sigval=TRUE, 
                orderqty=-orderSize, ordertype='market', orderside='short',
                osFUN=osMaxPos))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
                arguments = list(sigcol="exitShortSig", sigval=TRUE, 
                orderqty='all', ordertype='market', orderside='short'))

addPosLimit(stratg, symbol, timestamp=initDate, 
            maxpos=orderSize, minpos=-orderSize)

out = applyStrategy(strategy=strat, portfolios=stratg, prefer='Open')
updatePortf(Portfolio=stratg)
updateAcct(name=stratg)

# make plots
dateRange = paste(initDate,'::',endDate,sep='')
chart.Posn(Portfolio = stratg, Symbol = symbol, Dates=dateRange)
add_SMA(n=fastPeriods, on=1, col='blue')
add_SMA(n=slowPeriods, on=1, col='tan')
plot(add_TA(CUD(cl=get(symbol)[,4],n=cudPeriods)))

# write the results to files
ob = getOrderBook(stratg)
write.zoo(ob[1], quote=TRUE, 
        file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))
write.zoo(mktdata, quote=TRUE, 
    file=paste(stratg, "_",symbol, "_mktdata.csv", sep=''))
write.zoo(getTxns(stratg, symbol), quote=TRUE, 
        file = paste(stratg, "_", symbol, "_txns.csv", sep=''))

From roschm at ymail.com  Sun Mar 17 13:49:32 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Sun, 17 Mar 2013 05:49:32 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat newbie sigFormula example
In-Reply-To: <5145ABD9.9000306@braverock.com>
References: <1363479644572-4661594.post@n4.nabble.com>
	<5145ABD9.9000306@braverock.com>
Message-ID: <1363524572671-4661611.post@n4.nabble.com>

Hi Brian,

Yes, please feel free to modify this file in any way and use it for any
purpose.  I am honored to think that my little contribution may add a bit to
all the wonderful work that you guys have done.  Also, thank you for taking
the time to explain how this all works and what is going on behind the
scenes.  I was getting the feeling that there was a good reason for doing it
the way that you do and that these "simplified" methods had to have a
drawback.

Best regards,

Rob



--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-newbie-sigFormula-example-tp4661594p4661611.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From edd at debian.org  Sun Mar 17 20:46:42 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 17 Mar 2013 14:46:42 -0500
Subject: [R-SIG-Finance] R/Finance 2013 Agenda posted
Message-ID: <20806.7586.587316.775168@max.nulle.part>


The draft program of R/Finance 2013 is now available at

    http://www.RinFinance.com/agenda/

We anticipate that registration will be available 'in due course' and will
announce it too.

For the committee,   Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From roschm at ymail.com  Mon Mar 18 14:17:07 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Mon, 18 Mar 2013 06:17:07 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat newbie sigFormula example
In-Reply-To: <1363524572671-4661611.post@n4.nabble.com>
References: <1363479644572-4661594.post@n4.nabble.com>
	<5145ABD9.9000306@braverock.com>
	<1363524572671-4661611.post@n4.nabble.com>
Message-ID: <1363612627835-4661664.post@n4.nabble.com>

Oops, bug fix.  The column labels in the saved orderbook csv file are
missing.

 write.zoo(ob[1], quote=TRUE, 
         file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))

should become

write.zoo(ob[1], quote=TRUE, col.names=TRUE,
         file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))

I couldn't figure out how to get inside to the ob$frank$AMZN object.

write.zoo(ob$frank$AMZN, quote=TRUE,
         file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))

The last version has the short labels without strategy and symbol prepended.




--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-newbie-sigFormula-example-tp4661594p4661664.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From roschm at ymail.com  Mon Mar 18 15:08:12 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Mon, 18 Mar 2013 07:08:12 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat newbie sigFormula example
In-Reply-To: <1363612627835-4661664.post@n4.nabble.com>
References: <1363479644572-4661594.post@n4.nabble.com>
	<5145ABD9.9000306@braverock.com>
	<1363524572671-4661611.post@n4.nabble.com>
	<1363612627835-4661664.post@n4.nabble.com>
Message-ID: <1363615692842-4661674.post@n4.nabble.com>

Doh!  Answer to newbie problem above:

write.zoo(ob[[1]][[1]], quote=TRUE,
          file = paste(stratg, "_", symbol, "_orderbook.csv",sep=''))

This gives short labels.




--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-newbie-sigFormula-example-tp4661594p4661674.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From mcmarteau at yahoo.com  Tue Mar 19 11:19:03 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Tue, 19 Mar 2013 10:19:03 +0000
Subject: [R-SIG-Finance] quantstrat applyStrategy error
Message-ID: <e6752f03-59b0-4552-8ae9-eee11411355a@email.android.com>





I?m going through a few quantstrat examples, e.g.
http://www.r-bloggers.com/low-volatility-with-r/

and I consistently get an error on the  applyStrategy function
as per example:  out<-try(applyStrategy(strategy=stratRSRANK , portfolios=portfolio.st))

the error is the following

Error in as.POSIXlt.character(x, tz, ...) :
  character string is not in a standard unambiguous format

> traceback()
10: stop("character string is not in a standard unambiguous format")
9: as.POSIXlt.character(x, tz, ...)
8: as.POSIXlt(x, tz, ...)
7: as.POSIXct(as.POSIXlt(x, tz, ...), tz, ...)
6: as.POSIXct.default(TxnDate)
5: as.POSIXct(TxnDate)
4: addTxn(Portfolio = portfolio, Symbol = symbol, TxnDate = txntime,
       TxnQty = orderQty, TxnPrice = txnprice, ... = ..., TxnFees = txnfees)
3: ruleOrderProc(portfolio = portfolio, symbol = symbol, mktdata = mktdata,
       timestamp = timestamp, ...)
2: applyRules(portfolio = portfolio, symbol = symbol, strategy = strategy,
       mktdata = mktdata, Dates = NULL, indicators = sret$indicators,
       signals = sret$signals, parameters = parameters, ..., path.dep = TRUE)
1: applyStrategy(strategy = stratRSRANK, portfolios = portfolio.st)


> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United Kingdom.1252  LC_CTYPE=English_United Kingdom.1252
[3] LC_MONETARY=English_United Kingdom.1252 LC_NUMERIC=C
[5] LC_TIME=English_United Kingdom.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] PerformanceAnalytics_1.1.0 quantstrat_0.7.7           foreach_1.4.0
 [4] blotter_0.8.12             FinancialInstrument_1.0.3  quantmod_0.4-0
 [7] Defaults_1.1-1             TTR_0.21-1                 xts_0.9-3
[10] zoo_1.7-7

loaded via a namespace (and not attached):
[1] codetools_0.2-8 grid_2.15.1     iterators_1.0.6 lattice_0.20-10 tools_2.15.


From roschm at ymail.com  Tue Mar 19 13:43:11 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Tue, 19 Mar 2013 05:43:11 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat applyStrategy error
In-Reply-To: <e6752f03-59b0-4552-8ae9-eee11411355a@email.android.com>
References: <e6752f03-59b0-4552-8ae9-eee11411355a@email.android.com>
Message-ID: <1363696991311-4661809.post@n4.nabble.com>

Hi Marteau,

The good news is that I copied and pasted from that great site and it worked
for me.  The bad news is that my sessionInfo is a little different.  Maybe
the issue is having R compile the packages from source?  This is where
you'll end up if that's the case:

http://stackoverflow.com/questions/11105131/cannot-install-r-forge-package-using-install-packages

Best regards,

Rob

sessionInfo()
R version 2.15.3 (2013-03-01)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8          LC_NUMERIC=C                 
 [3] LC_TIME=en_US.UTF-8           LC_COLLATE=en_US.UTF-8       
 [5] LC_MONETARY=en_US.UTF-8       LC_MESSAGES=en_US.UTF-8      
 [7] LC_PAPER=en_US.UTF-8          LC_NAME=en_US.UTF-8          
 [9] LC_ADDRESS=en_US.UTF-8        LC_TELEPHONE=en_US.UTF-8     
[11] LC_MEASUREMENT=en_US.UTF-8    LC_IDENTIFICATION=en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] PerformanceAnalytics_1.1.0 quantstrat_0.7.7          
 [3] foreach_1.4.0              blotter_0.8.13            
 [5] FinancialInstrument_1.1    quantmod_0.4-0            
 [7] Defaults_1.1-1             TTR_0.21-1                
 [9] xts_0.9-3                  zoo_1.7-9                 
[11] rkward_0.5.6              

loaded via a namespace (and not attached):
[1] codetools_0.2-8 grid_2.15.3     iterators_1.0.6 lattice_0.20-13
[5] tools_2.15.3   




--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-applyStrategy-error-tp4661783p4661809.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brian at braverock.com  Tue Mar 19 13:47:37 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 19 Mar 2013 07:47:37 -0500
Subject: [R-SIG-Finance] quantstrat applyStrategy error
In-Reply-To: <e6752f03-59b0-4552-8ae9-eee11411355a@email.android.com>
References: <e6752f03-59b0-4552-8ae9-eee11411355a@email.android.com>
Message-ID: <51485E69.3080601@braverock.com>

On 03/19/2013 05:19 AM, Marteau wrote:
> I?m going through a few quantstrat examples, e.g.
> http://www.r-bloggers.com/low-volatility-with-r/
>
> and I consistently get an error on the  applyStrategy function
> as per example:  out<-try(applyStrategy(strategy=stratRSRANK , portfolios=portfolio.st))
>
> the error is the following
>
> Error in as.POSIXlt.character(x, tz, ...) :
>    character string is not in a standard unambiguous format

I can't replicate your error either.

The code from the blog post that you mention works for me.

My sessionInfo() is a bit different than yours.

The only potentially relevant difference is:

  zoo_1.7-7

in your sessionInfo and

  zoo_1.7-9

in mine.  I'm also running R version 2.15.3 on this machine.

I'm also running a newer quantstrat, most changes innocuous 
documentation changes and not likely to have anything to do with this 
problem, but I'll commit them to R-Forge to cause a new build.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From rossbennett34 at gmail.com  Tue Mar 19 14:23:18 2013
From: rossbennett34 at gmail.com (Ross Bennett)
Date: Tue, 19 Mar 2013 08:23:18 -0500
Subject: [R-SIG-Finance] quantstrat applyStrategy error
Message-ID: <CAEESW=Ukps0KEHneuYFNQ2oue7tQyFXf0Dr8wfHLdoKKmr8H5A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130319/e3e1e11f/attachment.pl>

From isaacm300 at gmail.com  Tue Mar 19 14:50:37 2013
From: isaacm300 at gmail.com (Iaa Maa)
Date: Tue, 19 Mar 2013 06:50:37 -0700
Subject: [R-SIG-Finance] rmgarch package
Message-ID: <CALBLFAXqBpnUb0x_TbB8h_w7jVCvJNGFvCr+XWRWHZ-yoaKjpA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130319/164265c9/attachment.pl>

From alexios at 4dscape.com  Tue Mar 19 15:00:43 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 19 Mar 2013 14:00:43 +0000
Subject: [R-SIG-Finance] rmgarch package
In-Reply-To: <CALBLFAXqBpnUb0x_TbB8h_w7jVCvJNGFvCr+XWRWHZ-yoaKjpA@mail.gmail.com>
References: <CALBLFAXqBpnUb0x_TbB8h_w7jVCvJNGFvCr+XWRWHZ-yoaKjpA@mail.gmail.com>
Message-ID: <51486F8B.8080104@4dscape.com>

rugarch and rmgarch are no longer hosted on r-forge (they have not been 
for a few months now).
Download and install from:
code.google.com/p/rmgarch/
code.google.com/p/rugarch/

-Alexios

On 19/03/2013 13:50, Iaa Maa wrote:
> Hi all,
>
> Any reason why rmgarch doesn't install?
>
>> * install*<http://r.789695.n4.nabble.com/quot-Multivariate-Garch-quot-Package-in-r-td4644495.html#>
> *.packages("rmgarch", repos="http://R-Forge.R-project.org") *
>
> *Installing package(s) into ?C:/Users/Isaac/Documents/R/win-library/2.15?
> (as ?lib? is unspecified)
> Warning message: package ?rmgarch? is not available (for R version 2.15.3) *
>
>
> I've tried with 2.15.1 and 2.15.2 as well.
>
>
>
> Isaac
>
> 	[[alternative HTML version deleted]]
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From mcmarteau at yahoo.com  Tue Mar 19 16:09:47 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Tue, 19 Mar 2013 15:09:47 +0000
Subject: [R-SIG-Finance] quantstrat applyStrategy error
In-Reply-To: <CAEESW=Ukps0KEHneuYFNQ2oue7tQyFXf0Dr8wfHLdoKKmr8H5A@mail.gmail.com>
References: <CAEESW=Ukps0KEHneuYFNQ2oue7tQyFXf0Dr8wfHLdoKKmr8H5A@mail.gmail.com>
Message-ID: <46a98041-8751-48cd-95c1-6942a47fffe0@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130319/b61d9cbb/attachment.pl>

From matti.zemack at gmail.com  Tue Mar 19 22:47:44 2013
From: matti.zemack at gmail.com (Matti Zemack)
Date: Tue, 19 Mar 2013 22:47:44 +0100
Subject: [R-SIG-Finance] ibrokers - problems retrieving Indices/ETFs
Message-ID: <81FAC586-D076-44E5-9E70-468AF42C6529@gmail.com>

Hi all,


First of all; Thanks Jeff for the ibrokers package. It's amazing.

My simple first code looks like Jeffs demo;

library(IBrokers)
tws <- twsConnect()
spy.csv <- file("SPY.csv", open="w")
reqMktData(tws, twsEquity("SPY", exch="ARCA"), eventWrapper=eWrapper.MktData.CSV(1), file=spy.csv)

Working perfectly fine.

Now I try to read an Index/ETF from ibrokers to file. I get "2 1 300 Can't find EId with tickerId:1"
reqMktData(tws, ttwsEquity("SPX", exch="CBOE"), eventWrapper=eWrapper.MktData.CSV(1), file=spy.csv)
I had this problem also previously for the first request, and then simply subscribing to correct data feed at IB helped me out. Newbie fault.
This time I suspect I don't receive data is because twsEquity/twsSTK isn't made for Indices/ETFs. If this is so; could someone please nudge me some pointers to where in iBrokers package I could start trying to fix this.


Thanks and Regards,
Matti Zemack

-----
Matti Zemack, Broadcast Technology, Stockholm, Sweden
matti.zemack at gmail.com


From es at enricoschumann.net  Wed Mar 20 08:10:35 2013
From: es at enricoschumann.net (Enrico Schumann)
Date: Wed, 20 Mar 2013 08:10:35 +0100
Subject: [R-SIG-Finance] ibrokers - problems retrieving Indices/ETFs
In-Reply-To: <81FAC586-D076-44E5-9E70-468AF42C6529@gmail.com> (Matti Zemack's
	message of "Tue, 19 Mar 2013 22:47:44 +0100")
References: <81FAC586-D076-44E5-9E70-468AF42C6529@gmail.com>
Message-ID: <871ubamtqs.fsf@enricoschumann.net>


Hi Matti,

On Tue, 19 Mar 2013, Matti Zemack <matti.zemack at gmail.com> writes:

> Hi all,
>
>
> First of all; Thanks Jeff for the ibrokers package. It's amazing.
>
> My simple first code looks like Jeffs demo;
>
> library(IBrokers)
> tws <- twsConnect()
> spy.csv <- file("SPY.csv", open="w")
> reqMktData(tws, twsEquity("SPY", exch="ARCA"),
> eventWrapper=eWrapper.MktData.CSV(1), file=spy.csv)
>
> Working perfectly fine.
>
> Now I try to read an Index/ETF from ibrokers to file. I get "2 1 300
> Can't find EId with tickerId:1"
> reqMktData(tws, ttwsEquity("SPX", exch="CBOE"),
> eventWrapper=eWrapper.MktData.CSV(1), file=spy.csv)
> I had this problem also previously for the first request, and then
> simply subscribing to correct data feed at IB helped me out. Newbie
> fault.
> This time I suspect I don't receive data is because twsEquity/twsSTK
> isn't made for Indices/ETFs. If this is so; could someone please nudge
> me some pointers to where in iBrokers package I could start trying to
> fix this.
>

did you really write "ttwsEquity"? Perhaps try ?twsContract (untested):

myCon <- twsContract(local = "SPX", sectype = "IND",
                     exch = "CBOE", currency = "USD",
                     include_expired = 1,
                     conId = "", symbol = "", primary = "", expiry = "",
                     strike = "", right = "", multiplier = "",
                     combo_legs_desc = "",
                     comboleg = "", secIdType = "", secId = "")



regards,
Enrico

>
> Thanks and Regards,
> Matti Zemack
>
> -----
> Matti Zemack, Broadcast Technology, Stockholm, Sweden
> matti.zemack at gmail.com
>

-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From faiube at gmail.com  Wed Mar 20 14:53:38 2013
From: faiube at gmail.com (Fernando Aiube)
Date: Wed, 20 Mar 2013 10:53:38 -0300
Subject: [R-SIG-Finance] a trivial question on rugarch package
Message-ID: <CAFWfb=HTP2h1E8GLZ4i34z=oZyWAxqdORQ8kj8Mu3Wre2uiUsA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130320/74880fc3/attachment.pl>

From alexios at 4dscape.com  Wed Mar 20 15:07:40 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Wed, 20 Mar 2013 14:07:40 +0000
Subject: [R-SIG-Finance] a trivial question on rugarch package
In-Reply-To: <CAFWfb=HTP2h1E8GLZ4i34z=oZyWAxqdORQ8kj8Mu3Wre2uiUsA@mail.gmail.com>
References: <CAFWfb=HTP2h1E8GLZ4i34z=oZyWAxqdORQ8kj8Mu3Wre2uiUsA@mail.gmail.com>
Message-ID: <5149C2AC.5070409@4dscape.com>

Fernando,

I already suggested in my reply to the email which you sent me directly 
to update to the latest version from google code. Since I do not see the 
loading of xts in your results I can only suppose you have not followed 
my suggestion.

Update rugarch to the latest version, re-run your code, and if you
continue to have problems report the results of:
'sessionInfo()'


-Alexios

On 20/03/2013 13:53, Fernando Aiube wrote:
> Please,
>
> I am runing the following code
>
>
> library(rugarch)
> spec = ugarchspec()
> data(sp500ret)
> fit = ugarchfit(spec = spec, data = sp500ret)
> show(fit)
>
> And I am getting the answer
>
>
>> library(rugarch)Loading required package: RcppLoading required package: RcppArmadilloLoading required package: parallelLoading required package: numDerivLoading required package: chronLoading required package: RsolnpLoading required package: truncnormPackage Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
>
> Conditional Variance Dynamics 	
> -----------------------------------
> GARCH Model	: sGARCH(1,1)
> Mean Model	: ARFIMA(1,0,1)
> Distribution	: norm
>
> Convergence Problem:
> Solver Message:
>
> =============================================
> Please anyone can help me with this issue?
> The R version is 2.15.3. All packages were updated.
>
> Best
>
> Fernando
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From lisas at salford-systems.com  Wed Mar 20 21:02:41 2013
From: lisas at salford-systems.com (Lisa Solomon)
Date: Wed, 20 Mar 2013 15:02:41 -0500
Subject: [R-SIG-Finance] Hands-on Webinar: Advances in Regression: Modern
 Ensemble and Data Mining Approaches (no charge)
Message-ID: <2732C804E2DBB04AA90A678D76FAF2CC19BD3D6694@DFW1MBX02.mex07a.mlsrvr.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130320/b7d1a4f1/attachment.pl>

From daniel.cegielka at gmail.com  Wed Mar 20 22:03:38 2013
From: daniel.cegielka at gmail.com (=?ISO-8859-2?Q?Daniel_Cegie=B3ka?=)
Date: Wed, 20 Mar 2013 22:03:38 +0100
Subject: [R-SIG-Finance] Hands-on Webinar: Advances in Regression:
 Modern Ensemble and Data Mining Approaches (no charge)
In-Reply-To: <2732C804E2DBB04AA90A678D76FAF2CC19BD3D6694@DFW1MBX02.mex07a.mlsrvr.com>
References: <2732C804E2DBB04AA90A678D76FAF2CC19BD3D6694@DFW1MBX02.mex07a.mlsrvr.com>
Message-ID: <CAPLrYESYO7ePUQNQWeMGkrtR541N7F1t=_Y06Ya8gt6R6nZDoA@mail.gmail.com>

Hi Lisa,
Would you finally stop spamming this list? Does your products have
something to do with R?

thx,
Daniel


From edd at debian.org  Wed Mar 20 22:51:04 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 20 Mar 2013 16:51:04 -0500
Subject: [R-SIG-Finance] [R-sig-hpc] Hands-on Webinar Series (no charge)
 The Evolution of Regression from Classical Linear Regression to Modern
 Ensembles
In-Reply-To: <20798.15023.509414.455335@max.nulle.part>
References: <206641167.7783.1363032414190.JavaMail.help@alum.mit.edu>
	<20798.15023.509414.455335@max.nulle.part>
Message-ID: <20810.12104.757682.945490@max.nulle.part>


On 11 March 2013 at 15:12, Dirk Eddelbuettel wrote:
| 
| Lisa,
| 
| On 11 March 2013 at 16:06, Lisa Solomon wrote:
| | Maybe you missed Part 1 of "The Evolution of Regression Modeling from Classical Linear Regression to Modern Ensembles" webinar series, but you can still join for Parts 2, 3, & 4
| 
| Please refrain from spamming multiple R lists.  
| 
| You already blasted this on February 7 _and_ February 26.  We really did not
| another round.  Please stop this.
| 
| Dirk,  as listmaster for r-sig-finance and r-sig-hpc

After yet another abuse, Lisa has now been unsubscribed from both lists I looked after.

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From aiube at puc-rio.br  Thu Mar 21 01:16:33 2013
From: aiube at puc-rio.br (Fernando Aiube)
Date: Wed, 20 Mar 2013 21:16:33 -0300
Subject: [R-SIG-Finance] rugarch problem
Message-ID: <CAFWfb=FH=0_8SCJu35BdtMw=c7PQaNCcHD7g4fa+_B12SWEbog@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130320/f96b2598/attachment.pl>

From alexios at 4dscape.com  Thu Mar 21 01:32:36 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Thu, 21 Mar 2013 00:32:36 +0000
Subject: [R-SIG-Finance] rugarch problem
In-Reply-To: <CAFWfb=FH=0_8SCJu35BdtMw=c7PQaNCcHD7g4fa+_B12SWEbog@mail.gmail.com>
References: <CAFWfb=FH=0_8SCJu35BdtMw=c7PQaNCcHD7g4fa+_B12SWEbog@mail.gmail.com>
Message-ID: <F67CAC27-0DC6-401B-BD8D-2F486FFE7BB4@4dscape.com>

The session info indicates that you have NOT installed the latest version. If you don't know how to install a package manually there are plenty of helpful resources in the general R-help list and manuals.

-Alexios

On Mar 21, 2013, at 0:16, Fernando Aiube <aiube at puc-rio.br> wrote:

> Please,
> 
> Again running the code, the problem is the same using the latest version.
> 
> 
> library(rugarch)
> spec = ugarchspec()
> data(sp500ret)
> fit = ugarchfit(spec = spec, data = sp500ret)
> show(fit)
> 
> The answer is
> 
>> library(rugarch)Loading required package: RcppLoading required package: RcppArmadilloLoading required package: parallelLoading required package: numDerivLoading required package: chronLoading required package: RsolnpLoading required package: truncnormPackage Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
> 
> Conditional Variance Dynamics    
> -----------------------------------
> GARCH Model    : sGARCH(1,1)
> Mean Model    : ARFIMA(1,0,1)
> Distribution    : norm
> 
> Convergence Problem:
> Solver Message:
>> sessionInfo()R version 2.15.3 (2013-03-01)
> Platform: i386-w64-mingw32/i386 (32-bit)
> 
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
> 
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets
> [7] methods   base
> 
> other attached packages:
> [1] rugarch_1.0-16          Rsolnp_1.14
> [3] truncnorm_1.0-6         chron_2.3-43
> [5] numDeriv_2012.9-1       RcppArmadillo_0.3.800.1
> [7] Rcpp_0.10.2
> 
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
> 
> ==========================================================================
> 
> And using another computer the problem is the same.
> Can anyone help me?
> 
> Thanks for your patience. Best
> 
> Fernando Aiube
> 
> http://www.blogdolivro-aiube.blogspot.com/<http://www.ind.puc-rio.br/pagina_professores.aspx?id=faiube>
> 
> 
> ---------------------------------------------------------------
> Pontif?cia Universidade Cat?lica do Rio de Janeiro
> Departamento de Engenharia Industrial
> Rua Marques de S?o Vicente, 225
> 22453-900 - G?vea Rio de Janeiro - RJ
> Telefones: (5521) 3527-1284, 3527-1285
> Fax: (5521) 3527-1288
> 
> http://www.ind.puc-rio.br/pagina_professores.aspx?id=faiube
> 
> <http://www.ind.puc-rio.br/pagina_professores.aspx?id=faiube>
> 
> email: aiube at puc-rio.br
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From faiube at gmail.com  Thu Mar 21 02:47:20 2013
From: faiube at gmail.com (Fernando Aiube)
Date: Wed, 20 Mar 2013 22:47:20 -0300
Subject: [R-SIG-Finance] rugarch problem
Message-ID: <CAFWfb=F7875imuTkabhSUhdyU=jypOxsGAeX2Vow_iP0QAeUUQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130320/9c88a846/attachment.pl>

From alexios at 4dscape.com  Thu Mar 21 11:22:58 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 21 Mar 2013 10:22:58 +0000
Subject: [R-SIG-Finance] rugarch problem
In-Reply-To: <CAFWfb=F7875imuTkabhSUhdyU=jypOxsGAeX2Vow_iP0QAeUUQ@mail.gmail.com>
References: <CAFWfb=F7875imuTkabhSUhdyU=jypOxsGAeX2Vow_iP0QAeUUQ@mail.gmail.com>
Message-ID: <514ADF82.4080309@4dscape.com>

Sorry, I just can't replicate this...I've checked your sessionInfo() 
results and it now appears correct. Please run and report:

1. head(as.xts(sp500ret))
2. fit = ugarchfit(spec, data = as.numeric(sp500ret[,1]), 
solver.control=list(trace=1))

-Alexios

On 21/03/2013 01:47, Fernando Aiube wrote:
> Alexios,
>
> Sorry for bothering you. I downloaded the version from the link you sent.
> Then installed manually and found the results below. Thanks once more.
> Fernando
>
>
>
>
>> install.packages("~/Downloads/rugarch_1.01-6.zip", repos = NULL)Installing package(s) into ?C:/Arquivos de programas/R/R-2.15.3/library?
> (as ?lib? is unspecified)package ?rugarch? successfully unpacked and
> MD5 sums checked> library(rugarch)Loading required package:
> RcppLoading required package: RcppArmadilloLoading required package:
> parallelLoading required package: zoo
> Attaching package: ?zoo?
> The following object(s) are masked from ?package:base?:
>
>      as.Date, as.Date.numeric
> Loading required package: xtsLoading required package: numDerivLoading
> required package: RsolnpLoading required package: truncnormPackage
> Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
>
> Conditional Variance Dynamics 	
> -----------------------------------
> GARCH Model	: sGARCH(1,1)
> Mean Model	: ARFIMA(1,0,1)
> Distribution	: norm
>
> Convergence Problem:
> Solver Message:
>> sessionInfo()R version 2.15.3 (2013-03-01)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets
> [7] methods   base
>
> other attached packages:
> [1] rugarch_1.01-6          Rsolnp_1.14
> [3] truncnorm_1.0-6         numDeriv_2012.9-1
> [5] xts_0.9-3               zoo_1.7-9
> [7] RcppArmadillo_0.3.800.1 Rcpp_0.10.2
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1     lattice_0.20-14 tools_2.15.1
>
>> install.packages("~/Downloads/rugarch_1.01-6.zip", repos = NULL)Installing package(s) into ?C:/Arquivos de programas/R/R-2.15.3/library?
> (as ?lib? is unspecified)package ?rugarch? successfully unpacked and
> MD5 sums checked> library(rugarch)Loading required package:
> RcppLoading required package: RcppArmadilloLoading required package:
> parallelLoading required package: zoo
> Attaching package: ?zoo?
> The following object(s) are masked from ?package:base?:
>
>      as.Date, as.Date.numeric
> Loading required package: xtsLoading required package: numDerivLoading
> required package: RsolnpLoading required package: truncnormPackage
> Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
>
> Conditional Variance Dynamics 	
> -----------------------------------
> GARCH Model	: sGARCH(1,1)
> Mean Model	: ARFIMA(1,0,1)
> Distribution	: norm
>
> Convergence Problem:
> Solver Message:
>> sessionInfo()R version 2.15.3 (2013-03-01)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets
> [7] methods   base
>
> other attached packages:
> [1] rugarch_1.01-6          Rsolnp_1.14
> [3] truncnorm_1.0-6         numDeriv_2012.9-1
> [5] xts_0.9-3               zoo_1.7-9
> [7] RcppArmadillo_0.3.800.1 Rcpp_0.10.2
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1     lattice_0.20-14 tools_2.15.1
>
>
>
>
>
>
>
>> install.packages("~/Downloads/rugarch_1.01-6.zip", repos = NULL)Installing package(s) into ?C:/Arquivos de programas/R/R-2.15.3/library?
> (as ?lib? is unspecified)package ?rugarch? successfully unpacked and
> MD5 sums checked> library(rugarch)Loading required package:
> RcppLoading required package: RcppArmadilloLoading required package:
> parallelLoading required package: zoo
> Attaching package: ?zoo?
> The following object(s) are masked from ?package:base?:
>
>      as.Date, as.Date.numeric
> Loading required package: xtsLoading required package: numDerivLoading
> required package: RsolnpLoading required package: truncnormPackage
> Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
>
> Conditional Variance Dynamics 	
> -----------------------------------
> GARCH Model	: sGARCH(1,1)
> Mean Model	: ARFIMA(1,0,1)
> Distribution	: norm
>
> Convergence Problem:
> Solver Message:
>> sessionInfo()R version 2.15.3 (2013-03-01)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets
> [7] methods   base
>
> other attached packages:
> [1] rugarch_1.01-6          Rsolnp_1.14
> [3] truncnorm_1.0-6         numDeriv_2012.9-1
> [5] xts_0.9-3               zoo_1.7-9
> [7] RcppArmadillo_0.3.800.1 Rcpp_0.10.2
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1     lattice_0.20-14 tools_2.15.1
>
>> install.packages("~/Downloads/rugarch_1.01-6.zip", repos = NULL)Installing package(s) into ?C:/Arquivos de programas/R/R-2.15.3/library?
> (as ?lib? is unspecified)package ?rugarch? successfully unpacked and
> MD5 sums checked> library(rugarch)Loading required package:
> RcppLoading required package: RcppArmadilloLoading required package:
> parallelLoading required package: zoo
> Attaching package: ?zoo?
> The following object(s) are masked from ?package:base?:
>
>      as.Date, as.Date.numeric
> Loading required package: xtsLoading required package: numDerivLoading
> required package: RsolnpLoading required package: truncnormPackage
> Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>> spec = ugarchspec()> data(sp500ret)> fit = ugarchfit(spec = spec, data = sp500ret)Warning message:In .sgarchfit(spec = spec, data = data, out.sample = out.sample,  :
> ugarchfit-->warning: solver failer to converge.> show(fit)
> *---------------------------------*
> *          GARCH Model Fit        *
> *---------------------------------*
>
> Conditional Variance Dynamics 	
> -----------------------------------
> GARCH Model	: sGARCH(1,1)
> Mean Model	: ARFIMA(1,0,1)
> Distribution	: norm
>
> Convergence Problem:
> Solver Message:
>> sessionInfo()R version 2.15.3 (2013-03-01)
> Platform: i386-w64-mingw32/i386 (32-bit)
>
> locale:
> [1] LC_COLLATE=English_United States.1252
> [2] LC_CTYPE=English_United States.1252
> [3] LC_MONETARY=English_United States.1252
> [4] LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets
> [7] methods   base
>
> other attached packages:
> [1] rugarch_1.01-6          Rsolnp_1.14
> [3] truncnorm_1.0-6         numDeriv_2012.9-1
> [5] xts_0.9-3               zoo_1.7-9
> [7] RcppArmadillo_0.3.800.1 Rcpp_0.10.2
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1     lattice_0.20-14 tools_2.15.1
>
> 	[[alternative HTML version deleted]]
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From rory.winston at gmail.com  Thu Mar 21 12:47:20 2013
From: rory.winston at gmail.com (Rory Winston)
Date: Thu, 21 Mar 2013 22:47:20 +1100
Subject: [R-SIG-Finance] Hands-on Webinar: Advances in Regression:
	Modern Ensemble and Data Mining Approaches (no charge)
In-Reply-To: <mailman.3.1363863601.9408.r-sig-finance@r-project.org>
References: <mailman.3.1363863601.9408.r-sig-finance@r-project.org>
Message-ID: <94B2CB5B-8BB7-433C-8FA1-1D2C6665BCF3@gmail.com>

>After yet another abuse, Lisa has now been unsubscribed from both lists I looked after.
>
>Dirk

Thank you Dirk!

That was becoming incredibly irritating...

Appreciate the work you do keeping the signal-to-noise ratio high on the lists.

Cheers
-- Rory

From matti.zemack at gmail.com  Thu Mar 21 18:31:01 2013
From: matti.zemack at gmail.com (Matti Zemack)
Date: Thu, 21 Mar 2013 18:31:01 +0100
Subject: [R-SIG-Finance] ibrokers - problems retrieving Indices/ETFs
In-Reply-To: <871ubamtqs.fsf@enricoschumann.net>
References: <81FAC586-D076-44E5-9E70-468AF42C6529@gmail.com>
	<871ubamtqs.fsf@enricoschumann.net>
Message-ID: <9532626B-7541-415E-AC7D-F4CEBEEFA8D5@gmail.com>

Dear geniuses,

Thanks ALL for all suggestions.

The below from Enrico worked perfectly well to retrieve indices;
library(IBrokers)
tws <- twsConnect()
spx.csv <- file("SPX.csv", open="w")
reqMktData(tws, twsContract(local = "SPX", sectype = "IND", exch = "CBOE", currency = "USD", include_expired = 1, conId = "", symbol = "", primary = "", expiry = "", strike = "", right = "", multiplier = "", combo_legs_desc = "", comboleg = "", secIdType = "", secId = ""), eventWrapper=eWrapper.MktData.CSV(1), file=spx.csv)
close(spx.csv)
close(tws)

Thanks also Aliona for the suggestion of using SMART instead of CBOE. Will try it for other iBrokers uses shortly, save me from looking up all the markets...

Love this community, also open for newbies. :-)

Rgds,
Matti Zemack,
Stockholm, Sweden



On Mar 20, 2013, at 8:10 AM, Enrico Schumann <es at enricoschumann.net> wrote:
> 
> myCon <- twsContract(local = "SPX", sectype = "IND",
>                     exch = "CBOE", currency = "USD",
>                     include_expired = 1,
>                     conId = "", symbol = "", primary = "", expiry = "",
>                     strike = "", right = "", multiplier = "",
>                     combo_legs_desc = "",
>                     comboleg = "", secIdType = "", secId = "")
> 


From mcmarteau at yahoo.com  Fri Mar 22 16:08:17 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Fri, 22 Mar 2013 15:08:17 +0000
Subject: [R-SIG-Finance] quantstrat custom intraday
Message-ID: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130322/96ac956e/attachment.pl>

From brian at braverock.com  Fri Mar 22 16:14:19 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 22 Mar 2013 10:14:19 -0500
Subject: [R-SIG-Finance] quantstrat custom intraday
In-Reply-To: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
References: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
Message-ID: <514C754B.2080309@braverock.com>

On 03/22/2013 10:08 AM, Marteau wrote:
> I'd like to load my own intraday data into the framework. I've tried a couple of methods:
> 1. getSymbols, with src="csv"
> loads ok but the index of this data is a date and does not show the intraday time.
> 2. Load my data into an xts object, and create the 'stock' with that object.
> This does not seem to work.  Does the symbol need to be assigned or registered somewhere?

You seem to be confusing your market data with your instrument metadata.

Your market data should be in xts, which will have no problems at all 
with intraday data.  See for example the data for the luxor demo scripts 
in quantstrat.

Your instrument metadata is defined using functions from 
FinancialInstrument, like stock().  These define the *properties* of the 
instrument: symbol, currency, tick size, etc.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From nk at fennoturvapalvelut.com  Fri Mar 22 16:17:27 2013
From: nk at fennoturvapalvelut.com (Niklas K)
Date: Fri, 22 Mar 2013 17:17:27 +0200
Subject: [R-SIG-Finance] quantstrat custom intraday
In-Reply-To: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
References: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
Message-ID: <514C7607.5080600@fennoturvapalvelut.com>

Hi!

I have created a getSymbols for csv-files that assigns xts-objects.
It can be loaded from github: 
https://github.com/nkolster/R-scripts/blob/master/getSymbols.csvnk.R

BR,
Niklas

I On 22.3.2013 17:08, Marteau wrote:
> I'd like to load my own intraday data into the framework. I've tried a couple of methods:
> 1. getSymbols, with src="csv"
> loads ok but the index of this data is a date and does not show the intraday time.
> 2. Load my data into an xts object, and create the 'stock' with that object.
> This does not seem to work.  Does the symbol need to be assigned or registered somewhere?
>
> Any help on these or alternative methods would be much appreciated.
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From mcmarteau at yahoo.com  Fri Mar 22 17:57:20 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Fri, 22 Mar 2013 16:57:20 +0000
Subject: [R-SIG-Finance] quantstrat custom intraday
In-Reply-To: <514C7607.5080600@fennoturvapalvelut.com>
References: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
	<514C7607.5080600@fennoturvapalvelut.com>
Message-ID: <7dcb630e-abcb-4e80-a7aa-37ee75773de5@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130322/243b6e38/attachment.pl>

From roschm at ymail.com  Fri Mar 22 18:28:05 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Fri, 22 Mar 2013 10:28:05 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat custom intraday
In-Reply-To: <7dcb630e-abcb-4e80-a7aa-37ee75773de5@email.android.com>
References: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
	<514C7607.5080600@fennoturvapalvelut.com>
	<7dcb630e-abcb-4e80-a7aa-37ee75773de5@email.android.com>
Message-ID: <1363973285568-4662222.post@n4.nabble.com>

Hi Marteau,

This code has an example which shows how to read a csv input file containing
intraday data.
 
http://r.789695.n4.nabble.com/quantstrat-newbie-sigFormula-example-tp4661594.html

It reads Dukascopy time format.  You can compare this line:

dukasFormat = '%d.%m.%Y %H:%M:%S' 

to the time data in your csv file.  There is a small bit of a Dukascopy csv
file attached.

For that file you also need to redefine these values:

csvPath = '/home/rob/work/csvdata/dukascopy/'  #  these need to change
resultsPath = '/home/rob/work/R/quantstrat/' 

And see:

csvName = '' # assign an empty string to choose daily data from yahoo
# example file downloaded from dukascopy for evaluation
#csvName = 'AMZN.US_Candlestick_15_m_BID_01.01.2013-12.01.2013.csv'

Best regards,

Rob



--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-custom-intraday-tp4662204p4662222.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From mcmarteau at yahoo.com  Fri Mar 22 19:17:51 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Fri, 22 Mar 2013 18:17:51 +0000
Subject: [R-SIG-Finance] quantstrat custom intraday
In-Reply-To: <1363973285568-4662222.post@n4.nabble.com>
References: <2b264057-5c56-4436-9fba-bc4619bfd30b@email.android.com>
	<514C7607.5080600@fennoturvapalvelut.com>
	<7dcb630e-abcb-4e80-a7aa-37ee75773de5@email.android.com>
	<1363973285568-4662222.post@n4.nabble.com>
Message-ID: <421faf66-2e34-4556-b0b2-524db9cba9dd@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130322/ebdb0d86/attachment.pl>

From roschm at ymail.com  Fri Mar 22 21:59:52 2013
From: roschm at ymail.com (Rob Schmidt)
Date: Fri, 22 Mar 2013 13:59:52 -0700 (PDT)
Subject: [R-SIG-Finance] quantstrat newbie indicators example
Message-ID: <1363985992059-4662247.post@n4.nabble.com>

Hello All,

More newbie adventures in quantstrat.  This started from putting together a
file of some TA indicators as examples.  They are BBands, EMA, MACD, dual
SMA, RSI, Volatility, and IBS(Internal Bar Strength) as a custom indicator. 
It has morphed into a wierd little example of having multiple different
strategies for these TAs.  Each arbitrarily selected combination of TAs can
have a separate strategy.  And there are are almost none in there.  Only IBS
and SMA alone, and the both together have example strategies.  The rest of
the time it just goes long since it doesn't have one.  

There is also my attempt to make using the fast indicators as nearly
painless as the very slow but simple method from the first Frankenstein (so
that we might as well do the fast ones all the time).  

This also has some examples of generic plotting of columns from mktdata by
variable and by value.  This hasn't gotten too focused yet, so parts may be
useful as a basis for other ideas.  Please rip and tear.

I am reinventing the wheel, LOL.

Thanks in advance for all comments, suggestions, and warnings.

Rob

# the frankenstein of indicators(hyperbole),  Rob Schmidt
# thanks to the people who made these great packages and
# thanks to all who made the examples from which I copied 
# please feel free to copy/mangle/use this file in any way

# an example of using and plotting some technical indicators
# and selecting particular combinations of them for a strategy

# shows an example of utilizing fast signal indicators which
# are (nearly) as painless as the simple but very slow methods

# choose IBS and/or SMA TAs only to see an example strategy
# but almost all strategies are missing, in which case go long

writeResultFiles = FALSE  #TRUE  #
if(writeResultFiles)
{   resultsPath = '/home/rob/work/R/quantstrat/' # fix me
    setwd(resultsPath)
}

tmptz = Sys.getenv('TZ')
if(tmptz != 'UTC') ttz = tmptz
Sys.setenv(TZ='UTC')  # set default timezone

require(quantstrat)

try(rm("order_book.frank", pos=.strategy), silent=TRUE)
try(rm("account.frank", "portfolio.frank", pos=.blotter), 
                silent=TRUE)

stratg = "frank"  #  a creature from a collection of parts
symbol = "QQQ"
initDate = '2011-02-01'
endDate = '2011-06-01'
initEq = 1.0e6
orderSize = 100

useTA = list()  # a list of useable TA indicators

# Declare a TA indicator and choose
# TRUE or FALSE whether to enable it

useTA$BBands = FALSE
useTA$EMA = FALSE
useTA$IBS = TRUE
useTA$MACD = FALSE
useTA$SMA = TRUE
useTA$RSI = FALSE
useTA$Volatility = FALSE

numTAs = length(which(useTA == TRUE))  # number of TRUEs
indicatorLabels = list() # labels of the used indicators

currency("USD")
stock(symbol, currency="USD", multiplier=1)
getSymbols(symbol, from=initDate, to=endDate, adjust=TRUE)
initPortf(stratg, symbol, initDate=initDate)
initAcct(stratg, portfolios=stratg, initDate=initDate,
        initEq=initEq)
initOrders(portfolio=stratg, initDate=initDate)
strat = strategy(stratg)

# set parameters and declare indicatorLabel variables

if(useTA$BBands)  #  Bollinger Bands
{   bbPeriods = 12
    bbSD = 2
    bb = paste("BB",bbPeriods,".",bbSD,sep='')
    indicatorLabels$bb = bb
}
if(useTA$EMA)   #  Exponential Moving Average
{   emaPeriods = 10
    ema = paste("EMA",emaPeriods,sep='')
    indicatorLabels$ema = ema
}
if(useTA$IBS) # Internal Bar Strength custom indicator
{   ibsPeriods = 8
    ibs = paste("IBS",ibsPeriods,sep='')
    indicatorLabels$ibs = ibs
    
    # range: -1(closes at lows) to 1(closes at highs)
    # this is nonstandard: typical is 0 to 1 range
    # return 0 if hi == lo, to avoid divide by zero
    IBS = function(hi, lo, cl, n)
    {   temp = ifelse(hi > lo, 
                      2.0*runMean((cl-lo)/(hi-lo), n)-1.0, 0.0)
        colnames(temp) = ibs
        return(temp)
    }
}
if(useTA$MACD)  #  Moving Average Convergence Divergence
{   macdFast = 8 # 12
    macdSlow = 18 # 26
    macdSig = 6 # 9
}
if(useTA$RSI)  #  Relative Strength Indicator
{   rsiPeriods = 10
    rsi = paste("RSI",rsiPeriods,sep='')
    indicatorLabels$rsi = rsi
}
if(useTA$SMA)  #  Simple Moving Average
{   fastPeriods = 10
    slowPeriods = 2*fastPeriods
    smaFast = paste("SMA",fastPeriods,sep='')
    smaSlow = paste("SMA",slowPeriods,sep='')
    indicatorLabels$smaFast = smaFast
    indicatorLabels$smaSlow = smaSlow
}
if(useTA$Volatility)  #  Volatility
{   voltPeriods = 15
    voltCalc = "close"
    volt = paste("VOLT",voltPeriods,sep='')
    indicatorLabels$volt = volt
}

# select a particular combination of indicators
#   to redefine parameter values for this case only

if(useTA$IBS & useTA$SMA & (numTAs == 2)) # IBS and SMA only
{   ibsPeriods = 12
    ibs = paste("IBS",ibsPeriods,sep='')
    indicatorLabels$ibs = ibs

    fastPeriods = 8
    slowPeriods = 3*fastPeriods
    smaFast = paste("SMA",fastPeriods,sep='')
    smaSlow = paste("SMA",slowPeriods,sep='')
    indicatorLabels$smaFast = smaFast
    indicatorLabels$smaSlow = smaSlow
}

# add the original indicators

if(useTA$BBands)  #  Bollinger Bands
{   strat = add.indicator(strategy = strat, name = "BBands",
                arguments = list(HLC = quote(HLC(mktdata)), 
                maType='SMA', n=bbPeriods, sd=bbSD), 
                label=bb)
}
if(useTA$EMA)   #  Exponential Moving Average
{   strat = add.indicator(strategy=strat, name="EMA",
                arguments=list(x=quote(Cl(mktdata)), 
                n=emaPeriods), label=ema)
}
if(useTA$IBS) # Internal Bar Strength custom indicator
{   strat = add.indicator(strategy=strat, name="IBS",
                arguments=list(hi=get(symbol)[,2], 
                lo=get(symbol)[,3], cl=get(symbol)[,4], 
                n=ibsPeriods), label=ibs)
}
if(useTA$MACD)  #  Moving Average Convergence Divergence
{   strat = add.indicator(strategy=strat, name="MACD",
                arguments=list(x=quote(Cl(mktdata)),
                nFast=macdFast, nSlow=macdSlow, nSig=macdSig, 
                maType="EMA"), label="MACD")
}
if(useTA$RSI)  #  Relative Strength Indicator
{   strat = add.indicator(strategy=strat, name="RSI",
                arguments=list(price=quote(Cl(mktdata)), 
                n=rsiPeriods, maType="EMA"), label=rsi)
}
if(useTA$SMA)  #  Simple Moving Average
{   strat = add.indicator(strategy=strat, name="SMA",
                arguments=list(x=quote(Cl(mktdata)), 
                n=fastPeriods), label=smaFast)
    strat = add.indicator(strategy=strat, name="SMA",
                arguments=list(x=quote(Cl(mktdata)), 
                n=slowPeriods), label=smaSlow)
}
if(useTA$Volatility)  #  Volatility
{   strat = add.indicator(strategy=strat, name="volatility",
                arguments=list(OHLC=quote(OHLC(mktdata)), 
                n=voltPeriods, calc=voltCalc), label=volt)
}

# make some signal part indicators from previous indicators

# Simple and easy but very slow method:  var = "(val > 0)"
# More than 1000X faster: strat = sigThresh(strat, var, val, "gt", 0)

# input parameter order: (label) = (column)(relationship)(threshold)
sigThresh = function(straty, label, column, relationship, threshold)
{   return(add.signal(strategy=straty, name="sigThreshold",
        arguments = list(threshold=threshold, column=column,
        relationship=relationship, cross=FALSE), label=label))
}
# input parameter order:  (label) = (column1)(relationship)(column2)
sigCompare = function(straty, label, column1, relationship, column2)
{   return(add.signal(strategy=straty, name="sigComparison",
        arguments = list(columns=c(column1,column2),
        relationship=relationship, cross=FALSE), label=label))
}

closePr = paste(symbol,".Close",sep='')
# want to make these calls easily readable
# variables from indicatorLabels: ibs, smaFast, etc
if(useTA$IBS)
{   ibsUp = "ibsUp"; ibsDn = "ibsDn"  
    strat = sigThresh(strat, ibsUp, ibs, "gt", 0) # ibsUp = ibs > 0
    strat = sigThresh(strat, ibsDn, ibs, "lt", 0) # ibsDn = ibs < 0
}
if(useTA$SMA)
{   smaUp = "smaUp"; smaDn = "smaDn"
    strat = sigCompare(strat, smaUp, smaFast, "gt", smaSlow)
    strat = sigCompare(strat, smaDn, smaFast, "lt", smaSlow)
    closeAbvFst = "closeAbvFst";  closeBlwFst = "closeBlwFst"
    closeAbvSlw = "closeAbvSlw";  closeBlwSlw = "closeBlwSlw"
    strat = sigCompare(strat, closeAbvSlw, closePr, "gt", smaSlow)
    strat = sigCompare(strat, closeBlwSlw, closePr, "lt", smaSlow)
    strat = sigCompare(strat, closeAbvFst, closePr, "gt", smaFast)
    strat = sigCompare(strat, closeBlwFst, closePr, "lt", smaFast)
}

# paste parts together for entry/exit/long/short signal formulas

goLong = ""; exitLong = ""; goShort = ""; exitShort = ""

if(useTA$IBS & (numTAs == 1))  #   IBS only
{   goLong = ibsDn  #  counter-trend
    exitLong = ibsUp
    goShort = ibsUp
    exitShort = ibsDn
}
if(useTA$SMA & (numTAs == 1))  #   SMA only
{   goLong = paste(smaUp,"&",closeAbvFst,sep='')
    exitLong = paste(smaDn,"|",closeBlwFst,sep='')
    goShort = paste(smaDn,"&",closeBlwFst,sep='')
    exitShort = paste(smaUp,"|",closeAbvFst,sep='')
}
if(useTA$IBS & useTA$SMA & (numTAs == 2))   #  only IBS and SMA
{   goLong = paste(smaUp,"&",closeBlwFst,"&",ibsUp,sep='')
    exitLong = paste(smaDn,"|",closeBlwSlw,sep='')
    goShort = paste(smaDn,"&",closeAbvFst,"&",ibsDn,sep='')
    exitShort = paste(smaUp,"|",closeAbvSlw,sep='')
}

# when long/short signal rules are missing, just go long

goLongCross = TRUE  #  normal behavior
needSignals = (goLong == "")|(exitLong == "")|
            (goShort == "")|(exitShort == "") 
if(needSignals)
{   goLongCross = FALSE
    goLong = paste("(", closePr, " > 0.0)", sep='')
    exitLong = paste("(", closePr, " < 0.0)", sep='')
    goShort = paste("(", closePr, " < 0.0)", sep='')
    exitShort = paste("(", closePr, " < 0.0)", sep='')
}

# apply the sigFormulas and rules

strat = add.signal(strat, name="sigFormula", label="goLong",
            arguments=list(columns=indicatorLabels, 
            formula=goLong, cross=goLongCross))
strat = add.signal(strat, name="sigFormula", label="exitLong",
            arguments=list(columns=indicatorLabels, 
            formula=exitLong, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="goShort",
            arguments=list(columns=indicatorLabels, 
            formula=goShort, cross=TRUE))
strat = add.signal(strat, name="sigFormula", label="exitShort",
            arguments=list(columns=indicatorLabels, 
            formula=exitShort, cross=TRUE))

strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
            arguments = list(sigcol="goLong", sigval=TRUE, 
            orderqty=orderSize, ordertype='market',
            osFUN=osMaxPos, orderside='long'))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
            arguments = list(sigcol="exitLong", sigval=TRUE, 
            orderqty='all', ordertype='market', orderside='long'))
strat = add.rule(strategy = strat, name='ruleSignal', type='enter',
            arguments = list(sigcol="goShort", sigval=TRUE, 
            orderqty=-orderSize, ordertype='market',
            osFUN=osMaxPos, orderside='short'))
strat = add.rule(strategy = strat, name='ruleSignal', type='exit',
            arguments = list(sigcol="exitShort", sigval=TRUE, 
            orderqty='all', ordertype='market', orderside='short'))

addPosLimit(stratg, symbol, timestamp=initDate, 
                maxpos=orderSize, minpos=-orderSize)

out = applyStrategy(strategy=strat,portfolios=stratg,prefer='Open')
updatePortf(Portfolio=stratg)
updateAcct(name=stratg)

# make plots

chart.Posn(Portfolio = stratg, Symbol = symbol)
plot(add_TA(get(symbol)[,4], on=1, col='lightblue')) # closes

if(useTA$BBands)
{   plot(add_BBands(on=1,sd=bbSD,n=bbPeriods))
}
if(useTA$EMA)
{   plot(add_EMA(n=emaPeriods, on=1, col='orange'))
}
if(useTA$IBS)
{   plot(add_TA(IBS(hi=get(symbol)[,2],lo=get(symbol)[,3],
                cl=get(symbol)[,4], n=ibsPeriods)))
}
if(useTA$MACD) 
{   plot(add_MACD(fast=macdFast, slow=macdSlow, signal=macdSig, 
                  maType="EMA"))
}
if(useTA$RSI)
{   plot(add_RSI(n=rsiPeriods, maType="EMA"))
}
if(useTA$SMA)
{   plot(add_SMA(n=fastPeriods, on=1, col='magenta'))
    plot(add_SMA(n=slowPeriods, on=1, col='tan'))
    plot(add_TA(mktdata$smaUp))  # plot a column of mktdata by name
}
if(useTA$Volatility)  # plot a column by indicatorLabel variable
{   plot(add_TA(mktdata[,which(names(mktdata) == volt)]))
}

# write the results to files

if(writeResultFiles)
{   write.zoo(mktdata, quote=FALSE, 
                file=paste(stratg,"_",symbol,"_mktdata.csv", sep=''))
    write.zoo(getTxns(stratg, symbol), quote=FALSE, file= 
                paste(stratg, "_", symbol, "_txns.csv", sep=''))
    ob = getOrderBook(stratg)
    write.zoo(ob[[stratg]][[symbol]], quote=FALSE, file= 
                paste(stratg, "_", symbol, "_orderbook.csv",sep=''))
}




--
View this message in context: http://r.789695.n4.nabble.com/quantstrat-newbie-indicators-example-tp4662247.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From me at censix.com  Sat Mar 23 10:14:59 2013
From: me at censix.com (me)
Date: Sat, 23 Mar 2013 10:14:59 +0100
Subject: [R-SIG-Finance] Google data download with getSymbols - is there a
	limit/quota ?
Message-ID: <20130323101459.3514402d@desktop1>


I am trying to use getSymbols(...,src='google') from the quantmod
package for downloading google finance data for about 1600 symbols, once
a week. Some of that will be used in several quantstrat strategies.

I am seeing that after having gotten about 500 symbols, trying to
download more will produce http errors.  If I re-try those symbols the
next day, then the quota seems to have been reset and I can download
around 500 symbols again.

Question: Is anyone else experiencing this ?  Would anyone know what is
the minimum time I have to wait before I can download the next batch of
500 symbols (I hope it's somewhere around several minutes or
several hours, but not more than that) ?  

many thanks

------------------------------------------------------------------
Soren Wilkening

http://censix.com


From brian at braverock.com  Sat Mar 23 15:35:17 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 23 Mar 2013 09:35:17 -0500
Subject: [R-SIG-Finance] Google data download with getSymbols - is there
 a limit/quota ?
In-Reply-To: <20130323101459.3514402d@desktop1>
References: <20130323101459.3514402d@desktop1>
Message-ID: <514DBDA5.1040304@braverock.com>

On 03/23/2013 04:14 AM, me wrote:
>
> I am trying to use getSymbols(...,src='google') from the quantmod
> package for downloading google finance data for about 1600 symbols, once
> a week. Some of that will be used in several quantstrat strategies.
>
> I am seeing that after having gotten about 500 symbols, trying to
> download more will produce http errors.  If I re-try those symbols the
> next day, then the quota seems to have been reset and I can download
> around 500 symbols again.
>
> Question: Is anyone else experiencing this ?  Would anyone know what is
> the minimum time I have to wait before I can download the next batch of
> 500 symbols (I hope it's somewhere around several minutes or
> several hours, but not more than that) ?

getSymbols has for years included a pause between requests for multiple 
symbols, to try to limit the impact you have on their infrastructure, 
and avoid some throttling.

I suspect that if you space out your requests, you'll naturally hit 
different servers, and probably be fine, but I can't speak from personal 
experience.

Obviously, if you intend to use this data for investment decisions, 
you're likely violating the Google or Yahoo terms of use anyway, and 
you'd likely be better off getting the data from a broker source such as 
InteractiveBrokers.

Regards,

  - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From me at censix.com  Sat Mar 23 17:18:19 2013
From: me at censix.com (me)
Date: Sat, 23 Mar 2013 17:18:19 +0100
Subject: [R-SIG-Finance] Google data download with getSymbols - is there
 a limit/quota ?
In-Reply-To: <514DBDA5.1040304@braverock.com>
References: <20130323101459.3514402d@desktop1> <514DBDA5.1040304@braverock.com>
Message-ID: <20130323171819.31e52975@desktop1>


Use google finance data to make investment
decisions ? Who whould do such a thing ? not me :)

> getSymbols has for years included a pause between requests for
> multiple symbols

Ah, interesting, but I am not seeing such a pause anywhere in the
getSymbols.google() source (quantmod version 0.4-0 from CRAN)


Anyway, thanks for the suggestions. I have found that it works well if
I have a pause of 15 minutes between each batch of 500 symbols. Could
probably investigate if it can be pushed even lower, but 15 mins is
fine for me.

Bon weekend!


On Sat, 23 Mar 2013 09:35:17 -0500
"Brian G. Peterson" <brian at braverock.com> wrote:

> On 03/23/2013 04:14 AM, me wrote:
> >
> > I am trying to use getSymbols(...,src='google') from the quantmod
> > package for downloading google finance data for about 1600 symbols,
> > once a week. Some of that will be used in several quantstrat
> > strategies.
> >
> > I am seeing that after having gotten about 500 symbols, trying to
> > download more will produce http errors.  If I re-try those symbols
> > the next day, then the quota seems to have been reset and I can
> > download around 500 symbols again.
> >
> > Question: Is anyone else experiencing this ?  Would anyone know
> > what is the minimum time I have to wait before I can download the
> > next batch of 500 symbols (I hope it's somewhere around several
> > minutes or several hours, but not more than that) ?
> 
> getSymbols has for years included a pause between requests for
> multiple symbols, to try to limit the impact you have on their
> infrastructure, and avoid some throttling.
> 
> I suspect that if you space out your requests, you'll naturally hit 
> different servers, and probably be fine, but I can't speak from
> personal experience.
> 
> Obviously, if you intend to use this data for investment decisions, 
> you're likely violating the Google or Yahoo terms of use anyway, and 
> you'd likely be better off getting the data from a broker source such
> as InteractiveBrokers.
> 
> Regards,
> 
>   - Brian
> 



------------------------------------------------------------------
Soren Wilkening

http://censix.com


From josh.m.ulrich at gmail.com  Sat Mar 23 20:23:57 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sat, 23 Mar 2013 14:23:57 -0500
Subject: [R-SIG-Finance] Google data download with getSymbols - is there
 a limit/quota ?
In-Reply-To: <20130323171819.31e52975@desktop1>
References: <20130323101459.3514402d@desktop1> <514DBDA5.1040304@braverock.com>
	<20130323171819.31e52975@desktop1>
Message-ID: <CAPPM_gSWjS12BPsQaZN7yHAscT1gnH9hY0qDS61cEUu3xoPTQw@mail.gmail.com>

On Sat, Mar 23, 2013 at 11:18 AM, me <me at censix.com> wrote:
>
> Use google finance data to make investment
> decisions ? Who whould do such a thing ? not me :)
>
>> getSymbols has for years included a pause between requests for
>> multiple symbols
>
> Ah, interesting, but I am not seeing such a pause anywhere in the
> getSymbols.google() source (quantmod version 0.4-0 from CRAN)
>
Brian's thinking of getSymbols.yahoo.  It has a 1-second pause every 5 symbols.

>
> Anyway, thanks for the suggestions. I have found that it works well if
> I have a pause of 15 minutes between each batch of 500 symbols. Could
> probably investigate if it can be pushed even lower, but 15 mins is
> fine for me.
>
> Bon weekend!
>
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

R/Finance 2013: Applied Finance with R  | www.RinFinance.com


> On Sat, 23 Mar 2013 09:35:17 -0500
> "Brian G. Peterson" <brian at braverock.com> wrote:
>
>> On 03/23/2013 04:14 AM, me wrote:
>> >
>> > I am trying to use getSymbols(...,src='google') from the quantmod
>> > package for downloading google finance data for about 1600 symbols,
>> > once a week. Some of that will be used in several quantstrat
>> > strategies.
>> >
>> > I am seeing that after having gotten about 500 symbols, trying to
>> > download more will produce http errors.  If I re-try those symbols
>> > the next day, then the quota seems to have been reset and I can
>> > download around 500 symbols again.
>> >
>> > Question: Is anyone else experiencing this ?  Would anyone know
>> > what is the minimum time I have to wait before I can download the
>> > next batch of 500 symbols (I hope it's somewhere around several
>> > minutes or several hours, but not more than that) ?
>>
>> getSymbols has for years included a pause between requests for
>> multiple symbols, to try to limit the impact you have on their
>> infrastructure, and avoid some throttling.
>>
>> I suspect that if you space out your requests, you'll naturally hit
>> different servers, and probably be fine, but I can't speak from
>> personal experience.
>>
>> Obviously, if you intend to use this data for investment decisions,
>> you're likely violating the Google or Yahoo terms of use anyway, and
>> you'd likely be better off getting the data from a broker source such
>> as InteractiveBrokers.
>>
>> Regards,
>>
>>   - Brian
>>
>
>
>
> ------------------------------------------------------------------
> Soren Wilkening
>
> http://censix.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From me at censix.com  Mon Mar 25 09:33:11 2013
From: me at censix.com (soren wilkening)
Date: Mon, 25 Mar 2013 01:33:11 -0700 (PDT)
Subject: [R-SIG-Finance] Google data download with getSymbols - is there
	a limit/quota ?
In-Reply-To: <CAPPM_gSWjS12BPsQaZN7yHAscT1gnH9hY0qDS61cEUu3xoPTQw@mail.gmail.com>
References: <20130323101459.3514402d@desktop1> <514DBDA5.1040304@braverock.com>
	<20130323171819.31e52975@desktop1>
	<CAPPM_gSWjS12BPsQaZN7yHAscT1gnH9hY0qDS61cEUu3xoPTQw@mail.gmail.com>
Message-ID: <1364200391668-4662356.post@n4.nabble.com>

>>> Brian's thinking of getSymbols.yahoo.  It has a 1-second pause every 5
symbols. 

Thanks. I tried it that way but google does not seem to care. Same behaviour
as without the 1-sec pause.

I have written a workaround that uses Sys.time() and a while loop and sits
on top of the getSymbols() call. I don;t think it is necessarily a good idea
to incorporate it into the getSymbols.google() source itself, because it may
be too dependent on the correct behavior of Sys.time() across platforms and
therefore break the stable behaviour of getSymbols.google(), but if the
maintainers are interested, I can post the code.

cheers

Soren




-----
http://censix.com
--
View this message in context: http://r.789695.n4.nabble.com/Google-data-download-with-getSymbols-is-there-a-limit-quota-tp4662283p4662356.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From ivan.popivanov at gmail.com  Thu Mar 28 05:01:25 2013
From: ivan.popivanov at gmail.com (Ivan Popivanov)
Date: Thu, 28 Mar 2013 00:01:25 -0400
Subject: [R-SIG-Finance] quantstrat - monthly/daily trade execution
Message-ID: <CAK7-yAhNjZVLWfgdrhsEh_yb1PK7Y1TiLr4v-XZ-MfQdm_utCA@mail.gmail.com>

Hello, I started using quanstrat recently, and must say the design is
impressive.

My first goal is to back test a strategy on daily data, but it quickly
became apparent that I will need to do some work prior to that. First and
foremost, I will need to modify quanstrat to execute the orders on the end
of day, i.e. the same bar. To achieve that I decided to familiarize myself
with the code and I am having problems figuring out the intended design
even for monthly data.

According to ruleOrderProc.R, it seems that for monthly time series, the
trading should occur at the same bar that the signal was triggered (both on
Close at the end of month), right? If so, my 10-month SMA test which is
attached is contradictory - looking at the market data and the trades, it
seems that the orders are executed at the end of the next month instead.
More specifically (from ruleOrderProc.R):

                                yearly = ,
                                quarterly = ,
                                monthly = {

txntime=as.character(index(ordersubset[ii,])) # transacts on this bar, e.g.
in the intraday cross, or leading into the end of month, quarter, etc.
                                    # txntime=as.character(timestamp) # use
this if you wanted to transact on the close of the next bar

txnprice=as.numeric(getPrice(mktdataTimestamp, prefer=prefer)[,1])
                                }, #end

When this code is entered, mktdataTimestamp is on the next bar and it
delivers the price. Is this an issue, or I am missing something?

While on the topic, would you object adding the functionality (under a
flag) to execute trades on the same bar (of course, if it's feasible - i
will try to do the implementation)? I managed to achieve similar
functionality by lagging the indicator backwards, but that seems like a
hack, and I am suspicious that it may have issues with stoplimit and
trailing stops.

Thanks in advance,
Ivan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130328/8fb62d41/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: macd.monthly.R
Type: application/octet-stream
Size: 2567 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130328/8fb62d41/attachment.obj>

From alon at paragonfin.com  Thu Mar 28 14:53:19 2013
From: alon at paragonfin.com (alonbrag)
Date: Thu, 28 Mar 2013 06:53:19 -0700 (PDT)
Subject: [R-SIG-Finance] Backtesting
Message-ID: <1364478799384-4662728.post@n4.nabble.com>

Hi All,

I am new to R, and I am trying to backtest a simple strategy:
I have a time series <- ts and a filter <- Filter.
I want to check, if abs(ts-Filter)>parameter then get into trade (sell if
ts-filter>parameter, buy if ts-filter< parameter)
now that i am in a trade, i want to check what comes first, profit or
stoploss, lets assume they are of the same size (profit)
i.e. if I am in a sell position, if ts-sellprice>profit -> pnl += profit.
if ts-sellprice < - profit -> pnl -= profit.
after trade closes, continue with checking the ts for more traders etc...
any help with how to program it will be very much appreciated.

Thanks


 





--
View this message in context: http://r.789695.n4.nabble.com/Backtesting-tp4662728.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From edd at debian.org  Fri Mar 29 21:48:39 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 29 Mar 2013 15:48:39 -0500
Subject: [R-SIG-Finance] R/Finance 2012 Registration now open
Message-ID: <20821.65063.213827.443150@max.nulle.part>


Now open for registrations --- and more details as always at http://www.RinFinance.com :

  R / Finance 2013: Applied Finance with R
  May 17 and 18, 2013 
  Chicago, IL, USA

  The registration for R/Finance 2013 -- which will take place May 17 and 18
  in Chicago -- is NOW OPEN!

  Building on the success of the previous conferences in 2009, 2010, 2011 and
  2012, we expect more than 250 attendees from around the world. R users from
  industry, academia, and government will joining 30+ presenters covering all
  areas of finance with R.

  We are very excited about the four keynotes by Sanjiv Das, Attilio Meucci,
  Ryan Sheftel and Ruey Tsay.  The main agenda (currently) includes seventeen
  full presentations and fifteen shorter "lightning talks". We are also
  excited to offer five optional pre-conference seminars on Friday morning.

  To celebrate the fifth year of the conference in style, the dinner will be
  held at The Terrace of the Trump Hotel. Overlooking the Chicago River and
  skyline, it is a perfect venue to continue conversations while dining and
  drinking.
                                                                                                          
  More details of the agenda are available at:
                                                                                                          
    http://www.RinFinance.com/agenda/
                                                                                                          
  Registration information is available at
                                                                                                          
    http://www.RinFinance.com/register/
                                                                                                          
  and can also be directly accessed by going to
                                                                                                          
    http://www.regonline.com/RFinance2013
                                                                                                          
  We would to thank our 2013 Sponsors for the continued support enabling us
  to host such an exciting conference:
                                                                                                          
    International Center for Futures and Derivatives at UIC
                                                                                                          
    Revolution Analytics
    MS-Computational Finance at University of Washington
                                                                                                          
    Google
    lemnica
    OpenGamma
    OneMarketData
    RStudio
                                                                                                          
  On behalf of the committee and sponsors, we look forward to seeing you in
  Chicago!

    Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, 
    Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich

See you in Chicago in May!!

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From edd at debian.org  Fri Mar 29 22:10:20 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 29 Mar 2013 16:10:20 -0500
Subject: [R-SIG-Finance] R/Finance 2013 Registration now open
In-Reply-To: <20821.65063.213827.443150@max.nulle.part>
References: <20821.65063.213827.443150@max.nulle.part>
Message-ID: <20822.828.474518.884561@max.nulle.part>


And that's what I get for copying the header from the 2012 posting. Subject
should of course have read '2013' in the previous mail too.  My bad.  --Dirk


Now open for registrations --- and more details as always at http://www.RinFinance.com :

  R / Finance 2013: Applied Finance with R
  May 17 and 18, 2013 
  Chicago, IL, USA

  The registration for R/Finance 2013 -- which will take place May 17 and 18
  in Chicago -- is NOW OPEN!

  Building on the success of the previous conferences in 2009, 2010, 2011 and
  2012, we expect more than 250 attendees from around the world. R users from
  industry, academia, and government will joining 30+ presenters covering all
  areas of finance with R.

  We are very excited about the four keynotes by Sanjiv Das, Attilio Meucci,
  Ryan Sheftel and Ruey Tsay.  The main agenda (currently) includes seventeen
  full presentations and fifteen shorter "lightning talks". We are also
  excited to offer five optional pre-conference seminars on Friday morning.

  To celebrate the fifth year of the conference in style, the dinner will be
  held at The Terrace of the Trump Hotel. Overlooking the Chicago River and
  skyline, it is a perfect venue to continue conversations while dining and
  drinking.
                                                                                                          
  More details of the agenda are available at:
                                                                                                          
    http://www.RinFinance.com/agenda/
                                                                                                          
  Registration information is available at
                                                                                                          
    http://www.RinFinance.com/register/
                                                                                                          
  and can also be directly accessed by going to
                                                                                                          
    http://www.regonline.com/RFinance2013
                                                                                                          
  We would to thank our 2013 Sponsors for the continued support enabling us
  to host such an exciting conference:
                                                                                                          
    International Center for Futures and Derivatives at UIC
                                                                                                          
    Revolution Analytics
    MS-Computational Finance at University of Washington
                                                                                                          
    Google
    lemnica
    OpenGamma
    OneMarketData
    RStudio
                                                                                                          
  On behalf of the committee and sponsors, we look forward to seeing you in
  Chicago!

    Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, 
    Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich

See you in Chicago in May!!

Dirk


-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


