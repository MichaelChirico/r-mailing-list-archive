From gsee000 at gmail.com  Mon Jul  1 00:14:50 2013
From: gsee000 at gmail.com (G See)
Date: Sun, 30 Jun 2013 17:14:50 -0500
Subject: [R-SIG-Finance] Delete bad dividend row
In-Reply-To: <D1005A76DEBE435BB0EBEC9F25A39287@Franki7PC>
References: <D1005A76DEBE435BB0EBEC9F25A39287@Franki7PC>
Message-ID: <CA+xi=qYVUux56=5cD_VeugXHnd7CcJmqRXXgrxmEqUVH7Haw0g@mail.gmail.com>

Hi Frank,

There are a few ways to do it.

library(quantmod)
div <- getDividends("PM", from="2010-01-01")

# find the row(s) you want to remove and use negative indexing
div[-12]
div[-which(div == 0.039)]
div[-div["2012-12-20", which.i=TRUE]]

# exclude specific date by passing logical vector to [.xts
div[!index(div) %in% as.Date("2012-12-20")]

# exclude specific weekdays
div[weekdays(index(div)) != "Thursday"]
div[as.POSIXlt(index(div))$wday != 4]

# exclude amounts smaller than some arbitrary number
div[div > 0.1]
# exclude specific amount
div[div != 0.039]

HTH,
Garrett


From frankm60606 at gmail.com  Mon Jul  1 01:29:59 2013
From: frankm60606 at gmail.com (Frank)
Date: Sun, 30 Jun 2013 18:29:59 -0500
Subject: [R-SIG-Finance] Delete bad dividend row
In-Reply-To: <CA+xi=qYVUux56=5cD_VeugXHnd7CcJmqRXXgrxmEqUVH7Haw0g@mail.gmail.com>
References: <D1005A76DEBE435BB0EBEC9F25A39287@Franki7PC>
	<CA+xi=qYVUux56=5cD_VeugXHnd7CcJmqRXXgrxmEqUVH7Haw0g@mail.gmail.com>
Message-ID: <FB0EC0E80D0F4938B13B0DF4E2D82405@Franki7PC>

Hi Garret,

That did help. I've been analyzing dividend yields and the quantmod
getDividends and getSymbols work flawlessly. But then the dividends change
frequency over time, special dividends creep in and now a spurious data
point for PM. So far I've dealt with these with your help and others. 

Best,

Frank

-----Original Message-----
From: G See [mailto:gsee000 at gmail.com] 
Sent: Sunday, June 30, 2013 5:15 PM
To: Frank
Cc: r-sig-finance
Subject: Re: [R-SIG-Finance] Delete bad dividend row

Hi Frank,

There are a few ways to do it.

library(quantmod)
div <- getDividends("PM", from="2010-01-01")

# find the row(s) you want to remove and use negative indexing
div[-12]
div[-which(div == 0.039)]
div[-div["2012-12-20", which.i=TRUE]]

# exclude specific date by passing logical vector to [.xts
div[!index(div) %in% as.Date("2012-12-20")]

# exclude specific weekdays
div[weekdays(index(div)) != "Thursday"]
div[as.POSIXlt(index(div))$wday != 4]

# exclude amounts smaller than some arbitrary number
div[div > 0.1]
# exclude specific amount
div[div != 0.039]

HTH,
Garrett


From wlmr at zhaw.ch  Mon Jul  1 08:33:02 2013
From: wlmr at zhaw.ch (Wildi Marc (wlmr))
Date: Mon, 1 Jul 2013 06:33:02 +0000
Subject: [R-SIG-Finance] Risk return analysis
In-Reply-To: <CA+dpOJko=0sJRL=NA5FBDHuj3BaSd+s8RvBQiiQXpmA274x9_Q@mail.gmail.com>
References: <CA+dpOJn6pzOG_XWrSsGELPyP8MmE5c=-HZF0U_ChC5RSksmtkA@mail.gmail.com>
	<E2339A3600811248AB525B8FAB3A1BCE9878FE6B@srv-mail-101.zhaw.ch>
	<CAJXbfOJepfR6YGOZ9ecH2i6vBMm2Uj1FayUzB8yxLaJ7FWpfLw@mail.gmail.com>,
	<CA+dpOJko=0sJRL=NA5FBDHuj3BaSd+s8RvBQiiQXpmA274x9_Q@mail.gmail.com>
Message-ID: <E2339A3600811248AB525B8FAB3A1BCE98791F64@srv-mail-101.zhaw.ch>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130701/dfd39b8a/attachment.pl>

From Bauermartin at gmx.at  Tue Jul  2 18:14:15 2013
From: Bauermartin at gmx.at (Martin Bauer)
Date: Tue, 2 Jul 2013 18:14:15 +0200 (CEST)
Subject: [R-SIG-Finance] quantmod FX from Oanda
Message-ID: <trinity-b3acf3fd-4cd9-43ff-8686-f2b60cfb5c89-1372781655356@3capp-gmx-bs39>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130702/a802db1e/attachment.html>

From brian at braverock.com  Tue Jul  2 18:22:48 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 02 Jul 2013 11:22:48 -0500
Subject: [R-SIG-Finance] quantmod FX from Oanda
In-Reply-To: <trinity-b3acf3fd-4cd9-43ff-8686-f2b60cfb5c89-1372781655356@3capp-gmx-bs39>
References: <trinity-b3acf3fd-4cd9-43ff-8686-f2b60cfb5c89-1372781655356@3capp-gmx-bs39>
Message-ID: <51D2FE58.3000205@braverock.com>

On 07/02/2013 11:14 AM, Martin Bauer wrote:
> I have tried this
> load.packages("TTR,PerformanceAnalytics,quantmod")
> getFX("USD/JPY",src="oanda",from="2013-01-01",to="2013-07-01")
> but I receive the following error msg
> Error in xts(as.numeric(fr[1:length(fr)%%2 != 1]),
> as.Date(fr[1:length(fr)%%2 ==  :
>    NROW(x) must match length(order.by)
> In addition: Warning messages:
> 1: In readLines(tmp) :
>    incomplete final line found on
> '/var/folders/23/shh8stb17gz9fgtsk0q4wl2w0000gn/T//Rtmp2PmND4/file43a7cc6d'
> 2: In xts(as.numeric(fr[1:length(fr)%%2 != 1]),
> as.Date(fr[1:length(fr)%%2 ==  :
>    NAs introduced by coercion
> Any idea ??

Works for me with current versions of all the packages and R.

You didn't include your sessionInfo().

I suggest upgrading to current code.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From dominykasgrigonis at gmail.com  Tue Jul  2 18:39:15 2013
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Tue, 2 Jul 2013 17:39:15 +0100
Subject: [R-SIG-Finance] chartSeries
Message-ID: <A40AF8C7D20C4A13B7433CDE3A13053C@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130702/f7bfcdbe/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Jul  2 18:49:36 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 2 Jul 2013 11:49:36 -0500
Subject: [R-SIG-Finance] chartSeries
In-Reply-To: <A40AF8C7D20C4A13B7433CDE3A13053C@gmail.com>
References: <A40AF8C7D20C4A13B7433CDE3A13053C@gmail.com>
Message-ID: <CAPPM_gTxHx7w6+Ow7iHS9mVhFmT7Nw92QderqAyeey1e8cf4Cw@mail.gmail.com>

On Tue, Jul 2, 2013 at 11:39 AM, Dominykas Grigonis
<dominykasgrigonis at gmail.com> wrote:
> Small question.
>> a=getSymbols("AAPL",auto.assign=FALSE)
>> chartSeries(a)
> Warning message:
> In if (value %in% "Date") { :
>   the condition has length > 1 and only the first element will be used
>
>
> The warning was not here before. Does anybody know what it means and whether it has any kind of impact?
>
It's caused by code that was added to xts in revision 773.  You can
safely ignore it.

> Thank you to anybody who bothers to answer.
>
> Kind regards,--
> Dominykas Grigonis
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From zadig_1 at excite.com  Tue Jul  2 22:44:37 2013
From: zadig_1 at excite.com (ce)
Date: Tue, 02 Jul 2013 16:44:37 -0400
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
Message-ID: <20130702164437.20515@web007.roc2.bluetie.com>


Hi,

I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer? 

> R

R version 3.0.1 (2013-05-16) -- "Good Sport"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-unknown-linux-gnu (64-bit)

> library("rugarch")
Loading required package: Rcpp                                                                          
Loading required package: RcppArmadillo                                                                                            
Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")

KernSmooth 2.23 loaded
Copyright M. P. Wand 1997-2009

> data(sp500ret)
> dim(sp500ret)
[1] 5523    1

> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
   user  system elapsed 
141.562   0.136 142.448 

> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.092949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)

> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
   user  system elapsed 
367.052   0.298 369.194 

From alexios at 4dscape.com  Tue Jul  2 23:37:04 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 02 Jul 2013 22:37:04 +0100
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
In-Reply-To: <20130702164437.20515@web007.roc2.bluetie.com>
References: <20130702164437.20515@web007.roc2.bluetie.com>
Message-ID: <51D34800.8040502@4dscape.com>

No idea.

I get:

system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
user  system elapsed
9.66    0.01    9.67

system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
user  system elapsed
5.74    0.00    5.73

Make sure you've updated all packages used (rugarch from the google 
repository).

You have also chosen to ignore numerous warnings in previous posts to 
this forum about using such a small amount of data, and have in addition 
gone and added a nonlinear GARCH(2,1) model with the sstd distribution. 
I hope you are not using the results for anything other
than filling up empty space on your hard disk.

-Alexios

On 02/07/2013 21:44, ce wrote:
>
> Hi,
>
> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>
>> R
>
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-unknown-linux-gnu (64-bit)
>
>> library("rugarch")
> Loading required package: Rcpp
> Loading required package: RcppArmadillo
> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
>
>> data(sp500ret)
>> dim(sp500ret)
> [1] 5523    1
>
>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>     user  system elapsed
> 141.562   0.136 142.448
>
>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>   2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>
>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>     user  system elapsed
> 367.052   0.298 369.194
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From ArvanitisCh at piraeusbank.gr  Wed Jul  3 09:14:19 2013
From: ArvanitisCh at piraeusbank.gr (ArvanitisCh at piraeusbank.gr)
Date: Wed, 3 Jul 2013 07:14:19 +0000
Subject: [R-SIG-Finance] quantmod FX from Oanda
In-Reply-To: <51D2FE58.3000205@braverock.com>
References: <trinity-b3acf3fd-4cd9-43ff-8686-f2b60cfb5c89-1372781655356@3capp-gmx-bs39>
	<51D2FE58.3000205@braverock.com>
Message-ID: <1D0553B3A773464E9C862F25286DD1CB6FBFC8DF@msexc10mb2.central.piraeusgroup.gr>

Works for me as well
Regards christos

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Brian G. Peterson
Sent: Tuesday, July 02, 2013 7:23 PM
To: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] quantmod FX from Oanda

On 07/02/2013 11:14 AM, Martin Bauer wrote:
> I have tried this
> load.packages("TTR,PerformanceAnalytics,quantmod")
> getFX("USD/JPY",src="oanda",from="2013-01-01",to="2013-07-01")
> but I receive the following error msg
> Error in xts(as.numeric(fr[1:length(fr)%%2 != 1]),
> as.Date(fr[1:length(fr)%%2 ==  :
>    NROW(x) must match length(order.by) In addition: Warning messages:
> 1: In readLines(tmp) :
>    incomplete final line found on
> '/var/folders/23/shh8stb17gz9fgtsk0q4wl2w0000gn/T//Rtmp2PmND4/file43a7cc6d'
> 2: In xts(as.numeric(fr[1:length(fr)%%2 != 1]),
> as.Date(fr[1:length(fr)%%2 ==  :
>    NAs introduced by coercion
> Any idea ??

Works for me with current versions of all the packages and R.

You didn't include your sessionInfo().

I suggest upgrading to current code.

Regards,

Brian

--
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

_______________________________________________
R-SIG-Finance at r-project.org mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

MESSAGE CONFIDENTIALITY AND SECURITY NOTICE

=========================================

This message and/or its attachments may contain confidential and privileged information and is intended for the named person or entity to which it is addressed. Any use, copying or distribution of this information by anyone other than the intended recipient(s) is prohibited by law. If you receive this in error, please immediately delete it from your system and notify the sender.

The contents of this message contain personal opinions of the sender, which are not the official views of Piraeus Bank nor do they consist a provision of financial or advisory services unless expressly stated otherwise. This message is not a solicitation and/or an offer or acceptance of any proposal in relation to any contract or transaction unless expressly otherwise indicated in the message itself.

The Internet is not a secure or error-free environment, and Piraeus Bank does not accept liability for any loss or damage arising from the use of this message or from delayed, intercepted, corrupted or virus-infected e-mail transmission.


From durbanky at rogers.com  Wed Jul  3 15:13:50 2013
From: durbanky at rogers.com (durbanky at rogers.com)
Date: Wed, 03 Jul 2013 15:13:50 +0200
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
In-Reply-To: <20130702164437.20515@web007.roc2.bluetie.com>
Message-ID: <20130703131350.5562509.49683.1728@rogers.com>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130703/74243175/attachment.html>

From zadig_1 at excite.com  Thu Jul  4 09:22:59 2013
From: zadig_1 at excite.com (ce)
Date: Thu, 04 Jul 2013 03:22:59 -0400
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
Message-ID: <20130704032259.30813@web006.roc2.bluetie.com>

Hi Alexios,

Thanks for the advise, I was just testing different options and wasting my CPU cycles. 
Re-installing R and rugarch didn't help.
You should have a super computer I guess, I did the same test on a dell laptop i5 cpu 64 bit windows 7, 4GB memory,  results are :
> library("rugarch")
Loading required package: Rcpp
Loading required package: RcppArmadillo
Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")

KernSmooth 2.23 loaded
Copyright M. P. Wand 1997-2009

> data(sp500ret)
> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>  system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
   user  system elapsed 
  78.45    0.08   79.30 

> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.092949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
> 
> system.time(ugarchfit(spec, mydata, solver = 'hybrid'))
   user  system elapsed 
 218.46    0.18  233.61 


-----Original Message-----
From: "alexios ghalanos" [alexios at 4dscape.com]
Date: 07/02/2013 05:37 PM
To: "ce" <zadig_1 at excite.com>
CC: "" <r-sig-finance at r-project.org>
Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?

No idea.

I get:

system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
user  system elapsed
9.66    0.01    9.67

system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
user  system elapsed
5.74    0.00    5.73

Make sure you've updated all packages used (rugarch from the google 
repository).

You have also chosen to ignore numerous warnings in previous posts to 
this forum about using such a small amount of data, and have in addition 
gone and added a nonlinear GARCH(2,1) model with the sstd distribution. 
I hope you are not using the results for anything other
than filling up empty space on your hard disk.

-Alexios

On 02/07/2013 21:44, ce wrote:
>
> Hi,
>
> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>
>> R
>
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-unknown-linux-gnu (64-bit)
>
>> library("rugarch")
> Loading required package: Rcpp
> Loading required package: RcppArmadillo
> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
>
>> data(sp500ret)
>> dim(sp500ret)
> [1] 5523    1
>
>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>     user  system elapsed
> 141.562   0.136 142.448
>
>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>   2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>
>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>     user  system elapsed
> 367.052   0.298 369.194
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From alexios at 4dscape.com  Thu Jul  4 10:23:41 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 04 Jul 2013 11:23:41 +0300
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
In-Reply-To: <20130704032259.30813@web006.roc2.bluetie.com>
References: <20130704032259.30813@web006.roc2.bluetie.com>
Message-ID: <51D5310D.9090204@4dscape.com>

Hi,

I took out an old laptop from storage runnnig Mint x46 on an Intel Core 
2 (older than the 'i's) and was able to reproduce the problem with
rugarch 1.2-5. However, on updating to the newest release on google code 
(1.2-6) I got:

spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 
'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
  user  system elapsed
  11.412   0.052  11.470

This is "likely" related to a reversal of a change made in a previous 
version for vectorizing distributions (and affecting among other things 
the stationarity constraint, but not the likelihood
evaluation as this is in any case evaluated in C). Make sure you get the 
newest version from its google code repository and that you are in fact 
installing it.

Regards,

Alexios

On 07/04/2013 10:22 AM, ce wrote:
> Hi Alexios,
>
> Thanks for the advise, I was just testing different options and wasting my CPU cycles.
> Re-installing R and rugarch didn't help.
> You should have a super computer I guess, I did the same test on a dell laptop i5 cpu 64 bit windows 7, 4GB memory,  results are :
>> library("rugarch")
> Loading required package: Rcpp
> Loading required package: RcppArmadillo
> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
>
>> data(sp500ret)
>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>   system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
>     user  system elapsed
>    78.45    0.08   79.30
>
>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.092949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>> system.time(ugarchfit(spec, mydata, solver = 'hybrid'))
>     user  system elapsed
>   218.46    0.18  233.61
>
>
> -----Original Message-----
> From: "alexios ghalanos" [alexios at 4dscape.com]
> Date: 07/02/2013 05:37 PM
> To: "ce" <zadig_1 at excite.com>
> CC: "" <r-sig-finance at r-project.org>
> Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
>
> No idea.
>
> I get:
>
> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
> user  system elapsed
> 9.66    0.01    9.67
>
> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
> user  system elapsed
> 5.74    0.00    5.73
>
> Make sure you've updated all packages used (rugarch from the google
> repository).
>
> You have also chosen to ignore numerous warnings in previous posts to
> this forum about using such a small amount of data, and have in addition
> gone and added a nonlinear GARCH(2,1) model with the sstd distribution.
> I hope you are not using the results for anything other
> than filling up empty space on your hard disk.
>
> -Alexios
>
> On 02/07/2013 21:44, ce wrote:
>> Hi,
>>
>> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>>
>>> R
>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>> Copyright (C) 2013 The R Foundation for Statistical Computing
>> Platform: x86_64-unknown-linux-gnu (64-bit)
>>
>>> library("rugarch")
>> Loading required package: Rcpp
>> Loading required package: RcppArmadillo
>> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>>
>> KernSmooth 2.23 loaded
>> Copyright M. P. Wand 1997-2009
>>
>>> data(sp500ret)
>>> dim(sp500ret)
>> [1] 5523    1
>>
>>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>>      user  system elapsed
>> 141.562   0.136 142.448
>>
>>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>>    2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>>      user  system elapsed
>> 367.052   0.298 369.194
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>>
>


From zadig_1 at excite.com  Thu Jul  4 22:26:24 2013
From: zadig_1 at excite.com (ce)
Date: Thu, 04 Jul 2013 16:26:24 -0400
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
Message-ID: <20130704162624.27555@web003.roc2.bluetie.com>

cran rugarch version is 1.2.2. Indeed installing 1.2-6 from google solved the problem . now sp500ret completes in 15 sec. 
still not as good as your Intel core 2.  I am  disappointed with my Sony vaio i3 opensuse performance. but it's not your problem.
Thanks  a lot for your help.
ce


-----Original Message-----
From: "alexios ghalanos" [alexios at 4dscape.com]
Date: 07/04/2013 04:23 AM
To: "ce" <zadig_1 at excite.com>
CC: "" <alexios at 4dscape.com>, "" <r-sig-finance at r-project.org>
Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?

Hi,

I took out an old laptop from storage runnnig Mint x46 on an Intel Core 
2 (older than the 'i's) and was able to reproduce the problem with
rugarch 1.2-5. However, on updating to the newest release on google code 
(1.2-6) I got:

spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 
'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
  user  system elapsed
  11.412   0.052  11.470

This is "likely" related to a reversal of a change made in a previous 
version for vectorizing distributions (and affecting among other things 
the stationarity constraint, but not the likelihood
evaluation as this is in any case evaluated in C). Make sure you get the 
newest version from its google code repository and that you are in fact 
installing it.

Regards,

Alexios

On 07/04/2013 10:22 AM, ce wrote:
> Hi Alexios,
>
> Thanks for the advise, I was just testing different options and wasting my CPU cycles.
> Re-installing R and rugarch didn't help.
> You should have a super computer I guess, I did the same test on a dell laptop i5 cpu 64 bit windows 7, 4GB memory,  results are :
>> library("rugarch")
> Loading required package: Rcpp
> Loading required package: RcppArmadillo
> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
>
>> data(sp500ret)
>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>   system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
>     user  system elapsed
>    78.45    0.08   79.30
>
>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.092949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>> system.time(ugarchfit(spec, mydata, solver = 'hybrid'))
>     user  system elapsed
>   218.46    0.18  233.61
>
>
> -----Original Message-----
> From: "alexios ghalanos" [alexios at 4dscape.com]
> Date: 07/02/2013 05:37 PM
> To: "ce" <zadig_1 at excite.com>
> CC: "" <r-sig-finance at r-project.org>
> Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
>
> No idea.
>
> I get:
>
> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
> user  system elapsed
> 9.66    0.01    9.67
>
> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
> user  system elapsed
> 5.74    0.00    5.73
>
> Make sure you've updated all packages used (rugarch from the google
> repository).
>
> You have also chosen to ignore numerous warnings in previous posts to
> this forum about using such a small amount of data, and have in addition
> gone and added a nonlinear GARCH(2,1) model with the sstd distribution.
> I hope you are not using the results for anything other
> than filling up empty space on your hard disk.
>
> -Alexios
>
> On 02/07/2013 21:44, ce wrote:
>> Hi,
>>
>> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>>
>>> R
>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>> Copyright (C) 2013 The R Foundation for Statistical Computing
>> Platform: x86_64-unknown-linux-gnu (64-bit)
>>
>>> library("rugarch")
>> Loading required package: Rcpp
>> Loading required package: RcppArmadillo
>> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>>
>> KernSmooth 2.23 loaded
>> Copyright M. P. Wand 1997-2009
>>
>>> data(sp500ret)
>>> dim(sp500ret)
>> [1] 5523    1
>>
>>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>>      user  system elapsed
>> 141.562   0.136 142.448
>>
>>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>>    2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>>      user  system elapsed
>> 367.052   0.298 369.194
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>>
>


From jaimie.villanueva at gmail.com  Fri Jul  5 06:31:56 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Fri, 5 Jul 2013 06:31:56 +0200
Subject: [R-SIG-Finance] How to customize rugarch.
Message-ID: <CAEXmNQBdfX2A=6oTyPfGzS5n55nMdBEUe15Fnusu_RvJJ1y4Ug@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130705/749491ad/attachment.pl>

From alexios at 4dscape.com  Fri Jul  5 07:43:52 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 05 Jul 2013 06:43:52 +0100
Subject: [R-SIG-Finance] How to customize rugarch.
In-Reply-To: <CAEXmNQBdfX2A=6oTyPfGzS5n55nMdBEUe15Fnusu_RvJJ1y4Ug@mail.gmail.com>
References: <CAEXmNQBdfX2A=6oTyPfGzS5n55nMdBEUe15Fnusu_RvJJ1y4Ug@mail.gmail.com>
Message-ID: <51D65D18.3000302@4dscape.com>

Just pass the standardized residuals to the Box.test function (in 
stats)...after having read the documentation and paying particular 
attention to the additional arguments it takes.

Regards,

Alexios


On 05/07/2013 05:31, jaimie villanueva wrote:
> Hi everyone,
>
> I'm a great fan of the rugarch package as I use It almost every day. Up to
> now, I was using an old version (rugarch_1.0-11) but when updated to
> rugarch_1.2-6 from google code I found that some things changed. I wonder
> how could I customize functions. I mean, with the former version, when I
> was using ugarchfit function, the function provided me the ljung-box
> autocorrelation test up to 15 lags, but this time, with this new version I
> can only get ljung-box for lags (p+q)+1 and (p+q)+5 of the specified model.
>
> Would It be possible to customize this issue and set the lags what I want?.
> If so, which file should I look for?
>
> Regards.
>
> Jaimie.
>


From zadig_1 at excite.com  Fri Jul  5 16:04:14 2013
From: zadig_1 at excite.com (ce)
Date: Fri, 05 Jul 2013 10:04:14 -0400
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
Message-ID: <20130705100414.2283@web005.roc2.bluetie.com>

Hi Alexios,

One more request. Are those execution times are normal ?

> system.time(autoarfima(data = sp500ret, ar.max = 2, ma.max = 2, arfima=TRUE, criterion = "AIC", method = "full"))
   user  system elapsed 
 484.99    0.02  487.62 
> system.time(autoarfima(data = sp500ret, ar.max = 2, ma.max = 2, criterion = "AIC", method = "full"))
   user  system elapsed 
  13.71    0.02   13.74 

 arfima=TRUE option makes autoarfima very slow ?


-----Original Message-----
From: "alexios ghalanos" [alexios at 4dscape.com]
Date: 07/04/2013 04:23 AM
To: "ce" <zadig_1 at excite.com>
CC: "" <alexios at 4dscape.com>, "" <r-sig-finance at r-project.org>
Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?

Hi,

I took out an old laptop from storage runnnig Mint x46 on an Intel Core 
2 (older than the 'i's) and was able to reproduce the problem with
rugarch 1.2-5. However, on updating to the newest release on google code 
(1.2-6) I got:

spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 
'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
  user  system elapsed
  11.412   0.052  11.470

This is "likely" related to a reversal of a change made in a previous 
version for vectorizing distributions (and affecting among other things 
the stationarity constraint, but not the likelihood
evaluation as this is in any case evaluated in C). Make sure you get the 
newest version from its google code repository and that you are in fact 
installing it.

Regards,

Alexios

On 07/04/2013 10:22 AM, ce wrote:
> Hi Alexios,
>
> Thanks for the advise, I was just testing different options and wasting my CPU cycles.
> Re-installing R and rugarch didn't help.
> You should have a super computer I guess, I did the same test on a dell laptop i5 cpu 64 bit windows 7, 4GB memory,  results are :
>> library("rugarch")
> Loading required package: Rcpp
> Loading required package: RcppArmadillo
> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
>
>> data(sp500ret)
>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>   system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
>     user  system elapsed
>    78.45    0.08   79.30
>
>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.092949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>> system.time(ugarchfit(spec, mydata, solver = 'hybrid'))
>     user  system elapsed
>   218.46    0.18  233.61
>
>
> -----Original Message-----
> From: "alexios ghalanos" [alexios at 4dscape.com]
> Date: 07/02/2013 05:37 PM
> To: "ce" <zadig_1 at excite.com>
> CC: "" <r-sig-finance at r-project.org>
> Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
>
> No idea.
>
> I get:
>
> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
> user  system elapsed
> 9.66    0.01    9.67
>
> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
> user  system elapsed
> 5.74    0.00    5.73
>
> Make sure you've updated all packages used (rugarch from the google
> repository).
>
> You have also chosen to ignore numerous warnings in previous posts to
> this forum about using such a small amount of data, and have in addition
> gone and added a nonlinear GARCH(2,1) model with the sstd distribution.
> I hope you are not using the results for anything other
> than filling up empty space on your hard disk.
>
> -Alexios
>
> On 02/07/2013 21:44, ce wrote:
>> Hi,
>>
>> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>>
>>> R
>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>> Copyright (C) 2013 The R Foundation for Statistical Computing
>> Platform: x86_64-unknown-linux-gnu (64-bit)
>>
>>> library("rugarch")
>> Loading required package: Rcpp
>> Loading required package: RcppArmadillo
>> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>>
>> KernSmooth 2.23 loaded
>> Copyright M. P. Wand 1997-2009
>>
>>> data(sp500ret)
>>> dim(sp500ret)
>> [1] 5523    1
>>
>>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>>      user  system elapsed
>> 141.562   0.136 142.448
>>
>>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>>    2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>
>>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>>      user  system elapsed
>> 367.052   0.298 369.194
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>>
>


From alexios at 4dscape.com  Fri Jul  5 18:08:51 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 05 Jul 2013 17:08:51 +0100
Subject: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
In-Reply-To: <20130705100414.2283@web005.roc2.bluetie.com>
References: <20130705100414.2283@web005.roc2.bluetie.com>
Message-ID: <51D6EF93.7020600@4dscape.com>

Yes it is slow because the fractional parameter is estimated by ML using 
a truncation lag of about 1000 (there are quicker methods but this is 
the method used by rugarch for the joint ARFIMA-GARCH estimation...and 
it just carries over to the
ARFIMA-non GARCH model). The autoarfima function provides the option of
passing a cluster object (from the parallel package) in order to 
evaluate the models in parallel (but you probably already knew this as 
it is documented).

-Alexios

On 05/07/2013 15:04, ce wrote:
> Hi Alexios,
>
> One more request. Are those execution times are normal ?
>
>> system.time(autoarfima(data = sp500ret, ar.max = 2, ma.max = 2, arfima=TRUE, criterion = "AIC", method = "full"))
>     user  system elapsed
>   484.99    0.02  487.62
>> system.time(autoarfima(data = sp500ret, ar.max = 2, ma.max = 2, criterion = "AIC", method = "full"))
>     user  system elapsed
>    13.71    0.02   13.74
>
>   arfima=TRUE option makes autoarfima very slow ?
>
>
> -----Original Message-----
> From: "alexios ghalanos" [alexios at 4dscape.com]
> Date: 07/04/2013 04:23 AM
> To: "ce" <zadig_1 at excite.com>
> CC: "" <alexios at 4dscape.com>, "" <r-sig-finance at r-project.org>
> Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
>
> Hi,
>
> I took out an old laptop from storage runnnig Mint x46 on an Intel Core
> 2 (older than the 'i's) and was able to reproduce the problem with
> rugarch 1.2-5. However, on updating to the newest release on google code
> (1.2-6) I got:
>
> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel =
> 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
> system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
>    user  system elapsed
>    11.412   0.052  11.470
>
> This is "likely" related to a reversal of a change made in a previous
> version for vectorizing distributions (and affecting among other things
> the stationarity constraint, but not the likelihood
> evaluation as this is in any case evaluated in C). Make sure you get the
> newest version from its google code repository and that you are in fact
> installing it.
>
> Regards,
>
> Alexios
>
> On 07/04/2013 10:22 AM, ce wrote:
>> Hi Alexios,
>>
>> Thanks for the advise, I was just testing different options and wasting my CPU cycles.
>> Re-installing R and rugarch didn't help.
>> You should have a super computer I guess, I did the same test on a dell laptop i5 cpu 64 bit windows 7, 4GB memory,  results are :
>>> library("rugarch")
>> Loading required package: Rcpp
>> Loading required package: RcppArmadillo
>> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>>
>> KernSmooth 2.23 loaded
>> Copyright M. P. Wand 1997-2009
>>
>>> data(sp500ret)
>>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>>    system.time(ugarchfit(spec, sp500ret, solver = 'hybrid'))
>>      user  system elapsed
>>     78.45    0.08   79.30
>>
>>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09294952
3,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>>
>>> system.time(ugarchfit(spec, mydata, solver = 'hybrid'))
>>      user  system elapsed
>>    218.46    0.18  233.61
>>
>>
>> -----Original Message-----
>> From: "alexios ghalanos" [alexios at 4dscape.com]
>> Date: 07/02/2013 05:37 PM
>> To: "ce" <zadig_1 at excite.com>
>> CC: "" <r-sig-finance at r-project.org>
>> Subject: Re: [R-SIG-Finance] why my rugarch ugarchfit function is slow ?
>>
>> No idea.
>>
>> I get:
>>
>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>> user  system elapsed
>> 9.66    0.01    9.67
>>
>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>> user  system elapsed
>> 5.74    0.00    5.73
>>
>> Make sure you've updated all packages used (rugarch from the google
>> repository).
>>
>> You have also chosen to ignore numerous warnings in previous posts to
>> this forum about using such a small amount of data, and have in addition
>> gone and added a nonlinear GARCH(2,1) model with the sstd distribution.
>> I hope you are not using the results for anything other
>> than filling up empty space on your hard disk.
>>
>> -Alexios
>>
>> On 02/07/2013 21:44, ce wrote:
>>> Hi,
>>>
>>> I use R 3.0.1, opensuse 12.3 on a sony vaio i3 cpu.  When I use sp500ret data (5523 values) coming from rugarch package, ugarchfit performance is acceptable, but my data has only 102 values, why it takes much longer?
>>>
>>>> R
>>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>>> Copyright (C) 2013 The R Foundation for Statistical Computing
>>> Platform: x86_64-unknown-linux-gnu (64-bit)
>>>
>>>> library("rugarch")
>>> Loading required package: Rcpp
>>> Loading required package: RcppArmadillo
>>> Package Rsolnp (1.14) loaded.  To cite, see citation("Rsolnp")
>>>
>>> KernSmooth 2.23 loaded
>>> Copyright M. P. Wand 1997-2009
>>>
>>>> data(sp500ret)
>>>> dim(sp500ret)
>>> [1] 5523    1
>>>
>>>> spec = ugarchspec(variance.model = list(model = 'fGARCH',submodel = 'NAGARCH', garchOrder = c(2, 1)), distribution = 'sstd')
>>>> system.time(ugarchfit(spec, sp500ret,  solver = 'hybrid'))
>>>       user  system elapsed
>>> 141.562   0.136 142.448
>>>
>>>> mydata = c(0.082642875,-0.854761542,-0.077033376,0.406766344,-0.158930181,0.221923295,0.142042082,0.197391055,-0.109232737,-0.139228622,-0.121972401,-0.153521155,-0.046589943,-0.145470513,0.219578485,0.043333125,-0.034798222,-0.162685582,-0.053049221,0.207199901,-0.224930862,0.022989518,-0.028370697,0.010733556,0.065427805,-0.065427805,-0.355150941,-0.065554265,0.239806124,-0.054778206,0.203124684,-0.035550984,0.090971778,-0.033601747,0.066111025,0.029852963,0.030573580,-0.060426543,-0.160342650,0.170392986,0.000000000,-0.133531393,0.011363759,0.345311185,-0.057629113,0.083946421,0.165954579,0.038839833,-0.078104552,-0.088468648,0.117783036,0.074901308,0.002059733,0.066658187,0.038702329,0.211970251,0.016345089,-0.076548451,-0.367989997,-0.067762102,-0.016119382,0.148420005,-0.154689618,-0.213753811,-0.117199094,0.019081238,-0.097374164,0.255933374,0.353296810,0.132887519,-0.044246849,0.098646225,0.067682591,-0.066828985,0.241405811,0.032962773,0.067695013,0.050232125,0.09!
>>>     2949523,-0.284186788,0.024811748,0.020883211,-0.112795494,0.317639288,0.072787942,0.113058086,0.120935481,0.017040238,-0.011857846,-0.027410019,-0.211765940,-0.054488185,-0.268140917,0.034273403,-0.098347132,0.040078224,-0.010772097,0.000000000,0.000000000,0.000000000,0.000000000,0.537189816)
>>>
>>>> system.time(ugarchfit(spec, mydata,  solver = 'hybrid'))
>>>       user  system elapsed
>>> 367.052   0.298 369.194
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.
>>>
>>
>
>
>
>


From liebert.daniel at googlemail.com  Sun Jul  7 02:58:47 2013
From: liebert.daniel at googlemail.com (Daniel Liebert)
Date: Sun, 7 Jul 2013 02:58:47 +0200
Subject: [R-SIG-Finance] VaR calculation produces unreliable result
Message-ID: <CANFB4-YsrpQw=ceRkf8jRgqnnbwcBXU6bgy5-W9Qy0vjQTMraw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130707/78098bd5/attachment.pl>

From frankm60606 at gmail.com  Sun Jul  7 23:06:32 2013
From: frankm60606 at gmail.com (Frank)
Date: Sun, 7 Jul 2013 16:06:32 -0500
Subject: [R-SIG-Finance] WTI Crude oil prices
Message-ID: <CC21176F97AD48289427C80F2A70E1D6@Franki7PC>

Is there a way to use quanmod to get WTI crude oil prices from 

http://www.eia.gov/dnav/pet/hist/LeafHandler.ashx?n=pet&s=rwtc&f=d

Thanks,

Frank
Chicago, IL


From ivan-vk at bit-of-light.com  Mon Jul  8 01:34:16 2013
From: ivan-vk at bit-of-light.com (TheTerrible)
Date: Sun, 7 Jul 2013 16:34:16 -0700 (PDT)
Subject: [R-SIG-Finance] qmao and earnings.com problem
Message-ID: <1373240056922-4671061.post@n4.nabble.com>

Hi All,

It looks Earnings.com does not exist anymore - redirected to reuters.
So qmao package doesn't work.

Is there still a way to get earnings info from any free source?

Thanks in advance,
Ivan



--
View this message in context: http://r.789695.n4.nabble.com/qmao-and-earnings-com-problem-tp4671061.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Mon Jul  8 01:43:06 2013
From: gsee000 at gmail.com (G See)
Date: Sun, 7 Jul 2013 18:43:06 -0500
Subject: [R-SIG-Finance] qmao and earnings.com problem
In-Reply-To: <1373240056922-4671061.post@n4.nabble.com>
References: <1373240056922-4671061.post@n4.nabble.com>
Message-ID: <CA+xi=qZ8N3zHnGjCRuZVQn3YA-FTH1H7PCfWTA1mD5Ro-8n0tg@mail.gmail.com>

That's very disappointing.  Thanks for the heads up.

Garrett

On Sun, Jul 7, 2013 at 6:34 PM, TheTerrible <ivan-vk at bit-of-light.com> wrote:
> Hi All,
>
> It looks Earnings.com does not exist anymore - redirected to reuters.
> So qmao package doesn't work.
>
> Is there still a way to get earnings info from any free source?
>
> Thanks in advance,
> Ivan
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/qmao-and-earnings-com-problem-tp4671061.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From alexios at 4dscape.com  Mon Jul  8 01:43:32 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 08 Jul 2013 00:43:32 +0100
Subject: [R-SIG-Finance] qmao and earnings.com problem
In-Reply-To: <1373240056922-4671061.post@n4.nabble.com>
References: <1373240056922-4671061.post@n4.nabble.com>
Message-ID: <51D9FD24.3000602@4dscape.com>

See this post for getting data from advfn:
http://systematicinvestor.wordpress.com/2012/01/29/multiple-factor-model-fundamental-data/

-Alexios

On 08/07/2013 00:34, TheTerrible wrote:
> Hi All,
>
> It looks Earnings.com does not exist anymore - redirected to reuters.
> So qmao package doesn't work.
>
> Is there still a way to get earnings info from any free source?
>
> Thanks in advance,
> Ivan
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/qmao-and-earnings-com-problem-tp4671061.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From ivan-vk at bit-of-light.com  Mon Jul  8 02:07:42 2013
From: ivan-vk at bit-of-light.com (TheTerrible)
Date: Sun, 7 Jul 2013 17:07:42 -0700 (PDT)
Subject: [R-SIG-Finance] qmao and earnings.com problem
In-Reply-To: <51D9FD24.3000602@4dscape.com>
References: <1373240056922-4671061.post@n4.nabble.com>
	<51D9FD24.3000602@4dscape.com>
Message-ID: <1373242062139-4671064.post@n4.nabble.com>

Thanks a lot, Alexios.
Looks promising, I'll give it a try. And the whole package is interesting...

Thanks,
Ivan


alexios wrote
> See this post for getting data from advfn:
> http://systematicinvestor.wordpress.com/2012/01/29/multiple-factor-model-fundamental-data/
> 
> -Alexios





--
View this message in context: http://r.789695.n4.nabble.com/qmao-and-earnings-com-problem-tp4671061p4671064.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From hvollmeier at mac.com  Mon Jul  8 12:43:52 2013
From: hvollmeier at mac.com (Helmuth Vollmeier)
Date: Mon, 8 Jul 2013 12:43:52 +0200
Subject: [R-SIG-Finance] WTI Crude oil prices
Message-ID: <CAHG7xcdfRfmOd1XyBd9iq=VyYG9W_6H5Qv1ZSGFG8oBft6Tf=Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130708/732b1865/attachment.pl>

From mcmarteau at yahoo.com  Tue Jul  9 10:58:38 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Tue, 09 Jul 2013 09:58:38 +0100
Subject: [R-SIG-Finance] Rforge TradeAnalytics packages forbidden
Message-ID: <d992754a-934e-4a41-8849-8165fc1a7837@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130709/855820c0/attachment.pl>

From mcmarteau at yahoo.com  Tue Jul  9 13:59:01 2013
From: mcmarteau at yahoo.com (Marteau)
Date: Tue, 09 Jul 2013 12:59:01 +0100
Subject: [R-SIG-Finance] Rforge TradeAnalytics packages forbidden
In-Reply-To: <d992754a-934e-4a41-8849-8165fc1a7837@email.android.com>
References: <d992754a-934e-4a41-8849-8165fc1a7837@email.android.com>
Message-ID: <8c1bcfa4-18e5-42ba-816a-2f94569d2e06@email.android.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130709/41ea17c8/attachment.pl>

From Bauermartin at gmx.at  Wed Jul 10 12:53:26 2013
From: Bauermartin at gmx.at (Martin Bauer)
Date: Wed, 10 Jul 2013 12:53:26 +0200 (CEST)
Subject: [R-SIG-Finance] IBROKER - Problems with OrderID
Message-ID: <trinity-2b0b60b4-afd2-4a1a-b3a3-7e1e706d6e7e-1373453606209@3capp-gmx-bs23>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130710/14919169/attachment.html>

From elephann at gmail.com  Wed Jul 10 13:50:01 2013
From: elephann at gmail.com (Daniel Duan)
Date: Wed, 10 Jul 2013 19:50:01 +0800
Subject: [R-SIG-Finance] efficient linear programming problem!
Message-ID: <CAEc=pqz4gsyLZmL_Oqf70C+CS_4=O07T+puGYwzgw5Cu8j+-pg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130710/891d2bba/attachment.pl>

From brian at braverock.com  Wed Jul 10 13:58:10 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 10 Jul 2013 06:58:10 -0500
Subject: [R-SIG-Finance] efficient linear programming problem!
In-Reply-To: <CAEc=pqz4gsyLZmL_Oqf70C+CS_4=O07T+puGYwzgw5Cu8j+-pg@mail.gmail.com>
References: <CAEc=pqz4gsyLZmL_Oqf70C+CS_4=O07T+puGYwzgw5Cu8j+-pg@mail.gmail.com>
Message-ID: <51DD4C52.5060401@braverock.com>

Try rglpk.  In my experience it is faster than Rsymphony

On 07/10/2013 06:50 AM, Daniel Duan wrote:
> Dear all,
>    I am dealing with a Linear Programming problem which involve intensive
>   caculation and my code seems quite inefficient: it take 10 to 30 minutes to
>   finish a single optimization. I wonder can anyone give me some advice on
> how
>   to improve it. Any suggestions as to packages or code that will work
>   efficiently for my problem would be much appreciated.
>   Thanks!
>   Here are my code:
>   data: rmat is a time series object with s row and n column(or s*n
> matrix,s=130,n=30)
>   memory.limit(12000)
>   require(Rsymphony)
>
>   P.risk_parameter<-c(106,44,4,3)
>   # parameter
>
>   PRAF10<-
> function(p,risk_parameter=P.risk_parameter[2]){risk_parameter*(1-p)^(risk_parameter-1)}
>   # function
>
>   Amat.function<-function(rmat,RFR=0){
>   n = ncol(rmat)
>   s = nrow(rmat)
>   # construct constraint matrix
>   A<-matrix(0,2*s*s+3,s*s+s+n+1)
>   A[1,1:n]<-                              colMeans(rmat)
>   A[1,s*s+s+n+1]<-                        -RFR
>   A[2,1:n]<-                              1
>   A[2,s*s+s+n+1]<-                        -1
>   for(i in 1:s)(A[(3+(i-1)*s):(i*s+2),1:n]<-rmat )
>   for(i in 1:s)(A[(3+(i-1)*s):(i*s+2),n+i]<- -1)
>   A[3:(s*s+2),(n+s+1):(s*s+s+n)]<-        diag(s*s)
>   A[(3+s*s):(2*s*s+2),(n+s+1):(s*s+s+n)]<-diag(s*s)
>   A[3:(2*s*s+2),s*s+s+n+1]<-              -RFR
>   A[2*s*s+3,s*s+s+n+1]<-                   1
>   return(A)
>   }
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From alexios at 4dscape.com  Wed Jul 10 14:11:54 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Wed, 10 Jul 2013 13:11:54 +0100
Subject: [R-SIG-Finance] efficient linear programming problem!
In-Reply-To: <CAEc=pqz4gsyLZmL_Oqf70C+CS_4=O07T+puGYwzgw5Cu8j+-pg@mail.gmail.com>
References: <CAEc=pqz4gsyLZmL_Oqf70C+CS_4=O07T+puGYwzgw5Cu8j+-pg@mail.gmail.com>
Message-ID: <DC890F88-25FF-4E9A-A025-D75A3C744E34@4dscape.com>

Quick suggestion: If there is sparsity in your matrix you may benefit from using slam (Rsymphony and Rglpk both accept slam matrices).

-Alexios

On 10 Jul 2013, at 12:50, Daniel Duan <elephann at gmail.com> wrote:

> Dear all,
>  I am dealing with a Linear Programming problem which involve intensive
> caculation and my code seems quite inefficient: it take 10 to 30 minutes to
> finish a single optimization. I wonder can anyone give me some advice on
> how
> to improve it. Any suggestions as to packages or code that will work
> efficiently for my problem would be much appreciated.
> Thanks!
> Here are my code:
> data: rmat is a time series object with s row and n column(or s*n
> matrix,s=130,n=30)
> memory.limit(12000)
> require(Rsymphony)
> 
> P.risk_parameter<-c(106,44,4,3)
> # parameter
> 
> PRAF10<-
> function(p,risk_parameter=P.risk_parameter[2]){risk_parameter*(1-p)^(risk_parameter-1)}
> # function
> 
> Amat.function<-function(rmat,RFR=0){
> n = ncol(rmat)
> s = nrow(rmat)
> # construct constraint matrix
> A<-matrix(0,2*s*s+3,s*s+s+n+1)
> A[1,1:n]<-                              colMeans(rmat)
> A[1,s*s+s+n+1]<-                        -RFR
> A[2,1:n]<-                              1
> A[2,s*s+s+n+1]<-                        -1
> for(i in 1:s)(A[(3+(i-1)*s):(i*s+2),1:n]<-rmat )
> for(i in 1:s)(A[(3+(i-1)*s):(i*s+2),n+i]<- -1)
> A[3:(s*s+2),(n+s+1):(s*s+s+n)]<-        diag(s*s)
> A[(3+s*s):(2*s*s+2),(n+s+1):(s*s+s+n)]<-diag(s*s)
> A[3:(2*s*s+2),s*s+s+n+1]<-              -RFR
> A[2*s*s+3,s*s+s+n+1]<-                   1
> return(A)
> }
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From jeff.a.ryan at gmail.com  Wed Jul 10 14:15:00 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 10 Jul 2013 07:15:00 -0500
Subject: [R-SIG-Finance] IBROKER - Problems with OrderID
In-Reply-To: <trinity-2b0b60b4-afd2-4a1a-b3a3-7e1e706d6e7e-1373453606209@3capp-gmx-bs23>
References: <trinity-2b0b60b4-afd2-4a1a-b3a3-7e1e706d6e7e-1373453606209@3capp-gmx-bs23>
Message-ID: <29219E96-F898-4E0C-B9A6-9FAD8589FACF@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130710/579f18ce/attachment.pl>

From bbands at gmail.com  Thu Jul 11 16:34:23 2013
From: bbands at gmail.com (BBands)
Date: Thu, 11 Jul 2013 07:34:23 -0700
Subject: [R-SIG-Finance] An experiment
Message-ID: <CAGS5yBVDMbiRcr24G56i5BAGoKhjW4SF4nn-Lgno4hUJ8XNpCA@mail.gmail.com>

I posted the following to the Markets list earlier, as that is where
the seed came from, but it more properly belongs here. I wish to start
by thanking all for all the time you have put in and the brilliance of
your work.

"""
I was impressed by the short-term chart of IWM that I looked at
yesterday and intend to do something about it. I will write three
simple Bollinger Band systems and deploy them. I will write them both
in R (likely quantmod, TTR, IBrokers...) and Python (ibPy...) using
the Interactive Brokers API. I plan to use RStudio and PyScripter as
IDEs. The platform will be Ubuntu Linux. Initially I will trade single
lots of 100 shares in an over-capitalized account. When I have
sufficient real-time trade data, I will switch to using a version
optimal f. There will be no optimization; if the systems work they
will be used as designed, if not they will be discarded. If this
works, I will move this project to a collocated server in NY. I will
report back on my progress, but this should take some time (perhaps a
lot) as there is quite a bit to learn and code. Any pointers, tips on
avoiding pratfalls, etc., greatly appreciated; either here or to
BBands at BollingerBands dot com. I've been wanting to do this ever
since Chris Cooper turned his forex robot loose and that was a long
time ago...

Best,

      jab
"""

With any luck, I might have something for the conference next year.

Best,

     John
--
John Bollinger
www.BollingerBands.com


From rafael.nogueira at spxcapital.com.br  Mon Jul 15 15:22:47 2013
From: rafael.nogueira at spxcapital.com.br (Rafael Nogueira)
Date: Mon, 15 Jul 2013 10:22:47 -0300
Subject: [R-SIG-Finance] Counterparty Credit Risk and CVA
Message-ID: <d93382d02cbc7b1a784da2002a6c5c40@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130715/5b489bc8/attachment.pl>

From hans.radtke at gutmark.net  Tue Jul 16 13:41:07 2013
From: hans.radtke at gutmark.net (Hans Radtke)
Date: Tue, 16 Jul 2013 11:41:07 +0000
Subject: [R-SIG-Finance] Counterparty Credit Risk and CVA
In-Reply-To: <mailman.3.1373968802.16606.r-sig-finance@r-project.org>
References: <mailman.3.1373968802.16606.r-sig-finance@r-project.org>
Message-ID: <C7D765E3-0D35-4C9A-85C2-4BA731ABE3E0@gutmark.net>

Rafael,

To my knowledge, there aren't any packages available dealing with Expected Exposure and CVA.

The challenge, I guess, is threefold: You need...
1) a long-term simulation framework for market risk drivers
2) pricing models for derivatives
3) some netting logic

As far as I know, (1) and (3) are not available, and coverage of (2) is patchy.

There is also the small issue that you're typically looking at something in the region of 5.000 sims x 40 timesteps (with path dependency) = 200k repricings of your portfolio for this exercise - which is why these applications tend to run on server farms or GPU technology.

However... if I'm wrong, please let me know. I could use this as well :)


Mit besten Gr??en / With kind regards
Hans Radtke


From bbands at gmail.com  Thu Jul 18 20:35:10 2013
From: bbands at gmail.com (BBands)
Date: Thu, 18 Jul 2013 11:35:10 -0700
Subject: [R-SIG-Finance] An experiment
In-Reply-To: <20965.21473.714855.212935@max.nulle.part>
References: <CAGS5yBVDMbiRcr24G56i5BAGoKhjW4SF4nn-Lgno4hUJ8XNpCA@mail.gmail.com>
	<20965.21473.714855.212935@max.nulle.part>
Message-ID: <CAGS5yBWiEXjz+vHyA_ipe68zw97JH1XuaFkjuuEdTJK=NOHv_g@mail.gmail.com>

So far, so good. I've made decent progress in the little time I've
been able to allocate to it. I'm sticking with the R/RStudio/TWS
API/Quantmod/TTR stuff for now and am impressed. I hope to focus a bit
more on this next week.

Best,

     John -- who never left, just got quiet for a while

On Tue, Jul 16, 2013 at 7:08 AM, Dirk Eddelbuettel <edd at debian.org> wrote:
>
> A little late as I was vacationing in Australia where by better half was
> attending a conference...
>
> On 11 July 2013 at 07:34, BBands wrote:
> | I posted the following to the Markets list earlier, as that is where
> | the seed came from, but it more properly belongs here. I wish to start
> | by thanking all for all the time you have put in and the brilliance of
> | your work.
> |
> | """
> | I was impressed by the short-term chart of IWM that I looked at
> | yesterday and intend to do something about it. I will write three
> | simple Bollinger Band systems and deploy them. I will write them both
> | in R (likely quantmod, TTR, IBrokers...) and Python (ibPy...) using
> | the Interactive Brokers API. I plan to use RStudio and PyScripter as
> | IDEs. The platform will be Ubuntu Linux. Initially I will trade single
>
> Awesome.
>
> If you need any help setting things up please drop me a line.
>
> | lots of 100 shares in an over-capitalized account. When I have
> | sufficient real-time trade data, I will switch to using a version
> | optimal f. There will be no optimization; if the systems work they
> | will be used as designed, if not they will be discarded. If this
> | works, I will move this project to a collocated server in NY. I will
> | report back on my progress, but this should take some time (perhaps a
> | lot) as there is quite a bit to learn and code. Any pointers, tips on
> | avoiding pratfalls, etc., greatly appreciated; either here or to
> | BBands at BollingerBands dot com. I've been wanting to do this ever
> | since Chris Cooper turned his forex robot loose and that was a long
> | time ago...
>
> Yes. Wonderful idea.  We need more of this. I'll help where I can (and yes, I
> do little bits of Python too these days by still mostly R, C++, shell, ...)
>
> Either way we would love to have you back at R/Finance.


From sal.vve7 at gmail.com  Sat Jul 20 23:49:08 2013
From: sal.vve7 at gmail.com (W S)
Date: Sat, 20 Jul 2013 23:49:08 +0200
Subject: [R-SIG-Finance] rugarch package (sstd density function)
Message-ID: <CAHZ72+ApOpfxXLVxJRkYdC2dqXKEtvDfvjaGp-gxg_0yex90FQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130720/68011ca5/attachment.pl>

From alexios at 4dscape.com  Sun Jul 21 00:13:35 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sat, 20 Jul 2013 23:13:35 +0100
Subject: [R-SIG-Finance] rugarch package (sstd density function)
In-Reply-To: <CAHZ72+ApOpfxXLVxJRkYdC2dqXKEtvDfvjaGp-gxg_0yex90FQ@mail.gmail.com>
References: <CAHZ72+ApOpfxXLVxJRkYdC2dqXKEtvDfvjaGp-gxg_0yex90FQ@mail.gmail.com>
Message-ID: <51EB0B8F.6050808@4dscape.com>

The equation you refer to never said that "f()" is the "standardized" 
student distribution. The trick was to take that equation in their paper 
and derive a standardized form for the skew student which is implemented 
in the package (zero mean and unit variance)...which is why the moment 
equations (for standardization) are also provided on that same page. 
This means that you cannot just replace the student with the 
standardized student in the equation.

The full code/equations can be found in 'distributions.c' file of the 
source, which means you should be able to figure out for yourself the 
details.

One final thing: You emailed me using a different gmail address than the 
one you are posting to this mailing list which makes me suspect that 
they are all just aliases (and I could not connect either of them to an 
actual individual). In future, I will not reply to any address which I 
cannot, with a minimal google search, trace to an actual person.

Regards,

Alexios



On 20/07/2013 22:49, W S wrote:
> Hello,
>
> I have a question about the formula of the density function for "sstd"
> distribution implemented in rugarch package.
>
> For example, assuming:
>> z=-1
>> g=2
>> v=3
> shouldn't the formula:
>> 2/(g+g^(-1)) * ddist("std", y=(g*z), mu=0, sigma=1, shape=v)
> return the same result as:
>> ddist("sstd", y=z, mu=0, sigma=1, skew=g, shape=v)
>   according to the transformation (58) presented in "Introduction to the
> rugarch package (Version 1.2-1)" (page 15)?
>
>   I'm getting different results... perhaps because I don't understand
> correctly the mechanism of obtaining the "sstd" density.
>   What formula should I use then, if I want to obtain "sstd" density using
> the "std" density function?
>
> Best regards,
> Weronika
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From ganesha0701 at gmail.com  Sun Jul 21 06:38:36 2013
From: ganesha0701 at gmail.com (ganesha0701)
Date: Sun, 21 Jul 2013 10:08:36 +0530
Subject: [R-SIG-Finance] IBrokers storing Interactive data.
Message-ID: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130721/c02d255a/attachment.pl>

From bennfine at gmail.com  Sun Jul 21 13:37:12 2013
From: bennfine at gmail.com (benn fine)
Date: Sun, 21 Jul 2013 07:37:12 -0400
Subject: [R-SIG-Finance] Equality of covariance matrices??
Message-ID: <CALghxgTNisq7ebfaMnoUHzd1LG379337XCTmfgV4WYrOaJW9Hg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130721/a13d3e7b/attachment.pl>

From josh.m.ulrich at gmail.com  Mon Jul 22 03:34:28 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 21 Jul 2013 20:34:28 -0500
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
Message-ID: <CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>

Mark,

It's been awhile, but I finally looked at this and patched it in
revision 1483.  It's forces the session timezone to UTC... not ideal,
but it works.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Sat, May 11, 2013 at 7:04 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> The "longtrend" and "turtles" demos appear to be broken by recent
> changes to xts and quantmod (regarding timezone issues with
> Date-classed indexes).  I don't have time to work on a fix at the
> moment, but wanted to answer in case others might investigate and work
> on a patch.
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
> R/Finance 2013: Applied Finance with R  | www.RinFinance.com
>
>
> On Fri, May 10, 2013 at 4:47 PM, Mark Knecht <markknecht at gmail.com> wrote:
>> Hi,
>>    I'm struggling to get any of the demos in the blotter package to
>> work. Using a command such as:
>>
>> demo(longtrend, package="blotter")
>>
>> it runs along for a second and then fails with this message:
>>
>> +     # Calculate P&L and resulting equity with blotter
>> +     updatePortf(ltportfolio, Dates = CurrentDate)
>> +     updateAcct(ltaccount, Dates = CurrentDate)
>> +     updateEndEq(ltaccount, Dates = CurrentDate)
>> + } # End dates loop
>> .
>> [1] "1998-10-30 00:00:00 GSPC 91 @ 1098.67"
>> Error in lag.xts(TmpPeriods$Pos.Value, 1) :
>>   abs(k) must be less than nrow(x)
>> In addition: Warning messages:
>> 1: In rm("account.longtrend", "portfolio.longtrend", pos = .blotter) :
>>   object 'account.longtrend' not found
>> 2: In rm("account.longtrend", "portfolio.longtrend", pos = .blotter) :
>>   object 'portfolio.longtrend' not found
>> 3: In rm("ltaccount", "ltportfolio", "ClosePrice", "CurrentDate", "equity",  :
>>   object 'ltaccount' not found
>> 4: In rm("ltaccount", "ltportfolio", "ClosePrice", "CurrentDate", "equity",  :
>>   object 'ltportfolio' not found
>> 5: In rm("ltaccount", "ltportfolio", "ClosePrice", "CurrentDate", "equity",  :
>>   object 'GSPC' not found
>> 6: In download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,  :
>>   downloaded length 236151 != reported length 200
>>
>>    I suspect I'm just not running it correctly but don't know what I'm
>> doing wrong.
>>
>>    I've generally had trouble with all demos having to do with
>> blotter. Are they still working or are they no longer maintained?
>>
>>    The quantstrat demos, at least the couple I've tried, do seem to work.
>>
>>    This is R-2.15.3 running in RStudio=0.97.336/
>>
>> Thanks,
>> Mark
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From student.northwestern at gmail.com  Mon Jul 22 04:01:08 2013
From: student.northwestern at gmail.com (Jim Green)
Date: Sun, 21 Jul 2013 22:01:08 -0400
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
Message-ID: <CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130721/c1b84a77/attachment.pl>

From wlmr at zhaw.ch  Mon Jul 22 09:11:38 2013
From: wlmr at zhaw.ch (Wildi Marc (wlmr))
Date: Mon, 22 Jul 2013 07:11:38 +0000
Subject: [R-SIG-Finance] Equality of covariance matrices??
In-Reply-To: <CALghxgTNisq7ebfaMnoUHzd1LG379337XCTmfgV4WYrOaJW9Hg@mail.gmail.com>
References: <CALghxgTNisq7ebfaMnoUHzd1LG379337XCTmfgV4WYrOaJW9Hg@mail.gmail.com>
Message-ID: <E2339A3600811248AB525B8FAB3A1BCE98793F27@srv-mail-101.zhaw.ch>

I hope you do not assume Gaussianity, don't you?

Marc

________________________________________
Von: r-sig-finance-bounces at r-project.org [r-sig-finance-bounces at r-project.org]&quot; im Auftrag von &quot;benn fine [bennfine at gmail.com]
Gesendet: Sonntag, 21. Juli 2013 13:37
An: R-SIG-Finance at r-project.org
Betreff: [R-SIG-Finance] Equality of covariance matrices??

HI:

I know there are several likelihood ratio tests for comparing two
covariance matrices but darned if I can find them coded in R. Does anyone
know if they are lurking in some package?

Thanks!

b

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

From z.krizek at gmail.com  Mon Jul 22 15:24:59 2013
From: z.krizek at gmail.com (zeljko krizek)
Date: Mon, 22 Jul 2013 15:24:59 +0200
Subject: [R-SIG-Finance] how to get programmatically "portfolio weights"
 from portfolioFrontier-Object after optimization
Message-ID: <CAKd8xcmDw=sUBkC2rj-YM4b_BXCRny3GVAaSjJ_H1r6ekfP6UA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130722/75e9e1f2/attachment.pl>

From bbands at gmail.com  Mon Jul 22 18:02:04 2013
From: bbands at gmail.com (BBands)
Date: Mon, 22 Jul 2013 09:02:04 -0700
Subject: [R-SIG-Finance] IBrokers storing Interactive data.
In-Reply-To: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
References: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
Message-ID: <CAGS5yBUCp5LZuN1vs3uKXsm5tZ4mmjAuhYQEW7_LVBH_am2pfQ@mail.gmail.com>

If you can't find the exact solution you want, there is a neat project
that you might want to look at, TradingShim. The author, Russ Herrold,
is a long-time R user. http://www.trading-shim.org/ The shim can
capture your data in the background and you can easily access it from
R.

    John

On Sat, Jul 20, 2013 at 9:38 PM, ganesha0701 <ganesha0701 at gmail.com> wrote:
> I came across IBrokers, and was impressed. My goal is to save real time
> data through the Interactive Brokers API and am looking to use it.
>
> The data I need should be in the following format
>
> timestamp, product, bid1Price, bid1Size, ask1Price, ask1Size,bid2Price,
> bid2Size, ask2Price, ask2Size,bid3Price, bid3Size, ask3Price,
> ask3Size,bid4Price, bid4Size, ask4Price, ask4Size,bid5Price, bid5Size,
> ask5Price, ask5Size, last Trade Price, last Trade Size
>
> So basically I am looking for all the 5 levels and the last trade
> information if there was any.
>
> I understand their API and know that I need to call the reqMarketDepth
> method. The problem is that they don't really give any time stamp
> information.
>
> So my question is can I use this package to do the above, if yes, how do
> you generate the time stamp info? How do I get the last trade info?
>
> I would be grateful to you if you could offer any light on the matter.


From jeff.a.ryan at gmail.com  Mon Jul 22 18:38:26 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 22 Jul 2013 11:38:26 -0500
Subject: [R-SIG-Finance] IBrokers storing Interactive data.
In-Reply-To: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
References: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
Message-ID: <CABDUZc8d6jg6McAHmDj-_gsDmd9Tis96ZGOpTborLHP5PChf1A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130722/abc400d0/attachment.pl>

From rowe at muxspace.com  Mon Jul 22 18:49:19 2013
From: rowe at muxspace.com (Brian Rowe)
Date: Mon, 22 Jul 2013 12:49:19 -0400
Subject: [R-SIG-Finance] Equality of covariance matrices??
References: <7FA499F7-1465-4A03-9BB6-FF7A1063AB3B@muxspace.com>
Message-ID: <EC90C21C-8F4F-42E1-A12A-6DB235DD8DED@muxspace.com>


You can compare correlation matrices using Kullback-Leibler divergence. There is an implementation in my package tawny on CRAN.

library(tawny)
divergence.kl(sigma.1, sigma.2)

Brian


> I know there are several likelihood ratio tests for comparing two
> covariance matrices but darned if I can find them coded in R. Does anyone
> know if they are lurking in some package?


From iza.ch1 at op.pl  Mon Jul 22 19:54:28 2013
From: iza.ch1 at op.pl (iza.ch1)
Date: Mon, 22 Jul 2013 19:54:28 +0200
Subject: [R-SIG-Finance] create data frame with coefficients from many
	regressions
Message-ID: <117958307-f6346bfe5750ca55febf2de0f64cfc87@pkn6.m5r2.onet>

Hi !

I want to ask if somebody knows the way to create data frame with coefficients from many regressions 
I regress the first column from ret against the first columns from median, then the second with the second and so on.
This is the code used for regression

i<-1:6
lapply(seq_len(ncol(ret)),function(i) {lm(ret[,i]~median[,i])}

I get 6 results for each regression 

[[1]]

Call:
lm(formula = ret[, i] ~ median[, i])

Coefficients:
(Intercept)  median[, i]  
          0            1  


[[2]]

Call:
lm(formula = ret[, i] ~ median[, i])

Coefficients:
(Intercept)  median[, i]  
-1.411e-17    1.000e+00 

now I would like to create a data frame with intercepts which looks like it

                        [[1]]          [[2]]
Intercept
median

I tried to use ddply command but it does not work. I will be very grateful for the hint :)

Thank you in advance


From bastian2507hk at yahoo.co.uk  Mon Jul 22 20:28:26 2013
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Mon, 22 Jul 2013 14:28:26 -0400
Subject: [R-SIG-Finance] create data frame with coefficients from many
 regressions
In-Reply-To: <117958307-f6346bfe5750ca55febf2de0f64cfc87@pkn6.m5r2.onet>
References: <117958307-f6346bfe5750ca55febf2de0f64cfc87@pkn6.m5r2.onet>
Message-ID: <51ED79CA.30206@yahoo.co.uk>



summary(lm(y ~ x))$coef[1,]

gives you the intercept, standard error, p-value etc.

then write a function and use lapply( yourlist, function)

Am 2013-07-22 1:54 PM, schrieb iza.ch1:
> Hi !
>
> I want to ask if somebody knows the way to create data frame with coefficients from many regressions
> I regress the first column from ret against the first columns from median, then the second with the second and so on.
> This is the code used for regression
>
> i<-1:6
> lapply(seq_len(ncol(ret)),function(i) {lm(ret[,i]~median[,i])}
>
> I get 6 results for each regression
>
> [[1]]
>
> Call:
> lm(formula = ret[, i] ~ median[, i])
>
> Coefficients:
> (Intercept)  median[, i]
>            0            1
>
>
> [[2]]
>
> Call:
> lm(formula = ret[, i] ~ median[, i])
>
> Coefficients:
> (Intercept)  median[, i]
> -1.411e-17    1.000e+00
>
> now I would like to create a data frame with intercepts which looks like it
>
>                          [[1]]          [[2]]
> Intercept
> median
>
> I tried to use ddply command but it does not work. I will be very grateful for the hint :)
>
> Thank you in advance
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From jeff.a.ryan at gmail.com  Mon Jul 22 21:04:09 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 22 Jul 2013 14:04:09 -0500
Subject: [R-SIG-Finance] create data frame with coefficients from many
	regressions
In-Reply-To: <117958307-f6346bfe5750ca55febf2de0f64cfc87@pkn6.m5r2.onet>
References: <117958307-f6346bfe5750ca55febf2de0f64cfc87@pkn6.m5r2.onet>
Message-ID: <05DAA962-36B7-483C-A8F8-20BDF73B4AF6@gmail.com>

The results of an lapply call can be joined together easily with do.call(cbind or do.call(rbind or do.call(c. Though what you need is probably requiring one additional step to use a custom function to get the result you want in some sensible structure for the above. 

This isn't at all a finance question though. Should be redirected to r-help. 

Thanks
Jeff

Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com

www.lemnica.com

On Jul 22, 2013, at 12:54 PM, "iza.ch1" <iza.ch1 at op.pl> wrote:

> Hi !
> 
> I want to ask if somebody knows the way to create data frame with coefficients from many regressions 
> I regress the first column from ret against the first columns from median, then the second with the second and so on.
> This is the code used for regression
> 
> i<-1:6
> lapply(seq_len(ncol(ret)),function(i) {lm(ret[,i]~median[,i])}
> 
> I get 6 results for each regression 
> 
> [[1]]
> 
> Call:
> lm(formula = ret[, i] ~ median[, i])
> 
> Coefficients:
> (Intercept)  median[, i]  
>          0            1  
> 
> 
> [[2]]
> 
> Call:
> lm(formula = ret[, i] ~ median[, i])
> 
> Coefficients:
> (Intercept)  median[, i]  
> -1.411e-17    1.000e+00 
> 
> now I would like to create a data frame with intercepts which looks like it
> 
>                        [[1]]          [[2]]
> Intercept
> median
> 
> I tried to use ddply command but it does not work. I will be very grateful for the hint :)
> 
> Thank you in advance
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From josh.m.ulrich at gmail.com  Mon Jul 22 23:38:33 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 22 Jul 2013 16:38:33 -0500
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
Message-ID: <CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>

Jim,

Thanks for noticing this.  It was a separate issue in updateAcct that
was hidden by the timezone issue.  Should be fixed in rev1484.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Sun, Jul 21, 2013 at 9:01 PM, Jim Green
<student.northwestern at gmail.com> wrote:
> updated to v1483, saw this error running longtrend.R
>
> [1] "Setting up indicators"
> [1] "Initializing portfolio and account structure"
> .
> [1] "1998-10-30 00:00:00 GSPC 91 @ 1098.67"
> Error in periodicity(table) :
>   can not calculate periodicity of 1 observation
> In addition: There were 14 warnings (use warnings() to see them)
>> sessionInfo()
> R version 3.0.0 (2013-04-03)
> Platform: x86_64-pc-linux-gnu (64-bit)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
> LC_MONETARY=en_US.UTF-8
>  [6] LC_MESSAGES=en_US.UTF-8    LC_PAPER=C                 LC_NAME=C
> LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] graphics  utils     datasets  stats     grDevices methods   base
>
> other attached packages:
> [1] blotter_0.8.14             PerformanceAnalytics_1.1.0
> FinancialInstrument_1.1.9  quantmod_0.4-0             TTR_0.22-0.1
> [6] xts_0.9-5.1                zoo_1.7-10                 Defaults_1.1-1
>
> loaded via a namespace (and not attached):
> [1] grid_3.0.0      lattice_0.20-15
>
>
>
> On 21 July 2013 21:34, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>>
>> Mark,
>>
>> It's been awhile, but I finally looked at this and patched it in
>> revision 1483.  It's forces the session timezone to UTC... not ideal,
>> but it works.
>>
>


From markknecht at gmail.com  Tue Jul 23 00:06:48 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 22 Jul 2013 15:06:48 -0700
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
	<CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
Message-ID: <CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>

On Mon, Jul 22, 2013 at 2:38 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> Jim,
>
> Thanks for noticing this.  It was a separate issue in updateAcct that
> was hidden by the timezone issue.  Should be fixed in rev1484.
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com

Hey Joshua,
   Thanks for looking into this and no worries about the delay.

   Question: I'm working in R-Studio in Windows 7. When I look at the
packages tab it says my version of blotter is 0.8.14 and no updates
appear to be available. (Or rather, I did whatever updates it offered
and that's the version I have. Anyway, I think I downgraded R to
version 2.15.3 back when I was trying this stuff out. I'd like to move
to a newer version if it's supported. Maybe I just need to wait a few
days for your newer package to show up on CRAN @ Bezerkley? Inputs?

Thanks,
Mark


From student.northwestern at gmail.com  Tue Jul 23 00:14:30 2013
From: student.northwestern at gmail.com (Jim Green)
Date: Mon, 22 Jul 2013 18:14:30 -0400
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
	<CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
	<CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>
Message-ID: <CACAe89z=DHcF=pjjy2CRRWf=dqDHStNZE4ttmbcQ_wm2-qPoQg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130722/d6577d50/attachment.pl>

From markknecht at gmail.com  Tue Jul 23 00:17:05 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 22 Jul 2013 15:17:05 -0700
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CACAe89z=DHcF=pjjy2CRRWf=dqDHStNZE4ttmbcQ_wm2-qPoQg@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
	<CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
	<CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>
	<CACAe89z=DHcF=pjjy2CRRWf=dqDHStNZE4ttmbcQ_wm2-qPoQg@mail.gmail.com>
Message-ID: <CAK2H+ec73Cm4e9nvqse1DNBcN5eNqzh7JUh4O-UL1oF1m8i4Lg@mail.gmail.com>

On Mon, Jul 22, 2013 at 3:14 PM, Jim Green
<student.northwestern at gmail.com> wrote:
> Mark, on windows you can use tortoise svn to checkout the trunk source code,
> build and install if you don't want to wait
>
> the path is:
> svn checkout svn://svn.r-forge.r-project.org/svnroot/blotter/
>
> Jim

Thanks Jim. As I'm focused on a lot of things in R right now I think
I'll wait a while and see what shows up. If I get some time then I'll
give that a try.

Cheers,
Mark


From gsee000 at gmail.com  Tue Jul 23 01:27:04 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 22 Jul 2013 18:27:04 -0500
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CAK2H+ec73Cm4e9nvqse1DNBcN5eNqzh7JUh4O-UL1oF1m8i4Lg@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
	<CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
	<CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>
	<CACAe89z=DHcF=pjjy2CRRWf=dqDHStNZE4ttmbcQ_wm2-qPoQg@mail.gmail.com>
	<CAK2H+ec73Cm4e9nvqse1DNBcN5eNqzh7JUh4O-UL1oF1m8i4Lg@mail.gmail.com>
Message-ID: <CA+xi=qZ5tOO5Er9BhWFY3VqQYtLdi8TwW8LF5NoQAuyBMT_nzQ@mail.gmail.com>

Looks like it's built on r-forge.  You should be able to install it with

install.packages("blotter", repos="http://r-forge.r-project.org")

Regards,
Garrett


From markknecht at gmail.com  Tue Jul 23 01:56:04 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 22 Jul 2013 16:56:04 -0700
Subject: [R-SIG-Finance] Do the blotter demos work?
In-Reply-To: <CA+xi=qZ5tOO5Er9BhWFY3VqQYtLdi8TwW8LF5NoQAuyBMT_nzQ@mail.gmail.com>
References: <CAK2H+edB11jpTVG7xNPsJ6cYX3DB5pPGx5OJ4kU2hKvbYwAM=w@mail.gmail.com>
	<CAPPM_gSGPws-ivyAW0s=W6NG3j8HhmbGyD5RmXnKK7s=D=KUfg@mail.gmail.com>
	<CAPPM_gSoRFvYrNcNOuwc5pg8+NJXiGpoiLg+nsFaNKuvoQDtxw@mail.gmail.com>
	<CACAe89x=zUF9CU42kZsNWoQ9o4X0F6PtdwaO=59zGPJoFX4e7g@mail.gmail.com>
	<CAPPM_gTB6CM32UKmraook=d7+n3yk_n12xNcqBnPJocD14wJiQ@mail.gmail.com>
	<CAK2H+efT2RnogYocVfSRBaZ_JxbiXVGutamVXwmA9RqzKyzOOQ@mail.gmail.com>
	<CACAe89z=DHcF=pjjy2CRRWf=dqDHStNZE4ttmbcQ_wm2-qPoQg@mail.gmail.com>
	<CAK2H+ec73Cm4e9nvqse1DNBcN5eNqzh7JUh4O-UL1oF1m8i4Lg@mail.gmail.com>
	<CA+xi=qZ5tOO5Er9BhWFY3VqQYtLdi8TwW8LF5NoQAuyBMT_nzQ@mail.gmail.com>
Message-ID: <CAK2H+edx2k1QUpY1+q1sUfJeVB_zvx5sGkMP24EfaSfrysGHVw@mail.gmail.com>

On Mon, Jul 22, 2013 at 4:27 PM, G See <gsee000 at gmail.com> wrote:
> Looks like it's built on r-forge.  You should be able to install it with
>
> install.packages("blotter", repos="http://r-forge.r-project.org")
>
> Regards,
> Garrett

Thanks Garrett,
   I installed as per your suggestion. No errors but I still see
0.8.14. Maybe that's right, or possibly wrong. I don't know how that
number matches Joshua's version number of 1484. Unfortunately when I
run the longtrend demo it fails:

> demo(longtrend, package="blotter")


demo(longtrend)
---- ~~~~~~~~~

Type  <Return> to start :

> # This is a very simple trend following strategy for testing the results of:
> # Faber, Mebane T., "A Quantitative Approach to Tactical Asset Allocation."
> # Journal of Risk Management (Spring 2007).

<SNIP>

+     # Calculate P&L and resulting equity with blotter
+     updatePortf(ltportfolio, Dates = CurrentDate)
+     updateAcct(ltaccount, Dates = CurrentDate)
+     updateEndEq(ltaccount, Dates = CurrentDate)
+ } # End dates loop
.
[1] "1998-10-30 00:00:00 GSPC 91 @ 1098.67"
Error in lag.xts(TmpPeriods$Pos.Value, 1) :
  abs(k) must be less than nrow(x)
In addition: There were 16 warnings (use warnings() to see them)

   I'll be happy to try things out if it helps the group but someone
will have to make suggestions. If this requires a newer version of xts
or something else then I'd appreciate knowing where to look to figure
that out.

Thanks,
Mark


From markknecht at gmail.com  Tue Jul 23 02:15:57 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 22 Jul 2013 17:15:57 -0700
Subject: [R-SIG-Finance] day/month/year functions?
Message-ID: <CAK2H+edj-iFMbGiYRx8N4yCHwpcM7Pdx8cprGit4Fz73B_mFNg@mail.gmail.com>

Hi,
   I've got a piece of old code I'm trying to resurrect which contains
this function to convert R dates to TradeStation dates:

function (MyDate) {
ThisDay = day(MyDate)
ThisMonth = month(MyDate)
ThisYear = year(MyDate)
TSDate = (ThisYear - 1900)*10000 + ThisMonth*100 + ThisDay
return(TSDate)
}

However I don't have the day/month/year functions and so far haven't
found them searching using ??day, etc.

Does anyone recognize these as coming from a package that for some
reason might not be showing up using ??-type searching?

Thanks,
Mark


From gsee000 at gmail.com  Tue Jul 23 02:21:36 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 22 Jul 2013 19:21:36 -0500
Subject: [R-SIG-Finance] day/month/year functions?
In-Reply-To: <CAK2H+edj-iFMbGiYRx8N4yCHwpcM7Pdx8cprGit4Fz73B_mFNg@mail.gmail.com>
References: <CAK2H+edj-iFMbGiYRx8N4yCHwpcM7Pdx8cprGit4Fz73B_mFNg@mail.gmail.com>
Message-ID: <CA+xi=qY-yYCV98UjudGr=iyyh0RDpn0rMSK8kO2Y=-mwrSGOqg@mail.gmail.com>

I'd guess they come from lubridate.  Although, they exist is a few packages.

findFn() from the sos package is really good for finding out where a
function comes from.

library(sos)
findFn("day")

# it works better for functions with more obscure names.

Garrett


On Mon, Jul 22, 2013 at 7:15 PM, Mark Knecht <markknecht at gmail.com> wrote:
> Hi,
>    I've got a piece of old code I'm trying to resurrect which contains
> this function to convert R dates to TradeStation dates:
>
> function (MyDate) {
> ThisDay = day(MyDate)
> ThisMonth = month(MyDate)
> ThisYear = year(MyDate)
> TSDate = (ThisYear - 1900)*10000 + ThisMonth*100 + ThisDay
> return(TSDate)
> }
>
> However I don't have the day/month/year functions and so far haven't
> found them searching using ??day, etc.
>
> Does anyone recognize these as coming from a package that for some
> reason might not be showing up using ??-type searching?
>
> Thanks,
> Mark
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From daniel319 at gmail.com  Tue Jul 23 02:24:06 2013
From: daniel319 at gmail.com (daniel)
Date: Mon, 22 Jul 2013 21:24:06 -0300
Subject: [R-SIG-Finance] day/month/year functions?
In-Reply-To: <CAK2H+edj-iFMbGiYRx8N4yCHwpcM7Pdx8cprGit4Fz73B_mFNg@mail.gmail.com>
References: <CAK2H+edj-iFMbGiYRx8N4yCHwpcM7Pdx8cprGit4Fz73B_mFNg@mail.gmail.com>
Message-ID: <CAPfrkh=RbJYVyk14oj2dASmHm7aWrv=8XvbMRK56sbGQxNQn2g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130722/bc5cc63b/attachment.pl>

From veepsirtt at gmail.com  Tue Jul 23 08:31:13 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Mon, 22 Jul 2013 23:31:13 -0700 (PDT)
Subject: [R-SIG-Finance] Finding price difference of a time series
Message-ID: <1374561073191-4672099.post@n4.nabble.com>

Hi R users,

#  How to find price difference of a-b and c-d ?.


require(quantmod)

require_symbol <- function(symbol, envir = parent.frame()) {
  if (is.null(envir[[symbol]])) {
    envir[[symbol]] <- getSymbols(symbol, auto.assign = FALSE)
  }
  
  envir[[symbol]]
}



# Create an environment for storing data
symbol_env <- new.env()

s1="SPY"
s2="GOOG"

A<- require_symbol(s1, symbol_env)              
B<- require_symbol(s2, symbol_env)

x1=A[,6]
x2=B[,6]

a=head(x1,1)
b=tail(x1,1)
c=head(x2,1)
d=tail(x2,1)

J=a-b

I got the following messages.

> J
Data:
  numeric(0)

Index:
  numeric(0)
> str(J)
An 'xts' object of zero-width

with regards.
veepsirtt



--
View this message in context: http://r.789695.n4.nabble.com/Finding-price-difference-of-a-time-series-tp4672099.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From sal.vve7 at gmail.com  Tue Jul 23 13:45:38 2013
From: sal.vve7 at gmail.com (W S)
Date: Tue, 23 Jul 2013 13:45:38 +0200
Subject: [R-SIG-Finance] rugarch package (sstd density function)
Message-ID: <CAHZ72+Bh=4Z6fzTKs6=Tu=VgtXJ7oFVXAbUUWNbnpb=6g7xfOQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130723/397d5570/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Jul 23 13:47:50 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 23 Jul 2013 06:47:50 -0500
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <1374561073191-4672099.post@n4.nabble.com>
References: <1374561073191-4672099.post@n4.nabble.com>
Message-ID: <CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>

Veepsirtt,

You must use `coredata` on at least one of the objects because xts/zoo
align by index before performing any Ops-style functions.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Tue, Jul 23, 2013 at 1:31 AM, veepsirtt <veepsirtt at gmail.com> wrote:
> Hi R users,
>
> #  How to find price difference of a-b and c-d ?.
>
>
> require(quantmod)
>
> require_symbol <- function(symbol, envir = parent.frame()) {
>   if (is.null(envir[[symbol]])) {
>     envir[[symbol]] <- getSymbols(symbol, auto.assign = FALSE)
>   }
>
>   envir[[symbol]]
> }
>
>
>
> # Create an environment for storing data
> symbol_env <- new.env()
>
> s1="SPY"
> s2="GOOG"
>
> A<- require_symbol(s1, symbol_env)
> B<- require_symbol(s2, symbol_env)
>
> x1=A[,6]
> x2=B[,6]
>
> a=head(x1,1)
> b=tail(x1,1)
> c=head(x2,1)
> d=tail(x2,1)
>
> J=a-b
>
> I got the following messages.
>
>> J
> Data:
>   numeric(0)
>
> Index:
>   numeric(0)
>> str(J)
> An 'xts' object of zero-width
>
> with regards.
> veepsirtt
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Finding-price-difference-of-a-time-series-tp4672099.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From twmeggs at gmail.com  Thu Jul 25 20:40:47 2013
From: twmeggs at gmail.com (Tim Meggs)
Date: Thu, 25 Jul 2013 11:40:47 -0700 (PDT)
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg bar
	download
Message-ID: <1374777647967-4672338.post@n4.nabble.com>

Hi R finance people,

I have downloaded some 15-min price Bar data across a number of days from
Bloomberg for the March13 FTSE futures. 

library(Rbbg)
conn <- blpConnect()
ftse <- "Z H3 Index"
ftse_Bars <- bar(conn, ftse, "TRADE", "2013-01-04 07:00:00.000", "2013-02-01
20:00:00.000", "15")
ftse_Bars<-as.xts(ftse_Bars)
blpDisconnect(conn)

The data looks like this:

                                           time   open   high    low  close
numEvents volume
2013-01-10T01:00:00.000 2013-01-10T01:00:00.000 6050.5 6050.5 6047.0 6048.0       
12     12
2013-01-10T01:15:00.000 2013-01-10T01:15:00.000 6046.5 6047.5 6046.5 6047.5        
2      2
2013-01-10T01:30:00.000 2013-01-10T01:30:00.000 6046.5 6046.5 6044.5 6045.0       
12     21
2013-01-10T01:45:00.000 2013-01-10T01:45:00.000 6044.5 6045.5 6044.5 6045.5        
6      9
2013-01-10T02:00:00.000 2013-01-10T02:00:00.000 6045.5 6049.0 6045.5 6047.5       
11     13
2013-01-10T02:15:00.000 2013-01-10T02:15:00.000 6053.0 6059.0 6049.0 6058.0       
37     68

I would like to remove those bars that fall outside the hours 07:00 UTC to
15:30 UTC, to leave me with data just from the hours when the cash index is
open.  Given the time column I receive from Bloomberg is in the slightly odd
format format "%Y-%m-%dT%H:%M:%S" with the strange "T" in the middle how can
subset out my desired data?

Any help greatly appreciated.

Thanks
Tim



--
View this message in context: http://r.789695.n4.nabble.com/subset-section-of-trading-day-from-RBloomberg-bar-download-tp4672338.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From michael.weylandt at gmail.com  Thu Jul 25 20:54:20 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Thu, 25 Jul 2013 14:54:20 -0400
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg
	bar download
In-Reply-To: <1374777647967-4672338.post@n4.nabble.com>
References: <1374777647967-4672338.post@n4.nabble.com>
Message-ID: <D65FC86D-07E7-49AA-A930-1B217F1B2C28@gmail.com>



On Jul 25, 2013, at 14:40, Tim Meggs <twmeggs at gmail.com> wrote:

> Hi R finance people,
> 
> I have downloaded some 15-min price Bar data across a number of days from
> Bloomberg for the March13 FTSE futures. 
> 
> library(Rbbg)
> conn <- blpConnect()
> ftse <- "Z H3 Index"
> ftse_Bars <- bar(conn, ftse, "TRADE", "2013-01-04 07:00:00.000", "2013-02-01
> 20:00:00.000", "15")
> ftse_Bars<-as.xts(ftse_Bars)
> blpDisconnect(conn)
> 
> The data looks like this:
> 
>                                           time   open   high    low  close
> numEvents volume
> 2013-01-10T01:00:00.000 2013-01-10T01:00:00.000 6050.5 6050.5 6047.0 6048.0       
> 12     12
> 2013-01-10T01:15:00.000 2013-01-10T01:15:00.000 6046.5 6047.5 6046.5 6047.5        
> 2      2
> 2013-01-10T01:30:00.000 2013-01-10T01:30:00.000 6046.5 6046.5 6044.5 6045.0       
> 12     21
> 2013-01-10T01:45:00.000 2013-01-10T01:45:00.000 6044.5 6045.5 6044.5 6045.5        
> 6      9
> 2013-01-10T02:00:00.000 2013-01-10T02:00:00.000 6045.5 6049.0 6045.5 6047.5       
> 11     13
> 2013-01-10T02:15:00.000 2013-01-10T02:15:00.000 6053.0 6059.0 6049.0 6058.0       
> 37     68
> 
> I would like to remove those bars that fall outside the hours 07:00 UTC to
> 15:30 UTC, to leave me with data just from the hours when the cash index is
> open.  Given the time column I receive from Bloomberg is in the slightly odd
> format format "%Y-%m-%dT%H:%M:%S" with the strange "T" in the middle how can
> subset out my desired data?

Assuming the as.xts call went properly, I believe you can just use the time-period form of ISO8601 subsetting. I'm not in a position to test, but I think it's 

CC['07:00/15:30']

There might be a T in there. Check ?"[.xts" and ?xts for details. 

Note that I'm assuming you got the as.xts call to work properly. If Bloomberg does put in that T, I'd have thought you'd need to pass an explicit format string. 

Michael

> 
> Any help greatly appreciated.
> 
> Thanks
> Tim
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/subset-section-of-trading-day-from-RBloomberg-bar-download-tp4672338.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From rowe at muxspace.com  Thu Jul 25 21:04:44 2013
From: rowe at muxspace.com (Brian Rowe)
Date: Thu, 25 Jul 2013 15:04:44 -0400
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg
	bar download
In-Reply-To: <1374777647967-4672338.post@n4.nabble.com>
References: <1374777647967-4672338.post@n4.nabble.com>
Message-ID: <F58E32D1-38E0-41D0-9296-27B1789856B7@muxspace.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130725/acc22027/attachment.pl>

From twmeggs at gmail.com  Thu Jul 25 21:19:45 2013
From: twmeggs at gmail.com (Tim Meggs)
Date: Thu, 25 Jul 2013 12:19:45 -0700 (PDT)
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg
	bar download
In-Reply-To: <D65FC86D-07E7-49AA-A930-1B217F1B2C28@gmail.com>
References: <1374777647967-4672338.post@n4.nabble.com>
	<D65FC86D-07E7-49AA-A930-1B217F1B2C28@gmail.com>
Message-ID: <1374779985532-4672348.post@n4.nabble.com>

Thanks Michael. 

I think I was too hasty in posting up my sample code, the as.xts() call was
not supposed to be included. It was there because I had tried to convert to
an xts object exactly so I could use the subsetting method you suggested.
However, I don't think the conversion works (and hence I can't use that
subset method) because the 'time' column returned in the xts object after
running as.xts contains character strings and I don't think you can sunset
easily on these. 

I have a feeling I'm being a massive dullard about how to approach this, so
please anyone feel free to point out the correct way for me to do this. 

Thanks,
Tim



--
View this message in context: http://r.789695.n4.nabble.com/subset-section-of-trading-day-from-RBloomberg-bar-download-tp4672338p4672348.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From john.laing at gmail.com  Thu Jul 25 21:22:47 2013
From: john.laing at gmail.com (John Laing)
Date: Thu, 25 Jul 2013 15:22:47 -0400
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg
	bar download
In-Reply-To: <1374779985532-4672348.post@n4.nabble.com>
References: <1374777647967-4672338.post@n4.nabble.com>
	<D65FC86D-07E7-49AA-A930-1B217F1B2C28@gmail.com>
	<1374779985532-4672348.post@n4.nabble.com>
Message-ID: <CAA3Wa=vNAB4EmoV0A1dEJX6hw+DPmEUheETi+4f4kkaJr=f3_g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130725/a1f293b3/attachment.pl>

From David.Reiner at xrtrading.com  Thu Jul 25 21:23:20 2013
From: David.Reiner at xrtrading.com (David Reiner)
Date: Thu, 25 Jul 2013 14:23:20 -0500
Subject: [R-SIG-Finance] [SPAM] - Re: subset section of trading day from
 RBloombergbar download - Email found in subject
In-Reply-To: <3c8dafe7-eb8f-4896-bbca-6e6ef6526f34@r-project.org>
References: <1374777647967-4672338.post@n4.nabble.com>
	<3c8dafe7-eb8f-4896-bbca-6e6ef6526f34@r-project.org>
Message-ID: <9DE405308A6AA24AA794B76282C6C00F4A58C00AC9@HQ-POST1>

Actually, the "T", while part of the standard, has to be specified in the format for as.POSIXct, or removed.
Then the xts command has to pass the core data and the index as POSIXct separately:

ftse.xts <- xts(ftse_Bars[,-1], as.POSIXct(sub("T"," ",ftse_Bars[,1])))

Then the subsetting can be done using Jeff's amazing datetime filtering:

ftse.sub <- ftse.xts["T07:00/T15:30"]

HTH,
David L. Reiner
XR Trading LLC

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Brian Rowe
Sent: Thursday, July 25, 2013 2:05 PM
To: Tim Meggs
Cc: r-sig-finance at r-project.org
Subject: [SPAM] - Re: [R-SIG-Finance] subset section of trading day from RBloombergbar download - Email found in subject

That strange 'T' happens to be specified as part of the ISO 8601 date and time standard. As such it is compatible with as.POSIXlt and as.POSIXct.

> as.POSIXlt('2013-01-10T00:00:00.000')
[1] "2013-01-10"

https://en.wikipedia.org/wiki/ISO_8601


On Jul 25, 2013, at 2:40 PM, Tim Meggs <twmeggs at gmail.com> wrote:

> Hi R finance people,
>
> I have downloaded some 15-min price Bar data across a number of days from
> Bloomberg for the March13 FTSE futures.
>
> library(Rbbg)
> conn <- blpConnect()
> ftse <- "Z H3 Index"
> ftse_Bars <- bar(conn, ftse, "TRADE", "2013-01-04 07:00:00.000", "2013-02-01
> 20:00:00.000", "15")
> ftse_Bars<-as.xts(ftse_Bars)
> blpDisconnect(conn)
>
> The data looks like this:
>
>                                           time   open   high    low  close
> numEvents volume
> 2013-01-10T01:00:00.000 2013-01-10T01:00:00.000 6050.5 6050.5 6047.0 6048.0
> 12     12
> 2013-01-10T01:15:00.000 2013-01-10T01:15:00.000 6046.5 6047.5 6046.5 6047.5
> 2      2
> 2013-01-10T01:30:00.000 2013-01-10T01:30:00.000 6046.5 6046.5 6044.5 6045.0
> 12     21
> 2013-01-10T01:45:00.000 2013-01-10T01:45:00.000 6044.5 6045.5 6044.5 6045.5
> 6      9
> 2013-01-10T02:00:00.000 2013-01-10T02:00:00.000 6045.5 6049.0 6045.5 6047.5
> 11     13
> 2013-01-10T02:15:00.000 2013-01-10T02:15:00.000 6053.0 6059.0 6049.0 6058.0
> 37     68
>
> I would like to remove those bars that fall outside the hours 07:00 UTC to
> 15:30 UTC, to leave me with data just from the hours when the cash index is
> open.  Given the time column I receive from Bloomberg is in the slightly odd
> format format "%Y-%m-%dT%H:%M:%S" with the strange "T" in the middle how can
> subset out my desired data?
>
> Any help greatly appreciated.
>
> Thanks
> Tim
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/subset-section-of-trading-day-from-RBloomberg-bar-download-tp4672338.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.

THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From jeff.a.ryan at gmail.com  Thu Jul 25 23:33:35 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 25 Jul 2013 16:33:35 -0500
Subject: [R-SIG-Finance] subset section of trading day from RBloomberg
	bar download
In-Reply-To: <CAA3Wa=vNAB4EmoV0A1dEJX6hw+DPmEUheETi+4f4kkaJr=f3_g@mail.gmail.com>
References: <1374777647967-4672338.post@n4.nabble.com>
	<D65FC86D-07E7-49AA-A930-1B217F1B2C28@gmail.com>
	<1374779985532-4672348.post@n4.nabble.com>
	<CAA3Wa=vNAB4EmoV0A1dEJX6hw+DPmEUheETi+4f4kkaJr=f3_g@mail.gmail.com>
Message-ID: <CABDUZc85geVQ=FTvfKNFPwT+T8R+HbENsPQcpX5URXv0RKMLRA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130725/baa0e27b/attachment.pl>

From ganesha0701 at gmail.com  Fri Jul 26 07:05:56 2013
From: ganesha0701 at gmail.com (ganesha0701)
Date: Fri, 26 Jul 2013 10:35:56 +0530
Subject: [R-SIG-Finance] IBrokers storing Interactive data.
In-Reply-To: <CABDUZc8d6jg6McAHmDj-_gsDmd9Tis96ZGOpTborLHP5PChf1A@mail.gmail.com>
References: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
	<CABDUZc8d6jg6McAHmDj-_gsDmd9Tis96ZGOpTborLHP5PChf1A@mail.gmail.com>
Message-ID: <CA+j8qo22q2CbZvdvp24rwxO6dQi=3oXeHYyjQmCtvZQ4WbAB3w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130726/32fe3558/attachment.pl>

From ganesha0701 at gmail.com  Fri Jul 26 07:08:19 2013
From: ganesha0701 at gmail.com (ganesha0701)
Date: Fri, 26 Jul 2013 10:38:19 +0530
Subject: [R-SIG-Finance] IBrokers storing Interactive data.
In-Reply-To: <CAGS5yBUCp5LZuN1vs3uKXsm5tZ4mmjAuhYQEW7_LVBH_am2pfQ@mail.gmail.com>
References: <CA+j8qo3jDuCm4++jVXVh+73x58T+R_ttgXK6fQYDgr1dnoihNw@mail.gmail.com>
	<CAGS5yBUCp5LZuN1vs3uKXsm5tZ4mmjAuhYQEW7_LVBH_am2pfQ@mail.gmail.com>
Message-ID: <CA+j8qo2PyC+JHrhjxLWT2r4nXfX5vXo2jDfx3nquE5iiJ19gjA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130726/0bd41a65/attachment.pl>

From markknecht at gmail.com  Sat Jul 27 00:22:37 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 26 Jul 2013 15:22:37 -0700
Subject: [R-SIG-Finance] Range intersections
Message-ID: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>

For the sake of asking here assume I have 5 models that attempt to
predict a pair of future values like tomorrow's high & low. The
predictions are placed in a matrix with the low prediction in column 1
and the high prediction in column 2. _IF_ there is an intersection of
all 5 predictions then I can test for that using the simple equation
in Range1. However if there is a prediction that's a complete outlier
as is Pred2[4,] then the simple equation fails and says the high is
less than the low.

Are there any R packages that automatically handle simple intersection
problems like this? My real goals include things like probability
distributions across the ranges, but for now I'm just looking for
what's out there?

Thanks,
Mark


Pred1 = matrix(data=NA, nrow=5, ncol=2)
Pred1[1,] = c(100,110)
Pred1[2,] = c(88,125)
Pred1[3,] = c(92,120)
Pred1[4,] = c(25,105)
Pred1[5,] = c(91,121)

Range1 = c(max(Pred1[,1]), min(Pred1[,2]))
Range1

Pred2 = matrix(data=NA, nrow=5, ncol=2)
Pred2[1,] = c(100,110)
Pred2[2,] = c(88,125)
Pred2[3,] = c(92,120)
Pred2[4,] = c(25,70) #outlier - the high is too low
Pred2[5,] = c(91,121)

Range2 = c(max(Pred2[,1]), min(Pred2[,2]))
Range2


From michael.weylandt at gmail.com  Sat Jul 27 04:02:26 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Fri, 26 Jul 2013 22:02:26 -0400
Subject: [R-SIG-Finance] Range intersections
In-Reply-To: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>
References: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>
Message-ID: <CAAmySGPverauNAUszk=qFM0qNuMHYkL9TJ8kn+nQ5Oa6EX0HDQ@mail.gmail.com>

On Fri, Jul 26, 2013 at 6:22 PM, Mark Knecht <markknecht at gmail.com> wrote:
> For the sake of asking here assume I have 5 models that attempt to
> predict a pair of future values like tomorrow's high & low. The
> predictions are placed in a matrix with the low prediction in column 1
> and the high prediction in column 2. _IF_ there is an intersection of
> all 5 predictions then I can test for that using the simple equation
> in Range1. However if there is a prediction that's a complete outlier
> as is Pred2[4,] then the simple equation fails and says the high is
> less than the low.
>
> Are there any R packages that automatically handle simple intersection
> problems like this? My real goals include things like probability
> distributions across the ranges, but for now I'm just looking for
> what's out there?
>

http://cran.r-project.org/web/packages/intervals/index.html
http://cran.r-project.org/web/packages/sets/index.html

would probably be the place to start.

Cheers,
MW


From bastian2507hk at yahoo.co.uk  Sat Jul 27 05:27:41 2013
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Fri, 26 Jul 2013 23:27:41 -0400
Subject: [R-SIG-Finance] Bond market liquidity
Message-ID: <51F33E2D.6010501@yahoo.co.uk>

Hi,

does anybody know if there is a 'standard' liquidity factor for 
(corporate or government) bonds (like Pastor and Stambaugh (2003, JPE) 
for equities)  that is freely available or through WRDS, CRSP etc. ? 
Thank you in advance.


From wotuzu17 at gmail.com  Sat Jul 27 11:03:16 2013
From: wotuzu17 at gmail.com (Andreas Voellenklee)
Date: Sat, 27 Jul 2013 11:03:16 +0200
Subject: [R-SIG-Finance] TTR package feature suggestion
Message-ID: <CAKC0Bhk+KCnvFurPgpCdteJbzA2khVktvhWiMMOZi=RHhAJuYw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130727/65b37d28/attachment.pl>

From hvollmeier at mac.com  Sat Jul 27 13:58:05 2013
From: hvollmeier at mac.com (Helmuth Vollmeier)
Date: Sat, 27 Jul 2013 13:58:05 +0200
Subject: [R-SIG-Finance] TTR package feature suggestion
Message-ID: <CAHG7xce_DXaEQRWnf4=uTR2pwLWGAzTwANjjE30gxKt0=wMUFA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130727/f40c1bf4/attachment.pl>

From michael.weylandt at gmail.com  Sat Jul 27 14:13:49 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Sat, 27 Jul 2013 08:13:49 -0400
Subject: [R-SIG-Finance] TTR package feature suggestion
In-Reply-To: <CAKC0Bhk+KCnvFurPgpCdteJbzA2khVktvhWiMMOZi=RHhAJuYw@mail.gmail.com>
References: <CAKC0Bhk+KCnvFurPgpCdteJbzA2khVktvhWiMMOZi=RHhAJuYw@mail.gmail.com>
Message-ID: <B688A455-FBB2-4DD6-9298-3763CA286BD1@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130727/db973c39/attachment.pl>

From es at enricoschumann.net  Sat Jul 27 21:24:44 2013
From: es at enricoschumann.net (Enrico Schumann)
Date: Sat, 27 Jul 2013 21:24:44 +0200
Subject: [R-SIG-Finance] Range intersections
In-Reply-To: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>
	(Mark Knecht's message of "Fri, 26 Jul 2013 15:22:37 -0700")
References: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>
Message-ID: <87ppu3u7pf.fsf@enricoschumann.net>

On Sat, 27 Jul 2013, Mark Knecht <markknecht at gmail.com> writes:

> For the sake of asking here assume I have 5 models that attempt to
> predict a pair of future values like tomorrow's high & low. The
> predictions are placed in a matrix with the low prediction in column 1
> and the high prediction in column 2. _IF_ there is an intersection of
> all 5 predictions then I can test for that using the simple equation
> in Range1. However if there is a prediction that's a complete outlier
> as is Pred2[4,] then the simple equation fails and says the high is
> less than the low.
>
> Are there any R packages that automatically handle simple intersection
> problems like this? My real goals include things like probability
> distributions across the ranges, but for now I'm just looking for
> what's out there?
>
> Thanks,
> Mark
>
>
> Pred1 = matrix(data=NA, nrow=5, ncol=2)
> Pred1[1,] = c(100,110)
> Pred1[2,] = c(88,125)
> Pred1[3,] = c(92,120)
> Pred1[4,] = c(25,105)
> Pred1[5,] = c(91,121)
>
> Range1 = c(max(Pred1[,1]), min(Pred1[,2]))
> Range1
>
> Pred2 = matrix(data=NA, nrow=5, ncol=2)
> Pred2[1,] = c(100,110)
> Pred2[2,] = c(88,125)
> Pred2[3,] = c(92,120)
> Pred2[4,] = c(25,70) #outlier - the high is too low
> Pred2[5,] = c(91,121)
>
> Range2 = c(max(Pred2[,1]), min(Pred2[,2]))
> Range2
>

Yes, taking the intersection "fails" because in the second case the
intersection is empty.  So /you/ will have to decide how you want to
handle such cases.  Perhaps remove the outlier, or use some majority
rule to find a "most likely" outcome (according to your preditions).
For instance, you could count how often a given price falls in the range
of any of the models.


ind <- function(x, min, max) {
    s <- numeric(length(x))
    for (i in seq_along(min))
        s <- s + as.integer(x >= min[i] & x <= max[i])
    s
}

x <- seq(0, 130, by = 0.5)
s <- ind(x, Pred2[ ,1], Pred2[ ,2])
plot(x, s, type = "S")

range(ca <- x[s == max(s)])            ## "consensus area"
all.equal(max(diff(ca)), diff(x)[1L])  ## single area?
 

Regards,
        Enrico

-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From matthewcleggphd at gmail.com  Sun Jul 28 20:41:33 2013
From: matthewcleggphd at gmail.com (Matthew Clegg)
Date: Sun, 28 Jul 2013 14:41:33 -0400
Subject: [R-SIG-Finance] Range intersections
In-Reply-To: <87ppu3u7pf.fsf@enricoschumann.net>
References: <CAK2H+efoSVBmnoc1aOYj8_fCBtTnzpkB3+ftCEvXtS1B+nq2Ag@mail.gmail.com>
	<87ppu3u7pf.fsf@enricoschumann.net>
Message-ID: <CABLRk0GA-p9iJ0mSi0npcp61-dTQUhd20=AdYdE6-=aOSaQGDg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130728/5fe8ac7b/attachment.pl>

From copulaguy at yahoo.de  Tue Jul 30 16:10:46 2013
From: copulaguy at yahoo.de (Copula Guy)
Date: Tue, 30 Jul 2013 15:10:46 +0100 (BST)
Subject: [R-SIG-Finance] Parameterization of the GED distribution in rugarch
	package
Message-ID: <1375193446.68532.YahooMailNeo@web28703.mail.ir2.yahoo.com>



Hi,
I am wondering about the following:

When I use the rugarch package I can get the ugarchroll output, showing me the mean, sigma, shape, skew shape(GIG) and realized values. I understand, that these are the 1 step ahead forecasted values. So I can then apply the plot function applied to it and choose the first plot, which shows me the one step ahead forecasted densities. The forecasted density is determined by the values give in the output, i.e. it uses the mean, the variance and the other estimates (shape parameter and so) to draw the different densities. 


I used the generalized error distribution in my model specification. According to the rugarch manual page 15 you an see, that this distribution is determined by three parameters: The location, scale and shape parameter. So I need three values to draw the density. Now my question is the following:

From the output table (of ugrachroll) I can see, that I have estimates for the mu sigma and shape. I think, that the mu estimate is exactly the location parameter. The shape parameter is also clear to me. Now I am not getting the following: What is the sigma?

Is this the estimate for the scale parameter beta or is it an estimate of the standard deviation?

If it is an estimate of the standard deviation, that would mean according to fomula 55, that I have to plug in the squared value to the left and the shape esimtate to the right and then solve for the beta parameter to get the right parameter and to be able to draw the density? Is this right?



Thanks a lot for your help to clarify this!



From shuo.x.wang at gmail.com  Wed Jul 31 15:07:20 2013
From: shuo.x.wang at gmail.com (Shuo Wang)
Date: Wed, 31 Jul 2013 21:07:20 +0800
Subject: [R-SIG-Finance] Question regarding ugarchroll in rugarch package.
Message-ID: <CAHLA0z+=UuuiOBAZ+xz06nz2enf-vaDVtB3LCBV-7OSjh5d+OA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130731/29a4605d/attachment.pl>

From alexios at 4dscape.com  Wed Jul 31 15:57:03 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Wed, 31 Jul 2013 14:57:03 +0100
Subject: [R-SIG-Finance] Question regarding ugarchroll in rugarch
	package.
In-Reply-To: <CAHLA0z+=UuuiOBAZ+xz06nz2enf-vaDVtB3LCBV-7OSjh5d+OA@mail.gmail.com>
References: <CAHLA0z+=UuuiOBAZ+xz06nz2enf-vaDVtB3LCBV-7OSjh5d+OA@mail.gmail.com>
Message-ID: <51F917AF.5060705@4dscape.com>

Since that example was written (?ugarchroll), additional checks were 
introduced in the function convergence including one for testing whether
the hessian at the optimal can be inverted (which is why it fails...and
most likely related to the scaling of the variance intercept).

This is why you have the "resume" method:
#----------------------------------------------
library(rugarch)
data(sp500ret)
spec = ugarchspec(distribution.model = "std")

mod = ugarchroll(spec, data = sp500ret, n.ahead = 1,
n.start = 1000,  refit.every = 100, refit.window = "moving",
solver.control=list(tol=1e-5, delta=1e-6),
calculate.VaR = TRUE, VaR.alpha = c(0.01, 0.025, 0.05),
keep.coef = TRUE)
# some warnings about the hessian and prompt to resubmit the
# returned object...this should work.
mod = resume(mod, solver="gosolnp",solver.control=list(tol=1e-4,delta=1e-5))
#----------------------------------------------

You should also try to get the latest version from the teatime project 
on r-forge (https://r-forge.r-project.org/R/?group_id=1721), though at 
the moment it is not building as a result of a dependency build problem,
and the absence of full time support and maintenance on r-forge.

As to the differences with the blog post, I think the first paragraph of 
the post is quite clear:

"The rugarch package contains a rolling volatility forecast function 
called ugarchroll, but in this example I will show how easy it is to 
create a quick custom function."

As mentioned numerous times on this list, the ugarchroll function is a 
convenience "wrapper" for ugarchfit and ugarchforecast, as are most
"roll" functions to be found in R.

-Alexios




On 31/07/2013 14:07, Shuo Wang wrote:
> Hi,
>
> it seems the example provided in the ugarchroll function here
> http://cran.r-project.org/web/packages/rugarch/rugarch.pdf doesnt converge.
>
> Also I am a little bit new to R, I am seeing Alexio also posted an example
> in calculating the rolling garch here
> http://www.unstarched.net/2012/12/26/rolling-garch-forecasts/
>
> May I please know the difference of this example from using ugarchroll
> function?
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From maximodulero at gmail.com  Thu Aug  1 14:57:18 2013
From: maximodulero at gmail.com (Maxim Odulero)
Date: Thu, 1 Aug 2013 14:57:18 +0200
Subject: [R-SIG-Finance] Parameterization of the GED distribution in rugarch
	package - second try
Message-ID: <CAK3uqFT6YZJgGvWT+pQGD7SepLE=N-ah2PW6HgRVrTNLv=rixQ@mail.gmail.com>

Ok,
I was told to post under my real name I hereby do this from my gmail account.

I have the second mail adress (copulaguy at yahoo.de), because I
sometimes post in (german & non-german) forums/q&a sites questions
concerning the topic copula. I ask this specific question to this R
list, since it is a specific one (no, I did not post this somewhere
else). Once again my post, an answer would be appreciated! Thanks!

-----------------------------------------------------------------------------
I am wondering about the following:

When I use the rugarch package I can get the ugarchroll output,
showing me the mean, sigma, shape, skew shape(GIG) and realized
values. I understand, that these are the 1 step ahead forecasted
values. So I can then apply the plot function applied to it and choose
the first plot, which shows me the one step ahead forecasted
densities. The forecasted density is determined by the values give in
the output, i.e. it uses the mean, the variance and the other
estimates (shape parameter and so) to draw the different densities.


I used the generalized error distribution in my model specification.
According to the rugarch manual page 15 you an see, that this
distribution is determined by three parameters: The location, scale
and shape parameter. So I need three values to draw the density. Now
my question is the following:

>From the output table (of ugrachroll) I can see, that I have estimates
for the mu sigma and shape. I think, that the mu estimate is exactly
the location parameter. The shape parameter is also clear to me. Now I
am not getting the following: What is the sigma?

Is this the estimate for the scale parameter beta or is it an estimate
of the standard deviation?

If it is an estimate of the standard deviation, that would mean
according to fomula 55, that I have to plug in the squared value to
the left and the shape esimtate to the right and then solve for the
beta parameter to get the right parameter and to be able to draw the
density? Is this right?

------------------------------------------------------------------------------
Maxim


From veepsirtt at gmail.com  Fri Aug  2 10:33:19 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Fri, 2 Aug 2013 01:33:19 -0700 (PDT)
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>
References: <1374561073191-4672099.post@n4.nabble.com>
	<CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>
Message-ID: <1375432399571-4672880.post@n4.nabble.com>

Hi,
                   I couldnot find cointegration coefficient  while using
adf.test.

Error in ht$p - value : non-numeric argument to binary operator
In addition: Warning message:
sd(<matrix>) is deprecated.
 Use apply(*, 2, sd) instead. 

--------------------------------------------- The
code----------------------------------------------
if (!require(quantmod)) {
  stop("This app requires the quantmod package. To install it, run
'install.packages(\"quantmod\")'.\n")
}

# Download data for a stock if needed, and return the data
require_symbol <- function(symbol, envir = parent.frame()) {
  if (is.null(envir[[symbol]])) {
    envir[[symbol]] <- getSymbols(symbol, auto.assign = FALSE)
  }
  
  envir[[symbol]]
}
 
  # Create an environment for storing data
  symbol_env <- new.env()
      
    #Utilize quantmod to load the security symbols
    require(quantmod)
    library(zoo)
    library(tseries)

    s1="SPY" 
    s2="GOOG" 
    
    a <- require_symbol(s1, symbol_env)              
    b <- require_symbol(s2, symbol_env)
    
    #remove NAs       
    c=cbind(a,b)
    final=na.omit(c)
    row.has.na <- apply(final, 1, function(x){any(is.na(x))})
    sum(row.has.na)
    
    A<- c[, c(1,2,3,4,5,6)]
    B<- c[, c(7,8,9,10,11,12)]  
        
    #define training set
    startT  <- "2007-01-02"
    endT    <- "2009-01-01"
    rangeT  <- paste(startT,"::",endT,sep ="")
    tA   <- A[,6][rangeT]
    tB   <- B[,6][rangeT]
    
    #define out of sample set
    startO  <- "2013-02-01"
    endO <-Sys.Date()
    rangeO  <- paste(startO,"::",endO,sep ="")
    oA   <- A[,6][rangeO]
    oB   <- B[,6][rangeO]

    #compute price differences on in-sample data
    pdtA <- diff(tA)[-1]
    pdtB <- diff(tB)[-1]
    
    #build the model
    model  <- lm(pdtA ~ pdtB - 1)
    
    #extract the hedge ratio
    hr     <- as.numeric(model$coefficients[1])
    #spread price (in-sample)
    spreadT <- oA - hr * oB
    
    days=length(spreadT)

    #compute statistics of the spread
    meanT    <- as.numeric(mean(spreadT,na.rm=TRUE))
    sdT      <- as.numeric(sd(spreadT,na.rm=TRUE))

    #find correlation coefficient
    cr=   cor(oA, oB, method="spearman") 

    #find cointegration coefficient
    ht <- adf.test(spreadT, alternative="stationary", k=0)
    cat("ADF p-value is", ht$p-value, "\n")
    -----------------------------------------------the
code--------------------------------------------------------


Thanks
veepsirtt



--
View this message in context: http://r.789695.n4.nabble.com/Finding-price-difference-of-a-time-series-tp4672099p4672880.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From veepsirtt at gmail.com  Fri Aug  2 12:18:28 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Fri, 2 Aug 2013 03:18:28 -0700 (PDT)
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <1375432399571-4672880.post@n4.nabble.com>
References: <1374561073191-4672099.post@n4.nabble.com>
	<CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>
	<1375432399571-4672880.post@n4.nabble.com>
Message-ID: <CAP0TLd-Bzc1ynjQnT+Q3QjVYR=q3rz7KOLa6-g=FevB27UfjRA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130802/0b471141/attachment.pl>

From paulteetor at yahoo.com  Fri Aug  2 14:46:07 2013
From: paulteetor at yahoo.com (Paul Teetor)
Date: Fri, 2 Aug 2013 05:46:07 -0700 (PDT)
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <CAP0TLd-Bzc1ynjQnT+Q3QjVYR=q3rz7KOLa6-g=FevB27UfjRA@mail.gmail.com>
References: <1374561073191-4672099.post@n4.nabble.com>	<CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>	<1375432399571-4672880.post@n4.nabble.com>
	<CAP0TLd-Bzc1ynjQnT+Q3QjVYR=q3rz7KOLa6-g=FevB27UfjRA@mail.gmail.com>
Message-ID: <1375447567.2757.YahooMailNeo@web160906.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130802/98602b6d/attachment.pl>

From george.c.jordan.iv.research at gmail.com  Fri Aug  2 23:13:28 2013
From: george.c.jordan.iv.research at gmail.com (George Jordan)
Date: Fri, 2 Aug 2013 16:13:28 -0500
Subject: [R-SIG-Finance] Imposing constraints on garch parameters with
	ugarchfit
Message-ID: <CAPznTYURUSWxhMtiKxd0DCOBZLYT1gTmENFpOb9+ph5LYTMoYA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130802/ac83ed12/attachment.pl>

From alexios at 4dscape.com  Sat Aug  3 01:12:03 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Sat, 3 Aug 2013 00:12:03 +0100
Subject: [R-SIG-Finance] Imposing constraints on garch parameters with
	ugarchfit
In-Reply-To: <CAPznTYURUSWxhMtiKxd0DCOBZLYT1gTmENFpOb9+ph5LYTMoYA@mail.gmail.com>
References: <CAPznTYURUSWxhMtiKxd0DCOBZLYT1gTmENFpOb9+ph5LYTMoYA@mail.gmail.com>
Message-ID: <922D0B8D-D7AC-45D4-9256-3DDAE7985007@4dscape.com>

See the 'setbounds' method, or search the archives of this mailing list for examples as this question has been asked before.

Regards,

Alexios

On 2 Aug 2013, at 10:13 PM, George Jordan <george.c.jordan.iv.research at gmail.com> wrote:

> Hi,
>     Is it possible to impose constraints on the fitted parameters using
> ugarchfit, (or other fitting procedure available in the rugarch)? For
> example suppose I want to run:
> 
> myspec=ugarchspec(variance.model=list(garchOrder(c(1,1),
> variance.targeting=TRUE),
>                                   distribution.model="std",
> fixed.pars=list(shape=4),
>                                    mean.model=list(armaOrder=c(0,0)))
> gfit=ugarchfit(spec=myspec, data=mydata, solver="nlminb")
> 
> But somehow impose that 0 < \alpha < 0.2 and 0.5 < \beta < 1.0 (where
> \alpha and \beta have their usual definitions).
> 
> Thanks in advance,
> George
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From veepsirtt at gmail.com  Sat Aug  3 08:00:53 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Fri, 2 Aug 2013 23:00:53 -0700 (PDT)
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <1375447567.2757.YahooMailNeo@web160906.mail.bf1.yahoo.com>
References: <1374561073191-4672099.post@n4.nabble.com>
	<CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>
	<1375432399571-4672880.post@n4.nabble.com>
	<CAP0TLd-Bzc1ynjQnT+Q3QjVYR=q3rz7KOLa6-g=FevB27UfjRA@mail.gmail.com>
	<1375447567.2757.YahooMailNeo@web160906.mail.bf1.yahoo.com>
Message-ID: <CAP0TLd_1gKKcm4LxKMh8U_5-1Q5g-NS00XxvMAoBXLg2dtXt=w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130802/24bebb46/attachment.pl>

From copulaguy at yahoo.de  Sat Aug  3 15:06:53 2013
From: copulaguy at yahoo.de (Copula Guy)
Date: Sat, 3 Aug 2013 14:06:53 +0100 (BST)
Subject: [R-SIG-Finance] Capital requirements as a cushion against risks,
	why?
Message-ID: <1375535213.83551.YahooMailNeo@web28705.mail.ir2.yahoo.com>

I am currently programming different VaR models with R and I often read about the Basel framework. There the capital requirements are determinded by a fomula which uses the VaR. Now I am wondering, why a bank needs to hold a certain amount of capital? 


In general, it says, the minimum capital requirements are used, to 
determine the capital that banks must hold as an insurance against risk.
E.g. if a Bank has invested in one equity asset, e.g. Microsoft stock (long). If now the stock drops, the bank's asset looses value - so the 
bank has a loss, but it does not have to actually PAY something? Why 
should the bank hold extra money as an insurance against this drop in 
the assets value?

Although this is not directly a question about R programming in finance I was wondering about this, when I did my R project.

Thanks a lot in advance!



From michael.weylandt at gmail.com  Sat Aug  3 17:06:15 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Sat, 3 Aug 2013 11:06:15 -0400
Subject: [R-SIG-Finance] Capital requirements as a cushion against risks,
	why?
In-Reply-To: <1375535213.83551.YahooMailNeo@web28705.mail.ir2.yahoo.com>
References: <1375535213.83551.YahooMailNeo@web28705.mail.ir2.yahoo.com>
Message-ID: <12C8231F-0E38-4C23-8F65-51F3845A79BB@gmail.com>



On Aug 3, 2013, at 9:06, Copula Guy <copulaguy at yahoo.de> wrote:

Didn't Dirk ask you to use your real name?

> I am currently programming different VaR models with R and I often read about the Basel framework. There the capital requirements are determinded by a fomula which uses the VaR. Now I am wondering, why a bank needs to hold a certain amount of capital? 
> 
> 
> In general, it says, the minimum capital requirements are used, to 
> determine the capital that banks must hold as an insurance against risk.
> E.g. if a Bank has invested in one equity asset, e.g. Microsoft stock (long). If now the stock drops, the bank's asset looses value - so the 
> bank has a loss, but it does not have to actually PAY something? Why 
> should the bank hold extra money as an insurance against this drop in 
> the assets value?
> 

But you're ignoring the bank's other side: where did the initial cash come from? In the simplest scenario, it originated in someone's deposit account and they can ask for it back. In normal times, the bank can sell part of their investment and give the cash back to the depositor.  If the bank has lost the cash on a failed investment, they can't fulfill their obligation to a customer which is considered, not surprisingly, a very bad thing. How would you feel if your bank lost the money in your savings account? 

In practice, this all gets more complicated when you look a modern financing and leverage techniques, but that's a bit of intuition. 

> Although this is not directly a question about R programming in finance I was wondering about this, when I did my R project.
> 

Indeed it isn't so direct your follow up questions to 1) some sort of financial discussion forum (money.stackexchange.com perhapd) or 2) me offlist if you must but 3) only after reading and making a valiant attempt to understand this on your own (perhaps by reading the Basel docs) -- it's certainly well explained across the net. 

If you're a 'real book' kind of guy check out Peter Bernstein's books. He's done some nice histories of finance. 

Michael

> Thanks a lot in advance!
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From josh.m.ulrich at gmail.com  Sun Aug  4 14:31:13 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 4 Aug 2013 07:31:13 -0500
Subject: [R-SIG-Finance] Capital requirements as a cushion against risks,
	why?
In-Reply-To: <1375535213.83551.YahooMailNeo@web28705.mail.ir2.yahoo.com>
References: <1375535213.83551.YahooMailNeo@web28705.mail.ir2.yahoo.com>
Message-ID: <CAPPM_gTmwjnMs8TUa952QTivY83yOhuq=5Rha3_JOE+=7mFZWg@mail.gmail.com>

Please don't cross-post: http://quant.stackexchange.com/q/8636/56

It's rude because it fragments information and you waste people's time
if they answer in one forum when the question's already been answered
in another forum.
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Sat, Aug 3, 2013 at 8:06 AM, Copula Guy <copulaguy at yahoo.de> wrote:
> I am currently programming different VaR models with R and I often read about the Basel framework. There the capital requirements are determinded by a fomula which uses the VaR. Now I am wondering, why a bank needs to hold a certain amount of capital?
>
>
> In general, it says, the minimum capital requirements are used, to
> determine the capital that banks must hold as an insurance against risk.
> E.g. if a Bank has invested in one equity asset, e.g. Microsoft stock (long). If now the stock drops, the bank's asset looses value - so the
> bank has a loss, but it does not have to actually PAY something? Why
> should the bank hold extra money as an insurance against this drop in
> the assets value?
>
> Although this is not directly a question about R programming in finance I was wondering about this, when I did my R project.
>
> Thanks a lot in advance!
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From daniel.cegielka at gmail.com  Sun Aug  4 16:17:37 2013
From: daniel.cegielka at gmail.com (=?ISO-8859-2?Q?Daniel_Cegie=B3ka?=)
Date: Sun, 4 Aug 2013 16:17:37 +0200
Subject: [R-SIG-Finance] Finding price difference of a time series
In-Reply-To: <CAP0TLd_1gKKcm4LxKMh8U_5-1Q5g-NS00XxvMAoBXLg2dtXt=w@mail.gmail.com>
References: <1374561073191-4672099.post@n4.nabble.com>
	<CAPPM_gRhM8fNX8a9R7omB3L2YHK=51dpfz=ZkaQksJyEvb97ew@mail.gmail.com>
	<1375432399571-4672880.post@n4.nabble.com>
	<CAP0TLd-Bzc1ynjQnT+Q3QjVYR=q3rz7KOLa6-g=FevB27UfjRA@mail.gmail.com>
	<1375447567.2757.YahooMailNeo@web160906.mail.bf1.yahoo.com>
	<CAP0TLd_1gKKcm4LxKMh8U_5-1Q5g-NS00XxvMAoBXLg2dtXt=w@mail.gmail.com>
Message-ID: <CAPLrYETBDnDSbE8UkkyEMZ1f0OrvfwFgt7MFpjCbfXjVhBNbMQ@mail.gmail.com>

2013/8/3 veepsirtt <veepsirtt at gmail.com>:
> Hello Paul Teetor,
>
> p-value  is correct,still getting error.
>
>> ht
>         Augmented Dickey-Fuller Test
>
> data:  spreadT
> Dickey-Fuller = -2.2872, Lag order = 0, p-value = 0.4572
> alternative hypothesis: stationary
>> ht$p-valueError in ht$p - value : non-numeric argument to binary operator


Hi Veepsirtt,

I think Paul is right. Take this example:

> a<-list()
> a$p_value = 123
> a$p_value
[1] 123
>
> a$p-value = 456
Error in a$p - value = 456 : could not find function "-<-"
> a
$p_value
[1] 123

So with "p-value" variable you have a lot of potential to generate errors.

Best regards,
Daniel


From ryanc023 at gmail.com  Sun Aug  4 18:48:19 2013
From: ryanc023 at gmail.com (Ryan Christopher)
Date: Sun, 4 Aug 2013 12:48:19 -0400
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
 month price when using the "getSymbols" function
Message-ID: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130804/71c1d57a/attachment.pl>

From josh.m.ulrich at gmail.com  Sun Aug  4 19:13:14 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 4 Aug 2013 12:13:14 -0500
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
 month price when using the "getSymbols" function
In-Reply-To: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>
References: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>
Message-ID: <CAPPM_gT5HQ7R4_gZQQmdNT84u5wTRvLomVyqJ+Fi-ANXdL1u_A@mail.gmail.com>

On Sun, Aug 4, 2013 at 11:48 AM, Ryan Christopher <ryanc023 at gmail.com> wrote:
> Hello,
>
> I'm working on a project that requires me to retrieve the prices of NYMEX
> WTI oil futures over a 5-year period of time.  I'm interested in retrieving
> the rolling 'front month' price, rather than a particular contract
> expiration.
>
> I'm using the "getSymbols" function in the Quantmod package to retrieve the
> data from Yahoo.
>
No you're not, because Yahoo doesn't provide historical data for NYMEX
crude oil futures.

Go to the page for the symbol you want and you'll see there is no
"Historical Data" link:
http://finance.yahoo.com/q?s=CLU13.NYM

> At this point, I can't even seem to retrieve My code is:
>
> ************************************************************
> initDate <- "2008-07-31"
> endDate <- "2013-07-31"
> symbols <- c("CLU13.NYM")
> getSymbols(symbols, src="yahoo",from=initDate, to=endDate,
> index.class=c("POSIXt","POSIXct"))
>
> Which returns this error message:
>
> Error in download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,
>  :
>   cannot open URL '
> http://chart.yahoo.com/table.csv?s=CLU13.NYM&a=6&b=31&c=2009&d=6&e=19&f=2013&g=d&q=q&y=0&z=CLU13.NYM&x=.csv
> '
> In addition: Warning message:
> In download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,  :
>   cannot open: HTTP status was '404 Not Found'
> ************************************************************
>
> Does anyone know if it's possible to retrieve the rolling front month price
> (instead of a particular contract expiration)?
>
Google knows.  The first page of results from searching "wti futures
historical prices" has many candidates.  One is the Open Financial
Data Project, which is available via Quandl:
http://www.quandl.com/OFDP-Open-Financial-Data-Project/FUTURE_CL1-NYMEX-Crude-Oil-Futures-Continuous-Contract-1-CL1-Front-Month

> Thanks,
> Ryan
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From frankm60606 at gmail.com  Sun Aug  4 19:36:03 2013
From: frankm60606 at gmail.com (Frank)
Date: Sun, 4 Aug 2013 12:36:03 -0500
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
	month price when using the "getSymbols" function
In-Reply-To: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>
References: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>
Message-ID: <6D21E112777B4D62830424CD11123640@Franki7PC>

WTI crude prices are available, I use:

getSymbols('DCOILWTICO',src='FRED')
DCOILWTICO <- na.locf(DCOILWTICO)
tail(DCOILWTICO)
file_name <- "DCOILWTICO.csv"
write.zoo(DCOILWTICO, file = file_name, append = FALSE, quote = TRUE, sep =
",")
quit()

-----Original Message-----
From: r-sig-finance-bounces at r-project.org
[mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Ryan Christopher
Sent: Sunday, August 04, 2013 11:48 AM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
month price when using the "getSymbols" function

Hello,

I'm working on a project that requires me to retrieve the prices of NYMEX
WTI oil futures over a 5-year period of time.  I'm interested in retrieving
the rolling 'front month' price, rather than a particular contract
expiration.

I'm using the "getSymbols" function in the Quantmod package to retrieve the
data from Yahoo.

At this point, I can't even seem to retrieve My code is:

************************************************************
initDate <- "2008-07-31"
endDate <- "2013-07-31"
symbols <- c("CLU13.NYM")
getSymbols(symbols, src="yahoo",from=initDate, to=endDate,
index.class=c("POSIXt","POSIXct"))

Which returns this error message:

Error in download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,
 :
  cannot open URL '
http://chart.yahoo.com/table.csv?s=CLU13.NYM&a=6&b=31&c=2009&d=6&e=19&f=2013
&g=d&q=q&y=0&z=CLU13.NYM&x=.csv
'
In addition: Warning message:
In download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,  :
  cannot open: HTTP status was '404 Not Found'
************************************************************

Does anyone know if it's possible to retrieve the rolling front month price
(instead of a particular contract expiration)?

Thanks,
Ryan

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.


From hans.radtke at gutmark.net  Mon Aug  5 12:27:06 2013
From: hans.radtke at gutmark.net (Hans Radtke)
Date: Mon, 5 Aug 2013 10:27:06 +0000
Subject: [R-SIG-Finance] Capital requirements as a cushion against risks,
	why?
In-Reply-To: <mailman.1.1375696801.20960.r-sig-finance@r-project.org>
References: <mailman.1.1375696801.20960.r-sig-finance@r-project.org>
Message-ID: <589D8826-B955-4456-8BD9-060E187158AC@gutmark.net>

I agree with Joshua's comment on this one. Also, this clearly isn't an R question. Which means there are other forums for this type of question, e.g. Wilmott. Also, what whith VaR already being a bit long in the tooth, conceptually, there are copious papers around explaining the genesis of this metric. Just check gloriamundis.

But actually, I'd rather rant about something entirely different: How come you're developing a flock of VaR models and don't know what they're for?! That's exactly the sort of mindset that got us into our current predicament: Modelling without any common sense! Aaaargh!

So. Anyway. *takes a deep breath*

The answer to the question is so straightforward that we might bear spelling it out: The money the bank in your example bets on a particular stock has got to come from somewhere. Let's say:

- the bankers themselves (or any other shareholders) put up $10 in equity
- deposit holders place another $90 with the bank into their (!) savings accounts
- the bank then invests the total of $100 in a single stock
- the stock drops $40, so the value of the banks assets is now $60
- sure, the bank hasn't got to pay anything just yet, but...
- the deposit holders come knocking and want to get their $90 out, as is their right
- the bankers (shareholders) are wiped out, as their $10 are gone with the wind
- the bank is broke and has to be bailed out to the tune of the remaining $30
- the deposit holders receive $60 + $30 and wonder what happened to their interest

Clearly, the equity ($10) held against what turned out to be a high-risk position wasn't quite appropriate and someone (say, both the trader and the risk manager) should be tarred and feathered.

Best regards
Hans

From josh.m.ulrich at gmail.com  Mon Aug  5 13:02:13 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 5 Aug 2013 06:02:13 -0500
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
 month price when using the "getSymbols" function
In-Reply-To: <6D21E112777B4D62830424CD11123640@Franki7PC>
References: <CAJ-23aSohF26JsDZrVjdK90LS0fw3qiExRU1yp2k7yqdmSkYVw@mail.gmail.com>
	<6D21E112777B4D62830424CD11123640@Franki7PC>
Message-ID: <CAPPM_gSN7SemHuKWCK0HY7LaDHqgu1MH3P8QOCu6pjQOP=eShA@mail.gmail.com>

On Sun, Aug 4, 2013 at 12:36 PM, Frank <frankm60606 at gmail.com> wrote:
> WTI crude prices are available, I use:
>
> getSymbols('DCOILWTICO',src='FRED')
> DCOILWTICO <- na.locf(DCOILWTICO)
> tail(DCOILWTICO)
> file_name <- "DCOILWTICO.csv"
> write.zoo(DCOILWTICO, file = file_name, append = FALSE, quote = TRUE, sep =
> ",")
> quit()
>
Those are spot prices, not the price of the front-month future, so it
doesn't answer Ryan's question.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org
> [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Ryan Christopher
> Sent: Sunday, August 04, 2013 11:48 AM
> To: r-sig-finance at r-project.org
> Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
> month price when using the "getSymbols" function
>
> Hello,
>
> I'm working on a project that requires me to retrieve the prices of NYMEX
> WTI oil futures over a 5-year period of time.  I'm interested in retrieving
> the rolling 'front month' price, rather than a particular contract
> expiration.
>
> I'm using the "getSymbols" function in the Quantmod package to retrieve the
> data from Yahoo.
>
> At this point, I can't even seem to retrieve My code is:
>
> ************************************************************
> initDate <- "2008-07-31"
> endDate <- "2013-07-31"
> symbols <- c("CLU13.NYM")
> getSymbols(symbols, src="yahoo",from=initDate, to=endDate,
> index.class=c("POSIXt","POSIXct"))
>
> Which returns this error message:
>
> Error in download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,
>  :
>   cannot open URL '
> http://chart.yahoo.com/table.csv?s=CLU13.NYM&a=6&b=31&c=2009&d=6&e=19&f=2013
> &g=d&q=q&y=0&z=CLU13.NYM&x=.csv
> '
> In addition: Warning message:
> In download.file(paste(yahoo.URL, "s=", Symbols.name, "&a=", from.m,  :
>   cannot open: HTTP status was '404 Not Found'
> ************************************************************
>
> Does anyone know if it's possible to retrieve the rolling front month price
> (instead of a particular contract expiration)?
>
> Thanks,
> Ryan
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From hvollmeier at mac.com  Mon Aug  5 13:11:59 2013
From: hvollmeier at mac.com (Helmuth Vollmeier)
Date: Mon, 5 Aug 2013 13:11:59 +0200
Subject: [R-SIG-Finance] QUANTMOD package: retrieving the rolling front
 month price when using the "getSymbols" function
Message-ID: <CAHG7xcdbOAuaGo0yBoxn+nmQDJx+HJS-3dFJCSKgptrMg+0q4A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130805/a0db5300/attachment.pl>

From shuo.x.wang at gmail.com  Mon Aug  5 13:18:46 2013
From: shuo.x.wang at gmail.com (Shuo Wang)
Date: Mon, 5 Aug 2013 19:18:46 +0800
Subject: [R-SIG-Finance] Question regarding ugarchroll in rugarch
	package.
In-Reply-To: <51F917AF.5060705@4dscape.com>
References: <CAHLA0z+=UuuiOBAZ+xz06nz2enf-vaDVtB3LCBV-7OSjh5d+OA@mail.gmail.com>
	<51F917AF.5060705@4dscape.com>
Message-ID: <CAHLA0zLUSAJqqsp0r3gpVwRy0Vc4ZQX2ZUO26oK6c+YrPRp+XA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130805/2ed41705/attachment.pl>

From alexios at 4dscape.com  Mon Aug  5 13:31:03 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Mon, 5 Aug 2013 12:31:03 +0100
Subject: [R-SIG-Finance] Question regarding ugarchroll in rugarch
	package.
In-Reply-To: <CAHLA0zLUSAJqqsp0r3gpVwRy0Vc4ZQX2ZUO26oK6c+YrPRp+XA@mail.gmail.com>
References: <CAHLA0z+=UuuiOBAZ+xz06nz2enf-vaDVtB3LCBV-7OSjh5d+OA@mail.gmail.com>
	<51F917AF.5060705@4dscape.com>
	<CAHLA0zLUSAJqqsp0r3gpVwRy0Vc4ZQX2ZUO26oK6c+YrPRp+XA@mail.gmail.com>
Message-ID: <12D8BC31-8B9D-4137-AB8F-4CA24DF32292@4dscape.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130805/dd4041d0/attachment.pl>

From sgreiner at factset.com  Mon Aug  5 18:09:51 2013
From: sgreiner at factset.com (Steve Greiner)
Date: Mon, 5 Aug 2013 16:09:51 +0000
Subject: [R-SIG-Finance] Alexxios Ghalanos Parma Package
Message-ID: <D603B8CA9A18844FB6D4BE02C5C764C31ADE6CA8@EXCHMBOXA01.pc.factset.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130805/f61001db/attachment.pl>

From alexios at 4dscape.com  Mon Aug  5 18:27:51 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 05 Aug 2013 17:27:51 +0100
Subject: [R-SIG-Finance] Alexxios Ghalanos Parma Package
In-Reply-To: <D603B8CA9A18844FB6D4BE02C5C764C31ADE6CA8@EXCHMBOXA01.pc.factset.com>
References: <D603B8CA9A18844FB6D4BE02C5C764C31ADE6CA8@EXCHMBOXA01.pc.factset.com>
Message-ID: <51FFD287.6020000@4dscape.com>

Hi Steve,

The fractional method directly solves the optimal risk to reward problem 
using fractional programming without having to calculate the whole 
frontier and then 'discover' the optimal. For linear problems (LP) the 
theory goes back to Charnes & Cooper (1962), whilst for nonlinear convex 
see Dinkelbach (1967)...references are in the manual.

Hope that clarifies.

Regards,

Alexios


On 05/08/2013 17:09, Steve Greiner wrote:
> Hello,
> In using this package to run some portfolio optimizations, I cannot figure out what the difference is between the Frontier Optimal solution and the Fractional Optimal solution?  I know they're both minimizing (risk/reward) but cannot determine their explicit difference.  Can somebody clarify? Thank you
> Steve Greiner
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From suzie at 10g.pl  Mon Aug  5 21:40:03 2013
From: suzie at 10g.pl (=?UTF-8?Q?Suzie?=)
Date: Mon, 05 Aug 2013 21:40:03 +0200
Subject: [R-SIG-Finance] =?utf-8?q?ARCH_test_=28rugarch_package=29?=
Message-ID: <136616b.2da4b63c.51ffff93.8ede6@10g.pl>

Hello! 

Does anybody know if there is a possibility for extracting the results of ARCH LM tests (especially I need the p-value column) from show() function in the rugarch package? Like for example there is signbias() for extracting the results of sign bias test or nyblom() for extracting the Hansen-Nyblom test results. 

If there is none such method for extracting the results from show(), I know that I can use: 
fit = ugarchfit(...) 
library(FinTS) 
x = residuals(fit, standardize=TRUE) 
ArchTest(x, lags=2) 
ArchTest(x, lags=5) 
ArchTest(x, lags=10)
and get the same results as presented in the show(fit), but I still don't know how to extract only the "p-value" values from these results. 

I will be gratefull for any help. 
Regards, 
Suzie


From alexios at 4dscape.com  Mon Aug  5 22:42:13 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 05 Aug 2013 21:42:13 +0100
Subject: [R-SIG-Finance] ARCH test (rugarch package)
In-Reply-To: <136616b.2da4b63c.51ffff93.8ede6@10g.pl>
References: <136616b.2da4b63c.51ffff93.8ede6@10g.pl>
Message-ID: <52000E25.8080908@4dscape.com>

Have a look at the unexported function:

rugarch:::.archlmtest

It returns a list, with one of the constituents being 'p.value'.

Regards,

Alexios

On 05/08/2013 20:40, Suzie wrote:
> Hello!
>
> Does anybody know if there is a possibility for extracting the results of ARCH LM tests (especially I need the p-value column) from show() function in the rugarch package? Like for example there is signbias() for extracting the results of sign bias test or nyblom() for extracting the Hansen-Nyblom test results.
>
> If there is none such method for extracting the results from show(), I know that I can use:
> fit = ugarchfit(...)
> library(FinTS)
> x = residuals(fit, standardize=TRUE)
> ArchTest(x, lags=2)
> ArchTest(x, lags=5)
> ArchTest(x, lags=10)
> and get the same results as presented in the show(fit), but I still don't know how to extract only the "p-value" values from these results.
>
> I will be gratefull for any help.
> Regards,
> Suzie
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From josef.jauk at live.at  Wed Aug  7 20:19:12 2013
From: josef.jauk at live.at (Josef Jauk)
Date: Wed, 7 Aug 2013 20:19:12 +0200
Subject: [R-SIG-Finance] Cointegration
Message-ID: <DUB105-W25E61D4779674B33C28013995E0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130807/0be8d729/attachment.pl>

From josh.m.ulrich at gmail.com  Wed Aug  7 22:00:02 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Wed, 7 Aug 2013 15:00:02 -0500
Subject: [R-SIG-Finance] Cointegration
In-Reply-To: <DUB105-W25E61D4779674B33C28013995E0@phx.gbl>
References: <DUB105-W25E61D4779674B33C28013995E0@phx.gbl>
Message-ID: <CAPPM_gQLM3S9tg=VA-3ex+Oa7_umV6QSZAe+0jdh3iZiLgBP3A@mail.gmail.com>

coef(m)[1] is the intercept in your model. coef(m)[2] is the slope.
If you wanted to run a regression with no intercept, include "+0" or
"-1" in your formula (as it says in ?lm).
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Wed, Aug 7, 2013 at 1:19 PM, Josef Jauk <josef.jauk at live.at> wrote:
> I have build a cointegration model to select stocks for pairs trading. My problem with it is to refer within a loop to a list of symbols. While the code runs without generating any warnings I get the wrong results:
>
> e.g. for the combination BP ~ AMD I get beta=36.45182 and p-value=0.241386 while it should be beta=5.153268 and p-value=0.1557386
>
> Thanks for every help to solve the problem.
>
> the code is:
>
> #Cointegration Combinations
> require(quantmod)
> require(zoo)
> require(quadprog)
> require(tseries)
>
> setInternet2()
>
> symList <- c('MSN','GOOG','YHOO', 'BA', 'SI', 'BP', 'AMD')
>
> xtsStock <- xts()
> xtsFinalPrice <- xts()
>
> for (i in 1:length(symList)) {
>    xtsStock <- getSymbols(symList[i], auto.assign=FALSE)
>    xtsFinalPrice <- merge(xtsFinalPrice, xtsStock[,6]) #get the adjusted close price
> }
>
> colnames(xtsFinalPrice) <- symList
> t <- as.data.frame(xtsFinalPrice)
> comb <- combn(symList, 2, FUN=NULL, simplify=TRUE)
> ergebnis <- cbind(t(comb), 0, 0)
> colnames(ergebnis) <- c("St.Y", "St.X", "BETA", "p-value")
>
> for (i in 1:((length(symList) * (length(symList)-1)) / 2)) {
>    #m <- lm(MSN ~ AMD + 0, data=t)
>    m <- lm(paste(comb[1,i],"~",comb[2,i],sep=" ") , data=t)
>    beta <- coef(m)[1]
>    #sprd <- t$MSN - beta * t$AMD
>    sprd <- get(comb[1,i], pos=t) - beta * get(comb[2,i], pos=t)
>    ht <- adf.test(sprd, alternative="stationary", k=trunc((length(sprd)-1)^(1/3)))
>    ergebnis[i,3] <- as.numeric(beta)
>    ergebnis[i,4] <- as.numeric(ht$p.value)
> }
>
> Josef
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From sgreiner at factset.com  Thu Aug  8 19:23:28 2013
From: sgreiner at factset.com (Steve Greiner)
Date: Thu, 8 Aug 2013 17:23:28 +0000
Subject: [R-SIG-Finance] Parma Package specifically, parmaspec
Message-ID: <D603B8CA9A18844FB6D4BE02C5C764C31ADE849C@EXCHMBOXA01.pc.factset.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130808/16cda1f1/attachment.pl>

From alexios at 4dscape.com  Thu Aug  8 19:41:44 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Thu, 8 Aug 2013 18:41:44 +0100
Subject: [R-SIG-Finance] Parma Package specifically, parmaspec
In-Reply-To: <D603B8CA9A18844FB6D4BE02C5C764C31ADE849C@EXCHMBOXA01.pc.factset.com>
References: <D603B8CA9A18844FB6D4BE02C5C764C31ADE849C@EXCHMBOXA01.pc.factset.com>
Message-ID: <D2D9C105-1B26-4DE5-97FE-B28EC3A185AC@4dscape.com>

Hi Steve,

'parmaspec' only defines the setup/specification. It is the 'parmasolve' function which does the optimization....look at the 'solver.control' option with which you can pass additional options to the nloptr or cmaes solvers (for NLP and GNLP type problems respectively)...for GLPK (LP and MILP) there are no options.

Hope that helps.

Regards,

Alexios

Sent from my iPhone

On Aug 8, 2013, at 18:23, Steve Greiner <sgreiner at factset.com> wrote:

> This package is pretty amazing, I have to say.  However I have a question on limiting the optimization searching by either time or by
> Iterations.  Unfortunately, I cannot find any option in the Parma Package doc on the method "parmaspec" to limit by either.  In my usage,
> there's an occasion  where perhaps I set infeasible constraints or some such and it goes into a seemingly infinite loop that I have to use
> task manage to interrupt the process.  Is there some way to stop "parmaspec" after so many iterations or time limits?  Preferably it would
> best solution at found out to that point.  Thoughts?
> Steve
> 
> Steven P. Greiner, Ph.D.
> Director of Portfolio Risk
> www.FactSet.com/risk
> 
> FactSet Research Systems, Inc.
> sgreiner at factset.com<mailto:sgreiner at factset.com>
> (312) 566 5109 (W)
> (585) 261 7138 (C)
> 
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From adam.boulfoul at gmail.com  Fri Aug  9 14:04:20 2013
From: adam.boulfoul at gmail.com (Adam B)
Date: Fri, 9 Aug 2013 13:04:20 +0100
Subject: [R-SIG-Finance] Get Index Constituents
Message-ID: <-7156580960633437167@unknownmsgid>

Hi,

Is there an R library with a function that would return a list of
stocks in an index at a particular time? E.g.
getIndexConstituents("^FTSE","1995-01-01") would give me the list of
stocks that composed the FTSE as of January 1995.

Thanks,
Adam


From rowe at muxspace.com  Fri Aug  9 14:33:31 2013
From: rowe at muxspace.com (Brian Lee Yung Rowe)
Date: Fri, 9 Aug 2013 08:33:31 -0400
Subject: [R-SIG-Finance] Get Index Constituents
In-Reply-To: <-7156580960633437167@unknownmsgid>
References: <-7156580960633437167@unknownmsgid>
Message-ID: <1C561614-1680-4E20-908F-9DF58C1713F3@muxspace.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130809/ecbafb46/attachment.pl>

From pcavatore at gmail.com  Fri Aug  9 18:32:04 2013
From: pcavatore at gmail.com (Paolo Cavatore)
Date: Fri, 9 Aug 2013 18:32:04 +0200
Subject: [R-SIG-Finance] error with Return.rebalancing after upgrading to
 latest stable PerformanceAnalytics v1.1.0
In-Reply-To: <52050119.5090704@braverock.com>
References: <CAETKVBXcxLqc0qAR_tqOF9xxFa4o7qFyE-KpQrABvsYwAQ+Jjg@mail.gmail.com>
	<52050119.5090704@braverock.com>
Message-ID: <CAETKVBUtOnJHxA69TORXbY4A2z3J-Lx_hEg4cMkw6vVbfAfjKw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130809/75ab36b8/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Aug  9 18:41:34 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 9 Aug 2013 11:41:34 -0500
Subject: [R-SIG-Finance] error with Return.rebalancing after upgrading
 to latest stable PerformanceAnalytics v1.1.0
In-Reply-To: <CAETKVBUtOnJHxA69TORXbY4A2z3J-Lx_hEg4cMkw6vVbfAfjKw@mail.gmail.com>
References: <CAETKVBXcxLqc0qAR_tqOF9xxFa4o7qFyE-KpQrABvsYwAQ+Jjg@mail.gmail.com>
	<52050119.5090704@braverock.com>
	<CAETKVBUtOnJHxA69TORXbY4A2z3J-Lx_hEg4cMkw6vVbfAfjKw@mail.gmail.com>
Message-ID: <CAPPM_gTcfJaMK3heQ4YOi+-qh_soLuWAy2J5TZrYeJrrmL7tbQ@mail.gmail.com>

Your example doesn't run because you sent HTML mail even though you're
explicitly told not to in the posting guide:
http://www.r-project.org/posting-guide.html

Please send a reproducible example in *plain text*.

Also, please do not cross-post:
http://lists.r-forge.r-project.org/pipermail/returnanalytics-commits/2013-August/000849.html

--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Fri, Aug 9, 2013 at 11:32 AM, Paolo Cavatore <pcavatore at gmail.com> wrote:
> I have a problem with Return.rebalancing() from PerformanceAnalytics after
> upgrading to the latest stable release v1.1.0.
>
> The below simple example was working wth previous versions but now returns
> the following error message...
>
>
> require(PerformanceAnalytics)
>
> testRet <- xts(cbind(c(0.10,-0.08,0.15), c(0.02,0.01,-0.01)), order.by
> =as.Date(c("2013-07-**19","2013-07-26","2013-08-02")**) )
> names(testRet) <- c("equity", "bond")
>
> testWeights <- xts(cbind(c(0.2,0.3), c(0.8,0.7)), order.by
> =as.Date(c("2013-07-**19","2013-07-26")) )
> names(testWeights) <- c("equity", "bond")
>
> Return.rebalancing(testRet,**testWeights)
> sessionInfo()
>
> ####################
>> require(PerformanceAnalytics)
>>
>> testRet <- xts(cbind(c(0.10,-0.08,0.15), c(0.02,0.01,-0.01)), order.by=as.Date(c("2013-07-19","2013-07-26","2013-08-02"))
> )
>> names(testRet) <- c("equity", "bond")
>>
>> testWeights <- xts(cbind(c(0.2,0.3), c(0.8,0.7)), order.by=as.Date(c("2013-07-19","2013-07-26"))
> )
>> names(testWeights) <- c("equity", "bond")
>>
>> Return.rebalancing(testRet,testWeights)
> Error in `[.xts`(result, 2:length(result)) : subscript out of bounds
>>
>> sessionInfo()
> R version 3.0.1 (2013-05-16)
> Platform: i386-w64-mingw32/i386 (32-bit)
> locale:
> [1] LC_COLLATE=Italian_Switzerland.1252
> LC_CTYPE=Italian_Switzerland.1252    LC_MONETARY=Italian_Switzerland.1252
> [4] LC_NUMERIC=C
> LC_TIME=Italian_Switzerland.1252
> attached base packages:
> [1] stats     graphics  grDevices datasets  utils     methods   base
> other attached packages:
> [1] PerformanceAnalytics_1.1.0 xts_0.9-5
> zoo_1.7-10                 rcom_3.1-2
> rscproxy_2.0-5
> loaded via a namespace (and not attached):
> [1] grid_3.0.1      lattice_0.20-15 tools_3.0.1
>
> #######################
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From David.Reiner at xrtrading.com  Fri Aug  9 22:53:41 2013
From: David.Reiner at xrtrading.com (David Reiner)
Date: Fri, 9 Aug 2013 15:53:41 -0500
Subject: [R-SIG-Finance] Rbbg::bdp cannot return TIME type?
Message-ID: <9DE405308A6AA24AA794B76282C6C00F4A58C00F99@HQ-POST1>

I was hoping to retrieve a field called "ACT_TIME_LAST_SETTLE_RECEIVED_RT",
but I got an error: "Error in convert.to.type(df.data, data_types) : unknown type TIME"

Any chance of getting Rbbg extended to handle this type?
Or did I do something wrong? (I can got other fields OK.)

Thanks,
David L. Reiner

-------------

> require('Rbbg')
Loading required package: Rbbg
Loading required package: rJava
> conn <- blpConnect()
R version 3.0.0 (2013-04-03)
rJava Version 0.9-4
Rbbg Version 0.4-155
Java environment initialized successfully.
Looking for most recent blpapi3.jar file...
Adding C:\blp\API\APIv3\JavaAPI\v3.4.3.2\lib\blpapi3.jar to Java classpath
Bloomberg API Version 3.4.3.2
> bdp(conn, "ESU3 Index", "ACT_TIME_LAST_SETTLE_RECEIVED_RT")
Error in convert.to.type(df.data, data_types) : unknown type TIME
> sessionInfo()
R version 3.0.0 (2013-04-03)
Platform: i386-w64-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                           LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] sos_1.3-5    brew_1.0-6   Rbbg_0.4-155 rJava_0.9-4



This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.

THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From snes1982 at hotmail.com  Sat Aug 10 15:54:55 2013
From: snes1982 at hotmail.com (nserdar)
Date: Sat, 10 Aug 2013 06:54:55 -0700 (PDT)
Subject: [R-SIG-Finance] "rugarch" package output help
Message-ID: <1376142895756-4673488.post@n4.nabble.com>

Hello,

I do not know how to extract " standardized residual"  and " R^2" following 
code:

spec<-ugarchspec(variance.model = list(model = "sGARCH", garchOrder= c(1,
1), submodel = NULL, external.regressors = NULL, variance.targeting =FALSE),
mean.model=list(armaOrder=c(0,0),include.mean = FALSE, archm = FALSE,archpow
= 1, arfima = FALSE, external.regressors = NULL, archex =
FALSE),distribution.model = "norm", start.pars = list(), fixed.pars =
list())

m<-ugarchfit(spec, X2, out.sample = 0, solver = "solnp", solver.control =
list(1), fit.control = list(stationarity = 1, fixed.se = 0, scale=0))



I do not understand the following explanation for std residuals as well:

"residuals signature(object = "uGARCHfit"): Extracts the residuals. Optional
logical argument
standardize (default is FALSE) allows to extract the standardized
residuals."


Please let me give any examples to extract std. residual and R^2"

Regards,
Ser 



--
View this message in context: http://r.789695.n4.nabble.com/rugarch-package-output-help-tp4673488.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jaimie.villanueva at gmail.com  Sun Aug 11 17:56:07 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Sun, 11 Aug 2013 17:56:07 +0200
Subject: [R-SIG-Finance] YieldCurve package
Message-ID: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130811/80c4e4ea/attachment.pl>

From jeff.a.ryan at gmail.com  Mon Aug 12 05:33:37 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 11 Aug 2013 22:33:37 -0500
Subject: [R-SIG-Finance] YieldCurve package
In-Reply-To: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
References: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
Message-ID: <7EAC1B23-AC3A-41AF-884B-A9E834D27D57@gmail.com>

Try posting sessionInfo(). Your packages matter far more than your system in 99.99% of cases. 

Also, providing the result of traceback() immediately after the failed call can be illustrative. 

Best,
Jeff

Jeffrey Ryan    |    Founder    |    jeffrey.ryan at lemnica.com

www.lemnica.com

On Aug 11, 2013, at 10:56 AM, jaimie villanueva <jaimie.villanueva at gmail.com> wrote:

> Hi there,
> 
> I'm facing some problems since I've updated  the YieldCurve package from <<
> YieldCurve_4.0 >> to << YieldCurve_4.1 >>
> 
> I would like to get Nelson Siegel rates. To do so, I'm using
> "Nelson.Siegel" function in order to compute beta and lambda parameters and
> "NSrates" function to compute Nelson Siegel rates. The thing is that the
> following code I'm about to show You, did work in the past with my older
> version of the package, but It doesn't work now.
> 
> The problem occurs when setting up Nelson Siegel function:
> 
> This is the code:
> 
>> Sys.info()
>                     sysname                      release
>   version
>                   "Windows"                      "7 x64" "build 7601,
> Service Pack 1"
>                    nodename                      machine
>     login
>                    "JVC-PC"                     "x86-64"
>     "JVC"
>                        user               effective_user
>                       "JVC"                        "JVC"
> 
>  library(RODBC)
>> library(TSA)
>> library(grDevices)
>> library(YieldCurve)
>> library(xts)
>> 
>> 
>> #########  CONFIGURACI?N INICIAL
>> #
>> 
>> plazos.NG=array(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
> + 21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,
> + 42,43,44,45,46,47,48,49,50))
>> 
>> 
> CURVA.EUR=array(c(1.415943,1.302205,1.380278,1.533634,1.725201,1.920058,2.083162,2.214956,
> +   2.32518,2.422087,2.591747,2.735049,2.739023,2.644585,2.543769))
>> 
>> m=length(plazos.NG)
>> CURVA.EUR.NG=array(NA,c(m))
>> plazos.EUR=array(c(1,2,3,4,5,6,7,8,9,10,12,15,20,25,30))
>> 
>> #
>> #########
>> 
>> NEW.VECT.1=cbind(plazos.NG,CURVA.EUR.NG)
>> NEW.VECT.2=cbind(plazos.EUR,CURVA.EUR)
>> 
>> 
>> # CREAMOS EL VECTOR CON TIPOS
>> 
>> l= length(plazos.EUR)
>> posicX=1
>> posicY=1
>> 
>> for(k in 1:l)
> +  {
> + # BUSCAMOS LA POSICION DE CADA PUNTO DE LA CURVA.
> +
> + while(NEW.VECT.1[posicY,1]!= NEW.VECT.2[posicX,1]){posicY=posicY+1}
> + NEW.VECT.1[posicY,2]=NEW.VECT.2[posicX,2]
> + posicX=posicX+1
> + posicY=posicY+1
> +
> +  }
>> 
>> NSParameters= Nelson.Siegel(rate=NEW.VECT.1[,2],maturity=NEW.VECT.1[,1])
>> fitted.rates= NSrates(NSParameters, NEW.VECT.1[,1])
> 
> *Error in xts(matrix(0, nrow(Coeff), length(maturity)), order.by =
> time(Coeff)) : *
> *  order.by requires an appropriate time-based object*
> *
> *
> Any help would be kindly appreciated.
> Thanks in advance.
> 
> -- 
> *Jaimie.*
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From jaimie.villanueva at gmail.com  Mon Aug 12 08:47:43 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Mon, 12 Aug 2013 08:47:43 +0200
Subject: [R-SIG-Finance] YieldCurve package
In-Reply-To: <CAEXmNQCVW4Qa+caBN9Eu_pKCYPy+okyDLCO_7j+GsnKODF7S7Q@mail.gmail.com>
References: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
	<7EAC1B23-AC3A-41AF-884B-A9E834D27D57@gmail.com>
	<CAEXmNQCVW4Qa+caBN9Eu_pKCYPy+okyDLCO_7j+GsnKODF7S7Q@mail.gmail.com>
Message-ID: <CAEXmNQDn9m-KEooRanN6Ba32GmTOso1K6AM36eb-8XqpawnX_A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130812/a6cf9213/attachment.pl>

From josh.m.ulrich at gmail.com  Mon Aug 12 18:37:30 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 12 Aug 2013 11:37:30 -0500
Subject: [R-SIG-Finance] YieldCurve package
In-Reply-To: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
References: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
Message-ID: <CAPPM_gT_JgASUcJrn+-hzJNr5SqgQ=AMmO_D4tuH63K1HeR_Aw@mail.gmail.com>

Hi Jaimie,

The YieldCurve package works much better if you use a time-series of
rates/maturities.  For example, using xts:

# create xts object with a custom "maturity" attribute
x <- xts(t(NEW.VECT.1[,2]), Sys.Date(), maturity=NEW.VECT.1[,1],
  dimnames=list(NULL, paste("X", NEW.VECT.1[,1], sep="")))
xNSParam <- Nelson.Siegel(rate=x, maturity=attr(x,'maturity'))
xFitted <- NSrates(xNSParam, attr(x,'maturity'))

If you just want your code to work, convert NSParameters to xts before
you call NSrates:
fitted.rates= NSrates(xts(NSParameters,Sys.Date()), NEW.VECT.1[,1])

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Sun, Aug 11, 2013 at 10:56 AM, jaimie villanueva
<jaimie.villanueva at gmail.com> wrote:
> Hi there,
>
> I'm facing some problems since I've updated  the YieldCurve package from <<
> YieldCurve_4.0 >> to << YieldCurve_4.1 >>
>
> I would like to get Nelson Siegel rates. To do so, I'm using
> "Nelson.Siegel" function in order to compute beta and lambda parameters and
> "NSrates" function to compute Nelson Siegel rates. The thing is that the
> following code I'm about to show You, did work in the past with my older
> version of the package, but It doesn't work now.
>
> The problem occurs when setting up Nelson Siegel function:
>
> This is the code:
>
>> Sys.info()
>                      sysname                      release
>    version
>                    "Windows"                      "7 x64" "build 7601,
> Service Pack 1"
>                     nodename                      machine
>      login
>                     "JVC-PC"                     "x86-64"
>      "JVC"
>                         user               effective_user
>                        "JVC"                        "JVC"
>
>   library(RODBC)
>>  library(TSA)
>>  library(grDevices)
>>  library(YieldCurve)
>>  library(xts)
>>
>>
>>  #########  CONFIGURACI?N INICIAL
>>  #
>>
>>  plazos.NG=array(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
> + 21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,
> + 42,43,44,45,46,47,48,49,50))
>>
>>
>  CURVA.EUR=array(c(1.415943,1.302205,1.380278,1.533634,1.725201,1.920058,2.083162,2.214956,
> +   2.32518,2.422087,2.591747,2.735049,2.739023,2.644585,2.543769))
>>
>>  m=length(plazos.NG)
>>  CURVA.EUR.NG=array(NA,c(m))
>>  plazos.EUR=array(c(1,2,3,4,5,6,7,8,9,10,12,15,20,25,30))
>>
>>  #
>>  #########
>>
>>  NEW.VECT.1=cbind(plazos.NG,CURVA.EUR.NG)
>>  NEW.VECT.2=cbind(plazos.EUR,CURVA.EUR)
>>
>>
>>  # CREAMOS EL VECTOR CON TIPOS
>>
>>  l= length(plazos.EUR)
>>  posicX=1
>>  posicY=1
>>
>>  for(k in 1:l)
> +  {
> + # BUSCAMOS LA POSICION DE CADA PUNTO DE LA CURVA.
> +
> + while(NEW.VECT.1[posicY,1]!= NEW.VECT.2[posicX,1]){posicY=posicY+1}
> + NEW.VECT.1[posicY,2]=NEW.VECT.2[posicX,2]
> + posicX=posicX+1
> + posicY=posicY+1
> +
> +  }
>>
>>  NSParameters= Nelson.Siegel(rate=NEW.VECT.1[,2],maturity=NEW.VECT.1[,1])
>>  fitted.rates= NSrates(NSParameters, NEW.VECT.1[,1])
>
> *Error in xts(matrix(0, nrow(Coeff), length(maturity)), order.by =
> time(Coeff)) : *
> *  order.by requires an appropriate time-based object*
> *
> *
> Any help would be kindly appreciated.
> Thanks in advance.
>
> --
> *Jaimie.*
>
>         [[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From markknecht at gmail.com  Mon Aug 12 21:55:28 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 12 Aug 2013 12:55:28 -0700
Subject: [R-SIG-Finance] Creating trading reports in pdf?
Message-ID: <CAK2H+ecXiJ2QOzHhFJGV1_P8sVu+in6Y_wUWqLEiWJXW4vN3CQ@mail.gmail.com>

Hi,
   Very generic question. I've developed some R code that trades
stocks on daily bars. The R code takes about 10-15 minutes to run on 5
years of data, generates a few charts, a few data.frames, a few
matrices, etc.

   I'd like to find a way to get this stuff into a single,
esthetically readable PDF file. To this end I've been fiddling with
the pdf command but not making much headway.

   Is there by chance a good link for info/examples/etc. on this subject?

Thanks,
Mark


From daniel.cegielka at gmail.com  Mon Aug 12 22:07:16 2013
From: daniel.cegielka at gmail.com (=?ISO-8859-2?Q?Daniel_Cegie=B3ka?=)
Date: Mon, 12 Aug 2013 22:07:16 +0200
Subject: [R-SIG-Finance] Creating trading reports in pdf?
In-Reply-To: <CAK2H+ecXiJ2QOzHhFJGV1_P8sVu+in6Y_wUWqLEiWJXW4vN3CQ@mail.gmail.com>
References: <CAK2H+ecXiJ2QOzHhFJGV1_P8sVu+in6Y_wUWqLEiWJXW4vN3CQ@mail.gmail.com>
Message-ID: <CAPLrYESLdQtVdgxA45SXvyqCvoVCeBsDkmhS45fDQUYku+NMvw@mail.gmail.com>

Hi Mark,

http://timelyportfolio.blogspot.com/2013/03/one-pager-performance-report-with-knitr.html

http://timelyportfolio.blogspot.com/2013/03/production-quality-report-with-r-and.html

Best regards,
Daniel


From jaimie.villanueva at gmail.com  Tue Aug 13 13:59:18 2013
From: jaimie.villanueva at gmail.com (jaimie villanueva)
Date: Tue, 13 Aug 2013 13:59:18 +0200
Subject: [R-SIG-Finance] YieldCurve package
In-Reply-To: <CAPPM_gT_JgASUcJrn+-hzJNr5SqgQ=AMmO_D4tuH63K1HeR_Aw@mail.gmail.com>
References: <CAEXmNQAYB_95Nusuro741v=O7xZ5V-tNnTd8Ung_UExxNTZxow@mail.gmail.com>
	<CAPPM_gT_JgASUcJrn+-hzJNr5SqgQ=AMmO_D4tuH63K1HeR_Aw@mail.gmail.com>
Message-ID: <CAEXmNQDRJFNJgZWa-D-6EpmT3fZzjoK1uhRrECS7ybAP4q8uXg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130813/a6e40fc2/attachment.pl>

From rharlow86 at gmail.com  Tue Aug 13 16:04:20 2013
From: rharlow86 at gmail.com (Robert Harlow)
Date: Tue, 13 Aug 2013 10:04:20 -0400
Subject: [R-SIG-Finance] Embarassingly Simple Questions on rmgarch
Message-ID: <CAHdfS95Mz5ayXzcZyEF=5+12h5Ki54gs3Vycj-NTYnzpDivbKg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130813/1161a53d/attachment.pl>

From alexios at 4dscape.com  Tue Aug 13 16:54:36 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 13 Aug 2013 15:54:36 +0100
Subject: [R-SIG-Finance] Embarassingly Simple Questions on rmgarch
In-Reply-To: <CAHdfS95Mz5ayXzcZyEF=5+12h5Ki54gs3Vycj-NTYnzpDivbKg@mail.gmail.com>
References: <CAHdfS95Mz5ayXzcZyEF=5+12h5Ki54gs3Vycj-NTYnzpDivbKg@mail.gmail.com>
Message-ID: <520A48AC.1030909@4dscape.com>

Hi Bob,

The rmgarch.tests folder is in the src distribution (tarball). Just 
download it from CRAN and unpack/extract.

I've installed it on Fedora 19 without problem...you do need to follow 
the instructions of Rmpfr/Bessel/fftw on installing the required 
dependencies first (see their readme files in the src installation).

Regards,
Alexios

On 13/08/2013 15:04, Robert Harlow wrote:
> Hi,
>     I was wondering where the rmgarch.tests folder is.  In the vignette, it
> says that examples are in the "rmgarch.tests folder of the source," but I
> do not know exactly what that means and cannot find it in the directory
> where the library is installed (on windows).
>
> Also, I wanted to ask if anyone else has had success building rmgarch on
> redhat linux.  rugarch builds perfectly, but some of the dependencies of
> rmgarch (Rmpfr, Bessel, ff, fftw) are not building correctly.
>   Unfortunately, I am pretty incapable of debugging results, though it looks
> like there is a "make" issue.  I am guessing this is not the best place to
> debug the issue, so I won't post info on the compiler errors, but is
> stackoverflow more appropriate?
>
> Thanks,
> -Bob
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From markknecht at gmail.com  Tue Aug 13 17:14:47 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 13 Aug 2013 08:14:47 -0700
Subject: [R-SIG-Finance] Creating trading reports in pdf?
In-Reply-To: <CAPLrYESLdQtVdgxA45SXvyqCvoVCeBsDkmhS45fDQUYku+NMvw@mail.gmail.com>
References: <CAK2H+ecXiJ2QOzHhFJGV1_P8sVu+in6Y_wUWqLEiWJXW4vN3CQ@mail.gmail.com>
	<CAPLrYESLdQtVdgxA45SXvyqCvoVCeBsDkmhS45fDQUYku+NMvw@mail.gmail.com>
Message-ID: <CAK2H+edKS87B3XJM-occuNHCqdd4mBf3bPBacV0SsaH0RhB6UQ@mail.gmail.com>

On Mon, Aug 12, 2013 at 1:07 PM, Daniel Cegie?ka
<daniel.cegielka at gmail.com> wrote:
> Hi Mark,
>
> http://timelyportfolio.blogspot.com/2013/03/one-pager-performance-report-with-knitr.html
>
> http://timelyportfolio.blogspot.com/2013/03/production-quality-report-with-r-and.html
>
> Best regards,
> Daniel

Daniel,
   Thanks for a very nice intro to a sort of high-end version of what
I wanted to do. This does appear to have a pretty high learning curve
though. Anyway, very nice example of what can be done.

Thanks,
Mark


From rharlow86 at gmail.com  Tue Aug 13 20:52:18 2013
From: rharlow86 at gmail.com (Robert Harlow)
Date: Tue, 13 Aug 2013 14:52:18 -0400
Subject: [R-SIG-Finance] Embarassingly Simple Questions on rmgarch
In-Reply-To: <520A48AC.1030909@4dscape.com>
References: <CAHdfS95Mz5ayXzcZyEF=5+12h5Ki54gs3Vycj-NTYnzpDivbKg@mail.gmail.com>
	<520A48AC.1030909@4dscape.com>
Message-ID: <CAHdfS97KUofWQoTy8gADn-Mbp+OA+AM2bY3Tm6mJq3z6zn5M7A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130813/c841adb4/attachment.pl>

From ppminers11 at yahoo.com  Wed Aug 14 03:18:14 2013
From: ppminers11 at yahoo.com (Alex Bennett)
Date: Tue, 13 Aug 2013 18:18:14 -0700 (PDT)
Subject: [R-SIG-Finance] Pulling minute bar data with bar() function in Rbbg
	(RBloomberg) package in R
Message-ID: <1376443094.83718.YahooMailNeo@web161005.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130813/90309e10/attachment.pl>

From z.krizek at gmail.com  Wed Aug 14 13:32:33 2013
From: z.krizek at gmail.com (zeljko krizek)
Date: Wed, 14 Aug 2013 13:32:33 +0200
Subject: [R-SIG-Finance] Multi-Period Mean Variance Optimization (MVO)
	implementation in R
Message-ID: <CAKd8xcmzDuXCWRQ3X7ymp6z6kf1CGfNuQncT9d1kCYwWGOK9QQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130814/e79f567a/attachment.pl>

From David.Reiner at xrtrading.com  Wed Aug 14 16:38:22 2013
From: David.Reiner at xrtrading.com (David Reiner)
Date: Wed, 14 Aug 2013 09:38:22 -0500
Subject: [R-SIG-Finance] [SPAM] - Pulling minute bar data with bar()
 function in Rbbg(RBloomberg) package in R - Email found in subject
In-Reply-To: <50db2c19-c6ce-4553-be82-ff176cc662f1@r-project.org>
References: <50db2c19-c6ce-4553-be82-ff176cc662f1@r-project.org>
Message-ID: <9DE405308A6AA24AA794B76282C6C00F4A58C010C9@HQ-POST1>

Alex,
Sending your message in text instead of html will help you get an answer - see below for what we received.
But, no, you can go back further, but you must omit holidays the way you are doing it, since the empty
return from July 4 messes up your logic. The timeSequence function does take a FinCenter argument,
which may help you.

> start.date <- localToUTC('2013-04-01 08:30') # I'm in Chicago
> end.date <- localToUTC('2013-04-01 15:00')
> raw=bar(conn,"GOOG US Equity","TRADE",start.date,end.date,"60")
> head(raw)
                                           time    open    high     low   close numEvents volume
2013-04-01T13:30:00.000 2013-04-01T13:30:00.000 795.010 801.800 793.250 801.380      3650 512342
2013-04-01T14:30:00.000 2013-04-01T14:30:00.000 801.380 801.380 796.600 798.850      2323 320520
2013-04-01T15:30:00.000 2013-04-01T15:30:00.000 798.940 800.980 798.063 798.414      1063 152294
2013-04-01T16:30:00.000 2013-04-01T16:30:00.000 798.450 801.350 798.070 800.777       815 119642
2013-04-01T17:30:00.000 2013-04-01T17:30:00.000 800.860 802.209 800.500 801.280      1061 145566
2013-04-01T18:30:00.000 2013-04-01T18:30:00.000 801.155 801.330 799.550 799.750      1299 185598

HTH,
-- David Reiner
PS:
localToUTC <- function(x) {
  if (class(x)[1] == "character") {
    x <- as.POSIXct(x) # Assume strings are in the correct format
  }
  format(x, "%Y-%m-%d %H:%M:%OS3",tz="UTC")
}

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Alex Bennett
Sent: Tuesday, August 13, 2013 8:18 PM
To: r-sig-finance at r-project.org
Subject: [SPAM] - [R-SIG-Finance] Pulling minute bar data with bar() function in Rbbg(RBloomberg) package in R - Email found in subject

I am fairly new to the Rbbg package, so please excuse any ignorance on my part, however I am wondering if it is possible to pull more than ~25 days of minute bar data using the bar() function. I've found I can't pull more than 25 or 26 days worth of data and am wondering if I am doing something wrong, or if it is just not possible.
Here is the code I am using:
#install.packages("rJava")#install.packages("Rbbg", repos="http://r.findata.org")#install.packages("timeDate")library(rJava)library(Rbbg)library(timeDate)conn <-blpConnect()weekdays =timeSequence(from=(Sys.Date()-38),to =(Sys.Date()-1),by="day")[isWeekday(timeSequence(from=(Sys.Date()-38),to =(Sys.Date()-1),by="day"))]date_time=numeric()volume=numeric()for(i in1:length(weekdays)){start.date <-paste(weekdays[i],"13:30:00.000")end.date <-paste(weekdays[i],"20:00:00.000")raw=bar(conn,"GOOG US Equity","TRADE",start.date,end.date,"1")date_time=append(date_time,raw$time)volume=append(volume,raw$volume)}date.time <-data.frame(do.call('rbind',strsplit(as.character(date_time),'T',fixed=TRUE)))use=data.frame("date"=format(as.Date(date.time$X1),"%m/%d/%Y"),"time"=date.time$X2,"volume"=raw$volume)blpDisconnect(conn)
This works fine and pulls data from the trading days in the past 3.5 weeks. Now, if I try to change the 38 to a greater number in the line weekdays = timeSequence(from = (Sys.Date()-38), to = (Sys.Date()-1), by = "day")[isWeekday(timeSequence(from = (Sys.Date()-38), to = (Sys.Date()-1), by = "day"))], I get the following error: Error in matrix.data[, 1] : subscript out of bounds when I try running the above script.
Is it the case that the API can only pull about 3.5 weeks of minute bar data? Or am I doing something incorrect? Ideally, I would like to have at least 100 trading days worth of data.
Thank you all for your help.
        [[alternative HTML version deleted]]



This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.

THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From jrewing at postamatik.com  Thu Aug 15 01:00:02 2013
From: jrewing at postamatik.com (HAKAN KAYA)
Date: Wed, 14 Aug 2013 16:00:02 -0700
Subject: [R-SIG-Finance] digits and as.perc arguments in table.Arbitrary in
	PerformanceAnalytics
Message-ID: <20130814160002.7B36AA7C@resin13.mta.everyone.net>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130814/1900d9c5/attachment.html>

From peter at braverock.com  Thu Aug 15 01:16:04 2013
From: peter at braverock.com (Peter Carl)
Date: Wed, 14 Aug 2013 18:16:04 -0500
Subject: [R-SIG-Finance] digits and as.perc arguments in table.Arbitrary
 in PerformanceAnalytics
In-Reply-To: <20130814160002.7B36AA7C@resin13.mta.everyone.net>
References: <20130814160002.7B36AA7C@resin13.mta.everyone.net>
Message-ID: <2a24492736e5de09878fc30fa5074b9c.squirrel@mail.braverock.com>

Text-only emails are preferred on this list.  In fact, I'm not sure R code
will run if it's typed in comic sans.

But to get to the core question, no.  There's no way to anticipate which
numbers need to be formatted which way in that particular function.  You
can take a look at Hmisc::format.df, which does the job once you know what
you want.  There's probably an example in textplot or one of the other
table.* functions.

pcc
-- 
Peter Carl
http://www.braverock.com/peter

> <DIV style="font-family:Comic Sans MS, cursive; font-size:12pt;"><FONT
> face="Comic Sans MS, cursive">Hi,</FONT><DIV><FONT face="Comic Sans MS,
> cursive"><BR></FONT></DIV><DIV><FONT face="Comic Sans MS, cursive">Is
> there anyway to pass through digits and as.perc in the function
> table.Arbitrary?</FONT></DIV><DIV><FONT face="Comic Sans MS, cursive">For
> example, when I run the below line, the output by default gives lots of
> digits.</FONT></DIV><DIV><FONT face="Comic Sans MS,
> cursive"><BR></FONT></DIV><DIV><FONT face="Comic Sans MS,
> cursive"><DIV>table.Arbitrary(Ret,metrics=c("Return.annualized","StdDev.annualized","SharpeRatio.annualized","maxDrawdown"),metricsNames=c("Return
> (Annualized)","StDev (Annualized)","Sharpe Ratio
> (Annualized)","MaxDrawdown"))</DIV><DIV>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SPY &nbsp; &nbsp; &nbsp;
> &nbsp;IEF</DIV><DIV>Return (Annualized) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> 0.04949007 0.06293099</DIV><DIV>StDev (Annualized) &nbsp; &nbsp; &nbsp;
> &nbsp; &nbsp; &nbsp;0.23882840 0.07807295</DIV><DIV>Sharpe Ratio
> (Annualized) &nbsp;0.20722021 0.80605368</DIV><DIV>MaxDrawdown &nbsp;
> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.55193114
> 0.10404821</DIV><DIV><BR></DIV><DIV>It would be nice if we could round the
> numbers and show some of them as percentages and some of them as
> numbers.</DIV><DIV>A desired output for example can
> be</DIV><DIV><DIV>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> &nbsp; SPY &nbsp; &nbsp; &nbsp; &nbsp;IEF</DIV><DIV>Return (Annualized)
> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4.9 &nbsp; &nbsp;6.3</DIV><DIV>StDev
> (Annualized) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 23.9
> &nbsp;7.8</DIV><DIV>Sharpe Ratio (Annualized) 0.21
> 0.81</DIV><DIV>MaxDrawdown &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
> &nbsp; &nbsp; &nbsp;55.2
> &nbsp;10.4</DIV></DIV><DIV><BR></DIV><DIV>Thanks,</DIV><DIV>Hakan</DIV><DIV><BR></DIV><DIV><BR></DIV></FONT></DIV><BR>&nbsp;<BR><HR>daimi
> e-posta adresiniz ---&gt;
> http://www.postamatik.com</DIV>_______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From frankm60606 at gmail.com  Thu Aug 15 02:06:31 2013
From: frankm60606 at gmail.com (Frank)
Date: Wed, 14 Aug 2013 19:06:31 -0500
Subject: [R-SIG-Finance] digits and as.perc arguments in table.Arbitrary
	inPerformanceAnalytics
In-Reply-To: <20130814160002.7B36AA7C@resin13.mta.everyone.net>
References: <20130814160002.7B36AA7C@resin13.mta.everyone.net>
Message-ID: <A946BA1A857E4459AD1C62B72EFFF2C6@Franki7PC>

Maybe you need round()? Your post seems to be all character strings, not
sure what I am missing. Assume that the first argument to round() is a
number:

round((Return_annualized,1))

will round Return_annualized to one digit. You can then paste that with a
label if you want.

round(100*Max_Draw_down,1)

If your MaxDrawdown is actually 0.552 and you want 55.2.

Thanks,
Frank
Chicago
________________________________________
From: r-sig-finance-bounces at r-project.org
[mailto:r-sig-finance-bounces at r-project.org] On Behalf Of HAKAN KAYA
Sent: Wednesday, August 14, 2013 6:00 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] digits and as.perc arguments in table.Arbitrary
inPerformanceAnalytics

Hi,

Is there anyway to pass through digits and as.perc in the function
table.Arbitrary?
For example, when I run the below line, the output by default gives lots of
digits.

table.Arbitrary(Ret,metrics=c("Return.annualized","StdDev.annualized","Sharp
eRatio.annualized","maxDrawdown"),metricsNames=c("Return
(Annualized)","StDev (Annualized)","Sharpe Ratio
(Annualized)","MaxDrawdown"))
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?SPY ? ? ? ?IEF
Return (Annualized) ? ? ? ? ? 0.04949007 0.06293099
StDev (Annualized) ? ? ? ? ? ?0.23882840 0.07807295
Sharpe Ratio (Annualized) ?0.20722021 0.80605368
MaxDrawdown ? ? ? ? ? ? ? ? ? 0.55193114 0.10404821

It would be nice if we could round the numbers and show some of them as
percentages and some of them as numbers.
A desired output for example can be
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? SPY ? ? ? ?IEF
Return (Annualized) ? ? ? ? ?4.9 ? ?6.3
StDev (Annualized) ? ? ? ? ? 23.9 ?7.8
Sharpe Ratio (Annualized) 0.21 0.81
MaxDrawdown ? ? ? ? ? ? ? ? ?55.2 ?10.4

Thanks,
Hakan



?
________________________________________
daimi e-posta adresiniz ---> http://www.postamatik.com


From David.Reiner at xrtrading.com  Mon Aug 19 15:27:36 2013
From: David.Reiner at xrtrading.com (David Reiner)
Date: Mon, 19 Aug 2013 08:27:36 -0500
Subject: [R-SIG-Finance] Pulling minute bar data with bar() function in
 Rbbg(RBloomberg) package in R
Message-ID: <9DE405308A6AA24AA794B76282C6C00F4A58C011F5@HQ-POST1>

Sorry for the late reply - I was out for a few days.
(It's generally better to go to the list so you have more chances of getting a reply.)

I follow the last example under ?merge.xts to align my incomplete series:
just generate a sequence of date-times you want and merge the zero-width xts object with your other xts object.
You'll get NA's where there's no data, and you can leave them or use locf from zoo.
HTH,
-- David


-----Original Message-----
From: Alex Bennett [mailto:ppminers11 at yahoo.com] 
Sent: Wednesday, August 14, 2013 4:04 PM
To: David Reiner
Subject: Re: [SPAM] - [R-SIG-Finance] Pulling minute bar data with bar() function in Rbbg(RBloomberg) package in R - Email found in subject

Hi David,

Thank you so much for the help - this worked perfectly! 

Using the "isBizday()" function at the start of the for loop circumvents the 4th and stops the error I was getting. 

One more quick question regarding this: Right now the code only returns lines from minutes there was volume moved, and I am wondering if it is possible to add something (either code or a parameter) that will cause the bar() function to return a line for every minute instead of just minutes in which there were trades. For example, for a liquid name, like SPY, there will be 390 lines (one for every minute since there is volume moving every minute); however, for more illiquid names there could only be 100 lines returned because there are several minutes with no volume.  What I would like is for there to always be 390 lines returned, and, in the event there was no volume moved, have a zero on the line corresponding to those minutes. This would cause the "use" data frame to have 390*n rows. 

Ultimately I would like a column with a number, 1-390, corresponding to each minute bar for a given day, and I cannot think of a way to efficiently add this column without having 390 rows per day from the start. 

Does this make sense? Do you have any insights as to how to achieve this goal? 

Thanks for your help!

Best, 
Alex Bennett




On Aug 14, 2013, at 10:38 AM, David Reiner <David.Reiner at xrtrading.com> wrote:

> Alex,
> Sending your message in text instead of html will help you get an answer - see below for what we received.
> But, no, you can go back further, but you must omit holidays the way you are doing it, since the empty
> return from July 4 messes up your logic. The timeSequence function does take a FinCenter argument,
> which may help you.
> 
>> start.date <- localToUTC('2013-04-01 08:30') # I'm in Chicago
>> end.date <- localToUTC('2013-04-01 15:00')
>> raw=bar(conn,"GOOG US Equity","TRADE",start.date,end.date,"60")
>> head(raw)
>                                           time    open    high     low   close numEvents volume
> 2013-04-01T13:30:00.000 2013-04-01T13:30:00.000 795.010 801.800 793.250 801.380      3650 512342
> 2013-04-01T14:30:00.000 2013-04-01T14:30:00.000 801.380 801.380 796.600 798.850      2323 320520
> 2013-04-01T15:30:00.000 2013-04-01T15:30:00.000 798.940 800.980 798.063 798.414      1063 152294
> 2013-04-01T16:30:00.000 2013-04-01T16:30:00.000 798.450 801.350 798.070 800.777       815 119642
> 2013-04-01T17:30:00.000 2013-04-01T17:30:00.000 800.860 802.209 800.500 801.280      1061 145566
> 2013-04-01T18:30:00.000 2013-04-01T18:30:00.000 801.155 801.330 799.550 799.750      1299 185598
> 
> HTH,
> -- David Reiner
> PS:
> localToUTC <- function(x) {
>  if (class(x)[1] == "character") {
>    x <- as.POSIXct(x) # Assume strings are in the correct format
>  }
>  format(x, "%Y-%m-%d %H:%M:%OS3",tz="UTC")
> }
> 
> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Alex Bennett
> Sent: Tuesday, August 13, 2013 8:18 PM
> To: r-sig-finance at r-project.org
> Subject: [SPAM] - [R-SIG-Finance] Pulling minute bar data with bar() function in Rbbg(RBloomberg) package in R - Email found in subject
> 
> I am fairly new to the Rbbg package, so please excuse any ignorance on my part, however I am wondering if it is possible to pull more than ~25 days of minute bar data using the bar() function. I've found I can't pull more than 25 or 26 days worth of data and am wondering if I am doing something wrong, or if it is just not possible.
> Here is the code I am using:
> #install.packages("rJava")#install.packages("Rbbg", repos="http://r.findata.org")#install.packages("timeDate")library(rJava)library(Rbbg)library(timeDate)conn <-blpConnect()weekdays =timeSequence(from=(Sys.Date()-38),to =(Sys.Date()-1),by="day")[isWeekday(timeSequence(from=(Sys.Date()-38),to =(Sys.Date()-1),by="day"))]date_time=numeric()volume=numeric()for(i in1:length(weekdays)){start.date <-paste(weekdays[i],"13:30:00.000")end.date <-paste(weekdays[i],"20:00:00.000")raw=bar(conn,"GOOG US Equity","TRADE",start.date,end.date,"1")date_time=append(date_time,raw$time)volume=append(volume,raw$volume)}date.time <-data.frame(do.call('rbind',strsplit(as.character(date_time),'T',fixed=TRUE)))use=data.frame("date"=format(as.Date(date.time$X1),"%m/%d/%Y"),"time"=date.time$X2,"volume"=raw$volume)blpDisconnect(conn)
> This works fine and pulls data from the trading days in the past 3.5 weeks. Now, if I try to change the 38 to a greater number in the line weekdays = timeSequence(from = (Sys.Date()-38), to = (Sys.Date()-1), by = "day")[isWeekday(timeSequence(from = (Sys.Date()-38), to = (Sys.Date()-1), by = "day"))], I get the following error: Error in matrix.data[, 1] : subscript out of bounds when I try running the above script.
> Is it the case that the API can only pull about 3.5 weeks of minute bar data? Or am I doing something incorrect? Ideally, I would like to have at least 100 trading days worth of data.
> Thank you all for your help.
>        [[alternative HTML version deleted]]
> 
> 
> 
> This e-mail and any materials attached hereto, including, without limitation, all content hereof and thereof (collectively, "XR Content") are confidential and proprietary to XR Trading, LLC ("XR") and/or its affiliates, and are protected by intellectual property laws.  Without the prior written consent of XR, the XR Content may not (i) be disclosed to any third party or (ii) be reproduced or otherwise used by anyone other than current employees of XR or its affiliates, on behalf of XR or its affiliates.
> 
> THE XR CONTENT IS PROVIDED AS IS, WITHOUT REPRESENTATIONS OR WARRANTIES OF ANY KIND.  TO THE MAXIMUM EXTENT PERMISSIBLE UNDER APPLICABLE LAW, XR HEREBY DISCLAIMS ANY AND ALL WARRANTIES, EXPRESS AND IMPLIED, RELATING TO THE XR CONTENT, AND NEITHER XR NOR ANY OF ITS AFFILIATES SHALL IN ANY EVENT BE LIABLE FOR ANY DAMAGES OF ANY NATURE WHATSOEVER, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, CONSEQUENTIAL, SPECIAL AND PUNITIVE DAMAGES, LOSS OF PROFITS AND TRADING LOSSES, RESULTING FROM ANY PERSON'S USE OR RELIANCE UPON, OR INABILITY TO USE, ANY XR CONTENT, EVEN IF XR IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR IF SUCH DAMAGES WERE FORESEEABLE.


From thomas.fuller at coherentlogic.com  Mon Aug 19 19:01:09 2013
From: thomas.fuller at coherentlogic.com (Thomas Fuller)
Date: Mon, 19 Aug 2013 10:01:09 -0700 (PDT)
Subject: [R-SIG-Finance] Coherent Datafeed: Thomson Reuters Edition v 0.9.3
	available
Message-ID: <1376931669.63914.YahooMailNeo@web2802.biz.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130819/f2794d28/attachment.pl>

From jkaprich at gmail.com  Wed Aug 21 17:52:16 2013
From: jkaprich at gmail.com (John Kaprich)
Date: Wed, 21 Aug 2013 10:52:16 -0500
Subject: [R-SIG-Finance] Help with stepAIC function
Message-ID: <CADEYtz6nXB6rRhSrq9SzfR4VmUSv2Tq+9JFfF7VN5kDQxH79hQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130821/db500199/attachment.pl>

From etty.sekhon at gmail.com  Thu Aug 22 12:07:58 2013
From: etty.sekhon at gmail.com (Etty Sekhon)
Date: Thu, 22 Aug 2013 11:07:58 +0100
Subject: [R-SIG-Finance] Help
Message-ID: <CAC2_zRrds+4HFex81g=GtZf5jJ7Ufd41dH0MdeZe8Ozu=r-UrA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130822/67616d77/attachment.pl>

From bbands at gmail.com  Fri Aug 23 23:32:07 2013
From: bbands at gmail.com (BBands)
Date: Fri, 23 Aug 2013 14:32:07 -0700
Subject: [R-SIG-Finance] Options solution?
Message-ID: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>

The options solution I have used forever no longer works well, so I am
looking for a new option analysis solution. My needs are rather
simple, really all I want are nice P&L graphs for option positions
with a number of legs. Flexibility is key. I was thinking about
Hoadley, which I have used on and off, but I am no longer a fan of
analytics in Excel. So I thought that this might be a chance to expand
my R skills. I've seen a couple of ideas and there must be a ton of R
solutions that I am not aware of. This is one that I have found:
http://www.r-bloggers.com/scenario-analysis-and-trading-options-using-r/
Do you know of any that are particularly elegant or that you like well?

Thanks,

    John
-- 
John Bollinger
www.BollingerBands.com


From jeff.a.ryan at gmail.com  Sun Aug 25 17:14:21 2013
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 25 Aug 2013 10:14:21 -0500
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
Message-ID: <CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130825/45edb5a8/attachment.pl>

From bbands at gmail.com  Tue Aug 27 17:14:55 2013
From: bbands at gmail.com (BBands)
Date: Tue, 27 Aug 2013 08:14:55 -0700
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
Message-ID: <CAGS5yBV61Q-mJz=QkyLrbOOamtqoBk=JcXNY2N3q5zSv9oTBAA@mail.gmail.com>

Thanks Jeff, that looks interesting. I'll dig in soon.

Was the lightning talk recorded?

     John

On Sun, Aug 25, 2013 at 8:14 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Hi John,
>
> I have a package that isn't quite 'complete' that might be of use.
>
> https://code.google.com/p/rgreeks/


From chenpuias at gmail.com  Thu Aug 29 03:10:49 2013
From: chenpuias at gmail.com (pu chen)
Date: Thu, 29 Aug 2013 09:10:49 +0800
Subject: [R-SIG-Finance] rcppbugs and markov switching model
Message-ID: <CAF6gDEWnFdJ337zc8=7A0XRrXuTYCxscvqSNbJ=rQdZM8feb4A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130829/9334ec66/attachment.pl>

From armstrong.whit at gmail.com  Thu Aug 29 03:42:29 2013
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Wed, 28 Aug 2013 21:42:29 -0400
Subject: [R-SIG-Finance] rcppbugs and markov switching model
In-Reply-To: <CAF6gDEWnFdJ337zc8=7A0XRrXuTYCxscvqSNbJ=rQdZM8feb4A@mail.gmail.com>
References: <CAF6gDEWnFdJ337zc8=7A0XRrXuTYCxscvqSNbJ=rQdZM8feb4A@mail.gmail.com>
Message-ID: <CAMi=pg7hYX7KM_1wXEpOYE4phuzmnCGuEn4Fs5cj1R+hkG2pLQ@mail.gmail.com>

Have you thought about trying viterbi first?

There is an example here:
http://www.r-bloggers.com/regime-detection/

If you don't want to use that you can try the example here on about
page page 29:
http://www.rinfinance.com/agenda/2012/talk/WhitArmstrong.pdf

If you decide you want to use mcmc, I think the way to go is to write
the model in c++ and call it with Rcpp.

You should override the random walk classes for bernoulli and use
gibbs within metropolis.

There is an example of that here (for a linear model):
https://github.com/armstrtw/CppBugs/tree/master/test/r.inline.example

If you need some help then feel free to contact me off list.

-Whit


On Wed, Aug 28, 2013 at 9:10 PM, pu chen <chenpuias at gmail.com> wrote:
> Anyone know how to use rcppbugs to estimate markov switching model? Thanks.
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From matthieu.stigler at gmail.com  Fri Aug 30 12:42:36 2013
From: matthieu.stigler at gmail.com (Matthieu Stigler)
Date: Fri, 30 Aug 2013 12:42:36 +0200
Subject: [R-SIG-Finance] Help with stepAIC function
In-Reply-To: <CADEYtz6nXB6rRhSrq9SzfR4VmUSv2Tq+9JFfF7VN5kDQxH79hQ@mail.gmail.com>
References: <CADEYtz6nXB6rRhSrq9SzfR4VmUSv2Tq+9JFfF7VN5kDQxH79hQ@mail.gmail.com>
Message-ID: <CAEYvigLfS4QW4yGPmymfRBh7ocdxipW-YpoGsy3G_U9NuSBVyw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130830/744712ce/attachment.pl>

From cedric.membrez at gmail.com  Mon Sep  2 12:44:12 2013
From: cedric.membrez at gmail.com (Cedric Membrez)
Date: Mon, 2 Sep 2013 12:44:12 +0200
Subject: [R-SIG-Finance] rmgarch: dccforecast() and mregfor
Message-ID: <CA+o2Kc_4kRiEEMvJoy2ViAbm8w13z9-cKDgGsFuS_DJ4fwHmVg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130902/37addef9/attachment.pl>

From alexios at 4dscape.com  Mon Sep  2 13:20:50 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Mon, 2 Sep 2013 12:20:50 +0100
Subject: [R-SIG-Finance] rmgarch: dccforecast() and mregfor
In-Reply-To: <CA+o2Kc_4kRiEEMvJoy2ViAbm8w13z9-cKDgGsFuS_DJ4fwHmVg@mail.gmail.com>
References: <CA+o2Kc_4kRiEEMvJoy2ViAbm8w13z9-cKDgGsFuS_DJ4fwHmVg@mail.gmail.com>
Message-ID: <F8529448-ED14-4C08-9B4C-86A4E46141E6@4dscape.com>

If you have a multivariate conditional mean specification (i.e. VAR) then you cannot have a univariate conditional mean specification (arma model)...they are mutually exclusive. In short, do not enter anything for mean.model in ugarchspec (include.mean is automatically set to FALSE if VAR is selected).

-Alexios

On 2 Sep 2013, at 11:44 AM, Cedric Membrez <cedric.membrez at gmail.com> wrote:

> Dear all,
> 
> I'm a first time user of this list. Please let me know if I need to provide
> more info,etc.
> I have a question regarding dccforecast() and the number of external
> regressors needed.
> 
> I'm using the dccforecast() function from the package "rmgarch" and use the
> simple DCC model and a AR(1)-GARCH(1,1). The forecast works fine when I do
> NOT include external regressors. However, I have an error message from the
> dccforecast() function when I include the external regressors in the
> external.forecasts=list(mregfor = ...) option.
> 
> "Error: dccforecast-->error: wrong number of external regressors!..."
> 
>> From the documentation, I understand that I need to have unconstraint
> forecast of my ext. regr and these regressors must be the same as in the
> ugarchspec(). I googled my problem, but nothing helpful came up. Anyone see
> the mistake here ? I appreciate your help :) thanks!
> 
> Here are the main steps I took and my code is below.
> 
> step (1):  univariate GARCH specification with ARMA(1,0), GARCH(1,1) and a
> 842x17 matrix of external regressors. Then, I create a multispec object.
> step (2):  varxfit( ... data matrix of 758x6,  and regressors of 758x17
> dimensions)
> step (3): dccspec( multispec, ext.regr of 842x17  dimensions)
>              dccfit( dccspec, data of 842x6  and out.sample=84)
> step (4) dccforecast ( dccfit,  n.ahead = 1 , n.roll = 5,  mregfor of
> dimension 842.17 )
> ==>  and I get the embarrassing message with "wrong number of ext.
> regressors!..."
> 
> My code:
> ###########################################################
> uniGarchSpec <- ugarchspec(mean.model = list(armaOrder=c(1,0),
>                                             external.regressors =
> lag(extRegr)),
> 
> variance.model=list(model="sGARCH",
>                                             garchOrder=c(1,1)))
> multiGarchSpec <- multispec(replicate(6, uniGarchSpec))
> # VAR
> varFit <- varxfit(X=data.agriFact[-outSample.ind,c(5:9, 23)],
>                                p=1, postpad='constant', robust=FALSE,
> ns=200,
>                                exogen=extRegr[-outSample.ind,])
> # DCC
> dccSpec <- dccspec(multiGarchSpec, VAR=TRUE, robust=FALSE,
>                             lag=1, lag.max=NULL,
>                             external.regressors=lag(extRegr),
>                             robust.control = list("gamma" = 0.25,
>                                                   "delta" = 0.01, "nc" =
> 10, "ns" = 250),
>                             dccOrder=c(1,1), model=c("DCC"),
> distribution=c("mvt"),
>                             start.pars=list(dcca1=0.05, dccb1=0.816))
> dccFit <- dccfit(dccSpec, data=lag(data.agriFact[,c(5:9, 23)]),
>                                  VAR.fit = varFit, out.sample=84)
> # Forecast
> dccForecast <- dccforecast(dccFit, n.ahead=1,n.roll=5,
>                           external.forecasts=list(mregfor=lag(extRegr)))
> ###########################################################
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From rvince99 at gmail.com  Mon Sep  2 17:21:36 2013
From: rvince99 at gmail.com (Ralph Vince)
Date: Mon, 2 Sep 2013 11:21:36 -0400
Subject: [R-SIG-Finance] Bloomberg Data
Message-ID: <CAAHNhKVk+uiesmCEsKP3icq4vc35j5wk4Ly=o4rm_jDV8fpA4Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130902/c8aabd6d/attachment.pl>

From brian at braverock.com  Mon Sep  2 17:27:10 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 02 Sep 2013 10:27:10 -0500
Subject: [R-SIG-Finance] Bloomberg Data
In-Reply-To: <CAAHNhKVk+uiesmCEsKP3icq4vc35j5wk4Ly=o4rm_jDV8fpA4Q@mail.gmail.com>
References: <CAAHNhKVk+uiesmCEsKP3icq4vc35j5wk4Ly=o4rm_jDV8fpA4Q@mail.gmail.com>
Message-ID: <5224AE4E.7090707@braverock.com>

On 09/02/2013 10:21 AM, Ralph Vince wrote:
> I'm trying to obtain data for certain South African stocks through the
> Bloomberg site, like:
>
> http://www.bloomberg.com/quote/ASR:SJ
>
> and am wondering if there is not an api available much like there is with
> yahoo or google that anyone is aware of.

Ralph,

There is, to the best of my knowledge, no way to download historical 
data from the Bloomberg website.  These 'Download' links are the hooks 
taken advantage of by the getSymbols methods for Yahoo, Google, the Fed, 
and other data sources.

There is of course the 'Rbbg' (formerly RBloomberg) package which can 
extract information from a Bloomberg terminal, if you have one handy.

Regards,

Brian


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From rvince99 at gmail.com  Mon Sep  2 17:36:03 2013
From: rvince99 at gmail.com (Ralph Vince)
Date: Mon, 2 Sep 2013 11:36:03 -0400
Subject: [R-SIG-Finance] Bloomberg Data
In-Reply-To: <5224AE4E.7090707@braverock.com>
References: <CAAHNhKVk+uiesmCEsKP3icq4vc35j5wk4Ly=o4rm_jDV8fpA4Q@mail.gmail.com>
	<5224AE4E.7090707@braverock.com>
Message-ID: <CAAHNhKV9butNDm05Vo1RN-wMy36PVYpULHLjS2kTpjMzksNPJA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130902/edb0d9b1/attachment.pl>

From leopoldocatania at gmail.com  Tue Sep  3 17:52:21 2013
From: leopoldocatania at gmail.com (leopoldo.catania)
Date: Tue, 3 Sep 2013 08:52:21 -0700 (PDT)
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
Message-ID: <1378223541459-4675275.post@n4.nabble.com>

Hi,

I'm trying to fit a dcc model using the rmgarch package, but when I put in
the variance equation more than one external regressor the dccfit fails.

Estimating one by one the single process (is an eGARCH(1,1)) there are no
problems using more than one external regressor.

I tryied also to use the "fit" parameter in the dccfit() command, but
nothing change, the error still remain the same.

Estimating the DCC insering only one external regressor in each single
process works great.

the dccfit() command reports:

Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
  length of 'dimnames' [1] not equal to array extent


Best regards,

Leopoldo Catania.


Below the complete dcc garch specification

> spec
[[1]]

*---------------------------------*
*       GARCH Model Spec          *
*---------------------------------*

Conditional Variance Dynamics 	
------------------------------------
GARCH Model		: eGARCH(1,1)
Variance Targeting	: FALSE 
Exogenous Regressor Dimension: 2

Conditional Mean Dynamics
------------------------------------
Mean Model		: ARFIMA(1,0,0)
Include Mean		: FALSE 
GARCH-in-Mean		: FALSE 

Conditional Distribution
------------------------------------
Distribution	:  std 
Includes Skew	:  FALSE 
Includes Shape	:  TRUE 
Includes Lambda	:  FALSE 


[[2]]

*---------------------------------*
*       GARCH Model Spec          *
*---------------------------------*

Conditional Variance Dynamics 	
------------------------------------
GARCH Model		: eGARCH(1,1)
Variance Targeting	: FALSE 
Exogenous Regressor Dimension: 2

Conditional Mean Dynamics
------------------------------------
Mean Model		: ARFIMA(1,0,0)
Include Mean		: FALSE 
GARCH-in-Mean		: FALSE 

Conditional Distribution
------------------------------------
Distribution	:  std 
Includes Skew	:  FALSE 
Includes Shape	:  TRUE 
Includes Lambda	:  FALSE 


>   mspec = multispec( spec )
>   mspec

*-----------------------------*
*     GARCH Multi-Spec        *
*-----------------------------*
Multiple Specifications	: 2
Multi-Spec Type			: equal
>   multispec=dccspec(mspec,model="DCC")
>   multispec

*------------------------------*
*       DCC GARCH Spec         *
*------------------------------*
Model          :  DCC(1,1)
Estimation     :  2-step
Distribution   :  mvnorm
No. Parameters :  19
No. Series     :  2

>   a=as.xts(industry.tf.list[[tf]][,1:2])
>   dccfit.industry.tf[[q]]=dccfit(multispec,a)
Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
  length of 'dimnames' [1] not equal to array extent



--
View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Tue Sep  3 19:06:41 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 03 Sep 2013 18:06:41 +0100
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <1378223541459-4675275.post@n4.nabble.com>
References: <1378223541459-4675275.post@n4.nabble.com>
Message-ID: <52261721.6040305@4dscape.com>

If I understand correctly, the DCC estimation fails when including 2
external regressors per univariate variance equation (but not 1), and
this does not happen when estimating them separately?

A quick solution is to supply the estimated "multifit" object to the DCC
estimation (via the 'fit' option).
#####################################################################
args(dccfit)

dccfit(spec, data, out.sample = 0, solver = "solnp", solver.control =
list(),  fit.control = list(eval.se = TRUE, stationarity = TRUE, scale =
FALSE), cluster = NULL, fit = NULL, VAR.fit = NULL, ...)
####################################################################
i.e. pass the multispec object to the multifit method and then the
resulting object to dccfit. The dccfit does the same thing, but you have
more control over the estimation and fine-tuning of solver/estimation
setup in the multifit case.

Otherwise convergence problems, particularly in the presence of external
regressors in the variance equation, are discussed in the FAQs of the
vignette and elsewhere in the archives of this mailing list.

You may also find the following paper of interest:
http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.158.1593&rep=rep1&type=pdf)

-Alexios

On 03/09/2013 16:52, leopoldo.catania wrote:
> Hi,
> 
> I'm trying to fit a dcc model using the rmgarch package, but when I put in
> the variance equation more than one external regressor the dccfit fails.
> 
> Estimating one by one the single process (is an eGARCH(1,1)) there are no
> problems using more than one external regressor.
> 
> I tryied also to use the "fit" parameter in the dccfit() command, but
> nothing change, the error still remain the same.
> 
> Estimating the DCC insering only one external regressor in each single
> process works great.
> 
> the dccfit() command reports:
> 
> Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
>   length of 'dimnames' [1] not equal to array extent
> 
> 
> Best regards,
> 
> Leopoldo Catania.
> 
> 
> Below the complete dcc garch specification
> 
>> spec
> [[1]]
> 
> *---------------------------------*
> *       GARCH Model Spec          *
> *---------------------------------*
> 
> Conditional Variance Dynamics 	
> ------------------------------------
> GARCH Model		: eGARCH(1,1)
> Variance Targeting	: FALSE 
> Exogenous Regressor Dimension: 2
> 
> Conditional Mean Dynamics
> ------------------------------------
> Mean Model		: ARFIMA(1,0,0)
> Include Mean		: FALSE 
> GARCH-in-Mean		: FALSE 
> 
> Conditional Distribution
> ------------------------------------
> Distribution	:  std 
> Includes Skew	:  FALSE 
> Includes Shape	:  TRUE 
> Includes Lambda	:  FALSE 
> 
> 
> [[2]]
> 
> *---------------------------------*
> *       GARCH Model Spec          *
> *---------------------------------*
> 
> Conditional Variance Dynamics 	
> ------------------------------------
> GARCH Model		: eGARCH(1,1)
> Variance Targeting	: FALSE 
> Exogenous Regressor Dimension: 2
> 
> Conditional Mean Dynamics
> ------------------------------------
> Mean Model		: ARFIMA(1,0,0)
> Include Mean		: FALSE 
> GARCH-in-Mean		: FALSE 
> 
> Conditional Distribution
> ------------------------------------
> Distribution	:  std 
> Includes Skew	:  FALSE 
> Includes Shape	:  TRUE 
> Includes Lambda	:  FALSE 
> 
> 
>>   mspec = multispec( spec )
>>   mspec
> 
> *-----------------------------*
> *     GARCH Multi-Spec        *
> *-----------------------------*
> Multiple Specifications	: 2
> Multi-Spec Type			: equal
>>   multispec=dccspec(mspec,model="DCC")
>>   multispec
> 
> *------------------------------*
> *       DCC GARCH Spec         *
> *------------------------------*
> Model          :  DCC(1,1)
> Estimation     :  2-step
> Distribution   :  mvnorm
> No. Parameters :  19
> No. Series     :  2
> 
>>   a=as.xts(industry.tf.list[[tf]][,1:2])
>>   dccfit.industry.tf[[q]]=dccfit(multispec,a)
> Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
>   length of 'dimnames' [1] not equal to array extent
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From leopoldocatania at gmail.com  Tue Sep  3 19:52:44 2013
From: leopoldocatania at gmail.com (leopoldo.catania)
Date: Tue, 3 Sep 2013 10:52:44 -0700 (PDT)
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <52261721.6040305@4dscape.com>
References: <1378223541459-4675275.post@n4.nabble.com>
	<52261721.6040305@4dscape.com>
Message-ID: <1378230764839-4675284.post@n4.nabble.com>

Hi Alexios,

thanks for answering, yes the problem is the one you wrote.

I just tried to estimate the dcc using (in the sample) the two univariate
estimates, I included in the "fit" command (dccfit(...fit=,...)) a list
which contains the univariate estimated, and the error is the same.

Now, as you suggested, I tried to use a multifit object, so my code is:

> spec
$`Electronic Technology`

*---------------------------------*
*       GARCH Model Spec          *
*---------------------------------*

Conditional Variance Dynamics 	
------------------------------------
GARCH Model		: eGARCH(1,1)
Variance Targeting	: FALSE 
Exogenous Regressor Dimension: 2

Conditional Mean Dynamics
------------------------------------
Mean Model		: ARFIMA(1,0,0)
Include Mean		: FALSE 
GARCH-in-Mean		: FALSE 

Conditional Distribution
------------------------------------
Distribution	:  std 
Includes Skew	:  FALSE 
Includes Shape	:  TRUE 
Includes Lambda	:  FALSE 


$`Non-Energy Minerals`

*---------------------------------*
*       GARCH Model Spec          *
*---------------------------------*

Conditional Variance Dynamics 	
------------------------------------
GARCH Model		: eGARCH(1,1)
Variance Targeting	: FALSE 
Exogenous Regressor Dimension: 2

Conditional Mean Dynamics
------------------------------------
Mean Model		: ARFIMA(1,0,0)
Include Mean		: FALSE 
GARCH-in-Mean		: FALSE 

Conditional Distribution
------------------------------------
Distribution	:  std 
Includes Skew	:  FALSE 
Includes Shape	:  TRUE 
Includes Lambda	:  FALSE 


> mspec = multispec( spec )
> mspec

*-----------------------------*
*     GARCH Multi-Spec        *
*-----------------------------*
Multiple Specifications	: 2
Multi-Spec Type			: equal
> r=as.xts(sector.tf.list[[tf]][a,1:2])
> multi.fit=multifit(mspec,r)
> multi.fit

*----------------------------*
*     GARCH Multi-Fit        *
*----------------------------*
No. Assets :2
GARCH Multi-Spec Type : Equal
GARCH Model Spec
--------------------------
Model : eGARCH
Exogenous Regressors in variance equation:  2 

Mean Equation :
Include Mean :  0
AR(FI)MA Model : (1,d,0)
GARCH-in-Mean :  FALSE
Exogenous Regressors in mean equation: none
Conditional Distribution:  std 

GARCH Model Fit
--------------------------
Optimal Parameters:
        Electronic Technology Non-Energy Minerals
ar1                   0.05294             0.05204
omega                -0.48544            -0.51636
alpha1               -0.01188            -0.00150
beta1                 0.96834             0.96459
gamma1                0.16409             0.16298
vxreg1               -0.00957             0.04071
vxreg2                0.00126             0.01153
shape                 3.66710             3.98666
Log-Lik           81768.21938         76305.84698

> multispec=dccspec(mspec,model="DCC")
> dccfit(multispec,fit=multi.fit,r)
Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
  length of 'dimnames' [1] not equal to array extent

The error is the same.

You could try to run the code below, which reports the same error:

set.seed(422)

r=cbind(rnorm(1000),rnorm(1000))
colnames(r)=c("1","2")

ext=list()
ext[["1"]]=cbind(rnorm(1000),rnorm(1000))
ext[["2"]]=cbind(rnorm(1000),rnorm(1000))

spec=list()

for(i in 1:length(ext)){
  name=names(ext)[i]
 
spec[[name]]=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(1,1),external.regressors=ext[[name]]),
                                              mean.model = list(armaOrder =
c(1, 0),include.mean = F,external.regressors=NULL),
                                              distribution.model="norm")
}



mspec = multispec( spec )
multi.fit=multifit(mspec,r)
multispec=dccspec(mspec,model="DCC")

dccfit(multispec,fit=multi.fit,r)


Best regards,
Leopoldo Catania.



--
View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275p4675284.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Tue Sep  3 20:10:29 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 03 Sep 2013 19:10:29 +0100
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <1378230764839-4675284.post@n4.nabble.com>
References: <1378223541459-4675275.post@n4.nabble.com>
	<52261721.6040305@4dscape.com>
	<1378230764839-4675284.post@n4.nabble.com>
Message-ID: <52262615.6030503@4dscape.com>

Thanks. That's definitely a bug. Will upload a fix to r-forge later
today/tomorrow.

Regards,
Alexios

On 03/09/2013 18:52, leopoldo.catania wrote:
> Hi Alexios,
> 
> thanks for answering, yes the problem is the one you wrote.
> 
> I just tried to estimate the dcc using (in the sample) the two univariate
> estimates, I included in the "fit" command (dccfit(...fit=,...)) a list
> which contains the univariate estimated, and the error is the same.
> 
> Now, as you suggested, I tried to use a multifit object, so my code is:
> 
>> spec
> $`Electronic Technology`
> 
> *---------------------------------*
> *       GARCH Model Spec          *
> *---------------------------------*
> 
> Conditional Variance Dynamics 	
> ------------------------------------
> GARCH Model		: eGARCH(1,1)
> Variance Targeting	: FALSE 
> Exogenous Regressor Dimension: 2
> 
> Conditional Mean Dynamics
> ------------------------------------
> Mean Model		: ARFIMA(1,0,0)
> Include Mean		: FALSE 
> GARCH-in-Mean		: FALSE 
> 
> Conditional Distribution
> ------------------------------------
> Distribution	:  std 
> Includes Skew	:  FALSE 
> Includes Shape	:  TRUE 
> Includes Lambda	:  FALSE 
> 
> 
> $`Non-Energy Minerals`
> 
> *---------------------------------*
> *       GARCH Model Spec          *
> *---------------------------------*
> 
> Conditional Variance Dynamics 	
> ------------------------------------
> GARCH Model		: eGARCH(1,1)
> Variance Targeting	: FALSE 
> Exogenous Regressor Dimension: 2
> 
> Conditional Mean Dynamics
> ------------------------------------
> Mean Model		: ARFIMA(1,0,0)
> Include Mean		: FALSE 
> GARCH-in-Mean		: FALSE 
> 
> Conditional Distribution
> ------------------------------------
> Distribution	:  std 
> Includes Skew	:  FALSE 
> Includes Shape	:  TRUE 
> Includes Lambda	:  FALSE 
> 
> 
>> mspec = multispec( spec )
>> mspec
> 
> *-----------------------------*
> *     GARCH Multi-Spec        *
> *-----------------------------*
> Multiple Specifications	: 2
> Multi-Spec Type			: equal
>> r=as.xts(sector.tf.list[[tf]][a,1:2])
>> multi.fit=multifit(mspec,r)
>> multi.fit
> 
> *----------------------------*
> *     GARCH Multi-Fit        *
> *----------------------------*
> No. Assets :2
> GARCH Multi-Spec Type : Equal
> GARCH Model Spec
> --------------------------
> Model : eGARCH
> Exogenous Regressors in variance equation:  2 
> 
> Mean Equation :
> Include Mean :  0
> AR(FI)MA Model : (1,d,0)
> GARCH-in-Mean :  FALSE
> Exogenous Regressors in mean equation: none
> Conditional Distribution:  std 
> 
> GARCH Model Fit
> --------------------------
> Optimal Parameters:
>         Electronic Technology Non-Energy Minerals
> ar1                   0.05294             0.05204
> omega                -0.48544            -0.51636
> alpha1               -0.01188            -0.00150
> beta1                 0.96834             0.96459
> gamma1                0.16409             0.16298
> vxreg1               -0.00957             0.04071
> vxreg2                0.00126             0.01153
> shape                 3.66710             3.98666
> Log-Lik           81768.21938         76305.84698
> 
>> multispec=dccspec(mspec,model="DCC")
>> dccfit(multispec,fit=multi.fit,r)
> Error in `rownames<-`(`*tmp*`, value = c("mu", "ar1", "ma", "arfima",  : 
>   length of 'dimnames' [1] not equal to array extent
> 
> The error is the same.
> 
> You could try to run the code below, which reports the same error:
> 
> set.seed(422)
> 
> r=cbind(rnorm(1000),rnorm(1000))
> colnames(r)=c("1","2")
> 
> ext=list()
> ext[["1"]]=cbind(rnorm(1000),rnorm(1000))
> ext[["2"]]=cbind(rnorm(1000),rnorm(1000))
> 
> spec=list()
> 
> for(i in 1:length(ext)){
>   name=names(ext)[i]
>  
> spec[[name]]=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(1,1),external.regressors=ext[[name]]),
>                                               mean.model = list(armaOrder =
> c(1, 0),include.mean = F,external.regressors=NULL),
>                                               distribution.model="norm")
> }
> 
> 
> 
> mspec = multispec( spec )
> multi.fit=multifit(mspec,r)
> multispec=dccspec(mspec,model="DCC")
> 
> dccfit(multispec,fit=multi.fit,r)
> 
> 
> Best regards,
> Leopoldo Catania.
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275p4675284.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From leopoldocatania at gmail.com  Tue Sep  3 20:32:10 2013
From: leopoldocatania at gmail.com (leopoldo.catania)
Date: Tue, 3 Sep 2013 11:32:10 -0700 (PDT)
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <52262615.6030503@4dscape.com>
References: <1378223541459-4675275.post@n4.nabble.com>
	<52261721.6040305@4dscape.com>
	<1378230764839-4675284.post@n4.nabble.com>
	<52262615.6030503@4dscape.com>
Message-ID: <1378233130318-4675289.post@n4.nabble.com>

Thanks Alexios, I really appreciate your work.

Regards,
Leopoldo Catania



--
View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275p4675289.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gps at asu.edu  Fri Sep  6 19:37:02 2013
From: gps at asu.edu (Geoffrey Smith)
Date: Fri, 6 Sep 2013 10:37:02 -0700
Subject: [R-SIG-Finance] rugarch memory overload
Message-ID: <CAGRravYMU5xYZsOhP=e-Kkie+T3g2oAO0aDbtciHRYWisJct+g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130906/746eec7b/attachment.pl>

From alexios at 4dscape.com  Fri Sep  6 19:54:32 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 6 Sep 2013 18:54:32 +0100
Subject: [R-SIG-Finance] rugarch memory overload
In-Reply-To: <CAGRravYMU5xYZsOhP=e-Kkie+T3g2oAO0aDbtciHRYWisJct+g@mail.gmail.com>
References: <CAGRravYMU5xYZsOhP=e-Kkie+T3g2oAO0aDbtciHRYWisJct+g@mail.gmail.com>
Message-ID: <522A16D8.6020209@4dscape.com>

I'm not sure what a very large panel data set has to do with rugarch
which is for univariate estimation, nor how parallel processing comes
into it with respect to the 'ugarchfit' functionality.

Please describe the dimensions of "data", the "spec" used, as well as
the results of running : sessionInfo()

Regards,

Alexios

On 06/09/2013 18:37, Geoffrey Smith wrote:
> Hello, I am trying to estimate GARCH parameters on a very large panel data
> set.  I am using the excellent rugarch package.  I am only interested in
> the coefficients so I use the coef function as below:
> 
> library(rugarch)
> 
> coef(ugarchfit(spec=spec, data=data, solver='hybrid'))
> 
> The program blows up from lack of RAM, even using parallel processing, and
> also using the data.table package.  Are there any suggestions on how to get
> this to work?  All I care about is getting the coefficients.  Thank you.
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From leopoldocatania at gmail.com  Sat Sep  7 15:48:07 2013
From: leopoldocatania at gmail.com (leopoldo.catania)
Date: Sat, 7 Sep 2013 06:48:07 -0700 (PDT)
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <1378233130318-4675289.post@n4.nabble.com>
References: <1378223541459-4675275.post@n4.nabble.com>
	<52261721.6040305@4dscape.com>
	<1378230764839-4675284.post@n4.nabble.com>
	<52262615.6030503@4dscape.com>
	<1378233130318-4675289.post@n4.nabble.com>
Message-ID: <1378561687710-4675596.post@n4.nabble.com>

Hi Alexios, in the last post you were talking about this page ?

https://r-forge.r-project.org/R/?group_id=1721
<https://r-forge.r-project.org/R/?group_id=1721>  

Sorry about the question but I don't know how r-forge works, I should be
able to download the package from there when it will be available? I usually
take packages from CRAN.

Regards,
Leopoldo Catania



--
View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275p4675596.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Sat Sep  7 19:59:20 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sat, 07 Sep 2013 18:59:20 +0100
Subject: [R-SIG-Finance] Fitting a DCC-GARCH with more than one external
 regressor per single process using rmgarch
In-Reply-To: <1378561687710-4675596.post@n4.nabble.com>
References: <1378223541459-4675275.post@n4.nabble.com>
	<52261721.6040305@4dscape.com>
	<1378230764839-4675284.post@n4.nabble.com>
	<52262615.6030503@4dscape.com>
	<1378233130318-4675289.post@n4.nabble.com>
	<1378561687710-4675596.post@n4.nabble.com>
Message-ID: <522B6978.50103@4dscape.com>

Leopoldo,

Usually you would just need to type:

install.packages("rmgarch", repos="http://R-Forge.R-project.org")

However, the current check/build cycle is taking a very long time. Email
me off-list with details of your O/S and R version and I will send you
the package.

Regards,

Alexios


On 07/09/2013 14:48, leopoldo.catania wrote:
> Hi Alexios, in the last post you were talking about this page ?
> 
> https://r-forge.r-project.org/R/?group_id=1721
> <https://r-forge.r-project.org/R/?group_id=1721>  
> 
> Sorry about the question but I don't know how r-forge works, I should be
> able to download the package from there when it will be available? I usually
> take packages from CRAN.
> 
> Regards,
> Leopoldo Catania
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Fitting-a-DCC-GARCH-with-more-than-one-external-regressor-per-single-process-using-rmgarch-tp4675275p4675596.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From zhangyanru.anne08 at gmail.com  Mon Sep  9 21:20:49 2013
From: zhangyanru.anne08 at gmail.com (Yanru Zhang)
Date: Mon, 9 Sep 2013 15:20:49 -0400
Subject: [R-SIG-Finance] A question regarding the mcsGARCH model coding
Message-ID: <CADvEh8DFsWN6Y33A3H9TKjZSNBpsubueht4ZwaK4sa3exgiopw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130909/12a26fdf/attachment.pl>

From alexios at 4dscape.com  Tue Sep 10 04:29:43 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 10 Sep 2013 03:29:43 +0100
Subject: [R-SIG-Finance] A question regarding the mcsGARCH model coding
In-Reply-To: <CADvEh8DFsWN6Y33A3H9TKjZSNBpsubueht4ZwaK4sa3exgiopw@mail.gmail.com>
References: <CADvEh8DFsWN6Y33A3H9TKjZSNBpsubueht4ZwaK4sa3exgiopw@mail.gmail.com>
Message-ID: <522E8417.2000900@4dscape.com>

You've really not provided enough information for me to help you.
I suggest:

1. Read the vignette
(http://cran.r-project.org/web/packages/rugarch/index.html) entry on the
mcsGARCH model which provides instructions on how to format and supply
the DailyVar data (which must be of type xts and matched to the dates of
the data).
2. Make sure you set your timezone.
3. Don't just run the blog code (which last time I checked works just
fine), but try to see how the data is used and time indices matched.

Regards,
Alexios

On 09/09/2013 20:20, Yanru Zhang wrote:
> Hi,
> 
> I am very interested in GARCH modelling filed and I was trying to fit the
> mcsGARCH model to my data. I was following the code in this website:
> http://www.unstarched.net/2013/03/20/high-frequency-garch-the-multiplicative-component-garch-mcsgarch-model/
> Everything works OK until I try to fit the mscGARCH model using following
> code:
> fit = ugarchfit(data = data_ts, spec = spec, DailyVar = f_sigma^2)
> It comes with an error:
> Error in !matchD : invalid argument type
> I am not pretty sure what this message means.
> 
> I greatly appreciated your help!
> 
> Sincerely,
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From aidan.corcoran11 at gmail.com  Sun Sep 15 11:25:19 2013
From: aidan.corcoran11 at gmail.com (Aidan Corcoran)
Date: Sun, 15 Sep 2013 10:25:19 +0100
Subject: [R-SIG-Finance] unexpected output from filtering with mFilter
	package
Message-ID: <CADv5Py4Yp50tyQ8mc3-irDdtuZYAyLaOxwC1_k-OHxQ2qSFR3w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130915/42d30abd/attachment.pl>

From wlmr at zhaw.ch  Sun Sep 15 11:47:52 2013
From: wlmr at zhaw.ch (Wildi Marc (wlmr))
Date: Sun, 15 Sep 2013 09:47:52 +0000
Subject: [R-SIG-Finance] unexpected output from filtering with
	mFilter	package
In-Reply-To: <CADv5Py4Yp50tyQ8mc3-irDdtuZYAyLaOxwC1_k-OHxQ2qSFR3w@mail.gmail.com>
References: <CADv5Py4Yp50tyQ8mc3-irDdtuZYAyLaOxwC1_k-OHxQ2qSFR3w@mail.gmail.com>
Message-ID: <E2339A3600811248AB525B8FAB3A1BCE987BE025@srv-mail-101.zhaw.ch>

-You are running a bandpass filter for looking at a trend. But a bandpass filter removes the trend! Ergo: you're not looking at the trend...

Marc 

________________________________________
Von: r-sig-finance-bounces at r-project.org [r-sig-finance-bounces at r-project.org]&quot; im Auftrag von &quot;Aidan Corcoran [aidan.corcoran11 at gmail.com]
Gesendet: Sonntag, 15. September 2013 11:25
An: r-sig-finance at r-project.org
Betreff: [R-SIG-Finance] unexpected output from filtering with mFilter  package

Dear all,

I am trying to run a Christiano FitzGerald band pass filter to estimate a
long-run trend (with period in excess of 70 years), using the mFilter
package. My data are the demeaned natural log of a commodity price index.
My problem is that the asymmetric CF filter output does not look right
around the start and end points. In particular my long run trend has a peak
a few years before the end point, which I think shouldn?t be there (by
reference to previous work and also just from looking at the data, which
seem to be still trending up).

The R code below should replicate the issue. I also posted this question
and charts here
http://stats.stackexchange.com/questions/69930/band-pass-filter-giving-wrong-turning-pointa
couple of days ago with no answer so far. This post also has a chart
of
the HP filter output for comparison - the HP filter output looks better but
only because there is something wrong with my CF filter - CF is best
practice for this kind of data, I believe.

I?m not sure if the unexpected turning point is the result of my
misunderstanding the CF filter, a consequence of how the filter is
implemented in mFilter, or something else. Any help would be very much
appreciated indeed!

Thanks

Aidan.



library(mFilter)

library(ggplot2)

library(reshape2)

d<-c(1.17, 1.11, 0.68, 0.83, 0.98, 1.01, 0.76, 0.52, 0.34, 0.36,

0.18, 0.12, 0.07, -0.17, -0.47, -0.43, -0.01, -0.16, -0.51, -0.79,

-0.69, -0.76, -0.86, -0.85, -0.78, -0.8, -0.89, -0.95, -0.83,

-0.84, -0.96, -1.22, -1.41, -1.25, -0.94, -0.43, -0.58, -0.97,

-0.82, -0.47, -0.44, -0.56, -0.55, -0.32, -0.31, -0.46, -0.34,

-0.3, -0.25, -0.31, -0.57, -0.6, -0.42, -0.06, -0.3, -0.5, 0.12,

0.3, 0.33, 0.24, 0.49, -0.18, -0.06, -0.15, -0.11, 0.02, 0.14,

-0.3, -0.31, -0.28, -0.39, -0.94, -0.51, -0.74, -0.35, -0.37,

-0.28, -0.22, -0.24, -0.36, -0.37, -0.32, -0.39, -0.45, -0.46,

-0.48, -0.39, -0.21, 0.01, 0.02, 0.01, -0.06, -0.09, -0.04, -0.01,

0, -0.02, 0.03, 0, -0.03, -0.05, -0.06, -0.07, -0.08, -0.11,

-0.13, -0.15, -0.15, -0.18, -0.2, -0.24, -0.23, -0.25, -0.04,

0.86, 0.8, 0.8, 0.81, 0.73, 1.03, 1.36, 1.33, 1.18, 1.06, 0.98,

0.9, 0.22, 0.46, 0.25, 0.4, 0.59, 0.39, 0.33, 0.19, 0.11, 0.14,

0.27, 0.19, -0.16, 0.11, 0.5, 0.32, 0.31, 0.46, 0.72, 1, 1.12,

1.19, 1.47, 0.99, 1.23, 1.38, 1.35)

d<-data.frame(orig.series=d)

d$year<-as.numeric(row.names(d))

filter.output<-cffilter(d$orig.series,pl=70,pu=1500)

d$long.run.trend<-filter.output$cycle

d<-melt(d,id='year')

gp<-ggplot(d) + geom_line(aes(x=year,y=value,colour=variable))

gp

        [[alternative HTML version deleted]]

From aidan.corcoran11 at gmail.com  Sun Sep 15 12:05:08 2013
From: aidan.corcoran11 at gmail.com (Aidan Corcoran)
Date: Sun, 15 Sep 2013 11:05:08 +0100
Subject: [R-SIG-Finance] unexpected output from filtering with mFilter
	package
In-Reply-To: <E2339A3600811248AB525B8FAB3A1BCE987BE025@srv-mail-101.zhaw.ch>
References: <CADv5Py4Yp50tyQ8mc3-irDdtuZYAyLaOxwC1_k-OHxQ2qSFR3w@mail.gmail.com>
	<E2339A3600811248AB525B8FAB3A1BCE987BE025@srv-mail-101.zhaw.ch>
Message-ID: <CADv5Py62TBCi_mnQnk_6Z+UKjOLXJCTRDYyHJ1ffNDsJSfAuCg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130915/5bba4afe/attachment.pl>

From mikhailbeketov at googlemail.com  Sat Sep 21 20:53:27 2013
From: mikhailbeketov at googlemail.com (Mikhail Beketov)
Date: Sat, 21 Sep 2013 20:53:27 +0200
Subject: [R-SIG-Finance] Setting a new method for generic function correctly?
Message-ID: <CAFPVqzwzbvixBeFu3EYuUgEAS8J0j-gbrD7trwL6QbUnMohm7Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130921/0e1630b9/attachment.pl>

From brian at braverock.com  Sat Sep 21 21:23:05 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 21 Sep 2013 14:23:05 -0500
Subject: [R-SIG-Finance] Setting a new method for generic function
	correctly?
In-Reply-To: <CAFPVqzwzbvixBeFu3EYuUgEAS8J0j-gbrD7trwL6QbUnMohm7Q@mail.gmail.com>
References: <CAFPVqzwzbvixBeFu3EYuUgEAS8J0j-gbrD7trwL6QbUnMohm7Q@mail.gmail.com>
Message-ID: <523DF219.3080305@braverock.com>

On 09/21/2013 01:53 PM, Mikhail Beketov wrote:
> Can somebody explain me how to correctly set a new class-specific method
> for generic functions (e.g. for "plot", "summary" and "print"). I simply
> programmed these functions with the class names and it works perfectly.
<...>
> However, I need the new methods for a new package, and the "R CMD check"
> gives me warnings that my approach is not correct. I have to define methods
> and do not use full names as "print.newclass".
> I read the "Writing R Extensions" and it is not explained there (at least
> to such level that I can get it) and didn't get anything understandable by
> googling.

What part of

http://cran.r-project.org/doc/manuals/R-exts.html#Registering-S3-methods

doesn't make sense?

You need to register your S3 methods in the package NAMESPACE.

...and this question really belonged on R-help, as it has nothing to do 
with finance.


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From tnahpster at gmail.com  Sun Sep 22 12:52:57 2013
From: tnahpster at gmail.com (aparna roy)
Date: Sun, 22 Sep 2013 16:22:57 +0530
Subject: [R-SIG-Finance] Is there any function which will allow me to take
 selective lags of ARMA modelling part while doing ARMAX?
Message-ID: <CA+6pJoxW3ktL463+By6Ej7ehn9Z-kVL+dudHJJP79cXoRBGaMw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130922/ca449f81/attachment.pl>

From tnahpster at gmail.com  Sun Sep 22 13:03:23 2013
From: tnahpster at gmail.com (AparnaRoy)
Date: Sun, 22 Sep 2013 04:03:23 -0700 (PDT)
Subject: [R-SIG-Finance] Is there any function in R which can estimate a
 GARCH model with only selective lags and exogenous variables?
Message-ID: <1379847803399-4676678.post@n4.nabble.com>

Hi,

In the GARCH(p,q) model, I want to estimate model with only selective lags,
say p1, p6, and q6, q12 

etc. I can?t find any function which allows me to do the same. 

Also, is there any GARCH function which allows for volatility of a different
time series to be used as 

an exogenous variable at again, selective lags to explain the volatility of
the existing time series, I?m 

working on? Any help on these topics would be greatly appreciated.



--
View this message in context: http://r.789695.n4.nabble.com/Is-there-any-function-in-R-which-can-estimate-a-GARCH-model-with-only-selective-lags-and-exogenous-v-tp4676678.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From tnahpster at gmail.com  Sun Sep 22 13:04:59 2013
From: tnahpster at gmail.com (aparna roy)
Date: Sun, 22 Sep 2013 16:34:59 +0530
Subject: [R-SIG-Finance] How to get the algorithm for ARMA() function in R?
Message-ID: <CA+6pJowg_jsGvW8n=J9bw3TmtyDGQ7BC9tG+wzSeXBof7R4qNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130922/4542cc78/attachment.pl>

From tnahpster at gmail.com  Sun Sep 22 13:06:28 2013
From: tnahpster at gmail.com (AparnaRoy)
Date: Sun, 22 Sep 2013 04:06:28 -0700 (PDT)
Subject: [R-SIG-Finance] How to obtain the algorithm for garch() and
	garchFit() functions?
Message-ID: <1379847988173-4676680.post@n4.nabble.com>

Hi,

I am looking for a function that allows me to do garch (p,q) modelling with
selective lags only for 

p and q[Refer to Query 2]. But, since I couldn?t find such a function, I am
trying to alter the code 

for the above said functions to fit my need and hence, need the algorithm
used in the above said 

functions. 

How could I access the algorithms on which these functions were modelled?
Could someone please 

help me with that? Thanks. Any help would be greatly appreciated. Thanks.



--
View this message in context: http://r.789695.n4.nabble.com/How-to-obtain-the-algorithm-for-garch-and-garchFit-functions-tp4676680.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From tnahpster at gmail.com  Sun Sep 22 13:08:58 2013
From: tnahpster at gmail.com (aparna roy)
Date: Sun, 22 Sep 2013 16:38:58 +0530
Subject: [R-SIG-Finance] How to obtain the algorithm for ugarchspec() and
	ugarchfit() functions?
Message-ID: <CA+6pJoypV1Nz-0H7vW1Gtu_X0ch04=hQHHAJq3vpoVB9aNJaEg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130922/c984ba84/attachment.pl>

From brian at braverock.com  Sun Sep 22 13:45:54 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 22 Sep 2013 06:45:54 -0500
Subject: [R-SIG-Finance] How to obtain the algorithm for ugarchspec()
 and ugarchfit() functions?
In-Reply-To: <CA+6pJoypV1Nz-0H7vW1Gtu_X0ch04=hQHHAJq3vpoVB9aNJaEg@mail.gmail.com>
References: <CA+6pJoypV1Nz-0H7vW1Gtu_X0ch04=hQHHAJq3vpoVB9aNJaEg@mail.gmail.com>
Message-ID: <523ED872.2010500@braverock.com>

On 09/22/2013 06:08 AM, aparna roy wrote:
> Hi,
>
> I am looking for a function that allows me to do garch (p,q) modelling with
> selective lags only for
>
> p and q ( e.g. p1, p6 , m3, m6 etc.). But, since I couldn?t find such a
> function, I am trying to alter the code
>
> for the above said functions to fit my need and hence, need the algorithm
> used in the above said
>
> functions.
>
> How could I access the algorithms on which these functions were modelled?
> Could someone please
>
> help me with that? Thanks. Any help would be greatly appreciated. Thanks.

You sent five essentially identical messages to this list in 16 minutes.

Not one of them contains a single line of R code or enough information 
to answer your questions.

Please go away, RTFM, and write some code.

After that, please search the mailing list archives, where questions 
similar to yours have been asked hundreds of times, and promptly 
answered when they followed the posting guide:

http://www.r-project.org/posting-guide.html

The documentation for rugarch is quite extensive, including the 
algorithms used.  This is also open source, so you can and should read 
the code.  Further, rugarch is discussed frequently on this list, and 
many people here have shown a willingness to help people who put in a 
little effort not to waste the list's time.

In the unlikely event that your question hasn't been previously answered 
on this list, then feel free to email this list with a (single!) 
carefully composed reproducible example, including code and sample data, 
that makes very clear where you're still having trouble.

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From gps at asu.edu  Mon Sep 23 21:43:15 2013
From: gps at asu.edu (Geoffrey Smith)
Date: Mon, 23 Sep 2013 12:43:15 -0700
Subject: [R-SIG-Finance] rugarch by processing with plyr
Message-ID: <CAGRravbza1mzJBHb3-=3uQmChrB3QZaM_=kkKERc2_fXqOef9w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130923/32d4fac5/attachment.pl>

From alexios at 4dscape.com  Mon Sep 23 21:56:08 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 23 Sep 2013 20:56:08 +0100
Subject: [R-SIG-Finance] rugarch by processing with plyr
In-Reply-To: <CAGRravbza1mzJBHb3-=3uQmChrB3QZaM_=kkKERc2_fXqOef9w@mail.gmail.com>
References: <CAGRravbza1mzJBHb3-=3uQmChrB3QZaM_=kkKERc2_fXqOef9w@mail.gmail.com>
Message-ID: <52409CD8.3020902@4dscape.com>

Why would they? You have fixed them in the spec (data$XVAR) and are only
rolling the YVAR (which is the same for both subjects) by subject.

You probably want:

ddply(data, 'SUBJECT', function(x)
coef(ugarchfit(ugarchspec(mean.model=list(armaOrder=c(0,0),
external.regressors=data.matrix(x$XVAR)),variance.model=list(model='eGARCH')),
data=x$YVAR, solver='hybrid')))


Regards,

Alexios

On 23/09/2013 20:43, Geoffrey Smith wrote:
> I would like to estimate an EGARCH model by subject using the rugarch and
> plyr packages.  I am concerned that the external regressors named in the
> ugarchspec function do not roll forward by subject.  For example, in the
> code below, both subjects have the exact same dependent variables, but
> different independent variables.  Yet, the parameter estimates for both
> subjects are the exact same.  I think this is due to the independent
> variables not changing by subject.  Am I correct?  If so, how can I work
> around this?  Thank you very much.
> 
>     library(plyr)
>     library(rugarch)
> 
>     set.seed(1000)
> 
>     Y <- rnorm(200)
> 
>     data <- data.frame(SUBJECT=c(rep('Alice', 200), rep('Bart', 200)),
> YVAR=rep(Y, 02), XVAR=rnorm(400))
>     data
> 
>     spec <- ugarchspec(mean.model=list(armaOrder=c(00,00),
> external.regressors=data.matrix(data$XVAR), include.mean=TRUE),
> variance.model=list(model='eGARCH', garchOrder=c(01,01)),
> distribution.model='norm')
> 
>     ddply(data, .(SUBJECT), function(x) coef(ugarchfit(spec=spec,
> data=x$YVAR, solver='hybrid')))
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From faiube at gmail.com  Mon Sep 23 22:20:28 2013
From: faiube at gmail.com (fernando)
Date: Mon, 23 Sep 2013 13:20:28 -0700 (PDT)
Subject: [R-SIG-Finance] Kalman filter (astsa package)
Message-ID: <1379967628307-4676770.post@n4.nabble.com>

Please,
I am using the astsa package for Kalman filter.
In my modelling the state equation has a drift which is time-varying.
Does anyone know whether there is any limitation of this package in this
situation?

Fernando
Thanks in advance.



--
View this message in context: http://r.789695.n4.nabble.com/Kalman-filter-astsa-package-tp4676770.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From Olivier.Martin at avignon.inra.fr  Thu Sep 26 15:12:03 2013
From: Olivier.Martin at avignon.inra.fr (Olivier MARTIN)
Date: Thu, 26 Sep 2013 15:12:03 +0200
Subject: [R-SIG-Finance] problem with quantstrat
Message-ID: <524432A3.5060808@avignon.inra.fr>

Hi all,

This my problem with the package quantstrat. When I execute 
demo(maCross) or demo(macd)
I obtain the following message for the step applyStrategy():

out<-applyStrategy(strat.st , 
portfolios=portfolio.st,parameters=list(nFast=fastMA, nSlow=slowMA, 
nSig=signalMA,maType=maType),verbose=TRUE)
Erreur dans NextMethod(.Generic) :
   dims [produit 1] ne correspond pas ? la longueur de l'objet [9]
De plus : Message d'avis :
In which((if (!is.null(status)) ordersubset[, "Order.Status"] ==  :
   M?thodes incompatibles ("Ops.POSIXt", "Ops.Date") pour "<"

Sorry my version is in french: this is an (approximate) translation:
Error in NextMethod(.Generic) :
   dims [product 1] do not correspond to the size of object  [9]
Moreover: warning message :
In which((if (!is.null(status)) ordersubset[, "Order.Status"] ==  :
   incompatible methods ("Ops.POSIXt", "Ops.Date") pour "<"

I tried the package with the R version R-2.15.3 and the version R-3.0.1 
on Ubuntu system.
I think that therie is no pb on windows system.

Thanks for your help,
O.


From dominykasgrigonis at gmail.com  Thu Sep 26 15:15:20 2013
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Thu, 26 Sep 2013 14:15:20 +0100
Subject: [R-SIG-Finance] problem with quantstrat
In-Reply-To: <524432A3.5060808@avignon.inra.fr>
References: <524432A3.5060808@avignon.inra.fr>
Message-ID: <02BEB18543444E91BE674799B74656DC@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130926/f5f3bb79/attachment.pl>

From jan at opentrades.nl  Thu Sep 26 18:29:42 2013
From: jan at opentrades.nl (OpenTrades)
Date: Thu, 26 Sep 2013 18:29:42 +0200
Subject: [R-SIG-Finance] problem with quantstrat
In-Reply-To: <524432A3.5060808@avignon.inra.fr>
References: <524432A3.5060808@avignon.inra.fr>
Message-ID: <524460F6.9080000@opentrades.nl>

Hi Olivier,

We have just identified a bug that was introduced recently and explains 
your problem.

Trying to fix it now, and will follow up on this tread as soon as it has 
been fixed.

Best regards,

Jan Humme.


On 09/26/2013 03:12 PM, Olivier MARTIN wrote:
> Hi all,
>
> This my problem with the package quantstrat. When I execute 
> demo(maCross) or demo(macd)
> I obtain the following message for the step applyStrategy():
>
> out<-applyStrategy(strat.st , 
> portfolios=portfolio.st,parameters=list(nFast=fastMA, nSlow=slowMA, 
> nSig=signalMA,maType=maType),verbose=TRUE)
> Erreur dans NextMethod(.Generic) :
>   dims [produit 1] ne correspond pas ? la longueur de l'objet [9]
> De plus : Message d'avis :
> In which((if (!is.null(status)) ordersubset[, "Order.Status"] == :
>   M?thodes incompatibles ("Ops.POSIXt", "Ops.Date") pour "<"
>
> Sorry my version is in french: this is an (approximate) translation:
> Error in NextMethod(.Generic) :
>   dims [product 1] do not correspond to the size of object  [9]
> Moreover: warning message :
> In which((if (!is.null(status)) ordersubset[, "Order.Status"] == :
>   incompatible methods ("Ops.POSIXt", "Ops.Date") pour "<"
>
> I tried the package with the R version R-2.15.3 and the version 
> R-3.0.1 on Ubuntu system.
> I think that therie is no pb on windows system.
>
> Thanks for your help,
> O.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R 
> questions should go.
>


-- 
Jan Humme - OpenTrades

WWW:     http://www.opentrades.nl
Email:   jan at opentrades.nl
Twitter: @opentrades
GSM:     +34 673 861 969


From markknecht at gmail.com  Sat Sep 28 02:17:47 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 27 Sep 2013 17:17:47 -0700
Subject: [R-SIG-Finance] Crosses above, crosses below
Message-ID: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>

Only slightly financial. Is there a function somewhere that implements
a real crossing check, as in MA1 crosses above MA2 and not just
MA1>MA2?. TTR seemed a likely candidate but I haven't found it there.

I alsa tried sos's findFn for searching, as well as stackoverflow but
it seems too general a question.

Thanks,
Mark


From josh.m.ulrich at gmail.com  Sat Sep 28 02:33:34 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 27 Sep 2013 19:33:34 -0500
Subject: [R-SIG-Finance] Crosses above, crosses below
In-Reply-To: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
References: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
Message-ID: <CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>

On Fri, Sep 27, 2013 at 7:17 PM, Mark Knecht <markknecht at gmail.com> wrote:
> Only slightly financial. Is there a function somewhere that implements
> a real crossing check, as in MA1 crosses above MA2 and not just
> MA1>MA2?. TTR seemed a likely candidate but I haven't found it there.
>
Yes, diff().

library(quantmod)
x <- Cl(getSymbols("SPY", auto.assign=FALSE))
y <- EMA(x,10) > EMA(x,20)
z <- merge(y, diff(y))

> I alsa tried sos's findFn for searching, as well as stackoverflow but
> it seems too general a question.
>
> Thanks,
> Mark
>

--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From markknecht at gmail.com  Sat Sep 28 02:52:04 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 27 Sep 2013 17:52:04 -0700
Subject: [R-SIG-Finance] Crosses above, crosses below
In-Reply-To: <CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>
References: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
	<CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>
Message-ID: <CAK2H+eccLBsjdYFu4zHBLXeiJqfr=8CTn0o=GbMpBjCSJC4SsA@mail.gmail.com>

On Fri, Sep 27, 2013 at 5:33 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> On Fri, Sep 27, 2013 at 7:17 PM, Mark Knecht <markknecht at gmail.com> wrote:
>> Only slightly financial. Is there a function somewhere that implements
>> a real crossing check, as in MA1 crosses above MA2 and not just
>> MA1>MA2?. TTR seemed a likely candidate but I haven't found it there.
>>
> Yes, diff().
>
> library(quantmod)
> x <- Cl(getSymbols("SPY", auto.assign=FALSE))
> y <- EMA(x,10) > EMA(x,20)
> z <- merge(y, diff(y))
>
>> I alsa tried sos's findFn for searching, as well as stackoverflow but
>> it seems too general a question.
>>
>> Thanks,
>> Mark
>>
>
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com

Thanks Joshua. Surprising answer but it certainly works.

Cheers,
Mark


From ilya.kipnis at gmail.com  Sun Sep 29 03:49:51 2013
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Sat, 28 Sep 2013 21:49:51 -0400
Subject: [R-SIG-Finance] Trying to add custom indicators to chart.Posn
Message-ID: <CA+oJuEHVUQrYxT0ujX=iLqFpGSgXcA86p_fjxxcWkoyqG=VsPQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130928/33347b64/attachment.pl>

From josh.m.ulrich at gmail.com  Sun Sep 29 13:22:25 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sun, 29 Sep 2013 06:22:25 -0500
Subject: [R-SIG-Finance] Trying to add custom indicators to chart.Posn
In-Reply-To: <CA+oJuEHVUQrYxT0ujX=iLqFpGSgXcA86p_fjxxcWkoyqG=VsPQ@mail.gmail.com>
References: <CA+oJuEHVUQrYxT0ujX=iLqFpGSgXcA86p_fjxxcWkoyqG=VsPQ@mail.gmail.com>
Message-ID: <CAPPM_gSy=EzsNrXeCF2jxcLCgvbjJh4v1sEsGM-gv70T3vFPhg@mail.gmail.com>

On Sat, Sep 28, 2013 at 8:49 PM, Ilya Kipnis <ilya.kipnis at gmail.com> wrote:
> So my question is this: I'm running a trading strategy in quantstrat with
> custom indicators (replicating the ichimoku system, for those that have
> heard of it), and I'd like to get a visual bead on the system by overlaying
> my custom indicators directly on top of the position chart.
>
> My data is QQQ from the start of 2007 to the end of August of 2013.
>
> Here's my indicator code:
>
> minAndMax <- function(twoNums) {
>   ret <- c(min(twoNums), max(twoNums))
>   return(ret)
> }
>
No need to re-write the range function...

> # for those that find the terminology weird, here's a basic rundown
> # tenkanSen is similar to a fast SMA, except instead,
> # it's the mean of the highest high and lowest low of the past nFast periods
> # kijunSen is the same as above, except at nMed frequency
> # senkou A is the average of the two above, projected nMed periods ahead
> (lag nMed)
> # senkou B is similar to the first two, except at an nSlow frequency,
> # also projected nMed periods ahead
> # Chicou span in the original system is the current close projected nMed
> terms into the past
> # however, with computers, I instead opted to move the past nMed terms
> forward.
> ichimoku <- function(HLC, nFast=9, nMed=26, nSlow=52) {
>   tenkanSen <- (runMax(Hi(HLC), nFast) + runMin(Lo(HLC), nFast))/2
>   kijunSen <- (runMax(Hi(HLC), nMed) + runMin(Lo(HLC), nMed))/2
>   senkouA <- lag(((tenkanSen+kijunSen)/2), nMed)
>   senkouB <- lag((runMax(Hi(HLC), nSlow) + runMin(Lo(HLC), nSlow))/2, nMed)
>   modChicouClose <- lag(Cl(HLC), nMed)
>   modChicouHi <- lag(Hi(HLC),nMed)
>   modChicouLo <- lag(Lo(HLC),nMed)
>   kumoMinMax <- apply(cbind(senkouA,senkouB),1,minAndMax)
>   indicators <- cbind(tenkanSen, kijunSen, senkouA, senkouB,
> modChicouClose,
>                       modChicouHi, modChicouLo, t(kumoMinMax))
>   colnames(indicators) <-
> c("tenkanSen","kijunSen","senkouA","senkouB","modChicouClose",
>                             "modChicouHi","modChicouLo","kumoMin","kumoMax")
>   reclass(indicators, HLC)
> }
>
> However, when I try to do this: (one of my instruments is QQQ), I get the
> following error:
>
> plot(add_TA(ichimoku(QQQ)))
> Error in `[.xts`(x, is.finite(x <- as.numeric(x))) :
>   'i' or 'j' out of range
>
It looks like add_TA doesn't like multi-column objects.  That's easily
avoided by calling it for each column in a loop:

ind <- ichimoku(QQQ))
chart.Posn("portfolioName", Symbol="QQQ")
for(i in 1:9) {
  plot(add_TA(ind[,i],on=1)
}

> And furthermore, the chart.Posn plot creates a new window for the new
> indicator, which sort of defeats the purpose of the entire point of
> plotting, as I took this exercise to try and replicate a "flesh-and-blood"
> technical trading strategy in quantstrat.
>
Use the "on=" argument, as I did above.

> So, any help would be much appreciated.
>
> Thanks so much.
>
> Sincerely,
>
> Ilya Kipnis
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From junluke at gmail.com  Mon Sep 30 05:28:53 2013
From: junluke at gmail.com (jun wang)
Date: Sun, 29 Sep 2013 23:28:53 -0400
Subject: [R-SIG-Finance] question about the high frequency package
Message-ID: <CAPD4hGA_LQ8UFf1WMCN0jNFSd-sk9y03d16ybwy6FL3t=vHHJw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130929/62626f77/attachment.pl>

From pfertig at yahoo.de  Mon Sep 30 09:28:36 2013
From: pfertig at yahoo.de (Peter Fertig)
Date: Mon, 30 Sep 2013 08:28:36 +0100 (BST)
Subject: [R-SIG-Finance] Reading MetaStock data format in R
Message-ID: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/0b212f84/attachment.pl>

From michael.weylandt at gmail.com  Mon Sep 30 14:45:30 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Mon, 30 Sep 2013 08:45:30 -0400
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
Message-ID: <796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>



On Sep 30, 2013, at 3:28, Peter Fertig <pfertig at yahoo.de> wrote:

> Hello,
> 
> I am new at R and need some help because I am stuck in a project. I have financial data, which is stored in the MetaStock data format and is updated daily. For reading this data, I started to write a R-script. So far, I managed to read the Master file, which contains the information about the various securities in a directory, as well as reading the Fxxx.Dat data files. The data is stored in the Microsoft Binary Format, which was used for Basica under DOS. Thus, it has to be converted into the IEEE format for the floating point numbers. But here my problems start.

Godspeed -- nothing quite like non-standard binary formats before the first morning coffee. 


> 
> I have a DLL-file with functions to convert the 4byte MBF format into IEEE format as well as from IEEE to MBF format. As recommended, this DLL is in the Windows/System32 directory. I use this DLL with Visual Basic and it works fine. In the R script, I included the following line
> 
> dyn.load("MBFIEE32", DLLpath="C:/Windows/System32").

Don't think it works like that -- anything you want exposed within R will need to return R objects or wrapper classes (SEXP's generally) -- if your DLL works for / was written for VB, it won't work un-modified in R. 

> 
> However, testing if the DLL had been loaded with is.loaded("MBFIEE32") returns FALSE. I have read the manual, but have not figured out what went wrong. Thus, my question is, what might I have overlooked, which could cause this error?
> 
> I also have a file with the functions for the format conversions in C. After making slight modifications to ensure that the functions return void as requested, I wanted to compile the file with the command (using the shell feature of RStudio) R CMD SHLIB [-d] -o MBF2IEEE.DLL MBF2IEEE.c. I called this command from the directory where the C-file is stored. However, the file was not compiled. Does the C-file has to be stored in a particular directory? After reading the online help, I can not figure out, what went wrong. 
> 

Is your R development environment set up properly? R is not officially supported to build under VS and I'd imagine the same applies to packages. 

To test that, I'd try building the 'xts' package locally -- it's an easy (enough) build and relevant for finance work anyways. 

Depending on the scale of your data and the frequency you'll be doing this, it might be worth writing a standalone program which makes a csv file (or similar) and then just reading that into R so you can get on with your work. 

Cheers,
Michael


> Thanks for any help
> 
> Peter  
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From soledad.esteban at transmittingscience.org  Mon Sep 30 15:49:38 2013
From: soledad.esteban at transmittingscience.org (Soledad De Esteban Trivigno)
Date: Mon, 30 Sep 2013 15:49:38 +0200 (CEST)
Subject: [R-SIG-Finance] Ann: Course CART and Neural networks with R,
 4-7 November, Barcelona (Spain).
Message-ID: <753218766.188980.1380548978098.open-xchange@email.1and1.es>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/eecf6a37/attachment.pl>

From pfertig at yahoo.de  Mon Sep 30 15:55:26 2013
From: pfertig at yahoo.de (Peter Fertig)
Date: Mon, 30 Sep 2013 14:55:26 +0100 (BST)
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
Message-ID: <1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/d978abab/attachment.pl>

From frankm60606 at gmail.com  Mon Sep 30 16:15:16 2013
From: frankm60606 at gmail.com (Frank)
Date: Mon, 30 Sep 2013 09:15:16 -0500
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com><796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
Message-ID: <C63664DC0CD14E2A84C3D11F0ACD970E@Franki7PC>

Have you looked at getSymbols() in the quantmod package? It can download
symbols into the R environment from Yahoo Finance. I also save the data to a
CSV file. I then download the dividends from Yahoo Finance to calculate
current yield. It is so fast I don't bother to save the data and append new
only data.

Best,

Frank
Chicago, IL

-----Original Message-----
From: r-sig-finance-bounces at r-project.org
[mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Peter Fertig
Sent: Monday, September 30, 2013 8:55 AM
To: R. Michael Weylandt <michael.weylandt at gmail.com>
Cc: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] Reading MetaStock data format in R

Hi Michael,

thank you for your comments. I have learnt now that using the DLL file, will
not work as I can not modify the DLL.

Creating csv or Excel files, another proposal I got, is what I have to do
already for another commercial econometric software (RATS from Estima) I use
now for a couple of years. Thus, I limited this to weekly data for only a
few instruments. However, I would like to run the analysis on a daily basis
for more instruments. Therefore, I still look for a solution in R by using
C-code. Unfortunately, I have only experience in programming in Visual Basic
and Pascal/Delphi. Maybe having only the code for the functions is not
sufficient and the C-file needs a few more lines? Something, I still have to
explore.

Best regards
Peter


________________________________
 Von: "R. Michael Weylandt <michael.weylandt at gmail.com>"
<michael.weylandt at gmail.com>

CC: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org> 
Gesendet: 14:45 Montag, 30.September 2013
Betreff: Re: [R-SIG-Finance] Reading MetaStock data format in R






> Hello,
> 
> I am new at R and need some help because I am stuck in a project. I have
financial data, which is stored in the MetaStock data format and is updated
daily. For reading this data, I started to write a R-script. So far, I
managed to read the Master file, which contains the information about the
various securities in a directory, as well as reading the Fxxx.Dat data
files. The data is stored in the Microsoft Binary Format, which was used for
Basica under DOS. Thus, it has to be converted into the IEEE format for the
floating point numbers. But here my problems start.

Godspeed -- nothing quite like non-standard binary formats before the first
morning coffee. 


> 
> I have a DLL-file with functions to convert the 4byte MBF format into IEEE
format as well as from IEEE to MBF format. As recommended, this DLL is in
the Windows/System32 directory. I use this DLL with Visual Basic and it
works fine. In the R script, I included the following line
> 
> dyn.load("MBFIEE32", DLLpath="C:/Windows/System32").

Don't think it works like that -- anything you want exposed within R will
need to return R objects or wrapper classes (SEXP's generally) -- if your
DLL works for / was written for VB, it won't work un-modified in R. 

> 
> However, testing if the DLL had been loaded with is.loaded("MBFIEE32")
returns FALSE. I have read the manual, but have not figured out what went
wrong. Thus, my question is, what might I have overlooked, which could cause
this error?
> 
> I also have a file with the functions for the format conversions in C.
After making slight modifications to ensure that the functions return void
as requested, I wanted to compile the file with the command (using the shell
feature of RStudio) R CMD SHLIB [-d] -o MBF2IEEE.DLL MBF2IEEE.c. I called
this command from the directory where the C-file is stored. However, the
file was not compiled. Does the C-file has to be stored in a particular
directory? After reading the online help, I can not figure out, what went
wrong.
> 

Is your R development environment set up properly? R is not officially
supported to build under VS and I'd imagine the same applies to packages. 

To test that, I'd try building the 'xts' package locally -- it's an easy
(enough) build and relevant for finance work anyways. 

Depending on the scale of your data and the frequency you'll be doing this,
it might be worth writing a standalone program which makes a csv file (or
similar) and then just reading that into R so you can get on with your work.


Cheers,
Michael


> Thanks for any help
> 
> Peter  
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
should go.
	[[alternative HTML version deleted]]


From michael.weylandt at gmail.com  Mon Sep 30 16:19:08 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Mon, 30 Sep 2013 10:19:08 -0400
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
Message-ID: <FC90860A-8E51-4617-BCB2-078DC39A6806@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/de1b1e45/attachment.pl>

From pgilbert902 at gmail.com  Mon Sep 30 16:26:56 2013
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Mon, 30 Sep 2013 10:26:56 -0400
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <FC90860A-8E51-4617-BCB2-078DC39A6806@gmail.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
	<FC90860A-8E51-4617-BCB2-078DC39A6806@gmail.com>
Message-ID: <52498A30.2050904@gmail.com>

Peter

(No doubt you are working in a context where you don't have control or 
influence over everything, but ... )

I think you are really attacking the wrong part of your problem. If you 
are going to all the trouble of downloading and updating daily data on 
an inhouse db, why don't you put it in a modern open format that is 
generally usable, or even put it in a real database?

Best,
Paul


On 13-09-30 10:19 AM, R. Michael Weylandt <michael.weylandt at gmail.com>
wrote:
>
>
> On Sep 30, 2013, at 9:55, Peter Fertig <pfertig at yahoo.de> wrote:
>
>> Hi Michael,
>>
>> thank you for your comments. I have learnt now that using the DLL
>> file, will not work as I can not modify the DLL.
>
> You don't need to modify it -- just wrap it in something which
> 'speaks R' rather than trying to call it directly.
>
> M
>
>
>>
>> Creating csv or Excel files, another proposal I got, is what I have
>> to do already for another commercial econometric software (RATS
>> from Estima) I use now for a couple of years. Thus, I limited this
>> to weekly data for only a few instruments. However, I would like to
>> run the analysis on a daily basis for more instruments. Therefore,
>> I still look for a solution in R by using C-code. Unfortunately, I
>> have only experience in programming in Visual Basic and
>> Pascal/Delphi. Maybe having only the code for the functions is not
>> sufficient and the C-file needs a few more lines? Something, I
>> still have to explore.
>>
>> Best regards Peter
>>
>> Von: "R. Michael Weylandt <michael.weylandt at gmail.com>"
>> <michael.weylandt at gmail.com> An: Peter Fertig <pfertig at yahoo.de>
>> CC: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org>
>> Gesendet: 14:45 Montag, 30.September 2013 Betreff: Re:
>> [R-SIG-Finance] Reading MetaStock data format in R
>>
>>
>>
>> On Sep 30, 2013, at 3:28, Peter Fertig <pfertig at yahoo.de> wrote:
>>
>>> Hello,
>>>
>>> I am new at R and need some help because I am stuck in a project.
>>> I have financial data, which is stored in the MetaStock data
>>> format and is updated daily. For reading this data, I started to
>>> write a R-script. So far, I managed to read the Master file,
>>> which contains the information about the various securities in a
>>> directory, as well as reading the Fxxx.Dat data files. The data
>>> is stored in the Microsoft Binary Format, which was used for
>>> Basica under DOS. Thus, it has to be converted into the IEEE
>>> format for the floating point numbers. But here my problems
>>> start.
>>
>> Godspeed -- nothing quite like non-standard binary formats before
>> the first morning coffee.
>>
>>
>>>
>>> I have a DLL-file with functions to convert the 4byte MBF format
>>> into IEEE format as well as from IEEE to MBF format. As
>>> recommended, this DLL is in the Windows/System32 directory. I use
>>> this DLL with Visual Basic and it works fine. In the R script, I
>>> included the following line
>>>
>>> dyn.load("MBFIEE32", DLLpath="C:/Windows/System32").
>>
>> Don't think it works like that -- anything you want exposed within
>> R will need to return R objects or wrapper classes (SEXP's
>> generally) -- if your DLL works for / was written for VB, it won't
>> work un-modified in R.
>>
>>>
>>> However, testing if the DLL had been loaded with
>>> is.loaded("MBFIEE32") returns FALSE. I have read the manual, but
>>> have not figured out what went wrong. Thus, my question is, what
>>> might I have overlooked, which could cause this error?
>>>
>>> I also have a file with the functions for the format conversions
>>> in C. After making slight modifications to ensure that the
>>> functions return void as requested, I wanted to compile the file
>>> with the command (using the shell feature of RStudio) R CMD SHLIB
>>> [-d] -o MBF2IEEE.DLL MBF2IEEE.c. I called this command from the
>>> directory where the C-file is stored. However, the file was not
>>> compiled. Does the C-file has to be stored in a particular
>>> directory? After reading the online help, I can not figure out,
>>> what went wrong.
>>>
>>
>> Is your R development environment set up properly? R is not
>> officially supported to build under VS and I'd imagine the same
>> applies to packages.
>>
>> To test that, I'd try building the 'xts' package locally -- it's an
>> easy (enough) build and relevant for finance work anyways.
>>
>> Depending on the scale of your data and the frequency you'll be
>> doing this, it might be worth writing a standalone program which
>> makes a csv file (or similar) and then just reading that into R so
>> you can get on with your work.
>>
>> Cheers, Michael
>>
>>
>>> Thanks for any help
>>>
>>> Peter [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance --
>>> Subscriber-posting only. If you want to post, subscribe first. --
>>> Also note that this is not the r-help list where general R
>>> questions should go.
>>
>>
>
> [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance --
> Subscriber-posting only. If you want to post, subscribe first. --
> Also note that this is not the r-help list where general R questions
> should go.
>


From alexios at 4dscape.com  Mon Sep 30 16:36:09 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 30 Sep 2013 15:36:09 +0100
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
Message-ID: <52498C59.3050101@4dscape.com>

The Metastock conversion topic was covered here before:

https://stat.ethz.ch/pipermail/r-sig-finance/2009q4/005368.html

Have a look at this open source C++ project for converting
Metastock to csv, after which you can import into R.

https://bitbucket.org/rudimeier/atem/overview


-Alexios

On 30/09/2013 14:55, Peter Fertig wrote:
> Hi Michael,
> 
> thank you for your comments. I have learnt now that using the DLL file, will not work as I can not modify the DLL.
> 
> Creating csv or Excel files, another proposal I got, is what I have to do already for another commercial econometric software (RATS from Estima) I use now for a couple of years. Thus, I limited this to weekly data for only a few instruments. However, I would like to run the analysis on a daily basis for more instruments. Therefore, I still look for a solution in R by using C-code. Unfortunately, I have only experience in programming in Visual Basic and Pascal/Delphi. Maybe having only the code for the functions is not sufficient and the C-file needs a few more lines? Something, I still have to explore.
> 
> Best regards
> Peter
> 
> 
> ________________________________
>  Von: "R. Michael Weylandt <michael.weylandt at gmail.com>" <michael.weylandt at gmail.com>
> 
> CC: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org> 
> Gesendet: 14:45 Montag, 30.September 2013
> Betreff: Re: [R-SIG-Finance] Reading MetaStock data format in R
> 
> 
> 
> 
> 
> 
>> Hello,
>>
>> I am new at R and need some help because I am stuck in a project. I have financial data, which is stored in the MetaStock data format and is updated daily. For reading this data, I started to write a R-script. So far, I managed to read the Master file, which contains the information about the various securities in a directory, as well as reading the Fxxx.Dat data files. The data is stored in the Microsoft Binary Format, which was used for Basica under DOS. Thus, it has to be converted into the IEEE format for the floating point numbers. But here my problems start.
> 
> Godspeed -- nothing quite like non-standard binary formats before the first morning coffee. 
> 
> 
>>
>> I have a DLL-file with functions to convert the 4byte MBF format into IEEE format as well as from IEEE to MBF format. As recommended, this DLL is in the Windows/System32 directory. I use this DLL with Visual Basic and it works fine. In the R script, I included the following line
>>
>> dyn.load("MBFIEE32", DLLpath="C:/Windows/System32").
> 
> Don't think it works like that -- anything you want exposed within R will need to return R objects or wrapper classes (SEXP's generally) -- if your DLL works for / was written for VB, it won't work un-modified in R. 
> 
>>
>> However, testing if the DLL had been loaded with is.loaded("MBFIEE32") returns FALSE. I have read the manual, but have not figured out what went wrong. Thus, my question is, what might I have overlooked, which could cause this error?
>>
>> I also have a file with the functions for the format conversions in C. After making slight modifications to ensure that the functions return void as requested, I wanted to compile the file with the command (using the shell feature of RStudio) R CMD SHLIB [-d] -o MBF2IEEE.DLL MBF2IEEE.c. I called this command from the directory where the C-file is stored. However, the file was not compiled. Does the C-file has to be stored in a particular directory? After reading the online help, I can not figure out, what went wrong.
>>
> 
> Is your R development environment set up properly? R is not officially supported to build under VS and I'd imagine the same applies to packages. 
> 
> To test that, I'd try building the 'xts' package locally -- it's an easy (enough) build and relevant for finance work anyways. 
> 
> Depending on the scale of your data and the frequency you'll be doing this, it might be worth writing a standalone program which makes a csv file (or similar) and then just reading that into R so you can get on with your work. 
> 
> Cheers,
> Michael
> 
> 
>> Thanks for any help
>>
>> Peter  
>>     [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
> 	[[alternative HTML version deleted]]
> 
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From pfertig at yahoo.de  Mon Sep 30 17:00:02 2013
From: pfertig at yahoo.de (Peter Fertig)
Date: Mon, 30 Sep 2013 16:00:02 +0100 (BST)
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <52498C59.3050101@4dscape.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
	<52498C59.3050101@4dscape.com>
Message-ID: <1380553202.97154.YahooMailNeo@web171502.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/6de03d5d/attachment.pl>

From markknecht at gmail.com  Mon Sep 30 17:02:39 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 30 Sep 2013 08:02:39 -0700
Subject: [R-SIG-Finance] Crosses above, crosses below
In-Reply-To: <CAK2H+eccLBsjdYFu4zHBLXeiJqfr=8CTn0o=GbMpBjCSJC4SsA@mail.gmail.com>
References: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
	<CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>
	<CAK2H+eccLBsjdYFu4zHBLXeiJqfr=8CTn0o=GbMpBjCSJC4SsA@mail.gmail.com>
Message-ID: <CAK2H+efnhfGL7AzF_+1KWXVUPeiWpTpuui=wjThkuH+SY5_baA@mail.gmail.com>

On Fri, Sep 27, 2013 at 5:52 PM, Mark Knecht <markknecht at gmail.com> wrote:
> On Fri, Sep 27, 2013 at 5:33 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>> On Fri, Sep 27, 2013 at 7:17 PM, Mark Knecht <markknecht at gmail.com> wrote:
>>> Only slightly financial. Is there a function somewhere that implements
>>> a real crossing check, as in MA1 crosses above MA2 and not just
>>> MA1>MA2?. TTR seemed a likely candidate but I haven't found it there.
>>>
>> Yes, diff().
>>
>> library(quantmod)
>> x <- Cl(getSymbols("SPY", auto.assign=FALSE))
>> y <- EMA(x,10) > EMA(x,20)
>> z <- merge(y, diff(y))
>>
>>> I alsa tried sos's findFn for searching, as well as stackoverflow but
>>> it seems too general a question.
>>>
>>> Thanks,
>>> Mark
>>>
>>
>> --
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>
> Thanks Joshua. Surprising answer but it certainly works.
>
> Cheers,
> Mark

Hi Joshua,
   Thanks again for the code snippet. As my xts fu is severely lacking
I've been playing a bit with the code to try and get better. xts is
pretty cool. Here's my slightly modified version of your code where I
wanted to start building an xts object that gets extended as the
modeling progresses:

library(quantmod)

SPY <- getSymbols("SPY", auto.assign=FALSE)

SPY$EMA.10 <- EMA(Cl(SPY),10)
SPY$EMA.20 <- EMA(Cl(SPY),20)
SPY$y  <- with(SPY, (EMA.10 > EMA.20))

SPY$y1 <- with(SPY, diff(y))
SPY$z  <- with(SPY, merge.xts(y, y1))[,2]
head(SPY, n=10)

   There is (I think) one issue with this code. The code correctly
identifies a 'cross above' event because (EMA.10 > EMA.20) does test
above. However if EMA.10 has been above I think it incorrectly detects
a 'cross below' event if (EMA.10 == EMA.20). I figure I can solve that
using some extra data column, like a lagged EMA.10 possibly, unless
you know of an easier, more built in way.

   Again, thanks for the example code. It's helpful.

Cheers,
Mark


From alexios at 4dscape.com  Mon Sep 30 17:30:55 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 30 Sep 2013 16:30:55 +0100
Subject: [R-SIG-Finance] Reading MetaStock data format in R
In-Reply-To: <1380553202.97154.YahooMailNeo@web171502.mail.ir2.yahoo.com>
References: <1380526116.29788.YahooMailNeo@web171502.mail.ir2.yahoo.com>
	<796F3B1C-0D52-44C3-B5F0-C5066329C658@gmail.com>
	<1380549326.86740.YahooMailNeo@web171506.mail.ir2.yahoo.com>
	<52498C59.3050101@4dscape.com>
	<1380553202.97154.YahooMailNeo@web171502.mail.ir2.yahoo.com>
Message-ID: <5249992F.7040405@4dscape.com>

I think you can also achieve what you want (i.e. 3rd party calling R for
analysis without leaving the 3rd party environment) using
http://www.omegahat.org/RDCOMServer/

A similar 'plug-in' was developed for amibroker doing just that:
https://stat.ethz.ch/pipermail/r-sig-finance/2008q3/002859.html

-Alexios

On 30/09/2013 16:00, Peter Fertig wrote:
> Hi Alexios,
> 
> thank you for your answer. Converting the MetaStock data into a csv file
> is not a problem. I can do this with Visual Basic easily. I want to use
> R for some time series analysis and want to use the results for trading
> systems in MetaStock or TradeStation. Thus, I would have two conversions
> for each security. This could be time consuming. Therefore, I look for a
> way to read/write the data directly from R. The problem I run into is
> just the conversion of the binary formats. Here, the solutions I have
> for Visual Basic don't work in R.
> 
> Best regards
> 
> Peter
> 
> ------------------------------------------------------------------------
> *Von:* alexios ghalanos <alexios at 4dscape.com>
> *An:* Peter Fertig <pfertig at yahoo.de>
> *CC:* "R. Michael Weylandt <michael.weylandt at gmail.com>"
> <michael.weylandt at gmail.com>; "r-sig-finance at r-project.org"
> <r-sig-finance at r-project.org>
> *Gesendet:* 16:36 Montag, 30.September 2013
> *Betreff:* Re: [R-SIG-Finance] Reading MetaStock data format in R
> 
> The Metastock conversion topic was covered here before:
> 
> https://stat.ethz.ch/pipermail/r-sig-finance/2009q4/005368.html
> 
> Have a look at this open source C++ project for converting
> Metastock to csv, after which you can import into R.
> 
> https://bitbucket.org/rudimeier/atem/overview
> 
> 
> -Alexios
> 
> On 30/09/2013 14:55, Peter Fertig wrote:
>> Hi Michael,
>>
>> thank you for your comments. I have learnt now that using the DLL
> file, will not work as I can not modify the DLL.
>>
>> Creating csv or Excel files, another proposal I got, is what I have to
> do already for another commercial econometric software (RATS from
> Estima) I use now for a couple of years. Thus, I limited this to weekly
> data for only a few instruments. However, I would like to run the
> analysis on a daily basis for more instruments. Therefore, I still look
> for a solution in R by using C-code. Unfortunately, I have only
> experience in programming in Visual Basic and Pascal/Delphi. Maybe
> having only the code for the functions is not sufficient and the C-file
> needs a few more lines? Something, I still have to explore.
>>
>> Best regards
>> Peter
>>
>>
>> ________________________________
>>  Von: "R. Michael Weylandt <michael.weylandt at gmail.com
> <mailto:michael.weylandt at gmail.com>>" <michael.weylandt at gmail.com
> <mailto:michael.weylandt at gmail.com>>
>>
>> CC: "r-sig-finance at r-project.org <mailto:r-sig-finance at r-project.org>"
> <r-sig-finance at r-project.org <mailto:r-sig-finance at r-project.org>>
>> Gesendet: 14:45 Montag, 30.September 2013
>> Betreff: Re: [R-SIG-Finance] Reading MetaStock data format in R
>>
>>
>>
>>
>>
>>
>>> Hello,
>>>
>>> I am new at R and need some help because I am stuck in a project. I
> have financial data, which is stored in the MetaStock data format and is
> updated daily. For reading this data, I started to write a R-script. So
> far, I managed to read the Master file, which contains the information
> about the various securities in a directory, as well as reading the
> Fxxx.Dat data files. The data is stored in the Microsoft Binary Format,
> which was used for Basica under DOS. Thus, it has to be converted into
> the IEEE format for the floating point numbers. But here my problems start.
>>
>> Godspeed -- nothing quite like non-standard binary formats before the
> first morning coffee.
>>
>>
>>>
>>> I have a DLL-file with functions to convert the 4byte MBF format into
> IEEE format as well as from IEEE to MBF format. As recommended, this DLL
> is in the Windows/System32 directory. I use this DLL with Visual Basic
> and it works fine. In the R script, I included the following line
>>>
>>> dyn.load("MBFIEE32", DLLpath="C:/Windows/System32").
>>
>> Don't think it works like that -- anything you want exposed within R
> will need to return R objects or wrapper classes (SEXP's generally) --
> if your DLL works for / was written for VB, it won't work un-modified in R.
>>
>>>
>>> However, testing if the DLL had been loaded with
> is.loaded("MBFIEE32") returns FALSE. I have read the manual, but have
> not figured out what went wrong. Thus, my question is, what might I have
> overlooked, which could cause this error?
>>>
>>> I also have a file with the functions for the format conversions in
> C. After making slight modifications to ensure that the functions return
> void as requested, I wanted to compile the file with the command (using
> the shell feature of RStudio) R CMD SHLIB [-d] -o MBF2IEEE.DLL
> MBF2IEEE.c. I called this command from the directory where the C-file is
> stored. However, the file was not compiled. Does the C-file has to be
> stored in a particular directory? After reading the online help, I can
> not figure out, what went wrong.
>>>
>>
>> Is your R development environment set up properly? R is not officially
> supported to build under VS and I'd imagine the same applies to packages.
>>
>> To test that, I'd try building the 'xts' package locally -- it's an
> easy (enough) build and relevant for finance work anyways.
>>
>> Depending on the scale of your data and the frequency you'll be doing
> this, it might be worth writing a standalone program which makes a csv
> file (or similar) and then just reading that into R so you can get on
> with your work.
>>
>> Cheers,
>> Michael
>>
>>
>>> Thanks for any help
>>>
>>> Peter 
>>>    [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
> mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R
> questions should go.
>>     [[alternative HTML version deleted]]
>>
>>
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
> mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R
> questions should go.
>>
> 
> 
>


From brian at braverock.com  Mon Sep 30 21:10:47 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 30 Sep 2013 14:10:47 -0500
Subject: [R-SIG-Finance] problem with quantstrat
In-Reply-To: <524432A3.5060808@avignon.inra.fr>
References: <524432A3.5060808@avignon.inra.fr>
Message-ID: <5249CCB7.6020600@braverock.com>

This is corrected in the current R-Forge version, and R-Forge has a 
current tarball and binary build (as of r1512 v0.7.10)

On 09/26/2013 08:12 AM, Olivier MARTIN wrote:
> This my problem with the package quantstrat. When I execute
> demo(maCross) or demo(macd)
> I obtain the following message for the step applyStrategy():
>
> out<-applyStrategy(strat.st ,
> portfolios=portfolio.st,parameters=list(nFast=fastMA, nSlow=slowMA,
> nSig=signalMA,maType=maType),verbose=TRUE)
> Erreur dans NextMethod(.Generic) :
>    dims [produit 1] ne correspond pas ? la longueur de l'objet [9]
> De plus : Message d'avis :
> In which((if (!is.null(status)) ordersubset[, "Order.Status"] ==  :
>    M?thodes incompatibles ("Ops.POSIXt", "Ops.Date") pour "<"
>
> Sorry my version is in french: this is an (approximate) translation:
> Error in NextMethod(.Generic) :
>    dims [product 1] do not correspond to the size of object  [9]
> Moreover: warning message :
> In which((if (!is.null(status)) ordersubset[, "Order.Status"] ==  :
>    incompatible methods ("Ops.POSIXt", "Ops.Date") pour "<"
>
> I tried the package with the R version R-2.15.3 and the version R-3.0.1
> on Ubuntu system.
> I think that therie is no pb on windows system.


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From preston.li at gmail.com  Mon Sep 30 23:52:53 2013
From: preston.li at gmail.com (Preston Li)
Date: Mon, 30 Sep 2013 14:52:53 -0700
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and Ignoring
	Leverage Constraint
Message-ID: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/5bdc9fa0/attachment.pl>

