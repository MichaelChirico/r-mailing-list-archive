From george_g58 at msn.com  Wed Jan  1 12:15:55 2014
From: george_g58 at msn.com (George Giordano)
Date: Wed, 1 Jan 2014 06:15:55 -0500
Subject: [R-SIG-Finance] get.hist.quote with Yahoo No Longer Works?
Message-ID: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140101/9d623824/attachment.pl>

From breman.mark at gmail.com  Wed Jan  1 16:24:52 2014
From: breman.mark at gmail.com (markbreman .)
Date: Wed, 1 Jan 2014 16:24:52 +0100
Subject: [R-SIG-Finance] get.hist.quote with Yahoo No Longer Works?
In-Reply-To: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>
References: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>
Message-ID: <CAEaVHo+29ryr5UifGVxoQpnXfOROH-zMsJCD4=sFWwJMEBe2eg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140101/4f632b3c/attachment.pl>

From edd at debian.org  Wed Jan  1 21:44:38 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 1 Jan 2014 14:44:38 -0600
Subject: [R-SIG-Finance] get.hist.quote with Yahoo No Longer Works?
In-Reply-To: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>
References: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>
Message-ID: <21188.32310.740327.348150@max.nulle.part>


George,

As previously reported here (for similar Yahoo! accessor functions) and as
shown here:
  
   http://stackoverflow.com/questions/20872762/is-get-hist-quote-still-returning-data-with-source-yahoo-finance/ 

and in Mark's reply, the fix is to update the URL.  I just reported that
upstream to Kurt Hornik as well.

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From markknecht at gmail.com  Wed Jan  1 23:52:58 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Wed, 1 Jan 2014 14:52:58 -0800
Subject: [R-SIG-Finance] get.hist.quote with Yahoo No Longer Works?
In-Reply-To: <21188.32310.740327.348150@max.nulle.part>
References: <BAY173-W12101144890DBD36215328EDC80@phx.gbl>
	<21188.32310.740327.348150@max.nulle.part>
Message-ID: <CAK2H+ecSQfc7qe1GERG5VNVmU=X0sstX_kavSwVRYEMf+KHyKg@mail.gmail.com>

Dirk,
   I far prefer your groovy ideas and where I got to using them than
what I did yesterday. In the case of quantmod::getSymbols the problem
isn't the direct function but rather the 'sub'-function
getSymbols.yahoo, so using your idea I do:

getSymbols.MWK = getSymbols.yahoo
fix(getSymbols.MWK)

do the URL modification and one more fix, i.e:

quantmod:::convert.time.series

and save the function in my overall MWK_Functions.R file. At this
point I can simply change one line in any of my source code files,
ala:

SymbolSrc = "yahoo"

becomes

SymbolSrc = "MWK"

At that point all my existing getSymbols calls go to the new function
and seem to work fine:

> getSymbols(c("AGG","GLD","IWM"), src="MWK")
[1] "AGG" "GLD" "IWM"


All of my MySQL databases are now updating and I can go back the
original function when the fix comes out. Sweet! Thanks!

- Mark

On Wed, Jan 1, 2014 at 12:44 PM, Dirk Eddelbuettel <edd at debian.org> wrote:
>
> George,
>
> As previously reported here (for similar Yahoo! accessor functions) and as
> shown here:
>
>    http://stackoverflow.com/questions/20872762/is-get-hist-quote-still-returning-data-with-source-yahoo-finance/
>
> and in Mark's reply, the fix is to update the URL.  I just reported that
> upstream to Kurt Hornik as well.
>
> Dirk
>
> --
> Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From manojit_roy at comcast.net  Thu Jan  2 13:52:30 2014
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Thu, 2 Jan 2014 12:52:30 +0000 (UTC)
Subject: [R-SIG-Finance] Formatting multiple charts on same window
Message-ID: <1290810016.293577.1388667150357.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140102/ff8c429d/attachment.pl>

From pgilbert902 at gmail.com  Fri Jan  3 19:07:13 2014
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Fri, 03 Jan 2014 13:07:13 -0500
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>	<CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>	<CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>
	<CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>
Message-ID: <52C6FC51.9000507@gmail.com>

It seems that chart.yahoo.com  has returned to service.

Paul

On 13-12-31 03:50 PM, Joshua Ulrich wrote:
> On Tue, Dec 31, 2013 at 2:45 PM, Mark Knecht <markknecht at gmail.com> wrote:
>> On Tue, Dec 31, 2013 at 12:06 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>>> Ivan,
>>>
>>> On Tue, Dec 31, 2013 at 1:26 PM, Ivan Popivanov
>>> <ivan.popivanov at gmail.com> wrote:
>>>> Looks like Yahoo have stopped providing web interface via chart.yahoo.com,
>>>> which is used by getSymbols.yahoo. The site used to download data through
>>>> the web interface is ichart.finance.yahoo.com, which seems to use the same
>>>> interface.
>>>>
>>> Thanks for the report.  Fixed in r610 on R-Forge.
>>>
>>>> Happy New Year,
>>>> Ivan
>>>>
>>>
>>> Best,
>>> --
>>> Joshua Ulrich  |  about.me/joshuaulrich
>>> FOSS Trading  |  www.fosstrading.com
>>>
>>
>> How does one install the new version? The standard command I've used
>> for other packages
>>
>> install.packages("quantmod", repos = "http://R-Forge.R-project.org")
>>
>> installs 0.4.1 which is likely the stable version I suppose.
>>
> The quantmod code on R-Forge should not be considered "stable".  It's
> where development changes are applied and tested.  If you want the
> latest from R-Forge, you must build from source, or wait for the
> R-Forge build process to create the package.
>
> See here if you want to build from source.
> http://stackoverflow.com/q/11105131/271616
>
>> If it matters I'm using R-3.0.2 & R-Studio-0.98.490
>>
>> Thanks!
>>
>> - Mark
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From markknecht at gmail.com  Fri Jan  3 19:35:29 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 3 Jan 2014 10:35:29 -0800
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <52C6FC51.9000507@gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
	<CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>
	<CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>
	<CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>
	<52C6FC51.9000507@gmail.com>
Message-ID: <CAK2H+efYOx53WEEPUcegNaQWUMHRvihDQf4TLjfGUkSL4aAomg@mail.gmail.com>

That's what I'm seeing here also but was afraid to say anything in jinx it. ;-)

On Fri, Jan 3, 2014 at 10:07 AM, Paul Gilbert <pgilbert902 at gmail.com> wrote:
> It seems that chart.yahoo.com  has returned to service.
>
> Paul
>
>


From manojit_roy at comcast.net  Mon Jan  6 20:29:39 2014
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Mon, 6 Jan 2014 19:29:39 +0000 (UTC)
Subject: [R-SIG-Finance] Overlaying OBV on Volume chart
Message-ID: <1643132866.353461.1389036579560.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140106/de999512/attachment.pl>

From josh.m.ulrich at gmail.com  Mon Jan  6 20:46:10 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 6 Jan 2014 13:46:10 -0600
Subject: [R-SIG-Finance] Overlaying OBV on Volume chart
In-Reply-To: <1643132866.353461.1389036579560.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1643132866.353461.1389036579560.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAPPM_gRu=jK-EiTL3qdSMo-YRLO3zMZg=_uR0Z_HHcHpwdA13w@mail.gmail.com>

On Mon, Jan 6, 2014 at 1:29 PM,  <manojit_roy at comcast.net> wrote:
> I'm trying to overlay OBV on the volume subplot using the code below:
>
>> getSymbols('AAPL',from='2013-6-1')
>> chartSeries(AAPL,type='candlesticks',TA='addVo()',theme='white')
>> addTA(OBV(Cl(AAPL),Vo(AAPL)),on=2)
>
> This does not work (all I get is a few vertical lines on the volume chart). Using addTA() without 'on=2' argument gives the correct OBV graph but on a separate subplot, as I would expect. Any help on how to do this is appreciated.
>
> Manojit
>
The problem is that you expect the function to automagically convert
your data to have the same y-axis range and/or to automagically adjust
the y-axis limits.  While chart_Series does the latter, I don't think
it gives the results you expect either.

> chart_Series(AAPL,TA='add_Vo()')
> add_TA(OBV(Cl(AAPL),Vo(AAPL)),on=2)

The most flexible solution is to adjust the data as you see fit:

> chartSeries(AAPL,type='candlesticks',TA='addVo()',theme='white')
> addTA(OBV(Cl(AAPL),Vo(AAPL))/1e7+16,on=2)

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From ezivot at u.washington.edu  Tue Jan  7 01:25:45 2014
From: ezivot at u.washington.edu (Eric Zivot)
Date: Mon, 6 Jan 2014 16:25:45 -0800
Subject: [R-SIG-Finance] Dates not formatting properly for quarterly time
	series in xtsExtra
Message-ID: <03c601cf0b3f$01f74060$05e5c120$@washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140106/33edc959/attachment.pl>

From markknecht at gmail.com  Tue Jan  7 01:54:26 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 6 Jan 2014 16:54:26 -0800
Subject: [R-SIG-Finance] Dates not formatting properly for quarterly
 time series in xtsExtra
In-Reply-To: <03c601cf0b3f$01f74060$05e5c120$@washington.edu>
References: <03c601cf0b3f$01f74060$05e5c120$@washington.edu>
Message-ID: <CAK2H+ecbDy5vi76jdo0-jU87gaGOJM7wDVDfKVgZLdewOaX8Jw@mail.gmail.com>

On Mon, Jan 6, 2014 at 4:25 PM, Eric Zivot <ezivot at u.washington.edu> wrote:
> I have been working on some examples of plotting time series for my new book
> Modeling Financial Time Series with R and I noticed something funny with
> plot.xts() from the R package xtsExtra when trying to plot quarterly time
> series created from the xts function to.quarterly. Here is an example:
>
>
>
>> sessionInfo()
>
> R version 3.0.2 (2013-09-25)
>
> Platform: x86_64-w64-mingw32/x64 (64-bit)
>
>
>
> locale:
>
> [1] LC_COLLATE=English_United States.1252
>
> [2] LC_CTYPE=English_United States.1252
>
> [3] LC_MONETARY=English_United States.1252
>
> [4] LC_NUMERIC=C
>
> [5] LC_TIME=English_United States.1252
>
>
>
> attached base packages:
>
> [1] stats     graphics  grDevices utils     datasets  methods
>
> [7] base
>
>
>
> other attached packages:
>
> [1] xtsExtra_0.0-1 quantmod_0.4-0 TTR_0.22-0     Defaults_1.1-1
>
> [5] xts_0.9-7      zoo_1.7-10
>
>
>
> loaded via a namespace (and not attached):
>
> [1] grid_3.0.2      lattice_0.20-23 tools_3.0.2
>
>
>
>> getSymbols("GS")
>
>> GS.Ad.xts = Ad(GS)
>> GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
>> periodicity(GS.Ad.quarterly.xts)
> Quarterly periodicity from 2007 Q1 to 2014 Q1
>> GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
>> periodicity(GS.Ad.quarterly.xts)
> Quarterly periodicity from 2007 Q1 to 2014 Q1
>> head(GS.Ad.quarterly.xts)
>         GS.Adjusted
> 2007 Q1       191.4
> 2007 Q2       201.1
> 2007 Q3       201.5
> 2007 Q4       200.2
> 2008 Q1       154.3
> 2008 Q2       163.4
> Warning message:
> timezone of object (UTC) is different than current timezone ().
>> class(index(GS.Ad.quarterly.xts))
> [1] "yearqtr"
>> # Error in axis format for time plot
>> plot(GS.Ad.quarterly.xts, lwd=2, col="blue")
>
>
>
> In the resulting plot, the format for the axis is not correct. Instead of
> showing the date as "Q1 2007", I see "%b 2007".
>
> Also, I notice a strange error related to timezones.
>
>
>
>> Sys.timezone()
> [1] "PST"
>
>
>
> Do I have to change my system timezone to UTC prior to downloading the data
> to get rid of this error?
>
<SNIP>

Hi Eric,
   I'm dealing with lots of timezone problems here that I don't
understand. However when I run your code I don't seem to see the same
problems. It would have been easier if you supplied just a code
snippet to run so please check what I culled from your message to the
list.

   From Stack Overflow I see Joshua saying that for daily data there
isn't a time zone. That only matters if your data has something
smaller like hours, etc. However I also see people having trouble if
there data crosses a Daylight Savings Time change ( I think ) so I'm
very confused at the moment.

   I am not finding the xtsExtra package on CRAN so I'll have to see
about R-Forge later.

   In my case, with my code, below all the data is tzone == "UTC" and
I don't get the error you get. I get a plot in blue with no borders or
axis or anything. There is a warning message.

   I have an example of the tzone getting messed up somewhere around
using Blotter but I'm trying to whittle it down enough to post a
question myself.

- Mark


library(quantmod)

sessionInfo()

getSymbols("GS")

GS.Ad.xts = Ad(GS)
GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
periodicity(GS.Ad.quarterly.xts)

GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
periodicity(GS.Ad.quarterly.xts)
class(index(GS.Ad.quarterly.xts))
plot(GS.Ad.quarterly.xts, lwd=2, col="blue")
Sys.timezone()


tzone(GS)
tzone(GS.Ad.xts)
tzone(GS.Ad.quarterly.xts)





> library(quantmod)
>
> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8 LC_NUMERIC=C         LC_TIME=C
LC_COLLATE=C
 [5] LC_MONETARY=C        LC_MESSAGES=C        LC_PAPER=C
LC_NAME=C
 [9] LC_ADDRESS=C         LC_TELEPHONE=C       LC_MEASUREMENT=C
LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] RMySQL_0.9-3               DBI_0.2-7
blotter_0.8.17
 [4] PerformanceAnalytics_1.1.0 FinancialInstrument_1.1.9
quantmod_0.4-1
 [7] TTR_0.22-0                 Defaults_1.1-1             xts_0.9-7
[10] zoo_1.7-10

loaded via a namespace (and not attached):
[1] grid_3.0.2      lattice_0.20-23 tools_3.0.2
>
> getSymbols("GS")
[1] "GS"
>
> GS.Ad.xts = Ad(GS)
> GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
> periodicity(GS.Ad.quarterly.xts)
Quarterly periodicity from 2007 Q1 to 2014 Q1
>
> GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
> periodicity(GS.Ad.quarterly.xts)
Quarterly periodicity from 2007 Q1 to 2014 Q1
> class(index(GS.Ad.quarterly.xts))
[1] "yearqtr"
> plot(GS.Ad.quarterly.xts, lwd=2, col="blue")
Error in axis(1, at = xycoords$x, labels = FALSE, col = "#BBBBBB", ...) :
  formal argument "col" matched by multiple actual arguments
> Sys.timezone()
[1] ""
> tzone(GS)
[1] "UTC"
> tzone(GS.Ad.xts)
[1] "UTC"
> tzone(GS.Ad.quarterly.xts)
[1] "UTC"


From michael.weylandt at gmail.com  Tue Jan  7 04:10:00 2014
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Mon, 6 Jan 2014 22:10:00 -0500
Subject: [R-SIG-Finance] Dates not formatting properly for quarterly
 time series in xtsExtra
In-Reply-To: <03c601cf0b3f$01f74060$05e5c120$@washington.edu>
References: <03c601cf0b3f$01f74060$05e5c120$@washington.edu>
Message-ID: <CAAmySGPcDEzQt4LcvPN-jS6YhBWZgFFzt3bQ4HCdFMe0ukXN9w@mail.gmail.com>

On Mon, Jan 6, 2014 at 7:25 PM, Eric Zivot <ezivot at u.washington.edu> wrote:
> I have been working on some examples of plotting time series for my new book
> Modeling Financial Time Series with R and I noticed something funny with
> plot.xts() from the R package xtsExtra when trying to plot quarterly time
> series created from the xts function to.quarterly. Here is an example:
>
>> sessionInfo()
>
> R version 3.0.2 (2013-09-25)
>
> Platform: x86_64-w64-mingw32/x64 (64-bit)
>
>> getSymbols("GS")
>
>> GS.Ad.xts = Ad(GS)
>> GS.Ad.quarterly.xts = to.quarterly(GS.Ad.xts, OHLC=FALSE)
>> periodicity(GS.Ad.quarterly.xts)
> Quarterly periodicity from 2007 Q1 to 2014 Q1
>> # Error in axis format for time plot
>> plot(GS.Ad.quarterly.xts, lwd=2, col="blue")
>
> In the resulting plot, the format for the axis is not correct. Instead of
> showing the date as "Q1 2007", I see "%b 2007".

Hi Professor,

Thanks for the great bug report. Very easy to track down exactly what happened.

The issue is in xts, not xtsExtra: specifically, the axTicksByTime() function.

> axTicksByTime(GS.Ad.quarterly.xts)[1:5]
%n%b%n2007 %n%b%n2007 %n%b%n2007 %n%b%n2007 %n%b%n2008
         1          2          3          4          5

(I'm on a Unix system, hence the extra %n symbols)

Looking at the source of axTicksByTime, one sees that the default
formatting is "%b %Y" but that weekly, daily, minutely [1], hourly,
secondly [1] periodicities are special-cased.

Unfortunately, the "yearqtr" index object doesn't have anything which
can be formatted at %b (month name in English in ?strptime), so the %b
remains, giving the ugly axes you see.

Adding this line to the source of axTicksByTime (say around L40) should fix it:

if(time.scale == "quarterly") fmt <- "%Y-Q%q"

I've pushed a commit to r-forge which adds this to a copy of
axTicksByTime in xtsExtra which should fix it temporarily [r800]. I'll
speak to Josh about putting in xts-proper.

Hope it helps,
Michael

[1] Neither of those actually seem like the right word.

>
> Also, I notice a strange error related to timezones.
>
I think this is just a warning (at least on my system): shouldn't be a
problem if you're on daily-or-lower data.

>
>
>> Sys.timezone()
> [1] "PST"
>
>
>
> Do I have to change my system timezone to UTC prior to downloading the data
> to get rid of this error?
>
> Thanks for any help.
>


From markknecht at gmail.com  Tue Jan  7 17:00:41 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 7 Jan 2014 08:00:41 -0800
Subject: [R-SIG-Finance] RMySQL returning too much data?
Message-ID: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>

Using the code attached it appears to me that RMySQL is not paying
attention to the from=/to= date ranges the way getSymbols does when
going to Yahoo. WIth Yahoo I get the range I requested. With MySQL I
seem to get whatever range I have stored in the MySQL database.

When I run with UseMySQL = FALSE I get these results:

> index(tempSPY)[1]
[1] "2010-01-04"
> index(tempSPY)[nrow(tempSPY)]
[1] "2011-12-30"
> index(tempAGG)[1]
[1] "2010-01-04"
> index(tempAGG)[nrow(tempAGG)]
[1] "2011-12-30"
>
> tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
> tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)
>
> index(tempSPY)[1]
[1] "2010-01-04"
> index(tempAGG)[1]
[1] "2010-01-04"

>


When I run with UseMySQL = TRUE I get these results:

> index(tempSPY)[1]
[1] "2000-01-03"
> index(tempSPY)[nrow(tempSPY)]
[1] "2014-01-06"
> index(tempAGG)[1]
[1] "2003-09-29"
> index(tempAGG)[nrow(tempAGG)]
[1] "2014-01-06"
>
> tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
> tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)
>
> index(tempSPY)[1]
[1] "2010-01-04"
> index(tempAGG)[1]
[1] "2010-01-04"

>


I wonder if this is a bug in RMySQL or have I possibly stored my dates
or something else incorrectly in MySQL and somehow that's getting past
whatever range checking RMySQL expects to do? Here's what the end of
the data looks like for SPY taken from a terminal:

| 2013-12-24 | 182.54 | 183.01 | 182.53 | 182.93 |     45368800 | 182.93 |
| 2013-12-26 | 183.34 | 183.96 | 183.32 | 183.86 |     63365000 | 183.86 |
| 2013-12-27 |  184.1 | 184.18 | 183.66 | 183.85 |     61814000 | 183.85 |
| 2013-12-30 | 183.87 | 184.02 | 183.58 | 183.82 |     56817500 | 183.82 |
| 2013-12-31 | 184.07 | 184.69 | 183.93 | 184.69 |     86119900 | 184.69 |
| 2014-01-02 | 183.98 | 184.07 | 182.48 | 182.92 |    119364600 | 182.92 |
| 2014-01-03 | 183.23 |  183.6 | 182.63 | 182.89 |     81330600 | 182.89 |
| 2014-01-06 | 183.49 | 183.56 | 182.08 | 182.36 |    106828500 | 182.36 |
+------------+--------+--------+--------+--------+--------------+--------+
3524 rows in set (0.02 sec)

In MySQL Workbench I see this info on the table for SPY:

Table: SPY
Columns:
Date date
o double
h double
l double
c double
v double
a double


Thanks in advance,
Mark




library(blotter)
library(quantmod)
library(RMySQL)

Date_Start = "2010-01-01"
#Date_End = format(Sys.time(), "%Y-%m-%d")
Date_End = "2012-01-01"
SymbolSrc = "yahoo"
UseMySQL = FALSE
dbName = "Daily"
MyAdjust = TRUE
currency("USD")
InitialEquity = 100000

SymbolList = c("SPY","AGG")
NumSymbols = length(SymbolList)

if (UseMySQL){
  if (MyAdjust) { dbName = paste0(dbName, "Adjust")}
  dbc = dbConnect(MySQL(), dbname=dbName)
  setDefaults(getSymbols.MySQL, user="XXXX", password="YYYY", dbname=dbName)
}

if (!UseMySQL){
  for (i in 1:NumSymbols){
    print(paste("From ",SymbolSrc," -- ",SymbolList[i]))
    getSymbols(SymbolList[i], from = Date_Start, to = Date_End, adjust
= MyAdjust, src=SymbolSrc)
  }
} else {
  for (i in 1:NumSymbols){
    print(paste("From MySQL -- ",SymbolList[i]))
    getSymbols(SymbolList[i], from = Date_Start, to = Date_End, src="MySQL")
  }
}

tempSPY =get("SPY")
tempAGG =get("AGG")

index(tempSPY)[1]
index(tempSPY)[nrow(tempSPY)]
index(tempAGG)[1]
index(tempAGG)[nrow(tempAGG)]

tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)

index(tempSPY)[1]
index(tempAGG)[1]


From josh.m.ulrich at gmail.com  Tue Jan  7 18:16:36 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 7 Jan 2014 11:16:36 -0600
Subject: [R-SIG-Finance] RMySQL returning too much data?
In-Reply-To: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>
References: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>
Message-ID: <CAPPM_gTdoDTy1AQGK0TAG83LfzOOypE6UbkAQG5_6wyOmrLUNA@mail.gmail.com>

Hi Mark,

On Tue, Jan 7, 2014 at 10:00 AM, Mark Knecht <markknecht at gmail.com> wrote:
> Using the code attached it appears to me that RMySQL is not paying
> attention to the from=/to= date ranges the way getSymbols does when
> going to Yahoo. WIth Yahoo I get the range I requested. With MySQL I
> seem to get whatever range I have stored in the MySQL database.
>
getSymbols.MySQL doesn't have from or to args.

> args(getSymbols.MySQL)
function (Symbols, env, return.class = "xts", db.fields = c("date",
    "o", "h", "l", "c", "v", "a"), field.names = NULL, user = NULL,
    password = NULL, dbname = NULL, host = "localhost", port = 3306,
    ...)

While they could potentially be added; it's probably more trouble than
it's worth in this case, since your data aren't that large and you can
subset after the getSymbols call returns:
foo[paste0(Date_Start,"/",Date_end)].

> When I run with UseMySQL = FALSE I get these results:
>
>> index(tempSPY)[1]
> [1] "2010-01-04"
>> index(tempSPY)[nrow(tempSPY)]
> [1] "2011-12-30"
>> index(tempAGG)[1]
> [1] "2010-01-04"
>> index(tempAGG)[nrow(tempAGG)]
> [1] "2011-12-30"
>>
>> tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
>> tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)
>>
>> index(tempSPY)[1]
> [1] "2010-01-04"
>> index(tempAGG)[1]
> [1] "2010-01-04"
>
>>
>
>
> When I run with UseMySQL = TRUE I get these results:
>
>> index(tempSPY)[1]
> [1] "2000-01-03"
>> index(tempSPY)[nrow(tempSPY)]
> [1] "2014-01-06"
>> index(tempAGG)[1]
> [1] "2003-09-29"
>> index(tempAGG)[nrow(tempAGG)]
> [1] "2014-01-06"
>>
>> tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
>> tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)
>>
>> index(tempSPY)[1]
> [1] "2010-01-04"
>> index(tempAGG)[1]
> [1] "2010-01-04"
>
>>
>
>
> I wonder if this is a bug in RMySQL or have I possibly stored my dates
> or something else incorrectly in MySQL and somehow that's getting past
> whatever range checking RMySQL expects to do? Here's what the end of
> the data looks like for SPY taken from a terminal:
>
> | 2013-12-24 | 182.54 | 183.01 | 182.53 | 182.93 |     45368800 | 182.93 |
> | 2013-12-26 | 183.34 | 183.96 | 183.32 | 183.86 |     63365000 | 183.86 |
> | 2013-12-27 |  184.1 | 184.18 | 183.66 | 183.85 |     61814000 | 183.85 |
> | 2013-12-30 | 183.87 | 184.02 | 183.58 | 183.82 |     56817500 | 183.82 |
> | 2013-12-31 | 184.07 | 184.69 | 183.93 | 184.69 |     86119900 | 184.69 |
> | 2014-01-02 | 183.98 | 184.07 | 182.48 | 182.92 |    119364600 | 182.92 |
> | 2014-01-03 | 183.23 |  183.6 | 182.63 | 182.89 |     81330600 | 182.89 |
> | 2014-01-06 | 183.49 | 183.56 | 182.08 | 182.36 |    106828500 | 182.36 |
> +------------+--------+--------+--------+--------+--------------+--------+
> 3524 rows in set (0.02 sec)
>
> In MySQL Workbench I see this info on the table for SPY:
>
> Table: SPY
> Columns:
> Date date
> o double
> h double
> l double
> c double
> v double
> a double
>
>
> Thanks in advance,
> Mark
>
>
>
>
> library(blotter)
> library(quantmod)
> library(RMySQL)
>
> Date_Start = "2010-01-01"
> #Date_End = format(Sys.time(), "%Y-%m-%d")
> Date_End = "2012-01-01"
> SymbolSrc = "yahoo"
> UseMySQL = FALSE
> dbName = "Daily"
> MyAdjust = TRUE
> currency("USD")
> InitialEquity = 100000
>
> SymbolList = c("SPY","AGG")
> NumSymbols = length(SymbolList)
>
> if (UseMySQL){
>   if (MyAdjust) { dbName = paste0(dbName, "Adjust")}
>   dbc = dbConnect(MySQL(), dbname=dbName)
>   setDefaults(getSymbols.MySQL, user="XXXX", password="YYYY", dbname=dbName)
> }
>
> if (!UseMySQL){
>   for (i in 1:NumSymbols){
>     print(paste("From ",SymbolSrc," -- ",SymbolList[i]))
>     getSymbols(SymbolList[i], from = Date_Start, to = Date_End, adjust
> = MyAdjust, src=SymbolSrc)
>   }
> } else {
>   for (i in 1:NumSymbols){
>     print(paste("From MySQL -- ",SymbolList[i]))
>     getSymbols(SymbolList[i], from = Date_Start, to = Date_End, src="MySQL")
>   }
> }
>
> tempSPY =get("SPY")
> tempAGG =get("AGG")
>
> index(tempSPY)[1]
> index(tempSPY)[nrow(tempSPY)]
> index(tempAGG)[1]
> index(tempAGG)[nrow(tempAGG)]
>
> tempSPY = subset(tempSPY, index(tempSPY)>= Date_Start)
> tempAGG = subset(tempAGG, index(tempAGG)>= Date_Start)
>
> index(tempSPY)[1]
> index(tempAGG)[1]
>

--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From markknecht at gmail.com  Tue Jan  7 18:32:42 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 7 Jan 2014 09:32:42 -0800
Subject: [R-SIG-Finance] RMySQL returning too much data?
In-Reply-To: <CAPPM_gTdoDTy1AQGK0TAG83LfzOOypE6UbkAQG5_6wyOmrLUNA@mail.gmail.com>
References: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>
	<CAPPM_gTdoDTy1AQGK0TAG83LfzOOypE6UbkAQG5_6wyOmrLUNA@mail.gmail.com>
Message-ID: <CAK2H+edKnMZE9KK4Yi53FZ+NnN7DxBRXEegpkHTRRE=TzqaEFg@mail.gmail.com>

On Tue, Jan 7, 2014 at 9:16 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> Hi Mark,
>
> On Tue, Jan 7, 2014 at 10:00 AM, Mark Knecht <markknecht at gmail.com> wrote:
>> Using the code attached it appears to me that RMySQL is not paying
>> attention to the from=/to= date ranges the way getSymbols does when
>> going to Yahoo. WIth Yahoo I get the range I requested. With MySQL I
>> seem to get whatever range I have stored in the MySQL database.
>>
> getSymbols.MySQL doesn't have from or to args.
>
>> args(getSymbols.MySQL)
> function (Symbols, env, return.class = "xts", db.fields = c("date",
>     "o", "h", "l", "c", "v", "a"), field.names = NULL, user = NULL,
>     password = NULL, dbname = NULL, host = "localhost", port = 3306,
>     ...)
>
> While they could potentially be added; it's probably more trouble than
> it's worth in this case, since your data aren't that large and you can
> subset after the getSymbols call returns:
> foo[paste0(Date_Start,"/",Date_end)].
>
<SNIP>
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com

Joshua,
   Thanks very much for the speedy analysis & reply. subsetting the
data is fine in this case and likely to be fine for me for a long time
even if the data is larger.

   It hadn't occurred to me that an input to getSymbols would be
passed to src=yahoo but not to src=MySQL but that's fine now that I
know. It does seem a bit non-intuitive from a design & documentation
POV but I'm happy that it's not a bug. Spend your time designing new,
great stuff and don't mess with this until/unless one day you think it
warrants the time.

Cheers,
Mark


From josh.m.ulrich at gmail.com  Tue Jan  7 18:34:40 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 7 Jan 2014 11:34:40 -0600
Subject: [R-SIG-Finance] RMySQL returning too much data?
In-Reply-To: <CAK2H+edKnMZE9KK4Yi53FZ+NnN7DxBRXEegpkHTRRE=TzqaEFg@mail.gmail.com>
References: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>
	<CAPPM_gTdoDTy1AQGK0TAG83LfzOOypE6UbkAQG5_6wyOmrLUNA@mail.gmail.com>
	<CAK2H+edKnMZE9KK4Yi53FZ+NnN7DxBRXEegpkHTRRE=TzqaEFg@mail.gmail.com>
Message-ID: <CAPPM_gQuudATSeBCyo4+7jHtET0AZveWFBTt6T2uWahF=9sLFA@mail.gmail.com>

On Tue, Jan 7, 2014 at 11:32 AM, Mark Knecht <markknecht at gmail.com> wrote:
> On Tue, Jan 7, 2014 at 9:16 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>> Hi Mark,
>>
>> On Tue, Jan 7, 2014 at 10:00 AM, Mark Knecht <markknecht at gmail.com> wrote:
>>> Using the code attached it appears to me that RMySQL is not paying
>>> attention to the from=/to= date ranges the way getSymbols does when
>>> going to Yahoo. WIth Yahoo I get the range I requested. With MySQL I
>>> seem to get whatever range I have stored in the MySQL database.
>>>
>> getSymbols.MySQL doesn't have from or to args.
>>
>>> args(getSymbols.MySQL)
>> function (Symbols, env, return.class = "xts", db.fields = c("date",
>>     "o", "h", "l", "c", "v", "a"), field.names = NULL, user = NULL,
>>     password = NULL, dbname = NULL, host = "localhost", port = 3306,
>>     ...)
>>
>> While they could potentially be added; it's probably more trouble than
>> it's worth in this case, since your data aren't that large and you can
>> subset after the getSymbols call returns:
>> foo[paste0(Date_Start,"/",Date_end)].
>>
> <SNIP>
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>
> Joshua,
>    Thanks very much for the speedy analysis & reply. subsetting the
> data is fine in this case and likely to be fine for me for a long time
> even if the data is larger.
>
>    It hadn't occurred to me that an input to getSymbols would be
> passed to src=yahoo but not to src=MySQL but that's fine now that I
> know. It does seem a bit non-intuitive from a design & documentation
> POV but I'm happy that it's not a bug. Spend your time designing new,
> great stuff and don't mess with this until/unless one day you think it
> warrants the time.
>
Yes, I can see how that's confusing.  The design is difficult to
change at this point, but documentation is easily updated.  I'd
appreciate any patches you think would help make the documentation
clearer in this regard.

> Cheers,
> Mark


From markknecht at gmail.com  Tue Jan  7 19:42:32 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 7 Jan 2014 10:42:32 -0800
Subject: [R-SIG-Finance] RMySQL returning too much data?
In-Reply-To: <CAPPM_gQuudATSeBCyo4+7jHtET0AZveWFBTt6T2uWahF=9sLFA@mail.gmail.com>
References: <CAK2H+ef_G6Gd9w7REAWyOy_sUM+5C0Zj_MAe7czWTZ5d=jp-_A@mail.gmail.com>
	<CAPPM_gTdoDTy1AQGK0TAG83LfzOOypE6UbkAQG5_6wyOmrLUNA@mail.gmail.com>
	<CAK2H+edKnMZE9KK4Yi53FZ+NnN7DxBRXEegpkHTRRE=TzqaEFg@mail.gmail.com>
	<CAPPM_gQuudATSeBCyo4+7jHtET0AZveWFBTt6T2uWahF=9sLFA@mail.gmail.com>
Message-ID: <CAK2H+ed7o2mRSFPa8bN1aMUUB-Fp6BhHwkSutqzUJx_arx07yA@mail.gmail.com>

On Tue, Jan 7, 2014 at 9:34 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
<SNIP>
>>    It hadn't occurred to me that an input to getSymbols would be
>> passed to src=yahoo but not to src=MySQL but that's fine now that I
>> know. It does seem a bit non-intuitive from a design & documentation
>> POV but I'm happy that it's not a bug. Spend your time designing new,
>> great stuff and don't mess with this until/unless one day you think it
>> warrants the time.
>>
> Yes, I can see how that's confusing.  The design is difficult to
> change at this point, but documentation is easily updated.  I'd
> appreciate any patches you think would help make the documentation
> clearer in this regard.


I'll give some thought to what ?getSymbols might say. Looking quickly
though the list of sources it seems like about half of them support
to/from and the other half don't. Based on that I probably wouldn't
say much more than "Be careful about assuming what getSymbol
parameters are passed to the actual code that talks to your data
source" but of course worded better.

Subsetting the data was easy but as I'd never used the assign function
before I had to do fix(getSymbols.MYSQL) and see what was going on in
there and then change my code to look like what follows. Now all the
data starts and ends as per DataStart/DataEnd.

I'll have to have 2 date ranges now - one for data and one for when I
actually trade, but that's OK as it supports future things like
walk-forward analysis, etc.

Thanks for all the help!

Cheers,
Mark

if (DownloadNewData){
  if (!UseMySQL){
    for (i in 1:length(SymbolList)){
      print(paste("From ",SymbolSrc," -- ",SymbolList[i]))
      getSymbolsCont(SymbolList[i], from = DataStart, to = DataEnd,
adjust = MyAdjust, src=SymbolSrc)
    }
  } else {
    for (i in 1:length(SymbolList)){
      print(paste("From MySQL: ",SymbolList[i]))
      getSymbols(SymbolList[i], src="MySQL")
      #NOTE: getSymbols.MYSQL doesn't support to/from so we subset the data
      assign(SymbolList[i], get(SymbolList[i])[paste0(DataStart,"/",DataEnd)])
    }
    #Close connection to MySQL
    dbDisconnect(dbc)
  }
}


From josh.m.ulrich at gmail.com  Mon Jan 13 19:12:56 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 13 Jan 2014 12:12:56 -0600
Subject: [R-SIG-Finance] R/Finance 2014 Call for Papers
In-Reply-To: <525D30EB.3000706@braverock.com>
References: <525D30EB.3000706@braverock.com>
Message-ID: <CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>

A friendly reminder that the submission deadline (Jan-31) is a little
less than 3 weeks away!

On behalf of the committee,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Tue, Oct 15, 2013 at 7:11 AM, Brian G. Peterson <brian at braverock.com> wrote:
>
> Call for Papers:
>
> R/Finance 2014: Applied Finance with R
> May 16 and 17, 2014
> University of Illinois at Chicago
>
> The sixth annual R/Finance conference for applied finance using R will
> be held on May 16 and 17, 2014 in Chicago, IL, USA at the University
> of Illinois at Chicago.  The conference will cover topics including
> portfolio management, time series analysis, advanced risk tools,
> high-performance computing, market microstructure, and econometrics.
> All will be discussed within the context of using R as a primary tool
> for financial risk management, portfolio construction, and trading.
>
> Over the past five years, R/Finance has included attendees from around
> the world. It has featured presentations from prominent academics and
> practitioners, and we anticipate another exciting line-up for 2014.
>
> We invite you to submit complete papers in pdf format for
> consideration. We will also consider one-page abstracts (in txt or pdf
> format), although more complete papers are preferred.  We welcome
> submissions for both full talks and abbreviated "lightning talks".
> Both academic and practitioner proposals related to R are encouraged.
>
> Presenters are strongly encouraged to provide working R code to
> accompany the presentation/paper.  Data sets should also be made
> public for the purposes of reproducibility (though we realize this may
> be limited due to contracts with data vendors). Preference may be
> given to presenters who have released R packages.
>
> The conference will award two (or more) $1000 prizes for best papers.
> A submission must be a full paper to be eligible for a best paper
> award. Extended abstracts, even if a full paper is provided by
> conference time, are not eligible for a best paper award.  Financial
> assistance for travel and accommodation may be available to presenters
> at the discretion of the conference committee. Requests for assistance
> should be made at the time of submission.
>
> Please submit your papers or abstracts online at: http://goo.gl/OmKnu7
> The submission deadline is January 31, 2014. Submitters will be
> notified of acceptance, whether a presentation will be a long
> presentation or a lightning talk, and a decision on any requested
> funding will be made via email by February 28, 2014.
>
> Additional details will be announced via the conference website
> http://www.RinFinance.com/ as they become available. Information on
> previous years' presenters and their presentations are also at the
> conference website.
>
> For the program committee:
> Gib Bassett, Peter Carl, Dirk Eddelbuettel,
> Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich


From oleg.mubarakshin at gmail.com  Mon Jan 13 20:16:51 2014
From: oleg.mubarakshin at gmail.com (Oleg Mubarakshin)
Date: Mon, 13 Jan 2014 23:16:51 +0400
Subject: [R-SIG-Finance] R/Finance 2014 Call for Papers
In-Reply-To: <CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>
References: <525D30EB.3000706@braverock.com>
	<CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>
Message-ID: <5C33FA33DC944B1CA58E4308F120122C@OLEHP>

I use R for FX options market-making and trading on the Moscow Exchange 
(Russia).
Can I present my framework (it is not a package, just code with my own 
functions) under this event?

I developed a method for the Delta and the P&L profiles accurate estimation 
(unlike the common BSM method). Maybe my research in this area will be of 
interest to participants of the conference.

Oleg Mubarakshin
quant-lab.com

-----???????? ?????????----- 
From: Joshua Ulrich
Sent: Monday, January 13, 2014 10:12 PM
To: Brian G. Peterson
Cc: R-SIG-Finance
Subject: Re: [R-SIG-Finance] R/Finance 2014 Call for Papers

A friendly reminder that the submission deadline (Jan-31) is a little
less than 3 weeks away!

On behalf of the committee,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Tue, Oct 15, 2013 at 7:11 AM, Brian G. Peterson <brian at braverock.com> 
wrote:
>
> Call for Papers:
>
> R/Finance 2014: Applied Finance with R
> May 16 and 17, 2014
> University of Illinois at Chicago
>
> The sixth annual R/Finance conference for applied finance using R will
> be held on May 16 and 17, 2014 in Chicago, IL, USA at the University
> of Illinois at Chicago.  The conference will cover topics including
> portfolio management, time series analysis, advanced risk tools,
> high-performance computing, market microstructure, and econometrics.
> All will be discussed within the context of using R as a primary tool
> for financial risk management, portfolio construction, and trading.
>
> Over the past five years, R/Finance has included attendees from around
> the world. It has featured presentations from prominent academics and
> practitioners, and we anticipate another exciting line-up for 2014.
>
> We invite you to submit complete papers in pdf format for
> consideration. We will also consider one-page abstracts (in txt or pdf
> format), although more complete papers are preferred.  We welcome
> submissions for both full talks and abbreviated "lightning talks".
> Both academic and practitioner proposals related to R are encouraged.
>
> Presenters are strongly encouraged to provide working R code to
> accompany the presentation/paper.  Data sets should also be made
> public for the purposes of reproducibility (though we realize this may
> be limited due to contracts with data vendors). Preference may be
> given to presenters who have released R packages.
>
> The conference will award two (or more) $1000 prizes for best papers.
> A submission must be a full paper to be eligible for a best paper
> award. Extended abstracts, even if a full paper is provided by
> conference time, are not eligible for a best paper award.  Financial
> assistance for travel and accommodation may be available to presenters
> at the discretion of the conference committee. Requests for assistance
> should be made at the time of submission.
>
> Please submit your papers or abstracts online at: http://goo.gl/OmKnu7
> The submission deadline is January 31, 2014. Submitters will be
> notified of acceptance, whether a presentation will be a long
> presentation or a lightning talk, and a decision on any requested
> funding will be made via email by February 28, 2014.
>
> Additional details will be announced via the conference website
> http://www.RinFinance.com/ as they become available. Information on
> previous years' presenters and their presentations are also at the
> conference website.
>
> For the program committee:
> Gib Bassett, Peter Carl, Dirk Eddelbuettel,
> Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions 
should go.


From brian at braverock.com  Mon Jan 13 23:57:18 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 13 Jan 2014 16:57:18 -0600
Subject: [R-SIG-Finance] R/Finance 2014 Call for Papers
In-Reply-To: <5C33FA33DC944B1CA58E4308F120122C@OLEHP>
References: <525D30EB.3000706@braverock.com>
	<CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>
	<5C33FA33DC944B1CA58E4308F120122C@OLEHP>
Message-ID: <52D46F4E.5060701@braverock.com>

On 01/13/2014 01:16 PM, Oleg Mubarakshin wrote:
> I use R for FX options market-making and trading on the Moscow Exchange
> (Russia).
> Can I present my framework (it is not a package, just code with my own
> functions) under this event?
>
> I developed a method for the Delta and the P&L profiles accurate
> estimation (unlike the common BSM method). Maybe my research in this
> area will be of interest to participants of the conference.
>
> Oleg Mubarakshin
> quant-lab.com

Oleg,

You are certainly encouraged to submit an abstract for consideration.

It always helps if the code is available somewhere, github, R-Forge, 
rforge, whatever, so that the community can benefit from (the 
non-proprietary parts of) your framework.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ivan.popivanov at gmail.com  Tue Jan 14 02:15:13 2014
From: ivan.popivanov at gmail.com (Ivan Popivanov)
Date: Mon, 13 Jan 2014 20:15:13 -0500
Subject: [R-SIG-Finance] Bug in ruleOrderProc - txnfees is not a numeric?
Message-ID: <CAK7-yAh8Yh3oHANcvyyp3R1dwbRY-904b8rkF=FG4T3rkVpbHQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140113/c70ae5b5/attachment.pl>

From brian at braverock.com  Tue Jan 14 15:26:28 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 14 Jan 2014 08:26:28 -0600
Subject: [R-SIG-Finance] Bug in ruleOrderProc - txnfees is not a numeric?
In-Reply-To: <CAK7-yAh8Yh3oHANcvyyp3R1dwbRY-904b8rkF=FG4T3rkVpbHQ@mail.gmail.com>
References: <CAK7-yAh8Yh3oHANcvyyp3R1dwbRY-904b8rkF=FG4T3rkVpbHQ@mail.gmail.com>
Message-ID: <52D54914.4040609@braverock.com>

You don't actually include how you're calculating txnfees, and your 
example is not reproducible, so I'm forced to guess.

try

  return(as.numeric(res))

in your function.

As noted in the documentation, txnFees can be a string name of a 
function, so forcing it to as.numeric is a really bad idea.

I'll also note that you don't need to call updatePortf every time. 
That's extremely expensive by comparison to just adding up the realized 
P&L (from closed transaction) and Unrealized P&L (from your open 
position) yourself.  You should also be aware that this approach (or 
yours) will only capture equity changes in a single instrument (since 
instruments are processed one at a time).

Most literature on evaluating trading strategies (see e.g. Aronson or 
Tomasini and Jaekle) tends to do system design on fixed trade sizes 
because it is much easier to evaluate whether or not your system really 
has any edge, or is just participating in market drift.  I tend to 
separate the order sizing decisions till very late in the strategy 
development process.

Regards,

Brian

On 01/13/2014 07:15 PM, Ivan Popivanov wrote:
> It only happens when I use a custom function to compute the position size,
> but it won't happen with a constant size. So it may have something to do
> with the splitting of orders. My function uses all available equity
> rounding up - it's at the end. I get the following error:
>
> Error in `/.default`(TxnFees, abs(TxnQty)) :
>    non-numeric argument to binary operator
>
> It seems that the fault is in ruleOrderProc, the caller of addTxn,
> whereabouts txnfees is indeed an xts object. To me the fix is to pass
> as.numeric(txnfees) to addTxn.
>
> Regards,
> Ivan
>
> PS: Is my osAllEquity a good way to implement the compounding growth or is
> there a better alternative? I think it's worth having an example to
> illustrate this functionality.
>
> osAllEquity = function(
>        timestamp,
>        orderqty,
>        portfolio.name,
>        symbol,
>        ...)
> {
>     verbose = TRUE
>     # verbose = FALSE
>
>     if(verbose) cat("\n=====")
>     if(verbose) cat(paste( "\n", timestamp, sep=""))
>
>     if(verbose) cat(paste( "\n   orderqty=", orderqty, sep=""))
>     portfolio = updatePortf(Portfolio=portfolio.name, Dates=paste('::',
> as.Date(timestamp), sep=''))
>     # end.eq = getEndEq(portfolio.name, as.Date(timestamp))
>     # print( end.eq )
>     pnl = sum(getPortfolio(portfolio.name)$summary$Net.Trading.PL)
>     end.eq = initEq + pnl
>     if(verbose) cat(paste( "\n   pnl=", pnl, sep=""))
>     if(verbose) cat(paste( "\n   equity=", end.eq, sep=""))
>     close.price = as.numeric(Cl(mktdata[timestamp,]))
>     if(verbose) cat(paste("\n   close price=", close.price, sep=""))
>     res = as.numeric( ceiling( end.eq / close.price ) ) * sign( orderqty )
>     if(verbose) cat(paste("\n   qty=", res, sep=""))
>     if(verbose) cat("\n=====\n")
>     # return(sign(orderqty*1000))
>     # res = 1000*sign(orderqty)
>     return(res)
> }
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ivan.popivanov at gmail.com  Tue Jan 14 16:28:23 2014
From: ivan.popivanov at gmail.com (Ivan Popivanov)
Date: Tue, 14 Jan 2014 10:28:23 -0500
Subject: [R-SIG-Finance] Bug in ruleOrderProc - txnfees is not a numeric?
In-Reply-To: <52D54914.4040609@braverock.com>
References: <CAK7-yAh8Yh3oHANcvyyp3R1dwbRY-904b8rkF=FG4T3rkVpbHQ@mail.gmail.com>
	<52D54914.4040609@braverock.com>
Message-ID: <CAK7-yAiZRM=3Ss2_3RrHZ1BA-EJdTSxO+8kYywOaE-JZ3zaTcA@mail.gmail.com>

Hi Brian,

return(as.numeric(res)) - same thing, I tried it before posting here. There
is no problem if I use return(100*sign(orderqty)), which indicates the path
dependency I was trying to imply. The problem doesn't seem to occur for
long only positions - it gotta be switching. I believe, the problem is
outside os.all.equity. Notice, it has a lot of debug output and it clearly
indicates that the function returns, and returns a numeric before the
problem is hit. For me it's easy to repro it (although it takes longer)
with the attached script (it needs some adjustments). The problem is hit
for 2001-04-08. I don't touch txnFees anywhere in my code, so I have no
control over this behaviour - it needs to be type casted somewhere - from
what you are saying - taking the type into account.

Thanks for the comments about the testing.

Can you point me to code which computes the portfolio size as you suggested?

>From my experience, it's often needed to be able to show the strategy
performance over years, with all the system on. That's an area quanstrat
lacks - both in terms of examples and testing (I am pretty sure this is a
regression since the last time I looked at it).

Thanks,
Ivan




On Tue, Jan 14, 2014 at 9:26 AM, Brian G. Peterson <brian at braverock.com>wrote:

> You don't actually include how you're calculating txnfees, and your
> example is not reproducible, so I'm forced to guess.
>
> try
>
>  return(as.numeric(res))
>
> in your function.
>
> As noted in the documentation, txnFees can be a string name of a function,
> so forcing it to as.numeric is a really bad idea.
>
> I'll also note that you don't need to call updatePortf every time. That's
> extremely expensive by comparison to just adding up the realized P&L (from
> closed transaction) and Unrealized P&L (from your open position) yourself.
>  You should also be aware that this approach (or yours) will only capture
> equity changes in a single instrument (since instruments are processed one
> at a time).
>
> Most literature on evaluating trading strategies (see e.g. Aronson or
> Tomasini and Jaekle) tends to do system design on fixed trade sizes because
> it is much easier to evaluate whether or not your system really has any
> edge, or is just participating in market drift.  I tend to separate the
> order sizing decisions till very late in the strategy development process.
>
> Regards,
>
> Brian
>
>
> On 01/13/2014 07:15 PM, Ivan Popivanov wrote:
>
>> It only happens when I use a custom function to compute the position size,
>> but it won't happen with a constant size. So it may have something to do
>> with the splitting of orders. My function uses all available equity
>> rounding up - it's at the end. I get the following error:
>>
>> Error in `/.default`(TxnFees, abs(TxnQty)) :
>>    non-numeric argument to binary operator
>>
>> It seems that the fault is in ruleOrderProc, the caller of addTxn,
>> whereabouts txnfees is indeed an xts object. To me the fix is to pass
>> as.numeric(txnfees) to addTxn.
>>
>> Regards,
>> Ivan
>>
>> PS: Is my osAllEquity a good way to implement the compounding growth or is
>> there a better alternative? I think it's worth having an example to
>> illustrate this functionality.
>>
>> osAllEquity = function(
>>        timestamp,
>>        orderqty,
>>        portfolio.name,
>>        symbol,
>>        ...)
>> {
>>     verbose = TRUE
>>     # verbose = FALSE
>>
>>     if(verbose) cat("\n=====")
>>     if(verbose) cat(paste( "\n", timestamp, sep=""))
>>
>>     if(verbose) cat(paste( "\n   orderqty=", orderqty, sep=""))
>>     portfolio = updatePortf(Portfolio=portfolio.name, Dates=paste('::',
>> as.Date(timestamp), sep=''))
>>     # end.eq = getEndEq(portfolio.name, as.Date(timestamp))
>>     # print( end.eq )
>>     pnl = sum(getPortfolio(portfolio.name)$summary$Net.Trading.PL)
>>     end.eq = initEq + pnl
>>     if(verbose) cat(paste( "\n   pnl=", pnl, sep=""))
>>     if(verbose) cat(paste( "\n   equity=", end.eq, sep=""))
>>     close.price = as.numeric(Cl(mktdata[timestamp,]))
>>     if(verbose) cat(paste("\n   close price=", close.price, sep=""))
>>     res = as.numeric( ceiling( end.eq / close.price ) ) * sign( orderqty )
>>     if(verbose) cat(paste("\n   qty=", res, sep=""))
>>     if(verbose) cat("\n=====\n")
>>     # return(sign(orderqty*1000))
>>     # res = 1000*sign(orderqty)
>>     return(res)
>> }
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140114/92e6477e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qs.sma.r
Type: text/x-r-source
Size: 4495 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140114/92e6477e/attachment.bin>

From brian at braverock.com  Tue Jan 14 16:45:02 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 14 Jan 2014 09:45:02 -0600
Subject: [R-SIG-Finance] Bug in ruleOrderProc - txnfees is not a numeric?
In-Reply-To: <CAK7-yAiZRM=3Ss2_3RrHZ1BA-EJdTSxO+8kYywOaE-JZ3zaTcA@mail.gmail.com>
References: <CAK7-yAh8Yh3oHANcvyyp3R1dwbRY-904b8rkF=FG4T3rkVpbHQ@mail.gmail.com>	<52D54914.4040609@braverock.com>
	<CAK7-yAiZRM=3Ss2_3RrHZ1BA-EJdTSxO+8kYywOaE-JZ3zaTcA@mail.gmail.com>
Message-ID: <52D55B7E.6030409@braverock.com>

Ivan,

Thanks for the reproducible example.  We'll investigate.

Brian

On 01/14/2014 09:28 AM, Ivan Popivanov wrote:
> Hi Brian,
>
> return(as.numeric(res)) - same thing, I tried it before posting here.
> There is no problem if I use return(100*sign(orderqty)), which indicates
> the path dependency I was trying to imply. The problem doesn't seem to
> occur for long only positions - it gotta be switching. I believe, the
> problem is outside os.all.equity. Notice, it has a lot of debug output
> and it clearly indicates that the function returns, and returns a
> numeric before the problem is hit. For me it's easy to repro it
> (although it takes longer) with the attached script (it needs some
> adjustments). The problem is hit for 2001-04-08. I don't touch txnFees
> anywhere in my code, so I have no control over this behaviour - it needs
> to be type casted somewhere - from what you are saying - taking the type
> into account.
>
> Thanks for the comments about the testing.
>
> Can you point me to code which computes the portfolio size as you suggested?
>
>  From my experience, it's often needed to be able to show the strategy
> performance over years, with all the system on. That's an area quanstrat
> lacks - both in terms of examples and testing (I am pretty sure this is
> a regression since the last time I looked at it).
>
> Thanks,
> Ivan
>
>
>
>
> On Tue, Jan 14, 2014 at 9:26 AM, Brian G. Peterson <brian at braverock.com
> <mailto:brian at braverock.com>> wrote:
>
>     You don't actually include how you're calculating txnfees, and your
>     example is not reproducible, so I'm forced to guess.
>
>     try
>
>       return(as.numeric(res))
>
>     in your function.
>
>     As noted in the documentation, txnFees can be a string name of a
>     function, so forcing it to as.numeric is a really bad idea.
>
>     I'll also note that you don't need to call updatePortf every time.
>     That's extremely expensive by comparison to just adding up the
>     realized P&L (from closed transaction) and Unrealized P&L (from your
>     open position) yourself.  You should also be aware that this
>     approach (or yours) will only capture equity changes in a single
>     instrument (since instruments are processed one at a time).
>
>     Most literature on evaluating trading strategies (see e.g. Aronson
>     or Tomasini and Jaekle) tends to do system design on fixed trade
>     sizes because it is much easier to evaluate whether or not your
>     system really has any edge, or is just participating in market
>     drift.  I tend to separate the order sizing decisions till very late
>     in the strategy development process.
>
>     Regards,
>
>     Brian
>
>
>     On 01/13/2014 07:15 PM, Ivan Popivanov wrote:
>
>         It only happens when I use a custom function to compute the
>         position size,
>         but it won't happen with a constant size. So it may have
>         something to do
>         with the splitting of orders. My function uses all available equity
>         rounding up - it's at the end. I get the following error:
>
>         Error in `/.default`(TxnFees, abs(TxnQty)) :
>             non-numeric argument to binary operator
>
>         It seems that the fault is in ruleOrderProc, the caller of addTxn,
>         whereabouts txnfees is indeed an xts object. To me the fix is to
>         pass
>         as.numeric(txnfees) to addTxn.
>
>         Regards,
>         Ivan
>
>         PS: Is my osAllEquity a good way to implement the compounding
>         growth or is
>         there a better alternative? I think it's worth having an example to
>         illustrate this functionality.
>
>         osAllEquity = function(
>                 timestamp,
>                 orderqty,
>         portfolio.name <http://portfolio.name>,
>                 symbol,
>                 ...)
>         {
>              verbose = TRUE
>              # verbose = FALSE
>
>              if(verbose) cat("\n=====")
>              if(verbose) cat(paste( "\n", timestamp, sep=""))
>
>              if(verbose) cat(paste( "\n   orderqty=", orderqty, sep=""))
>              portfolio = updatePortf(Portfolio=portfoli__o.name
>         <http://portfolio.name>, Dates=paste('::',
>         as.Date(timestamp), sep=''))
>              # end.eq = getEndEq(portfolio.name <http://portfolio.name>,
>         as.Date(timestamp))
>              # print( end.eq )
>              pnl = sum(getPortfolio(portfolio.__name
>         <http://portfolio.name>)$summary$Net.Trading.PL
>         <http://Net.Trading.PL>)
>              end.eq = initEq + pnl
>              if(verbose) cat(paste( "\n   pnl=", pnl, sep=""))
>              if(verbose) cat(paste( "\n   equity=", end.eq, sep=""))
>              close.price = as.numeric(Cl(mktdata[__timestamp,]))
>              if(verbose) cat(paste("\n   close price=", close.price,
>         sep=""))
>              res = as.numeric( ceiling( end.eq / close.price ) ) * sign(
>         orderqty )
>              if(verbose) cat(paste("\n   qty=", res, sep=""))
>              if(verbose) cat("\n=====\n")
>              # return(sign(orderqty*1000))
>              # res = 1000*sign(orderqty)
>              return(res)
>         }
>
>                  [[alternative HTML version deleted]]
>
>         _________________________________________________
>         R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
>         mailing list
>         https://stat.ethz.ch/mailman/__listinfo/r-sig-finance
>         <https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
>         -- Subscriber-posting only. If you want to post, subscribe first.
>         -- Also note that this is not the r-help list where general R
>         questions should go.
>
>
>     --
>     Brian G. Peterson
>     http://braverock.com/brian/
>     Ph: 773-459-4973 <tel:773-459-4973>
>     IM: bgpbraverock
>
>     _________________________________________________
>     R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
>     mailing list
>     https://stat.ethz.ch/mailman/__listinfo/r-sig-finance
>     <https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
>     -- Subscriber-posting only. If you want to post, subscribe first.
>     -- Also note that this is not the r-help list where general R
>     questions should go.
>
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From jaimie.villanueva at gmail.com  Wed Jan 15 20:30:41 2014
From: jaimie.villanueva at gmail.com (Jaimie)
Date: Wed, 15 Jan 2014 20:30:41 +0100
Subject: [R-SIG-Finance] Modeling FX rates
Message-ID: <CE6D4459-B5EC-4F92-B8CF-0184FC00C2D7@gmail.com>

Hi R users

I'm trying to model fx rates with one-factor models like CIR, Vasicek, hull-white etc. Those usually used in the context of interest rate modeling. 
I was wondering:

1- Would It make sense? I mean, applying short rate models to exchange rates. 

2- What would be the best r package i should go to? Is there one specially recomended?

Thanks a lot in advanced.

Jaimie

Enviado desde mi iPhone

From dominykasgrigonis at gmail.com  Wed Jan 15 20:34:16 2014
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Wed, 15 Jan 2014 19:34:16 +0000
Subject: [R-SIG-Finance] Modeling FX rates
In-Reply-To: <CE6D4459-B5EC-4F92-B8CF-0184FC00C2D7@gmail.com>
References: <CE6D4459-B5EC-4F92-B8CF-0184FC00C2D7@gmail.com>
Message-ID: <8354F54DDAD546E0886F4C0EFE479A26@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140115/0aa303c3/attachment.pl>

From jaimie.villanueva at gmail.com  Fri Jan 17 07:39:35 2014
From: jaimie.villanueva at gmail.com (Jaimie)
Date: Fri, 17 Jan 2014 07:39:35 +0100
Subject: [R-SIG-Finance] Modeling FX rates
In-Reply-To: <4ADEA80413674E36A4D51D21D01C75EE@gmail.com>
References: <CE6D4459-B5EC-4F92-B8CF-0184FC00C2D7@gmail.com>
	<8354F54DDAD546E0886F4C0EFE479A26@gmail.com>
	<CAEXmNQCob0WJic+aOkUq63qchfuojMzXy3DKqzK2U4hW68rJ5w@mail.gmail.com>
	<4ADEA80413674E36A4D51D21D01C75EE@gmail.com>
Message-ID: <5C30CAE6-15F7-43F1-AD36-0D319C63968E@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140117/49b3373c/attachment.pl>

From dominykasgrigonis at gmail.com  Fri Jan 17 11:25:09 2014
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Fri, 17 Jan 2014 10:25:09 +0000
Subject: [R-SIG-Finance] Modeling FX rates
In-Reply-To: <5C30CAE6-15F7-43F1-AD36-0D319C63968E@gmail.com>
References: <CE6D4459-B5EC-4F92-B8CF-0184FC00C2D7@gmail.com>
	<8354F54DDAD546E0886F4C0EFE479A26@gmail.com>
	<CAEXmNQCob0WJic+aOkUq63qchfuojMzXy3DKqzK2U4hW68rJ5w@mail.gmail.com>
	<4ADEA80413674E36A4D51D21D01C75EE@gmail.com>
	<5C30CAE6-15F7-43F1-AD36-0D319C63968E@gmail.com>
Message-ID: <B2FBD57ECA044A54B874ADA631988F02@gmail.com>

In theory FX rates are expected to grow at rate equal to interest rate differential.
In practise it is never true. Though you have 2 ways to calc your expected growth:  
1. empirical
2. int rate differential

Code I included is simple daily simulation, adjust parameters as you wish. However, quantiles can be obtained empirically, so simulation is not really needed. Also, what I did is daily simulation, which is useful for path dependent applications, in your case distribution at final time T is enough and this would make code faster.

Calibrating:
1. Volatility
lnS = lng(S_t/S_t-1)
muS = mean(lnS)
volS = sqrt(sum(lnS - muS))

or simply sd(lnS)

2. expected rate of return
a) empirical would just be mean(lnS)
b) interest rate differential: careful with compounding. Online will be simple compounding, need to convert it to continuous.

If you need any other further help/advice let me know. I would gladly support you if I understood what you are trying to achieve. Provide me with some data/workings so I can help you more.

Kind regards,--  
Dominykas Grigonis


On Friday, 17 January 2014 at 06:39, Jaimie wrote:

> Hi dominykas
>  
> First of all, thanks for Your help.
>  
> I'm trying to model try/eur exchange rate.  
> I would like to find out whether spot rate as of december 31st 2013 is normal (is as expected)  or is not due to some external factors like political inestability that could have affected its expected evolution.
> Therefore, i would like to calibrate the model based on data up to december 31st 2012 and make forecasts 1 yr ahead to get its expected evolution  and also to simulate and get what the quantile of spot rate as of december 31st 2013 is, based on simulated values. Is It in the tail of the distribution? , is It nearest to the expected value....?
>  
> If You have some code that would help me to get these goals, i would be strongly grateful if you could share It.
>  
> Bests
>  
> Jaimie
>  
> Pd: forgive any spelling mistakes.
> Enviado desde mi iPhone
>  
> El 16/01/2014, a las 10:36, Dominykas Grigonis <dominykasgrigonis at gmail.com (mailto:dominykasgrigonis at gmail.com)> escribi?:
>  
> > BS means black scholes model. Simply: S_1 = S_0 exp((mu - vol^2/2)t + vol dW), where dW ~ N(0,t)
> >  
> > Do not know about packages, if you want I can provide you some code. It is pretty simple if you know what you are doing. What are you trying to achieve? Do you want to get a view for the future? Price options? Or building some kind of strategy testing?  
> >  
> >  
> > Kind regards,--  
> > Dominykas Grigonis
> >  
> >  
> > On Thursday, 16 January 2014 at 04:14, Jaimie Villanueva wrote:
> >  
> > > Hi,  
> > >  
> > > I'm not experienced on this so, Could you tell me a bit more on this?
> > >  
> > > What BS stands for and what are the package/s i should go to?
> > > I would need to calibrate the parameter of the model as well as simulate values.
> > >  
> > > Bests
> > >  
> > > Jaimie
> > >  
> > >  
> > > On Wed, Jan 15, 2014 at 8:34 PM, Dominykas Grigonis <dominykasgrigonis at gmail.com (mailto:dominykasgrigonis at gmail.com)> wrote:
> > > > Exchange rates are not mean reverting. Simple BS with interest rate differential is usually applied.  
> > > >  
> > > >  
> > > > Kind regards,--  
> > > > Dominykas Grigonis
> > > >  
> > > >  
> > > > On Wednesday, 15 January 2014 at 19:30, Jaimie wrote:
> > > >  
> > > >  
> > > >  
> > > > > Hi R users
> > > > >  
> > > > > I'm trying to model fx rates with one-factor models like CIR, Vasicek, hull-white etc. Those usually used in the context of interest rate modeling.  
> > > > > I was wondering:
> > > > >  
> > > > > 1- Would It make sense? I mean, applying short rate models to exchange rates.  
> > > > >  
> > > > > 2- What would be the best r package i should go to? Is there one specially recomended?  
> > > > >  
> > > > > Thanks a lot in advanced.
> > > > >  
> > > > > Jaimie
> > > > >  
> > > > > Enviado desde mi iPhone
> > > > > _______________________________________________
> > > > > R-SIG-Finance at r-project.org (mailto:R-SIG-Finance at r-project.org) mailing list
> > > > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > > > -- Also note that this is not the r-help list where general R questions should go.
> > > > >  
> > > > >  
> > > > >  
> > > >  
> > > >  
> > >  
> > >  
> > >  
> > > --  
> > > Jaimie.  
> >  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140117/93dd7608/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gbm.R
Type: application/octet-stream
Size: 1260 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140117/93dd7608/attachment.obj>

From davidian at stanford.edu  Fri Jan 17 21:40:01 2014
From: davidian at stanford.edu (Danielle Davidian)
Date: Fri, 17 Jan 2014 12:40:01 -0800
Subject: [R-SIG-Finance] Comparison between rugarch and fGarch
Message-ID: <CAFQCvM6Fz3uJyx5VgPF5wH_44k7kwT3uo6v_JxMXkbmRAG6i_g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140117/d4768d2b/attachment.pl>

From alexios at 4dscape.com  Sat Jan 18 02:42:31 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sat, 18 Jan 2014 01:42:31 +0000
Subject: [R-SIG-Finance] Comparison between rugarch and fGarch
In-Reply-To: <CAFQCvM6Fz3uJyx5VgPF5wH_44k7kwT3uo6v_JxMXkbmRAG6i_g@mail.gmail.com>
References: <CAFQCvM6Fz3uJyx5VgPF5wH_44k7kwT3uo6v_JxMXkbmRAG6i_g@mail.gmail.com>
Message-ID: <52D9DC07.50407@4dscape.com>

Hi Danielle,

cbind( round(coef(garch1),5), round(coef(garch2),5) )
          fGarch  rugarch
mu      0.00040   0.00045
ar1     0.09860   0.09814
omega   0.00001   0.00001
alpha1  0.10210   0.09940
beta1   0.85944   0.86367

cbind( round(garch1 at fit$se.coef,5), round(garch2 at fit$se.coef,5) )
        fGarch  rugarch
mu     0.00017  0.00017
ar1    0.01544  0.01426
omega  0.00000  0.00000
alpha1 0.03255  0.00559
beta1  0.04558  0.00628

The small differences (and they are small) in the 2 results are down to
one, and only one issue: How the AR(MA) models are implemented in the 2
packages.

In the fGarch package, the AR model is:
\y_t = \mu + ar_1 y_{t-1} + \varepsilon_t

In the rugarch package, the AR model is:
\y_t = \mu + ar_1 (y_{t-1} - \mu) + \varepsilon_t
or alternatively:
\y_t - \mu  =  ar_1 (y_{t-1} - \mu) + \varepsilon_t

(and more generally: \y_t = \mu_t + ar_1 (y_{t-1} - \mu_t)...in the
presence of external regressors in the conditional mean equation).

Following up from your code, the following illustrates this:
#---------------------------------------------------------------------
library(xts)
Sys.setenv(TZ = "GMT")
data(bmw,package="evir")
bmw = xts(bmw, attr(bmw,"times"))
# we use xts in order to make use of the 'lag' functionality
# First thing is to compare the log-likelihoods:
c(-garch1 at fit$llh, likelihood(garch2))
# fGarch 'appears' to be a little higher...
17757  17752
# Add the estimated parameters from fGarch and
# use them in the ugarchfilter routine:
spec2 = spec
setfixed(spec2)<-as.list(coef(garch1))
filt = ugarchfilter(spec2, bmw)
likelihood(filt)
17752
# so the likelihood does not change.
# Investigate the conditional mean equation:
pars1 = coef(garch1)
pars2 = coef(garch2)
# both fGarch and rugarch use the mean to initialize the recursions
fitted1 = cbind(garch1 at fitted, pars1[1]+pars1[2]*lag(bmw),
pars1[1]+pars1[2]*(lag(bmw)-pars1[1]))
fitted1[1,2:3] = pars1[1]
fitted2 = cbind(as.numeric(fitted(garch2)),
pars2[1]+pars2[2]*lag(bmw-pars2[1]))
fitted2[1,2] = pars2[1]

# the garch likelihood:
# fGarch 1
sum(log(dnorm((bmw[,1]-fitted1[,1])/garch1 at h.t^0.5)/garch1 at h.t^0.5))
17757
# use the alternate representation (y_{t-1} - \mu)
sum(log(dnorm((bmw[,1]-fitted1[,3])/garch1 at h.t^0.5)/garch1 at h.t^0.5))
17752
#---------------------------------------------------------------------

I leave it to you to decide...you might want to take a look at this:
http://www.stat.pitt.edu/stoffer/tsa2/Rissues.htm

Regards,

Alexios

On 17/01/2014 20:40, Danielle Davidian wrote:
> Hi,
> 
> I am trying to fit an arma(0,1) + garch(1,1) model using the functions
> available in two different packages (fGarch and rugarch).  I am getting
> slightly different answers for the toy problem I was trying to solve and
> thought I'd see if I could get some help before I complicated things by
> adding exogenous variables.
> 
> Code below:
> 
> # Based on code from Ruppert 2011, Example 18.3 and 18.4 and Figure 18.4
> rm(list=ls(all=TRUE))
> 
> library(fGarch)
> library(rugarch)
> data(bmw,package="evir")
> 
> garch1 = garchFit(~arma(1,0)+garch(1,1),data=bmw,cond.dist="norm")
> options(digits=3)
> summary(garch1)
> options(digits=10)
> 
> 
> spec <- ugarchspec(variance.model = list(model = "sGARCH", garchOrder =
> c(1, 1)),
>                    mean.model = list(armaOrder = c(1, 0),
> external.regressors = NULL),
>                    distribution.model = "norm")
> garch2 <- ugarchfit(spec=spec, data = bmw)
> 
> options(digits=3)
> garch2 at fit$coef
> garch2 at fit$se.coef
> 
> garch1 at fit$coef
> garch1 at fit$se.coef
> 
> Any help or insight appreciated!
> 
> Thanks,
> 
> Danielle
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From michael.weylandt at gmail.com  Sat Jan 18 07:39:50 2014
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Sat, 18 Jan 2014 01:39:50 -0500
Subject: [R-SIG-Finance] Formatting multiple charts on same window
In-Reply-To: <1290810016.293577.1388667150357.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1290810016.293577.1388667150357.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAAmySGPYC+3FoPCZvbAqqpnDxXjpPP17UKxcSY-hm+rXCzsyQQ@mail.gmail.com>

Take a look at xts::plot.xts. There's a type="candlestick" option
pre-made for you and all the shared x-axis alignment should work out
of the box.

On Thu, Jan 2, 2014 at 7:52 AM,  <manojit_roy at comcast.net> wrote:
> I am using layout=NULL to plot multiple charts on the same window, as follows:
>
>>  getSymbols(c('DJIA','NDX','^IXIC'),from='2013-01-01')
>> par(mfrow=c(3,1))
>> chartSeries(DJIA,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>> chartSeries(NDX,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>> chartSeries(IXIC,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>
> I'd like to remove the x-labels (they are same for all plots) and stretch the plots vertically to fill up space. With the usual R plot() function, I would adjust 'oma=c()' and 'mar=c()' in 'par()' , but they do not seem to work here. Is there an easy way to do this?
>
> Thanks.
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From michael.weylandt at gmail.com  Sat Jan 18 07:40:13 2014
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Sat, 18 Jan 2014 01:40:13 -0500
Subject: [R-SIG-Finance] Formatting multiple charts on same window
In-Reply-To: <CAAmySGPYC+3FoPCZvbAqqpnDxXjpPP17UKxcSY-hm+rXCzsyQQ@mail.gmail.com>
References: <1290810016.293577.1388667150357.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
	<CAAmySGPYC+3FoPCZvbAqqpnDxXjpPP17UKxcSY-hm+rXCzsyQQ@mail.gmail.com>
Message-ID: <CAAmySGOOJHdgxYZ9gQsG9c2NvsRKZbPVWMgEpg_2fEFi3WA-CA@mail.gmail.com>

Bah, meant to say xtsExtra::plot.xts. Available off R-Forge.

Michael

On Sat, Jan 18, 2014 at 1:39 AM, R. Michael Weylandt
<michael.weylandt at gmail.com> wrote:
> Take a look at xts::plot.xts. There's a type="candlestick" option
> pre-made for you and all the shared x-axis alignment should work out
> of the box.
>
> On Thu, Jan 2, 2014 at 7:52 AM,  <manojit_roy at comcast.net> wrote:
>> I am using layout=NULL to plot multiple charts on the same window, as follows:
>>
>>>  getSymbols(c('DJIA','NDX','^IXIC'),from='2013-01-01')
>>> par(mfrow=c(3,1))
>>> chartSeries(DJIA,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>>> chartSeries(NDX,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>>> chartSeries(IXIC,type='candlesticks',TA=NULL,theme='white',layout=NULL)
>>
>> I'd like to remove the x-labels (they are same for all plots) and stretch the plots vertically to fill up space. With the usual R plot() function, I would adjust 'oma=c()' and 'mar=c()' in 'par()' , but they do not seem to work here. Is there an easy way to do this?
>>
>> Thanks.
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From Bauermartin at gmx.at  Sat Jan 18 19:58:19 2014
From: Bauermartin at gmx.at (Bauermartin at gmx.at)
Date: Sat, 18 Jan 2014 19:58:19 +0100 (CET)
Subject: [R-SIG-Finance] I DID IT!
Message-ID: <trinity-64ee94d0-a61a-4ff9-a9ec-a8dbe52bb09b-1390071499722@msvc009>

My friend and me;) http://porcelainepier.be/vote.myfoto3.php?pakyh=ibile


From zadig_1 at excite.com  Mon Jan 20 03:26:58 2014
From: zadig_1 at excite.com (ce)
Date: Sun, 19 Jan 2014 21:26:58 -0500
Subject: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could not
	find function "getClass"
Message-ID: <20140119212658.6059@web006.roc2.bluetie.com>


Hi all,

Following script with Rscript doesn't work. but if I copy paste in R interactive window , it runs without any error !

#!/usr/bin/Rscript
library(Quandl)
#
token <- Quandl.auth(".....")     # Please put your own token
Quandl.auth(token)                             

A <- Quandl("QUANDL/ARS",start_date="1990-01-01" )
print(A)


Error in getCurlHandle() : could not find function "getClass"
Calls: Quandl -> getURL -> curlPerform -> getCurlHandle -> .Call


From paulteetor at yahoo.com  Mon Jan 20 05:25:40 2014
From: paulteetor at yahoo.com (Paul Teetor)
Date: Sun, 19 Jan 2014 20:25:40 -0800 (PST)
Subject: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could
	not	find function "getClass"
In-Reply-To: <20140119212658.6059@web006.roc2.bluetie.com>
References: <20140119212658.6059@web006.roc2.bluetie.com>
Message-ID: <1390191940.36602.YahooMailNeo@web140604.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140119/93fed194/attachment.pl>

From rharlow86 at gmail.com  Tue Jan 21 14:38:17 2014
From: rharlow86 at gmail.com (Robert Harlow)
Date: Tue, 21 Jan 2014 08:38:17 -0500
Subject: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could
 not find function "getClass"
In-Reply-To: <1390191940.36602.YahooMailNeo@web140604.mail.bf1.yahoo.com>
References: <20140119212658.6059@web006.roc2.bluetie.com>
	<1390191940.36602.YahooMailNeo@web140604.mail.bf1.yahoo.com>
Message-ID: <CAHdfS95cC4MVuHzHh6EdmKRz8cKT23MURyNUxxsipz230BFzCw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140121/c1ad391b/attachment.pl>

From zadig_1 at excite.com  Tue Jan 21 15:12:30 2014
From: zadig_1 at excite.com (ce)
Date: Tue, 21 Jan 2014 09:12:30 -0500
Subject: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could
	not find function "getClass"
Message-ID: <20140121091230.29476@web003.roc2.bluetie.com>


Thanks a lot  and sorry for posting to the wrong group. 
This is the first time Rscript behaves differently than interactive R . 
ce


-----Original Message-----
From: "Robert Harlow" [rharlow86 at gmail.com]
Date: 01/21/2014 08:38 AM
To: "Paul Teetor" <paulteetor at yahoo.com>
CC: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org>
Subject: Re: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could
 not find function &quot;getClass&quot;

It looks like Rscript loads your .Rprofile file on startup, which is located in ~/.Rprofile. ?You could just add library(methods) to your .Rprofile file and it should fix the issue.

http://stackoverflow.com/questions/19680462/rscript-does-not-load-methods-package-r-does-why-and-what-are-the-consequen


-Bob





On Sun, Jan 19, 2014 at 11:25 PM, Paul Teetor <paulteetor at yahoo.com> wrote:
Youre problem is not related to Quandl (or finance). When you run Rscript, it does not automatically load all the same packages loaded by the interactive window. In particular, Rscript does not automatically load the methods package (which defines getClass), so the R interpreter cannot find the getClass function.

As far as I know, the solution is to manually load all the required packages, including methods. Perhaps someone wiser than me can suggest an easier solution.
?
Paul Teetor, Elgin, IL ?USA
http://quantdevel.com/public


________________________________
?From: ce <zadig_1 at excite.com>
To: r-sig-finance at r-project.org
Sent: Sunday, January 19, 2014 8:26 PM
Subject: [R-SIG-Finance] Quandl error: Error in getCurlHandle() : could not ? ? find function "getClass"



Hi all,

Following script with Rscript doesnt work. but if I copy paste in R intera[[elided Yahoo spam]]

#!/usr/bin/Rscript
library(Quandl)
#
token <- Quandl.auth(".....")? ? ?# Please put your own token
Quandl.auth(token)? ? ? ? ? ? ? ? ? ? ? ? ? ?

A <- Quandl("QUANDL/ARS",start_date="1990-01-01" )
print(A)


Error in getCurlHandle() : could not find function "getClass"
Calls: Quandl -> getURL -> curlPerform -> getCurlHandle -> .Call

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

? ? ? ? [[alternative HTML version deleted]]


_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From andrewoskoui at gmail.com  Wed Jan 22 11:33:39 2014
From: andrewoskoui at gmail.com (Andrew O)
Date: Wed, 22 Jan 2014 10:33:39 +0000
Subject: [R-SIG-Finance] Quadratic Optimization Problem: Kelly Criterion
Message-ID: <loom.20140122T101847-139@post.gmane.org>

I'm trying to do a kelly criterion optimization of a group of simultaneous 
binary bets.  Each bet has two values associated with it, the probability of 
success, P, and the payout if successful, r.  If the bet loses, the entire 
premium is lost.

So if I put in a set of 20 bets that need to be bet on simultaneously, what 
is the ideal weighting, X, to give to each to maximize the growth of capital 
from placing those bets.  This is obviously more difficult than the trivial 
calculation of figuring out the highest expected value(all capital invested 
in the bet with the most profitable bet).

A paper, "Algorithms for optimal allocation of bets on many
simultaneous events", gives a more detailed description of the problem here: 
http://www.filedropper.com/whitrow2007kellypaper

For me, the limitations on the calculation are that all values for X must be 
positive (long only) and the sum of all the X must be less than or equal to  
1 (no leverage).

Are there any packages or methods that would be useful for solving this kind 
of problem?


From rvince99 at gmail.com  Wed Jan 22 14:25:02 2014
From: rvince99 at gmail.com (R Vince)
Date: Wed, 22 Jan 2014 08:25:02 -0500
Subject: [R-SIG-Finance] Quadratic Optimization Problem: Kelly Criterion
In-Reply-To: <loom.20140122T101847-139@post.gmane.org>
References: <loom.20140122T101847-139@post.gmane.org>
Message-ID: <CAAHNhKUN63jVA9pNRiaxeG3tho1iA-v-7qxXYTw7mrY1+FUnAg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140122/5d9c74ef/attachment.pl>

From arnaud.gaboury at gmail.com  Sat Jan 25 16:45:07 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sat, 25 Jan 2014 16:45:07 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
Message-ID: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>

Dear list,

I am working on an IT project to retrieve financial real-time and
end-of-day data to compute portfolio risk & performance measures then
generate reports with knitr.
I need a reliable data feed vendor and was thinking of using Bloomberg.

Unfortunately, I can not find anymore this package, even in its new name Rbbg.
>From R console:

gabx at hortensia [R] install.packages("Rbbg", repos = "http://r.findata.org")
Warning in install.packages :
  cannot open: HTTP status was '404 Not Found'
Warning in install.packages :
  unable to access index for repository http://r.findata.org/src/contrib

What happened to this package ? github repo is two years old.

Any idea how I can use R to retrieve blomm data ?

Thank you for help.


From armstrong.whit at gmail.com  Sat Jan 25 17:04:54 2014
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Sat, 25 Jan 2014 11:04:54 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
Message-ID: <CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140125/c72e47fa/attachment.pl>

From arnaud.gaboury at gmail.com  Sat Jan 25 17:18:45 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sat, 25 Jan 2014 17:18:45 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
Message-ID: <CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>

On Sat, Jan 25, 2014 at 5:04 PM, Whit Armstrong
<armstrong.whit at gmail.com> wrote:
> The version from John's gihub repo should work.
>
> https://github.com/johnlaing/blpwrapper
>
> There is also a less reliable and less feature complete c++ version here
> which I've been working on here:
> https://github.com/armstrtw/Rblpapi
>
> I expect to cut this package over to an RCPP_MODULE fairly soon, which will
> hopefully make it a bit more robust.
>


Thank you Whit for your prompt answer. I will have a close look at
your github as for some reasons I want to work only with Bloom.
I have an API emulator to use during the development phase [1] and my
first task is to test : retrieve data with R, compute them immediately
(live ) or stock them in a data base for end of day computing.

We can of course stay in touch in case we can help each other.

[1]https://bemu.codeplex.com/


From arnaud.gaboury at gmail.com  Sun Jan 26 21:15:07 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sun, 26 Jan 2014 21:15:07 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
Message-ID: <CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>

>> The version from John's gihub repo should work.
>>
>> https://github.com/johnlaing/blpwrapper

Unfortunately, I am on a Linux machine and my project will be hosted
on a linux server. So my choice now is:
1- rewrite the Rbbg package to work on Linux. Any good pointer ?

>> There is also a less reliable and less feature complete c++ version here
>> which I've been working on here:
>> https://github.com/armstrtw/Rblpapi

2- start with your Rblpapi and try to imporve it.

I have no idea what is the best in term of knowledge and time.



--


From edd at debian.org  Sun Jan 26 21:49:20 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 26 Jan 2014 14:49:20 -0600
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
Message-ID: <21221.29904.951996.167387@max.nulle.part>


On 26 January 2014 at 21:15, arnaud gaboury wrote:
| >> The version from John's gihub repo should work.
| >>
| >> https://github.com/johnlaing/blpwrapper
| 
| Unfortunately, I am on a Linux machine and my project will be hosted
| on a linux server. So my choice now is:
| 1- rewrite the Rbbg package to work on Linux. Any good pointer ?

Please define "rewrite":

  i)   Bloomberg's underlying API is in C and works on all platforms
       supported; the Java, Python, ... variants just call it

  ii)  We know Java and R work everywhere too.

So what issues are you afraid of? 
 
| >> There is also a less reliable and less feature complete c++ version here
| >> which I've been working on here:
| >> https://github.com/armstrtw/Rblpapi

When I wrote the initial RBloomberg (which was never released as it was
"written on the man's time") I was quite happy with the C API. With Rcpp,
things should be a breeze.  

We do use John's version at work on a Windows pc for the occassional lookup,
and that has been good enough for us.  

Would the emulator you mentioned work on Linux so that we could develop code
there?  That might be a way to give Whit a hand and write something like
RcppBlp. 

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From arnaud.gaboury at gmail.com  Sun Jan 26 22:26:12 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sun, 26 Jan 2014 22:26:12 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <21221.29904.951996.167387@max.nulle.part>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
Message-ID: <CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>

On Sun, Jan 26, 2014 at 9:49 PM, Dirk Eddelbuettel <edd at debian.org> wrote:
>
> On 26 January 2014 at 21:15, arnaud gaboury wrote:
> | >> The version from John's gihub repo should work.
> | >>
> | >> https://github.com/johnlaing/blpwrapper
> |
> | Unfortunately, I am on a Linux machine and my project will be hosted
> | on a linux server. So my choice now is:
> | 1- rewrite the Rbbg package to work on Linux. Any good pointer ?
>
> Please define "rewrite":

For now, I can not install this package  as it is windows only. So I
need to make some changes to install it on my machine, right ?
>From DESCRPTION :

OS_type: windows

I tried with package (devtools) but install_github retruned error.

gabx at hortensia [R] install_github('blpwrapper', 'johnlaing', subdir =
'rbloomberg')
Installing github repo blpwrapper/master from johnlaing
Downloading blpwrapper.zip from
https://github.com/johnlaing/blpwrapper/archive/master.zip
Installing package from /tmp/RtmpG68q1A/blpwrapper.zip
arguments 'minimized' and 'invisible' are for Windows only
Installing Rbbg
'/usr/lib64/R/bin/R' --vanilla CMD INSTALL
'/tmp/RtmpG68q1A/devtools184a4a3a7725/blpwrapper-master/rbloomberg'  \
  --library='/developement/language/r/library' --install-tests

ERROR:  Windows-only package
* removing '/developement/language/r/library/Rbbg'
Error: Command failed (1)
Error during wrapup: cannot open the connection


>
> | >> There is also a less reliable and less feature complete c++ version here
> | >> which I've been working on here:
> | >> https://github.com/armstrtw/Rblpapi
>
> When I wrote the initial RBloomberg (which was never released as it was
> "written on the man's time") I was quite happy with the C API. With Rcpp,
> things should be a breeze.
>
> We do use John's version at work on a Windows pc for the occassional lookup,
> and that has been good enough for us.
>
> Would the emulator you mentioned work on Linux so that we could develop code
> there?  That might be a way to give Whit a hand and write something like
> RcppBlp.

>From bloom emul webpage :

My project emulates:

Intraday tick data requests and responses (.Net, Java, C++),
Intraday bar data requests and responses (.Net, Java, C++),
Reference data requests and responses (.Net, Java, C++),
Historical data requests and responses (.Net, Java, C++), and
Market data subscription events (.Net, Java, C++ coming soon)


From brian at braverock.com  Sun Jan 26 22:35:35 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 26 Jan 2014 15:35:35 -0600
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
Message-ID: <52E57FA7.6000107@braverock.com>

On 01/26/2014 03:26 PM, arnaud gaboury wrote:
> For now, I can not install this package  as it is windows only. So I
> need to make some changes to install it on my machine, right ?

The Bloomberg API only works on the Bloomberg terminal machine.  They 
charge a *lot* more money for API access that is accessible 
programmatically from multiple machines (like your linux machine).

So, even if you are running Windows in a VM on a linux host, you'll 
still have a Windows install so that the Bloomberg applications can run.

I fail to see any motivation for running the Bloomberg API on a 
non-Windows machine, since the APi client needs to run on the same 
Windows machine as the Bloomberg terminal.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From arnaud.gaboury at gmail.com  Sun Jan 26 22:59:54 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sun, 26 Jan 2014 22:59:54 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <52E57FA7.6000107@braverock.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
Message-ID: <CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>

> I fail to see any motivation for running the Bloomberg API on a non-Windows
> machine, since the APi client needs to run on the same Windows machine as
> the Bloomberg terminal.

I think I must maybe clarify. I am building web apps for portfolio
with all kinds of measures/simulation/reports. The main language to
compute is R. I need a data feed, right? I want one reliable and with
a lot of products quotations. R has already some package to retrive
data from Yahoo finance and many others{1]. But according to me, only
Bloomberg or SIX[2] are worth.
So my quest is a R package able to open connection to data vendor,
retrieve data and close connection.
All these things shall be OS independent and do not need any Bloomberg
terminal, am I wrong ?

[1]http://www.r-bloggers.com/financial-data-accessible-from-r-part-iv/
[2]http://www.six-group.com/en/home.html


From brian at braverock.com  Sun Jan 26 23:06:22 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 26 Jan 2014 16:06:22 -0600
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>	<21221.29904.951996.167387@max.nulle.part>	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
Message-ID: <52E586DE.6020309@braverock.com>

On 01/26/2014 03:59 PM, arnaud gaboury wrote:
>> I fail to see any motivation for running the Bloomberg API on a non-Windows
>> >machine, since the APi client needs to run on the same Windows machine as
>> >the Bloomberg terminal.

> I think I must maybe clarify. I am building web apps for portfolio
> with all kinds of measures/simulation/reports. The main language to
> compute is R.

Taking data from a Bloomberg terminal and displaying it in a web 
application would be a violation of the Bloomberg license.

> I need a data feed, right? I want one reliable and with
> a lot of products quotations. R has already some package to retrive
> data from Yahoo finance and many others{1]. But according to me, only
> Bloomberg or SIX[2] are worth.
> So my quest is a R package able to open connection to data vendor,
> retrieve data and close connection.
> All these things shall be OS independent and do not need any Bloomberg
> terminal, am I wrong ?

You need data from somewhere.  There are many choices.

Some require licences (Bloomberg, Reuters, TickData.com, EODdata.com, 
IQFeed, Factset, direct exchange feeds, etc.), and some do not (e.g. 
Google, Yahoo, quandl).

Many data feeds will already have a way of getting that data into R.

You were asking about the RBloomberg/Rbbg package, which uses the 
Bloomberg C API to connect to a Bloomberg terminal on Windows.

If you use a different data vendor, then your needs for accessing that 
data will be dictated by the API you choose.  Some will be able to run 
on any platform, others will be Windows only)

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From arnaud.gaboury at gmail.com  Sun Jan 26 23:14:27 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sun, 26 Jan 2014 23:14:27 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <52E586DE.6020309@braverock.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<52E586DE.6020309@braverock.com>
Message-ID: <CAK1hC9tCDoiQndBPYXzVVLK29to5mYVos3uu5Eq2mCwKDPp1tg@mail.gmail.com>

> Taking data from a Bloomberg terminal and displaying it in a web application
> would be a violation of the Bloomberg license.

1- I just compute some risk measures with these data. Let's say my
portfolio VAR. Would it be a violation too?
2- if I want to have a quick look at a simple bar chart of a stock,
would it be a violation if there is a delay ?

_____________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From armstrong.whit at gmail.com  Sun Jan 26 23:35:45 2014
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Sun, 26 Jan 2014 17:35:45 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
Message-ID: <CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>

If you need a realtime feed for an app running on a non-windows
machine, you probably need to purchase sapi/b-pipe or one of their
other offerings.

If you want to run a linux vm on the same physical hardware, or a
windows vm inside a linux env, that will work, but I'm offering no
legal advice as to whether BBG is ok with that.

It is possible to run Rbbg on a linux machine.  We are a sapi client,
so I know this works (the api is the same).  It's possible that the
public github repo is a few commits behind the version we run.
Perhaps John can chime in on this on Monday.

I'll work on a Rpp module port of the c++ api in a few days.  For the
real-time bit, BBG also hase a nodejs offering, or you can look at
rzmq for pubsub.

https://github.com/bloomberg/node-blpapi

-Whit

On Sun, Jan 26, 2014 at 4:59 PM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
>> I fail to see any motivation for running the Bloomberg API on a non-Windows
>> machine, since the APi client needs to run on the same Windows machine as
>> the Bloomberg terminal.
>
> I think I must maybe clarify. I am building web apps for portfolio
> with all kinds of measures/simulation/reports. The main language to
> compute is R. I need a data feed, right? I want one reliable and with
> a lot of products quotations. R has already some package to retrive
> data from Yahoo finance and many others{1]. But according to me, only
> Bloomberg or SIX[2] are worth.
> So my quest is a R package able to open connection to data vendor,
> retrieve data and close connection.
> All these things shall be OS independent and do not need any Bloomberg
> terminal, am I wrong ?
>
> [1]http://www.r-bloggers.com/financial-data-accessible-from-r-part-iv/
> [2]http://www.six-group.com/en/home.html
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From arnaud.gaboury at gmail.com  Mon Jan 27 00:12:49 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 00:12:49 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
Message-ID: <CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>

>
> If you want to run a linux vm on the same physical hardware, or a
> windows vm inside a linux env, that will work, but I'm offering no
> legal advice as to whether BBG is ok with that.

Certainly no windows vm on the server!

> It is possible to run Rbbg on a linux machine.  We are a sapi client,
> so I know this works (the api is the same).  It's possible that the
> public github repo is a few commits behind the version we run.
> Perhaps John can chime in on this on Monday.
>
> I'll work on a Rpp module port of the c++ api in a few days.  For the
> real-time bit, BBG also hase a nodejs offering, or you can look at
> rzmq for pubsub.

For now, I just install_github('Rblpapi', 'armstrtw') with success
after copying libblpapi3_64.so from the blpapi_cpp_3.7.5.1/Linux
package to my /usr/lib.
Now, I can't of course play with it as I have no bloom subscription.
My next step is to install Rblpapi, but this time when replacing some
C++ files with the ones form the emulator project, and see how it
goes.
______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From arnaud.gaboury at gmail.com  Mon Jan 27 11:25:16 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 11:25:16 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
Message-ID: <CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>

The Rblapi built and run on R now. Of course, as I do not have any
subscription, I can't retrieve anything.
Thanks to the openbloom API and the emul project, I have been able to
run the simulator.exe under Linux with wine. It works, even if it is
very rudimentary.
But I can't make Rblapi talk to the simulator, as they are in
different environment.

I will now go and search for a Bloom terminal, so I will retrieve some
data with Rblapi.

A great thanks to Whit Armstrong for his wonderful job.

Best regards.


From armstrong.whit at gmail.com  Mon Jan 27 13:11:24 2014
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Mon, 27 Jan 2014 07:11:24 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
Message-ID: <CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>

Arnaud,

Can you not point Rblpai to the windows server that is running the
simulator?  It doesn't open a port?

For instance, on windows, you can do something like this (after
installing socat):
start c:\blp\API\bbcomm.exe
socat TCP4-LISTEN:18194,fork TCP4:localhost:8194

and then if you point Rblpapi to the 18194 port of your windows
machine, you should be ok.

Since you are running the emulator on wine, you may have to do
something different. just a thought.

-Whit


On Mon, Jan 27, 2014 at 5:25 AM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
> The Rblapi built and run on R now. Of course, as I do not have any
> subscription, I can't retrieve anything.
> Thanks to the openbloom API and the emul project, I have been able to
> run the simulator.exe under Linux with wine. It works, even if it is
> very rudimentary.
> But I can't make Rblapi talk to the simulator, as they are in
> different environment.
>
> I will now go and search for a Bloom terminal, so I will retrieve some
> data with Rblapi.
>
> A great thanks to Whit Armstrong for his wonderful job.
>
> Best regards.


From john.laing at gmail.com  Mon Jan 27 13:23:00 2014
From: john.laing at gmail.com (John Laing)
Date: Mon, 27 Jan 2014 07:23:00 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
Message-ID: <CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140127/3da7b563/attachment.pl>

From reech2.anil at yahoo.com  Mon Jan 27 13:52:47 2014
From: reech2.anil at yahoo.com (Anil Bishnoie)
Date: Mon, 27 Jan 2014 04:52:47 -0800 (PST)
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>	<21221.29904.951996.167387@max.nulle.part>	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>	<52E57FA7.6000107@braverock.com>	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
Message-ID: <1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140127/23468ef6/attachment.pl>

From arnaud.gaboury at gmail.com  Mon Jan 27 13:56:23 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 13:56:23 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
Message-ID: <CAK1hC9tjSB881G_Jhn9S7g+7qSMSWcxk53HcvM9dYyV2E8radw@mail.gmail.com>

On Mon, Jan 27, 2014 at 1:23 PM, John Laing <john.laing at gmail.com> wrote:

> As others have noted, this still does not fix your problem of needing a
> Bloomberg terminal on the same machine where you want to crunch numbers.
> IANAL, but you really should look at the licensing side of Bloomberg's data
> offerings (terminal and SAPI).

I will contact Bloom office here in geneva and see what is the cost of
BLOOMBERG B-PIPE. I only need the data feed, nothing else. Or maybe
they may have some end-of-day/delete data subscription (?).

> On Mon, Jan 27, 2014 at 7:11 AM, Whit Armstrong <armstrong.whit at gmail.com>
> wrote:
>>
>> Arnaud,
>>
>> Can you not point Rblpai to the windows server that is running the
>> simulator?  It doesn't open a port?
>>
>> For instance, on windows, you can do something like this (after
>> installing socat):
>> start c:\blp\API\bbcomm.exe
>> socat TCP4-LISTEN:18194,fork TCP4:localhost:8194
>>
>> and then if you point Rblpapi to the 18194 port of your windows
>> machine, you should be ok.

For now, I just run
$ wine emul.exe
in console mode. I didn't set up any windows vm. But you are right in
the idea : listen to 8194 localhost port.

Btw, even if the bloom emul is a good project, it is far from being
complete and I won't be able to code all my apps with only this app.

So next step is either buy a bloom B-PIPE if not too expensive, or use
a windows bloom terminal from some friend with Whit package. I for now
just want to see how the data are exactly retrieved and in which
format. I know it is chains of strings, so it wouldn't be difficult
then to build time series/data frame for R.


>>
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>
>


From arnaud.gaboury at gmail.com  Mon Jan 27 14:01:08 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 14:01:08 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
Message-ID: <CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>

On Mon, Jan 27, 2014 at 1:52 PM, Anil Bishnoie <reech2.anil at yahoo.com> wrote:
> Hi All,
>           As Blopen API,emul and rblapi etc. are very useful ,It will be gr8 if a  VM be formed and stacked in pub domain for download for future testing/use.
>
> Thx
> Anil

+1 . I am on it. I first need to further improve my knowledge in the
way we can do all thins platform independent and see with the emul
project maintainer how we can improve his work. Unfortunately for us,
he is busy working for a hedge in NY and doesn't know nothing  about
R. But it would make sense to gather everything in one place.
Sorry for my n00biness, but what is a VM ?

> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From pedrobtz at gmail.com  Mon Jan 27 14:19:54 2014
From: pedrobtz at gmail.com (Pedro Baltazar)
Date: Mon, 27 Jan 2014 13:19:54 +0000
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
Message-ID: <CABN+XoSfu+vSFUtTb6iDecnnX=4GMqJRGwzjZ6F=-QrXxEpu9Q@mail.gmail.com>

I have been using Rbbg, and fixing some problems with

fixInNamespace()

https://stat.ethz.ch/pipermail/r-sig-finance/2013q4/012124.html

A new version would be great!

Pedro Baltazar


On Mon, Jan 27, 2014 at 1:01 PM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
> On Mon, Jan 27, 2014 at 1:52 PM, Anil Bishnoie <reech2.anil at yahoo.com> wrote:
>> Hi All,
>>           As Blopen API,emul and rblapi etc. are very useful ,It will be gr8 if a  VM be formed and stacked in pub domain for download for future testing/use.
>>
>> Thx
>> Anil
>
> +1 . I am on it. I first need to further improve my knowledge in the
> way we can do all thins platform independent and see with the emul
> project maintainer how we can improve his work. Unfortunately for us,
> he is busy working for a hedge in NY and doesn't know nothing  about
> R. But it would make sense to gather everything in one place.
> Sorry for my n00biness, but what is a VM ?
>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From michael.weylandt at gmail.com  Mon Jan 27 14:28:18 2014
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Mon, 27 Jan 2014 08:28:18 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
Message-ID: <F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140127/8eb55bc4/attachment.pl>

From arnaud.gaboury at gmail.com  Mon Jan 27 14:33:19 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 14:33:19 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
Message-ID: <CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>

On Mon, Jan 27, 2014 at 2:28 PM, Michael Weylandt
<michael.weylandt at gmail.com> wrote:
>
>
> On Jan 27, 2014, at 8:01, arnaud gaboury <arnaud.gaboury at gmail.com> wrote:
>
> On Mon, Jan 27, 2014 at 1:52 PM, Anil Bishnoie <reech2.anil at yahoo.com>
> wrote:
>
> Hi All,
>
>          As Blopen API,emul and rblapi etc. are very useful ,It will be gr8
> if a  VM be formed and stacked in pub domain for download for future
> testing/use.
>
>
> Sorry for my n00biness, but what is a VM ?
>
>
> http://en.wikipedia.org/wiki/Virtual_machine is the first hit after googling
> VM (for me at least).
>
Ah, ok, so I of course know what is a vm. Thought it was something to
with project managing :-(

@ john laig : i just run with no issue :
gabx at hortensia [R] install_github('blpwrapper', 'johnlaing', subdir =
'rbloomberg')
<-------------->
* DONE (Rbbg)
:-)

Thanks.


From arnaud.gaboury at gmail.com  Mon Jan 27 14:43:00 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 14:43:00 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
	<CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
Message-ID: <CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>

gabx at hortensia ?? ~ %  socat TCP4-LISTEN:18194,fork TCP4:localhost:8194

then on another console :
gabx at hortensia ?? bin/BEmuInstaller % wine Examples.exe

Then on R console:
 gabx at hortensia [R] conn <- blpConnect()

27JAN2014_14:36:46.233 11424:140271690692352 ERROR
blpapi_platformtransporttcp.cpp:671
blpapi.session.transporttcp.{1}.<localhost:8194> Connection failed

27JAN2014_14:36:46.233 11424:140271690692352 WARN
blpapi_platformcontroller.cpp:371
blpapi.session.platformcontroller.{1} Platform: 0 failed 1 consecutive
connect attempts, stopped trying to reconnect.
Failed to start session.

It was just a first try. I maybe need to RTFM of socat.


From armstrong.whit at gmail.com  Mon Jan 27 14:47:05 2014
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Mon, 27 Jan 2014 08:47:05 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
	<CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
	<CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>
Message-ID: <CAMi=pg67K3dH+hfemV5NGNNKwNuq9v7nbC+bDWqzzznX_U8SPA@mail.gmail.com>

you need to connect to port 18194.

Look at the arguments for blpConnect, it should take a server and port
as optional args.

-Whit


On Mon, Jan 27, 2014 at 8:43 AM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
> gabx at hortensia ?? ~ %  socat TCP4-LISTEN:18194,fork TCP4:localhost:8194
>
> then on another console :
> gabx at hortensia ?? bin/BEmuInstaller % wine Examples.exe
>
> Then on R console:
>  gabx at hortensia [R] conn <- blpConnect()
>
> 27JAN2014_14:36:46.233 11424:140271690692352 ERROR
> blpapi_platformtransporttcp.cpp:671
> blpapi.session.transporttcp.{1}.<localhost:8194> Connection failed
>
> 27JAN2014_14:36:46.233 11424:140271690692352 WARN
> blpapi_platformcontroller.cpp:371
> blpapi.session.platformcontroller.{1} Platform: 0 failed 1 consecutive
> connect attempts, stopped trying to reconnect.
> Failed to start session.
>
> It was just a first try. I maybe need to RTFM of socat.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From arnaud.gaboury at gmail.com  Mon Jan 27 14:51:36 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 14:51:36 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAMi=pg67K3dH+hfemV5NGNNKwNuq9v7nbC+bDWqzzznX_U8SPA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
	<CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
	<CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>
	<CAMi=pg67K3dH+hfemV5NGNNKwNuq9v7nbC+bDWqzzznX_U8SPA@mail.gmail.com>
Message-ID: <CAK1hC9uNK8nTt2ShhLah0GjFOiSQuMB_UGT=-qUsS_2UZ4ikcA@mail.gmail.com>

On Mon, Jan 27, 2014 at 2:47 PM, Whit Armstrong
<armstrong.whit at gmail.com> wrote:
> you need to connect to port 18194.
>
> Look at the arguments for blpConnect, it should take a server and port
> as optional args.
>
> -Whit

Ok. I wanted to check first if the socat command was right, and it is :
>
gabx at hortensia ?? ~ % netstat -lnptu | grep 8194
(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)
9:tcp        0      0 0.0.0.0:18194           0.0.0.0:*
LISTEN      11604/socat
>

>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From reech2.anil at yahoo.com  Mon Jan 27 14:48:34 2014
From: reech2.anil at yahoo.com (Anil Bishnoie)
Date: Mon, 27 Jan 2014 05:48:34 -0800 (PST)
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>	<21221.29904.951996.167387@max.nulle.part>	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>	<52E57FA7.6000107@braverock.com>	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
Message-ID: <1390830514.61219.YahooMailNeo@web142406.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140127/71862e7f/attachment.pl>

From arnaud.gaboury at gmail.com  Mon Jan 27 15:09:26 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Mon, 27 Jan 2014 15:09:26 +0100
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9uNK8nTt2ShhLah0GjFOiSQuMB_UGT=-qUsS_2UZ4ikcA@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
	<CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
	<CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>
	<CAMi=pg67K3dH+hfemV5NGNNKwNuq9v7nbC+bDWqzzznX_U8SPA@mail.gmail.com>
	<CAK1hC9uNK8nTt2ShhLah0GjFOiSQuMB_UGT=-qUsS_2UZ4ikcA@mail.gmail.com>
Message-ID: <CAK1hC9sYSFf_T14xVR_iEbQkSOhfy1DuUEbwo2q8t01OFtc9zQ@mail.gmail.com>

On Mon, Jan 27, 2014 at 2:51 PM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
> On Mon, Jan 27, 2014 at 2:47 PM, Whit Armstrong
> <armstrong.whit at gmail.com> wrote:
>> you need to connect to port 18194.
>>
>> Look at the arguments for blpConnect, it should take a server and port
>> as optional args.
>>
>> -Whit

Na na

gabx at hortensia [R] conn <- blpConnect("localhost",18194)
27JAN2014_14:57:04.078 11424:140271449896704 ERROR
blpapi_platformtransporttcp.cpp:671
blpapi.session.transporttcp.{3}.<localhost:18194> Connection aborted

gabx at hortensia ?? bin/BEmuInstaller % socat TCP4-LISTEN:18194,fork
TCP4:localhost:8194
2014/01/27 14:57:04 socat[11898] E connect(3, AF=2 127.0.0.1:8194,
16): Connection refused



___________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.



-- 

google.com/+arnaudgabourygabx


From armstrong.whit at gmail.com  Mon Jan 27 15:35:43 2014
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Mon, 27 Jan 2014 09:35:43 -0500
Subject: [R-SIG-Finance] Formely known Rbloomberg package
In-Reply-To: <CAK1hC9sYSFf_T14xVR_iEbQkSOhfy1DuUEbwo2q8t01OFtc9zQ@mail.gmail.com>
References: <CAK1hC9uDP1ge0VqbH-mBcRFyEauoRVu4qNfMV=sdCm9qLNL+_Q@mail.gmail.com>
	<CAMi=pg4==GuhYDC-AAc6skKq4c1rLk33XU_BFJ5iXpfbWtTc4g@mail.gmail.com>
	<CAK1hC9t2dLGPmDHOanWqmxu4QxvDjuv1BsKRvzevLYxFXqnQmg@mail.gmail.com>
	<CAK1hC9ufOeiRzysdq2OYGn3Ox-Sv07X-xZRXyC3SmFn2v-S5dQ@mail.gmail.com>
	<21221.29904.951996.167387@max.nulle.part>
	<CAK1hC9uRkSXyO3SxPa+ZGEK0MzH8=0PgG19NfZgVxnU55JttJg@mail.gmail.com>
	<52E57FA7.6000107@braverock.com>
	<CAK1hC9vGbc9eYScJX5554Wb0Qe=bGdqT-oNN0_Qg4tnMDNbaLA@mail.gmail.com>
	<CAMi=pg51EM0epG32_wyWgGRHp96+qbYK-GEJh9XyB9myO8YuYQ@mail.gmail.com>
	<CAK1hC9uKrBowaf0TLgKYZ81C-CboDRBjXr_ikWWq+8+QzNm=zA@mail.gmail.com>
	<CAK1hC9um8aQDsKGZSTebMeU9uhC2WJKSqPT+t129EhrLUXi3aQ@mail.gmail.com>
	<CAMi=pg7s8UZieANdkozOMCoNYKY+maGT8oVt7w3TOR3wLGYjbg@mail.gmail.com>
	<CAA3Wa=vAtjJpYRjGpM03yxv26POuez-=HBfF6ifuae=T1CAXFg@mail.gmail.com>
	<1390827167.99493.YahooMailNeo@web142402.mail.bf1.yahoo.com>
	<CAK1hC9sughTObUDDcYxAfEiQNREBOdOMs+EpQuy0CMVgEmEHXA@mail.gmail.com>
	<F3FA234A-6107-46CB-82A2-60944A8A378C@gmail.com>
	<CAK1hC9uCqac8gDewwJ8LJJTe5-1Th0CzpENLv4S-y5OY0hEaEg@mail.gmail.com>
	<CAK1hC9vj--a6g2SSTVTGBd6m7dbd5JFbx-fizj9AVhe+H+WJWQ@mail.gmail.com>
	<CAMi=pg67K3dH+hfemV5NGNNKwNuq9v7nbC+bDWqzzznX_U8SPA@mail.gmail.com>
	<CAK1hC9uNK8nTt2ShhLah0GjFOiSQuMB_UGT=-qUsS_2UZ4ikcA@mail.gmail.com>
	<CAK1hC9sYSFf_T14xVR_iEbQkSOhfy1DuUEbwo2q8t01OFtc9zQ@mail.gmail.com>
Message-ID: <CAMi=pg7GksFHKsUnvBbMG11kd-dMp91MMohKDPyEORMy12+fPg@mail.gmail.com>

You could try to run the exe in a windows vm, and then it will work as
expected. (using socat as I explained)

I have no experience with emul.exe, so I can't really offer any other insight.

Perhaps use nmap or some other tool to determine which port it is exposing...

Good luck.

-Whit


On Mon, Jan 27, 2014 at 9:09 AM, arnaud gaboury
<arnaud.gaboury at gmail.com> wrote:
> On Mon, Jan 27, 2014 at 2:51 PM, arnaud gaboury
> <arnaud.gaboury at gmail.com> wrote:
>> On Mon, Jan 27, 2014 at 2:47 PM, Whit Armstrong
>> <armstrong.whit at gmail.com> wrote:
>>> you need to connect to port 18194.
>>>
>>> Look at the arguments for blpConnect, it should take a server and port
>>> as optional args.
>>>
>>> -Whit
>
> Na na
>
> gabx at hortensia [R] conn <- blpConnect("localhost",18194)
> 27JAN2014_14:57:04.078 11424:140271449896704 ERROR
> blpapi_platformtransporttcp.cpp:671
> blpapi.session.transporttcp.{3}.<localhost:18194> Connection aborted
>
> gabx at hortensia ?? bin/BEmuInstaller % socat TCP4-LISTEN:18194,fork
> TCP4:localhost:8194
> 2014/01/27 14:57:04 socat[11898] E connect(3, AF=2 127.0.0.1:8194,
> 16): Connection refused
>
>
>
> ___________________________________________
>>>> R-SIG-Finance at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions should go.
>
>
>
> --
>
> google.com/+arnaudgabourygabx
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From pierrelap at gmail.com  Tue Jan 28 20:23:24 2014
From: pierrelap at gmail.com (Pierre Lapointe)
Date: Tue, 28 Jan 2014 14:23:24 -0500
Subject: [R-SIG-Finance] BEQS() in Rbbg
Message-ID: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140128/6e0b569e/attachment.pl>

From pierrelap at gmail.com  Tue Jan 28 20:23:24 2014
From: pierrelap at gmail.com (Pierre Lapointe)
Date: Tue, 28 Jan 2014 14:23:24 -0500
Subject: [R-SIG-Finance] BEQS() in Rbbg
Message-ID: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140128/6e0b569e/attachment-0001.pl>

From john.laing at gmail.com  Tue Jan 28 20:28:30 2014
From: john.laing at gmail.com (John Laing)
Date: Tue, 28 Jan 2014 14:28:30 -0500
Subject: [R-SIG-Finance] BEQS() in Rbbg
In-Reply-To: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>
References: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>
Message-ID: <CAA3Wa=skTyxPtm+SCX0E+fNg+5cZBDm67OmAemjiOqF5Y8Vigg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140128/38006663/attachment.pl>

From john.laing at gmail.com  Tue Jan 28 20:28:30 2014
From: john.laing at gmail.com (John Laing)
Date: Tue, 28 Jan 2014 14:28:30 -0500
Subject: [R-SIG-Finance] BEQS() in Rbbg
In-Reply-To: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>
References: <CAHjr2U_Nug1PQuV-rvN7sBYRqPJPu31nZ3RsGqcLzQivOagWKQ@mail.gmail.com>
Message-ID: <CAA3Wa=skTyxPtm+SCX0E+fNg+5cZBDm67OmAemjiOqF5Y8Vigg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140128/38006663/attachment-0001.pl>

From mnikzad at willamette.edu  Fri Jan 31 02:41:34 2014
From: mnikzad at willamette.edu (Mohammad Nikzad)
Date: Thu, 30 Jan 2014 17:41:34 -0800
Subject: [R-SIG-Finance] Errors in assetsFit function of fPortfolio package
Message-ID: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140130/6674c415/attachment.pl>

From markknecht at gmail.com  Fri Jan 31 03:20:18 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 30 Jan 2014 18:20:18 -0800
Subject: [R-SIG-Finance] Errors in assetsFit function of fPortfolio
	package
In-Reply-To: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>
References: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>
Message-ID: <CAK2H+efY1k5DFU_r23QOWiZNUt0MNhQA2q90rocwSinhGDReyg@mail.gmail.com>

On Thu, Jan 30, 2014 at 5:41 PM, Mohammad Nikzad <mnikzad at willamette.edu> wrote:
> Dear Sir/Madam
>
> I get an error when I run a assetsFit function of fPortfolio package.
>
> You just need to load the fPortfolio package and run this command to get
> the same error that I get. The only fitting method that works is "norm"
> function.The "snorm" and "st" methods give error.
>
> library(fPortfolio)
> fit <- assetsFit(LPP2005.RET[, 1:3], method = "st")
>
> Error in .mvstFit(x = x, fixed.df = fixed.df, trace = trace, ...) :
> could not find function "mst.mle"
>
> Thank you in advance for your help.
>
> Best,
>
> Arsa Nikzad


The sos package could help you. Running

findFn("mst.mle")

says it's part of a package called "sn".

HTH,
Mark


From es at enricoschumann.net  Fri Jan 31 08:37:33 2014
From: es at enricoschumann.net (Enrico Schumann)
Date: Fri, 31 Jan 2014 08:37:33 +0100
Subject: [R-SIG-Finance] Errors in assetsFit function of fPortfolio
	package
In-Reply-To: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>
	(Mohammad Nikzad's message of "Thu, 30 Jan 2014 17:41:34 -0800")
References: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>
Message-ID: <87mwicsite.fsf@enricoschumann.net>

On Fri, 31 Jan 2014, Mohammad Nikzad <mnikzad at willamette.edu> writes:

> Dear Sir/Madam
>
> I get an error when I run a assetsFit function of fPortfolio package.
>
> You just need to load the fPortfolio package and run this command to get
> the same error that I get. The only fitting method that works is "norm"
> function.The "snorm" and "st" methods give error.
>
> library(fPortfolio)
> fit <- assetsFit(LPP2005.RET[, 1:3], method = "st")
>
> Error in .mvstFit(x = x, fixed.df = fixed.df, trace = trace, ...) :
> could not find function "mst.mle"
>
> Thank you in advance for your help.
>
> Best,
>
> Arsa Nikzad
>

I cannot reproduce this error.  If you suspect a bug in the package,
then you should contact the package maintainer.  But please provide more
information -- at the minimum, send the output of ?sessionInfo.  Here is
mine:

> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_GB.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_GB.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] fPortfolio_2130.80 fAssets_2110.79    fCopulae_3000.79   sn_0.4-18         
 [5] mnormt_1.4-5       fBasics_3010.86    timeSeries_3010.97 timeDate_3010.98  
 [9] robustbase_0.9-10  MASS_7.3-29       

loaded via a namespace (and not attached):
[1] quadprog_1.5-5   Rglpk_0.4-1      slam_0.1-28      stabledist_0.6-6



-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From brian at braverock.com  Fri Jan 31 11:08:30 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 31 Jan 2014 04:08:30 -0600
Subject: [R-SIG-Finance] Errors in assetsFit function of fPortfolio
	package
In-Reply-To: <CAK2H+efY1k5DFU_r23QOWiZNUt0MNhQA2q90rocwSinhGDReyg@mail.gmail.com>
References: <CA+chGK5vbr=9LWZPNdw8D+pUtwGuGMDfkVfhTJ2D_MHukCRpRA@mail.gmail.com>
	<CAK2H+efY1k5DFU_r23QOWiZNUt0MNhQA2q90rocwSinhGDReyg@mail.gmail.com>
Message-ID: <52EB761E.20608@braverock.com>

On 01/30/2014 08:20 PM, Mark Knecht wrote:
> On Thu, Jan 30, 2014 at 5:41 PM, Mohammad Nikzad <mnikzad at willamette.edu> wrote:
>> Dear Sir/Madam
>>
>> I get an error when I run a assetsFit function of fPortfolio package.
>>
>> You just need to load the fPortfolio package and run this command to get
>> the same error that I get. The only fitting method that works is "norm"
>> function.The "snorm" and "st" methods give error.
>>
>> library(fPortfolio)
>> fit <- assetsFit(LPP2005.RET[, 1:3], method = "st")
>>
>> Error in .mvstFit(x = x, fixed.df = fixed.df, trace = trace, ...) :
>> could not find function "mst.mle"
>>
>> Thank you in advance for your help.
>>
>> Best,
>>
>> Arsa Nikzad
>
>
> The sos package could help you. Running
>
> findFn("mst.mle")
>
> says it's part of a package called "sn".

The 'sn' package recently changed on CRAN, breaking backwards 
compatibility in basically all of its functions, and departing from the 
standardized format of most R  distribution p,d,q,r and fitting 
functions in favor of a more mathematical notation, without providing 
wrappers to the old functions or useful transition documentation.

We're currently working on replacing 'sn' with another source for the 
skewed Student's-t distributions in packages we maintain as well.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From josh.m.ulrich at gmail.com  Fri Jan 31 16:40:17 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 31 Jan 2014 09:40:17 -0600
Subject: [R-SIG-Finance] R/Finance 2014 Call for Papers
In-Reply-To: <CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>
References: <525D30EB.3000706@braverock.com>
	<CAPPM_gQmDswS37oCrQOHNdpGP9H+jOWUSNooU62j4hF7XorEBQ@mail.gmail.com>
Message-ID: <CAPPM_gRngfoWspuqfAtoLguTmLD=qV9E=76BeEgzsSfiz3Z_eA@mail.gmail.com>

One final reminder: the submission deadline is today!

On behalf of the committee,
Joshua Ulrich


On Mon, Jan 13, 2014 at 12:12 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> A friendly reminder that the submission deadline (Jan-31) is a little
> less than 3 weeks away!
>
> On behalf of the committee,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
>
> On Tue, Oct 15, 2013 at 7:11 AM, Brian G. Peterson <brian at braverock.com> wrote:
>>
>> Call for Papers:
>>
>> R/Finance 2014: Applied Finance with R
>> May 16 and 17, 2014
>> University of Illinois at Chicago
>>
>> The sixth annual R/Finance conference for applied finance using R will
>> be held on May 16 and 17, 2014 in Chicago, IL, USA at the University
>> of Illinois at Chicago.  The conference will cover topics including
>> portfolio management, time series analysis, advanced risk tools,
>> high-performance computing, market microstructure, and econometrics.
>> All will be discussed within the context of using R as a primary tool
>> for financial risk management, portfolio construction, and trading.
>>
>> Over the past five years, R/Finance has included attendees from around
>> the world. It has featured presentations from prominent academics and
>> practitioners, and we anticipate another exciting line-up for 2014.
>>
>> We invite you to submit complete papers in pdf format for
>> consideration. We will also consider one-page abstracts (in txt or pdf
>> format), although more complete papers are preferred.  We welcome
>> submissions for both full talks and abbreviated "lightning talks".
>> Both academic and practitioner proposals related to R are encouraged.
>>
>> Presenters are strongly encouraged to provide working R code to
>> accompany the presentation/paper.  Data sets should also be made
>> public for the purposes of reproducibility (though we realize this may
>> be limited due to contracts with data vendors). Preference may be
>> given to presenters who have released R packages.
>>
>> The conference will award two (or more) $1000 prizes for best papers.
>> A submission must be a full paper to be eligible for a best paper
>> award. Extended abstracts, even if a full paper is provided by
>> conference time, are not eligible for a best paper award.  Financial
>> assistance for travel and accommodation may be available to presenters
>> at the discretion of the conference committee. Requests for assistance
>> should be made at the time of submission.
>>
>> Please submit your papers or abstracts online at: http://goo.gl/OmKnu7
>> The submission deadline is January 31, 2014. Submitters will be
>> notified of acceptance, whether a presentation will be a long
>> presentation or a lightning talk, and a decision on any requested
>> funding will be made via email by February 28, 2014.
>>
>> Additional details will be announced via the conference website
>> http://www.RinFinance.com/ as they become available. Information on
>> previous years' presenters and their presentations are also at the
>> conference website.
>>
>> For the program committee:
>> Gib Bassett, Peter Carl, Dirk Eddelbuettel,
>> Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich


From jkaprich at gmail.com  Thu Feb  6 05:36:50 2014
From: jkaprich at gmail.com (John Kaprich)
Date: Wed, 5 Feb 2014 22:36:50 -0600
Subject: [R-SIG-Finance] Leverage Constraint Error when running
	PortfolioAnalytics
Message-ID: <CADEYtz7Mv3gc2jym3efFY3trgyG3Q5NPmE1cacLWNaoD+cG2gg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140205/aa887e00/attachment.pl>

From rossbennett34 at gmail.com  Thu Feb  6 06:50:04 2014
From: rossbennett34 at gmail.com (Ross Bennett)
Date: Wed, 5 Feb 2014 21:50:04 -0800
Subject: [R-SIG-Finance] Leverage Constraint Error when running
	PortfolioAnalytics
In-Reply-To: <CADEYtz7Mv3gc2jym3efFY3trgyG3Q5NPmE1cacLWNaoD+cG2gg@mail.gmail.com>
References: <CADEYtz7Mv3gc2jym3efFY3trgyG3Q5NPmE1cacLWNaoD+cG2gg@mail.gmail.com>
Message-ID: <CAEESW=UNX4uqd6=8E87sEHgBcMT3bwP3r6pqRx812+J2TH3q8Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140205/90b097a1/attachment.pl>

From thibaut.vernay at outlook.com  Thu Feb  6 11:20:44 2014
From: thibaut.vernay at outlook.com (tvernay)
Date: Thu, 6 Feb 2014 02:20:44 -0800 (PST)
Subject: [R-SIG-Finance] understanding an error from ugarchfit
Message-ID: <1391682044269-4684836.post@n4.nabble.com>

Hello,

I have the following error which sometimes comes out from the ugarchfit
function (rugarch package):

Error in diag(fit$robust.cvar) : nonvalid 'nrow' value (too large or NA)

This error only appears for certain data sets but is not systematic even for
data sets of exactly the same size.

This error disappears when I use less external regressors
(external.regressors input parameter in ugarchspec function). I would like
to understand better the origin of this error and how I can remedy to this
problem while keeping all my external regressors.

Thanks a lot, cheers,

Thibaut



--
View this message in context: http://r.789695.n4.nabble.com/understanding-an-error-from-ugarchfit-tp4684836.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Thu Feb  6 11:54:45 2014
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Thu, 6 Feb 2014 10:54:45 +0000
Subject: [R-SIG-Finance] understanding an error from ugarchfit
In-Reply-To: <1391682044269-4684836.post@n4.nabble.com>
References: <1391682044269-4684836.post@n4.nabble.com>
Message-ID: <BDCC496D-72F7-445D-8424-7AC78BFE2754@4dscape.com>

Hi,

It simply means that the model failed to converge to a global optimum. Usually this is caught before post-estimation calculations place so that the routine exits more gracefully, but in this case the problem was 'flagged' during the calculation of the robust standard errors which contained some NAs (likely some parameters where at their extreme boundary values).

Please send me a reproducible example of this offline (with data) so that I may add another layer of checks to avoid such errors.

Regards,

Alexios

On 6 Feb 2014, at 10:20 AM, tvernay <thibaut.vernay at outlook.com> wrote:

> Hello,
> 
> I have the following error which sometimes comes out from the ugarchfit
> function (rugarch package):
> 
> Error in diag(fit$robust.cvar) : nonvalid 'nrow' value (too large or NA)
> 
> This error only appears for certain data sets but is not systematic even for
> data sets of exactly the same size.
> 
> This error disappears when I use less external regressors
> (external.regressors input parameter in ugarchspec function). I would like
> to understand better the origin of this error and how I can remedy to this
> problem while keeping all my external regressors.
> 
> Thanks a lot, cheers,
> 
> Thibaut
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/understanding-an-error-from-ugarchfit-tp4684836.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From bastian2507hk at yahoo.co.uk  Fri Feb  7 14:19:23 2014
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Fri, 07 Feb 2014 08:19:23 -0500
Subject: [R-SIG-Finance] Spline GARCH
Message-ID: <52F4DD5B.8070104@yahoo.co.uk>

Hi all,

I am currently implementing the Engle & Rangel (2008) Spline GARCH 
model. I use the nlminb optimizer which does not provide a hessian 
unfortunately to get the standard errors of the coefficients. I can get 
around this using the 'hessian' function in numDeriv, but usually get 
NaN values for the omega parameter.

Can anybody recommend additional optimizers that directly return a 
hessian? How sensitive are the coefficients to the initial starting values?

Thanks in advance!


From pgilbert902 at gmail.com  Fri Feb  7 16:28:27 2014
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Fri, 07 Feb 2014 10:28:27 -0500
Subject: [R-SIG-Finance] Spline GARCH
In-Reply-To: <52F4DD5B.8070104@yahoo.co.uk>
References: <52F4DD5B.8070104@yahoo.co.uk>
Message-ID: <52F4FB9B.1060006@gmail.com>



On 02/07/2014 08:19 AM, Bastian Offermann wrote:
> Hi all,
>
> I am currently implementing the Engle & Rangel (2008) Spline GARCH
> model. I use the nlminb optimizer which does not provide a hessian
> unfortunately to get the standard errors of the coefficients. I can get
> around this using the 'hessian' function in numDeriv, but usually get
> NaN values for the omega parameter.

Do you know why this happens, or can you provide a simple example? An 
NaN value from hessian() is often because the function fails to evaluate 
in a small neighbourhood of the point where it is being calculated, that 
is, at your parameter estimate. Are you on the boundary of the feasible 
region?
>
> Can anybody recommend additional optimizers that directly return a
> hessian?

A hessian returned by an optimizer is usually one that is built up by 
some approximation during the optimization process. One of the original 
purposes of hessian() was to try to do something that is usually better 
than that, specifically because you want a good approximation if you are 
going to use it to calculate standard errors. (And, of course, you want 
the conditions to hold for the hessian to be an approximation of the 
variance.)  Just because an optimizer returns something for the hessian, 
it it not clear that you would want to use it to calculate standard 
errors. The purpose of the hessian built up by an optimizer is to speed 
the optimization, not necessarily to provide a good approximation to the 
hessian.  In the case where hessian() is returning NaNs I would be 
concerned that anything returned by an optimizer could be simply bogus.

>How sensitive are the coefficients to the initial starting values?

This depends on a number of things, the optimizer you use being one of 
them. Most optimizers have some mechanism to specify something different 
from the default for the stopping criteria and you can, for a problem 
without local optimum issues (e.g. convex level sets), reduce 
sensitivity to the starting value by tightening the stopping criteria. 
The more serious problem is when you have local optimum issues. Then you 
will get false convergence and thus extreme sensitivity to starting 
values. Even for a parameter space that is generally good, there are 
often parameter values for which the optimization is a bit sensitive. 
And, of course, all this also depends on your dataset. Generally, the 
sensitivity will increase with short datasets.

The previous paragraph is about the coefficient estimate. At the same 
coefficient estimate hessian() will return the same thing, but a hessian 
built up by an optimizer will depend on the path, and generally needs a 
fairly large number of final steps in the vicinity of the optimum to 
give a good approximation. Thus, somewhat counter intuitively, if you do 
an optimization starting with values for the coefficients that are very 
close to the optimum you will get quick convergence but often a bad 
hessian approximation from the optimizer.

Paul
>
> Thanks in advance!
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From alexios at 4dscape.com  Fri Feb  7 16:49:20 2014
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Fri, 7 Feb 2014 15:49:20 +0000
Subject: [R-SIG-Finance] Spline GARCH
In-Reply-To: <52F4FB9B.1060006@gmail.com>
References: <52F4DD5B.8070104@yahoo.co.uk> <52F4FB9B.1060006@gmail.com>
Message-ID: <15B49C24-5E60-4FB9-A9C7-EEA5D0BAD64E@4dscape.com>

You might also want to consider the issue of scaling when it comes to the intercepts (mean or variance), as well as  your positivity and stationarity conditions/constraints.

-Alexios

> On 7 Feb 2014, at 15:28, Paul Gilbert <pgilbert902 at gmail.com> wrote:
> 
> 
> 
>> On 02/07/2014 08:19 AM, Bastian Offermann wrote:
>> Hi all,
>> 
>> I am currently implementing the Engle & Rangel (2008) Spline GARCH
>> model. I use the nlminb optimizer which does not provide a hessian
>> unfortunately to get the standard errors of the coefficients. I can get
>> around this using the 'hessian' function in numDeriv, but usually get
>> NaN values for the omega parameter.
> 
> Do you know why this happens, or can you provide a simple example? An NaN value from hessian() is often because the function fails to evaluate in a small neighbourhood of the point where it is being calculated, that is, at your parameter estimate. Are you on the boundary of the feasible region?
>> 
>> Can anybody recommend additional optimizers that directly return a
>> hessian?
> 
> A hessian returned by an optimizer is usually one that is built up by some approximation during the optimization process. One of the original purposes of hessian() was to try to do something that is usually better than that, specifically because you want a good approximation if you are going to use it to calculate standard errors. (And, of course, you want the conditions to hold for the hessian to be an approximation of the variance.)  Just because an optimizer returns something for the hessian, it it not clear that you would want to use it to calculate standard errors. The purpose of the hessian built up by an optimizer is to speed the optimization, not necessarily to provide a good approximation to the hessian.  In the case where hessian() is returning NaNs I would be concerned that anything returned by an optimizer could be simply bogus.
> 
>> How sensitive are the coefficients to the initial starting values?
> 
> This depends on a number of things, the optimizer you use being one of them. Most optimizers have some mechanism to specify something different from the default for the stopping criteria and you can, for a problem without local optimum issues (e.g. convex level sets), reduce sensitivity to the starting value by tightening the stopping criteria. The more serious problem is when you have local optimum issues. Then you will get false convergence and thus extreme sensitivity to starting values. Even for a parameter space that is generally good, there are often parameter values for which the optimization is a bit sensitive. And, of course, all this also depends on your dataset. Generally, the sensitivity will increase with short datasets.
> 
> The previous paragraph is about the coefficient estimate. At the same coefficient estimate hessian() will return the same thing, but a hessian built up by an optimizer will depend on the path, and generally needs a fairly large number of final steps in the vicinity of the optimum to give a good approximation. Thus, somewhat counter intuitively, if you do an optimization starting with values for the coefficients that are very close to the optimum you will get quick convergence but often a bad hessian approximation from the optimizer.
> 
> Paul
>> 
>> Thanks in advance!
>> 
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From jaimie.villanueva at gmail.com  Fri Feb  7 17:27:43 2014
From: jaimie.villanueva at gmail.com (Jaimie Villanueva)
Date: Fri, 7 Feb 2014 17:27:43 +0100
Subject: [R-SIG-Finance] About ugarchboot
Message-ID: <CAEXmNQDGvt18OYMsodZVbVg8o02t_40oa9uR7pT8J5uqpBeymA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140207/155edcd7/attachment.pl>

From alexios at 4dscape.com  Fri Feb  7 18:52:04 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 07 Feb 2014 17:52:04 +0000
Subject: [R-SIG-Finance] About ugarchboot
In-Reply-To: <CAEXmNQDGvt18OYMsodZVbVg8o02t_40oa9uR7pT8J5uqpBeymA@mail.gmail.com>
References: <CAEXmNQDGvt18OYMsodZVbVg8o02t_40oa9uR7pT8J5uqpBeymA@mail.gmail.com>
Message-ID: <52F51D44.5030003@4dscape.com>

The resampled innovations are not kept or returned by the routine.
However, you can replicate them by noting the following (and assuming
you are using the 'partial' bootstrap not the 'full' version on a
uGARCHfit object):
1. There is an argument called rseed in the routine. This is an integer
equal to n.bootpred. You need to define it.
2. Given a fitted object (mod), extract the standardized residuals:
z = residuals(mod, standardize=TRUE)
3. Run this code (additional options come from routine's arguments which
you can choose):
############################
if(sampling!="raw"){
zfit = rugarch:::.bfit(z, sampling, spd.options)
} else{
zfit = NULL
}
# you might be asked to load some additional packages depending on the #
sampling type chosen (packages spd or ks)
resampled_z = matrix(apply(as.data.frame(1:n.bootpred), 1, FUN =
function(i) { set.seed(rseed[i]);
rugarch:::.bsample(z, n.ahead, sampling, zfit);
}), ncol = n.bootpred)
############################
For the "full" bootstrap or method called using a uGARCHspec object
instead, just look at the underlying code (rugarch-bootstrap.R).

-Alexios

On 07/02/2014 16:27, Jaimie Villanueva wrote:
> Hi R users
> 
> I'm wondering whether could be possible to get the resampled innovations
> from the empirical distribution used when using ugarchboot function from
> 'great' rugarch package.
> 
> With resampled innovations from empirical distribution I mean:
> innov(t)=Residual(t)/sigma(t)
> 
> I got the manual and also the vignette in front but seems like there isn't
> a method to directly extract them.  also did some google search but not
> succeed.
> 
>  I also did some google research but not succeed.
> 
> Could anyone guide me through this?
> 
> Bests
>


From bastian2507hk at yahoo.co.uk  Fri Feb  7 20:32:51 2014
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Fri, 07 Feb 2014 14:32:51 -0500
Subject: [R-SIG-Finance] Spline GARCH
In-Reply-To: <52F4FB9B.1060006@gmail.com>
References: <52F4DD5B.8070104@yahoo.co.uk> <52F4FB9B.1060006@gmail.com>
Message-ID: <52F534E3.3010701@yahoo.co.uk>


Thanks a lot, Paul. Here is some reproducible code. Do you know of any 
good reference how to build up these models from scratch, e.g. 
calculating standard errors of estimates coming from a numerical 
optimizer, information criteria etc. ?



library('BB')
library('alabama')
library('nloptr')

### Spline GARCH ###

r = rnorm(13551, 0.0004, 0.016)    # pseudo returns, 13551 is the number 
of obs. of real market data I apply the model to, inputs arbitrary


### Specifying time trend


k = 3                                                       # number of 
knots
bounds = floor(1:k * 13551/k)                # partition of time horizon
bounds = c(0, bounds[1:(k-1)])
time.lin = 0:13550                           # linear time trend
time.nonlin <- matrix(rep(time.lin, k), length(time.lin), k) # quadratic 
time trend

for(i in 1:k) {                                              #
time.nonlin[,i] <- time.nonlin[,i] - bounds[i]               #
time.nonlin[which(time.nonlin[,i] < 0), i] <- 0 #
time.nonlin[, i] <- time.nonlin[, i]^2                       #
               }                                              #

time.trend = cbind(time.lin, time.nonlin)

for(i in 1:dim(time.trend)[2]) time.trend[,i] <- 
time.trend[,i]/time.trend[dim(time.trend)[1], i]    # normalizing 
between 0 and 1

head(time.trend)
tail(time.trend)




### Spline function

splgarch <- function(para) {
mu <- para[1]
omega <- para[2]
alpha <- para[3]
beta <- para[4]
cc <- para[5]
w <- para[6:(k+6)]
Tau <- cc * exp( apply(t(diag(w)%*%t(time.trend)), 1, sum) )
e2 <- (r-mu)^2
e2t <- omega + alpha * c(mean(e2), e2[-length(r)]) / Tau^2
s2 <- filter(e2t, beta, "recursive", init = mean(e2))
sig2 <- s2 * Tau
0.5*sum( log(2*pi) + log(sig2) + e2/sig2) }



### Spline parameter initialization
mu <- mean(r)
small <- 1e-6
alpha <- 0.1
beta <- 0.8
omega <- (1-alpha-beta)
para <- c(mu, omega, alpha, beta, 1, rep(small, length(4:(k+4))))

lo <- c(-10*abs(mu), small, small, small, rep(-10, length(3:(k+4))))
hi <- c(10*abs(mu), 100*abs(mu), 1-small, 1-small, rep(10, length(3:(k+4))))



### Spline optimization

fit <- nlminb(start = para, objective = splgarch, lower = lo, upper = 
hi, control = list(x.tol = 1e-8,trace=0))
names(fit$par) <- c('alpha', 'beta', 'c', paste('w', sep = '', 0:k))
round(fit$par, 6)

fit.hessian = hessian(splgarch, fit$par, method="complex")
fit.hessian









R version 2.15.2 (2012-10-26)
Platform: x86_64-w64-mingw32/x64 (64-bit)

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United 
States.1252
[3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods base

other attached packages:
[1] nloptr_0.9.6      alabama_2011.9-1  numDeriv_2012.9-1 BB_2014.1-1



Am 2/7/2014 10:28 AM, schrieb Paul Gilbert:
>
>
> On 02/07/2014 08:19 AM, Bastian Offermann wrote:
>> Hi all,
>>
>> I am currently implementing the Engle & Rangel (2008) Spline GARCH
>> model. I use the nlminb optimizer which does not provide a hessian
>> unfortunately to get the standard errors of the coefficients. I can get
>> around this using the 'hessian' function in numDeriv, but usually get
>> NaN values for the omega parameter.
>
> Do you know why this happens, or can you provide a simple example? An 
> NaN value from hessian() is often because the function fails to 
> evaluate in a small neighbourhood of the point where it is being 
> calculated, that is, at your parameter estimate. Are you on the 
> boundary of the feasible region?
>>
>> Can anybody recommend additional optimizers that directly return a
>> hessian?
>
> A hessian returned by an optimizer is usually one that is built up by 
> some approximation during the optimization process. One of the 
> original purposes of hessian() was to try to do something that is 
> usually better than that, specifically because you want a good 
> approximation if you are going to use it to calculate standard errors. 
> (And, of course, you want the conditions to hold for the hessian to be 
> an approximation of the variance.)  Just because an optimizer returns 
> something for the hessian, it it not clear that you would want to use 
> it to calculate standard errors. The purpose of the hessian built up 
> by an optimizer is to speed the optimization, not necessarily to 
> provide a good approximation to the hessian.  In the case where 
> hessian() is returning NaNs I would be concerned that anything 
> returned by an optimizer could be simply bogus.
>
>> How sensitive are the coefficients to the initial starting values?
>
> This depends on a number of things, the optimizer you use being one of 
> them. Most optimizers have some mechanism to specify something 
> different from the default for the stopping criteria and you can, for 
> a problem without local optimum issues (e.g. convex level sets), 
> reduce sensitivity to the starting value by tightening the stopping 
> criteria. The more serious problem is when you have local optimum 
> issues. Then you will get false convergence and thus extreme 
> sensitivity to starting values. Even for a parameter space that is 
> generally good, there are often parameter values for which the 
> optimization is a bit sensitive. And, of course, all this also depends 
> on your dataset. Generally, the sensitivity will increase with short 
> datasets.
>
> The previous paragraph is about the coefficient estimate. At the same 
> coefficient estimate hessian() will return the same thing, but a 
> hessian built up by an optimizer will depend on the path, and 
> generally needs a fairly large number of final steps in the vicinity 
> of the optimum to give a good approximation. Thus, somewhat counter 
> intuitively, if you do an optimization starting with values for the 
> coefficients that are very close to the optimum you will get quick 
> convergence but often a bad hessian approximation from the optimizer.
>
> Paul
>>
>> Thanks in advance!
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>


From bastian2507hk at yahoo.co.uk  Fri Feb  7 20:40:58 2014
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Fri, 07 Feb 2014 14:40:58 -0500
Subject: [R-SIG-Finance] Spline GARCH
In-Reply-To: <52F4FB9B.1060006@gmail.com>
References: <52F4DD5B.8070104@yahoo.co.uk> <52F4FB9B.1060006@gmail.com>
Message-ID: <52F536CA.70600@yahoo.co.uk>

There was an error in the previous code, this should be correct...



library('BB')
library('alabama')
library('nloptr')

r = rnorm(13551, 0.0004, 0.016)     # pseudo returns


### Spline GARCH ###

### Specifying time trend


k = 3                                                       # number of 
knots
bounds = floor(1:k * 13551/k)                # partition of time horizon
bounds = c(0, bounds[1:(k-1)])
time.lin = 0:13550                           # linear time trend
time.nonlin <- matrix(rep(time.lin, k), length(time.lin), k) # quadratic 
time trend

for(i in 1:k) {                                              #
time.nonlin[,i] <- time.nonlin[,i] - bounds[i]               #
time.nonlin[which(time.nonlin[,i] < 0), i] <- 0 #
time.nonlin[, i] <- time.nonlin[, i]^2                       #
               }                                              #

time.trend = cbind(time.lin, time.nonlin)

for(i in 1:dim(time.trend)[2]) time.trend[,i] <- 
time.trend[,i]/time.trend[dim(time.trend)[1], i]   # normalizing between 
0 and 1

head(time.trend)
tail(time.trend)


### Spline function

splgarch <- function(para) {
mu <- para[1]
omega <- para[2]
alpha <- para[3]
beta <- para[4]
cc <- para[5]
w <- para[6:(k+6)]
Tau <- cc * exp( apply(t(diag(w)%*%t(time.trend)), 1, sum) )
e2 <- (r-mu)^2
e2t <- omega + alpha * c(mean(e2), e2[-length(r)]) / Tau^2
s2 <- filter(e2t, beta, "recursive", init = mean(e2))
sig2 <- s2 * Tau
0.5*sum( log(2*pi) + log(sig2) + e2/sig2) }



### Spline parameter initialization
mu <- mean(r)
small <- 1e-6
alpha <- 0.1
beta <- 0.8
omega <- (1-alpha-beta)
para <- c(mu, omega, alpha, beta, 1, rep(small, length(4:(k+4))))

lo <- c(-10*abs(mu), small, small, small, rep(-10, length(3:(k+4))))
hi <- c(10*abs(mu), 100*abs(mu), 1-small, 1-small, rep(10, length(3:(k+4))))


### Spline optimization

fit <- nlminb(start = para, objective = splgarch, lower = lo, upper = 
hi, hessian = TRUE, control = list(x.tol = 1e-8,trace=0))
names(fit$par) <- c('mu', 'omega', 'alpha', 'beta', 'c', paste('w', sep 
= '', 0:k))
round(fit$par, 6)

fit.hessian = hessian(splgarch, fit$par, method="complex")
fit.hessian



Am 2/7/2014 10:28 AM, schrieb Paul Gilbert:
>
>
> On 02/07/2014 08:19 AM, Bastian Offermann wrote:
>> Hi all,
>>
>> I am currently implementing the Engle & Rangel (2008) Spline GARCH
>> model. I use the nlminb optimizer which does not provide a hessian
>> unfortunately to get the standard errors of the coefficients. I can get
>> around this using the 'hessian' function in numDeriv, but usually get
>> NaN values for the omega parameter.
>
> Do you know why this happens, or can you provide a simple example? An 
> NaN value from hessian() is often because the function fails to 
> evaluate in a small neighbourhood of the point where it is being 
> calculated, that is, at your parameter estimate. Are you on the 
> boundary of the feasible region?
>>
>> Can anybody recommend additional optimizers that directly return a
>> hessian?
>
> A hessian returned by an optimizer is usually one that is built up by 
> some approximation during the optimization process. One of the 
> original purposes of hessian() was to try to do something that is 
> usually better than that, specifically because you want a good 
> approximation if you are going to use it to calculate standard errors. 
> (And, of course, you want the conditions to hold for the hessian to be 
> an approximation of the variance.)  Just because an optimizer returns 
> something for the hessian, it it not clear that you would want to use 
> it to calculate standard errors. The purpose of the hessian built up 
> by an optimizer is to speed the optimization, not necessarily to 
> provide a good approximation to the hessian.  In the case where 
> hessian() is returning NaNs I would be concerned that anything 
> returned by an optimizer could be simply bogus.
>
>> How sensitive are the coefficients to the initial starting values?
>
> This depends on a number of things, the optimizer you use being one of 
> them. Most optimizers have some mechanism to specify something 
> different from the default for the stopping criteria and you can, for 
> a problem without local optimum issues (e.g. convex level sets), 
> reduce sensitivity to the starting value by tightening the stopping 
> criteria. The more serious problem is when you have local optimum 
> issues. Then you will get false convergence and thus extreme 
> sensitivity to starting values. Even for a parameter space that is 
> generally good, there are often parameter values for which the 
> optimization is a bit sensitive. And, of course, all this also depends 
> on your dataset. Generally, the sensitivity will increase with short 
> datasets.
>
> The previous paragraph is about the coefficient estimate. At the same 
> coefficient estimate hessian() will return the same thing, but a 
> hessian built up by an optimizer will depend on the path, and 
> generally needs a fairly large number of final steps in the vicinity 
> of the optimum to give a good approximation. Thus, somewhat counter 
> intuitively, if you do an optimization starting with values for the 
> coefficients that are very close to the optimum you will get quick 
> convergence but often a bad hessian approximation from the optimizer.
>
> Paul
>>
>> Thanks in advance!
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>


From henaff.iae at univ-paris1.fr  Sun Feb  9 22:04:06 2014
From: henaff.iae at univ-paris1.fr (P. Henaff)
Date: Sun, 09 Feb 2014 22:04:06 +0100
Subject: [R-SIG-Finance] 8th R/Rmetrics Summer School and Workshop
Message-ID: <52F7ED46.90500@univ-paris1.fr>

R/Rmetrics in Finance and Insurance
8th R/Rmetrics Workshop and Summer School
Paris, 26-28 June 2014

www.rmetrics.org
https://sites.google.com/site/rmetricsparis2014

Conference Announcement and Call for Papers
===========================================

After 7 successful years in Meielisalp, the R/Rmetrics Workshop and 
Summer School moves to the Latin Quarter of Paris.

The workshop consists of Summer School-like tutorial sessions and a 
user/developer meeting.  The workshop will focus on computational issues 
in statistics, empirical finance and insurance, and on the use of R as 
the tool of choice in that context.

Invited Lectures (preliminary list):

     * Advanced Statistical Methods
       Christian Robert (Universit? Paris-Dauphine)
       Bayesian inference and Markov chain Monte Carlo

     * Market Micro-Structure:
       Jean-Philippe Bouchaud (Ecole Polytechnique and CFM)
       Anomalous price impact and critical liquidity in financial markets

     * Risk Measurement for Solvency II:
       Fr?d?ric Planchet (ISFA - Universit? Lyon I)
       Economic Scenario Generation: theory and practice
		
The afternoon sessions are dedicated to invited and contributed talks 
and presentations reflecting the many uses of R and Rmetrics in finance 
and insurance.

Call for Papers:
================

We invite the submission of abstracts presenting innovations or exciting 
applications covering the whole spectrum of computational topics in 
finance, insurance and related fields. To submit an abstract, email your 
pdf file to submissions[at]rmetrics.org. Practitioners
are encouraged to submit papers.
Please keep abstracts to one page. The abstracts will become available 
in an online abstract booklet. Submission will be considered on a 
rolling admission basis.

Scholarship for Students:
=========================

A limited number of scholarships are available for full-time Bachelor 
and Master students. Please send a letter of motivation and a 
recommendation letter from your supervisor to 
submissions[at]rmetrics.org. Note that only complete applications send 
from an email address affiliated to an university will be accepted.

Additional details will be announced via the conference websites
as they become available.

Registration
============

On-line registration is available at
https://sites.google.com/site/rmetricsparis2014.
The conference will accommodate about 80 attendees. Early registration 
is suggested.

For the program committee:
Patrick H?naff, Mahendra Mehta, Stefan Theussl, Diethelm Wuertz


-- 
Patrick H?naff
Ma?tre de Conf?rences
IAE Paris
Universit? Paris I | Panth?on Sorbonne

+33 (0)1 53 55 27 70
+33 (0)6 01 30 13 57
skype: pahenaff

-- 
Ce message a ete verifie par MailScanner
pour des virus ou des polluriels et rien de
suspect n'a ete trouve.


From pgilbert902 at gmail.com  Tue Feb 11 03:43:32 2014
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Mon, 10 Feb 2014 21:43:32 -0500
Subject: [R-SIG-Finance] Spline GARCH
In-Reply-To: <52F536CA.70600@yahoo.co.uk>
References: <52F4DD5B.8070104@yahoo.co.uk> <52F4FB9B.1060006@gmail.com>
	<52F536CA.70600@yahoo.co.uk>
Message-ID: <52F98E54.5070401@gmail.com>

Sorry for the delay, I'm travelling and not always on my email.
(See below.)

On 02/07/2014 02:40 PM, Bastian Offermann wrote:
> There was an error in the previous code, this should be correct...
>
>
>
> library('BB')
> library('alabama')
> library('nloptr')
>
> r = rnorm(13551, 0.0004, 0.016)     # pseudo returns
>
>
> ### Spline GARCH ###
>
> ### Specifying time trend
>
>
> k = 3                                                       # number of
> knots
> bounds = floor(1:k * 13551/k)                # partition of time horizon
> bounds = c(0, bounds[1:(k-1)])
> time.lin = 0:13550                           # linear time trend
> time.nonlin <- matrix(rep(time.lin, k), length(time.lin), k) # quadratic
> time trend
>
> for(i in 1:k) {                                              #
> time.nonlin[,i] <- time.nonlin[,i] - bounds[i]               #
> time.nonlin[which(time.nonlin[,i] < 0), i] <- 0 #
> time.nonlin[, i] <- time.nonlin[, i]^2                       #
>                }                                              #
>
> time.trend = cbind(time.lin, time.nonlin)
>
> for(i in 1:dim(time.trend)[2]) time.trend[,i] <-
> time.trend[,i]/time.trend[dim(time.trend)[1], i]   # normalizing between
> 0 and 1
>
> head(time.trend)
> tail(time.trend)
>
>
> ### Spline function
>
> splgarch <- function(para) {
> mu <- para[1]
> omega <- para[2]
> alpha <- para[3]
> beta <- para[4]
> cc <- para[5]
> w <- para[6:(k+6)]
> Tau <- cc * exp( apply(t(diag(w)%*%t(time.trend)), 1, sum) )
> e2 <- (r-mu)^2
> e2t <- omega + alpha * c(mean(e2), e2[-length(r)]) / Tau^2
> s2 <- filter(e2t, beta, "recursive", init = mean(e2))
> sig2 <- s2 * Tau
> 0.5*sum( log(2*pi) + log(sig2) + e2/sig2) }
>
>
>
> ### Spline parameter initialization
> mu <- mean(r)
> small <- 1e-6
> alpha <- 0.1
> beta <- 0.8
> omega <- (1-alpha-beta)
> para <- c(mu, omega, alpha, beta, 1, rep(small, length(4:(k+4))))
>
> lo <- c(-10*abs(mu), small, small, small, rep(-10, length(3:(k+4))))
> hi <- c(10*abs(mu), 100*abs(mu), 1-small, 1-small, rep(10,
> length(3:(k+4))))
>
>
> ### Spline optimization
>
> fit <- nlminb(start = para, objective = splgarch, lower = lo, upper =
> hi, hessian = TRUE, control = list(x.tol = 1e-8,trace=0))
> names(fit$par) <- c('mu', 'omega', 'alpha', 'beta', 'c', paste('w', sep
> = '', 0:k))
> round(fit$par, 6)
>
> fit.hessian = hessian(splgarch, fit$par, method="complex")

This gives (at least with my working copy)

Error in filter(e2t, beta, "recursive", init = mean(e2)) : invalid input
In addition: Warning messages:
1: In filter(e2t, beta, "recursive", init = mean(e2)) :
   imaginary parts discarded in coercion
2: In filter(e2t, beta, "recursive", init = mean(e2)) :
   imaginary parts discarded in coercion
Error in grad.default(func = fn, x = x, method = "complex", method.args 
= list(eps = .Machine$double.eps),  :
   function does not accept complex argument as required by method 
'complex'.

> fit.hessian
Error: object 'fit.hessian' not found

The "complex" method is truly powerful in cases where it can be used, 
but the requirement on the function (complex analytic, even though you 
may be only interested in it as a real valued function with real 
arguments) is non-trivial. I clearly need to beef up the warnings in the 
documentation. They are there, but perhaps you did not follow the 
suggestion to see ?grad, and even there I may be assuming people might 
actual look at the reference. I will work on the documentation. Your 
function does not even handle a complex argument, so it is definitely 
not suitable for this method.

Try

fit.hessian = hessian(splgarch, fit$par, method="Richardson")

fit.hessian
                [,1]          [,2]         [,3]          [,4]         [,5]
  [1,] 54159760.8324     -391558.2 3.018716e+05     -4467.786 1.101539e+02
  [2,]  -391558.2296 90404150206.1 2.220223e+09 224552735.372 2.183666e+08
  [3,]   301871.5678  2220223211.2 6.070358e+07   5516188.460 5.352351e+06
  [4,]    -4467.7858   224552735.4 5.516188e+06    558096.767 5.425405e+05
  [5,]      110.1539   218366571.2 5.352351e+06    542540.452 5.277932e+05
  [6,]    -1624.6496    12373678.7 2.983966e+05     30769.665 2.989512e+04
  [7,]    -2190.8683     8249523.2 1.948851e+05     20514.137 1.993109e+04
  [8,]    -2569.8729     5499872.3 1.264006e+05     13676.544 1.328788e+04
  [9,]    -2991.0444     2750144.2 6.090795e+04      6838.777 6.644464e+03
                [,6]         [,7]         [,8]         [,9]
  [1,]    -1624.6496   -2190.8683   -2569.8729   -2991.0444
  [2,] 12373678.7285 8249523.2423 5499872.3398 2750144.2107
  [3,]   298396.5695  194885.1344  126400.6003   60907.9503
  [4,]    30769.6650   20514.1374   13676.5444    6838.7768
  [5,]    29895.1161   19931.0875   13287.8823    6644.4640
  [6,]     2258.4950    1693.8479    1254.6936     690.5527
  [7,]     1693.8479    1355.1300    1070.7734     636.5426
  [8,]     1254.6936    1070.7734     903.6127     584.6161
  [9,]      690.5527     636.5426     584.6161     453.8935

I think this may be what you are looking for, but beware that your 
alpha parameter is on the boundary. The fact that hessian() works on the 
boundary suggests that the function actually evaluates beyond the 
boundary without returning an error, but you need to be sure the 
function is not doing something strange outside the boundary. I'm not 
familiar with how to interpret the hessian as an approximation of the 
variance at a boundary point. Do you think of the se as symmetric in 
this case?

Paul
>
>
>
> Am 2/7/2014 10:28 AM, schrieb Paul Gilbert:
>>
>>
>> On 02/07/2014 08:19 AM, Bastian Offermann wrote:
>>> Hi all,
>>>
>>> I am currently implementing the Engle & Rangel (2008) Spline GARCH
>>> model. I use the nlminb optimizer which does not provide a hessian
>>> unfortunately to get the standard errors of the coefficients. I can get
>>> around this using the 'hessian' function in numDeriv, but usually get
>>> NaN values for the omega parameter.
>>
>> Do you know why this happens, or can you provide a simple example? An
>> NaN value from hessian() is often because the function fails to
>> evaluate in a small neighbourhood of the point where it is being
>> calculated, that is, at your parameter estimate. Are you on the
>> boundary of the feasible region?
>>>
>>> Can anybody recommend additional optimizers that directly return a
>>> hessian?
>>
>> A hessian returned by an optimizer is usually one that is built up by
>> some approximation during the optimization process. One of the
>> original purposes of hessian() was to try to do something that is
>> usually better than that, specifically because you want a good
>> approximation if you are going to use it to calculate standard errors.
>> (And, of course, you want the conditions to hold for the hessian to be
>> an approximation of the variance.)  Just because an optimizer returns
>> something for the hessian, it it not clear that you would want to use
>> it to calculate standard errors. The purpose of the hessian built up
>> by an optimizer is to speed the optimization, not necessarily to
>> provide a good approximation to the hessian.  In the case where
>> hessian() is returning NaNs I would be concerned that anything
>> returned by an optimizer could be simply bogus.
>>
>>> How sensitive are the coefficients to the initial starting values?
>>
>> This depends on a number of things, the optimizer you use being one of
>> them. Most optimizers have some mechanism to specify something
>> different from the default for the stopping criteria and you can, for
>> a problem without local optimum issues (e.g. convex level sets),
>> reduce sensitivity to the starting value by tightening the stopping
>> criteria. The more serious problem is when you have local optimum
>> issues. Then you will get false convergence and thus extreme
>> sensitivity to starting values. Even for a parameter space that is
>> generally good, there are often parameter values for which the
>> optimization is a bit sensitive. And, of course, all this also depends
>> on your dataset. Generally, the sensitivity will increase with short
>> datasets.
>>
>> The previous paragraph is about the coefficient estimate. At the same
>> coefficient estimate hessian() will return the same thing, but a
>> hessian built up by an optimizer will depend on the path, and
>> generally needs a fairly large number of final steps in the vicinity
>> of the optimum to give a good approximation. Thus, somewhat counter
>> intuitively, if you do an optimization starting with values for the
>> coefficients that are very close to the optimum you will get quick
>> convergence but often a bad hessian approximation from the optimizer.
>>
>> Paul
>>>
>>> Thanks in advance!
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>
>


From ducovrossem at hotmail.com  Mon Feb 17 11:30:46 2014
From: ducovrossem at hotmail.com (Duco van Rossem)
Date: Mon, 17 Feb 2014 11:30:46 +0100
Subject: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
	realizedVol input
Message-ID: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140217/7943c890/attachment.pl>

From alexios at 4dscape.com  Mon Feb 17 11:49:53 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 17 Feb 2014 10:49:53 +0000
Subject: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
	realizedVol input
In-Reply-To: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>
References: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>
Message-ID: <D55B4E02-B81C-4455-BE7F-B3E1A6B84576@4dscape.com>

Did you expect them to have the same values? This is first and foremost a GARCH model augmented with the realized measure. Did you read the blog post and vignette first? 

Beyond that, it is difficult to comment without looking at your data (reproducible code). 
Did you first try a (1,1)-Normal model (to compare the likelihoods in case the model converged to a non-global optimum)?

-Alexios

On 17 Feb 2014, at 10:30, Duco van Rossem <ducovrossem at hotmail.com> wrote:

> Dear list,
> I am trying to compare the fitted sigma of the realGARCH model with my realized volatility input. However these two time series have completely different values. My realizedVol input has a values of around 0.004-0.010, while the fitted sigma output has values of around 0.001-0.003 and I am trying to understand why.
> Below I walk through my code:
> My model specification fitting below, where,return_c2casxts - daily close-to-close return object (an xts object)RVar_BN2008 - Daily realized variance measure (using realized kernel of Bandorff Nielsen 2008)
> spec.realGARCH21 <- ugarchspec(variance.model = list(model = "realGARCH", garchOrder = c(2,1)),			mean.model = list(armaOrder = c(1,1)),			distribution.model = "std")garch_model<-ugarchfit(spec.realGARCH21, return_c2casxts, solver = 'hybrid', realizedVol=sqrt(RVar_BN2008))
> RVolfitted<-garch_model at fit$sigma
> 
> Now comparing RVolfitted and sqrt(RVar_BN2008)below I have completely different values throughput the series (3500 days in total). 
> RVolfitted:"       0.0020383691   0.0018783530    0.0020688548    0.0015357892    0.0016052453     0.0016191145sqrt(RVar_BN2008): 0.006596078    0.008683373     0.004344591     0.006393453     0.006223041      0.008463817
> Is this a conceptual issue on my part on what sigma signifies here? How can I obtain fitted values corresponding to the realizedVol input?
> Best Regards,Duco 		 	   		  
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From ducovrossem at hotmail.com  Mon Feb 17 13:51:58 2014
From: ducovrossem at hotmail.com (Duco van Rossem)
Date: Mon, 17 Feb 2014 13:51:58 +0100
Subject: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
 realizedVol input
In-Reply-To: <D55B4E02-B81C-4455-BE7F-B3E1A6B84576@4dscape.com>
References: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>,
	<D55B4E02-B81C-4455-BE7F-B3E1A6B84576@4dscape.com>
Message-ID: <DUB110-W79C7130C9A7EC875CFA713B1990@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140217/dc5bc411/attachment.pl>

From alexios at 4dscape.com  Mon Feb 17 14:13:46 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 17 Feb 2014 13:13:46 +0000
Subject: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
 realizedVol input
In-Reply-To: <DUB110-W79C7130C9A7EC875CFA713B1990@phx.gbl>
References: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>,
	<D55B4E02-B81C-4455-BE7F-B3E1A6B84576@4dscape.com>
	<DUB110-W79C7130C9A7EC875CFA713B1990@phx.gbl>
Message-ID: <53020B0A.5030802@4dscape.com>

Duco,

Try the harModel in the highfrequency package and compare with the
realGARCH. If you email me off-list the data I can investigate if
something is amiss.

Best,

Alexios

On 17/02/2014 12:51, Duco van Rossem wrote:
> Hi Alexios,
> 
> Thanks for the fast reply, to answer your questions:
> 
> Did you first try a (1,1)-Normal model? Yes- I did try simpler models
> and its the same story. I also used the data you use on your blog
> (spyreal) and found that the fitted and underlying measure are
> 'overlapping'. So in the spyreal data there is no structural difference
> as there is in my data.
> 
> Did you expect them to have the same values?  I was actually not sure
> whether to expect fitted sigma and realizedVol measure to have the same
> value. This was part of my question. But given that you say that
> realGARCH is first and foremost an GARCH model augmented with the
> realized measure, - I guess I should not expect them to have the same
> value. As I understand you now, realGARCH is not a model for the
> realized measure (which is what I was after).
> 
> Regards,
> Duco
> 
> 
> 
>> Subject: Re: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
> realizedVol input
>> From: alexios at 4dscape.com
>> Date: Mon, 17 Feb 2014 10:49:53 +0000
>> CC: alexios at 4dscape.com; r-sig-finance at r-project.org
>> To: ducovrossem at hotmail.com
>>
>> Did you expect them to have the same values? This is first and
> foremost a GARCH model augmented with the realized measure. Did you read
> the blog post and vignette first?
>>
>> Beyond that, it is difficult to comment without looking at your data
> (reproducible code).
>> Did you first try a (1,1)-Normal model (to compare the likelihoods in
> case the model converged to a non-global optimum)?
>>
>> -Alexios
>>
>> On 17 Feb 2014, at 10:30, Duco van Rossem <ducovrossem at hotmail.com> wrote:
>>
>> > Dear list,
>> > I am trying to compare the fitted sigma of the realGARCH model with
> my realized volatility input. However these two time series have
> completely different values. My realizedVol input has a values of around
> 0.004-0.010, while the fitted sigma output has values of around
> 0.001-0.003 and I am trying to understand why.
>> > Below I walk through my code:
>> > My model specification fitting below, where,return_c2casxts - daily
> close-to-close return object (an xts object)RVar_BN2008 - Daily realized
> variance measure (using realized kernel of Bandorff Nielsen 2008)
>> > spec.realGARCH21 <- ugarchspec(variance.model = list(model =
> "realGARCH", garchOrder = c(2,1)), mean.model = list(armaOrder =
> c(1,1)), distribution.model =
> "std")garch_model<-ugarchfit(spec.realGARCH21, return_c2casxts, solver =
> 'hybrid', realizedVol=sqrt(RVar_BN2008))
>> > RVolfitted<-garch_model at fit$sigma
>> >
>> > Now comparing RVolfitted and sqrt(RVar_BN2008)below I have
> completely different values throughput the series (3500 days in total).
>> > RVolfitted:" 0.0020383691 0.0018783530 0.0020688548 0.0015357892
> 0.0016052453 0.0016191145sqrt(RVar_BN2008): 0.006596078 0.008683373
> 0.004344591 0.006393453 0.006223041 0.008463817
>> > Is this a conceptual issue on my part on what sigma signifies here?
> How can I obtain fitted values corresponding to the realizedVol input?
>> > Best Regards,Duco
>> > [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Finance at r-project.org mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > -- Subscriber-posting only. If you want to post, subscribe first.
>> > -- Also note that this is not the r-help list where general R
> questions should go.
>> >
>>


From ducovrossem at hotmail.com  Mon Feb 17 17:29:21 2014
From: ducovrossem at hotmail.com (Duco van Rossem)
Date: Mon, 17 Feb 2014 17:29:21 +0100
Subject: [R-SIG-Finance] ruGARCH realGARCH: Comparing sigma() with
 realizedVol input
In-Reply-To: <53020B0A.5030802@4dscape.com>
References: <DUB110-W1353D00E711035650358FBAB1990@phx.gbl>,
	<D55B4E02-B81C-4455-BE7F-B3E1A6B84576@4dscape.com>
	<DUB110-W79C7130C9A7EC875CFA713B1990@phx.gbl>,
	<53020B0A.5030802@4dscape.com>
Message-ID: <DUB110-W48A83DF517819CFAA22E1AB1990@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140217/e028c561/attachment.pl>

From stephen at organicfoodmarkets.com.au  Mon Feb 17 19:48:13 2014
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Tue, 18 Feb 2014 05:48:13 +1100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
Message-ID: <5302596D.6070405@organicfoodmarkets.com.au>

Hi

I know the man refers me to the IB website for the meaning of the 
characterisations (askSize, lastTimestamp, etc) in the data returned (eg 
below):


<20140210 10:07:41.129807> id=1 symbol=NAB askSize: 1960
<20140210 10:07:41.654458> id=1 symbol=NAB askSize: 2011
<20140210 10:07:45.532072> id=1 symbol=NAB lastTimestamp: 1391987255
<20140210 10:07:45.533072> id=1 symbol=NAB lastPrice: 33.04
<20140210 10:07:45.534074> id=1 symbol=NAB lastSize: 178
<20140210 10:07:45.535073> id=1 symbol=NAB Volume: 139377
<20140210 10:07:45.537089> id=1 symbol=NAB askSize: 1786
<20140210 10:07:46.282609> id=1 symbol=NAB lastTimestamp: 1391987256
<20140210 10:07:46.283623> id=1 symbol=NAB lastSize: 47
<20140210 10:07:46.284625> id=1 symbol=NAB Volume: 139424
<20140210 10:07:58.199985> id=1 symbol=NAB bidSize: 1259
<20140210 10:07:59.452116> id=1 symbol=NAB lastTimestamp: 1391987269
<20140210 10:07:59.455120> id=1 symbol=NAB lastPrice: 33.01
<20140210 10:07:59.457129> id=1 symbol=NAB lastSize: 232

I have spent some time looking around the IB site but can't really find 
what I want.  I am trying to pick out the transactions as they take 
place plus their size (and time) but lastSize doesn't look right, Volume 
doesn't look right and I've not even found anything that says lastPrice 
is returned each time there is a transaction. I guess I'm really looking 
for two entries which appear consistently like:

lastPrice
lastSize

which I can pick out.

Can anyone actually help me shorten my search for the rosetta stone?

Apologies if miss posted but not sure where else to find a forum which 
would have the knowledge to answer this question.
-- 
Stephen Choularton PhD, FIoD


From pastirs at gmail.com  Tue Feb 18 14:16:51 2014
From: pastirs at gmail.com (Milos Cipovic)
Date: Tue, 18 Feb 2014 14:16:51 +0100
Subject: [R-SIG-Finance] NGARCH with FGarch package
Message-ID: <CAKoFBbcPo49s1moi7a+3UNpGkEM5x2Nu_T+JE1q-_KWHVRLhTQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140218/2d165699/attachment.pl>

From thibaut.vernay at outlook.com  Tue Feb 18 16:44:03 2014
From: thibaut.vernay at outlook.com (tvernay)
Date: Tue, 18 Feb 2014 07:44:03 -0800 (PST)
Subject: [R-SIG-Finance] understanding an error from ugarchfit
In-Reply-To: <BDCC496D-72F7-445D-8424-7AC78BFE2754@4dscape.com>
References: <1391682044269-4684836.post@n4.nabble.com>
	<BDCC496D-72F7-445D-8424-7AC78BFE2754@4dscape.com>
Message-ID: <1392738243146-4685490.post@n4.nabble.com>

Thanks a lot for your help Alexios, the previously mentioned error has
disappeared! 
Now I have the same question regarding another error which I experienced and
which I do not understand:

Error in ans$res : $ operator is invalid for atomic vectors

Is it also related to model convergence failure? Is there any input
parameter in ugarchfit that could prevent this error from occuring?



--
View this message in context: http://r.789695.n4.nabble.com/understanding-an-error-from-ugarchfit-tp4684836p4685490.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Tue Feb 18 16:58:25 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 18 Feb 2014 15:58:25 +0000
Subject: [R-SIG-Finance] understanding an error from ugarchfit
In-Reply-To: <1392738243146-4685490.post@n4.nabble.com>
References: <1391682044269-4684836.post@n4.nabble.com>
	<BDCC496D-72F7-445D-8424-7AC78BFE2754@4dscape.com>
	<1392738243146-4685490.post@n4.nabble.com>
Message-ID: <93E95D04-B6D4-49AD-B60C-E51EDF32D96A@4dscape.com>

Thibaut,

I?m guessing you are continuing to have convergence problems, though I cannot be sure depending on what it is you are passing as data to the function.

There is a method called ?convergence? which can be used on a uGARCHfit object (it should return 0 if ok?related to the
convergence codes of the underlying solvers).

Additionally, if you are automating the estimation, you might want to enclose the estimation function with a 
?mod=try(ugarchfit(?), silent=TRUE)? and then check that !is(mod, ?try-error?).

Regards,

Alexios
 
On 18 Feb 2014, at 15:44, tvernay <thibaut.vernay at outlook.com> wrote:

> Thanks a lot for your help Alexios, the previously mentioned error has
> disappeared! 
> Now I have the same question regarding another error which I experienced and
> which I do not understand:
> 
> Error in ans$res : $ operator is invalid for atomic vectors
> 
> Is it also related to model convergence failure? Is there any input
> parameter in ugarchfit that could prevent this error from occuring?
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/understanding-an-error-from-ugarchfit-tp4684836p4685490.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From maymaynot at hotmail.com  Fri Feb 21 04:03:55 2014
From: maymaynot at hotmail.com (=?iso-8859-1?B?QmVubnkgQW5kcukgQnlyZW1v?=)
Date: Fri, 21 Feb 2014 04:03:55 +0100
Subject: [R-SIG-Finance] Simulating an In-Mean Garch (1,
	1) model with Rugarch.
Message-ID: <DUB109-W36B1ECAAEDFB835C08A9BEBA850@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140221/a4eed889/attachment.pl>

From alexios at 4dscape.com  Fri Feb 21 11:13:46 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 21 Feb 2014 10:13:46 +0000
Subject: [R-SIG-Finance] Simulating an In-Mean Garch (1,
 1) model with Rugarch.
In-Reply-To: <DUB109-W36B1ECAAEDFB835C08A9BEBA850@phx.gbl>
References: <DUB109-W36B1ECAAEDFB835C08A9BEBA850@phx.gbl>
Message-ID: <530726DA.6080707@4dscape.com>

There does not appear to be a problem, and rugarch does take into
consideration everything you defined in your specification.

Please follow the guidelines and consider using a reproducible example
as I do below:

library(rugarch)
# reproducible means using data available to the package or
# simulated data with the seed provided.
data(sp500ret)
##############################################################################
# arch in sigma^2
spec <- ugarchspec( variance.model=list(model="sGARCH",
garchOrder=c(1,1)),mean.model=list(armaOrder=c(0,0), include.mean=T,
archm=T, archpow=2) ,
distribution.model="norm",start.pars = list(), fixed.pars =
list(archm=-0.5))
fit <- ugarchfit(garch11_spec, as.xts(sp500ret), fit.control =
list(stationarity = 1, fixed.se = 1))
sim <- ugarchsim(garch11_fit, n.sim = 4516, n.start = 0, m.sim = 2,
startMethod = "unconditional", rseed = 123)

# Extract the simulated matrices
sigmasim = sigma(sim)
xsim = fitted(sim)
residsim = sim at simulation$residSim
# The equation replicated:
# first run (m.sim=1)
x = coef(fit)["mu"] +  -0.500000*sigmasim[,1]^2 + residsim[,1]
# Equal to what rugarch returns:
all.equal(as.numeric(sim at simulation$seriesSim[,1]), as.numeric(x))
>TRUE
# second run (m.sim=2)
x = coef(fit)["mu"] +  -0.500000*sigmasim[,2]^2 + residsim[,2]
all.equal(as.numeric(sim at simulation$seriesSim[,2]), as.numeric(x))
>TRUE

##############################################################################
# arch in sigma
spec <- ugarchspec( variance.model=list(model="sGARCH",
garchOrder=c(1,1)),mean.model=list(armaOrder=c(0,0), include.mean=T,
archm=T, archpow=1 ) ,
distribution.model="norm",start.pars = list(), fixed.pars =
list(archm=-0.5))
fit <- ugarchfit(spec, as.xts(sp500ret), fit.control = list(stationarity
= 1, fixed.se = 1))
sim <- ugarchsim(fit, n.sim = 4516, n.start = 0, m.sim = 2, startMethod
= "unconditional", rseed = 123)
sigmasim = sigma(sim)
xsim = fitted(sim)
residsim = sim at simulation$residSim
x = coef(fit)["mu"] +  -0.500000*sigmasim[,1] + residsim[,1]
all.equal(as.numeric(sim at simulation$seriesSim[,1]), as.numeric(x))
>TRUE
x = coef(fit)["mu"] +  -0.500000*sigmasim[,2] + residsim[,2]
all.equal(as.numeric(sim at simulation$seriesSim[,2]), as.numeric(x))
>TRUE


-Alexios

On 21/02/2014 03:03, Benny Andr? Byremo wrote:
> Hello Everybody
> I am posting here because I think I have a problem with performing a simulation with the rugarch package in R.  
> I want to simulate a mean model consisting of  a half variance and a variance model equal to the Garch (1,1) model, but I do not think the ugarchsim function take into consideration the half variance in the mean model automatically. Is that correct? If thats the case what do I I have to do to get it correct? The reason for it is that the simulated values is far to big to be correct.    The mean model is:
> r_t = u -0.5sigma_t + epsilon_t
> and the variance equation is:
> sigma^2_t = w + a*epsilon_t + b*sigma^2_t-1.
> The specification with the ugarchspec:
> garch11_spec <- ugarchspec( variance.model=list(model="sGARCH", garchOrder=c(1,1)),mean.model=list(armaOrder=c(0,0), include.mean=T, archm=T, archpow=2 ) , distribution.model="norm",start.pars = list(), fixed.pars = list(archm=-0.5))
> and this is fitted with the ugarchfit function where r.xts is the data object:
> garch11_fit <- ugarchfit(garch11_spec, r.xts, fit.control = list(stationarity = 1, fixed.se = 1))
> The possible "problem child" is specified as follows:
> garch11_sim <- ugarchsim(garch11_fit, n.sim = 4516, n.start = 0, m.sim = 10000, startMethod = "unconditional", rseed = 123) names(garch11_sim at simulation)
> 
> I have tried to look for help in the documentation for the package and in the package vignette without success, so all help would be appreciated. 
> 
> Greetings
> 
> 
> 
> 
> 
> 
> 
> 
>  		 	   		  
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From vojtech.pistora at gmail.com  Fri Feb 21 13:08:52 2014
From: vojtech.pistora at gmail.com (=?ISO-8859-2?Q?Vojt=ECch_Pi=B9tora?=)
Date: Fri, 21 Feb 2014 13:08:52 +0100
Subject: [R-SIG-Finance] Can Rugarch handle univariate GARCH models with
	many external regressors?
Message-ID: <CAG6JYeiJw4w4TU-MarO_uqLV9GV0xz44YuMg9CwkPcFgBxE_vw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140221/a33822ba/attachment.pl>

From phdapp2011 at googlemail.com  Fri Feb 21 21:06:15 2014
From: phdapp2011 at googlemail.com (Bastian Offermann)
Date: Fri, 21 Feb 2014 15:06:15 -0500
Subject: [R-SIG-Finance] DEoptim MSGARCH
Message-ID: <5307B1B7.5000309@googlemail.com>

Dear all,
there is a JSS paper on DEoptim including a Markov Switching GARCH 
example . Since the optimizer can only handle box constraints, how would 
the standard covariance stationarity condition alpha+beta < 1 in a 
simple GARCH(1,1) be included here?

My guess is sth like

foo = function(x) {

...

loglikelihood = ...

if(alpha+beta >= 1) loglikelihood = loglikelihood + penalty

}

Your input is appreciated. Thank you!


From brian at braverock.com  Fri Feb 21 21:16:12 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 21 Feb 2014 14:16:12 -0600
Subject: [R-SIG-Finance] DEoptim MSGARCH
In-Reply-To: <5307B1B7.5000309@googlemail.com>
References: <5307B1B7.5000309@googlemail.com>
Message-ID: <5307B40C.8080202@braverock.com>

On 02/21/2014 02:06 PM, Bastian Offermann wrote:
> Dear all,
> there is a JSS paper on DEoptim including a Markov Switching GARCH
> example . Since the optimizer can only handle box constraints, how would
> the standard covariance stationarity condition alpha+beta < 1 in a
> simple GARCH(1,1) be included here?
>
> My guess is sth like
>
> foo = function(x) {
>
> ...
>
> loglikelihood = ...
>
> if(alpha+beta >= 1) loglikelihood = loglikelihood + penalty
>
> }


I'm not entirely sure your question makes sense.

DEoptim in that case was used to calculate a probability of one Markov 
state over another.

There are lots of ways to calculate regime switching GARCH. None of the 
ones I can think of assume covariance stationarity.  These are different 
regimes, so different parameters apply to the two (or more) regimes.

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From phdapp2011 at googlemail.com  Fri Feb 21 22:27:13 2014
From: phdapp2011 at googlemail.com (Bastian Offermann)
Date: Fri, 21 Feb 2014 16:27:13 -0500
Subject: [R-SIG-Finance] DEoptim MSGARCH
In-Reply-To: <5307B40C.8080202@braverock.com>
References: <5307B1B7.5000309@googlemail.com> <5307B40C.8080202@braverock.com>
Message-ID: <5307C4B1.3000800@googlemail.com>

Am 2/21/2014 3:16 PM, schrieb Brian G. Peterson:
> On 02/21/2014 02:06 PM, Bastian Offermann wrote:
>> Dear all,
>> there is a JSS paper on DEoptim including a Markov Switching GARCH
>> example . Since the optimizer can only handle box constraints, how would
>> the standard covariance stationarity condition alpha+beta < 1 in a
>> simple GARCH(1,1) be included here?
>>
>> My guess is sth like
>>
>> foo = function(x) {
>>
>> ...
>>
>> loglikelihood = ...
>>
>> if(alpha+beta >= 1) loglikelihood = loglikelihood + penalty
>>
>> }
>
>
> I'm not entirely sure your question makes sense.
>
> DEoptim in that case was used to calculate a probability of one Markov 
> state over another.
>
> There are lots of ways to calculate regime switching GARCH. None of 
> the ones I can think of assume covariance stationarity.  These are 
> different regimes, so different parameters apply to the two (or more) 
> regimes.
>
My question is more general: How would one take linear inequality 
constraints into account using DEoptim since the DEoptim function only 
allows box constraints? Couldnt find an optimizer so far that can handle 
box and linear inequality constraints.
Thanks!


From brian at braverock.com  Fri Feb 21 22:37:45 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 21 Feb 2014 15:37:45 -0600
Subject: [R-SIG-Finance] DEoptim MSGARCH
In-Reply-To: <5307C4B1.3000800@googlemail.com>
References: <5307B1B7.5000309@googlemail.com> <5307B40C.8080202@braverock.com>
	<5307C4B1.3000800@googlemail.com>
Message-ID: <5307C729.8070102@braverock.com>

On 02/21/2014 03:27 PM, Bastian Offermann wrote:
> My question is more general: How would one take linear inequality
> constraints into account using DEoptim since the DEoptim function only
> allows box constraints? Couldnt find an optimizer so far that can handle
> box and linear inequality constraints.

That is indeed a very different question.

In DEoptim, this is supported via use of the mapping function specified 
via parameter fnMap.

For portfolio optimization, many additional constraint types, including 
linear and group inequality constraints, are supported directly for 
multiple optimization engines, including DEoptim, in the R-Forge package 
PortfolioAnalytics.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From stephen at organicfoodmarkets.com.au  Sat Feb 22 20:50:56 2014
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Sun, 23 Feb 2014 06:50:56 +1100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <5302596D.6070405@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
Message-ID: <5308FFA0.2000805@organicfoodmarkets.com.au>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140223/5ecfeabb/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ofm_logo(2012 small).jpg
Type: image/jpeg
Size: 4132 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140223/5ecfeabb/attachment.jpg>

From arnaud.gaboury at gmail.com  Sat Feb 22 21:00:36 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sat, 22 Feb 2014 21:00:36 +0100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <5308FFA0.2000805@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<5308FFA0.2000805@organicfoodmarkets.com.au>
Message-ID: <CAK1hC9tb3uo_0g3ucEY8n8t-eBdzCyaaEtFZzb-b4NrFrcJuCA@mail.gmail.com>

SPAM


On Sat, Feb 22, 2014 at 8:50 PM, Stephen Choularton <
stephen at organicfoodmarkets.com.au> wrote:

>  Hi
>
> I appreciate its no the most exciting question but i wonder if anyone
> knows the answer?
> --
> Stephen Choularton PhD, FIoD
>
>    p: 9999 2226
> f: 9999 2240
> m: 0413 545 182
>
> Suite 3, 1741 Pittwater Road
> Mona Vale 2103
>
>
>
>
> *WE ARE BOOKING FOR DOUBLE BAY FESTIVAL NOW*
>
> for 24/7 insurance go to www.netinsure.com.au
> for markets go to www.organicfoodmarkets.com.au
> for equipment go to http://www.organicfoodmarkets.com.au/equipment/
> for facebook go to www.facebook.com/organicfoodmarkets<http://www.facebook.com/organicfoodmarkets?ref=ts&fref=ts>
> for twitter go to twitter.com/organicfoodmark
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>



-- 

google.com/+arnaudgabourygabx<https://plus.google.com/_/notifications/emlink?emr=05814804238976922326&emid=CKiv-v6PvboCFcfoQgod6msAAA&path=%2F116159236040461325607%2Fop%2Fu&dt=1383086841306&ub=50>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140222/861d0137/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ofm_logo(2012 small).jpg
Type: image/jpeg
Size: 4132 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140222/861d0137/attachment.jpg>

From stephen at organicfoodmarkets.com.au  Sat Feb 22 23:17:33 2014
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Sun, 23 Feb 2014 09:17:33 +1100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <CAK1hC9tb3uo_0g3ucEY8n8t-eBdzCyaaEtFZzb-b4NrFrcJuCA@mail.gmail.com>
References: <5302596D.6070405@organicfoodmarkets.com.au>	<5308FFA0.2000805@organicfoodmarkets.com.au>
	<CAK1hC9tb3uo_0g3ucEY8n8t-eBdzCyaaEtFZzb-b4NrFrcJuCA@mail.gmail.com>
Message-ID: <530921FD.3050505@organicfoodmarkets.com.au>

This is not spam.  I am asking a perfectly serious question which I am 
having trouble finding out the answer.

Apologies if my business signature inadvertently appeared on the last email.

Stephen Choularton PhD, FIoD


From arnaud.gaboury at gmail.com  Sat Feb 22 23:26:02 2014
From: arnaud.gaboury at gmail.com (arnaud gaboury)
Date: Sat, 22 Feb 2014 23:26:02 +0100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <530921FD.3050505@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<5308FFA0.2000805@organicfoodmarkets.com.au>
	<CAK1hC9tb3uo_0g3ucEY8n8t-eBdzCyaaEtFZzb-b4NrFrcJuCA@mail.gmail.com>
	<530921FD.3050505@organicfoodmarkets.com.au>
Message-ID: <CAK1hC9vLAGT8tZ8t5_rEh6UWDBg2OK6Yxzr3TQ_ETWtqp4TRpA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140222/9c99e174/attachment.pl>

From jaimie.villanueva at gmail.com  Tue Feb 25 06:13:18 2014
From: jaimie.villanueva at gmail.com (Jaimie Villanueva)
Date: Tue, 25 Feb 2014 06:13:18 +0100
Subject: [R-SIG-Finance] aparch model in rugarch package
Message-ID: <CAEXmNQDfoRz4mvtBQ0v+niSiVrYqPGQhwZHD7xV2mJnSbb4uhQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140225/48f217a3/attachment.pl>

From alexios at 4dscape.com  Tue Feb 25 09:46:20 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 25 Feb 2014 08:46:20 +0000
Subject: [R-SIG-Finance] aparch model in rugarch package
In-Reply-To: <CAEXmNQDfoRz4mvtBQ0v+niSiVrYqPGQhwZHD7xV2mJnSbb4uhQ@mail.gmail.com>
References: <CAEXmNQDfoRz4mvtBQ0v+niSiVrYqPGQhwZHD7xV2mJnSbb4uhQ@mail.gmail.com>
Message-ID: <530C585C.9040506@4dscape.com>

Jaimie,

It's really quite easy to "open up" the source and look at the code if
you want to make these checks...

Because of the non-differentiability of the absolute value function, an
approximation is used as defined on page 85 of the paper by Hentschel
(the rugarch package follows the exact formulation of the author).

There are 2 errors in your code.
1. You do not use the approximation (error very small)
2. Because delta=lambda, the code uses a special switch:
kdelta=delta*indicator+lambda. In any case, replace delta (which is zero
in the code) with lambda:

Here is the correct code snippet to use (using your notation
and some simplifications for easier reading):
#############################################################
for(i in 2:101)
{

  h[i] =
omega+alpha*(h[i-1]^lambda)*(abs(z[i-1]-eta2)-eta1*(z[i-1]-eta2))^lambda+sum(beta*h[i-1]^lambda)
  h[i] = h[i]^(1/lambda)
  epsilon[i] = h[i]*z[i]
  # since its arma(0,0):
  y[i] = mu+epsilon[i]
}
h=h[-1]
epsilon=epsilon[-1]
y=y[-1]


all.equal(as.numeric(h),as.numeric(sigma(sim.ruGarch)))
[1] "Mean relative difference: 2.601269e-06"
# That's the approximation error.

#############################################################
# Use this to get exact match:
for(i in 2:101)
{

  h[i]= omega + alpha * ( h[i-1]^lambda)*( (sqrt(0.001^2 + ( z[i-1] -
eta2)^2)- eta1* (z[i-1] - eta2))^lambda) + sum(beta*h[i-1]^lambda )
  h[i] = h[i]^(1/lambda)
  epsilon[i] = h[i]*z[i]
  y[i] = mu+epsilon[i]
}

h=h[-1]
epsilon=epsilon[-1]
y=y[-1]

all.equal(as.numeric(h),as.numeric(sigma(sim.ruGarch)))
>TRUE


-Alexios


On 25/02/2014 05:13, Jaimie Villanueva wrote:
> Hi R users
> 
> I'm trying to replicate what the fGarch model does when any of the its
> submodels incorporated are specified. I tried to look for help on the web
> but not succeeded.
> 
> Up to now, i am able to get almost all but i got problems to replicate the
> result of the aparch submodel.
> 
> I'm following the specification of the model set out in
> "Introduction_to_the_rugarch_package.pdf"  (equation 26, to be more
> precise) . It seems like i am not correctly setting the constraints of the
> parameters needed. Based on the document, to get the aparch submodel from
> the general equation of the fGarch model, the following constraints have to
> be set:
> 
> - delta = lambda
> - eta2 = 0
> - abs(eta1) <= 1
> 
> It seems like i'm missing someone of them.
> 
> This is what i did.
> 
>  library(rugarch)
> 
>  data(sp500ret)
> 
>  seed=1
> 
>  ##################################################
>  # SIMULATION WITH THE RUGARCH BUILT-IN FUNCTIONS
> 
>  spec=ugarchspec(variance.model = list(model = "fGARCH", submodel =
> "APARCH",
>                  garchOrder = c(1,1)),
>                  mean.model = list(armaOrder = c(0,0), include.mean = TRUE),
>                  distribution.model = "norm")
> 
>  model=ugarchfit(spec,as.xts(sp500ret),solver = "hybrid")
> 
>  sim.ruGarch = ugarchsim(model, n.sim = 100,n.start = 0, m.sim = 1,
>                          startMethod = 'sample',rseed = seed)
> 
> 
> ##################################################
>  ###  MY ATTEMPT TO MANUALLY REPLICATE IT.
> 
> 
>  # STORE PARAMETERS TO USE THEM LATER ON
> 
>  ParIndx=model at model$pidx
>  Param=model at model$pars
> 
>  mu=Param[ParIndx["mu",1]:ParIndx["mu",2],1]
>  ar=Param[ParIndx["ar",1]:ParIndx["ar",2],1]
>  orden.ar=length(ar)
>  ma=Param[ParIndx["ma",1]:ParIndx["ma",2],1]
>  orden.ma=length(ma)
>  arfima=Param[ParIndx["arfima",1]:ParIndx["arfima",2],1]
>  archm=Param[ParIndx["archm",1]:ParIndx["archm",2],1]
>  mxreg=Param[ParIndx["mxreg",1]:ParIndx["mxreg",2],1]
>  omega=Param[ParIndx["omega",1]:ParIndx["omega",2],1]
>  alpha=Param[ParIndx["alpha",1]:ParIndx["alpha",2],1]
>  orden.alpha=length(alpha)
>  beta=Param[ParIndx["beta",1]:ParIndx["beta",2],1]
>  orden.beta=length(beta)
>  gamma=Param[ParIndx["gamma",1]:ParIndx["gamma",2],1]
>  eta1=Param[ParIndx["eta1",1]:ParIndx["eta1",2],1]
>  eta2=Param[ParIndx["eta2",1]:ParIndx["eta2",2],1]
>  delta=Param[ParIndx["delta",1]:ParIndx["delta",2],1]
>  lambda=Param[ParIndx["lambda",1]:ParIndx["lambda",2],1]
>  vxreg=Param[ParIndx["vxreg",1]:ParIndx["vxreg",2],1]
>  skew=Param[ParIndx["skew",1]:ParIndx["skew",2],1]
>  shape=Param[ParIndx["shape",1]:ParIndx["shape",2],1]
>  ghlambda=Param[ParIndx["ghlambda",1]:ParIndx["ghlambda",2],1]
> 
>  # SET INITIAL VALUES.
> 
>  h=array(0,c(101))
>  epsilon=array(0,c(101))
>  z=array(0,c(101))
>  y=array(0,c(101))
> 
>  y[1]=tail(model at model$modeldata$data,1)
>  h[1]=tail(model at fit$sigma,1)
>  epsilon[1]=tail(model at fit$residuals,1)
>  z[1]=epsilon[1]/h[1]
> 
> 
>  set.seed(seed)
> 
>  z[2:101]=rdist(distribution = "norm", n=100, mu = 0, sigma = 1,
>                         lambda = ghlambda, skew = skew,shape = shape)
> 
>  for(i in 2:101)
>  {
> 
>     h[i] = omega+
> 
>  sum(alpha*h[i-(1:orden.alpha)]^lambda*((abs(z[i-(1:orden.alpha)]-eta2)-eta1*(z[i-(1:orden.alpha)]-eta2))^delta))+
>            sum(beta*h[i-(1:orden.beta)]^lambda)
> 
>     h[i] = h[i]^(1/lambda)
> 
>     epsilon[i] = h[i]*z[i]
> 
>     y[i] = mu+sum(ar*(y[i-(1:orden.ar)]-mu))+sum(ma*epsilon[i-(1:orden.ma
> )])+epsilon[i]
> 
>  }
> 
>  h=h[-1]
>  epsilon=epsilon[-1]
>  y=y[-1]
> 
> 
> After running this, this is what i get:
> 
>> head(data.frame(round(h,7),round(sigma(sim.ruGarch),7)))
>     round.h..7. round.sigma.sim.ruGarch...7.
> T+1   0.0247601                    0.0260287
> T+2   0.0247232                    0.0262280
> T+3   0.0246867                    0.0246775
> T+4   0.0246505                    0.0255587
> T+5   0.0246145                    0.0243801
> T+6   0.0245789                    0.0229765
> 
> 
> Could anyone help me to figure out what i am doing wrong?
> 
> Any help would be strongly appreciated.
> 
> Cheers!!
>


From zadig_1 at excite.com  Wed Feb 26 16:50:31 2014
From: zadig_1 at excite.com (ce)
Date: Wed, 26 Feb 2014 10:50:31 -0500
Subject: [R-SIG-Finance] medium term Curreny/fx forecasting ( with ar ma
	arma + garch ? )
Message-ID: <20140226105031.29348@web002.roc2.bluetie.com>


Dear all,

 I would like to get your expert opinion (from experience),  what is the best way to forecast medium term ( weeks to months )
 currency rates. Do auto regressive models like ar ma arma , farima etc with garch work ?
I read another thread in this group titled "Modeling FX rates" dated 15 Jan 2014, Dominykas pointed out "Exchange rates are not mean reverting".
Thanks a lot for reading. 
CE.


From stephen at organicfoodmarkets.com.au  Fri Feb 28 00:41:36 2014
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Fri, 28 Feb 2014 10:41:36 +1100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <5302596D.6070405@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
Message-ID: <530FCD30.2040805@organicfoodmarkets.com.au>

I hope someone can help me with this. No one has replied so far.

I am working on the principal that:

1. Volume is issued each time a trade takes place and is the cumulative 
volume for the day, and
2. lastPrice is the last price a trade took place and that is only 
issued again when the price changes.

This would lead me to be able to deduce the size of each deal from the 
change in volume and apply the (current) lastPrice to the transaction.

Have I got that right?

Even if I have I still have a problem.  Logic dictates that Volume !< 1 
but for example if I extract just the price volume data I get some 
examples like this:


10:17:12.158900 volume: 135    Price: 33.13
10:17:13.720741 volume: -47    Price: 33.13
10:17:22.875066 volume: 589    Price: 33.15

The original data was:

<20140210 10:17:12.158900> id=1 symbol=NAB Volume: 263348
<20140210 10:17:13.048749> id=1 symbol=NAB askSize: 2334
<20140210 10:17:13.720741> id=1 symbol=NAB Volume: 263301
<20140210 10:17:13.721744> id=1 symbol=NAB lastTimestamp: 1391987823
<20140210 10:17:13.723745> id=1 symbol=NAB lastPrice: 33.16
<20140210 10:17:13.724759> id=1 symbol=NAB lastSize: 88
<20140210 10:17:13.943221> id=1 symbol=NAB askSize: 2246
<20140210 10:17:17.308927> id=1 symbol=NAB askPrice: 33.15 askSize: 589
<20140210 10:17:17.309927> id=1 symbol=NAB askSize: 589
<20140210 10:17:18.195319> id=1 symbol=NAB askSize: 889
<20140210 10:17:20.466965> id=1 symbol=NAB bidSize: 3998
<20140210 10:17:21.219959> id=1 symbol=NAB askSize: 589
<20140210 10:17:22.868062> id=1 symbol=NAB lastTimestamp: 1391987832
<20140210 10:17:22.873064> id=1 symbol=NAB lastPrice: 33.15
<20140210 10:17:22.874064> id=1 symbol=NAB lastSize: 589
<20140210 10:17:22.875066> id=1 symbol=NAB Volume: 263890
<20140210 10:17:22.877067> id=1 symbol=NAB bidPrice: 33.14 bidSize: 762
<20140210 10:17:22.878067> id=1 symbol=NAB askPrice: 33.16 askSize: 3332

As you can see we also have two lastPrice's before the change in volume!

I know you might say just use lastPrice and lastSize but logic dictates 
you could have a lastPrice and multiple lastSize's but not multiple 
lastPrice's but see three lastPrices in a row below:


10:15:45.332624> id=1 symbol=NAB lastSize: 93
10:15:45.987894> id=1 symbol=NAB lastSize: 50
10:15:46.888228> id=1 symbol=NAB lastSize: 104
10:15:47.447062> id=1 symbol=NAB lastSize: 50
10:15:48.552406> id=1 symbol=NAB lastPrice: 33.10
10:15:49.450579> id=1 symbol=NAB lastSize: 42
10:15:50.201786> id=1 symbol=NAB lastSize: 122
10:15:51.455403> id=1 symbol=NAB lastSize: 50
10:15:54.460002> id=1 symbol=NAB lastPrice: 33.085
10:15:55.461604> id=1 symbol=NAB lastPrice: 33.10
10:15:56.463385> id=1 symbol=NAB lastPrice: 33.11
10:15:57.568193> id=1 symbol=NAB lastSize: 58
10:15:58.466236> id=1 symbol=NAB lastPrice: 33.10
10:15:59.585589> id=1 symbol=NAB lastPrice: 33.11
10:16:00.457302> id=1 symbol=NAB lastSize: 8
10:16:01.344762> id=1 symbol=NAB lastSize: 50
10:16:02.016870> id=1 symbol=NAB lastSize: 85
10:16:02.900224> id=1 symbol=NAB lastSize: 46
10:16:03.654076> id=1 symbol=NAB lastSize: 50
10:16:04.464855> id=1 symbol=NAB lastPrice: 33.095

(I have only shown the relevant lines.)

Have I got this wrong?  All I am trying to do is get accurate deal by 
deal price and size data.




Stephen Choularton PhD, FIoD


From stergios_marinopoulos at yahoo.com  Fri Feb 28 07:09:06 2014
From: stergios_marinopoulos at yahoo.com (Stergios Marinopoulos)
Date: Thu, 27 Feb 2014 22:09:06 -0800 (PST)
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <530FCD30.2040805@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<530FCD30.2040805@organicfoodmarkets.com.au>
Message-ID: <1393567746.59891.YahooMailNeo@web163004.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140227/ef5488dc/attachment.pl>

From brian at braverock.com  Fri Feb 28 14:28:46 2014
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 28 Feb 2014 07:28:46 -0600
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <530FCD30.2040805@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<530FCD30.2040805@organicfoodmarkets.com.au>
Message-ID: <53108F0E.8040503@braverock.com>

Look at the Interactive Brokers API docs, or call IB, as you are, after 
all, paying them.

There are lots of people on this list.  If no one has answered, it is 
likely because:

1> your example is not reproducible

2> no one else has encountered your problem

3> it would take too much time for someone to test and try to help,
    if this is the case, consider paying someone to do it.
    see 1> above to help yourself by producing reproducible code

Brian

On 02/27/2014 05:41 PM, Stephen Choularton wrote:
> I hope someone can help me with this. No one has replied so far.
>
> I am working on the principal that:
>
> 1. Volume is issued each time a trade takes place and is the cumulative
> volume for the day, and
> 2. lastPrice is the last price a trade took place and that is only
> issued again when the price changes.
>
> This would lead me to be able to deduce the size of each deal from the
> change in volume and apply the (current) lastPrice to the transaction.
>
> Have I got that right?
>
> Even if I have I still have a problem.  Logic dictates that Volume !< 1
> but for example if I extract just the price volume data I get some
> examples like this:
>
>
> 10:17:12.158900 volume: 135    Price: 33.13
> 10:17:13.720741 volume: -47    Price: 33.13
> 10:17:22.875066 volume: 589    Price: 33.15
>
> The original data was:
>
> <20140210 10:17:12.158900> id=1 symbol=NAB Volume: 263348
> <20140210 10:17:13.048749> id=1 symbol=NAB askSize: 2334
> <20140210 10:17:13.720741> id=1 symbol=NAB Volume: 263301
> <20140210 10:17:13.721744> id=1 symbol=NAB lastTimestamp: 1391987823
> <20140210 10:17:13.723745> id=1 symbol=NAB lastPrice: 33.16
> <20140210 10:17:13.724759> id=1 symbol=NAB lastSize: 88
> <20140210 10:17:13.943221> id=1 symbol=NAB askSize: 2246
> <20140210 10:17:17.308927> id=1 symbol=NAB askPrice: 33.15 askSize: 589
> <20140210 10:17:17.309927> id=1 symbol=NAB askSize: 589
> <20140210 10:17:18.195319> id=1 symbol=NAB askSize: 889
> <20140210 10:17:20.466965> id=1 symbol=NAB bidSize: 3998
> <20140210 10:17:21.219959> id=1 symbol=NAB askSize: 589
> <20140210 10:17:22.868062> id=1 symbol=NAB lastTimestamp: 1391987832
> <20140210 10:17:22.873064> id=1 symbol=NAB lastPrice: 33.15
> <20140210 10:17:22.874064> id=1 symbol=NAB lastSize: 589
> <20140210 10:17:22.875066> id=1 symbol=NAB Volume: 263890
> <20140210 10:17:22.877067> id=1 symbol=NAB bidPrice: 33.14 bidSize: 762
> <20140210 10:17:22.878067> id=1 symbol=NAB askPrice: 33.16 askSize: 3332
>
> As you can see we also have two lastPrice's before the change in volume!
>
> I know you might say just use lastPrice and lastSize but logic dictates
> you could have a lastPrice and multiple lastSize's but not multiple
> lastPrice's but see three lastPrices in a row below:
>
>
> 10:15:45.332624> id=1 symbol=NAB lastSize: 93
> 10:15:45.987894> id=1 symbol=NAB lastSize: 50
> 10:15:46.888228> id=1 symbol=NAB lastSize: 104
> 10:15:47.447062> id=1 symbol=NAB lastSize: 50
> 10:15:48.552406> id=1 symbol=NAB lastPrice: 33.10
> 10:15:49.450579> id=1 symbol=NAB lastSize: 42
> 10:15:50.201786> id=1 symbol=NAB lastSize: 122
> 10:15:51.455403> id=1 symbol=NAB lastSize: 50
> 10:15:54.460002> id=1 symbol=NAB lastPrice: 33.085
> 10:15:55.461604> id=1 symbol=NAB lastPrice: 33.10
> 10:15:56.463385> id=1 symbol=NAB lastPrice: 33.11
> 10:15:57.568193> id=1 symbol=NAB lastSize: 58
> 10:15:58.466236> id=1 symbol=NAB lastPrice: 33.10
> 10:15:59.585589> id=1 symbol=NAB lastPrice: 33.11
> 10:16:00.457302> id=1 symbol=NAB lastSize: 8
> 10:16:01.344762> id=1 symbol=NAB lastSize: 50
> 10:16:02.016870> id=1 symbol=NAB lastSize: 85
> 10:16:02.900224> id=1 symbol=NAB lastSize: 46
> 10:16:03.654076> id=1 symbol=NAB lastSize: 50
> 10:16:04.464855> id=1 symbol=NAB lastPrice: 33.095
>
> (I have only shown the relevant lines.)
>
> Have I got this wrong?  All I am trying to do is get accurate deal by
> deal price and size data.


From zadig_1 at excite.com  Fri Feb 28 14:56:15 2014
From: zadig_1 at excite.com (ce)
Date: Fri, 28 Feb 2014 08:56:15 -0500
Subject: [R-SIG-Finance] meaning of IBroker mktData information
Message-ID: <20140228085615.31836@web006.roc2.bluetie.com>


Or did you try to ask your question to TWSAPI Yahoo group. they are quite knowledgeable :

https://groups.yahoo.com/group/TWSAPI
 

-----Original Message-----
From: "Brian G. Peterson" [brian at braverock.com]
Date: 02/28/2014 08:29 AM
To: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] meaning of IBroker mktData information

Look at the Interactive Brokers API docs, or call IB, as you are, after 
all, paying them.

There are lots of people on this list.  If no one has answered, it is 
likely because:

1> your example is not reproducible

2> no one else has encountered your problem

3> it would take too much time for someone to test and try to help,
    if this is the case, consider paying someone to do it.
    see 1> above to help yourself by producing reproducible code

Brian

On 02/27/2014 05:41 PM, Stephen Choularton wrote:
> I hope someone can help me with this. No one has replied so far.
>
> I am working on the principal that:
>
> 1. Volume is issued each time a trade takes place and is the cumulative
> volume for the day, and
> 2. lastPrice is the last price a trade took place and that is only
> issued again when the price changes.
>
> This would lead me to be able to deduce the size of each deal from the
> change in volume and apply the (current) lastPrice to the transaction.
>
> Have I got that right?
>
> Even if I have I still have a problem.  Logic dictates that Volume !< 1
> but for example if I extract just the price volume data I get some
> examples like this:
>
>
> 10:17:12.158900 volume: 135    Price: 33.13
> 10:17:13.720741 volume: -47    Price: 33.13
> 10:17:22.875066 volume: 589    Price: 33.15
>
> The original data was:
>
> <20140210 10:17:12.158900> id=1 symbol=NAB Volume: 263348
> <20140210 10:17:13.048749> id=1 symbol=NAB askSize: 2334
> <20140210 10:17:13.720741> id=1 symbol=NAB Volume: 263301
> <20140210 10:17:13.721744> id=1 symbol=NAB lastTimestamp: 1391987823
> <20140210 10:17:13.723745> id=1 symbol=NAB lastPrice: 33.16
> <20140210 10:17:13.724759> id=1 symbol=NAB lastSize: 88
> <20140210 10:17:13.943221> id=1 symbol=NAB askSize: 2246
> <20140210 10:17:17.308927> id=1 symbol=NAB askPrice: 33.15 askSize: 589
> <20140210 10:17:17.309927> id=1 symbol=NAB askSize: 589
> <20140210 10:17:18.195319> id=1 symbol=NAB askSize: 889
> <20140210 10:17:20.466965> id=1 symbol=NAB bidSize: 3998
> <20140210 10:17:21.219959> id=1 symbol=NAB askSize: 589
> <20140210 10:17:22.868062> id=1 symbol=NAB lastTimestamp: 1391987832
> <20140210 10:17:22.873064> id=1 symbol=NAB lastPrice: 33.15
> <20140210 10:17:22.874064> id=1 symbol=NAB lastSize: 589
> <20140210 10:17:22.875066> id=1 symbol=NAB Volume: 263890
> <20140210 10:17:22.877067> id=1 symbol=NAB bidPrice: 33.14 bidSize: 762
> <20140210 10:17:22.878067> id=1 symbol=NAB askPrice: 33.16 askSize: 3332
>
> As you can see we also have two lastPrice's before the change in volume!
>
> I know you might say just use lastPrice and lastSize but logic dictates
> you could have a lastPrice and multiple lastSize's but not multiple
> lastPrice's but see three lastPrices in a row below:
>
>
> 10:15:45.332624> id=1 symbol=NAB lastSize: 93
> 10:15:45.987894> id=1 symbol=NAB lastSize: 50
> 10:15:46.888228> id=1 symbol=NAB lastSize: 104
> 10:15:47.447062> id=1 symbol=NAB lastSize: 50
> 10:15:48.552406> id=1 symbol=NAB lastPrice: 33.10
> 10:15:49.450579> id=1 symbol=NAB lastSize: 42
> 10:15:50.201786> id=1 symbol=NAB lastSize: 122
> 10:15:51.455403> id=1 symbol=NAB lastSize: 50
> 10:15:54.460002> id=1 symbol=NAB lastPrice: 33.085
> 10:15:55.461604> id=1 symbol=NAB lastPrice: 33.10
> 10:15:56.463385> id=1 symbol=NAB lastPrice: 33.11
> 10:15:57.568193> id=1 symbol=NAB lastSize: 58
> 10:15:58.466236> id=1 symbol=NAB lastPrice: 33.10
> 10:15:59.585589> id=1 symbol=NAB lastPrice: 33.11
> 10:16:00.457302> id=1 symbol=NAB lastSize: 8
> 10:16:01.344762> id=1 symbol=NAB lastSize: 50
> 10:16:02.016870> id=1 symbol=NAB lastSize: 85
> 10:16:02.900224> id=1 symbol=NAB lastSize: 46
> 10:16:03.654076> id=1 symbol=NAB lastSize: 50
> 10:16:04.464855> id=1 symbol=NAB lastPrice: 33.095
>
> (I have only shown the relevant lines.)
>
> Have I got this wrong?  All I am trying to do is get accurate deal by
> deal price and size data.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From stephen at organicfoodmarkets.com.au  Fri Feb 28 21:14:55 2014
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Sat, 01 Mar 2014 07:14:55 +1100
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <53108F0E.8040503@braverock.com>
References: <5302596D.6070405@organicfoodmarkets.com.au>	<530FCD30.2040805@organicfoodmarkets.com.au>
	<53108F0E.8040503@braverock.com>
Message-ID: <5310EE3F.1050904@organicfoodmarkets.com.au>

Hi Brian

I would imagine anyone using IB data would discover the problem I did on 
first use.  If not they are being a bit too trusting in their data which 
should never be taken simply on face value.

Clearly others have come across this problem and thanks to everyone who 
pointed me towards the TWSAPI Yahoo group which has some material on 
it.  A suggested cause is that IB sacrifices comprehensive coverage in 
order to keep to real time.  That is, they do NOT transmit all the tick 
info as at busy times it can push the data many second back away from 
real time.

I have emailed IB asking them how I can accurately extract price and 
size information from the stream.  I will advise the group if I get 
anywhere.


Stephen Choularton PhD, FIoD

On 01/03/14 12:28 AM, Brian G. Peterson wrote:
> Look at the Interactive Brokers API docs, or call IB, as you are, 
> after all, paying them.
>
> There are lots of people on this list.  If no one has answered, it is 
> likely because:
>
> 1> your example is not reproducible
>
> 2> no one else has encountered your problem
>
> 3> it would take too much time for someone to test and try to help,
>    if this is the case, consider paying someone to do it.
>    see 1> above to help yourself by producing reproducible code
>
> Brian
>
> On 02/27/2014 05:41 PM, Stephen Choularton wrote:
>> I hope someone can help me with this. No one has replied so far.
>>
>> I am working on the principal that:
>>
>> 1. Volume is issued each time a trade takes place and is the cumulative
>> volume for the day, and
>> 2. lastPrice is the last price a trade took place and that is only
>> issued again when the price changes.
>>
>> This would lead me to be able to deduce the size of each deal from the
>> change in volume and apply the (current) lastPrice to the transaction.
>>
>> Have I got that right?
>>
>> Even if I have I still have a problem.  Logic dictates that Volume !< 1
>> but for example if I extract just the price volume data I get some
>> examples like this:
>>
>>
>> 10:17:12.158900 volume: 135    Price: 33.13
>> 10:17:13.720741 volume: -47    Price: 33.13
>> 10:17:22.875066 volume: 589    Price: 33.15
>>
>> The original data was:
>>
>> <20140210 10:17:12.158900> id=1 symbol=NAB Volume: 263348
>> <20140210 10:17:13.048749> id=1 symbol=NAB askSize: 2334
>> <20140210 10:17:13.720741> id=1 symbol=NAB Volume: 263301
>> <20140210 10:17:13.721744> id=1 symbol=NAB lastTimestamp: 1391987823
>> <20140210 10:17:13.723745> id=1 symbol=NAB lastPrice: 33.16
>> <20140210 10:17:13.724759> id=1 symbol=NAB lastSize: 88
>> <20140210 10:17:13.943221> id=1 symbol=NAB askSize: 2246
>> <20140210 10:17:17.308927> id=1 symbol=NAB askPrice: 33.15 askSize: 589
>> <20140210 10:17:17.309927> id=1 symbol=NAB askSize: 589
>> <20140210 10:17:18.195319> id=1 symbol=NAB askSize: 889
>> <20140210 10:17:20.466965> id=1 symbol=NAB bidSize: 3998
>> <20140210 10:17:21.219959> id=1 symbol=NAB askSize: 589
>> <20140210 10:17:22.868062> id=1 symbol=NAB lastTimestamp: 1391987832
>> <20140210 10:17:22.873064> id=1 symbol=NAB lastPrice: 33.15
>> <20140210 10:17:22.874064> id=1 symbol=NAB lastSize: 589
>> <20140210 10:17:22.875066> id=1 symbol=NAB Volume: 263890
>> <20140210 10:17:22.877067> id=1 symbol=NAB bidPrice: 33.14 bidSize: 762
>> <20140210 10:17:22.878067> id=1 symbol=NAB askPrice: 33.16 askSize: 3332
>>
>> As you can see we also have two lastPrice's before the change in volume!
>>
>> I know you might say just use lastPrice and lastSize but logic dictates
>> you could have a lastPrice and multiple lastSize's but not multiple
>> lastPrice's but see three lastPrices in a row below:
>>
>>
>> 10:15:45.332624> id=1 symbol=NAB lastSize: 93
>> 10:15:45.987894> id=1 symbol=NAB lastSize: 50
>> 10:15:46.888228> id=1 symbol=NAB lastSize: 104
>> 10:15:47.447062> id=1 symbol=NAB lastSize: 50
>> 10:15:48.552406> id=1 symbol=NAB lastPrice: 33.10
>> 10:15:49.450579> id=1 symbol=NAB lastSize: 42
>> 10:15:50.201786> id=1 symbol=NAB lastSize: 122
>> 10:15:51.455403> id=1 symbol=NAB lastSize: 50
>> 10:15:54.460002> id=1 symbol=NAB lastPrice: 33.085
>> 10:15:55.461604> id=1 symbol=NAB lastPrice: 33.10
>> 10:15:56.463385> id=1 symbol=NAB lastPrice: 33.11
>> 10:15:57.568193> id=1 symbol=NAB lastSize: 58
>> 10:15:58.466236> id=1 symbol=NAB lastPrice: 33.10
>> 10:15:59.585589> id=1 symbol=NAB lastPrice: 33.11
>> 10:16:00.457302> id=1 symbol=NAB lastSize: 8
>> 10:16:01.344762> id=1 symbol=NAB lastSize: 50
>> 10:16:02.016870> id=1 symbol=NAB lastSize: 85
>> 10:16:02.900224> id=1 symbol=NAB lastSize: 46
>> 10:16:03.654076> id=1 symbol=NAB lastSize: 50
>> 10:16:04.464855> id=1 symbol=NAB lastPrice: 33.095
>>
>> (I have only shown the relevant lines.)
>>
>> Have I got this wrong?  All I am trying to do is get accurate deal by
>> deal price and size data.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R 
> questions should go.
>


From markknecht at gmail.com  Fri Feb 28 22:57:11 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 28 Feb 2014 13:57:11 -0800
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <5310EE3F.1050904@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<530FCD30.2040805@organicfoodmarkets.com.au>
	<53108F0E.8040503@braverock.com>
	<5310EE3F.1050904@organicfoodmarkets.com.au>
Message-ID: <CAK2H+eeg_-SV8TuF5QojW55ZP=0oAvMhrMyPt6CuO_Skmm9uGw@mail.gmail.com>

On Fri, Feb 28, 2014 at 12:14 PM, Stephen Choularton
<stephen at organicfoodmarkets.com.au> wrote:
> Hi Brian
>
> I would imagine anyone using IB data would discover the problem I did on
> first use.  If not they are being a bit too trusting in their data which
> should never be taken simply on face value.
>
> Clearly others have come across this problem and thanks to everyone who
> pointed me towards the TWSAPI Yahoo group which has some material on it.  A
> suggested cause is that IB sacrifices comprehensive coverage in order to
> keep to real time.  That is, they do NOT transmit all the tick info as at
> busy times it can push the data many second back away from real time.
>
> I have emailed IB asking them how I can accurately extract price and size
> information from the stream.  I will advise the group if I get anywhere.
>
<SNIP>

A post with one (somewhat well known) individual's view on different
data providers:

https://www.bigmiketrading.com/brokers-data-feeds/22585-unfiltered-data.html


From herrold at owlriver.com  Fri Feb 28 23:40:10 2014
From: herrold at owlriver.com (R P Herrold)
Date: Fri, 28 Feb 2014 17:40:10 -0500 (EST)
Subject: [R-SIG-Finance] meaning of IBroker mktData information
In-Reply-To: <5310EE3F.1050904@organicfoodmarkets.com.au>
References: <5302596D.6070405@organicfoodmarkets.com.au>
	<530FCD30.2040805@organicfoodmarkets.com.au>
	<53108F0E.8040503@braverock.com>
	<5310EE3F.1050904@organicfoodmarkets.com.au>
Message-ID: <alpine.LRH.2.03.1402281734550.29515@bjyevire.pbz>

On Sat, 1 Mar 2014, Stephen Choularton wrote:

> Clearly others have come across this problem and thanks to everyone who
> pointed me towards the TWSAPI Yahoo group which has some material on it.  A
> suggested cause is that IB sacrifices comprehensive coverage in order to keep
> to real time.  That is, they do NOT transmit all the tick info as at busy
> times it can push the data many second back away from real time.

Without putting too fine a point on the matter, the IB tick 
summarization approach has NEVER purported to be 
'comprehensive', but rather is designed to keep up in fast 
paced markets rather than bogging down

There is nothing 'sacrific[al]' about it

After about the hundredth time of being asked the same 
questions by newcomers who have not read the documentation or 
the back archive, the people who have the answer lose interest 
retyping that which the archive and documentation clearly 
state

-- Russ herrold


From shukla.kapil at gmail.com  Mon Mar  3 16:04:43 2014
From: shukla.kapil at gmail.com (Kapil Shukla)
Date: Mon, 3 Mar 2014 23:04:43 +0800
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
Message-ID: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140303/65dcae7e/attachment.pl>

From markknecht at gmail.com  Mon Mar  3 16:15:12 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 3 Mar 2014 07:15:12 -0800
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
In-Reply-To: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
References: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
Message-ID: <CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>

On Mon, Mar 3, 2014 at 7:04 AM, Kapil Shukla <shukla.kapil at gmail.com> wrote:
> Hi All
>
> I am totally new to R so this question may sound basic to many of you. I am
> trying to use R for time series analysis of some financial instruments.
> Currently i have hourly data of a stock which has OPEN/HIGH/LOW/CLOSE in a
> CSV file. I used read.table to import the data in R in to a dataframe but i
> am following below issues:
>
> 1. Date is coming in character format and i am not sure whats the best
> package of function to format the date in "DD/MM/YY HH:MM" format
> 2. When i plot the data using PLOT() data points are so overlapping on the
> chart that its hard to identify the data points. I am not able to specify
> XLIM parameter as my dates are in character. I tried using the C() function
> to provide the first hour and last hour of the data but it won't accept it.
> Is there any better package for plotting time series data.
> 3. Any package which can help me plot the candle stick chart for this OHLC
> data and help me do some statistical analysis on the data.
>
> Thanks in Advance.
>
> Regards
> Kapil


Kapil,
   Welcome to R.

   You will do better here if you provide a reproducible example. Read
your data in and then segment a little piece using dput to show what
it looks like. Build an example that uses maybe 10 lines of data. Post
the code. From there's it's likely an issue of better defining for R
how to handle data/time. Look at the xts package for more info and
post real R code showing what you are doing so others can help.

   Also, there are examples of doing this sort of thing in Stack
Overflow so possibly spend some time there.

- Mark


From shukla.kapil at gmail.com  Mon Mar  3 16:26:30 2014
From: shukla.kapil at gmail.com (Kapil Shukla)
Date: Mon, 3 Mar 2014 23:26:30 +0800
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
In-Reply-To: <CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>
References: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
	<CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>
Message-ID: <CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140303/a8bb144f/attachment.pl>

From markknecht at gmail.com  Mon Mar  3 17:09:58 2014
From: markknecht at gmail.com (Mark Knecht)
Date: Mon, 3 Mar 2014 08:09:58 -0800
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
In-Reply-To: <CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>
References: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
	<CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>
	<CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>
Message-ID: <CAK2H+efVey2GWtwZrCofvAS1DE4UNhaY==05FDivnjCsnWWnbg@mail.gmail.com>

On Mon, Mar 3, 2014 at 7:26 AM, Kapil Shukla <shukla.kapil at gmail.com> wrote:
> Thanks Mark for such a quick reply. I follow the following steps
>
> 1. hourly_bid <- read.table("ech14_hourly_bid.csv", header=TRUE, sep=",",
> stringsAsFactors =FALSE)
> 2.  This is how top 10 rows of my data look like.
>
>              Date   OPEN   HIGH    LOW LAST_PRICE NUMBER_TICKS VOLUME
> VALUE
> 1   7/29/2013 7:00 1.3292 1.3296 1.3288     1.3288           23     46
> 61.1444
> 2   7/29/2013 8:00 1.3286 1.3293 1.3284     1.3293           21     42
> 55.8108
> 3   7/29/2013 9:00 1.3294 1.3297 1.3292     1.3293            6     12
> 15.9534
> 4  7/29/2013 10:00 1.3294 1.3295 1.3294     1.3295            2      4
> 5.3178
> 5  7/29/2013 11:00 1.3290 1.3293 1.3288     1.3291            8     16
> 21.2648
> 6  7/29/2013 12:00 1.3286 1.3289 1.3278     1.3283           13     26
> 34.5364
> 7  7/29/2013 13:00 1.3284 1.3285 1.3280     1.3285            8     16
> 21.2528
> 8  7/29/2013 14:00 1.3280 1.3285 1.3267     1.3270           34     68
> 90.2860
> 9  7/29/2013 15:00 1.3271 1.3282 1.3265     1.3276           63    126
> 167.2468
> 10 7/29/2013 16:00 1.3271 1.3298 1.3271     1.3290          132    352
> 467.7688
>
>
> 3. Structure of my data is as follow
>
> 'data.frame': 10 obs. of  8 variables:
>  $ Date        : chr  "7/29/2013 7:00" "7/29/2013 8:00" "7/29/2013 9:00"
> "7/29/2013 10:00" ...
>  $ OPEN        : num  1.33 1.33 1.33 1.33 1.33 ...
>  $ HIGH        : num  1.33 1.33 1.33 1.33 1.33 ...
>  $ LOW         : num  1.33 1.33 1.33 1.33 1.33 ...
>  $ LAST_PRICE  : num  1.33 1.33 1.33 1.33 1.33 ...
>  $ NUMBER_TICKS: int  23 21 6 2 8 13 8 34 63 132
>  $ VOLUME      : int  46 42 12 4 16 26 16 68 126 352
>  $ VALUE       : num  61.14 55.81 15.95 5.32 21.26 ...
>
> 3. When i try to plot the date vs the high i get the below error message. I
> guess its due to fact that R is not able to guess the X asis points plot
>
>
>
>
> plot(a$Date, a$HIGH, type="b")
> Error in plot.window(...) : need finite 'xlim' values
>
>
>
> 4. Now when i try to convert Date using strptime(a$Date, format = "%m/%d/%Y
> %H:%M" my data frame shows correct structure but i still get the same error
> in plotting. Should i use any specific function to plot and what if i want
> to make candle stick chart from the data i have?
>
>
>
>

Kapil,
   Please post _reproducible_ R code. It should be R code in a format
that people can copy straight from your email and if they run it they
get the same results you get. Without reproducible code many/most
requests for help go unanswered or receive a similar response to this.

   Also, please do NOT post HTML code. I generally do not respond to
people that post HTML. There are others that have similar practices.
Best that you read the guideline for this list as well.

Good luck,
Mark


From chinmay.patil at gmail.com  Tue Mar  4 01:00:33 2014
From: chinmay.patil at gmail.com (Chinmay Patil)
Date: Tue, 4 Mar 2014 08:00:33 +0800
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
In-Reply-To: <CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>
References: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
	<CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>
	<CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>
Message-ID: <CA+kDFFVnBJnnc-F=eMWvUq-sdJqcypH1txq2P=8os19FA22JdQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140304/43d07a83/attachment.pl>

From jaimie.villanueva at gmail.com  Tue Mar  4 04:22:15 2014
From: jaimie.villanueva at gmail.com (Jaimie Villanueva)
Date: Tue, 4 Mar 2014 04:22:15 +0100
Subject: [R-SIG-Finance] Time Series Data Analysis of Financial Data
In-Reply-To: <CA+kDFFVnBJnnc-F=eMWvUq-sdJqcypH1txq2P=8os19FA22JdQ@mail.gmail.com>
References: <CAN=486mQtSi4-zRTbCjzvzutKTQVxMsLBtab2j5zya6h9CX3QQ@mail.gmail.com>
	<CAK2H+edR4fnv8XXweKk_yXszXFXe=HcUZ349f3PDh5B5mwBEZg@mail.gmail.com>
	<CAN=486nnUB=fSYmnp7UsjgAoMU5gradBCMcv4r5rZkMN+WcoBw@mail.gmail.com>
	<CA+kDFFVnBJnnc-F=eMWvUq-sdJqcypH1txq2P=8os19FA22JdQ@mail.gmail.com>
Message-ID: <CAEXmNQDkvUWBR8iW1WsHLmbGP_jco_gZmZ3Lx2XTxNOrMo-StA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140304/cd55a801/attachment.pl>

From jesperhybel at hotmail.com  Fri Mar  7 14:12:05 2014
From: jesperhybel at hotmail.com (Jesper Hybel Pedersen)
Date: Fri, 7 Mar 2014 13:12:05 +0000
Subject: [R-SIG-Finance] Good evening R Sig Finance
Message-ID: <E1WLuN7-0003xg-D2@elasmtp-masked.atl.sa.earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140307/9cb25569/attachment.pl>

From kw1958 at gmail.com  Fri Mar  7 21:38:24 2014
From: kw1958 at gmail.com (Keith S Weintraub)
Date: Fri, 7 Mar 2014 15:38:24 -0500
Subject: [R-SIG-Finance] Term structure
Message-ID: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>

Folks,

I am having a difficult time finding a package that provides functionality whereby I can input a list of Swap rates and maturities  (1m, 3m, 6m, ..., 1yr, 2yr, ..., 30yr...) and get back a data-structure of some kind that will allow me to compute discount factors and/or forwards.

I have looked at termstrc and a few others that seem a bit abstruse or less than useful for my purposes.

Code examples welcome (but not necessary).

Thanks for your time,
KW

--


From josh.m.ulrich at gmail.com  Fri Mar  7 21:41:05 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 7 Mar 2014 14:41:05 -0600
Subject: [R-SIG-Finance] Term structure
In-Reply-To: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
References: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
Message-ID: <CAPPM_gR40TKLH4D40sVffjRkKQb4HC-iw=jAq+tH6PBiAHCZRQ@mail.gmail.com>

This functionality is in RQuantLib.
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Fri, Mar 7, 2014 at 2:38 PM, Keith S Weintraub <kw1958 at gmail.com> wrote:
> Folks,
>
> I am having a difficult time finding a package that provides functionality whereby I can input a list of Swap rates and maturities  (1m, 3m, 6m, ..., 1yr, 2yr, ..., 30yr...) and get back a data-structure of some kind that will allow me to compute discount factors and/or forwards.
>
> I have looked at termstrc and a few others that seem a bit abstruse or less than useful for my purposes.
>
> Code examples welcome (but not necessary).
>
> Thanks for your time,
> KW
>
> --
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From paulofel at hotmail.com  Sat Mar  8 01:53:08 2014
From: paulofel at hotmail.com (paulofel)
Date: Fri, 7 Mar 2014 16:53:08 -0800 (PST)
Subject: [R-SIG-Finance] How to retrieve standard errors of
 cointegrating vector from vars/urca ?
In-Reply-To: <CALBLFAWBvLwyA=o366kj8vLcXOgLQ_Z-3xQaTd7CBczhrtLKkw@mail.gmail.com>
References: <CALBLFAWBvLwyA=o366kj8vLcXOgLQ_Z-3xQaTd7CBczhrtLKkw@mail.gmail.com>
Message-ID: <1394239988697-4686477.post@n4.nabble.com>

The code is available at http://www.jstatsoft.org/v27/i04/.

###################################################
### VECM r = 1
###################################################
vecm <- ca.jo(Canada[, c("rw", "prod", "e", "U")], type = "trace", ecdet =
"trend", K = 3, spec = "transitory") 
vecm.r1 <- cajorls(vecm, r = 1)
##
## Calculation of t-values for alpha and beta
##
alpha <- coef(vecm.r1$rlm)[1, ]
names(alpha) <- c("rw", "prod", "e", "U")
alpha
beta <- vecm.r1$beta
beta
resids <- resid(vecm.r1$rlm)
N <- nrow(resids)
sigma <- crossprod(resids) / N
## t-stats for alpha (calculated by hand)
alpha.se <- sqrt(solve(crossprod(cbind(vecm at ZK %*% beta, vecm at Z1)))[1, 1] *
diag(sigma))
names(alpha.se) <-  c("rw", "prod", "e", "U")
alpha.t <- alpha / alpha.se
alpha.t
## Differ slightly from coef(summary(vecm.r1$rlm))
## due to degrees of freedom adjustment 
coef(summary(vecm.r1$rlm))
## t-stats for beta
beta.se <- sqrt(diag(kronecker(solve(crossprod(vecm at RK[, -1])),
                               solve(t(alpha) %*% solve(sigma) %*% alpha))))
beta.t <- c(NA, beta[-1] / beta.se)
names(beta.t) <- rownames(vecm.r1$beta)
beta.t





--
View this message in context: http://r.789695.n4.nabble.com/How-to-retrieve-standard-errors-of-cointegrating-vector-from-vars-urca-tp4655136p4686477.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From kw1958 at gmail.com  Sat Mar  8 16:06:40 2014
From: kw1958 at gmail.com (Keith S Weintraub)
Date: Sat, 8 Mar 2014 10:06:40 -0500
Subject: [R-SIG-Finance] Term structure
In-Reply-To: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
References: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
Message-ID: <DC5610B3-B9C2-43A3-BC52-BD7E14FE3A10@gmail.com>

Folks,

I won't bother you all again but I don't think the RQuantLib package will fit my needs.

I don't think it goes out past 30yrs and it doesn't have a flexible enough set of inputs. For example I can get a 7yr rate from my "provider" but there is no place in DiscountCurve to use it.

Also there are some comments about buggy code that make me less than confident.

Note that I am not putting down the package or the author, I understand that these are "free" contributions and that the package(s) may suit some applications better than others.

If any of you have any other suggestions I would greatly appreciate them.

Thanks again for your time,
KW

PS I may, at my own peril, repost this to one of the other R lists just to see if a broader audience can help.

--

On Mar 7, 2014, at 3:38 PM, Keith S Weintraub <kw1958 at gmail.com> wrote:

> Folks,
> 
> I am having a difficult time finding a package that provides functionality whereby I can input a list of Swap rates and maturities  (1m, 3m, 6m, ..., 1yr, 2yr, ..., 30yr...) and get back a data-structure of some kind that will allow me to compute discount factors and/or forwards.
> 
> I have looked at termstrc and a few others that seem a bit abstruse or less than useful for my purposes.
> 
> Code examples welcome (but not necessary).
> 
> Thanks for your time,
> KW
> 
> --
> 


From edd at debian.org  Sat Mar  8 16:19:26 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 8 Mar 2014 09:19:26 -0600
Subject: [R-SIG-Finance] Term structure
In-Reply-To: <DC5610B3-B9C2-43A3-BC52-BD7E14FE3A10@gmail.com>
References: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
	<DC5610B3-B9C2-43A3-BC52-BD7E14FE3A10@gmail.com>
Message-ID: <21275.13566.663361.419114@max.nulle.part>


On 8 March 2014 at 10:06, Keith S Weintraub wrote:
| I won't bother you all again but I don't think the RQuantLib package will fit my needs.
| 
| I don't think it goes out past 30yrs and it doesn't have a flexible enough set of inputs. For example I can get a 7yr rate from my "provider" but there is no place in DiscountCurve to use it.
| 
| Also there are some comments about buggy code that make me less than confident.

It's open source, so if you have improvements to the discount curve code,
I'll gladly look at the RQuantLib part and the rest of the QuantLib team will
surely look at fixes to curve construction.

| Note that I am not putting down the package or the author, I understand that these are "free" contributions and that the package(s) may suit some applications better than others.

I personally have not used the fixed income parts much (apart from
supervising a Google Summer of Code student on this part), and that may show.
But contributions are always welcome.  If you have an itch to scratch ...  Or
else if you have professional needs, maybe some resources can be devoted to
this
 
| If any of you have any other suggestions I would greatly appreciate them.

There is a Task View for Finance

      http://cran.r-project.org/web/views/Finance.html

Contributions and updates to that are also always welcome.

Dirk

PS And I am aware that RQuantLib currently bombs on OS X. I made the
assumption that people compiled locally there too when they do in fact get
RQuantLib as a prebuilt appliance so I cannot assume quantlib-config. This
will get fixed "soon".  In the meantime, it does of course work if you
actually have quantlib-config in your $PATH ...

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From kw1958 at gmail.com  Sat Mar  8 16:49:02 2014
From: kw1958 at gmail.com (Keith S Weintraub)
Date: Sat, 8 Mar 2014 10:49:02 -0500
Subject: [R-SIG-Finance] Term structure
In-Reply-To: <21275.13566.663361.419114@max.nulle.part>
References: <6339891F-E4FD-49E1-B4A6-065C96E8E1E0@gmail.com>
	<DC5610B3-B9C2-43A3-BC52-BD7E14FE3A10@gmail.com>
	<21275.13566.663361.419114@max.nulle.part>
Message-ID: <3ECE4684-3C2A-4B1C-A37A-1248F76AC591@gmail.com>

I will look through the Finance Task View (again) in the hope that I can get something that works for me.

I probably can make something that will give me the results that I want but I doubt I would be able to create a package that would be bullet-proof enough for others to use.

Can you tell me what you mean by this:

> This
> will get fixed "soon".  In the meantime, it does of course work if you
> actually have quantlib-config in your $PATH ...


Have you tried this on OS X? Mavericks? What $PATH are you talking about? In R? Do I have to build RQuantLib?

If it is as simple as fixing a PATH and installing RQuantLib I'm sure I can do that. What still remains is the fact that the curve "stuff" isn't quite right (for me) but at least I would be able to use all the other facilities of RQuantLib.

Question: You said you haven't used the "fixed-income parts". Don't you need good (reasonable) discount factors for equities and commodities?


--

On Mar 8, 2014, at 10:19 AM, Dirk Eddelbuettel <edd at debian.org> wrote:

> 
> On 8 March 2014 at 10:06, Keith S Weintraub wrote:
> | I won't bother you all again but I don't think the RQuantLib package will fit my needs.
> | 
> | I don't think it goes out past 30yrs and it doesn't have a flexible enough set of inputs. For example I can get a 7yr rate from my "provider" but there is no place in DiscountCurve to use it.
> | 
> | Also there are some comments about buggy code that make me less than confident.
> 
> It's open source, so if you have improvements to the discount curve code,
> I'll gladly look at the RQuantLib part and the rest of the QuantLib team will
> surely look at fixes to curve construction.
> 
> | Note that I am not putting down the package or the author, I understand that these are "free" contributions and that the package(s) may suit some applications better than others.
> 
> I personally have not used the fixed income parts much (apart from
> supervising a Google Summer of Code student on this part), and that may show.
> But contributions are always welcome.  If you have an itch to scratch ...  Or
> else if you have professional needs, maybe some resources can be devoted to
> this
> 
> | If any of you have any other suggestions I would greatly appreciate them.
> 
> There is a Task View for Finance
> 
>      http://cran.r-project.org/web/views/Finance.html
> 
> Contributions and updates to that are also always welcome.
> 
> Dirk
> 
> PS And I am aware that RQuantLib currently bombs on OS X. I made the
> assumption that people compiled locally there too when they do in fact get
> RQuantLib as a prebuilt appliance so I cannot assume quantlib-config. This
> will get fixed "soon".  In the meantime, it does of course work if you
> actually have quantlib-config in your $PATH ...
> 
> -- 
> Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From junluke at gmail.com  Sun Mar  9 05:25:26 2014
From: junluke at gmail.com (jun wang)
Date: Sat, 8 Mar 2014 23:25:26 -0500
Subject: [R-SIG-Finance] GAS model
Message-ID: <CAPD4hGD4zJzMPh7b1sCnwzji8VozeUu-myh7mYE9ydsvWjnmHg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140308/df5c7915/attachment.pl>

From junluke at gmail.com  Sun Mar  9 14:43:43 2014
From: junluke at gmail.com (Gmail)
Date: Sun, 9 Mar 2014 09:43:43 -0400
Subject: [R-SIG-Finance] GAS model
In-Reply-To: <CAD8a-zzZWz_39_6H4UVCSrjtq53eNvBMy-oZyoZUjsS7-2JJng@mail.gmail.com>
References: <CAPD4hGD4zJzMPh7b1sCnwzji8VozeUu-myh7mYE9ydsvWjnmHg@mail.gmail.com>
	<CAD8a-zy2=er2=TVeXXqy81NiV7Xw+gWrtvFjjnJaPU==QVCYdA@mail.gmail.com>
	<CAD8a-zzZWz_39_6H4UVCSrjtq53eNvBMy-oZyoZUjsS7-2JJng@mail.gmail.com>
Message-ID: <9B21CB02-4979-481C-A6AB-55C8DDC3E529@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140309/705359f3/attachment.pl>

From junluke at gmail.com  Sun Mar  9 18:07:10 2014
From: junluke at gmail.com (jun wang)
Date: Sun, 9 Mar 2014 13:07:10 -0400
Subject: [R-SIG-Finance] GAS model
In-Reply-To: <CAD8a-zwRyBEmb55dqxuSDWvt_VB--nZy1tOCJdFP__kFh4AdbQ@mail.gmail.com>
References: <CAPD4hGD4zJzMPh7b1sCnwzji8VozeUu-myh7mYE9ydsvWjnmHg@mail.gmail.com>
	<CAD8a-zy2=er2=TVeXXqy81NiV7Xw+gWrtvFjjnJaPU==QVCYdA@mail.gmail.com>
	<CAD8a-zzZWz_39_6H4UVCSrjtq53eNvBMy-oZyoZUjsS7-2JJng@mail.gmail.com>
	<9B21CB02-4979-481C-A6AB-55C8DDC3E529@gmail.com>
	<CAD8a-zwRyBEmb55dqxuSDWvt_VB--nZy1tOCJdFP__kFh4AdbQ@mail.gmail.com>
Message-ID: <CAPD4hGC0sOdU-HBnH1RFdry_YjaSC-=vA=EcYFj6N0RhrsDutQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140309/5ac07aef/attachment.pl>

From junluke at gmail.com  Sun Mar  9 18:25:32 2014
From: junluke at gmail.com (jun wang)
Date: Sun, 9 Mar 2014 13:25:32 -0400
Subject: [R-SIG-Finance] GAS model
In-Reply-To: <CAD8a-zzDwzQtrkyAPD+cO3xtfjnOk7NpfatMjejP02W6m2_6kQ@mail.gmail.com>
References: <CAPD4hGD4zJzMPh7b1sCnwzji8VozeUu-myh7mYE9ydsvWjnmHg@mail.gmail.com>
	<CAD8a-zy2=er2=TVeXXqy81NiV7Xw+gWrtvFjjnJaPU==QVCYdA@mail.gmail.com>
	<CAD8a-zzZWz_39_6H4UVCSrjtq53eNvBMy-oZyoZUjsS7-2JJng@mail.gmail.com>
	<9B21CB02-4979-481C-A6AB-55C8DDC3E529@gmail.com>
	<CAD8a-zwRyBEmb55dqxuSDWvt_VB--nZy1tOCJdFP__kFh4AdbQ@mail.gmail.com>
	<CAPD4hGC0sOdU-HBnH1RFdry_YjaSC-=vA=EcYFj6N0RhrsDutQ@mail.gmail.com>
	<CAD8a-zzZCTFBPYLb5nQGk6WM0e5Tu1Mj7caRQ6DtQhJPw+ZXSg@mail.gmail.com>
	<CAD8a-zzDwzQtrkyAPD+cO3xtfjnOk7NpfatMjejP02W6m2_6kQ@mail.gmail.com>
Message-ID: <CAPD4hGAgs+mumUM=kBp1x--jy9i2vavDqg4Ou6i91_E3SW+ZiQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140309/e17198e1/attachment.pl>

From noahsilverman at ucla.edu  Fri Mar 14 16:30:43 2014
From: noahsilverman at ucla.edu (Noah Silverman)
Date: Fri, 14 Mar 2014 08:30:43 -0700
Subject: [R-SIG-Finance] Quantstrat help
Message-ID: <532320A3.9090702@ucla.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140314/4cad244f/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Mar 14 16:52:11 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 14 Mar 2014 10:52:11 -0500
Subject: [R-SIG-Finance] Quantstrat help
In-Reply-To: <532320A3.9090702@ucla.edu>
References: <532320A3.9090702@ucla.edu>
Message-ID: <CAPPM_gQQCc_w00V42RdyeGdk26zD0aouAPUf6WiCJuFn3YVqqg@mail.gmail.com>

On Fri, Mar 14, 2014 at 10:30 AM, Noah Silverman <noahsilverman at ucla.edu> wrote:
>
> Hi,
>
> Working on developing a complex portfolio and backtesting strategy.
> >From what I've read, the quantstrat package looks ideal for working
> through the ideas.
>
> Two questions:
>
> 1) I have an indicator that is pre-calculated.  (From a bunch of
> complicated functions and outside data.)  I'd like to simply pass the
> vector of values into quantstrat, but can't figure out how to do that.
> The function to add a signal appears to only accept functions, not
> data.  Is there a way for me to do this?
>
If it needed a function and there was no way to pass data, you could
wrap your data in a function.
datafun <- function(...) mydata

But nothing *requires* that you call/use add.indicator().  Simply
merge your indicator with your market data.

> 2) Along the lines of #1 above:  I have my financial data directly from
> a vendor.  It already has OHLC defined.  Can I simply pass this to
> quanstrat?  If so, what is the proper order/formant/naming of columns to
> make quanstrat happy?
>
That depends on the specifics of the strategy you're trying to build,
which you haven't provided.

> Thanks!
>
> --
> *Noah Silverman, PhD* | UCLA Department of Statistics
> 8117 Math Sciences Building, Los Angeles, CA 90095
>

--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From noahsilverman at ucla.edu  Fri Mar 14 21:26:34 2014
From: noahsilverman at ucla.edu (NOAH SILVERMAN)
Date: Fri, 14 Mar 2014 13:26:34 -0700
Subject: [R-SIG-Finance] Quantstrat help
In-Reply-To: <CAPPM_gQQCc_w00V42RdyeGdk26zD0aouAPUf6WiCJuFn3YVqqg@mail.gmail.com>
References: <532320A3.9090702@ucla.edu>
	<CAPPM_gQQCc_w00V42RdyeGdk26zD0aouAPUf6WiCJuFn3YVqqg@mail.gmail.com>
Message-ID: <CAJh99TFtF6cc4ZZTAvC64LRCSjPERPbuRes0J-LeXpwrHQhuqg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140314/72b36a7f/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Mar 14 21:32:37 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 14 Mar 2014 15:32:37 -0500
Subject: [R-SIG-Finance] Quantstrat help
In-Reply-To: <CAJh99TFtF6cc4ZZTAvC64LRCSjPERPbuRes0J-LeXpwrHQhuqg@mail.gmail.com>
References: <532320A3.9090702@ucla.edu>
	<CAPPM_gQQCc_w00V42RdyeGdk26zD0aouAPUf6WiCJuFn3YVqqg@mail.gmail.com>
	<CAJh99TFtF6cc4ZZTAvC64LRCSjPERPbuRes0J-LeXpwrHQhuqg@mail.gmail.com>
Message-ID: <CAPPM_gTBNUKoaQu1vjw2dh+_cAK0etVZOS1qTdxf=ahLc9Jp_w@mail.gmail.com>

On Fri, Mar 14, 2014 at 3:26 PM, NOAH SILVERMAN <noahsilverman at ucla.edu> wrote:
> Josh,
>
> Your comment on the indicator makes sense.  I already have it as a column in
> my dataFrame, so I guess that I can just pass that column name when creating
> a signal.
>
> The strategy is a *single asset* with OHLC each minute.  I have a few custom
> indicators that are pre-calculated.  Just need to test a bunch of signals
> and rules around those indicators and close price.  Do I need to do anything
> special to have the dataFrame setup correctly for quantstrat?
>
Yes, you need to convert it to xts.  ?applyStrategy says:

 mktdata: an xts object containing market data.  depending on
          indicators, may need to be in OHLCV or BBO formats, default
          NULL

The package has several demos, take a look at them to get a feel for
what you need to do.

> Thanks!
>
>
> On Fri, Mar 14, 2014 at 8:52 AM, Joshua Ulrich <josh.m.ulrich at gmail.com>
> wrote:
>>
>> On Fri, Mar 14, 2014 at 10:30 AM, Noah Silverman <noahsilverman at ucla.edu>
>> wrote:
>> >
>> > Hi,
>> >
>> > Working on developing a complex portfolio and backtesting strategy.
>> > >From what I've read, the quantstrat package looks ideal for working
>> > through the ideas.
>> >
>> > Two questions:
>> >
>> > 1) I have an indicator that is pre-calculated.  (From a bunch of
>> > complicated functions and outside data.)  I'd like to simply pass the
>> > vector of values into quantstrat, but can't figure out how to do that.
>> > The function to add a signal appears to only accept functions, not
>> > data.  Is there a way for me to do this?
>> >
>> If it needed a function and there was no way to pass data, you could
>> wrap your data in a function.
>> datafun <- function(...) mydata
>>
>> But nothing *requires* that you call/use add.indicator().  Simply
>> merge your indicator with your market data.
>>
>> > 2) Along the lines of #1 above:  I have my financial data directly from
>> > a vendor.  It already has OHLC defined.  Can I simply pass this to
>> > quanstrat?  If so, what is the proper order/formant/naming of columns to
>> > make quanstrat happy?
>> >
>> That depends on the specifics of the strategy you're trying to build,
>> which you haven't provided.
>>
>> > Thanks!
>> >
>> > --
>> > *Noah Silverman, PhD* | UCLA Department of Statistics
>> > 8117 Math Sciences Building, Los Angeles, CA 90095
>> >
>>
>> --
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>
>


From rvince99 at gmail.com  Sat Mar 15 04:21:33 2014
From: rvince99 at gmail.com (R Vince)
Date: Fri, 14 Mar 2014 23:21:33 -0400
Subject: [R-SIG-Finance] Split-adjusted yahoo data
Message-ID: <CAAHNhKXRqySxRAMjG=bRYCs_S4o+OWJQSpC8x5eB+d-4m-QiEQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140314/1adfe065/attachment.pl>

From edd at debian.org  Sat Mar 15 04:32:56 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 14 Mar 2014 22:32:56 -0500
Subject: [R-SIG-Finance] Split-adjusted yahoo data
In-Reply-To: <CAAHNhKXRqySxRAMjG=bRYCs_S4o+OWJQSpC8x5eB+d-4m-QiEQ@mail.gmail.com>
References: <CAAHNhKXRqySxRAMjG=bRYCs_S4o+OWJQSpC8x5eB+d-4m-QiEQ@mail.gmail.com>
Message-ID: <21283.51688.172820.178778@max.nulle.part>


Ralph,


On 14 March 2014 at 23:21, R Vince wrote:
| I know this has been asked many times before, but for the life of me I
| cannot find the answer in my notes. How do I get the column for
| split-adjusted data from yahoo finance? The script I use to download the
| data is:

Maybe use a different script?

R> library(quantmod)
Loading required package: Defaults
Loading required package: xts
Loading required package: zoo

Attaching package: ?zoo?

The following objects are masked from ?package:base?:

    as.Date, as.Date.numeric

Loading required package: TTR
Version 0.4-0 included new data defaults. See ?getSymbols.
R> IBM <- getSymbols("IBM", auto.assign=FALSE)
R> head(IBM)
           IBM.Open IBM.High IBM.Low IBM.Close IBM.Volume IBM.Adjusted
2007-01-03    97.18    98.40   96.26     97.27    9196800        85.57
2007-01-04    97.25    98.79   96.88     98.31   10524500        86.48
2007-01-05    97.60    97.95   96.91     97.42    7221300        85.70
2007-01-08    98.50    99.50   98.35     98.90   10340000        87.00
2007-01-09    99.08   100.33   99.07    100.07   11108200        88.03
2007-01-10    98.50    99.05   97.93     98.89    8744800        86.99
R> tail(IBM)
           IBM.Open IBM.High IBM.Low IBM.Close IBM.Volume IBM.Adjusted
2014-03-07   188.35   188.92  187.18    187.68    4117800       187.68
2014-03-10   187.55   188.37  185.85    186.39    4591200       186.39
2014-03-11   187.41   188.45  186.04    186.76    4229500       186.76
2014-03-12   186.01   187.45  185.89    186.22    4833000       186.22
2014-03-13   186.41   187.00  183.71    183.90    4912600       183.90
2014-03-14   183.89   184.29  182.21    182.21    5479700       182.21
R> 

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From dessy.anggraeni at gmail.com  Fri Mar 21 14:07:20 2014
From: dessy.anggraeni at gmail.com (Dessy Anggraeni)
Date: Fri, 21 Mar 2014 14:07:20 +0100
Subject: [R-SIG-Finance] Different external regressor in rugarch give the
	same result
Message-ID: <532C3988.6040904@gmail.com>

Hi all,

I use rugarch package 1.2-9 to measure rice price volatility volatility 
with GARCH model including external regressor in the variance model. 
This package works well, however, it seems like the result doesn't 
response to change in value of external regressors.

I test 2 external regressors:

1.A matrix of dummy variable containing only 0 and 1

2.Cross-sectional stock level to price return data (attached)

Here is the code that I use. Can anybody advise me what's wrong?
Thanks a lot in advance.
Best Regards,
Dessy


*1.**With dummy variable (0 and 1) as external regressor*

# where the dummy variable is define as:

mat <- matrix(, nrow = n.row, ncol = 1)

for(i in 1:652){

mat[i,] <- 0

}

for(i in 501:n.row){

mat[i,] <- 1

}

spec2 <- ugarchspec(

variance.model =

list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH", 
external.regressors = mat, variance.targeting = FALSE),

mean.model =

list(armaOrder = c(12,0), external.regressors = NULL), 
distribution.model = "norm")

fit = ugarchfit(spec = spec2, data=xz)

*2.**With crosssectional stock level estimation as external regressor*

# matrix m is cross sectional stock level data

m <- matrix(cross)

spec2 <- ugarchspec(

variance.model =

list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH", 
external.regressors = m, variance.targeting = FALSE),

mean.model =

list(armaOrder = c(12,0), external.regressors = NULL), 
distribution.model = "norm")

fit = ugarchfit(spec = spec2, data=xz)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140321/261446b4/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rice return.csv
Type: application/vnd.ms-excel
Size: 62825 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140321/261446b4/attachment.xlb>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cross sectional stock.csv
Type: application/vnd.ms-excel
Size: 53531 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140321/261446b4/attachment-0001.xlb>

From alexios at 4dscape.com  Fri Mar 21 14:44:22 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 21 Mar 2014 13:44:22 +0000
Subject: [R-SIG-Finance] Different external regressor in rugarch give
 the same result
In-Reply-To: <532C3988.6040904@gmail.com>
References: <532C3988.6040904@gmail.com>
Message-ID: <532C4236.1090005@4dscape.com>

You are obviously trying to capture a permanent "level" shift in your
rice dataset, but the shift is from a high to a low state (i.e. the
coefficient would need to be negative). Since the bounds on the
coefficients of the external regressors (in the conditional variance
equation) are preset to be positive in order to "guarantee" positivity
of the variance, you need to do one of the following:

1. Reverse the order of the dummy i.e. 1:652 = 1, 652:n.row=0.

2. Set the bounds on vxreg:
>setbounds(spec2)<-list(vxreg1=c(-1,1))

3. Use the eGARCH model.

All tested, all working.

And DO NOT USE c(model="fGARCH", submodel="GARCH"). Use directly
model="sGARCH".

-Alexios

On 21/03/2014 13:07, Dessy Anggraeni wrote:
> Hi all,
> 
> I use rugarch package 1.2-9 to measure rice price volatility volatility
> with GARCH model including external regressor in the variance model.
> This package works well, however, it seems like the result doesn't
> response to change in value of external regressors.
> 
> I test 2 external regressors:
> 
> 1.A matrix of dummy variable containing only 0 and 1
> 
> 2.Cross-sectional stock level to price return data (attached)
> 
> Here is the code that I use. Can anybody advise me what's wrong?
> Thanks a lot in advance.
> Best Regards,
> Dessy
> 
> 
> *1.**With dummy variable (0 and 1) as external regressor*
> 
> # where the dummy variable is define as:
> 
> mat <- matrix(, nrow = n.row, ncol = 1)
> 
> for(i in 1:652){
> 
> mat[i,] <- 0
> 
> }
> 
> for(i in 501:n.row){
> 
> mat[i,] <- 1
> 
> }
> 
> spec2 <- ugarchspec(
> 
> variance.model =
> 
> list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH",
> external.regressors = mat, variance.targeting = FALSE),
> 
> mean.model =
> 
> list(armaOrder = c(12,0), external.regressors = NULL),
> distribution.model = "norm")
> 
> fit = ugarchfit(spec = spec2, data=xz)
> 
> *2.**With crosssectional stock level estimation as external regressor*
> 
> # matrix m is cross sectional stock level data
> 
> m <- matrix(cross)
> 
> spec2 <- ugarchspec(
> 
> variance.model =
> 
> list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH",
> external.regressors = m, variance.targeting = FALSE),
> 
> mean.model =
> 
> list(armaOrder = c(12,0), external.regressors = NULL),
> distribution.model = "norm")
> 
> fit = ugarchfit(spec = spec2, data=xz)
> 
> 
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From dessy.anggraeni at gmail.com  Fri Mar 21 17:35:54 2014
From: dessy.anggraeni at gmail.com (Dessy Anggraeni)
Date: Fri, 21 Mar 2014 17:35:54 +0100
Subject: [R-SIG-Finance] Different external regressor in rugarch give
 the same result
In-Reply-To: <532C4236.1090005@4dscape.com>
References: <532C3988.6040904@gmail.com> <532C4236.1090005@4dscape.com>
Message-ID: <532C6A6A.20107@gmail.com>

Dear Alexios,

Thanks a lot! The suggestions work well.

Another issue is that, whenever I insert external variable in the model, 
the model fit test (AIC, HQ, etc.) and P value of Q-Statistics on 
Standardized Residuals are significantly increase. It seems like the 
insertion of external regressor implies serial correlations in the 
residual. How to handle this problem?

Best regards,
Dessy

Am 3/21/2014 2:44 PM, schrieb alexios ghalanos:
> You are obviously trying to capture a permanent "level" shift in your
> rice dataset, but the shift is from a high to a low state (i.e. the
> coefficient would need to be negative). Since the bounds on the
> coefficients of the external regressors (in the conditional variance
> equation) are preset to be positive in order to "guarantee" positivity
> of the variance, you need to do one of the following:
>
> 1. Reverse the order of the dummy i.e. 1:652 = 1, 652:n.row=0.
>
> 2. Set the bounds on vxreg:
>> setbounds(spec2)<-list(vxreg1=c(-1,1))
> 3. Use the eGARCH model.
>
> All tested, all working.
>
> And DO NOT USE c(model="fGARCH", submodel="GARCH"). Use directly
> model="sGARCH".
>
> -Alexios
>
> On 21/03/2014 13:07, Dessy Anggraeni wrote:
>> Hi all,
>>
>> I use rugarch package 1.2-9 to measure rice price volatility volatility
>> with GARCH model including external regressor in the variance model.
>> This package works well, however, it seems like the result doesn't
>> response to change in value of external regressors.
>>
>> I test 2 external regressors:
>>
>> 1.A matrix of dummy variable containing only 0 and 1
>>
>> 2.Cross-sectional stock level to price return data (attached)
>>
>> Here is the code that I use. Can anybody advise me what's wrong?
>> Thanks a lot in advance.
>> Best Regards,
>> Dessy
>>
>>
>> *1.**With dummy variable (0 and 1) as external regressor*
>>
>> # where the dummy variable is define as:
>>
>> mat <- matrix(, nrow = n.row, ncol = 1)
>>
>> for(i in 1:652){
>>
>> mat[i,] <- 0
>>
>> }
>>
>> for(i in 501:n.row){
>>
>> mat[i,] <- 1
>>
>> }
>>
>> spec2 <- ugarchspec(
>>
>> variance.model =
>>
>> list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH",
>> external.regressors = mat, variance.targeting = FALSE),
>>
>> mean.model =
>>
>> list(armaOrder = c(12,0), external.regressors = NULL),
>> distribution.model = "norm")
>>
>> fit = ugarchfit(spec = spec2, data=xz)
>>
>> *2.**With crosssectional stock level estimation as external regressor*
>>
>> # matrix m is cross sectional stock level data
>>
>> m <- matrix(cross)
>>
>> spec2 <- ugarchspec(
>>
>> variance.model =
>>
>> list(model = "fGARCH", garchOrder = c(1,1), submodel = "GARCH",
>> external.regressors = m, variance.targeting = FALSE),
>>
>> mean.model =
>>
>> list(armaOrder = c(12,0), external.regressors = NULL),
>> distribution.model = "norm")
>>
>> fit = ugarchfit(spec = spec2, data=xz)
>>
>>
>>
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>>


From bogaso.christofer at gmail.com  Sat Mar 22 16:02:09 2014
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Sat, 22 Mar 2014 20:47:09 +0545
Subject: [R-SIG-Finance] Seeking help to understand the Bond value
Message-ID: <CA+dpOJmQG5Fd2mi8XB=MTh3tz2nCz18mEogSrWyV_on=aKqH2A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140322/a20653cf/attachment.pl>

From dominykasgrigonis at gmail.com  Sat Mar 22 16:55:44 2014
From: dominykasgrigonis at gmail.com (Edu)
Date: Sat, 22 Mar 2014 15:55:44 +0000
Subject: [R-SIG-Finance] Seeking help to understand the Bond value
In-Reply-To: <CA+dpOJmQG5Fd2mi8XB=MTh3tz2nCz18mEogSrWyV_on=aKqH2A@mail.gmail.com>
References: <CA+dpOJmQG5Fd2mi8XB=MTh3tz2nCz18mEogSrWyV_on=aKqH2A@mail.gmail.com>
Message-ID: <B895CE06-89F9-459A-9574-136C9FF54246@gmail.com>

The prices in both cases must be equal and the yield must be 5% as current price is equal to face. Look at formulas and play a bit to understand... If you want to discuss the implications in practice drop me an email. However i warn you, bonds are complex instruments being derivatives rather than base and once you go into yield curves and actual day counting it becomes pragmatic problem. 

Sent from my iPhone

> On 22 Mar 2014, at 15:02, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi again,
> 
> It may be really simple, however I believe there may be some gap in my
> understanding on how Bond works.
> 
> Let say at time T, I buy a bond with face value $1mn for 2 years maturity
> with coupon rate 5%, coupon will be paid semmi-annually.
> 
> In this case, my question is: what is the value of bond at time T?
> 
> Is it that, value of bond at time T is the face-value, since I paid $1mn
> right this time?
> 
> or,
> 
> It is the discounted future cash flow?
> 
> I understand that at time (T+dT), the value of this bond will be the
> discounted values of the cfs. But I am confused on it's value at time T,
> just when I bought that bond.
> 
> Thanks for your explanation.
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From kevin.j.owens at gmail.com  Mon Mar 24 17:54:15 2014
From: kevin.j.owens at gmail.com (Kevin Owens)
Date: Mon, 24 Mar 2014 11:54:15 -0500
Subject: [R-SIG-Finance] RQuantlib tsquote meaning of rates
Message-ID: <53306337.7020009@gmail.com>

I thought it was strange that the tsQuote argument used swap rates for 
longer tenors. These types of rates don't seem very easy to get, but 
maybe I'm misunderstanding something. I would have thought I could use 
the semi-annual bond equivalent rates, say, from the Treasury website.

My questions are
1. How can I figure out how the swap rates are being used in Quantlib?
2. Is there any way to input bond equivalent rates into tsQuote, or as a 
DiscountCurve class?
3. Would I need to convert par rates to swap rates? If so, how?

Thank you,

Kevin


From edd at debian.org  Mon Mar 24 18:12:31 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 24 Mar 2014 12:12:31 -0500
Subject: [R-SIG-Finance] RQuantlib tsquote meaning of rates
In-Reply-To: <53306337.7020009@gmail.com>
References: <53306337.7020009@gmail.com>
Message-ID: <21296.26495.523407.845647@max.nulle.part>


On 24 March 2014 at 11:54, Kevin Owens wrote:
| I thought it was strange that the tsQuote argument used swap rates for 
| longer tenors. These types of rates don't seem very easy to get, but 
| maybe I'm misunderstanding something. I would have thought I could use 
| the semi-annual bond equivalent rates, say, from the Treasury website.
| 
| My questions are
| 1. How can I figure out how the swap rates are being used in Quantlib?
| 2. Is there any way to input bond equivalent rates into tsQuote, or as a 
| DiscountCurve class?
| 3. Would I need to convert par rates to swap rates? If so, how?

It's a QuantLib question; the existing RQuantLib code more or less follows
the existing QuantLib examples and regression tests -- see directories
Examples/ and test-suite/ in the QuantLib sources.  Some of those file have
comments, eg Examples/Swap/swapvaluation.cpp has

        /*********************
         ***  MARKET DATA  ***
         *********************/

        Calendar calendar = TARGET();
        Date settlementDate(22, September, 2004);
        // must be a business day
        settlementDate = calendar.adjust(settlementDate);

        Integer fixingDays = 2;
        Date todaysDate = calendar.advance(settlementDate, -fixingDays, Days);
        // nothing to do with Date::todaysDate
        Settings::instance().evaluationDate() = todaysDate;


        todaysDate = Settings::instance().evaluationDate();
        std::cout << "Today: " << todaysDate.weekday()
                  << ", " << todaysDate << std::endl;

        std::cout << "Settlement date: " << settlementDate.weekday()
                  << ", " << settlementDate << std::endl;

        // deposits
        Rate d1wQuote=0.0382;
        Rate d1mQuote=0.0372;
        Rate d3mQuote=0.0363;
        Rate d6mQuote=0.0353;
        Rate d9mQuote=0.0348;
        Rate d1yQuote=0.0345;
        // FRAs
        Rate fra3x6Quote=0.037125;
        Rate fra6x9Quote=0.037125;
        Rate fra6x12Quote=0.037125;
        // futures
        Real fut1Quote=96.2875;
        Real fut2Quote=96.7875;
        Real fut3Quote=96.9875;
        Real fut4Quote=96.6875;
        Real fut5Quote=96.4875;
        Real fut6Quote=96.3875;
        Real fut7Quote=96.2875;
        Real fut8Quote=96.0875;
        // swaps
        Rate s2yQuote=0.037125;
        Rate s3yQuote=0.0398;
        Rate s5yQuote=0.0443;
        Rate s10yQuote=0.05165;
        Rate s15yQuote=0.055175;

The file was setup a while back under a different curve, obviously. See the
QuantLib documentation for the exact convention or assumptions.

Cheers, Dirk 

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From rvince99 at gmail.com  Mon Mar 24 23:10:33 2014
From: rvince99 at gmail.com (R Vince)
Date: Mon, 24 Mar 2014 18:10:33 -0400
Subject: [R-SIG-Finance] TryCatch and continuing within a loop
Message-ID: <CAAHNhKUKHi2UFq1TXeAUZ2a2H3Kzp2R9hVN5AFJkk7Vo9pVioA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140324/b06ac2ff/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Mar 25 14:23:30 2014
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 25 Mar 2014 08:23:30 -0500
Subject: [R-SIG-Finance] TryCatch and continuing within a loop
In-Reply-To: <CAAHNhKUKHi2UFq1TXeAUZ2a2H3Kzp2R9hVN5AFJkk7Vo9pVioA@mail.gmail.com>
References: <CAAHNhKUKHi2UFq1TXeAUZ2a2H3Kzp2R9hVN5AFJkk7Vo9pVioA@mail.gmail.com>
Message-ID: <CAPPM_gTsz0B2BPjsJSoBEWKaq8an35GjmfKao9oPbfa+DRL1Bw@mail.gmail.com>

Ralph,

This isn't really on-topic for R-SIG-Finance, so please respond to me
off-list if you have any questions.

The bad news: I'm not sure how to do what you want with a try-catch
block.  I can see why you tried this (given your Java experience) but
the good news is that it's not necessary.  The solution below should
work and should also be faster.

# vector of symbols
brsym <- c("^BVSP", "^GSPTSE", "^N225", "CAC4L.NX", "^BSESN")
# paste is vectorized, no need to loop
j <- "http://finance.yahoo.com/d/quotes.csv?s="
j <- paste0(j, paste0(brsym,collapse="+"), "&f=sd1ohgl1vqd")
# use na.strings arg to convert "N/A" to R's NA
X <- read.csv(j, header=FALSE, as.is=TRUE, na.strings="N/A")
# store rows with missing dates in new object
badsymbols <- X[is.na(X$V2),]
# remove rows with missing dates from 'X'
X <- X[!is.na(X$V2),]
# reformat date
X$V2 <- format(as.Date(X$V2, "%m/%d/%Y"), "%Y%m%d")
# paste into one string per row
Y <- with(X, paste(paste(V1, "-", V2), V3, V4, V5, V6, V7, sep=","))
# write to file

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Mon, Mar 24, 2014 at 5:10 PM, R Vince <rvince99 at gmail.com> wrote:
>
> I'm terribly confused on how to use try catch to continue execution within
> a loop
>
> I take, say, the data for 150 symbols from yahoo, and seek to parse them
> and append to existing index files in csv format. Sometimes the data is
> bad, the code pukes inside the loop and execution stops, as evident here:
>
> [109] "^BVSP - 20140324,47381.98,48141.789,47381.98,47993.422,0"
> [110] "^GSPTSE - 20140324,14335.76,14402.49,14226.88,14278.55,163174560"
> [111] "^N225 - 20140324,0,0,0,14475.3,0"
> [112] "CAC4L.NX - 20140324,N/A,N/A,N/A,0,N/A"
> [113] "^BSESN - 20140324,N/A,N/A,N/A,0,N/A"
> Error in value[[3L]](cond) : unused argument(s) (cond)
> Calls: tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
> In addition: Warning message:
> In if (file == "") file <- stdout() else if (is.character(file)) { :
>   the condition has length > 1 and only the first element will be used
> Execution halted
>
> Below is the code I am using, where i use tryCatch() to continue execution
> within the loop, but for whatever reason, it still breaks out of the loop
> on an error. Can someone please point out the error of my ways here? Thanks
> , Ralph Vince
>
> j <- "http://finance.yahoo.com/d/quotes.csv?s=";
> for (i in 1:150) {
>     j <- paste(j,brsym[[i]],sep="+");
> }
> j <- paste(j,"&f=sd1ohgl1vqd",sep="");
> print(j);
> X <- read.csv(j, header=FALSE,as.is=TRUE);
> #print(X);
> for (i in 1:150) {
>     tryCatch({
>         d<-strsplit(X[i,2], '/');
>         dd<-d[[1]][3];
>         if (as.numeric(d[[1]][1]) < 10){
>           dd<-paste(dd,0,sep="");
>         }
>         dd<-paste(dd,d[[1]][1],sep="");
>         if (as.numeric(d[[1]][2]) < 10){
>           dd<-paste(dd,0,sep="");
>         }
>         dd<-paste(dd,d[[1]][2],sep="");
>         dd<-paste(dd,X[i,3],sep=",");
>         dd<-paste(dd,X[i,4],sep=",");
>         dd<-paste(dd,X[i,5],sep=",");
>         dd<-paste(dd,X[i,6],sep=",");
>         dd<-paste(dd,X[i,7],sep=",");
>         ko <- paste(X[i,1], "-",dd);
>         print(ko);
>
>         k <- paste("/home/rvince/AsciiCsv/ES50/", X[i,1], sep="");
>         k <- trim.whitespace(k);
>         k <- paste(k,".csv", sep="");
>         write.table(dd, k, append = TRUE, quote = FALSE, sep = ",",
>                     eol = "\n", na = "0", dec = ".", row.names = FALSE,
>                     col.names = FALSE, qmethod = c("escape", "double"));
>     }, error = function() next)
> }
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From edd at debian.org  Tue Mar 25 20:08:09 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 25 Mar 2014 14:08:09 -0500
Subject: [R-SIG-Finance] R/Finance 2014 Agenda posted
Message-ID: <21297.54297.778358.161051@max.nulle.part>


The draft program of R/Finance 2014 is now available at

    http://www.RinFinance.com/agenda/

We anticipate that registration will be available 'in due course' and will
announce it too.

For the committee,   Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From uaruss at gmail.com  Wed Mar 26 18:59:21 2014
From: uaruss at gmail.com (Russell Miller)
Date: Wed, 26 Mar 2014 13:59:21 -0400
Subject: [R-SIG-Finance] apply.paramset and parallel
Message-ID: <CAC6sL=FwUYSQucnsND9cNpaugRApWTs9vrfeTezqKL9tUT=1GQ@mail.gmail.com>

I'm receiving an error when trying to run apply.paramset in parallel.
It works fine when running "registerDoSEQ()" (line ~146), however,
with that commented out I get "error calling combine function: ....".

I'm running this on windows and I understand there are some
differences in the parallel functionality between Windows and Linux,
but I think I have those addressed properly.

Code is below, basically a cut from the luxor demo (I experienced the
same problem with the actual demo code).  Any help is greatly
appreciated.

Thanks -
Russell




# most of the code below is courtesy of the r-sig-finance mailing list
(Rob Schmidt, 4/21/13)
require(quantstrat)

# first pass values of sweep parameters for chart
.fast = 5
.slow = 20

.qty=100000
initDate = '2002-10-21'
.from='2002-10-21'
.to='2002-10-30'
#.to='2002-10-31'

currency(c('GBP', 'USD'))
exchange_rate(c('GBPUSD'), tick_size=0.0001)
setSymbolLookup.FI(system.file('extdata', package='quantstrat'),
                   'GBPUSD')

getSymbols('GBPUSD', from=.from, to=.to, verbose=FALSE)
GBPUSD = to.minutes30(GBPUSD)
GBPUSD = align.time(to.minutes30(GBPUSD), 1800)

strat.st = 'xoverStrat'
port.st = 'xoverPort'
acct.st = 'xoverAcct'

###################################################################

try(rm("order_book.xoverPort", pos=.strategy))
try(rm("account.xoverAcct", "portfolio.xoverPort", pos=.blotter))

initPortf(port.st, symbols='GBPUSD', initDate=initDate, currency='USD')
initAcct(acct.st, portfolios=port.st, initDate=initDate, currency='USD')
initOrders(port.st, initDate=initDate)

strategy(strat.st, store=TRUE)

addPosLimit(portfolio=port.st,
            symbol='GBPUSD',
            timestamp=initDate,
            maxpos=.qty)

### indicators

add.indicator(strat.st, name = "SMA",
              arguments = list(
                x = quote(Cl(mktdata)[,1]),
                n = .fast
              ),
              label="nFast"
)

add.indicator(strat.st, name="SMA",
              arguments = list(
                x = quote(Cl(mktdata)[,1]),
                n = .slow
              ),
              label="nSlow"
)

### signals

add.signal(strat.st, name = 'sigComparison',
           arguments = list(
             columns=c("nFast","nSlow"),
             relationship="gte",
             cross=FALSE
           ),
           label='smaUp'
)

add.signal(strat.st, name = 'sigComparison',
           arguments = list(
             columns=c("nFast","nSlow"),
             relationship="lt",
             cross=FALSE
           ),
           label='smaDn'
)

### rules

add.rule(strategy=strat.st,
         name='ruleSignal',
         type='enter',
         arguments=list(sigcol="smaUp",
                        sigval=TRUE,
                        orderqty=+.qty,
                        ordertype='market',
                        osFUN=osMaxPos,
                        orderside='long'))

add.rule(strategy=strat.st,
         name='ruleSignal',
         type='exit',
         arguments=list(sigcol="smaDn",
                        sigval=TRUE,
                        orderqty='all',
                        ordertype='market',
                        orderside='long'))

add.rule(strategy=strat.st,
         name='ruleSignal',
         type='enter',
         arguments=list(sigcol="smaDn",
                        sigval=TRUE,
                        orderqty=-.qty,
                        ordertype='market',
                        osFUN=osMaxPos,
                        orderside='short'))

add.rule(strategy=strat.st,
         name='ruleSignal',
         type='exit',
         arguments=list(sigcol="smaUp",
                        sigval=TRUE,
                        orderqty='all',
                        ordertype='market',
                        orderside='short'))

#applyStrategy(strat.st, port.st, prefer='Open', verbose = FALSE)
#updatePortf(port.st, Symbols='GBPUSD',
,Dates=paste('::',as.Date(Sys.time()),sep=''))
#chart.Posn(port.st, "GBPUSD")

###################################################################

require(foreach)
#require(doMC)  #  for linux
#registerDoMC(cores=4)  # (my quad core)


require(doParallel)  # for windows

cl1 <- makeCluster(2)
registerDoParallel(cl1) #cluster, cores=2) # by default number of
physical cores -1

# registerDoSEQ: do sequential execution (single thread)
# can be used to detect nontrading param combinations
# which will give this error:
#     error calling combine function:
#     <simpleError in results[[r$portfolio.st]] <- r: attempt to
#     select less than one element>
#registerDoSEQ()   #  comment this command for parallel calc

# parameter sweep distributions
.FastSMA = c(7,8)
.SlowSMA = c(10,11)

add.distribution(strat.st,
                 paramset.label = 'SMA',
                 component.type = 'indicator',
                 component.label = 'nFast',
                 variable = list(n = .FastSMA),
                 label = 'nFAST'
)

add.distribution(strat.st,
                 paramset.label = 'SMA',
                 component.type = 'indicator',
                 component.label = 'nSlow',
                 variable = list(n = .SlowSMA),
                 label = 'nSLOW'
)

add.distribution.constraint(strat.st,
               paramset.label = 'SMA',
               distribution.label.1 = 'nFAST',
               distribution.label.2 = 'nSLOW',
               operator = '<',
               label = 'SMA'
)

results <- apply.paramset(strat.st,
                          paramset.label='SMA',
                          portfolio.st=port.st,
                          account.st=acct.st)

print(results$tradeStats[,c(1,2,25,31)])

stopCluster(cl1)



# END CODE
##############################################
##############################################
##############################################
##############################################


From philippe.kappeler at hotmail.com  Thu Mar 27 16:18:14 2014
From: philippe.kappeler at hotmail.com (philippe)
Date: Thu, 27 Mar 2014 08:18:14 -0700 (PDT)
Subject: [R-SIG-Finance] Different significance of parameter estimation in
 GARCH models using r (rugarch & fGarch package)
Message-ID: <1395933494669-4687664.post@n4.nabble.com>

I have been working with the two packages fGarch and rugarch to fit a
GARCH(1,1) model to my exchange rate time series consisting of 3980 daily
log-returns.

Code:
fx_rates <- data.frame(read.csv("WMCOFixingsTimeSeries.csv", header=T,
sep=";", stringsAsFactors=FALSE))
EURUSD <- ts(diff(log(fx_rates$EURUSD), lag=1), frequency=1)

#GARCH(1,1)
library(timeSeries)
library(fGarch)
x <- EURUSD
fit <- garchFit(~garch(1,1), data=x, cond.dist="std", trace=F,
include.mean=F)
fit at fit$matcoef

library(rugarch)
spec <- ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1,
1)),
                   mean.model=list(armaOrder=c(0,0), include.mean=F),
distribution.model="std")
gfit <- ugarchfit(spec, x, solver="hybrid",
fit.control=list(stationarity=1))
gfit at fit$matcoef

The two models show the following results:

fGarch:

fit at fit$matcoef 
            Estimate         Std. Error          t value     Pr(>|t|) 
omega  1.372270e-07  6.206406e-08   2.211054  2.703207e-02 
alpha1  2.695012e-02  3.681467e-03   7.320484  2.471356e-13 
beta1   9.697648e-01  3.961845e-03 244.776060 0.000000e+00 
shape   8.969562e+00 1.264957e+00   7.090804  1.333378e-12
rugarch:

gfit at fit$matcoef
           Estimate              Std. Error         t value     Pr(>|t|)
omega  1.346631e-07  3.664294e-07    0.3675008   7.132455e-01
alpha1  2.638156e-02  2.364896e-03   11.1554837  0.000000e+00
beta1   9.703710e-01  1.999087e-03 485.4070764   0.000000e+00
shape   8.951322e+00 1.671404e+00    5.3555696   8.528729e-08

I have found a thread
http://r.789695.n4.nabble.com/Comparison-between-rugarch-and-fGarch-td4683770.html
on why the estimates are not identical, however I can't figure out the big
difference in the standard errors and therethrough the different
significancs for omega. Furthermore, I was not able to detect how the
standard errors are computed by investigating the source code of the rugarch
package. The difference is not caused by the stationarity constraint as
omega remains insignificant. Does anybody know how the standard errors of
the estimated parameters (omega, alpha, beta and nu (shape)) are calculated?
If possible I would like to proceed with the rugarch package, as I wish to
forecast volatility and determine VaR measures. rugarch has shown to a very
profound package for this intentions. Thank you for your support.



--
View this message in context: http://r.789695.n4.nabble.com/Different-significance-of-parameter-estimation-in-GARCH-models-using-r-rugarch-fGarch-package-tp4687664.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Thu Mar 27 16:54:42 2014
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Thu, 27 Mar 2014 15:54:42 +0000
Subject: [R-SIG-Finance] Different significance of parameter estimation
	in GARCH models using r (rugarch & fGarch package)
In-Reply-To: <1395933494669-4687664.post@n4.nabble.com>
References: <1395933494669-4687664.post@n4.nabble.com>
Message-ID: <ED00376E-A666-44DC-B5B4-7A548AD95D38@4dscape.com>

1. Section 3.1 of the vignette discusses robust standard error calculation. The non-robust version is calculated using the hessian function from the numDeriv package. A search of the package source R folder for terms "hessian" or "grad" will surely reveal where to look.
2. Method vcov can be used to extract the parameter covariance matrix (with option to extract the robust one as well).
3. Try using scaling (fit.control) or increasing the default tolerance of the solver.
4. There is no point supplying code for the dataset when no one else has access to that (so this is not really a reproducible example).
5. You did not report the log likelihood of the two estimated models, so I cannot gauge if rugarch may have stopped at a non global optimum, in which case (3) may be useful.

Alexios

On 27 Mar 2014, at 03:18 PM, philippe <philippe.kappeler at hotmail.com> wrote:

> I have been working with the two packages fGarch and rugarch to fit a
> GARCH(1,1) model to my exchange rate time series consisting of 3980 daily
> log-returns.
> 
> Code:
> fx_rates <- data.frame(read.csv("WMCOFixingsTimeSeries.csv", header=T,
> sep=";", stringsAsFactors=FALSE))
> EURUSD <- ts(diff(log(fx_rates$EURUSD), lag=1), frequency=1)
> 
> #GARCH(1,1)
> library(timeSeries)
> library(fGarch)
> x <- EURUSD
> fit <- garchFit(~garch(1,1), data=x, cond.dist="std", trace=F,
> include.mean=F)
> fit at fit$matcoef
> 
> library(rugarch)
> spec <- ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1,
> 1)),
>                  mean.model=list(armaOrder=c(0,0), include.mean=F),
> distribution.model="std")
> gfit <- ugarchfit(spec, x, solver="hybrid",
> fit.control=list(stationarity=1))
> gfit at fit$matcoef
> 
> The two models show the following results:
> 
> fGarch:
> 
> fit at fit$matcoef 
>           Estimate         Std. Error          t value     Pr(>|t|) 
> omega  1.372270e-07  6.206406e-08   2.211054  2.703207e-02 
> alpha1  2.695012e-02  3.681467e-03   7.320484  2.471356e-13 
> beta1   9.697648e-01  3.961845e-03 244.776060 0.000000e+00 
> shape   8.969562e+00 1.264957e+00   7.090804  1.333378e-12
> rugarch:
> 
> gfit at fit$matcoef
>          Estimate              Std. Error         t value     Pr(>|t|)
> omega  1.346631e-07  3.664294e-07    0.3675008   7.132455e-01
> alpha1  2.638156e-02  2.364896e-03   11.1554837  0.000000e+00
> beta1   9.703710e-01  1.999087e-03 485.4070764   0.000000e+00
> shape   8.951322e+00 1.671404e+00    5.3555696   8.528729e-08
> 
> I have found a thread
> http://r.789695.n4.nabble.com/Comparison-between-rugarch-and-fGarch-td4683770.html
> on why the estimates are not identical, however I can't figure out the big
> difference in the standard errors and therethrough the different
> significancs for omega. Furthermore, I was not able to detect how the
> standard errors are computed by investigating the source code of the rugarch
> package. The difference is not caused by the stationarity constraint as
> omega remains insignificant. Does anybody know how the standard errors of
> the estimated parameters (omega, alpha, beta and nu (shape)) are calculated?
> If possible I would like to proceed with the rugarch package, as I wish to
> forecast volatility and determine VaR measures. rugarch has shown to a very
> profound package for this intentions. Thank you for your support.
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Different-significance-of-parameter-estimation-in-GARCH-models-using-r-rugarch-fGarch-package-tp4687664.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From philippe.kappeler at hotmail.com  Thu Mar 27 17:19:13 2014
From: philippe.kappeler at hotmail.com (philippe)
Date: Thu, 27 Mar 2014 09:19:13 -0700 (PDT)
Subject: [R-SIG-Finance] Different significance of parameter estimation
 in GARCH models using r (rugarch & fGarch package)
In-Reply-To: <ED00376E-A666-44DC-B5B4-7A548AD95D38@4dscape.com>
References: <1395933494669-4687664.post@n4.nabble.com>
	<ED00376E-A666-44DC-B5B4-7A548AD95D38@4dscape.com>
Message-ID: <1395937153732-4687673.post@n4.nabble.com>

Thank you for your swift response. I have attached the link with the fx
rates: 
https://drive.google.com/folderview?id=0BwSzkfw3xUH3REsxRHprZEU1R00&usp=sharing
<https://drive.google.com/folderview?id=0BwSzkfw3xUH3REsxRHprZEU1R00&usp=sharing>  

Scaling or increasing the tolerance of the solver did not work out so far. 
Philippe




--
View this message in context: http://r.789695.n4.nabble.com/Different-significance-of-parameter-estimation-in-GARCH-models-using-r-rugarch-fGarch-package-tp4687664p4687673.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Thu Mar 27 18:26:29 2014
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 27 Mar 2014 17:26:29 +0000
Subject: [R-SIG-Finance] Different significance of parameter estimation
 in GARCH models using r (rugarch & fGarch package)
In-Reply-To: <1395937153732-4687673.post@n4.nabble.com>
References: <1395933494669-4687664.post@n4.nabble.com>	<ED00376E-A666-44DC-B5B4-7A548AD95D38@4dscape.com>
	<1395937153732-4687673.post@n4.nabble.com>
Message-ID: <53345F45.7080508@4dscape.com>

ok, found the solution...the default control options for the hessian
routine had a zero tolerance value of sqrt(.Machine$double.eps/7e-7)
which is obviously not sufficient for parameters like omega which are
much smaller.

Fixed and committed. Please download latest from its bitbucket
development repository using the following commands:

library(devtools)
install_bitbucket("rugarch","alexiosg")

-Alexios

On 27/03/2014 16:19, philippe wrote:
> Thank you for your swift response. I have attached the link with the fx
> rates: 
> https://drive.google.com/folderview?id=0BwSzkfw3xUH3REsxRHprZEU1R00&usp=sharing
> <https://drive.google.com/folderview?id=0BwSzkfw3xUH3REsxRHprZEU1R00&usp=sharing>  
> 
> Scaling or increasing the tolerance of the solver did not work out so far. 
> Philippe
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Different-significance-of-parameter-estimation-in-GARCH-models-using-r-rugarch-fGarch-package-tp4687664p4687673.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From simon at volemont.com  Fri Mar 28 22:00:45 2014
From: simon at volemont.com (Simon Otziger)
Date: Fri, 28 Mar 2014 22:00:45 +0100
Subject: [R-SIG-Finance] quantstrat demo(faber_rebal)
Message-ID: <CAPxWS07ejs13TRS6J8Y-zmFnhRdOB_i2VaboyMSRPzjKfz01aw@mail.gmail.com>

Dear list members,

I'm trying to run the demo(faber_rebal) from the Quantstrat package
(R-Forge Rev. 1590):
library(quantstrat)
Sys.setenv(TZ = "America/New_York")
demo(faber_rebal)

The demo stops on line 133 with the error message:
> out<-applyStrategy.rebalancing(strategy='faber' , portfolios='faber')
Error in paste("::", timestamp, sep = "") :
  cannot coerce type 'closure' to vector of type 'character'

I guess it's a namespace/masking clash with the timestamp() function
of the R.utils package. Another quantstrat user posted the same issue
in the R-Forge forums, see
https://r-forge.r-project.org/forum/forum.php?thread_id=28525&forum_id=1032&group_id=316

Any idea how to fix it?

Thanks,
Simon


> sessionInfo()
R version 3.0.3 (2014-03-06)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] quantstrat_0.8.0           foreach_1.4.1
 [3] blotter_0.8.17             PerformanceAnalytics_1.1.0
 [5] FinancialInstrument_1.1.9  quantmod_0.4-0
 [7] Defaults_1.1-1             TTR_0.22-0
 [9] xts_0.9-7                  zoo_1.7-11

loaded via a namespace (and not attached):
[1] codetools_0.2-8 grid_3.0.3      iterators_1.0.6 lattice_0.20-27
[5] tools_3.0.3


From gmonaie at gmail.com  Fri Mar 28 23:36:45 2014
From: gmonaie at gmail.com (Gei Lin)
Date: Fri, 28 Mar 2014 18:36:45 -0400
Subject: [R-SIG-Finance] quantstrat demo(faber_rebal)
In-Reply-To: <CAPxWS07ejs13TRS6J8Y-zmFnhRdOB_i2VaboyMSRPzjKfz01aw@mail.gmail.com>
References: <CAPxWS07ejs13TRS6J8Y-zmFnhRdOB_i2VaboyMSRPzjKfz01aw@mail.gmail.com>
Message-ID: <CAJFvkcdzLn9imttxNTMKUWvOmLG9Tr2Owei=ZwMuyLkSNvJb5g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140328/3285b8d4/attachment.pl>

From simon at volemont.com  Sat Mar 29 10:45:16 2014
From: simon at volemont.com (Simon Otziger)
Date: Sat, 29 Mar 2014 10:45:16 +0100
Subject: [R-SIG-Finance] quantstrat demo(faber_rebal)
In-Reply-To: <CAJFvkcdzLn9imttxNTMKUWvOmLG9Tr2Owei=ZwMuyLkSNvJb5g@mail.gmail.com>
References: <CAPxWS07ejs13TRS6J8Y-zmFnhRdOB_i2VaboyMSRPzjKfz01aw@mail.gmail.com>
	<CAJFvkcdzLn9imttxNTMKUWvOmLG9Tr2Owei=ZwMuyLkSNvJb5g@mail.gmail.com>
Message-ID: <CAPxWS043N_CprTRnhqw0UjgHQpk1D6e-HbYfZ2AaY3E6su3sKw@mail.gmail.com>

Dear Gei,

Thanks for the swift reply. Replacing timestamp by pindex[i] in the
add.rule doesn't solve the problem. Does the quick fix work for you?
The downloaded data doesn't have any missing values.

Simon

library(quantstrat)
Sys.setenv(TZ = "America/New_York")
source("faber_rebal.R")

[1] "setup completed"
Error in if (is.na(price)) stop("order at timestamp ", timestamp, "
must not have price of NA") :
  argument is of length zero

# add quaterly rebalancing
add.rule('faber', 'rulePctEquity',
        arguments=list(rebalance_on='quarters',
                trade.percent=1/length(symbols),

refprice=quote(last(getPrice(mktdata)[paste('::',pindex[i],sep='')][,1])),
                digits=0
        ),
        type='rebalance',
        label='rebalance'
)

On Fri, Mar 28, 2014 at 11:36 PM, Gei Lin <gmonaie at gmail.com> wrote:
> Looking at applyStrategy.rebalancing(), timestamp is being passed here to
> the function rulePctEquity, so it can be used *inside* rulePctEquity, but
> you can't reference it in passing arguments because it isn't defined inside
> applyStrategy.rebalancing(), it is floating around as the value pindex[i]
>
> ruleProc(s$rules$rebalance, timestamp = pindex[i],
>                       path.dep = TRUE, ruletype = "rebalance",
>                       ..., mktdata = md_subset, parameters = parameters,
>                       portfolio = portfolio, symbol = symbol)
>
> Quick fix, replace "timestamp" in the add.rule with "pindex[i]" which has
> the intended value and won't be missing.
>
> # add quarterly rebalancing
>> add.rule('faber', 'rulePctEquity',
> +         arguments=list(rebalance_on='quarters',
> +                 trade.percent=1/length(symbols),
> +
> refprice=quote(last(getPrice(mktdata)[paste('::',timestamp,sep='')][,1])),
> +                 digits=0
> +         ),
> +         type='rebalance',
> +         label='rebalance'
> + )
>
>
> On Fri, Mar 28, 2014 at 5:00 PM, Simon Otziger <simon at volemont.com> wrote:
>>
>> Dear list members,
>>
>> I'm trying to run the demo(faber_rebal) from the Quantstrat package
>> (R-Forge Rev. 1590):
>> library(quantstrat)
>> Sys.setenv(TZ = "America/New_York")
>> demo(faber_rebal)
>>
>> The demo stops on line 133 with the error message:
>> > out<-applyStrategy.rebalancing(strategy='faber' , portfolios='faber')
>> Error in paste("::", timestamp, sep = "") :
>>   cannot coerce type 'closure' to vector of type 'character'
>>
>> I guess it's a namespace/masking clash with the timestamp() function
>> of the R.utils package. Another quantstrat user posted the same issue
>> in the R-Forge forums, see
>>
>> https://r-forge.r-project.org/forum/forum.php?thread_id=28525&forum_id=1032&group_id=316
>>
>> Any idea how to fix it?
>>
>> Thanks,
>> Simon
>>
>>
>> > sessionInfo()
>> R version 3.0.3 (2014-03-06)
>> Platform: x86_64-pc-linux-gnu (64-bit)
>>
>> locale:
>>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
>> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>>  [1] quantstrat_0.8.0           foreach_1.4.1
>>  [3] blotter_0.8.17             PerformanceAnalytics_1.1.0
>>  [5] FinancialInstrument_1.1.9  quantmod_0.4-0
>>  [7] Defaults_1.1-1             TTR_0.22-0
>>  [9] xts_0.9-7                  zoo_1.7-11
>>
>> loaded via a namespace (and not attached):
>> [1] codetools_0.2-8 grid_3.0.3      iterators_1.0.6 lattice_0.20-27
>> [5] tools_3.0.3
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>
>
>
>
> --
>
> Don't quit. Suffer now and live the rest of your life as a champion.
>
>                                                 - Muhammad Ali
>
> The world is full of obvious things which nobody by any chance observes.
>
>                                                 - Sir Arthur Conan Doyle
>
> Towering genius disdains a beaten path. It seeks regions hitherto
> unexplored.
>
>                                                 - Abraham Lincoln


From edd at debian.org  Sat Mar 29 16:55:20 2014
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 29 Mar 2014 10:55:20 -0500
Subject: [R-SIG-Finance] R/Finance 2014 Registration now open
Message-ID: <21302.60648.374619.87454@max.nulle.part>


Now open for registrations --- and more details as always at http://www.RinFinance.com :

  R / Finance 2014: Applied Finance with R
  May 16 and 17, 2014 
  Chicago, IL, USA

  The registration for R/Finance 2014 -- which will take place May 16 and 17
  in Chicago -- is NOW OPEN!

  Building on the success of the previous conferences in 2009, 2010, 2011,
  2012 and 2013, we expect around 300 attendees from around the world. R
  users from industry, academia, and government will joining 30+ presenters
  covering all areas of finance with R.

  We are very excited about the four keynotes by Luke Tierney, Alexios Ghalanos,
  Bob McDonald and Bill Cleveland.  The main agenda (currently) includes sixteen
  full presentations and twenty-one shorter "lightning talks". We are also
  excited to offer four optional pre-conference seminars on Friday morning.

  To celebrate the sixth year of the conference in style, the dinner will be
  returning to The Terrace of the Trump Hotel. Overlooking the Chicago River and
  skyline, it is a perfect venue to continue conversations while dining and
  drinking.
                                                                                                          
  More details of the agenda are available at:
                                                                                                          
    http://www.RinFinance.com/agenda/
                                                                                                          
  Registration information is available at
                                                                                                          
    http://www.RinFinance.com/register/
                                                                                                          
  and can also be directly accessed by going to
                                                                                                          
    http://www.regonline.com/RFinance2014
                                                                                                          
  We would to thank our 2014 Sponsors for the continued support enabling us
  to host such an exciting conference:
                                                                                                          
    International Center for Futures and Derivatives at UIC
                                                                                                          
    Revolution Analytics
    MS-Computational Finance at University of Washington
                                                                                                          
    OneMarketData
    RStudio
                                                                                                          
  On behalf of the committee and sponsors, we look forward to seeing you in
  Chicago!

    Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson, 
    Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich

See you in Chicago in May!!

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From a.chandhial at btinternet.com  Sat Mar 29 20:55:35 2014
From: a.chandhial at btinternet.com (amarjit chandhial)
Date: Sat, 29 Mar 2014 19:55:35 +0000 (GMT)
Subject: [R-SIG-Finance] quantstrat demo(faber_rebal)
In-Reply-To: <CAPxWS043N_CprTRnhqw0UjgHQpk1D6e-HbYfZ2AaY3E6su3sKw@mail.gmail.com>
References: <CAPxWS07ejs13TRS6J8Y-zmFnhRdOB_i2VaboyMSRPzjKfz01aw@mail.gmail.com>
	<CAJFvkcdzLn9imttxNTMKUWvOmLG9Tr2Owei=ZwMuyLkSNvJb5g@mail.gmail.com>
	<CAPxWS043N_CprTRnhqw0UjgHQpk1D6e-HbYfZ2AaY3E6su3sKw@mail.gmail.com>
Message-ID: <1396122935.90898.YahooMailNeo@web186003.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140329/6c42372e/attachment.pl>

From a.chandhial at btinternet.com  Mon Mar 31 10:34:18 2014
From: a.chandhial at btinternet.com (amarjit chandhial)
Date: Mon, 31 Mar 2014 09:34:18 +0100 (BST)
Subject: [R-SIG-Finance] quantstrat - stochastic oscillator
	overbought-oversold (OBOS) strategy
Message-ID: <1396254858.41457.YahooMailNeo@web186004.mail.ir2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20140331/89069d2c/attachment.pl>

