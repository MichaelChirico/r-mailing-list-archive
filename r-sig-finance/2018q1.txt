From josh.m.ulrich at gmail.com  Tue Jan  9 18:35:44 2018
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 9 Jan 2018 11:35:44 -0600
Subject: [R-SIG-Finance] R/Finance 2018: Call for Papers
Message-ID: <CAPPM_gQ5kh2OL+oRdNF-yT9W=aHYroisGdsUoxrJa1EdPuaX6g@mail.gmail.com>

R/Finance 2018: Applied Finance with R
June 1 and 2, 2018
University of Illinois at Chicago


Call For Papers

The tenth annual R/Finance conference for applied finance using R will
be held June 1 and 2, 2018 in Chicago, IL, USA at the University of
Illinois at Chicago (https://www.uic.edu). The conference will cover
topics including portfolio management, time series analysis, advanced
risk tools, high-performance computing, market microstructure, and
econometrics. All will be discussed within the context of using R as a
primary tool for financial risk management, portfolio construction,
and trading.

Over the past nine years, R/Finance has included attendees from around
the world. It has featured presentations from prominent academics and
practitioners, and we anticipate another exciting line-up for 2018.

We invite you to submit complete papers in pdf format for
consideration. We will also consider one-page abstracts (in txt or pdf
format) although more complete papers are preferred. We welcome
submissions for both full talks and abbreviated lightning talks. Both
academic and practitioner proposals related to R are encouraged.

All slides will be made publicly available at conference time.
Presenters are strongly encouraged to provide working R code to
accompany the slides. Data sets should also be made public for the
purposes of reproducibility (though we realize this may be limited due
to contracts with data vendors). Preference may be given to presenters
who have released R packages.

Please submit proposals online at

http://go.uic.edu/rfinsubmit

Submissions will be reviewed and accepted on a rolling basis with a
final submission deadline of February 2, 2018. Submitters will be
notified via email by March 2, 2018 of acceptance, presentation
length, and financial assistance (if requested).

Financial assistance for travel and accommodation may be available to
presenters. Requests for financial assistance do not affect acceptance
decisions. Requests should be made at the time of submission. Requests
made after submission are much less likely to be fulfilled. Assistance
will be granted at the discretion of the conference committee.

Additional details will be announced via the conference website
(http://www.rinfinance.com) as they become available. Information on
previous years' presenters and their presentations are also at the
conference website. We will make a separate announcement when
registration opens.

For the program committee:
Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,
Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich


-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From samuel.meichtry at protonmail.com  Tue Jan 16 12:38:51 2018
From: samuel.meichtry at protonmail.com (Samuel.meichtry)
Date: Tue, 16 Jan 2018 06:38:51 -0500
Subject: [R-SIG-Finance] Is IBroker suitable/robust for FX-Trading?
Message-ID: <7KjoqBdsCkXnhgMevIlzY07lzbnzrDA9Vc2fv_93QntDTYwEV4EvpSDtKv5d3w1HDlh3l5RRsbDFYZjysKZeej0z7duZxppqKAgSnI4AKos=@protonmail.com>

Dear all,

I would like to implement an automated order routing for a FX-Strategy on multiple currencies. There is a short and good documentation called "Real Time Market Data and Trade Execution with R" (See RealTime.pdf) by Jeffrey Ryan from April 5, 2009. As you see, the proposed solutions is quite old and I am wondering if this is still the right/best way to do so - old but gold?
The problem is: I would like to run the strategy on Linux and Windows as well. So the IB API in .Net is not very suitable. Unfortunately I have no Java programming either to use the Java API. Of course it would be maybe best to use the IB Gateway and not the TWS connection.

? Do you think it is better to use the old IBroker package in R or would you sugest learning Java?
? Is there an alternative solution w/o foreign broker software?

Thank you for your advice and help.

B.R.
Samuel

Sent with [ProtonMail](https://protonmail.com) Secure Email.
	[[alternative HTML version deleted]]


From roger.bos at rothschild.com  Thu Jan 18 18:06:41 2018
From: roger.bos at rothschild.com (Bos, Roger)
Date: Thu, 18 Jan 2018 17:06:41 +0000
Subject: [R-SIG-Finance] PortfolioAnalytics with turnover constraint
Message-ID: <147b70ee3210404c8ba6fa1f2007eab1@USNYMMSG001.rth.ad.rothschild.com>

Dear All,

I am trying to use the PortfolioAnalytics package to run an optimization with a turnover constraint.  I didn't see any examples in the demos.  The example code below runs in I set the portfolio up using equal weights:

init.portf <- portfolio.spec(assets=funds)

But if I instead try to use a named vector of initial weights, as described in the docs, as such:

init.portf <- portfolio.spec(assets=wgts) # Does not work with this line added

I get an error when I try to run the optimization:

11:57:01  > minStdDev.DE <- optimize.portfolio(R=R, portfolio=init.portf, optimize_method="DEoptim", search_size = 2000)
 Show Traceback

 Rerun with Debug
 Error in result[2, ] <- rep(1/length(seed), length(seed)) :
  incorrect number of subscripts on matrix

The portfolio.spec function did take in the initial weights properly, as shown using the print function:

11:57:01  > print.default(init.portf)
$assets
   CA CTAG  DS  EM EQM
1 0.1  0.3 0.4 0.1 0.1

Can anyone provide me with a working example using both initial weights and a turnover constraint?  I don't care it if uses DEoptim or some other optimizer, I just want to get started with something.

Thanks,

Roger


library(PortfolioAnalytics)

data(edhec)
R <- edhec[, 1:5]
colnames(R) <- c("CA", "CTAG", "DS", "EM", "EQM")
funds <- colnames(R)
wgts <- data.frame("CA" = .1, "CTAG" = .3, "DS" = .4, "EM" = .1, "EQM" = .1)
wgts

# Set up portfolio with objectives and constraints
init.portf <- portfolio.spec(assets=funds)
init.portf <- portfolio.spec(assets=wgts) # Does not work with this line added
init.portf <- add.constraint(portfolio = init.portf, type="weight_sum", min_sum = .99, max_sum = 1.01)
init.portf <- add.constraint(portfolio = init.portf, type="long_only")
init.portf <- add.constraint(portfolio = init.portf, type="turnover", turnover_target = .2)

# Add an objective to minimize portfolio standard deviation
init.portf <- add.objective(portfolio=init.portf, type="risk", name="StdDev")
print.default(init.portf)

# Solve with DEoptim
minStdDev.DE <- optimize.portfolio(R=R, portfolio=init.portf, optimize_method="DEoptim", search_size = 2000)
minStdDev.DE





This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.





From rossbennett34 at gmail.com  Thu Jan 18 18:25:56 2018
From: rossbennett34 at gmail.com (Ross Bennett)
Date: Thu, 18 Jan 2018 11:25:56 -0600
Subject: [R-SIG-Finance] PortfolioAnalytics with turnover constraint
In-Reply-To: <147b70ee3210404c8ba6fa1f2007eab1@USNYMMSG001.rth.ad.rothschild.com>
References: <147b70ee3210404c8ba6fa1f2007eab1@USNYMMSG001.rth.ad.rothschild.com>
Message-ID: <CAEESW=VUKHD-iWLUSXkewGbW1Rk80_CCNtgxef-Etp9TLp_GFg@mail.gmail.com>

Roger,

The "assets" argument for the portfolio.spec function should be a vector.
You are passing in a data.frame object.

Try defining your wgts object as follows
wgts <- c("CA" = .1, "CTAG" = .3, "DS" = .4, "EM" = .1, "EQM" = .1)

Best,
Ross


On Thu, Jan 18, 2018 at 11:06 AM, Bos, Roger <roger.bos at rothschild.com>
wrote:

> Dear All,
>
> I am trying to use the PortfolioAnalytics package to run an optimization
> with a turnover constraint.  I didn't see any examples in the demos.  The
> example code below runs in I set the portfolio up using equal weights:
>
> init.portf <- portfolio.spec(assets=funds)
>
> But if I instead try to use a named vector of initial weights, as
> described in the docs, as such:
>
> init.portf <- portfolio.spec(assets=wgts) # Does not work with this line
> added
>
> I get an error when I try to run the optimization:
>
> 11:57:01  > minStdDev.DE <- optimize.portfolio(R=R, portfolio=init.portf,
> optimize_method="DEoptim", search_size = 2000)
>  Show Traceback
>
>  Rerun with Debug
>  Error in result[2, ] <- rep(1/length(seed), length(seed)) :
>   incorrect number of subscripts on matrix
>
> The portfolio.spec function did take in the initial weights properly, as
> shown using the print function:
>
> 11:57:01  > print.default(init.portf)
> $assets
>    CA CTAG  DS  EM EQM
> 1 0.1  0.3 0.4 0.1 0.1
>
> Can anyone provide me with a working example using both initial weights
> and a turnover constraint?  I don't care it if uses DEoptim or some other
> optimizer, I just want to get started with something.
>
> Thanks,
>
> Roger
>
>
> library(PortfolioAnalytics)
>
> data(edhec)
> R <- edhec[, 1:5]
> colnames(R) <- c("CA", "CTAG", "DS", "EM", "EQM")
> funds <- colnames(R)
> wgts <- data.frame("CA" = .1, "CTAG" = .3, "DS" = .4, "EM" = .1, "EQM" =
> .1)
> wgts
>
> # Set up portfolio with objectives and constraints
> init.portf <- portfolio.spec(assets=funds)
> init.portf <- portfolio.spec(assets=wgts) # Does not work with this line
> added
> init.portf <- add.constraint(portfolio = init.portf, type="weight_sum",
> min_sum = .99, max_sum = 1.01)
> init.portf <- add.constraint(portfolio = init.portf, type="long_only")
> init.portf <- add.constraint(portfolio = init.portf, type="turnover",
> turnover_target = .2)
>
> # Add an objective to minimize portfolio standard deviation
> init.portf <- add.objective(portfolio=init.portf, type="risk",
> name="StdDev")
> print.default(init.portf)
>
> # Solve with DEoptim
> minStdDev.DE <- optimize.portfolio(R=R, portfolio=init.portf,
> optimize_method="DEoptim", search_size = 2000)
> minStdDev.DE
>
>
>
>
>
> This message and any attachments are for the intended recipient?s use
> only. This message may contain confidential, proprietary or legally
> privileged information. No right to confidential or privileged treatment of
> this message is waived or lost by an error in transmission.
> If you have received this message in error, please immediately notify the
> sender by e-mail, delete the message, any attachments and all copies from
> your system and destroy any hard copies. You must not, directly or
> indirectly, use, disclose, distribute, print or copy any part of this
> message or any attachments if you are not the intended recipient.
>
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.

	[[alternative HTML version deleted]]


From roger.bos at rothschild.com  Thu Jan 18 18:47:27 2018
From: roger.bos at rothschild.com (Bos, Roger)
Date: Thu, 18 Jan 2018 17:47:27 +0000
Subject: [R-SIG-Finance] PortfolioAnalytics with turnover constraint
In-Reply-To: <CAEESW=VUKHD-iWLUSXkewGbW1Rk80_CCNtgxef-Etp9TLp_GFg@mail.gmail.com>
References: <147b70ee3210404c8ba6fa1f2007eab1@USNYMMSG001.rth.ad.rothschild.com>
 <CAEESW=VUKHD-iWLUSXkewGbW1Rk80_CCNtgxef-Etp9TLp_GFg@mail.gmail.com>
Message-ID: <681a5b50464142fe966a976fb1c1a50d@USNYMMSG001.rth.ad.rothschild.com>

That worked!  Thanks so much Ross. I really look forward to using this package.

-----Original Message-----
From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Ross Bennett
Sent: Thursday, January 18, 2018 12:26 PM
To: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] PortfolioAnalytics with turnover constraint

Roger,

The "assets" argument for the portfolio.spec function should be a vector.
You are passing in a data.frame object.

Try defining your wgts object as follows wgts <- c("CA" = .1, "CTAG" = .3, "DS" = .4, "EM" = .1, "EQM" = .1)

Best,
Ross


On Thu, Jan 18, 2018 at 11:06 AM, Bos, Roger <roger.bos at rothschild.com>
wrote:

> Dear All,
>
> I am trying to use the PortfolioAnalytics package to run an
> optimization with a turnover constraint.  I didn't see any examples in
> the demos.  The example code below runs in I set the portfolio up using equal weights:
>
> init.portf <- portfolio.spec(assets=funds)
>
> But if I instead try to use a named vector of initial weights, as
> described in the docs, as such:
>
> init.portf <- portfolio.spec(assets=wgts) # Does not work with this
> line added
>
> I get an error when I try to run the optimization:
>
> 11:57:01  > minStdDev.DE <- optimize.portfolio(R=R,
> portfolio=init.portf, optimize_method="DEoptim", search_size = 2000)
> Show Traceback
>
>  Rerun with Debug
>  Error in result[2, ] <- rep(1/length(seed), length(seed)) :
>   incorrect number of subscripts on matrix
>
> The portfolio.spec function did take in the initial weights properly,
> as shown using the print function:
>
> 11:57:01  > print.default(init.portf)
> $assets
>    CA CTAG  DS  EM EQM
> 1 0.1  0.3 0.4 0.1 0.1
>
> Can anyone provide me with a working example using both initial
> weights and a turnover constraint?  I don't care it if uses DEoptim or
> some other optimizer, I just want to get started with something.
>
> Thanks,
>
> Roger
>
>
> library(PortfolioAnalytics)
>
> data(edhec)
> R <- edhec[, 1:5]
> colnames(R) <- c("CA", "CTAG", "DS", "EM", "EQM") funds <- colnames(R)
> wgts <- data.frame("CA" = .1, "CTAG" = .3, "DS" = .4, "EM" = .1, "EQM"
> =
> .1)
> wgts
>
> # Set up portfolio with objectives and constraints init.portf <-
> portfolio.spec(assets=funds) init.portf <- portfolio.spec(assets=wgts)
> # Does not work with this line added init.portf <-
> add.constraint(portfolio = init.portf, type="weight_sum", min_sum =
> .99, max_sum = 1.01) init.portf <- add.constraint(portfolio =
> init.portf, type="long_only") init.portf <- add.constraint(portfolio =
> init.portf, type="turnover", turnover_target = .2)
>
> # Add an objective to minimize portfolio standard deviation init.portf
> <- add.objective(portfolio=init.portf, type="risk",
> name="StdDev")
> print.default(init.portf)
>
> # Solve with DEoptim
> minStdDev.DE <- optimize.portfolio(R=R, portfolio=init.portf,
> optimize_method="DEoptim", search_size = 2000) minStdDev.DE
>
>
>
>
>
> This message and any attachments are for the intended recipient?s use
> only. This message may contain confidential, proprietary or legally
> privileged information. No right to confidential or privileged
> treatment of this message is waived or lost by an error in transmission.
> If you have received this message in error, please immediately notify
> the sender by e-mail, delete the message, any attachments and all
> copies from your system and destroy any hard copies. You must not,
> directly or indirectly, use, disclose, distribute, print or copy any
> part of this message or any attachments if you are not the intended recipient.
>
>
>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R
> questions should go.

[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.



This message and any attachments are for the intended recipient?s use only. This message may contain confidential, proprietary or legally privileged information. No right to confidential or privileged treatment of this message is waived or lost by an error in transmission.
If you have received this message in error, please immediately notify the sender by e-mail, delete the message, any attachments and all copies from your system and destroy any hard copies. You must not, directly or indirectly, use, disclose, distribute, print or copy any part of this message or any attachments if you are not the intended recipient.





From danielmelendez at alum.northwestern.edu  Fri Jan 19 16:26:26 2018
From: danielmelendez at alum.northwestern.edu (Daniel Melendez)
Date: Fri, 19 Jan 2018 09:26:26 -0600
Subject: [R-SIG-Finance] R finance conference question
Message-ID: <D68B27D5-A543-453B-BDD9-370A0E3F2939@alum.northwestern.edu>

Hello - 

Are there still open spots to present?  I know the deadline is Feb 2

Regards - Daniel


From josh.m.ulrich at gmail.com  Fri Jan 19 16:35:29 2018
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 19 Jan 2018 09:35:29 -0600
Subject: [R-SIG-Finance] R finance conference question
In-Reply-To: <D68B27D5-A543-453B-BDD9-370A0E3F2939@alum.northwestern.edu>
References: <D68B27D5-A543-453B-BDD9-370A0E3F2939@alum.northwestern.edu>
Message-ID: <CAPPM_gSNeBkO=B+yRgzeVVLbF3C9uoX2fSOwrXiFZT8WvQJU=Q@mail.gmail.com>

On Fri, Jan 19, 2018 at 9:26 AM, Daniel Melendez
<danielmelendez at alum.northwestern.edu> wrote:
> Hello -
>
> Are there still open spots to present?  I know the deadline is Feb 2
>
There are no pre-specified number of open spots.  We will not know the
number and types of slots until after the deadline, and after all
submissions have been evaluated.

> Regards - Daniel
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From danielmelendez at alum.northwestern.edu  Fri Jan 19 16:38:55 2018
From: danielmelendez at alum.northwestern.edu (Daniel Melendez)
Date: Fri, 19 Jan 2018 09:38:55 -0600
Subject: [R-SIG-Finance] R finance conference question
In-Reply-To: <CAPPM_gSNeBkO=B+yRgzeVVLbF3C9uoX2fSOwrXiFZT8WvQJU=Q@mail.gmail.com>
References: <D68B27D5-A543-453B-BDD9-370A0E3F2939@alum.northwestern.edu>
 <CAPPM_gSNeBkO=B+yRgzeVVLbF3C9uoX2fSOwrXiFZT8WvQJU=Q@mail.gmail.com>
Message-ID: <82DAF6E1-064C-4B18-A5AC-C115F1B1C086@alum.northwestern.edu>

Thanks Josh and Luis, I?ll proceed with the submission. 

Regards - Daniel

> On Jan 19, 2018, at 9:35 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> 
> On Fri, Jan 19, 2018 at 9:26 AM, Daniel Melendez
> <danielmelendez at alum.northwestern.edu> wrote:
>> Hello -
>> 
>> Are there still open spots to present?  I know the deadline is Feb 2
>> 
> There are no pre-specified number of open spots.  We will not know the
> number and types of slots until after the deadline, and after all
> submissions have been evaluated.
> 
>> Regards - Daniel
>> 
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
> 
> 
> 
> -- 
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
> R/Finance 2018 | www.rinfinance.com


From zadig_1 at excite.com  Tue Jan 23 18:34:36 2018
From: zadig_1 at excite.com (ce)
Date: Tue, 23 Jan 2018 12:34:36 -0500
Subject: [R-SIG-Finance] Is IBroker suitable/robust for FX-Trading?
Message-ID: <20180123123436.13096@web007.roc2.bluetie.com>


I use old IBrokers R package in Linux and I don't advise it to a new starter. It doesn't work with newer API versions, some patches needed. It has limited functionalities.  
Because your trading algorithm is in R doesn't mean you must have your trading program in R too. 
 there are plenty of tools to inter process communication methods ( sockets etc ) .
TWS has other interfaces like Python, c++ etc.  
you'd better check twsapi group in https://groups.io/g/twsapi  or https://groups.io/g/insync ( twsapi for Python  ) for much better help.


-----Original Message-----
From: "Samuel.meichtry via R-SIG-Finance" [r-sig-finance at r-project.org]
Date: 01/16/2018 06:39 AM
To: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org>
Subject: [R-SIG-Finance] Is IBroker suitable/robust for FX-Trading?

Dear all,

I would like to implement an automated order routing for a FX-Strategy on multiple currencies. There is a short and good documentation called "Real Time Market Data and Trade Execution with R" (See RealTime.pdf) by Jeffrey Ryan from April 5, 2009. As you see, the proposed solutions is quite old and I am wondering if this is still the right/best way to do so - old but gold?
The problem is: I would like to run the strategy on Linux and Windows as well. So the IB API in .Net is not very suitable. Unfortunately I have no Java programming either to use the Java API. Of course it would be maybe best to use the IB Gateway and not the TWS connection.

? Do you think it is better to use the old IBroker package in R or would you sugest learning Java?
? Is there an alternative solution w/o foreign broker software?

Thank you for your advice and help.

B.R.
Samuel

Sent with [ProtonMail](https://protonmail.com) Secure Email.
	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should g


From joshua.segal at gmail.com  Tue Jan 23 20:34:25 2018
From: joshua.segal at gmail.com (Josh Segal)
Date: Tue, 23 Jan 2018 14:34:25 -0500
Subject: [R-SIG-Finance] Apparent bug in rmgarch
Message-ID: <CAHRBD=ZeMrba7f2=4dp0=85VFcJMbVeK+BZJU5BAq2gHOsx7aQ@mail.gmail.com>

Hi Alexios (and others),

First, thank you for creating rmgarch, it's great.

I'm trying to generate simulations using dccsim from a spec, and find that
when I specify a single value for rseed, the simulation results are not
reproducible (that is, each run gives different results).  I can avoid this
issue by either using a fit instead of a spec or by specifying a vector of
m.sim rseeds.

I did some digging in the code, and found in rdcc-main.R:
For fit, line 1224: rseed = c(rseed, (1:m.sim)*(rseed+1))
For spec, line 1493: rseed = c(rseed, as.integer(runif(m.sim, 1,
Sys.time())))

I think this explains my results.  Seems like the latter is incorrect, and
should match the former, no?

Thanks very much,
Josh

	[[alternative HTML version deleted]]


From alexios at 4dscape.com  Thu Jan 25 04:15:13 2018
From: alexios at 4dscape.com (alexios galanos)
Date: Wed, 24 Jan 2018 19:15:13 -0800
Subject: [R-SIG-Finance] Apparent bug in rmgarch
In-Reply-To: <CAHRBD=ZeMrba7f2=4dp0=85VFcJMbVeK+BZJU5BAq2gHOsx7aQ@mail.gmail.com>
References: <CAHRBD=ZeMrba7f2=4dp0=85VFcJMbVeK+BZJU5BAq2gHOsx7aQ@mail.gmail.com>
Message-ID: <0d9c9c57-792e-d0ad-6a81-64af4dc5a49e@4dscape.com>

Hi Josh,

Thanks for reporting this...I'll investigate further when time permits.

In the meantime, if you let the rseed=NULL, the returned object will 
include the seeds used which can then be passed back into the simulation 
function to obtain reproducible results.

Here is an example:
###############################
library(rmgarch)
data(dji30retw)
Dat = dji30retw[, 1:3, drop = FALSE]
cnames = colnames(Dat)
uspec = ugarchspec(mean.model = list(armaOrder = c(2,1)), variance.model 
= list(garchOrder = c(1,1), model = "eGARCH"), distribution.model = "norm")
spec1 = dccspec(uspec = multispec( replicate(3, uspec) ), dccOrder = 
c(1,1), distribution = "mvnorm")
fit1 = dccfit(spec1, data = Dat, fit.control = list(eval.se=FALSE))
uspec = ugarchspec(mean.model = list(armaOrder = c(2,1)), variance.model 
= list(garchOrder = c(1,1), model = "eGARCH"), distribution.model = "norm")
vspec = vector(mode = "list", length = 3)
midx = fit1 at model$midx
mpars = fit1 at model$mpars
# nasty, I know...will try to write some wrapper to perform this 
automatically in future.
for(i in 1:3){
 ? vspec[[i]] = uspec
 ? setfixed(vspec[[i]])<-as.list(mpars[midx[,i]==1, i])
}
dccfix = as.list(coef(fit1, "dcc"))
spec2 = dccspec(uspec = multispec( vspec ), dccOrder = c(1,1), 
distribution = "mvnorm", fixed.pars = dccfix)
# Fitted object
sim1 = dccsim(fitORspec = fit1, n.sim = 1000, n.start = 100, m.sim = 2, 
startMethod = "unconditional",
 ????????????? rseed = NULL)
print(sim1 at msim$rseed)
 > 497782424 497782425 995564850
sim2 = dccsim(fitORspec = fit1, n.sim = 1000, n.start = 100, m.sim = 2, 
startMethod = "unconditional",
 ????????????? rseed=sim1 at msim$rseed)

all.equal(sim1 at msim$simX[[1]],sim2 at msim$simX[[1]])
 > TRUE
all.equal(sim1 at msim$simX[[2]],sim2 at msim$simX[[2]])
 > TRUE
# Specification Object
sims1 = dccsim(fitORspec = spec2, n.sim = 1000, n.start = 100, m.sim = 
2, startMethod = "unconditional",
 ????????????? rseed = NULL, mexsimdata = NULL, vexsimdata = NULL, preQ 
= last(rcor(fit1, type = "Q"))[,,1],
 ????????????? Qbar = fit1 at mfit$Qbar)
sims2 = dccsim(fitORspec = spec2, n.sim = 1000, n.start = 100, m.sim = 
2, startMethod = "unconditional",
 ????????????? rseed=sims1 at msim$rseed, preQ = last(rcor(fit1, type = 
"Q"))[,,1],
 ????????????? Qbar = fit1 at mfit$Qbar)

all.equal(sims1 at msim$simX[[1]],sims2 at msim$simX[[1]])
 > TRUE
all.equal(sims1 at msim$simX[[2]],sims2 at msim$simX[[2]])
 > TRUE
###############################

Regards,

Alexios

On 1/23/18 11:34 AM, Josh Segal wrote:
> Hi Alexios (and others),
>
> First, thank you for creating rmgarch, it's great.
>
> I'm trying to generate simulations using dccsim from a spec, and find that
> when I specify a single value for rseed, the simulation results are not
> reproducible (that is, each run gives different results).  I can avoid this
> issue by either using a fit instead of a spec or by specifying a vector of
> m.sim rseeds.
>
> I did some digging in the code, and found in rdcc-main.R:
> For fit, line 1224: rseed = c(rseed, (1:m.sim)*(rseed+1))
> For spec, line 1493: rseed = c(rseed, as.integer(runif(m.sim, 1,
> Sys.time())))
>
> I think this explains my results.  Seems like the latter is incorrect, and
> should match the former, no?
>
> Thanks very much,
> Josh
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From joshua.segal at gmail.com  Fri Jan 26 16:45:14 2018
From: joshua.segal at gmail.com (Josh Segal)
Date: Fri, 26 Jan 2018 10:45:14 -0500
Subject: [R-SIG-Finance] Apparent bug in rmgarch
In-Reply-To: <0d9c9c57-792e-d0ad-6a81-64af4dc5a49e@4dscape.com>
References: <CAHRBD=ZeMrba7f2=4dp0=85VFcJMbVeK+BZJU5BAq2gHOsx7aQ@mail.gmail.com>
 <0d9c9c57-792e-d0ad-6a81-64af4dc5a49e@4dscape.com>
Message-ID: <CAHRBD=ZDUXG+CGpOvQj2wL4GjqOgrD3bmbxpa-m3E4zzhrByXg@mail.gmail.com>

I'll try that, thanks!

On Wed, Jan 24, 2018 at 10:15 PM, alexios galanos <alexios at 4dscape.com>
wrote:

> Hi Josh,
>
> Thanks for reporting this...I'll investigate further when time permits.
>
> In the meantime, if you let the rseed=NULL, the returned object will
> include the seeds used which can then be passed back into the simulation
> function to obtain reproducible results.
>
> Here is an example:
> ###############################
> library(rmgarch)
> data(dji30retw)
> Dat = dji30retw[, 1:3, drop = FALSE]
> cnames = colnames(Dat)
> uspec = ugarchspec(mean.model = list(armaOrder = c(2,1)), variance.model =
> list(garchOrder = c(1,1), model = "eGARCH"), distribution.model = "norm")
> spec1 = dccspec(uspec = multispec( replicate(3, uspec) ), dccOrder =
> c(1,1), distribution = "mvnorm")
> fit1 = dccfit(spec1, data = Dat, fit.control = list(eval.se=FALSE))
> uspec = ugarchspec(mean.model = list(armaOrder = c(2,1)), variance.model =
> list(garchOrder = c(1,1), model = "eGARCH"), distribution.model = "norm")
> vspec = vector(mode = "list", length = 3)
> midx = fit1 at model$midx
> mpars = fit1 at model$mpars
> # nasty, I know...will try to write some wrapper to perform this
> automatically in future.
> for(i in 1:3){
>   vspec[[i]] = uspec
>   setfixed(vspec[[i]])<-as.list(mpars[midx[,i]==1, i])
> }
> dccfix = as.list(coef(fit1, "dcc"))
> spec2 = dccspec(uspec = multispec( vspec ), dccOrder = c(1,1),
> distribution = "mvnorm", fixed.pars = dccfix)
> # Fitted object
> sim1 = dccsim(fitORspec = fit1, n.sim = 1000, n.start = 100, m.sim = 2,
> startMethod = "unconditional",
>               rseed = NULL)
> print(sim1 at msim$rseed)
> > 497782424 497782425 995564850
> sim2 = dccsim(fitORspec = fit1, n.sim = 1000, n.start = 100, m.sim = 2,
> startMethod = "unconditional",
>               rseed=sim1 at msim$rseed)
>
> all.equal(sim1 at msim$simX[[1]],sim2 at msim$simX[[1]])
> > TRUE
> all.equal(sim1 at msim$simX[[2]],sim2 at msim$simX[[2]])
> > TRUE
> # Specification Object
> sims1 = dccsim(fitORspec = spec2, n.sim = 1000, n.start = 100, m.sim = 2,
> startMethod = "unconditional",
>               rseed = NULL, mexsimdata = NULL, vexsimdata = NULL, preQ =
> last(rcor(fit1, type = "Q"))[,,1],
>               Qbar = fit1 at mfit$Qbar)
> sims2 = dccsim(fitORspec = spec2, n.sim = 1000, n.start = 100, m.sim = 2,
> startMethod = "unconditional",
>               rseed=sims1 at msim$rseed, preQ = last(rcor(fit1, type =
> "Q"))[,,1],
>               Qbar = fit1 at mfit$Qbar)
>
> all.equal(sims1 at msim$simX[[1]],sims2 at msim$simX[[1]])
> > TRUE
> all.equal(sims1 at msim$simX[[2]],sims2 at msim$simX[[2]])
> > TRUE
> ###############################
>
> Regards,
>
> Alexios
>
>
> On 1/23/18 11:34 AM, Josh Segal wrote:
>
>> Hi Alexios (and others),
>>
>> First, thank you for creating rmgarch, it's great.
>>
>> I'm trying to generate simulations using dccsim from a spec, and find that
>> when I specify a single value for rseed, the simulation results are not
>> reproducible (that is, each run gives different results).  I can avoid
>> this
>> issue by either using a fit instead of a spec or by specifying a vector of
>> m.sim rseeds.
>>
>> I did some digging in the code, and found in rdcc-main.R:
>> For fit, line 1224: rseed = c(rseed, (1:m.sim)*(rseed+1))
>> For spec, line 1493: rseed = c(rseed, as.integer(runif(m.sim, 1,
>> Sys.time())))
>>
>> I think this explains my results.  Seems like the latter is incorrect, and
>> should match the former, no?
>>
>> Thanks very much,
>> Josh
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>>
>

	[[alternative HTML version deleted]]


From ed.herranz at gmail.com  Fri Jan 26 22:05:16 2018
From: ed.herranz at gmail.com (Ed Herranz)
Date: Fri, 26 Jan 2018 16:05:16 -0500
Subject: [R-SIG-Finance] PortfolioAnalytics Package Questions on Initial
	Weights & Group Constraints
Message-ID: <CABJ+vwQkEhpJmB8Tp-t0hrbn6czpUxKnJJkPYyroW6uUbSrNEw@mail.gmail.com>

Dear R-sig-finance Group,

I have 3 of questions about the PortfolioAnalytics package:

1) I'm using DEOptim optimization.  And I use the following initialization:

  i.portf <- portfolio.spec(assets=allInstruments,
                            weight_seq=generatesequence(min = 0.001,
                                                        max = 0.06,
                                                        by = 0.002))
I believe that the initial portfolios are generated randomly using
random_portfolios.   However, if I wanted to specifically pre-set one of
the portfolios to a given set of predefined weights, would that be possible
with DEOPtim?

2) I'm using group constraints to specify the sum of weights by group.  For
example on Sectors:

  for( jj in 1:length(uniqueSectors)){
    group_indices <- which(sectors == uniqueSectors[jj])
    groupsum <- sum(benchmark_weights[group_indices])
    groupmax <- 0.1 + groupsum
    groupmin <- -0.1 + groupsum

    groupmins[jj]   <- groupmin
    groupmaxs[jj]   <- groupmax
    grouplist[[jj]] <- group_indices
  }

    i.portf <- add.constraint(portfolio=i.portf,
                              type="group",
                              groups=grouplis,
                              group_min=groupmins,
                              group_max=groupmaxs,
                              group_labels=groupnames)

  There is nothing stopping me from making two separate add.constraint()
group calls by splitting the initial groups' constraints into 2

    i.portf <- add.constraint(portfolio=i.portf,
                              type="group",
                              groups=grouplist[1:5],
                              group_min=groupmins[1:5],
                              group_max=groupmaxs[1:5],
                              group_labels=groupnames[1:5])
    i.portf <- add.constraint(portfolio=i.portf,
                              type="group",
                              groups=grouplist[5:10],
                              group_min=groupmins[5:10],
                              group_max=groupmaxs[5:10],
                              group_labels=groupnames[5:10])

What is the difference when I split the group constraints into two instead
of 1?  Based on my tests these two are not the same; it seems that
splitting the group constraints into 2 is less restrictive(?) than if I
just have one group add.constraint()

3) There is a maximum position constraint--for example

pspec <- add.constraint(portfolio=pspec, type="position_limit", max_pos=3)

Is there a reason that a minimum position constraint was not/cannot be
implemented?

Thanks & Regards,
-Ed

	[[alternative HTML version deleted]]


From brian at braverock.com  Sun Jan 28 12:47:10 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 28 Jan 2018 05:47:10 -0600
Subject: [R-SIG-Finance] PortfolioAnalytics Package Questions on Initial
 Weights & Group Constraints
In-Reply-To: <CABJ+vwQkEhpJmB8Tp-t0hrbn6czpUxKnJJkPYyroW6uUbSrNEw@mail.gmail.com>
References: <CABJ+vwQkEhpJmB8Tp-t0hrbn6czpUxKnJJkPYyroW6uUbSrNEw@mail.gmail.com>
Message-ID: <ed12c6ee-994b-b506-8f44-bde91f021616@braverock.com>

On 01/26/2018 03:05 PM, Ed Herranz wrote:
> Dear R-sig-finance Group,
> 
> I have 3 of questions about the PortfolioAnalytics package:
> 
> 1) I'm using DEOptim optimization.  And I use the following initialization:
> 
>    i.portf <- portfolio.spec(assets=allInstruments,
>                              weight_seq=generatesequence(min = 0.001,
>                                                          max = 0.06,
>                                                          by = 0.002))
> I believe that the initial portfolios are generated randomly using
> random_portfolios.   However, if I wanted to specifically pre-set one of
> the portfolios to a given set of predefined weights, would that be possible
> with DEOPtim?

You are correct that the initial population is generated via 
random_portfolios.

There are two ways to accomplish what you want, the first will work for 
only one 'special' seed portfolio, the second would work for any number 
of special seeds.

In the first method, when you call portfolio.spec, instead of just 
specifying the names of the assets, you also specify the weights using a 
named vector.  This will include your current seed portfolio as the 
second portfolio in the seed matrix sent to DEoptim as an initial 
population.

In the second method, you simply call random_portfolios by hand, 
specifying the number of portfolios to be slightly shorter than the 
number of portfolios that will be in each generation.  then add your 
seeds to this object, and specify your new matrix of weights including 
your seeds as the rp= parameter to optimize.portfolios.  You'll see that 
in many of our vignettes or seminar materials on PortfolioAnalytics we 
generate a random portfolio seed once, and then reuse it across many 
different scenarios.  You would be doing the same thing, only including 
your special seed portfolios in the initial population.

> 2) I'm using group constraints to specify the sum of weights by group.  For
> example on Sectors:
> 
>    for( jj in 1:length(uniqueSectors)){
>      group_indices <- which(sectors == uniqueSectors[jj])
>      groupsum <- sum(benchmark_weights[group_indices])
>      groupmax <- 0.1 + groupsum
>      groupmin <- -0.1 + groupsum
> 
>      groupmins[jj]   <- groupmin
>      groupmaxs[jj]   <- groupmax
>      grouplist[[jj]] <- group_indices
>    }
> 
>      i.portf <- add.constraint(portfolio=i.portf,
>                                type="group",
>                                groups=grouplis,
>                                group_min=groupmins,
>                                group_max=groupmaxs,
>                                group_labels=groupnames)
> 
>    There is nothing stopping me from making two separate add.constraint()
> group calls by splitting the initial groups' constraints into 2
> 
>      i.portf <- add.constraint(portfolio=i.portf,
>                                type="group",
>                                groups=grouplist[1:5],
>                                group_min=groupmins[1:5],
>                                group_max=groupmaxs[1:5],
>                                group_labels=groupnames[1:5])
>      i.portf <- add.constraint(portfolio=i.portf,
>                                type="group",
>                                groups=grouplist[5:10],
>                                group_min=groupmins[5:10],
>                                group_max=groupmaxs[5:10],
>                                group_labels=groupnames[5:10])
> 
> What is the difference when I split the group constraints into two instead
> of 1?  Based on my tests these two are not the same; it seems that
> splitting the group constraints into 2 is less restrictive(?) than if I
> just have one group add.constraint()

I discussed this with Ross Bennett, who added the group constraint code 
to PortfolioAnalytics, and we are of the opinion that the two 
formulations should be the same.  So any variation you are seeing may be 
random.  This could be verified by using the same seed population rp as 
described above.

Ross also noticed that both your groups contain asset 5, which may not 
be what you intended.

> 3) There is a maximum position constraint--for example
> 
> pspec <- add.constraint(portfolio=pspec, type="position_limit", max_pos=3)
> 
> Is there a reason that a minimum position constraint was not/cannot be
> implemented?

I think a minimum position box constraint will do what you want, but 
otherwise no, we'd need to look at the code and think about it some more 
as to why it was implemented the way that it was.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ed.herranz at gmail.com  Sun Jan 28 23:41:21 2018
From: ed.herranz at gmail.com (Ed Herranz)
Date: Sun, 28 Jan 2018 22:41:21 +0000
Subject: [R-SIG-Finance] PortfolioAnalytics Package Questions on Initial
 Weights & Group Constraints
In-Reply-To: <ed12c6ee-994b-b506-8f44-bde91f021616@braverock.com>
References: <CABJ+vwQkEhpJmB8Tp-t0hrbn6czpUxKnJJkPYyroW6uUbSrNEw@mail.gmail.com>
 <ed12c6ee-994b-b506-8f44-bde91f021616@braverock.com>
Message-ID: <CABJ+vwQyfRhjO7EDJ1v7iX-LKZQfq=rJs35nFJuzbjiwTh95eQ@mail.gmail.com>

Thank you Brian. I did not mean to put the same group in both calls; that
was a typo.

On Sun, Jan 28, 2018 at 6:47 AM Brian G. Peterson <brian at braverock.com>
wrote:

> On 01/26/2018 03:05 PM, Ed Herranz wrote:
> > Dear R-sig-finance Group,
> >
> > I have 3 of questions about the PortfolioAnalytics package:
> >
> > 1) I'm using DEOptim optimization.  And I use the following
> initialization:
> >
> >    i.portf <- portfolio.spec(assets=allInstruments,
> >                              weight_seq=generatesequence(min = 0.001,
> >                                                          max = 0.06,
> >                                                          by = 0.002))
> > I believe that the initial portfolios are generated randomly using
> > random_portfolios.   However, if I wanted to specifically pre-set one of
> > the portfolios to a given set of predefined weights, would that be
> possible
> > with DEOPtim?
>
> You are correct that the initial population is generated via
> random_portfolios.
>
> There are two ways to accomplish what you want, the first will work for
> only one 'special' seed portfolio, the second would work for any number
> of special seeds.
>
> In the first method, when you call portfolio.spec, instead of just
> specifying the names of the assets, you also specify the weights using a
> named vector.  This will include your current seed portfolio as the
> second portfolio in the seed matrix sent to DEoptim as an initial
> population.
>
> In the second method, you simply call random_portfolios by hand,
> specifying the number of portfolios to be slightly shorter than the
> number of portfolios that will be in each generation.  then add your
> seeds to this object, and specify your new matrix of weights including
> your seeds as the rp= parameter to optimize.portfolios.  You'll see that
> in many of our vignettes or seminar materials on PortfolioAnalytics we
> generate a random portfolio seed once, and then reuse it across many
> different scenarios.  You would be doing the same thing, only including
> your special seed portfolios in the initial population.
>
> > 2) I'm using group constraints to specify the sum of weights by group.
> For
> > example on Sectors:
> >
> >    for( jj in 1:length(uniqueSectors)){
> >      group_indices <- which(sectors == uniqueSectors[jj])
> >      groupsum <- sum(benchmark_weights[group_indices])
> >      groupmax <- 0.1 + groupsum
> >      groupmin <- -0.1 + groupsum
> >
> >      groupmins[jj]   <- groupmin
> >      groupmaxs[jj]   <- groupmax
> >      grouplist[[jj]] <- group_indices
> >    }
> >
> >      i.portf <- add.constraint(portfolio=i.portf,
> >                                type="group",
> >                                groups=grouplis,
> >                                group_min=groupmins,
> >                                group_max=groupmaxs,
> >                                group_labels=groupnames)
> >
> >    There is nothing stopping me from making two separate add.constraint()
> > group calls by splitting the initial groups' constraints into 2
> >
> >      i.portf <- add.constraint(portfolio=i.portf,
> >                                type="group",
> >                                groups=grouplist[1:5],
> >                                group_min=groupmins[1:5],
> >                                group_max=groupmaxs[1:5],
> >                                group_labels=groupnames[1:5])
> >      i.portf <- add.constraint(portfolio=i.portf,
> >                                type="group",
> >                                groups=grouplist[5:10],
> >                                group_min=groupmins[5:10],
> >                                group_max=groupmaxs[5:10],
> >                                group_labels=groupnames[5:10])
> >
> > What is the difference when I split the group constraints into two
> instead
> > of 1?  Based on my tests these two are not the same; it seems that
> > splitting the group constraints into 2 is less restrictive(?) than if I
> > just have one group add.constraint()
>
> I discussed this with Ross Bennett, who added the group constraint code
> to PortfolioAnalytics, and we are of the opinion that the two
> formulations should be the same.  So any variation you are seeing may be
> random.  This could be verified by using the same seed population rp as
> described above.
>
> Ross also noticed that both your groups contain asset 5, which may not
> be what you intended.
>
> > 3) There is a maximum position constraint--for example
> >
> > pspec <- add.constraint(portfolio=pspec, type="position_limit",
> max_pos=3)
> >
> > Is there a reason that a minimum position constraint was not/cannot be
> > implemented?
>
> I think a minimum position box constraint will do what you want, but
> otherwise no, we'd need to look at the code and think about it some more
> as to why it was implemented the way that it was.
>
> Regards,
>
> Brian
>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From andre_mikulec at hotmail.com  Mon Jan 29 20:30:02 2018
From: andre_mikulec at hotmail.com (Andre Mikulec)
Date: Mon, 29 Jan 2018 19:30:02 +0000
Subject: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question
Message-ID: <MWHPR15MB134190AFB629EE65C7F2D40B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>

Hello,

I am using quantstrat.

I have noticed that the prefer argument is acceptable to be sent in many functions.

I would like make a 'decision to buy' based on yesterday's Closing price.
I would like to *actually buy* this morning at today's Opening price.

In https://github.com/braverock/quantstrat
based on what I have seen, and debugged/traced through
in the demos and sandbox directories' *.R files
the case seems that ( in for example demo/faber.R )

1.
I *would not* send the parameter "prefer = 'Open'"
to add.rule.
So my add.rule would look like add.rule(. . . sigCrossover . . .)

2.
I *would* send the parameter "prefer = 'Open'"
to applyStrategy
So my applyStrategy would look like applyStrategy(. . . , prefer = 'Open', . . .)

Are 1. and 2. true?
If not true, what would I need to do?
What function calls with "prefer = 'Open'" would be needed?

Thanks,
Andre Mikulec
Andre_Mikulec at Hotmail.com



	[[alternative HTML version deleted]]


From ilya.kipnis at gmail.com  Mon Jan 29 20:45:11 2018
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Mon, 29 Jan 2018 14:45:11 -0500
Subject: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question
In-Reply-To: <MWHPR15MB134190AFB629EE65C7F2D40B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>
References: <MWHPR15MB134190AFB629EE65C7F2D40B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>
Message-ID: <CA+oJuEF5mnYpV62zugNHi1T0xZnbh_hBjBqMbZWQjBuDjgOAYA@mail.gmail.com>

They go in your rules, not in the applyStrategy call, to my knowledge.

On Mon, Jan 29, 2018 at 2:30 PM, Andre Mikulec <andre_mikulec at hotmail.com>
wrote:

> Hello,
>
> I am using quantstrat.
>
> I have noticed that the prefer argument is acceptable to be sent in many
> functions.
>
> I would like make a 'decision to buy' based on yesterday's Closing price.
> I would like to *actually buy* this morning at today's Opening price.
>
> In https://github.com/braverock/quantstrat
> based on what I have seen, and debugged/traced through
> in the demos and sandbox directories' *.R files
> the case seems that ( in for example demo/faber.R )
>
> 1.
> I *would not* send the parameter "prefer = 'Open'"
> to add.rule.
> So my add.rule would look like add.rule(. . . sigCrossover . . .)
>
> 2.
> I *would* send the parameter "prefer = 'Open'"
> to applyStrategy
> So my applyStrategy would look like applyStrategy(. . . , prefer = 'Open',
> . . .)
>
> Are 1. and 2. true?
> If not true, what would I need to do?
> What function calls with "prefer = 'Open'" would be needed?
>
> Thanks,
> Andre Mikulec
> Andre_Mikulec at Hotmail.com
>
>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From andre_mikulec at hotmail.com  Mon Jan 29 20:57:47 2018
From: andre_mikulec at hotmail.com (Andre Mikulec)
Date: Mon, 29 Jan 2018 19:57:47 +0000
Subject: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question
In-Reply-To: <CA+oJuEF5mnYpV62zugNHi1T0xZnbh_hBjBqMbZWQjBuDjgOAYA@mail.gmail.com>
References: <MWHPR15MB134190AFB629EE65C7F2D40B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>,
 <CA+oJuEF5mnYpV62zugNHi1T0xZnbh_hBjBqMbZWQjBuDjgOAYA@mail.gmail.com>
Message-ID: <MWHPR15MB1341FD27D8CDC2F64101D0D39CE50@MWHPR15MB1341.namprd15.prod.outlook.com>


Here "prefer = 'Open' is  shown
https://github.com/braverock/quantstrat/blob/b32907739c1aca80cb9a49de79a980e1b9922bc5/demo/rocema.R

  # * using prefer='Open' on next bar
  applyStrategy(s, p, parameters=list(nEMA=.ema,nROC=.roc,nTREND=.trend), verbose = FALSE, prefer='Open')


Here "prefer = High/Low" are shown
https://timtrice.github.io/backtesting-strategies/stop-loss.html#add-rules-1

  add.rule(. . ., prefer = "High", . . .)


Thanks,
Andre Mikulec
Andre_Mikulec at Hotmail.com


________________________________
From: Ilya Kipnis <ilya.kipnis at gmail.com>
Sent: Monday, January 29, 2018 2:45 PM
To: Andre Mikulec
Cc: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question

They go in your rules, not in the applyStrategy call, to my knowledge.

On Mon, Jan 29, 2018 at 2:30 PM, Andre Mikulec <andre_mikulec at hotmail.com<mailto:andre_mikulec at hotmail.com>> wrote:
Hello,

I am using quantstrat.

I have noticed that the prefer argument is acceptable to be sent in many functions.

I would like make a 'decision to buy' based on yesterday's Closing price.
I would like to *actually buy* this morning at today's Opening price.

In https://github.com/braverock/quantstrat
based on what I have seen, and debugged/traced through
in the demos and sandbox directories' *.R files
the case seems that ( in for example demo/faber.R )

1.
I *would not* send the parameter "prefer = 'Open'"
to add.rule.
So my add.rule would look like add.rule(. . . sigCrossover . . .)

2.
I *would* send the parameter "prefer = 'Open'"
to applyStrategy
So my applyStrategy would look like applyStrategy(. . . , prefer = 'Open', . . .)

Are 1. and 2. true?
If not true, what would I need to do?
What function calls with "prefer = 'Open'" would be needed?

Thanks,
Andre Mikulec
Andre_Mikulec at Hotmail.com



        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org<mailto:R-SIG-Finance at r-project.org> mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


	[[alternative HTML version deleted]]


From andre_mikulec at hotmail.com  Mon Jan 29 20:58:53 2018
From: andre_mikulec at hotmail.com (Andre Mikulec)
Date: Mon, 29 Jan 2018 19:58:53 +0000
Subject: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question
In-Reply-To: <CA+oJuEF5mnYpV62zugNHi1T0xZnbh_hBjBqMbZWQjBuDjgOAYA@mail.gmail.com>
References: <MWHPR15MB134190AFB629EE65C7F2D40B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>,
 <CA+oJuEF5mnYpV62zugNHi1T0xZnbh_hBjBqMbZWQjBuDjgOAYA@mail.gmail.com>
Message-ID: <MWHPR15MB134194D8C80B40B7188F612B9CE50@MWHPR15MB1341.namprd15.prod.outlook.com>


Here "prefer = 'Open' is  shown
https://github.com/braverock/quantstrat/blob/b32907739c1aca80cb9a49de79a980e1b9922bc5/demo/rocema.R

  # * using prefer='Open' on next bar
  applyStrategy(s, p, parameters=list(nEMA=.ema,nROC=.roc,nTREND=.trend), verbose = FALSE, prefer='Open')

Here "prefer = High/Low" are shown
https://timtrice.github.io/backtesting-strategies/stop-loss.html#add-rules-1

  add.rule(. . ., prefer = "High", . . .)


Thanks,
Andre Mikulec
Andre_Mikulec at Hotmail.com


________________________________
From: Ilya Kipnis <ilya.kipnis at gmail.com>
Sent: Monday, January 29, 2018 2:45 PM
To: Andre Mikulec
Cc: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] quantstrat parameter prefer = 'Open" question

They go in your rules, not in the applyStrategy call, to my knowledge.

On Mon, Jan 29, 2018 at 2:30 PM, Andre Mikulec <andre_mikulec at hotmail.com<mailto:andre_mikulec at hotmail.com>> wrote:
Hello,

I am using quantstrat.

I have noticed that the prefer argument is acceptable to be sent in many functions.

I would like make a 'decision to buy' based on yesterday's Closing price.
I would like to *actually buy* this morning at today's Opening price.

In https://github.com/braverock/quantstrat
based on what I have seen, and debugged/traced through
in the demos and sandbox directories' *.R files
the case seems that ( in for example demo/faber.R )

1.
I *would not* send the parameter "prefer = 'Open'"
to add.rule.
So my add.rule would look like add.rule(. . . sigCrossover . . .)

2.
I *would* send the parameter "prefer = 'Open'"
to applyStrategy
So my applyStrategy would look like applyStrategy(. . . , prefer = 'Open', . . .)

Are 1. and 2. true?
If not true, what would I need to do?
What function calls with "prefer = 'Open'" would be needed?

Thanks,
Andre Mikulec
Andre_Mikulec at Hotmail.com



        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org<mailto:R-SIG-Finance at r-project.org> mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


	[[alternative HTML version deleted]]


From Luca.Rassenti at kochind.com  Tue Jan 30 15:28:13 2018
From: Luca.Rassenti at kochind.com (Rassenti, Luca)
Date: Tue, 30 Jan 2018 14:28:13 +0000
Subject: [R-SIG-Finance] R and Bloomberg Data License
Message-ID: <CY4PR15MB17330194AC30D0E374C4D4B1E9E40@CY4PR15MB1733.namprd15.prod.outlook.com>

Hello,


I am starting to work on setting up our own locally hosted Bloomberg database using a Bloomberg data license.  Any tips for setting this up?  Any R code which can do most of setup work?  Any suggestions on database design, table structure, etc.?  Any help or reference to resources/references would be much appreciated.  At minimum I will be setting up the database to store all futures data across all asset classes (equities, bonds, commodities), forwards for bonds and fx, spot prices series and yield series for those futures and bond series.



Thank you,

Luca


	[[alternative HTML version deleted]]


From es at enricoschumann.net  Wed Jan 31 12:02:42 2018
From: es at enricoschumann.net (Enrico Schumann)
Date: Wed, 31 Jan 2018 12:02:42 +0100
Subject: [R-SIG-Finance] R and Bloomberg Data License
In-Reply-To: <CY4PR15MB17330194AC30D0E374C4D4B1E9E40@CY4PR15MB1733.namprd15.prod.outlook.com>
Message-ID: <20180131120242.Horde.eMH2vnvfmRtRO3cxK5tMkyv@webmail.your-server.de>


Quoting "Rassenti, Luca" <Luca.Rassenti at kochind.com>:

> Hello,
>
> I am starting to work on setting up our own locally hosted Bloomberg  
> database using a Bloomberg data license.  Any tips for setting this  
> up?  Any R code which can do most of setup work?  Any suggestions on  
> database design, table structure, etc.?  Any help or reference to  
> resources/references would be much appreciated.  At minimum I will  
> be setting up the database to store all futures data across all  
> asset classes (equities, bonds, commodities), forwards for bonds and  
> fx, spot prices series and yield series for those futures and bond  
> series.
>
> Thank you,
> Luca
>

This is an extremely-broad question, and so it is hard
to give a concise, useful answer. Some random pointers
(only on the R/database part; I have no idea what a
Bloomberg data licence allows you to do or not):

* First, there is of course the Rblpapi package (which
   you probably know, but did not mention).

* There is ample support for databases in R: packages
   that allow you to access external databases, such as
   RODBC, and also standalone solutions, such as
   MonetDBLite.

   Choosing a database is not easy, and it may pay to
   experiment with different ones. (It will be much more
   work to later migrate your data to another database.)
   Your considerations should include the type of data
   (see next point), and also how many users may want to
   access the data.

* Do you intent to store only time-series data? If yes,
   you may want to search the web (aka googling) for
   time-series databases; there are many discussions.

* If you plan to store time-series, at what frequency?
   As long as you have only daily data (i.e. no intraday
   data), many specialised time-series databases may be
   overkill. For instance, for daily data I found an
   ad-hoc storing/updating in CSV-files sufficient
   (https://github.com/enricoschumann/tsdb)

HTH



-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From pankajsbi at yahoo.com  Thu Feb  1 05:39:03 2018
From: pankajsbi at yahoo.com (Pankaj K Agarwal)
Date: Thu, 1 Feb 2018 04:39:03 +0000 (UTC)
Subject: [R-SIG-Finance] Error downloading package Ecdat
References: <1438427805.819668.1517459943107.ref@mail.yahoo.com>
Message-ID: <1438427805.819668.1517459943107@mail.yahoo.com>

Dear all
I am using R 3.4.2 to download the package Ecdat that accompanies David Ruppert's book Statistics and Data Analysis for Financial Engineering. The package fails to download. Can someone help?
Regards,Pankaj K Agarwal
+91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
	[[alternative HTML version deleted]]


From josh.m.ulrich at gmail.com  Thu Feb  1 13:05:35 2018
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 1 Feb 2018 06:05:35 -0600
Subject: [R-SIG-Finance] Error downloading package Ecdat
In-Reply-To: <1438427805.819668.1517459943107@mail.yahoo.com>
References: <1438427805.819668.1517459943107.ref@mail.yahoo.com>
 <1438427805.819668.1517459943107@mail.yahoo.com>
Message-ID: <CAPPM_gQ4o8S+QCJfVJcV9hEGdEVsXQLSO6vbpne96NMp+k=SJA@mail.gmail.com>

On Wed, Jan 31, 2018 at 10:39 PM, Pankaj K Agarwal via R-SIG-Finance
<r-sig-finance at r-project.org> wrote:
> Dear all
> I am using R 3.4.2 to download the package Ecdat that accompanies David Ruppert's book Statistics and Data Analysis for Financial Engineering. The package fails to download. Can someone help?

That depends on why it failed to download, which you don't specify.
It downloads and installs for me.

Check your internet connection.  Check the CRAN mirror you're using.
Provide the command you're using and its output.

> Regards,Pankaj K Agarwal
> +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From adamno227 at gmail.com  Thu Feb  1 15:55:44 2018
From: adamno227 at gmail.com (Adam Ginensky)
Date: Thu, 1 Feb 2018 08:55:44 -0600
Subject: [R-SIG-Finance] Error downloading package Ecdat
In-Reply-To: <CAPPM_gQ4o8S+QCJfVJcV9hEGdEVsXQLSO6vbpne96NMp+k=SJA@mail.gmail.com>
References: <1438427805.819668.1517459943107.ref@mail.yahoo.com>
 <1438427805.819668.1517459943107@mail.yahoo.com>
 <CAPPM_gQ4o8S+QCJfVJcV9hEGdEVsXQLSO6vbpne96NMp+k=SJA@mail.gmail.com>
Message-ID: <CAEEj48=Gs=0P-f_HPA=rnzMHPOx+1gfO-KV2a+o6j-rNNzO7ag@mail.gmail.com>

Furthering on what Joshua says, whenever I have had a package fail to
install, I've googled the error message as well as the package name.  That
has, so far, resulted in a 100% solution rate.  Hth.

Adam

On Thu, Feb 1, 2018 at 6:05 AM, Joshua Ulrich <josh.m.ulrich at gmail.com>
wrote:

> On Wed, Jan 31, 2018 at 10:39 PM, Pankaj K Agarwal via R-SIG-Finance
> <r-sig-finance at r-project.org> wrote:
> > Dear all
> > I am using R 3.4.2 to download the package Ecdat that accompanies David
> Ruppert's book Statistics and Data Analysis for Financial Engineering. The
> package fails to download. Can someone help?
>
> That depends on why it failed to download, which you don't specify.
> It downloads and installs for me.
>
> Check your internet connection.  Check the CRAN mirror you're using.
> Provide the command you're using and its output.
>
> > Regards,Pankaj K Agarwal
> > +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
> >         [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
>
>
>
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
> R/Finance 2018 | www.rinfinance.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From josh.m.ulrich at gmail.com  Thu Feb  1 15:56:33 2018
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 1 Feb 2018 08:56:33 -0600
Subject: [R-SIG-Finance] R/Finance 2018: Call for Papers
In-Reply-To: <CAPPM_gQ5kh2OL+oRdNF-yT9W=aHYroisGdsUoxrJa1EdPuaX6g@mail.gmail.com>
References: <CAPPM_gQ5kh2OL+oRdNF-yT9W=aHYroisGdsUoxrJa1EdPuaX6g@mail.gmail.com>
Message-ID: <CAPPM_gQht8aSqx7=YZ3iy=0DrOoZ_7zAX-k8sdm1f8+bHLvJxg@mail.gmail.com>

A friendly reminder that the CFP closes tomorrow!

On Tue, Jan 9, 2018 at 11:35 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> R/Finance 2018: Applied Finance with R
> June 1 and 2, 2018
> University of Illinois at Chicago
>
>
> Call For Papers
>
> The tenth annual R/Finance conference for applied finance using R will
> be held June 1 and 2, 2018 in Chicago, IL, USA at the University of
> Illinois at Chicago (https://www.uic.edu). The conference will cover
> topics including portfolio management, time series analysis, advanced
> risk tools, high-performance computing, market microstructure, and
> econometrics. All will be discussed within the context of using R as a
> primary tool for financial risk management, portfolio construction,
> and trading.
>
> Over the past nine years, R/Finance has included attendees from around
> the world. It has featured presentations from prominent academics and
> practitioners, and we anticipate another exciting line-up for 2018.
>
> We invite you to submit complete papers in pdf format for
> consideration. We will also consider one-page abstracts (in txt or pdf
> format) although more complete papers are preferred. We welcome
> submissions for both full talks and abbreviated lightning talks. Both
> academic and practitioner proposals related to R are encouraged.
>
> All slides will be made publicly available at conference time.
> Presenters are strongly encouraged to provide working R code to
> accompany the slides. Data sets should also be made public for the
> purposes of reproducibility (though we realize this may be limited due
> to contracts with data vendors). Preference may be given to presenters
> who have released R packages.
>
> Please submit proposals online at
>
> http://go.uic.edu/rfinsubmit
>
> Submissions will be reviewed and accepted on a rolling basis with a
> final submission deadline of February 2, 2018. Submitters will be
> notified via email by March 2, 2018 of acceptance, presentation
> length, and financial assistance (if requested).
>
> Financial assistance for travel and accommodation may be available to
> presenters. Requests for financial assistance do not affect acceptance
> decisions. Requests should be made at the time of submission. Requests
> made after submission are much less likely to be fulfilled. Assistance
> will be granted at the discretion of the conference committee.
>
> Additional details will be announced via the conference website
> (http://www.rinfinance.com) as they become available. Information on
> previous years' presenters and their presentations are also at the
> conference website. We will make a separate announcement when
> registration opens.
>
> For the program committee:
> Gib Bassett, Peter Carl, Dirk Eddelbuettel, Brian Peterson,
> Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich
>
>
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
> R/Finance 2018 | www.rinfinance.com



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From pankajsbi at yahoo.com  Fri Feb  2 11:49:02 2018
From: pankajsbi at yahoo.com (Pankaj K Agarwal)
Date: Fri, 2 Feb 2018 10:49:02 +0000 (UTC)
Subject: [R-SIG-Finance] Error downloading package Ecdat
In-Reply-To: <CAEEj48=Gs=0P-f_HPA=rnzMHPOx+1gfO-KV2a+o6j-rNNzO7ag@mail.gmail.com>
References: <1438427805.819668.1517459943107.ref@mail.yahoo.com>
 <1438427805.819668.1517459943107@mail.yahoo.com>
 <CAPPM_gQ4o8S+QCJfVJcV9hEGdEVsXQLSO6vbpne96NMp+k=SJA@mail.gmail.com>
 <CAEEj48=Gs=0P-f_HPA=rnzMHPOx+1gfO-KV2a+o6j-rNNzO7ag@mail.gmail.com>
Message-ID: <619108376.1785535.1517568542130@mail.yahoo.com>

Thanks Joshua sir and Adam. I changed the CRAN mirror and it worked.
Regards,Pankaj K Agarwal
+91-98397-11444http://in.linkedin.com/in/pankajkagarwal/ 

    On Thursday, 1 February, 2018, 8:25:46 PM IST, Adam Ginensky <adamno227 at gmail.com> wrote:  
 
 Furthering on what Joshua says, whenever I have had a package fail to install, I've googled the error message as well as the package name.? That has, so far, resulted in a 100% solution rate.? Hth.??
Adam
On Thu, Feb 1, 2018 at 6:05 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:

On Wed, Jan 31, 2018 at 10:39 PM, Pankaj K Agarwal via R-SIG-Finance
<r-sig-finance at r-project.org> wrote:
> Dear all
> I am using R 3.4.2 to download the package Ecdat that accompanies David Ruppert's book Statistics and Data Analysis for Financial Engineering. The package fails to download. Can someone help?

That depends on why it failed to download, which you don't specify.
It downloads and installs for me.

Check your internet connection.? Check the CRAN mirror you're using.
Provide the command you're using and its output.

> Regards,Pankaj K Agarwal
> +91-98397-11444http://in.linkedin.com/in/ pankajkagarwal/
>? ? ? ? ?[[alternative HTML version deleted]]
>
> ______________________________ _________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/ listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



--
Joshua Ulrich? |? about.me/joshuaulrich
FOSS Trading? |? www.fosstrading.com
R/Finance 2018 | www.rinfinance.com

______________________________ _________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/ listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


  
	[[alternative HTML version deleted]]


From bogaso.christofer at gmail.com  Thu Feb  8 21:42:30 2018
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Fri, 9 Feb 2018 02:12:30 +0530
Subject: [R-SIG-Finance] Implied Volatility
Message-ID: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>

Hi,

Let say I have an Option chain for a typical Equity underlying with
varying Strike prices and for both Call and Put. Option chain is
available for multiple maturities.

Based on above information, I would require to come up with a single
Annualized volatility (implied) number for the underlying Equity.

Can somebody point me, how this can be done in practice? Any research
paper, Weblink will be highly appreciated.

Thanks for your time.


From slavo.matas at gmail.com  Thu Feb  8 22:02:07 2018
From: slavo.matas at gmail.com (Slavo Matasovsky)
Date: Thu, 08 Feb 2018 21:02:07 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
Message-ID: <CANAs1dGXYBjboB3M4NuJ1ZJNBKXTAoqKUYvg1zr7TVNs2yGpVw@mail.gmail.com>

Hi,

Implied volatility is model based volatility. Due to the shortcomings of
the Black Scholes model there are in fact multiple implied volatilities on
the same underlying, one implied volatility per strike and expiration.
Typically one would be interested in ATM IV - at the money implied
volatility for a given expiration. IV is calculated from raw bid/ask option
prices using Black Scholes model (inverse problem). For missing option
prices IV can be interpolated, typically using parameterized SABR model.
I?ll gid out few pdfs and send you over.

Slavo
On Thu, 8 Feb 2018 at 21:42, Christofer Bogaso <bogaso.christofer at gmail.com>
wrote:

> Hi,
>
> Let say I have an Option chain for a typical Equity underlying with
> varying Strike prices and for both Call and Put. Option chain is
> available for multiple maturities.
>
> Based on above information, I would require to come up with a single
> Annualized volatility (implied) number for the underlying Equity.
>
> Can somebody point me, how this can be done in practice? Any research
> paper, Weblink will be highly appreciated.
>
> Thanks for your time.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From joshua.segal at gmail.com  Thu Feb  8 22:18:38 2018
From: joshua.segal at gmail.com (Josh Segal)
Date: Thu, 8 Feb 2018 16:18:38 -0500
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CANAs1dGXYBjboB3M4NuJ1ZJNBKXTAoqKUYvg1zr7TVNs2yGpVw@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <CANAs1dGXYBjboB3M4NuJ1ZJNBKXTAoqKUYvg1zr7TVNs2yGpVw@mail.gmail.com>
Message-ID: <CAHRBD=azcK+YcSs8Q5NfQmVA1QFPxp4prGxwO2uz7O5FoS5WLg@mail.gmail.com>

Well there is also "Model-Free Implied Volatility" which is computed for
each expiry from all available strikes.  That may be more relevant,
depending on what your goal is.
See for example: https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2220067


On Thu, Feb 8, 2018 at 4:02 PM, Slavo Matasovsky <slavo.matas at gmail.com>
wrote:

> Hi,
>
> Implied volatility is model based volatility. Due to the shortcomings of
> the Black Scholes model there are in fact multiple implied volatilities on
> the same underlying, one implied volatility per strike and expiration.
> Typically one would be interested in ATM IV - at the money implied
> volatility for a given expiration. IV is calculated from raw bid/ask option
> prices using Black Scholes model (inverse problem). For missing option
> prices IV can be interpolated, typically using parameterized SABR model.
> I?ll gid out few pdfs and send you over.
>
> Slavo
> On Thu, 8 Feb 2018 at 21:42, Christofer Bogaso <
> bogaso.christofer at gmail.com>
> wrote:
>
> > Hi,
> >
> > Let say I have an Option chain for a typical Equity underlying with
> > varying Strike prices and for both Call and Put. Option chain is
> > available for multiple maturities.
> >
> > Based on above information, I would require to come up with a single
> > Annualized volatility (implied) number for the underlying Equity.
> >
> > Can somebody point me, how this can be done in practice? Any research
> > paper, Weblink will be highly appreciated.
> >
> > Thanks for your time.
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From slavo.matas at gmail.com  Thu Feb  8 22:30:38 2018
From: slavo.matas at gmail.com (Slavo Matasovsky)
Date: Thu, 08 Feb 2018 21:30:38 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CANAs1dGXYBjboB3M4NuJ1ZJNBKXTAoqKUYvg1zr7TVNs2yGpVw@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <CANAs1dGXYBjboB3M4NuJ1ZJNBKXTAoqKUYvg1zr7TVNs2yGpVw@mail.gmail.com>
Message-ID: <CANAs1dHFJeXig-YTzzSyMBsc1j3SmbS1KymehwfXThMk=t_35Q@mail.gmail.com>

Check out Jim Gatherals web site for the implied volatility modeling
approaches including latest Rough Volatility models...

https://mfe.baruch.cuny.edu/jgatheral/

http://faculty.baruch.cuny.edu/jgatheral/ImpliedVolatilitySurface.pdf

https://www.amazon.com/Volatility-Surface-Practitioners-Guide/dp/0471792519

On Thu, 8 Feb 2018 at 22:02, Slavo Matasovsky <slavo.matas at gmail.com> wrote:

> Hi,
>
> Implied volatility is model based volatility. Due to the shortcomings of
> the Black Scholes model there are in fact multiple implied volatilities on
> the same underlying, one implied volatility per strike and expiration.
> Typically one would be interested in ATM IV - at the money implied
> volatility for a given expiration. IV is calculated from raw bid/ask option
> prices using Black Scholes model (inverse problem). For missing option
> prices IV can be interpolated, typically using parameterized SABR model.
> I?ll gid out few pdfs and send you over.
>
> Slavo
> On Thu, 8 Feb 2018 at 21:42, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
>
>> Hi,
>>
>> Let say I have an Option chain for a typical Equity underlying with
>> varying Strike prices and for both Call and Put. Option chain is
>> available for multiple maturities.
>>
>> Based on above information, I would require to come up with a single
>> Annualized volatility (implied) number for the underlying Equity.
>>
>> Can somebody point me, how this can be done in practice? Any research
>> paper, Weblink will be highly appreciated.
>>
>> Thanks for your time.
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>

	[[alternative HTML version deleted]]


From sanjay.mansabdar at yahoo.com  Sat Feb 10 07:14:33 2018
From: sanjay.mansabdar at yahoo.com (Sanjay Mansabdar)
Date: Sat, 10 Feb 2018 06:14:33 +0000 (UTC)
Subject: [R-SIG-Finance] Stop Loss orders in quantstrat
References: <192426687.2238077.1518243273219.ref@mail.yahoo.com>
Message-ID: <192426687.2238077.1518243273219@mail.yahoo.com>


Greetings
I have been trying to model stoplosses in quantstrat. Since intra day lows can be spurious whipsaws, I would like to model a stop loss that triggers a market order at the open of the next day if the stop was triggered based on the close of the previous day. As of now it appears that using stoplimit orders triggers the market order based on the high( for short open positions) or the low( for long open positions). I?ve tried playing around with the prefer = option but I haven?t been able to see any changes based on this setting.?
Any help on how I can model these stop orders would be appreciated.?
Many thanks to Ilya Kipnis for pointing me to this group. Also many thanks in advance.?
Regards

Sent from Yahoo Mail for iPhone

	[[alternative HTML version deleted]]


From brian at braverock.com  Sat Feb 10 13:45:49 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 10 Feb 2018 06:45:49 -0600
Subject: [R-SIG-Finance] Stop Loss orders in quantstrat
In-Reply-To: <192426687.2238077.1518243273219@mail.yahoo.com>
References: <192426687.2238077.1518243273219.ref@mail.yahoo.com>
 <192426687.2238077.1518243273219@mail.yahoo.com>
Message-ID: <d623c32b-0232-7068-7704-ed3c2488973d@braverock.com>

On 02/10/2018 12:14 AM, Sanjay Mansabdar via R-SIG-Finance wrote:
> I have been trying to model stoplosses in quantstrat. Since intra day lows can be spurious whipsaws, I would like to model a stop loss that triggers a market order at the open of the next day if the stop was triggered based on the close of the previous day. As of now it appears that using stoplimit orders triggers the market order based on the high( for short open positions) or the low( for long open positions). I?ve tried playing around with the prefer = option but I haven?t been able to see any changes based on this setting.
> Any help on how I can model these stop orders would be appreciated.
> Many thanks to Ilya Kipnis for pointing me to this group. Also many thanks in advance.

Sanjay,

There are two basic approaches to what you want to do:

- construct a signal to fire for the case that you are describing

There should be nothing stopping you from firing a signal based on the 
close price and using a regular market order to enter on the Open of the 
next bar.

Your rule (presumably calling ruleSignal) should use prefer='Open'

Stops on bars are inherently a guess.  So we've chosen to have the stop 
entry enter on the least favorable price.  This is documented, and 
shouldn't be surprising behavior.

- use higher frequency data

If you really must use stops for this, then use higher frequency data.


If this still produces what you feel to be surprising behavior, then 
please produce a *minimal* reproducible example and enter an issue on 
the quantstrat github.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From frankm60606 at gmail.com  Sat Feb 10 16:31:43 2018
From: frankm60606 at gmail.com (Frank)
Date: Sat, 10 Feb 2018 09:31:43 -0600
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
Message-ID: <009801d3a284$4136ce90$c3a46bb0$@gmail.com>

The Chicago Board of Options sells data that includes implied volatility and
the Greeks (Delta, Gamma, Theta, Vega, Rho, Alexander) for $7.69 per month.
The data can be daily (one file for each day), monthly (one file for each
month) or annually (one file for each year). Volume, open interest and close
are included so you can weight and sum the volatilities many different ways.
You could also use Vega to give more weight to options that are more
sensitive to volatility changes.

The data for SPY can be quite voluminous. I pull the data into an Access
2016 database using a stored spec for the way the data is formatted and then
filter out data with no volume or open interest. I also only look at
out-of-the-money options. 

https://datashop.cboe.com/



Best,

Frank
Chicago

-----Original Message-----
From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf
Of Christofer Bogaso
Sent: Thursday, February 08, 2018 2:43 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] Implied Volatility

Hi,

Let say I have an Option chain for a typical Equity underlying with varying
Strike prices and for both Call and Put. Option chain is available for
multiple maturities.

Based on above information, I would require to come up with a single
Annualized volatility (implied) number for the underlying Equity.

Can somebody point me, how this can be done in practice? Any research paper,
Weblink will be highly appreciated.

Thanks for your time.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.


From syracusepro at verizon.net  Sat Feb 10 18:24:56 2018
From: syracusepro at verizon.net (Victor Montanez)
Date: Sat, 10 Feb 2018 12:24:56 -0500
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <009801d3a284$4136ce90$c3a46bb0$@gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <009801d3a284$4136ce90$c3a46bb0$@gmail.com>
Message-ID: <003b01d3a294$12b90050$382b00f0$@verizon.net>

https://cmlviz.com

Look for Options backtester.

Just for an idea.

-----Original Message-----
From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf
Of Frank
Sent: Saturday, February 10, 2018 10:32 AM
To: 'Christofer Bogaso' <bogaso.christofer at gmail.com>;
r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] Implied Volatility

The Chicago Board of Options sells data that includes implied volatility and
the Greeks (Delta, Gamma, Theta, Vega, Rho, Alexander) for $7.69 per month.
The data can be daily (one file for each day), monthly (one file for each
month) or annually (one file for each year). Volume, open interest and close
are included so you can weight and sum the volatilities many different ways.
You could also use Vega to give more weight to options that are more
sensitive to volatility changes.

The data for SPY can be quite voluminous. I pull the data into an Access
2016 database using a stored spec for the way the data is formatted and then
filter out data with no volume or open interest. I also only look at
out-of-the-money options. 

https://datashop.cboe.com/



Best,

Frank
Chicago

-----Original Message-----
From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf
Of Christofer Bogaso
Sent: Thursday, February 08, 2018 2:43 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] Implied Volatility

Hi,

Let say I have an Option chain for a typical Equity underlying with varying
Strike prices and for both Call and Put. Option chain is available for
multiple maturities.

Based on above information, I would require to come up with a single
Annualized volatility (implied) number for the underlying Equity.

Can somebody point me, how this can be done in practice? Any research paper,
Weblink will be highly appreciated.

Thanks for your time.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.


From slavo.matas at gmail.com  Sat Feb 10 21:17:21 2018
From: slavo.matas at gmail.com (Slavo Matasovsky)
Date: Sat, 10 Feb 2018 20:17:21 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <003b01d3a294$12b90050$382b00f0$@verizon.net>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <009801d3a284$4136ce90$c3a46bb0$@gmail.com>
 <003b01d3a294$12b90050$382b00f0$@verizon.net>
Message-ID: <CANAs1dH8YpecHZ3dKmdJjtqLgpzfv1D1Y8MhV-8SDjuEfWen8w@mail.gmail.com>

Or checkout QuantConnect algo backtester... and their support for Option
startegies... including data...

https://www.quantconnect.com/tutorials/applied-options/

https://www.quantconnect.com/tutorials/introduction-options-historical-volatility-implied-volatility/

On Sat, 10 Feb 2018 at 18:25, Victor Montanez <syracusepro at verizon.net>
wrote:

> https://cmlviz.com
>
> Look for Options backtester.
>
> Just for an idea.
>
> -----Original Message-----
> From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf
> Of Frank
> Sent: Saturday, February 10, 2018 10:32 AM
> To: 'Christofer Bogaso' <bogaso.christofer at gmail.com>;
> r-sig-finance at r-project.org
> Subject: Re: [R-SIG-Finance] Implied Volatility
>
> The Chicago Board of Options sells data that includes implied volatility
> and
> the Greeks (Delta, Gamma, Theta, Vega, Rho, Alexander) for $7.69 per month.
> The data can be daily (one file for each day), monthly (one file for each
> month) or annually (one file for each year). Volume, open interest and
> close
> are included so you can weight and sum the volatilities many different
> ways.
> You could also use Vega to give more weight to options that are more
> sensitive to volatility changes.
>
> The data for SPY can be quite voluminous. I pull the data into an Access
> 2016 database using a stored spec for the way the data is formatted and
> then
> filter out data with no volume or open interest. I also only look at
> out-of-the-money options.
>
> https://datashop.cboe.com/
>
>
>
> Best,
>
> Frank
> Chicago
>
> -----Original Message-----
> From: R-SIG-Finance [mailto:r-sig-finance-bounces at r-project.org] On Behalf
> Of Christofer Bogaso
> Sent: Thursday, February 08, 2018 2:43 PM
> To: r-sig-finance at r-project.org
> Subject: [R-SIG-Finance] Implied Volatility
>
> Hi,
>
> Let say I have an Option chain for a typical Equity underlying with varying
> Strike prices and for both Call and Put. Option chain is available for
> multiple maturities.
>
> Based on above information, I would require to come up with a single
> Annualized volatility (implied) number for the underlying Equity.
>
> Can somebody point me, how this can be done in practice? Any research
> paper,
> Weblink will be highly appreciated.
>
> Thanks for your time.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From oleg.mubarakshin at gmail.com  Mon Feb 12 21:56:55 2018
From: oleg.mubarakshin at gmail.com (Oleg Mubarakshin)
Date: Mon, 12 Feb 2018 20:56:55 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
Message-ID: <CABXq32tV_nC1nR9YxEcVNwzHR4khENsfGH3HxcX+_C9FHPYx+A@mail.gmail.com>

Hi Chris,

If you are looking for a number (not a smile or a surface) of volatility,
probably a variance swap methodology can help you with it
please start with it
http://www.emanuelderman.com/media/gs-volatility_swaps.pdf
if it fits - googling

Kind regards,
Oleg

On Thu, Feb 8, 2018 at 8:42 PM, Christofer Bogaso <
bogaso.christofer at gmail.com> wrote:

> Hi,
>
> Let say I have an Option chain for a typical Equity underlying with
> varying Strike prices and for both Call and Put. Option chain is
> available for multiple maturities.
>
> Based on above information, I would require to come up with a single
> Annualized volatility (implied) number for the underlying Equity.
>
> Can somebody point me, how this can be done in practice? Any research
> paper, Weblink will be highly appreciated.
>
> Thanks for your time.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>



-- 
-----
Kind Regards,
Oleg Mubarakshin

	[[alternative HTML version deleted]]


From slavo.matas at gmail.com  Mon Feb 12 22:20:51 2018
From: slavo.matas at gmail.com (Slavo Matasovsky)
Date: Mon, 12 Feb 2018 21:20:51 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CABXq32tV_nC1nR9YxEcVNwzHR4khENsfGH3HxcX+_C9FHPYx+A@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <CABXq32tV_nC1nR9YxEcVNwzHR4khENsfGH3HxcX+_C9FHPYx+A@mail.gmail.com>
Message-ID: <CANAs1dF5dO33jaZjb64bAB1LAGdnQ6+pZsMee8M-iOaP-VXj0A@mail.gmail.com>

Variance and volatility swaps are forward contracts on realized
variance/volatility... varswaps/volatility swaps can be priced using
replication strategy resulting in replicating static portfolio of call/put
options for variance swap or dynamic portfolio of options for volatililty
swaps...

Following books cover both volatility modeling as well as volatility
products...

Gatheral - Volatility Surface
https://www.amazon.com/Volatility-Surface-Practitioners-Guide/dp/0471792519

Austing - Smile Pricing Explained
https://www.palgrave.com/gp/book/9781137335715

On Mon, 12 Feb 2018 at 21:57, Oleg Mubarakshin <oleg.mubarakshin at gmail.com>
wrote:

> Hi Chris,
>
> If you are looking for a number (not a smile or a surface) of volatility,
> probably a variance swap methodology can help you with it
> please start with it
> http://www.emanuelderman.com/media/gs-volatility_swaps.pdf
> if it fits - googling
>
> Kind regards,
> Oleg
>
> On Thu, Feb 8, 2018 at 8:42 PM, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
>
> > Hi,
> >
> > Let say I have an Option chain for a typical Equity underlying with
> > varying Strike prices and for both Call and Put. Option chain is
> > available for multiple maturities.
> >
> > Based on above information, I would require to come up with a single
> > Annualized volatility (implied) number for the underlying Equity.
> >
> > Can somebody point me, how this can be done in practice? Any research
> > paper, Weblink will be highly appreciated.
> >
> > Thanks for your time.
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
>
>
>
> --
> -----
> Kind Regards,
> Oleg Mubarakshin
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From erol.biceroglu at alumni.utoronto.ca  Mon Feb 12 22:49:23 2018
From: erol.biceroglu at alumni.utoronto.ca (Erol Biceroglu)
Date: Mon, 12 Feb 2018 21:49:23 +0000
Subject: [R-SIG-Finance] Implied Volatility
In-Reply-To: <CANAs1dF5dO33jaZjb64bAB1LAGdnQ6+pZsMee8M-iOaP-VXj0A@mail.gmail.com>
References: <CA+dpOJmUot3uS06pSUk8zfhVHb5VeVK6ri_czU=rMf4Rdv_QVQ@mail.gmail.com>
 <CABXq32tV_nC1nR9YxEcVNwzHR4khENsfGH3HxcX+_C9FHPYx+A@mail.gmail.com>
 <CANAs1dF5dO33jaZjb64bAB1LAGdnQ6+pZsMee8M-iOaP-VXj0A@mail.gmail.com>
Message-ID: <CACjNfmmnjtZ=TVXkWff-x-XWcCLr8bf2xk8R+tomMyOJdbNEDA@mail.gmail.com>

Hello,

I thought I?d add my 2 cents to this excellent list of volatility
literature.

https://vlab.stern.nyu.edu/en/ a tool for quick vol forecasting analysis.

Though it doesn?t use Implied Vol, it may be helpful to compare.

Thanks,

Erol

On Mon, Feb 12, 2018 at 4:21 PM Slavo Matasovsky <slavo.matas at gmail.com>
wrote:

> Variance and volatility swaps are forward contracts on realized
> variance/volatility... varswaps/volatility swaps can be priced using
> replication strategy resulting in replicating static portfolio of call/put
> options for variance swap or dynamic portfolio of options for volatililty
> swaps...
>
> Following books cover both volatility modeling as well as volatility
> products...
>
> Gatheral - Volatility Surface
> https://www.amazon.com/Volatility-Surface-Practitioners-Guide/dp/0471792519
>
> Austing - Smile Pricing Explained
> https://www.palgrave.com/gp/book/9781137335715
>
> On Mon, 12 Feb 2018 at 21:57, Oleg Mubarakshin <oleg.mubarakshin at gmail.com
> >
> wrote:
>
> > Hi Chris,
> >
> > If you are looking for a number (not a smile or a surface) of volatility,
> > probably a variance swap methodology can help you with it
> > please start with it
> > http://www.emanuelderman.com/media/gs-volatility_swaps.pdf
> > if it fits - googling
> >
> > Kind regards,
> > Oleg
> >
> > On Thu, Feb 8, 2018 at 8:42 PM, Christofer Bogaso <
> > bogaso.christofer at gmail.com> wrote:
> >
> > > Hi,
> > >
> > > Let say I have an Option chain for a typical Equity underlying with
> > > varying Strike prices and for both Call and Put. Option chain is
> > > available for multiple maturities.
> > >
> > > Based on above information, I would require to come up with a single
> > > Annualized volatility (implied) number for the underlying Equity.
> > >
> > > Can somebody point me, how this can be done in practice? Any research
> > > paper, Weblink will be highly appreciated.
> > >
> > > Thanks for your time.
> > >
> > > _______________________________________________
> > > R-SIG-Finance at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > -- Also note that this is not the r-help list where general R questions
> > > should go.
> > >
> >
> >
> >
> > --
> > -----
> > Kind Regards,
> > Oleg Mubarakshin
> >
> >         [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
-- 

Erol Biceroglu
*LinkedIn <http://ca.linkedin.com/in/erolbiceroglu> | Wordpress
<https://propfoliomanagement.wordpress.com/>*

	[[alternative HTML version deleted]]


From sanjay.mansabdar at yahoo.com  Tue Feb 13 08:12:07 2018
From: sanjay.mansabdar at yahoo.com (Sanjay Mansabdar)
Date: Tue, 13 Feb 2018 07:12:07 +0000 (UTC)
Subject: [R-SIG-Finance] Stop Loss orders in quantstrat
References: <1248745258.246105.1518505927090.ref@mail.yahoo.com>
Message-ID: <1248745258.246105.1518505927090@mail.yahoo.com>

I am not sure how to reply to digest messages in the thread, so apologies in advance for errors
@Brian, I think there is no error with the implementation as it stands of stop limit orders. However IMHO stop loss logic is not necessarily the same thing as stop limit orders and perhaps needs to be thought of separately. I will try and follow the route you have suggested.
Thanks
Regards
	[[alternative HTML version deleted]]


From sanjay.mansabdar at yahoo.com  Tue Feb 13 13:58:13 2018
From: sanjay.mansabdar at yahoo.com (Sanjay Mansabdar)
Date: Tue, 13 Feb 2018 12:58:13 +0000 (UTC)
Subject: [R-SIG-Finance] Stop Loss orders in quantstrat
In-Reply-To: <1248745258.246105.1518505927090@mail.yahoo.com>
References: <1248745258.246105.1518505927090.ref@mail.yahoo.com>
 <1248745258.246105.1518505927090@mail.yahoo.com>
Message-ID: <588844515.35696.1518526693808@mail.yahoo.com>

 I have? been trying to implement what Brian has suggested for a simple long only macd based strategy.? Given that I am new to quantstrat, this may be quite an elementary question, but here goes.?
1. I have a simple long only MACD based system that gives me entry and exit signals on T.2. On the basis os a long signal I trigger a market order to buy on T+1, at the open.3. Based on this execution, I need to set a hard stop on the position entered in #2, that is x% below the execution price of 2, with the comparison being done at the close of each day, and if the signal triggers on some day D, the order is executed as a market sell order on the next day D+1.My signal essentially says "Check to see if the closing price on any day is less than the execution prices of the last opening trade minus a threshold and if it is, trigger a signal".4. This clearly needs, at any point, the value of the execution price of the market order in #2, the timestamp of #2?5.Finally the rule that triggers the market sell order described in #3 would need to know the existing position size as well.
I am not quite sure how to extract these state variables to include in the signal and in the rule. Any help on this would be appreciated.?
Thanks in advance.

    On Tuesday, February 13, 2018, 12:42:07 PM GMT+5:30, Sanjay Mansabdar <sanjay.mansabdar at yahoo.com> wrote:  
 
 I am not sure how to reply to digest messages in the thread, so apologies in advance for errors
@Brian, I think there is no error with the implementation as it stands of stop limit orders. However IMHO stop loss logic is not necessarily the same thing as stop limit orders and perhaps needs to be thought of separately. I will try and follow the route you have suggested.
Thanks
Regards  
	[[alternative HTML version deleted]]


From trunglh at hvnh.edu.vn  Tue Feb 13 15:23:30 2018
From: trunglh at hvnh.edu.vn (Le Hai Trung KNH)
Date: Tue, 13 Feb 2018 14:23:30 +0000
Subject: [R-SIG-Finance] Error in loading rugarch and truncnorm package
Message-ID: <CAJ-k01xtT+x5TffdY+pKQgLFu7jViNzc5zcjPd7i5Nz3kyqJ2w@mail.gmail.com>

Dear all,



I have been trying to load rugarch package and got the following error:



Error: package or namespace load failed for ?rugarch? in FUN(X[[i]], ...):

no such symbol do_dtruncnorm in package
C:/?/R/win-library/3.4.2/truncnorm/libs/x64/truncnorm.dll



Then, I also try to load the truncnorm package and got the same result:



Error: package or namespace load failed for ?truncnorm? in FUN(X[[i]], ...):

 no such symbol do_dtruncnorm in package
C:/?/R/win-library/3.4.2/truncnorm/libs/x64/truncnorm.dll



Remove and reinstall or update all packages still cannot solve the issue.
Amazingly, I still able to load rugarch and truncnorm packages in my
personal computers.



Could someone give me a hint to solve this issue?



Best regards,

Trung

	[[alternative HTML version deleted]]


From pawel.golebiewski at gmail.com  Sun Feb 18 08:15:27 2018
From: pawel.golebiewski at gmail.com (=?UTF-8?B?UGF3ZcWCIEdvxYLEmWJpZXdza2k=?=)
Date: Sun, 18 Feb 2018 08:15:27 +0100
Subject: [R-SIG-Finance] Rblpapi + Bloomber Anywhere + mac os
In-Reply-To: <CAKWU5L4MYoAd9_B5pJpFVmgJoM8V9ovmqdM8J8dm=wpNrpkkJw@mail.gmail.com>
References: <CAKWU5L6nqqKzRaTdjd4MWsx0Lw6p+XEoU-uR_hAab3YA78SNfw@mail.gmail.com>
 <CAKWU5L45oP0N_LX19ara5E-uWcDQq0x_=gxkEZUNu7y-iL0gmA@mail.gmail.com>
 <CAKWU5L5Yk9qq2qpJcLbSvV-W-EBGHq6vKO-K25KMhz=QEAqccQ@mail.gmail.com>
 <CAKWU5L4MYoAd9_B5pJpFVmgJoM8V9ovmqdM8J8dm=wpNrpkkJw@mail.gmail.com>
Message-ID: <CAKWU5L76HugLSLxu7DguC88-9y-vVJfguVuV7mf0hrZqOdC44w@mail.gmail.com>

Hi,
Do you guys have any experience using Rblpapi on Bloomberg Anywhere machine
and mac OS? Is it working at all, as I read different stories on various
forums and I've read that there is no softwere (binaries of Anywhere) for
mac OS as it is for Windows.

Thx,

Regards,
PG

	[[alternative HTML version deleted]]


From daniel.cegielka at gmail.com  Sun Feb 18 11:04:45 2018
From: daniel.cegielka at gmail.com (=?UTF-8?Q?Daniel_Cegie=C5=82ka?=)
Date: Sun, 18 Feb 2018 11:04:45 +0100
Subject: [R-SIG-Finance] Rblpapi + Bloomber Anywhere + mac os
In-Reply-To: <CAKWU5L76HugLSLxu7DguC88-9y-vVJfguVuV7mf0hrZqOdC44w@mail.gmail.com>
References: <CAKWU5L6nqqKzRaTdjd4MWsx0Lw6p+XEoU-uR_hAab3YA78SNfw@mail.gmail.com>
 <CAKWU5L45oP0N_LX19ara5E-uWcDQq0x_=gxkEZUNu7y-iL0gmA@mail.gmail.com>
 <CAKWU5L5Yk9qq2qpJcLbSvV-W-EBGHq6vKO-K25KMhz=QEAqccQ@mail.gmail.com>
 <CAKWU5L4MYoAd9_B5pJpFVmgJoM8V9ovmqdM8J8dm=wpNrpkkJw@mail.gmail.com>
 <CAKWU5L76HugLSLxu7DguC88-9y-vVJfguVuV7mf0hrZqOdC44w@mail.gmail.com>
Message-ID: <CAPLrYETcHnq7GM3KELNpy2xTMrpJR2MdCucyW0HwD2WfnC+TPw@mail.gmail.com>

2018-02-18 8:15 GMT+01:00 Pawe? Go??biewski <pawel.golebiewski at gmail.com>:
>
> Hi,
> Do you guys have any experience using Rblpapi on Bloomberg Anywhere machine
> and mac OS? Is it working at all, as I read different stories on various
> forums and I've read that there is no softwere (binaries of Anywhere) for
> mac OS as it is for Windows.
>

Hi Pawe?! :)

Unfortunately, we use Bloomberg only on windows, so I don't know how
well my answer will be correct.

Bloomberg API Library on Mac OS and Linux are only compatible with the
Bloomberg Server API and B-Pipe*, so there is no support for Bloomberg
Anywhere (terminal or browser). However, it looks like you can get
Bloomberg API Library using Bloomberg Excel Add-ins, see this topic:

https://github.com/Rblp/Rblpapi/issues/152

* https://www.bloomberg.com/professional/support/api-library/

Regards,
Daniel


>
> Thx,
>
> Regards,
> PG
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>
>


From sanjay.mansabdar at yahoo.com  Tue Feb 20 10:55:22 2018
From: sanjay.mansabdar at yahoo.com (Sanjay Mansabdar)
Date: Tue, 20 Feb 2018 09:55:22 +0000 (UTC)
Subject: [R-SIG-Finance] Stop Loss orders in quantstrat
In-Reply-To: <588844515.35696.1518526693808@mail.yahoo.com>
References: <1248745258.246105.1518505927090.ref@mail.yahoo.com>
 <1248745258.246105.1518505927090@mail.yahoo.com>
 <588844515.35696.1518526693808@mail.yahoo.com>
Message-ID: <595740298.1873759.1519120522428@mail.yahoo.com>

 Greetings,
Here is my implementation of the stop loss code based on suggestions from Brian and others that I have received. To recap, the current implementation of the stop loss is to compare the price midbar to the stop limit price calculated as entry price - threshold. This causes intra day whipsaws to exit positions. I would like to model the stop loss mechanism that I follow in my trading, which is to compare the closing price on any day to entry price - threshold and if true then exit using a market order at open the following day.?
This is a long only system where MACD signal crossing zero generates the long position taken at the Close of the next day. This is done via the usual quantstrat functions, drawing from the macd demo code.
I also calculate the buy signal with cross = FALSE and lag this signal by 1 day to indicate if there is a position ( as the Stop Loss order needs to be position aware). This is called 'longpos'
Once the position is taken , I calculate an indicator SLPX that is essentially the stop loss price. If the close on any day is below this stop loss price then a market order is triggered to sell out. The SLPX indicator needs to work by taking? the buy signal, lagging this by a day as the opening trade is taken the next day and using this calculate the stop loss price which is entry price*(1-stop loss percent). This is the indicator "SLPX" This updates whenever a new position is taken else equals the previous value carried forward.
I create another signal that triggers when the closing price is below the stop loss as returned by the SLPX indicator. This is the signal "SLCondition"
A final signal "SLTrigger" [using sigFormula triggers if "longpos" and "SLCondition" are true simultaneously, with cross = TRUE so that this is evaluated only the first time this happens.
A Stop Loss order is fired as a market order if "SLTrigger" is set to 1. This will happen one day after.
There is also an exit condition if the MACD signal moves below zero (with its own signal) and the exit order is set as an oco with the stop loss order.
The code is attached with this mail and also presented at the end of this mail. I suspect there are much easier ways of doing this, however as an R novice, I am not quite sure of how else to make the indicators and signals position aware which they need to be to trigger the stop losses in this way the next day, and based on the close of the previous day, rather than on the same day and based on the low of the day. I will appreciate any help with how to do this, if there is an easier way.
When I run this the error I get is as follows.?
------
?applyStrategy(strategy=strat.name , portfolios=portfoli .... [TRUNCATED]?Error in attr(x, "tsp") <- c(1, NROW(x), 1) :?? attempt to set an attribute on NULLIn addition: Warning messages:1: In rm("account.st", "portfolio.st", "stock.str", "stratMACD", "initDate",? :? object 'stratMACD' not found2: In rm("account.st", "portfolio.st", "stock.str", "stratMACD", "initDate",? :? object 'start_t' not found3: In rm("account.st", "portfolio.st", "stock.str", "stratMACD", "initDate",? :? object 'end_t' not found
------
A few questions if anyone can help.
1. What am I doing wrong??2. Is it even possible to make the signals position aware as I have done given that Ive seen in the documentation that they are not supposed to be path dependent (as I imagine position awareness demands)3. If yes, Is there a way of referencing positions and prices within signals?

Thanks in advance for any pointers. Quantstrat is an excellent bit of work from my perspective and I hope to learn enough about it to use it in my trading and to contribute to it.
Sanjay
########################



Full Code:
####################################################################################### This script tries to implement a stop loss on a closing price basis.# Rules:# BTO: when MACD crosses threshold of zero from below# STC: when MACD crosses threshold of zero from above# Stop Loss: If on any day the closing price is less than the BTO*(1-X), exit at market?# on open the next day where X is the loss tolerable######################################################################################
# libraries###########################################################################
require(quantstrat)


# remove old parameters ##############################################################
try(rm("order_book.macd",pos=.strategy),silent=TRUE)
try(rm("account.macd","portfolio.macd",pos=.blotter),silent=TRUE)
try(rm("account.st","portfolio.st","stock.str","stratMACD","initDate","initEq",'start_t','end_t'),silent=TRUE)
# settingup quantstrat ##############################################################
stock.str='AAPL'?
currency('USD')
stock(stock.str,currency='USD',multiplier=1)
initDate<-'2009-12-31'
initEq=1000000
portfolio.st<-'macd'
account.st<-'macd'
strat.name <- 'stratMACD'
initPortf(portfolio.st,symbols=stock.str, initDate=initDate)
initAcct(account.st,portfolios=portfolio.st, initDate=initDate)
initOrders(portfolio=portfolio.st,initDate=initDate)
strategy(strat.name,store = TRUE)
# System parameters ##################################################################
fastMA <- 12?
slowMA <- 26?
signalMA <- 9
maType <-"EMA"
slpercent <-0.05
# Get Data ###########################################################################
getSymbols(stock.str,from=initDate)
# Custom Indicator Function #########################################################
# This is a function to create an indicator that is path dependent.# This function looks at the MACD signal that triggers an entry trade and then creates the appropriate stop loss# level for that entry. This will be used to create a signal?
SLPX<-function(OHLC,slpercent){? slpx<-rep(NA, times = nrow(OHLC))? ? # create the output vector and fill with NA? OHLC$longlag<-lag(OHLC$signal.gt.zero.x,n=1) #lag the BTO signal by 1 bar as position taken the next day? for (counter in (1:nrow(OHLC))){? ? slpx[counter]? ? if (!is.na(OHLC[counter]$longlag)) {? # do nothing if the signal is an NA value? ? ? if(OHLC[counter]$longlag==1) {? ? ? ? slpx[counter] = Op(OHLC[counter])*(1-slpercent) # if signal is 1, then figure out operating stop loss? ? ? } else {? ? ? ? slpx[counter] = slpx[counter-1] # is signal is zero then carry forward previously calculated value? ? ? }? ? }? ??? ??? }??? return(slpx)}

# Add Indicator MACD? ?###############################################################
add.indicator(strategy = strat.name,? ? ? ? ? ? ? name = "MACD",? ? ? ? ? ? ? arguments = list(x = quote(Cl(mktdata)), nFast=fastMA, nSlow = maSlow, nSig = signalMA, maType=maType)??? ? ? ? ? ? ? )

# Add BTO Signal ######################################################################
add.signal(strategy = strat.name,? ? ? ? ? ?name = "sigThreshold",? ? ? ? ? ?arguments = list(column = "signal.MACD.ind",? ? ? ? ? ? ? ? ? ? ? ? ? ? relationship = "gt",? ? ? ? ? ? ? ? ? ? ? ? ? ? threshold = 0,? ? ? ? ? ? ? ? ? ? ? ? ? ? cross = TRUE? ? ? ? ? ? ? ? ? ? ? ? ? ? ),? ? ? ? ? ? label = "signal.gt.zero.x"??? ? ? ? ? ? )
# Add STC Signal ######################################################################
add.signal(strategy = strat.name,? ? ? ? ? ?name = "sigThreshold",? ? ? ? ? ?arguments = list(column = "signal.MACD.ind",? ? ? ? ? ? ? ? ? ? ? ? ? ? relationship = "lt",? ? ? ? ? ? ? ? ? ? ? ? ? ? threshold = 0,? ? ? ? ? ? ? ? ? ? ? ? ? ? cross = TRUE? ? ? ? ? ? ? ? ? ? ? ? ? ? ),? ? ? ? ? ?label = "signal.lt.zero.x"? ? ? ? ? )
# Add signal that indicates whether there is a position due to BTO signal
add.signal(strategy = strat.name,? ? ? ? ? ?name = "sigThreshold",? ? ? ? ? ?arguments = list(column = "signal.MACD.ind",? ? ? ? ? ? ? ? ? ? ? ? ? ? relationship = "gt",? ? ? ? ? ? ? ? ? ? ? ? ? ? threshold = 0,? ? ? ? ? ? ? ? ? ? ? ? ? ? cross = FALSE? ? ? ? ? ?),? ? ? ? ? ?label = "signal.gt.zero.pos"??)
# Lag the above signal by 1 bar as long position gets taken the next bar ############
add.indicator (strategy = strat.name,? ? ? ? ? ? ? ? ?name = "lag",? ? ? ? ? ? ? ? ?arguments = (list(x=quote(mktdata$signal.gt.zero.pos), n=1)),? ? ? ? ? ? ? ? ?label = "longpos"? ? ? ? ? ? ? ? ?)

# Add SLPX Indicator ################################################################
add.indicator( strategy = strat.name,? ? ? ? ? ? ? ?name = "SLPX",? ? ? ? ? ? ? ?arguments = (list(OHLC=quote(mktdata), slpercent = 0.05)),? ? ? ? ? ? ? ?label = "SLPX")? ? ? ? ? ? ? ?


# Add signal to check whether Close on any day is less that the stop loss level from# the indicator SLPX? ###############################################################
add.signal(strategy = strat.name,? ? ? ? ? ?name = "sigComparison",? ? ? ? ? ?arguments = list(columns=c(quote(Cl(mktdata)),"SLPX")),? ? ? ? ? ?label = "SLCondition")? ? ? ??
# Check whether longpos and SL condition are met simultaneously #####################
add.signal( strategy = strat.name,? ? ? ? ? ? name = "sigFormula",? ? ? ? ? ? arguments = list(formula = "longpos & SLCondition", cross = TRUE),? ? ? ? ? ? label = "SLTrigger"? ? ? ? ? )
# Add BTO Rule #######################################################################
add.rule(strategy = strat.name,? ? ? ? ?name =? "ruleSignal",? ? ? ? ?arguments = list(? ? ? ? ? ? ? ? ? ? ? ? ? sigcol = "signal.gt.zero.x",? ? ? ? ? ? ? ? ? ? ? ? ? sigval = TRUE,? ? ? ? ? ? ? ? ? ? ? ? ? orderqty = 100,? ? ? ? ? ? ? ? ? ? ? ? ? prefer = "Open",? ? ? ? ? ? ? ? ? ? ? ? ? replace = TRUE,? ? ? ? ? ? ? ? ? ? ? ? ? ordertype = 'market',? ? ? ? ? ? ? ? ? ? ? ? ? orderside = 'long',? ? ? ? ? ? ? ? ? ? ? ? ? threshold = NULL? ? ? ? ? ? ? ? ? ? ? ? ? ),? ? ? ? ?type= "enter",? ? ? ? ?label = "enterlong"? ? ? ? )
# Add STC Rule #######################################################################
add.rule(strategy = strat.name,? ? ? ? ?name =? "ruleSignal",? ? ? ? ?arguments = list(? ? ? ? ? ?sigcol = "signal.lt.zero.x",? ? ? ? ? ?sigval = TRUE,? ? ? ? ? ?orderqty = 'all',? ? ? ? ? ?prefer = "Open",? ? ? ? ? ?replace = FALSE,? ? ? ? ? ?ordertype = 'market',? ? ? ? ? ?orderside = 'long',? ? ? ? ? ?threshold = NULL,? ? ? ? ? ?orderset = 'ocolong'? ? ? ? ?),? ? ? ? ?type= "exit",? ? ? ? ?label = "exitlong")
# Add Stop Loss Rule [part of orderset 'ocolong'] ##############################
add.rule(strategy = strat.name,? ? ? ? ?name =? "ruleSignal",? ? ? ? ?arguments = list(? ? ? ? ? ?sigcol = "SLTrigger",? ? ? ? ? ?sigval = TRUE,? ? ? ? ? ?orderqty = 'all',? ? ? ? ? ?prefer = "Open",? ? ? ? ? ?replace = FALSE,? ? ? ? ? ?ordertype = 'market',? ? ? ? ? ?orderside = 'long',? ? ? ? ? ?threshold = NULL,? ? ? ? ? ?orderset = 'ocolong'? ? ? ? ?),? ? ? ? ?type= "exit",? ? ? ? ?label = "SL")

#Apply Strategy #######################################################################
applyStrategy(strategy=strat.name , portfolios=portfolio.st)
# Updates #############################################################################
updatePortf(Portfolio=portfolio.st,Dates=paste('::',as.Date(Sys.time()),sep=''))
#? Outputs ############################################################################
chart.Posn(Portfolio=portfolio.st,Symbol=stock.str)
plot(add_MACD(fast=fastMA, slow=slowMA, signal=signalMA,maType="EMA"))
print ('order book')

getOrderBook(portfolio.st)
print('transactions')

getTxns(Portfolio=portfolio.st, Symbol=stock.str)



    On Tuesday, February 13, 2018, 6:28:13 PM GMT+5:30, Sanjay Mansabdar <s

  I have? been trying to implement what Brian has suggested for a simple long only macd based strategy.? Given that I am new to quantstrat, this may be quite an elementary question, but here goes.?
1. I have a simple long only MACD based system that gives me entry and exit signals on T.2. On the basis os a long signal I trigger a market order to buy on T+1, at the open.3. Based on this execution, I need to set a hard stop on the position entered in #2, that is x% below the execution price of 2, with the comparison being done at the close of each day, and if the signal triggers on some day D, the order is executed as a market sell order on the next day D+1.My signal essentially says "Check to see if the closing price on any day is less than the execution prices of the last opening trade minus a threshold and if it is, trigger a signal".4. This clearly needs, at any point, the value of the execution price of the market order in #2, the timestamp of #2?5.Finally the rule that triggers the market sell order described in #3 would need to know the existing position size as well.
I am not quite sure how to extract these state variables to include in the signal and in the rule. Any help on this would be appreciated.?
Thanks in advance.

    On Tuesday, February 13, 2018, 12:42:07 PM GMT+5:30, Sanjay Mansabdar <

 I am not sure how to reply to digest messages in the thread, so apologies in advance for errors
@Brian, I think there is no error with the implementation as it stands of stop limit orders. However IMHO stop loss logic is not necessarily the same thing as stop limit orders and perhaps needs to be thought of separately. I will try and follow the route you have suggested.
Thanks
Regards    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180220/b891c547/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: macd_SL6.R
Type: application/octet-stream
Size: 7792 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180220/b891c547/attachment.obj>

From stefano.iacus at unimi.it  Thu Feb 22 04:29:43 2018
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 22 Feb 2018 04:29:43 +0100
Subject: [R-SIG-Finance] [WORKSHOP] Computational Aspects of Simulation and
 Inference for Stochastic Processes and the YUIMA Project
Message-ID: <9C2DB4F4-55DE-44F3-A5C3-42BFCC1528D3@unimi.it>

Computational Aspects of Simulation and Inference for Stochastic Processes and the YUIMA Project

This two-day workshop is aimed at presenting the latest results on simulation and inference for stochastic processes and their current and prospect implementation within the YUIMA R package.
 
Dates: 
March 27 (Tue)   9:15-12:15, 14:45-17:45
March 28 (Wed)  9:15-12:15, 14:45-17:45

Location:
Department of Economics, Business and Statistics
Via Conservatorio 7, 20122 Milan (ITALY)
2 Floor, Departmental Seminar Room

Invited speakers:

* Alessandro De Gregorio (University of Rome)
* Alexande Brouste (University of Le Mans, France)
* Yuta Koike (University of Tokyo, JST CREST)
* Emanuele Guidotti (University of Milan)
* Stefano M. Iacus (University of Milan)
* Lorenzo Mercuri (University of Milan)
* Hiroki Masuda (Kyushu University)
* Yuma Uehara (Institute of Statistical Mathematics)
* Nakahiro Yoshida (University of Tokyo, Institute of Statistical Mathematics, JST CREST)

The attendance to the workshop is open to ?eveRyone" interested in the YUIMA Project. A considerable part of the workshop is dedicated to discussion on further development of the YUIMA package.

This workshop is supported by:
- Department of Economics, Business and Statistics, University of Milan
- CREST Japan Science and Technology Agency
- JSPS Grant-in-Aid for Scientific Research





-----------------------------------
Prof. Stefano M. Iacus, Ph.D.
Director of MEF - Master in Finance & Economics
http://www.mef.unimi.it
CEO/CTO/Co-Founder VOICES from the Blogs
http://www.voices-int.com

Department of Economics,
Management and Quantitative Methods
University of Milan
Via Conservatorio, 7
I-20123 Milan - Italy
Ph.: +39 02 50321 461
Fax: +39 02 50321 505
Twitter: @iacus
http://scholar.google.com/citations?user=JBs9tJ4AAAAJ&hl=en
http://orcid.org/0000-0002-4884-0047

Master in Finance & Economics
http://www.mef.unimi.it
Twitter: @mefunimi
Facebook: http://www.facebook.com/mefunimi
Email and further information at: mef at unimi.it


------------------------------------------------------------------------------------
Please don't send me Word or PowerPoint attachments if not 
absolutely necessary. See:
http://www.gnu.org/philosophy/no-word-attachments.html






	[[alternative HTML version deleted]]


From bregiannis.andreas at hotmail.com  Thu Mar  1 17:32:22 2018
From: bregiannis.andreas at hotmail.com (Andreas Bregiannis)
Date: Thu, 1 Mar 2018 16:32:22 +0000
Subject: [R-SIG-Finance] Question about rugarch
Message-ID: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>

Dear Sir or Madam,


I am trying to fit an AR-t-(E)GARCH model in stock log return data using the rugarch package.

My code is :

install.packages("rugarch")
library(rugarch)
data <- read.csv2("C:/Users/bregi/Desktop/Thesis/R/euro.csv",header = TRUE,sep=";")
lr.AEX<- diff(log(data$AEX))  ## log returns of stock market index AEX
egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
egarcht.fit = ugarchfit(egarcht.spec, lr.AEX)

The problem is that I want to transform my standardized residuals to follow uniform distribution. But when I run the following:
res<-residuals(egarcht.fit, standardize=TRUE)
ecdf(res)
plot.ecdf(res)
I realized that they have not transformed. I think that I found the problem but I don't know how to fix it.
When I run residuals(egarcht.fit, standardize=TRUE) I get data in the following form:
1970-01-02 01:00:00 -0.3766309  instead of just -0.3766309.

After that, I tried to solve this problem by doing:

require(xts)
time <- date[2:3914]
lrAEX.xts <- na.omit(xts(x = lr.AEX, order.by = time))

egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
egarcht.fit = ugarchfit(egarcht.spec, data=lrAEX.xts)

residuals(egarcht.fit,standardize=TRUE)[1]

But the only improvement is that I receive the real dates of my data

                 [,1]
2001-01-02 -0.3766309

However, my goal is to receive only the residuals ( so only -0.3766309).


Could you please tell me if you know how I can achieve this?

Thank you in advance.

Kind regards,
Andreas


	[[alternative HTML version deleted]]


From ibrahimergen at gmail.com  Thu Mar  1 18:49:50 2018
From: ibrahimergen at gmail.com (ibrahim ergen)
Date: Thu, 1 Mar 2018 12:49:50 -0500
Subject: [R-SIG-Finance] Question about rugarch
In-Reply-To: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
References: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
Message-ID: <9DC0297C-D387-4347-948E-681AA263109F@gmail.com>


Standardized residuals would be approx. normally distributed. Those are the shocks. Standardization here means filetering of vol clustering. So you get the garch shocks which are approx normal. You can use pnorm function to transform them to uniform distribution. 

Best
Ibrahim

Sent from my iPhone

> On Mar 1, 2018, at 11:32 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
> 
> Dear Sir or Madam,
> 
> 
> I am trying to fit an AR-t-(E)GARCH model in stock log return data using the rugarch package.
> 
> My code is :
> 
> install.packages("rugarch")
> library(rugarch)
> data <- read.csv2("C:/Users/bregi/Desktop/Thesis/R/euro.csv",header = TRUE,sep=";")
> lr.AEX<- diff(log(data$AEX))  ## log returns of stock market index AEX
> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
> egarcht.fit = ugarchfit(egarcht.spec, lr.AEX)
> 
> The problem is that I want to transform my standardized residuals to follow uniform distribution. But when I run the following:
> res<-residuals(egarcht.fit, standardize=TRUE)
> ecdf(res)
> plot.ecdf(res)
> I realized that they have not transformed. I think that I found the problem but I don't know how to fix it.
> When I run residuals(egarcht.fit, standardize=TRUE) I get data in the following form:
> 1970-01-02 01:00:00 -0.3766309  instead of just -0.3766309.
> 
> After that, I tried to solve this problem by doing:
> 
> require(xts)
> time <- date[2:3914]
> lrAEX.xts <- na.omit(xts(x = lr.AEX, order.by = time))
> 
> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
> egarcht.fit = ugarchfit(egarcht.spec, data=lrAEX.xts)
> 
> residuals(egarcht.fit,standardize=TRUE)[1]
> 
> But the only improvement is that I receive the real dates of my data
> 
>                 [,1]
> 2001-01-02 -0.3766309
> 
> However, my goal is to receive only the residuals ( so only -0.3766309).
> 
> 
> Could you please tell me if you know how I can achieve this?
> 
> Thank you in advance.
> 
> Kind regards,
> Andreas
> 
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From bregiannis.andreas at hotmail.com  Thu Mar  1 19:37:39 2018
From: bregiannis.andreas at hotmail.com (Andreas Bregiannis)
Date: Thu, 1 Mar 2018 18:37:39 +0000
Subject: [R-SIG-Finance] =?iso8859-7?q?=C1=F0=3A__Question_about_rugarch?=
In-Reply-To: <9DC0297C-D387-4347-948E-681AA263109F@gmail.com>
References: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>,
 <9DC0297C-D387-4347-948E-681AA263109F@gmail.com>
Message-ID: <AM0PR0602MB3492B1ADBE4EC6CB411054B98FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>

Dear Ibrahim,


First of all, I would like to sincerely thank you for your reply!

Indeed, standardized residuals are approx. normally distributed in my model.

If I understood correctly, I should do the following to transform them in uniform: pnorm(residuals(egarcht.fit,standardize=TRUE)). I just did it and I checked through a histogram that indeed they look like uniform.

Thank you very much!

So, do you think that my code, in general, is right? Is it reasonable that in the output of the standardized residuals, I received also the dates? I am asking because I also used fgarch package and in the output I received just the standardized residuals without the dates, so after that I just use the ecdf and I convert them.


Best regards,

Andreas



________________________________
???: ibrahim ergen <ibrahimergen at gmail.com>
????????: ??????, 1 ??????? 2018 6:49 ??
????: Andreas Bregiannis
????.: r-sig-finance at r-project.org
????: Re: [R-SIG-Finance] Question about rugarch


Standardized residuals would be approx. normally distributed. Those are the shocks. Standardization here means filetering of vol clustering. So you get the garch shocks which are approx normal. You can use pnorm function to transform them to uniform distribution.

Best
Ibrahim

Sent from my iPhone

> On Mar 1, 2018, at 11:32 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
>
> Dear Sir or Madam,
>
>
> I am trying to fit an AR-t-(E)GARCH model in stock log return data using the rugarch package.
>
> My code is :
>
> install.packages("rugarch")
> library(rugarch)
> data <- read.csv2("C:/Users/bregi/Desktop/Thesis/R/euro.csv",header = TRUE,sep=";")
> lr.AEX<- diff(log(data$AEX))  ## log returns of stock market index AEX
> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
> egarcht.fit = ugarchfit(egarcht.spec, lr.AEX)
>
> The problem is that I want to transform my standardized residuals to follow uniform distribution. But when I run the following:
> res<-residuals(egarcht.fit, standardize=TRUE)
> ecdf(res)
> plot.ecdf(res)
> I realized that they have not transformed. I think that I found the problem but I don't know how to fix it.
> When I run residuals(egarcht.fit, standardize=TRUE) I get data in the following form:
> 1970-01-02 01:00:00 -0.3766309  instead of just -0.3766309.
>
> After that, I tried to solve this problem by doing:
>
> require(xts)
> time <- date[2:3914]
> lrAEX.xts <- na.omit(xts(x = lr.AEX, order.by = time))
>
> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>                       mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
> egarcht.fit = ugarchfit(egarcht.spec, data=lrAEX.xts)
>
> residuals(egarcht.fit,standardize=TRUE)[1]
>
> But the only improvement is that I receive the real dates of my data
>
>                 [,1]
> 2001-01-02 -0.3766309
>
> However, my goal is to receive only the residuals ( so only -0.3766309).
>
>
> Could you please tell me if you know how I can achieve this?
>
> Thank you in advance.
>
> Kind regards,
> Andreas
>
>
>    [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
stat.ethz.ch
To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...



> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.

	[[alternative HTML version deleted]]


From alexios at 4dscape.com  Thu Mar  1 20:08:05 2018
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Thu, 1 Mar 2018 11:08:05 -0800
Subject: [R-SIG-Finance] 
 =?utf-8?q?=CE=91=CF=80=3A__Question_about_rugarc?= =?utf-8?q?h?=
In-Reply-To: <AM0PR0602MB3492B1ADBE4EC6CB411054B98FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
References: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
 <9DC0297C-D387-4347-948E-681AA263109F@gmail.com>
 <AM0PR0602MB3492B1ADBE4EC6CB411054B98FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
Message-ID: <22F8AA06-DABD-4A13-BC76-E07C716A0EB1@4dscape.com>

Andreas, you can just extract the numeric values from the output :
Either coredata() or as.numeric().

rugarch was designed to work with xts as it was the author?s opinion at the time that it was the gold standard for working with timeseries data in the context of GARCH models and greatly simplified design decisions.

Regards,

Alexios

> On Mar 1, 2018, at 10:37 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
> 
> Dear Ibrahim,
> 
> 
> First of all, I would like to sincerely thank you for your reply!
> 
> Indeed, standardized residuals are approx. normally distributed in my model.
> 
> If I understood correctly, I should do the following to transform them in uniform: pnorm(residuals(egarcht.fit,standardize=TRUE)). I just did it and I checked through a histogram that indeed they look like uniform.
> 
> Thank you very much!
> 
> So, do you think that my code, in general, is right? Is it reasonable that in the output of the standardized residuals, I received also the dates? I am asking because I also used fgarch package and in the output I received just the standardized residuals without the dates, so after that I just use the ecdf and I convert them.
> 
> 
> Best regards,
> 
> Andreas
> 
> 
> 
> ________________________________
> ???: ibrahim ergen <ibrahimergen at gmail.com>
> ????????: ??????, 1 ??????? 2018 6:49 ??
> ????: Andreas Bregiannis
> ????.: r-sig-finance at r-project.org
> ????: Re: [R-SIG-Finance] Question about rugarch
> 
> 
> Standardized residuals would be approx. normally distributed. Those are the shocks. Standardization here means filetering of vol clustering. So you get the garch shocks which are approx normal. You can use pnorm function to transform them to uniform distribution.
> 
> Best
> Ibrahim
> 
> Sent from my iPhone
> 
>> On Mar 1, 2018, at 11:32 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
>> 
>> Dear Sir or Madam,
>> 
>> 
>> I am trying to fit an AR-t-(E)GARCH model in stock log return data using the rugarch package.
>> 
>> My code is :
>> 
>> install.packages("rugarch")
>> library(rugarch)
>> data <- read.csv2("C:/Users/bregi/Desktop/Thesis/R/euro.csv",header = TRUE,sep=";")
>> lr.AEX<- diff(log(data$AEX))  ## log returns of stock market index AEX
>> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>>                      mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
>> egarcht.fit = ugarchfit(egarcht.spec, lr.AEX)
>> 
>> The problem is that I want to transform my standardized residuals to follow uniform distribution. But when I run the following:
>> res<-residuals(egarcht.fit, standardize=TRUE)
>> ecdf(res)
>> plot.ecdf(res)
>> I realized that they have not transformed. I think that I found the problem but I don't know how to fix it.
>> When I run residuals(egarcht.fit, standardize=TRUE) I get data in the following form:
>> 1970-01-02 01:00:00 -0.3766309  instead of just -0.3766309.
>> 
>> After that, I tried to solve this problem by doing:
>> 
>> require(xts)
>> time <- date[2:3914]
>> lrAEX.xts <- na.omit(xts(x = lr.AEX, order.by = time))
>> 
>> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>>                      mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
>> egarcht.fit = ugarchfit(egarcht.spec, data=lrAEX.xts)
>> 
>> residuals(egarcht.fit,standardize=TRUE)[1]
>> 
>> But the only improvement is that I receive the real dates of my data
>> 
>>                [,1]
>> 2001-01-02 -0.3766309
>> 
>> However, my goal is to receive only the residuals ( so only -0.3766309).
>> 
>> 
>> Could you please tell me if you know how I can achieve this?
>> 
>> Thank you in advance.
>> 
>> Kind regards,
>> Andreas
>> 
>> 
>>   [[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
> stat.ethz.ch
> To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...
> 
> 
> 
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From bregiannis.andreas at hotmail.com  Thu Mar  1 20:50:11 2018
From: bregiannis.andreas at hotmail.com (Andreas Bregiannis)
Date: Thu, 1 Mar 2018 19:50:11 +0000
Subject: [R-SIG-Finance] =?utf-8?b?zpHPgDogIM6Rz4A6ICBRdWVzdGlvbiBhYm91?=
 =?utf-8?q?t_rugarch?=
In-Reply-To: <22F8AA06-DABD-4A13-BC76-E07C716A0EB1@4dscape.com>
References: <AM0PR0602MB3492B9A6D52C01397102909E8FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>
 <9DC0297C-D387-4347-948E-681AA263109F@gmail.com>
 <AM0PR0602MB3492B1ADBE4EC6CB411054B98FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>,
 <22F8AA06-DABD-4A13-BC76-E07C716A0EB1@4dscape.com>
Message-ID: <AM0PR0602MB34928A11822CBBA3374E18998FC60@AM0PR0602MB3492.eurprd06.prod.outlook.com>

Yes, that worked great!

Thank you so much for all your assistance!


Best regards,

Andreas

________________________________
???: Alexios Ghalanos <alexios at 4dscape.com>
????????: ??????, 1 ??????? 2018 8:08 ??
????: Andreas Bregiannis
????.: ibrahim ergen; r-sig-finance at r-project.org
????: Re: [R-SIG-Finance] ??: Question about rugarch

Andreas, you can just extract the numeric values from the output :
Either coredata() or as.numeric().

rugarch was designed to work with xts as it was the author?s opinion at the time that it was the gold standard for working with timeseries data in the context of GARCH models and greatly simplified design decisions.

Regards,

Alexios

> On Mar 1, 2018, at 10:37 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
>
> Dear Ibrahim,
>
>
> First of all, I would like to sincerely thank you for your reply!
>
> Indeed, standardized residuals are approx. normally distributed in my model.
>
> If I understood correctly, I should do the following to transform them in uniform: pnorm(residuals(egarcht.fit,standardize=TRUE)). I just did it and I checked through a histogram that indeed they look like uniform.
>
> Thank you very much!
>
> So, do you think that my code, in general, is right? Is it reasonable that in the output of the standardized residuals, I received also the dates? I am asking because I also used fgarch package and in the output I received just the standardized residuals without the dates, so after that I just use the ecdf and I convert them.
>
>
> Best regards,
>
> Andreas
>
>
>
> ________________________________
> ???: ibrahim ergen <ibrahimergen at gmail.com>
> ????????: ??????, 1 ??????? 2018 6:49 ??
> ????: Andreas Bregiannis
> ????.: r-sig-finance at r-project.org
> ????: Re: [R-SIG-Finance] Question about rugarch
>
>
> Standardized residuals would be approx. normally distributed. Those are the shocks. Standardization here means filetering of vol clustering. So you get the garch shocks which are approx normal. You can use pnorm function to transform them to uniform distribution.
>
> Best
> Ibrahim
>
> Sent from my iPhone
>
>> On Mar 1, 2018, at 11:32 AM, Andreas Bregiannis <bregiannis.andreas at hotmail.com> wrote:
>>
>> Dear Sir or Madam,
>>
>>
>> I am trying to fit an AR-t-(E)GARCH model in stock log return data using the rugarch package.
>>
>> My code is :
>>
>> install.packages("rugarch")
>> library(rugarch)
>> data <- read.csv2("C:/Users/bregi/Desktop/Thesis/R/euro.csv",header = TRUE,sep=";")
>> lr.AEX<- diff(log(data$AEX))  ## log returns of stock market index AEX
>> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>>                      mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
>> egarcht.fit = ugarchfit(egarcht.spec, lr.AEX)
>>
>> The problem is that I want to transform my standardized residuals to follow uniform distribution. But when I run the following:
>> res<-residuals(egarcht.fit, standardize=TRUE)
>> ecdf(res)
>> plot.ecdf(res)
>> I realized that they have not transformed. I think that I found the problem but I don't know how to fix it.
>> When I run residuals(egarcht.fit, standardize=TRUE) I get data in the following form:
>> 1970-01-02 01:00:00 -0.3766309  instead of just -0.3766309.
>>
>> After that, I tried to solve this problem by doing:
>>
>> require(xts)
>> time <- date[2:3914]
>> lrAEX.xts <- na.omit(xts(x = lr.AEX, order.by = time))
>>
>> egarcht.spec=ugarchspec(variance.model=list(model="eGARCH",garchOrder=c(2,1)),
>>                      mean.model=list(armaOrder=c(1,0)),distribution.model = "std")
>> egarcht.fit = ugarchfit(egarcht.spec, data=lrAEX.xts)
>>
>> residuals(egarcht.fit,standardize=TRUE)[1]
>>
>> But the only improvement is that I receive the real dates of my data
>>
>>                [,1]
>> 2001-01-02 -0.3766309
>>
>> However, my goal is to receive only the residuals ( so only -0.3766309).
>>
>>
>> Could you please tell me if you know how I can achieve this?
>>
>> Thank you in advance.
>>
>> Kind regards,
>> Andreas
>>
>>
>>   [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
stat.ethz.ch
To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...



> R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
stat.ethz.ch
To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...



> stat.ethz.ch
> To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...
>
>
>
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>
>    [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
R-SIG-Finance Info Page<https://stat.ethz.ch/mailman/listinfo/r-sig-finance>
stat.ethz.ch
To see the collection of prior postings to the list, visit the R-SIG-Finance Archives. Using R-SIG-Finance: To post a message to all the list members ...



> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


	[[alternative HTML version deleted]]


From rharlow86 at gmail.com  Tue Mar  6 23:21:53 2018
From: rharlow86 at gmail.com (Robert Harlow)
Date: Tue, 6 Mar 2018 17:21:53 -0500
Subject: [R-SIG-Finance] Question quadprogXT
In-Reply-To: <5935071.17239934.1520345019628@mail.yahoo.com>
References: <5935071.17239934.1520345019628.ref@mail.yahoo.com>
 <5935071.17239934.1520345019628@mail.yahoo.com>
Message-ID: <CAHdfS95Ds5FtWOQ-7MBGqtJ60mxPNPViQ_ptB=W+5MNFRNy0Mg@mail.gmail.com>

Hi Antoine,
  Yes - it handles turnover constraints. Check out the second to last
example from ?solveQPXT.
Bob

On Tue, Mar 6, 2018 at 9:03 AM, Antoine <antoinegg7 at yahoo.fr> wrote:

> Hello Bob,
>
> First of all, thanks for your R Package quadprogXT, I hope that I will use
> it for my turnover constraint (in financial context). Could you please tell
> me if you use this topic to implement the solution.
>
>
> Convex Optimization problem with sum of absolute value constraints
> <https://scicomp.stackexchange.com/questions/20321/convex-optimization-problem-with-sum-of-absolute-value-constraints>
>
> Convex Optimization problem with sum of absolute value constraints
>
> How to solve the optimization problem written below? $$\begin{align}
> &\operatorname{argmax}\limits_{a}\; a^T b ...
>
> <https://scicomp.stackexchange.com/questions/20321/convex-optimization-problem-with-sum-of-absolute-value-constraints>
>
> Thanks in advance,
>
> Best Regards,
>
> Antoine
>
>

	[[alternative HTML version deleted]]


From aschmid1 at stevens.edu  Thu Mar  8 02:55:18 2018
From: aschmid1 at stevens.edu (Alec Schmidt)
Date: Thu, 8 Mar 2018 01:55:18 +0000
Subject: [R-SIG-Finance] Minimizing tracking error with restricted number of
 stocks
Message-ID: <1520474119352.56010@stevens.edu>

Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.

Thanks! Alec

	[[alternative HTML version deleted]]


From vivekrao4 at yahoo.com  Thu Mar  8 03:08:10 2018
From: vivekrao4 at yahoo.com (Vivek Rao)
Date: Thu, 8 Mar 2018 02:08:10 +0000 (UTC)
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <1520474119352.56010@stevens.edu>
References: <1520474119352.56010@stevens.edu>
Message-ID: <797485991.9774726.1520474890164@mail.yahoo.com>

Alec,
You could regress the returns of the 100-stock portfolio on the?returns of the 100 stocks, using the Lasso or Elastic Net(there are R packages glmnet and elasticnet?for these methods)?to zero out most of the regression?coefficients.
Vivek RaoBoston, MA
      From: Alec Schmidt <aschmid1 at stevens.edu>
 To: "r-sig-finance at r-project.org" <r-sig-finance at r-project.org> 
 Sent: Wednesday, March 7, 2018 8:55 PM
 Subject: [R-SIG-Finance] Minimizing tracking error with restricted number of stocks
   
Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.

Thanks! Alec

??? [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


   
	[[alternative HTML version deleted]]


From brian at braverock.com  Thu Mar  8 03:14:32 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 7 Mar 2018 20:14:32 -0600
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <1520474119352.56010@stevens.edu>
References: <1520474119352.56010@stevens.edu>
Message-ID: <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>

On 03/07/2018 07:55 PM, Alec Schmidt wrote:
> Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.

PortfolioAnalytics can do this.

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From aschmid1 at stevens.edu  Thu Mar  8 03:39:15 2018
From: aschmid1 at stevens.edu (Alec Schmidt)
Date: Thu, 8 Mar 2018 02:39:15 +0000
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
References: <1520474119352.56010@stevens.edu>,
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
Message-ID: <1520476756408.85376@stevens.edu>

Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking' but didn't find one. Are there any implementation examples?
________________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Brian G. Peterson <brian at braverock.com>
Sent: Wednesday, March 7, 2018 9:14 PM
To: r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks

On 03/07/2018 07:55 PM, Alec Schmidt wrote:
> Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.

PortfolioAnalytics can do this.

--
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From brian at braverock.com  Thu Mar  8 04:00:59 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 7 Mar 2018 21:00:59 -0600
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <1520476756408.85376@stevens.edu>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
Message-ID: <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>

On 03/07/2018 08:39 PM, Alec Schmidt wrote:
> Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking' but didn't find one. Are there any implementation examples?

See Ross Bennett's tutorial from R/Finance 2017:

https://rossb34.github.io/PortfolioAnalyticsPresentation2017/#1

Tracking Error example starts on slide 29, though you should find the 
rest of the tutorial useful.

- Brian

> ________________________________________
> From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Brian G. Peterson <brian at braverock.com>
> Sent: Wednesday, March 7, 2018 9:14 PM
> To: r-sig-finance at r-project.org
> Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks
> 
> On 03/07/2018 07:55 PM, Alec Schmidt wrote:
>> Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.
> 
> PortfolioAnalytics can do this.
>


From jasonhart4 at icloud.com  Thu Mar  8 15:46:51 2018
From: jasonhart4 at icloud.com (Jason Hart)
Date: Thu, 08 Mar 2018 09:46:51 -0500
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
 <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>
Message-ID: <12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>

Great presentation, thanks for sharing the link

Sent from my iPad

> On Mar 7, 2018, at 10:00 PM, Brian G. Peterson <brian at braverock.com> wrote:
> 
>> On 03/07/2018 08:39 PM, Alec Schmidt wrote:
>> Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking' but didn't find one. Are there any implementation examples?
> 
> See Ross Bennett's tutorial from R/Finance 2017:
> 
> https://rossb34.github.io/PortfolioAnalyticsPresentation2017/#1
> 
> Tracking Error example starts on slide 29, though you should find the rest of the tutorial useful.
> 
> - Brian
> 
>> ________________________________________
>> From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Brian G. Peterson <brian at braverock.com>
>> Sent: Wednesday, March 7, 2018 9:14 PM
>> To: r-sig-finance at r-project.org
>> Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks
>>> On 03/07/2018 07:55 PM, Alec Schmidt wrote:
>>> Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.
>> PortfolioAnalytics can do this.
>> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From aschmid1 at stevens.edu  Thu Mar  8 17:04:08 2018
From: aschmid1 at stevens.edu (Alec Schmidt)
Date: Thu, 8 Mar 2018 16:04:08 +0000
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
 <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>,
 <12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>
Message-ID: <1520525051876.38986@stevens.edu>

This is a very handy doc indeed. I'm not sure though that examples on #29 - #31 address the problem I'm looking into. Namely, I need minimum tracking error with explicit constraint on the number of stocks that is lower than in the benchmark portfolio. Coleman, Li, and Henniger (2004) state that it's NP-hard problem and review a few heuristic methods. Is there one implemented in PortfolioAnalytics?
Thanks much! Alec
________________________________________
From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Jason Hart <jasonhart4 at icloud.com>
Sent: Thursday, March 8, 2018 9:46 AM
To: Brian G. Peterson
Cc: R-SIG-Finance
Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks

Great presentation, thanks for sharing the link

Sent from my iPad

> On Mar 7, 2018, at 10:00 PM, Brian G. Peterson <brian at braverock.com> wrote:
>
>> On 03/07/2018 08:39 PM, Alec Schmidt wrote:
>> Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking' but didn't find one. Are there any implementation examples?
>
> See Ross Bennett's tutorial from R/Finance 2017:
>
> https://rossb34.github.io/PortfolioAnalyticsPresentation2017/#1
>
> Tracking Error example starts on slide 29, though you should find the rest of the tutorial useful.
>
> - Brian
>
>> ________________________________________
>> From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf of Brian G. Peterson <brian at braverock.com>
>> Sent: Wednesday, March 7, 2018 9:14 PM
>> To: r-sig-finance at r-project.org
>> Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks
>>> On 03/07/2018 07:55 PM, Alec Schmidt wrote:
>>> Say I have a portfolio of 100 stocks and want to find a subset of 20 stocks with minimum tracking error in respect to the original portfolio. I wonder if a solver to this problem is implemented in some R-based library.
>> PortfolioAnalytics can do this.
>>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From brian at braverock.com  Thu Mar  8 17:13:00 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 08 Mar 2018 10:13:00 -0600
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <1520525051876.38986@stevens.edu>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
 <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>
 ,<12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>
 <1520525051876.38986@stevens.edu>
Message-ID: <1520525580.9109.114.camel@braverock.com>

Alec,

I do not believe that there is a closed form optimization solution for
what you are trying to do.  In other words, I am agreeing with Coleman
et. al.

That is not the same thing as saying that you can't solve it with
PortfolioAnalytics.

First, add a position_limit constraint setting the number of non-zero
positions that you want in the portfolio

Second, add a tracking error objective as described in Ross'
presentation. 

(along with adding any other objectives or constraints you need in your
portfolio specification)

Third, utilize one of the global numerical solvers, e.g. DEoptim,
random portfolios, genSA, or pso.

The numerical solvers will not search the entire feasible space, but
rather search a subset of the feasible space stochastically.  You
should get acceptably close to the global optimum portfolio using these
methods in finite time.

Regards,

- Brian

On Thu, 2018-03-08 at 16:04 +0000, Alec Schmidt wrote:
> This is a very handy doc indeed. I'm not sure though that examples on
> #29 - #31 address the problem I'm looking into. Namely, I need
> minimum tracking error with explicit constraint on the number of
> stocks that is lower than in the benchmark portfolio. Coleman, Li,
> and Henniger (2004) state that it's NP-hard problem and review a few
> heuristic methods. Is there one implemented in PortfolioAnalytics?
> Thanks much! Alec
> ________________________________________
> From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf
> of Jason Hart <jasonhart4 at icloud.com>
> Sent: Thursday, March 8, 2018 9:46 AM
> To: Brian G. Peterson
> Cc: R-SIG-Finance
> Subject: Re: [R-SIG-Finance]  Minimizing tracking error with
> restricted number of stocks
> 
> Great presentation, thanks for sharing the link
> 
> Sent from my iPad
> 
> > On Mar 7, 2018, at 10:00 PM, Brian G. Peterson <brian at braverock.com
> > > wrote:
> > 
> > > On 03/07/2018 08:39 PM, Alec Schmidt wrote:
> > > Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking'
> > > but didn't find one. Are there any implementation examples?
> > 
> > See Ross Bennett's tutorial from R/Finance 2017:
> > 
> > https://rossb34.github.io/PortfolioAnalyticsPresentation2017/#1
> > 
> > Tracking Error example starts on slide 29, though you should find
> > the rest of the tutorial useful.
> > 
> > - Brian
> > 
> > > ________________________________________
> > > From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on
> > > behalf of Brian G. Peterson <brian at braverock.com>
> > > Sent: Wednesday, March 7, 2018 9:14 PM
> > > To: r-sig-finance at r-project.org
> > > Subject: Re: [R-SIG-Finance]  Minimizing tracking error with
> > > restricted number of stocks
> > > > On 03/07/2018 07:55 PM, Alec Schmidt wrote:
> > > > Say I have a portfolio of 100 stocks and want to find a subset
> > > > of 20 stocks with minimum tracking error in respect to the
> > > > original portfolio. I wonder if a solver to this problem is
> > > > implemented in some R-based library.
> > > 
> > > PortfolioAnalytics can do this.
> > > 
> > 
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R
> > questions should go.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R
> questions should go.
>


From aschmid1 at stevens.edu  Fri Mar  9 03:48:57 2018
From: aschmid1 at stevens.edu (Alec Schmidt)
Date: Fri, 9 Mar 2018 02:48:57 +0000
Subject: [R-SIG-Finance] 
 Minimizing tracking error with restricted number of stocks
In-Reply-To: <1520525580.9109.114.camel@braverock.com>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
 <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>
 ,<12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>
 <1520525051876.38986@stevens.edu>,<1520525580.9109.114.camel@braverock.com>
Message-ID: <1520563736760.45823@stevens.edu>

Thank you Brian,
 position_limit constraint - that's exactly what I needed. But then I guess that's how NP-hard problem looks like: it may need lots of resampling.
Best, Alec
________________________________________
From: Brian G. Peterson <brian at braverock.com>
Sent: Thursday, March 8, 2018 11:13 AM
To: Alec Schmidt; Jason Hart
Cc: R-SIG-Finance
Subject: Re: [R-SIG-Finance]  Minimizing tracking error with restricted number of stocks

Alec,

I do not believe that there is a closed form optimization solution for
what you are trying to do.  In other words, I am agreeing with Coleman
et. al.

That is not the same thing as saying that you can't solve it with
PortfolioAnalytics.

First, add a position_limit constraint setting the number of non-zero
positions that you want in the portfolio

Second, add a tracking error objective as described in Ross'
presentation.

(along with adding any other objectives or constraints you need in your
portfolio specification)

Third, utilize one of the global numerical solvers, e.g. DEoptim,
random portfolios, genSA, or pso.

The numerical solvers will not search the entire feasible space, but
rather search a subset of the feasible space stochastically.  You
should get acceptably close to the global optimum portfolio using these
methods in finite time.

Regards,

- Brian

On Thu, 2018-03-08 at 16:04 +0000, Alec Schmidt wrote:
> This is a very handy doc indeed. I'm not sure though that examples on
> #29 - #31 address the problem I'm looking into. Namely, I need
> minimum tracking error with explicit constraint on the number of
> stocks that is lower than in the benchmark portfolio. Coleman, Li,
> and Henniger (2004) state that it's NP-hard problem and review a few
> heuristic methods. Is there one implemented in PortfolioAnalytics?
> Thanks much! Alec
> ________________________________________
> From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on behalf
> of Jason Hart <jasonhart4 at icloud.com>
> Sent: Thursday, March 8, 2018 9:46 AM
> To: Brian G. Peterson
> Cc: R-SIG-Finance
> Subject: Re: [R-SIG-Finance]  Minimizing tracking error with
> restricted number of stocks
>
> Great presentation, thanks for sharing the link
>
> Sent from my iPad
>
> > On Mar 7, 2018, at 10:00 PM, Brian G. Peterson <brian at braverock.com
> > > wrote:
> >
> > > On 03/07/2018 08:39 PM, Alec Schmidt wrote:
> > > Thank you Brian. I searched PortfolioAnalytics.pdf for 'tracking'
> > > but didn't find one. Are there any implementation examples?
> >
> > See Ross Bennett's tutorial from R/Finance 2017:
> >
> > https://rossb34.github.io/PortfolioAnalyticsPresentation2017/#1
> >
> > Tracking Error example starts on slide 29, though you should find
> > the rest of the tutorial useful.
> >
> > - Brian
> >
> > > ________________________________________
> > > From: R-SIG-Finance <r-sig-finance-bounces at r-project.org> on
> > > behalf of Brian G. Peterson <brian at braverock.com>
> > > Sent: Wednesday, March 7, 2018 9:14 PM
> > > To: r-sig-finance at r-project.org
> > > Subject: Re: [R-SIG-Finance]  Minimizing tracking error with
> > > restricted number of stocks
> > > > On 03/07/2018 07:55 PM, Alec Schmidt wrote:
> > > > Say I have a portfolio of 100 stocks and want to find a subset
> > > > of 20 stocks with minimum tracking error in respect to the
> > > > original portfolio. I wonder if a solver to this problem is
> > > > implemented in some R-based library.
> > >
> > > PortfolioAnalytics can do this.
> > >
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R
> > questions should go.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R
> questions should go.
>


From pankajsbi at yahoo.com  Mon Mar 12 13:52:19 2018
From: pankajsbi at yahoo.com (Pankaj K Agarwal)
Date: Mon, 12 Mar 2018 12:52:19 +0000 (UTC)
Subject: [R-SIG-Finance] Error using Performance Analytics package
References: <1603274456.12175180.1520859139033.ref@mail.yahoo.com>
Message-ID: <1603274456.12175180.1520859139033@mail.yahoo.com>

Dear all,I am using a dataset of monthly asset returns. I subset it with window() call of package zoo. When i try to compute Modified VaR on this subset, i am getting the following error:
Error in dimnames(cd) <- list(as.character(index(x)), colnames(x)) :?? 'dimnames' applied to non-array
Can someone help? I googled it a lot but still nothing seems to be working.
Regards,
Pankaj K Agarwal
+91-98397-11444http://in.linkedin.com/in/pankajkagarwal/

	[[alternative HTML version deleted]]


From josh.m.ulrich at gmail.com  Mon Mar 12 14:00:04 2018
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 12 Mar 2018 08:00:04 -0500
Subject: [R-SIG-Finance] Error using Performance Analytics package
In-Reply-To: <1603274456.12175180.1520859139033@mail.yahoo.com>
References: <1603274456.12175180.1520859139033.ref@mail.yahoo.com>
 <1603274456.12175180.1520859139033@mail.yahoo.com>
Message-ID: <CAPPM_gSCdbHpKdGg9h_nZP0FQUNXSUkXrNeKhMb0kQsD40Uvvg@mail.gmail.com>

It would be easier for others to help you if you provided a
reproducible example.  Here are some tips on how to create one:
https://stackoverflow.com/q/5963269/271616

Also, please follow the posting guide and send plain text emails, not
HTML.  The latter are likely to be mangled by the list server, which
makes them hard to read (and is another impediment to someone trying
to help).

On Mon, Mar 12, 2018 at 7:52 AM, Pankaj K Agarwal via R-SIG-Finance
<r-sig-finance at r-project.org> wrote:
> Dear all,I am using a dataset of monthly asset returns. I subset it with window() call of package zoo. When i try to compute Modified VaR on this subset, i am getting the following error:
> Error in dimnames(cd) <- list(as.character(index(x)), colnames(x)) :   'dimnames' applied to non-array
> Can someone help? I googled it a lot but still nothing seems to be working.
> Regards,
> Pankaj K Agarwal
> +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com
R/Finance 2018 | www.rinfinance.com


From gus.br1990 at gmail.com  Mon Mar 12 17:37:02 2018
From: gus.br1990 at gmail.com (Gus Br)
Date: Mon, 12 Mar 2018 17:37:02 +0100
Subject: [R-SIG-Finance] SJC copula in R
Message-ID: <CACkfrsHp9ks9Dc_Bvd=7_TsfsW9Gd4DXvfFTuDjBe330WgmWMw@mail.gmail.com>

Dear all,

Could you please tell me if there is any package or code available for the
(time-varying) Symmetrized Joe-Clayton copula in R?
In copula package, I think that there is only the Joe-Clayton copula.

Thank you in advance!
Gus

	[[alternative HTML version deleted]]


From erol.biceroglu at alumni.utoronto.ca  Mon Mar 12 17:42:39 2018
From: erol.biceroglu at alumni.utoronto.ca (Erol Biceroglu)
Date: Mon, 12 Mar 2018 16:42:39 +0000
Subject: [R-SIG-Finance] SJC copula in R
In-Reply-To: <CACkfrsHp9ks9Dc_Bvd=7_TsfsW9Gd4DXvfFTuDjBe330WgmWMw@mail.gmail.com>
References: <CACkfrsHp9ks9Dc_Bvd=7_TsfsW9Gd4DXvfFTuDjBe330WgmWMw@mail.gmail.com>
Message-ID: <CACjNfmkojGRhe04m7Wpk4ZktRuUF7_QpqC5Qp7dWp+L2jWQvwQ@mail.gmail.com>

It?s possible the ?VineCopula? package may have what you?re looking for.

Check out the ?BiCop? function documentation for a list of available
copulas.

On Mon, Mar 12, 2018 at 12:37 PM Gus Br <gus.br1990 at gmail.com> wrote:

> Dear all,
>
> Could you please tell me if there is any package or code available for the
> (time-varying) Symmetrized Joe-Clayton copula in R?
> In copula package, I think that there is only the Joe-Clayton copula.
>
> Thank you in advance!
> Gus
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
-- 

Erol Biceroglu
*LinkedIn <http://ca.linkedin.com/in/erolbiceroglu> | Wordpress
<https://propfoliomanagement.wordpress.com/>*

	[[alternative HTML version deleted]]


From abbasi.sal at gmail.com  Mon Mar 12 18:09:47 2018
From: abbasi.sal at gmail.com (Sal Abbasi)
Date: Mon, 12 Mar 2018 12:09:47 -0500
Subject: [R-SIG-Finance] Question on highfrequency package
Message-ID: <F444620A-6A0E-447E-8275-E7B202B066AC@gmail.com>

Hi,

I?m trying to use the highfrequency package and I have a question on Jump detection using the ABDJumpTest function in realized.R which is called from function harModel

Looking at the current code for this function, I see:

ABDJumptest = function(RV, BPV, TQ){ # Comput jump detection stat mentioned in roughing paper
    mu1  = sqrt(2/pi);
    n = length(RV);
    zstat = ((1/n)^(-1/2))*((RV-BPV)/RV)*(  (mu1^(-4) + 2*(mu1^(-2))-5) * pmax( 1,TQ*(BPV^(-2)) )   )^(-1/2); 
    return(zstat);
}

I believe this is trying to implement Equation 18 in this paper: http://www.nber.org/papers/w11775.pdf <http://www.nber.org/papers/w11775.pdf>

If I read the paper correctly, n should be the number of observations per day.  For example if we are passing in 5 minute returns, n should be the number of 5 minute intervals during a trading day.

In the current code, n is being used as the number of days in the set of returns.

Does anybody have any thoughts on this?   I?m new to R-Sig and I?m more of a Python than a R programmer, so if this is the wrong forum, would appreciate someone pointing me to the right forum.

Best,

Sal




	[[alternative HTML version deleted]]


From gus.br1990 at gmail.com  Mon Mar 12 18:18:27 2018
From: gus.br1990 at gmail.com (Gus Br)
Date: Mon, 12 Mar 2018 18:18:27 +0100
Subject: [R-SIG-Finance] SJC copula in R
In-Reply-To: <CACjNfmkojGRhe04m7Wpk4ZktRuUF7_QpqC5Qp7dWp+L2jWQvwQ@mail.gmail.com>
References: <CACkfrsHp9ks9Dc_Bvd=7_TsfsW9Gd4DXvfFTuDjBe330WgmWMw@mail.gmail.com>
 <CACjNfmkojGRhe04m7Wpk4ZktRuUF7_QpqC5Qp7dWp+L2jWQvwQ@mail.gmail.com>
Message-ID: <CACkfrsGi+-9COY4v7+ch2CZL=Vh1xYxdh54f9s8VDeRx2+PCDg@mail.gmail.com>

Dear Erol,

Thank you for your reply. Unfortunately, in VineCopula package, I only find
the Joe-Clayton and the rotated Joe-Clayton copula but not the
Symmetrized.one.


2018-03-12 17:42 GMT+01:00 Erol Biceroglu <erol.biceroglu at alumni.utoronto.ca
>:

> It?s possible the ?VineCopula? package may have what you?re looking for.
>
> Check out the ?BiCop? function documentation for a list of available
> copulas.
>
> On Mon, Mar 12, 2018 at 12:37 PM Gus Br <gus.br1990 at gmail.com> wrote:
>
>> Dear all,
>>
>> Could you please tell me if there is any package or code available for the
>> (time-varying) Symmetrized Joe-Clayton copula in R?
>> In copula package, I think that there is only the Joe-Clayton copula.
>>
>> Thank you in advance!
>> Gus
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
> --
>
> Erol Biceroglu
> *LinkedIn <http://ca.linkedin.com/in/erolbiceroglu> | Wordpress
> <https://propfoliomanagement.wordpress.com/>*
>

	[[alternative HTML version deleted]]


From pankajsbi at yahoo.com  Tue Mar 13 15:30:11 2018
From: pankajsbi at yahoo.com (Pankaj K Agarwal)
Date: Tue, 13 Mar 2018 14:30:11 +0000 (UTC)
Subject: [R-SIG-Finance] Error using Performance Analytics package
In-Reply-To: <CAPPM_gSCdbHpKdGg9h_nZP0FQUNXSUkXrNeKhMb0kQsD40Uvvg@mail.gmail.com>
References: <1603274456.12175180.1520859139033.ref@mail.yahoo.com>
 <1603274456.12175180.1520859139033@mail.yahoo.com>
 <CAPPM_gSCdbHpKdGg9h_nZP0FQUNXSUkXrNeKhMb0kQsD40Uvvg@mail.gmail.com>
Message-ID: <975596120.583531.1520951411291@mail.yahoo.com>

Dear Joshua SirHere is my data and my code:
R Version 3.4.2
1. Data:File:data.csvMonthly returns of 210 assets from April 2006 till March 2015
2. Code:#Reading filedat1<-read.csv("data.csv",header=TRUE,stringsAsFactors=FALSE)#Load zoolibrary(zoo)#Creating a zoo objectdat1.z<-read.zoo(dat1, header = TRUE, FUN =function(x) as.yearmon(format(x, nsmall = 2),"%b-%y"))#Subseting datatestdata<-window(dat1.z,start=as.yearmon("Apr 2006"),end=as.yearmon("Mar 2010"))#Computing VaRlibrary(PerformanceAnalytics)library(PortfolioAnalytics)VaR(as.matrix(testdata)/100,p=0.95,method="modified")
Problem:The last command gives the following output:
Error in dimnames(cd) <- list(as.character(index(x)), colnames(x)) :?? 'dimnames' applied to non-array
Kindly advise how to resolve it.?

Regards,Pankaj K Agarwal
+91-98397-11444http://in.linkedin.com/in/pankajkagarwal/ 

    On Monday, 12 March, 2018, 6:30:27 PM IST, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:  
 
 It would be easier for others to help you if you provided a
reproducible example.? Here are some tips on how to create one:
https://stackoverflow.com/q/5963269/271616

Also, please follow the posting guide and send plain text emails, not
HTML.? The latter are likely to be mangled by the list server, which
makes them hard to read (and is another impediment to someone trying
to help).

On Mon, Mar 12, 2018 at 7:52 AM, Pankaj K Agarwal via R-SIG-Finance
<r-sig-finance at r-project.org> wrote:
> Dear all,I am using a dataset of monthly asset returns. I subset it with window() call of package zoo. When i try to compute Modified VaR on this subset, i am getting the following error:
> Error in dimnames(cd) <- list(as.character(index(x)), colnames(x)) :? 'dimnames' applied to non-array
> Can someone help? I googled it a lot but still nothing seems to be working.
> Regards,
> Pankaj K Agarwal
> +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
>
>? ? ? ? [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich? |? about.me/joshuaulrich
FOSS Trading? |? www.fosstrading.com
R/Finance 2018 | www.rinfinance.com
  
	[[alternative HTML version deleted]]


From pankajsbi at yahoo.com  Tue Mar 13 15:33:17 2018
From: pankajsbi at yahoo.com (Pankaj K Agarwal)
Date: Tue, 13 Mar 2018 14:33:17 +0000 (UTC)
Subject: [R-SIG-Finance] Error in using PerformanceAnalytics package.
References: <1528613891.583868.1520951597994.ref@mail.yahoo.com>
Message-ID: <1528613891.583868.1520951597994@mail.yahoo.com>

Apologies that data file was not attached in the previous mail
Dear Joshua SirHere is my data and my code:
R Version 3.4.2
1. Data:File:data.csvMonthly returns of 210 assets from April 2006 till March 2015
2. Code:#Reading filedat1<-read.csv("data.csv",header=TRUE,stringsAsFactors=FALSE)#Load zoolibrary(zoo)#Creating a zoo objectdat1.z<-read.zoo(dat1, header = TRUE, FUN =function(x) as.yearmon(format(x, nsmall = 2),"%b-%y"))#Subseting datatestdata<-window(dat1.z,start=as.yearmon("Apr 2006"),end=as.yearmon("Mar 2010"))#Computing VaRlibrary(PerformanceAnalytics)library(PortfolioAnalytics)VaR(as.matrix(testdata)/100,p=0.95,method="modified")
Problem:The last command gives the following output:
Error in dimnames(cd) <- list(as.character(index(x)), colnames(x)) :?? 'dimnames' applied to non-array
Kindly advise how to resolve it.?


Regards,Pankaj K Agarwal
+91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180313/21818221/attachment.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: data.csv
Type: application/vnd.ms-excel
Size: 241112 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180313/21818221/attachment.xlb>

From brian at braverock.com  Tue Mar 13 15:49:23 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 13 Mar 2018 09:49:23 -0500
Subject: [R-SIG-Finance] Error using Performance Analytics package
In-Reply-To: <975596120.583531.1520951411291@mail.yahoo.com>
References: <1603274456.12175180.1520859139033.ref@mail.yahoo.com>
 <1603274456.12175180.1520859139033@mail.yahoo.com>
 <CAPPM_gSCdbHpKdGg9h_nZP0FQUNXSUkXrNeKhMb0kQsD40Uvvg@mail.gmail.com>
 <975596120.583531.1520951411291@mail.yahoo.com>
Message-ID: <1520952563.9109.207.camel@braverock.com>

Well, your code is completely mangled by posting in HTML, as Josh told
you would likely happen.

In any case, You haven't provided a reproducible example.

require(PerformanceAnalytics)
data(edhec) # also monthly data
VaR(edhec,
p=0.95, method='modified') 
# the last two parameters are defaults, and
didn't need to be specified

works fine, so I think you need to provide more information.

Your csv data file (as text) could easily be attached to your email, or
posted online somewhere, or added to a github issue on the
PerformanceAnalytics repository, or something.

I don't understand why you are doing as.matrix on your data when you
already have a time series.  You should prefer to use the time series
whenever possible. Just pass 'testdata' to the VaR function

One issue if you were doing component VaR is that you have a rank-
deficient moments matrix. You are windowing only 100-ish months of data
for 216 instruments.  For the univariate calculation in your example,
this shouldn't matter though.

Perhaps you should open a github issue that actually contains all the
information required to examine your problem.

Regards,

Brian

On Tue, 2018-03-13 at 14:30 +0000, Pankaj K Agarwal via R-SIG-Finance
wrote:
> Dear Joshua SirHere is my data and my code:
> R Version 3.4.2
> 1. Data:File:data.csvMonthly returns of 210 assets from April 2006
> till March 2015
> 2. Code:#Reading filedat1<-
> read.csv("data.csv",header=TRUE,stringsAsFactors=FALSE)#Load
> zoolibrary(zoo)#Creating a zoo objectdat1.z<-read.zoo(dat1, header =
> TRUE, FUN =function(x) as.yearmon(format(x, nsmall = 2),"%b-
> %y"))#Subseting datatestdata<-window(dat1.z,start=as.yearmon("Apr
> 2006"),end=as.yearmon("Mar 2010"))#Computing
> VaRlibrary(PerformanceAnalytics)library(PortfolioAnalytics)VaR(as.mat
> rix(testdata)/100,p=0.95,method="modified")
> Problem:The last command gives the following output:
> Error in dimnames(cd) <- list(as.character(index(x)), colnames(x))
> :   'dimnames' applied to non-array
> Kindly advise how to resolve it. 
> 
> Regards,Pankaj K Agarwal
> +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/ 
> 
>     On Monday, 12 March, 2018, 6:30:27 PM IST, Joshua Ulrich <josh.m.
> ulrich at gmail.com> wrote:  
>  
>  It would be easier for others to help you if you provided a
> reproducible example.  Here are some tips on how to create one:
> https://stackoverflow.com/q/5963269/271616
> 
> Also, please follow the posting guide and send plain text emails, not
> HTML.  The latter are likely to be mangled by the list server, which
> makes them hard to read (and is another impediment to someone trying
> to help).
> 
> On Mon, Mar 12, 2018 at 7:52 AM, Pankaj K Agarwal via R-SIG-Finance
> <r-sig-finance at r-project.org> wrote:
> > Dear all,I am using a dataset of monthly asset returns. I subset it
> > with window() call of package zoo. When i try to compute Modified
> > VaR on this subset, i am getting the following error:
> > Error in dimnames(cd) <- list(as.character(index(x)), colnames(x))
> > :  'dimnames' applied to non-array
> > Can someone help? I googled it a lot but still nothing seems to be
> > working.
> > Regards,
> > Pankaj K Agarwal
> > +91-98397-11444http://in.linkedin.com/in/pankajkagarwal/
> > 
> >         [[alternative HTML version deleted]]
> > 
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R
> > questions should go.
> 
> 
>


From erickwy at hotmail.com  Wed Mar 14 20:15:09 2018
From: erickwy at hotmail.com (Woo-Young Kang)
Date: Wed, 14 Mar 2018 19:15:09 +0000
Subject: [R-SIG-Finance] =?iso-2022-jp?b?UmVzdHJpY3Rpb24gdGVzdCAoSDA6IGFs?=
 =?iso-2022-jp?b?cGhhMStiZXRhMSA9IDEsIEgxOmFscGhhMSArIGJldGExIBskQiFiGyhC?=
 =?iso-2022-jp?b?IDEpIG9uIEdBUkNIIG1vZGVsIGluIFIgbm90IHdvcmtpbmc=?=
Message-ID: <DB6P190MB0565D93A255AF76A288EE7D7B7D10@DB6P190MB0565.EURP190.PROD.OUTLOOK.COM>

Dear R-Sig-Finance Committee,


Hi, my name is Woo-Young Kang and I would like to ask a question regarding the "rugarch" package in R program if you don't mind.


The title is "Restriction test (H0: alpha1+beta1 = 1, H1:alpha1 + beta1 $B!b(B 1) on GARCH model in R not working"

which has been raised on the "Stack Exchange - Cross Validated" online questioning community which also deals with R programming issues.


However, even the well-known site administrators were not able to solve this issue.

In the end, they suggested me to ask you which I suppose to be my last resort.


The question is quite long that I am sending the link that leads you to my R programming question as below:

https://stats.stackexchange.com/questions/333256/restriction-test-h0-alpha1beta1-1-h1alpha1-beta1-%e2%89%a0-1-on-garch-model-in


I would greatly appreciate if I can have your precious help on resolving this issue.


Thank you so much in advance.


Sincerely

Woo-Young Kang



	[[alternative HTML version deleted]]


From alexios at 4dscape.com  Thu Mar 15 10:05:59 2018
From: alexios at 4dscape.com (alexios galanos)
Date: Thu, 15 Mar 2018 02:05:59 -0700
Subject: [R-SIG-Finance] 
 =?utf-8?q?Restriction_test_=28H0=3A_alpha1+beta1?=
 =?utf-8?q?_=3D_1=2C_H1=3Aalpha1_+_beta1_=E2=89=A0_1=29_on_GARCH_model_in_?=
 =?utf-8?q?R_not_working?=
In-Reply-To: <DB6P190MB0565D93A255AF76A288EE7D7B7D10@DB6P190MB0565.EURP190.PROD.OUTLOOK.COM>
References: <DB6P190MB0565D93A255AF76A288EE7D7B7D10@DB6P190MB0565.EURP190.PROD.OUTLOOK.COM>
Message-ID: <ac74c675-acc4-0c92-963a-fb79f6145ba1@4dscape.com>

You posted a lot of questions/follow up questions on stack exchange, but 
you have not taken the time to summarize what these are in this forum or 
provide data with which we can replicate the problem. The vignette of 
the package already addresses most of your questions as well as provide 
the suggested forum for posting such questions (here).

I will try to provide a brief summary of your questions:

1. Your restricted model's log likelihood is higher than the 
unrestricted model.
2. You are having trouble understanding how the log likelihood is 
calculated.
3. You do not understand why the beta coefficient in the restricted 
iGARCH model is printed
out and has NA in the standard errors.

As I do not have your dataset, the only comment I can make is that the 
small differences arise from the optimization not reaching an optimal. 
This is already discussed in the vignette and in many previous posts to 
this forum. There are many choices of solver, strategies to help out and 
tuning/tolerance parameters to use. For completeness however I will 
provide a similar example with the package's default dataset which shows 
that this in general works:

######################
library(rugarch)
data(sp500ret)
library(xts)
spx<-xts(as.numeric(sp500ret[,1]), as.Date(rownames(sp500ret)))
# restricted iGARCH model
spec1<-ugarchspec(mean.model=list(armaOrder=c(0,0), archm=TRUE, 
archpow=1), variance.model=list(model="iGARCH"))
# unrestricted sGARCH model
spec2<-ugarchspec(mean.model=list(armaOrder=c(0,0), archm=TRUE, 
archpow=1), variance.model=list(model="sGARCH"))
mod1<-ugarchfit(spec1, spx, solver="solnp")
mod2<-ugarchfit(spec2, spx, solver="solnp")

# restricted LL < unrestricted LL
likelihood(mod1)<likelihood(mod2)
 >TRUE

round(sum(dnorm(spx,mean = fitted(mod1), sd=sigma(mod1), log = 
TRUE)),5)==round(likelihood(mod1),5)
round(sum(dnorm(spx,mean = fitted(mod2), sd=sigma(mod2), log = 
TRUE)),5)==round(likelihood(mod2),5)

So in reply to the 3 questions:
1. Most likely not found the optimal in your dataset for the 
unrestricted model. Try changing the optimization tolerance.
2. Read Section 2.3 (Conditional Distributions) of the vignette and then 
try calculating:
#log(dnorm(residuals(mod1,TRUE))/sigma(mod1))#
as in equation 64 of the vignette to convince yourself that it is 
equivalent to what is shown above.
3. Beta is returned and printed out, but since it is not calculated, the 
standard error is NA. Perhaps it is redundant to print out what beta is 
(since it is imposed to be 1-\alpha), but it is and should not confuse you.

Regards,

Alexios

On 3/14/18 12:15 PM, Woo-Young Kang wrote:
> Dear R-Sig-Finance Committee,
>
>
> Hi, my name is Woo-Young Kang and I would like to ask a question regarding the "rugarch" package in R program if you don't mind.
>
>
> The title is "Restriction test (H0: alpha1+beta1 = 1, H1:alpha1 + beta1 $B!b(B 1) on GARCH model in R not working"
>
> which has been raised on the "Stack Exchange - Cross Validated" online questioning community which also deals with R programming issues.
>
>
> However, even the well-known site administrators were not able to solve this issue.
>
> In the end, they suggested me to ask you which I suppose to be my last resort.
>
>
> The question is quite long that I am sending the link that leads you to my R programming question as below:
>
> https://stats.stackexchange.com/questions/333256/restriction-test-h0-alpha1beta1-1-h1alpha1-beta1-%e2%89%a0-1-on-garch-model-in
>
>
> I would greatly appreciate if I can have your precious help on resolving this issue.
>
>
> Thank you so much in advance.
>
>
> Sincerely
>
> Woo-Young Kang
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From yuzhe369 at hotmail.com  Thu Mar 15 16:48:53 2018
From: yuzhe369 at hotmail.com (=?utf-8?B?5LqOIOWWhg==?=)
Date: Thu, 15 Mar 2018 15:48:53 +0000
Subject: [R-SIG-Finance] Fwd: RV: replicate sigma of the function UGARCHFIT
References: <8514682A5F49BD449F907DE91CD26F1D011E032FAD@SMNMSX900-004.mapfre.net>
Message-ID: <AM0PR0102MB30599238B2BEE0F55D47D51C88D00@AM0PR0102MB3059.eurprd01.prod.exchangelabs.com>






Hi R-sig-finance committee?
I am a R beginner,  wish my primary question will not bother you.
I am using your ugarchfit function to make a garch fit, and I have got replicating the Sigma of the in.sample forecasting but the first sigma (sigma(1))
I tried to calculate the first sigma by treating  the variance of total sample observation and average of  errors respect to mean equation as input, but not the result that the UGARCHFIT     function gives . Would you clarify the input for calculating the first sigma of the in.sample forecasting?

Thanks a lot!
Zhe

	[[alternative HTML version deleted]]


From joerodonnell at gmail.com  Wed Mar 21 01:51:41 2018
From: joerodonnell at gmail.com (Joe O)
Date: Tue, 20 Mar 2018 17:51:41 -0700
Subject: [R-SIG-Finance] Data adjustment question
Message-ID: <CA+BE2NNo6o189PgBwiYFzms7CsJ3JXdQME3i6iyzYB2nSbAm3Q@mail.gmail.com>

Hello,

I've searched the archives and googled around and haven't found an answer
to what seems like a basic OHLC data adjustment question.

It seems there are 5 options for adjusting data via quantmod:
1. For splits only
2. For non-split adjusted dividends only
3. For split adjusted dividends only
4. For both splits and non-split adjusted dividends
5. For both splits and split-adjusted dividends.

Option 5 makes the most intuitive sense to me, but I'm not sure. Is option
5 the usual method used for adjusting data for backtesting? Thanks

	[[alternative HTML version deleted]]


From aschmid1 at stevens.edu  Wed Mar 21 17:40:17 2018
From: aschmid1 at stevens.edu (Alec Schmidt)
Date: Wed, 21 Mar 2018 16:40:17 +0000
Subject: [R-SIG-Finance] input parameters for
 optimize.portfolio.rebalancing() in PortfolioAnalytics
In-Reply-To: <1520525580.9109.114.camel@braverock.com>
References: <1520474119352.56010@stevens.edu>
 <ed493d3a-a7a0-4d39-c263-624387cb0b6f@braverock.com>
 <1520476756408.85376@stevens.edu>
 <94e03e7b-d59f-c98b-90ba-925b82e332e0@braverock.com>
 ,<12D698AB-8BFF-4296-88A7-07E79B69E21B@icloud.com>
 <1520525051876.38986@stevens.edu>,<1520525580.9109.114.camel@braverock.com>
Message-ID: <1521650418588.69763@stevens.edu>

I have a sample of daily portfolio returns and would like to estimate the weights using 252-day periods, starting with the 1st day of the sample, and do rebalancing every 126 days. How do I define the following parameters:
   rebalance_on,
   training_period,
  rolling_window 

Thank you, Alec 

From Sillas.gonzaga at daemoninvestimentos.com.br  Mon Mar 26 13:38:26 2018
From: Sillas.gonzaga at daemoninvestimentos.com.br (Sillas Gonzaga)
Date: Mon, 26 Mar 2018 11:38:26 +0000
Subject: [R-SIG-Finance] Any news about the R/Finance 2018 conference?
Message-ID: <CY1PR1101MB1193F5B6A597319AA7FA93C7AEAD0@CY1PR1101MB1193.namprd11.prod.outlook.com>

http://www.rinfinance.com/


Does anybody know when the registration will be available? The above webpage says it would be open in the spring in March but the month is already ending.



	[[alternative HTML version deleted]]


From brian at braverock.com  Mon Mar 26 13:41:55 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 26 Mar 2018 06:41:55 -0500
Subject: [R-SIG-Finance] Any news about the R/Finance 2018 conference?
In-Reply-To: <CY1PR1101MB1193F5B6A597319AA7FA93C7AEAD0@CY1PR1101MB1193.namprd11.prod.outlook.com>
References: <CY1PR1101MB1193F5B6A597319AA7FA93C7AEAD0@CY1PR1101MB1193.namprd11.prod.outlook.com>
Message-ID: <b09bc7db-c6be-b16a-ee66-9b267749bb08@braverock.com>

On 03/26/2018 06:38 AM, Sillas Gonzaga wrote:
> http://www.rinfinance.com/
> 
> 
> Does anybody know when the registration will be available? The above webpage says it would be open in the spring in March but the month is already ending.

Silas,

We're working on it.

Registration will open 'soon', hopefully this week.

We are looking forward to the tenth year of R/Finance, which attracts 
more than 300 people each year. I hope you can make it.

Regards,

Brian


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From Sillas.gonzaga at daemoninvestimentos.com.br  Mon Mar 26 13:44:13 2018
From: Sillas.gonzaga at daemoninvestimentos.com.br (Sillas Gonzaga)
Date: Mon, 26 Mar 2018 11:44:13 +0000
Subject: [R-SIG-Finance] Any news about the R/Finance 2018 conference?
In-Reply-To: <b09bc7db-c6be-b16a-ee66-9b267749bb08@braverock.com>
References: <CY1PR1101MB1193F5B6A597319AA7FA93C7AEAD0@CY1PR1101MB1193.namprd11.prod.outlook.com>
 <b09bc7db-c6be-b16a-ee66-9b267749bb08@braverock.com>
Message-ID: <CY1PR1101MB1193360C01414578CCFD93BFAEAD0@CY1PR1101MB1193.namprd11.prod.outlook.com>

Brian,

Thank you for the reply. I'm from Brazil, so I need to plan the trip and book the flight tickets quite in advance, that's why I'm asking. Glad to know it's going to be open soon. I'm looking forward to it.

-----Original Message-----
From: Brian G. Peterson [mailto:brian at braverock.com] 
Sent: Monday, March 26, 2018 8:42 AM
To: Sillas Gonzaga <Sillas.gonzaga at daemoninvestimentos.com.br>; r-sig-finance at r-project.org
Subject: Re: [R-SIG-Finance] Any news about the R/Finance 2018 conference?

On 03/26/2018 06:38 AM, Sillas Gonzaga wrote:
> http://www.rinfinance.com/
> 
> 
> Does anybody know when the registration will be available? The above webpage says it would be open in the spring in March but the month is already ending.

Silas,

We're working on it.

Registration will open 'soon', hopefully this week.

We are looking forward to the tenth year of R/Finance, which attracts more than 300 people each year. I hope you can make it.

Regards,

Brian


--
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

From stephen at organicfoodmarkets.com.au  Tue Mar 27 22:41:41 2018
From: stephen at organicfoodmarkets.com.au (Stephen Choularton)
Date: Wed, 28 Mar 2018 07:41:41 +1100
Subject: [R-SIG-Finance] using reqHistoricalData
Message-ID: <01fe9c3a-257b-e843-a4c4-8afdd7cb3062@organicfoodmarkets.com.au>

Hi

I am using this call to obtain the historical data for the SNFE SPI 
future contract.? Here is the full code I am using:

library("IBrokers")
closeAllConnections()

# IBrokersRef()

tws <- twsConnect()
reqCurrentTime(tws)



#contract <- twsFuture('SPI', exch='SNFE', expiry="201703", currency="AUD",|include_expired='1'|)

contract <- twsFuture('SPI', exch='SNFE', expiry="201803", 
currency="AUD", |include_expired='1'|)

reqContractDetails(tws, contract)


Sys.sleep(10) # mandatory 10s between request to avoid IB pacing violation
reqHistoricalData(tws, contract, barSize = "1 day", endDateTime='20180315 16:00:00', duration = "6 M")

and I get this result:

waiting for TWS reply on SPI ...... done.
 ?????????? APH8.Open APH8.High APH8.Low APH8.Close APH8.Volume APH8.WAP 
APH8.hasGaps APH8.Count
2017-09-19????? 5650????? 5650???? 5650?????? 5650?????????? 2 
5650.00??????????? 0????????? 1
2017-10-03????? 5622????? 5622???? 5622?????? 5622?????????? 2 
5622.00??????????? 0????????? 1
2017-10-16????? 5774????? 5774???? 5774?????? 5772?????????? 1 
5774.00??????????? 0????????? 1
2017-11-28????? 5930????? 5953???? 5930?????? 5953?????????? 3 
5937.65??????????? 0????????? 2
2017-12-04????? 5948????? 5948???? 5948?????? 5941?????????? 1 
5948.00??????????? 0????????? 1
2017-12-06????? 5909????? 5909???? 5909?????? 5909?????????? 1 
5909.00??????????? 0????????? 1
2017-12-08????? 5960????? 5960???? 5948?????? 5948?????????? 6 
5952.00??????????? 0????????? 3
2017-12-11????? 5970????? 5970???? 5951?????? 5951????????? 11 
5968.25??????????? 0????????? 7
2017-12-12????? 5958????? 5974???? 5952?????? 5970???????? 173 
5965.10??????????? 0??????? 108
2017-12-13????? 5959????? 5982???? 5957?????? 5975????????? 81 
5973.15??????????? 0???????? 49
2017-12-14????? 5982????? 6012???? 5962?????? 5964???????? 425 
5976.55??????????? 0??????? 234
2017-12-15????? 5958????? 5986???? 5940?????? 5957???????? 245 
5953.70??????????? 0??????? 184
2017-12-16????? 5953????? 5988???? 5953?????? 5980???????? 115 
5971.60??????????? 0???????? 82
2017-12-18????? 5986????? 5994???? 5970?????? 5989??????? 1827 
5988.85??????????? 0?????? 1012
2017-12-19????? 5988????? 6042???? 5988?????? 6029??????? 7575 
6027.75??????????? 0?????? 4799
2017-12-20????? 6032????? 6046???? 6005?????? 6036?????? 16735 
6030.70??????????? 0????? 10465
2017-12-21????? 6036????? 6045???? 6007?????? 6013?????? 24219 
6017.80??????????? 0????? 16695
2017-12-22????? 6013????? 6045???? 6013?????? 6026?????? 18950 
6029.10??????????? 0????? 13816
2017-12-27????? 6019????? 6050???? 6011?????? 6022?????? 15864 
6029.60??????????? 0????? 11133
2017-12-28????? 6022????? 6052???? 6013?????? 6046?????? 21516 
6034.70??????????? 0????? 15445
2017-12-29????? 6045????? 6052???? 6008?????? 6019?????? 24757 
6028.20??????????? 0????? 17056
2018-01-02????? 6019????? 6033???? 5987?????? 6022?????? 19624 
6012.05??????????? 0????? 14487
2018-01-03????? 6023????? 6035???? 6005?????? 6031?????? 25104 
6023.40??????????? 0????? 18833
2018-01-04????? 6031????? 6065???? 6021?????? 6024?????? 30502 
6037.50??????????? 0????? 22464
2018-01-05????? 6026????? 6082???? 6024?????? 6073?????? 29123 
6064.45??????????? 0????? 19788
2018-01-06????? 6075????? 6101???? 6070?????? 6092??????? 6075 
6087.55??????????? 0?????? 4696
2018-01-08????? 6095????? 6104???? 6079?????? 6081?????? 16224 
6086.90??????????? 0????? 12149
2018-01-09????? 6079????? 6105???? 6072?????? 6088?????? 25272 
6091.85??????????? 0????? 19091
2018-01-10????? 6089????? 6114???? 6044?????? 6046?????? 39228 
6072.60??????????? 0????? 27930
2018-01-11????? 6050????? 6055???? 6004?????? 6012?????? 38948 
6024.40??????????? 0????? 27751
2018-01-12????? 6011????? 6038???? 6001?????? 6017?????? 26643 
6021.65??????????? 0????? 19102
2018-01-13????? 6020????? 6054???? 6017?????? 6049??????? 7186 
6033.15??????????? 0?????? 5817
2018-01-15????? 6059????? 6060???? 6023?????? 6026?????? 16203 
6036.50??????????? 0????? 11591
2018-01-16????? 6028????? 6030???? 5990?????? 5991?????? 25578 
6007.20??????????? 0????? 18025
2018-01-17????? 5994????? 6015???? 5945?????? 5959?????? 37579 
5974.70??????????? 0????? 26430
2018-01-18????? 5960????? 5985???? 5937?????? 5951?????? 31683 
5965.85??????????? 0????? 22749
2018-01-19????? 5948????? 5977???? 5946?????? 5949?????? 28451 
5960.65??????????? 0????? 20903
2018-01-20????? 5949????? 5981???? 5949?????? 5980??????? 8208 
5964.80??????????? 0?????? 6587
2018-01-22????? 5973????? 5973???? 5933?????? 5938?????? 23302 
5948.30??????????? 0????? 16328
2018-01-23????? 5942????? 5990???? 5940?????? 5986?????? 27435 
5973.75??????????? 0????? 19193
2018-01-24????? 5989????? 6012???? 5981?????? 6000?????? 28456 
5998.90??????????? 0????? 20244
2018-01-25????? 6000????? 6009???? 5962?????? 5999?????? 31679 
5989.05??????????? 0????? 22431
2018-01-26????? 6000????? 6007???? 5976?????? 5985??????? 8956 
5991.10??????????? 0?????? 6967
2018-01-27????? 5987????? 6016???? 5987?????? 6015??????? 6021 
6003.15??????????? 0?????? 4643
2018-01-29????? 6020????? 6033???? 5999?????? 6010?????? 20523 
6018.10??????????? 0????? 14757
2018-01-30????? 6008????? 6020???? 5958?????? 5960?????? 36140 
5982.90??????????? 0????? 24692
2018-01-31????? 5961????? 5987???? 5920?????? 5980?????? 40809 
5960.15??????????? 0????? 28947
2018-02-01????? 5979????? 6038???? 5968?????? 6037?????? 39409 
6012.55??????????? 0????? 27264
2018-02-02????? 6037????? 6072???? 5999?????? 6071?????? 39430 
6039.40??????????? 0????? 28450
2018-02-03????? 6064????? 6071???? 5997?????? 6006?????? 16093 
6033.60??????????? 0????? 13032
2018-02-05????? 6002????? 6002???? 5958?????? 5961?????? 42093 
5976.80??????????? 0????? 27624
2018-02-06????? 5960????? 5965???? 5732?????? 5763????? 123888 
5810.20??????????? 0????? 89853
2018-02-07????? 5789????? 5881???? 5732?????? 5790?????? 91626 
5819.55??????????? 0????? 67673
2018-02-08????? 5776????? 5851???? 5761?????? 5810?????? 55014 
5805.05??????????? 0????? 41684
2018-02-09????? 5814????? 5818???? 5681?????? 5749?????? 68010 
5761.95??????????? 0????? 51281
2018-02-10????? 5756????? 5767???? 5605?????? 5724?????? 26899 
5701.90??????????? 0????? 21716
2018-02-12????? 5735????? 5776???? 5724?????? 5741?????? 36295 
5748.25??????????? 0????? 25397
2018-02-13????? 5745????? 5805???? 5715?????? 5792?????? 48076 
5773.95??????????? 0????? 34088
2018-02-14????? 5794????? 5817???? 5770?????? 5790?????? 39991 
5794.55??????????? 0????? 29662
2018-02-15????? 5790????? 5869???? 5746?????? 5863?????? 44764 
5829.65??????????? 0????? 32971
2018-02-16????? 5864????? 5892???? 5845?????? 5857?????? 34515 
5868.05??????????? 0????? 25492
2018-02-17????? 5858????? 5878???? 5838?????? 5850?????? 10587 
5857.30??????????? 0?????? 8843
2018-02-19????? 5863????? 5909???? 5841?????? 5903?????? 24088 
5888.25??????????? 0????? 17265
2018-02-20????? 5905????? 5906???? 5855?????? 5905?????? 27148 
5886.75??????????? 0????? 20262
2018-02-21????? 5899????? 5919???? 5864?????? 5915?????? 36287 
5895.35??????????? 0????? 26784
2018-02-22????? 5916????? 5967???? 5891?????? 5914?????? 39681 
5919.00??????????? 0????? 28694
2018-02-23????? 5912????? 5985???? 5907?????? 5973?????? 37903 
5955.25??????????? 0????? 27725
2018-02-24????? 5976????? 6004???? 5967?????? 6004??????? 7494 
5981.35??????????? 0?????? 5928
2018-02-26????? 6005????? 6016???? 5993?????? 6015?????? 26766 
6005.75??????????? 0????? 17412
2018-02-27????? 6012????? 6059???? 6010?????? 6036?????? 37704 
6041.30??????????? 0????? 25322
2018-02-28????? 6037????? 6049???? 5991?????? 6000?????? 43430 
6010.05??????????? 0????? 29415
2018-03-01????? 6000????? 6017???? 5939?????? 5961?????? 42065 
5964.65??????????? 0????? 29407
2018-03-02????? 5966????? 5984???? 5883?????? 5911?????? 55735 
5920.85??????????? 0????? 40967
2018-03-03????? 5911????? 5925???? 5866?????? 5924?????? 14438 
5894.75??????????? 0????? 11996
2018-03-05????? 5928????? 5929???? 5866?????? 5884?????? 27914 
5886.75??????????? 0????? 19864
2018-03-06????? 5885????? 5969???? 5864?????? 5954?????? 42388 
5939.05??????????? 0????? 29752
2018-03-07????? 5958????? 5990???? 5883?????? 5897?????? 43885 
5921.85??????????? 0????? 30871
2018-03-08????? 5894????? 5943???? 5886?????? 5939?????? 41921 
5925.25??????????? 0????? 29409
2018-03-09????? 5942????? 5980???? 5927?????? 5963?????? 36634 
5959.15??????????? 0????? 25163
2018-03-10????? 5966????? 6020???? 5958?????? 6020?????? 11155 
5987.10??????????? 0?????? 8263
2018-03-12????? 6029????? 6032???? 5986?????? 5989?????? 28166 
6007.95??????????? 0????? 17869
2018-03-13????? 5992????? 6011???? 5948?????? 5967?????? 26778 
5975.45??????????? 0????? 18867
2018-03-14????? 5969????? 5990???? 5921?????? 5937?????? 17305 
5941.85??????????? 0????? 13060
2018-03-15????? 5940????? 5962???? 5924?????? 5924??????? 2414 
5943.70??????????? 0?????? 1761

I presume in the early period there were not transactions every day but 
as the volume picks up I notice the data seems to miss Sundays.

I thought these were continuous contracts (24/7) so I'm worried I have 
some setting wrong.? Maybe someone more familiar with the function can 
advise.

Thanks.
----------------------------------------------------------------------------------------------------------------------------------- 

Stephen Choularton PhD, FIoD


From pit.goetz at wiwi.uni-halle.de  Wed Mar 28 12:18:28 2018
From: pit.goetz at wiwi.uni-halle.de (=?UTF-8?B?UGl0IEfDtnR6?=)
Date: Wed, 28 Mar 2018 12:18:28 +0200
Subject: [R-SIG-Finance] CAViaR
Message-ID: <5ABB8814020000F80006C1F2@gwia0.itz.uni-halle.de>

Hello everyone,

since this is my first post here I would like to introduce myself:

My Name is Pit Goetz and I am currently working on my Ph.D. thesis in
finance.
I usually do different stuff, wich is why I ask for help here:


I want to use the CAViaR Model by Engle and Manganelli (2004) in R and I
found the following package for it:

https://github.com/steinarv/quantileVaR

it looks rather similar to the code provided by Manganelli on his
website:

http://www.simonemanganelli.org/Simone/Research.html
At: CAViaR: Conditional Autoregressive Value at Risk by Regression
Quantiles (with Robert Engle), 2004, Journal of Business & Economic
Statistics, 22(4): 367-381


Unfortunytely the R package has only a limited amount of description and
comments, wich is why I am here:

Does anyone have any experience with this package or with CAViaR in R in
general and can help me on how to code or use it?


Best rgards,
Pit Goetz

Research Associate
Martin-Luther-Universit?t Halle-Wittenberg
Chair of Finance & Banking
 
Gro?e Steinstra?e 73 | D-06108 Halle | Germany
Tel 0049 345 5523452

 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20180328/5aa07a70/attachment.html>

From pedro.melo.albuquerque at gmail.com  Wed Mar 28 12:59:58 2018
From: pedro.melo.albuquerque at gmail.com (Pedro Albuquerque)
Date: Wed, 28 Mar 2018 10:59:58 +0000
Subject: [R-SIG-Finance] CAViaR
In-Reply-To: <5ABB8814020000F80006C1F2@gwia0.itz.uni-halle.de>
References: <5ABB8814020000F80006C1F2@gwia0.itz.uni-halle.de>
Message-ID: <CAAQo5owUAxSLFGitVrEkXHYTkiKO13_xVSJ-=JQ24H1qye3WKA@mail.gmail.com>

Hey Pit,
I and my lab implemented some CAViaR parametric forms in R.
Take a look: https://github.com/PedroBSB/Caviar
Cheers.
Pedro

On Wed, Mar 28, 2018, 7:18 AM Pit G?tz <pit.goetz at wiwi.uni-halle.de> wrote:

> Hello everyone,
>
> since this is my first post here I would like to introduce myself:
>
> My Name is Pit Goetz and I am currently working on my Ph.D. thesis in
> finance.
> I usually do different stuff, wich is why I ask for help here:
>
>
> I want to use the CAViaR Model by Engle and Manganelli (2004) in R and I
> found the following package for it:
>
> https://github.com/steinarv/quantileVaR
>
> it looks rather similar to the code provided by Manganelli on his website:
>
> http://www.simonemanganelli.org/Simone/Research.html
> At: CAViaR: Conditional Autoregressive Value at Risk by Regression
> Quantiles (with Robert Engle), 2004, Journal of Business & Economic
> Statistics, 22(4): 367-381
>
>
> Unfortunytely the R package has only a limited amount of description and
> comments, wich is why I am here:
>
> Does anyone have any experience with this package or with CAViaR in R in
> general and can help me on how to code or use it?
>
>
> Best rgards,
> Pit Goetz
>
> Research Associate
>
> *Martin-Luther-Universit?t Halle-Wittenberg*
>
> Chair of Finance & Banking
>
>
>
> Gro?e Steinstra?e 73 | D-06108 Halle | Germany
> Tel 0049 345 5523452
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From siegfried.koestlmeier at gmail.com  Thu Mar 29 18:36:43 2018
From: siegfried.koestlmeier at gmail.com (=?UTF-8?Q?Siegfried_K=c3=b6stlmeier?=)
Date: Thu, 29 Mar 2018 18:36:43 +0200
Subject: [R-SIG-Finance] using reqHistoricalData
In-Reply-To: <01fe9c3a-257b-e843-a4c4-8afdd7cb3062@organicfoodmarkets.com.au>
References: <01fe9c3a-257b-e843-a4c4-8afdd7cb3062@organicfoodmarkets.com.au>
Message-ID: <496c0663-7afe-07d2-cb37-d61e55922eb3@gmail.com>

Hey Stephen,

although the contracts themselves are continuous in time, trading hours 
on a stock exchange are not. I think the function reports the right 
data, so let me mention a possible economic reason for your results:

Stock data is commonly reported only on trading days. Therefore it is 
correct to get a time-series of only trading-day data. Think about e.g. 
closing prices: On a non-trading day it would be the same value as the 
closing price the previous trading day, so the return of any financial 
asset on a non-trading day would be zero. Any estimation of paramaters 
(beta-factor,...) would be biased by these data generated on non-trading 
days. So don't worry about missing data on a sunday.

Best,

Siegfried


Am 27.03.18 um 22:41 schrieb Stephen Choularton:
> Hi
>
> I am using this call to obtain the historical data for the SNFE SPI 
> future contract.? Here is the full code I am using:
>
> library("IBrokers")
> closeAllConnections()
>
> # IBrokersRef()
>
> tws <- twsConnect()
> reqCurrentTime(tws)
>
>
>
> #contract <- twsFuture('SPI', exch='SNFE', expiry="201703", 
> currency="AUD",|include_expired='1'|)
>
> contract <- twsFuture('SPI', exch='SNFE', expiry="201803", 
> currency="AUD", |include_expired='1'|)
>
> reqContractDetails(tws, contract)
>
>
> Sys.sleep(10) # mandatory 10s between request to avoid IB pacing 
> violation
> reqHistoricalData(tws, contract, barSize = "1 day", 
> endDateTime='20180315 16:00:00', duration = "6 M")
>
> and I get this result:
>
> waiting for TWS reply on SPI ...... done.
> ?????????? APH8.Open APH8.High APH8.Low APH8.Close APH8.Volume 
> APH8.WAP APH8.hasGaps APH8.Count
> 2017-09-19????? 5650????? 5650???? 5650?????? 5650?????????? 2 
> 5650.00??????????? 0????????? 1
> 2017-10-03????? 5622????? 5622???? 5622?????? 5622?????????? 2 
> 5622.00??????????? 0????????? 1
> 2017-10-16????? 5774????? 5774???? 5774?????? 5772?????????? 1 
> 5774.00??????????? 0????????? 1
> 2017-11-28????? 5930????? 5953???? 5930?????? 5953?????????? 3 
> 5937.65??????????? 0????????? 2
> 2017-12-04????? 5948????? 5948???? 5948?????? 5941?????????? 1 
> 5948.00??????????? 0????????? 1
> 2017-12-06????? 5909????? 5909???? 5909?????? 5909?????????? 1 
> 5909.00??????????? 0????????? 1
> 2017-12-08????? 5960????? 5960???? 5948?????? 5948?????????? 6 
> 5952.00??????????? 0????????? 3
> 2017-12-11????? 5970????? 5970???? 5951?????? 5951????????? 11 
> 5968.25??????????? 0????????? 7
> 2017-12-12????? 5958????? 5974???? 5952?????? 5970???????? 173 
> 5965.10??????????? 0??????? 108
> 2017-12-13????? 5959????? 5982???? 5957?????? 5975????????? 81 
> 5973.15??????????? 0???????? 49
> 2017-12-14????? 5982????? 6012???? 5962?????? 5964???????? 425 
> 5976.55??????????? 0??????? 234
> 2017-12-15????? 5958????? 5986???? 5940?????? 5957???????? 245 
> 5953.70??????????? 0??????? 184
> 2017-12-16????? 5953????? 5988???? 5953?????? 5980???????? 115 
> 5971.60??????????? 0???????? 82
> 2017-12-18????? 5986????? 5994???? 5970?????? 5989??????? 1827 
> 5988.85??????????? 0?????? 1012
> 2017-12-19????? 5988????? 6042???? 5988?????? 6029??????? 7575 
> 6027.75??????????? 0?????? 4799
> 2017-12-20????? 6032????? 6046???? 6005?????? 6036?????? 16735 
> 6030.70??????????? 0????? 10465
> 2017-12-21????? 6036????? 6045???? 6007?????? 6013?????? 24219 
> 6017.80??????????? 0????? 16695
> 2017-12-22????? 6013????? 6045???? 6013?????? 6026?????? 18950 
> 6029.10??????????? 0????? 13816
> 2017-12-27????? 6019????? 6050???? 6011?????? 6022?????? 15864 
> 6029.60??????????? 0????? 11133
> 2017-12-28????? 6022????? 6052???? 6013?????? 6046?????? 21516 
> 6034.70??????????? 0????? 15445
> 2017-12-29????? 6045????? 6052???? 6008?????? 6019?????? 24757 
> 6028.20??????????? 0????? 17056
> 2018-01-02????? 6019????? 6033???? 5987?????? 6022?????? 19624 
> 6012.05??????????? 0????? 14487
> 2018-01-03????? 6023????? 6035???? 6005?????? 6031?????? 25104 
> 6023.40??????????? 0????? 18833
> 2018-01-04????? 6031????? 6065???? 6021?????? 6024?????? 30502 
> 6037.50??????????? 0????? 22464
> 2018-01-05????? 6026????? 6082???? 6024?????? 6073?????? 29123 
> 6064.45??????????? 0????? 19788
> 2018-01-06????? 6075????? 6101???? 6070?????? 6092??????? 6075 
> 6087.55??????????? 0?????? 4696
> 2018-01-08????? 6095????? 6104???? 6079?????? 6081?????? 16224 
> 6086.90??????????? 0????? 12149
> 2018-01-09????? 6079????? 6105???? 6072?????? 6088?????? 25272 
> 6091.85??????????? 0????? 19091
> 2018-01-10????? 6089????? 6114???? 6044?????? 6046?????? 39228 
> 6072.60??????????? 0????? 27930
> 2018-01-11????? 6050????? 6055???? 6004?????? 6012?????? 38948 
> 6024.40??????????? 0????? 27751
> 2018-01-12????? 6011????? 6038???? 6001?????? 6017?????? 26643 
> 6021.65??????????? 0????? 19102
> 2018-01-13????? 6020????? 6054???? 6017?????? 6049??????? 7186 
> 6033.15??????????? 0?????? 5817
> 2018-01-15????? 6059????? 6060???? 6023?????? 6026?????? 16203 
> 6036.50??????????? 0????? 11591
> 2018-01-16????? 6028????? 6030???? 5990?????? 5991?????? 25578 
> 6007.20??????????? 0????? 18025
> 2018-01-17????? 5994????? 6015???? 5945?????? 5959?????? 37579 
> 5974.70??????????? 0????? 26430
> 2018-01-18????? 5960????? 5985???? 5937?????? 5951?????? 31683 
> 5965.85??????????? 0????? 22749
> 2018-01-19????? 5948????? 5977???? 5946?????? 5949?????? 28451 
> 5960.65??????????? 0????? 20903
> 2018-01-20????? 5949????? 5981???? 5949?????? 5980??????? 8208 
> 5964.80??????????? 0?????? 6587
> 2018-01-22????? 5973????? 5973???? 5933?????? 5938?????? 23302 
> 5948.30??????????? 0????? 16328
> 2018-01-23????? 5942????? 5990???? 5940?????? 5986?????? 27435 
> 5973.75??????????? 0????? 19193
> 2018-01-24????? 5989????? 6012???? 5981?????? 6000?????? 28456 
> 5998.90??????????? 0????? 20244
> 2018-01-25????? 6000????? 6009???? 5962?????? 5999?????? 31679 
> 5989.05??????????? 0????? 22431
> 2018-01-26????? 6000????? 6007???? 5976?????? 5985??????? 8956 
> 5991.10??????????? 0?????? 6967
> 2018-01-27????? 5987????? 6016???? 5987?????? 6015??????? 6021 
> 6003.15??????????? 0?????? 4643
> 2018-01-29????? 6020????? 6033???? 5999?????? 6010?????? 20523 
> 6018.10??????????? 0????? 14757
> 2018-01-30????? 6008????? 6020???? 5958?????? 5960?????? 36140 
> 5982.90??????????? 0????? 24692
> 2018-01-31????? 5961????? 5987???? 5920?????? 5980?????? 40809 
> 5960.15??????????? 0????? 28947
> 2018-02-01????? 5979????? 6038???? 5968?????? 6037?????? 39409 
> 6012.55??????????? 0????? 27264
> 2018-02-02????? 6037????? 6072???? 5999?????? 6071?????? 39430 
> 6039.40??????????? 0????? 28450
> 2018-02-03????? 6064????? 6071???? 5997?????? 6006?????? 16093 
> 6033.60??????????? 0????? 13032
> 2018-02-05????? 6002????? 6002???? 5958?????? 5961?????? 42093 
> 5976.80??????????? 0????? 27624
> 2018-02-06????? 5960????? 5965???? 5732?????? 5763????? 123888 
> 5810.20??????????? 0????? 89853
> 2018-02-07????? 5789????? 5881???? 5732?????? 5790?????? 91626 
> 5819.55??????????? 0????? 67673
> 2018-02-08????? 5776????? 5851???? 5761?????? 5810?????? 55014 
> 5805.05??????????? 0????? 41684
> 2018-02-09????? 5814????? 5818???? 5681?????? 5749?????? 68010 
> 5761.95??????????? 0????? 51281
> 2018-02-10????? 5756????? 5767???? 5605?????? 5724?????? 26899 
> 5701.90??????????? 0????? 21716
> 2018-02-12????? 5735????? 5776???? 5724?????? 5741?????? 36295 
> 5748.25??????????? 0????? 25397
> 2018-02-13????? 5745????? 5805???? 5715?????? 5792?????? 48076 
> 5773.95??????????? 0????? 34088
> 2018-02-14????? 5794????? 5817???? 5770?????? 5790?????? 39991 
> 5794.55??????????? 0????? 29662
> 2018-02-15????? 5790????? 5869???? 5746?????? 5863?????? 44764 
> 5829.65??????????? 0????? 32971
> 2018-02-16????? 5864????? 5892???? 5845?????? 5857?????? 34515 
> 5868.05??????????? 0????? 25492
> 2018-02-17????? 5858????? 5878???? 5838?????? 5850?????? 10587 
> 5857.30??????????? 0?????? 8843
> 2018-02-19????? 5863????? 5909???? 5841?????? 5903?????? 24088 
> 5888.25??????????? 0????? 17265
> 2018-02-20????? 5905????? 5906???? 5855?????? 5905?????? 27148 
> 5886.75??????????? 0????? 20262
> 2018-02-21????? 5899????? 5919???? 5864?????? 5915?????? 36287 
> 5895.35??????????? 0????? 26784
> 2018-02-22????? 5916????? 5967???? 5891?????? 5914?????? 39681 
> 5919.00??????????? 0????? 28694
> 2018-02-23????? 5912????? 5985???? 5907?????? 5973?????? 37903 
> 5955.25??????????? 0????? 27725
> 2018-02-24????? 5976????? 6004???? 5967?????? 6004??????? 7494 
> 5981.35??????????? 0?????? 5928
> 2018-02-26????? 6005????? 6016???? 5993?????? 6015?????? 26766 
> 6005.75??????????? 0????? 17412
> 2018-02-27????? 6012????? 6059???? 6010?????? 6036?????? 37704 
> 6041.30??????????? 0????? 25322
> 2018-02-28????? 6037????? 6049???? 5991?????? 6000?????? 43430 
> 6010.05??????????? 0????? 29415
> 2018-03-01????? 6000????? 6017???? 5939?????? 5961?????? 42065 
> 5964.65??????????? 0????? 29407
> 2018-03-02????? 5966????? 5984???? 5883?????? 5911?????? 55735 
> 5920.85??????????? 0????? 40967
> 2018-03-03????? 5911????? 5925???? 5866?????? 5924?????? 14438 
> 5894.75??????????? 0????? 11996
> 2018-03-05????? 5928????? 5929???? 5866?????? 5884?????? 27914 
> 5886.75??????????? 0????? 19864
> 2018-03-06????? 5885????? 5969???? 5864?????? 5954?????? 42388 
> 5939.05??????????? 0????? 29752
> 2018-03-07????? 5958????? 5990???? 5883?????? 5897?????? 43885 
> 5921.85??????????? 0????? 30871
> 2018-03-08????? 5894????? 5943???? 5886?????? 5939?????? 41921 
> 5925.25??????????? 0????? 29409
> 2018-03-09????? 5942????? 5980???? 5927?????? 5963?????? 36634 
> 5959.15??????????? 0????? 25163
> 2018-03-10????? 5966????? 6020???? 5958?????? 6020?????? 11155 
> 5987.10??????????? 0?????? 8263
> 2018-03-12????? 6029????? 6032???? 5986?????? 5989?????? 28166 
> 6007.95??????????? 0????? 17869
> 2018-03-13????? 5992????? 6011???? 5948?????? 5967?????? 26778 
> 5975.45??????????? 0????? 18867
> 2018-03-14????? 5969????? 5990???? 5921?????? 5937?????? 17305 
> 5941.85??????????? 0????? 13060
> 2018-03-15????? 5940????? 5962???? 5924?????? 5924??????? 2414 
> 5943.70??????????? 0?????? 1761
>
> I presume in the early period there were not transactions every day 
> but as the volume picks up I notice the data seems to miss Sundays.
>
> I thought these were continuous contracts (24/7) so I'm worried I have 
> some setting wrong.? Maybe someone more familiar with the function can 
> advise.
>
> Thanks.
> ----------------------------------------------------------------------------------------------------------------------------------- 
>
> Stephen Choularton PhD, FIoD
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R 
> questions should go.


From abbasi.sal at gmail.com  Thu Mar 29 19:17:01 2018
From: abbasi.sal at gmail.com (Sal Abbasi)
Date: Thu, 29 Mar 2018 12:17:01 -0500
Subject: [R-SIG-Finance] Using quantstrat with options
Message-ID: <F076941E-9FA9-4ABA-BA11-BADEF5125113@gmail.com>

Has anyone used quantstrat with options?  I?ve found lots of examples where people are using it with equities and one where someone is using it with futures but have not been able to find any examples of people using it with options yet.  I?m trying to backtest some index options strategies, and wanted to ask about a pragmatic way of using quantstrat when there are so many symbols involved (one per strike / maturity).   Also there is a lot of market data involved since I?m using 1 minute bars, so I was wondering whether I should create a subset of my market data for the minimum required before feeding it to quantstrat or whether people have done something where quantstrat can look up the data it needs from indexed files on disk as it runs and does not need to hold it in memory.

Best,

Sal

From brian at braverock.com  Thu Mar 29 19:32:16 2018
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 29 Mar 2018 12:32:16 -0500
Subject: [R-SIG-Finance] Using quantstrat with options
In-Reply-To: <F076941E-9FA9-4ABA-BA11-BADEF5125113@gmail.com>
References: <F076941E-9FA9-4ABA-BA11-BADEF5125113@gmail.com>
Message-ID: <1522344736.17100.141.camel@braverock.com>

There should conceptually be no difficulty with lots of symbols and 1-
minute data.  We pretty routinely use quantstrat on tick data or 1-
second data.

We pretty regularly segment our backtests with a loop around the calls
to applyStrategy that load data monthly or quarterly, add symbols to
portfolios or create new portfolios for each segment, and then run that
subset of the overall backtest series.

I do not trade options, so I can't help there, but you should be able
to manage the meta-data for the contracts by adding fields to your
instrument definitions.  If things like tick sizes and multipliers are
set correctly for the root symbol, then the accounting should work.

Regards,

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

On Thu, 2018-03-29 at 12:17 -0500, Sal Abbasi wrote:
> Has anyone used quantstrat with options?  I?ve found lots of examples
> where people are using it with equities and one where someone is
> using it with futures but have not been able to find any examples of
> people using it with options yet.  I?m trying to backtest some index
> options strategies, and wanted to ask about a pragmatic way of using
> quantstrat when there are so many symbols involved (one per strike /
> maturity).   Also there is a lot of market data involved since I?m
> using 1 minute bars, so I was wondering whether I should create a
> subset of my market data for the minimum required before feeding it
> to quantstrat or whether people have done something where quantstrat
> can look up the data it needs from indexed files on disk as it runs
> and does not need to hold it in memory.
> 
> Best,
> 
> Sal
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R
> questions should go.
>


From abbasi.sal at gmail.com  Thu Mar 29 22:06:26 2018
From: abbasi.sal at gmail.com (Sal Abbasi)
Date: Thu, 29 Mar 2018 15:06:26 -0500
Subject: [R-SIG-Finance] Using quantstrat with options
In-Reply-To: <1522344736.17100.141.camel@braverock.com>
References: <F076941E-9FA9-4ABA-BA11-BADEF5125113@gmail.com>
 <1522344736.17100.141.camel@braverock.com>
Message-ID: <5FE72FB1-2B83-486F-A18F-D18DA7B022C3@gmail.com>

Thank you.  Just loaded up a few symbols and it seems to be working great so far.

> On Mar 29, 2018, at 12:32 PM, Brian G. Peterson <brian at braverock.com> wrote:
> 
> There should conceptually be no difficulty with lots of symbols and 1-
> minute data.  We pretty routinely use quantstrat on tick data or 1-
> second data.
> 
> We pretty regularly segment our backtests with a loop around the calls
> to applyStrategy that load data monthly or quarterly, add symbols to
> portfolios or create new portfolios for each segment, and then run that
> subset of the overall backtest series.
> 
> I do not trade options, so I can't help there, but you should be able
> to manage the meta-data for the contracts by adding fields to your
> instrument definitions.  If things like tick sizes and multipliers are
> set correctly for the root symbol, then the accounting should work.
> 
> Regards,
> 
> Brian
> 
> -- 
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
> 
> On Thu, 2018-03-29 at 12:17 -0500, Sal Abbasi wrote:
>> Has anyone used quantstrat with options?  I?ve found lots of examples
>> where people are using it with equities and one where someone is
>> using it with futures but have not been able to find any examples of
>> people using it with options yet.  I?m trying to backtest some index
>> options strategies, and wanted to ask about a pragmatic way of using
>> quantstrat when there are so many symbols involved (one per strike /
>> maturity).   Also there is a lot of market data involved since I?m
>> using 1 minute bars, so I was wondering whether I should create a
>> subset of my market data for the minimum required before feeding it
>> to quantstrat or whether people have done something where quantstrat
>> can look up the data it needs from indexed files on disk as it runs
>> and does not need to hold it in memory.
>> 
>> Best,
>> 
>> Sal
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R
>> questions should go.
>> 


From bogaso.christofer at gmail.com  Fri Mar 30 21:09:23 2018
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Sat, 31 Mar 2018 00:39:23 +0530
Subject: [R-SIG-Finance] Books for FX risk management
Message-ID: <CA+dpOJmj5M9PD4Fx_Ax7maccp8rN8DE-hOtUeCNbR_ovB40eew@mail.gmail.com>

Hi,

I am looking for some good books/materials specializing on Market risk
management for various FX products.

Can you point me to some good reference?

Thanks in advance.


