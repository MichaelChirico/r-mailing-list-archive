From alexios at 4dscape.com  Tue Oct  1 00:24:09 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 30 Sep 2013 23:24:09 +0100
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and
 Ignoring Leverage Constraint
In-Reply-To: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
References: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
Message-ID: <5249FA09.90009@4dscape.com>

1. This works just fine: (LB and UB should be a vector)
myspec<-parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=rep(-0.05,15),UB=rep(0.05,15),budget=0,risk='EV',riskType='minrisk',target=0.0030346)
mysol <- parmasolve(myspec,type='QP')
+---------------------------------+
|        PARMA Portfolio          |
+---------------------------------+
No.Assets               : 15
Problem                 : QP
Risk Measure            : EV
Objective               : minrisk
Risk                    : 3e-07
Reward                  : 0.0030346

    Optimal_Weights
EWG          0.0293
EEM          0.0206
EWL          0.0174
TLT          0.0120
EZA          0.0107
EWA          0.0107
EPP          0.0106
EWC          0.0094
IWO          0.0061
IWN          0.0051
IWF         -0.0078
EWJ         -0.0214
EWU         -0.0221
IWD         -0.0309
EWQ         -0.0500


2. You've set leverage with a quadratic solver. How do you suppose the
absolute value function can be accommodated in this problem?
This works:
myspec <-
parmaspec(scenario=as.matrix(R),forecast=100*abs(colMeans(R)),LB=rep(-0.05,15),UB=rep(0.05,15),leverage=0.1,risk='EV',riskType='minrisk',target=0.0030346)
mysol <- parmasolve(myspec, type='NLP', w0=rep(0.01,15))
sum(abs(weights(mysol)))

i.e. use a scenario matrix instead and solver as NLP (and make sure to
provide a set of starting weights 'w0').


I suppose I should add more checks/warnings.


Regards,

Alexios



On 30/09/2013 22:52, Preston Li wrote:
> *Can someone please tell me why the following is not giving me a solution?*
> 
> 
> if (!is.loaded('etfdata')) data(etfdata)
> 
> R = timeSeries::returns(etfdata)
> 
>> myspec <-
> parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=-0.05,UB=0.05,budget=0,risk='EV',riskType='minrisk',target=0.0030346)
>> mysol <- parmasolve(myspec,type='QP')
>> mysol
> 
> +---------------------------------+
> |        PARMA Portfolio          |
> +---------------------------------+
> No.Assets               : 15
> Problem                 : QP
> Risk Measure            : EV
> Objective               : minrisk
> Risk                    : NA
> Reward                  : NA
> 
> Error in Math.data.frame(list(Optimal_Weights = logical(0)), 4) :
>   non-numeric variable in data frame: Optimal_Weights
> 
> *Whereas if I do the following I get a solution (and why is the "leverage"
> constraint ignored?):*
> 
>> myspec <-
> parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=-0.05,UB=0.05,budget=0,risk='EV',riskType='optimal',leverage=0.1)
>> mysol <- parmasolve(myspec,type='QP')
>> mysol
> 
> +---------------------------------+
> |        PARMA Portfolio          |
> +---------------------------------+
> No.Assets               : 15
> Problem                 : QP
> Risk Measure            : EV
> Objective               : optimal
> Risk                    : 3e-07
> Reward                  : 0.0030346
> 
>     Optimal_Weights
> EWG          0.0293
> EEM          0.0206
> EWL          0.0174
> TLT          0.0120
> EZA          0.0107
> EWA          0.0107
> EPP          0.0106
> EWC          0.0094
> IWO          0.0061
> IWN          0.0051
> IWF         -0.0078
> EWJ         -0.0214
> EWU         -0.0221
> IWD         -0.0309
> EWQ         -0.0500
>> sum(abs(mysol at solution$weight)/2)
> [1] 0.1321498
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From michael.weylandt at gmail.com  Tue Oct  1 02:49:13 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Mon, 30 Sep 2013 20:49:13 -0400
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and
	Ignoring Leverage Constraint
In-Reply-To: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
References: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
Message-ID: <FC4D6252-7E09-45BD-94E4-DD639D7E42D7@gmail.com>



On Sep 30, 2013, at 17:52, Preston Li <preston.li at gmail.com> wrote:

> if (!is.loaded('etfdata')) data(etfdata)

Totally off topic: that doesn't do what you think it does. You're looking for exists()

M


From alexios at 4dscape.com  Tue Oct  1 03:02:27 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 01 Oct 2013 02:02:27 +0100
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and
 Ignoring Leverage Constraint
In-Reply-To: <FC4D6252-7E09-45BD-94E4-DD639D7E42D7@gmail.com>
References: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
	<FC4D6252-7E09-45BD-94E4-DD639D7E42D7@gmail.com>
Message-ID: <524A1F23.9060005@4dscape.com>

That's my mistake from the testing suite of parma...no harm done, since
it always returns FALSE and hence always loaded the required
dataset...now corrected.

Alexios

On 01/10/2013 01:49, Michael Weylandt wrote:
> 
> 
> On Sep 30, 2013, at 17:52, Preston Li <preston.li at gmail.com> wrote:
> 
>> if (!is.loaded('etfdata')) data(etfdata)
> 
> Totally off topic: that doesn't do what you think it does. You're looking for exists()
> 
> M
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From qi.li22 at gmail.com  Tue Oct  1 03:10:49 2013
From: qi.li22 at gmail.com (Qi Li)
Date: Mon, 30 Sep 2013 21:10:49 -0400
Subject: [R-SIG-Finance] Question on IBrokers
Message-ID: <CABQr56UyyUZaKwRy9nsfLmbkMikfRQpxHd0uhX7hhLXL7oiiFA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/7404ceed/attachment.pl>

From chinmay.patil at gmail.com  Tue Oct  1 03:14:57 2013
From: chinmay.patil at gmail.com (Chinmay Patil)
Date: Tue, 1 Oct 2013 09:14:57 +0800
Subject: [R-SIG-Finance] Question on IBrokers
In-Reply-To: <CABQr56UyyUZaKwRy9nsfLmbkMikfRQpxHd0uhX7hhLXL7oiiFA@mail.gmail.com>
References: <CABQr56UyyUZaKwRy9nsfLmbkMikfRQpxHd0uhX7hhLXL7oiiFA@mail.gmail.com>
Message-ID: <CA+kDFFXa8rFZiOvFwoe-ac2OZwb4W00FsWVKUpd0hxPcufCYgA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131001/a7934c93/attachment.pl>

From qi.li22 at gmail.com  Tue Oct  1 03:27:30 2013
From: qi.li22 at gmail.com (Qi Li)
Date: Mon, 30 Sep 2013 21:27:30 -0400
Subject: [R-SIG-Finance] Question on IBrokers
In-Reply-To: <CA+kDFFXa8rFZiOvFwoe-ac2OZwb4W00FsWVKUpd0hxPcufCYgA@mail.gmail.com>
References: <CABQr56UyyUZaKwRy9nsfLmbkMikfRQpxHd0uhX7hhLXL7oiiFA@mail.gmail.com>
	<CA+kDFFXa8rFZiOvFwoe-ac2OZwb4W00FsWVKUpd0hxPcufCYgA@mail.gmail.com>
Message-ID: <CABQr56UezLXcpO_eaV9D2GZ+CTYr1hf5dWkLC6+MVb7UZCG18A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/edf14194/attachment.pl>

From chpmoreno at gmail.com  Tue Oct  1 03:34:06 2013
From: chpmoreno at gmail.com (=?UTF-8?Q?Jos=C3=A9_Fernando_Moreno_Guti=C3=A9rrez?=)
Date: Tue, 1 Oct 2013 01:34:06 +0000 (UTC)
Subject: [R-SIG-Finance] Stay in touch with me through LinkedIn
Message-ID: <665803440.3017868.1380591246479.JavaMail.app@ela4-bed78.prod>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131001/336f8253/attachment.pl>

From preston.li at gmail.com  Tue Oct  1 08:23:19 2013
From: preston.li at gmail.com (Preston Li)
Date: Mon, 30 Sep 2013 23:23:19 -0700
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and
 Ignoring Leverage Constraint
In-Reply-To: <5249FA09.90009@4dscape.com>
References: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
	<5249FA09.90009@4dscape.com>
Message-ID: <CAJYra_iTjQ9evrzfKrRXtPLmPXJACd9uQyaP7wgLumn-CtGbaQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20130930/da5db0e6/attachment.pl>

From alexios at 4dscape.com  Tue Oct  1 12:49:22 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 01 Oct 2013 11:49:22 +0100
Subject: [R-SIG-Finance] Parma Package QP optimization Failing and
 Ignoring Leverage Constraint
In-Reply-To: <CAJYra_iTjQ9evrzfKrRXtPLmPXJACd9uQyaP7wgLumn-CtGbaQ@mail.gmail.com>
References: <CAJYra_g4_Q1wpKykixRU++9wmP5_GkUV04kft-18Sk0eaK82iQ@mail.gmail.com>
	<5249FA09.90009@4dscape.com>
	<CAJYra_iTjQ9evrzfKrRXtPLmPXJACd9uQyaP7wgLumn-CtGbaQ@mail.gmail.com>
Message-ID: <524AA8B2.1070500@4dscape.com>

Nothing (almost) prevents you from doing what the blog post has done in
parma:
##################################################
library(parma)
# get it from r-forge which includes a fix for the eq.mat
# constraint in the QP case (works for Rev. 7)
library(quadprog)
data(etfdata)
library(timeSeries)
R = returns(etfdata)
RB = cbind(R, -R)
V = cov(R)
VV <- rbind( cbind(V,-V), cbind(-V,V) )
VV <- kronecker( matrix(c(1,-1,-1,1), 2), V )
# Make PD by truncation...
e <- eigen(VV)
VV <- e$vectors %*% diag(pmax(1e-12,e$values)) %*% t(e$vectors)
A = matrix(c(rep(1,15),rep(-1,15)), ncol=30)
# budget constraint
b <- 0
# budget constraint in the parmaspec then becomes leverage constraint
spec<-parmaspec(S=VV,forecast=as.numeric(c(100*abs(colMeans(R)),
-100*abs(colMeans(R)))), LB=rep(0,30),UB=rep(0.05,30), eq.mat=A, eqB=b,
budget=0.2,risk='EV',riskType='minrisk',target=0.0030346)

# or don't include the 'budget' constraint
# spec<-parmaspec(S=VV,forecast=as.numeric(c(100*abs(colMeans(R)),
#-100*abs(colMeans(R)))), LB=rep(0,30),UB=rep(0.05,30),
# budget=0.2,risk='EV',riskType='minrisk',target=0.0030346)

mysol <- parmasolve(spec, type='QP')
w = weights(mysol)[1:15] - weights(mysol)[16:30]
# round(w, 5)
0.00000 -0.01722  0.00000  0.00000  0.02495  0.01118  0.00567  0.01648
-0.02124  0.00953  0.00955 -0.04315 -0.01838  0.00413  0.01851
# sum(abs(w))
0.2
# sum(w)
-4.722557e-14
################################################
The solution or not will of course depend on the consistency of the
constraints placed (so no solution likely means inconsistent constraints).

Finally, this particular method of imposing the leverage constraint is
already partially alluded to in the vignette at the bottom of page 18
and a related paper. I am still unsure how stable the approach is (cases
of non PD matrix) and how important the assumptions are.


-Alexios

On 01/10/2013 07:23, Preston Li wrote:
> Thanks, sure you can use NLP.  
> 
> However, in case you are interested a leverage constraint can be handled
> in QP by rewriting the vector to solve for as the sum of a positive and
> negative part. Please
> see http://zoonek.free.fr/blosxom/R/2012-06-01_Optimization.html
> There is an example under "Long-short constraints".
> 
> 
> 
> On Mon, Sep 30, 2013 at 3:24 PM, alexios ghalanos <alexios at 4dscape.com
> <mailto:alexios at 4dscape.com>> wrote:
> 
>     1. This works just fine: (LB and UB should be a vector)
>     myspec<-parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=rep(-0.05,15),UB=rep(0.05,15),budget=0,risk='EV',riskType='minrisk',target=0.0030346)
>     mysol <- parmasolve(myspec,type='QP')
>     +---------------------------------+
>     |        PARMA Portfolio          |
>     +---------------------------------+
>     No.Assets               : 15
>     Problem                 : QP
>     Risk Measure            : EV
>     Objective               : minrisk
>     Risk                    : 3e-07
>     Reward                  : 0.0030346
> 
>         Optimal_Weights
>     EWG          0.0293
>     EEM          0.0206
>     EWL          0.0174
>     TLT          0.0120
>     EZA          0.0107
>     EWA          0.0107
>     EPP          0.0106
>     EWC          0.0094
>     IWO          0.0061
>     IWN          0.0051
>     IWF         -0.0078
>     EWJ         -0.0214
>     EWU         -0.0221
>     IWD         -0.0309
>     EWQ         -0.0500
> 
> 
>     2. You've set leverage with a quadratic solver. How do you suppose the
>     absolute value function can be accommodated in this problem?
>     This works:
>     myspec <-
>     parmaspec(scenario=as.matrix(R),forecast=100*abs(colMeans(R)),LB=rep(-0.05,15),UB=rep(0.05,15),leverage=0.1,risk='EV',riskType='minrisk',target=0.0030346)
>     mysol <- parmasolve(myspec, type='NLP', w0=rep(0.01,15))
>     sum(abs(weights(mysol)))
> 
>     i.e. use a scenario matrix instead and solver as NLP (and make sure to
>     provide a set of starting weights 'w0').
> 
> 
>     I suppose I should add more checks/warnings.
> 
> 
>     Regards,
> 
>     Alexios
> 
> 
> 
>     On 30/09/2013 22:52, Preston Li wrote:
>     > *Can someone please tell me why the following is not giving me a
>     solution?*
>     >
>     >
>     > if (!is.loaded('etfdata')) data(etfdata)
>     >
>     > R = timeSeries::returns(etfdata)
>     >
>     >> myspec <-
>     >
>     parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=-0.05,UB=0.05,budget=0,risk='EV',riskType='minrisk',target=0.0030346)
>     >> mysol <- parmasolve(myspec,type='QP')
>     >> mysol
>     >
>     > +---------------------------------+
>     > |        PARMA Portfolio          |
>     > +---------------------------------+
>     > No.Assets               : 15
>     > Problem                 : QP
>     > Risk Measure            : EV
>     > Objective               : minrisk
>     > Risk                    : NA
>     > Reward                  : NA
>     >
>     > Error in Math.data.frame(list(Optimal_Weights = logical(0)), 4) :
>     >   non-numeric variable in data frame: Optimal_Weights
>     >
>     > *Whereas if I do the following I get a solution (and why is the
>     "leverage"
>     > constraint ignored?):*
>     >
>     >> myspec <-
>     >
>     parmaspec(S=cov(R),forecast=100*abs(colMeans(R)),LB=-0.05,UB=0.05,budget=0,risk='EV',riskType='optimal',leverage=0.1)
>     >> mysol <- parmasolve(myspec,type='QP')
>     >> mysol
>     >
>     > +---------------------------------+
>     > |        PARMA Portfolio          |
>     > +---------------------------------+
>     > No.Assets               : 15
>     > Problem                 : QP
>     > Risk Measure            : EV
>     > Objective               : optimal
>     > Risk                    : 3e-07
>     > Reward                  : 0.0030346
>     >
>     >     Optimal_Weights
>     > EWG          0.0293
>     > EEM          0.0206
>     > EWL          0.0174
>     > TLT          0.0120
>     > EZA          0.0107
>     > EWA          0.0107
>     > EPP          0.0106
>     > EWC          0.0094
>     > IWO          0.0061
>     > IWN          0.0051
>     > IWF         -0.0078
>     > EWJ         -0.0214
>     > EWU         -0.0221
>     > IWD         -0.0309
>     > EWQ         -0.0500
>     >> sum(abs(mysol at solution$weight)/2)
>     > [1] 0.1321498
>     >
>     >       [[alternative HTML version deleted]]
>     >
>     > _______________________________________________
>     > R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org>
>     mailing list
>     > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>     > -- Subscriber-posting only. If you want to post, subscribe first.
>     > -- Also note that this is not the r-help list where general R
>     questions should go.
>     >
>     >
> 
>


From josh.m.ulrich at gmail.com  Wed Oct  2 18:02:38 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Wed, 2 Oct 2013 11:02:38 -0500
Subject: [R-SIG-Finance] Crosses above, crosses below
In-Reply-To: <CAK2H+efnhfGL7AzF_+1KWXVUPeiWpTpuui=wjThkuH+SY5_baA@mail.gmail.com>
References: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
	<CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>
	<CAK2H+eccLBsjdYFu4zHBLXeiJqfr=8CTn0o=GbMpBjCSJC4SsA@mail.gmail.com>
	<CAK2H+efnhfGL7AzF_+1KWXVUPeiWpTpuui=wjThkuH+SY5_baA@mail.gmail.com>
Message-ID: <CAPPM_gTAQmrqAC7J_FQffH4GEWCJKCbtaSkbp3JGvzu_62CSnw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131002/3a0ca08f/attachment.pl>

From markknecht at gmail.com  Wed Oct  2 18:09:56 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Wed, 2 Oct 2013 09:09:56 -0700
Subject: [R-SIG-Finance] Crosses above, crosses below
In-Reply-To: <CAPPM_gTAQmrqAC7J_FQffH4GEWCJKCbtaSkbp3JGvzu_62CSnw@mail.gmail.com>
References: <CAK2H+eeb3q_+D8FXikFvfTFsOz1eLhFMiB58nR9jp=0jSZsChw@mail.gmail.com>
	<CAPPM_gS46x9O8to_miBRDYjOMRMiwVTnmy0k-+z_VguShUAzWA@mail.gmail.com>
	<CAK2H+eccLBsjdYFu4zHBLXeiJqfr=8CTn0o=GbMpBjCSJC4SsA@mail.gmail.com>
	<CAK2H+efnhfGL7AzF_+1KWXVUPeiWpTpuui=wjThkuH+SY5_baA@mail.gmail.com>
	<CAPPM_gTAQmrqAC7J_FQffH4GEWCJKCbtaSkbp3JGvzu_62CSnw@mail.gmail.com>
Message-ID: <CAK2H+eehM4Jf-WoMCym6z_A=r90drmZW0QTA=cGYZiFRL1katg@mail.gmail.com>

On Wed, Oct 2, 2013 at 9:02 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
<SNIP>
>>
> Your original question only asked about a cross above.  If you want to test
> for a cross below, you need to test EMA.10 < EMA.20.
>
> If you want both crosses in one column, you can combine them by checking
> when the diffs of the logical comparisons equal 1.
>
> (diff(EMA.10 > EMA.20)==1) - (diff(EMA.10 < EMA.20)==1)
>
> Now the cross above will be 1 and the cross below will be -1.
>
>>    Again, thanks for the example code. It's helpful.
>>
>> Cheers,
>> Mark

Fair enough. I think this still misses the issue I was concerned about
but I wrote some functions that work the way I want using your inputs
so I'm set for now.

Thanks!

Cheers,
Mark


From bbands at gmail.com  Thu Oct  3 23:57:14 2013
From: bbands at gmail.com (BBands)
Date: Thu, 3 Oct 2013 14:57:14 -0700
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CAGS5yBV61Q-mJz=QkyLrbOOamtqoBk=JcXNY2N3q5zSv9oTBAA@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
	<CAGS5yBV61Q-mJz=QkyLrbOOamtqoBk=JcXNY2N3q5zSv9oTBAA@mail.gmail.com>
Message-ID: <CAGS5yBXpfJxTQc+EkEHLRyhMt9iBKLx1WaUOk4-cbUfXQBkADg@mail.gmail.com>

Hi Jeff,

I downloaded the source via svn, but I can't figure out how to install
it into R. I tried:

install.packages("/home/john/software/rgreeks-read-only/pkg", repos =
NULL, type="source")

without any luck. Hint please.

Thanks,

John




On Tue, Aug 27, 2013 at 8:14 AM, BBands <bbands at gmail.com> wrote:
> Thanks Jeff, that looks interesting. I'll dig in soon.
>
> Was the lightning talk recorded?
>
>      John
>
> On Sun, Aug 25, 2013 at 8:14 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>> Hi John,
>>
>> I have a package that isn't quite 'complete' that might be of use.
>>
>> https://code.google.com/p/rgreeks/



-- 
John Bollinger
www.BollingerBands.com


From josh.m.ulrich at gmail.com  Fri Oct  4 00:20:24 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 3 Oct 2013 17:20:24 -0500
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CAGS5yBXpfJxTQc+EkEHLRyhMt9iBKLx1WaUOk4-cbUfXQBkADg@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
	<CAGS5yBV61Q-mJz=QkyLrbOOamtqoBk=JcXNY2N3q5zSv9oTBAA@mail.gmail.com>
	<CAGS5yBXpfJxTQc+EkEHLRyhMt9iBKLx1WaUOk4-cbUfXQBkADg@mail.gmail.com>
Message-ID: <CAPPM_gQHXJj4ECNtzNT3+NN7FiR_iXhTe1at=QLzYHZ=sN+NoA@mail.gmail.com>

I'm not Jeff, but I'll try to help anyway. :)

Your command works for me (after changing the path).  What error do
you get?  Also, what's the output from sessionInfo() from your R
session?

You can also build/install on the command line via:
R CMD build pkg
R CMD INSTALL greeks_0.5-4.tar.gz

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Thu, Oct 3, 2013 at 4:57 PM, BBands <bbands at gmail.com> wrote:
> Hi Jeff,
>
> I downloaded the source via svn, but I can't figure out how to install
> it into R. I tried:
>
> install.packages("/home/john/software/rgreeks-read-only/pkg", repos =
> NULL, type="source")
>
> without any luck. Hint please.
>
> Thanks,
>
> John
>
>
>
>
> On Tue, Aug 27, 2013 at 8:14 AM, BBands <bbands at gmail.com> wrote:
>> Thanks Jeff, that looks interesting. I'll dig in soon.
>>
>> Was the lightning talk recorded?
>>
>>      John
>>
>> On Sun, Aug 25, 2013 at 8:14 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>>> Hi John,
>>>
>>> I have a package that isn't quite 'complete' that might be of use.
>>>
>>> https://code.google.com/p/rgreeks/
>
>
>
> --
> John Bollinger
> www.BollingerBands.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Thu, Oct 3, 2013 at 4:57 PM, BBands <bbands at gmail.com> wrote:
> Hi Jeff,
>
> I downloaded the source via svn, but I can't figure out how to install
> it into R. I tried:
>
> install.packages("/home/john/software/rgreeks-read-only/pkg", repos =
> NULL, type="source")
>
> without any luck. Hint please.
>
> Thanks,
>
> John
>
>
>
>
> On Tue, Aug 27, 2013 at 8:14 AM, BBands <bbands at gmail.com> wrote:
>> Thanks Jeff, that looks interesting. I'll dig in soon.
>>
>> Was the lightning talk recorded?
>>
>>      John
>>
>> On Sun, Aug 25, 2013 at 8:14 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>>> Hi John,
>>>
>>> I have a package that isn't quite 'complete' that might be of use.
>>>
>>> https://code.google.com/p/rgreeks/
>
>
>
> --
> John Bollinger
> www.BollingerBands.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From bbands at gmail.com  Fri Oct  4 00:20:53 2013
From: bbands at gmail.com (BBands)
Date: Thu, 3 Oct 2013 15:20:53 -0700
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CAGS5yBXpfJxTQc+EkEHLRyhMt9iBKLx1WaUOk4-cbUfXQBkADg@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
	<CAGS5yBV61Q-mJz=QkyLrbOOamtqoBk=JcXNY2N3q5zSv9oTBAA@mail.gmail.com>
	<CAGS5yBXpfJxTQc+EkEHLRyhMt9iBKLx1WaUOk4-cbUfXQBkADg@mail.gmail.com>
Message-ID: <CAGS5yBXsigXP37H58W00w=L8AnAhUaaHh2Ynkb+vZjpZcQ_xcw@mail.gmail.com>

Got it now.

Thanks,

     John

On Thu, Oct 3, 2013 at 2:57 PM, BBands <bbands at gmail.com> wrote:
> Hi Jeff,
>
> I downloaded the source via svn, but I can't figure out how to install
> it into R. I tried:
>
> install.packages("/home/john/software/rgreeks-read-only/pkg", repos =
> NULL, type="source")
>
> without any luck. Hint please.
>
> Thanks,
>
> John
>
>
>
>
> On Tue, Aug 27, 2013 at 8:14 AM, BBands <bbands at gmail.com> wrote:
>> Thanks Jeff, that looks interesting. I'll dig in soon.
>>
>> Was the lightning talk recorded?
>>
>>      John
>>
>> On Sun, Aug 25, 2013 at 8:14 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>>> Hi John,
>>>
>>> I have a package that isn't quite 'complete' that might be of use.
>>>
>>> https://code.google.com/p/rgreeks/
>
>
>
> --
> John Bollinger
> www.BollingerBands.com



-- 
John Bollinger
www.BollingerBands.com


From alec at kensho.com  Fri Oct  4 04:01:03 2013
From: alec at kensho.com (Alec Schmidt)
Date: Thu, 3 Oct 2013 22:01:03 -0400
Subject: [R-SIG-Finance] a problem with external regressors in rugarch
Message-ID: <CADRA5Gs0EjHOi17pHWV32XzqhSZGNeKX4ZLy1x-FB101E0gjBQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131003/a5c51a87/attachment.pl>

From alexios at 4dscape.com  Fri Oct  4 09:51:47 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Fri, 04 Oct 2013 08:51:47 +0100
Subject: [R-SIG-Finance] a problem with external regressors in rugarch
In-Reply-To: <CADRA5Gs0EjHOi17pHWV32XzqhSZGNeKX4ZLy1x-FB101E0gjBQ@mail.gmail.com>
References: <CADRA5Gs0EjHOi17pHWV32XzqhSZGNeKX4ZLy1x-FB101E0gjBQ@mail.gmail.com>
Message-ID: <524E7393.400@4dscape.com>

Alec,

The ugarchfit method calls R's arima in order to quickly calculate a set
of starting values prior to the joint ARMA-GARCH estimation. From
arima's documentation:

"If am xreg term is included, a linear regression (with a constant term
if include.mean is true and there is no differencing) is fitted with an
ARMA model for the error term"

You've included:

1. An intercept (matrix of 1's)...this is how 'include.mean' in arima
routine is interpreted.
2. All the days of the week (X)

This results in perfect multicollinearity, which means that it is not
possible to invert the matrix and solve the problem (which is why
leaving one out works). This is typically known as the "dummy variable
trap".

Therefore:
1. Leave one (day) out
2. Pass a demeaned dataset and set include.mean=FALSE


-Alexios


On 04/10/2013 03:01, Alec Schmidt wrote:
> Hi everyone,
> 
> I'm struggling with adding external regressors X to arma+garch model using
> the following script:
> 
> spec1121ex = ugarchspec(variance.model = list(model = "sGARCH", garchOrder
> = c(2,1)),
>                   mean.model = list(armaOrder = c(1,1), include.mean =
> TRUE, external.regressors = X),
>                   distribution.model = "std")
> 
> fit1121ex<-ugarchfit(data=rt[,1], spec=spec1121ex)
> 
> The regressor matrix X (currently) has the following form:
> 
> head(X)     [,1] [,2] [,3] [,4] [,5]
> [1,]    0    0    0    0    1
> [2,]    1    0    0    0    0
> [3,]    0    1    0    0    0
> [4,]    0    0    1    0    0
> [5,]    0    0    0    1    0
> [6,]    0    0    0    0    1
> 
> 
> When I run ugarchfit, I get an error:
> 
> Error in optim(init[mask], armaCSS, method = optim.method, hessian = TRUE,  :
>   non-finite value supplied by optim
> 
> I make X from the table rtn
> 
>> head(rtn)                    SPY Mon Tue Wed Thu Fri
> 2009-01-05 -0.001189061   1   0   0   0   0
> 2009-01-06  0.006640603   0   1   0   0   0
> 2009-01-07 -0.030479920   0   0   1   0   0
> 2009-01-08  0.004134247   0   0   0   1   0
> 2009-01-09 -0.021711980   0   0   0   0   1
> 2009-01-12 -0.024224590   1   0   0   0   0
> 
>> X<-matrix(cbind(rtn[,2], rtn[,3], rtn[,4], rtn[,5], rtn[,6]), ncol=5)
> 
> Surprisingly sript runs fine if I choose ncol<5, e.g.
>> X<-matrix(cbind(rtn[,3], rtn[,4], rtn[,5], rtn[,6]), ncol=4)
> 
> or
> 
>> X<-matrix(cbind(rtn[,2], rtn[,3], rtn[,4], rtn[,5]), ncol=4)
> 
> Thanks a lot,
>


From sgreiner at factset.com  Fri Oct  4 20:00:30 2013
From: sgreiner at factset.com (Steve Greiner)
Date: Fri, 4 Oct 2013 18:00:30 +0000
Subject: [R-SIG-Finance] multistage gibbs sampler
Message-ID: <D603B8CA9A18844FB6D4BE02C5C764C31AE03223@EXCHMBOXA01.pc.factset.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131004/556f65b5/attachment.pl>

From stu99005 at mail.uni-kiel.de  Sat Oct  5 15:55:24 2013
From: stu99005 at mail.uni-kiel.de (schloni)
Date: Sat, 5 Oct 2013 06:55:24 -0700 (PDT)
Subject: [R-SIG-Finance] Value of risk (system) conditional the event
 bank=value at risk level
Message-ID: <1380981324519-4677672.post@n4.nabble.com>

Dear R-community,

I try to calculate the Value at risk (VaR) of the financial system
conditional the event, that a single bank is on its VaR-level. This is then
called the CoVaR.

The VaR is the 95%-(negative)quantile of a distribution, so it can be
calculated using the rq() regression function.

My first version of the code is shown below. However, it did not work,
because the VaR of the bank is a single value e.g. -0.0038974, but the
weighted average is a vector of 3130 numbers. Furthermore, this approach is
somehow logically wrong, as it should be more like this:

CoVaR <- rq(Xsystem~X, tau=0.05, if X=VaR(X, p = 0.95, method =
c("historical"))) or

CoVaR <- rq(Xsystem~X, tau=0.05, if X=VaRbankq)

Has anybody an idea, how I can solve this?

Thanks a lot!


This is my code:

# PAKETE
sessionInfo()
library(quantreg)                   
library(PerformanceAnalytics)           

# LADEN DER DATEN
weightssystem<-read.csv("systemweightedaveragegrowthrate.csv")# growth rate
total assets ofsystem
x <- read.csv("growthrateMVtotalassetsbank2.csv")                     #
growth rate of total assets of bank2

# DEFINITION
Xsystem <- weightssystem[,1]
X <- x[,1]
length(Xsystem)                                                                         
# length is 3130
length(X)                                                                                   
# length is 3130

# VaR BANK
# 2 Methods
VaRbankq <- quantile(X, 0.05)                                          # 
calculation via the 95%-quantile
VaRbankq
VaRbank <- VaR(X, p = 0.95, method = c("historical"))       #  VaR-function;
gaussian possible
VaRbank 


# VaR SYSTEM CONDITIONAL ON EVENT (BANK=VaR LEVEL): CoVaR
CoVaR <- rq(Xsystem~VaRbank, tau=0.05)                          # this was
my first try            
CoVaR



--
View this message in context: http://r.789695.n4.nabble.com/Value-of-risk-system-conditional-the-event-bank-value-at-risk-level-tp4677672.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From sstoeckl at gmx.de  Sun Oct  6 14:06:50 2013
From: sstoeckl at gmx.de (Diffform)
Date: Sun, 6 Oct 2013 05:06:50 -0700 (PDT)
Subject: [R-SIG-Finance] fPortfolio and tangency portfolio for two assets
Message-ID: <1381061210125-4677700.post@n4.nabble.com>

Hi,

I am trying to optimize a portfolio of two assets (I wanted my students to
confirm the tangency portfolio formula with the results of fPortfolio
optimization):

Setting my portfolio as:
lppData <- PF 
tgSpecL <- portfolioSpec()
setRiskFreeRate(tgSpecL) <- 0
setNFrontierPoints(tgSpecL) <- 50
tgPortfolio1 <- tangencyPortfolio(data = lppData, spec = tgSpecL,
constraints = "LongOnly")
print(tgPortfolio1)
tgPortfolio1EF <- portfolioFrontier(data = lppData, spec = tgSpecL,
constraints = "LongOnly")
tailoredFrontierPlot(tgPortfolio1EF)

I get a tangency line that cuts through the efficient frontier instead of
being tangent to it (and crossing with the sharpe ratio) and thus nothing
that relates at all to what you would compute by hand. Why could this be?

I enclosed the assets returns as csv. I also tried with the short constraint
setting and different risk-free rates but this should not be a problem here.

Thank you for your help,
best regards, Sebastian

Two_Assets.csv <http://r.789695.n4.nabble.com/file/n4677700/Two_Assets.csv>  



--
View this message in context: http://r.789695.n4.nabble.com/fPortfolio-and-tangency-portfolio-for-two-assets-tp4677700.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From robsch at robsch.eu  Tue Oct  8 20:37:59 2013
From: robsch at robsch.eu (Robert Schien)
Date: Tue, 8 Oct 2013 20:37:59 +0200
Subject: [R-SIG-Finance] Questions about IBrokers package
Message-ID: <20131008183759.GA28125@robsch.eu>

Hello,

is it possible with the current IBrokers package to
create spread/combo orders (eg. futures calendar spreads) 
in analogy to the Java API as described in APIprintable.pdf?

And I want to display the spread in a streaming chart.
Two-Minutes charts would be sufficient. I don't need
really real-time.

Which charting package would be good for this purpose
(easy integration of the IBrokers package for the data)?

Where should I start?

Thanks in advance.
Robert


From kk2250 at optonline.net  Wed Oct  9 03:35:28 2013
From: kk2250 at optonline.net (Kris)
Date: Tue, 8 Oct 2013 21:35:28 -0400
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
Message-ID: <4EA177E5-27D9-4FDD-AFBF-877C82B1A693@optonline.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131008/25b7f1ec/attachment.pl>

From kk2250 at optonline.net  Wed Oct  9 03:49:30 2013
From: kk2250 at optonline.net (Kris)
Date: Tue, 08 Oct 2013 21:49:30 -0400
Subject: [R-SIG-Finance] Value of risk (system) conditional the event
 bank=value at risk level
In-Reply-To: <1380981324519-4677672.post@n4.nabble.com>
References: <1380981324519-4677672.post@n4.nabble.com>
Message-ID: <7C9C332D-A8B9-4A18-B032-67BD4218DDF3@optonline.net>


It might help to see the data that you are loading but presumably you have daily data then you
want to compute rolling VaR estimates (with say a 1yr lookback) with that data and then do the quantile regression.

On Oct 5, 2013, at 9:55 AM, schloni wrote:

> Dear R-community,
> 
> I try to calculate the Value at risk (VaR) of the financial system
> conditional the event, that a single bank is on its VaR-level. This is then
> called the CoVaR.
> 
> The VaR is the 95%-(negative)quantile of a distribution, so it can be
> calculated using the rq() regression function.
> 
> My first version of the code is shown below. However, it did not work,
> because the VaR of the bank is a single value e.g. -0.0038974, but the
> weighted average is a vector of 3130 numbers. Furthermore, this approach is
> somehow logically wrong, as it should be more like this:
> 
> CoVaR <- rq(Xsystem~X, tau=0.05, if X=VaR(X, p = 0.95, method =
> c("historical"))) or
> 
> CoVaR <- rq(Xsystem~X, tau=0.05, if X=VaRbankq)
> 
> Has anybody an idea, how I can solve this?
> 
> Thanks a lot!
> 
> 
> This is my code:
> 
> # PAKETE
> sessionInfo()
> library(quantreg)                   
> library(PerformanceAnalytics)           
> 
> # LADEN DER DATEN
> weightssystem<-read.csv("systemweightedaveragegrowthrate.csv")# growth rate
> total assets ofsystem
> x <- read.csv("growthrateMVtotalassetsbank2.csv")                     #
> growth rate of total assets of bank2
> 
> # DEFINITION
> Xsystem <- weightssystem[,1]
> X <- x[,1]
> length(Xsystem)                                                                         
> # length is 3130
> length(X)                                                                                   
> # length is 3130
> 
> # VaR BANK
> # 2 Methods
> VaRbankq <- quantile(X, 0.05)                                          # 
> calculation via the 95%-quantile
> VaRbankq
> VaRbank <- VaR(X, p = 0.95, method = c("historical"))       #  VaR-function;
> gaussian possible
> VaRbank 
> 
> 
> # VaR SYSTEM CONDITIONAL ON EVENT (BANK=VaR LEVEL): CoVaR
> CoVaR <- rq(Xsystem~VaRbank, tau=0.05)                          # this was
> my first try            
> CoVaR
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Value-of-risk-system-conditional-the-event-bank-value-at-risk-level-tp4677672.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From bbands at gmail.com  Thu Oct 10 02:15:05 2013
From: bbands at gmail.com (BBands)
Date: Wed, 9 Oct 2013 17:15:05 -0700
Subject: [R-SIG-Finance] Options solution?
In-Reply-To: <4EA177E5-27D9-4FDD-AFBF-877C82B1A693@optonline.net>
References: <CAGS5yBUsRa3ZGwZENqGLXN+dC7LJWsytLoJ1nvstsJMkaA22Yg@mail.gmail.com>
	<CABDUZc-CCmKm1wEfDgxgvA5ewyYA66tAqSsqn2VcbEAxJZ4jbg@mail.gmail.com>
	<4EA177E5-27D9-4FDD-AFBF-877C82B1A693@optonline.net>
Message-ID: <CAGS5yBWnbaVV24_Zpuy-t+N42RaHLNpfe926E9O_PZwzwR8xug@mail.gmail.com>

That's interesting and I will explore. Thanks. My interest lies in
really short-term options where often the BS values don't seem to make
a lot of sense, so I am looking into different modeling methods. This
was all inspired by the discovery of decent liquidity in the weekly
options and the sort of Xmas-like idea of an expiration a week. Any
thoughts on analysing very sort-term options in R very welcome.

Best,

     John

On Tue, Oct 8, 2013 at 6:35 PM, Kris <kk2250 at optonline.net> wrote:
> Another way to get the greeks besides Jeff's excellent package could be with AD tools in R.
> I just noticed that there was a GSOC to add automatic differentiation in R and
> the package radx on github looks promising.  One could to automagically compute
> greeks on the fly for free.


From sgreiner at factset.com  Thu Oct 10 16:33:25 2013
From: sgreiner at factset.com (Steve Greiner)
Date: Thu, 10 Oct 2013 14:33:25 +0000
Subject: [R-SIG-Finance] AdMit Package
Message-ID: <D603B8CA9A18844FB6D4BE02C5C764C31AE113CD@EXCHMBOXA01.pc.factset.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131010/45feea44/attachment.pl>

From ilya.kipnis at gmail.com  Thu Oct 10 18:26:48 2013
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Thu, 10 Oct 2013 12:26:48 -0400
Subject: [R-SIG-Finance] Several quantstrat questions
Message-ID: <CA+oJuEEb-6mPn=YDrUkKyFZXuJo=HhmAGa+41VkY5M3=5-41Bw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131010/c5380123/attachment.pl>

From ilya.kipnis at gmail.com  Thu Oct 10 23:03:14 2013
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Thu, 10 Oct 2013 17:03:14 -0400
Subject: [R-SIG-Finance] perTradeStats in quantstrat messed up
Message-ID: <CA+oJuEFvhv3oX2G+6K8zr9s2zaTUbUDpNs6Ri_sUOjEPFiL=sw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131010/e069dd22/attachment.pl>

From ecjbosu at aol.com  Sat Oct 12 03:25:39 2013
From: ecjbosu at aol.com (Joe W. Byers)
Date: Fri, 11 Oct 2013 20:25:39 -0500
Subject: [R-SIG-Finance] Code for FOptions GBS Greeks based on Haug 2nd Ed.
Message-ID: <l3a8ea$npd$1@ger.gmane.org>

The following is the GBSStrike delta and ProbITM calculation that could 
be added the fOptions package.

.GBSStrike <- function(TypeFlag, S, X, Time, r, b, sigma) {
     d1 = (log(S / X) + (b + sigma ^ 2 / 2) * Time) / (sigma * sqrt(Time))
     d2 = d1 - sigma * sqrt(Time)
     if (TypeFlag == "c")
         result =  -exp((b - r) * Time) * CND(d2)
     if (TypeFlag == "p")
         result =  exp((b - r) * Time) * (CND(-d2))
     result
}

ProbITM <- function(TypeFlag, S, X, Time, r, b, sigma) {
     d1 = (log(S / X) + (b + sigma ^ 2 / 2) * Time) / (sigma * sqrt(Time))
     d2 = d1 - sigma * sqrt(Time)
     if (TypeFlag == "c")
         result =  CND(d2)
     if (TypeFlag == "p")
         result =  CND(-d2)
     result
}

Thanks
Joe W Byers


From arun25558038 at gmail.com  Sat Oct 12 21:53:06 2013
From: arun25558038 at gmail.com (Arun Kumar Saha)
Date: Sun, 13 Oct 2013 01:38:06 +0545
Subject: [R-SIG-Finance] How to interpret this formula?
Message-ID: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131013/d4f462c2/attachment.pl>

From michael.weylandt at gmail.com  Sat Oct 12 22:03:14 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Sat, 12 Oct 2013 16:03:14 -0400
Subject: [R-SIG-Finance] How to interpret this formula?
In-Reply-To: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>
References: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>
Message-ID: <E11A4CC4-5B70-46BB-83C3-98613020955A@gmail.com>

I'll admit it seems rather fishy --
impossible perhaps to have something 'implied' by the option price without the option price in the formula -- but it's a hair off-topic for an _R_ finance list. 

Perhaps quant stackexchange would work? But unless you're willing to share your reference, I doubt folks there will be able to help you much. 

In general, if you want folks to help you understand what you are reading you should tell them what you are reading in the question. 

Michael

On Oct 12, 2013, at 15:53, Arun Kumar Saha <arun25558038 at gmail.com> wrote:

> Hi,
> 
> I have come across a formula to calculate the Option implied skewness which
> is calculated as (Strike/underlying's price - 1)
> 
> Has anyone come across a similar type of formula?
> 
> Can somebody please explain how can I derive that? Any online
> reference/paper is highly appreciated.
> 
> Thanks and regards,
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From ecjbosu at aol.com  Sat Oct 12 23:37:28 2013
From: ecjbosu at aol.com (Joe W. Byers)
Date: Sat, 12 Oct 2013 16:37:28 -0500
Subject: [R-SIG-Finance] How to interpret this formula?
In-Reply-To: <E11A4CC4-5B70-46BB-83C3-98613020955A@gmail.com>
References: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>
	<E11A4CC4-5B70-46BB-83C3-98613020955A@gmail.com>
Message-ID: <5259C118.2050001@aol.com>

Arun,

This is a Moneyness calculation for options to normalize a set of 
options at a standard reference location around 0.  it is not an options 
implied skewness, though most literature on option implied skews use a 
normalization metric of this type.

I used it in my dissertation and originally saw it in works by Derman, 
etal of Goldman Sachs.  Other common normalizations are a delta 
equivalent at pre-set intervals: +/-5%, +.-10% around ATM delta, or 10, 
25, 50, 75, 90 deltas.

Good Luck
Joe W. Byers

On 10/12/2013 03:03 PM, R. Michael Weylandt <michael.weylandt at gmail.com> 
wrote:
> I'll admit it seems rather fishy --
> impossible perhaps to have something 'implied' by the option price without the option price in the formula -- but it's a hair off-topic for an _R_ finance list.
>
> Perhaps quant stackexchange would work? But unless you're willing to share your reference, I doubt folks there will be able to help you much.
>
> In general, if you want folks to help you understand what you are reading you should tell them what you are reading in the question.
>
> Michael
>
> On Oct 12, 2013, at 15:53, Arun Kumar Saha <arun25558038 at gmail.com> wrote:
>
>> Hi,
>>
>> I have come across a formula to calculate the Option implied skewness which
>> is calculated as (Strike/underlying's price - 1)
>>
>> Has anyone come across a similar type of formula?
>>
>> Can somebody please explain how can I derive that? Any online
>> reference/paper is highly appreciated.
>>
>> Thanks and regards,
>>
>>     [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
>


From bbands at gmail.com  Sun Oct 13 02:14:05 2013
From: bbands at gmail.com (BBands)
Date: Sat, 12 Oct 2013 17:14:05 -0700
Subject: [R-SIG-Finance] How to interpret this formula?
In-Reply-To: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>
References: <CABBdtSkFUieAeWv4Z5M5a3heQccV94kZ0VBc4ndDbjY9y3Acmg@mail.gmail.com>
Message-ID: <CAGS5yBWezkgkWxuDYDBBV_pCaAuJ2Hy+YqY+1=7_iBOsQ2=j7w@mail.gmail.com>

I originally saw it this way,
    Actual/strike -1
which is the % in the money.

I modified that to:
if actual >= strike then
    actual/strike -1
else
    strike/actual - 1
endif

>From a trading perspective that makes sense as it gives you the
correct reversible round-trip distance, which is quite useful, but
skewness it ain't.

Best,

     John

On Sat, Oct 12, 2013 at 12:53 PM, Arun Kumar Saha
<arun25558038 at gmail.com> wrote:
> Hi,
>
> I have come across a formula to calculate the Option implied skewness which
> is calculated as (Strike/underlying's price - 1)
>
> Has anyone come across a similar type of formula?
>
> Can somebody please explain how can I derive that? Any online
> reference/paper is highly appreciated.


From eric.thungstrom at gmail.com  Tue Oct 15 04:31:44 2013
From: eric.thungstrom at gmail.com (Eric Thungstom)
Date: Mon, 14 Oct 2013 22:31:44 -0400
Subject: [R-SIG-Finance] Portfolio Optimization with tawny package
Message-ID: <CACv3XEAjhcjm05i2Qt6pirfwO96WK9VVhJTHz34ATuexJaA9cg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131014/2c9b3f61/attachment.pl>

From optionsraghu at gmail.com  Tue Oct 15 11:53:35 2013
From: optionsraghu at gmail.com (Raghuraman Ramachandran)
Date: Tue, 15 Oct 2013 10:53:35 +0100
Subject: [R-SIG-Finance] Contract Work
Message-ID: <CADgEnDmyp-n=rXTZ+F4tQmXD7vUVBrKo9qXfQ7wew54ZHrCE5A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131015/e760f2c2/attachment.pl>

From rowe at muxspace.com  Tue Oct 15 13:39:26 2013
From: rowe at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 15 Oct 2013 07:39:26 -0400
Subject: [R-SIG-Finance] Portfolio Optimization with tawny package
In-Reply-To: <CACv3XEAjhcjm05i2Qt6pirfwO96WK9VVhJTHz34ATuexJaA9cg@mail.gmail.com>
References: <CACv3XEAjhcjm05i2Qt6pirfwO96WK9VVhJTHz34ATuexJaA9cg@mail.gmail.com>
Message-ID: <8C7FC7AD-F03D-4BE0-A0F9-6F8202174318@muxspace.com>

Eric:

The best way to use an alternate optimizer over the default is to take the denoised correlation matrix and pass it to another optimizer. 

p <- TawnyPortfolio(h, 90)
ws.2 <- denoise(p, RandomMatrixDenoiser())

The focus of tawny is really on cleaning covariance and correlation matrices, so I've only included a very basic optimization method. I am working on some improvements to the package, and most of the enhancements are tied to improving and generalizing the implementations for shrinkage and random matrix theory, along with better analysis tools and integration with simulated time series. (If you have any requests, feel free to let me know.)

As for portfolio optimization, the fPortfolio package used to offer numerous techniques, although I'm not sure where the state of the art is these days. You can always roll your own and implement an optimizer with linear or quadratic programming that has the constraints you are looking for.

Warm Regards,
Brian


On Oct 14, 2013, at 10:31 PM, Eric Thungstom <eric.thungstrom at gmail.com> wrote:

> I'm just starting to use the tawny to do portfolio optimization. I;m
> wondering if there is a way to force the optimization to not allow short
> selling. If I use the package example:
> 
> require(tawny)
> data(sp500.subset)
> h <- sp500.subset
> ws.1 <-optimizePortfolio(h, 150, RandomMatrixDenoiser())
> 
> 
> head(ws.1[,1:5])
>                 [,1]      [,2]          [,3]        [,4]         [,5]
> 2008-12-15 0.09248187 0.2088942 -0.0028581226 -0.05568185 -0.011270020
> 2008-12-16 0.09312921 0.2184338 -0.0041928798 -0.05388050 -0.007905639
> 2008-12-17 0.09697907 0.2152621  0.0004219331 -0.05719625 -0.007520671
> 2008-12-18 0.10532884 0.2226241 -0.0004360120 -0.05933589 -0.008948998
> 2008-12-19 0.10566713 0.2241632 -0.0001421756 -0.05808452 -0.008664915
> 2008-12-22 0.10716821 0.2256598  0.0020645245 -0.05588680 -0.005201937
> 
> Npte some of the portfolio weights are negative implying short selling.
> 
> The package works great but not sure how I could determine the optimum
> portfolio given a "no short selling" criteria.
> 
> Thanks in advance for your comments
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From brian at braverock.com  Tue Oct 15 14:11:23 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 15 Oct 2013 07:11:23 -0500
Subject: [R-SIG-Finance] R/Finance 2014 Call for Papers
Message-ID: <525D30EB.3000706@braverock.com>

Call for Papers:

R/Finance 2014: Applied Finance with R
May 16 and 17, 2014
University of Illinois at Chicago

The sixth annual R/Finance conference for applied finance using R will
be held on May 16 and 17, 2014 in Chicago, IL, USA at the University
of Illinois at Chicago.  The conference will cover topics including
portfolio management, time series analysis, advanced risk tools,
high-performance computing, market microstructure, and econometrics.
All will be discussed within the context of using R as a primary tool
for financial risk management, portfolio construction, and trading.

Over the past five years, R/Finance has included attendees from around
the world. It has featured presentations from prominent academics and
practitioners, and we anticipate another exciting line-up for 2014.

We invite you to submit complete papers in pdf format for
consideration. We will also consider one-page abstracts (in txt or pdf
format), although more complete papers are preferred.  We welcome
submissions for both full talks and abbreviated "lightning talks".
Both academic and practitioner proposals related to R are encouraged.

Presenters are strongly encouraged to provide working R code to
accompany the presentation/paper.  Data sets should also be made
public for the purposes of reproducibility (though we realize this may
be limited due to contracts with data vendors). Preference may be
given to presenters who have released R packages.

The conference will award two (or more) $1000 prizes for best papers.
A submission must be a full paper to be eligible for a best paper
award. Extended abstracts, even if a full paper is provided by
conference time, are not eligible for a best paper award.  Financial
assistance for travel and accommodation may be available to presenters
at the discretion of the conference committee. Requests for assistance
should be made at the time of submission.

Please submit your papers or abstracts online at: http://goo.gl/OmKnu7
The submission deadline is January 31, 2014. Submitters will be
notified of acceptance, whether a presentation will be a long
presentation or a lightning talk, and a decision on any requested
funding will be made via email by February 28, 2014.

Additional details will be announced via the conference website
http://www.RinFinance.com/ as they become available. Information on
previous years' presenters and their presentations are also at the
conference website.

For the program committee:
Gib Bassett, Peter Carl, Dirk Eddelbuettel,
Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich


From rossbennett34 at gmail.com  Tue Oct 15 16:15:35 2013
From: rossbennett34 at gmail.com (Ross Bennett)
Date: Tue, 15 Oct 2013 07:15:35 -0700
Subject: [R-SIG-Finance] Portfolio Optimization with tawny package
Message-ID: <CAEESW=WgtDKKBfJs9XV-CfKzdc3A5j1hyA-8k_VoB53jW6kFiw@mail.gmail.com>

Hi Eric,

I'm not familiar with doing portfolio optimization with the Tawny
package, but the PortfolioAnalytics is designed to do just what you
are asking and a lot more.

The PortfolioAnalytics package is on R-forge and can be built and
installed following directions in this Stack Overflow post.
http://stackoverflow.com/questions/11105131/cannot-install-r-forge-package-using-install-packages?rq=1

I would encourage you to read the demos and vignettes which contain
more detailed and several additional examples.

library(PortfolioAnalytics)
library(ROI) # from CRAN
library(ROI.plugin.glpk) # from CRAN
library(ROI.plugin.quadprog) # from r-forge

data(edhec)
R <- edhec[, 1:5]
funds <- colnames(R)

# Create initial portfolio with basic constraints
init.portf <- portfolio.spec(assets=funds)
init.portf <- add.constraint(portfolio=init.portf, type="full_investment")
init.portf <- add.constraint(portfolio=init.portf, type="long_only")

# Create new portfolio from init.portf and add objective to minimize
standard deviation
minSD.portf <- add.objective(portfolio=init.portf, type="risk", name="StdDev")

# Set up portfolio to maximize mean per ES
meanES.portf <- add.objective(portfolio=init.portf, type="return", name="mean")
meanES.portf <- add.objective(portfolio=meanES.portf, type="risk", name="ES")

# View the constraints and objectives of each portfolio
print(minSD.portf)
print(meanES.portf)

# Run the optimization for the minimum standard deviation portfolio
minSD.opt <- optimize.portfolio(R=R, portfolio=minSD.portf,
optimize_method="ROI", trace=TRUE)
print(minSD.opt)

# Run the optimization for the maximize mean per ES portfolio
meanES.opt <- optimize.portfolio(R=R, portfolio=meanES.portf,
optimize_method="ROI", trace=TRUE)
print(meanES.opt)

Hope that helps, let me know if you have any more questions.
Ross

On Tue, Oct 15, 2013 at 3:00 AM, <r-sig-finance-request at r-project.org> wrote:
>
> Message: 1
> Date: Mon, 14 Oct 2013 22:31:44 -0400
> From: Eric Thungstom <eric.thungstrom at gmail.com>
> To: R-SIG-Finance at r-project.org
> Subject: [R-SIG-Finance] Portfolio Optimization with tawny package
> Message-ID:
>         <CACv3XEAjhcjm05i2Qt6pirfwO96WK9VVhJTHz34ATuexJaA9cg at mail.gmail.com>
> Content-Type: text/plain
>
> I'm just starting to use the tawny to do portfolio optimization. I;m
> wondering if there is a way to force the optimization to not allow short
> selling. If I use the package example:
>
> require(tawny)
> data(sp500.subset)
> h <- sp500.subset
> ws.1 <-optimizePortfolio(h, 150, RandomMatrixDenoiser())
>
>
> head(ws.1[,1:5])
>                  [,1]      [,2]          [,3]        [,4]         [,5]
> 2008-12-15 0.09248187 0.2088942 -0.0028581226 -0.05568185 -0.011270020
> 2008-12-16 0.09312921 0.2184338 -0.0041928798 -0.05388050 -0.007905639
> 2008-12-17 0.09697907 0.2152621  0.0004219331 -0.05719625 -0.007520671
> 2008-12-18 0.10532884 0.2226241 -0.0004360120 -0.05933589 -0.008948998
> 2008-12-19 0.10566713 0.2241632 -0.0001421756 -0.05808452 -0.008664915
> 2008-12-22 0.10716821 0.2256598  0.0020645245 -0.05588680 -0.005201937
>
> Npte some of the portfolio weights are negative implying short selling.
>
> The package works great but not sure how I could determine the optimum
> portfolio given a "no short selling" criteria.
>
> Thanks in advance for your comments
>
>         [[alternative HTML version deleted]]
>
>
>
> ------------------------------
>


From qi.li22 at gmail.com  Tue Oct 15 16:32:29 2013
From: qi.li22 at gmail.com (Qi Li)
Date: Tue, 15 Oct 2013 10:32:29 -0400
Subject: [R-SIG-Finance] Place limit orders using IBrokers
Message-ID: <CABQr56UkMmTJoEp1xSJD8F3K1L4ZHk26gLzUvCC5BPWLWo61Ug@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131015/8a1f98e9/attachment.pl>

From wlmr at zhaw.ch  Wed Oct 16 07:44:24 2013
From: wlmr at zhaw.ch (Wildi Marc (wlmr))
Date: Wed, 16 Oct 2013 05:44:24 +0000
Subject: [R-SIG-Finance] R/Finance and overview on latest results
Message-ID: <E2339A3600811248AB525B8FAB3A1BCEAAE06EFB@srv-mail-101.zhaw.ch>

Brian,

R-finance would be a good opportunity to meet. Kent and I are planning to attend (maybe presenting something presentable: maybe we present ALL THREE something presentable). 

A few words about latest work/progress.

We have several types of `products' (some of them in advanced Evolution, others still in the limbs):

1. MDFA i.e. pure Signal extraction: `lil gem'.
2. Tools for detecting draw-downs based on statistical Analysis (my last document sent to Kent: i can send it to you too if you like but it's in `raw' form).
3. Enhancers (previously named tricks) which improve Performances of an original algorithm based on statistical Analysis. We now have two simple enhancers ready - enhancer 1 and 3 (2 is still in Progress) - (based on statistical analysis) for `lil gem'. We now verify effects when ported into deltix.

In contrast to product 1 (MDFA) products 2 (diagnostics/alarms) and 3 (enhancers) are likely to be generic:
-they could be applied to any running algorithm
-all we Need to know (from you) is the Price series series and the ime Points of sells/buys.
-You'd get from us diagnostics Tools and/or enhancers (without even knowing the exact trading algorithm).

So we have a vertically integrated product (MDA+diagnostics+enhancers) and some generic meta products (diagnostics, enhancers) which might possibly be applied accross a range of algorithms (including MDFA but not restricted to the latter).

If you want to receive latest results please tell me (but be Aware that they are in raw form). 

Btw: my Editor puts randomly capitals in the text due to german editing-settings. If only I knew how to Change Settings!

________________________________________
Von: r-sig-finance-bounces at r-project.org [r-sig-finance-bounces at r-project.org]&quot; im Auftrag von &quot;Brian G. Peterson [brian at braverock.com]
Gesendet: Dienstag, 15. Oktober 2013 14:11
An: R-SIG-Finance
Betreff: [R-SIG-Finance] R/Finance 2014 Call for Papers

Call for Papers:

R/Finance 2014: Applied Finance with R
May 16 and 17, 2014
University of Illinois at Chicago

The sixth annual R/Finance conference for applied finance using R will
be held on May 16 and 17, 2014 in Chicago, IL, USA at the University
of Illinois at Chicago.  The conference will cover topics including
portfolio management, time series analysis, advanced risk tools,
high-performance computing, market microstructure, and econometrics.
All will be discussed within the context of using R as a primary tool
for financial risk management, portfolio construction, and trading.

Over the past five years, R/Finance has included attendees from around
the world. It has featured presentations from prominent academics and
practitioners, and we anticipate another exciting line-up for 2014.

We invite you to submit complete papers in pdf format for
consideration. We will also consider one-page abstracts (in txt or pdf
format), although more complete papers are preferred.  We welcome
submissions for both full talks and abbreviated "lightning talks".
Both academic and practitioner proposals related to R are encouraged.

Presenters are strongly encouraged to provide working R code to
accompany the presentation/paper.  Data sets should also be made
public for the purposes of reproducibility (though we realize this may
be limited due to contracts with data vendors). Preference may be
given to presenters who have released R packages.

The conference will award two (or more) $1000 prizes for best papers.
A submission must be a full paper to be eligible for a best paper
award. Extended abstracts, even if a full paper is provided by
conference time, are not eligible for a best paper award.  Financial
assistance for travel and accommodation may be available to presenters
at the discretion of the conference committee. Requests for assistance
should be made at the time of submission.

Please submit your papers or abstracts online at: http://goo.gl/OmKnu7
The submission deadline is January 31, 2014. Submitters will be
notified of acceptance, whether a presentation will be a long
presentation or a lightning talk, and a decision on any requested
funding will be made via email by February 28, 2014.

Additional details will be announced via the conference website
http://www.RinFinance.com/ as they become available. Information on
previous years' presenters and their presentations are also at the
conference website.

For the program committee:
Gib Bassett, Peter Carl, Dirk Eddelbuettel,
Brian Peterson, Dale Rosenthal, Jeffrey Ryan, Joshua Ulrich

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.

From a.pardew81 at gmail.com  Wed Oct 16 11:05:23 2013
From: a.pardew81 at gmail.com (Alan Pardew)
Date: Wed, 16 Oct 2013 10:05:23 +0100
Subject: [R-SIG-Finance] Importing and exporting portfolio with blotter
Message-ID: <CACNKWgAZV10i3or_3ooRP+L9ojyUdoU2y7sz-nsbsTsix7pyMw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131016/c569cd48/attachment.pl>

From brian at braverock.com  Wed Oct 16 14:30:51 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 16 Oct 2013 07:30:51 -0500
Subject: [R-SIG-Finance] Importing and exporting portfolio with blotter
In-Reply-To: <CACNKWgAZV10i3or_3ooRP+L9ojyUdoU2y7sz-nsbsTsix7pyMw@mail.gmail.com>
References: <CACNKWgAZV10i3or_3ooRP+L9ojyUdoU2y7sz-nsbsTsix7pyMw@mail.gmail.com>
Message-ID: <525E86FB.3020700@braverock.com>

On 10/16/2013 04:05 AM, Alan Pardew wrote:
> I can't find a satisfactory answer to this so decide to post here. We wish
> to possibly start using R to manage some portfolios with fairly low
> frequency transactions (say a few a week in each portfolio). Currently we
> have some custom stuff written in Python but I am starting an investigation
> into R as it has some nice features we want to take advantage of without
> reinventing the wheel.
>
> Clearly Blotter and PerformanceAnalytics seem highly relevant. My question
> is, how can I interface all my existing and new transactions into Blotter
> on a daily basis so that I can rerun various measures that I need? A CSV
> file would seem to do the trick but seems nasty.
>
> Are there any real world examples (not just backtesting) that people can
> point me to as to how these tools are used in practice?

PerformanceAnalytics is widely used for production portfolios in 
returns-space, by banks and asset managers of every stripe.  I would 
venture from the emails on this list and the ones sent to me privately 
that 'production' use is by far the prevalent use for PerformanceAnalytics.

blotter is, as the name says, a 'trade blotter'.  It is also still under 
development and not on CRAN. blotter was initially designed to support 
backtesting, and this is by far its predominant use.

blotter is also used for 'production' post-trade analysis.  We use it to 
reconcile our production P&L, and are able to match our daily custody 
statements. Importing from csv should be pretty easy.  You would load 
your trades into an xts object, and then call addTxns, which Josh Ulrich 
recently rewrote in C to support processing several hundred thousand 
transactions.  You could then use any of blotter's functions, or 
generate returns and send them over to PerformanceAnalytics.

I'll close with a comment that all this code is open source.  We're 
always looking for contributions from users who find our code useful, 
and are open to any 'generally useful' additions to the packages.  This 
code grows because people use it, and gets better because people work 
with us to resolve problems.  We appreciate that, and that's one of the 
large reasons we release code to the community, for the virtuous cycle 
that ensues.

Regards,

Brian


P.S.:
The largest 'known issue' with blotter relates to trying to mark a 
cash-FX book in one of the counter-currencies.  This may work fine, 
depending on the setup, or may cause circular references as the 
portfolio tries to mark itself against an exchange rate that you are 
trading.  If this described your portfolio, contact me off-list and we 
can discuss either fixing it or a simple workaround.


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From snes1982 at hotmail.com  Thu Oct 17 23:08:17 2013
From: snes1982 at hotmail.com (nserdar)
Date: Thu, 17 Oct 2013 14:08:17 -0700 (PDT)
Subject: [R-SIG-Finance] MARSS for  Kalman Filter Mean Reverting
Message-ID: <1382044097623-4678497.post@n4.nabble.com>

Hi 

I need to modify Kalman Filter Mean Reverting Model outlined below in MARSS
package !!!

For example: 

R(it)= Alpha(it)+ Beta(it)R(mt)+ V(it)                   V(it)~ N(0,H)
  
KF Mean Reverting 

Alpha(it)= Alphabar(i)+ phi* (Alpha(it-1)-Alphabar(i))+W(i1t) 
Beta(it)= Betabar(i)+ phi* (Beta(it-1)-Betahabar(i))+W(i2t)               W~
N(0,Q)

Please let me know how to modify above equations with MARSS.

Regards, 
Serdar



--
View this message in context: http://r.789695.n4.nabble.com/MARSS-for-Kalman-Filter-Mean-Reverting-tp4678497.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From ilya.kipnis at gmail.com  Fri Oct 18 19:53:38 2013
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Fri, 18 Oct 2013 13:53:38 -0400
Subject: [R-SIG-Finance] blotter 0.8.17 addPosLimit function fix
Message-ID: <CA+oJuEFwJkjZsMXfAHuAM06Jf6LpxJQ2+ML9jJ2Wx1OWWxVVMw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131018/cb72246f/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Oct 18 20:10:47 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 18 Oct 2013 13:10:47 -0500
Subject: [R-SIG-Finance] blotter 0.8.17 addPosLimit function fix
In-Reply-To: <CA+oJuEFwJkjZsMXfAHuAM06Jf6LpxJQ2+ML9jJ2Wx1OWWxVVMw@mail.gmail.com>
References: <CA+oJuEFwJkjZsMXfAHuAM06Jf6LpxJQ2+ML9jJ2Wx1OWWxVVMw@mail.gmail.com>
Message-ID: <CAPPM_gS+mxC_twSbH0vMJQTQr7RrTC9PSKF7CocwEsNnF4_4_A@mail.gmail.com>

What, exactly, does this fix?
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Fri, Oct 18, 2013 at 12:53 PM, Ilya Kipnis <ilya.kipnis at gmail.com> wrote:
> Hello...thought I would fix the addPosLimit function--notice the two \\ in
> the last line of the function.
>
> *******
>
> addPosLimit <- function (portfolio, symbol, timestamp, maxpos, longlevels =
> 1,
>           minpos = -maxpos, shortlevels = longlevels)
> {
>   portf <- getPortfolio(portfolio)
>   if (length(maxpos) > 1)
>     maxpos <- maxpos[, 1]
>   if (length(minpos) > 1)
>     minpos <- minpos[, 1]
>   newrow <- xts(cbind(maxpos, longlevels, minpos, shortlevels),
>                 order.by = as.POSIXct(timestamp))
>   tc <- try(colnames(newrow) <- c("MaxPos", "LongLevels", "MinPos",
>                                   "ShortLevels"))
>   if (is.null(portf$symbols[[symbol]]$PosLimit)) {
>     portf$symbols[[symbol]]$PosLimit <- newrow
>   }
>   else {
>     if (is.null(portf$symbols[[symbol]]$PosLimit[timestamp])) {
>       portf$symbols[[symbol]]$PosLimit[timestamp] <- newrow
>     }
>     else {
>       portf$symbols[[symbol]]$PosLimit <-
> rbind(portf$symbols[[symbol]]$PosLimit,
>                                                 newrow)
>     }
>   }
>   assign(paste("portfolio", portfolio, sep = "\\."), portf, envir =
> .blotter)
> }
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From ilya.kipnis at gmail.com  Fri Oct 18 20:11:20 2013
From: ilya.kipnis at gmail.com (Ilya Kipnis)
Date: Fri, 18 Oct 2013 14:11:20 -0400
Subject: [R-SIG-Finance] clarification on bug in addPosLimit
Message-ID: <CA+oJuEFFo82QSgRD_1uK2PFFmgd4po9oEqNJEZjH4QR5goUSiA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131018/edb60b7e/attachment.pl>

From eric.thungstrom at gmail.com  Sat Oct 19 20:14:56 2013
From: eric.thungstrom at gmail.com (Eric Thungstom)
Date: Sat, 19 Oct 2013 14:14:56 -0400
Subject: [R-SIG-Finance] Asset labels in fportfolio
Message-ID: <CACv3XEAch1AFEtJWMCT4zsXp7vYinZbho9cR8X2djOx28NsT0A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131019/66871f81/attachment.pl>

From temesi.gergely at gmail.com  Fri Oct 25 12:56:42 2013
From: temesi.gergely at gmail.com (Gergely Temesi)
Date: Fri, 25 Oct 2013 12:56:42 +0200
Subject: [R-SIG-Finance] Quantstrat and total equity-aware order sizing
Message-ID: <526A4E6A.8030208@gmail.com>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131025/9433cb8c/attachment.html>

From markknecht at gmail.com  Fri Oct 25 17:35:11 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 25 Oct 2013 08:35:11 -0700
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
Message-ID: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>

Hi,
   Really unformed question here. Sorry about that but I'm just poking
around looking for answers/ideas. Thanks in advance.

   In the last year I've put some money in some a few managed accounts
for long term investing. Current these accounts hold 70-80 different
stocks & ETFs. While the investments themselves are going OK I'm not
very happy with the information the brokers give me in terms of how
the portfolios are doing against their respective benchmarks. To that
end I'm starting looking around for how I could get a little better
view.

   In the 1980s I suppose I might have been doing a very simple
version of this in Quicken, but that program seems quite disliked by
people who buy it on Amazon. Additionally, I'm Linux-based and find it
distasteful to spend money on M$ Windows apps VM unless they are
really good at what they do.

   I suspect the professional folks use tools that the rest of us
never will. Things from Bloomberg or the like. There's also a lot of
online portfolio trackers. Maybe one of them is actually good but I
haven't found it yet and I'm reticent to put too much private info on
yet another web site.

   This whole area seems like a natural for something done in R. Maybe
keep the trades in an Excel spreadsheet or CSV file and then load them
into R, get data from Yahoo, create graphs, do correlations, etc.

   Does anything like this exist? Or am I wrong headed and there's a
better way to do this?

   I'm not thinking of much more than an account balance, trade info -
date, number of shares, prices, etc., and then aggregate the results
into a few numbers for the portfolio.

   Comments?

Thanks,
Mark


From peter at braverock.com  Fri Oct 25 17:48:36 2013
From: peter at braverock.com (Peter Carl)
Date: Fri, 25 Oct 2013 10:48:36 -0500
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
In-Reply-To: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
References: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
Message-ID: <acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>

Consider blotter, which is specifically for calculating P&L from trades
and prices (for generating returns for analysis in PerformanceAnalytics).

install.packages("blotter", repos="http://R-Forge.R-project.org")

pcc
-- 
Peter Carl
http://www.braverock.com/peter

> Hi,
>    Really unformed question here. Sorry about that but I'm just poking
> around looking for answers/ideas. Thanks in advance.
>
>    In the last year I've put some money in some a few managed accounts
> for long term investing. Current these accounts hold 70-80 different
> stocks & ETFs. While the investments themselves are going OK I'm not
> very happy with the information the brokers give me in terms of how
> the portfolios are doing against their respective benchmarks. To that
> end I'm starting looking around for how I could get a little better
> view.
>
>    In the 1980s I suppose I might have been doing a very simple
> version of this in Quicken, but that program seems quite disliked by
> people who buy it on Amazon. Additionally, I'm Linux-based and find it
> distasteful to spend money on M$ Windows apps VM unless they are
> really good at what they do.
>
>    I suspect the professional folks use tools that the rest of us
> never will. Things from Bloomberg or the like. There's also a lot of
> online portfolio trackers. Maybe one of them is actually good but I
> haven't found it yet and I'm reticent to put too much private info on
> yet another web site.
>
>    This whole area seems like a natural for something done in R. Maybe
> keep the trades in an Excel spreadsheet or CSV file and then load them
> into R, get data from Yahoo, create graphs, do correlations, etc.
>
>    Does anything like this exist? Or am I wrong headed and there's a
> better way to do this?
>
>    I'm not thinking of much more than an account balance, trade info -
> date, number of shares, prices, etc., and then aggregate the results
> into a few numbers for the portfolio.
>
>    Comments?
>
> Thanks,
> Mark
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>


From markknecht at gmail.com  Fri Oct 25 19:12:10 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 25 Oct 2013 10:12:10 -0700
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
In-Reply-To: <acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>
References: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
	<acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>
Message-ID: <CAK2H+edep6A=+isx37c6VjDwhooCEkf55w8H7xxuptFAHZzZuQ@mail.gmail.com>

On Fri, Oct 25, 2013 at 8:48 AM, Peter Carl <peter at braverock.com> wrote:
> Consider blotter, which is specifically for calculating P&L from trades
> and prices (for generating returns for analysis in PerformanceAnalytics).
>
> install.packages("blotter", repos="http://R-Forge.R-project.org")
>
> pcc
> --
> Peter Carl
> http://www.braverock.com/peter
>

Hi Peter,
   Yes, I think the solution, if it exists or needs to be written,
probably revolves around blotter and PerformanceAnalytics. However
every time I start looking at those things I glaze over for lack of
documentation. Nothing in there seems oriented toward teaching how to
use the packages so I was hoping maybe someone has already written
some example code of something like this:

1) Have a list of stocks & download EOD data from Yahoo for that list (Easy)
3) Read a list of transactions in any human writable format. I.e. -
I'll get the trades from my broker and enter them in some reasonable
file format.
4) Generate some simple data from those transactions: equity curve for
each stock, for the portfolio

   I suspect that if this much existed that a programmer with my
meager skills might be able to go forward. However I can't find the
starting point in the blotter or PerformanceAnalytics help pages.
Maybe I just haven't found the right page yet though.

Cheers,
Mark


From peter at braverock.com  Fri Oct 25 19:21:56 2013
From: peter at braverock.com (Peter Carl)
Date: Fri, 25 Oct 2013 12:21:56 -0500
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
In-Reply-To: <CAK2H+edep6A=+isx37c6VjDwhooCEkf55w8H7xxuptFAHZzZuQ@mail.gmail.com>
References: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
	<acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>
	<CAK2H+edep6A=+isx37c6VjDwhooCEkf55w8H7xxuptFAHZzZuQ@mail.gmail.com>
Message-ID: <59caab708418ef48dd5d3c44c9939bc5.squirrel@mail.braverock.com>

> every time I start looking at those things I glaze over...
I recommend a double espresso.  Then:

library(blotter)
?blotter

In the example provided, you can see your starting point:
?getSymbols
?initPortf
?addTxns
?updatePortf
?initAcct
?updateAcct
?updateEndEq

pcc
-- 
Peter Carl
http://www.braverock.com/peter

> On Fri, Oct 25, 2013 at 8:48 AM, Peter Carl <peter at braverock.com> wrote:
>> Consider blotter, which is specifically for calculating P&L from trades
>> and prices (for generating returns for analysis in
>> PerformanceAnalytics).
>>
>> install.packages("blotter", repos="http://R-Forge.R-project.org")
>>
>> pcc
>> --
>> Peter Carl
>> http://www.braverock.com/peter
>>
>
> Hi Peter,
>    Yes, I think the solution, if it exists or needs to be written,
> probably revolves around blotter and PerformanceAnalytics. However
> every time I start looking at those things I glaze over for lack of
> documentation. Nothing in there seems oriented toward teaching how to
> use the packages so I was hoping maybe someone has already written
> some example code of something like this:
>
> 1) Have a list of stocks & download EOD data from Yahoo for that list
> (Easy)
> 3) Read a list of transactions in any human writable format. I.e. -
> I'll get the trades from my broker and enter them in some reasonable
> file format.
> 4) Generate some simple data from those transactions: equity curve for
> each stock, for the portfolio
>
>    I suspect that if this much existed that a programmer with my
> meager skills might be able to go forward. However I can't find the
> starting point in the blotter or PerformanceAnalytics help pages.
> Maybe I just haven't found the right page yet though.
>
> Cheers,
> Mark
>


From markknecht at gmail.com  Fri Oct 25 23:25:20 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 25 Oct 2013 14:25:20 -0700
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
In-Reply-To: <59caab708418ef48dd5d3c44c9939bc5.squirrel@mail.braverock.com>
References: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
	<acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>
	<CAK2H+edep6A=+isx37c6VjDwhooCEkf55w8H7xxuptFAHZzZuQ@mail.gmail.com>
	<59caab708418ef48dd5d3c44c9939bc5.squirrel@mail.braverock.com>
Message-ID: <CAK2H+ecFGaB_WVUn_ZDaUTu09Gnw31pZkHtBmPSgGoYjhPr3Pw@mail.gmail.com>

On Fri, Oct 25, 2013 at 10:21 AM, Peter Carl <peter at braverock.com> wrote:
>> every time I start looking at those things I glaze over...
> I recommend a double espresso.  Then:
>
> library(blotter)
> ?blotter
>
> In the example provided, you can see your starting point:
> ?getSymbols
> ?initPortf
> ?addTxns
> ?updatePortf
> ?initAcct
> ?updateAcct
> ?updateEndEq
>
> pcc
> --
> Peter Carl
> http://www.braverock.com/peter

Peter,
   Thanks for the pointers. I've made a little bit of headway this
Friday afternoon and likely can make more progress over the weekend.

   One quick question, mostly out of curiosity. How/where are blotter
portfolios stored? The initPortf function seems to create something
lasts beyond my current run of R. If I exit R-Studio, reenter and
rerun my code that created the portfolio in the first place it tells
me:

> initPortf(name="Mark1",symbols="StockList")
Error in initPortf(name = "Mark1", symbols = "StockList") :
  Portfolio Mark1 already exists, use updatePortf() or addPortfInstr()
to update it.

I do see it's in the blotter environment:

> ls(envir=.blotter)
[1] "portfolio.Mark1"

   I'm on Linux, ran updatedb and attempted to locate both portfolio
and Mark1 but didn't find anything meaningful.

Thanks,
Mark


From ericstrom at aol.com  Sat Oct 26 21:31:18 2013
From: ericstrom at aol.com (ericstrom)
Date: Sat, 26 Oct 2013 15:31:18 -0400 (EDT)
Subject: [R-SIG-Finance] Using forecasted returns and cov matrix in
	fportfolio
Message-ID: <8D0A09913B0E122-2770-20628@webmail-d300.sysops.aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131026/993574da/attachment.pl>

From Fridthjof.Ollmar at ae.no  Mon Oct 28 12:54:50 2013
From: Fridthjof.Ollmar at ae.no (Ollmar, Fridthjof)
Date: Mon, 28 Oct 2013 12:54:50 +0100
Subject: [R-SIG-Finance] Quantstrat: Setting the column name in
	add.indicator?
Message-ID: <AAF45BB039257D40851A24D0310DE1662BCA0FCB26@krsexch02.a-e.no>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131028/50b17d69/attachment.pl>

From Bauermartin at gmx.at  Tue Oct 29 12:49:35 2013
From: Bauermartin at gmx.at (Martin Bauer)
Date: Tue, 29 Oct 2013 12:49:35 +0100 (CET)
Subject: [R-SIG-Finance] xts Correl on subset
Message-ID: <trinity-a59ca310-8242-42d2-ad02-31eafcb11462-1383047375271@3capp-gmx-bs60>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131029/ea4e2941/attachment.html>

From michael.weylandt at gmail.com  Tue Oct 29 13:12:50 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Tue, 29 Oct 2013 08:12:50 -0400
Subject: [R-SIG-Finance] xts Correl on subset
In-Reply-To: <trinity-a59ca310-8242-42d2-ad02-31eafcb11462-1383047375271@3capp-gmx-bs60>
References: <trinity-a59ca310-8242-42d2-ad02-31eafcb11462-1383047375271@3capp-gmx-bs60>
Message-ID: <A4657535-5A25-49B5-A3A7-39BAF0D49A04@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131029/44fbcdc1/attachment.pl>

From radek.maciaszek at gmail.com  Thu Oct 31 11:28:23 2013
From: radek.maciaszek at gmail.com (Radek Maciaszek)
Date: Thu, 31 Oct 2013 10:28:23 +0000
Subject: [R-SIG-Finance] Simple portfolio management - anything in R?
In-Reply-To: <CAK2H+ecFGaB_WVUn_ZDaUTu09Gnw31pZkHtBmPSgGoYjhPr3Pw@mail.gmail.com>
References: <CAK2H+ee-wZHmCOboit7fy=hpZSr2t1iTf8ZS1zpsB2EUnCR_Fw@mail.gmail.com>
	<acd8fd3a751fac6f557f02b86592aa85.squirrel@mail.braverock.com>
	<CAK2H+edep6A=+isx37c6VjDwhooCEkf55w8H7xxuptFAHZzZuQ@mail.gmail.com>
	<59caab708418ef48dd5d3c44c9939bc5.squirrel@mail.braverock.com>
	<CAK2H+ecFGaB_WVUn_ZDaUTu09Gnw31pZkHtBmPSgGoYjhPr3Pw@mail.gmail.com>
Message-ID: <CAFDnWc_cVjNiK6JHD6BPP3-KigTAj9u+7kFpj7aWtYE9wvo0Pw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131031/b010bbdd/attachment.pl>

From optionsraghu at gmail.com  Thu Oct 31 12:39:45 2013
From: optionsraghu at gmail.com (Raghuraman Ramachandran)
Date: Thu, 31 Oct 2013 11:39:45 +0000
Subject: [R-SIG-Finance] Ranking XTS based on quantiles
Message-ID: <CADgEnDkYmOm+nwgK9oHjFnPJW-vxP-SLG7OqDPs+6EvWhgjY8A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131031/17735937/attachment.pl>

From josh.m.ulrich at gmail.com  Thu Oct 31 13:22:01 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 31 Oct 2013 07:22:01 -0500
Subject: [R-SIG-Finance] Ranking XTS based on quantiles
In-Reply-To: <CADgEnDkYmOm+nwgK9oHjFnPJW-vxP-SLG7OqDPs+6EvWhgjY8A@mail.gmail.com>
References: <CADgEnDkYmOm+nwgK9oHjFnPJW-vxP-SLG7OqDPs+6EvWhgjY8A@mail.gmail.com>
Message-ID: <CAPPM_gQmJJ9dKRTw=LcpCSk02dmD=NngHbCxrer9vYeE=YBd2A@mail.gmail.com>

On Thu, Oct 31, 2013 at 6:39 AM, Raghuraman Ramachandran
<optionsraghu at gmail.com> wrote:
>
> R GuRus
>
> I have an xts object called vols
>
> head(vols)
>                 [,1]
> 2011-07-12 0.2985884
> 2011-07-13 0.2873109
> 2011-07-14 0.2780244
> 2011-07-15 0.2739429
> 2011-07-18 0.2609898
> 2011-07-19 0.2868996
>
> and I wanted to have a column next to each in everyrow that ranks the vols
> based on quantiles.
>
You haven't provided enough information. For a given row, which
observations do you want to use to calculate quantiles?  Please
provide a minimal reproducible example and the output you expect.

> quantile(vols)
>        0%       25%       50%       75%      100%
> 0.0562344 0.1536431 0.2194198 0.3043755 1.3428146
>
> Can you help please?
>
> Thanks
> Raghu
>

--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From optionsraghu at gmail.com  Thu Oct 31 15:08:27 2013
From: optionsraghu at gmail.com (Raghuraman Ramachandran)
Date: Thu, 31 Oct 2013 14:08:27 +0000
Subject: [R-SIG-Finance] Ranking XTS based on quantiles
In-Reply-To: <CAPPM_gQmJJ9dKRTw=LcpCSk02dmD=NngHbCxrer9vYeE=YBd2A@mail.gmail.com>
References: <CADgEnDkYmOm+nwgK9oHjFnPJW-vxP-SLG7OqDPs+6EvWhgjY8A@mail.gmail.com>
	<CAPPM_gQmJJ9dKRTw=LcpCSk02dmD=NngHbCxrer9vYeE=YBd2A@mail.gmail.com>
Message-ID: <CADgEnDm7ez0we6H4_9gCGh=+Bu_fD9Bfe1SucQv=Tb0DrXDWcw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131031/37c5b27c/attachment.pl>

From grgoswami at gmail.com  Thu Oct 31 16:44:05 2013
From: grgoswami at gmail.com (Gopi Goswami)
Date: Thu, 31 Oct 2013 08:44:05 -0700
Subject: [R-SIG-Finance] Ranking XTS based on quantiles
Message-ID: <-3892438320677158782@unknownmsgid>

May use the cut function. Take a look at ?cut. From: Raghuraman
Ramachandran
Sent: 10/31/2013 10:09 AM
To: Joshua Ulrich
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Ranking XTS based on quantiles
Hi Josh

Thanks for looking. The following is the data. I want to bucket the vols in
to quantiles and then like to know which quantile does a particular vol
fall into.

dput(vols)
structure(c(0.298588380244844, 0.287310898522666, 0.278024367157468,
0.273942888224005, 0.260989754741509, 0.286899624570665, 0.261334791502598,
0.273618186876892, 0.306067942513389, 0.179216992203979, 0.17679400786679,
0.15595221714471, 0.184497913212749, 0.183190454586396, 0.184071274778093,
0.230392174832229, 0.229980490165898, 0.184942451465015, 0.283378112518203,
0.346673544027569, 0.362750467277804, 0.446558251163324, 0.432086995258441,
0.399838265451118, 0.427343787195571, 0.467950579460365, 0.48927119063135,
0.515897799914638, 0.48121966514805, 0.518608914718677, 0.474300257778514,
0.485075778612434, 0.487867957572675, 0.55201362273623, 0.55149567022171,
0.512908876894967, 0.420637651108331, 0.415316819997048, 0.370575365214029,
0.375909698657982, 0.368207117504024, 0.420102878100668, 0.346263422350976,
0.463688374853148, 0.475211067872815, 0.450559784519699, 0.457370669965977,
0.477538224363679, 0.471458801015079, 0.487949945618527, 0.438331735710163,
0.437736922323582, 0.372648484954821, 0.355305734658645, 0.382839840528923,
0.37281915615977, 0.376398326009722, 0.387456598919207, 0.325295182045283,
0.335713251407964, 0.359547124856589, 0.389161734922624, 0.523464817294913,
0.504359102146787, 0.500533138122293, 0.466725673558888, 0.469190891111217,
0.466967601813776, 0.46078349404767, 0.45038695803554, 0.384689712135152,
0.234858576176029, 0.24712573110461, 0.237435719235212, 0.236624087698677,
0.230315097595303, 0.230907299992868, 0.244547328103675, 0.23628869702199,
0.225227131493775, 0.137554677929647, 0.174378166503963, 0.184584142022566,
0.177248568122732, 0.166347574253992, 0.169688360449699, 0.162729402728207,
0.191020691728106, 0.231367542155024, 0.258327902053797, 0.251138196950975,
0.251943830807923, 0.279400981106616, 0.28269752041713, 0.288331639122117,
0.317298502742112, 0.297746204775813, 0.275544238550294, 0.249557919373993,
0.266141423722437, 0.214988497091691, 0.211415225447163, 0.178298771746178,
0.187202809477044, 0.183375008246439, 0.168786018468579, 0.196795887694143,
0.144020704809599, 0.208736116585831, 0.21231136970009, 0.20787623337829,
0.268178402874594, 0.269335615761458, 0.265189944487108, 0.280581687150995,
0.259424262116695, 0.26221653427542, 0.243644710127851, 0.236825077335219,
0.22847185168903, 0.180000563234408, 0.173475378325373, 0.170964742007871,
0.141237490812541, 0.16683214920415, 0.500336553665037, 0.473264604985225,
0.504735812836619, 0.512837151780379, 0.515691852429285, 0.512449729925394,
0.510858400293129, 0.505228381985842, 0.51451117414869, 0.198545212823593,
0.219095868464326, 0.203321881620775, 0.207897449377612, 0.162673616445928,
0.145627854157036, 0.135310136710026, 0.145414778895727, 0.198926345876625,
0.195301309253221, 0.176705252954638, 0.180501106607595, 0.172348493531079,
0.171960417239478, 0.202856055733308, 0.210422038608525, 0.209845983260666,
0.163301616766777, 0.158549484939121, 0.166494538884177, 0.150751481945341,
0.21347648530349, 0.217119786034636, 0.183405104833331, 0.166132272138196,
0.138059707225786, 0.145112116143231, 0.153886845146906, 0.188905599865243,
0.199515218037075, 0.168595495831201, 0.180975974456257, 0.201567421911325,
0.198132927911589, 0.196094693293738, 0.198811313669063, 0.18108435862626,
0.160415662217353, 0.164593623709234, 0.172519699470649, 0.17551928569626,
0.177698258995022, 0.19660793239753, 0.205511020002415, 0.223731313938115,
0.267386404115256, 0.269412213254715, 0.26039422341255, 0.248448850239789,
0.237083928367054, 0.244171298436752, 0.235303787571651, 0.248205402051995,
0.753903571153178, 0.708510439179829, 0.720549485293522, 0.714378153893997,
0.733832053244244, 0.740373062031025, 0.750887531063529, 0.757873237907811,
0.765360263715342, 0.281323680775422, 0.280699131024605, 0.278781974336668,
0.3105840786959, 0.304551871362008, 0.304316647894794, 0.199147432666266,
0.192148644666975, 0.226282254964369, 0.237771278650411, 0.225946878324824,
0.232742422793253, 0.172324319972773, 0.264906778158244, 0.275449885125915,
0.267902678408256, 0.271763541524859, 0.271511088037022, 0.266013852284788,
0.261943774707102, 0.255227313196509, 0.25165512467241, 0.176217253264184,
0.145898922505662, 0.151069616609903, 0.15178467727154, 0.146296056479752,
0.147405127296369, 0.147333377820695, 0.14084335976762, 0.154731613096201,
0.180219237067574, 0.173404635618921, 0.180745945706492, 0.181106820746263,
0.147516468923723, 0.143763821424332, 0.152911946612588, 0.18019530701946,
0.164735576185395, 0.142677921978817, 0.152657618239981, 0.138439694636939,
0.148578708752772, 0.148397941349993, 0.135142708635687, 0.160652341869,
0.140456106338329, 0.141177650638517, 0.135552640776916, 0.130170984772448,
0.152366631622551, 0.140115079365953, 0.133957558923797, 0.136243079048431,
0.47066861596803, 0.468770690609721, 0.470531520531752, 0.474443041982445,
0.478017368105157, 0.534179214255935, 0.532700825045684, 0.519867398299305,
0.509744750423181, 0.258521767710826, 0.267297160634583, 0.247070082435595,
0.292982906319152, 0.29461286448148, 0.243441958636995, 0.237019137374891,
0.224030676502145, 0.215229708987525, 0.22677236127019, 0.171451543402412,
0.175829381490671, 0.129917115753097, 0.12921221109772, 0.119301550414932,
0.11991190753922, 0.127568907813676, 0.155719772579185, 0.150012769326131,
0.156323851943683, 0.19191397474554, 0.218387909867288, 0.218241011436719,
0.239765156964637, 0.234092858786375, 0.23789590967595, 0.190383487742149,
0.175753391054021, 0.121795623825549, 0.244513912222733, 0.271457242330929,
0.271447053977496, 0.251181658337397, 0.250165011756264, 0.222819979185322,
0.219743814775122, 0.235978773826498, 0.295420684421453, 0.258370121957461,
0.232432408486927, 0.245853541463418, 0.245570145727692, 0.245969046130414,
0.248143829535557, 0.263791352590374, 0.191967754214895, 0.215104642367107,
0.2131616005122, 0.208652365072105, 0.226238673015935, 0.232633689937163,
0.266248694038511, 0.27174714980484, 0.27240437514658, 0.404318004683667,
0.343383229219943, 0.345116318029947, 0.353198429789616, 0.353212020968826,
0.352020495363259, 0.324344032653051, 0.324954235069286, 0.306725137911925,
0.111695975584123, 0.0990601848940733, 0.113620999685009,
0.108591101800983,
0.106831706787192, 0.120339472723365, 0.122347811179546, 0.091859478868065,
0.0959744121992337, 0.116534699958309, 0.136903144253204,
0.128032906869345,
0.135574017436711, 0.162275561421726, 0.195838519793596, 0.200538627333341,
0.212301585631157, 0.214691370680396, 0.222187672400544, 0.211866843858417,
0.227212842751857, 0.236134487182699, 0.212687875839572, 0.202452771031506,
0.202750370275178, 0.174174204241941, 0.225591578006611, 0.235537580858213,
0.237241372123123, 0.206815203173249, 0.129509471015036, 0.138857632812829,
0.137396493877937, 0.132426946329348, 0.126721845769656, 0.100792962139543,
0.0990229226068089, 0.0948594159007459, 0.0939145002815825,
0.100431462701899,
0.103123518665489, 0.119211689862332, 0.14290738842675, 0.137868420221678,
0.142681579754898, 0.131480894248595, 0.145956275953521, 0.145556280897155,
0.144939464254869, 0.165831878436093, 0.152146663977133, 0.131090350030029,
0.843119998778593, 0.836313184110283, 0.843104891729955, 0.85585673523566,
0.853326240747549, 0.861443184316742, 0.846968192168085, 0.846026989149746,
0.841285014091032, 0.208437626579755, 0.100066142097223,
0.0909985094060402,
0.0837581315708057, 0.0619715552950906, 0.0588330952597413,
0.0657716442382218,
0.0622490333110688, 0.0623766233471612, 0.0748567436076143,
0.0720416244219216,
0.072167726632028, 0.069716458970664, 0.0986168464651228,
0.123624611362625,
0.123515698869591, 0.135012228941632, 0.133709422255455, 0.149247556408347,
0.148369201606425, 0.151086739102602, 0.162030118917989, 0.182036174662163,
0.184371047210488, 0.222190398519423, 0.21207361368506, 0.207668993731173,
0.204253099960027, 0.203534242159775, 0.207203691109437, 0.207095023730701,
0.184196191168092, 0.174882809495648, 0.156145630140372, 0.187485040587549,
0.188584980543319, 0.188747533240609, 0.185212868529521, 0.14668397791472,
0.122831240134028, 0.122895953265602, 0.119745865497961, 0.113789389218906,
0.0562344022861577, 0.0861408379311143, 0.13074392601861,
0.122672046971992,
0.120667264088246, 0.221788547573171, 0.223275286488278, 0.231707079451311,
0.260958171529069, 0.284539866071007, 0.341988003184973, 1.31888076108062,
1.32868817714836, 1.32054098510644, 1.32622551189381, 1.33249011753195,
1.33041396276371, 1.342814620532, 1.32239855200841, 1.277449432031,
0.224469891843021, 0.188534803523422, 0.220245728311383, 0.223608747918658,
0.233994476008125, 0.180401552410203, 0.180822081203795, 0.136798459404135,
0.111522156361567, 0.128263598160347, 0.154008430807486, 0.111611569563935,
0.10573449780675, 0.104533194951004, 0.113099449239467, 0.121988730009662,
0.131893381774471, 0.135546484010202, 0.147294215781379, 0.139831991001989,
0.149025487441117, 0.1487627219287, 0.135747810583885, 0.130960827650468,
0.205495275618013, 0.295902304148328, 0.298538031927037, 0.304571625625223,
0.315459486501709, 0.313607346915385, 0.318006400187782, 0.316553559874202,
0.347455949283791, 0.324720935633748, 0.206546725529248, 0.224794339583665,
0.224510254325475, 0.213137803878756, 0.25900483188693, 0.271153780590286,
0.279986038041201, 0.258581413971386, 0.249116227943044, 0.307024744434251,
0.304219835606307, 0.32405197647759, 0.340787934079809, 0.298487026215832,
0.310681092343345, 0.294765125494339, 0.292375280735853, 0.29347399200649,
0.232192885085611, 0.236779987540168, 0.572243033566777, 0.577858839086039,
0.582847889794936, 0.578814827571576, 0.570147511926729, 0.567116071943492,
0.56760846467749, 0.562775412709792, 0.567428710798142, 0.197701547867429,
0.124183540713839, 0.105864467177192, 0.108240277269714, 0.090445057048014,
0.0697861330893244, 0.0729526770614828, 0.0733531437577087,
0.0952822733295417,
0.112398491276946, 0.111760081419526, 0.128534861707885, 0.172976647990779,
0.179966292821297), .Dim = c(524L, 1L), index = structure(c(1310425200,
1310511600, 1310598000, 1310684400, 1310943600, 1311030000, 1311116400,
1311202800, 1311289200, 1311548400, 1311634800, 1311721200, 1311807600,
1311894000, 1312153200, 1312239600, 1312326000, 1312412400, 1312498800,
1312758000, 1312844400, 1312930800, 1313017200, 1313103600, 1313449200,
1313535600, 1313622000, 1313708400, 1313967600, 1314054000, 1314140400,
1314226800, 1314313200, 1314572400, 1314658800, 1314918000, 1315177200,
1315263600, 1315350000, 1315436400, 1315522800, 1315782000, 1315868400,
1315954800, 1316041200, 1316127600, 1316386800, 1316473200, 1316559600,
1316646000, 1316732400, 1316991600, 1317078000, 1317164400, 1317250800,
1317337200, 1317596400, 1317682800, 1317769200, 1317942000, 1318201200,
1318287600, 1318374000, 1318460400, 1318546800, 1318806000, 1318892400,
1318978800, 1319065200, 1319151600, 1319410800, 1319497200, 1319583600,
1319756400, 1320019200, 1320105600, 1320192000, 1320278400, 1320364800,
1320710400, 1320796800, 1320969600, 1321228800, 1321315200, 1321401600,
1321488000, 1321574400, 1321833600, 1321920000, 1322006400, 1322092800,
1322179200, 1322438400, 1322524800, 1322611200, 1322697600, 1322784000,
1323043200, 1323216000, 1323302400, 1323388800, 1323648000, 1323734400,
1323820800, 1323907200, 1323993600, 1324252800, 1324339200, 1324425600,
1324512000, 1324598400, 1324857600, 1324944000, 1325030400, 1325116800,
1325203200, 1325462400, 1325548800, 1325635200, 1325721600, 1325808000,
1325894400, 1326067200, 1326153600, 1326240000, 1326326400, 1326412800,
1326672000, 1326758400, 1326844800, 1326931200, 1327017600, 1327276800,
1327363200, 1327449600, 1327622400, 1327881600, 1327968000, 1328054400,
1328140800, 1328227200, 1328486400, 1328572800, 1328659200, 1328745600,
1328832000, 1329091200, 1329177600, 1329264000, 1329350400, 1329436800,
1329782400, 1329868800, 1329955200, 1330041600, 1330300800, 1330387200,
1330473600, 1330560000, 1330646400, 1330732800, 1330905600, 1330992000,
1331078400, 1331251200, 1331510400, 1331596800, 1331683200, 1331769600,
1331856000, 1332115200, 1332201600, 1332288000, 1332374400, 1332460800,
1332716400, 1332802800, 1332889200, 1332975600, 1333062000, 1333321200,
1333407600, 1333494000, 1333926000, 1334012400, 1334098800, 1334185200,
1334271600, 1334530800, 1334617200, 1334703600, 1334790000, 1334876400,
1335135600, 1335222000, 1335308400, 1335394800, 1335481200, 1335567600,
1335740400, 1335913200, 1335999600, 1336086000, 1336345200, 1336431600,
1336518000, 1336604400, 1336690800, 1336950000, 1337036400, 1337122800,
1337209200, 1337295600, 1337554800, 1337641200, 1337727600, 1337814000,
1337900400, 1338159600, 1338246000, 1338332400, 1338418800, 1338505200,
1338764400, 1338850800, 1338937200, 1339023600, 1339110000, 1339369200,
1339455600, 1339542000, 1339628400, 1339714800, 1339974000, 1340060400,
1340146800, 1340233200, 1340319600, 1340578800, 1340665200, 1340751600,
1340838000, 1340924400, 1341183600, 1341270000, 1341356400, 1341442800,
1341529200, 1341788400, 1341874800, 1341961200, 1342047600, 1342134000,
1342393200, 1342479600, 1342566000, 1342652400, 1342738800, 1342998000,
1343084400, 1343170800, 1343257200, 1343343600, 1343602800, 1343689200,
1343775600, 1343862000, 1343948400, 1344207600, 1344294000, 1344380400,
1344466800, 1344553200, 1344812400, 1344898800, 1345071600, 1345158000,
1345503600, 1345590000, 1345676400, 1345762800, 1346022000, 1346108400,
1346194800, 1346281200, 1346367600, 1346626800, 1346713200, 1346799600,
1346886000, 1346972400, 1347058800, 1347231600, 1347318000, 1347404400,
1347490800, 1347577200, 1347836400, 1347922800, 1348095600, 1348182000,
1348441200, 1348527600, 1348614000, 1348700400, 1348786800, 1349046000,
1349218800, 1349305200, 1349391600, 1349650800, 1349737200, 1349823600,
1349910000, 1349996400, 1350255600, 1350342000, 1350428400, 1350514800,
1350601200, 1350860400, 1350946800, 1351119600, 1351206000, 1351468800,
1351555200, 1351641600, 1351728000, 1351814400, 1352073600, 1352160000,
1352246400, 1352332800, 1352419200, 1352678400, 1352764800, 1352937600,
1353024000, 1353283200, 1353369600, 1353456000, 1353542400, 1353628800,
1353888000, 1353974400, 1354147200, 1354233600, 1354492800, 1354579200,
1354665600, 1354752000, 1354838400, 1355097600, 1355184000, 1355270400,
1355356800, 1355443200, 1355702400, 1355788800, 1355875200, 1355961600,
1356048000, 1356307200, 1356480000, 1356566400, 1356652800, 1356912000,
1356998400, 1357084800, 1357171200, 1357257600, 1357516800, 1357603200,
1357689600, 1357776000, 1357862400, 1358121600, 1358208000, 1358294400,
1358380800, 1358467200, 1358726400, 1358812800, 1358899200, 1358985600,
1359072000, 1359331200, 1359417600, 1359504000, 1359590400, 1359676800,
1359936000, 1360022400, 1360108800, 1360195200, 1360281600, 1360540800,
1360627200, 1360713600, 1360800000, 1360886400, 1361145600, 1361232000,
1361318400, 1361404800, 1361491200, 1361750400, 1361836800, 1361923200,
1362009600, 1362096000, 1362355200, 1362441600, 1362528000, 1362614400,
1362700800, 1362960000, 1363046400, 1363132800, 1363219200, 1363305600,
1363564800, 1363651200, 1363737600, 1363824000, 1363910400, 1364169600,
1364256000, 1364428800, 1364770800, 1364857200, 1364943600, 1365030000,
1365116400, 1365375600, 1365462000, 1365548400, 1365634800, 1365721200,
1365980400, 1366066800, 1366153200, 1366239600, 1366585200, 1366671600,
1366844400, 1366930800, 1367190000, 1367276400, 1367449200, 1367535600,
1367794800, 1367881200, 1367967600, 1368054000, 1368140400, 1368226800,
1368399600, 1368486000, 1368572400, 1368658800, 1368745200, 1369004400,
1369090800, 1369177200, 1369263600, 1369350000, 1369609200, 1369695600,
1369782000, 1369868400, 1369954800, 1370214000, 1370300400, 1370386800,
1370473200, 1370559600, 1370818800, 1370905200, 1370991600, 1371078000,
1371164400, 1371423600, 1371510000, 1371596400, 1371682800, 1371769200,
1372028400, 1372114800, 1372201200, 1372287600, 1372374000, 1372633200,
1372719600, 1372806000, 1372892400, 1372978800, 1373238000, 1373324400,
1373410800, 1373497200, 1373583600, 1373842800, 1373929200, 1374015600,
1374102000, 1374188400, 1374447600, 1374534000, 1374620400, 1374706800,
1374793200, 1375052400, 1375138800, 1375225200, 1375311600, 1375398000,
1375657200, 1375743600, 1375830000, 1375916400, 1376262000, 1376348400,
1376434800), tzone = "", tclass = "Date"), .indexCLASS = "Date", .indexTZ =
"", tclass = "Date", tzone = "", class = c("xts",
"zoo"), na.action = structure(1:9, class = "omit", index = c(1309302000,
1309388400, 1309474800, 1309734000, 1309820400, 1309906800, 1309993200,
1310079600, 1310338800)))

Thanks
Raghu


On Thu, Oct 31, 2013 at 12:22 PM, Joshua Ulrich <josh.m.ulrich at gmail.com>wrote:

> On Thu, Oct 31, 2013 at 6:39 AM, Raghuraman Ramachandran
> <optionsraghu at gmail.com> wrote:
> >
> > R GuRus
> >
> > I have an xts object called vols
> >
> > head(vols)
> >                 [,1]
> > 2011-07-12 0.2985884
> > 2011-07-13 0.2873109
> > 2011-07-14 0.2780244
> > 2011-07-15 0.2739429
> > 2011-07-18 0.2609898
> > 2011-07-19 0.2868996
> >
> > and I wanted to have a column next to each in everyrow that ranks the
> vols
> > based on quantiles.
> >
> You haven't provided enough information. For a given row, which
> observations do you want to use to calculate quantiles?  Please
> provide a minimal reproducible example and the output you expect.
>
> > quantile(vols)
> >        0%       25%       50%       75%      100%
> > 0.0562344 0.1536431 0.2194198 0.3043755 1.3428146
> >
> > Can you help please?
> >
> > Thanks
> > Raghu
> >
>
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R
questions should go.


From Huachen.Li at qsinvestors.com  Thu Oct 31 19:23:38 2013
From: Huachen.Li at qsinvestors.com (Li, Huachen)
Date: Thu, 31 Oct 2013 18:23:38 +0000
Subject: [R-SIG-Finance] Quantstrat - paramset
Message-ID: <4B146C2169F59B49B855DA70FBB2625A0187273411@qsi-njdc-exmb1.qsi.local>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131031/0c28c0ba/attachment.pl>

From optionsraghu at gmail.com  Fri Nov  1 11:10:53 2013
From: optionsraghu at gmail.com (Raghuraman Ramachandran)
Date: Fri, 1 Nov 2013 10:10:53 +0000
Subject: [R-SIG-Finance] Ranking XTS based on quantiles
In-Reply-To: <A4B4C47B3C3F4BF5AB9AC627ACE225BA@Franki7PC>
References: <CADgEnDkYmOm+nwgK9oHjFnPJW-vxP-SLG7OqDPs+6EvWhgjY8A@mail.gmail.com>
	<1C04B201D3F548A6BA25F85E60A458E9@Franki7PC>
	<CADgEnDkybVwXZA+zrAx0-_u3R45J9gQ1Kx5rpdYSpp14Lspj7g@mail.gmail.com>
	<A4B4C47B3C3F4BF5AB9AC627ACE225BA@Franki7PC>
Message-ID: <CADgEnD=gCNLUz++e9eMDmWr+FCDfHeMboLT_Uzkz8b7PodT_nQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131101/aac69600/attachment.pl>

From nooldor at gmail.com  Fri Nov  1 17:11:14 2013
From: nooldor at gmail.com (nooldor)
Date: Fri, 1 Nov 2013 09:11:14 -0700 (PDT)
Subject: [R-SIG-Finance] Litzenberger and Ramaswamy (1979) MLE estimators in
	R?
Message-ID: <1383322273423-4679541.post@n4.nabble.com>

Hi!

I would like to run MLE regression similar to Litzenberger, R. and
Ramaswamy, K. (1979)  "The effects of personal taxes and dividends on
capital asset prices: Theory and empirical evidence", Journal of Financial
Economics, 7, 163?95 does anyone did it in R? Is there any package that can
be use? 
Can it be done with mle - function?

Thank you for answers!



--
View this message in context: http://r.789695.n4.nabble.com/Litzenberger-and-Ramaswamy-1979-MLE-estimators-in-R-tp4679541.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From markknecht at gmail.com  Sat Nov  2 19:31:40 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Sat, 2 Nov 2013 11:31:40 -0700
Subject: [R-SIG-Finance] RQuantLib/Quantlib for R-3.0.2 (Linux) ?
Message-ID: <CAK2H+efdQpP+OnZDeYOXD=gV+EmZHaCDYKnzWwkdkjhZiG++OQ@mail.gmail.com>

I wanted to install RQuantLib inside of R-Studio on my Gentoo Linux
machine running R-3.0.2 however the install fails complaining about
needing Quantlib:

checking whether g++ accepts -g... (cached) yes
checking for R... yes
checking for Rscript... yes
checking for quantlib-config... no
configure: error: Please install QuantLib before trying to build RQuantLib.
ERROR: configuration failed for package ?RQuantLib?
* removing ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0/RQuantLib?
Warning in install.packages :
  installation of package ?RQuantLib? had non-zero exit status

The downloaded source packages are in
?/tmp/RtmpVvgUYR/downloaded_packages?

My problem is Quantlib doesn't seem to be available through the normal
CRAN mirror I use. (Either USA CA 1 or USA CA 2) Do I need to look
somewhere else to find this?

I seem to have this problem but with far more packages in a Windows VM
running R-3.0.2 so I figured I'd try to solve it for Linux first.

Thanks,
Mark


From edd at debian.org  Sat Nov  2 20:07:08 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 2 Nov 2013 14:07:08 -0500
Subject: [R-SIG-Finance] RQuantLib/Quantlib for R-3.0.2 (Linux) ?
In-Reply-To: <CAK2H+efdQpP+OnZDeYOXD=gV+EmZHaCDYKnzWwkdkjhZiG++OQ@mail.gmail.com>
References: <CAK2H+efdQpP+OnZDeYOXD=gV+EmZHaCDYKnzWwkdkjhZiG++OQ@mail.gmail.com>
Message-ID: <21109.19804.918574.446618@max.nulle.part>


Mark,

On 2 November 2013 at 11:31, Mark Knecht wrote:
| I wanted to install RQuantLib inside of R-Studio on my Gentoo Linux
| machine running R-3.0.2 however the install fails complaining about
| needing Quantlib:
| 
| checking whether g++ accepts -g... (cached) yes
| checking for R... yes
| checking for Rscript... yes
| checking for quantlib-config... no
| configure: error: Please install QuantLib before trying to build RQuantLib.
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

I tried to make this as plain as possible: RQuantLib needs QuantLib.

| ERROR: configuration failed for package ?RQuantLib?
| * removing ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0/RQuantLib?
| Warning in install.packages :
|   installation of package ?RQuantLib? had non-zero exit status
| 
| The downloaded source packages are in
| ?/tmp/RtmpVvgUYR/downloaded_packages?
| 
| My problem is Quantlib doesn't seem to be available through the normal
| CRAN mirror I use. (Either USA CA 1 or USA CA 2) Do I need to look
| somewhere else to find this?

Did you consider Googling this?

You seem to think that QuantLib was somehow related to CRAN; it is not.

On Debian or Ubuntu, you'd so 'sudo apt-get install libquantlib0-dev'.  On
Gentoo, you may have to start from the QuantLib sources.

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From markknecht at gmail.com  Sat Nov  2 20:36:33 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Sat, 2 Nov 2013 12:36:33 -0700
Subject: [R-SIG-Finance] RQuantLib/Quantlib for R-3.0.2 (Linux) ?
In-Reply-To: <21109.19804.918574.446618@max.nulle.part>
References: <CAK2H+efdQpP+OnZDeYOXD=gV+EmZHaCDYKnzWwkdkjhZiG++OQ@mail.gmail.com>
	<21109.19804.918574.446618@max.nulle.part>
Message-ID: <CAK2H+edBSgzTn+UAWFm6WHrEoEedfK+ktC4p+OdMn-uBD-tnLw@mail.gmail.com>

On Sat, Nov 2, 2013 at 12:07 PM, Dirk Eddelbuettel <edd at debian.org> wrote:
>
> Mark,
<SNIP>
> | My problem is Quantlib doesn't seem to be available through the normal
> | CRAN mirror I use. (Either USA CA 1 or USA CA 2) Do I need to look
> | somewhere else to find this?
>
> Did you consider Googling this?
>

I did.

> You seem to think that QuantLib was somehow related to CRAN; it is not.
>

Yikes! I very much did!

> On Debian or Ubuntu, you'd so 'sudo apt-get install libquantlib0-dev'.  On
> Gentoo, you may have to start from the QuantLib sources.
>
> Dirk

I could have looked at the for the rest of the weekend and I doubt
that the idea that it was code I had to compile myself would never had
entered my mind.

Thanks! It was in portage. dev-lib\quantlib is installed and now
RQuantLib installs fine.

Going one step further, I guess if I wanted to use RQuantLib in
Windows then the same issues apply and I'd have to figure out how to
run the R toolchain to make it work?

Thanks,
Mark


From edd at debian.org  Sat Nov  2 21:35:01 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 2 Nov 2013 15:35:01 -0500
Subject: [R-SIG-Finance] RQuantLib/Quantlib for R-3.0.2 (Linux) ?
In-Reply-To: <CAK2H+edBSgzTn+UAWFm6WHrEoEedfK+ktC4p+OdMn-uBD-tnLw@mail.gmail.com>
References: <CAK2H+efdQpP+OnZDeYOXD=gV+EmZHaCDYKnzWwkdkjhZiG++OQ@mail.gmail.com>
	<21109.19804.918574.446618@max.nulle.part>
	<CAK2H+edBSgzTn+UAWFm6WHrEoEedfK+ktC4p+OdMn-uBD-tnLw@mail.gmail.com>
Message-ID: <21109.25077.279791.885722@max.nulle.part>


On 2 November 2013 at 12:36, Mark Knecht wrote:
| Going one step further, I guess if I wanted to use RQuantLib in
| Windows then the same issues apply and I'd have to figure out how to
| run the R toolchain to make it work?

If you want to (re-)build RQuantLib from source, or alter it: yes.

If you just want to run RQuantLib, use the Windows binary from CRAN.

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From Stefan.Jaeschke at rwe.com  Mon Nov  4 13:52:15 2013
From: Stefan.Jaeschke at rwe.com (Stefan.Jaeschke at rwe.com)
Date: Mon, 4 Nov 2013 12:52:15 +0000
Subject: [R-SIG-Finance] Using own simulations in package rugarch
Message-ID: <D4C25ABF67A47A4BAE99D13FA0B80938020465E1@S082A1080.group.rwe.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131104/e4334ff8/attachment.pl>

From alexios at 4dscape.com  Mon Nov  4 14:10:36 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 04 Nov 2013 13:10:36 +0000
Subject: [R-SIG-Finance] Using own simulations in package rugarch
In-Reply-To: <D4C25ABF67A47A4BAE99D13FA0B80938020465E1@S082A1080.group.rwe.com>
References: <D4C25ABF67A47A4BAE99D13FA0B80938020465E1@S082A1080.group.rwe.com>
Message-ID: <52779CCC.6050602@4dscape.com>

1. Did you read the documentation on ugarchpath or ugarchsim?
"custom.dist: Optional density with fitted object from which to simulate."
The custom.dist option allows for defining a custom density which exists
in the users workspace with methods for ?r? (sampling, e.g. rnorm) and
?d? (density e.g. dnorm). It must take a single fit object as its second
argument. Alternatively, custom.dist can take any name in the name slot
(e.g.?sample?) and a matrix in the fit slot with dimensions equal to
m.sim (columns) and n.sim (rows). The usefulness of this becomes
apparent when one is considering the copula-GARCH approach or the
bootstrap method.

2. A simple search of this mailing list's archives would also have
answered your question with an example:
https://stat.ethz.ch/pipermail/r-sig-finance/2012q2/010305.html

3. rugarch.test1g in the rugarch.tests folder also contains an example
of this.

-Alexios

On 04/11/2013 12:52, Stefan.Jaeschke at rwe.com wrote:
> Hi there,
> 
> I am currently preparing an out-of-sample backtest (one-day-ahead) by carefully using the methods ugarchfilter and ugarchpath. In a next step I would need to simulate my own dataset. I would like to simulate from a bivariate copula and then applying the inverse cumulative distribution functions of each leg separately. This looks as follows (excerpt):
> 
>       library(rugarch)
>       library(copula)
>       n <- 1000
>       dcop <- gumbelCopula(2.961, dim = 2)
>       simgumcop <- rcopula(dcop,n)
> 
>       simgumcop[,1] = qdist(distribution = "sged", simgumcop[,1], mu = 0, sigma = 1, skew = skew_WTI, shape = shape_WTI)
>       simgumcop[,2] = qdist(distribution = "sged", simgumcop[,2], mu = 0, sigma = 1, skew = skew_Brent, shape = shape_Brent)
> 
> Now it would like to put those simulations back in the backtesting framework package. Is there a way to incorporate those samples in the ugarchpath (i.e. I provide the simulations and ugarchpath is doing the rest)? Or maybe another function that can help?
> 
>       for(i in 1:100){
>                 # filter the data upto time T+i-1 with the coefficients
>                 # estimated from the model upto time T
>                 filt = ugarchfilter(specf, data = nrenditen[1:(1001+i-1)], n.old = 1001)
>                 # use lagged values prior to the next forecast:
>            path = ugarchpath(specf, n.sim=1, m.sim= numsim, presigma = tail(sigma(filt),3), prereturns = nrenditen[(1001+i-3):(1001+i-1)], preresiduals = tail(residuals(filt),3))
>                 fsim[,i] = as.numeric(fitted(path))
>       }
> 
> Many thanks in advance.
> 
> Mit freundlichen Gr??en / Kind regards
> 
> Stefan J?schke
> RWE Supply & Trading GmbH
> Risk Origination & Industrial Sales (MFM-R)
> Altenessener Str. 27
> 45141 Essen
> Germany
> Phone           +49 201 5179-1674
> Mobile                     +49 162-2596816
> Email           stefan.jaeschke at rwe.com
> ____________________________________________________
> 
> Supervisory Board: Peter Terium (Chairman)
> Management Board:
> Stefan Judisch (CEO),
> Dr Markus Krebber, Alan Robinson
> Headquarters: Essen
> Registered at Local District Court, Essen
> Commercial Registry No.: HRB 14327
> Sales Tax ID No.: DE 8130 22 070
> 
> Please consider the environment before printing this e-mail
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From nooldor at gmail.com  Mon Nov  4 13:56:58 2013
From: nooldor at gmail.com (nooldor)
Date: Mon, 4 Nov 2013 04:56:58 -0800 (PST)
Subject: [R-SIG-Finance] Litzenberger and Ramaswamy (1979) MLE
	estimators in R?
In-Reply-To: <1383322273423-4679541.post@n4.nabble.com>
References: <1383322273423-4679541.post@n4.nabble.com>
Message-ID: <1383569818836-4679686.post@n4.nabble.com>

HI!

Anyone could help with my request?



--
View this message in context: http://r.789695.n4.nabble.com/Litzenberger-and-Ramaswamy-1979-MLE-estimators-in-R-tp4679541p4679686.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From vishnu.karthik1 at gmail.com  Tue Nov  5 14:48:58 2013
From: vishnu.karthik1 at gmail.com (Vishnu B)
Date: Tue, 5 Nov 2013 19:18:58 +0530
Subject: [R-SIG-Finance] European options in r3
Message-ID: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>

Hi,

Is there any package that works with r3.0.2 that can calculate option Greeks for European options?

Thanks
Vishnu

Sent from my iPhone

From oleg.mubarakshin at gmail.com  Tue Nov  5 15:42:47 2013
From: oleg.mubarakshin at gmail.com (Oleg Mubarakshin)
Date: Tue, 5 Nov 2013 18:42:47 +0400
Subject: [R-SIG-Finance] European options in r3
In-Reply-To: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
References: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
Message-ID: <5B0DB1929BB444C6891B60D1CD0B718D@OLEHP>

Vishnu,

calculation the Greeks for Eur options has very easy code
if you need just the Greeks calculation - you can use my function for it:

# Function calculates option premium and sensitivities,
# setting b = r we get Black and Scholes' stock option model, b = r-q we get 
Merton's stock option
# model with continuous dividend yield q, b = 0 we get Black's futures 
option model, and b = r-rf
# we get Garman and Kohlhagen's currency option model with foreign interest 
rate rf
GreeksBSM <- function(name="delta", type="p", S=100, K=98, T=0.25, b=0.02, 
r=0.05, v=0.15) {

  c.type <- c("premium", "delta", "vega", "theta", "rho", "gamma", "vanna", 
"volga")

  {# check input params

  if(type == "c" | type == "C") {
    i <- 1
  } else {
    if(type == "p" | type == "P") {
      i <- -1
    } else {
      err <- "Type out of c(c, p)"
      return(list(err=err, value=NA))
    }
  }

  if(!(name %in% c.type)) {
    err <- "Name out of c(premium, delta, vega, theta, rho, gamma, vanna, 
volga)"
    return(list(err=err, value=NA))
  }

  if(S <= 0) {
    err <- "S must have a positive value"
    return(list(err=err, value=NA))
  }

  if(K <= 0) {
    err <- "K must have a positive value"
    return(list(err=err, value=NA))
  }

  if(T <= 0) {
    err <- "T must have a positive value"
    return(list(err=err, value=NA))
  }

  if(v <= 0) {
    err <- "v must have a positive value"
    return(list(err=err, value=NA))
  }

  }

  q <- r - b
  d1 <- (log(S/K) + (r - q + v*v/2) * T)/(v * sqrt(T))
  d2 <- d1 - v * sqrt(T)

  if(name == "premium") {
    out <- i * (S * exp(-q*T) * pnorm(i*d1) - K * exp(-r*T) * pnorm(i*d2))
    return(list(err=0, value=out))
    #GBSOption(TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, sigma=v)@price
  }

  if(name == "delta") {
    out <- i*exp(-q*T) * pnorm(i*d1)
    return(list(err=0, value=out))
    #GBSGreeks(Selection="delta", TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, 
sigma=v)
  }

  if(name == "vega") {
    out <- S * exp(-q*T) * dnorm(d1) * sqrt(T)
    return(list(err=0, value=out))
    #GBSGreeks(Selection="vega", TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, 
sigma=v)
  }

  if(name == "theta") {
    out <- -exp(-q*T) * S*dnorm(d1)*v/(2*sqrt(T)) - 
i*r*K*exp(-r*T)*pnorm(i*d2) +
      i*q*S*exp(-q*T)*pnorm(i*d1)
    return(list(err=0, value=out))
    #GBSGreeks(Selection="theta", TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, 
sigma=v)
  }

  if(name == "rho") {
    out <- i*K * T * exp(-r*T) * pnorm(i*d2)
    return(list(err=0, value=out))
    #GBSGreeks(Selection="rho", TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, 
sigma=v)
  }

  if(name == "gamma") {
    out <- exp(-q*T) * dnorm(d1)/(S*v*sqrt(T))
    return(list(err=0, value=out))
    #GBSGreeks(Selection="gamma", TypeFlag=type, S=S, X=K, Time=T, r=r, b=b, 
sigma=v)
  }

  if(name == "vanna") {
    out <- -exp(-q*T) * dnorm(d1) * d2/v
    return(list(err=0, value=out))
  }

  if(name == "volga") {
    out <- S * exp(-q*T) * dnorm(d1) * sqrt(T) * (d1*d2)/v
    return(list(err=0, value=out))
  }

}



Oleg

-----???????? ?????????----- 
From: Vishnu B
Sent: Tuesday, November 05, 2013 5:48 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] European options in r3

Hi,

Is there any package that works with r3.0.2 that can calculate option Greeks 
for European options?

Thanks
Vishnu

Sent from my iPhone
_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions 
should go.


From dominykasgrigonis at gmail.com  Tue Nov  5 15:56:51 2013
From: dominykasgrigonis at gmail.com (Dominykas Grigonis)
Date: Tue, 5 Nov 2013 14:56:51 +0000
Subject: [R-SIG-Finance] European options in r3
In-Reply-To: <5B0DB1929BB444C6891B60D1CD0B718D@OLEHP>
References: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
	<5B0DB1929BB444C6891B60D1CD0B718D@OLEHP>
Message-ID: <81584910BF1F49E4AB646370D5B2CEF5@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131105/a1d61e8b/attachment.pl>

From Stefan.Jaeschke at rwe.com  Tue Nov  5 16:29:56 2013
From: Stefan.Jaeschke at rwe.com (Stefan.Jaeschke at rwe.com)
Date: Tue, 5 Nov 2013 15:29:56 +0000
Subject: [R-SIG-Finance] External regressors in rugarch filter / predefine
	residuals in fit
Message-ID: <D4C25ABF67A47A4BAE99D13FA0B8093802046E9D@S082A1080.group.rwe.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131105/e782cc13/attachment.pl>

From michael.weylandt at gmail.com  Tue Nov  5 16:33:56 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Tue, 5 Nov 2013 10:33:56 -0500
Subject: [R-SIG-Finance] European options in r3
In-Reply-To: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
References: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
Message-ID: <D9DE4E04-3FBC-43C3-A52D-F5F8339B74C2@gmail.com>

The greeks package seems a good place to start ;-)

www.rinfinance.com/agenda/2013/talk/JeffRyan.pdf

Michael

On Nov 5, 2013, at 8:48, Vishnu B <vishnu.karthik1 at gmail.com> wrote:

> Hi,
> 
> Is there any package that works with r3.0.2 that can calculate option Greeks for European options?
> 
> Thanks
> Vishnu
> 
> Sent from my iPhone
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From alexios at 4dscape.com  Tue Nov  5 17:00:31 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 05 Nov 2013 16:00:31 +0000
Subject: [R-SIG-Finance] External regressors in rugarch filter /
 predefine residuals in fit
In-Reply-To: <D4C25ABF67A47A4BAE99D13FA0B8093802046E9D@S082A1080.group.rwe.com>
References: <D4C25ABF67A47A4BAE99D13FA0B8093802046E9D@S082A1080.group.rwe.com>
Message-ID: <5279161F.6070002@4dscape.com>

1. Passed in the specification. I think the documentation is pretty
clear on this.

2. Pass your residuals as the data and set the conditional mean equation
to include.mean=FALSE and armaOrder(0,0).

As I have tried to get across numerous times in our off-list
communication, rgarch is not supported and was never released on CRAN.
It was a work in progress and some decisions such as the use of
information available at t<max(a,b) were changed in rugarch.

-Alexios

On 05/11/2013 15:29, Stefan.Jaeschke at rwe.com wrote:
> Hi there,
> 
> 1)      When specifying a model with external regressors in the mean equation and fixing the parameters, how do I pass the matrix of regressors to the rugarch filter method, or is it automatically passed via the specification? (please see excerpt below)
>       ...
>       external <- Data$LogReturnsStocks
>       dim(external) = c(length(external),1)
>       spec = ugarchspec(..., mean.model = list(..., external.regressors = external)...)
>       cf = c(0.5,0.7,...)
>       specf = spec
>       setfixed(specf) <- as.list(cf)
>       filt = ugarchfilter(specf, data = nrenditenWTI[1:(1001+i-1)], n.old = 1001)
>       ...
> 
> 2)      Is there a trick/way using rugarch to artificially set the first a standardized residuals of an ARMA(a,b) specification to zero as in the previous rgarch, i.e. reconstruct the rgarch package?  This would hopefully allow to get approximately the same filtering as before (please see excerpt below)
> 
>    rgarch:
> 
>    library(rgarch)
>    data(sp500ret)
>    spec = arfimaspec(mean.model = list(armaOrder = c(7,1), include.mean = FALSE, arfima = FALSE)
>    fit = arfimafit(spec, sp500ret)
> 
>> residuals(fit)[1:8]
> [1] 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.000000000 0.006930002
> 
> The same in rugarch:
> 
>> residuals(fit)[1:8]
> [1]  0.008840447 -0.001892734  0.003129678 -0.004577455 -0.005742768  0.014603325  0.001059376  0.005992187
> 
> Many thanks in advance.
> 
> Mit freundlichen Gr??en / Kind regards
> 
> Stefan J?schke
> RWE Supply & Trading GmbH
> Risk Origination & Industrial Sales (MFM-R)
> Altenessener Str. 27
> 45141 Essen
> Germany
> Phone           +49 201 5179-1674
> Mobile                     +49 162-2596816
> Email           stefan.jaeschke at rwe.com<mailto:stefan.jaeschke at rwe.com>
> ____________________________________________________
> 
> Supervisory Board: Peter Terium (Chairman)
> Management Board:
> Stefan Judisch (CEO),
> Dr Markus Krebber, Alan Robinson
> Headquarters: Essen
> Registered at Local District Court, Essen
> Commercial Registry No.: HRB 14327
> Sales Tax ID No.: DE 8130 22 070
> 
> Please consider the environment before printing this e-mail
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From zhangyanru.anne08 at gmail.com  Tue Nov  5 17:50:06 2013
From: zhangyanru.anne08 at gmail.com (Yanru Zhang)
Date: Tue, 5 Nov 2013 11:50:06 -0500
Subject: [R-SIG-Finance] Parameter estimation for GARCH model in rugarch
	package
Message-ID: <CADvEh8BUu+QMvbFVzjqeotC9uWrd_aMEuVg=g5LcYS0x+yaYeg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131105/74617b80/attachment.pl>

From alexios at 4dscape.com  Tue Nov  5 18:04:10 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 5 Nov 2013 17:04:10 +0000
Subject: [R-SIG-Finance] Parameter estimation for GARCH model in rugarch
	package
In-Reply-To: <CADvEh8BUu+QMvbFVzjqeotC9uWrd_aMEuVg=g5LcYS0x+yaYeg@mail.gmail.com>
References: <CADvEh8BUu+QMvbFVzjqeotC9uWrd_aMEuVg=g5LcYS0x+yaYeg@mail.gmail.com>
Message-ID: <3E5B5DD1-54BE-4F36-912E-57710DF6C05E@4dscape.com>

Thank you for enlightening us that GARCH models should usually be estimated based on
the ML method. As the author of the package I will strive to convert the estimation 
method from guesswork to ML.

If you take the time to read beyond the description, there is a vignette and documentation which
actually do describe the package and estimation in detail (you only need to search for the word 
likelihood in the vignette to get satisfaction).

-Alexios



On 5 Nov 2013, at 16:50, Yanru Zhang <zhangyanru.anne08 at gmail.com> wrote:

> Hi,
> 
> I have read the rugarch package (in r) description and did not find
> information on how they estimate the parameters for different GARCH models.
> Usually, parameters for the GARCH model should be estimated based on
> maximum likelihood method. Does rugarch package also use the MLE method to
> train the GARCH parameters?
> 
> Thanks,
> Anne
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From es at enricoschumann.net  Thu Nov  7 10:48:27 2013
From: es at enricoschumann.net (Enrico Schumann)
Date: Thu, 07 Nov 2013 10:48:27 +0100
Subject: [R-SIG-Finance] European options in r3
In-Reply-To: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com> (Vishnu B.'s
	message of "Tue, 5 Nov 2013 19:18:58 +0530")
References: <B89BD91A-7A64-4CBC-BE0E-464AB83C4788@gmail.com>
Message-ID: <87a9hg35lg.fsf@enricoschumann.net>

On Tue, 05 Nov 2013, Vishnu B <vishnu.karthik1 at gmail.com> writes:

> Hi,
>
> Is there any package that works with r3.0.2 that can calculate option
> Greeks for European options?
>
> Thanks
> Vishnu
>

Let me add a few suggestions:

* RQuantLib, see ?EuropeanOption

* fOptions, see ?PlainVanillaOptions

* NMOF, see ?vanillaOptionEuropean

... all of which you would have found, had you browsed the task view

  http://cran.r-project.org/web/views/Finance.html

or had you used Google.



-- 
Enrico Schumann
Lucerne, Switzerland
http://enricoschumann.net


From ericstrom at aol.com  Fri Nov  8 01:42:54 2013
From: ericstrom at aol.com (ericstrom)
Date: Thu, 7 Nov 2013 19:42:54 -0500 (EST)
Subject: [R-SIG-Finance] Using forecasted data in fportfolio
Message-ID: <8D0AA32987CA530-1988-16EC8@webmail-vm004.sysops.aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131107/e6dfcdf6/attachment.pl>

From costas.vorlow at gmail.com  Fri Nov  8 17:04:12 2013
From: costas.vorlow at gmail.com (Costas Vorlow)
Date: Fri, 8 Nov 2013 18:04:12 +0200
Subject: [R-SIG-Finance] chart.TimeSeries
Message-ID: <CABfqsR_g8rWtPp+s_bb3oF20_E8Y7AYt1vDVN__rsBSP5XbH9Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131108/8ff5192c/attachment.pl>

From matt at considine.net  Fri Nov  8 19:10:04 2013
From: matt at considine.net (matt at considine.net)
Date: Fri, 08 Nov 2013 12:10:04 -0600
Subject: [R-SIG-Finance] Using forecasted data in fportfolio
In-Reply-To: <mailman.2.1383908401.8209.r-sig-finance@r-project.org>
References: <mailman.2.1383908401.8209.r-sig-finance@r-project.org>
Message-ID: <2ba648556eeb54148e8524d92d2c4b7e@considine.net>

Here's how I approached it at one point when I wanted to use a 
consultant's data as input (code is pulled from a larger script, so 
doesn't stand alone ...).  There may be much easier/better ways.

expRet # this is the expected return of the asset classes
covM   # is a positive definite or near p.d. variance/covariance matrix
	# derived from asset class correlations and standard deviations
library(timeSeries)
library(MASS)
#create returns series
testdata<- 
timeSeries(mvrnorm(n=500,mu=expRet,Sigma=covM,empirical=TRUE))
#check : this should be a set of zeros
cor(testdata)-ia2$correlation
#create price series - used elsewhere
testprices<-100*apply(testdata,2,function(x) cumprod(1+x))
testprices<-rbind(matrix(rep(100,length(expRet)),nrow=1),testprices)
colnames(testprices)<-colnames(testdata)
#check that expected means are correct
colMeans(apply(testprices,2,function(x) 
ROC(x,type="discrete")),na.rm=TRUE)-expRet
library(fPortfolioAdvanced)
the_hull<-feasleHull(testdata)
...

Hope this helps,
Matt

> List-Post: <mailto:r-sig-finance at r-project.org>
> Content-Transfer-Encoding: quoted-printable
> From: ericstrom <ericstrom at aol.com>
> Precedence: list
> MIME-Version: 1.0
> To: r-sig-finance at r-project.org
> Date: Thu, 7 Nov 2013 19:42:54 -0500 (EST)
> Message-ID: <8D0AA32987CA530-1988-16EC8 at webmail-vm004.sysops.aol.com>
> Content-Type: text/plain
> Subject: [R-SIG-Finance] Using forecasted data in fportfolio
> Message: 1
>
>  Still trying to figure out the correct way in the fportfolio package 
> to de=
> termine the portfolio frontier using a forcasted returns vector 
> and/or a fo=
> recasted covariance matrix ?  I have no problem coming up with the 
> portfoli=
> o frontier using historical returns. But what I want to do is use 
> forcasted=
>  returns and / or forecasted covariance matrix. For example, if my 
> historic=
> al data is in zts, then the following works:spec 
> =3DportfolioSpec()frontier=
>  &lt;- portfolioFrontier(zts, spec)frontierPlot(frontier, 
> risk=3D"Sigma", a=
> uto=3DFALSE)class(zts)[1] "timeSeries"attr(,"package")[1] 
> "timeSeries"head(=
> zts)GMT                  WBLRX        LSBRX        DBLTX         
> TFSHX     =
>       TBT          SPY2012-11-09  0.003013563 -0.002106003 
> 0.0000000000 -0.=
> 0036968619 -0.0312447930 -0.0112530152012-11-16 -0.007045827 
> -0.003519891 0=
> .0000000000 -0.0037105794 -0.0074161810 -0.0130282882012-11-23  
> 0.003025721=
>   0.006326910 0.0000000000  0.0018570107  0.0337662016  
> 0.0358429662012-11-=
> 30  0.001006543  0.005590511 0.0018365478  0.0027790662 -0.0096968465 
> 0.00=
> 56951462012-12-07 -0.001006543  0.005559431 0.0009170106  
> 0.0009246418  0.0=
> 008254231  0.0017955262012-12-14  0.004020106  0.005528694 
> 0.0009161705  0.=
> 0046104277  0.0134406219 -0.002155018But suppose instead of using 
> historica=
> l returns data, I want to use forecasted returns and/or forecasted 
> covarian=
> ce (call them mu1 and covmat). What are the analogous statements to 
> portfol=
> ioFrontier and frontierPlot using mu1 and covmat as inputs instead of 
> histo=
> rical returns data ?&gt; class(mu1)[1] "numeric"&gt; class(covmat)[1] 
> "matr=
> ix"&gt; mu1        WBLRX         LSBRX         DBLTX         TFSHX    
>     =
>   TBT           SPY  0.0013537910  0.0010611297  0.0001845725 
> -0.0021064133=
>   0.0032720265  0.0052493188 &gt; covmat              WBLRX         
> LSBRX  =
>        DBLTX         TFSHX           TBT           SPYWBLRX  
> 8.980255e-05  =
> 5.538752e-06  3.384955e-06 -2.753534e-06 -2.347333e-05  
> 6.669676e-06LSBRX  =
> 5.538752e-06  5.017554e-05  1.297063e-05 -1.055112e-05 -8.994622e-05  
> 2.555=
> 718e-05DBLTX  3.384955e-06  1.297063e-05  1.848077e-05 -6.448218e-06 
> -5.496=
> 978e-05  1.561903e-05TFSHX -2.753534e-06 -1.055112e-05 -6.448218e-06  
> 4.277=
> 017e-05  4.471585e-05 -1.270549e-05TBT   -2.347333e-05 -8.994622e-05 
> -5.496=
> 978e-05  4.471585e-05  1.388306e-03 -1.083118e-04SPY    6.669676e-06  
> 2.555=
> 718e-05  1.561903e-05 -1.270549e-05 -1.083118e-04  2.170639e-04I've 
> checked=
>  the package documentation and I am not finding anything. Any help 
> would be=
>  appreciated.


From peter at braverock.com  Fri Nov  8 20:26:11 2013
From: peter at braverock.com (Peter Carl)
Date: Fri, 8 Nov 2013 13:26:11 -0600
Subject: [R-SIG-Finance] chart.TimeSeries
In-Reply-To: <CABfqsR_g8rWtPp+s_bb3oF20_E8Y7AYt1vDVN__rsBSP5XbH9Q@mail.gmail.com>
References: <CABfqsR_g8rWtPp+s_bb3oF20_E8Y7AYt1vDVN__rsBSP5XbH9Q@mail.gmail.com>
Message-ID: <9a25c02f5346e2b7dc4959759a8ca9e7.squirrel@mail.braverock.com>

Specify date.format; otherwise the format of the axis is determined by the
data's periodicity.

pcc
-- 
Peter Carl
http://www.braverock.com/peter

> Hello,
>
> I am trying to plot a large intradaily xts time series object (hourly data
> since 2003), with chart.TimeSeries
>
>> tail(myresults)
>                             Close      Close.1
> 2013-11-06 13:00:00  4.442174e-05 4.442174e-05
> 2013-11-06 14:00:00  9.106052e-04 9.106052e-04
> 2013-11-06 15:00:00 -1.220432e-03 0.000000e+00
> 2013-11-06 16:00:00  2.673421e-03 0.000000e+00
> 2013-11-06 17:00:00 -9.970900e-04 0.000000e+00
> 2013-11-06 18:00:00  6.653901e-05 0.000000e+00
>
>
> with
>
>
> chart.TimeSeries(myresults[,2],major.ticks="years" ,minor.ticks=FALSE)
>
>
> I get only hour x-axis labels. No date or month or year. Is there a way
> implicitly to plot only (say) months/years on the x-axis, omitting the
> hour
> time stamp?
>
> Many thanks in advance.
>
> Costas
>
> __________________________________________________________________
>
> *Costas Vorlow
> <http://www.gravatar.com/avatar/49a9dee59073b1ed4a36440a06aeb81b> *
> *http://www.linkedin.com/in/costasvorlow
> <http://www.linkedin.com/in/costasvorlow>*
> *http://www.vorlow.com* <http://www.vorlow.com>
>
> ??? ??
 ??? ??
 ??? ??? ??? ??? ??? ??
 ??? ??
 ??
 ??? ??
 ??? ??
 ???
> ??
 ??? ??? ??? ??? ??? ??
 ??? ??
 ??
 ??? ??
 ??? ??
 ??? ??
 ???
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.


From shannoncallan at yahoo.com  Sat Nov  9 16:23:29 2013
From: shannoncallan at yahoo.com (Shannon Callan)
Date: Sat, 9 Nov 2013 07:23:29 -0800 (PST)
Subject: [R-SIG-Finance] chart.TimeSeries
Message-ID: <1384010609.31067.YahooMailNeo@web122102.mail.ne1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131109/d9a0cd06/attachment.pl>

From eric.thungstrom at gmail.com  Sun Nov 10 19:12:07 2013
From: eric.thungstrom at gmail.com (Eric Thungstom)
Date: Sun, 10 Nov 2013 13:12:07 -0500
Subject: [R-SIG-Finance] Using forecasted data in fportfolio
In-Reply-To: <2ba648556eeb54148e8524d92d2c4b7e@considine.net>
References: <mailman.2.1383908401.8209.r-sig-finance@r-project.org>
	<2ba648556eeb54148e8524d92d2c4b7e@considine.net>
Message-ID: <CACv3XECe7qcRV8259rHouEyhqyMjx3UWWVDu8RZ0T+qCuNHsyg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131110/3548d462/attachment.pl>

From suzie at 10g.pl  Mon Nov 11 00:03:56 2013
From: suzie at 10g.pl (=?UTF-8?Q?Suzie?=)
Date: Mon, 11 Nov 2013 00:03:56 +0100
Subject: [R-SIG-Finance] =?utf-8?q?=5Brugarch_package=5D_The_family_GARCH_?=
	=?utf-8?q?model_equation?=
Message-ID: <652f76be.41fd5d2c.528010dc.ede4e@10g.pl>

Hi everyone!

I have a question about the volatility equation for family GARCH model in rugarch package(Equation (26) in document: http://cran.r-project.org/web/packages/rugarch/vignettes/Introduction_to_the_rugarch_package.pdf).
Why we use sigma^(lambda) at t-1 (in the sum, after alfa parameter) - shouldn't we rather use sigma^(lambda) at t-j ?


From alexios at 4dscape.com  Mon Nov 11 00:13:42 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Sun, 10 Nov 2013 23:13:42 +0000
Subject: [R-SIG-Finance] [rugarch package] The family GARCH model
	equation
In-Reply-To: <652f76be.41fd5d2c.528010dc.ede4e@10g.pl>
References: <652f76be.41fd5d2c.528010dc.ede4e@10g.pl>
Message-ID: <52801326.8000201@4dscape.com>

We do...its a typo in the documentation. You can see for yourself that
this is so by looking the the "fgarchfilter" function in the filters.c
file (src directory).

-Alexios


On 10/11/2013 23:03, Suzie wrote:
> Hi everyone!
> 
> I have a question about the volatility equation for family GARCH model in rugarch package(Equation (26) in document: http://cran.r-project.org/web/packages/rugarch/vignettes/Introduction_to_the_rugarch_package.pdf).
> Why we use sigma^(lambda) at t-1 (in the sum, after alfa parameter) - shouldn't we rather use sigma^(lambda) at t-j ?
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From suzie at 10g.pl  Mon Nov 11 00:23:34 2013
From: suzie at 10g.pl (=?UTF-8?Q?Suzie?=)
Date: Mon, 11 Nov 2013 00:23:34 +0100
Subject: [R-SIG-Finance]
	=?utf-8?q?=5Brugarch_package=5D_The_family_GARCH_?=
	=?utf-8?q?model_equation?=
In-Reply-To: <52801326.8000201@4dscape.com>
References: <652f76be.41fd5d2c.528010dc.ede4e@10g.pl>
	<52801326.8000201@4dscape.com>
Message-ID: <45c97c13.3071f6e8.52801576.595b6@10g.pl>

Thank you for answering so quickly! I'm kind a newbie in the area of GARCH models so I just wasn't really sure if I'm thinking correctly :)

Best regards,
Suzie

Dnia 11 listopada 2013 0:13 alexios ghalanos <alexios at 4dscape.com> napisa?(a):

> We do...its a typo in the documentation. You can see for yourself that
> this is so by looking the the "fgarchfilter" function in the filters.c
> file (src directory).
> 
> -Alexios
> 
> 
> On 10/11/2013 23:03, Suzie wrote:
> > Hi everyone!
> > 
> > I have a question about the volatility equation for family GARCH model in rugarch package(Equation (26) in document: http://cran.r-project.org/web/packages/rugarch/vignettes/Introduction_to_the_rugarch_package.pdf).
> > Why we use sigma^(lambda) at t-1 (in the sum, after alfa parameter) - shouldn't we rather use sigma^(lambda) at t-j ?
> > 
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions should go.
> > 
> > 
> 
> 


From nooldor at gmail.com  Mon Nov 11 14:05:27 2013
From: nooldor at gmail.com (nooldor)
Date: Mon, 11 Nov 2013 05:05:27 -0800 (PST)
Subject: [R-SIG-Finance] Rmetrics - Litzenberger and Ramaswamy (1979) MLE
	estimators in R?
Message-ID: <1384175127523-4680219.post@n4.nabble.com>

Hi!

Sorry for very direct and straight to the point question, but I just looking
around for some ideas of making my calculations easy. Shortly: because of
error-in-variable problem (EIV) the betas from OLS cannot be used for
testing market model (like CAPM). Litzenberger, R. and Ramaswamy, K.
proposed the solution for this by using maximum likelihood estimation - I am
wondering if it is possible to use it in R. If anyone would like to help I
can send the original article of Litzenberger and Ramaswamy to e-mail.
[I am very beginner in R]

I would like to run MLE regression similar to Litzenberger, R. and
Ramaswamy, K. (1979)  "The effects of personal taxes and dividends on
capital asset prices: Theory and empirical evidence", Journal of Financial
Economics, 7, 163?95
Does anyone did it in R?
Is there any package that can be use?
Can it be done with mle - function?

Thank you for answers! 



--
View this message in context: http://r.789695.n4.nabble.com/Rmetrics-Litzenberger-and-Ramaswamy-1979-MLE-estimators-in-R-tp4680219.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From rbali at ufmg.br  Mon Nov 11 17:51:46 2013
From: rbali at ufmg.br (Robert Iquiapaza)
Date: Mon, 11 Nov 2013 14:51:46 -0200
Subject: [R-SIG-Finance] Rmetrics - Litzenberger and Ramaswamy (1979)
 MLE estimators in R?
Message-ID: <CAKW5Cfov3f7-vL3WQECgFEGdJF+=LVmQJpMSLPLd+qoFLsD1SA@mail.gmail.com>

Seems that Litzenberger and Ramaswamy did not provide the likelihood
function within the article (I did not see the references), but they
included the normal equations of that function. You can use R to solve
that system of equations, the solutions will be your ML estimates.
?solve

Otherwise some  methods available in plm package or lme4 could help.

Robert

2013/11/11 nooldor <nooldor at gmail.com>:
> Hi!
>
> Sorry for very direct and straight to the point question, but I just looking
> around for some ideas of making my calculations easy. Shortly: because of
> error-in-variable problem (EIV) the betas from OLS cannot be used for
> testing market model (like CAPM). Litzenberger, R. and Ramaswamy, K.
> proposed the solution for this by using maximum likelihood estimation - I am
> wondering if it is possible to use it in R. If anyone would like to help I
> can send the original article of Litzenberger and Ramaswamy to e-mail.
> [I am very beginner in R]
>
> I would like to run MLE regression similar to Litzenberger, R. and
> Ramaswamy, K. (1979)  "The effects of personal taxes and dividends on
> capital asset prices: Theory and empirical evidence", Journal of Financial
> Economics, 7, 163?95
> Does anyone did it in R?
> Is there any package that can be use?
> Can it be done with mle - function?
>
> Thank you for answers!
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Rmetrics-Litzenberger-and-Ramaswamy-1979-MLE-estimators-in-R-tp4680219.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From widmo22 at o2.pl  Tue Nov 12 11:41:14 2013
From: widmo22 at o2.pl (widmo)
Date: Tue, 12 Nov 2013 02:41:14 -0800 (PST)
Subject: [R-SIG-Finance] HELP!: multivariate copula
Message-ID: <1384252874784-4680293.post@n4.nabble.com>

Hi,

I?ve made research in internet, but it seems, most of the articles dealing
with copulas are based on simulated data, limited to bivariate cases with
one correlation parameter. Can you please help, how to fit a multivariate
Archimedean copula (dim=7) to real data with the given correlation matrix
and to estimate a fitting parameters.

Thanks you for answers!   




--
View this message in context: http://r.789695.n4.nabble.com/HELP-multivariate-copula-tp4680293.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brian at braverock.com  Tue Nov 12 12:04:31 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 12 Nov 2013 05:04:31 -0600
Subject: [R-SIG-Finance] HELP!: multivariate copula
In-Reply-To: <1384252874784-4680293.post@n4.nabble.com>
References: <1384252874784-4680293.post@n4.nabble.com>
Message-ID: <52820B3F.6050601@braverock.com>

On 11/12/2013 04:41 AM, widmo wrote:
> Hi,
>
> I?ve made research in internet, but it seems, most of the articles dealing
> with copulas are based on simulated data, limited to bivariate cases with
> one correlation parameter. Can you please help, how to fit a multivariate
> Archimedean copula (dim=7) to real data with the given correlation matrix
> and to estimate a fitting parameters.
>
> Thanks you for answers!

Please follow the posting guide:

http://www.r-project.org/posting-guide.html

provide data and what you have already tried.

A quick search on rseek.org:

http://goo.gl/7qeNou

provides lots of promising bits, but without more specificity, no one 
here can help you.

Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From markknecht at gmail.com  Wed Nov 13 19:51:11 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Wed, 13 Nov 2013 10:51:11 -0800
Subject: [R-SIG-Finance] R-3.0.2 - FinancialInstrument/blotter/quantstrat
Message-ID: <CAK2H+eea3rb=8hq3SX6aNXnJU6sc5pZCEsjSNXJzBB7hJ59mMA@mail.gmail.com>

Hi,
   Are these install failures temporary, in the sense they'll be fixed
in a day or two, or is there a more long term problem here?

   I run R-3.0.2 in both Gentoo Linux & Windows 7. I'm unable to get
quantstrat this morning in either environment. In Linux I cannot get
FinancialInstrument or blotter either.

   I'm fine working in Windows short term if necessary. I'd like to
run Guy Yolin's examples as well as the luxor example that was
mentioned in the Humme+Peterson presentation from the 2013 conference.

   If there's a better way to go about this please let me know.
Getting these packages from R-Forge using the commands below seems to
be what is coming up most in Google. The Humme+Peterson paper also
mentioned building from source, ala

https://github.com/milktrader/blotter/wiki/Installation-Guide-for-Windows

but I've never done that before and sort of fear going down a rabbit
hole in terms of time spent. (But I'm willing to try it I guess...)

Thanks,
Mark

In Linux:

> install.packages("FinancialInstrument", repos="http://R-Forge.R-project.org")
Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
(as ?lib? is unspecified)
Warning in install.packages :
  package ?FinancialInstrument? is not available (for R version 3.0.2)
> install.packages("blotter", repos="http://R-Forge.R-project.org")
Warning in install.packages :
  package ?blotter? is not available (for R version 3.0.2)
Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
(as ?lib? is unspecified)
Warning in install.packages :
  package ?blotter? is not available (for R version 3.0.2)
> install.packages("quantstrat", repos="http://R-Forge.R-project.org")
Warning in install.packages :
  package ?quantstrat? is not available (for R version 3.0.2)
Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
(as ?lib? is unspecified)
Warning in install.packages :
  package ?quantstrat? is not available (for R version 3.0.2)

In Windows 7:

> install.packages("quantstrat", repos="http://R-Forge.R-project.org")
Warning in install.packages :
  package ?quantstrat? is not available (for R version 3.0.2)
Warning in install.packages :
  package ?quantstrat? is not available (for R version 3.0.2)


From brian at braverock.com  Wed Nov 13 20:21:10 2013
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 13 Nov 2013 13:21:10 -0600
Subject: [R-SIG-Finance] R-3.0.2 - FinancialInstrument/blotter/quantstrat
In-Reply-To: <CAK2H+eea3rb=8hq3SX6aNXnJU6sc5pZCEsjSNXJzBB7hJ59mMA@mail.gmail.com>
References: <CAK2H+eea3rb=8hq3SX6aNXnJU6sc5pZCEsjSNXJzBB7hJ59mMA@mail.gmail.com>
Message-ID: <5283D126.9040002@braverock.com>

It should be very simple in linux.

from a shell:

######

svn checkout svn://svn.r-forge.r-project.org/svnroot/blotter/

# will create a 'blotter' directory below the directory
# you ran the command from.
#
#then

cd blotter/pkg/
R CMD INSTALL FinancialInstrument
R CMD INSTALL blotter
R CMD INSTALL quantstrat

######

temporary build failures are a part of life on R-Forge, unfortunately. 
All the packages currently install fine form source.

To update later, go into the blotter or blotter/pkg directory and do

svn up

and then rerun the appropriate R CMD INSTALL command(s).

Regards,

Brian


On 11/13/2013 12:51 PM, Mark Knecht wrote:
> Hi,
>     Are these install failures temporary, in the sense they'll be fixed
> in a day or two, or is there a more long term problem here?
>
>     I run R-3.0.2 in both Gentoo Linux & Windows 7. I'm unable to get
> quantstrat this morning in either environment. In Linux I cannot get
> FinancialInstrument or blotter either.
>
>     I'm fine working in Windows short term if necessary. I'd like to
> run Guy Yolin's examples as well as the luxor example that was
> mentioned in the Humme+Peterson presentation from the 2013 conference.
>
>     If there's a better way to go about this please let me know.
> Getting these packages from R-Forge using the commands below seems to
> be what is coming up most in Google. The Humme+Peterson paper also
> mentioned building from source, ala
>
> https://github.com/milktrader/blotter/wiki/Installation-Guide-for-Windows
>
> but I've never done that before and sort of fear going down a rabbit
> hole in terms of time spent. (But I'm willing to try it I guess...)
>
> Thanks,
> Mark
>
> In Linux:
>
>> install.packages("FinancialInstrument", repos="http://R-Forge.R-project.org")
> Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
> (as ?lib? is unspecified)
> Warning in install.packages :
>    package ?FinancialInstrument? is not available (for R version 3.0.2)
>> install.packages("blotter", repos="http://R-Forge.R-project.org")
> Warning in install.packages :
>    package ?blotter? is not available (for R version 3.0.2)
> Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
> (as ?lib? is unspecified)
> Warning in install.packages :
>    package ?blotter? is not available (for R version 3.0.2)
>> install.packages("quantstrat", repos="http://R-Forge.R-project.org")
> Warning in install.packages :
>    package ?quantstrat? is not available (for R version 3.0.2)
> Installing package into ?/home/mark/R/x86_64-pc-linux-gnu-library/3.0?
> (as ?lib? is unspecified)
> Warning in install.packages :
>    package ?quantstrat? is not available (for R version 3.0.2)
>
> In Windows 7:
>
>> install.packages("quantstrat", repos="http://R-Forge.R-project.org")
> Warning in install.packages :
>    package ?quantstrat? is not available (for R version 3.0.2)
> Warning in install.packages :
>    package ?quantstrat? is not available (for R version 3.0.2)


From markknecht at gmail.com  Wed Nov 13 20:37:59 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Wed, 13 Nov 2013 11:37:59 -0800
Subject: [R-SIG-Finance] R-3.0.2 - FinancialInstrument/blotter/quantstrat
In-Reply-To: <5283D126.9040002@braverock.com>
References: <CAK2H+eea3rb=8hq3SX6aNXnJU6sc5pZCEsjSNXJzBB7hJ59mMA@mail.gmail.com>
	<5283D126.9040002@braverock.com>
Message-ID: <CAK2H+ecPJ31e1UVmtgRFtFF-xoc=hW8Ta0K0Spzp3VBKeH7+Cw@mail.gmail.com>

On Wed, Nov 13, 2013 at 11:21 AM, Brian G. Peterson <brian at braverock.com> wrote:
> It should be very simple in linux.
>
> from a shell:
>
> ######
>
> svn checkout svn://svn.r-forge.r-project.org/svnroot/blotter/
>
> # will create a 'blotter' directory below the directory
> # you ran the command from.
> #
> #then
>
> cd blotter/pkg/
> R CMD INSTALL FinancialInstrument
> R CMD INSTALL blotter
> R CMD INSTALL quantstrat
>
> ######
>
> temporary build failures are a part of life on R-Forge, unfortunately. All
> the packages currently install fine form source.
>
> To update later, go into the blotter or blotter/pkg directory and do
>
> svn up
>
> and then rerun the appropriate R CMD INSTALL command(s).
>
> Regards,
>
> Brian
>


Brian,
   Thanks very much. Everything worked as you suggested although the
quantstrat install failed the first time through as apparently it was
looking for the 'foreach' package which I did not have installed. Once
that was installed via R-Studio it worked fine and my version of Guy
Yolin's code is at least functioning now.

   I appreciate the fast response. Thanks!

Cheers,
Mark


From leopoldocatania at gmail.com  Sun Nov 17 13:05:35 2013
From: leopoldocatania at gmail.com (leopoldo.catania)
Date: Sun, 17 Nov 2013 04:05:35 -0800 (PST)
Subject: [R-SIG-Finance] Error In roll forecasting - rugarch
Message-ID: <1384689935200-4680617.post@n4.nabble.com>

Hi, 

I recive a strange error from ugarchroll function. Exactly ugarchroll
doesn't report any error, but when I try to extract the VaR quantiles I note
that the series contains at each row this error:

Error in try(.C("c_qstd", p = as.double(p), mu = as.double(mu), sigma =
as.double(sigma),  : \n  NA/NaN/Inf in foreign function call (arg 3)\n

I use this datas many times, and I dont think it is a dataset problem.

Regards,
Leopoldo Catania.



--
View this message in context: http://r.789695.n4.nabble.com/Error-In-roll-forecasting-rugarch-tp4680617.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Sun Nov 17 15:40:35 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Sun, 17 Nov 2013 14:40:35 +0000
Subject: [R-SIG-Finance] Error In roll forecasting - rugarch
In-Reply-To: <1384689935200-4680617.post@n4.nabble.com>
References: <1384689935200-4680617.post@n4.nabble.com>
Message-ID: <374751D7-578C-4B37-8977-E9D9858408DC@4dscape.com>

The error is saying that there is a NA or NaN value in the conditional sigma (try extracting the sigma values to check). Why this is the case I cannot say with the information provided.

Alexios

On 17 Nov 2013, at 12:05 PM, "leopoldo.catania" <leopoldocatania at gmail.com> wrote:

> Hi, 
> 
> I recive a strange error from ugarchroll function. Exactly ugarchroll
> doesn't report any error, but when I try to extract the VaR quantiles I note
> that the series contains at each row this error:
> 
> Error in try(.C("c_qstd", p = as.double(p), mu = as.double(mu), sigma =
> as.double(sigma),  : \n  NA/NaN/Inf in foreign function call (arg 3)\n
> 
> I use this datas many times, and I dont think it is a dataset problem.
> 
> Regards,
> Leopoldo Catania.
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/Error-In-roll-forecasting-rugarch-tp4680617.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From weihanliu2002 at yahoo.com  Mon Nov 18 11:50:20 2013
From: weihanliu2002 at yahoo.com (Wei-han Liu)
Date: Mon, 18 Nov 2013 02:50:20 -0800 (PST)
Subject: [R-SIG-Finance] racd package
Message-ID: <1384771820.89334.YahooMailNeo@web163806.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131118/926a4ee2/attachment.pl>

From alexios at 4dscape.com  Mon Nov 18 12:14:21 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 18 Nov 2013 11:14:21 +0000
Subject: [R-SIG-Finance] racd package
In-Reply-To: <1384771820.89334.YahooMailNeo@web163806.mail.gq1.yahoo.com>
References: <1384771820.89334.YahooMailNeo@web163806.mail.gq1.yahoo.com>
Message-ID: <5289F68D.3080201@4dscape.com>

Did you try:
vignette(package="racd")
...and then:
vignette("Time_Varying_Higher_Moments")

It provides details on the parametrization of the higher moment dynamics
used in the model specification. Other than that, I don't really know
what you mean by "determine the parameters".

-Alexios

On 18/11/2013 10:50, Wei-han Liu wrote:
> Hi
> R users,
>  
> I am
> studying the Autoregressive Conditional Density (ACD) model of Hansen (1994) and following the document "Time Varying Higher Moments with
> the racd package" (http://www.unstarched.net/2013/04/22/time-varying-higher-moments-with-the-racd-package/).
> args(acdspec)
> ## function (variance.model = list(model =
> 'sGARCH', garchOrder = c(1,
> ##     1),
> external.regressors = NULL, variance.targeting = FALSE),
> ##     mean.model =
> list(armaOrder = c(1, 1), include.mean = TRUE,
> ##        
> archm = FALSE, arfima = FALSE, external.regressors = NULL),
> ##     distribution.model
> = list(model = 'snorm', skewOrder = c(1,
> ##        
> 1, 1), skewshock = 1, skewshocktype = 1, skewmodel = 'quad',
> ##        
> skew.regressors = NULL, shapeOrder = c(0, 1, 1), shapeshock = 1,
> ##        
> shapeshocktype = 1, shapemodel = 'quad', shape.regressors = NULL,
> ##        
> exp.rate = 1), start.pars = list(), fixed.pars = list())
>  
> Could some person share the guidelines to
> determine the parameters in distribution.model in package racd, e.g. model,
> skewOrder, skewshock, skewshocktype, skewmodel?
>  
> Many thanks for your attention and assistance.
>  
> Weihan
> 	[[alternative HTML version deleted]]
> 
> 
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From michael.weylandt at gmail.com  Wed Nov 20 01:34:17 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Tue, 19 Nov 2013 19:34:17 -0500
Subject: [R-SIG-Finance] AGARCH + rugarch
Message-ID: <AD2F34E5-F422-446A-84FF-9252FC656EA9@gmail.com>

Is it possible to implement the AGARCH [1] of Engle 90 using rugarch? The aparch models seem close, but don't allow for different powers of epsilon as far as I can see. 

Thanks, 
Michael

[1] I know GARCH terminology is a mess, so I'm using that given at public.econ.duke.edu/~boller/Papers/glossary_arch.pdf (P.2 in my case)


From alexios at 4dscape.com  Wed Nov 20 01:57:16 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Wed, 20 Nov 2013 00:57:16 +0000
Subject: [R-SIG-Finance] AGARCH + rugarch
In-Reply-To: <AD2F34E5-F422-446A-84FF-9252FC656EA9@gmail.com>
References: <AD2F34E5-F422-446A-84FF-9252FC656EA9@gmail.com>
Message-ID: <528C08EC.8090303@4dscape.com>

Sentana (1995) actually worked out more thoroughly the details of this
model which he called quadratic ARCH (QGARCH).

This is not implemented in rugarch. For asymmetric response to shocks
try the GJR (gjrGARCH), TGARCH (model="fGARCH", submodel="TGARCH")
or NAGARCH (model="fGARCH", submodel="NAGARCH")...among others.
If you provide compelling evidence why this model merits inclusion I
will consider it.

Regards,

Alexios


On 20/11/2013 00:34, R. Michael Weylandt <michael.weylandt at gmail.com> wrote:
> Is it possible to implement the AGARCH [1] of Engle 90 using rugarch? The aparch models seem close, but don't allow for different powers of epsilon as far as I can see. 
> 
> Thanks, 
> Michael
> 
> [1] I know GARCH terminology is a mess, so I'm using that given at public.econ.duke.edu/~boller/Papers/glossary_arch.pdf (P.2 in my case)
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From michael.weylandt at gmail.com  Wed Nov 20 03:35:00 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Tue, 19 Nov 2013 21:35:00 -0500
Subject: [R-SIG-Finance] AGARCH + rugarch
In-Reply-To: <528C08EC.8090303@4dscape.com>
References: <AD2F34E5-F422-446A-84FF-9252FC656EA9@gmail.com>
	<528C08EC.8090303@4dscape.com>
Message-ID: <145E01DF-99DA-4F92-9CEF-A1EB1C935194@gmail.com>

Just trying to replicate a bit of research which uses it. 

As to the value of it compared with GJR -- I'll defer to your expertise. 

Cheers,
MW

On Nov 19, 2013, at 19:57, alexios ghalanos <alexios at 4dscape.com> wrote:

> Sentana (1995) actually worked out more thoroughly the details of this
> model which he called quadratic ARCH (QGARCH).
> 
> This is not implemented in rugarch. For asymmetric response to shocks
> try the GJR (gjrGARCH), TGARCH (model="fGARCH", submodel="TGARCH")
> or NAGARCH (model="fGARCH", submodel="NAGARCH")...among others.
> If you provide compelling evidence why this model merits inclusion I
> will consider it.
> 
> Regards,
> 
> Alexios
> 
> 
> On 20/11/2013 00:34, R. Michael Weylandt <michael.weylandt at gmail.com> wrote:
>> Is it possible to implement the AGARCH [1] of Engle 90 using rugarch? The aparch models seem close, but don't allow for different powers of epsilon as far as I can see. 
>> 
>> Thanks, 
>> Michael
>> 
>> [1] I know GARCH terminology is a mess, so I'm using that given at public.econ.duke.edu/~boller/Papers/glossary_arch.pdf (P.2 in my case)
>> 
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
> 


From alexios at 4dscape.com  Wed Nov 20 04:04:29 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Wed, 20 Nov 2013 03:04:29 +0000
Subject: [R-SIG-Finance] AGARCH + rugarch
In-Reply-To: <145E01DF-99DA-4F92-9CEF-A1EB1C935194@gmail.com>
References: <AD2F34E5-F422-446A-84FF-9252FC656EA9@gmail.com>
	<528C08EC.8090303@4dscape.com>
	<145E01DF-99DA-4F92-9CEF-A1EB1C935194@gmail.com>
Message-ID: <528C26BD.2060505@4dscape.com>

On 20/11/2013 02:35, R. Michael Weylandt <michael.weylandt at gmail.com> wrote:
> Just trying to replicate a bit of research which uses it. 
> 
> As to the value of it compared with GJR -- I'll defer to your expertise. 
> 
No idea...never used the QGARCH model before.

> Cheers,
> MW
> 
> On Nov 19, 2013, at 19:57, alexios ghalanos <alexios at 4dscape.com> wrote:
> 
>> Sentana (1995) actually worked out more thoroughly the details of this
>> model which he called quadratic ARCH (QGARCH).
>>
>> This is not implemented in rugarch. For asymmetric response to shocks
>> try the GJR (gjrGARCH), TGARCH (model="fGARCH", submodel="TGARCH")
>> or NAGARCH (model="fGARCH", submodel="NAGARCH")...among others.
>> If you provide compelling evidence why this model merits inclusion I
>> will consider it.
>>
>> Regards,
>>
>> Alexios
>>
>>
>> On 20/11/2013 00:34, R. Michael Weylandt <michael.weylandt at gmail.com> wrote:
>>> Is it possible to implement the AGARCH [1] of Engle 90 using rugarch? The aparch models seem close, but don't allow for different powers of epsilon as far as I can see. 
>>>
>>> Thanks, 
>>> Michael
>>>
>>> [1] I know GARCH terminology is a mess, so I'm using that given at public.econ.duke.edu/~boller/Papers/glossary_arch.pdf (P.2 in my case)
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.
>>
> 
> 
Regards,

Alexios


From markknecht at gmail.com  Thu Nov 21 20:08:29 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 21 Nov 2013 11:08:29 -0800
Subject: [R-SIG-Finance] blotter->chart.Posn -- 'no transactions/position to
	chart'
Message-ID: <CAK2H+efLg2kaL0zubF7_bEqd7iB0gOJ8jFmYuWxDG2t=EqebmA@mail.gmail.com>

Hi,
   I wonder if someone can help me with this error message "no
transactions/positions to chart'? I seem to get this in a lot of my
programs so I created a small self-contained program that also does
it. It sort of comes and goes. I figure maybe I'm doing something
wrong earlier in the program but I haven't found it.

   Data does exist prior to the transaction, and there is a
transaction, so I'm lost as to what chart.Posn is upset with me about.

   Here's what I see when I run the code below:

> getTxns("Equity","VTI")
           Txn.Qty Txn.Price Txn.Fees Txn.Value Txn.Avg.Cost Net.Txn.Realized.PL
1990-01-01       0      0.00        0         0         0.00                   0
2001-06-18     100     47.41        0      4741        47.41                   0
> head(VTI)
           VTI.Open VTI.High  VTI.Low VTI.Close VTI.Volume VTI.Adjusted
2001-06-15 47.08257 47.57527 46.87020  47.28645  1256529.6        44.81
2001-06-18 47.41387 47.49882 46.98488  46.98488   332673.1        44.53
2001-06-19 47.69845 47.71119 46.92117  47.11655  2092568.0        44.65
2001-06-20 47.04010 47.63474 47.04010  47.61350   560341.1        45.12
2001-06-21 47.57102 48.18690 47.46484  47.99577   282995.8        45.48
2001-06-22 47.95329 47.95329 47.46484  47.68995   212600.0        45.19
>
> chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15")
Error in chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15") :
  no transactions/positions to chart

   If it matters, I'm running Gentoo Linux and built blotter and
accompanying programs about 1.5 weeks ago.

Thanks,
Mark




library(blotter)

MyPortfolios = c("Equity")

MySymbols = list()
MySymbols[[1]]= c("VTI","VEU")

currency("USD")

Date_Start = "1990-01-01"
Date_End = format(Sys.time(), "%Y-%m-%d")
Sys.setenv(TZ = "UTC")

stock(MySymbols[[1]], currency = "USD", multiplier = 1)

suppressWarnings(rm("account.ETF_Momentum", pos = .blotter))
suppressWarnings(rm("portfolio.Equity", pos = .blotter))

initPortf(MyPortfolios[1], as.list(MySymbols[[1]]), initDate = "1990-01-01")
initAcct("ETF_Momentum", MyPortfolios, initDate = "1990-01-01", initEq = 1e+05)

getSymbols(MySymbols[[1]], from = Date_Start, to = Date_End, adjust = T)

addTxn("Equity", Symbol = "VTI",  TxnQty = 100,  TxnPrice = 47.41,
TxnDate = "2001-06-18", TxnFees = 0, verbose = FALSE)

updatePortf("Equity")
updateAcct("ETF_Momentum")
updateEndEq("ETF_Momentum")

getTxns("Equity","VTI")
head(VTI)

chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15")


From markknecht at gmail.com  Thu Nov 21 20:38:36 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 21 Nov 2013 11:38:36 -0800
Subject: [R-SIG-Finance] blotter->chart.Posn -- 'no
	transactions/position to chart'
In-Reply-To: <CAK2H+efLg2kaL0zubF7_bEqd7iB0gOJ8jFmYuWxDG2t=EqebmA@mail.gmail.com>
References: <CAK2H+efLg2kaL0zubF7_bEqd7iB0gOJ8jFmYuWxDG2t=EqebmA@mail.gmail.com>
Message-ID: <CAK2H+ec3qQCg+aqQ478mz6QxHRzNFfHJc0xLECm6DFUek9XMyQ@mail.gmail.com>

On Thu, Nov 21, 2013 at 11:08 AM, Mark Knecht <markknecht at gmail.com> wrote:
<SNIP>
>
> chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15")

Note that my Dates entry there is possibly meaningless, I'm not sure.
Most examples I've seen on the web would do something like

chart.Posn("Equity", Symbol = "VTI", Dates = "2001::")

which produces the same error. I also get the same error if I remove
the Dates= option completely.

- Mark


From josh.m.ulrich at gmail.com  Thu Nov 21 20:58:46 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 21 Nov 2013 13:58:46 -0600
Subject: [R-SIG-Finance] blotter->chart.Posn -- 'no
 transactions/position to chart'
In-Reply-To: <CAK2H+ec3qQCg+aqQ478mz6QxHRzNFfHJc0xLECm6DFUek9XMyQ@mail.gmail.com>
References: <CAK2H+efLg2kaL0zubF7_bEqd7iB0gOJ8jFmYuWxDG2t=EqebmA@mail.gmail.com>
	<CAK2H+ec3qQCg+aqQ478mz6QxHRzNFfHJc0xLECm6DFUek9XMyQ@mail.gmail.com>
Message-ID: <CAPPM_gRQ7xc1_RjGPM_MyPriCXEHu5eTMcKV_8tdJoeNKfTRyw@mail.gmail.com>

On Thu, Nov 21, 2013 at 1:38 PM, Mark Knecht <markknecht at gmail.com> wrote:
> On Thu, Nov 21, 2013 at 11:08 AM, Mark Knecht <markknecht at gmail.com> wrote:
> <SNIP>
>>
>> chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15")
>
> Note that my Dates entry there is possibly meaningless, I'm not sure.
> Most examples I've seen on the web would do something like
>
Yes, setting Dates to a single observation is unlikely to ever work.

> chart.Posn("Equity", Symbol = "VTI", Dates = "2001::")
>
> which produces the same error. I also get the same error if I remove
> the Dates= option completely.
>
That's because you only have one transaction. chart.Posn currently
requires at least two transactions before it can plot anything.
Perhaps we could add a "includeOpenTrade" argument like perTradeStats
has... at bare minimum, the error could be a bit more informative.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From markknecht at gmail.com  Thu Nov 21 21:09:10 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 21 Nov 2013 12:09:10 -0800
Subject: [R-SIG-Finance] blotter->chart.Posn -- 'no
 transactions/position to chart'
In-Reply-To: <CAPPM_gRQ7xc1_RjGPM_MyPriCXEHu5eTMcKV_8tdJoeNKfTRyw@mail.gmail.com>
References: <CAK2H+efLg2kaL0zubF7_bEqd7iB0gOJ8jFmYuWxDG2t=EqebmA@mail.gmail.com>
	<CAK2H+ec3qQCg+aqQ478mz6QxHRzNFfHJc0xLECm6DFUek9XMyQ@mail.gmail.com>
	<CAPPM_gRQ7xc1_RjGPM_MyPriCXEHu5eTMcKV_8tdJoeNKfTRyw@mail.gmail.com>
Message-ID: <CAK2H+ecEgN=1e9ee0MxfCxq_wzHDe=2Wa-eEEcuwABE_qF2QmQ@mail.gmail.com>

On Thu, Nov 21, 2013 at 11:58 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> On Thu, Nov 21, 2013 at 1:38 PM, Mark Knecht <markknecht at gmail.com> wrote:
>> On Thu, Nov 21, 2013 at 11:08 AM, Mark Knecht <markknecht at gmail.com> wrote:
>> <SNIP>
>>>
>>> chart.Posn("Equity", Symbol = "VTI", Dates = "2001-06-15")
>>
>> Note that my Dates entry there is possibly meaningless, I'm not sure.
>> Most examples I've seen on the web would do something like
>>
> Yes, setting Dates to a single observation is unlikely to ever work.
>
>> chart.Posn("Equity", Symbol = "VTI", Dates = "2001::")
>>
>> which produces the same error. I also get the same error if I remove
>> the Dates= option completely.
>>
> That's because you only have one transaction. chart.Posn currently
> requires at least two transactions before it can plot anything.
> Perhaps we could add a "includeOpenTrade" argument like perTradeStats
> has... at bare minimum, the error could be a bit more informative.
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com

Hi Joshua,
   OK, I'm sort of laughing out loud here as I don't think my solution
is what you really intended I do but you are correct, a single
purchase of 100 shares fails where as 2 purchases of 50 shares on the
same date, as in:

addTxn("Equity", Symbol = "VTI",  TxnQty = 50,  TxnPrice = 47.41,
TxnDate = "2001-06-18", TxnFees = 0, verbose = FALSE)
addTxn("Equity", Symbol = "VTI",  TxnQty = 50,  TxnPrice = 47.41,
TxnDate = "2001-06-18", TxnFees = 0, verbose = FALSE)

actually works just fine. The position is now 100 shares and
chart.Posn draws the chart correctly as best I can tell.

   None the less thanks VERY much for the quick answer.

Cheers,
Mark


From faiube at gmail.com  Mon Nov 25 00:05:35 2013
From: faiube at gmail.com (fernando)
Date: Sun, 24 Nov 2013 15:05:35 -0800 (PST)
Subject: [R-SIG-Finance] ploting time series
Message-ID: <1385334335651-4681085.post@n4.nabble.com>

Please,
I am ploting a time series in which the x-axis are dates.
How to use the "segments" in this graph?
Thanks



--
View this message in context: http://r.789695.n4.nabble.com/ploting-time-series-tp4681085.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From markknecht at gmail.com  Mon Nov 25 01:18:43 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Sun, 24 Nov 2013 16:18:43 -0800
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385334335651-4681085.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
Message-ID: <CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>

On Sun, Nov 24, 2013 at 3:05 PM, fernando <faiube at gmail.com> wrote:
> Please,
> I am ploting a time series in which the x-axis are dates.
> How to use the "segments" in this graph?
> Thanks
>


If you will provide R code for a very small example case then you'll
likely get an answer that works for you.

Cheers,
Mark


From thibaut.vernay at outlook.com  Mon Nov 25 15:41:45 2013
From: thibaut.vernay at outlook.com (tvernay)
Date: Mon, 25 Nov 2013 06:41:45 -0800 (PST)
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
Message-ID: <1385390504939-4681114.post@n4.nabble.com>

Deal all,

Using the ugarchfit function from the (very good) rugarch package with a
given external regressor matrix archxreg (3 columns), I got a strange error
that I do not understand. The following code:

###
archspec <- ugarchspec(
mean.model   
=list(armaOrder=c(18,19),external.regressors=archxreg,archex=FALSE),
variance.model=list(garchOrder=c(2,2),external.regressors=NULL),
distribution="std");
#
ctrl = list(RHO = 1,DELTA = 1e-8,MAJIT = 100,MINIT = 650,TOL = 1e-6);
#
myarch      <- ugarchfit(archspec,NCO,solver = "solnp",solver.control =
ctrl)
###

provides the following error:

---
ugarchfilter-->error: parameters names do not match specification
Expected Parameters are: mu ar1 ar2 ar3 ar4 ar5 ar6 ar7 ar8 ar9 ar10 ar11
ar12 ar13 ar14 ar15 ar16 ar17 ar18 ma1 ma2 ma3 ma4 ma5 ma6 ma7 ma8 ma9
mxreg1 mxreg2 mxreg3 omega alpha1 alpha2 beta1 beta2 shape
---

Note that this error does not appear if 'external.regressors=archxreg' is
replaced by 'external.regressors=NULL', or if some different external
regressors are considered. Does anyone know where this kind of error may
come from?

Many thanks in advance,

Thibaut





--
View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Mon Nov 25 22:44:27 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Mon, 25 Nov 2013 21:44:27 +0000
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
 regressors
In-Reply-To: <1385390504939-4681114.post@n4.nabble.com>
References: <1385390504939-4681114.post@n4.nabble.com>
Message-ID: <5293C4BB.8000401@4dscape.com>

I searched my code and the error message you provide does not link back
to the sequence of commands you have used.
- the "ugarchfit" function will not thrown an error starting
"ugarchfilter" (unless you have fixed all the parameters in the
specification which you have not done).
- The error has expected parameters for the ma order ending at 9 which
cannot be the case since you have used 19 in your specification.

What version of rugarch are you using?

-Alexios

On 25/11/2013 14:41, tvernay wrote:
> Deal all,
> 
> Using the ugarchfit function from the (very good) rugarch package with a
> given external regressor matrix archxreg (3 columns), I got a strange error
> that I do not understand. The following code:
> 
> ###
> archspec <- ugarchspec(
> mean.model   
> =list(armaOrder=c(18,19),external.regressors=archxreg,archex=FALSE),
> variance.model=list(garchOrder=c(2,2),external.regressors=NULL),
> distribution="std");
> #
> ctrl = list(RHO = 1,DELTA = 1e-8,MAJIT = 100,MINIT = 650,TOL = 1e-6);
> #
> myarch      <- ugarchfit(archspec,NCO,solver = "solnp",solver.control =
> ctrl)
> ###
> 
> provides the following error:
> 
> ---
> ugarchfilter-->error: parameters names do not match specification
> Expected Parameters are: mu ar1 ar2 ar3 ar4 ar5 ar6 ar7 ar8 ar9 ar10 ar11
> ar12 ar13 ar14 ar15 ar16 ar17 ar18 ma1 ma2 ma3 ma4 ma5 ma6 ma7 ma8 ma9
> mxreg1 mxreg2 mxreg3 omega alpha1 alpha2 beta1 beta2 shape
> ---
> 
> Note that this error does not appear if 'external.regressors=archxreg' is
> replaced by 'external.regressors=NULL', or if some different external
> regressors are considered. Does anyone know where this kind of error may
> come from?
> 
> Many thanks in advance,
> 
> Thibaut
> 
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From thibaut.vernay at outlook.com  Tue Nov 26 08:58:58 2013
From: thibaut.vernay at outlook.com (tvernay)
Date: Mon, 25 Nov 2013 23:58:58 -0800 (PST)
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
In-Reply-To: <5293C4BB.8000401@4dscape.com>
References: <1385390504939-4681114.post@n4.nabble.com>
	<5293C4BB.8000401@4dscape.com>
Message-ID: <1385452738327-4681158.post@n4.nabble.com>

Dear Alexios,

Many thanks for your answer.

-When I reorganized the code in my post in order to make it more readable, I
accidentally added a wrong '1', but my q parameter for the ARMA model is 9
and not 19 (hence my error message), sorry for this mistake in my post

- I am using the rugarch version 1.2-7

- I have no ugarchfilter function in my code, which is indeed strange (the
error apparently comes from ugarchfit)

There is no possibility that the ugarchfit function generates this error?

Thanks for your help, cheers,

Thibaut



--
View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681158.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Tue Nov 26 09:09:51 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 26 Nov 2013 08:09:51 +0000
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
 regressors
In-Reply-To: <1385452738327-4681158.post@n4.nabble.com>
References: <1385390504939-4681114.post@n4.nabble.com>	<5293C4BB.8000401@4dscape.com>
	<1385452738327-4681158.post@n4.nabble.com>
Message-ID: <5294574F.8010103@4dscape.com>

Try with the latest version from r-forge (1.2-9):
install.packages("rugarch", repos="http://R-Forge.R-project.org")

If you get the error again report back and I'll investigate further.

-Alexios


On 26/11/2013 07:58, tvernay wrote:
> Dear Alexios,
> 
> Many thanks for your answer.
> 
> -When I reorganized the code in my post in order to make it more readable, I
> accidentally added a wrong '1', but my q parameter for the ARMA model is 9
> and not 19 (hence my error message), sorry for this mistake in my post
> 
> - I am using the rugarch version 1.2-7
> 
> - I have no ugarchfilter function in my code, which is indeed strange (the
> error apparently comes from ugarchfit)
> 
> There is no possibility that the ugarchfit function generates this error?
> 
> Thanks for your help, cheers,
> 
> Thibaut
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681158.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From veepsirtt at gmail.com  Tue Nov 26 10:47:25 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Tue, 26 Nov 2013 01:47:25 -0800 (PST)
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
Message-ID: <1385459245131-4681163.post@n4.nabble.com>

Hello gsee,

I tryied the examples given in your documentation.
But I am getting errors.
what is the problem?
With regards
veepsirtt.
------------------------------------------------------------------------

## Cannot run these because there may not be an internet connection
## Not run:
library(TFX)
QueryTrueFX() #unauthenticated
QueryTrueFX(pretty=FALSE)
QueryTrueFX(parse=FALSE)

## For authenticated session, you must have a username and password (it?s
free).
## Use your username and passward instead of JSTrader and Ou812

id <- ConnectTrueFX(?EUR/USD,GBP/USD?, username=?veepsirtt?,
password=?veeps203?)
QueryTrueFX(id)
QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
password=?veeps203?,format=?csv?), parse=FALSE)
QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
password=?veeps203?,format=?html?), parse=FALSE)
## If you have shiny installed
## install.packages("shiny", repos="http://rstudio.org/_packages")
library(shiny)

runGist("4122626")

## view the code for this shiny app at
#browseURL("https://gist.github.com/4122626")
## End(Not run)--------------------------------------



************************RESULTS*******************
> source('~/.active-rstudio-document', echo=TRUE)
Error in source("~/.active-rstudio-document", echo = TRUE) : 
  ~/.active-rstudio-document:11:21: unexpected input
10: 
11: id <- ConnectTrueFX(?
                       ^
> sessionInfo() 
R version 2.15.3 (2013-03-01)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    LC_PAPER=C                
LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] shiny_0.8.0     TFX_0.1.0       ggplot2_0.9.3.1 xtsExtra_0.0-1 
tseries_0.10-32 quantmod_0.4-0 
 [7] TTR_0.21-1      xts_0.9-3       zoo_1.7-9       Defaults_1.1-1 

loaded via a namespace (and not attached):
 [1] bitops_1.0-4.1     caTools_1.13       colorspace_1.2-0  
dichromat_1.2-4    digest_0.5.2      
 [6] grid_2.15.3        gtable_0.1.1       httpuv_1.2.0       labeling_0.1      
lattice_0.20-13   
[11] MASS_7.3-23        munsell_0.4        plyr_1.7.1         proto_0.3-9.2     
quadprog_1.5-5    
[16] RColorBrewer_1.0-5 Rcpp_0.10.2        reshape2_1.2.1     RJSONIO_1.0-1     
scales_0.2.3      
[21] stringr_0.6.1      tools_2.15.3       XML_3.98-1.1       xtable_1.7-0      
> 





--
View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681163.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From patrick at burns-stat.com  Tue Nov 26 12:34:50 2013
From: patrick at burns-stat.com (Patrick Burns)
Date: Tue, 26 Nov 2013 11:34:50 +0000
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385334335651-4681085.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
Message-ID: <5294875A.1020800@burns-stat.com>

My approach in your situation would be to
do the original plot command and then do:

par("usr")

This will return a length 4 vector of the
2 X limits and 2 Y limits that the graphics
system think are in place.  Those first
two numbers should tell you how R is thinking
and you can then adjust your thinking when
you use 'segments'.

Note that this only works with base graphics.
If you are using ggplot2 or grid graphics, then
you'll need a different approach.

Pat


On 24/11/2013 23:05, fernando wrote:
> Please,
> I am ploting a time series in which the x-axis are dates.
> How to use the "segments" in this graph?
> Thanks
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/ploting-time-series-tp4681085.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>

-- 
Patrick Burns
patrick at burns-stat.com
http://www.burns-stat.com
http://www.portfolioprobe.com/blog
twitter: @burnsstat @portfolioprobe


From thibaut.vernay at outlook.com  Tue Nov 26 13:14:34 2013
From: thibaut.vernay at outlook.com (tvernay)
Date: Tue, 26 Nov 2013 04:14:34 -0800 (PST)
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
In-Reply-To: <5294574F.8010103@4dscape.com>
References: <1385390504939-4681114.post@n4.nabble.com>
	<5293C4BB.8000401@4dscape.com>
	<1385452738327-4681158.post@n4.nabble.com>
	<5294574F.8010103@4dscape.com>
Message-ID: <1385468074511-4681177.post@n4.nabble.com>

Thanks for this suggestion Alexios. I am now running the latest rugarch
version from r-forge (1.2-9) but the error remains. Basically, this error is
described as a ugarchfilter error, while I do not have any call to this
routine in my code. Apparently this error comes from the ugarchfit function
with external regressors, for some reason...

Cheers,

Thibaut



--
View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Tue Nov 26 15:02:22 2013
From: gsee000 at gmail.com (G See)
Date: Tue, 26 Nov 2013 08:02:22 -0600
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <1385459245131-4681163.post@n4.nabble.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
Message-ID: <CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>

Try typing that command.  Your single quote is a weird character.  Try this:

id <- ConnectTrueFX('EUR/USD,GBP/USD', username='veepsirtt',
                                      password='veeps203')

On Tue, Nov 26, 2013 at 3:47 AM, veepsirtt <veepsirtt at gmail.com> wrote:
> Hello gsee,
>
> I tryied the examples given in your documentation.
> But I am getting errors.
> what is the problem?
> With regards
> veepsirtt.
> ------------------------------------------------------------------------
>
> ## Cannot run these because there may not be an internet connection
> ## Not run:
> library(TFX)
> QueryTrueFX() #unauthenticated
> QueryTrueFX(pretty=FALSE)
> QueryTrueFX(parse=FALSE)
>
> ## For authenticated session, you must have a username and password (it?s
> free).
> ## Use your username and passward instead of JSTrader and Ou812
>
> id <- ConnectTrueFX(?EUR/USD,GBP/USD?, username=?veepsirtt?,
> password=?veeps203?)
> QueryTrueFX(id)
> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
> password=?veeps203?,format=?csv?), parse=FALSE)
> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
> password=?veeps203?,format=?html?), parse=FALSE)
> ## If you have shiny installed
> ## install.packages("shiny", repos="http://rstudio.org/_packages")
> library(shiny)
>
> runGist("4122626")
>
> ## view the code for this shiny app at
> #browseURL("https://gist.github.com/4122626")
> ## End(Not run)--------------------------------------
>
>
>
> ************************RESULTS*******************
>> source('~/.active-rstudio-document', echo=TRUE)
> Error in source("~/.active-rstudio-document", echo = TRUE) :
>   ~/.active-rstudio-document:11:21: unexpected input
> 10:
> 11: id <- ConnectTrueFX(?
>                        ^
>> sessionInfo()
> R version 2.15.3 (2013-03-01)
> Platform: x86_64-pc-linux-gnu (64-bit)
>
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
> LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    LC_PAPER=C
> LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
>  [1] shiny_0.8.0     TFX_0.1.0       ggplot2_0.9.3.1 xtsExtra_0.0-1
> tseries_0.10-32 quantmod_0.4-0
>  [7] TTR_0.21-1      xts_0.9-3       zoo_1.7-9       Defaults_1.1-1
>
> loaded via a namespace (and not attached):
>  [1] bitops_1.0-4.1     caTools_1.13       colorspace_1.2-0
> dichromat_1.2-4    digest_0.5.2
>  [6] grid_2.15.3        gtable_0.1.1       httpuv_1.2.0       labeling_0.1
> lattice_0.20-13
> [11] MASS_7.3-23        munsell_0.4        plyr_1.7.1         proto_0.3-9.2
> quadprog_1.5-5
> [16] RColorBrewer_1.0-5 Rcpp_0.10.2        reshape2_1.2.1     RJSONIO_1.0-1
> scales_0.2.3
> [21] stringr_0.6.1      tools_2.15.3       XML_3.98-1.1       xtable_1.7-0
>>
>
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681163.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From michael.weylandt at gmail.com  Tue Nov 26 15:22:15 2013
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Tue, 26 Nov 2013 09:22:15 -0500
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385334335651-4681085.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
Message-ID: <5221D3E9-805D-4220-9C87-967F8D4FE011@gmail.com>

If you are using my xtsExtra::plot.xts or Jeff's xts::plot.xts, the plot engine uses POSIXct (unix epoch seconds) to align the x-axis; that sometimes throws folks off. Take a look at xtsExtra::lines.xts for an example. 

Michael

On Nov 24, 2013, at 18:05, fernando <faiube at gmail.com> wrote:

> Please,
> I am ploting a time series in which the x-axis are dates.
> How to use the "segments" in this graph?
> Thanks
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/ploting-time-series-tp4681085.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From alexios at 4dscape.com  Tue Nov 26 16:25:51 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 26 Nov 2013 15:25:51 +0000
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
 regressors
In-Reply-To: <1385468074511-4681177.post@n4.nabble.com>
References: <1385390504939-4681114.post@n4.nabble.com>	<5293C4BB.8000401@4dscape.com>	<1385452738327-4681158.post@n4.nabble.com>	<5294574F.8010103@4dscape.com>
	<1385468074511-4681177.post@n4.nabble.com>
Message-ID: <5294BD7F.70308@4dscape.com>

Send me your exact code and dataset used (if possible) off-mailing list
and I'll take a look.

Alexios

On 26/11/2013 12:14, tvernay wrote:
> Thanks for this suggestion Alexios. I am now running the latest rugarch
> version from r-forge (1.2-9) but the error remains. Basically, this error is
> described as a ugarchfilter error, while I do not have any call to this
> routine in my code. Apparently this error comes from the ugarchfit function
> with external regressors, for some reason...
> 
> Cheers,
> 
> Thibaut
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From faiube at gmail.com  Tue Nov 26 17:13:16 2013
From: faiube at gmail.com (fernando)
Date: Tue, 26 Nov 2013 08:13:16 -0800 (PST)
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>
References: <1385334335651-4681085.post@n4.nabble.com>
	<CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>
Message-ID: <1385482396921-4681190.post@n4.nabble.com>

Hi Mark,

An example would be the following code

x <- c("1jan1997", "2jan1997", "3jan1997", "4jan1997")
y <- c(-.3, 0.2, -0.2, 0.3)
date <- as.Date(x, "%d%b%Y")
plot(date,y, type="l", ylim=c(-0.32,0.32))
segments(1,-.2,4,-.2) # I want a segment from Thu through Sat at y = -0.2

Thanks in advance.

Cheers



--
View this message in context: http://r.789695.n4.nabble.com/ploting-time-series-tp4681085p4681190.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From markknecht at gmail.com  Tue Nov 26 17:54:02 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 26 Nov 2013 08:54:02 -0800
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385482396921-4681190.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
	<CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>
	<1385482396921-4681190.post@n4.nabble.com>
Message-ID: <CAK2H+efZbepGFU84shSJ0CnUeVqm5-GVt++4JwFpaCx3=v2BCw@mail.gmail.com>

On Tue, Nov 26, 2013 at 8:13 AM, fernando <faiube at gmail.com> wrote:
> Hi Mark,
>
> An example would be the following code
>
> x <- c("1jan1997", "2jan1997", "3jan1997", "4jan1997")
> y <- c(-.3, 0.2, -0.2, 0.3)
> date <- as.Date(x, "%d%b%Y")
> plot(date,y, type="l", ylim=c(-0.32,0.32))
> segments(1,-.2,4,-.2) # I want a segment from Thu through Sat at y = -0.2
>
> Thanks in advance.

It looks to me like the function segments is looking for groups of 4
values which you did set up, but that your first and third values
aren't 'dates' like the chart. Likely this means it's creating a
segment but it's off your chart somewhere in space.

Converting your 2nd & 4th dates appears to draw a segment from
Thursday to Saturday. I painted it read to make it move visible.

x <- c("1jan1997", "2jan1997", "3jan1997", "4jan1997")
y <- c(-.3, 0.2, -0.2, 0.3)
date <- as.Date(x, "%d%b%Y")
plot(date,y, type="l", ylim=c(-0.32,0.32))
#segments(1,-.2,4,-.2) # I want a segment from Thu through Sat at y = -0.2
segments(as.Date("2jan1997", "%d%b%Y"),-.2,
         as.Date("4jan1997", "%d%b%Y"),-.2, col='red') # I want a
segment from Thu through Sat at y = -0.2

Hope this helps,
Mark


From daniel319 at gmail.com  Tue Nov 26 20:20:44 2013
From: daniel319 at gmail.com (daniel)
Date: Tue, 26 Nov 2013 17:20:44 -0200
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385482396921-4681190.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
	<CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>
	<1385482396921-4681190.post@n4.nabble.com>
Message-ID: <CAPfrkhms9tJws4gc-FW97uQUJsZJ8Njp1acS4U7BCO_ag+yFJQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131126/5cf8515e/attachment.pl>

From daniel319 at gmail.com  Tue Nov 26 20:57:09 2013
From: daniel319 at gmail.com (daniel)
Date: Tue, 26 Nov 2013 17:57:09 -0200
Subject: [R-SIG-Finance] ploting time series
In-Reply-To: <1385482396921-4681190.post@n4.nabble.com>
References: <1385334335651-4681085.post@n4.nabble.com>
	<CAK2H+ecMk3bgpD12xPdzSXS0FhLiQTGr+MdJ1BKznCRf_77JPw@mail.gmail.com>
	<1385482396921-4681190.post@n4.nabble.com>
Message-ID: <CAPfrkhmp=1nrw-sAMSf5tcmDr06mgxxuFguppFN5Rs1aHDG8Uw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131126/ddcebe1a/attachment.pl>

From zadig_1 at excite.com  Wed Nov 27 14:52:31 2013
From: zadig_1 at excite.com (ce)
Date: Wed, 27 Nov 2013 08:52:31 -0500
Subject: [R-SIG-Finance] blotter package,
	can't add new symbol to existing portfolio
Message-ID: <20131127085231.22271@web002.roc2.bluetie.com>

Dear all,

I am following blotter example in the http://artax.karlin.mff.cuni.cz/r-help/library/blotter/html/blotter-package.html
I create, initialize , and add transactions. but when it comes to add a new stock symbol to  portfolio it gives an error message. Example adds MMM, I get Error in if (nrow(PosData) > 1) { : argument is of length zero 

R version 3.0.2 

> library(blotter)
Loading required package: xts
Loading required package: zoo

Attaching package: ?zoo?

The following objects are masked from ?package:base?:

    as.Date, as.Date.numeric

Loading required package: FinancialInstrument
Loading required package: quantmod
Loading required package: Defaults
Loading required package: TTR
Version 0.4-0 included new data defaults. See ?getSymbols.
Loading required package: PerformanceAnalytics

Package PerformanceAnalytics (1.1.0) loaded.
Econometric tools for performance and risk analysis.
(c) 2004-2012 Peter Carl, Brian G. Peterson. License: GPL
http://r-forge.r-project.org/projects/returnanalytics/


> currency("USD")
[1] "USD"
> symbols = c("IBM","F")
> for(symbol in symbols){ # establish tradable instruments
+     stock(symbol, currency="USD", multiplier=1)
+ }
> 
> # Download price data
> require(quantmod)
> getSymbols(symbols, from='2007-01-01', to='2007-01-31', src='yahoo',
+ index.class=c("POSIXt","POSIXct"))
[1] "IBM" "F"  
> 
> # Initialize a portfolio object 'p'
> print('Creating portfolio \"p\"...')
[1] "Creating portfolio \"p\"..."
> initPortf('p', symbols=symbols, currency="USD")
[1] "p"
> 
> ## Trades must be made in date order.
> print('Adding trades to \"p\"...')
[1] "Adding trades to \"p\"..."
> # Make a couple of trades in IBM
> addTxn(Portfolio = "p", Symbol = "IBM", TxnDate = '2007-01-03', TxnQty = 50, 
+ TxnPrice = 96.5, TxnFees = -0.05*50)
[1] "2007-01-03 00:00:00 IBM 50 @ 96.5"
> addTxn("p", "IBM", '2007-01-04', 50, 97.1, TxnFees = -0.05*50)
[1] "2007-01-04 00:00:00 IBM 50 @ 97.1"
> 
> # ...a few in F...
> addTxn("p", "F", '2007-01-03', -100, 7.60, TxnFees = pennyPerShare(-100))
[1] "2007-01-03 00:00:00 F -100 @ 7.6"
> addTxn("p", "F", '2007-01-04', 50, 7.70, TxnFees = pennyPerShare(50))
[1] "2007-01-04 00:00:00 F 50 @ 7.7"
> addTxn("p", "F", '2007-01-10', 50, 7.78, TxnFees = pennyPerShare(50))
[1] "2007-01-10 00:00:00 F 50 @ 7.78"
> getSymbols("MMM", from='2007-01-01', to='2007-01-31', src='yahoo',
+ index.class=c("POSIXt","POSIXct")) # Download price data
[1] "MMM"
> stock("MMM", currency="USD", multiplier=1) # Add the instrument
[1] "MMM"
> 
> # Now we can add transactions:
> addTxn("p", "MMM", '2007-01-05', -50, 77.9, TxnFees = -0.05*50)
Error in if (nrow(PosData) > 1) { : argument is of length zero


From veepsirtt at gmail.com  Wed Nov 27 17:28:10 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Wed, 27 Nov 2013 08:28:10 -0800 (PST)
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
Message-ID: <CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131127/2c2da4f3/attachment.pl>

From veepsirtt at gmail.com  Thu Nov 28 05:37:25 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Wed, 27 Nov 2013 20:37:25 -0800 (PST)
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
	<CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
Message-ID: <1385613445472-4681300.post@n4.nabble.com>

Hello Gsee,
Why I am getting this error?.
unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
-----------------------------------------------------------

>  ## Cannot run these because there may not be an internet connection
>  ## Not run:
> library(TFX)
> QueryTrueFX() #unauthenticated
    Symbol Bid.Price Ask.Price      High       Low           TimeStamp
1  EUR/USD   1.35773   1.35781   1.35804   1.35634 2013-11-28 04:29:35
2  USD/JPY 102.05800 102.06400 102.29100 101.93300 2013-11-28 04:29:38
3  GBP/USD   1.63036   1.63055   1.63074   1.62763 2013-11-28 04:29:35
4  EUR/GBP   0.83265   0.83282   0.83436   0.83235 2013-11-28 04:29:35
5  USD/CHF   0.90768   0.90784   0.90874   0.90725 2013-11-28 04:29:40
6  EUR/JPY 138.56800 138.58300 138.84900 138.29900 2013-11-28 04:29:35
7  EUR/CHF   1.23241   1.23266   1.23308   1.23195 2013-11-28 04:29:35
8  USD/CAD   1.05844   1.05867   1.05987   1.05746 2013-11-28 04:29:34
9  AUD/USD   0.91259   0.91270   0.91411   0.90742 2013-11-28 04:29:34
10 GBP/JPY 166.38900 166.42000 166.61000 165.95600 2013-11-28 04:29:35
>  QueryTrueFX(pretty=FALSE)
$Symbol
 [1] "EUR/USD" "USD/JPY" "GBP/USD" "EUR/GBP" "USD/CHF" "EUR/JPY" "EUR/CHF"
"USD/CAD" "AUD/USD" "GBP/JPY"

$BidBigNumber
 [1] "1.35" "102." "1.63" "0.83" "0.90" "138." "1.23" "1.05" "0.91" "166."

$BidPip
 [1] "773" "058" "036" "265" "768" "568" "241" "844" "259" "389"

$OfferBigNumber
 [1] "1.35" "102." "1.63" "0.83" "0.90" "138." "1.23" "1.05" "0.91" "166."

$OfferPip
 [1] "781" "064" "055" "282" "784" "583" "266" "867" "270" "420"

$High
 [1] "1.35804" "102.291" "1.63074" "0.83436" "0.90874" "138.849" "1.23308"
"1.05987" "0.91411" "166.610"

$Low
 [1] "1.35634" "101.933" "1.62763" "0.83235" "0.90725" "138.299" "1.23195"
"1.05746" "0.90742" "165.956"

$TimeStamp
 [1] "1385612975232" "1385612978277" "1385612975780" "1385612975128"
"1385612980409" "1385612975181"
 [7] "1385612975905" "1385612974630" "1385612974758" "1385612975675"

>  QueryTrueFX(parse=FALSE)
[1]
"EUR/USDUSD/JPYGBP/USDEUR/GBPUSD/CHFEUR/JPYEUR/CHFUSD/CADAUD/USDGBP/JPY1.35102.1.630.830.90138.1.231.050.91166.7690580362627735672398442593891.35102.1.630.830.90138.1.231.050.91166.7770640552787875812638672704201.35804102.2911.630740.834360.90874138.8491.233081.059870.91411166.6101.35634101.9331.627630.832350.90725138.2991.231951.057460.90742165.9561385612981970138561297827713856129820241385612981995138561298220413856129818141385612981814138561297463013856129747581385612975675"
> 
>  ## For authenticated session, you must have a username and password
> (it?s> free).
>  ## Use your username and passward instead of JSTrader and Ou812
> 
> id <- ConnectTrueFX(?EUR/USD,GBP/USD?,
> username=?veepsirtt?,password=?veeps203?)
Error: unexpected input in "id <- ConnectTrueFX(?"
>  QueryTrueFX(id)
   Symbol Bid.Price Ask.Price    High     Low           TimeStamp
1 EUR/USD   1.35769   1.35777 1.35804 1.35634 2013-11-28 04:29:52
2 GBP/USD   1.63031   1.63048 1.63074 1.62763 2013-11-28 04:29:52
> id
<environment: 0x10459290>
attr(,"class")
[1] "TFXsession"  "environment"
> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
> password=?veeps203?,format=?csv?), arse=FALSE)
Error: unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
> password=?veeps203?,format=?html?), arse=FALSE)
Error: unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
> 




--
View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681300.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Thu Nov 28 05:49:44 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 27 Nov 2013 22:49:44 -0600
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <1385613445472-4681300.post@n4.nabble.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
	<CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
	<1385613445472-4681300.post@n4.nabble.com>
Message-ID: <CA+xi=qbiMbf9QBiN_UtCO2VBcRvYoBaKkDgyjCp30MVXM9vJSQ@mail.gmail.com>

Because you've pasted a right single quote unicode symbol instead of
typing an apostrophe.

When I copy/paste from the command you entered, I get

R> charToRaw("?")
[1] e2 80 99

When I type an apostrophe using the keyboard, I get

R> charToRaw("'")
[1] 27

Try typing your command instead of copy/pasting it.

Hope this helps,
Garrett

On Wed, Nov 27, 2013 at 10:37 PM, veepsirtt <veepsirtt at gmail.com> wrote:
> Hello Gsee,
> Why I am getting this error?.
> unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
> -----------------------------------------------------------
>
>>  ## Cannot run these because there may not be an internet connection
>>  ## Not run:
>> library(TFX)
>> QueryTrueFX() #unauthenticated
>     Symbol Bid.Price Ask.Price      High       Low           TimeStamp
> 1  EUR/USD   1.35773   1.35781   1.35804   1.35634 2013-11-28 04:29:35
> 2  USD/JPY 102.05800 102.06400 102.29100 101.93300 2013-11-28 04:29:38
> 3  GBP/USD   1.63036   1.63055   1.63074   1.62763 2013-11-28 04:29:35
> 4  EUR/GBP   0.83265   0.83282   0.83436   0.83235 2013-11-28 04:29:35
> 5  USD/CHF   0.90768   0.90784   0.90874   0.90725 2013-11-28 04:29:40
> 6  EUR/JPY 138.56800 138.58300 138.84900 138.29900 2013-11-28 04:29:35
> 7  EUR/CHF   1.23241   1.23266   1.23308   1.23195 2013-11-28 04:29:35
> 8  USD/CAD   1.05844   1.05867   1.05987   1.05746 2013-11-28 04:29:34
> 9  AUD/USD   0.91259   0.91270   0.91411   0.90742 2013-11-28 04:29:34
> 10 GBP/JPY 166.38900 166.42000 166.61000 165.95600 2013-11-28 04:29:35
>>  QueryTrueFX(pretty=FALSE)
> $Symbol
>  [1] "EUR/USD" "USD/JPY" "GBP/USD" "EUR/GBP" "USD/CHF" "EUR/JPY" "EUR/CHF"
> "USD/CAD" "AUD/USD" "GBP/JPY"
>
> $BidBigNumber
>  [1] "1.35" "102." "1.63" "0.83" "0.90" "138." "1.23" "1.05" "0.91" "166."
>
> $BidPip
>  [1] "773" "058" "036" "265" "768" "568" "241" "844" "259" "389"
>
> $OfferBigNumber
>  [1] "1.35" "102." "1.63" "0.83" "0.90" "138." "1.23" "1.05" "0.91" "166."
>
> $OfferPip
>  [1] "781" "064" "055" "282" "784" "583" "266" "867" "270" "420"
>
> $High
>  [1] "1.35804" "102.291" "1.63074" "0.83436" "0.90874" "138.849" "1.23308"
> "1.05987" "0.91411" "166.610"
>
> $Low
>  [1] "1.35634" "101.933" "1.62763" "0.83235" "0.90725" "138.299" "1.23195"
> "1.05746" "0.90742" "165.956"
>
> $TimeStamp
>  [1] "1385612975232" "1385612978277" "1385612975780" "1385612975128"
> "1385612980409" "1385612975181"
>  [7] "1385612975905" "1385612974630" "1385612974758" "1385612975675"
>
>>  QueryTrueFX(parse=FALSE)
> [1]
> "EUR/USDUSD/JPYGBP/USDEUR/GBPUSD/CHFEUR/JPYEUR/CHFUSD/CADAUD/USDGBP/JPY1.35102.1.630.830.90138.1.231.050.91166.7690580362627735672398442593891.35102.1.630.830.90138.1.231.050.91166.7770640552787875812638672704201.35804102.2911.630740.834360.90874138.8491.233081.059870.91411166.6101.35634101.9331.627630.832350.90725138.2991.231951.057460.90742165.9561385612981970138561297827713856129820241385612981995138561298220413856129818141385612981814138561297463013856129747581385612975675"
>>
>>  ## For authenticated session, you must have a username and password
>> (it?s> free).
>>  ## Use your username and passward instead of JSTrader and Ou812
>>
>> id <- ConnectTrueFX(?EUR/USD,GBP/USD?,
>> username=?veepsirtt?,password=?veeps203?)
> Error: unexpected input in "id <- ConnectTrueFX(?"
>>  QueryTrueFX(id)
>    Symbol Bid.Price Ask.Price    High     Low           TimeStamp
> 1 EUR/USD   1.35769   1.35777 1.35804 1.35634 2013-11-28 04:29:52
> 2 GBP/USD   1.63031   1.63048 1.63074 1.62763 2013-11-28 04:29:52
>> id
> <environment: 0x10459290>
> attr(,"class")
> [1] "TFXsession"  "environment"
>> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
>> password=?veeps203?,format=?csv?), arse=FALSE)
> Error: unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
>> QueryTrueFX(ConnectTrueFX(username=?veepsirtt?,
>> password=?veeps203?,format=?html?), arse=FALSE)
> Error: unexpected input in "QueryTrueFX(ConnectTrueFX(username=?"
>>
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681300.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From veepsirtt at gmail.com  Thu Nov 28 06:10:44 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Wed, 27 Nov 2013 21:10:44 -0800 (PST)
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <CA+xi=qbiMbf9QBiN_UtCO2VBcRvYoBaKkDgyjCp30MVXM9vJSQ@mail.gmail.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
	<CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
	<1385613445472-4681300.post@n4.nabble.com>
	<CA+xi=qbiMbf9QBiN_UtCO2VBcRvYoBaKkDgyjCp30MVXM9vJSQ@mail.gmail.com>
Message-ID: <1385615444456-4681302.post@n4.nabble.com>

> id < ConnectTrueFX("EUR/USD",username="veepsirtt",password="veeps203")
Error in id < ConnectTrueFX("EUR/USD", username = "veepsirtt", password =
"veeps203") : 
  comparison (3) is possible only for atomic and list types




--
View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681302.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From gsee000 at gmail.com  Thu Nov 28 06:13:14 2013
From: gsee000 at gmail.com (G See)
Date: Wed, 27 Nov 2013 23:13:14 -0600
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <1385615444456-4681302.post@n4.nabble.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
	<CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
	<1385613445472-4681300.post@n4.nabble.com>
	<CA+xi=qbiMbf9QBiN_UtCO2VBcRvYoBaKkDgyjCp30MVXM9vJSQ@mail.gmail.com>
	<1385615444456-4681302.post@n4.nabble.com>
Message-ID: <CA+xi=qYCaMzpg60GdkrFBgiRfJ6AObPVgcWn6kWF6h2hRecJEw@mail.gmail.com>

you entered a less than sign instead of an assignment operator.

instead of
  id < ConnectTrueFX(...
it should be
  id <- ConnectTrueFX(...


On Wed, Nov 27, 2013 at 11:10 PM, veepsirtt <veepsirtt at gmail.com> wrote:
>> id < ConnectTrueFX("EUR/USD",username="veepsirtt",password="veeps203")
> Error in id < ConnectTrueFX("EUR/USD", username = "veepsirtt", password =
> "veeps203") :
>   comparison (3) is possible only for atomic and list types
>
>
>
>
> --
> View this message in context: http://r.789695.n4.nabble.com/Introducing-TFX-An-R-Interface-to-the-TrueFX-Web-API-tp4651827p4681302.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From veepsirtt at gmail.com  Thu Nov 28 06:50:55 2013
From: veepsirtt at gmail.com (veepsirtt)
Date: Wed, 27 Nov 2013 21:50:55 -0800 (PST)
Subject: [R-SIG-Finance] Introducing TFX: An R Interface to the TrueFX
	Web API
In-Reply-To: <CA+xi=qYCaMzpg60GdkrFBgiRfJ6AObPVgcWn6kWF6h2hRecJEw@mail.gmail.com>
References: <CA+xi=qbttKH0_jEm3QLRdFoirmqx-xwxBtpOZRQ8fv9W_4936g@mail.gmail.com>
	<1385459245131-4681163.post@n4.nabble.com>
	<CA+xi=qZqtKfb3fOFRcazqWxdpLz41LTa0ZVQ61KQm4wtbgdXsA@mail.gmail.com>
	<CAP0TLd9Of798=QQBnJjOURAoppbZG4Ovu7ta-9DMbXX6_RhTRA@mail.gmail.com>
	<1385613445472-4681300.post@n4.nabble.com>
	<CA+xi=qbiMbf9QBiN_UtCO2VBcRvYoBaKkDgyjCp30MVXM9vJSQ@mail.gmail.com>
	<1385615444456-4681302.post@n4.nabble.com>
	<CA+xi=qYCaMzpg60GdkrFBgiRfJ6AObPVgcWn6kWF6h2hRecJEw@mail.gmail.com>
Message-ID: <CAP0TLd9tBFQVBrcC1r5BLCssCtdi9Lj6tYxjCkTpb+_G2SMJZA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131127/538455d9/attachment.ksh>

From manojit_roy at comcast.net  Thu Nov 28 16:33:29 2013
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Thu, 28 Nov 2013 15:33:29 +0000 (UTC)
Subject: [R-SIG-Finance] addATR() and addTA(ATR()) generate different plots
Message-ID: <1248115648.2660989.1385652809426.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131128/46346691/attachment.pl>

From josh.m.ulrich at gmail.com  Thu Nov 28 16:38:00 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 28 Nov 2013 09:38:00 -0600
Subject: [R-SIG-Finance] addATR() and addTA(ATR()) generate different
	plots
In-Reply-To: <1248115648.2660989.1385652809426.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1248115648.2660989.1385652809426.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAPPM_gSD4kR0M_-4xFioZjb58GYG8_Bw=aT4JW=BXtjDOU++ZQ@mail.gmail.com>

On Thu, Nov 28, 2013 at 9:33 AM,  <manojit_roy at comcast.net> wrote:
> I get different plots for ATR() when adding this indicator to my chart in two different ways (see last 2 lines of the code below):
>
>> require(quantmod)
>> getSymbols('GTAT')
>> ticker <- last(GTAT,'5 years')
>> barChart(ticker,TA=NULL,theme='white',major.ticks='months',minor.ticks=FALSE,show.grid=FALSE)
>> plot(addATR(n=20))
>> plot(addTA(ATR(ticker,n=20)$atr,col='blue',lwd=2))
>
> Can someone help me understand what I am doing wrong, and which ATR values I should use?
>
ATR requires a HLC object.  You're passing an OHLCV object to it.  Try:
plot(addTA(ATR(HLC(ticker),n=20)$atr,col='blue',lwd=2))

TTR can't use the HLC function because HLC is in quantmod and quantmod
depends on TTR.  So, for the time being, you have to be thoughtful
about the columns in the object you pass to TTR functions.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From josh.m.ulrich at gmail.com  Thu Nov 28 17:08:31 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Thu, 28 Nov 2013 10:08:31 -0600
Subject: [R-SIG-Finance] addATR() and addTA(ATR()) generate different
	plots
In-Reply-To: <404630001.2661192.1385654403031.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <CAPPM_gSD4kR0M_-4xFioZjb58GYG8_Bw=aT4JW=BXtjDOU++ZQ@mail.gmail.com>
	<404630001.2661192.1385654403031.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAPPM_gQBuptGBfW=84mChkfsx_fngcR49kM+GumhJPY+OnvVmg@mail.gmail.com>

On Thu, Nov 28, 2013 at 10:00 AM,  <manojit_roy at comcast.net> wrote:
> Thanks for the prompt response. Adding HLC() to ATR() function brings the
> plot closer to the addATR() plot, but there are still differences - addATR()
> values are somewhat higher than addTA(ATR) values, and the two plots differ
> in shape too.
>
The default arguments are different:
> args(addATR)
function (n = 14, maType = "EMA", ...)
NULL
> args(ATR)
function (HLC, n = 14, maType, ...)
NULL

So try:
addTA(ATR(HLC(ticker),n=20,maType="EMA")$atr,col='blue',lwd=2)

Please keep replies on-list, so everyone can benefit from the discussion.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com

> ________________________________
> From: "Joshua Ulrich" <josh.m.ulrich at gmail.com>
> To: "manojit roy" <manojit_roy at comcast.net>
> Cc: "r-sig-finance" <r-sig-finance at r-project.org>
> Sent: Thursday, November 28, 2013 10:38:00 AM
> Subject: Re: [R-SIG-Finance] addATR() and addTA(ATR()) generate different
> plots
>
>
> On Thu, Nov 28, 2013 at 9:33 AM,  <manojit_roy at comcast.net> wrote:
>> I get different plots for ATR() when adding this indicator to my chart in
>> two different ways (see last 2 lines of the code below):
>>
>>> require(quantmod)
>>> getSymbols('GTAT')
>>> ticker <- last(GTAT,'5 years')
>>>
>>> barChart(ticker,TA=NULL,theme='white',major.ticks='months',minor.ticks=FALSE,show.grid=FALSE)
>>> plot(addATR(n=20))
>>> plot(addTA(ATR(ticker,n=20)$atr,col='blue',lwd=2))
>>
>> Can someone help me understand what I am doing wrong, and which ATR values
>> I should use?
>>
> ATR requires a HLC object.  You're passing an OHLCV object to it.  Try:
> plot(addTA(ATR(HLC(ticker),n=20)$atr,col='blue',lwd=2))
>
> TTR can't use the HLC function because HLC is in quantmod and quantmod
> depends on TTR.  So, for the time being, you have to be thoughtful
> about the columns in the object you pass to TTR functions.
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com


From borsaric at gmail.com  Sun Dec  1 07:27:28 2013
From: borsaric at gmail.com (GiuseppeL)
Date: Sun, 1 Dec 2013 07:27:28 +0100
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
Message-ID: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131201/f5fab8a2/attachment.pl>

From markknecht at gmail.com  Sun Dec  1 15:31:26 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Sun, 1 Dec 2013 06:31:26 -0800
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
In-Reply-To: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
References: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
Message-ID: <CAK2H+edck7jv34LYDH6EpPpN09Q0SpYVTtrBoQUTuap-8-9fiQ@mail.gmail.com>

On Sat, Nov 30, 2013 at 10:27 PM, GiuseppeL <borsaric at gmail.com> wrote:
> Hi,I am studing Guy Yolin's examples (quantstrat-I.Rnw) and I wonder
> if someone can help me with this error message "
>
> Error in initPortf("buyHold", "SPY", initDate = "1997-12-31") :
>   Portfolio buyHold already exists, use updatePortf() or
> addPortfInstr() to update it.In addition: There were 50 or more
> warnings (use warnings() to see the first 50)"
>
> Thanks.
>


Accounts and portfolios are by default stored in .blotter. Once the
code is run once the accounts exist and don't need to be created
again.

ls(.blotter)

You can break the examples into two pieces, one you run once to set
things up and a second one you run when you want to do work. Or, you
can consider adding something like

suppressWarnings(rm("account.ETF_Momentum", pos = .blotter))
suppressWarnings(rm("portfolio.Equity", pos = .blotter))
suppressWarnings(rm("portfolio.Cash", pos = .blotter))

but of course change the names to match what you (or Guy) used.

HTH,
Mark


From aaronbalaster at gmail.com  Mon Dec  2 05:07:16 2013
From: aaronbalaster at gmail.com (Aaron Balaster)
Date: Sun, 1 Dec 2013 23:07:16 -0500
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
In-Reply-To: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
References: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
Message-ID: <CALpfabmced2W_B2ZYcSPM__osQxbSRSc_LD+wBoXU4uEKkf1Gg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131201/f4cee59a/attachment.pl>

From wasili at goutas.de  Mon Dec  2 17:51:07 2013
From: wasili at goutas.de (W.Goutas)
Date: Mon, 02 Dec 2013 17:51:07 +0100
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
In-Reply-To: <CAK2H+edck7jv34LYDH6EpPpN09Q0SpYVTtrBoQUTuap-8-9fiQ@mail.gmail.com>
References: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
	<CAK2H+edck7jv34LYDH6EpPpN09Q0SpYVTtrBoQUTuap-8-9fiQ@mail.gmail.com>
Message-ID: <20131202165107.5615760.22108.7619@goutas.de>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131202/f6f19ccb/attachment.html>

From gyollin at r-programming.org  Mon Dec  2 23:27:50 2013
From: gyollin at r-programming.org (Guy Yollin)
Date: Mon, 2 Dec 2013 14:27:50 -0800
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
In-Reply-To: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
References: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
Message-ID: <019001ceefad$bd2014a0$37603de0$@r-programming.org>

The quantstrat-I slides and R code have been updated to work with the latest
version of quantstrat/blotter (quantstrat_0.8.0, blotter_0.8.17) from
r-forge.

I suspect that the other slide decks will also require updating and I'll
check them over the next week or so.

Best,

G

-----Original Message-----
From: r-sig-finance-bounces at r-project.org
[mailto:r-sig-finance-bounces at r-project.org] On Behalf Of GiuseppeL
Sent: Saturday, November 30, 2013 10:27 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"

Hi,I am studing Guy Yolin's examples (quantstrat-I.Rnw) and I wonder if
someone can help me with this error message "

Error in initPortf("buyHold", "SPY", initDate = "1997-12-31") :
  Portfolio buyHold already exists, use updatePortf() or
addPortfInstr() to update it.In addition: There were 50 or more warnings
(use warnings() to see the first 50)"

Thanks.

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions
should go.


From gyollin at r-programming.org  Mon Dec  2 23:30:26 2013
From: gyollin at r-programming.org (Guy Yollin)
Date: Mon, 2 Dec 2013 14:30:26 -0800
Subject: [R-SIG-Finance] quantstrat: "Error in initPortf"
In-Reply-To: <20131202165107.5615760.22108.7619@goutas.de>
References: <CAGPRSUkAR1Kn+sbcFBLe3-rF3D96jiM-GpXmvCpwOhwPL7Pnqg@mail.gmail.com>
	<CAK2H+edck7jv34LYDH6EpPpN09Q0SpYVTtrBoQUTuap-8-9fiQ@mail.gmail.com>
	<20131202165107.5615760.22108.7619@goutas.de>
Message-ID: <019201ceefae$195b12b0$4c113810$@r-programming.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131202/492938c7/attachment.pl>

From maymaynot at hotmail.com  Tue Dec  3 03:58:07 2013
From: maymaynot at hotmail.com (=?windows-1256?B?QmVubnkgQW5kcukgQnlyZW1v?=)
Date: Tue, 3 Dec 2013 03:58:07 +0100
Subject: [R-SIG-Finance] =?windows-1256?q?The_ruGarch_Package=FE_=26_Insig?=
 =?windows-1256?q?nificant_estimates?=
Message-ID: <DUB109-W103FA53A6B8741BCA30D1C4BAD50@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131203/95b6eeb7/attachment.pl>

From alexios at 4dscape.com  Tue Dec  3 05:49:05 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Tue, 03 Dec 2013 04:49:05 +0000
Subject: [R-SIG-Finance]
 =?utf-8?q?The_ruGarch_Package=E2=80=8F_=26_Insign?=
 =?utf-8?q?ificant_estimates?=
In-Reply-To: <DUB109-W103FA53A6B8741BCA30D1C4BAD50@phx.gbl>
References: <DUB109-W103FA53A6B8741BCA30D1C4BAD50@phx.gbl>
Message-ID: <529D62C1.9090101@4dscape.com>

You have 3 options:

1. Fix the parameter which is not significant to zero and re-estimate
e.g. ma1
"setfixed(modelspec)<-list(ma1=0)"
The documentation on ugarchspec explains the naming of the parameters.

2. Change the ugarchspec to exclude the parameter from estimation.

3. Automatically have the program zero the parameters outside a certain
p-value threshold and re-estimate the model using the 'reduce' method:
e.g. given an estimated model of class uGARCHfit (e.g. 'mod')
newmod = reduce(mod, pvalue=0.1)

At present, the danger of using the 'reduce' method is that it will zero
the GARCH intercept if it is not significant. I will update this to
instead set it to its variance targeting value in the next update.

-Alexios

On 03/12/2013 02:58, Benny Andr? Byremo wrote:
> Hello
> I hope somebody have time to answer me on a question related to the ruGarch package. I have fitted a model , but one of the estimates is insignificant and I want to estimate the same model once more without including this estimate. What should I type to make this happened? I have consulted the package pdf and googled it but without luck.
> The code I used:
> modelspec <- ugarchspec (variance.model = list(model = "gjrGARCH", garchOrder = c(1,1), submodel=0 ), mean.model = list(armaOrder = c(0, 1), include.mean = T), distribution.model = "norm" , fixed.pars=list())  modelspec at model$parsmodelfit <- ugarchfit(spec=modelspec, data=rn)show(model fit)  
> Greetings  		 	   		  
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From manojit_roy at comcast.net  Tue Dec  3 19:04:04 2013
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Tue, 3 Dec 2013 18:04:04 +0000 (UTC)
Subject: [R-SIG-Finance] using getSymbols() with variable symbols
Message-ID: <1397851053.2721544.1386093844117.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131203/bfc9d53a/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Dec  3 19:53:14 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 3 Dec 2013 12:53:14 -0600
Subject: [R-SIG-Finance] using getSymbols() with variable symbols
In-Reply-To: <1397851053.2721544.1386093844117.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1397851053.2721544.1386093844117.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAPPM_gRJuAO=ckxUqMWD3+BW1f9PTRdVii9E1SsbSmvv0_h4_Q@mail.gmail.com>

On Tue, Dec 3, 2013 at 12:04 PM,  <manojit_roy at comcast.net> wrote:
> I am trying to extract symbols and plot them in a loop, using a variable to assign each symbol, as follows:
>
>> symbol.list <- c("LSCC","LSI","LSTR","LTBR","LTON","LTRE","LTRX","LTXC")
>> for(i in 1:8){
>>      symbol <- getSymbols(symbol.list[i])
>>      ticker <- last(symbol,'12 months')
>>      barChart(ticker)
>>}
>
> I am getting an error message "Error in NROW(x) - n : non-numeric argument to binary operator". I think I know where the problem is, but do not know how to extract the output of getSymbols() in a format than can be passed on to last(). Any help is appreciated.
>
Read ?getSymbols and run the examples.  Pay special attention to the
auto.assign arg.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From rbali at ufmg.br  Tue Dec  3 20:45:45 2013
From: rbali at ufmg.br (Robert Iquiapaza)
Date: Tue, 3 Dec 2013 17:45:45 -0200
Subject: [R-SIG-Finance] using getSymbols() with variable symbols
In-Reply-To: <1397851053.2721544.1386093844117.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1397851053.2721544.1386093844117.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAKW5CfpR1MuT=++AtzYypzjXRioWyJFi64Srp4V0++a0zyE2=w@mail.gmail.com>

This works (use auto.assign=FALSE in getSymbols)

Robert

require(quantmod)
symbol.list <- c("LSCC","LSI","LSTR","LTBR","LTON","LTRE","LTRX","LTXC")
 for(i in 1:8){#i=1
      symbol <- getSymbols(symbol.list[i],auto.assign=FALSE)
      ticker <- last(symbol,'12 months')
      barChart(ticker)
}

2013/12/3  <manojit_roy at comcast.net>:
> I am trying to extract symbols and plot them in a loop, using a variable to assign each symbol, as follows:
>
>> symbol.list <- c("LSCC","LSI","LSTR","LTBR","LTON","LTRE","LTRX","LTXC")
>> for(i in 1:8){
>>      symbol <- getSymbols(symbol.list[i])
>>      ticker <- last(symbol,'12 months')
>>      barChart(ticker)
>>}
>
> I am getting an error message "Error in NROW(x) - n : non-numeric argument to binary operator". I think I know where the problem is, but do not know how to extract the output of getSymbols() in a format than can be passed on to last(). Any help is appreciated.
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From manojit_roy at comcast.net  Wed Dec  4 16:35:02 2013
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Wed, 4 Dec 2013 15:35:02 +0000 (UTC)
Subject: [R-SIG-Finance] getSymbols() and broken Internet connection
Message-ID: <1854370266.2741252.1386171302111.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131204/158c034c/attachment.pl>

From rowe at muxspace.com  Wed Dec  4 17:54:59 2013
From: rowe at muxspace.com (Brian Lee Yung Rowe)
Date: Wed, 4 Dec 2013 11:54:59 -0500
Subject: [R-SIG-Finance] getSymbols() and broken Internet connection
In-Reply-To: <1854370266.2741252.1386171302111.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1854370266.2741252.1386171302111.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <5A25C2C0-3C6B-4559-A8AE-6C5764DE3185@muxspace.com>

This isn't really a finance related question, so it's doubtful this is the correct location for such a question. That said, consider using try or tryCatch to handle any exceptions that may arise. 

?????
Brian Lee Yung Rowe
Founder, Zato Novo
Professor 


On Dec 4, 2013, at 10:36 AM, "manojit_roy at comcast.net" <manojit_roy at comcast.net> wrote:

> I am using getSymbols() inside a loop to download all US stocks traded in AMEX, NASDAQ and NYSE (~6000 in all). I am trying to automate the process, but the execution stops each time there is a break in Internet connectivity. Considering that nothing can be done about such connectivity issues, is there a way around this problem?
> 
> Thanks,
> Manojit
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From markknecht at gmail.com  Thu Dec  5 20:55:22 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 5 Dec 2013 11:55:22 -0800
Subject: [R-SIG-Finance] Unreliable Yahoo downloads,
	so possibly save/reread using MySQL?
Message-ID: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>

Hi,
   I read an ETF rotation paper a few weeks ago on Seeking Alpha and
thought I'd play with the ideas in R. Without pointing any fingers (at
Yahoo) I find that downloading adjusted data to be highly unreliable,
especially in the middle of the work day. The following code snippet
is, at the time I'm writing this, failing on one or another of the 5
downloads nearly 100% of the time. It's not always the same symbols
that fail. That seems random to me. However if I change MyAdjust to
FALSE then the downloads seem to work perfectly. My experience is that
after the market closes the adjusted data works most of the time.

   The sort of failure I see looks like the following (which did not
use a to=Date_End) just as a test. In this case it was VNQ/REM that
failed. I checked the Yahoo site and was able to see the data by hand:

> getSymbols(MySymbols[[1]], from = Date_Start, adjust = MyAdjust, src = SymbolSrc)
[1] "VTI" "VEU"
> getSymbols(MySymbols[[2]], from = Date_Start, adjust = MyAdjust, src = SymbolSrc)
[1] "HYG" "CIU"
> getSymbols(MySymbols[[3]], from = Date_Start, adjust = MyAdjust, src = SymbolSrc)
Error in download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
  cannot open URL
'http://ichart.finance.yahoo.com/x?s=VNQ&a=0&b=01&c=2000&d=11&e=05&f=2013&g=v&y=0&z=30000'
In addition: Warning message:
In download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
  cannot open: HTTP status was '0 (null)'
> getSymbols(MySymbols[[4]], from = Date_Start, adjust = MyAdjust, src = SymbolSrc)
[1] "GLD" "TLT"
> getSymbols(MySymbols[[5]], from = Date_Start, adjust = MyAdjust, src = SymbolSrc)
[1] "SHY"

   Anyway, to implement my reading of this paper, I really need
adjusted data to take dividends into account and it seems silly to me
to keep downloading the same data over and over from Yahoo as I play
with this R code. To that end I'm wondering if anyone has a code
example for saving Yahoo data once to MySQL and then (presumably)
changing what I call SymbolSrc=MySQL for subsequent runs when I work
on the R code? I've been searching around in StackOverflow as well as
Google and haven't yet found anything very executable.

   Please note that I'm a retired investor, not a trader, and seldom
work with data faster than 30 minute bars and even then almost never
real-time data, at least in terms of what I would store in MySQL so
I'm not overly concerned right now as to whether MySQL is fast or
slow. I already run MySQL for a couple of other reasons on my Gentoo
box where I'm working in R and would prefer not run another database
right now unless _necessary_.

   Clearly, if there's some stupid issue in my code that fixes this
that would be great to know about also! :-)

Thanks in advance,
Mark



library(quantmod)

Date_Start = "2000-01-01"
Date_End = format(Sys.time(), "%Y-%m-%d")
Sys.setenv(TZ = "UTC")
SymbolSrc = "yahoo"
MyAdjust = TRUE

MySymbols = list()
MySymbols[[1]]= c("VTI","VEU")
MySymbols[[2]]= c("HYG","CIU")
MySymbols[[3]]= c("VNQ","REM")
MySymbols[[4]]= c("GLD","TLT")
MySymbols[[5]]= c("SHY")

getSymbols(MySymbols[[1]], from = Date_Start, to = Date_End, adjust =
MyAdjust, src=SymbolSrc)
getSymbols(MySymbols[[2]], from = Date_Start, to = Date_End, adjust =
MyAdjust, src=SymbolSrc)
getSymbols(MySymbols[[3]], from = Date_Start, to = Date_End, adjust =
MyAdjust, src=SymbolSrc)
getSymbols(MySymbols[[4]], from = Date_Start, to = Date_End, adjust =
MyAdjust, src=SymbolSrc)
getSymbols(MySymbols[[5]], from = Date_Start, to = Date_End, adjust =
MyAdjust, src=SymbolSrc)


From cjohnson at backstopsolutions.com  Fri Dec  6 01:59:28 2013
From: cjohnson at backstopsolutions.com (Cedrick Johnson)
Date: Fri, 6 Dec 2013 00:59:28 +0000
Subject: [R-SIG-Finance] Unreliable Yahoo downloads,
 so possibly save/reread using MySQL?
In-Reply-To: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
References: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
Message-ID: <433A82A0D5E07048A9DE70A1693CE3BC2C62047D@Krang.Backstop.local>

Mark-
Here's what I do in a automated fashion for downloading data from Yahoo post close (and storing into a mysql DB). The code may be a bit crummy (I cringe at my ALTER TABLE query but it works well for the 100 or so things I download every evening) but this should be a good starting point for refining. 

##EOD Downloader file, triggered by cron nightly after 8pm.. Define your symbols in a vector
library(quantmod)
library(RMySQL)

MySymbols = c("MRK","GOOG","AAPL")

getSymbols(MySymbols, src="yahoo")
dbc = dbConnect(MySQL(), user="youruser", pass="yourpass", host="yourhost", dbname="yourdb")
for(I in 1:length(MySymbols) {
	dbWriteTable(dbc, name=MySymbols[i],value=as.data.frame(get(MySymbols[i])), overwrite=TRUE)
	res = dbSendQuery(dbc, paste("ALTER TABLE `yourtable`.`",MySymbols[i],
    		"` CHANGE COLUMN `row_names` `Date` DATE NULL DEFAULT NULL,
		CHANGE COLUMN `", MySymbols [i],"_Open` `o` DOUBLE NULL DEFAULT NULL,
		CHANGE COLUMN `", MySymbols [i],"_High` `h` DOUBLE NULL DEFAULT NULL,
		CHANGE COLUMN `", MySymbols [i], "_Low` `l` DOUBLE NULL DEFAULT NULL,
		CHANGE COLUMN `", MySymbols [i], "_Close` `c` DOUBLE NULL DEFAULT NULL,
		CHANGE COLUMN `", MySymbols [i], "_Volume` `v` DOUBLE NULL DEFAULT NULL, 
		CHANGE COLUMN `",MySymbols[i],"_Adjusted` `a` DOUBLE NULL DEFAULT;", sep=""))
	dbClearResult(res)
}

Now, from quantmod:
setDefaults(getSymbols.MySQL, user="youruser", password="yourpass", host="yourhost",port=3306, dbname="yourdb")

getSymbols("MRK", src="MySQL")


Hope this helps,
CJ

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Mark Knecht
Sent: Thursday, December 05, 2013 1:55 PM
To: R-Finance
Subject: [R-SIG-Finance] Unreliable Yahoo downloads, so possibly save/reread using MySQL?

Hi,
   I read an ETF rotation paper a few weeks ago on Seeking Alpha and thought I'd play with the ideas in R. Without pointing any fingers (at
Yahoo) I find that downloading adjusted data to be highly unreliable, especially in the middle of the work day. The following code snippet is, at the time I'm writing this, failing on one or another of the 5 downloads nearly 100% of the time. It's not always the same symbols that fail. That seems random to me. However if I change MyAdjust to FALSE then the downloads seem to work perfectly. My experience is that after the market closes the adjusted data works most of the time.

   The sort of failure I see looks like the following (which did not use a to=Date_End) just as a test. In this case it was VNQ/REM that failed. I checked the Yahoo site and was able to see the data by hand:

> getSymbols(MySymbols[[1]], from = Date_Start, adjust = MyAdjust, src = 
> SymbolSrc)
[1] "VTI" "VEU"
> getSymbols(MySymbols[[2]], from = Date_Start, adjust = MyAdjust, src = 
> SymbolSrc)
[1] "HYG" "CIU"
> getSymbols(MySymbols[[3]], from = Date_Start, adjust = MyAdjust, src = 
> SymbolSrc)
Error in download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
  cannot open URL
'http://ichart.finance.yahoo.com/x?s=VNQ&a=0&b=01&c=2000&d=11&e=05&f=2013&g=v&y=0&z=30000'
In addition: Warning message:
In download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
  cannot open: HTTP status was '0 (null)'
> getSymbols(MySymbols[[4]], from = Date_Start, adjust = MyAdjust, src = 
> SymbolSrc)
[1] "GLD" "TLT"
> getSymbols(MySymbols[[5]], from = Date_Start, adjust = MyAdjust, src = 
> SymbolSrc)
[1] "SHY"

   Anyway, to implement my reading of this paper, I really need adjusted data to take dividends into account and it seems silly to me to keep downloading the same data over and over from Yahoo as I play with this R code. To that end I'm wondering if anyone has a code example for saving Yahoo data once to MySQL and then (presumably) changing what I call SymbolSrc=MySQL for subsequent runs when I work on the R code? I've been searching around in StackOverflow as well as Google and haven't yet found anything very executable.

   Please note that I'm a retired investor, not a trader, and seldom work with data faster than 30 minute bars and even then almost never real-time data, at least in terms of what I would store in MySQL so I'm not overly concerned right now as to whether MySQL is fast or slow. I already run MySQL for a couple of other reasons on my Gentoo box where I'm working in R and would prefer not run another database right now unless _necessary_.

   Clearly, if there's some stupid issue in my code that fixes this that would be great to know about also! :-)

Thanks in advance,
Mark



library(quantmod)

Date_Start = "2000-01-01"
Date_End = format(Sys.time(), "%Y-%m-%d") Sys.setenv(TZ = "UTC") SymbolSrc = "yahoo"
MyAdjust = TRUE

MySymbols = list()
MySymbols[[1]]= c("VTI","VEU")
MySymbols[[2]]= c("HYG","CIU")
MySymbols[[3]]= c("VNQ","REM")
MySymbols[[4]]= c("GLD","TLT")
MySymbols[[5]]= c("SHY")

getSymbols(MySymbols[[1]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[2]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[3]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[4]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[5]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc)

_______________________________________________
R-SIG-Finance at r-project.org mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


From markknecht at gmail.com  Fri Dec  6 02:25:23 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Thu, 5 Dec 2013 17:25:23 -0800
Subject: [R-SIG-Finance] Unreliable Yahoo downloads,
 so possibly save/reread using MySQL?
In-Reply-To: <433A82A0D5E07048A9DE70A1693CE3BC2C62047D@Krang.Backstop.local>
References: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
	<433A82A0D5E07048A9DE70A1693CE3BC2C62047D@Krang.Backstop.local>
Message-ID: <CAK2H+ecy---RWbRG0Wb=GeSRNH0OCQzwL0hxj3SjBRayhTyWBQ@mail.gmail.com>

On Thu, Dec 5, 2013 at 4:59 PM, Cedrick Johnson
<cjohnson at backstopsolutions.com> wrote:
> Mark-
> Here's what I do in a automated fashion for downloading data from Yahoo post close (and storing into a mysql DB). The code may be a bit crummy (I cringe at my ALTER TABLE query but it works well for the 100 or so things I download every evening) but this should be a good starting point for refining.
>
> ##EOD Downloader file, triggered by cron nightly after 8pm.. Define your symbols in a vector
> library(quantmod)
> library(RMySQL)
>
> MySymbols = c("MRK","GOOG","AAPL")
>
> getSymbols(MySymbols, src="yahoo")
> dbc = dbConnect(MySQL(), user="youruser", pass="yourpass", host="yourhost", dbname="yourdb")
> for(I in 1:length(MySymbols) {
>         dbWriteTable(dbc, name=MySymbols[i],value=as.data.frame(get(MySymbols[i])), overwrite=TRUE)
>         res = dbSendQuery(dbc, paste("ALTER TABLE `yourtable`.`",MySymbols[i],
>                 "` CHANGE COLUMN `row_names` `Date` DATE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i],"_Open` `o` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i],"_High` `h` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Low` `l` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Close` `c` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Volume` `v` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `",MySymbols[i],"_Adjusted` `a` DOUBLE NULL DEFAULT;", sep=""))
>         dbClearResult(res)
> }
>
> Now, from quantmod:
> setDefaults(getSymbols.MySQL, user="youruser", password="yourpass", host="yourhost",port=3306, dbname="yourdb")
>
> getSymbols("MRK", src="MySQL")
>
>
> Hope this helps,
> CJ
>

Hi Cedrick,
   Thanks very much for this. It looks like it's probably very close
to what I'm looking for.

   One question as I don't know very much about MySQL but the database
does need to actually exist and have the correct columns, etc., before
running this code, correct? I'll have to figure out how to create that
from scratch and then it would appear that I'm probably good to go.

Cheers,
Mark


From breman.mark at gmail.com  Fri Dec  6 07:57:01 2013
From: breman.mark at gmail.com (markbreman .)
Date: Fri, 6 Dec 2013 07:57:01 +0100
Subject: [R-SIG-Finance] Unreliable Yahoo downloads,
 so possibly save/reread using MySQL?
In-Reply-To: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
References: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
Message-ID: <CAEaVHoJ03Of+g5HO4_xoO2XA5ZbfwEc_gd5u93zvwPGsXN67Bw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131206/c2083b5a/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Dec  6 20:53:38 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Fri, 6 Dec 2013 13:53:38 -0600
Subject: [R-SIG-Finance] blotter package,
	can't add new symbol to existing portfolio
In-Reply-To: <20131127085231.22271@web002.roc2.bluetie.com>
References: <20131127085231.22271@web002.roc2.bluetie.com>
Message-ID: <CAPPM_gTiOhHm8DCZNLUoaEbCs3G9u4MtAXSFQJcFVgFXSTAicg@mail.gmail.com>

You have to add the instrument to the portfolio before you can add a
transaction on that instrument.  See ?addPortfInstr.
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


On Wed, Nov 27, 2013 at 7:52 AM, ce <zadig_1 at excite.com> wrote:
> Dear all,
>
> I am following blotter example in the http://artax.karlin.mff.cuni.cz/r-help/library/blotter/html/blotter-package.html
> I create, initialize , and add transactions. but when it comes to add a new stock symbol to  portfolio it gives an error message. Example adds MMM, I get Error in if (nrow(PosData) > 1) { : argument is of length zero
>
> R version 3.0.2
>
>> library(blotter)
> Loading required package: xts
> Loading required package: zoo
>
> Attaching package: ?zoo?
>
> The following objects are masked from ?package:base?:
>
>     as.Date, as.Date.numeric
>
> Loading required package: FinancialInstrument
> Loading required package: quantmod
> Loading required package: Defaults
> Loading required package: TTR
> Version 0.4-0 included new data defaults. See ?getSymbols.
> Loading required package: PerformanceAnalytics
>
> Package PerformanceAnalytics (1.1.0) loaded.
> Econometric tools for performance and risk analysis.
> (c) 2004-2012 Peter Carl, Brian G. Peterson. License: GPL
> http://r-forge.r-project.org/projects/returnanalytics/
>
>
>> currency("USD")
> [1] "USD"
>> symbols = c("IBM","F")
>> for(symbol in symbols){ # establish tradable instruments
> +     stock(symbol, currency="USD", multiplier=1)
> + }
>>
>> # Download price data
>> require(quantmod)
>> getSymbols(symbols, from='2007-01-01', to='2007-01-31', src='yahoo',
> + index.class=c("POSIXt","POSIXct"))
> [1] "IBM" "F"
>>
>> # Initialize a portfolio object 'p'
>> print('Creating portfolio \"p\"...')
> [1] "Creating portfolio \"p\"..."
>> initPortf('p', symbols=symbols, currency="USD")
> [1] "p"
>>
>> ## Trades must be made in date order.
>> print('Adding trades to \"p\"...')
> [1] "Adding trades to \"p\"..."
>> # Make a couple of trades in IBM
>> addTxn(Portfolio = "p", Symbol = "IBM", TxnDate = '2007-01-03', TxnQty = 50,
> + TxnPrice = 96.5, TxnFees = -0.05*50)
> [1] "2007-01-03 00:00:00 IBM 50 @ 96.5"
>> addTxn("p", "IBM", '2007-01-04', 50, 97.1, TxnFees = -0.05*50)
> [1] "2007-01-04 00:00:00 IBM 50 @ 97.1"
>>
>> # ...a few in F...
>> addTxn("p", "F", '2007-01-03', -100, 7.60, TxnFees = pennyPerShare(-100))
> [1] "2007-01-03 00:00:00 F -100 @ 7.6"
>> addTxn("p", "F", '2007-01-04', 50, 7.70, TxnFees = pennyPerShare(50))
> [1] "2007-01-04 00:00:00 F 50 @ 7.7"
>> addTxn("p", "F", '2007-01-10', 50, 7.78, TxnFees = pennyPerShare(50))
> [1] "2007-01-10 00:00:00 F 50 @ 7.78"
>> getSymbols("MMM", from='2007-01-01', to='2007-01-31', src='yahoo',
> + index.class=c("POSIXt","POSIXct")) # Download price data
> [1] "MMM"
>> stock("MMM", currency="USD", multiplier=1) # Add the instrument
> [1] "MMM"
>>
>> # Now we can add transactions:
>> addTxn("p", "MMM", '2007-01-05', -50, 77.9, TxnFees = -0.05*50)
> Error in if (nrow(PosData) > 1) { : argument is of length zero
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From faiube at gmail.com  Sun Dec  8 19:56:07 2013
From: faiube at gmail.com (fernando)
Date: Sun, 8 Dec 2013 10:56:07 -0800 (PST)
Subject: [R-SIG-Finance] package fEcofin
Message-ID: <1386528967238-4681842.post@n4.nabble.com>

Please,

I used the commands

install.packages("fEcofin")
install.packages("fEcofin", type="source")

to install the package fEcofin. 

Who knows how to obtain this package?

Thanks in advance
Fernando



--
View this message in context: http://r.789695.n4.nabble.com/package-fEcofin-tp4681842.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From edd at debian.org  Sun Dec  8 21:10:36 2013
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 8 Dec 2013 14:10:36 -0600
Subject: [R-SIG-Finance] package fEcofin
In-Reply-To: <1386528967238-4681842.post@n4.nabble.com>
References: <1386528967238-4681842.post@n4.nabble.com>
Message-ID: <21156.53820.174070.196815@max.nulle.part>


On 8 December 2013 at 10:56, fernando wrote:
| I used the commands
| 
| install.packages("fEcofin")
| install.packages("fEcofin", type="source")
| 
| to install the package fEcofin. 
| 
| Who knows how to obtain this package?

It is a package that has been withdrawn from CRAN several years ago. 

You can still get the tarball from R-Forge
   http://r-forge.r-project.org/R/?group_id=156
and should be able to use install.packages() that way too if you point to
R-Forge as the repo.

Dirk

-- 
Dirk Eddelbuettel | edd at debian.org | http://dirk.eddelbuettel.com


From my.r.help at gmail.com  Mon Dec  9 14:27:30 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Mon, 09 Dec 2013 21:27:30 +0800
Subject: [R-SIG-Finance] IBrokers Problem
Message-ID: <52A5C542.80406@gmail.com>

All,

I'm trying to better understand how to use the IBrokers package by going
through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
(login `edemo`). TWS seems to be running fine. However, I get stuck at
the following command from the vignette:

reqContractDetails(tws, twsEquity("QQQQ"))

R just seems to hang and I don't get any further response. My
sessionInfo is below. I'm using the most current IBrokers from Google Code.

Am I doing something wrong, or is this not supposed to work with the TWS
demo version?

Thanks,
Michael


> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-redhat-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
LC_TIME=en_US.utf8
 [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
LC_MESSAGES=en_US.utf8
 [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C

[10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1

loaded via a namespace (and not attached):
[1] grid_3.0.2      lattice_0.20-24 tools_3.0.2


From gsee000 at gmail.com  Mon Dec  9 14:29:57 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 9 Dec 2013 07:29:57 -0600
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <52A5C542.80406@gmail.com>
References: <52A5C542.80406@gmail.com>
Message-ID: <CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>

The ticker for that ETF changed to QQQ on March 23, 2011

Try reqContractDetails(tws, twsEquity("QQQ"))

Best,
Garrett

On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
> All,
>
> I'm trying to better understand how to use the IBrokers package by going
> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
> (login `edemo`). TWS seems to be running fine. However, I get stuck at
> the following command from the vignette:
>
> reqContractDetails(tws, twsEquity("QQQQ"))
>
> R just seems to hang and I don't get any further response. My
> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>
> Am I doing something wrong, or is this not supposed to work with the TWS
> demo version?
>
> Thanks,
> Michael
>
>
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-redhat-linux-gnu (64-bit)
>
> locale:
>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
> LC_TIME=en_US.utf8
>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
> LC_MESSAGES=en_US.utf8
>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>
> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
> LC_IDENTIFICATION=C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>
> loaded via a namespace (and not attached):
> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From my.r.help at gmail.com  Mon Dec  9 14:47:33 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Mon, 09 Dec 2013 21:47:33 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
Message-ID: <52A5C9F5.60905@gmail.com>

Thanks for the quick reply, but R still hangs after running this command
with the new ticker.

Best,
Michael


On 12/09/2013 09:29 PM, G See wrote:
> The ticker for that ETF changed to QQQ on March 23, 2011
> 
> Try reqContractDetails(tws, twsEquity("QQQ"))
> 
> Best,
> Garrett
> 
> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>> All,
>>
>> I'm trying to better understand how to use the IBrokers package by going
>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>> the following command from the vignette:
>>
>> reqContractDetails(tws, twsEquity("QQQQ"))
>>
>> R just seems to hang and I don't get any further response. My
>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>
>> Am I doing something wrong, or is this not supposed to work with the TWS
>> demo version?
>>
>> Thanks,
>> Michael
>>
>>
>>> sessionInfo()
>> R version 3.0.2 (2013-09-25)
>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>
>> locale:
>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>> LC_TIME=en_US.utf8
>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>> LC_MESSAGES=en_US.utf8
>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>
>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>> LC_IDENTIFICATION=C
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>
>> loaded via a namespace (and not attached):
>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.


From gsee000 at gmail.com  Mon Dec  9 16:06:21 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 9 Dec 2013 09:06:21 -0600
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <52A5C9F5.60905@gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
Message-ID: <CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>

I don't know; it works for me.  Does reqCurrentTime(tws) return the
current time?

Garrett

> tws <- ibgConnect()
> reqCurrentTime(tws)
[1] "2013-12-09 09:04:37 CST"
> reqContractDetails(tws, twsEquity("QQQ"))
[[1]]
List of 18
 $ version       : chr "6"
 $ contract      :List of 16
  ..$ conId          : chr "43661924"
  ..$ symbol         : chr "QQQ"
  ..$ sectype        : chr "STK"
  ..$ exch           : chr "SMART"
  ..$ primary        : chr "NASDAQ"
  ..$ expiry         : chr ""
  ..$ strike         : chr "0"
  ..$ currency       : chr "USD"
  ..$ right          : chr ""
  ..$ local          : chr "QQQ"
  ..$ multiplier     : chr ""
  ..$ combo_legs_desc: chr ""
  ..$ comboleg       : chr ""
  ..$ include_expired: chr "0"
  ..$ secIdType      : chr ""
  ..$ secId          : chr ""
  ..- attr(*, "class")= chr "twsContract"
 $ marketName    : chr "NMS"
 $ tradingClass  : chr "NMS"
 $ conId         : chr "43661924"
 $ minTick       : chr "0.01"
 $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
 $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
 $ priceMagnifier: chr "1"
 $ underConId    : chr "0"
 $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
 $ contractMonth : chr ""
 $ industry      : chr "Funds"
 $ category      : chr "Equity Fund"
 $ subcategory   : chr "Sector Fund-Technology"
 $ timeZoneId    : chr "EST"
 $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
 $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"

On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
> Thanks for the quick reply, but R still hangs after running this command
> with the new ticker.
>
> Best,
> Michael
>
>
> On 12/09/2013 09:29 PM, G See wrote:
>> The ticker for that ETF changed to QQQ on March 23, 2011
>>
>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>
>> Best,
>> Garrett
>>
>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>> All,
>>>
>>> I'm trying to better understand how to use the IBrokers package by going
>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>> the following command from the vignette:
>>>
>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>
>>> R just seems to hang and I don't get any further response. My
>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>
>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>> demo version?
>>>
>>> Thanks,
>>> Michael
>>>
>>>
>>>> sessionInfo()
>>> R version 3.0.2 (2013-09-25)
>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>
>>> locale:
>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>> LC_TIME=en_US.utf8
>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>> LC_MESSAGES=en_US.utf8
>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>
>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>> LC_IDENTIFICATION=C
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> other attached packages:
>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>
>>> loaded via a namespace (and not attached):
>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.


From my.r.help at gmail.com  Tue Dec 10 00:25:31 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Tue, 10 Dec 2013 07:25:31 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
Message-ID: <52A6516B.4030906@gmail.com>

Does it work for you in the demo TWS version as well?

For me, `reqCurrentTime` works fine in the demo TWS version, like all
the other examples in the vignette, except for `twsFuture`.

> reqCurrentTime(tws)
TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
[1] "2013-12-10 07:14:29 HKT"

Interestingly, when I run the following code, I get some feedback from
the Unix shell that runs TWS.

> tws <- twsConnect()
> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
^C
> twsDisconnect(tws)

So when I run `twsDisconnect` (only after running `reqContractDetails`)
in the example above, I get the following output in the Unix shell from
Java:

07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message type
1.  Attempted read beyond end of socket stream -
07:23:13:870 JTS-EServerSocket-157: Anticipated error
jextend.c: Attempted read beyond end of socket stream -
	at jextend.tb.b(tb.java:307)
	at jextend.hf.eb(hf.java:1316)
	at jextend.hf.run(hf.java:1251)
	at java.lang.Thread.run(Thread.java:744)
Caused by: java.io.EOFException
	at jextend.tb.c(tb.java:541)
	at jextend.tb.r(tb.java:183)
	at jextend.wd.a(wd.java:188)
	at jextend.tb.d(tb.java:613)
	at jextend.uc.a(uc.java:177)
	at jextend.tb.b(tb.java:304)
	... 3 more
07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
terminated conversation.
07:23:13:871 JTS-EServerSocketNotifier-156: Terminating


Thanks,
Michael



On 12/09/2013 11:06 PM, G See wrote:
> I don't know; it works for me.  Does reqCurrentTime(tws) return the
> current time?
> 
> Garrett
> 
>> tws <- ibgConnect()
>> reqCurrentTime(tws)
> [1] "2013-12-09 09:04:37 CST"
>> reqContractDetails(tws, twsEquity("QQQ"))
> [[1]]
> List of 18
>  $ version       : chr "6"
>  $ contract      :List of 16
>   ..$ conId          : chr "43661924"
>   ..$ symbol         : chr "QQQ"
>   ..$ sectype        : chr "STK"
>   ..$ exch           : chr "SMART"
>   ..$ primary        : chr "NASDAQ"
>   ..$ expiry         : chr ""
>   ..$ strike         : chr "0"
>   ..$ currency       : chr "USD"
>   ..$ right          : chr ""
>   ..$ local          : chr "QQQ"
>   ..$ multiplier     : chr ""
>   ..$ combo_legs_desc: chr ""
>   ..$ comboleg       : chr ""
>   ..$ include_expired: chr "0"
>   ..$ secIdType      : chr ""
>   ..$ secId          : chr ""
>   ..- attr(*, "class")= chr "twsContract"
>  $ marketName    : chr "NMS"
>  $ tradingClass  : chr "NMS"
>  $ conId         : chr "43661924"
>  $ minTick       : chr "0.01"
>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>  $ priceMagnifier: chr "1"
>  $ underConId    : chr "0"
>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>  $ contractMonth : chr ""
>  $ industry      : chr "Funds"
>  $ category      : chr "Equity Fund"
>  $ subcategory   : chr "Sector Fund-Technology"
>  $ timeZoneId    : chr "EST"
>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
> 
> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
>> Thanks for the quick reply, but R still hangs after running this command
>> with the new ticker.
>>
>> Best,
>> Michael
>>
>>
>> On 12/09/2013 09:29 PM, G See wrote:
>>> The ticker for that ETF changed to QQQ on March 23, 2011
>>>
>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>>
>>> Best,
>>> Garrett
>>>
>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>> All,
>>>>
>>>> I'm trying to better understand how to use the IBrokers package by going
>>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>>> the following command from the vignette:
>>>>
>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>>
>>>> R just seems to hang and I don't get any further response. My
>>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>>
>>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>>> demo version?
>>>>
>>>> Thanks,
>>>> Michael
>>>>
>>>>
>>>>> sessionInfo()
>>>> R version 3.0.2 (2013-09-25)
>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>>
>>>> locale:
>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>>> LC_TIME=en_US.utf8
>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>>> LC_MESSAGES=en_US.utf8
>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>>
>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>>> LC_IDENTIFICATION=C
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>> other attached packages:
>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions should go.


From gsee000 at gmail.com  Tue Dec 10 00:51:13 2013
From: gsee000 at gmail.com (G See)
Date: Mon, 9 Dec 2013 17:51:13 -0600
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <52A6516B.4030906@gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
Message-ID: <CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>

Yup.  Works fine for me with the demo account on Ubuntu.

Have you tried restarting the TWS?  (while you're at it, you might
consider using IB Gateway instead since it doesn't log you out every
day)

> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-pc-linux-gnu (64-bit)

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
 [9] LC_ADDRESS=C               LC_TELEPHONE=C
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-11

loaded via a namespace (and not attached):
[1] grid_3.0.2      lattice_0.20-18


Sorry I can't be of more assistance,

Garrett

On Mon, Dec 9, 2013 at 5:25 PM, Michael Smith <my.r.help at gmail.com> wrote:
> Does it work for you in the demo TWS version as well?
>
> For me, `reqCurrentTime` works fine in the demo TWS version, like all
> the other examples in the vignette, except for `twsFuture`.
>
>> reqCurrentTime(tws)
> TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
> TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
> [1] "2013-12-10 07:14:29 HKT"
>
> Interestingly, when I run the following code, I get some feedback from
> the Unix shell that runs TWS.
>
>> tws <- twsConnect()
>> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
> ^C
>> twsDisconnect(tws)
>
> So when I run `twsDisconnect` (only after running `reqContractDetails`)
> in the example above, I get the following output in the Unix shell from
> Java:
>
> 07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message type
> 1.  Attempted read beyond end of socket stream -
> 07:23:13:870 JTS-EServerSocket-157: Anticipated error
> jextend.c: Attempted read beyond end of socket stream -
>         at jextend.tb.b(tb.java:307)
>         at jextend.hf.eb(hf.java:1316)
>         at jextend.hf.run(hf.java:1251)
>         at java.lang.Thread.run(Thread.java:744)
> Caused by: java.io.EOFException
>         at jextend.tb.c(tb.java:541)
>         at jextend.tb.r(tb.java:183)
>         at jextend.wd.a(wd.java:188)
>         at jextend.tb.d(tb.java:613)
>         at jextend.uc.a(uc.java:177)
>         at jextend.tb.b(tb.java:304)
>         ... 3 more
> 07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
> terminated conversation.
> 07:23:13:871 JTS-EServerSocketNotifier-156: Terminating
>
>
> Thanks,
> Michael
>
>
>
> On 12/09/2013 11:06 PM, G See wrote:
>> I don't know; it works for me.  Does reqCurrentTime(tws) return the
>> current time?
>>
>> Garrett
>>
>>> tws <- ibgConnect()
>>> reqCurrentTime(tws)
>> [1] "2013-12-09 09:04:37 CST"
>>> reqContractDetails(tws, twsEquity("QQQ"))
>> [[1]]
>> List of 18
>>  $ version       : chr "6"
>>  $ contract      :List of 16
>>   ..$ conId          : chr "43661924"
>>   ..$ symbol         : chr "QQQ"
>>   ..$ sectype        : chr "STK"
>>   ..$ exch           : chr "SMART"
>>   ..$ primary        : chr "NASDAQ"
>>   ..$ expiry         : chr ""
>>   ..$ strike         : chr "0"
>>   ..$ currency       : chr "USD"
>>   ..$ right          : chr ""
>>   ..$ local          : chr "QQQ"
>>   ..$ multiplier     : chr ""
>>   ..$ combo_legs_desc: chr ""
>>   ..$ comboleg       : chr ""
>>   ..$ include_expired: chr "0"
>>   ..$ secIdType      : chr ""
>>   ..$ secId          : chr ""
>>   ..- attr(*, "class")= chr "twsContract"
>>  $ marketName    : chr "NMS"
>>  $ tradingClass  : chr "NMS"
>>  $ conId         : chr "43661924"
>>  $ minTick       : chr "0.01"
>>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
>>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>>  $ priceMagnifier: chr "1"
>>  $ underConId    : chr "0"
>>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>>  $ contractMonth : chr ""
>>  $ industry      : chr "Funds"
>>  $ category      : chr "Equity Fund"
>>  $ subcategory   : chr "Sector Fund-Technology"
>>  $ timeZoneId    : chr "EST"
>>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
>>
>> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>> Thanks for the quick reply, but R still hangs after running this command
>>> with the new ticker.
>>>
>>> Best,
>>> Michael
>>>
>>>
>>> On 12/09/2013 09:29 PM, G See wrote:
>>>> The ticker for that ETF changed to QQQ on March 23, 2011
>>>>
>>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>>>
>>>> Best,
>>>> Garrett
>>>>
>>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>>> All,
>>>>>
>>>>> I'm trying to better understand how to use the IBrokers package by going
>>>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>>>> the following command from the vignette:
>>>>>
>>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>>>
>>>>> R just seems to hang and I don't get any further response. My
>>>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>>>
>>>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>>>> demo version?
>>>>>
>>>>> Thanks,
>>>>> Michael
>>>>>
>>>>>
>>>>>> sessionInfo()
>>>>> R version 3.0.2 (2013-09-25)
>>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>>>
>>>>> locale:
>>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>>>> LC_TIME=en_US.utf8
>>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>>>> LC_MESSAGES=en_US.utf8
>>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>>>
>>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>>>> LC_IDENTIFICATION=C
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>
>>>>> other attached packages:
>>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Finance at r-project.org mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>>> -- Also note that this is not the r-help list where general R questions should go.


From my.r.help at gmail.com  Tue Dec 10 01:35:34 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Tue, 10 Dec 2013 08:35:34 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
	<CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
Message-ID: <52A661D6.3050201@gmail.com>

Thanks, Garrett, for your help anyway. I tried restarting TWS, but that
didn't help. Maybe I should try it on Ubuntu instead of Fedora.

Are you running TWS/Gateway on OpenJDK or Sun Java?

For IB Gateway, should I use the FIX CTCI or the IB API? When I log in
with CTCI I get "Status" is "inactive" and I cannot change any settings.
For the IB API in Gateway I get:

"Fatal Error: one of the following jar files is missing from the
classpath: rss.jar"

Anyway, this particular one is a Gateway issue (not an IBrokers issue).

Thanks,
Michael


On 12/10/2013 07:51 AM, G See wrote:
> Yup.  Works fine for me with the demo account on Ubuntu.
> 
> Have you tried restarting the TWS?  (while you're at it, you might
> consider using IB Gateway instead since it doesn't log you out every
> day)
> 
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-pc-linux-gnu (64-bit)
> 
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-11
> 
> loaded via a namespace (and not attached):
> [1] grid_3.0.2      lattice_0.20-18
> 
> 
> Sorry I can't be of more assistance,
> 
> Garrett
> 
> On Mon, Dec 9, 2013 at 5:25 PM, Michael Smith <my.r.help at gmail.com> wrote:
>> Does it work for you in the demo TWS version as well?
>>
>> For me, `reqCurrentTime` works fine in the demo TWS version, like all
>> the other examples in the vignette, except for `twsFuture`.
>>
>>> reqCurrentTime(tws)
>> TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
>> TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
>> [1] "2013-12-10 07:14:29 HKT"
>>
>> Interestingly, when I run the following code, I get some feedback from
>> the Unix shell that runs TWS.
>>
>>> tws <- twsConnect()
>>> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
>> ^C
>>> twsDisconnect(tws)
>>
>> So when I run `twsDisconnect` (only after running `reqContractDetails`)
>> in the example above, I get the following output in the Unix shell from
>> Java:
>>
>> 07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message type
>> 1.  Attempted read beyond end of socket stream -
>> 07:23:13:870 JTS-EServerSocket-157: Anticipated error
>> jextend.c: Attempted read beyond end of socket stream -
>>         at jextend.tb.b(tb.java:307)
>>         at jextend.hf.eb(hf.java:1316)
>>         at jextend.hf.run(hf.java:1251)
>>         at java.lang.Thread.run(Thread.java:744)
>> Caused by: java.io.EOFException
>>         at jextend.tb.c(tb.java:541)
>>         at jextend.tb.r(tb.java:183)
>>         at jextend.wd.a(wd.java:188)
>>         at jextend.tb.d(tb.java:613)
>>         at jextend.uc.a(uc.java:177)
>>         at jextend.tb.b(tb.java:304)
>>         ... 3 more
>> 07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
>> terminated conversation.
>> 07:23:13:871 JTS-EServerSocketNotifier-156: Terminating
>>
>>
>> Thanks,
>> Michael
>>
>>
>>
>> On 12/09/2013 11:06 PM, G See wrote:
>>> I don't know; it works for me.  Does reqCurrentTime(tws) return the
>>> current time?
>>>
>>> Garrett
>>>
>>>> tws <- ibgConnect()
>>>> reqCurrentTime(tws)
>>> [1] "2013-12-09 09:04:37 CST"
>>>> reqContractDetails(tws, twsEquity("QQQ"))
>>> [[1]]
>>> List of 18
>>>  $ version       : chr "6"
>>>  $ contract      :List of 16
>>>   ..$ conId          : chr "43661924"
>>>   ..$ symbol         : chr "QQQ"
>>>   ..$ sectype        : chr "STK"
>>>   ..$ exch           : chr "SMART"
>>>   ..$ primary        : chr "NASDAQ"
>>>   ..$ expiry         : chr ""
>>>   ..$ strike         : chr "0"
>>>   ..$ currency       : chr "USD"
>>>   ..$ right          : chr ""
>>>   ..$ local          : chr "QQQ"
>>>   ..$ multiplier     : chr ""
>>>   ..$ combo_legs_desc: chr ""
>>>   ..$ comboleg       : chr ""
>>>   ..$ include_expired: chr "0"
>>>   ..$ secIdType      : chr ""
>>>   ..$ secId          : chr ""
>>>   ..- attr(*, "class")= chr "twsContract"
>>>  $ marketName    : chr "NMS"
>>>  $ tradingClass  : chr "NMS"
>>>  $ conId         : chr "43661924"
>>>  $ minTick       : chr "0.01"
>>>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
>>>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>>>  $ priceMagnifier: chr "1"
>>>  $ underConId    : chr "0"
>>>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>>>  $ contractMonth : chr ""
>>>  $ industry      : chr "Funds"
>>>  $ category      : chr "Equity Fund"
>>>  $ subcategory   : chr "Sector Fund-Technology"
>>>  $ timeZoneId    : chr "EST"
>>>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>>>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
>>>
>>> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>> Thanks for the quick reply, but R still hangs after running this command
>>>> with the new ticker.
>>>>
>>>> Best,
>>>> Michael
>>>>
>>>>
>>>> On 12/09/2013 09:29 PM, G See wrote:
>>>>> The ticker for that ETF changed to QQQ on March 23, 2011
>>>>>
>>>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>>>>
>>>>> Best,
>>>>> Garrett
>>>>>
>>>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>>>> All,
>>>>>>
>>>>>> I'm trying to better understand how to use the IBrokers package by going
>>>>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>>>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>>>>> the following command from the vignette:
>>>>>>
>>>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>>>>
>>>>>> R just seems to hang and I don't get any further response. My
>>>>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>>>>
>>>>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>>>>> demo version?
>>>>>>
>>>>>> Thanks,
>>>>>> Michael
>>>>>>
>>>>>>
>>>>>>> sessionInfo()
>>>>>> R version 3.0.2 (2013-09-25)
>>>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>>>>
>>>>>> locale:
>>>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>>>>> LC_TIME=en_US.utf8
>>>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>>>>> LC_MESSAGES=en_US.utf8
>>>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>>>>
>>>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>>>>> LC_IDENTIFICATION=C
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>>
>>>>>> other attached packages:
>>>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>>>>
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Finance at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>>>> -- Also note that this is not the r-help list where general R questions should go.


From pedrobtz at gmail.com  Thu Dec 12 11:38:54 2013
From: pedrobtz at gmail.com (Pedro Baltazar)
Date: Thu, 12 Dec 2013 10:38:54 +0000
Subject: [R-SIG-Finance] Rbbg type problem
Message-ID: <CABN+XoTkMbSOhCGS=9RRLseODO1AFOpqOm31xJDUmZ9ijiE88Q@mail.gmail.com>

The package Rbbg (0.4-155) needs a fix.

fixInNamespace(convert.to.type,"Rbbg")

and then add
"TIME = string_values"

inside the switch  in order to work with fields such as

"PRICE_LAST_TIME_RT"  or "PRICE_LAST_TIME"

otherwise one gets the "unknown type".

Best

-- 
Pedro Baltazar


From sudip.rc at gmail.com  Thu Dec 12 20:27:57 2013
From: sudip.rc at gmail.com (Sudip Ray-Chaudhuri)
Date: Thu, 12 Dec 2013 14:27:57 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other related
	data)
Message-ID: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/bb1e198c/attachment.pl>

From john.laing at gmail.com  Thu Dec 12 20:55:22 2013
From: john.laing at gmail.com (John Laing)
Date: Thu, 12 Dec 2013 14:55:22 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
Message-ID: <CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/70cdb372/attachment.pl>

From pierrelap at gmail.com  Thu Dec 12 21:15:40 2013
From: pierrelap at gmail.com (Pierre Lapointe)
Date: Thu, 12 Dec 2013 15:15:40 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
Message-ID: <CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/7674144e/attachment.pl>

From john.laing at gmail.com  Thu Dec 12 21:31:10 2013
From: john.laing at gmail.com (John Laing)
Date: Thu, 12 Dec 2013 15:31:10 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
	<CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
Message-ID: <CAA3Wa=te2hBxjzOWRge-03GPNDwK9b10AFAfbZnNcyQCvcJrEg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/792ca4ef/attachment.pl>

From armstrong.whit at gmail.com  Thu Dec 12 21:32:56 2013
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Thu, 12 Dec 2013 15:32:56 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
	<CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
Message-ID: <CAMi=pg6CQAOXoxBdeTwCrm1T=Tq6-dSB3PoimmrvmL=xyRyXKA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/0436cba6/attachment.pl>

From john.laing at gmail.com  Thu Dec 12 21:54:00 2013
From: john.laing at gmail.com (John Laing)
Date: Thu, 12 Dec 2013 15:54:00 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAMi=pg6CQAOXoxBdeTwCrm1T=Tq6-dSB3PoimmrvmL=xyRyXKA@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
	<CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
	<CAMi=pg6CQAOXoxBdeTwCrm1T=Tq6-dSB3PoimmrvmL=xyRyXKA@mail.gmail.com>
Message-ID: <CAA3Wa=v7Kv0u6E9+M5ug8KU-mwUZtw5FHCo6ziMuzPzaZ9zqiw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/87ff6510/attachment.pl>

From pierrelap at gmail.com  Thu Dec 12 22:16:50 2013
From: pierrelap at gmail.com (Pierre Lapointe)
Date: Thu, 12 Dec 2013 16:16:50 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAA3Wa=v7Kv0u6E9+M5ug8KU-mwUZtw5FHCo6ziMuzPzaZ9zqiw@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
	<CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
	<CAMi=pg6CQAOXoxBdeTwCrm1T=Tq6-dSB3PoimmrvmL=xyRyXKA@mail.gmail.com>
	<CAA3Wa=v7Kv0u6E9+M5ug8KU-mwUZtw5FHCo6ziMuzPzaZ9zqiw@mail.gmail.com>
Message-ID: <CAHjr2U-EdrzoMxGsno4hX-_ajXTmT1cKpdbxWnpNXtQt12LozQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131212/b805228c/attachment.pl>

From sudip.rc at gmail.com  Fri Dec 13 14:22:32 2013
From: sudip.rc at gmail.com (Sudip Ray-Chaudhuri)
Date: Fri, 13 Dec 2013 08:22:32 -0500
Subject: [R-SIG-Finance] Unable to obtain BEST_BID1_SZ (and other
	related data)
In-Reply-To: <CAHjr2U-EdrzoMxGsno4hX-_ajXTmT1cKpdbxWnpNXtQt12LozQ@mail.gmail.com>
References: <CAPfPCr4EY0HDVntpt15DXW3jfCccnkRze_aFD-D_A-wV8Uwr1g@mail.gmail.com>
	<CAA3Wa=uUR2Ucj7YWjmTDTHdxKUH=EvFVyS0dwjV4s0zTFi5MOA@mail.gmail.com>
	<CAHjr2U_TR5c-tLV-tUqH+JBB8_v9+ZMaQTAoeTwvjUym3EEwog@mail.gmail.com>
	<CAMi=pg6CQAOXoxBdeTwCrm1T=Tq6-dSB3PoimmrvmL=xyRyXKA@mail.gmail.com>
	<CAA3Wa=v7Kv0u6E9+M5ug8KU-mwUZtw5FHCo6ziMuzPzaZ9zqiw@mail.gmail.com>
	<CAHjr2U-EdrzoMxGsno4hX-_ajXTmT1cKpdbxWnpNXtQt12LozQ@mail.gmail.com>
Message-ID: <CAPfPCr7__Ue5HTW5Oqcyn1P3dv376juZMmrDk0p5N0ypWZdLxA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131213/129c0ba7/attachment.pl>

From pierrelap at gmail.com  Fri Dec 13 19:22:14 2013
From: pierrelap at gmail.com (Pierre Lapointe)
Date: Fri, 13 Dec 2013 13:22:14 -0500
Subject: [R-SIG-Finance] FX=USD in RBbg
Message-ID: <CAHjr2U_3A7N_3WF2-ZO--eemE3iKuq6zirfFGj-PBfbyf9YqHQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131213/ef811c8c/attachment.pl>

From john.laing at gmail.com  Fri Dec 13 20:14:10 2013
From: john.laing at gmail.com (John Laing)
Date: Fri, 13 Dec 2013 14:14:10 -0500
Subject: [R-SIG-Finance] FX=USD in RBbg
In-Reply-To: <CAHjr2U_3A7N_3WF2-ZO--eemE3iKuq6zirfFGj-PBfbyf9YqHQ@mail.gmail.com>
References: <CAHjr2U_3A7N_3WF2-ZO--eemE3iKuq6zirfFGj-PBfbyf9YqHQ@mail.gmail.com>
Message-ID: <CAA3Wa=t2x9THos5xcFqftjFYRwyC8EL1y6jERmESk+QVbx5UJg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131213/9c452e32/attachment.pl>

From my.r.help at gmail.com  Tue Dec 17 11:22:11 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Tue, 17 Dec 2013 18:22:11 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
	<CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
Message-ID: <52B025D3.5090303@gmail.com>

Hi Garrett,

I think the problem was that I was using the "stable" TWS version, not
the "latest". With the latest, there are no problems (so far).

Thanks,
M

On 12/10/2013 07:51 AM, G See wrote:
> Yup.  Works fine for me with the demo account on Ubuntu.
> 
> Have you tried restarting the TWS?  (while you're at it, you might
> consider using IB Gateway instead since it doesn't log you out every
> day)
> 
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-pc-linux-gnu (64-bit)
> 
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-11
> 
> loaded via a namespace (and not attached):
> [1] grid_3.0.2      lattice_0.20-18
> 
> 
> Sorry I can't be of more assistance,
> 
> Garrett
> 
> On Mon, Dec 9, 2013 at 5:25 PM, Michael Smith <my.r.help at gmail.com> wrote:
>> Does it work for you in the demo TWS version as well?
>>
>> For me, `reqCurrentTime` works fine in the demo TWS version, like all
>> the other examples in the vignette, except for `twsFuture`.
>>
>>> reqCurrentTime(tws)
>> TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
>> TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
>> [1] "2013-12-10 07:14:29 HKT"
>>
>> Interestingly, when I run the following code, I get some feedback from
>> the Unix shell that runs TWS.
>>
>>> tws <- twsConnect()
>>> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
>> ^C
>>> twsDisconnect(tws)
>>
>> So when I run `twsDisconnect` (only after running `reqContractDetails`)
>> in the example above, I get the following output in the Unix shell from
>> Java:
>>
>> 07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message type
>> 1.  Attempted read beyond end of socket stream -
>> 07:23:13:870 JTS-EServerSocket-157: Anticipated error
>> jextend.c: Attempted read beyond end of socket stream -
>>         at jextend.tb.b(tb.java:307)
>>         at jextend.hf.eb(hf.java:1316)
>>         at jextend.hf.run(hf.java:1251)
>>         at java.lang.Thread.run(Thread.java:744)
>> Caused by: java.io.EOFException
>>         at jextend.tb.c(tb.java:541)
>>         at jextend.tb.r(tb.java:183)
>>         at jextend.wd.a(wd.java:188)
>>         at jextend.tb.d(tb.java:613)
>>         at jextend.uc.a(uc.java:177)
>>         at jextend.tb.b(tb.java:304)
>>         ... 3 more
>> 07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
>> terminated conversation.
>> 07:23:13:871 JTS-EServerSocketNotifier-156: Terminating
>>
>>
>> Thanks,
>> Michael
>>
>>
>>
>> On 12/09/2013 11:06 PM, G See wrote:
>>> I don't know; it works for me.  Does reqCurrentTime(tws) return the
>>> current time?
>>>
>>> Garrett
>>>
>>>> tws <- ibgConnect()
>>>> reqCurrentTime(tws)
>>> [1] "2013-12-09 09:04:37 CST"
>>>> reqContractDetails(tws, twsEquity("QQQ"))
>>> [[1]]
>>> List of 18
>>>  $ version       : chr "6"
>>>  $ contract      :List of 16
>>>   ..$ conId          : chr "43661924"
>>>   ..$ symbol         : chr "QQQ"
>>>   ..$ sectype        : chr "STK"
>>>   ..$ exch           : chr "SMART"
>>>   ..$ primary        : chr "NASDAQ"
>>>   ..$ expiry         : chr ""
>>>   ..$ strike         : chr "0"
>>>   ..$ currency       : chr "USD"
>>>   ..$ right          : chr ""
>>>   ..$ local          : chr "QQQ"
>>>   ..$ multiplier     : chr ""
>>>   ..$ combo_legs_desc: chr ""
>>>   ..$ comboleg       : chr ""
>>>   ..$ include_expired: chr "0"
>>>   ..$ secIdType      : chr ""
>>>   ..$ secId          : chr ""
>>>   ..- attr(*, "class")= chr "twsContract"
>>>  $ marketName    : chr "NMS"
>>>  $ tradingClass  : chr "NMS"
>>>  $ conId         : chr "43661924"
>>>  $ minTick       : chr "0.01"
>>>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
>>>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>>>  $ priceMagnifier: chr "1"
>>>  $ underConId    : chr "0"
>>>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>>>  $ contractMonth : chr ""
>>>  $ industry      : chr "Funds"
>>>  $ category      : chr "Equity Fund"
>>>  $ subcategory   : chr "Sector Fund-Technology"
>>>  $ timeZoneId    : chr "EST"
>>>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>>>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
>>>
>>> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>> Thanks for the quick reply, but R still hangs after running this command
>>>> with the new ticker.
>>>>
>>>> Best,
>>>> Michael
>>>>
>>>>
>>>> On 12/09/2013 09:29 PM, G See wrote:
>>>>> The ticker for that ETF changed to QQQ on March 23, 2011
>>>>>
>>>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>>>>
>>>>> Best,
>>>>> Garrett
>>>>>
>>>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>>>> All,
>>>>>>
>>>>>> I'm trying to better understand how to use the IBrokers package by going
>>>>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>>>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>>>>> the following command from the vignette:
>>>>>>
>>>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>>>>
>>>>>> R just seems to hang and I don't get any further response. My
>>>>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>>>>
>>>>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>>>>> demo version?
>>>>>>
>>>>>> Thanks,
>>>>>> Michael
>>>>>>
>>>>>>
>>>>>>> sessionInfo()
>>>>>> R version 3.0.2 (2013-09-25)
>>>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>>>>
>>>>>> locale:
>>>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>>>>> LC_TIME=en_US.utf8
>>>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>>>>> LC_MESSAGES=en_US.utf8
>>>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>>>>
>>>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>>>>> LC_IDENTIFICATION=C
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>>
>>>>>> other attached packages:
>>>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>>>>
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Finance at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>>>> -- Also note that this is not the r-help list where general R questions should go.


From jdargent at dci.com  Tue Dec 17 22:24:23 2013
From: jdargent at dci.com (Julien Dargent)
Date: Tue, 17 Dec 2013 21:24:23 +0000
Subject: [R-SIG-Finance] VaR in PerformanceAnalytics
Message-ID: <6E8F9E3388308F4999894419540A353266EE5AA2@DCIEXCBE01.dcinv.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131217/0a704e0a/attachment.pl>

From andrewoskoui at gmail.com  Wed Dec 18 05:07:19 2013
From: andrewoskoui at gmail.com (oskoui)
Date: Tue, 17 Dec 2013 20:07:19 -0800 (PST)
Subject: [R-SIG-Finance] Exporting IB Reuters Fundamental Data to Excel
Message-ID: <1387339639838-4682388.post@n4.nabble.com>

I'm trying to get the reuters fundamental data for about 100 companies into
excel spreadsheets and it appears that the only way to do that is through
the Interactive Brokers API.  Is there an easy way to do this using R and
the IBrokers package?

Is there a better way besides R to go about what I'm attempting?  I have no
experience with R, but I'm willing to teach myself if this is the best
solution.




--
View this message in context: http://r.789695.n4.nabble.com/Exporting-IB-Reuters-Fundamental-Data-to-Excel-tp4682388.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From GLin at capulaglobal.com  Wed Dec 18 12:26:08 2013
From: GLin at capulaglobal.com (Gei Lin)
Date: Wed, 18 Dec 2013 11:26:08 +0000
Subject: [R-SIG-Finance] VaR in PerformanceAnalytics
In-Reply-To: <6E8F9E3388308F4999894419540A353266EE5AA2@DCIEXCBE01.dcinv.com>
References: <6E8F9E3388308F4999894419540A353266EE5AA2@DCIEXCBE01.dcinv.com>
Message-ID: <C6A8E3C726C60D4FB7916A1FB5B0DC95047620064809@EXCHANGE.int.capulaglobal.com>

Your original understanding is correct.

You can examine the source code of non-exported functions in the package from the R prompt with

PerformanceAnalytics:::VaR.Gaussian
PerformanceAnalytics:::VaR.historical

-----Original Message-----
From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Julien Dargent
Sent: Tuesday, December 17, 2013 9:24 PM
To: r-sig-finance at r-project.org
Subject: [R-SIG-Finance] VaR in PerformanceAnalytics

Dear All,

I am trying to clarify the 3 main methods provided to calculate VaR in PerformanceAnalytics, namely historical, Gaussian and modified.

My understanding was that historical was the traditional non-parametric measure of the p-quantile of the negative return, and that the "Gaussian" version was based on the parametric mean-VaR based on RiskMetric's methodology. This seems to be matching the description in http://braverock.com/brian/R/PerformanceAnalytics/html/VaR.html

However, when I look at the recently updated guide for the package (http://cran.r-project.org/web/packages/PerformanceAnalytics/PerformanceAnalytics.pdf) I notice a different language in the description of VaR. The first paragraph of page 11 seems to imply that the "historical" method is actually the parametric VaR and let me wonder what "Gaussian" is then.

Thanks in advance for letting me know

Very best,

Julien






This e-mail and its attachments are intended only for the individual or entity to whom it is addressed and may contain information that is confidential, privileged, inside information, or subject to other restrictions on use or disclosure. If you have received this transmission in error, please notify the sender immediately by return e-mail, and permanently delete or destroy this e-mail, any attachments, and all copies. Any unauthorized use, dissemination or copying of this transmission or the information may be unlawful. This message is provided for informational purposes and should not be construed as an invitation or offer to buy or sell any securities or related financial instruments.

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. If you want to post, subscribe first.
-- Also note that this is not the r-help list where general R questions should go.


This email and any attachments are confidential, for the exclusive attention of the recipient and may also be legally privileged or otherwise protected from disclosure. No information contained herein shall be disclosed to any other person without our written consent unless it is clearly publicly available or otherwise specified by us for onward transmission.  If you received this email in error, please notify the sender by return email or by telephone on +44 (0)20 7071 0900; do not duplicate or redistribute it by any means; and delete or otherwise destroy all copies whether in electronic or hard copy form.

Any views contained in this email are those of the author and may not reflect those of any Capula entity.  We reserve the right to monitor and review all emails within our network to ensure compliance with our policies and to protect our business. Emails are not secure and are not warranted by us to be free of errors nor of viruses nor of other defects which may affect a computer system. Anyone who communicates with us by email is taken to accept these risks. Unless specifically indicated, this email is not an offer or solicitation to buy or sell any investment product. Any information regarding investment products is subject to change without notice.

Capula Investment Management LLP is registered in England no. OC313398 and is authorised and regulated by the Financial Conduct Authority.  Capula Investment Services Ltd is registered in England no. 05460265. The registered office of both companies is 4th Floor Reading Bridge House, George Street, Reading, RG1 8LS. The principal place of business of both companies is 8 Lancelot Place, London SW7 1DR.


From markknecht at gmail.com  Wed Dec 18 19:28:32 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Wed, 18 Dec 2013 10:28:32 -0800
Subject: [R-SIG-Finance] Unreliable Yahoo downloads,
 so possibly save/reread using MySQL?
In-Reply-To: <433A82A0D5E07048A9DE70A1693CE3BC2C62047D@Krang.Backstop.local>
References: <CAK2H+ecyMbbh9NMTXfmKeBHfGLNweYw34eYXc2xVO8Rpsi5AhA@mail.gmail.com>
	<433A82A0D5E07048A9DE70A1693CE3BC2C62047D@Krang.Backstop.local>
Message-ID: <CAK2H+edDCuY-6xO-F2OgnDhyhKdguA_ZkL15cJtv3MUPVb3c6Q@mail.gmail.com>

Hi Cedric,
   I wanted to once again say thanks. I'm now downloading data into
MySQL nightly using cron and I wouldn't have gotten there without your
example. There's a still a few curiousities:

1) Why can't I get setDefaults(getSymbols.MySQL to use .my.cnf instead
of having to put a password in this example
2) Why does getSymbols reading MySQL require
c("o","h","l","c","v","a") instead of the names that dbWriteTable put
in?

but other than that it all works.

   Like you I cringed about that big ALTER TABLE command. I've not
figured out how to get rid of the row_names to Date rename but the
rest of it is easy to do in a colname rename as shown here. I think it
makes the code more readable, at least to my eyes. I broke the ALTER
TABLE stuff into multiple strings as I was studying the problem so
that I could run multiple ALTER TABLE commands more easily but in the
end ended up with only the one and didn't simplify here.

   I also put in a rm(list=ls()) command to ensure what I was seeing
was really coming from MySQL.

   It also seems possible to use dbReadTable instead of getSymbols.
That might be another option for fewer ALTER requirements.

   Anyway, thanks to you and to Mark Breman for your help.

Cheers,
Mark



##EOD Downloader file, triggered by cron nightly after 8pm.. Define
your symbols in a vector
library(quantmod)
library(RMySQL)

MySymbols = c("MRK","GOOG","AAPL")
dbname = "Cedric"
getSymbols(MySymbols, src="yahoo")


dbc = dbConnect(MySQL(), dbname=dbname)
for(i in 1:length(MySymbols)) {
  df1 = as.data.frame(get(MySymbols[i]))
  #Change column names in database of getSymbols.MySQL won't work...
  #Simplifies ALTER TABLE command later
  colnames(df1) = c("o","h","l","c","v","a")
  dbWriteTable(dbc, name=MySymbols[i],value=df1, overwrite=TRUE)

  Str1 = paste0("ALTER TABLE ", MySymbols[i])
  Str2 = paste0("CHANGE COLUMN row_names Date DATE NULL DEFAULT NULL")
  StrOut = paste(Str1, Str2)
  print(StrOut)
  res = dbSendQuery(dbc, StrOut)
  dbClearResult(res)
}

#As a test, get rid of everything so far to
#ensure data read back is from MySQL
Sys.sleep(2)
rm(list=ls())
Sys.sleep(2)

#Now, from quantmod:
#setDefaults(getSymbols.MySQL, dbname="Cedric")
setDefaults(getSymbols.MySQL, user="mark", password="password", dbname="Cedric")

MySymbols = c("MRK","GOOG","AAPL")

for (i in 1:(length(MySymbols))){
  getSymbols(MySymbols[i], src="MySQL")
}

On Thu, Dec 5, 2013 at 4:59 PM, Cedrick Johnson
<cjohnson at backstopsolutions.com> wrote:
> Mark-
> Here's what I do in a automated fashion for downloading data from Yahoo post close (and storing into a mysql DB). The code may be a bit crummy (I cringe at my ALTER TABLE query but it works well for the 100 or so things I download every evening) but this should be a good starting point for refining.
>
> ##EOD Downloader file, triggered by cron nightly after 8pm.. Define your symbols in a vector
> library(quantmod)
> library(RMySQL)
>
> MySymbols = c("MRK","GOOG","AAPL")
>
> getSymbols(MySymbols, src="yahoo")
> dbc = dbConnect(MySQL(), user="youruser", pass="yourpass", host="yourhost", dbname="yourdb")
> for(I in 1:length(MySymbols) {
>         dbWriteTable(dbc, name=MySymbols[i],value=as.data.frame(get(MySymbols[i])), overwrite=TRUE)
>         res = dbSendQuery(dbc, paste("ALTER TABLE `yourtable`.`",MySymbols[i],
>                 "` CHANGE COLUMN `row_names` `Date` DATE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i],"_Open` `o` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i],"_High` `h` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Low` `l` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Close` `c` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `", MySymbols [i], "_Volume` `v` DOUBLE NULL DEFAULT NULL,
>                 CHANGE COLUMN `",MySymbols[i],"_Adjusted` `a` DOUBLE NULL DEFAULT;", sep=""))
>         dbClearResult(res)
> }
>
> Now, from quantmod:
> setDefaults(getSymbols.MySQL, user="youruser", password="yourpass", host="yourhost",port=3306, dbname="yourdb")
>
> getSymbols("MRK", src="MySQL")
>
>
> Hope this helps,
> CJ
>
> -----Original Message-----
> From: r-sig-finance-bounces at r-project.org [mailto:r-sig-finance-bounces at r-project.org] On Behalf Of Mark Knecht
> Sent: Thursday, December 05, 2013 1:55 PM
> To: R-Finance
> Subject: [R-SIG-Finance] Unreliable Yahoo downloads, so possibly save/reread using MySQL?
>
> Hi,
>    I read an ETF rotation paper a few weeks ago on Seeking Alpha and thought I'd play with the ideas in R. Without pointing any fingers (at
> Yahoo) I find that downloading adjusted data to be highly unreliable, especially in the middle of the work day. The following code snippet is, at the time I'm writing this, failing on one or another of the 5 downloads nearly 100% of the time. It's not always the same symbols that fail. That seems random to me. However if I change MyAdjust to FALSE then the downloads seem to work perfectly. My experience is that after the market closes the adjusted data works most of the time.
>
>    The sort of failure I see looks like the following (which did not use a to=Date_End) just as a test. In this case it was VNQ/REM that failed. I checked the Yahoo site and was able to see the data by hand:
>
>> getSymbols(MySymbols[[1]], from = Date_Start, adjust = MyAdjust, src =
>> SymbolSrc)
> [1] "VTI" "VEU"
>> getSymbols(MySymbols[[2]], from = Date_Start, adjust = MyAdjust, src =
>> SymbolSrc)
> [1] "HYG" "CIU"
>> getSymbols(MySymbols[[3]], from = Date_Start, adjust = MyAdjust, src =
>> SymbolSrc)
> Error in download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
>   cannot open URL
> 'http://ichart.finance.yahoo.com/x?s=VNQ&a=0&b=01&c=2000&d=11&e=05&f=2013&g=v&y=0&z=30000'
> In addition: Warning message:
> In download.file(paste(yahoo.URL, Symbol.name, "&a=", from.m, "&b=",  :
>   cannot open: HTTP status was '0 (null)'
>> getSymbols(MySymbols[[4]], from = Date_Start, adjust = MyAdjust, src =
>> SymbolSrc)
> [1] "GLD" "TLT"
>> getSymbols(MySymbols[[5]], from = Date_Start, adjust = MyAdjust, src =
>> SymbolSrc)
> [1] "SHY"
>
>    Anyway, to implement my reading of this paper, I really need adjusted data to take dividends into account and it seems silly to me to keep downloading the same data over and over from Yahoo as I play with this R code. To that end I'm wondering if anyone has a code example for saving Yahoo data once to MySQL and then (presumably) changing what I call SymbolSrc=MySQL for subsequent runs when I work on the R code? I've been searching around in StackOverflow as well as Google and haven't yet found anything very executable.
>
>    Please note that I'm a retired investor, not a trader, and seldom work with data faster than 30 minute bars and even then almost never real-time data, at least in terms of what I would store in MySQL so I'm not overly concerned right now as to whether MySQL is fast or slow. I already run MySQL for a couple of other reasons on my Gentoo box where I'm working in R and would prefer not run another database right now unless _necessary_.
>
>    Clearly, if there's some stupid issue in my code that fixes this that would be great to know about also! :-)
>
> Thanks in advance,
> Mark
>
>
>
> library(quantmod)
>
> Date_Start = "2000-01-01"
> Date_End = format(Sys.time(), "%Y-%m-%d") Sys.setenv(TZ = "UTC") SymbolSrc = "yahoo"
> MyAdjust = TRUE
>
> MySymbols = list()
> MySymbols[[1]]= c("VTI","VEU")
> MySymbols[[2]]= c("HYG","CIU")
> MySymbols[[3]]= c("VNQ","REM")
> MySymbols[[4]]= c("GLD","TLT")
> MySymbols[[5]]= c("SHY")
>
> getSymbols(MySymbols[[1]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[2]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[3]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[4]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc) getSymbols(MySymbols[[5]], from = Date_Start, to = Date_End, adjust = MyAdjust, src=SymbolSrc)
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From me at censix.com  Thu Dec 19 15:15:22 2013
From: me at censix.com (soren wilkening)
Date: Thu, 19 Dec 2013 06:15:22 -0800 (PST)
Subject: [R-SIG-Finance] pure R intraday trading framework
Message-ID: <1387462522269-4682471.post@n4.nabble.com>

I designed and implemented this pure R intraday trading framework.

It is lightweight, manages IBrealtimeBars >= 5sec smoothly and works well
for Fx, futures and stocks.

(requires IBrokers, quantmod and blotter packages, but nothing else)

Its available in the download section:   

http://censix.com/download

Happy prototyping ... (and enjoy the upcoming holidays)

Soren

http://censix.com



-----
http://censix.com
--
View this message in context: http://r.789695.n4.nabble.com/pure-R-intraday-trading-framework-tp4682471.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jzmoser at gmail.com  Thu Dec 19 16:08:27 2013
From: jzmoser at gmail.com (Johannes Moser)
Date: Thu, 19 Dec 2013 16:08:27 +0100
Subject: [R-SIG-Finance] RUGARCH VaRTest problem and a Question wrt UGARCHFIT
Message-ID: <52B30BEB.8080902@googlemail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131219/c89d93cc/attachment.pl>

From franguridi at gmail.com  Thu Dec 19 16:50:41 2013
From: franguridi at gmail.com (Grigory)
Date: Thu, 19 Dec 2013 07:50:41 -0800 (PST)
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
In-Reply-To: <5294BD7F.70308@4dscape.com>
References: <1385390504939-4681114.post@n4.nabble.com>
	<5293C4BB.8000401@4dscape.com>
	<1385452738327-4681158.post@n4.nabble.com>
	<5294574F.8010103@4dscape.com>
	<1385468074511-4681177.post@n4.nabble.com>
	<5294BD7F.70308@4dscape.com>
Message-ID: <1387468241766-4682477.post@n4.nabble.com>

I have the very same problem, even with 'external.regressors=NULL' option.
Has it been solved already? Thank you.


alexios wrote
> Send me your exact code and dataset used (if possible) off-mailing list
> and I'll take a look.
> 
> Alexios
> 
> On 26/11/2013 12:14, tvernay wrote:
>> Thanks for this suggestion Alexios. I am now running the latest rugarch
>> version from r-forge (1.2-9) but the error remains. Basically, this error
>> is
>> described as a ugarchfilter error, while I do not have any call to this
>> routine in my code. Apparently this error comes from the ugarchfit
>> function
>> with external regressors, for some reason...
>> 
>> Cheers,
>> 
>> Thibaut
>> 
>> 
>> 
>> --
>> View this message in context:
>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> 

> R-SIG-Finance@

>  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>> 
>>
> 
> _______________________________________________

> R-SIG-Finance@

>  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.





--
View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682477.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Thu Dec 19 17:38:12 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 19 Dec 2013 16:38:12 +0000
Subject: [R-SIG-Finance] RUGARCH VaRTest problem and a Question wrt
	UGARCHFIT
In-Reply-To: <52B30BEB.8080902@googlemail.com>
References: <52B30BEB.8080902@googlemail.com>
Message-ID: <52B320F4.4030608@4dscape.com>

1. The VaRTest was changed some time ago to deal with a specific case
which degenerates and leads to evaluation of log(0). Unfortunately, in
my attempt to deal with this the results in this case are wrong. I'll
reverse the fix and you will get NaN for this case (as before). Feel
free to look at the underlying code and suggest an alternative (the
offending code is the ".Log" function in the 'rugarch-tests.R' file).

2. The documentation example has the error. VaR should be transformed to
numeric as per the documentation inputs (the difference in the results
is because the underlying code uses certain logic statements which do
not work for an xts object).

3. The shape is the d.o.f. parameter. It has a default upper bound of
60, but per previous discussions here, you can change that to anything
else you want (use the 'setbounds<-' method on a specification object
prior to estimation).

4. Skew and Shape are the same as in Fernandez and Steel. Only thing
that changes is the reparametrization of the distribution to one where
mu=mean, sigma=stdev. A good way to get a feel of the distribution is by
looking at its moments for different parameters via numerical integration:
e.g.
f2 = function(x) x^2*ddist("sstd",x, 0, 1, skew=1, shape=60)
f3 = function(x) x^3*ddist("sstd",x, 0, 1, skew=1, shape=60)
f4 = function(x) x^4*ddist("sstd",x, 0, 1, skew=1, shape=60)
integrate(f2, -Inf, Inf)
integrate(f3, -Inf, Inf)
integrate(f4, -Inf, Inf)

-Alexios

On 19/12/2013 15:08, Johannes Moser wrote:
> Dear R-Users and Contributors,
> 
> I`m using the rugarch package for a project at university and I must say this is a really fine package!
> There are, however, two questions that I could not answer reading the documentation and browsing the internet:
> 
> The first regards the VaRTest function:
> When plugging my own numeric data vectors into this function, the test seems not to work well.
> No matter how bad the VaR-estimates are (clustered VaR breaches, many VaR breaches, both combined),
> the H0 of both tests (conditional coverage and unconditional coverage) is not rejected.
> 
> For instance I get the following:
> 
> $expected.exceed
> [1] 489
> 
> $actual.exceed
> [1] 2807
> 
> $uc.H0
> [1] "Correct Exceedances"
> 
> $uc.LRstat
> [1] 0
> 
> $uc.critical
> [1] 3.841459
> 
> $uc.LRp
> [1] 1
> 
> $uc.Decision
> [1] "Fail to Reject H0"
> 
> $cc.H0
> [1] "Correct Exceedances & Independent"
> 
> $cc.LRstat
> [1] 0
> 
> $cc.critical
> [1] 5.991465
> 
> $cc.LRp
> [1] 1
> 
> $cc.Decision
> [1] "Fail to Reject H0"
> 
> The documentation says, that the function takes two numeric vectors.
> 
> However, the example from the documentation (? VaRTest) uses a different object:
> class(VaR)
> [1] "xts" "zoo"
> 
> *Does the VaR-function need an xts formatted object?
> If so, which of the arguments (actual or VaR) or just any?*
> 
> When transforming the xts-VaR-object from the example to a simple numeric vector,
> the test result of the CC-test changes!
> E.g. run this after running the example to see the differences:
> print(VaRTest(0.05, actual, as.numeric(VaR[,1]) ))
> 
> 
> 
> 
> My second question refers to the range of the shape parameter using ugarchfit
> with (eGARCH and) a skewed student t distribution.
> I`ve created a series of vola forecasts the following way:
> 
> I reestimated an eGARCH-model every 5 working days, starting with a
> increasing sample of 500 obs at the beginning (then 505, 510 etc.).
> After each estimation step, I generated 5 rolling 1-step-ahead forcasts (n.roll=4)
> from each of the estimated models, thereby creating a continuous stream
> of forecasts. (I can provide the code if this is of any help)
> 
> The maximum value for the estimated shape parameter is 60 and in 2058 estimates
> it reaches this bound only 3 times, but the plot still looks kind of truncated:
> 
> http://www.file-upload.net/download-8420593/mod4_para8.pdf.html
> 
> Does this point to a programming error of mine? Or*is there a upper limit in**the**
> **ugarchfit function wrt the range of the shape parameter*  (in the spirit of "a shape of
> 60 is close to a normal distribution and therefore the modelling of the student t is not
> supported any more"?)
> 
> By the way, is the shape parameter in this case the degrees of freedom or something else?
> Is the skew parameter of the skewed t distribution the same thing as in Fernandez_Steel_1998?
> I heared that some people have reparametrized the skewed t distribution once more so that
> the parameters actually correspond to the moments (which is not the case in F.&S.).
> I have looked for these questions in the documentation without finding an answer.
> Hopefully I have not overseen anything?
> 
> This is my first posting to this list and I hope that I have met the etiquette.
> 
> Thanks in advance for your effort to help me!
> Best,
> Johannes
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From alexios at 4dscape.com  Thu Dec 19 17:42:55 2013
From: alexios at 4dscape.com (alexios ghalanos)
Date: Thu, 19 Dec 2013 16:42:55 +0000
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
 regressors
In-Reply-To: <1387468241766-4682477.post@n4.nabble.com>
References: <1385390504939-4681114.post@n4.nabble.com>	<5293C4BB.8000401@4dscape.com>	<1385452738327-4681158.post@n4.nabble.com>	<5294574F.8010103@4dscape.com>	<1385468074511-4681177.post@n4.nabble.com>	<5294BD7F.70308@4dscape.com>
	<1387468241766-4682477.post@n4.nabble.com>
Message-ID: <52B3220F.40005@4dscape.com>

There was no error in the code...did you check the convergence of your
estimated object?
If you want more help, consider providing reproducible code as per the
guidelines.

Alexios

On 19/12/2013 15:50, Grigory wrote:
> I have the very same problem, even with 'external.regressors=NULL' option.
> Has it been solved already? Thank you.
> 
> 
> alexios wrote
>> Send me your exact code and dataset used (if possible) off-mailing list
>> and I'll take a look.
>>
>> Alexios
>>
>> On 26/11/2013 12:14, tvernay wrote:
>>> Thanks for this suggestion Alexios. I am now running the latest rugarch
>>> version from r-forge (1.2-9) but the error remains. Basically, this error
>>> is
>>> described as a ugarchfilter error, while I do not have any call to this
>>> routine in my code. Apparently this error comes from the ugarchfit
>>> function
>>> with external regressors, for some reason...
>>>
>>> Cheers,
>>>
>>> Thibaut
>>>
>>>
>>>
>>> --
>>> View this message in context:
>>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
>>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>>
> 
>> R-SIG-Finance@
> 
>>  mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>>
>>>
>>
>> _______________________________________________
> 
>> R-SIG-Finance@
> 
>>  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
> 
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682477.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 
>


From franguridi at gmail.com  Fri Dec 20 06:49:38 2013
From: franguridi at gmail.com (Grigory)
Date: Thu, 19 Dec 2013 21:49:38 -0800 (PST)
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
In-Reply-To: <52B3220F.40005@4dscape.com>
References: <1385390504939-4681114.post@n4.nabble.com>
	<5293C4BB.8000401@4dscape.com>
	<1385452738327-4681158.post@n4.nabble.com>
	<5294574F.8010103@4dscape.com>
	<1385468074511-4681177.post@n4.nabble.com>
	<5294BD7F.70308@4dscape.com>
	<1387468241766-4682477.post@n4.nabble.com>
	<52B3220F.40005@4dscape.com>
Message-ID: <1387518578883-4682529.post@n4.nabble.com>

There is indeed a warning:
ugarchfit-->warning: solver failed to converge
with optim giving code=1. But the estimated parameter values are numeric;
why then the error is thrown when I am trying to use ugarchforecast() with
this uGARCHfit object as a parameter?

Thank you for your response.


alexios wrote
> There was no error in the code...did you check the convergence of your
> estimated object?
> If you want more help, consider providing reproducible code as per the
> guidelines.
> 
> Alexios
> 
> On 19/12/2013 15:50, Grigory wrote:
>> I have the very same problem, even with 'external.regressors=NULL'
>> option.
>> Has it been solved already? Thank you.
>> 
>> 
>> alexios wrote
>>> Send me your exact code and dataset used (if possible) off-mailing list
>>> and I'll take a look.
>>>
>>> Alexios
>>>
>>> On 26/11/2013 12:14, tvernay wrote:
>>>> Thanks for this suggestion Alexios. I am now running the latest rugarch
>>>> version from r-forge (1.2-9) but the error remains. Basically, this
>>>> error
>>>> is
>>>> described as a ugarchfilter error, while I do not have any call to this
>>>> routine in my code. Apparently this error comes from the ugarchfit
>>>> function
>>>> with external regressors, for some reason...
>>>>
>>>> Cheers,
>>>>
>>>> Thibaut
>>>>
>>>>
>>>>
>>>> --
>>>> View this message in context:
>>>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
>>>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>>>
>>>> _______________________________________________
>>>>
>> 
>>> R-SIG-Finance@
>> 
>>>  mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions
>>>> should go.
>>>>
>>>>
>>>
>>> _______________________________________________
>> 
>>> R-SIG-Finance@
>> 
>>>  mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>> 
>> 
>> 
>> 
>> 
>> --
>> View this message in context:
>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682477.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> 

> R-SIG-Finance@

>  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>> 
>>
> 
> _______________________________________________

> R-SIG-Finance@

>  mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.





--
View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682529.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From alexios at 4dscape.com  Fri Dec 20 07:17:56 2013
From: alexios at 4dscape.com (Alexios Ghalanos)
Date: Fri, 20 Dec 2013 06:17:56 +0000
Subject: [R-SIG-Finance] [rugarch] error in ugarchfit due to external
	regressors
In-Reply-To: <1387518578883-4682529.post@n4.nabble.com>
References: <1385390504939-4681114.post@n4.nabble.com>
	<5293C4BB.8000401@4dscape.com>
	<1385452738327-4681158.post@n4.nabble.com>
	<5294574F.8010103@4dscape.com>
	<1385468074511-4681177.post@n4.nabble.com>
	<5294BD7F.70308@4dscape.com>
	<1387468241766-4682477.post@n4.nabble.com>
	<52B3220F.40005@4dscape.com>
	<1387518578883-4682529.post@n4.nabble.com>
Message-ID: <09947A67-CE91-4919-A05C-ADA064786E1C@4dscape.com>

It doesn't matter whether the parameters appear to be numeric or not. If the solver failed to converge then the returned object cannot be used, and will not contain the full information required to be useful in other routines. 
Try a different solver or change any of a number of options available which may lead to convergence...a topic already exhaustively discussed in this forum in the past.

Alexios

On 20 Dec 2013, at 05:49 AM, Grigory <franguridi at gmail.com> wrote:

> There is indeed a warning:
> ugarchfit-->warning: solver failed to converge
> with optim giving code=1. But the estimated parameter values are numeric;
> why then the error is thrown when I am trying to use ugarchforecast() with
> this uGARCHfit object as a parameter?
> 
> Thank you for your response.
> 
> 
> alexios wrote
>> There was no error in the code...did you check the convergence of your
>> estimated object?
>> If you want more help, consider providing reproducible code as per the
>> guidelines.
>> 
>> Alexios
>> 
>> On 19/12/2013 15:50, Grigory wrote:
>>> I have the very same problem, even with 'external.regressors=NULL'
>>> option.
>>> Has it been solved already? Thank you.
>>> 
>>> 
>>> alexios wrote
>>>> Send me your exact code and dataset used (if possible) off-mailing list
>>>> and I'll take a look.
>>>> 
>>>> Alexios
>>>> 
>>>> On 26/11/2013 12:14, tvernay wrote:
>>>>> Thanks for this suggestion Alexios. I am now running the latest rugarch
>>>>> version from r-forge (1.2-9) but the error remains. Basically, this
>>>>> error
>>>>> is
>>>>> described as a ugarchfilter error, while I do not have any call to this
>>>>> routine in my code. Apparently this error comes from the ugarchfit
>>>>> function
>>>>> with external regressors, for some reason...
>>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Thibaut
>>>>> 
>>>>> 
>>>>> 
>>>>> --
>>>>> View this message in context:
>>>>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4681177.html
>>>>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>>>> 
>>>>> _______________________________________________
>>>>> 
>>> 
>>>> R-SIG-Finance@
>>> 
>>>> mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>>> -- Also note that this is not the r-help list where general R questions
>>>>> should go.
>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>> 
>>>> R-SIG-Finance@
>>> 
>>>> mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>> -- Also note that this is not the r-help list where general R questions
>>>> should go.
>>> 
>>> 
>>> 
>>> 
>>> 
>>> --
>>> View this message in context:
>>> http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682477.html
>>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>> 
>>> _______________________________________________
>>> 
> 
>> R-SIG-Finance@
> 
>> mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions
>>> should go.
>>> 
>>> 
>> 
>> _______________________________________________
> 
>> R-SIG-Finance@
> 
>> mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
> 
> 
> 
> 
> 
> --
> View this message in context: http://r.789695.n4.nabble.com/rugarch-error-in-ugarchfit-due-to-external-regressors-tp4681114p4682529.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
> 


From markknecht at gmail.com  Fri Dec 20 20:03:19 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 20 Dec 2013 11:03:19 -0800
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
Message-ID: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>

I'm using RMySQL saving data from Yahoo. It's working nicely, but as
best I can tell the setDefaults function seems to require me to put
the MySQL account name and password in clear text in my R program
which I don't like. I.e. - the one commented out below works, the one
currently not commented out fails later when using
getSymbols(,src="MySQL")

As best I can tell everything else I'm using - most of which I think
comes from the DBI package - is using /home/mark/.my.cnf to get these
values. I can connect to the database, read and write it, etc. It's
only the getSymbols command I'm having trouble with.

Is there a way around this that keeps the password out of my files and
out of the file.Rout file when I run in batch mode?

Thanks,
Mark


if (UseMySQL){
  if (MyAdjust) { dbName = paste0(dbName, "Adjust")}
  dbc = dbConnect(MySQL(), dbname=dbName)
#  setDefaults(getSymbols.MySQL, user="mark", password="TmpPasswd",
dbname=dbName)
  setDefaults(getSymbols.MySQL, dbname=dbName)
}


From markknecht at gmail.com  Fri Dec 20 22:30:30 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 20 Dec 2013 13:30:30 -0800
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
In-Reply-To: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
References: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
Message-ID: <CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>

On Fri, Dec 20, 2013 at 11:03 AM, Mark Knecht <markknecht at gmail.com> wrote:
> I'm using RMySQL saving data from Yahoo. It's working nicely, but as
> best I can tell the setDefaults function seems to require me to put
> the MySQL account name and password in clear text in my R program
> which I don't like. I.e. - the one commented out below works, the one
> currently not commented out fails later when using
> getSymbols(,src="MySQL")
>
> As best I can tell everything else I'm using - most of which I think
> comes from the DBI package - is using /home/mark/.my.cnf to get these
> values. I can connect to the database, read and write it, etc. It's
> only the getSymbols command I'm having trouble with.
>
> Is there a way around this that keeps the password out of my files and
> out of the file.Rout file when I run in batch mode?
>
> Thanks,
> Mark
>
>
> if (UseMySQL){
>   if (MyAdjust) { dbName = paste0(dbName, "Adjust")}
>   dbc = dbConnect(MySQL(), dbname=dbName)
> #  setDefaults(getSymbols.MySQL, user="mark", password="TmpPasswd",
> dbname=dbName)
>   setDefaults(getSymbols.MySQL, dbname=dbName)
> }


Answering myself, it appears the answer is no unless there's some
system-level magic out there. I don't see any way for this function as
currently written to pick up the values I'd like it to be able to read
from the .my.cnf file.

- Mark


> getSymbols.MySQL
function (Symbols, env, return.class = "xts", db.fields = c("date",
    "o", "h", "l", "c", "v", "a"), field.names = NULL, user = NULL,
    password = NULL, dbname = NULL, host = "localhost", port = 3306,
    ...)
{
    importDefaults("getSymbols.MySQL")
    this.env <- environment()
    for (var in names(list(...))) {
        assign(var, list(...)[[var]], this.env)
    }
    if (missing(verbose))
        verbose <- FALSE
    if (missing(auto.assign))
        auto.assign <- TRUE
    if ("package:DBI" %in% search() || require("DBI", quietly = TRUE)) {
        if ("package:RMySQL" %in% search() || require("RMySQL",
            quietly = TRUE)) {
        }
        else {
            warning(paste("package:", dQuote("RMySQL"), "cannot be loaded"))
        }
    }
    else {
        stop(paste("package:", dQuote("DBI"), "cannot be loaded."))
    }
    if (is.null(user) || is.null(password) || is.null(dbname)) {
        stop(paste("At least one connection argument (", sQuote("user"),
            sQuote("password"), sQuote("dbname"), ") is not set"))
    }
    con <- dbConnect("MySQL", user = user, password = password,
        dbname = dbname, host = host, port = port)
    db.Symbols <- dbListTables(con)
    if (length(Symbols) != sum(Symbols %in% db.Symbols)) {
        missing.db.symbol <- Symbols[!Symbols %in% db.Symbols]
        warning(paste("could not load symbol(s): ", paste(missing.db.symbol,
            collapse = ", ")))
        Symbols <- Symbols[Symbols %in% db.Symbols]
    }
    for (i in 1:length(Symbols)) {
        if (verbose) {
            cat(paste("Loading ", Symbols[[i]], paste(rep(".",
                10 - nchar(Symbols[[i]])), collapse = ""), sep = ""))
        }
        query <- paste("SELECT ", paste(db.fields, collapse = ","),
            " FROM ", Symbols[[i]], " ORDER BY date")
        rs <- dbSendQuery(con, query)
        fr <- fetch(rs, n = -1)
        fr <- xts(as.matrix(fr[, -1]), order.by = as.Date(fr[,
            1], origin = "1970-01-01"), src = dbname, updated = Sys.time())
        colnames(fr) <- paste(Symbols[[i]], c("Open", "High",
            "Low", "Close", "Volume", "Adjusted"), sep = ".")
        fr <- convert.time.series(fr = fr, return.class = return.class)
        if (auto.assign)
            assign(Symbols[[i]], fr, env)
        if (verbose)
            cat("done\n")
    }
    dbDisconnect(con)
    if (auto.assign)
        return(Symbols)
    return(fr)
}
<environment: namespace:quantmod>
>


From zach.mayer at gmail.com  Fri Dec 20 22:34:31 2013
From: zach.mayer at gmail.com (Zachary Mayer)
Date: Fri, 20 Dec 2013 16:34:31 -0500
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
In-Reply-To: <CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
References: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
	<CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
Message-ID: <CAEr64e-Bo-jT1PMuTy3cue=oy+0w+Yfbbp2CjVuiEO+kJQVa+Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131220/b70d90ed/attachment.pl>

From pgilbert902 at gmail.com  Fri Dec 20 22:49:53 2013
From: pgilbert902 at gmail.com (Paul Gilbert)
Date: Fri, 20 Dec 2013 16:49:53 -0500
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
In-Reply-To: <CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
References: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
	<CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
Message-ID: <52B4BB81.4040706@gmail.com>

I think there is some "system-level magic" that getSymbols.MySQL is
breaking. The MySQL driver will actually find the information in the 
.my.cnf file if it is called without user and password, but the code 
does not try that:


 >      if (is.null(user) || is.null(password) || is.null(dbname)) {
 >          stop(paste("At least one connection argument (", sQuote("user"),
 >              sQuote("password"), sQuote("dbname"), ") is not set"))
 >      }
 >      con <- dbConnect("MySQL", user = user, password = password,
 >          dbname = dbname, host = host, port = port)

I think it will be fixed by (untested)

    if ( is.null(dbname))
        stop('dbname must be specified')
    if (is.null(user) & is.null(password) )
      con <- dbConnect("MySQL", dbname = dbname)
    else
      con <- dbConnect("MySQL", user = user, password = password,
          dbname = dbname, host = host, port = port)

This could probably do something better if the user manages to specify 
one of user or password, or host, or port.

Paul.

On 13-12-20 04:30 PM, Mark Knecht wrote:
> On Fri, Dec 20, 2013 at 11:03 AM, Mark Knecht <markknecht at gmail.com> wrote:
>> I'm using RMySQL saving data from Yahoo. It's working nicely, but as
>> best I can tell the setDefaults function seems to require me to put
>> the MySQL account name and password in clear text in my R program
>> which I don't like. I.e. - the one commented out below works, the one
>> currently not commented out fails later when using
>> getSymbols(,src="MySQL")
>>
>> As best I can tell everything else I'm using - most of which I think
>> comes from the DBI package - is using /home/mark/.my.cnf to get these
>> values. I can connect to the database, read and write it, etc. It's
>> only the getSymbols command I'm having trouble with.
>>
>> Is there a way around this that keeps the password out of my files and
>> out of the file.Rout file when I run in batch mode?
>>
>> Thanks,
>> Mark
>>
>>
>> if (UseMySQL){
>>    if (MyAdjust) { dbName = paste0(dbName, "Adjust")}
>>    dbc = dbConnect(MySQL(), dbname=dbName)
>> #  setDefaults(getSymbols.MySQL, user="mark", password="TmpPasswd",
>> dbname=dbName)
>>    setDefaults(getSymbols.MySQL, dbname=dbName)
>> }
>
>
> Answering myself, it appears the answer is no unless there's some
> system-level magic out there. I don't see any way for this function as
> currently written to pick up the values I'd like it to be able to read
> from the .my.cnf file.
>
> - Mark
>
>
>> getSymbols.MySQL
> function (Symbols, env, return.class = "xts", db.fields = c("date",
>      "o", "h", "l", "c", "v", "a"), field.names = NULL, user = NULL,
>      password = NULL, dbname = NULL, host = "localhost", port = 3306,
>      ...)
> {
>      importDefaults("getSymbols.MySQL")
>      this.env <- environment()
>      for (var in names(list(...))) {
>          assign(var, list(...)[[var]], this.env)
>      }
>      if (missing(verbose))
>          verbose <- FALSE
>      if (missing(auto.assign))
>          auto.assign <- TRUE
>      if ("package:DBI" %in% search() || require("DBI", quietly = TRUE)) {
>          if ("package:RMySQL" %in% search() || require("RMySQL",
>              quietly = TRUE)) {
>          }
>          else {
>              warning(paste("package:", dQuote("RMySQL"), "cannot be loaded"))
>          }
>      }
>      else {
>          stop(paste("package:", dQuote("DBI"), "cannot be loaded."))
>      }
>      if (is.null(user) || is.null(password) || is.null(dbname)) {
>          stop(paste("At least one connection argument (", sQuote("user"),
>              sQuote("password"), sQuote("dbname"), ") is not set"))
>      }
>      con <- dbConnect("MySQL", user = user, password = password,
>          dbname = dbname, host = host, port = port)
>      db.Symbols <- dbListTables(con)
>      if (length(Symbols) != sum(Symbols %in% db.Symbols)) {
>          missing.db.symbol <- Symbols[!Symbols %in% db.Symbols]
>          warning(paste("could not load symbol(s): ", paste(missing.db.symbol,
>              collapse = ", ")))
>          Symbols <- Symbols[Symbols %in% db.Symbols]
>      }
>      for (i in 1:length(Symbols)) {
>          if (verbose) {
>              cat(paste("Loading ", Symbols[[i]], paste(rep(".",
>                  10 - nchar(Symbols[[i]])), collapse = ""), sep = ""))
>          }
>          query <- paste("SELECT ", paste(db.fields, collapse = ","),
>              " FROM ", Symbols[[i]], " ORDER BY date")
>          rs <- dbSendQuery(con, query)
>          fr <- fetch(rs, n = -1)
>          fr <- xts(as.matrix(fr[, -1]), order.by = as.Date(fr[,
>              1], origin = "1970-01-01"), src = dbname, updated = Sys.time())
>          colnames(fr) <- paste(Symbols[[i]], c("Open", "High",
>              "Low", "Close", "Volume", "Adjusted"), sep = ".")
>          fr <- convert.time.series(fr = fr, return.class = return.class)
>          if (auto.assign)
>              assign(Symbols[[i]], fr, env)
>          if (verbose)
>              cat("done\n")
>      }
>      dbDisconnect(con)
>      if (auto.assign)
>          return(Symbols)
>      return(fr)
> }
> <environment: namespace:quantmod>
>>
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.
>


From markknecht at gmail.com  Sat Dec 21 00:16:35 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 20 Dec 2013 15:16:35 -0800
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
In-Reply-To: <52B4BB81.4040706@gmail.com>
References: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
	<CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
	<52B4BB81.4040706@gmail.com>
Message-ID: <CAK2H+ec5LBp5S6c+QNmdHE6j+ZKOzMG=pAH=josrz0j9_7qt-g@mail.gmail.com>

On Fri, Dec 20, 2013 at 1:49 PM, Paul Gilbert <pgilbert902 at gmail.com> wrote:
> I think there is some "system-level magic" that getSymbols.MySQL is
> breaking. The MySQL driver will actually find the information in the .my.cnf
> file if it is called without user and password, but the code does not try
> that:
>
>
>
>>      if (is.null(user) || is.null(password) || is.null(dbname)) {
>>          stop(paste("At least one connection argument (", sQuote("user"),
>>              sQuote("password"), sQuote("dbname"), ") is not set"))
>>      }
>>      con <- dbConnect("MySQL", user = user, password = password,
>>          dbname = dbname, host = host, port = port)
>
> I think it will be fixed by (untested)
>
>    if ( is.null(dbname))
>        stop('dbname must be specified')
>    if (is.null(user) & is.null(password) )
>      con <- dbConnect("MySQL", dbname = dbname)
>    else
>
>      con <- dbConnect("MySQL", user = user, password = password,
>          dbname = dbname, host = host, port = port)
>
> This could probably do something better if the user manages to specify one
> of user or password, or host, or port.
>
> Paul.
>

This looks like a good direction for a potential solution.
Unfortunately my R function foo seems a bit lacking to make it work.

I copied the function I posted earlier to my own function file, called
it MySQLgetSymbols and added your idea. I unfortunately have two
problems:

1) R complains that 'missing' is being misused. Being that I don't
care about verbose of auto.assign for testing I just commented those
out.

#  if (missing(verbose))
    verbose <- FALSE
#  if (missing(auto.assign))
    auto.assign <- TRUE

2) The larger problem is that it needs a function called
convert.time.series. I don't know where that comes from but I suspect
it has something to do with the "<environment: namespace:quantmod>" I
see when I print out the function (see second post if you still have
it) but I don't know how to use in this case.

Thanks,
Mark


> if (DownloadNewData){
+   if (!UseMySQL){
+     getSymbolsCont(BuyHoldSymbol,  from = Date_Start, to = Date_End,
adjust = MyAdjust, src=SymbolSrc)
+   } else {
+  #   getSymbols(BuyHoldSymbol, src="MySQL")
+     MySQLgetSymbols(BuyHoldSymbol,  from = Date_Start, to =
Date_End, dbname=dbName)
+   }
+ }
Error: could not find function "convert.time.series"

>

MySQLgetSymbols =function (Symbols, env, return.class = "xts",
db.fields = c("date",
                            "o", "h", "l", "c", "v", "a"), field.names
= NULL, user = NULL,
                           password = NULL, dbname = NULL, host =
"localhost", port = 3306,
                           ...
                          )
{
  importDefaults("getSymbols.MySQL")
  this.env <- environment()
  for (var in names(list(...))) {
    assign(var, list(...)[[var]], this.env)
  }
#  if (missing(verbose))
    verbose <- FALSE
#  if (missing(auto.assign))
    auto.assign <- TRUE
  if ("package:DBI" %in% search() || require("DBI", quietly = TRUE)) {
    if ("package:RMySQL" %in% search() || require("RMySQL",
                                                  quietly = TRUE)) {
    }
    else {
      warning(paste("package:", dQuote("RMySQL"), "cannot be loaded"))
    }
  }
  else {
    stop(paste("package:", dQuote("DBI"), "cannot be loaded."))
  }

#   if (is.null(user) || is.null(password) || is.null(dbname)) {
#     stop(paste("At least one connection argument (", sQuote("user"),
#                sQuote("password"), sQuote("dbname"), ") is not set"))
#   }

if ( is.null(dbname))
  stop('dbname must be specified')


#This section is new:

if (is.null(user) & is.null(password) )
  con <- dbConnect("MySQL", dbname = dbname)
else
  con <- dbConnect("MySQL", user = user, password = password,
                   dbname = dbname, host = host, port = port)

# End of edit


  db.Symbols <- dbListTables(con)
  if (length(Symbols) != sum(Symbols %in% db.Symbols)) {
    missing.db.symbol <- Symbols[!Symbols %in% db.Symbols]
    warning(paste("could not load symbol(s): ", paste(missing.db.symbol,
                                                      collapse = ", ")))
    Symbols <- Symbols[Symbols %in% db.Symbols]
  }
  for (i in 1:length(Symbols)) {
    if (verbose) {
      cat(paste("Loading ", Symbols[[i]], paste(rep(".",
                                                    10 -
nchar(Symbols[[i]])), collapse = ""), sep = ""))
    }
    query <- paste("SELECT ", paste(db.fields, collapse = ","),
                   " FROM ", Symbols[[i]], " ORDER BY date")
    rs <- dbSendQuery(con, query)
    fr <- fetch(rs, n = -1)
    fr <- xts(as.matrix(fr[, -1]), order.by = as.Date(fr[,
                                                         1], origin =
"1970-01-01"), src = dbname, updated = Sys.time())
    colnames(fr) <- paste(Symbols[[i]], c("Open", "High",
                                          "Low", "Close", "Volume",
"Adjusted"), sep = ".")
    fr <- convert.time.series(fr = fr, return.class = return.class)
    if (auto.assign)
      assign(Symbols[[i]], fr, env)
    if (verbose)
      cat("done\n")
  }
  dbDisconnect(con)
  if (auto.assign)
    return(Symbols)
  return(fr)
}


From markknecht at gmail.com  Sat Dec 21 02:32:31 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Fri, 20 Dec 2013 17:32:31 -0800
Subject: [R-SIG-Finance] RMySQL - setDefaults requires clear text
	name/password?
In-Reply-To: <CAK2H+ec5LBp5S6c+QNmdHE6j+ZKOzMG=pAH=josrz0j9_7qt-g@mail.gmail.com>
References: <CAK2H+ee3miNjuQgQREmMyWEqGESc9WB4sfcKsiBoOmFGLt-SLg@mail.gmail.com>
	<CAK2H+ed-+x_o-jbhs-GQ_g6VUd_O+G=LPnqxNy0Wsbw_2Pe4Tg@mail.gmail.com>
	<52B4BB81.4040706@gmail.com>
	<CAK2H+ec5LBp5S6c+QNmdHE6j+ZKOzMG=pAH=josrz0j9_7qt-g@mail.gmail.com>
Message-ID: <CAK2H+efH1PTvs+z52pK2xKMdyRvYXO3G6zYS-u00KJofmFcSpQ@mail.gmail.com>

On Fri, Dec 20, 2013 at 3:16 PM, Mark Knecht <markknecht at gmail.com> wrote:
<SNIP>
> 2) The larger problem is that it needs a function called
> convert.time.series. I don't know where that comes from but I suspect
> it has something to do with the "<environment: namespace:quantmod>" I
> see when I print out the function (see second post if you still have
> it) but I don't know how to use in this case.
<SNIP>

> Error: could not find function "convert.time.series"
<SNIP>

So apparently this function is internal to quantmod and undocumented.

I think a better way to test this out would be to create a diff patch
for quantmod that makes the change. That may be a stretch for me but
if I can find some time I'll try it.

Cheers,
Mark


From my.r.help at gmail.com  Sat Dec 21 13:33:15 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Sat, 21 Dec 2013 20:33:15 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
	<CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
Message-ID: <52B58A8B.9050405@gmail.com>

Hi Garrett,

Gateway connects fine to the IB server. However, I have a problem
connecting IBrokers to Gateway.

The error message for *Gateway* is the same as when I forget to click
"Enable ActiveX and Socket Clients" in the *TWS* settings. But in
Gateway I cannot find such a setting.

> tws <- twsConnect()
Error in socketConnection(host = host, port = port, open = "ab",
blocking = blocking) :
  cannot open the connection
In addition: Warning message:
In socketConnection(host = host, port = port, open = "ab", blocking =
blocking) :
  localhost:7496 cannot be opened

Do you use any special settings for Gateway?

Thanks,
M


On 12/10/2013 07:51 AM, G See wrote:
> Yup.  Works fine for me with the demo account on Ubuntu.
> 
> Have you tried restarting the TWS?  (while you're at it, you might
> consider using IB Gateway instead since it doesn't log you out every
> day)
> 
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-pc-linux-gnu (64-bit)
> 
> locale:
>  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>  [9] LC_ADDRESS=C               LC_TELEPHONE=C
> [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-11
> 
> loaded via a namespace (and not attached):
> [1] grid_3.0.2      lattice_0.20-18
> 
> 
> Sorry I can't be of more assistance,
> 
> Garrett
> 
> On Mon, Dec 9, 2013 at 5:25 PM, Michael Smith <my.r.help at gmail.com> wrote:
>> Does it work for you in the demo TWS version as well?
>>
>> For me, `reqCurrentTime` works fine in the demo TWS version, like all
>> the other examples in the vignette, except for `twsFuture`.
>>
>>> reqCurrentTime(tws)
>> TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
>> TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
>> [1] "2013-12-10 07:14:29 HKT"
>>
>> Interestingly, when I run the following code, I get some feedback from
>> the Unix shell that runs TWS.
>>
>>> tws <- twsConnect()
>>> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
>> ^C
>>> twsDisconnect(tws)
>>
>> So when I run `twsDisconnect` (only after running `reqContractDetails`)
>> in the example above, I get the following output in the Unix shell from
>> Java:
>>
>> 07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message type
>> 1.  Attempted read beyond end of socket stream -
>> 07:23:13:870 JTS-EServerSocket-157: Anticipated error
>> jextend.c: Attempted read beyond end of socket stream -
>>         at jextend.tb.b(tb.java:307)
>>         at jextend.hf.eb(hf.java:1316)
>>         at jextend.hf.run(hf.java:1251)
>>         at java.lang.Thread.run(Thread.java:744)
>> Caused by: java.io.EOFException
>>         at jextend.tb.c(tb.java:541)
>>         at jextend.tb.r(tb.java:183)
>>         at jextend.wd.a(wd.java:188)
>>         at jextend.tb.d(tb.java:613)
>>         at jextend.uc.a(uc.java:177)
>>         at jextend.tb.b(tb.java:304)
>>         ... 3 more
>> 07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
>> terminated conversation.
>> 07:23:13:871 JTS-EServerSocketNotifier-156: Terminating
>>
>>
>> Thanks,
>> Michael
>>
>>
>>
>> On 12/09/2013 11:06 PM, G See wrote:
>>> I don't know; it works for me.  Does reqCurrentTime(tws) return the
>>> current time?
>>>
>>> Garrett
>>>
>>>> tws <- ibgConnect()
>>>> reqCurrentTime(tws)
>>> [1] "2013-12-09 09:04:37 CST"
>>>> reqContractDetails(tws, twsEquity("QQQ"))
>>> [[1]]
>>> List of 18
>>>  $ version       : chr "6"
>>>  $ contract      :List of 16
>>>   ..$ conId          : chr "43661924"
>>>   ..$ symbol         : chr "QQQ"
>>>   ..$ sectype        : chr "STK"
>>>   ..$ exch           : chr "SMART"
>>>   ..$ primary        : chr "NASDAQ"
>>>   ..$ expiry         : chr ""
>>>   ..$ strike         : chr "0"
>>>   ..$ currency       : chr "USD"
>>>   ..$ right          : chr ""
>>>   ..$ local          : chr "QQQ"
>>>   ..$ multiplier     : chr ""
>>>   ..$ combo_legs_desc: chr ""
>>>   ..$ comboleg       : chr ""
>>>   ..$ include_expired: chr "0"
>>>   ..$ secIdType      : chr ""
>>>   ..$ secId          : chr ""
>>>   ..- attr(*, "class")= chr "twsContract"
>>>  $ marketName    : chr "NMS"
>>>  $ tradingClass  : chr "NMS"
>>>  $ conId         : chr "43661924"
>>>  $ minTick       : chr "0.01"
>>>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT" "ALGO" ...
>>>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>>>  $ priceMagnifier: chr "1"
>>>  $ underConId    : chr "0"
>>>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>>>  $ contractMonth : chr ""
>>>  $ industry      : chr "Funds"
>>>  $ category      : chr "Equity Fund"
>>>  $ subcategory   : chr "Sector Fund-Technology"
>>>  $ timeZoneId    : chr "EST"
>>>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>>>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
>>>
>>> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>> Thanks for the quick reply, but R still hangs after running this command
>>>> with the new ticker.
>>>>
>>>> Best,
>>>> Michael
>>>>
>>>>
>>>> On 12/09/2013 09:29 PM, G See wrote:
>>>>> The ticker for that ETF changed to QQQ on March 23, 2011
>>>>>
>>>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>>>>>
>>>>> Best,
>>>>> Garrett
>>>>>
>>>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith <my.r.help at gmail.com> wrote:
>>>>>> All,
>>>>>>
>>>>>> I'm trying to better understand how to use the IBrokers package by going
>>>>>> through the `IBrokers.pdf` vignette. I'm using the demo version of TWS
>>>>>> (login `edemo`). TWS seems to be running fine. However, I get stuck at
>>>>>> the following command from the vignette:
>>>>>>
>>>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>>>>>>
>>>>>> R just seems to hang and I don't get any further response. My
>>>>>> sessionInfo is below. I'm using the most current IBrokers from Google Code.
>>>>>>
>>>>>> Am I doing something wrong, or is this not supposed to work with the TWS
>>>>>> demo version?
>>>>>>
>>>>>> Thanks,
>>>>>> Michael
>>>>>>
>>>>>>
>>>>>>> sessionInfo()
>>>>>> R version 3.0.2 (2013-09-25)
>>>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>>>>>>
>>>>>> locale:
>>>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>>>>>> LC_TIME=en_US.utf8
>>>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>>>>>> LC_MESSAGES=en_US.utf8
>>>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                 LC_ADDRESS=C
>>>>>>
>>>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>>>>>> LC_IDENTIFICATION=C
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>>
>>>>>> other attached packages:
>>>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10      colorout_1.0-1
>>>>>>
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Finance at r-project.org mailing list
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>>>>> -- Also note that this is not the r-help list where general R questions should go.


From my.r.help at gmail.com  Sat Dec 21 14:57:40 2013
From: my.r.help at gmail.com (Michael Smith)
Date: Sat, 21 Dec 2013 21:57:40 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <CA+xi=qb9E8uc7V4_vTm4cjVWHJqMXPeaWgaqU+A5sjHchxUfYg@mail.gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
	<CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
	<52B58A8B.9050405@gmail.com>
	<CA+xi=qb9E8uc7V4_vTm4cjVWHJqMXPeaWgaqU+A5sjHchxUfYg@mail.gmail.com>
Message-ID: <52B59E54.7010203@gmail.com>

Perfect, that worked. Thanks a lot!

M

On 12/21/2013 09:45 PM, G See wrote:
> I'm away from a computer.
> 
> Try
> tws <- ibgConnect()
> 
> Garrett
> 
> On Dec 21, 2013 6:33 AM, "Michael Smith" <my.r.help at gmail.com
> <mailto:my.r.help at gmail.com>> wrote:
> 
>     Hi Garrett,
> 
>     Gateway connects fine to the IB server. However, I have a problem
>     connecting IBrokers to Gateway.
> 
>     The error message for *Gateway* is the same as when I forget to click
>     "Enable ActiveX and Socket Clients" in the *TWS* settings. But in
>     Gateway I cannot find such a setting.
> 
>     > tws <- twsConnect()
>     Error in socketConnection(host = host, port = port, open = "ab",
>     blocking = blocking) :
>       cannot open the connection
>     In addition: Warning message:
>     In socketConnection(host = host, port = port, open = "ab", blocking =
>     blocking) :
>       localhost:7496 cannot be opened
> 
>     Do you use any special settings for Gateway?
> 
>     Thanks,
>     M
> 
> 
>     On 12/10/2013 07:51 AM, G See wrote:
>     > Yup.  Works fine for me with the demo account on Ubuntu.
>     >
>     > Have you tried restarting the TWS?  (while you're at it, you might
>     > consider using IB Gateway instead since it doesn't log you out every
>     > day)
>     >
>     >> sessionInfo()
>     > R version 3.0.2 (2013-09-25)
>     > Platform: x86_64-pc-linux-gnu (64-bit)
>     >
>     > locale:
>     >  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C
>     >  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8
>     >  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8
>     >  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C
>     >  [9] LC_ADDRESS=C               LC_TELEPHONE=C
>     > [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C
>     >
>     > attached base packages:
>     > [1] stats     graphics  grDevices utils     datasets  methods   base
>     >
>     > other attached packages:
>     > [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-11
>     >
>     > loaded via a namespace (and not attached):
>     > [1] grid_3.0.2      lattice_0.20-18
>     >
>     >
>     > Sorry I can't be of more assistance,
>     >
>     > Garrett
>     >
>     > On Mon, Dec 9, 2013 at 5:25 PM, Michael Smith <my.r.help at gmail.com
>     <mailto:my.r.help at gmail.com>> wrote:
>     >> Does it work for you in the demo TWS version as well?
>     >>
>     >> For me, `reqCurrentTime` works fine in the demo TWS version, like all
>     >> the other examples in the vignette, except for `twsFuture`.
>     >>
>     >>> reqCurrentTime(tws)
>     >> TWS Message: 2 -1 2104 Market data farm connection is OK:ibdemo
>     >> TWS Message: 2 -1 2106 HMDS data farm connection is OK:demohmds
>     >> [1] "2013-12-10 07:14:29 HKT"
>     >>
>     >> Interestingly, when I run the following code, I get some feedback
>     from
>     >> the Unix shell that runs TWS.
>     >>
>     >>> tws <- twsConnect()
>     >>> reqContractDetails(tws, twsEquity("QQQ")) # R hangs here.
>     >> ^C
>     >>> twsDisconnect(tws)
>     >>
>     >> So when I run `twsDisconnect` (only after running
>     `reqContractDetails`)
>     >> in the example above, I get the following output in the Unix
>     shell from
>     >> Java:
>     >>
>     >> 07:23:13:870 JTS-EServerSocket-157: [1:47:67:1:0:0:0:ERR] Message
>     type
>     >> 1.  Attempted read beyond end of socket stream -
>     >> 07:23:13:870 JTS-EServerSocket-157: Anticipated error
>     >> jextend.c: Attempted read beyond end of socket stream -
>     >>         at jextend.tb.b(tb.java:307)
>     >>         at jextend.hf.eb(hf.java:1316)
>     >>         at jextend.hf.run(hf.java:1251)
>     >>         at java.lang.Thread.run(Thread.java:744)
>     >> Caused by: java.io.EOFException
>     >>         at jextend.tb.c(tb.java:541)
>     >>         at jextend.tb.r(tb.java:183)
>     >>         at jextend.wd.a(wd.java:188)
>     >>         at jextend.tb.d(tb.java:613)
>     >>         at jextend.uc.a(uc.java:177)
>     >>         at jextend.tb.b(tb.java:304)
>     >>         ... 3 more
>     >> 07:23:13:871 JTS-EServerSocket-157: [1:47:67:1:0:0:0:SYS] Client{1}
>     >> terminated conversation.
>     >> 07:23:13:871 JTS-EServerSocketNotifier-156: Terminating
>     >>
>     >>
>     >> Thanks,
>     >> Michael
>     >>
>     >>
>     >>
>     >> On 12/09/2013 11:06 PM, G See wrote:
>     >>> I don't know; it works for me.  Does reqCurrentTime(tws) return the
>     >>> current time?
>     >>>
>     >>> Garrett
>     >>>
>     >>>> tws <- ibgConnect()
>     >>>> reqCurrentTime(tws)
>     >>> [1] "2013-12-09 09:04:37 CST"
>     >>>> reqContractDetails(tws, twsEquity("QQQ"))
>     >>> [[1]]
>     >>> List of 18
>     >>>  $ version       : chr "6"
>     >>>  $ contract      :List of 16
>     >>>   ..$ conId          : chr "43661924"
>     >>>   ..$ symbol         : chr "QQQ"
>     >>>   ..$ sectype        : chr "STK"
>     >>>   ..$ exch           : chr "SMART"
>     >>>   ..$ primary        : chr "NASDAQ"
>     >>>   ..$ expiry         : chr ""
>     >>>   ..$ strike         : chr "0"
>     >>>   ..$ currency       : chr "USD"
>     >>>   ..$ right          : chr ""
>     >>>   ..$ local          : chr "QQQ"
>     >>>   ..$ multiplier     : chr ""
>     >>>   ..$ combo_legs_desc: chr ""
>     >>>   ..$ comboleg       : chr ""
>     >>>   ..$ include_expired: chr "0"
>     >>>   ..$ secIdType      : chr ""
>     >>>   ..$ secId          : chr ""
>     >>>   ..- attr(*, "class")= chr "twsContract"
>     >>>  $ marketName    : chr "NMS"
>     >>>  $ tradingClass  : chr "NMS"
>     >>>  $ conId         : chr "43661924"
>     >>>  $ minTick       : chr "0.01"
>     >>>  $ orderTypes    : chr [1:49] "ACTIVETIM" "ADJUST" "ALERT"
>     "ALGO" ...
>     >>>  $ validExchanges: chr [1:17] "SMART" "ISE" "CHX" "ARCA" ...
>     >>>  $ priceMagnifier: chr "1"
>     >>>  $ underConId    : chr "0"
>     >>>  $ longName      : chr "POWERSHARES QQQ NASDAQ 100"
>     >>>  $ contractMonth : chr ""
>     >>>  $ industry      : chr "Funds"
>     >>>  $ category      : chr "Equity Fund"
>     >>>  $ subcategory   : chr "Sector Fund-Technology"
>     >>>  $ timeZoneId    : chr "EST"
>     >>>  $ tradingHours  : chr "20131209:0400-2000;20131210:0400-2000"
>     >>>  $ liquidHours   : chr "20131209:0930-1600;20131210:0930-1600"
>     >>>
>     >>> On Mon, Dec 9, 2013 at 7:47 AM, Michael Smith
>     <my.r.help at gmail.com <mailto:my.r.help at gmail.com>> wrote:
>     >>>> Thanks for the quick reply, but R still hangs after running
>     this command
>     >>>> with the new ticker.
>     >>>>
>     >>>> Best,
>     >>>> Michael
>     >>>>
>     >>>>
>     >>>> On 12/09/2013 09:29 PM, G See wrote:
>     >>>>> The ticker for that ETF changed to QQQ on March 23, 2011
>     >>>>>
>     >>>>> Try reqContractDetails(tws, twsEquity("QQQ"))
>     >>>>>
>     >>>>> Best,
>     >>>>> Garrett
>     >>>>>
>     >>>>> On Mon, Dec 9, 2013 at 7:27 AM, Michael Smith
>     <my.r.help at gmail.com <mailto:my.r.help at gmail.com>> wrote:
>     >>>>>> All,
>     >>>>>>
>     >>>>>> I'm trying to better understand how to use the IBrokers
>     package by going
>     >>>>>> through the `IBrokers.pdf` vignette. I'm using the demo
>     version of TWS
>     >>>>>> (login `edemo`). TWS seems to be running fine. However, I get
>     stuck at
>     >>>>>> the following command from the vignette:
>     >>>>>>
>     >>>>>> reqContractDetails(tws, twsEquity("QQQQ"))
>     >>>>>>
>     >>>>>> R just seems to hang and I don't get any further response. My
>     >>>>>> sessionInfo is below. I'm using the most current IBrokers
>     from Google Code.
>     >>>>>>
>     >>>>>> Am I doing something wrong, or is this not supposed to work
>     with the TWS
>     >>>>>> demo version?
>     >>>>>>
>     >>>>>> Thanks,
>     >>>>>> Michael
>     >>>>>>
>     >>>>>>
>     >>>>>>> sessionInfo()
>     >>>>>> R version 3.0.2 (2013-09-25)
>     >>>>>> Platform: x86_64-redhat-linux-gnu (64-bit)
>     >>>>>>
>     >>>>>> locale:
>     >>>>>>  [1] LC_CTYPE=en_US.utf8       LC_NUMERIC=C
>     >>>>>> LC_TIME=en_US.utf8
>     >>>>>>  [4] LC_COLLATE=en_US.utf8     LC_MONETARY=en_US.utf8
>     >>>>>> LC_MESSAGES=en_US.utf8
>     >>>>>>  [7] LC_PAPER=en_US.utf8       LC_NAME=C                
>     LC_ADDRESS=C
>     >>>>>>
>     >>>>>> [10] LC_TELEPHONE=C            LC_MEASUREMENT=en_US.utf8
>     >>>>>> LC_IDENTIFICATION=C
>     >>>>>>
>     >>>>>> attached base packages:
>     >>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>       base
>     >>>>>>
>     >>>>>> other attached packages:
>     >>>>>> [1] IBrokers_0.9-11 xts_0.9-7       zoo_1.7-10    
>      colorout_1.0-1
>     >>>>>>
>     >>>>>> loaded via a namespace (and not attached):
>     >>>>>> [1] grid_3.0.2      lattice_0.20-24 tools_3.0.2
>     >>>>>>
>     >>>>>> _______________________________________________
>     >>>>>> R-SIG-Finance at r-project.org
>     <mailto:R-SIG-Finance at r-project.org> mailing list
>     >>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>     >>>>>> -- Subscriber-posting only. If you want to post, subscribe first.
>     >>>>>> -- Also note that this is not the r-help list where general R
>     questions should go.
>


From ivan.popivanov at gmail.com  Mon Dec 23 23:07:01 2013
From: ivan.popivanov at gmail.com (Ivan Popivanov)
Date: Mon, 23 Dec 2013 17:07:01 -0500
Subject: [R-SIG-Finance] xts: Is this the expected behaviour?
Message-ID: <CAK7-yAjnUTsyTGVwYCOFU7pk4ZC6Xg1PSEwbA8=0RQqBT5fKDQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131223/a17e73ae/attachment.pl>

From josh.m.ulrich at gmail.com  Mon Dec 23 23:57:38 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Mon, 23 Dec 2013 16:57:38 -0600
Subject: [R-SIG-Finance] xts: Is this the expected behaviour?
In-Reply-To: <CAK7-yAjnUTsyTGVwYCOFU7pk4ZC6Xg1PSEwbA8=0RQqBT5fKDQ@mail.gmail.com>
References: <CAK7-yAjnUTsyTGVwYCOFU7pk4ZC6Xg1PSEwbA8=0RQqBT5fKDQ@mail.gmail.com>
Message-ID: <CAPPM_gSWvQTGUeuZwoMS8ZQxrjpNCJ3gcuSCjYvFLmfxh9U1Ow@mail.gmail.com>

On Mon, Dec 23, 2013 at 4:07 PM, Ivan Popivanov
<ivan.popivanov at gmail.com> wrote:
> Best to jump straight to code:
>
> xx = xts(1:10, as.Date("2000-01-01")+1:10)
> xx[c("2000-01-04", "2000-01-03", "2000-01-03"), which.i=T]
> [1] 2 2 3
> xx[as.Date(c("2000-01-04", "2000-01-03", "2000-01-03")), which.i=T]
> [1] 2 3
>
> Btw ... hi :)
>
> Is this working as designed? And second, is it possible to get the integer
> indexes, with repetitions preserved, without ordering them? In other words,
> how to get 3 2 2 without looping and independent of the type of the index?
>
Duplicated index values are not formally supported in zoo (see ?zoo),
so you shouldn't expect them to be completely well-behaved in xts
either.

Generally, you shouldn't expect zoo/xts functions to yield unordered
results.  They are classes for ordered data, after all.  That said,
here's one way to do what you want:

# create a 1-column xts object, where the value is the row number
X <- xts(1:nrow(xx),index(xx))
# create another 1-column xts object with the index values
# you want to extract, and their row numbers
d <- as.Date(c("2000-01-04", "2000-01-03", "2000-01-03"))
D <- xts(1:length(d),d)
# merge them, only keeping the index values from D
# and filling in the NA created in X
M <- merge(X,D,join="right",fill=na.locf)
# now you can convert M to a data.frame
m <- data.frame(M)
# and order column X by column D
m$X[order(m$D)]

> Thanks in advance, and Merry Christmas!
> Ivan
>
Merry Christmas to you too.

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From chinmay.patil at gmail.com  Tue Dec 24 04:34:25 2013
From: chinmay.patil at gmail.com (Chinmay Patil)
Date: Tue, 24 Dec 2013 11:34:25 +0800
Subject: [R-SIG-Finance] IBrokers Problem
In-Reply-To: <52B59E54.7010203@gmail.com>
References: <52A5C542.80406@gmail.com>
	<CA+xi=qZO6eZ440gzhs9vtHZbTZpLMhJ+peCm2fWdqfWtGiOs_Q@mail.gmail.com>
	<52A5C9F5.60905@gmail.com>
	<CA+xi=qbwUK8gEo6rEitRYhsgCtAPcsUsMsNgF=6TYBX3OTh8tw@mail.gmail.com>
	<52A6516B.4030906@gmail.com>
	<CA+xi=qadSbbgPenG8RVSeOSEkwsU0iB1dX2vO4WVQddF3EjZtw@mail.gmail.com>
	<52B58A8B.9050405@gmail.com>
	<CA+xi=qb9E8uc7V4_vTm4cjVWHJqMXPeaWgaqU+A5sjHchxUfYg@mail.gmail.com>
	<52B59E54.7010203@gmail.com>
Message-ID: <CA+kDFFU7Hh4H0T6Ci+JxQMXfh68Tsjtt_nBfaAa=UHkGN8pF+Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131224/3e15d38f/attachment.pl>

From mamushbukana at gmail.com  Tue Dec 24 16:46:50 2013
From: mamushbukana at gmail.com (mamush bukana)
Date: Tue, 24 Dec 2013 13:46:50 -0200
Subject: [R-SIG-Finance] [R] error in "ca.jo"
In-Reply-To: <52B88A4F.9040603@pburns.seanet.com>
References: <CAFxDEqLOGbzTYVUjsJHRwen=tW5ad6-_sVJJ01BvVZ_WRdNKCg@mail.gmail.com>
	<52B88A4F.9040603@pburns.seanet.com>
Message-ID: <CAFxDEqKyvR4y0Xg-LW8PDnn6O0NjAT2Mu+2-mrmy0rYkygMzJA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131224/5d013e9b/attachment.pl>

From mamushbukana at gmail.com  Tue Dec 24 22:36:40 2013
From: mamushbukana at gmail.com (mamush bukana)
Date: Tue, 24 Dec 2013 21:36:40 +0000
Subject: [R-SIG-Finance] [R] error in "ca.jo"
In-Reply-To: <2954bba2-ff43-4137-9d79-45f56e8f68e3@email.android.com>
References: <CAFxDEqLOGbzTYVUjsJHRwen=tW5ad6-_sVJJ01BvVZ_WRdNKCg@mail.gmail.com>
	<52B88A4F.9040603@pburns.seanet.com>
	<CAFxDEqKyvR4y0Xg-LW8PDnn6O0NjAT2Mu+2-mrmy0rYkygMzJA@mail.gmail.com>
	<2954bba2-ff43-4137-9d79-45f56e8f68e3@email.android.com>
Message-ID: <CAFxDEqL9x199ah1qqQeUuyRrkYRGhmGyVMjnKwYEPf4ZWr8LYA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131224/6c844ed6/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Dec 24 23:49:00 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 24 Dec 2013 16:49:00 -0600
Subject: [R-SIG-Finance] [R] error in "ca.jo"
In-Reply-To: <CAFxDEqL9x199ah1qqQeUuyRrkYRGhmGyVMjnKwYEPf4ZWr8LYA@mail.gmail.com>
References: <CAFxDEqLOGbzTYVUjsJHRwen=tW5ad6-_sVJJ01BvVZ_WRdNKCg@mail.gmail.com>
	<52B88A4F.9040603@pburns.seanet.com>
	<CAFxDEqKyvR4y0Xg-LW8PDnn6O0NjAT2Mu+2-mrmy0rYkygMzJA@mail.gmail.com>
	<2954bba2-ff43-4137-9d79-45f56e8f68e3@email.android.com>
	<CAFxDEqL9x199ah1qqQeUuyRrkYRGhmGyVMjnKwYEPf4ZWr8LYA@mail.gmail.com>
Message-ID: <CAPPM_gSg4JH1ZPH6MmZtkQBfGJyXHrhXiMv5QfGe3Q-En7Xsxw@mail.gmail.com>

On Tue, Dec 24, 2013 at 3:36 PM, mamush bukana <mamushbukana at gmail.com> wrote:
> Hi Jeff,
> >From your words (if our words really describe us), I hope you don't expect
> me to teach you that this is "r-help" room. I don't expect you to tell me
> that I am a layman. I already know it and that is why I am here seeking a
> help. If I am an expert of things I asked here, there is no need for me to
> come here with such "stupid (in your understanding)" question. I know there
> are people on this planet who consider themselves advanced only when they
> meet stupid people like me - you may be one of them. It is always helpful
> for others if you could write a single line with a helping mind than
> writing tones of useless junk words. R is applied statistical language, to
> be used in different professions. So, don't expect all R users to be
> "experts" like you are. If you can't help people, at least keep yourself
> away from helping environment.
>
This isn't just R-help.  You've also cross-posted (which many feel is
rude) to R-SIG-Finance, even though this is off-topic for
R-SIG-Finance.  Your problem is with R's control-flow and
error-handling, not anything finance-related.  Also, these being
"help" forums and you being a laymen does not mean you can ignore the
guidelines.

Rather than (again) not following the suggestions in the posting guide
("If you feel insulted by some response to a post of yours, don't make
any hasty response in return - you're more likely than not to regret
it."), you would be wise to follow Jeff's advice:
1) Stop posting in HTML, so people can copy/paste your code.
2) Provide a small, self-contained reproducible example.
3) Carefully read ?try and ?tryCatch; use rseek.org to search for examples.
4) Skip 1-3 and find some one-on-one help in person.

It would also be wise to follow *both* of Pat's recommendations (you
ignored his suggestion to save some information from the ca.jo
calculations).

In short, please follow the posing guide, rather than expect people to
voluntarily help you on your terms.

> Cheers
>
> Bukana
>
>
> On Tue, Dec 24, 2013 at 5:23 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>wrote:
>
>> Once you start describing your code in language that indicates you have
>> read some of the recommended materials, we can make some progress. For
>> example, you are still posting in HTML format so your code is getting
>> mangled (see Posting Guide). You don't seem to understand what tryCatch
>> does (see ?tryCatch; hint... it does not alter the result returned by
>> ca.jo, nor does it guarantee that any result will be returned). For that
>> matter, you don't seem to understand how to give valid inputs to ca.jo,
>> but then you don't seem to understand how to provide a reproducible example
>> either (see for example
>> http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example
>> ).
>>
>> In short, if you ask us why one divided by zero doesn't give 3, we have to
>> wonder if you don't belong in some other educational forum, because this is
>> not a mathematics theory support group... it is about R. Please read or
>> otherwise absorb the recommended background materials mentioned here and
>> then ask clear questions here about R, or find some one-on-one help offline.
>> ---------------------------------------------------------------------------
>> Jeff Newmiller                        The     .....       .....  Go Live...
>> DCN:<jdnewmil at dcn.davis.ca.us>        Basics: ##.#.       ##.#.  Live
>> Go...
>>                                       Live:   OO#.. Dead: OO#..  Playing
>> Research Engineer (Solar/Batteries            O.O#.       #.O#.  with
>> /Software/Embedded Controllers)               .OO#.       .OO#.  rocks...1k
>> ---------------------------------------------------------------------------
>> Sent from my phone. Please excuse my brevity.
>>
>> mamush bukana <mamushbukana at gmail.com> wrote:
>> >Dear Pat,
>> >I tried your suggestion:
>> >for(i in 1:N1){
>> >for(j in 1:N2){
>> >co<-tryCatch(ca.jo <http://ca.jo>(data.frame(cbind(y2[
>> >i,j,],y1[i,j,])),type="trace", K=2,
>> >spec="transitory",ecdet="const",season=NULL,dumvar=NULL),error=function(e)
>> >NaN)
>> >}}
>> >
>> >and the earlier error does not show up. However, when I try to extract
>> >some
>> >results from the "co.jo" function, it does not work the way it does
>> >without
>> >the "tryCatch" thing and there appears another error. For example:
>> >
>> >for(i in 1:N1){
>> >for(j in 1:N2){
>> >co<-tryCatch(ca.jo <http://ca.jo>(data.frame(cbind(y2[
>> >i,j,],y1[i,j,])),type="trace", K=2,
>> >spec="transitory",ecdet="const",season=NULL,dumvar=NULL),error=function(e)
>> >NaN)
>> >
>> >cor1<-cajorls(co,r=1)
>> >}}
>> >
>> >Error in cajorls(vecm, r = 1) :
>> >Please, provide object of class 'ca.jo' or 'cajo.test' as 'z'.
>> >
>> >So it seems "tryCatch" is disabling "ca.jo" from running properly. My
>> >intention is to run this function ("ca.jo") and extract some estimates
>> >for
>> >further computation.
>> >
>> >regards
>> >
>> >Bukana
>> >
>> >
>> >
>> >
>> >
>> >
>> >
>> >On Mon, Dec 23, 2013 at 5:09 PM, Patrick Burns
>> ><pburns at pburns.seanet.com>wrote:
>> >
>> >> There is a fundamental problem with your
>> >> code, and there is the problem that you
>> >> have (sort of) identified.
>> >>
>> >> The fundamental problem is that you are
>> >> only going to get the results of the last
>> >> call to 'ca.jo' that is done -- assuming
>> >> it were to run.  You presumably want to
>> >> save some information from each of the
>> >> computations.
>> >>
>> >> You can get the loops to run even when you
>> >> run into an error with some combinations
>> >> by using 'try' or 'tryCatch'.  There is an
>> >> example in Circle 8.3.13 of 'The R Inferno'.
>> >>
>> >> http://www.burns-stat.com/documents/books/the-r-inferno/
>> >>
>> >> If you have a question related to the actual
>> >> function as opposed to general problems with
>> >> R, then the r-sig-finance mailing list would
>> >> be appropriate (you need to subscribe before
>> >> posting).
>> >>
>> >> I'm not sure if this is enough of a hint for
>> >> you or not.  If not, then trying to formulate
>> >> a more explicit question might help.  (There
>> >> are some suggestions in Circle 9 of 'The R
>> >> Inferno'.)
>> >>
>> >> Pat
>> >>
>> >>
>> >>
>> >> On 23/12/2013 17:07, mamush bukana wrote:
>> >>
>> >>> Dear all,
>> >>> I fit co-integration function between two integrated variables(y1
>> >and y2)
>> >>> over different grid points:
>> >>>
>> >>> for(i in 1:N1){
>> >>> for(j in 1:N2){
>> >>> co<-ca.jo(data.frame(cbind(y2[i,j,],y1[i,j,])),type="trace", K=2,
>> >>> spec="transitory",ecdet="const",season=NULL,dumvar=NULL)
>> >>> }}
>> >>>
>> >>> I have already extracted grid points with integrated time series.
>> >However,
>> >>> when I run the above function, there happens an error
>> >>>
>> >>> Error in solve.default(t(V) %*% SKK %*% V) :
>> >>>    system is computationally singular: reciprocal condition number =
>> >>> 1.10221e-35
>> >>>
>> >>> May you suggest me how to fix this problem please?
>> >>>
>> >>> Thanks in advance
>> >>>
>> >>>         [[alternative HTML version deleted]]
>> >>>
>> >>> ______________________________________________
>> >>> R-help at r-project.org mailing list
>> >>> https://stat.ethz.ch/mailman/listinfo/r-help
>> >>> PLEASE do read the posting guide http://www.R-project.org/
>> >>> posting-guide.html
>> >>> and provide commented, minimal, self-contained, reproducible code.
>> >>>
>> >>>
>> >> --
>> >> Patrick Burns
>> >> pburns at pburns.seanet.com
>> >> twitter: @burnsstat @portfolioprobe
>> >> http://www.portfolioprobe.com/blog
>> >> http://www.burns-stat.com
>> >> (home of:
>> >>  'Impatient R'
>> >>  'The R Inferno'
>> >>  'Tao Te Programming')
>> >>
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> >______________________________________________
>> >R-help at r-project.org mailing list
>> >https://stat.ethz.ch/mailman/listinfo/r-help
>> >PLEASE do read the posting guide
>> >http://www.R-project.org/posting-guide.html
>> >and provide commented, minimal, self-contained, reproducible code.
>>
>>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From Fridthjof.Ollmar at ae.no  Fri Dec 27 10:44:36 2013
From: Fridthjof.Ollmar at ae.no (Ollmar, Fridthjof)
Date: Fri, 27 Dec 2013 10:44:36 +0100
Subject: [R-SIG-Finance] Quantstrat stoplimit orders not triggered
Message-ID: <AAF45BB039257D40851A24D0310DE16693F4E7DB33@krsexch02.a-e.no>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131227/3d154dd0/attachment.pl>

From manojit_roy at comcast.net  Sat Dec 28 14:14:54 2013
From: manojit_roy at comcast.net (manojit_roy at comcast.net)
Date: Sat, 28 Dec 2013 13:14:54 +0000 (UTC)
Subject: [R-SIG-Finance] Adding vertical line to chart
Message-ID: <1472897340.240290.1388236494330.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131228/20005855/attachment.pl>

From josh.m.ulrich at gmail.com  Sat Dec 28 17:54:57 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Sat, 28 Dec 2013 10:54:57 -0600
Subject: [R-SIG-Finance] Adding vertical line to chart
In-Reply-To: <1472897340.240290.1388236494330.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
References: <1472897340.240290.1388236494330.JavaMail.root@sz0122a.emeryville.ca.mail.comcast.net>
Message-ID: <CAPPM_gRXgD5=oaAeJRTA0UGJB3k0LZrOv=-6FomQhmxwyiO97A@mail.gmail.com>

On Sat, Dec 28, 2013 at 7:14 AM,  <manojit_roy at comcast.net> wrote:
> I am trying to add a vertical line near the end of a chart plot, using the following code segment:
>
>> getSymbols('GTAT')
>> ticker <- last(GTAT,'3 months')
>> n <- dim(ticker)[1]
>> candleChart(ticker,TA='addLines(v=ticker[n-5])',theme='white',up.col='green',dn.col='red',major.ticks='months',minor.ticks=FALSE,show.grid=FALSE)
>
> Instead of adding a single vertical line at the 5th last bar of the plot, which is what I want, it adds a number of them (3 or 4 or more?) near the beginning. How do I get this to work?
>
It's plotting a vertical line for each column value of ticker[n-5].
'v' needs to be an integer: addLines(v=ticker[n-5,which.i=TRUE])

> Thanks.
>         [[alternative HTML version deleted]]
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From ivan.popivanov at gmail.com  Tue Dec 31 20:26:28 2013
From: ivan.popivanov at gmail.com (Ivan Popivanov)
Date: Tue, 31 Dec 2013 14:26:28 -0500
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
Message-ID: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131231/3f6a48ee/attachment.pl>

From breman.mark at gmail.com  Tue Dec 31 20:40:57 2013
From: breman.mark at gmail.com (markbreman .)
Date: Tue, 31 Dec 2013 20:40:57 +0100
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
Message-ID: <CAEaVHoLknmM-_o3me-+oFtGyhuv--bCF=nWuRqz7mkH2BFTmzw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20131231/5036df95/attachment.pl>

From josh.m.ulrich at gmail.com  Tue Dec 31 21:06:21 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 31 Dec 2013 14:06:21 -0600
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
Message-ID: <CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>

Ivan,

On Tue, Dec 31, 2013 at 1:26 PM, Ivan Popivanov
<ivan.popivanov at gmail.com> wrote:
> Looks like Yahoo have stopped providing web interface via chart.yahoo.com,
> which is used by getSymbols.yahoo. The site used to download data through
> the web interface is ichart.finance.yahoo.com, which seems to use the same
> interface.
>
Thanks for the report.  Fixed in r610 on R-Forge.

> Happy New Year,
> Ivan
>

Best,
--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From markknecht at gmail.com  Tue Dec 31 21:45:14 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 31 Dec 2013 12:45:14 -0800
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
	<CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>
Message-ID: <CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>

On Tue, Dec 31, 2013 at 12:06 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> Ivan,
>
> On Tue, Dec 31, 2013 at 1:26 PM, Ivan Popivanov
> <ivan.popivanov at gmail.com> wrote:
>> Looks like Yahoo have stopped providing web interface via chart.yahoo.com,
>> which is used by getSymbols.yahoo. The site used to download data through
>> the web interface is ichart.finance.yahoo.com, which seems to use the same
>> interface.
>>
> Thanks for the report.  Fixed in r610 on R-Forge.
>
>> Happy New Year,
>> Ivan
>>
>
> Best,
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.

How does one install the new version? The standard command I've used
for other packages

install.packages("quantmod", repos = "http://R-Forge.R-project.org")

installs 0.4.1 which is likely the stable version I suppose.

If it matters I'm using R-3.0.2 & R-Studio-0.98.490

Thanks!

- Mark


From josh.m.ulrich at gmail.com  Tue Dec 31 21:50:53 2013
From: josh.m.ulrich at gmail.com (Joshua Ulrich)
Date: Tue, 31 Dec 2013 14:50:53 -0600
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
	<CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>
	<CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>
Message-ID: <CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>

On Tue, Dec 31, 2013 at 2:45 PM, Mark Knecht <markknecht at gmail.com> wrote:
> On Tue, Dec 31, 2013 at 12:06 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
>> Ivan,
>>
>> On Tue, Dec 31, 2013 at 1:26 PM, Ivan Popivanov
>> <ivan.popivanov at gmail.com> wrote:
>>> Looks like Yahoo have stopped providing web interface via chart.yahoo.com,
>>> which is used by getSymbols.yahoo. The site used to download data through
>>> the web interface is ichart.finance.yahoo.com, which seems to use the same
>>> interface.
>>>
>> Thanks for the report.  Fixed in r610 on R-Forge.
>>
>>> Happy New Year,
>>> Ivan
>>>
>>
>> Best,
>> --
>> Joshua Ulrich  |  about.me/joshuaulrich
>> FOSS Trading  |  www.fosstrading.com
>>
>
> How does one install the new version? The standard command I've used
> for other packages
>
> install.packages("quantmod", repos = "http://R-Forge.R-project.org")
>
> installs 0.4.1 which is likely the stable version I suppose.
>
The quantmod code on R-Forge should not be considered "stable".  It's
where development changes are applied and tested.  If you want the
latest from R-Forge, you must build from source, or wait for the
R-Forge build process to create the package.

See here if you want to build from source.
http://stackoverflow.com/q/11105131/271616

> If it matters I'm using R-3.0.2 & R-Studio-0.98.490
>
> Thanks!
>
> - Mark


From markknecht at gmail.com  Tue Dec 31 22:26:18 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 31 Dec 2013 13:26:18 -0800
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
	<CAPPM_gQEc58EWJP5zQeRDbbr=xh5aX2Eh3f+QAM8ndQw4kD30Q@mail.gmail.com>
	<CAK2H+ed=TjSkVBzP-PgjgY3SmvAUex4faSMuMM+Z5c2+fMJDHg@mail.gmail.com>
	<CAPPM_gQh0ZVzN_7oXEtdQVBy1XH5TqUXcm5Zw3gqS7Yh5GbMKA@mail.gmail.com>
Message-ID: <CAK2H+eePF8iTaYxio1hikFNLMpKasqmv+wHMbT61H78oSboBiQ@mail.gmail.com>

On Tue, Dec 31, 2013 at 12:50 PM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
<SNIP>
>> How does one install the new version? The standard command I've used
>> for other packages
>>
>> install.packages("quantmod", repos = "http://R-Forge.R-project.org")
>>
>> installs 0.4.1 which is likely the stable version I suppose.
>>
> The quantmod code on R-Forge should not be considered "stable".  It's
> where development changes are applied and tested.  If you want the
> latest from R-Forge, you must build from source, or wait for the
> R-Forge build process to create the package.
>
> See here if you want to build from source.
> http://stackoverflow.com/q/11105131/271616
>

Yeah, you're right. I'm not going to mess with that.

Hopefully someone will patch the stable version as soon as is
reasonable to add this change.

Thanks,
Mark


From markknecht at gmail.com  Tue Dec 31 23:43:23 2013
From: markknecht at gmail.com (Mark Knecht)
Date: Tue, 31 Dec 2013 14:43:23 -0800
Subject: [R-SIG-Finance] getSymbols fails for Yahoo symbols
In-Reply-To: <CAEaVHoLknmM-_o3me-+oFtGyhuv--bCF=nWuRqz7mkH2BFTmzw@mail.gmail.com>
References: <CAK7-yAhcTxLrYJpmjLRspB9HRPrZaCqVeQzt6H+5MDpCtmpKCg@mail.gmail.com>
	<CAEaVHoLknmM-_o3me-+oFtGyhuv--bCF=nWuRqz7mkH2BFTmzw@mail.gmail.com>
Message-ID: <CAK2H+eehhAOQ-t4k_ntKkZKVW9_tKQ-UtZp4uf3XE2=nS=TaGQ@mail.gmail.com>

Mark,
   Thanks for sharing this solution. As written it does work fine here
but seemed to leave a symbol file behind in /tmp so I added

file.remove(file)

after the assign statement to take care of that.

Cheers,
Mark

On Tue, Dec 31, 2013 at 11:40 AM, markbreman . <breman.mark at gmail.com> wrote:
> Hi Ivan,
>
> I noticed this too this morning when i needed some data. Maybe Jeff can fix
> this in quantmod when he reads this.
>
> In the mean time i wrote some code to get the data i needed:
>
> asof=Sys.Date()
> #asof=as.Date("2011-11-29")
> universe = c('DIA', 'IEF', 'GLD')
>
> cat("as-of date: ", format(asof), "\n")
>
> from=asof-(89*4)
> to=asof
> a=as.character(as.integer(format(from, "%m"))-1)
> b=format(from, "%d")
> c=format(from, "%Y")
> d=as.character(as.integer(format(to, "%m"))-1)
> e=format(to, "%d")
> f=format(to, "%Y")
>
> for(symbol in universe) {
>     url=paste("http://ichart.finance.yahoo.com/table.csv?s=", symbol,
> "&a=", a, "&b=", b, "&c=", c, "&d=", d, "&e=", e, "&f=", f,
> "&g=d&q=q&y=0&z=", symbol, "&x=.csv", sep="")
>     file=paste("/tmp/", symbol, ".csv", sep="")
>     download.file(url, file)
>     assign(symbol, as.xts(read.csv(file, header=FALSE, skip=1,
> col.names=c("Date", "Open", "High", "Low", "Close", "Volume", "Adjusted"),
> row.names=1)))
> }
>
> HTH,
>
> -Mark-
>
>
> 2013/12/31 Ivan Popivanov <ivan.popivanov at gmail.com>
>
>> Looks like Yahoo have stopped providing web interface via chart.yahoo.com,
>> which is used by getSymbols.yahoo. The site used to download data through
>> the web interface is ichart.finance.yahoo.com, which seems to use the same
>> interface.
>>
>> Happy New Year,
>> Ivan
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions
>> should go.
>>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


