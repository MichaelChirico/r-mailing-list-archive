From @|@g@rhode@ @end|ng |rom gm@||@com  Tue May  2 20:25:17 2023
From: @|@g@rhode@ @end|ng |rom gm@||@com (Simon Rhodes)
Date: Tue, 2 May 2023 14:25:17 -0400
Subject: [R-SIG-Finance] rugarch: Mean model used for armaOrder(0,0)
Message-ID: <CAHAR1uMokkZj4NKnWJUacS9Xdviw4Wvcw7u+qTqkuC9_BUYCvw@mail.gmail.com>

I had a question about what model is used for the mean when armaOrder is
set to (0,0). Am I correct in assuming it is simply the mean of the data?
If not, is there a way to specify that the mean of the sample should be
used as the mean for the model?


Thanks,
Simon

	[[alternative HTML version deleted]]


From @|ex|o@ @end|ng |rom 4d@c@pe@com  Tue May  2 21:54:28 2023
From: @|ex|o@ @end|ng |rom 4d@c@pe@com (Alexios Galanos)
Date: Tue, 2 May 2023 12:54:28 -0700
Subject: [R-SIG-Finance] rugarch: Mean model used for armaOrder(0,0)
In-Reply-To: <CAHAR1uMokkZj4NKnWJUacS9Xdviw4Wvcw7u+qTqkuC9_BUYCvw@mail.gmail.com>
References: <CAHAR1uMokkZj4NKnWJUacS9Xdviw4Wvcw7u+qTqkuC9_BUYCvw@mail.gmail.com>
Message-ID: <354EAC49-EF62-4DDB-B702-C645A2C149CB@4dscape.com>

Yes, the additional argument ?include.mean? which defaults to TRUE does exactly that, estimating this value.

If you are estimating a GARCH model with no ARMA terms then you may also like to try out the newly released tsgarch package (https://github.com/tsmodels/tsgarch)

Alexios


> On May 2, 2023, at 11:25, Simon Rhodes <si.g.rhodes at gmail.com> wrote:
> 
> ?I had a question about what model is used for the mean when armaOrder is
> set to (0,0). Am I correct in assuming it is simply the mean of the data?
> If not, is there a way to specify that the mean of the sample should be
> used as the mean for the model?
> 
> 
> Thanks,
> Simon
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.

	[[alternative HTML version deleted]]


From @|@g@rhode@ @end|ng |rom gm@||@com  Thu May  4 22:57:54 2023
From: @|@g@rhode@ @end|ng |rom gm@||@com (Simon Rhodes)
Date: Thu, 4 May 2023 16:57:54 -0400
Subject: [R-SIG-Finance] rugarch: Mean model used for armaOrder(0,0)
In-Reply-To: <354EAC49-EF62-4DDB-B702-C645A2C149CB@4dscape.com>
References: <CAHAR1uMokkZj4NKnWJUacS9Xdviw4Wvcw7u+qTqkuC9_BUYCvw@mail.gmail.com>
 <354EAC49-EF62-4DDB-B702-C645A2C149CB@4dscape.com>
Message-ID: <CAHAR1uOCXmiOrsC7dJCZXgrfZGuv9HQZ51PX_nmWcqWP8hc9vg@mail.gmail.com>

Is there a reason why the estimate for the mean would be different from the
sample mean of the data? I seem to be getting results for mu, when using
armaOrder(0,0) and include.mean=true, which are relatively different from
the sample mean of my data. Similarly, when I simulate that model I get a
simulation mean close to mu and not the sample mean of the data.

Thanks,
Simon

On Tue, May 2, 2023 at 3:54?PM Alexios Galanos <alexios at 4dscape.com> wrote:

> Yes, the additional argument ?include.mean? which defaults to TRUE does
> exactly that, estimating this value.
>
> If you are estimating a GARCH model with no ARMA terms then you may also
> like to try out the newly released tsgarch package (
> https://github.com/tsmodels/tsgarch)
>
> Alexios
>
>
> On May 2, 2023, at 11:25, Simon Rhodes <si.g.rhodes at gmail.com> wrote:
>
> ?I had a question about what model is used for the mean when armaOrder is
> set to (0,0). Am I correct in assuming it is simply the mean of the data?
> If not, is there a way to specify that the mean of the sample should be
> used as the mean for the model?
>
>
> Thanks,
> Simon
>
>    [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>
>

	[[alternative HTML version deleted]]


From @|ex|o@ @end|ng |rom 4d@c@pe@com  Thu May  4 23:49:35 2023
From: @|ex|o@ @end|ng |rom 4d@c@pe@com (alexios galanos)
Date: Thu, 4 May 2023 14:49:35 -0700
Subject: [R-SIG-Finance] rugarch: Mean model used for armaOrder(0,0)
In-Reply-To: <CAHAR1uOCXmiOrsC7dJCZXgrfZGuv9HQZ51PX_nmWcqWP8hc9vg@mail.gmail.com>
References: <CAHAR1uMokkZj4NKnWJUacS9Xdviw4Wvcw7u+qTqkuC9_BUYCvw@mail.gmail.com>
 <354EAC49-EF62-4DDB-B702-C645A2C149CB@4dscape.com>
 <CAHAR1uOCXmiOrsC7dJCZXgrfZGuv9HQZ51PX_nmWcqWP8hc9vg@mail.gmail.com>
Message-ID: <2180D767-BA6E-42AB-A49F-B734C1B25DD6@4dscape.com>

In the limit they should be.

You may want to read this section:

https://bookdown.org/compfinezbook/introcompfinr/maximum-likelihood-estimation.html


If you want to impose that the mean equals the sample mean, you can set the parameter as fixed.

Alexios



> On May 4, 2023, at 1:57 PM, Simon Rhodes <si.g.rhodes at gmail.com> wrote:
> 
> Is there a reason why the estimate for the mean would be different from the sample mean of the data? I seem to be getting results for mu, when using armaOrder(0,0) and include.mean=true, which are relatively different from the sample mean of my data. Similarly, when I simulate that model I get a simulation mean close to mu and not the sample mean of the data.
> 
> Thanks,
> Simon
> 
> On Tue, May 2, 2023 at 3:54?PM Alexios Galanos <alexios at 4dscape.com <mailto:alexios at 4dscape.com>> wrote:
>> Yes, the additional argument ?include.mean? which defaults to TRUE does exactly that, estimating this value.
>> 
>> If you are estimating a GARCH model with no ARMA terms then you may also like to try out the newly released tsgarch package (https://github.com/tsmodels/tsgarch)
>> 
>> Alexios
>> 
>> 
>>> On May 2, 2023, at 11:25, Simon Rhodes <si.g.rhodes at gmail.com <mailto:si.g.rhodes at gmail.com>> wrote:
>>> 
>>> ?I had a question about what model is used for the mean when armaOrder is
>>> set to (0,0). Am I correct in assuming it is simply the mean of the data?
>>> If not, is there a way to specify that the mean of the sample should be
>>> used as the mean for the model?
>>> 
>>> 
>>> Thanks,
>>> Simon
>>> 
>>>    [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Finance at r-project.org <mailto:R-SIG-Finance at r-project.org> mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only. If you want to post, subscribe first.
>>> -- Also note that this is not the r-help list where general R questions should go.


	[[alternative HTML version deleted]]


From ||@her @end|ng |rom p|e@@th@n@com  Fri May  5 17:30:37 2023
From: ||@her @end|ng |rom p|e@@th@n@com (Dennis Fisher)
Date: Fri, 5 May 2023 08:30:37 -0700
Subject: [R-SIG-Finance] Downloaded stock prices from Yahoo Finance
Message-ID: <5A364FB4-CFE6-4DD3-B8F6-1DC31BCC68A6@plessthan.com>

R 4.2.3
OS X

Colleagues

For years, I have been downloaded stock prices using something like:
	require("jsonlite")
	cmd <- "https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL"
	fromJSON(cmd)

Yesterday, this stopped working -- the message is:
Error in open.connection(con, "rb") : 
  cannot open the connection to 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL'
In addition: Warning message:
In open.connection(con, "rb") :
  cannot open URL 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL': HTTP status was '401 Unauthorized'

When I paste that code directly into a browser, I get:
	{"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}

I need the most recent closing price and the today's real-time price.  What other options exist to download prices for multiple stocks?

Dennis


Dennis Fisher MD
P < (The "P Less Than" Company)
Phone / Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com


From jo@h@m@u|r|ch @end|ng |rom gm@||@com  Fri May  5 18:40:44 2023
From: jo@h@m@u|r|ch @end|ng |rom gm@||@com (Joshua Ulrich)
Date: Fri, 5 May 2023 11:40:44 -0500
Subject: [R-SIG-Finance] Downloaded stock prices from Yahoo Finance
In-Reply-To: <5A364FB4-CFE6-4DD3-B8F6-1DC31BCC68A6@plessthan.com>
References: <5A364FB4-CFE6-4DD3-B8F6-1DC31BCC68A6@plessthan.com>
Message-ID: <CAPPM_gTaNYseF7BjPTva05dwz6nwe1BChCLeOjxgJLjY11G1_g@mail.gmail.com>

See the discussion and work arounds here:
https://github.com/joshuaulrich/quantmod/issues/382

On Fri, May 5, 2023 at 10:31?AM Dennis Fisher <fisher at plessthan.com> wrote:
>
> R 4.2.3
> OS X
>
> Colleagues
>
> For years, I have been downloaded stock prices using something like:
>         require("jsonlite")
>         cmd <- "https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL"
>         fromJSON(cmd)
>
> Yesterday, this stopped working -- the message is:
> Error in open.connection(con, "rb") :
>   cannot open the connection to 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL'
> In addition: Warning message:
> In open.connection(con, "rb") :
>   cannot open URL 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL': HTTP status was '401 Unauthorized'
>
> When I paste that code directly into a browser, I get:
>         {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
>
> I need the most recent closing price and the today's real-time price.  What other options exist to download prices for multiple stocks?
>
> Dennis
>
>
> Dennis Fisher MD
> P < (The "P Less Than" Company)
> Phone / Fax: 1-866-PLessThan (1-866-753-7784)
> www.PLessThan.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From ||@her @end|ng |rom p|e@@th@n@com  Fri May  5 18:53:05 2023
From: ||@her @end|ng |rom p|e@@th@n@com (Dennis Fisher)
Date: Fri, 5 May 2023 09:53:05 -0700
Subject: [R-SIG-Finance] Downloaded stock prices from Yahoo Finance
In-Reply-To: <CAPPM_gTaNYseF7BjPTva05dwz6nwe1BChCLeOjxgJLjY11G1_g@mail.gmail.com>
References: <5A364FB4-CFE6-4DD3-B8F6-1DC31BCC68A6@plessthan.com>
 <CAPPM_gTaNYseF7BjPTva05dwz6nwe1BChCLeOjxgJLjY11G1_g@mail.gmail.com>
Message-ID: <B036F3F2-A999-4F24-AE7E-80C99485E458@plessthan.com>

Joshua

Thanks for replying.  It looks as if I am not alone.
The final message appearing on GitHub included:

#My workaround:
library(yfinance)
priceact <- get_price(c("DBC","FAS","GLD","IVOL","LTPZ","QLD","SPY","EURUSD=X"))
priceact <- priceact[,c(1,9)]
colnames(priceact)[c(1, 2)] <- c("name", "last")
tail(priceact,15)

Where do I find 
	yfinance
In OS X, when I attempt to install that package, it does not find it.

Dennis



Dennis Fisher MD
P < (The "P Less Than" Company)
Phone / Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com




> On May 5, 2023, at 9:40 AM, Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:
> 
> See the discussion and work arounds here:
> https://github.com/joshuaulrich/quantmod/issues/382
> 
> On Fri, May 5, 2023 at 10:31?AM Dennis Fisher <fisher at plessthan.com> wrote:
>> 
>> R 4.2.3
>> OS X
>> 
>> Colleagues
>> 
>> For years, I have been downloaded stock prices using something like:
>>        require("jsonlite")
>>        cmd <- "https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL"
>>        fromJSON(cmd)
>> 
>> Yesterday, this stopped working -- the message is:
>> Error in open.connection(con, "rb") :
>>  cannot open the connection to 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL'
>> In addition: Warning message:
>> In open.connection(con, "rb") :
>>  cannot open URL 'https://query1.finance.yahoo.com/v7/finance/quote?fields=symbol,longName,regularMarketPrice,regularMarketTime,regularMarketChange&formatted=false&symbols=AAPL': HTTP status was '401 Unauthorized'
>> 
>> When I paste that code directly into a browser, I get:
>>        {"finance":{"result":null,"error":{"code":"Unauthorized","description":"Invalid Crumb"}}}
>> 
>> I need the most recent closing price and the today's real-time price.  What other options exist to download prices for multiple stocks?
>> 
>> Dennis
>> 
>> 
>> Dennis Fisher MD
>> P < (The "P Less Than" Company)
>> Phone / Fax: 1-866-PLessThan (1-866-753-7784)
>> www.PLessThan.com
>> 
>> _______________________________________________
>> R-SIG-Finance at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only. If you want to post, subscribe first.
>> -- Also note that this is not the r-help list where general R questions should go.
> 
> 
> 
> -- 
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com


From mhio@goth m@iii@g oii duck@com  Sun May  7 11:23:08 2023
From: mhio@goth m@iii@g oii duck@com (mhio@goth m@iii@g oii duck@com)
Date: Sun, 07 May 2023 05:23:08 -0400
Subject: [R-SIG-Finance] None-Elliptical Copula Using rmgarch
Message-ID: <FC14A208-C58C-4389-8729-D7976A74A133.1@smtp-inbound1.duck.com>

Good day,

I wanted to ask if anyone would have pointers or suggestions into
implementing a copula DCC GARCH model that uses a non-Normal and Student
copula in R. I am trying to view an independence structure and have had an
issue with implementing this trying to avoid using the two copulas included
as part of the RMGARCH package. If a Skewed Student copula were to be
implement-able that I think would work as well.

Thanks,
Thabani

	[[alternative HTML version deleted]]


From @y|@@@ug@t @end|ng |rom goog|em@||@com  Thu May 18 10:49:29 2023
From: @y|@@@ug@t @end|ng |rom goog|em@||@com (Ayla)
Date: Thu, 18 May 2023 10:49:29 +0200
Subject: [R-SIG-Finance] VaRTest in rugarch package version 1.4.9 returns NaN
Message-ID: <CABM+e_qLaPvCP=tvpu_hPH4Hg2cC8_Dd1DHPxB0bY8P=R34h=g@mail.gmail.com>

Dear contributors, dear Alexios Galanos,

I'm using the rugarch package version 1.4.9 to backtest a calculated value
of risk vector against my log returns with the VaRTest function from the
package.

However, in some situations, the test returns NA. I found an example where
the test returns NA for the full vector of VaRs and log returns but when I
perform the test without the very last value in the vector, it returns an
output.
It does not help to put the data and the VaR explicitly to numeric
(`as.numeric()`).

Data for the example can be found here:
https://drive.google.com/file/d/1YAvWpDJT93PnVDrvHuMZoBmQ8BEnB2cu/view?usp=sharing
and here:
https://drive.google.com/file/d/1qPQXOqZL9lancBnW_q2aa_I75wd5loTM/view?usp=share_link

This is my code:

```
## load data
rm(list = ls())

require(rugarch)

# load the data
filename = "bugreport_var_test_var.csv"
var = read.csv(file = filename)
filename = "bugreport_var_test_log_reg.csv"
data = read.csv(file = filename)

# try the test with full data
VaRTest(
  alpha=0.05,
  actual=data[,1],
  VaR=var[,1]
)

# try the test without last data point
VaRTest(
  alpha=0.05,
  actual=data[1:(nrow(data)-1),1],
  VaR=var[1:(nrow(var)-1),1]
)
```

Thanks a lot in advance!
Best,
Ayla

	[[alternative HTML version deleted]]


From mhio@goth m@iii@g oii duck@com  Thu May 18 17:15:54 2023
From: mhio@goth m@iii@g oii duck@com (mhio@goth m@iii@g oii duck@com)
Date: Thu, 18 May 2023 11:15:54 -0400
Subject: [R-SIG-Finance] None-Elliptical Copula Using rmgarch
Message-ID: <D9B4B4CB-E95E-49AD-A55B-71D7158FF8FD.1@smtp-inbound1.duck.com>

Good day,

I wanted to ask if anyone would have pointers or suggestions into
implementing a copula DCC GARCH model that uses a non-Normal and Student
copula in R. I am trying to view an independence structure and have had an
issue with implementing this trying to avoid using the two copulas included
as part of the RMGARCH package. If a Skewed Student copula were to be
implement-able that I think would work as well.

Thanks,
Thabani

	[[alternative HTML version deleted]]


From @|ex|o@ @end|ng |rom 4d@c@pe@com  Thu May 18 17:29:36 2023
From: @|ex|o@ @end|ng |rom 4d@c@pe@com (alexios galanos)
Date: Thu, 18 May 2023 08:29:36 -0700
Subject: [R-SIG-Finance] 
 VaRTest in rugarch package version 1.4.9 returns NaN
In-Reply-To: <CABM+e_qLaPvCP=tvpu_hPH4Hg2cC8_Dd1DHPxB0bY8P=R34h=g@mail.gmail.com>
References: <CABM+e_qLaPvCP=tvpu_hPH4Hg2cC8_Dd1DHPxB0bY8P=R34h=g@mail.gmail.com>
Message-ID: <81278938-F643-46EA-BE7F-2B6FB0C95D31@4dscape.com>

Hi Ayla,

That?s been a problem with the implementation of the VaR test for some time with large data due
to underflow. I?ll look into fixing this in the next release, but in the meantime you can try the
new  package for time series tests which fixes this problem : https://github.com/tsmodels/tstests

Most of rugarch has already been re-written/ported to tsgarch and the tests in rugarch
to tstests.

Example:

####
library(tstests)

# load the data
filename = "bugreport_var_test_var.csv"
var = read.csv(file = filename)
filename = "bugreport_var_test_log_reg.csv"
data = read.csv(file = filename)

# try the test with full data
print(var_cp_test(data[,1], var[,1], 0.05))

Value at Risk Tests (Christoffersen and Pelletier)
Hypothesis(H0) : Unconditional(UC), Independent(CCI), Joint Coverage(CC) and Duration(D) 

            DoF  Chisq Pr(>Chisq)    
Kupiec (UC)   1  3.414  6.466e-02   .
CP (CCI)      1 15.113  1.013e-04 ***
CP (CC)       2 18.527  9.484e-05 ***
CP (D)        1 30.013  4.291e-08 ***

---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Coverage	: 0.05
Obs.		: 3419 
Failures	: 195 
E[Failures]	: 170 



Alexios

> On May 18, 2023, at 1:49 AM, Ayla via R-SIG-Finance <r-sig-finance at r-project.org> wrote:
> 
> Dear contributors, dear Alexios Galanos,
> 
> I'm using the rugarch package version 1.4.9 to backtest a calculated value
> of risk vector against my log returns with the VaRTest function from the
> package.
> 
> However, in some situations, the test returns NA. I found an example where
> the test returns NA for the full vector of VaRs and log returns but when I
> perform the test without the very last value in the vector, it returns an
> output.
> It does not help to put the data and the VaR explicitly to numeric
> (`as.numeric()`).
> 
> Data for the example can be found here:
> https://drive.google.com/file/d/1YAvWpDJT93PnVDrvHuMZoBmQ8BEnB2cu/view?usp=sharing
> and here:
> https://drive.google.com/file/d/1qPQXOqZL9lancBnW_q2aa_I75wd5loTM/view?usp=share_link
> 
> This is my code:
> 
> ```
> ## load data
> rm(list = ls())
> 
> require(rugarch)
> 
> # load the data
> filename = "bugreport_var_test_var.csv"
> var = read.csv(file = filename)
> filename = "bugreport_var_test_log_reg.csv"
> data = read.csv(file = filename)
> 
> # try the test with full data
> VaRTest(
>  alpha=0.05,
>  actual=data[,1],
>  VaR=var[,1]
> )
> 
> # try the test without last data point
> VaRTest(
>  alpha=0.05,
>  actual=data[1:(nrow(data)-1),1],
>  VaR=var[1:(nrow(var)-1),1]
> )
> ```
> 
> Thanks a lot in advance!
> Best,
> Ayla
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.


From @y|@@@ug@t @end|ng |rom goog|em@||@com  Mon May 22 09:02:41 2023
From: @y|@@@ug@t @end|ng |rom goog|em@||@com (Ayla)
Date: Mon, 22 May 2023 09:02:41 +0200
Subject: [R-SIG-Finance] 
 VaRTest in rugarch package version 1.4.9 returns NaN
In-Reply-To: <81278938-F643-46EA-BE7F-2B6FB0C95D31@4dscape.com>
References: <CABM+e_qLaPvCP=tvpu_hPH4Hg2cC8_Dd1DHPxB0bY8P=R34h=g@mail.gmail.com>
 <81278938-F643-46EA-BE7F-2B6FB0C95D31@4dscape.com>
Message-ID: <CABM+e_q5zGxv0aNSV975TRh4hR1X6bUgbfUpymZyBD2-QrijUQ@mail.gmail.com>

Hi Alexios,

I tried the var_cp_test from the new package and they work just fine. I
will also look into tsgarch.
Thanks for your support!

Best,
Ayla


Am Do., 18. Mai 2023 um 17:29 Uhr schrieb alexios galanos <
alexios at 4dscape.com>:

> Hi Ayla,
>
> That?s been a problem with the implementation of the VaR test for some
> time with large data due
> to underflow. I?ll look into fixing this in the next release, but in the
> meantime you can try the
> new  package for time series tests which fixes this problem :
> https://github.com/tsmodels/tstests
>
> Most of rugarch has already been re-written/ported to tsgarch and the
> tests in rugarch
> to tstests.
>
> Example:
>
> ####
> library(tstests)
>
> # load the data
> filename = "bugreport_var_test_var.csv"
> var = read.csv(file = filename)
> filename = "bugreport_var_test_log_reg.csv"
> data = read.csv(file = filename)
>
> # try the test with full data
> print(var_cp_test(data[,1], var[,1], 0.05))
>
> Value at Risk Tests (Christoffersen and Pelletier)
> Hypothesis(H0) : Unconditional(UC), Independent(CCI), Joint Coverage(CC)
> and Duration(D)
>
>             DoF  Chisq Pr(>Chisq)
> Kupiec (UC)   1  3.414  6.466e-02   .
> CP (CCI)      1 15.113  1.013e-04 ***
> CP (CC)       2 18.527  9.484e-05 ***
> CP (D)        1 30.013  4.291e-08 ***
>
> ---
> Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
>
> Coverage        : 0.05
> Obs.            : 3419
> Failures        : 195
> E[Failures]     : 170
>
>
>
> Alexios
>
> > On May 18, 2023, at 1:49 AM, Ayla via R-SIG-Finance <
> r-sig-finance at r-project.org> wrote:
> >
> > Dear contributors, dear Alexios Galanos,
> >
> > I'm using the rugarch package version 1.4.9 to backtest a calculated
> value
> > of risk vector against my log returns with the VaRTest function from the
> > package.
> >
> > However, in some situations, the test returns NA. I found an example
> where
> > the test returns NA for the full vector of VaRs and log returns but when
> I
> > perform the test without the very last value in the vector, it returns an
> > output.
> > It does not help to put the data and the VaR explicitly to numeric
> > (`as.numeric()`).
> >
> > Data for the example can be found here:
> >
> https://drive.google.com/file/d/1YAvWpDJT93PnVDrvHuMZoBmQ8BEnB2cu/view?usp=sharing
> > and here:
> >
> https://drive.google.com/file/d/1qPQXOqZL9lancBnW_q2aa_I75wd5loTM/view?usp=share_link
> >
> > This is my code:
> >
> > ```
> > ## load data
> > rm(list = ls())
> >
> > require(rugarch)
> >
> > # load the data
> > filename = "bugreport_var_test_var.csv"
> > var = read.csv(file = filename)
> > filename = "bugreport_var_test_log_reg.csv"
> > data = read.csv(file = filename)
> >
> > # try the test with full data
> > VaRTest(
> >  alpha=0.05,
> >  actual=data[,1],
> >  VaR=var[,1]
> > )
> >
> > # try the test without last data point
> > VaRTest(
> >  alpha=0.05,
> >  actual=data[1:(nrow(data)-1),1],
> >  VaR=var[1:(nrow(var)-1),1]
> > )
> > ```
> >
> > Thanks a lot in advance!
> > Best,
> > Ayla
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
>
>

-- 
Ayla Augst
Winthirstra?e 35a
80639 M?nchen
Tel.: 0176 61041527

	[[alternative HTML version deleted]]


From ed@herr@nz @end|ng |rom gm@||@com  Tue May 23 05:47:31 2023
From: ed@herr@nz @end|ng |rom gm@||@com (Ed Herranz)
Date: Mon, 22 May 2023 23:47:31 -0400
Subject: [R-SIG-Finance] 
 Performanceanalytics Charts - removing default date in title?
In-Reply-To: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
References: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
Message-ID: <CABJ+vwSMJ3BCS9wSYGxOodG8o-tNtbD-neEOjNqVLVAXbfguFQ@mail.gmail.com>

Jason,

This is what ChatGPT 4.0 says.  No guarantees that it is correct, though:

The PerformanceAnalytics package in R does not provide direct options to
remove the date from the title of the charts.

However, it's possible to work around this by making a custom version of
the function in which the date is added to the chart title, and removing
the part of the code that adds the date.

Below is an example using the chart.CumReturns function:

library(PerformanceAnalytics)
library(zoo)

# Create a custom version of chart.CumReturns
chart.CumReturns.custom <- function (R, wealth.index = FALSE, geometric =
FALSE,
          main = "Cumulative Returns", ylab = "Cumulative Returns",
          xlab = "Date", ...)
{
  # Convert to zoo for time series functionality
  R = checkData(R, method = "zoo")
  R = na.omit(R)

  # Calculate returns
  if (geometric) {
    returns = Return.cumulative(R, geometric = TRUE)
  } else if (wealth.index) {
    returns = Return.cumulative(R, geometric = TRUE)
    returns = cumprod(1 + returns) - 1
  } else {
    returns = Return.cumulative(R, geometric = FALSE)
  }

  # Remove the date from the chart title
  chart.TimeSeries(returns, main = main, ylab = ylab,
                   xlab = xlab, ...)
}

# Generate some example returns data
returns = rnorm(100)

# Create the chart
chart.CumReturns.custom(returns)


In this code, chart.CumReturns.custom is a copy of the chart.CumReturns
function, with the part of the code that adds the date to the chart title
removed. You can use this function just like chart.CumReturns, but it will
not include the date in the chart title.

Note: This code was based on the PerformanceAnalytics 2.0.4 package as of
my knowledge cut-off in September 2021. The specifics may change in later
versions of the package. Be sure to check the function's code for the
specific version of the package you are using.

Regards,

-Ed

On Sun, Feb 26, 2023 at 12:20?PM Jason Hart via R-SIG-Finance <
r-sig-finance at r-project.org> wrote:

> Hello all - is it possible to remove the date that shows up by default in
> the main title (on the right hand side) in certain charts such as
> chart.cumreturns, chart.rollingperformance, chart.rollingregression, etc?
> The date can crowd out and overlap with the main title on charts,
> particularly if they're lined up side by side in a layout.  I've tried
> everything but I haven't had any luck.  Thanks for any tips here.
>
> Jason
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From jo@h@m@u|r|ch @end|ng |rom gm@||@com  Tue May 23 19:11:08 2023
From: jo@h@m@u|r|ch @end|ng |rom gm@||@com (Joshua Ulrich)
Date: Tue, 23 May 2023 12:11:08 -0500
Subject: [R-SIG-Finance] 
 Performanceanalytics Charts - removing default date in title?
In-Reply-To: <CABJ+vwSMJ3BCS9wSYGxOodG8o-tNtbD-neEOjNqVLVAXbfguFQ@mail.gmail.com>
References: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
 <CABJ+vwSMJ3BCS9wSYGxOodG8o-tNtbD-neEOjNqVLVAXbfguFQ@mail.gmail.com>
Message-ID: <CAPPM_gR-EFt9FDeZU25H7y6y0371rX+fdO+8fDpzeoBgnMbajA@mail.gmail.com>

Hi Ed,

It's not helpful to give an answer you're not sure is correct.
Especially from ChatGPT, which is known to confidently give wrong
answers. And that's what it did in this case. There are at least two
issues:

1. "chart.CumReturns.custom is a copy of the chart.CumReturns
function" is false.
The definition of chart.CumReturns.custom() isn't even close to the
definition of chart.CumReturns() in PerformanceAnalytics version
2.0.4. You can find the actual chart.CumReturns() code on GitHub:
https://github.com/braverock/PerformanceAnalytics/blob/691961b6a9d97cbc9c0660431f7bf0e9884cf03d/R/chart.CumReturns.R#L42

2. The code you pasted throws an error. You could have run the code
yourself to see if it was correct.
    i. The 'returns' object can't be converted to xts, which causes an error
    ii. It errors even if you make 'returns' an xts object because it
uses `class(x) == "numeric"` (which the real function does not)

There's already enough noise in time series data. We don't need
ChatGPT adding even more noise. ;-)

Regards,
Josh


On Mon, May 22, 2023 at 10:47?PM Ed Herranz <ed.herranz at gmail.com> wrote:
>
> Jason,
>
> This is what ChatGPT 4.0 says.  No guarantees that it is correct, though:
>
> The PerformanceAnalytics package in R does not provide direct options to
> remove the date from the title of the charts.
>
> However, it's possible to work around this by making a custom version of
> the function in which the date is added to the chart title, and removing
> the part of the code that adds the date.
>
> Below is an example using the chart.CumReturns function:
>
> library(PerformanceAnalytics)
> library(zoo)
>
> # Create a custom version of chart.CumReturns
> chart.CumReturns.custom <- function (R, wealth.index = FALSE, geometric =
> FALSE,
>           main = "Cumulative Returns", ylab = "Cumulative Returns",
>           xlab = "Date", ...)
> {
>   # Convert to zoo for time series functionality
>   R = checkData(R, method = "zoo")
>   R = na.omit(R)
>
>   # Calculate returns
>   if (geometric) {
>     returns = Return.cumulative(R, geometric = TRUE)
>   } else if (wealth.index) {
>     returns = Return.cumulative(R, geometric = TRUE)
>     returns = cumprod(1 + returns) - 1
>   } else {
>     returns = Return.cumulative(R, geometric = FALSE)
>   }
>
>   # Remove the date from the chart title
>   chart.TimeSeries(returns, main = main, ylab = ylab,
>                    xlab = xlab, ...)
> }
>
> # Generate some example returns data
> returns = rnorm(100)
>
> # Create the chart
> chart.CumReturns.custom(returns)
>
>
> In this code, chart.CumReturns.custom is a copy of the chart.CumReturns
> function, with the part of the code that adds the date to the chart title
> removed. You can use this function just like chart.CumReturns, but it will
> not include the date in the chart title.
>
> Note: This code was based on the PerformanceAnalytics 2.0.4 package as of
> my knowledge cut-off in September 2021. The specifics may change in later
> versions of the package. Be sure to check the function's code for the
> specific version of the package you are using.
>
> Regards,
>
> -Ed
>
> On Sun, Feb 26, 2023 at 12:20?PM Jason Hart via R-SIG-Finance <
> r-sig-finance at r-project.org> wrote:
>
> > Hello all - is it possible to remove the date that shows up by default in
> > the main title (on the right hand side) in certain charts such as
> > chart.cumreturns, chart.rollingperformance, chart.rollingregression, etc?
> > The date can crowd out and overlap with the main title on charts,
> > particularly if they're lined up side by side in a layout.  I've tried
> > everything but I haven't had any luck.  Thanks for any tips here.
> >
> > Jason
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> > should go.
> >
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



-- 
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From ||y@@k|pn|@ @end|ng |rom gm@||@com  Tue May 23 19:17:11 2023
From: ||y@@k|pn|@ @end|ng |rom gm@||@com (Ilya Kipnis)
Date: Tue, 23 May 2023 13:17:11 -0400
Subject: [R-SIG-Finance] 
 Performanceanalytics Charts - removing default date in title?
In-Reply-To: <CAPPM_gR-EFt9FDeZU25H7y6y0371rX+fdO+8fDpzeoBgnMbajA@mail.gmail.com>
References: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
 <CABJ+vwSMJ3BCS9wSYGxOodG8o-tNtbD-neEOjNqVLVAXbfguFQ@mail.gmail.com>
 <CAPPM_gR-EFt9FDeZU25H7y6y0371rX+fdO+8fDpzeoBgnMbajA@mail.gmail.com>
Message-ID: <CA+oJuEGGZCaLhvw7N7Er0NtaH6PkY25c2gdb166R8ckXxjoVSA@mail.gmail.com>

I'd just like to add--if you're going to ask Chatgpt4 for code, at least
run it to see if it works and answers the questions properly >_<

On Tue, May 23, 2023, 1:11 PM Joshua Ulrich <josh.m.ulrich at gmail.com> wrote:

> Hi Ed,
>
> It's not helpful to give an answer you're not sure is correct.
> Especially from ChatGPT, which is known to confidently give wrong
> answers. And that's what it did in this case. There are at least two
> issues:
>
> 1. "chart.CumReturns.custom is a copy of the chart.CumReturns
> function" is false.
> The definition of chart.CumReturns.custom() isn't even close to the
> definition of chart.CumReturns() in PerformanceAnalytics version
> 2.0.4. You can find the actual chart.CumReturns() code on GitHub:
>
> https://github.com/braverock/PerformanceAnalytics/blob/691961b6a9d97cbc9c0660431f7bf0e9884cf03d/R/chart.CumReturns.R#L42
>
> 2. The code you pasted throws an error. You could have run the code
> yourself to see if it was correct.
>     i. The 'returns' object can't be converted to xts, which causes an
> error
>     ii. It errors even if you make 'returns' an xts object because it
> uses `class(x) == "numeric"` (which the real function does not)
>
> There's already enough noise in time series data. We don't need
> ChatGPT adding even more noise. ;-)
>
> Regards,
> Josh
>
>
> On Mon, May 22, 2023 at 10:47?PM Ed Herranz <ed.herranz at gmail.com> wrote:
> >
> > Jason,
> >
> > This is what ChatGPT 4.0 says.  No guarantees that it is correct, though:
> >
> > The PerformanceAnalytics package in R does not provide direct options to
> > remove the date from the title of the charts.
> >
> > However, it's possible to work around this by making a custom version of
> > the function in which the date is added to the chart title, and removing
> > the part of the code that adds the date.
> >
> > Below is an example using the chart.CumReturns function:
> >
> > library(PerformanceAnalytics)
> > library(zoo)
> >
> > # Create a custom version of chart.CumReturns
> > chart.CumReturns.custom <- function (R, wealth.index = FALSE, geometric =
> > FALSE,
> >           main = "Cumulative Returns", ylab = "Cumulative Returns",
> >           xlab = "Date", ...)
> > {
> >   # Convert to zoo for time series functionality
> >   R = checkData(R, method = "zoo")
> >   R = na.omit(R)
> >
> >   # Calculate returns
> >   if (geometric) {
> >     returns = Return.cumulative(R, geometric = TRUE)
> >   } else if (wealth.index) {
> >     returns = Return.cumulative(R, geometric = TRUE)
> >     returns = cumprod(1 + returns) - 1
> >   } else {
> >     returns = Return.cumulative(R, geometric = FALSE)
> >   }
> >
> >   # Remove the date from the chart title
> >   chart.TimeSeries(returns, main = main, ylab = ylab,
> >                    xlab = xlab, ...)
> > }
> >
> > # Generate some example returns data
> > returns = rnorm(100)
> >
> > # Create the chart
> > chart.CumReturns.custom(returns)
> >
> >
> > In this code, chart.CumReturns.custom is a copy of the chart.CumReturns
> > function, with the part of the code that adds the date to the chart title
> > removed. You can use this function just like chart.CumReturns, but it
> will
> > not include the date in the chart title.
> >
> > Note: This code was based on the PerformanceAnalytics 2.0.4 package as of
> > my knowledge cut-off in September 2021. The specifics may change in later
> > versions of the package. Be sure to check the function's code for the
> > specific version of the package you are using.
> >
> > Regards,
> >
> > -Ed
> >
> > On Sun, Feb 26, 2023 at 12:20?PM Jason Hart via R-SIG-Finance <
> > r-sig-finance at r-project.org> wrote:
> >
> > > Hello all - is it possible to remove the date that shows up by default
> in
> > > the main title (on the right hand side) in certain charts such as
> > > chart.cumreturns, chart.rollingperformance, chart.rollingregression,
> etc?
> > > The date can crowd out and overlap with the main title on charts,
> > > particularly if they're lined up side by side in a layout.  I've tried
> > > everything but I haven't had any luck.  Thanks for any tips here.
> > >
> > > Jason
> > > _______________________________________________
> > > R-SIG-Finance at r-project.org mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > > -- Subscriber-posting only. If you want to post, subscribe first.
> > > -- Also note that this is not the r-help list where general R questions
> > > should go.
> > >
> >
> >         [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only. If you want to post, subscribe first.
> > -- Also note that this is not the r-help list where general R questions
> should go.
>
>
>
> --
> Joshua Ulrich  |  about.me/joshuaulrich
> FOSS Trading  |  www.fosstrading.com
>
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions
> should go.
>

	[[alternative HTML version deleted]]


From jo@h@m@u|r|ch @end|ng |rom gm@||@com  Tue May 23 19:47:05 2023
From: jo@h@m@u|r|ch @end|ng |rom gm@||@com (Joshua Ulrich)
Date: Tue, 23 May 2023 12:47:05 -0500
Subject: [R-SIG-Finance] 
 Performanceanalytics Charts - removing default date in title?
In-Reply-To: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
References: <92baac1c-b838-4f77-ac51-4b98598b3c85@me.com>
Message-ID: <CAPPM_gSR5P_GdTJB22NN_1ybn+EXoApUidb5oZhVPvVNiS3rEA@mail.gmail.com>

Hi Jason,

There's no way to do this with PerformanceAnalytics currently.

I just made a PR on GitHub that lets you do it:
https://github.com/braverock/PerformanceAnalytics/pull/183

Best,
Josh


On Sun, Feb 26, 2023 at 11:20?AM Jason Hart via R-SIG-Finance
<r-sig-finance at r-project.org> wrote:
>
> Hello all - is it possible to remove the date that shows up by default in the main title (on the right hand side) in certain charts such as chart.cumreturns, chart.rollingperformance, chart.rollingregression, etc?  The date can crowd out and overlap with the main title on charts, particularly if they're lined up side by side in a layout.  I've tried everything but I haven't had any luck.  Thanks for any tips here.
>
> Jason
> _______________________________________________
> R-SIG-Finance at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. If you want to post, subscribe first.
> -- Also note that this is not the r-help list where general R questions should go.



--
Joshua Ulrich  |  about.me/joshuaulrich
FOSS Trading  |  www.fosstrading.com


From @unyoung73j| @end|ng |rom gm@||@com  Thu Jun 22 11:13:44 2023
From: @unyoung73j| @end|ng |rom gm@||@com (Sunyoung JI)
Date: Thu, 22 Jun 2023 11:13:44 +0200
Subject: [R-SIG-Finance] rugarch | Question about starting value for
 opimization
Message-ID: <CADhkVex_bfyXh==8qMcYGrxmxjjBSPxEJt3=NMJFYXdF-Hks6A@mail.gmail.com>

Dear R-SIG-Finance team

Hello!
I read the following from DataCamp

"The estimation of a GARCH model requires to optimize the likelihood. This
optimization may fail in case of bad starting values. Fortunately, Alexios
Ghalanos, the author of the R package rugarch, did a great job in setting
the optimization defaults such that the optimization is accurate in most of
the cases.".

So I am curious about what is the optimization defaults (or starting
values).
Especially when I use `ugarchroll()` for 1-ahead forecasting by repeating
fitting in ARMA-GARCH model.

Thank you!

Best regard,
Sunyoung Ji

	[[alternative HTML version deleted]]


From @zo@@ @end|ng |rom @teneo@edu  Sun Jun 25 11:12:42 2023
From: @zo@@ @end|ng |rom @teneo@edu (Anthony R. Zosa)
Date: Sun, 25 Jun 2023 17:12:42 +0800
Subject: [R-SIG-Finance] prediction intervals in rugarch package
Message-ID: <CALnrK3eZhzmn431teR2QEA0ZJ5dx=EbHwpSXAKd4rkcB2yq4KQ@mail.gmail.com>

Hi everyone,

Is there a way to get a prediction interval for the series forecast in
rugarch?

Respectfully,

Anthony R. Zosa
Ateneo de Manila University


Anthony Roa Zosa
*INSTRUCTOR *

*DEPARTMENT OF MATHEMATICS*
SCHOOL OF SCIENCE AND ENGINEERING
Room 321, 3rd Floor, Science Education Complex Building A (SEC A)
Ateneo de Manila University Loyola Heights Campus
+63(2)8426-6001 local 5683
azosa at ateneo.edu

-- 




CONFIDENTIALITY NOTICE: This email, including any attach...{{dropped:20}}


