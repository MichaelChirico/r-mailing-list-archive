From brian at braverock.com  Thu Oct  2 02:41:09 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 01 Oct 2008 19:41:09 -0500
Subject: [R-SIG-Finance] PerformanceAnalytics v0.9.7 - data cleaning
	functions (re	Winsorization)
In-Reply-To: <200810011906.58229.brian@braverock.com>
References: <200810011906.58229.brian@braverock.com>
Message-ID: <1222908069.27129.17.camel@ubuntu.braverock.com>

I neglected to mention an additional category of functions in
PerformanceAnalytics 0.9.7

We have added the robust data cleaning functions we've used in our
upcoming JoR and RISK papers to clean the return series prior to
calculating multivariate moments and the corresponding risk measures.
The method implemented here reduces sensitivity to large outliers while
not "ignoring" or "throwing away" any data, and not touching any data
below the specified confidence interval.  Khan(2007) calls the technique
utilized in the limiting procedure ``multivariate Winsorization'.


Functions:
Return.clean
clean.boudt

Ref:

http://braverock.com/brian/R/PerformanceAnalytics/html/Return.clean.html

Estimation and Decomposition of Downside Risk for Portfolios with
Non-Normal Returns. Kris Boudt, Brian G. Peterson, and Christophe Croux.
Journal of Risk, forthcoming Winter 2008.

Component VaR for a non-normal world. Brian Peterson and Kris Boudt.
RISK Magazine. forthcoming November 2008.

Robust linear model selection based on least angle regression. Khan, J.
A., S. Van Aelst, and R. H. Zamar. 2007. Journal of the American
Statistical Association 102 (1289-1299).


Regards,

  - Brian

-- 
http://braverock.com/brian/
Ph: 773-459-4973 
IM: bgpbraverock
>


From brian at braverock.com  Thu Oct  2 02:06:57 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 1 Oct 2008 19:06:57 -0500
Subject: [R-SIG-Finance] PerformanceAnalytics v0.9.7 released
Message-ID: <200810011906.58229.brian@braverock.com>

We are pleased to announce the availability on CRAN of
PerformanceAnalytics version 0.9.7

Version: 0.9.7
Date: 2008-09-29
License: GPL
Copyright: (c) 2004-2008 Brian G. Peterson and Peter Carl
URL: http://cran.r-project.org/web/packages/PerformanceAnalytics/index.html
URL: http://braverock.com/R/

PerformanceAnalytics is a library of econometric functions for
performance and risk analysis of financial portfolios. This
library aims to aid practitioners and researchers in using the
latest research in analysis of both normal and non-normal return
streams.

We hope to release version 0.9.7.1 with some additional
documentation and a minor enhancement to the UpsidePotentialRatio
function within the week that didn't quite make it into 0.9.7,
but most users should be able to upgrade now (and use
update.packages() to update again later) .

PerformanceAnalytics now contains over 120 discreet public functions, 
with additional datasets, wrapper functions, etc.

New Functionality:

This release adds 39 new public functions, an example dataset,
and utilizes R's namespace capability.  We have also decreased the number 
of "Requires" packages to just "zoo", moving the rest to "Suggests" and 
loading them only when needed, with a warning or error (as appropriate) if 
they are not available.  This should lower both loading time and the memory 
footprint of using PerformanceAnalytics.

    Risk functionality

        We have extended the risk metrics provided by
        Performanceanalytics to include multivariate portfolio measures
        of Gaussian and Cornish fisher VaR and Expected Shortfall.

        Functions:
        * GES.MM
        * GVaR.MM 
        * mES.MM
        * mVaR.MM 

    Modified Sharpe Ratios

        Earlier versions of PerformanceAnalytics contained the modified
        Sharpe Ration based on the Cornish fisher expansion.  we have
        added additional modified Sharpe ratios to calculate portfolio
        ratios for both Gaussian and modified Cornish Fisher Var and
        Expected Shortfall of the multivariate portfolio distribution.
        Functions:
        * SR.GES.MM
        * SR.GVaR.MM
        * SR.mES.MM
        * SR.mVaR.MM
        * SR.StdDev.MM

        TODO: need to wrap the SharpeRatio function to take a "method"
        argument and return one or all.

    Style Analysis

        We are happy to announce that style analysis, long a goal of this
        package, has made significant progress in this release, with the
        addition of four new functions.

        These functions calculate style weights using an asset class
        style model as described in detail in Sharpe (1992).  The use of
        quadratic programming to determine a fund's exposures to the
        changes in returns of major asset classes is usually referred to
        as "style analysis".

        Functions: 
        * chart.RollingStyle
               calculates and displays those weights in
               rolling windows through time.
        * chart.Style
               calculates and displays style weights calculated 
               over a single period.
        * style.fit
               manages the calculation of the factor weights by method
        * style.QPfit
               calculates the specific constraint case that requires 
               quadratic programming

    Charts
        We've added three new graph functions in this release:

        chart.VaRSensitivity
            Creates a chart of Value-at-Risk estimates by confidence interval
            for multiple methods. Possibly useful for comparing a calculated
            VaR method to the historical VaR.

        chart.SnailTrail
            A scatter chart that shows how rolling calculations of annualized
            return and annualized standard deviation have proceeded through
            time.  The color of lines and dots on the chart diminishes with
            respect to time. May be helpful for showing the trend of the
            return/risk characteristics of the fund over time.

        chart.StackedBar
            This creates a stacked column chart with time on the horizontal
            axis and values in categories.  This kind of chart is commonly
            used for showing portfolio 'weights' through time, although the
            function will plot any values by category.  This is a primitive
            function and is expected to improve.

    Moments of a distribution

        We have added several functions to calculate standardized moments
        and multivariate moments of an asset or multivariate portfolio
        distribution.  When working with multivariate series, the joint
        distribution of the returns is to be preferred over the simple
        univariate distribution of the resulting return vector of a
        portfolio.  Once the multivariate moments are available, it is
        possible to compute the comoments, comoment matrices, and beta or
        systematic comoments.

        skewness
        kurtosis
        skewness.MM
        kurtosis.MM
            We've ported and reimplemented skewness and kurtosis from
            Rmetrics to allow for additional data classes as well as
            multivariate series.

        StdDev.MM
        multivariate_mean
        Return.centered
        M3.MM
        M4.MM
            We've additionally implemented the multivariate moment
            calculations for the first two portfolio moments (mean and
            standard deviation) as well as the third and forth mathematical
            moments.

        CoVariance
        CoKurtosis
        CoSkewness
            Calculates the covariance, coskewness. or cokurtosis of one asset
            with relation to another (scalar measure) utilizing the
            standardized central mathematical moments of the distribution.

        CoKurtosisMatrix
        CoSkewnessMatrix
            Calculates the N x N^2 co-moment matrix of assets to one another,
            can be utilized in a portfolio context.  This is a complete
            reimplementation of the prior functions in PerformanceAnalytics
            to calculate moments, and has been validated by our research work
            as superior to the prior implementation.

        centeredmoment
        centeredcomoment
            Used internally by PerformanceAnalytics to calculate centered
            moments for a multivariate distribution as well as the
            standardized moments of a portfolio distribution.  They are
            exposed here for users who wish to use them directly

        BetaCoVariance
        BetaCoSkewness
        BetaCoKurtosis
            Calculates the systematic or beta comoment of two assets or an
            asset versus a portfolio. used to assess diversification
            potential in a portfolio, or in multivariate multimoment
            portfolio optimization.

Significant Changes to existing functions:

    chart.BarVaR
        * Incorporates 'Return.clean' methods for using cleaning methods
          when charting forecasted VaR values.  
        * Handles multiple columns OR multiple VaR calculation methods
        * Can show cleaned returns overlaid on original data
        * Added horizontal line to show exceedences to most recent risk
          estimate

    Co-moments and Beta/Systematic Co-moments have been completely
    reimplemented, and are discussed above.

As always, we are indebted to the R-SIG-Finance community for your 
testing, suggestions, and support.

We hope that you find this package useful.  

Please let us know how you are using it, it helps motivate us to keep 
releasing code.

Regards,

   - Brian

If you've read this far, I'll note that one of us (Brian) is currently seeking 
a new permanent position.

If you find PerformanceAnalytics and R useful in your work, and need a senior 
quant, risk analyst, and technical architect on your team, please give me a 
call.

-- 
http://braverock.com/brian/
Ph: 773-459-4973 
IM: bgpbraverock


From julianlhe at gmail.com  Thu Oct  2 07:38:16 2008
From: julianlhe at gmail.com (Julian Lee)
Date: Thu, 2 Oct 2008 13:38:16 +0800
Subject: [R-SIG-Finance] Career/Educational Advice - First Post
In-Reply-To: <2150ded80809291148r4b54eafcn727abc2fa423c578@mail.gmail.com>
References: <dc0981050809291022s41e426e1k7ec206edb1231d0@mail.gmail.com>
	<2150ded80809291148r4b54eafcn727abc2fa423c578@mail.gmail.com>
Message-ID: <dc0981050810012238w76358f4s71b76bb67a212977@mail.gmail.com>

Hi guys,

thanks for your input.

I understand that the market is quite bad at the moment. I hadn't got
the news about congress not approving the USD 700billion bailout plan
when i pressed the 'send' button. but i think demand for quants will
improve when market picks up.

and if things will take some time to improve, all the move i should
consider going back to grad school and pick up new skills.

some comments to Ravi's email

> 5) It really depends on which side of the business you join. Esentially
> there are profit centres that directly bring in revenue, and cost centres
> that are a necessary evil. The producers of revenue always get better
> treatment, salary and perks. There are quant roles at both levels, front and
> back office. More and more quants in banks and funds have become labelled
> support. They have sad lives

just an interesting observation. some bioinformaticians/computational
biologists end up that way too.

and david's piece on open source

"Consultants should consider selling services based on open source soft-
ware to their clients. The asking price for the use of the (excellent)
Clarifi backtesting system is $40,000 per user per year. A consultant
providing a similar, if lower quality, set of tools based on open source
code would be able to undercut Clarifi by 90% and still make a hand-
some living."

Imagine doing for both bioinformatics and finance problems....

Paul DeBruicker,
thanks. will check out those websites.

Thanks for your comments.
cheers
julian


On Tue, Sep 30, 2008 at 2:48 AM, Ravi Kalia <ravkalia at gmail.com> wrote:
> Hi Julian,
> I've worked in quant positions and in other areas of the finance companies
> (banks, funds, consultancies).
> Here is what my thoughts are:
> 1) There is no defined position of a quant, quant team or so that applies
> across the industry. It depends on the company you work for and the
> experiences you get in a particular role.
> 2) Investment banks and hedge funds have traditionally been the ivy league
> of finance companies for newly graduated quants. Hence they are very
> arrogant in who they choose, many but not all PhDs, masters and smart
> undergrads could do quant work, but only a select group are hired. Because
> of the huge pool of talent applying, these organisations can be very picky
> in who they hire.
> 3) They like to keep the quant blind to the business implications of what
> they do. In that way trade secrets are not lost and you can be easily
> replaced.
> 4) Economists can do most things but programme, expect at some level an
> economist to be the guy in charge.
> 5) It really depends on which side of the business you join. Esentially
> there are profit centres that directly bring in revenue, and cost centres
> that are a necessary evil. The producers of revenue always get better
> treatment, salary and perks. There are quant roles at both levels, front and
> back office. More and more quants in banks and funds have become labelled
> support. They have sad lives.
> 6) Make sure that you enjoy substantial programming of mathematical
> algorithms for senior staff. Many quants are being asked to demonstrate the
> validity of their results.
> 7) The market is pretty bad right now.
> 8) There are a non-programmer class of quants who sit and structure
> complicated financial contracts and then re-engineer them into their
> constituent parts. They do esoteric maths, which is a bit like the emperors
> new clothes and make huge fees from hoodwinking regulators and clients.
> 9) Talk to many people. There are lots of opinions out there.
> 10) If you're very good , you don't need a PhD or masters, just an interest
> and programming acumen.
>
> On Mon, Sep 29, 2008 at 6:22 PM, Julian Lee <julianlhe at gmail.com> wrote:
>>
>> Dear all,
>>
>> I thought that this would be an excellent place to post a question on
>> career/educational advice for a bioinformatics specialist who is
>> interested in stepping foot into the world of quants. However, if the
>> moderators feel that this post is inappropriate, and perhaps out of
>> topic, feel free to delete it.
>>
>> Before i begin, i probably ought to introduce myself. I completed my
>> undergraduate degree from the National University of SIngapore in the
>> field of COmputational Science Specializing in Life Science. My main
>> areas of study was engineering mathematics, programming, and molecular
>> biology/biochemistry/structural biology. My first job was at a local
>> polytechnic teaching science and mathematics to first year students. I
>> then moved to National Cancer Centre as Bioinformatics Specialist,
>> where i specialize in the analysis of microarrays, genomic data. Some
>> of you maybe familiar with R. Gentleman's Bioconductor project, and
>> I've been utilizing many of BIoconductor's packages in my work. My
>> main project is in the prediction of chemosensitivity of Gastric
>> Cancer from genomic data. The biologists are currently validating some
>> of my SVM (support vector machine) computer model and if all goes
>> well, i will soon make my first publication!
>>
>> I have been using R for the past 2 years and am quite addicted to it.
>> In playing around with R/Bioconductor, I bumped into Rmetrics and am
>> amazed with the work by Diethelm W?rtz and his team of developers.
>> That got me interested in the field of financial
>> engineering/computational finance.
>>
>> Here are some of my questions, (i apologize if there is some
>> over-simplification on my part)
>>
>> 1. I have been looking at some masters graduate programmes and they
>> come in all shapes and sizes. Some are more mathematical (theoretical)
>> than others, while some are computational, ie NYU's mathematical
>> finance program versus CMU's Computational Finance graduate degree. As
>> a quant in the industry, does the content of these degrees matter?
>>
>> 2. How much of open-source technology, R/Rmetrics is being used by the
>> financial industry? Correct me if i'm wrong, but I'm informed that the
>> standard tool for quants is C++ and VBA, with a wee bit of Matlab.
>> There is significant difference among the tools mentioned, but I would
>> like to gauge how much R/Rmetrics has been adopted into the financial
>> industry. Or has this been placed into the field of academia? I ask
>> because I think R/bioconductor had similar problems, most complain
>> about its "user-unfriendlyness", ie lack of GUI, hence difficulty in
>> using it in their work (many resort to Excel)
>>
>> 3. Is it possible for someone to be a quant without any post-graduate
>> training? I've just recently joined this forum, and have learnt quite
>> a bit (i drew my first stock market graph of the KLSE the other day),
>> from the use of Rmetrics. Simply put, can someone be a quant from
>> being and a superb R/Rmetrics user, ie thorough understanding of the
>> functions, when to use them and how to use them etc.
>>
>> Thank you
>> regards
>>
>> julian lee
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>
>
>
> --
> Thanks and Regards,
>
> Ravi Kalia
>
> Graduate Officer
> Oxford University Investment and Finance Society
>
> President
> Lady Margaret Hall Middle Common Room
>
> Business Associate
> Oxford Triple Helix
> http://www.oxtriplehelix.com/business-manager.htm
>


From gisiklar at gmail.com  Thu Oct  2 13:49:43 2008
From: gisiklar at gmail.com (Gultekin Isiklar)
Date: Thu, 02 Oct 2008 04:49:43 -0700 (PDT)
Subject: [R-SIG-Finance] (no subject)
Message-ID: <30940-SnapperMsgB2AC3AFAC50A65B0@[10.157.37.18]>

After using various software packages, I have recently started using R and 
I am especially impressed with its succinct syntax. 
I am at the very early stages of using it so I hope the following question 
is not very off.
What is the easiest way of creating a simulated series like
y(t)=a0+a1*y(t-1)+err(t)

I can do this using a for loop after using something like 
y = numeric (100)
err =rnorm(100,mean =0, sd =1)
for (t in 2:100{
y [t] = 1+0.9*y [t-1]+err [t ]
}
but I was wondering if there is a simpler way of doing this in R without 
using a for loop.
Thanks,
Gultekin

___
Sent from AT&T Wireless


From grgoswami at gmail.com  Thu Oct  2 14:01:10 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Thu, 2 Oct 2008 08:01:10 -0400
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
Message-ID: <5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081002/96041efc/attachment.pl>

From davidr at rhotrading.com  Thu Oct  2 15:44:55 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Thu, 2 Oct 2008 08:44:55 -0500
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>

Gopi,

I'm not sure why you are redefining .bbfields, unless your installation
is not in the standard place, which could cause other problems. I'm
pretty sure Bloomberg doesn't let you install it anywhere other than
C:/blp.

I assume you tried just the library and blpConnect commands? What
happened? It works for me, and I have the same setup as you.

HTH,
-- David

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Gopi
Goswami
Sent: Thursday, October 02, 2008 7:01 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.

Hi there,

How are you? I'm having some issues with the following set up:

WINDOWS XP
R-2.7.2
RBloomberg-0.1-10
RDCOMClient-0.92-0
zoo-1.5-4
chron-2.3-24


Bloomberg is installed in the machine. The following code crashes R:


library(RBloomberg)
.bbfields <- blpReadFields('C:\\path\\to\\blp\\API')
conn <- blpConnect( )


I investigated the problem using debug(blpConnect) and found out that
the
code dies at the following line of the blpConnect function:

conn[["Timeout"]] <<- timeout;



The above problem occurs whether Bloomberg is running or not, whether
the
market is open or not. Any help would be much appreciated.



Regards,
gopi.
PhD, Statistics, 2005
http://gopi-goswami.net/index.html

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From finbref.2006 at gmail.com  Thu Oct  2 16:33:19 2008
From: finbref.2006 at gmail.com (Thomas Steiner)
Date: Thu, 2 Oct 2008 16:33:19 +0200
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <30940-SnapperMsgB2AC3AFAC50A65B0@10.157.37.18>
References: <30940-SnapperMsgB2AC3AFAC50A65B0@10.157.37.18>
Message-ID: <d0f55a670810020733q717c3292wf7f1665c3cead39c@mail.gmail.com>

> but I was wondering if there is a simpler way of doing this in R without
> using a for loop.
> Thanks,

sure, check out ARIMA
http://stat.ethz.ch/R-manual/R-patched/library/stats/html/arima.html
thomas


From michael.sankowski at gmail.com  Thu Oct  2 16:50:13 2008
From: michael.sankowski at gmail.com (Michael Sankowski)
Date: Thu, 2 Oct 2008 09:50:13 -0500
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
Message-ID: <b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081002/f5f40ebe/attachment.pl>

From finbref.2006 at gmail.com  Thu Oct  2 18:20:21 2008
From: finbref.2006 at gmail.com (Thomas Steiner)
Date: Thu, 2 Oct 2008 18:20:21 +0200
Subject: [R-SIG-Finance] Career/Educational Advice - First Post
In-Reply-To: <dc0981050809291022s41e426e1k7ec206edb1231d0@mail.gmail.com>
References: <dc0981050809291022s41e426e1k7ec206edb1231d0@mail.gmail.com>
Message-ID: <d0f55a670810020920gd65654ib84fa2b4a60a3146@mail.gmail.com>

> 2. How much of open-source technology, R/Rmetrics is being used by the
> financial industry? ...

I work in the Front office (part of the "financial industry") in
Emerging markets fixed income and I can say that people here prefer
here quick, dirty and simple and so they stick to ready made solutions
of all these ready made (grahical) solutions of proprietary software,
namely unsing the Bloomberg and Reuters addins in Excel to look at
things (and use them in MS Word). No open source - not only because IT
guy do not allow us to install our own software, but people just use
it for historical reasons and they are unwilling to learn sth new.
Probably for real "quants" this is differnt.
Thomas


From josh.m.ulrich at gmail.com  Thu Oct  2 19:04:08 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Thu, 2 Oct 2008 12:04:08 -0500
Subject: [R-SIG-Finance] New opentick package on CRAN
Message-ID: <8cca69990810021004l2cd6182bnd8d52b69c85de4cb@mail.gmail.com>

Dear R-Sig-Finance Members,

I pleased to announce the pre-alpha version of the new opentick
package.  The package is designed to provide a native R interface to
the opentick data servers, which include both real time and historical
market data.  (Disclaimer: This software is not endorsed in any way by
opentick corporation. The author(s) of this software are not
affiliated with opentick corporation.)

The package currently includes a limited R implementation of the
otFeed API.  Its current functionality enables access to historic data
from the opentick servers.  Future additions will include access to:

- real-time data feeds (for most U.S. stock, option, and futures exchanges).
- real-time option chains.
- real-time and historical book data.

I will use community interest to gauge the priority of these additions.

Please note that opentick is not currently accepting new users, but
current users will retain their access.  This has been the case since
April and it is not clear when new users will be allowed.

Regards,
Josh
--
http://quantemplation.blogspot.com


From jorge.nieves at moorecap.com  Thu Oct  2 20:38:56 2008
From: jorge.nieves at moorecap.com (Jorge Nieves)
Date: Thu, 2 Oct 2008 14:38:56 -0400
Subject: [R-SIG-Finance] Populating ONLY some places of a matrix
Message-ID: <D595C0E05185614C90515F1E8A2D4CBF014EB4DF@NYC-XCH3.win.moorecap.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081002/5853c7e3/attachment.pl>

From patrick at burns-stat.com  Thu Oct  2 20:51:44 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Thu, 02 Oct 2008 19:51:44 +0100
Subject: [R-SIG-Finance] Populating ONLY some places of a matrix
In-Reply-To: <D595C0E05185614C90515F1E8A2D4CBF014EB4DF@NYC-XCH3.win.moorecap.com>
References: <D595C0E05185614C90515F1E8A2D4CBF014EB4DF@NYC-XCH3.win.moorecap.com>
Message-ID: <48E51840.30507@burns-stat.com>

Use a matrix as a subscript.

tenByTen[ dataset[, 1:2] ] <- dataset[, 'x']

This assumes 'dataset' is a matrix and not a
data frame.

Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Jorge Nieves wrote:
> Hi 
>
> I have a 10 by 10 matrix initialized with zeros (10 x10 = 100), see
> bellow. I also have  values in a data set for a variable x, which I
> would like to use to populate the 10 by 10 matrix. The total number
> known values for  x is less that the total 100. The data set also has
> the corresponding row and column where each value of x should be placed
> in the 10 by 10  matrix. When a x value does not exist, it should remain
> zero in the 10 by 10.
>
> I was able to place the data from the data set in the 10 by 10 via a for
> loop. I was wondering If there is a more efficient method for doing this
> operation, maybe some R function?
>
> Any tips are highly appreciated.
>
> Jorge
>  
>
>     s1 s2 s3 s4 s5 s6 s7 s8 s9 s10
> l1   0  0  0  0  0  0  0  0  0   0
> l2   0  0  0  0  0  0  0  0  0   0
> l3   0  0  0  0  0  0  0  0  0   0
> l4   0  0  0  0  0  0  0  0  0   0
> l5   0  0  0  0  0  0  0  0  0   0
> l6   0  0  0  0  0  0  0  0  0   0
> l7   0  0  0  0  0  0  0  0  0   0
> l8   0  0  0  0  0  0  0  0  0   0
> l9   0  0  0  0  0  0  0  0  0   0
> l10  0  0  0  0  0  0  0  0  0   0
>
> Data set
>
>     row   column        x
> 1   2  1 -0.668187861
> 2   3 1 -0.908980612
> 3   4 1 -0.580909134
> 4   5 1 -0.551092216
> 5   6 1 -1.079977605
> 6   7 1 -0.969920140
> 7   8 1 -0.612563647
> 8   9 1 -0.957372449
> 9  10 1 -0.747838475
> 10  3 2  0.000000000
> 11  4 2 -0.573238323
> 12  5 2 -1.010567198
> 13  6 2 -0.997079195
> 14  7 2 -0.841461751
> 15  8 2 -0.724916037
> 16  9 2 -0.629846393
> 17 10 2 -0.474943784
> 18  4 3  0.000000000
> 19  5 3  0.000000000
> 20  6 3 -0.392330001
> 21  7 3 -0.645115545
> 22  8 3 -0.132228425
> 23  9 3 -0.266551015
> 24 10 3 -0.242061441
> 25  5 4  0.000000000
> 26  6 4  0.000000000
> 27  7 4 -1.706986344
> 28  8 4 -0.615059694
> 29  9 4 -0.090352204
> 30 10 4  0.094375693
> 31  6 5  0.000000000
> 32  7 5  0.000000000
> 33  8 5  0.000000000
> 34  9 5  0.295278995
> 35 10 5  0.008334823
> 36  7 6  0.000000000
> 37  8 6  0.000000000
> 38  9 6  0.000000000
> 39 10 6  0.000000000
> 40  8 7  0.000000000
> 41  9 7  0.000000000
> 42 10 7  0.000000000
> 43  9 8  0.000000000
> 44 10 8  0.000000000
> 45 10 9  0.000000000
>
> Jorge Nieves
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>


From jorge.nieves at moorecap.com  Thu Oct  2 21:08:42 2008
From: jorge.nieves at moorecap.com (Jorge Nieves)
Date: Thu, 2 Oct 2008 15:08:42 -0400
Subject: [R-SIG-Finance] Populating ONLY some places of a matrix
In-Reply-To: <48E51840.30507@burns-stat.com>
Message-ID: <D595C0E05185614C90515F1E8A2D4CBF014EB4E2@NYC-XCH3.win.moorecap.com>

It works fine thanks a lot !!! 

-----Original Message-----
From: Patrick Burns [mailto:patrick at burns-stat.com] 
Sent: Thursday, October 02, 2008 02:52 PM
To: Jorge Nieves
Cc: R-sig-finance
Subject: Re: [R-SIG-Finance] Populating ONLY some places of a matrix

Use a matrix as a subscript.

tenByTen[ dataset[, 1:2] ] <- dataset[, 'x']

This assumes 'dataset' is a matrix and not a data frame.

Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Jorge Nieves wrote:
> Hi
>
> I have a 10 by 10 matrix initialized with zeros (10 x10 = 100), see 
> bellow. I also have  values in a data set for a variable x, which I 
> would like to use to populate the 10 by 10 matrix. The total number 
> known values for  x is less that the total 100. The data set also has 
> the corresponding row and column where each value of x should be 
> placed in the 10 by 10  matrix. When a x value does not exist, it 
> should remain zero in the 10 by 10.
>
> I was able to place the data from the data set in the 10 by 10 via a 
> for loop. I was wondering If there is a more efficient method for 
> doing this operation, maybe some R function?
>
> Any tips are highly appreciated.
>
> Jorge
>  
>
>     s1 s2 s3 s4 s5 s6 s7 s8 s9 s10
> l1   0  0  0  0  0  0  0  0  0   0
> l2   0  0  0  0  0  0  0  0  0   0
> l3   0  0  0  0  0  0  0  0  0   0
> l4   0  0  0  0  0  0  0  0  0   0
> l5   0  0  0  0  0  0  0  0  0   0
> l6   0  0  0  0  0  0  0  0  0   0
> l7   0  0  0  0  0  0  0  0  0   0
> l8   0  0  0  0  0  0  0  0  0   0
> l9   0  0  0  0  0  0  0  0  0   0
> l10  0  0  0  0  0  0  0  0  0   0
>
> Data set
>
>     row   column        x
> 1   2  1 -0.668187861
> 2   3 1 -0.908980612
> 3   4 1 -0.580909134
> 4   5 1 -0.551092216
> 5   6 1 -1.079977605
> 6   7 1 -0.969920140
> 7   8 1 -0.612563647
> 8   9 1 -0.957372449
> 9  10 1 -0.747838475
> 10  3 2  0.000000000
> 11  4 2 -0.573238323
> 12  5 2 -1.010567198
> 13  6 2 -0.997079195
> 14  7 2 -0.841461751
> 15  8 2 -0.724916037
> 16  9 2 -0.629846393
> 17 10 2 -0.474943784
> 18  4 3  0.000000000
> 19  5 3  0.000000000
> 20  6 3 -0.392330001
> 21  7 3 -0.645115545
> 22  8 3 -0.132228425
> 23  9 3 -0.266551015
> 24 10 3 -0.242061441
> 25  5 4  0.000000000
> 26  6 4  0.000000000
> 27  7 4 -1.706986344
> 28  8 4 -0.615059694
> 29  9 4 -0.090352204
> 30 10 4  0.094375693
> 31  6 5  0.000000000
> 32  7 5  0.000000000
> 33  8 5  0.000000000
> 34  9 5  0.295278995
> 35 10 5  0.008334823
> 36  7 6  0.000000000
> 37  8 6  0.000000000
> 38  9 6  0.000000000
> 39 10 6  0.000000000
> 40  8 7  0.000000000
> 41  9 7  0.000000000
> 42 10 7  0.000000000
> 43  9 8  0.000000000
> 44 10 8  0.000000000
> 45 10 9  0.000000000
>
> Jorge Nieves
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>   


From dutt.debashis at gmail.com  Thu Oct  2 21:12:08 2008
From: dutt.debashis at gmail.com (Debashis Dutta)
Date: Thu, 2 Oct 2008 22:12:08 +0300
Subject: [R-SIG-Finance] Career/Educational Advice - First Post
In-Reply-To: <d0f55a670810020920gd65654ib84fa2b4a60a3146@mail.gmail.com>
References: <dc0981050809291022s41e426e1k7ec206edb1231d0@mail.gmail.com>
	<d0f55a670810020920gd65654ib84fa2b4a60a3146@mail.gmail.com>
Message-ID: <37673c2d0810021212q158929b6oac72ae0a501079a2@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081002/bdd1b87c/attachment.pl>

From steve.moffitt at stuart.iit.edu  Fri Oct  3 02:11:51 2008
From: steve.moffitt at stuart.iit.edu (Steven D. Moffitt)
Date: Thu,  2 Oct 2008 19:11:51 -0500
Subject: [R-SIG-Finance] Career/Educational Advice - First Post
Message-ID: <200810021911.AA421658890@stuart.iit.edu>

Dear R Users Group,

For statistical applications, I have found R to be superior to Matlab and Mathematica, and equal to SPlus.  I use R for all modelling applications in my market research.

>From my standpoint, the best feature of R is that professional statisticians publish cutting-edge work in R packages.  Some of this new work is quite useful in developing trading systems, portfolio selection, etc.

The other main reason I prefer R is that the data types are explicitly structured for statistical analysis - e.g. data.frames carry row labels and field names, factors are useful for grouped analyses and so on, and the type of "object oriented" structures suffice to build analytic hierarchies.

Besides R, I use OpenOffice routinely.

Best,

Steve Moffitt, Ph.D.

Director of Research
WH Trading, LLC
1900 W. Adams, Suite 1900
Chicago, IL  60606

and 

Adjunct Professor of Finance
Illinois Institute of Technology
565 W. Adams
Chicago, IL    60565


---------- Original Message ----------------------------------
From: "Thomas Steiner" <finbref.2006 at gmail.com>
Date:  Thu, 2 Oct 2008 18:20:21 +0200

>> 2. How much of open-source technology, R/Rmetrics is being used by the
>> financial industry? ...
>
>I work in the Front office (part of the "financial industry") in
>Emerging markets fixed income and I can say that people here prefer
>here quick, dirty and simple and so they stick to ready made solutions
>of all these ready made (grahical) solutions of proprietary software,
>namely unsing the Bloomberg and Reuters addins in Excel to look at
>things (and use them in MS Word). No open source - not only because IT
>guy do not allow us to install our own software, but people just use
>it for historical reasons and they are unwilling to learn sth new.
>Probably for real "quants" this is differnt.
>Thomas
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.
>


From grgoswami at gmail.com  Fri Oct  3 06:05:53 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Fri, 3 Oct 2008 00:05:53 -0400
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
	<b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
Message-ID: <5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081003/91fb739c/attachment.pl>

From jeff.a.ryan at gmail.com  Fri Oct  3 17:03:06 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Fri, 3 Oct 2008 10:03:06 -0500
Subject: [R-SIG-Finance] TODAY: First R/Finance/Chicago Meeting!
Message-ID: <e8e755250810030803p5b361dc5nd3b3f31cfddfd087@mail.gmail.com>

R/Finance useR!s [[Chicago]]

Come out after the bell to meet other Chicago (and beyond) R user's at
Jak's Tap in the West Loop!

The University of Illinois at Chicago's International Center for
Futures and Derivatives is sponsoring this first ever Chicago
gathering.  This informal event begins at 3:30 and runs through 10PM.
A short formal presentation will take place around 5:30.

On the agenda discussing current and future R/Finance projects:

Jeff Ryan
Dirk Eddelbuettel
Brian Peterson
Peter Carl
Josh Ulrich

And to discuss UIC's role in the local markets and with R:

Dale Rosenthal
Gib Basset


Most importantly will be the opportunity to physically meet and talk
with many of the names we are familiar with from R-Sig-Finance --- and
many we are not!

You'll find the original invitation below.  No RSVP needed!

Hope to see you there!

Jeff


########################  ORIGINAL INVITE ##############################
R-finance useRs [[Chicago]]:

I'm happy to announce the first big meeting of R/Finance users in Chicago
on October 3rd, 2008.

In coordination with major R finance contributors and the support of the
University of Illinois at Chicago, we invite the local community to an
informal social gathering after the market close on Friday October 3rd.

The gathering will be at Jak's Tap in the West Loop and will start with a
casual reception at 3:30.  Details and links can be found at the bottom of
this email.

The idea is to bring together industry practitioners and academics with a
common interest in R, from across Chicago-land, to meet face to face.  We
hope to increase discussion about the future of R and finance.  We will
also be discussing a much bigger event for the Spring and would like
feedback as to possible direction and content.

The afternoon/evening will be mostly informal, with formal presentations
starting around 5.

The formal agenda:

? We will have a small presentation from some of the locally-based
contributors as to the state of the R community in finance, as well as a
vision for the future.  The current presenters include:

 Jeff Ryan [quantmod, xts, IBrokers]
 Dirk Eddelbuettel [CRAN Empirical Finance task View, RQuantLib, etc]
 Brian Peterson & Peter Carl [PerformanceAnalytics]
 Josh Ulrich [TTR, xts, opentick]

? A presentation by UIC's Finance Department and International Center for
Futures and Derivatives on: (1) how UIC fits into the R-finance mix, and
(2) what they have to offer the larger quantitative/trading community in
Chicago.

Following the formal presentations, we will have the room(s) until 10PM to
allow for discussion and collaboration among the attendees.

Please RSVP to jeffrey.ryan at insightalgo.com or jeff.a.ryan at gmail.com

What: First R/Finance Chicago Meeting
Where: Jak's Tap. 901 W. Jackson, Chicago IL  http://jakstap.com/
When: Friday, October 3, 2008
Time: 3:30 - 10:00PM (presentations start at 5:00PM)


-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From kriskumar at earthlink.net  Sat Oct  4 03:40:03 2008
From: kriskumar at earthlink.net (Krishna Kumar)
Date: Fri, 03 Oct 2008 21:40:03 -0400
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>	<b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
	<5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>
Message-ID: <48E6C973.90606@earthlink.net>

I had simillar non-standard path on one of work boxes it turns out doing
 >require(RBloomberg)
followed by
 > .bbfields <- blpReadFields(<path to bloomberg installation>)

Fixed the problem.

Best
Krishna


Gopi Goswami wrote:
> David,
> You guessed it right, on my machine Bloomberg is not installed in the
> standard place, I don't know how the installed the way they did. I couldn't
> go beyond the blpConnet command to do anything useful.
>
>
>
> Thomas,
>
> Thanks a lot for the pointer, I'll try to see if the network settings is the
> source of the problem.
>
>
>
> Michael,
>
> I hope that this setup works for me as well.
>
>
>
> Regards,
> gopi.
>
>
> On Thu, Oct 2, 2008 at 10:50 AM, Michael Sankowski <
> michael.sankowski at gmail.com> wrote:
>
>   
>> I have also had success  using this exact setup.
>>
>> On Thu, Oct 2, 2008 at 8:44 AM, <davidr at rhotrading.com> wrote:
>>
>>     
>>> Gopi,
>>>
>>> I'm not sure why you are redefining .bbfields, unless your installation
>>> is not in the standard place, which could cause other problems. I'm
>>> pretty sure Bloomberg doesn't let you install it anywhere other than
>>> C:/blp.
>>>
>>> I assume you tried just the library and blpConnect commands? What
>>> happened? It works for me, and I have the same setup as you.
>>>
>>> HTH,
>>> -- David
>>>
>>> -----Original Message-----
>>> From: r-sig-finance-bounces at stat.math.ethz.ch
>>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Gopi
>>> Goswami
>>> Sent: Thursday, October 02, 2008 7:01 AM
>>> To: r-sig-finance at stat.math.ethz.ch
>>> Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
>>>
>>> Hi there,
>>>
>>> How are you? I'm having some issues with the following set up:
>>>
>>> WINDOWS XP
>>> R-2.7.2
>>> RBloomberg-0.1-10
>>> RDCOMClient-0.92-0
>>> zoo-1.5-4
>>> chron-2.3-24
>>>
>>>
>>> Bloomberg is installed in the machine. The following code crashes R:
>>>
>>>
>>> library(RBloomberg)
>>> .bbfields <- blpReadFields('C:\\path\\to\\blp\\API')
>>> conn <- blpConnect( )
>>>
>>>
>>> I investigated the problem using debug(blpConnect) and found out that
>>> the
>>> code dies at the following line of the blpConnect function:
>>>
>>> conn[["Timeout"]] <<- timeout;
>>>
>>>
>>>
>>> The above problem occurs whether Bloomberg is running or not, whether
>>> the
>>> market is open or not. Any help would be much appreciated.
>>>
>>>
>>>
>>> Regards,
>>> gopi.
>>> PhD, Statistics, 2005
>>> http://gopi-goswami.net/index.html
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>>       
>>
>> --
>> Michael Sankowski, CFA, CAIA
>> 312.404.8717
>> michael.sankowski at gmail.com
>>
>>     
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From ajayshah at mayin.org  Sat Oct  4 20:14:53 2008
From: ajayshah at mayin.org (Ajay Shah)
Date: Sat, 4 Oct 2008 23:44:53 +0530
Subject: [R-SIG-Finance] Writing code that works with a variety of time
	series classes
Message-ID: <20081004181453.GA27724@lubyanka.local>

I'm writing a function where I want to support two cases:
    - caller supplies a pure numeric
or
    - caller supplies a time series object

For the latter case, R now has a variety of time series classes : ts,
zoo, its, xts, etc. I only require two operations: 

     I want to pull out the datetime stamps (e.g. index(a.zoo))
     I want to then convert down to a numeric (e.g. as.numeric(a.zoo))

Between all the people building time series classes, is there an
agreement on some minimal set of functions that will always be
supported? Do index(z) and as.numeric(z) work consistently across all
the time series classes? And, I think we need a function is.tsclass()
which reports TRUE if the object supplied is a zoo, its, ts or xts.

-- 
Ajay Shah                                      http://www.mayin.org/ajayshah  
ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
<*(:-? - wizard who doesn't know the answer.


From ggrothendieck at gmail.com  Sat Oct  4 20:28:25 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sat, 4 Oct 2008 14:28:25 -0400
Subject: [R-SIG-Finance] Writing code that works with a variety of time
	series classes
In-Reply-To: <20081004181453.GA27724@lubyanka.local>
References: <20081004181453.GA27724@lubyanka.local>
Message-ID: <971536df0810041128o401a6c18j71037442301b7be7@mail.gmail.com>

Since zoo has made a concerted effort to be interoperable
the easiest thing to do is convert the input to zoo and then extract
the data and index portions from that.  The dyn package
is an example that can handle many time series formats
and that is the strategy it takes.

Thus coredata(as.zoo(x)) and time(as.zoo(x)) will generally work.
Also just time(x) will also usually work for the second case.

The above works with a larger set of time series classes than in
your example and the set it covers includes all or nearly all time series
classes defined in the various R packages on CRAN.

The upcoming release of zoo supports conversion among
additional time series packages in addition to the many
already supported now and these conversions have already
been fully developed.

On Sat, Oct 4, 2008 at 2:14 PM, Ajay Shah <ajayshah at mayin.org> wrote:
> I'm writing a function where I want to support two cases:
>    - caller supplies a pure numeric
> or
>    - caller supplies a time series object
>
> For the latter case, R now has a variety of time series classes : ts,
> zoo, its, xts, etc. I only require two operations:
>
>     I want to pull out the datetime stamps (e.g. index(a.zoo))
>     I want to then convert down to a numeric (e.g. as.numeric(a.zoo))
>
> Between all the people building time series classes, is there an
> agreement on some minimal set of functions that will always be
> supported? Do index(z) and as.numeric(z) work consistently across all
> the time series classes? And, I think we need a function is.tsclass()
> which reports TRUE if the object supplied is a zoo, its, ts or xts.
>
> --
> Ajay Shah                                      http://www.mayin.org/ajayshah
> ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
> <*(:-? - wizard who doesn't know the answer.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From Achim.Zeileis at wu-wien.ac.at  Sat Oct  4 20:31:40 2008
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Sat, 4 Oct 2008 20:31:40 +0200 (CEST)
Subject: [R-SIG-Finance] Writing code that works with a variety of time
 series classes
In-Reply-To: <20081004181453.GA27724@lubyanka.local>
References: <20081004181453.GA27724@lubyanka.local>
Message-ID: <Pine.LNX.4.64.0810042022390.13253@paninaro.stat-math.wu-wien.ac.at>

On Sat, 4 Oct 2008, Ajay Shah wrote:

> I'm writing a function where I want to support two cases:
>    - caller supplies a pure numeric
> or
>    - caller supplies a time series object
>
> For the latter case, R now has a variety of time series classes : ts,
> zoo, its, xts, etc. I only require two operations:
>
>     I want to pull out the datetime stamps (e.g. index(a.zoo))

index() is a "zoo-ism" because the index does not need to correspond to 
"time". But time() is perfectly ok and a bit more expressive in time 
series applications.

>     I want to then convert down to a numeric (e.g. as.numeric(a.zoo))

as.numeric() only does the right thing if you have a univariate series. 
coredata() is recommended and will return either a vector or a matrix.

> Between all the people building time series classes, is there an
> agreement on some minimal set of functions that will always be
> supported?

Not much, time() usually works but the functions for extracting the data 
vary somewhat.

> Do index(z) and as.numeric(z) work consistently across all
> the time series classes? And, I think we need a function is.tsclass()
> which reports TRUE if the object supplied is a zoo, its, ts or xts.

I would argue that you can always coerce to zoo first
   as.zoo(some_object)
which works for the classes above and some more like timeSeries. Then you 
can compute with a unified object and, if necessary, coerce some output 
series back to the original class. In addition, you could leverage 
xts's unification of time-based indexes.
Z


From jeff.a.ryan at gmail.com  Sun Oct  5 04:52:23 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 4 Oct 2008 21:52:23 -0500
Subject: [R-SIG-Finance] Writing code that works with a variety of time
	series classes
In-Reply-To: <Pine.LNX.4.64.0810042022390.13253@paninaro.stat-math.wu-wien.ac.at>
References: <20081004181453.GA27724@lubyanka.local>
	<Pine.LNX.4.64.0810042022390.13253@paninaro.stat-math.wu-wien.ac.at>
Message-ID: <e8e755250810041952l32ab945ex17cdfe8bc256f45c@mail.gmail.com>

Ajay,

In terms of use-case, this is exactly what xts was written for.  'xts'
is at its core a matrix, with an attribute called 'index', exactly
like zoo (well almost, zoo needn't be a matrix).

Most of the functionality of quantmod uses xts internally for the very
reason you describe.  The ability to handle any time series object
without having to write unique methods for each of them (I think
eleven(!) possible classes as of last count).

Once an xts object, all standard zoo tools work.  Some have been
rewritten to accommodate additional features of xts (such as strict
time-based indexing, arbitrary attribute attachment, automatic
reconversion via reclass, and time-based ISO-style subsetting), but
all behave as one would expect them to in R and zoo --- which in my
opinion is very natural and logical.

One unique part of the current xts implementation is the ability to
use the 'reclass' function to take the results of your calculation,
and automatically reconvert them back into the original object class
the user passed in.  All this is managed internally, and requires only
two additions to code that already makes use of zoo-style data
management:

try.xts: convert (or try) to an xts object from any of the supported classes.
reclass: convert back to the original data class if possible.

The main vignette (
http://cran.r-project.org/web/packages/xts/vignettes/xts.pdf ) gives
some examples of the process, and the functions period.apply (xts),
chartSeries (quantmod), as well as many others in those packages and
others provide additional examples of the whole try.xts and reclass
functionality.

e.g.
> period.apply
function (x, INDEX, FUN, ...)
{
    x <- try.xts(x, error = FALSE)
    FUN <- match.fun(FUN)
    xx <- sapply(1:(length(INDEX) - 1), function(y) {
        FUN(x[(INDEX[y] + 1):INDEX[y + 1]], ...)
    })
    reclass(xx, x[INDEX])
}
<environment: namespace:xts>
>

This function works on numeric data or any class convertible to xts
(be it a properly formated data.frame, matrix, ts, its, irts, zoo,
timeSeries, or even xts!), AND returns that original class back to the
user.  All with 2 lines of code, and all seamlessly to the end-user.

My slides from this year's Rmetrics at Meielisalp also contain quite a
few examples of the xts as well.

http://www.quantmod.com/Rmetrics2008

For those who didn't make it to Meielisalp, I want to mention what a
truly great and unique workshop it was.  I highly recommend going if
you have the opportunity!

HTH,
Jeff


-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ryan.sheftel at malbecpartners.com  Sun Oct  5 22:59:29 2008
From: ryan.sheftel at malbecpartners.com (ryan.sheftel at malbecpartners.com)
Date: Sun, 5 Oct 2008 16:59:29 -0400
Subject: [R-SIG-Finance] [Maybe Content Spam] Re: PerformanceAnalytics
 and the UpsidePotentialRatio
In-Reply-To: <1222809295.11730.35.camel@ubuntu.braverock.com>
Message-ID: <OFC5DBBD87.88210ADE-ON852574D9.0072DF04-852574D9.00736D65@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081005/fcc782dc/attachment.pl>

From alex.park1 at ntlworld.com  Mon Oct  6 12:26:33 2008
From: alex.park1 at ntlworld.com (Alex Park)
Date: Mon, 6 Oct 2008 11:26:33 +0100
Subject: [R-SIG-Finance] Building a GUI with R
Message-ID: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>

Hello

I am a private investor and have been wondering about the feasibility of
building my own personal piece of software to help with my investing. In
particular, I am thinking of a desktop application that has the following
features:

- Ability to open up a number of charts and be able to select markets /
stocks from a pre-populated list 

- Ability to have a trading log so I can book my own trades and see my
annualised returns and how this compares to various benchmarks

- Ability to link to a variety of data sources (e.g. FRED) and financial
news sources etc.

- Statistical framework so I can easily compare correlations within markets,
perform regressions etc.

As a bit of background, I used to do some of this in Excel in a crude way
using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
I think R is terrific for analysis and the functions it offers are great
e.g. getting Yahoo quotes, accessing FRED database etc.

What I'd like to do is build my own software in .NET (e.g. build trading log
GUI, place my daily market data within database etc.) but also have access
to R from within the software so that I can use it to build sophisticated
charts, do stats analysis, connect to different data sources e.g. Yahoo etc.

My question is: does this seem like a step to far for an amateur programmer
like me and / or does anybody have an experience in doing similar and could
advise on (a) whether .NET is best way to go, and (b) potential pitfalls.

Any comments gladly received.

Regards

Alex


From el_eli at gmx.de  Mon Oct  6 13:46:51 2008
From: el_eli at gmx.de (el_eli at gmx.de)
Date: Mon, 06 Oct 2008 13:46:51 +0200
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
References: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
Message-ID: <48E9FAAB.30301@gmx.de>

Hi,
my first choice would be Java using the JRI package to call R from a
Java GUI.
http://www.rforge.net/JRI/
If someone has any experience with this it would be great to get some
comments.
Best,
Eli

Alex Park wrote:
> Hello
>
> I am a private investor and have been wondering about the feasibility of
> building my own personal piece of software to help with my investing. In
> particular, I am thinking of a desktop application that has the following
> features:
>
> - Ability to open up a number of charts and be able to select markets /
> stocks from a pre-populated list 
>
> - Ability to have a trading log so I can book my own trades and see my
> annualised returns and how this compares to various benchmarks
>
> - Ability to link to a variety of data sources (e.g. FRED) and financial
> news sources etc.
>
> - Statistical framework so I can easily compare correlations within markets,
> perform regressions etc.
>
> As a bit of background, I used to do some of this in Excel in a crude way
> using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
> I think R is terrific for analysis and the functions it offers are great
> e.g. getting Yahoo quotes, accessing FRED database etc.
>
> What I'd like to do is build my own software in .NET (e.g. build trading log
> GUI, place my daily market data within database etc.) but also have access
> to R from within the software so that I can use it to build sophisticated
> charts, do stats analysis, connect to different data sources e.g. Yahoo etc.
>
> My question is: does this seem like a step to far for an amateur programmer
> like me and / or does anybody have an experience in doing similar and could
> advise on (a) whether .NET is best way to go, and (b) potential pitfalls.
>
> Any comments gladly received.
>
> Regards
>
> Alex
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From Rory.WINSTON at rbs.com  Mon Oct  6 13:49:47 2008
From: Rory.WINSTON at rbs.com (Rory.WINSTON at rbs.com)
Date: Mon, 6 Oct 2008 12:49:47 +0100
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
References: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
Message-ID: <F5AB27C222D4164382737207F9869F2B520324B29A@LONMC01014.rbsres07.net>

Alex

This is something I have been looking at as well. You can embed an R interpreter instance pretty easily (see the extension dev guide for details). The only snag I have seen so far is due to the single-threaded interpreter, writing reentrant applications (i.e. where different GUI event handlers may need to call back into the same interpreter instance concurrently) may be a challenge. I'm currently looking at ways around this, although its not trivial.


-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Alex Park
Sent: 06 October 2008 11:27
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Building a GUI with R

Hello

I am a private investor and have been wondering about the feasibility of building my own personal piece of software to help with my investing. In particular, I am thinking of a desktop application that has the following
features:

- Ability to open up a number of charts and be able to select markets / stocks from a pre-populated list

- Ability to have a trading log so I can book my own trades and see my annualised returns and how this compares to various benchmarks

- Ability to link to a variety of data sources (e.g. FRED) and financial news sources etc.

- Statistical framework so I can easily compare correlations within markets, perform regressions etc.

As a bit of background, I used to do some of this in Excel in a crude way using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
I think R is terrific for analysis and the functions it offers are great e.g. getting Yahoo quotes, accessing FRED database etc.

What I'd like to do is build my own software in .NET (e.g. build trading log GUI, place my daily market data within database etc.) but also have access to R from within the software so that I can use it to build sophisticated charts, do stats analysis, connect to different data sources e.g. Yahoo etc.

My question is: does this seem like a step to far for an amateur programmer like me and / or does anybody have an experience in doing similar and could advise on (a) whether .NET is best way to go, and (b) potential pitfalls.

Any comments gladly received.

Regards

Alex

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

***********************************************************************************
The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB. 
Authorised and regulated by the Financial Services Authority 

This e-mail message is confidential and for use by the=2...{{dropped:22}}


From karim.chine at gmail.com  Mon Oct  6 14:15:33 2008
From: karim.chine at gmail.com (Karim Chine)
Date: Mon, 06 Oct 2008 13:15:33 +0100
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <48E9FAAB.30301@gmx.de>
References: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula> <48E9FAAB.30301@gmx.de>
Message-ID: <48EA0165.10101@gmail.com>

Hi Alex and Eli,

The following project is probably what you need : www.biocep.net 
(www.biocep.net/doc.html if you don't have the Java plugin)
Your GUI can be  created as a standalone Java or .NET desktop
application or as a plugin (Swing) within a provided universal workbench
that can create and control R engines anywhere (locally, on grids,
clusters, cloud servers,..)
Here are links to the workbench if you would like to try it :
via Java Web Start :
http://biocep-distrib.r-forge.r-project.org/workbench.jnlp
as an applet :
http://biocep-distrib.r-forge.r-project.org/rworkbench_applet.html
as a java application : download
http://biocep-distrib.r-forge.r-project.org/appletlibs/biocep.jar and
type : java -jar biocep.jar
and here's an example of a plugin created via a drag&drop GUI editor
(Netbeans):
http://biocep-distrib.r-forge.r-project.org/examples/SimplePlugin.jar
The project has been presented at several conferences
(http://www.biocep.net//doc.html#Talks). It is not released yet but what
is available on the Website is already fully usable.

Best wishes,

Karim

el_eli at gmx.de wrote:
> Hi,
> my first choice would be Java using the JRI package to call R from a
> Java GUI.
> http://www.rforge.net/JRI/
> If someone has any experience with this it would be great to get some
> comments.
> Best,
> Eli
>
> Alex Park wrote:
>> Hello
>>
>> I am a private investor and have been wondering about the feasibility of
>> building my own personal piece of software to help with my investing. In
>> particular, I am thinking of a desktop application that has the
>> following
>> features:
>>
>> - Ability to open up a number of charts and be able to select markets /
>> stocks from a pre-populated list
>> - Ability to have a trading log so I can book my own trades and see my
>> annualised returns and how this compares to various benchmarks
>>
>> - Ability to link to a variety of data sources (e.g. FRED) and financial
>> news sources etc.
>>
>> - Statistical framework so I can easily compare correlations within
>> markets,
>> perform regressions etc.
>>
>> As a bit of background, I used to do some of this in Excel in a crude
>> way
>> using VBA. Then I discovered R and started investigating .NET (VB,
>> C#, C++).
>> I think R is terrific for analysis and the functions it offers are great
>> e.g. getting Yahoo quotes, accessing FRED database etc.
>>
>> What I'd like to do is build my own software in .NET (e.g. build
>> trading log
>> GUI, place my daily market data within database etc.) but also have
>> access
>> to R from within the software so that I can use it to build
>> sophisticated
>> charts, do stats analysis, connect to different data sources e.g.
>> Yahoo etc.
>>
>> My question is: does this seem like a step to far for an amateur
>> programmer
>> like me and / or does anybody have an experience in doing similar and
>> could
>> advise on (a) whether .NET is best way to go, and (b) potential
>> pitfalls.
>>
>> Any comments gladly received.
>>
>> Regards
>>
>> Alex
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From Wayne.W.Jones at shell.com  Mon Oct  6 14:24:50 2008
From: Wayne.W.Jones at shell.com (Wayne.W.Jones at shell.com)
Date: Mon, 6 Oct 2008 14:24:50 +0200
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <F5AB27C222D4164382737207F9869F2B520324B29A@LONMC01014.rbsres07.net>
Message-ID: <8E3590214E4380489D2F8BF129B939F30B7B75@amsdc1-s-03371.europe.shell.com>


Hi Alex, 

If you want to build a quick and powerful GUI for R then I very much suggest 
you look at the package "rpanel" which is available from CRAN. There are many example scripts available from 
http://www.stats.gla.ac.uk/~adrian/rpanel/ to give you a feel for how easy and quick it is to build some very nice GUI's in R. 

Thers is an R-GUI mailing list dedicated for building GUIs for R. 
You can subscripbe here: https://stat.ethz.ch/mailman/listinfo/r-sig-gui

You can hook up R with .NET, C++, or Excel by using the R(D)Com server developed by THomas Baier and Erich Neuwirth. 
See http://sunsite.univie.ac.at/rcom/ for more details.

We recently gave a talk on "Rapid application deployment with R" in UseR-2008. 
The slides are available here, http://www.statistik.uni-dortmund.de/useR-2008/slides/Jones+Giannitrapani.pdf

Regards,

Wayne


 


-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of
Rory.WINSTON at rbs.com
Sent: 06 October 2008 12:50
To: alex.park1 at ntlworld.com; r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Building a GUI with R


Alex

This is something I have been looking at as well. You can embed an R interpreter instance pretty easily (see the extension dev guide for details). The only snag I have seen so far is due to the single-threaded interpreter, writing reentrant applications (i.e. where different GUI event handlers may need to call back into the same interpreter instance concurrently) may be a challenge. I'm currently looking at ways around this, although its not trivial.


-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Alex Park
Sent: 06 October 2008 11:27
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Building a GUI with R

Hello

I am a private investor and have been wondering about the feasibility of building my own personal piece of software to help with my investing. In particular, I am thinking of a desktop application that has the following
features:

- Ability to open up a number of charts and be able to select markets / stocks from a pre-populated list

- Ability to have a trading log so I can book my own trades and see my annualised returns and how this compares to various benchmarks

- Ability to link to a variety of data sources (e.g. FRED) and financial news sources etc.

- Statistical framework so I can easily compare correlations within markets, perform regressions etc.

As a bit of background, I used to do some of this in Excel in a crude way using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
I think R is terrific for analysis and the functions it offers are great e.g. getting Yahoo quotes, accessing FRED database etc.

What I'd like to do is build my own software in .NET (e.g. build trading log GUI, place my daily market data within database etc.) but also have access to R from within the software so that I can use it to build sophisticated charts, do stats analysis, connect to different data sources e.g. Yahoo etc.

My question is: does this seem like a step to far for an amateur programmer like me and / or does anybody have an experience in doing similar and could advise on (a) whether .NET is best way to go, and (b) potential pitfalls.

Any comments gladly received.

Regards

Alex

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

***********************************************************************************
The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB. 
Authorised and regulated by the Financial Services Authority 

This e-mail message is confidential and for use by =\ th...{{dropped:10}}


From ggrothendieck at gmail.com  Mon Oct  6 14:46:12 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 6 Oct 2008 08:46:12 -0400
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
References: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
Message-ID: <971536df0810060546p7264d17ex4779d89e7983daff@mail.gmail.com>

Its possible to write a GUI in R.  See
http://www.sciviews.org/_rgui/
although that list is a bit old so RGtk2 and the various
gWidgets packages are missing from that list.
The core of R contains ?menu, ?select.list, ?View and ?winMenus
and on Windows the tcltk package is included in the R download.

On Mon, Oct 6, 2008 at 6:26 AM, Alex Park <alex.park1 at ntlworld.com> wrote:
> Hello
>
> I am a private investor and have been wondering about the feasibility of
> building my own personal piece of software to help with my investing. In
> particular, I am thinking of a desktop application that has the following
> features:
>
> - Ability to open up a number of charts and be able to select markets /
> stocks from a pre-populated list
>
> - Ability to have a trading log so I can book my own trades and see my
> annualised returns and how this compares to various benchmarks
>
> - Ability to link to a variety of data sources (e.g. FRED) and financial
> news sources etc.
>
> - Statistical framework so I can easily compare correlations within markets,
> perform regressions etc.
>
> As a bit of background, I used to do some of this in Excel in a crude way
> using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
> I think R is terrific for analysis and the functions it offers are great
> e.g. getting Yahoo quotes, accessing FRED database etc.
>
> What I'd like to do is build my own software in .NET (e.g. build trading log
> GUI, place my daily market data within database etc.) but also have access
> to R from within the software so that I can use it to build sophisticated
> charts, do stats analysis, connect to different data sources e.g. Yahoo etc.
>
> My question is: does this seem like a step to far for an amateur programmer
> like me and / or does anybody have an experience in doing similar and could
> advise on (a) whether .NET is best way to go, and (b) potential pitfalls.
>
> Any comments gladly received.
>
> Regards
>
> Alex
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jjbarn at btinternet.com  Mon Oct  6 15:09:13 2008
From: jjbarn at btinternet.com (John James)
Date: Mon, 6 Oct 2008 13:09:13 +0000 (GMT)
Subject: [R-SIG-Finance] Building a GUI with R
Message-ID: <823887.25198.qm@web86201.mail.ird.yahoo.com>

Hi
?
I think there are 2 or 3 parts to the problem, depending on how you see the requirements:
?
1 A system that will continuously run R in the background, for updating your plots and calculations.
?
2 Display and access R in a way that you can change your priority of interest and if necessary perform ad-hoc queries as quickly as possible.
?
3 A computing system capable of performing stress and back testing of strategies.
?
Architecturally I would separate the UI from the backend and I would choose a SOA (Service Oriented Architecture) approach for this separation as it gives flexibility of implementation strategies. You will certainly want to access some of the portals for additional data and therefore tackling this subject is worthwhile early on.
?
If you haven't had experience previously of developing a threaded application in .NET I would consider using a browser front end, programming in JavaScript and using AJAX technology. Visual Studio 2008 has extensive tools including an effective JavaScript debugger and will kick-start your development.
?
.NET provides powerful connection pooling and service management capabilities; unfortunately you will need to create a marshalling interface to the R threads but once this is done, running R remotely is simple. 
?
Note however that www.biocep.nethas already implemented most of the necessary functionality for server-side R execution and I would use this initially by scripting in R and Python while concentrating on developing the front-end that you want in .NET 

Regards

John James
Mango Solutions

?


----- Original Message ----
From: Alex Park <alex.park1 at ntlworld.com>
To: r-sig-finance at stat.math.ethz.ch
Sent: Monday, 6 October, 2008 11:26:33 AM
Subject: [R-SIG-Finance] Building a GUI with R

Hello

I am a private investor and have been wondering about the feasibility of
building my own personal piece of software to help with my investing. In
particular, I am thinking of a desktop application that has the following
features:

- Ability to open up a number of charts and be able to select markets /
stocks from a pre-populated list 

- Ability to have a trading log so I can book my own trades and see my
annualised returns and how this compares to various benchmarks

- Ability to link to a variety of data sources (e.g. FRED) and financial
news sources etc.

- Statistical framework so I can easily compare correlations within markets,
perform regressions etc.

As a bit of background, I used to do some of this in Excel in a crude way
using VBA. Then I discovered R and started investigating .NET (VB, C#, C++).
I think R is terrific for analysis and the functions it offers are great
e.g. getting Yahoo quotes, accessing FRED database etc.

What I'd like to do is build my own software in .NET (e.g. build trading log
GUI, place my daily market data within database etc.) but also have access
to R from within the software so that I can use it to build sophisticated
charts, do stats analysis, connect to different data sources e.g. Yahoo etc.

My question is: does this seem like a step to far for an amateur programmer
like me and / or does anybody have an experience in doing similar and could
advise on (a) whether .NET is best way to go, and (b) potential pitfalls.

Any comments gladly received.

Regards

Alex

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.



From landronimirc at gmail.com  Mon Oct  6 15:13:56 2008
From: landronimirc at gmail.com (Liviu Andronic)
Date: Mon, 6 Oct 2008 15:13:56 +0200
Subject: [R-SIG-Finance] Building a GUI with R
In-Reply-To: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
References: <A866DA0AC67C48CF97BC65BB51B4B4D0@Paula>
Message-ID: <68b1e2610810060613k5771263cne27048d33d6980ee@mail.gmail.com>

On Mon, Oct 6, 2008 at 12:26 PM, Alex Park <alex.park1 at ntlworld.com> wrote:
> I am a private investor and have been wondering about the feasibility of
> building my own personal piece of software to help with my investing. In
> particular, I am thinking of a desktop application that has the following
> features:
>
One option is to create a plugin package for Rcmdr [1]. Rcmdr allows
you to take full control of its menus, including removing the default
ones, which means that you can take the existing infrastructure and
adapt it to your specific needs.

Regards,
Liviu

[1] http://cran.r-project.org/web/packages/Rcmdr/index.html


From binabina at bellsouth.net  Tue Oct  7 03:56:46 2008
From: binabina at bellsouth.net (zubin)
Date: Mon, 06 Oct 2008 21:56:46 -0400
Subject: [R-SIG-Finance] The Innagural Atlanta useR Group Meeting!
In-Reply-To: <1968463774.1223314548347.JavaMail.nobody@james0>
References: <1968463774.1223314548347.JavaMail.nobody@james0>
Message-ID: <48EAC1DE.4030209@bellsouth.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081006/eea46ae6/attachment.pl>

From niheaven at hotmail.com  Tue Oct  7 16:38:13 2008
From: niheaven at hotmail.com (Hsiao-nan Cheung)
Date: Tue, 7 Oct 2008 22:38:13 +0800
Subject: [R-SIG-Finance] Statistically significant in linear and non-linear
	model
Message-ID: <BAY126-DS37B154EA240903911E583D9380@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081007/fa019a6e/attachment.pl>

From niheaven at hotmail.com  Tue Oct  7 19:23:49 2008
From: niheaven at hotmail.com (Hsiao-nan Cheung)
Date: Wed, 8 Oct 2008 01:23:49 +0800
Subject: [R-SIG-Finance] Statistically significant in linear and
	non-linear model
In-Reply-To: <16248332.4496991223392188675.JavaMail.javamailuser@localhost>
References: <16248332.4496991223392188675.JavaMail.javamailuser@localhost>
Message-ID: <BAY126-DS1A56328F425C9DE32B237D9380@phx.gbl>

Thank you for your comments.

Maybe I could specify my question more clearly. For example, a linear model is y = alpha + beta*x + epsilon, and this beta is not statistically significant. Then a non-linear model, e.g., y = eta + gamma*exp(x) + omega, since exp(x) = 1 + x + (x^2)/(2!) + (x^3)/(3!) + ..., then y = eta + gamma*(1+x+x^2/2+...) + omega. But beta in the former formula is not statistically significant, is there probability that gamma is statistically significant?

And I will post this to r-help also, thanks.

HC

> -----Original Message-----
> From: markleeds at verizon.net [mailto:markleeds at verizon.net]
> Sent: 2008?10?7? 23:10
> To: Hsiao-nan Cheung
> Subject: RE: [R-SIG-Finance] Statistically significant in linear and
> non-linear model
> 
> Hi:  it's an interesting question and probably something that you
> should
> send to R -help also. One reasonis  the following but
> I don't know if it's a big one ?
> 
> if one has the linear model log(y) = X*beta + epsilon, then, this can
> clearly be transformed to y = exp(Bx) and minimized using
> nls. But, I think it's possible that beta can turn out significant in A)
> and not in B) because of the assumption about the error term.
> 
> In A) the error term is assumed to be additive and this assumption is
> used HEAVILY in standard OLS theory.
> 
> In B) The error, term if A is true, is multiplicative and, however, nls
> works out the standard errors ( I guess it's estimates the Hessian
> and uses that )  could cause Beta to be not significant.
> 
> And, the argument can also probably go the other way so that, one could
> have significance in nls bt not OLS.
> 
> As I mentioned,  I don't know what the constribution of above is to
> your
> question but it's a thought. If you get any offline replies,
> could you send them to me because i'd be interested. I bet you would
> get
> a lot of responses from R-help if you sent it there also.
> 
> 
> 
> 
> 
> On Tue, Oct 7, 2008 at 10:38 AM, Hsiao-nan Cheung wrote:
> 
> > Hi,
> >
> >
> > I have a question to ask. if in a linear regression model, the
> > independent
> > variables are not statistically significant, is it necessary to test
> > these
> > variables in a non-linear model? Since most of non-linear form of a
> > variable
> > can be represented to a linear combination using Taylor's theorem, so
> > I
> > wonder whether the non-linear form is also not statistically
> > significant in
> > such a situation.
> >
> >
> > Best Regards
> >
> > Hsiao-nan Cheung
> >
> > 2008/10/07
> >
> >
> > 	[[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.


From niheaven at hotmail.com  Tue Oct  7 20:30:55 2008
From: niheaven at hotmail.com (Hsiao-nan Cheung)
Date: Wed, 8 Oct 2008 02:30:55 +0800
Subject: [R-SIG-Finance] [R] Statistically significant in linear and
	non-linear model
In-Reply-To: <25278434.4800421223402181836.JavaMail.javamailuser@localhost>
References: <25278434.4800421223402181836.JavaMail.javamailuser@localhost>
Message-ID: <BAY126-DS5E82523343C2BE025097AD9380@phx.gbl>

Perhaps I should.... Now the example.

Maybe I could specify my question more clearly. For example, a linear model is y = alpha + beta*x + epsilon, and this beta is not statistically significant. Then a non-linear model, e.g., y = eta + gamma*exp(x) + omega, since exp(x) = 1 + x + (x^2)/(2!) + (x^3)/(3!) + ..., then y = eta + gamma*(1+x+x^2/2+...) + omega. But beta in the former formula is not statistically significant, is there probability that gamma is statistically significant?

HC

> -----Original Message-----
> From: markleeds at verizon.net [mailto:markleeds at verizon.net]
> Sent: 2008?10?8? 1:56
> To: Hsiao-nan Cheung
> Subject: RE: [R] Statistically significant in linear and non-linear
> model
> 
>   you might be better off sending the example you sent me with gamma
> and
> beta ? it's just a thought ?
> 
> 
> 
> On Tue, Oct 7, 2008 at  1:46 PM, Hsiao-nan Cheung wrote:
> 
> > Hi,
> >
> >
> > I have a question to ask. if in a linear regression model, the
> > independent
> > variables are not statistically significant, is it necessary to test
> > these
> > variables in a non-linear model? Since most of non-linear form of a
> > variable
> > can be represented to a linear combination using Taylor's theorem, so
> > I
> > wonder whether the non-linear form is also not statistically
> > significant in
> > such a situation.
> >
> >
> > Best Regards
> >
> > Hsiao-nan Cheung
> >
> > 2008/10/08
> >
> >
> >
> >
> >
> > 	[[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From michael.sankowski at gmail.com  Tue Oct  7 22:59:08 2008
From: michael.sankowski at gmail.com (Michael Sankowski)
Date: Tue, 7 Oct 2008 15:59:08 -0500
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <48E6C973.90606@earthlink.net>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
	<b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
	<5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>
	<48E6C973.90606@earthlink.net>
Message-ID: <b34262a80810071359i39d91e4cn40da09c1718f43@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081007/6a75311f/attachment.pl>

From seancarmody at gmail.com  Tue Oct  7 23:44:44 2008
From: seancarmody at gmail.com (Sean Carmody)
Date: Wed, 8 Oct 2008 08:44:44 +1100
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <b34262a80810071359i39d91e4cn40da09c1718f43@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
	<b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
	<5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>
	<48E6C973.90606@earthlink.net>
	<b34262a80810071359i39d91e4cn40da09c1718f43@mail.gmail.com>
Message-ID: <ce6bbb9d0810071444t7c7c2e41u3cde6f60abd07d0c@mail.gmail.com>

The Bloomberg API can be flaky when dealing with large amounts of data
(I've had the problem with Excel as well as R), so I would suggest
breaking your requests into smaller chunks and then combining the data
once it's been retreived.

A similar query arose here (although my response seems to have been
lost from the archives).

https://stat.ethz.ch/pipermail/r-sig-finance/2008q2/002604.html

Regards,
Sean Carmody.

On Wed, Oct 8, 2008 at 7:59 AM, Michael Sankowski
<michael.sankowski at gmail.com> wrote:
>
> Just an FYI.
>
> I've had problems when attempting to get large amount of data through
> RBloomberg, specifically data from large numbers of different symbols at the
> same time.  I've taken to just doing it in excel and letting it run for 10
> minutes or so and then exporting to flat files and importing into R through
> read.table
>
> regards,
>
> Mike
>
> On Fri, Oct 3, 2008 at 8:40 PM, Krishna Kumar <kriskumar at earthlink.net>wrote:
>
> > I had simillar non-standard path on one of work boxes it turns out doing
> > >require(RBloomberg)
> > followed by
> > > .bbfields <- blpReadFields(<path to bloomberg installation>)
> >
> > Fixed the problem.
> >
> > Best
> > Krishna
> >
> >
> >
> > Gopi Goswami wrote:
> >
> >> David,
> >> You guessed it right, on my machine Bloomberg is not installed in the
> >> standard place, I don't know how the installed the way they did. I
> >> couldn't
> >> go beyond the blpConnet command to do anything useful.
> >>
> >>
> >>
> >> Thomas,
> >>
> >> Thanks a lot for the pointer, I'll try to see if the network settings is
> >> the
> >> source of the problem.
> >>
> >>
> >>
> >> Michael,
> >>
> >> I hope that this setup works for me as well.
> >>
> >>
> >>
> >> Regards,
> >> gopi.
> >>
> >>
> >> On Thu, Oct 2, 2008 at 10:50 AM, Michael Sankowski <
> >> michael.sankowski at gmail.com> wrote:
> >>
> >>
> >>
> >>> I have also had success  using this exact setup.
> >>>
> >>> On Thu, Oct 2, 2008 at 8:44 AM, <davidr at rhotrading.com> wrote:
> >>>
> >>>
> >>>
> >>>> Gopi,
> >>>>
> >>>> I'm not sure why you are redefining .bbfields, unless your installation
> >>>> is not in the standard place, which could cause other problems. I'm
> >>>> pretty sure Bloomberg doesn't let you install it anywhere other than
> >>>> C:/blp.
> >>>>
> >>>> I assume you tried just the library and blpConnect commands? What
> >>>> happened? It works for me, and I have the same setup as you.
> >>>>
> >>>> HTH,
> >>>> -- David
> >>>>
> >>>> -----Original Message-----
> >>>> From: r-sig-finance-bounces at stat.math.ethz.ch
> >>>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Gopi
> >>>> Goswami
> >>>> Sent: Thursday, October 02, 2008 7:01 AM
> >>>> To: r-sig-finance at stat.math.ethz.ch
> >>>> Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
> >>>>
> >>>> Hi there,
> >>>>
> >>>> How are you? I'm having some issues with the following set up:
> >>>>
> >>>> WINDOWS XP
> >>>> R-2.7.2
> >>>> RBloomberg-0.1-10
> >>>> RDCOMClient-0.92-0
> >>>> zoo-1.5-4
> >>>> chron-2.3-24
> >>>>
> >>>>
> >>>> Bloomberg is installed in the machine. The following code crashes R:
> >>>>
> >>>>
> >>>> library(RBloomberg)
> >>>> .bbfields <- blpReadFields('C:\\path\\to\\blp\\API')
> >>>> conn <- blpConnect( )
> >>>>
> >>>>
> >>>> I investigated the problem using debug(blpConnect) and found out that
> >>>> the
> >>>> code dies at the following line of the blpConnect function:
> >>>>
> >>>> conn[["Timeout"]] <<- timeout;
> >>>>
> >>>>
> >>>>
> >>>> The above problem occurs whether Bloomberg is running or not, whether
> >>>> the
> >>>> market is open or not. Any help would be much appreciated.
> >>>>
> >>>>
> >>>>
> >>>> Regards,
> >>>> gopi.
> >>>> PhD, Statistics, 2005
> >>>> http://gopi-goswami.net/index.html
> >>>>
> >>>>       [[alternative HTML version deleted]]
> >>>>
> >>>> _______________________________________________
> >>>> R-SIG-Finance at stat.math.ethz.ch mailing list
> >>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >>>> -- Subscriber-posting only.
> >>>> -- If you want to post, subscribe first.
> >>>>
> >>>> _______________________________________________
> >>>> R-SIG-Finance at stat.math.ethz.ch mailing list
> >>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >>>> -- Subscriber-posting only.
> >>>> -- If you want to post, subscribe first.
> >>>>
> >>>>
> >>>>
> >>>
> >>> --
> >>> Michael Sankowski, CFA, CAIA
> >>> 312.404.8717
> >>> michael.sankowski at gmail.com
> >>>
> >>>
> >>>
> >>
> >>        [[alternative HTML version deleted]]
> >>
> >> _______________________________________________
> >> R-SIG-Finance at stat.math.ethz.ch mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >> -- Subscriber-posting only.
> >> -- If you want to post, subscribe first.
> >>
> >>
> >>
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.
> >
>
>
>
> --
> Michael Sankowski, CFA, CAIA
> 312.404.8717
> michael.sankowski at gmail.com
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.



--
Sean Carmody

The Stubborn Mule
http://www.stubbornmule.net
http://twitter.com/seancarmody


From grgoswami at gmail.com  Wed Oct  8 12:25:18 2008
From: grgoswami at gmail.com (Gopi Goswami)
Date: Wed, 8 Oct 2008 06:25:18 -0400
Subject: [R-SIG-Finance] RBloomberg :: blpConnect crash.
In-Reply-To: <ce6bbb9d0810071444t7c7c2e41u3cde6f60abd07d0c@mail.gmail.com>
References: <5811e0170809290506i62567feei9d1da4483f422fa3@mail.gmail.com>
	<5811e0170810020501l706fd7b2wf9552f4ce18cb503@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CAAE4@rhopost.rhotrading.com>
	<b34262a80810020750n4122e12dr27dbcc5066b1adb7@mail.gmail.com>
	<5811e0170810022105x35e5fcd7n16be388f9de99e15@mail.gmail.com>
	<48E6C973.90606@earthlink.net>
	<b34262a80810071359i39d91e4cn40da09c1718f43@mail.gmail.com>
	<ce6bbb9d0810071444t7c7c2e41u3cde6f60abd07d0c@mail.gmail.com>
Message-ID: <5811e0170810080325x491dc5afq303796043e851972@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081008/ede12521/attachment.pl>

From michael at zak.li  Wed Oct  8 14:50:49 2008
From: michael at zak.li (Michael Zak)
Date: Wed, 8 Oct 2008 14:50:49 +0200
Subject: [R-SIG-Finance] quantmod: how to add custom timeseries (addTA?)
Message-ID: <BE960B79-A3ED-47B6-AFBC-860CBE137F01@zak.li>

Dear members

I'm working with quantmod charts and I should add a timeseries (lowest  
low of the last 55 days) with the same length as the original  
observations. It works fine with addTA(), but quantmod puts a new  
indicator below the chart. But I want to force quantmod to put the  
data in the same indicator as for example the OHLC series.

Thank you, Michael Zak


From josh.m.ulrich at gmail.com  Wed Oct  8 15:02:04 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Wed, 8 Oct 2008 08:02:04 -0500
Subject: [R-SIG-Finance] quantmod: how to add custom timeseries (addTA?)
In-Reply-To: <BE960B79-A3ED-47B6-AFBC-860CBE137F01@zak.li>
References: <BE960B79-A3ED-47B6-AFBC-860CBE137F01@zak.li>
Message-ID: <8cca69990810080602g454778b1qc9bf5c0e2b6dce34@mail.gmail.com>

Hi Michael,

Try this:

require(quantmod)
require(TTR)
getSymbols("YHOO")
chartSeries(YHOO)
min55 <- runMin(YHOO$YHOO.Low,55)
addTA(min55,on=1)

Best,
Josh
--
http://quantemplation.blogspot.com



On Wed, Oct 8, 2008 at 7:50 AM, Michael Zak <michael at zak.li> wrote:
> Dear members
>
> I'm working with quantmod charts and I should add a timeseries (lowest low
> of the last 55 days) with the same length as the original observations. It
> works fine with addTA(), but quantmod puts a new indicator below the chart.
> But I want to force quantmod to put the data in the same indicator as for
> example the OHLC series.
>
> Thank you, Michael Zak
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From josh.m.ulrich at gmail.com  Wed Oct  8 15:22:09 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Wed, 8 Oct 2008 08:22:09 -0500
Subject: [R-SIG-Finance] quantmod: how to add custom timeseries (addTA?)
In-Reply-To: <DB1F3AD6-4E0C-4D3B-B993-5DC7806534DE@zak.li>
References: <BE960B79-A3ED-47B6-AFBC-860CBE137F01@zak.li>
	<8cca69990810080602g454778b1qc9bf5c0e2b6dce34@mail.gmail.com>
	<DB1F3AD6-4E0C-4D3B-B993-5DC7806534DE@zak.li>
Message-ID: <8cca69990810080622n1f0ddcahc661030fb905a16@mail.gmail.com>

Michael,

I'll have to leave that question to Jeff Ryan, the package author.

You can avoid printing a legend for the lowest low by using the TA=
arg in chartSeries:
chartSeries(YHOO, TA="addTA(min55,on=1)")

Best,
Josh
--
http://blog.fosstrading.com/


On Wed, Oct 8, 2008 at 8:17 AM, Michael Zak <michael at zak.li> wrote:
> Jopp! The argument on = 1 from addTA() helped me totally.
>
> How can I prevent printing a legend at all from the addTA()? legend=FALSE
> doensn't work.
>
> Thank you, Michael
>
> On 08.10.2008, at 15:02, Josh Ulrich wrote:
>
>> Hi Michael,
>>
>> Try this:
>>
>> require(quantmod)
>> require(TTR)
>> getSymbols("YHOO")
>> chartSeries(YHOO)
>> min55 <- runMin(YHOO$YHOO.Low,55)
>> addTA(min55,on=1)
>>
>> Best,
>> Josh
>> --
>> http://quantemplation.blogspot.com
>


From jeff.a.ryan at gmail.com  Wed Oct  8 15:39:15 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 8 Oct 2008 08:39:15 -0500
Subject: [R-SIG-Finance] quantmod: how to add custom timeseries (addTA?)
In-Reply-To: <8cca69990810080622n1f0ddcahc661030fb905a16@mail.gmail.com>
References: <BE960B79-A3ED-47B6-AFBC-860CBE137F01@zak.li>
	<8cca69990810080602g454778b1qc9bf5c0e2b6dce34@mail.gmail.com>
	<DB1F3AD6-4E0C-4D3B-B993-5DC7806534DE@zak.li>
	<8cca69990810080622n1f0ddcahc661030fb905a16@mail.gmail.com>
Message-ID: <e8e755250810080639l467cd250i9415af2ad7a1aa97@mail.gmail.com>

Michael,

It is a bug in the code when you specify the *on* argument.

These work, at least for the legend issue:

addTA(min55,legend=NULL)
addTA(min55,legend="")

I am looking into a fix.

Thanks,
Jeff

On Wed, Oct 8, 2008 at 8:22 AM, Josh Ulrich <josh.m.ulrich at gmail.com> wrote:
> Michael,
>
> I'll have to leave that question to Jeff Ryan, the package author.
>
> You can avoid printing a legend for the lowest low by using the TA=
> arg in chartSeries:
> chartSeries(YHOO, TA="addTA(min55,on=1)")
>
> Best,
> Josh
> --
> http://blog.fosstrading.com/
>
>
> On Wed, Oct 8, 2008 at 8:17 AM, Michael Zak <michael at zak.li> wrote:
>> Jopp! The argument on = 1 from addTA() helped me totally.
>>
>> How can I prevent printing a legend at all from the addTA()? legend=FALSE
>> doensn't work.
>>
>> Thank you, Michael
>>
>> On 08.10.2008, at 15:02, Josh Ulrich wrote:
>>
>>> Hi Michael,
>>>
>>> Try this:
>>>
>>> require(quantmod)
>>> require(TTR)
>>> getSymbols("YHOO")
>>> chartSeries(YHOO)
>>> min55 <- runMin(YHOO$YHOO.Low,55)
>>> addTA(min55,on=1)
>>>
>>> Best,
>>> Josh
>>> --
>>> http://quantemplation.blogspot.com
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From munkey906 at gmail.com  Wed Oct  8 16:15:38 2008
From: munkey906 at gmail.com (Theodore Van Rooy)
Date: Wed, 8 Oct 2008 08:15:38 -0600
Subject: [R-SIG-Finance] Statistically significant in linear and
	non-linear model
Message-ID: <3c8226f70810080715g2877d560h7d1feb59dcae0229@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081008/6c193e95/attachment.pl>

From michael at zak.li  Thu Oct  9 19:14:47 2008
From: michael at zak.li (Michael Zak)
Date: Thu, 9 Oct 2008 19:14:47 +0200
Subject: [R-SIG-Finance] Buy and sell signal with quantmod?
Message-ID: <029355ED-4AE9-49BE-88EB-47FE8CDC26A2@zak.li>

HI there,

I'm using quantmod to display my finance data with chartSeries(). I  
already calculated the buy and sell indicators in the R code, but it  
would be nice if I could display a sell and buy symbol (like an  
arrowhead or a bigger dot with different colors) in the chart. Is this  
possible to do that with quantmod or is there a better solution for my  
problem?

My actual project is to port the whole trading system from  
TradersStudio to R, so I can optimize the algorithmus behind. And  
TradersStudio shows you the indicators where you should buy and sell...

I'm sorry for all the newbie questions, but I'm still a student ;)

Thank you, Michael


From jeff.a.ryan at gmail.com  Thu Oct  9 22:29:27 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 9 Oct 2008 15:29:27 -0500
Subject: [R-SIG-Finance] Buy and sell signal with quantmod?
In-Reply-To: <029355ED-4AE9-49BE-88EB-47FE8CDC26A2@zak.li>
References: <029355ED-4AE9-49BE-88EB-47FE8CDC26A2@zak.li>
Message-ID: <e8e755250810091329jd03f911h9b3ac9a5787c30aa@mail.gmail.com>

Michael,

Take a look at addPoints.

Try:

library(quantmod)
library(TTR)

getSymbols("QQQQ")
barChart(QQQQ,TA=NULL)

peak <- function(x) {
 which(diff(sign(diff(x))) < 0) + 2
}

addPoints(peak(MACD(Cl(QQQQ))[,1]),pch=25,col='red',offset=1.03)

This may or not work as advertised in the current CRAN version, but
will if you build yourself from the source on R-forge.

For the record, this is a very under-developed part of the current
release (and even current devel).  I should be releasing updates to
both quantmod and xts in the next few weeks which make some bigger
improvements.  Very big changes to xts especially.

On tap for the newest version of quantmod will be more base graphical
functionality incorporated into the add*** style framework, as well as
a few new general improvements, and of course bug fixes.  I hope to
find the time to update the quantmod.com as well.

Thanks,
Jeff

On Thu, Oct 9, 2008 at 12:14 PM, Michael Zak <michael at zak.li> wrote:
> HI there,
>
> I'm using quantmod to display my finance data with chartSeries(). I already
> calculated the buy and sell indicators in the R code, but it would be nice
> if I could display a sell and buy symbol (like an arrowhead or a bigger dot
> with different colors) in the chart. Is this possible to do that with
> quantmod or is there a better solution for my problem?
>
> My actual project is to port the whole trading system from TradersStudio to
> R, so I can optimize the algorithmus behind. And TradersStudio shows you the
> indicators where you should buy and sell...
>
> I'm sorry for all the newbie questions, but I'm still a student ;)
>
> Thank you, Michael
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From wojciech.slusarski at gmail.com  Fri Oct 10 10:04:52 2008
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Fri, 10 Oct 2008 10:04:52 +0200
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo
Message-ID: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081010/820cd4c1/attachment.pl>

From dsmith at viciscapital.com  Fri Oct 10 14:08:29 2008
From: dsmith at viciscapital.com (Dale Smith)
Date: Fri, 10 Oct 2008 08:08:29 -0400
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo
In-Reply-To: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
References: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
Message-ID: <AAD6506F4E0FC9448EB9F608C657242F2966B8@vicsrv4.viciscapital.com>

Hull & White wrote up implementation guidelines - a first for academics,
I believe.

"Using Hull-White Interest Rate Trees"

http://www.rotman.utoronto.ca/~hull/DownloadablePublications/

Dale Smith, Ph.D.
Vicis Capital LLC
Voice: 212-909-4635
Email: dsmith at viciscapital.com
AIM: dsmith11701

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Wojciech
Slusarski
Sent: Friday, October 10, 2008 4:05 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo

Hello,

Does anybody could provide some hints on how to calibrate Hull-White
model
for Monte Carlo? How to fit parameters, that the model fits the initial
term
structure? I am interested in calibration of model in form as presented
in
3.33 in Brigo and Mercurio (2007):
dr(t) = [v(t) - ar(t)]dt + voldW(t)

If anybody has a paper describing such calibration and description how
to
conduct such simulation, I would appreciate that a lot.

Best regards,
Wojtek

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From wojciech.slusarski at gmail.com  Fri Oct 10 18:40:10 2008
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Fri, 10 Oct 2008 18:40:10 +0200
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo
In-Reply-To: <AAD6506F4E0FC9448EB9F608C657242F2966B8@vicsrv4.viciscapital.com>
References: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
	<AAD6506F4E0FC9448EB9F608C657242F2966B8@vicsrv4.viciscapital.com>
Message-ID: <5e64e5be0810100940of29d5dp931e13c20e22d117@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081010/349e608c/attachment.pl>

From guy.yollin at rotellacapital.com  Fri Oct 10 20:29:06 2008
From: guy.yollin at rotellacapital.com (Guy Yollin)
Date: Fri, 10 Oct 2008 13:29:06 -0500
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo
In-Reply-To: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
References: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
Message-ID: <E4259A82356E7F46B4F911FB27B0D72512BBBFA2EB@AUSP01VMBX02.collaborationhost.net>

Wojtek,

If I understand your question, you would like to know how to fit the hull-white model parameters; using your notation:
a = mean-reversion rate
vol = short-rate volatility

Hull (Options, Futures, and Other Derivatives) and Clewlow/Strickland (Implementing Derivative Models) show how to construct trinomial trees matched to the term structure using the Hull-White model.

Further, both of these texts also show how these trees can be used to price fixed income derivatives.  Hence, one way to solve the parameter fitting problem is to find the implied tree based on the real market price of these derivatives.

While I do not worked with interest rate trees and derivatives, I have worked with trinomial trees fitted to the futures curve for valuing options on energy futures.

To estimate the mean-reversion rate and spot-volatility I simply used a general purpose optimization algorithm to minimize the pricing error of a selection of futures options (i.e. adjust a and vol to minimize the difference between the actual option price and option price calculated from the model).

The main reference that I used was "Valuing Energy Options in a One Factor Model Fitted to Forward Prices" by Clewlow & Strickland, 1999; this paper is available from a variety of sources on the web.

I also see that Clewlow and Strickland have a new research paper entitled "Calibrating Trees to the Market Price of Options" available from their website (www.lacimagroup.com).  Although a quick look at this paper seems to indicate that it specifically describes this procedure, I have not read this paper in detail.

I hope this helps.

Best,

Guy




-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Wojciech Slusarski
Sent: Friday, October 10, 2008 1:05 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo

Hello,

Does anybody could provide some hints on how to calibrate Hull-White model
for Monte Carlo? How to fit parameters, that the model fits the initial term
structure? I am interested in calibration of model in form as presented in
3.33 in Brigo and Mercurio (2007):
dr(t) = [v(t) - ar(t)]dt + voldW(t)

If anybody has a paper describing such calibration and description how to
conduct such simulation, I would appreciate that a lot.

Best regards,
Wojtek

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From shane.conway at gmail.com  Fri Oct 10 22:40:49 2008
From: shane.conway at gmail.com (Shane Conway)
Date: Fri, 10 Oct 2008 16:40:49 -0400
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
Message-ID: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>

I'm working with intraday FX price data (primarily hourly bars).  I
want to scale my volatility calculations up to the daily level.
Ordinarily I would us the square-root-of-time rule and multiple by the
sqrt(T).

The question is: how do people deal with this scaling factor when the
time series is irregularly spaced?  If I apply sqrt(24) for hourly
data but I only have 8 hours of data (for instance), my calculation
will be way off.

Thanks,
Shane


From davidr at rhotrading.com  Fri Oct 10 22:51:46 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Fri, 10 Oct 2008 15:51:46 -0500
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>
References: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>

You basically said it: scale by the 'activity'.
If you are measuring activity for 8 hours and that is your day, 
then sigma{1 hour} * sqrt(8) is your daily vol,
assuming lots of untrue things, of course ;-)

-- David

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane
Conway
Sent: Friday, October 10, 2008 3:41 PM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time
series?

I'm working with intraday FX price data (primarily hourly bars).  I
want to scale my volatility calculations up to the daily level.
Ordinarily I would us the square-root-of-time rule and multiple by the
sqrt(T).

The question is: how do people deal with this scaling factor when the
time series is irregularly spaced?  If I apply sqrt(24) for hourly
data but I only have 8 hours of data (for instance), my calculation
will be way off.

Thanks,
Shane

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From markleeds at verizon.net  Fri Oct 10 22:50:20 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Fri, 10 Oct 2008 15:50:20 -0500 (CDT)
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
Message-ID: <20230443.9483381223671820431.JavaMail.javamailuser@localhost>

the square root of time thing you use is valid even if you just 
calculated the sharp ratio over one's hours worth of data,
as long as you willing to make the assumptions it's making.

that  thing is is taking a hourly  variance estimate  and then assuming 
that the variances are independent, adding them up over 24 hours to make 
a daily estimate, and then taking the square root to get the daily 
standard deviation. so, it doesn't matter how many
hours of data you have as long as you are calculating an hourly 
volatility estimate based on that data. whether the independence
assumption holds is a totally different story.




On Fri, Oct 10, 2008 at  4:40 PM, Shane Conway wrote:

> I'm working with intraday FX price data (primarily hourly bars).  I
> want to scale my volatility calculations up to the daily level.
> Ordinarily I would us the square-root-of-time rule and multiple by the
> sqrt(T).
>
> The question is: how do people deal with this scaling factor when the
> time series is irregularly spaced?  If I apply sqrt(24) for hourly
> data but I only have 8 hours of data (for instance), my calculation
> will be way off.
>
> Thanks,
> Shane
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From BChiquoine at tiff.org  Fri Oct 10 23:06:37 2008
From: BChiquoine at tiff.org (Chiquoine, Ben)
Date: Fri, 10 Oct 2008 17:06:37 -0400
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>
References: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>
Message-ID: <AC36F1084FDE8E4CAFD5CF2409F051D5A73B15@vsw3exch2.tiff.local>

I believe Davids suggestion is correct if your 8 hours are consecutive.
This may be pointing out the obvious but if your observations are
unevenly separated throughout the day your return series will not be
hourly and if there is mean reversion or momentum (evidence of both have
been found in fx data depending on the frequency of observation) your
results will be biased.  Unfortunately I don't have a better way for you
to approach the problem this is just a heads up

Good luck,

Ben
  
-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
davidr at rhotrading.com
Sent: Friday, October 10, 2008 4:52 PM
To: Shane Conway; r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time
series?

You basically said it: scale by the 'activity'.
If you are measuring activity for 8 hours and that is your day, 
then sigma{1 hour} * sqrt(8) is your daily vol,
assuming lots of untrue things, of course ;-)

-- David

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane
Conway
Sent: Friday, October 10, 2008 3:41 PM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time
series?

I'm working with intraday FX price data (primarily hourly bars).  I
want to scale my volatility calculations up to the daily level.
Ordinarily I would us the square-root-of-time rule and multiple by the
sqrt(T).

The question is: how do people deal with this scaling factor when the
time series is irregularly spaced?  If I apply sqrt(24) for hourly
data but I only have 8 hours of data (for instance), my calculation
will be way off.

Thanks,
Shane

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.
___________________________________________
This message and any attached documents contain
information which may be confidential, subject to 
privilege or exempt from disclosure under applicable
law. These materials are solely for the use of the 
intended recipient. If you are not the intended 
recipient of this transmission, you are hereby 
notified that any distribution, disclosure, printing, 
copying, storage, modification or the taking of any
action in reliance upon this transmission is strictly
prohibited. Delivery of this message to any person
other than the intended recipient shall not
compromise or waive such confidentiality, privilege
or exemption from disclosure as to this 
communication. 

If you have received this communication in error, 
please notify the sender immediately and delete
this message from your system. 



From shane.conway at gmail.com  Fri Oct 10 23:16:20 2008
From: shane.conway at gmail.com (Shane Conway)
Date: Fri, 10 Oct 2008 17:16:20 -0400
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <AC36F1084FDE8E4CAFD5CF2409F051D5A73B15@vsw3exch2.tiff.local>
References: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>
	<F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>
	<AC36F1084FDE8E4CAFD5CF2409F051D5A73B15@vsw3exch2.tiff.local>
Message-ID: <dd3243090810101416pb065eefxb99dcfef1fa8a6be@mail.gmail.com>

Thanks!

That's my problem: I can't rely on the observations being evenly
spaced (hence my reference to "irregularly spaced").  Do most people
interpolate their data so that it's regularly spaced first, and if so,
won't that also bias the calculation?

Any suggestions for how to produce a daily volatility calculation
using an irregularly spaced intraday time series?  I'm not married to
using the square-root rule if there's a better alternative...


On Fri, Oct 10, 2008 at 5:06 PM, Chiquoine, Ben <BChiquoine at tiff.org> wrote:
> I believe Davids suggestion is correct if your 8 hours are consecutive.
> This may be pointing out the obvious but if your observations are
> unevenly separated throughout the day your return series will not be
> hourly and if there is mean reversion or momentum (evidence of both have
> been found in fx data depending on the frequency of observation) your
> results will be biased.  Unfortunately I don't have a better way for you
> to approach the problem this is just a heads up
>
> Good luck,
>
> Ben
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
> davidr at rhotrading.com
> Sent: Friday, October 10, 2008 4:52 PM
> To: Shane Conway; r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time
> series?
>
> You basically said it: scale by the 'activity'.
> If you are measuring activity for 8 hours and that is your day,
> then sigma{1 hour} * sqrt(8) is your daily vol,
> assuming lots of untrue things, of course ;-)
>
> -- David
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane
> Conway
> Sent: Friday, October 10, 2008 3:41 PM
> To: r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time
> series?
>
> I'm working with intraday FX price data (primarily hourly bars).  I
> want to scale my volatility calculations up to the daily level.
> Ordinarily I would us the square-root-of-time rule and multiple by the
> sqrt(T).
>
> The question is: how do people deal with this scaling factor when the
> time series is irregularly spaced?  If I apply sqrt(24) for hourly
> data but I only have 8 hours of data (for instance), my calculation
> will be way off.
>
> Thanks,
> Shane
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to
> privilege or exempt from disclosure under applicable
> law. These materials are solely for the use of the
> intended recipient. If you are not the intended
> recipient of this transmission, you are hereby
> notified that any distribution, disclosure, printing,
> copying, storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this
> communication.
>
> If you have received this communication in error,
> please notify the sender immediately and delete
> this message from your system.
>
>


From brian at braverock.com  Fri Oct 10 23:28:45 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 10 Oct 2008 16:28:45 -0500
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <dd3243090810101416pb065eefxb99dcfef1fa8a6be@mail.gmail.com>
References: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>	<F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>	<AC36F1084FDE8E4CAFD5CF2409F051D5A73B15@vsw3exch2.tiff.local>
	<dd3243090810101416pb065eefxb99dcfef1fa8a6be@mail.gmail.com>
Message-ID: <48EFC90D.4060401@braverock.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081010/3c00fd88/attachment.pl>

From markleeds at verizon.net  Fri Oct 10 23:46:41 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Fri, 10 Oct 2008 16:46:41 -0500 (CDT)
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
Message-ID: <6605806.9608121223675201459.JavaMail.javamailuser@localhost>

  based on what i've been seeing, i totally misunderstood your question. 
i thought you had an hourly estimate based on
8 hours and wanted to get a daily estimate. my bad. it should teach me 
to keep my mouth shut.



On Fri, Oct 10, 2008 at  5:16 PM, Shane Conway wrote:

> Thanks!
>
> That's my problem: I can't rely on the observations being evenly
> spaced (hence my reference to "irregularly spaced").  Do most people
> interpolate their data so that it's regularly spaced first, and if so,
> won't that also bias the calculation?
>
> Any suggestions for how to produce a daily volatility calculation
> using an irregularly spaced intraday time series?  I'm not married to
> using the square-root rule if there's a better alternative...
>
>
> On Fri, Oct 10, 2008 at 5:06 PM, Chiquoine, Ben <BChiquoine at tiff.org> 
> wrote:
>> I believe Davids suggestion is correct if your 8 hours are 
>> consecutive.
>> This may be pointing out the obvious but if your observations are
>> unevenly separated throughout the day your return series will not be
>> hourly and if there is mean reversion or momentum (evidence of both 
>> have
>> been found in fx data depending on the frequency of observation) your
>> results will be biased.  Unfortunately I don't have a better way for 
>> you
>> to approach the problem this is just a heads up
>>
>> Good luck,
>>
>> Ben
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
>> davidr at rhotrading.com
>> Sent: Friday, October 10, 2008 4:52 PM
>> To: Shane Conway; r-sig-finance at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time
>> series?
>>
>> You basically said it: scale by the 'activity'.
>> If you are measuring activity for 8 hours and that is your day,
>> then sigma{1 hour} * sqrt(8) is your daily vol,
>> assuming lots of untrue things, of course ;-)
>>
>> -- David
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane
>> Conway
>> Sent: Friday, October 10, 2008 3:41 PM
>> To: r-sig-finance at stat.math.ethz.ch
>> Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time
>> series?
>>
>> I'm working with intraday FX price data (primarily hourly bars).  I
>> want to scale my volatility calculations up to the daily level.
>> Ordinarily I would us the square-root-of-time rule and multiple by 
>> the
>> sqrt(T).
>>
>> The question is: how do people deal with this scaling factor when the
>> time series is irregularly spaced?  If I apply sqrt(24) for hourly
>> data but I only have 8 hours of data (for instance), my calculation
>> will be way off.
>>
>> Thanks,
>> Shane
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>> ___________________________________________
>> This message and any attached documents contain
>> information which may be confidential, subject to
>> privilege or exempt from disclosure under applicable
>> law. These materials are solely for the use of the
>> intended recipient. If you are not the intended
>> recipient of this transmission, you are hereby
>> notified that any distribution, disclosure, printing,
>> copying, storage, modification or the taking of any
>> action in reliance upon this transmission is strictly
>> prohibited. Delivery of this message to any person
>> other than the intended recipient shall not
>> compromise or waive such confidentiality, privilege
>> or exemption from disclosure as to this
>> communication.
>>
>> If you have received this communication in error,
>> please notify the sender immediately and delete
>> this message from your system.
>>
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From michael.sankowski at gmail.com  Fri Oct 10 23:53:59 2008
From: michael.sankowski at gmail.com (michael.sankowski at gmail.com)
Date: Fri, 10 Oct 2008 21:53:59 +0000
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <48EFC90D.4060401@braverock.com>
References: <dd3243090810101340m5e70d3c6k6c58e2e5117d42b8@mail.gmail.com>	<F9F2A641C593D7408925574C05A7BE77018CB608@rhopost.rhotrading.com>	<AC36F1084FDE8E4CAFD5CF2409F051D5A73B15@vsw3exch2.tiff.local><dd3243090810101416pb065eefxb99dcfef1fa8a6be@mail.gmail.com><48EFC90D.4060401@braverock.com>
Message-ID: <200167166-1223675598-cardhu_decombobulator_blackberry.rim.net-1866568977-@bxe317.bisx.prod.on.blackberry>

Also be aware that while the square of time may hold, you need to start thinking about the whole day once you go to sub daily intervals. 

Should you include the time from 5pm to the open of the asian markets?  If you do your result will be artifically low. If not you will exclude data that could be informative. 
Sent via BlackBerry from T-Mobile

-----Original Message-----
From: "Brian G. Peterson" <brian at braverock.com>

Date: Fri, 10 Oct 2008 16:28:45 
To: Shane Conway<shane.conway at gmail.com>
Cc: <r-sig-finance at stat.math.ethz.ch>; Chiquoine, Ben<BChiquoine at tiff.org>
Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time series?


Eric Zivot has previously posted some research to this list about 
intraday implied and realized volatility.  Scaling volatility using the 
square root of time rule assumes independent observations, something 
which is often not true on shorter time spans.

As for your question on irregularly spaced data, yes, in most cases, 
some method of regularizing the data is used to create a regular series 
to do other scaling calculations on.  While this can introduce problems, 
as long as you're aware of things like day/week boundaries, then you're 
usually OK. 

I definitely suggest that you take a look at some of Eric's earlier 
posts on this topic, and maybe some of the other literature on intraday 
volatility.

Regards,

   - Brian

--
http://braverock.com/brian
Ph: 773-459-4973
IM: bgpbraverock


Shane Conway wrote:
> Thanks!
>
> That's my problem: I can't rely on the observations being evenly
> spaced (hence my reference to "irregularly spaced").  Do most people
> interpolate their data so that it's regularly spaced first, and if so,
> won't that also bias the calculation?
>
> Any suggestions for how to produce a daily volatility calculation
> using an irregularly spaced intraday time series?  I'm not married to
> using the square-root rule if there's a better alternative...
>
>
> On Fri, Oct 10, 2008 at 5:06 PM, Chiquoine, Ben <BChiquoine at tiff.org> wrote:
>   
>> I believe Davids suggestion is correct if your 8 hours are consecutive.
>> This may be pointing out the obvious but if your observations are
>> unevenly separated throughout the day your return series will not be
>> hourly and if there is mean reversion or momentum (evidence of both have
>> been found in fx data depending on the frequency of observation) your
>> results will be biased.  Unfortunately I don't have a better way for you
>> to approach the problem this is just a heads up
>>
>> Good luck,
>>
>> Ben
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
>> davidr at rhotrading.com
>> Sent: Friday, October 10, 2008 4:52 PM
>> To: Shane Conway; r-sig-finance at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time
>> series?
>>
>> You basically said it: scale by the 'activity'.
>> If you are measuring activity for 8 hours and that is your day,
>> then sigma{1 hour} * sqrt(8) is your daily vol,
>> assuming lots of untrue things, of course ;-)
>>
>> -- David
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane
>> Conway
>> Sent: Friday, October 10, 2008 3:41 PM
>> To: r-sig-finance at stat.math.ethz.ch
>> Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time
>> series?
>>
>> I'm working with intraday FX price data (primarily hourly bars).  I
>> want to scale my volatility calculations up to the daily level.
>> Ordinarily I would us the square-root-of-time rule and multiple by the
>> sqrt(T).
>>
>> The question is: how do people deal with this scaling factor when the
>> time series is irregularly spaced?  If I apply sqrt(24) for hourly
>> data but I only have 8 hours of data (for instance), my calculation
>> will be way off.
>>
>> Thanks,
>> Shane
>>     


	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

From ezivot at u.washington.edu  Fri Oct 10 23:54:58 2008
From: ezivot at u.washington.edu (Eric Zivot)
Date: Fri, 10 Oct 2008 14:54:58 -0700
Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time series?
In-Reply-To: <dd3243090810101416pb065eefxb99dcfef1fa8a6be@mail.gmail.com>
Message-ID: <200810102154.m9ALsxEs010636@smtp.washington.edu>

There is ia huge literature on calculating daily volatility using
irregularly spaced intra-day data. This literature is called "realized
variance". Go to Neil Shephard's website at Oxford and you can learn all
about it. I have some introductory lectures on this subject on my website

http://faculty.washington.edu/ezivot/econ512/econ512.htm

Typically, people align intra-day data to a regular time clock (e.g every 5
seconds or every 15 seconds) prior to analysis. This simplifies calculations
and using irregularly spaced data does not necessarily better results. To
get good results you should use kernel type estimators or use subsampling
techniques. My former Phd student Scott Payseur has implemented most of
realized variance techniques in his realized package on CRAN.


-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane Conway
Sent: Friday, October 10, 2008 2:16 PM
To: Chiquoine, Ben
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time
series?

Thanks!

That's my problem: I can't rely on the observations being evenly spaced
(hence my reference to "irregularly spaced").  Do most people interpolate
their data so that it's regularly spaced first, and if so, won't that also
bias the calculation?

Any suggestions for how to produce a daily volatility calculation using an
irregularly spaced intraday time series?  I'm not married to using the
square-root rule if there's a better alternative...


On Fri, Oct 10, 2008 at 5:06 PM, Chiquoine, Ben <BChiquoine at tiff.org> wrote:
> I believe Davids suggestion is correct if your 8 hours are consecutive.
> This may be pointing out the obvious but if your observations are 
> unevenly separated throughout the day your return series will not be 
> hourly and if there is mean reversion or momentum (evidence of both 
> have been found in fx data depending on the frequency of observation) 
> your results will be biased.  Unfortunately I don't have a better way 
> for you to approach the problem this is just a heads up
>
> Good luck,
>
> Ben
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of 
> davidr at rhotrading.com
> Sent: Friday, October 10, 2008 4:52 PM
> To: Shane Conway; r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] Scaling risk for irregularly spaced time 
> series?
>
> You basically said it: scale by the 'activity'.
> If you are measuring activity for 8 hours and that is your day, then 
> sigma{1 hour} * sqrt(8) is your daily vol, assuming lots of untrue 
> things, of course ;-)
>
> -- David
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Shane 
> Conway
> Sent: Friday, October 10, 2008 3:41 PM
> To: r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] Scaling risk for irregularly spaced time 
> series?
>
> I'm working with intraday FX price data (primarily hourly bars).  I 
> want to scale my volatility calculations up to the daily level.
> Ordinarily I would us the square-root-of-time rule and multiple by the 
> sqrt(T).
>
> The question is: how do people deal with this scaling factor when the 
> time series is irregularly spaced?  If I apply sqrt(24) for hourly 
> data but I only have 8 hours of data (for instance), my calculation 
> will be way off.
>
> Thanks,
> Shane
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> ___________________________________________
> This message and any attached documents contain information which may 
> be confidential, subject to privilege or exempt from disclosure under 
> applicable law. These materials are solely for the use of the intended 
> recipient. If you are not the intended recipient of this transmission, 
> you are hereby notified that any distribution, disclosure, printing, 
> copying, storage, modification or the taking of any action in reliance 
> upon this transmission is strictly prohibited. Delivery of this 
> message to any person other than the intended recipient shall not 
> compromise or waive such confidentiality, privilege or exemption from 
> disclosure as to this communication.
>
> If you have received this communication in error, please notify the 
> sender immediately and delete this message from your system.
>
>

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From wojciech.slusarski at gmail.com  Sat Oct 11 11:26:06 2008
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Sat, 11 Oct 2008 11:26:06 +0200
Subject: [R-SIG-Finance] Hull-White model calibration for Monte Carlo
In-Reply-To: <E4259A82356E7F46B4F911FB27B0D72512BBBFA2EB@AUSP01VMBX02.collaborationhost.net>
References: <5e64e5be0810100104m7d25c75bhd40f85a2f436bf66@mail.gmail.com>
	<E4259A82356E7F46B4F911FB27B0D72512BBBFA2EB@AUSP01VMBX02.collaborationhost.net>
Message-ID: <5e64e5be0810110226o22436e29n9398ea73a3c74a70@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081011/6247d97d/attachment.pl>

From brian at braverock.com  Sun Oct 12 15:49:46 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 12 Oct 2008 08:49:46 -0500
Subject: [R-SIG-Finance] PerformanceAnalytics v0.9.7.1 released
Message-ID: <48F2007A.2030003@braverock.com>

As I promised in the last release announcement,
we are pleased to announce the availability on CRAN
of PerformanceAnalytics version 0.9.7.1. 

This version contains three minor bugfixes
received after 0.9.7 had been sent to CRAN, and some
documentation updates.

Version: 0.9.7.1
Date: 2008-10-10
License: GPL
Copyright: (c) 2004-2008 Brian G. Peterson and Peter Carl
URL: http://cran.r-project.org/web/packages/PerformanceAnalytics/index.html
URL: http://braverock.com/R/

PerformanceAnalytics is a library of econometric functions for
performance and risk analysis of financial portfolios. This
library aims to aid practitioners and researchers in using the
latest research in analysis of both normal and non-normal return
streams.

This release (along with v0.9.7) adds 39 new public functions,
an example dataset, and utilizes R's namespace capability.

New Functionality:

    Risk functionality

        We have extended the risk metrics provided by
        Performanceanalytics to include multivariate portfolio measures
        of Gaussian and Cornish fisher VaR and Expected Shortfall.

        Functions:
        * GES.MM
        * GVaR.MM
        * mES.MM
        * mVaR.MM

    Modified Sharpe Ratios

        Earlier versions of PerformanceAnalytics contained the modified
        Sharpe Ration based on the Cornish fisher expansion.  we have
        added additional modified Sharpe ratios to calculate portfolio
        ratios for both Gaussian and modified Cornish Fisher Var and
        Expected Shortfall of the multivariate portfolio distribution.
        Functions:
        * SR.GES.MM
        * SR.GVaR.MM
        * SR.mES.MM
        * SR.mVaR.MM
        * SR.StdDev.MM

        TODO: need to wrap the SharpeRatio function to take a "method"
        argument and return one or all.

    Style Analysis

        We are happy to announce that style analysis, long a goal of this
        package, has made significant progress in this release, with the
        addition of four new functions.

        These functions calculate style weights using an asset class
        style model as described in detail in Sharpe (1992).  The use of
        quadratic programming to determine a fund's exposures to the
        changes in returns of major asset classes is usually referred to
        as "style analysis".

        Functions:
        * chart.RollingStyle
               calculates and displays those weights in
               rolling windows through time.
        * chart.Style
               calculates and displays style weights calculated
               over a single period.
        * style.fit
               manages the calculation of the factor weights by method
        * style.QPfit
               calculates the specific constraint case that requires 
quadratic programming

    Charts
        We've added three new graph functions in this release:

        chart.VaRSensitivity
            Creates a chart of Value-at-Risk estimates by confidence 
interval
            for multiple methods. Possibly useful for comparing a calculated
            VaR method to the historical VaR.

        chart.SnailTrail
            A scatter chart that shows how rolling calculations of 
annualized
            return and annualized standard deviation have proceeded through
            time.  The color of lines and dots on the chart diminishes with
            respect to time. May be helpful for showing the trend of the
            return/risk characteristics of the fund over time.

        chart.StackedBar
            This creates a stacked column chart with time on the horizontal
            axis and values in categories.  This kind of chart is commonly
            used for showing portfolio 'weights' through time, although the
            function will plot any values by category.  This is a primitive
            function and is expected to improve.

    Moments of a distribution

        We have added several functions to calculate standardized moments
        and multivariate moments of an asset or multivariate portfolio
        distribution.  When working with multivariate series, the joint
        distribution of the returns is to be preferred over the simple
        univariate distribution of the resulting return vector of a
        portfolio.  Once the multivariate moments are available, it is
        possible to compute the comoments, comoment matrices, and beta or
        systematic comoments.

        skewness
        kurtosis
        skewness.MM
        kurtosis.MM
            We've ported and reimplemented skewness and kurtosis from
            Rmetrics to allow for additional data classes as well as
            multivariate series.

        StdDev.MM
        multivariate_mean
        Return.centered
        M3.MM
        M4.MM
            We've additionally implemented the multivariate moment
            calculations for the first two portfolio moments (mean and
            standard deviation) as well as the third and forth mathematical
            moments.

        CoVariance
        CoKurtosis
        CoSkewness
            Calculates the covariance, coskewness. or cokurtosis of one 
asset
            with relation to another (scalar measure) utilizing the
            standardized central mathematical moments of the distribution.

        CoKurtosisMatrix
        CoSkewnessMatrix
            Calculates the N x N^2 co-moment matrix of assets to one 
another,
            can be utilized in a portfolio context.  This is a complete
            reimplementation of the prior functions in PerformanceAnalytics
            to calculate moments, and has been validated by our research 
work
            as superior to the prior implementation.

        centeredmoment
        centeredcomoment
            Used internally by PerformanceAnalytics to calculate centered
            moments for a multivariate distribution as well as the
            standardized moments of a portfolio distribution.  They are
            exposed here for users who wish to use them directly

        BetaCoVariance
        BetaCoSkewness
        BetaCoKurtosis
            Calculates the systematic or beta comoment of two assets or an
            asset versus a portfolio. used to assess diversification
            potential in a portfolio, or in multivariate multimoment
            portfolio optimization.

    Robust Data Cleaning

        We have added the robust data cleaning functions we've used in our
        upcoming JoR and RISK papers to clean the return series prior to
        calculating multivariate moments and the corresponding risk 
measures.
        The method implemented here reduces sensitivity to large 
outliers while
        not "ignoring" or "throwing away" any data, and not touching any 
data
        below the specified confidence interval.  Khan(2007) calls the 
technique
        utilized in the limiting procedure ``multivariate Winsorization'.

        Functions:
        Return.clean
        clean.boudt

Significant Changes to existing functions:

    chart.BarVaR
        * Incorporates 'Return.clean' methods for using cleaning methods
          when charting forecasted VaR values.  
        * Handles multiple columns OR multiple VaR calculation methods
        * Can show cleaned returns overlaid on original data
        * Added horizontal line to show exceedences to most recent risk
          estimate

    Co-moments and Beta/Systematic Co-moments have been completely
    reimplemented, and are discussed above.

As always, we are indebted to the R-SIG-Finance community for your
testing, suggestions, and support.

We hope that you find this package useful.  

Please let us know how you are using it, it helps motivate us to keep 
releasing code.

Regards,

   - Brian

--
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

If you've read this far, I'll note that one of us (Brian) is currently
seeking a new permanent position.

If you find PerformanceAnalytics and R useful in your work, and need a
senior quant, risk analyst, and technical architect on your team, please
give me a call.


From gordon.morrison at hsbcib.com  Tue Oct 14 12:40:45 2008
From: gordon.morrison at hsbcib.com (gordon.morrison at hsbcib.com)
Date: Tue, 14 Oct 2008 11:40:45 +0100
Subject: [R-SIG-Finance] Open source in finance (was: RE: Career/Educational
	Advice - First Post)
Message-ID: <OFFD057D83.04AEF648-ON802574E2.003A33A8-802574E2.003AA949@hsbcib.com>


"The Subprime Crisis and the Outsourcing of Financial Regulation to
Financial Institution Risk Models: Code, Crash, and Open Source"



Here is a different (and interesting) slant on using Open Source in Finance
- not from an IT, front office or regulators viewpoint, but a lawyer!

      http://papers.ssrn.com/sol3/papers.cfm?abstract_id=1273467

Gordon

************************************************************
HSBC Bank plc may be solicited in the course of its placement efforts for a
new issue, by investment clients of the firm for whom the Bank as a firm
already provides other services. It may equally decide to allocate to its
own proprietary book or with an associate of HSBC Group. This represents a
potential conflict of interest. HSBC Bank plc has internal arrangements
designed to ensure that the firm would give unbiased and full advice to the
corporate finance client about the valuation and pricing of the offering as
well as internal systems, controls and procedures to identify and manage
conflicts of interest.

HSBC Bank plc
Registered Office: 8 Canada Square, London E14 5HQ, United Kingdom
Registered in England - Number 14259
Authorised and regulated by the Financial Services Authority.
************************************************************


************************************************************
HSBC Bank plc may be solicited in the course of its placement efforts for a
new issue, by investment clients of the firm for whom the Bank as a firm
already provides other services. It may equally decide to allocate to its
own proprietary book or with an associate of HSBC Group. This represents a
potential conflict of interest. HSBC Bank plc has internal arrangements
designed to ensure that the firm would give unbiased and full advice to the
corporate finance client about the valuation and pricing of the offering as
well as internal systems, controls and procedures to identify and manage
conflicts of interest.

HSBC Bank plc
Registered Office: 8 Canada Square, London E14 5HQ, United Kingdom
Registered in England - Number 14259
Authorised and regulated by the Financial Services Authority.
************************************************************


-----------------------------------------
SAVE PAPER - THINK BEFORE YOU PRINT!

This transmission has been issued by a member of the HSBC Group
"HSBC" for the information of the addressee only and should not be
reproduced and/or distributed to any other person. Each page
attached hereto must be read in conjunction with any disclaimer
which forms part of it. Unless otherwise stated, this transmission
is neither an offer nor the solicitation of an offer to sell or
purchase any investment. Its contents are based on information
obtained from sources believed to be reliable but HSBC makes no
representation and accepts no responsibility or liability as to its
completeness or accuracy.


From mnevill at exitcheck.net  Tue Oct 14 20:18:38 2008
From: mnevill at exitcheck.net (Max)
Date: Tue, 14 Oct 2008 11:18:38 -0700
Subject: [R-SIG-Finance] labour statistics
Message-ID: <mn.72a67d8a96bb481e.83239@exitcheck.net>

Hi everyone,

This is not so much of an R question as a statistics question. I 
currently work for the largest pre employment screening company in 
Canada. Upper management has noticed that noticed that usually a month 
or so before any big kind of economic shock happens, that our incoming 
files (requests for a background check) jump up or down.

As the company statistician, they've asked me to see if the 
relationship is strong enough to put together a product that can be 
sold to any kind of firm or organization (brokerages or any kind of 
investing firm, federal ministry of finance, statistics canada (like 
the bureau of stats in the USA), universities etc) that would be 
interested in knowing what's going on with the federal labour 
statistics before Stats Canada does.

In Canada on the 10th of every month, statistics canada releases labour 
statistics for the previous month. The way CFO sees it, *ideally* on 
the (1st to 10th, something like that) every month, the firm I work for 
could be releasing data for the rest of the month.

What I'm trying to figure out is if you were in the position of 
evaluating the final product for purchase, what kind of information 
would make the product credible/viable? Summary statistics? Variance 
covariance matrices? Graphs of the data? Cross Correlation matrices for 
time series analysis?

It's frustrating because I can see a noticeable relationship between 
our file volume and the unemployment rate (in particular,) but I'm not 
sure how to appropriately frame it in a way that another 
statistician/modeler would want the data.

Any suggestions, comments, questions would be great.

thanks!

-Max


From ajayshah at mayin.org  Tue Oct 14 21:09:07 2008
From: ajayshah at mayin.org (Ajay Shah)
Date: Wed, 15 Oct 2008 00:39:07 +0530
Subject: [R-SIG-Finance] labour statistics
In-Reply-To: <mn.72a67d8a96bb481e.83239@exitcheck.net>
References: <mn.72a67d8a96bb481e.83239@exitcheck.net>
Message-ID: <20081014190907.GZ678@lubyanka.local>

> It's frustrating because I can see a noticeable relationship between 
> our file volume and the unemployment rate (in particular,) but I'm not 
> sure how to appropriately frame it in a way that another 
> statistician/modeler would want the data.

If you will put a good dataset about this together, release it, and
talk about it on this list, some of the brainpower on this list will
do something cool for you (and get a journal pub in the process). :-)

-- 
Ajay Shah                                      http://www.mayin.org/ajayshah  
ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
<*(:-? - wizard who doesn't know the answer.


From adrian_d at eskimo.com  Tue Oct 14 21:19:59 2008
From: adrian_d at eskimo.com (Adrian Dragulescu)
Date: Tue, 14 Oct 2008 12:19:59 -0700 (PDT)
Subject: [R-SIG-Finance] labour statistics
In-Reply-To: <mn.72a67d8a96bb481e.83239@exitcheck.net>
References: <mn.72a67d8a96bb481e.83239@exitcheck.net>
Message-ID: <Pine.SUN.4.58.0810141213500.25314@eskimo.com>


I suggest you create an index that corresponds to your file volume so
your hypothesis can be explored.  Once you have it, share the two
historical time series with the list.  People will then be able to give
you better guidance.

Adrian Dragulescu



On Tue, 14 Oct 2008, Max wrote:

> Hi everyone,
>
> This is not so much of an R question as a statistics question. I
> currently work for the largest pre employment screening company in
> Canada. Upper management has noticed that noticed that usually a month
> or so before any big kind of economic shock happens, that our incoming
> files (requests for a background check) jump up or down.
>
> As the company statistician, they've asked me to see if the
> relationship is strong enough to put together a product that can be
> sold to any kind of firm or organization (brokerages or any kind of
> investing firm, federal ministry of finance, statistics canada (like
> the bureau of stats in the USA), universities etc) that would be
> interested in knowing what's going on with the federal labour
> statistics before Stats Canada does.
>
> In Canada on the 10th of every month, statistics canada releases labour
> statistics for the previous month. The way CFO sees it, *ideally* on
> the (1st to 10th, something like that) every month, the firm I work for
> could be releasing data for the rest of the month.
>
> What I'm trying to figure out is if you were in the position of
> evaluating the final product for purchase, what kind of information
> would make the product credible/viable? Summary statistics? Variance
> covariance matrices? Graphs of the data? Cross Correlation matrices for
> time series analysis?
>
> It's frustrating because I can see a noticeable relationship between
> our file volume and the unemployment rate (in particular,) but I'm not
> sure how to appropriately frame it in a way that another
> statistician/modeler would want the data.
>
> Any suggestions, comments, questions would be great.
>
> thanks!
>
> -Max
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From BChiquoine at tiff.org  Thu Oct 16 16:16:30 2008
From: BChiquoine at tiff.org (Chiquoine, Ben)
Date: Thu, 16 Oct 2008 10:16:30 -0400
Subject: [R-SIG-Finance] Value of liquidity
Message-ID: <AC36F1084FDE8E4CAFD5CF2409F051D5A740AF@vsw3exch2.tiff.local>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081016/2b090c2e/attachment.pl>

From bastian2507hk at yahoo.co.uk  Thu Oct 16 17:30:16 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Thu, 16 Oct 2008 17:30:16 +0200
Subject: [R-SIG-Finance] Value of liquidity
In-Reply-To: <AC36F1084FDE8E4CAFD5CF2409F051D5A740AF@vsw3exch2.tiff.local>
References: <AC36F1084FDE8E4CAFD5CF2409F051D5A740AF@vsw3exch2.tiff.local>
Message-ID: <48F75E08.9020008@yahoo.co.uk>

Chiquoine, Ben schrieb:
> Hi,
>
>  
>
> I am trying to come up with a value for liquidity where I define
> liquidity as the ability to rebalance your portfolio.  My thought at how
> to do this is to start with a set of assets.  Given their expected
> returns, volatilities, and correlations I will pick an efficient
> portfolio.  I will then run a Monte-Carlo simulation using the efficient
> weights, expected returns, vols, and correlations to look at the
> expected distribution of returns.  I will compare this to the return
> distribution from a Monte-Carlo simulation in which my I rebalance my
> portfolio to the efficient weights every year.  Eventually I'd like to
> allow or disallow rebalancing to a select subset of the assets in the
> portfolio (say private equity and absolute return) while rebalancing to
> optimal weights (as much as possible) the remaining assets.  I'm really
> new to Monte-Carlo simulation so my question has three parts.  First, is
> this idea completely crazy?  Second, is their a preexisting R package
> that is designed to be used for portfolio asset allocation?  Third, if
> no package exists to do this what is the data generating process I
> should use to model portfolio returns for a portfolio with multiple,
> correlated, underlying assets?   I hope this is the right forum for this
> and that a similar issue had not already been addressed.  Thanks in
> advance for any suggestions you can provide.
>
>  
>
> Ben
>
>
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to 
> privilege or exempt from disclosure under applicable
> law. These materials are solely for the use of the 
> intended recipient. If you are not the intended 
> recipient of this transmission, you are hereby 
> notified that any distribution, disclosure, printing, 
> copying, storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this 
> communication. 
>
> If you have received this communication in error, 
> please notify the sender immediately and delete
> this message from your system. 
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>   
fPortfolio should be useful for portfolio optimization.


From brian at braverock.com  Thu Oct 16 18:28:53 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 16 Oct 2008 11:28:53 -0500
Subject: [R-SIG-Finance] Value of liquidity
In-Reply-To: <AC36F1084FDE8E4CAFD5CF2409F051D5A740AF@vsw3exch2.tiff.local>
References: <AC36F1084FDE8E4CAFD5CF2409F051D5A740AF@vsw3exch2.tiff.local>
Message-ID: <48F76BC5.9050309@braverock.com>

Chiquoine, Ben wrote:
> I am trying to come up with a value for liquidity where I define
> liquidity as the ability to rebalance your portfolio.  My thought at how
> to do this is to start with a set of assets.  Given their expected
> returns, volatilities, and correlations I will pick an efficient
> portfolio.  I will then run a Monte-Carlo simulation using the efficient
> weights, expected returns, vols, and correlations to look at the
> expected distribution of returns.  I will compare this to the return
> distribution from a Monte-Carlo simulation in which my I rebalance my
> portfolio to the efficient weights every year.  Eventually I'd like to
> allow or disallow rebalancing to a select subset of the assets in the
> portfolio (say private equity and absolute return) while rebalancing to
> optimal weights (as much as possible) the remaining assets.  I'm really
> new to Monte-Carlo simulation so my question has three parts.  First, is
> this idea completely crazy?  Second, is their a preexisting R package
> that is designed to be used for portfolio asset allocation?  Third, if
> no package exists to do this what is the data generating process I
> should use to model portfolio returns for a portfolio with multiple,
> correlated, underlying assets?   I hope this is the right forum for this
> and that a similar issue had not already been addressed.  Thanks in
> advance for any suggestions you can provide.
>   

There are many packages available in R for performing Monte Carlo 
simulation, and many packages for optimization under various 
constraints.  Someone has already suggested that you check out 
fPortfolio, and there are many more.  I suggest that you start with the 
quantitative finance task view on CRAN.

If you want to maximise the help you receive from this list, you will 
need to be a bit more specific in your questioning.  Preferably, share 
code and data and someone here will almost certainly help you make it 
work the way you want.

Regards,

   - Brian


From michael at zak.li  Thu Oct 16 18:39:53 2008
From: michael at zak.li (Michael Zak)
Date: Thu, 16 Oct 2008 18:39:53 +0200
Subject: [R-SIG-Finance] How to scroll in time in a quantmod chart?
Message-ID: <75AC1442-7D81-40BD-ADF4-1A8978886792@zak.li>

Hello

I use charts from the quantmod package and I'm excited! But now I'm  
asking myself, if there is a way to scroll in time if I want to  
display a lot of data (I have data for the last 10 years). Is there a  
option I can do that with quantmod itself or shall I give it try with  
the windows() function from the tkrplot package or is there an other  
solution for that?

Thank you, Michael Zak


From jeff.a.ryan at gmail.com  Thu Oct 16 18:48:19 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 16 Oct 2008 11:48:19 -0500
Subject: [R-SIG-Finance] How to scroll in time in a quantmod chart?
In-Reply-To: <75AC1442-7D81-40BD-ADF4-1A8978886792@zak.li>
References: <75AC1442-7D81-40BD-ADF4-1A8978886792@zak.li>
Message-ID: <e8e755250810160948k2d0097c1i4bbc9ed350f5ed3d@mail.gmail.com>

Hi Michael,

You can't scroll per se, at least not by clicking.

You can however display only subsets of your data, without affecting
any TA additions you have on the charts.

?zoomChart and the 'subset' argument to chartSeries should do it.

library(quantmod)
getSymbols("QQQQ", from='1999-03-10')
periodicity(QQQQ)

chartSeries(QQQQ)  # the whole series
chartSeries(QQQQ, subset='last 6 months')
chartSeries(QQQQ, subset='2007')
chartSeries(QQQQ, subset='2000-01/2000-07-20')

zoomChart()  # full chart again

zoomChart('2006')

You can also change some chart parameters on the fly too:

reChart(type='bars')

You can interactively select time to view with zooom().  Double click
on the chart to go to the full data view.

The 3rd 'o' in 'zooom' is for good luck...and to avoid namespace clashes :)

HTH
Jeff


On Thu, Oct 16, 2008 at 11:39 AM, Michael Zak <michael at zak.li> wrote:
> Hello
>
> I use charts from the quantmod package and I'm excited! But now I'm asking
> myself, if there is a way to scroll in time if I want to display a lot of
> data (I have data for the last 10 years). Is there a option I can do that
> with quantmod itself or shall I give it try with the windows() function from
> the tkrplot package or is there an other solution for that?
>
> Thank you, Michael Zak
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jeff.a.ryan at gmail.com  Thu Oct 16 18:50:17 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 16 Oct 2008 11:50:17 -0500
Subject: [R-SIG-Finance] How to scroll in time in a quantmod chart?
In-Reply-To: <e8e755250810160948k2d0097c1i4bbc9ed350f5ed3d@mail.gmail.com>
References: <75AC1442-7D81-40BD-ADF4-1A8978886792@zak.li>
	<e8e755250810160948k2d0097c1i4bbc9ed350f5ed3d@mail.gmail.com>
Message-ID: <e8e755250810160950x4cdd9ad0rcc9f36d5914a4a4f@mail.gmail.com>

There is an example or two here:

http://www.quantmod.com/examples/charting/

Jeff

On Thu, Oct 16, 2008 at 11:48 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Hi Michael,
>
> You can't scroll per se, at least not by clicking.
>
> You can however display only subsets of your data, without affecting
> any TA additions you have on the charts.
>
> ?zoomChart and the 'subset' argument to chartSeries should do it.
>
> library(quantmod)
> getSymbols("QQQQ", from='1999-03-10')
> periodicity(QQQQ)
>
> chartSeries(QQQQ)  # the whole series
> chartSeries(QQQQ, subset='last 6 months')
> chartSeries(QQQQ, subset='2007')
> chartSeries(QQQQ, subset='2000-01/2000-07-20')
>
> zoomChart()  # full chart again
>
> zoomChart('2006')
>
> You can also change some chart parameters on the fly too:
>
> reChart(type='bars')
>
> You can interactively select time to view with zooom().  Double click
> on the chart to go to the full data view.
>
> The 3rd 'o' in 'zooom' is for good luck...and to avoid namespace clashes :)
>
> HTH
> Jeff
>
>
> On Thu, Oct 16, 2008 at 11:39 AM, Michael Zak <michael at zak.li> wrote:
>> Hello
>>
>> I use charts from the quantmod package and I'm excited! But now I'm asking
>> myself, if there is a way to scroll in time if I want to display a lot of
>> data (I have data for the last 10 years). Is there a option I can do that
>> with quantmod itself or shall I give it try with the windows() function from
>> the tkrplot package or is there an other solution for that?
>>
>> Thank you, Michael Zak
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From michael at zak.li  Thu Oct 16 18:53:23 2008
From: michael at zak.li (Michael Zak)
Date: Thu, 16 Oct 2008 18:53:23 +0200
Subject: [R-SIG-Finance] How to scroll in time in a quantmod chart?
In-Reply-To: <e8e755250810160950x4cdd9ad0rcc9f36d5914a4a4f@mail.gmail.com>
References: <75AC1442-7D81-40BD-ADF4-1A8978886792@zak.li>
	<e8e755250810160948k2d0097c1i4bbc9ed350f5ed3d@mail.gmail.com>
	<e8e755250810160950x4cdd9ad0rcc9f36d5914a4a4f@mail.gmail.com>
Message-ID: <14CA1EB2-EE9C-4813-8480-DF12895C3FE4@zak.li>

So far, this helps very nicely. I'll try it.

Cheerio, Michael

On 16.10.2008, at 18:50, Jeff Ryan wrote:

> There is an example or two here:
>
> http://www.quantmod.com/examples/charting/
>
> Jeff
>
> On Thu, Oct 16, 2008 at 11:48 AM, Jeff Ryan <jeff.a.ryan at gmail.com>  
> wrote:
>> Hi Michael,
>>
>> You can't scroll per se, at least not by clicking.
>>
>> You can however display only subsets of your data, without affecting
>> any TA additions you have on the charts.
>>
>> ?zoomChart and the 'subset' argument to chartSeries should do it.
>>
>> library(quantmod)
>> getSymbols("QQQQ", from='1999-03-10')
>> periodicity(QQQQ)
>>
>> chartSeries(QQQQ)  # the whole series
>> chartSeries(QQQQ, subset='last 6 months')
>> chartSeries(QQQQ, subset='2007')
>> chartSeries(QQQQ, subset='2000-01/2000-07-20')
>>
>> zoomChart()  # full chart again
>>
>> zoomChart('2006')
>>
>> You can also change some chart parameters on the fly too:
>>
>> reChart(type='bars')
>>
>> You can interactively select time to view with zooom().  Double click
>> on the chart to go to the full data view.
>>
>> The 3rd 'o' in 'zooom' is for good luck...and to avoid namespace  
>> clashes :)
>>
>> HTH
>> Jeff
>>
>>
>> On Thu, Oct 16, 2008 at 11:39 AM, Michael Zak <michael at zak.li> wrote:
>>> Hello
>>>
>>> I use charts from the quantmod package and I'm excited! But now  
>>> I'm asking
>>> myself, if there is a way to scroll in time if I want to display a  
>>> lot of
>>> data (I have data for the last 10 years). Is there a option I can  
>>> do that
>>> with quantmod itself or shall I give it try with the windows()  
>>> function from
>>> the tkrplot package or is there an other solution for that?
>>>
>>> Thank you, Michael Zak
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>>
>
>
>
> -- 
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com


From Wayne.W.Jones at shell.com  Thu Oct 16 19:33:35 2008
From: Wayne.W.Jones at shell.com (Wayne.W.Jones at shell.com)
Date: Thu, 16 Oct 2008 19:33:35 +0200
Subject: [R-SIG-Finance] How to scroll in time in a quantmod chart?
In-Reply-To: <14CA1EB2-EE9C-4813-8480-DF12895C3FE4@zak.li>
Message-ID: <8E3590214E4380489D2F8BF129B939F30B7BCD@amsdc1-s-03371.europe.shell.com>

Hi there, 

Another suggestion is the animations package from CRAN. 
This is great for producing a series of plots that you can very easily scroll back and forth through. 
See for example: 

http://animation.yihui.name/da:ts:hans_rosling_s_talk


Another method would be to use the rpanel package to very easily generate tkrplots!

library(rpanel)
help(rp.tkrplot)
help(rp.doublebutton)




-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of Michael Zak
Sent: 16 October 2008 17:53
To: Jeff Ryan
Cc: R-SIG-Finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] How to scroll in time in a quantmod chart?


So far, this helps very nicely. I'll try it.

Cheerio, Michael

On 16.10.2008, at 18:50, Jeff Ryan wrote:

> There is an example or two here:
>
> http://www.quantmod.com/examples/charting/
>
> Jeff
>
> On Thu, Oct 16, 2008 at 11:48 AM, Jeff Ryan <jeff.a.ryan at gmail.com>  
> wrote:
>> Hi Michael,
>>
>> You can't scroll per se, at least not by clicking.
>>
>> You can however display only subsets of your data, without affecting
>> any TA additions you have on the charts.
>>
>> ?zoomChart and the 'subset' argument to chartSeries should do it.
>>
>> library(quantmod)
>> getSymbols("QQQQ", from='1999-03-10')
>> periodicity(QQQQ)
>>
>> chartSeries(QQQQ)  # the whole series
>> chartSeries(QQQQ, subset='last 6 months')
>> chartSeries(QQQQ, subset='2007')
>> chartSeries(QQQQ, subset='2000-01/2000-07-20')
>>
>> zoomChart()  # full chart again
>>
>> zoomChart('2006')
>>
>> You can also change some chart parameters on the fly too:
>>
>> reChart(type='bars')
>>
>> You can interactively select time to view with zooom().  Double click
>> on the chart to go to the full data view.
>>
>> The 3rd 'o' in 'zooom' is for good luck...and to avoid namespace  
>> clashes :)
>>
>> HTH
>> Jeff
>>
>>
>> On Thu, Oct 16, 2008 at 11:39 AM, Michael Zak <michael at zak.li> wrote:
>>> Hello
>>>
>>> I use charts from the quantmod package and I'm excited! But now  
>>> I'm asking
>>> myself, if there is a way to scroll in time if I want to display a  
>>> lot of
>>> data (I have data for the last 10 years). Is there a option I can  
>>> do that
>>> with quantmod itself or shall I give it try with the windows()  
>>> function from
>>> the tkrplot package or is there an other solution for that?
>>>
>>> Thank you, Michael Zak
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>>
>
>
>
> -- 
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From markleeds at verizon.net  Thu Oct 16 20:56:57 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Thu, 16 Oct 2008 13:56:57 -0500 (CDT)
Subject: [R-SIG-Finance] Value of liquidity
Message-ID: <21917938.16764051224183417994.JavaMail.javamailuser@localhost>

  hi: i can't answer your questions below but Markovwtz-Van Dijk  ( 
spelling on Van Djil may be incorrect ) came up with some heuristic a 
few years back for balancing the cost of rebalancing versus the expected 
gain in return  from rebalancing. mark kritzman ( state street ) has a 
powerpoint presentation that gives an overview of the idea ( that's on 
the net. i can find it , if you can't ) but I don't know the title of 
the original paper nor the journal it's in, assuming it was published 
somewhere. if you find it, can you let me know where it is. thanks.








On Thu, Oct 16, 2008 at 10:16 AM, Chiquoine, Ben wrote:

> Hi,
>
>
> I am trying to come up with a value for liquidity where I define
> liquidity as the ability to rebalance your portfolio.  My thought at 
> how
> to do this is to start with a set of assets.  Given their expected
> returns, volatilities, and correlations I will pick an efficient
> portfolio.  I will then run a Monte-Carlo simulation using the 
> efficient
> weights, expected returns, vols, and correlations to look at the
> expected distribution of returns.  I will compare this to the return
> distribution from a Monte-Carlo simulation in which my I rebalance my
> portfolio to the efficient weights every year.  Eventually I'd like to
> allow or disallow rebalancing to a select subset of the assets in the
> portfolio (say private equity and absolute return) while rebalancing 
> to
> optimal weights (as much as possible) the remaining assets.  I'm 
> really
> new to Monte-Carlo simulation so my question has three parts.  First, 
> is
> this idea completely crazy?  Second, is their a preexisting R package
> that is designed to be used for portfolio asset allocation?  Third, if
> no package exists to do this what is the data generating process I
> should use to model portfolio returns for a portfolio with multiple,
> correlated, underlying assets?   I hope this is the right forum for 
> this
> and that a similar issue had not already been addressed.  Thanks in
> advance for any suggestions you can provide.
>
>
> Ben
>
>
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to privilege or exempt 
> from disclosure under applicable
> law. These materials are solely for the use of the intended recipient. 
> If you are not the intended recipient of this transmission, you are 
> hereby notified that any distribution, disclosure, printing, copying, 
> storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this communication.
> If you have received this communication in error, please notify the 
> sender immediately and delete
> this message from your system.
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From BChiquoine at tiff.org  Thu Oct 16 22:28:56 2008
From: BChiquoine at tiff.org (Chiquoine, Ben)
Date: Thu, 16 Oct 2008 16:28:56 -0400
Subject: [R-SIG-Finance] Value of liquidity
In-Reply-To: <21917938.16764051224183417994.JavaMail.javamailuser@localhost>
References: <21917938.16764051224183417994.JavaMail.javamailuser@localhost>
Message-ID: <AC36F1084FDE8E4CAFD5CF2409F051D5A7422F@vsw3exch2.tiff.local>

Thanks for everyone's thoughtful responses.  Mark, I checked out the
paper you referred me to it's a pretty good read and is available on
ssrn title "portfolio rebalancing: a test of the markwiz-van dijk
heuristic".  I am still struggling with the Monte-Carlo simulation so
I'm taking your advice Brian and posting some code.  Maybe someone on
this list can give me some guidance as to where I'm going wrong.  The
reason I think that I'm making a mistake is that the code below
simulates an equally weighted portfolio with three assets.  The problem
is that the average simulated portfolio return is not the same as the
equally weighted return of the underlying assets.  I'm not sure if this
is because I'm misinterpreting the drift term or because there is an
error in my code.  Any guidance would be greatly appreciated.

Thanks,

Ben  

monteCarlo=function(spot,drift,T,nSteps,covmat,nSims=10000){
	##this is an alteration of work done by Kris Kumar
	##spot = Vector of asset prices at t=0
	##drift = Foreign risk - domestic risk for each asset
	##T = total time for monte carlo simulation
	##nSteps = number of steps (This should be more important for
path dependent options
	##covmat= the variance covariance matrix (should be number of
assets squared)
	##nSims = number of monte carlo simulations should use 10,000
according to haug


	nAssets=nrow(covmat)
	path=array(0,c(nSteps,nSims,nAssets))
	deltaT=T/nSteps
	shocks=array(0,c(nSteps+1,nSims,nAssets))
	for(i in 1:nAssets){
		shocks[1,,i]=spot[i]
	}
	muDt=drift*deltaT
	covmat=covmat*deltaT
	
randmat=matrix(rnorm.sobol(nSims,nAssets*nSteps),ncol=nAssets*nSteps)
	cholmat=chol(covmat)
	for(k in 1:nSims){
		randmatt=matrix(randmat[k,],nrow=nSteps,ncol=nAssets)
%*% cholmat
		for(l in 1:nSteps){
			for(m in 1:nAssets){
shocks[l+1,k,m]=shocks[l,k,m]*exp(muDt[m]+randmatt[l,m])
			path[l,k,m]=shocks[l+1,k,m]
			}
		}
	}	
	return(path)
}

###Make up some data for ret std correl
expret=c(.09,.1,.01)
stdev=c(.17,.195,.055)
correlation=matrix(c(1,.8,.5,.8,1,.5,.5,.5,1),nrow=3,ncol=3)
###Calculate covariance matrix	
covmat=matrix(ncol=3,nrow=3)
for(i in 1:nrow(correlation)){
	for(j in 1:ncol(correlation)){
		covmat[i,j]=correlation[i,j]*stdev[i]*stdev[j]
	}
}

price=c(100,100,100)
T=1
nsteps=1
nsims=10000
path=monteCarlo(price,expret,T,nsteps,covmat,nsims)
weights=c(1/3,1/3,1/3)
portPath=path[1,,] %*% weights

averagePortReturn=mean(portPath)
expectedPortReturn=mean(expret)

-----Original Message-----
From: markleeds at verizon.net [mailto:markleeds at verizon.net] 
Sent: Thursday, October 16, 2008 2:57 PM
To: Chiquoine, Ben
Cc: r-sig-finance at stat.math.ethz.ch
Subject: RE: [R-SIG-Finance] Value of liquidity


  hi: i can't answer your questions below but Markovwtz-Van Dijk  ( 
spelling on Van Djil may be incorrect ) came up with some heuristic a 
few years back for balancing the cost of rebalancing versus the expected

gain in return  from rebalancing. mark kritzman ( state street ) has a 
powerpoint presentation that gives an overview of the idea ( that's on 
the net. i can find it , if you can't ) but I don't know the title of 
the original paper nor the journal it's in, assuming it was published 
somewhere. if you find it, can you let me know where it is. thanks.








On Thu, Oct 16, 2008 at 10:16 AM, Chiquoine, Ben wrote:

> Hi,
>
>
> I am trying to come up with a value for liquidity where I define
> liquidity as the ability to rebalance your portfolio.  My thought at 
> how
> to do this is to start with a set of assets.  Given their expected
> returns, volatilities, and correlations I will pick an efficient
> portfolio.  I will then run a Monte-Carlo simulation using the 
> efficient
> weights, expected returns, vols, and correlations to look at the
> expected distribution of returns.  I will compare this to the return
> distribution from a Monte-Carlo simulation in which my I rebalance my
> portfolio to the efficient weights every year.  Eventually I'd like to
> allow or disallow rebalancing to a select subset of the assets in the
> portfolio (say private equity and absolute return) while rebalancing 
> to
> optimal weights (as much as possible) the remaining assets.  I'm 
> really
> new to Monte-Carlo simulation so my question has three parts.  First, 
> is
> this idea completely crazy?  Second, is their a preexisting R package
> that is designed to be used for portfolio asset allocation?  Third, if
> no package exists to do this what is the data generating process I
> should use to model portfolio returns for a portfolio with multiple,
> correlated, underlying assets?   I hope this is the right forum for 
> this
> and that a similar issue had not already been addressed.  Thanks in
> advance for any suggestions you can provide.
>
>
> Ben
>
>
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to privilege or exempt 
> from disclosure under applicable
> law. These materials are solely for the use of the intended recipient.

> If you are not the intended recipient of this transmission, you are 
> hereby notified that any distribution, disclosure, printing, copying, 
> storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this communication.
> If you have received this communication in error, please notify the 
> sender immediately and delete
> this message from your system.
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
___________________________________________
This message and any attached documents contain
information which may be confidential, subject to 
privilege or exempt from disclosure under applicable
law. These materials are solely for the use of the 
intended recipient. If you are not the intended 
recipient of this transmission, you are hereby 
notified that any distribution, disclosure, printing, 
copying, storage, modification or the taking of any
action in reliance upon this transmission is strictly
prohibited. Delivery of this message to any person
other than the intended recipient shall not
compromise or waive such confidentiality, privilege
or exemption from disclosure as to this 
communication. 

If you have received this communication in error, 
please notify the sender immediately and delete
this message from your system. 



From BChiquoine at tiff.org  Fri Oct 17 14:27:15 2008
From: BChiquoine at tiff.org (Chiquoine, Ben)
Date: Fri, 17 Oct 2008 08:27:15 -0400
Subject: [R-SIG-Finance] Value of liquidity
In-Reply-To: <AC36F1084FDE8E4CAFD5CF2409F051D5A7422F@vsw3exch2.tiff.local>
References: <21917938.16764051224183417994.JavaMail.javamailuser@localhost>
	<AC36F1084FDE8E4CAFD5CF2409F051D5A7422F@vsw3exch2.tiff.local>
Message-ID: <AC36F1084FDE8E4CAFD5CF2409F051D5A742BE@vsw3exch2.tiff.local>

I found one mistake in the code below.  I was forgetting to subtract
.5*vol^2 from my drift term.  However the portfolio return and the
expected return still do not match up.  They are off by about 1% and I
would think that running this 10,000 times would get the error down
lower than that.  Also the volatilities of the underlying assets don't
seem to match the vols that I am feeding them. I'm thinking these
problems are related but still can't seem to find what I'm doing wrong.
Please let me know if anyone sees mistakes that I am still making.

Thanks!

Ben

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Chiquoine,
Ben
Sent: Thursday, October 16, 2008 4:29 PM
To: markleeds at verizon.net
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Value of liquidity

Thanks for everyone's thoughtful responses.  Mark, I checked out the
paper you referred me to it's a pretty good read and is available on
ssrn title "portfolio rebalancing: a test of the markwiz-van dijk
heuristic".  I am still struggling with the Monte-Carlo simulation so
I'm taking your advice Brian and posting some code.  Maybe someone on
this list can give me some guidance as to where I'm going wrong.  The
reason I think that I'm making a mistake is that the code below
simulates an equally weighted portfolio with three assets.  The problem
is that the average simulated portfolio return is not the same as the
equally weighted return of the underlying assets.  I'm not sure if this
is because I'm misinterpreting the drift term or because there is an
error in my code.  Any guidance would be greatly appreciated.

Thanks,

Ben  

monteCarlo=function(spot,drift,T,nSteps,covmat,nSims=10000){
	##this is an alteration of work done by Kris Kumar
	##spot = Vector of asset prices at t=0
	##drift = Foreign risk - domestic risk for each asset
	##T = total time for monte carlo simulation
	##nSteps = number of steps (This should be more important for
path dependent options
	##covmat= the variance covariance matrix (should be number of
assets squared)
	##nSims = number of monte carlo simulations should use 10,000
according to haug


	nAssets=nrow(covmat)
	path=array(0,c(nSteps,nSims,nAssets))
	deltaT=T/nSteps
	shocks=array(0,c(nSteps+1,nSims,nAssets))
	for(i in 1:nAssets){
		shocks[1,,i]=spot[i]
	}
	muDt=drift*deltaT
	covmat=covmat*deltaT
	
randmat=matrix(rnorm.sobol(nSims,nAssets*nSteps),ncol=nAssets*nSteps)
	cholmat=chol(covmat)
	for(k in 1:nSims){
		randmatt=matrix(randmat[k,],nrow=nSteps,ncol=nAssets)
%*% cholmat
		for(l in 1:nSteps){
			for(m in 1:nAssets){
shocks[l+1,k,m]=shocks[l,k,m]*exp(muDt[m]+randmatt[l,m])
			path[l,k,m]=shocks[l+1,k,m]
			}
		}
	}	
	return(path)
}

###Make up some data for ret std correl
expret=c(.09,.1,.01)
stdev=c(.17,.195,.055)
expret2=expert-.5*stdev^2
correlation=matrix(c(1,.8,.5,.8,1,.5,.5,.5,1),nrow=3,ncol=3)
###Calculate covariance matrix	
covmat=matrix(ncol=3,nrow=3)
for(i in 1:nrow(correlation)){
	for(j in 1:ncol(correlation)){
		covmat[i,j]=correlation[i,j]*stdev[i]*stdev[j]
	}
}

price=c(100,100,100)
T=1
nsteps=1
nsims=10000
path=monteCarlo(price,expret2,T,nsteps,covmat,nsims)
weights=c(1/3,1/3,1/3)
portPath=path[1,,] %*% weights

averagePortReturn=mean(portPath-100)/100
expectedPortReturn=mean(expret)

-----Original Message-----
From: markleeds at verizon.net [mailto:markleeds at verizon.net] 
Sent: Thursday, October 16, 2008 2:57 PM
To: Chiquoine, Ben
Cc: r-sig-finance at stat.math.ethz.ch
Subject: RE: [R-SIG-Finance] Value of liquidity


  hi: i can't answer your questions below but Markovwtz-Van Dijk  ( 
spelling on Van Djil may be incorrect ) came up with some heuristic a 
few years back for balancing the cost of rebalancing versus the expected

gain in return  from rebalancing. mark kritzman ( state street ) has a 
powerpoint presentation that gives an overview of the idea ( that's on 
the net. i can find it , if you can't ) but I don't know the title of 
the original paper nor the journal it's in, assuming it was published 
somewhere. if you find it, can you let me know where it is. thanks.








On Thu, Oct 16, 2008 at 10:16 AM, Chiquoine, Ben wrote:

> Hi,
>
>
> I am trying to come up with a value for liquidity where I define
> liquidity as the ability to rebalance your portfolio.  My thought at 
> how
> to do this is to start with a set of assets.  Given their expected
> returns, volatilities, and correlations I will pick an efficient
> portfolio.  I will then run a Monte-Carlo simulation using the 
> efficient
> weights, expected returns, vols, and correlations to look at the
> expected distribution of returns.  I will compare this to the return
> distribution from a Monte-Carlo simulation in which my I rebalance my
> portfolio to the efficient weights every year.  Eventually I'd like to
> allow or disallow rebalancing to a select subset of the assets in the
> portfolio (say private equity and absolute return) while rebalancing 
> to
> optimal weights (as much as possible) the remaining assets.  I'm 
> really
> new to Monte-Carlo simulation so my question has three parts.  First, 
> is
> this idea completely crazy?  Second, is their a preexisting R package
> that is designed to be used for portfolio asset allocation?  Third, if
> no package exists to do this what is the data generating process I
> should use to model portfolio returns for a portfolio with multiple,
> correlated, underlying assets?   I hope this is the right forum for 
> this
> and that a similar issue had not already been addressed.  Thanks in
> advance for any suggestions you can provide.
>
>
> Ben
>
>
> ___________________________________________
> This message and any attached documents contain
> information which may be confidential, subject to privilege or exempt 
> from disclosure under applicable
> law. These materials are solely for the use of the intended recipient.

> If you are not the intended recipient of this transmission, you are 
> hereby notified that any distribution, disclosure, printing, copying, 
> storage, modification or the taking of any
> action in reliance upon this transmission is strictly
> prohibited. Delivery of this message to any person
> other than the intended recipient shall not
> compromise or waive such confidentiality, privilege
> or exemption from disclosure as to this communication.
> If you have received this communication in error, please notify the 
> sender immediately and delete
> this message from your system.
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
___________________________________________
This message and any attached documents contain
information which may be confidential, subject to 
privilege or exempt from disclosure under applicable
law. These materials are solely for the use of the 
intended recipient. If you are not the intended 
recipient of this transmission, you are hereby 
notified that any distribution, disclosure, printing, 
copying, storage, modification or the taking of any
action in reliance upon this transmission is strictly
prohibited. Delivery of this message to any person
other than the intended recipient shall not
compromise or waive such confidentiality, privilege
or exemption from disclosure as to this 
communication. 

If you have received this communication in error, 
please notify the sender immediately and delete
this message from your system. 


_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.
___________________________________________
This message and any attached documents contain
information which may be confidential, subject to 
privilege or exempt from disclosure under applicable
law. These materials are solely for the use of the 
intended recipient. If you are not the intended 
recipient of this transmission, you are hereby 
notified that any distribution, disclosure, printing, 
copying, storage, modification or the taking of any
action in reliance upon this transmission is strictly
prohibited. Delivery of this message to any person
other than the intended recipient shall not
compromise or waive such confidentiality, privilege
or exemption from disclosure as to this 
communication. 

If you have received this communication in error, 
please notify the sender immediately and delete
this message from your system. 



From devaneymark at gmail.com  Tue Oct 21 19:44:45 2008
From: devaneymark at gmail.com (Mark Devaney)
Date: Tue, 21 Oct 2008 13:44:45 -0400
Subject: [R-SIG-Finance] Job posting
Message-ID: <a3a5b5340810211044t34c708efvf861edefea077422@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081021/e11191ee/attachment.pl>

From sms.chauhan at mu-sigma.com  Wed Oct 22 15:39:31 2008
From: sms.chauhan at mu-sigma.com (SMS CHAUHAn)
Date: Wed, 22 Oct 2008 19:09:31 +0530
Subject: [R-SIG-Finance] XTS Modification
Message-ID: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081022/988f18aa/attachment.pl>

From jeff.a.ryan at gmail.com  Wed Oct 22 16:09:09 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 22 Oct 2008 09:09:09 -0500
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
Message-ID: <e8e755250810220709g251befb5u5c87947b93f74000@mail.gmail.com>

Try:

write.zoo(IBM, index.name="Date")

?write.zoo

HTH
Jeff

On Wed, Oct 22, 2008 at 8:39 AM, SMS CHAUHAn <sms.chauhan at mu-sigma.com> wrote:
> Hi,
>
> I am a newbie to R.
>
> I am trying to write some stock data to a csv file.
>
> Here is the code.
>
>
>
> <code>
>
> library(xts)
>
> library(Defaults)
>
> library(quantmod)
>
> library(TTR)
>
> getSymbols("IBM")
>
> write.csv(IBM, file="IBM.csv")
>
> </code>
>
>
>
> Later I would use this csv file to write data into an SQL database. Here is
> where I face the problem. In the tool I will be using, column headers have
> to be mapped between csv and SQL fields. In the CSV file I get, the date
> column does not have any column header. There is a workaround to edit the
> csv and add the column header. But can I dynamically add the date id field
> as a regular field in the xts data above before I write it to the csv.
>
>
>
> Thanks,
>
> SMS Chauhan
>
>
> ***********************************************************************
> This e-mail and any files transmitted with it are for the sole use of the intended recipient(s) and may contain confidential and privileged information. If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies and the original message. Any unauthorized review, use, disclosure, dissemination, forwarding, printing or copying of this email or any action taken in reliance on this e-mail is strictly prohibited and may be unlawful.
>
>  The recipient acknowledges that Mu Sigma or its subsidiaries and associated companies (collectively " Mu Sigma Inc), are unable to exercise control or ensure or guarantee the integrity of over the contents of the information contained in e-mail transmissions and further acknowledges that any views expressed in this message are those of the individual sender and no binding nature of the message shall be implied or assumed unless the sender does so expressly with due authority of Mu Sigma. Before opening any attachments please check them for viruses and defects.
>  ***********************************************************************
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From Wayne.W.Jones at shell.com  Wed Oct 22 16:10:24 2008
From: Wayne.W.Jones at shell.com (Wayne.W.Jones at shell.com)
Date: Wed, 22 Oct 2008 16:10:24 +0200
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
Message-ID: <8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>



Another method would be to use the package RODBC.

Wayne




-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of SMS CHAUHAn
Sent: 22 October 2008 14:40
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] XTS Modification


Hi,

I am a newbie to R. 

I am trying to write some stock data to a csv file. 

Here is the code. 

 

<code>

library(xts)

library(Defaults)

library(quantmod)

library(TTR)

getSymbols("IBM") 

write.csv(IBM, file="IBM.csv")

</code>

 

Later I would use this csv file to write data into an SQL database. Here is
where I face the problem. In the tool I will be using, column headers have
to be mapped between csv and SQL fields. In the CSV file I get, the date
column does not have any column header. There is a workaround to edit the
csv and add the column header. But can I dynamically add the date id field
as a regular field in the xts data above before I write it to the csv.

 

Thanks,

SMS Chauhan


***********************************************************************
This e-mail and any files transmitted with it are for the sole use of the intended recipient(s) and may contain confidential and privileged information. If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies and the original message. Any unauthorized review, use, disclosure, dissemination, forwarding, printing or copying of this email or any action taken in reliance on this e-mail is strictly prohibited and may be unlawful. 

 The recipient acknowledges that Mu Sigma or its subsidiaries and associated companies (collectively " Mu Sigma Inc), are unable to exercise control or ensure or guarantee the integrity of over the contents of the information contained in e-mail transmissions and further acknowledges that any views expressed in this message are those of the individual sender and no binding nature of the message shall be implied or assumed unless the sender does so expressly with due authority of Mu Sigma. Before opening any attachments please check them for viruses and defects.
 ***********************************************************************

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From malcolm.croucher at gmail.com  Wed Oct 22 16:31:43 2008
From: malcolm.croucher at gmail.com (malcolm croucher)
Date: Wed, 22 Oct 2008 16:31:43 +0200
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
Message-ID: <386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081022/5de75e88/attachment.pl>

From sms.chauhan at mu-sigma.com  Wed Oct 22 16:44:40 2008
From: sms.chauhan at mu-sigma.com (SMS CHAUHAn)
Date: Wed, 22 Oct 2008 20:14:40 +0530
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <e8e755250810220709g251befb5u5c87947b93f74000@mail.gmail.com>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<e8e755250810220709g251befb5u5c87947b93f74000@mail.gmail.com>
Message-ID: <5B623386ABF94701BAA02037F3145E87@MSBLRR61IMSFL>

Thanks,

I think this would help me in what I am trying to do. 
Just want to comment, I have been newly introduced to R and I personally am
quite amazed by it's capabilities!

SMS Chauhan

-----Original Message-----
From: Jeff Ryan [mailto:jeff.a.ryan at gmail.com] 
Sent: Wednesday, October 22, 2008 7:39 PM
To: SMS CHAUHAn
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] XTS Modification

Try:

write.zoo(IBM, index.name="Date")

?write.zoo

HTH
Jeff

On Wed, Oct 22, 2008 at 8:39 AM, SMS CHAUHAn <sms.chauhan at mu-sigma.com>
wrote:
> Hi,
>
> I am a newbie to R.
>
> I am trying to write some stock data to a csv file.
>
> Here is the code.
>
>
>
> <code>
>
> library(xts)
>
> library(Defaults)
>
> library(quantmod)
>
> library(TTR)
>
> getSymbols("IBM")
>
> write.csv(IBM, file="IBM.csv")
>
> </code>
>
>
>
> Later I would use this csv file to write data into an SQL database. Here
is
> where I face the problem. In the tool I will be using, column headers have
> to be mapped between csv and SQL fields. In the CSV file I get, the date
> column does not have any column header. There is a workaround to edit the
> csv and add the column header. But can I dynamically add the date id field
> as a regular field in the xts data above before I write it to the csv.
>
>
>
> Thanks,
>
> SMS Chauhan
>
>
> ***********************************************************************
> This e-mail and any files transmitted with it are for the sole use of the
intended recipient(s) and may contain confidential and privileged
information. If you are not the intended recipient, please contact the
sender by reply e-mail and destroy all copies and the original message. Any
unauthorized review, use, disclosure, dissemination, forwarding, printing or
copying of this email or any action taken in reliance on this e-mail is
strictly prohibited and may be unlawful.
>
>  The recipient acknowledges that Mu Sigma or its subsidiaries and
associated companies (collectively " Mu Sigma Inc), are unable to exercise
control or ensure or guarantee the integrity of over the contents of the
information contained in e-mail transmissions and further acknowledges that
any views expressed in this message are those of the individual sender and
no binding nature of the message shall be implied or assumed unless the
sender does so expressly with due authority of Mu Sigma. Before opening any
attachments please check them for viruses and defects.
>  ***********************************************************************
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

***********************************************************************
This e-mail and any files transmitted with it are for the sole use of the intended recipient(s) and may contain confidential and privileged information. If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies and the original message. Any unauthorized review, use, disclosure, dissemination, forwarding, printing or copying of this email or any action taken in reliance on this e-mail is strictly prohibited and may be unlawful. 

 The recipient acknowledges that Mu Sigma or its subsidiaries and associated companies (collectively " Mu Sigma Inc), are unable to exercise control or ensure or guarantee the integrity of over the contents of the information contained in e-mail transmissions and further acknowledges that any views expressed in this message are those of the individual sender and no binding nature of the message shall be implied or assumed unless the sender does so expressly with due authority of Mu Sigma. Before opening any attachments please check them for viruses and defects.


From sms.chauhan at mu-sigma.com  Wed Oct 22 16:46:26 2008
From: sms.chauhan at mu-sigma.com (SMS CHAUHAn)
Date: Wed, 22 Oct 2008 20:16:26 +0530
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
	<386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
Message-ID: <6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081022/0e6ec5d0/attachment.pl>

From jeff.a.ryan at gmail.com  Wed Oct 22 16:53:36 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 22 Oct 2008 09:53:36 -0500
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
	<386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
	<6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
Message-ID: <e8e755250810220753x574523b3v666df5e01805435@mail.gmail.com>

Take a look at:

http://cran.r-project.org/web/packages/RPostgreSQL/index.html

or as Wayne mentioned RODBC.

I have used neither yet.

You might find it faster to use the database's own bulk import
mechanism with the csv files though.

Jeff

On Wed, Oct 22, 2008 at 9:46 AM, SMS CHAUHAn <sms.chauhan at mu-sigma.com> wrote:
> It would upload this data to a Postgresql server.
>
>
>
> Regards,
>
> SMS
>
>
>
>  _____
>
> From: malcolm croucher [mailto:malcolm.croucher at gmail.com]
> Sent: Wednesday, October 22, 2008 8:02 PM
> To: Wayne.W.Jones at shell.com
> Cc: sms.chauhan at mu-sigma.com; r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] XTS Modification
>
>
>
> Would this package allow you to upload straight to a mysql or sql database ?
>
> Regards
>
> Malcolm
>
> On Wed, Oct 22, 2008 at 4:10 PM, <Wayne.W.Jones at shell.com> wrote:
>
>
>
> Another method would be to use the package RODBC.
>
> Wayne
>
>
>
>
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of SMS CHAUHAn
> Sent: 22 October 2008 14:40
> To: r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] XTS Modification
>
>
> Hi,
>
> I am a newbie to R.
>
> I am trying to write some stock data to a csv file.
>
> Here is the code.
>
>
>
> <code>
>
> library(xts)
>
> library(Defaults)
>
> library(quantmod)
>
> library(TTR)
>
> getSymbols("IBM")
>
> write.csv(IBM, file="IBM.csv")
>
> </code>
>
>
>
> Later I would use this csv file to write data into an SQL database. Here is
> where I face the problem. In the tool I will be using, column headers have
> to be mapped between csv and SQL fields. In the CSV file I get, the date
> column does not have any column header. There is a workaround to edit the
> csv and add the column header. But can I dynamically add the date id field
> as a regular field in the xts data above before I write it to the csv.
>
>
>
> Thanks,
>
> SMS Chauhan
>
>
> ***********************************************************************
> This e-mail and any files transmitted with it are for the sole use of the
> intended recipient(s) and may contain confidential and privileged
> information. If you are not the intended recipient, please contact the
> sender by reply e-mail and destroy all copies and the original message. Any
> unauthorized review, use, disclosure, dissemination, forwarding, printing or
> copying of this email or any action taken in reliance on this e-mail is
> strictly prohibited and may be unlawful.
>
>  The recipient acknowledges that Mu Sigma or its subsidiaries and associated
> companies (collectively " Mu Sigma Inc), are unable to exercise control or
> ensure or guarantee the integrity of over the contents of the information
> contained in e-mail transmissions and further acknowledges that any views
> expressed in this message are those of the individual sender and no binding
> nature of the message shall be implied or assumed unless the sender does so
> expressly with due authority of Mu Sigma. Before opening any attachments
> please check them for viruses and defects.
>  ***********************************************************************
>
>       [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>
>
> --
> Malcolm A.B Croucher
>
>
> ***********************************************************************
> This e-mail and any files transmitted with it are for the sole use of the intended recipient(s) and may contain confidential and privileged information. If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies and the original message. Any unauthorized review, use, disclosure, dissemination, forwarding, printing or copying of this email or any action taken in reliance on this e-mail is strictly prohibited and may be unlawful.
>
>  The recipient acknowledges that Mu Sigma or its subsidiaries and associated companies (collectively " Mu Sigma Inc), are unable to exercise control or ensure or guarantee the integrity of over the contents of the information contained in e-mail transmissions and further acknowledges that any views expressed in this message are those of the individual sender and no binding nature of the message shall be implied or assumed unless the sender does so expressly with due authority of Mu Sigma. Before opening any attachments please check them for viruses and defects.
>  ***********************************************************************
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From bastian2507hk at yahoo.co.uk  Wed Oct 22 16:58:28 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Wed, 22 Oct 2008 16:58:28 +0200
Subject: [R-SIG-Finance] bonds/fixed income indices
Message-ID: <48FF3F94.40306@yahoo.co.uk>

Dear list,

does anybody know where to get bond/fixed income indices for free? i 
could not find anything on Yahoo! and bloomberg/reuters is out of reach 
for me. thanks in advance.

regards


From ryan.sheftel at malbecpartners.com  Wed Oct 22 17:02:40 2008
From: ryan.sheftel at malbecpartners.com (ryan.sheftel at malbecpartners.com)
Date: Wed, 22 Oct 2008 11:02:40 -0400
Subject: [R-SIG-Finance] bonds/fixed income indices
In-Reply-To: <48FF3F94.40306@yahoo.co.uk>
Message-ID: <OFCBAEF0C9.F015B460-ON852574EA.0052A91D-852574EA.0052CF6E@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081022/c9a4282e/attachment.pl>

From thammond at millburncorp.com  Wed Oct 22 17:05:17 2008
From: thammond at millburncorp.com (Tyler Hammond)
Date: Wed, 22 Oct 2008 11:05:17 -0400
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <e8e755250810220753x574523b3v666df5e01805435@mail.gmail.com>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
	<386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
	<6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
	<e8e755250810220753x574523b3v666df5e01805435@mail.gmail.com>
Message-ID: <52FD857F-B066-4E0B-AEF6-3CF57445297C@millburncorp.com>


You can also look into Rdbi and RdbiPgSQL from http://bioconductor.org.
For inserting large datasets, psql with \copy is much faster.


On 2008 Oct 22, at 10:53 AM, Jeff Ryan wrote:

> Take a look at:
>
> http://cran.r-project.org/web/packages/RPostgreSQL/index.html
>
> or as Wayne mentioned RODBC.
>
> I have used neither yet.
>
> You might find it faster to use the database's own bulk import
> mechanism with the csv files though.
>
> Jeff
>
> On Wed, Oct 22, 2008 at 9:46 AM, SMS CHAUHAn <sms.chauhan at mu- 
> sigma.com> wrote:
>> It would upload this data to a Postgresql server.
>>
>>
>>
>> Regards,
>>
>> SMS
>>
>>
>>
>> _____
>>
>> From: malcolm croucher [mailto:malcolm.croucher at gmail.com]
>> Sent: Wednesday, October 22, 2008 8:02 PM
>> To: Wayne.W.Jones at shell.com
>> Cc: sms.chauhan at mu-sigma.com; r-sig-finance at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Finance] XTS Modification
>>
>>
>>
>> Would this package allow you to upload straight to a mysql or sql  
>> database ?
>>
>> Regards
>>
>> Malcolm
>>
>> On Wed, Oct 22, 2008 at 4:10 PM, <Wayne.W.Jones at shell.com> wrote:
>>
>>
>>
>> Another method would be to use the package RODBC.
>>
>> Wayne
>>
>>
>>
>>
>>
>> -----Original Message-----
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of SMS  
>> CHAUHAn
>> Sent: 22 October 2008 14:40
>> To: r-sig-finance at stat.math.ethz.ch
>> Subject: [R-SIG-Finance] XTS Modification
>>
>>
>> Hi,
>>
>> I am a newbie to R.
>>
>> I am trying to write some stock data to a csv file.
>>
>> Here is the code.
>>
>>
>>
>> <code>
>>
>> library(xts)
>>
>> library(Defaults)
>>
>> library(quantmod)
>>
>> library(TTR)
>>
>> getSymbols("IBM")
>>
>> write.csv(IBM, file="IBM.csv")
>>
>> </code>
>>
>>
>>
>> Later I would use this csv file to write data into an SQL database.  
>> Here is
>> where I face the problem. In the tool I will be using, column  
>> headers have
>> to be mapped between csv and SQL fields. In the CSV file I get, the  
>> date
>> column does not have any column header. There is a workaround to  
>> edit the
>> csv and add the column header. But can I dynamically add the date  
>> id field
>> as a regular field in the xts data above before I write it to the  
>> csv.
>>
>>
>>
>> Thanks,
>>
>> SMS Chauhan
>>
>>
>> ***********************************************************************
>> This e-mail and any files transmitted with it are for the sole use  
>> of the
>> intended recipient(s) and may contain confidential and privileged
>> information. If you are not the intended recipient, please contact  
>> the
>> sender by reply e-mail and destroy all copies and the original  
>> message. Any
>> unauthorized review, use, disclosure, dissemination, forwarding,  
>> printing or
>> copying of this email or any action taken in reliance on this e- 
>> mail is
>> strictly prohibited and may be unlawful.
>>
>> The recipient acknowledges that Mu Sigma or its subsidiaries and  
>> associated
>> companies (collectively " Mu Sigma Inc), are unable to exercise  
>> control or
>> ensure or guarantee the integrity of over the contents of the  
>> information
>> contained in e-mail transmissions and further acknowledges that any  
>> views
>> expressed in this message are those of the individual sender and no  
>> binding
>> nature of the message shall be implied or assumed unless the sender  
>> does so
>> expressly with due authority of Mu Sigma. Before opening any  
>> attachments
>> please check them for viruses and defects.
>> ***********************************************************************
>>
>>      [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>
>>
>>
>> --
>> Malcolm A.B Croucher
>>
>>
>> ***********************************************************************
>> This e-mail and any files transmitted with it are for the sole use  
>> of the intended recipient(s) and may contain confidential and  
>> privileged information. If you are not the intended recipient,  
>> please contact the sender by reply e-mail and destroy all copies  
>> and the original message. Any unauthorized review, use, disclosure,  
>> dissemination, forwarding, printing or copying of this email or any  
>> action taken in reliance on this e-mail is strictly prohibited and  
>> may be unlawful.
>>
>> The recipient acknowledges that Mu Sigma or its subsidiaries and  
>> associated companies (collectively " Mu Sigma Inc), are unable to  
>> exercise control or ensure or guarantee the integrity of over the  
>> contents of the information contained in e-mail transmissions and  
>> further acknowledges that any views expressed in this message are  
>> those of the individual sender and no binding nature of the message  
>> shall be implied or assumed unless the sender does so expressly  
>> with due authority of Mu Sigma. Before opening any attachments  
>> please check them for viruses and defects.
>> ***********************************************************************
>>
>>       [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> -- 
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>

######################################################################
This email is confidential, does not constitute investment advice, is
only for the use of the intended recipient and should not be
redistributed, except with the sender's consent. If you received this
email in error, please notify us immediately by telephone; receipt by
anyone other than the intended recipient is not a waiver of any
work-product or attorney-client privilege. All email to and from
Millburn Ridgefield Corporation and its affiliates is monitored,
stored and made available to regulators if requested.
######################################################################


From edd at debian.org  Wed Oct 22 17:20:48 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 22 Oct 2008 10:20:48 -0500
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
	<386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
	<6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
Message-ID: <18687.17616.615734.674631@ron.nulle.part>


In case your goal at this point is the automatic gathering and
databasing of market data -- rather than the R analysis -- then 
this may be of interest:

    http://dirk.eddelbuettel.com/code/beancounter.html

It's written in Perl which may or may not be easier to read and 
alter for your purposes than R. 

Dirk

-- 
Three out of two people have difficulties with fractions.


From davidr at rhotrading.com  Wed Oct 22 17:33:38 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Wed, 22 Oct 2008 10:33:38 -0500
Subject: [R-SIG-Finance] bonds/fixed income indices
In-Reply-To: <OFCBAEF0C9.F015B460-ON852574EA.0052A91D-852574EA.0052CF6E@malbecpartners.com>
References: <48FF3F94.40306@yahoo.co.uk>
	<OFCBAEF0C9.F015B460-ON852574EA.0052A91D-852574EA.0052CF6E@malbecpartners.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE77019FDB70@rhopost.rhotrading.com>

The Federal Reserve has some data that may serve your needs:
https://www.federalreserve.gov/datadownload/Choose.aspx?rel=H.15


David L. Reiner, PhD
Head Quant
Rho Trading Securities, LLC

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
ryan.sheftel at malbecpartners.com
Sent: Wednesday, October 22, 2008 10:03 AM
To: Bastian Offermann
Cc: r-sig-finance at stat.math.ethz.ch;
r-sig-finance-bounces at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] bonds/fixed income indices

Your best bet are looking at the iShares ETFs, like LQD and TIP, I
believe 
they also have MBS for mortgages. The most well regarded indexes (Lehman

Aggregate, and Salomon BIG) are available only for a fee.




Bastian Offermann <bastian2507hk at yahoo.co.uk> 
Sent by: r-sig-finance-bounces at stat.math.ethz.ch
10/22/2008 10:58 AM

To
r-sig-finance at stat.math.ethz.ch
cc

Subject
[R-SIG-Finance] bonds/fixed income indices





Dear list,

does anybody know where to get bond/fixed income indices for free? i 
could not find anything on Yahoo! and bloomberg/reuters is out of reach 
for me. thanks in advance.

regards

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From stefano.iacus at unimi.it  Wed Oct 22 17:38:50 2008
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 22 Oct 2008 17:38:50 +0200
Subject: [R-SIG-Finance] XTS Modification
In-Reply-To: <52FD857F-B066-4E0B-AEF6-3CF57445297C@millburncorp.com>
References: <F8EFE2E431634603B1C25601E02CA4F8@MSBLRR61IMSFL>
	<8E3590214E4380489D2F8BF129B939F30B7BFD@amsdc1-s-03371.europe.shell.com>
	<386fa5610810220731j5d6a3b0eka2ffd465b38b8b69@mail.gmail.com>
	<6030457705DE4AE28C3C5943DEDDE808@MSBLRR61IMSFL>
	<e8e755250810220753x574523b3v666df5e01805435@mail.gmail.com>
	<52FD857F-B066-4E0B-AEF6-3CF57445297C@millburncorp.com>
Message-ID: <1893352B-9CA5-4539-B406-139B150A515F@unimi.it>

This book may be of some interest as well

http://www.springer.com/statistics/computational/book/978-0-387-74730-9

stefano

On 22/ott/08, at 17:05, Tyler Hammond wrote:

>
> You can also look into Rdbi and RdbiPgSQL from http:// 
> bioconductor.org.
> For inserting large datasets, psql with \copy is much faster.
>
>
> On 2008 Oct 22, at 10:53 AM, Jeff Ryan wrote:
>
>> Take a look at:
>>
>> http://cran.r-project.org/web/packages/RPostgreSQL/index.html
>>
>> or as Wayne mentioned RODBC.
>>
>> I have used neither yet.
>>
>> You might find it faster to use the database's own bulk import
>> mechanism with the csv files though.
>>
>> Jeff
>>
>> On Wed, Oct 22, 2008 at 9:46 AM, SMS CHAUHAn <sms.chauhan at mu-sigma.com 
>> > wrote:
>>> It would upload this data to a Postgresql server.
>>>
>>>
>>>
>>> Regards,
>>>
>>> SMS
>>>
>>>
>>>
>>> _____
>>>
>>> From: malcolm croucher [mailto:malcolm.croucher at gmail.com]
>>> Sent: Wednesday, October 22, 2008 8:02 PM
>>> To: Wayne.W.Jones at shell.com
>>> Cc: sms.chauhan at mu-sigma.com; r-sig-finance at stat.math.ethz.ch
>>> Subject: Re: [R-SIG-Finance] XTS Modification
>>>
>>>
>>>
>>> Would this package allow you to upload straight to a mysql or sql  
>>> database ?
>>>
>>> Regards
>>>
>>> Malcolm
>>>
>>> On Wed, Oct 22, 2008 at 4:10 PM, <Wayne.W.Jones at shell.com> wrote:
>>>
>>>
>>>
>>> Another method would be to use the package RODBC.
>>>
>>> Wayne
>>>
>>>
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: r-sig-finance-bounces at stat.math.ethz.ch
>>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of SMS  
>>> CHAUHAn
>>> Sent: 22 October 2008 14:40
>>> To: r-sig-finance at stat.math.ethz.ch
>>> Subject: [R-SIG-Finance] XTS Modification
>>>
>>>
>>> Hi,
>>>
>>> I am a newbie to R.
>>>
>>> I am trying to write some stock data to a csv file.
>>>
>>> Here is the code.
>>>
>>>
>>>
>>> <code>
>>>
>>> library(xts)
>>>
>>> library(Defaults)
>>>
>>> library(quantmod)
>>>
>>> library(TTR)
>>>
>>> getSymbols("IBM")
>>>
>>> write.csv(IBM, file="IBM.csv")
>>>
>>> </code>
>>>
>>>
>>>
>>> Later I would use this csv file to write data into an SQL  
>>> database. Here is
>>> where I face the problem. In the tool I will be using, column  
>>> headers have
>>> to be mapped between csv and SQL fields. In the CSV file I get,  
>>> the date
>>> column does not have any column header. There is a workaround to  
>>> edit the
>>> csv and add the column header. But can I dynamically add the date  
>>> id field
>>> as a regular field in the xts data above before I write it to the  
>>> csv.
>>>
>>>
>>>
>>> Thanks,
>>>
>>> SMS Chauhan
>>>
>>>
>>> ***********************************************************************
>>> This e-mail and any files transmitted with it are for the sole use  
>>> of the
>>> intended recipient(s) and may contain confidential and privileged
>>> information. If you are not the intended recipient, please contact  
>>> the
>>> sender by reply e-mail and destroy all copies and the original  
>>> message. Any
>>> unauthorized review, use, disclosure, dissemination, forwarding,  
>>> printing or
>>> copying of this email or any action taken in reliance on this e- 
>>> mail is
>>> strictly prohibited and may be unlawful.
>>>
>>> The recipient acknowledges that Mu Sigma or its subsidiaries and  
>>> associated
>>> companies (collectively " Mu Sigma Inc), are unable to exercise  
>>> control or
>>> ensure or guarantee the integrity of over the contents of the  
>>> information
>>> contained in e-mail transmissions and further acknowledges that  
>>> any views
>>> expressed in this message are those of the individual sender and  
>>> no binding
>>> nature of the message shall be implied or assumed unless the  
>>> sender does so
>>> expressly with due authority of Mu Sigma. Before opening any  
>>> attachments
>>> please check them for viruses and defects.
>>> ***********************************************************************
>>>
>>>     [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>>
>>>
>>>
>>> --
>>> Malcolm A.B Croucher
>>>
>>>
>>> ***********************************************************************
>>> This e-mail and any files transmitted with it are for the sole use  
>>> of the intended recipient(s) and may contain confidential and  
>>> privileged information. If you are not the intended recipient,  
>>> please contact the sender by reply e-mail and destroy all copies  
>>> and the original message. Any unauthorized review, use,  
>>> disclosure, dissemination, forwarding, printing or copying of this  
>>> email or any action taken in reliance on this e-mail is strictly  
>>> prohibited and may be unlawful.
>>>
>>> The recipient acknowledges that Mu Sigma or its subsidiaries and  
>>> associated companies (collectively " Mu Sigma Inc), are unable to  
>>> exercise control or ensure or guarantee the integrity of over the  
>>> contents of the information contained in e-mail transmissions and  
>>> further acknowledges that any views expressed in this message are  
>>> those of the individual sender and no binding nature of the  
>>> message shall be implied or assumed unless the sender does so  
>>> expressly with due authority of Mu Sigma. Before opening any  
>>> attachments please check them for viruses and defects.
>>> ***********************************************************************
>>>
>>>      [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>>
>>
>> -- 
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> ######################################################################
> This email is confidential, does not constitute investment advice, is
> only for the use of the intended recipient and should not be
> redistributed, except with the sender's consent. If you received this
> email in error, please notify us immediately by telephone; receipt by
> anyone other than the intended recipient is not a waiver of any
> work-product or attorney-client privilege. All email to and from
> Millburn Ridgefield Corporation and its affiliates is monitored,
> stored and made available to regulators if requested.
> ######################################################################
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From jeff.a.ryan at gmail.com  Wed Oct 22 19:42:40 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 22 Oct 2008 12:42:40 -0500
Subject: [R-SIG-Finance] Success! First R/Finance/Chicago Summary.
Message-ID: <e8e755250810221042k6d66bf7fycb9167a11fc76bc2@mail.gmail.com>

R/Finance useR!s:

For those who made it to the meeting on October 3rd, thank you.  We
had a great turnout!  We had approximately 40 people come together
from across Chicago-land, and as far away as Ohio and St. Louis.

Lots of great conversation and food (courtesy of the University of
Illinois at Chicago's International Center for Futures and
Derivatives).  We are planning on doing this again for those that
couldn't make it the first time.

We are also looking at putting together a formal R/Finance conference
in Chicago for the Spring of 2009, with the help of UIC.  This will be
an event for all practitioners and academics who use R in finance --
or would like to.  Further details will be made available shortly,
including a call for papers.

While this past event was informal by design, there are some
presentations that were made that are now available online:

http://www.quantmod.com/RFinanceChicago2008

Most notable are the slides from Brian Peterson and Peter Carl, as
well as the presentation from Dale Rosenthal about UIC's involvement.

Thanks again for reading, and if you have any comments or suggestions
about this event, or upcoming plans, please feel free to contact me.

Jeff

Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From amkatz at Princeton.EDU  Wed Oct 22 20:32:02 2008
From: amkatz at Princeton.EDU (Aaron M Katz (amkatz@Princeton.EDU))
Date: Wed, 22 Oct 2008 14:32:02 -0400
Subject: [R-SIG-Finance] bonds/fixed income indices
In-Reply-To: <48FF3F94.40306@yahoo.co.uk>
References: <48FF3F94.40306@yahoo.co.uk>
Message-ID: <fb08f8ba2193.48ff3962@Princeton.EDU>

You might also try the St. Louis Fed's data

General link:
http://research.stlouisfed.org/fred2/

Link to stuff you might be interested in:
http://research.stlouisfed.org/fred2/categories/47

No index, but constant maturity data for treasury bonds.  Hope that helps.

---
Aaron Katz
Bendheim Center for Finance
Princeton University

----- Original Message -----
From: Bastian Offermann <bastian2507hk at yahoo.co.uk>
Date: Wednesday, October 22, 2008 11:02 am
Subject: [R-SIG-Finance] bonds/fixed income indices
To: r-sig-finance at stat.math.ethz.ch

> Dear list,
> 
> does anybody know where to get bond/fixed income indices for free? 
> i 
> could not find anything on Yahoo! and bloomberg/reuters is out of 
> reach 
> for me. thanks in advance.
> 
> regards
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Wed Oct 22 20:58:23 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 22 Oct 2008 13:58:23 -0500
Subject: [R-SIG-Finance] bonds/fixed income indices
In-Reply-To: <fb08f8ba2193.48ff3962@Princeton.EDU>
References: <48FF3F94.40306@yahoo.co.uk> <fb08f8ba2193.48ff3962@Princeton.EDU>
Message-ID: <e8e755250810221158q1ef71f51vb62c41fb4d048324@mail.gmail.com>

Which is accessible with quantmod and fImports:

library(quantmod)
?getSymbols.FRED

getSymbols("DTB3",src="FRED")

Jeff

On Wed, Oct 22, 2008 at 1:32 PM, Aaron M Katz (amkatz at Princeton.EDU)
<amkatz at princeton.edu> wrote:
> You might also try the St. Louis Fed's data
>
> General link:
> http://research.stlouisfed.org/fred2/
>
> Link to stuff you might be interested in:
> http://research.stlouisfed.org/fred2/categories/47
>
> No index, but constant maturity data for treasury bonds.  Hope that helps.
>
> ---
> Aaron Katz
> Bendheim Center for Finance
> Princeton University
>
> ----- Original Message -----
> From: Bastian Offermann <bastian2507hk at yahoo.co.uk>
> Date: Wednesday, October 22, 2008 11:02 am
> Subject: [R-SIG-Finance] bonds/fixed income indices
> To: r-sig-finance at stat.math.ethz.ch
>
>> Dear list,
>>
>> does anybody know where to get bond/fixed income indices for free?
>> i
>> could not find anything on Yahoo! and bloomberg/reuters is out of
>> reach
>> for me. thanks in advance.
>>
>> regards
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From comtech.usa at gmail.com  Thu Oct 23 00:25:46 2008
From: comtech.usa at gmail.com (Michael)
Date: Wed, 22 Oct 2008 15:25:46 -0700
Subject: [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
Message-ID: <b1f16d9d0810221525p7e835667w616fe8db7f39672f@mail.gmail.com>

Hi all,

I am playing with some companies' balance sheets and income statements
and want to apply what I've just learned from Stats class to see if I
can forecast the companies earnings, sales and gross margin in the
short term (3rd and 4th Quarter), mid-term (2009) and long term (2011,
etc. )

I pulled up some data from companies' financial statements over the
past a few years. The companies are techs so don't have long history.
And given regime switching and big changes in the macro condition, I
think long historical data have no use any way... so I have quarterly
and annual data... and I probably need some other time series, for
example the GDP, interest rate, consumer spending, etc.

How do I forecast the performance of the firms using R? I don't have
much experience yet, for example, I probably have to de-trend the
timeseries first, and then do some seasonality adjustment, etc. but I
think it's very fun. Are there good hands-on tutorials about how to do
these things in R, with realistic examples?

Thanks a lot!


From Rory.WINSTON at rbs.com  Thu Oct 23 11:51:53 2008
From: Rory.WINSTON at rbs.com (Rory.WINSTON at rbs.com)
Date: Thu, 23 Oct 2008 10:51:53 +0100
Subject: [R-SIG-Finance] forecasting earnings,
 sales and gross margin of a company...
In-Reply-To: <b1f16d9d0810221525p7e835667w616fe8db7f39672f@mail.gmail.com>
References: <b1f16d9d0810221525p7e835667w616fe8db7f39672f@mail.gmail.com>
Message-ID: <F5AB27C222D4164382737207F9869F2B520324B321@LONMC01014.rbsres07.net>

Dealing with accounting data is, in statistical terms, an ill-posed problem - there is not much data and quite a few dimensions. That said, there is a lot of research out there on applying statistical techniques to accounting data for the purposes of prediction and classification. But most prediction based on financial statements is based on much more fundamental techniques (e.g. a discounted cash flow analysis).

Rory


Rory Winston
RBS Global Banking & Markets
Office: +44 20 7085 4476

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Michael
Sent: 22 October 2008 23:26
To: r-help; r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] forecasting earnings, sales and gross margin of a company...

Hi all,

I am playing with some companies' balance sheets and income statements and want to apply what I've just learned from Stats class to see if I can forecast the companies earnings, sales and gross margin in the short term (3rd and 4th Quarter), mid-term (2009) and long term (2011, etc. )

I pulled up some data from companies' financial statements over the past a few years. The companies are techs so don't have long history.
And given regime switching and big changes in the macro condition, I think long historical data have no use any way... so I have quarterly and annual data... and I probably need some other time series, for example the GDP, interest rate, consumer spending, etc.

How do I forecast the performance of the firms using R? I don't have much experience yet, for example, I probably have to de-trend the timeseries first, and then do some seasonality adjustment, etc. but I think it's very fun. Are there good hands-on tutorials about how to do these things in R, with realistic examples?

Thanks a lot!

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

***********************************************************************************
The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB. 
Authorised and regulated by the Financial Services Authority 

This e-mail message is confidential and for use by the=2...{{dropped:22}}


From malcolm.croucher at gmail.com  Thu Oct 23 13:48:25 2008
From: malcolm.croucher at gmail.com (malcolm croucher)
Date: Thu, 23 Oct 2008 13:48:25 +0200
Subject: [R-SIG-Finance] Data - International collection
Message-ID: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/1955f132/attachment.pl>

From malcolm.croucher at gmail.com  Thu Oct 23 13:59:54 2008
From: malcolm.croucher at gmail.com (malcolm croucher)
Date: Thu, 23 Oct 2008 13:59:54 +0200
Subject: [R-SIG-Finance] Data - International collection
In-Reply-To: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com>
References: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com>
Message-ID: <386fa5610810230459j6b50b51bw43c2bcbb6b370533@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/347a2ff2/attachment.pl>

From dsmith at viciscapital.com  Thu Oct 23 14:10:27 2008
From: dsmith at viciscapital.com (Dale Smith)
Date: Thu, 23 Oct 2008 08:10:27 -0400
Subject: [R-SIG-Finance] Data - International collection
In-Reply-To: <386fa5610810230459j6b50b51bw43c2bcbb6b370533@mail.gmail.com>
References: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com>
	<386fa5610810230459j6b50b51bw43c2bcbb6b370533@mail.gmail.com>
Message-ID: <AAD6506F4E0FC9448EB9F608C657242F296799@vicsrv4.viciscapital.com>

Mexico, in particular, publishes a lot of data, comparable to the Fed.
China's data is available on their statistics bureau web site but some
series are often not updated, and the series often change definitions.

The data at the World Bank, IMF, and the UN are often stale also, but
that's probably your best bet.

I would carefully read the definitions of the data sets. Countries use
different collection methods, timing, and definitions, which makes
cross-country comparisons interesting, to say the least.

Dale Smith, Ph.D.
Vicis Capital LLC
Voice: 212-909-4635
Email: dsmith at viciscapital.com
AIM: dsmith11701
-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of malcolm
croucher
Sent: Thursday, October 23, 2008 8:00 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Data - International collection

I found some data on the imf website and found some on the world bank
data
site ... quite useful

On Thu, Oct 23, 2008 at 1:48 PM, malcolm croucher <
malcolm.croucher at gmail.com> wrote:

> Hi ,
>
> Im looking for datasets of international data ... i am wondering there
is
> any available : such as employement rates , cpi per country , new
vehicle
> sales , ect
>
> Regards
>
> --
> Malcolm A.B Croucher
>



-- 
Malcolm A.B Croucher

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From michael.sankowski at gmail.com  Thu Oct 23 14:17:57 2008
From: michael.sankowski at gmail.com (michael.sankowski at gmail.com)
Date: Thu, 23 Oct 2008 12:17:57 +0000
Subject: [R-SIG-Finance] Data - International collection
In-Reply-To: <AAD6506F4E0FC9448EB9F608C657242F296799@vicsrv4.viciscapital.com>
References: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com><386fa5610810230459j6b50b51bw43c2bcbb6b370533@mail.gmail.com><AAD6506F4E0FC9448EB9F608C657242F296799@vicsrv4.viciscapital.com>
Message-ID: <916280315-1224764247-cardhu_decombobulator_blackberry.rim.net-1398290686-@bxe317.bisx.prod.on.blackberry>

You might also try the CIA world book. I don't know if they have historical data on the site but they might supply if you ask. 
Sent via BlackBerry from T-Mobile

-----Original Message-----
From: "Dale Smith" <dsmith at viciscapital.com>

Date: Thu, 23 Oct 2008 08:10:27 
To: malcolm croucher<malcolm.croucher at gmail.com>; <r-sig-finance at stat.math.ethz.ch>
Subject: Re: [R-SIG-Finance] Data - International collection


Mexico, in particular, publishes a lot of data, comparable to the Fed.
China's data is available on their statistics bureau web site but some
series are often not updated, and the series often change definitions.

The data at the World Bank, IMF, and the UN are often stale also, but
that's probably your best bet.

I would carefully read the definitions of the data sets. Countries use
different collection methods, timing, and definitions, which makes
cross-country comparisons interesting, to say the least.

Dale Smith, Ph.D.
Vicis Capital LLC
Voice: 212-909-4635
Email: dsmith at viciscapital.com
AIM: dsmith11701
-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of malcolm
croucher
Sent: Thursday, October 23, 2008 8:00 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Data - International collection

I found some data on the imf website and found some on the world bank
data
site ... quite useful

On Thu, Oct 23, 2008 at 1:48 PM, malcolm croucher <
malcolm.croucher at gmail.com> wrote:

> Hi ,
>
> Im looking for datasets of international data ... i am wondering there
is
> any available : such as employement rates , cpi per country , new
vehicle
> sales , ect
>
> Regards
>
> --
> Malcolm A.B Croucher
>



-- 
Malcolm A.B Croucher

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

From smschauhan.drive at gmail.com  Thu Oct 23 16:19:09 2008
From: smschauhan.drive at gmail.com (SMS Chauhan)
Date: Thu, 23 Oct 2008 19:49:09 +0530
Subject: [R-SIG-Finance] Quotes every minute
Message-ID: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/74dd7f6e/attachment.pl>

From jeff.a.ryan at gmail.com  Thu Oct 23 16:28:45 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 23 Oct 2008 09:28:45 -0500
Subject: [R-SIG-Finance] Quotes every minute
In-Reply-To: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
References: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
Message-ID: <e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>

A bit vague, as I can't imagine you really think there is a 'script'
floating out there, but there are certainly tools available.

1) You'll need a data source. (Let's use Interactive Brokers ---
pretty cheap and almost reliable)
2) You'll need an interface (IBrokers currently is the R package to do this)
3) You'll need to write something in R :)

Actually the last part is easy. In the IBrokers package you can use
'reqMktData' and allow the process to write to a file using one of the
callback arguments.

There is a vignette available that is reasonably complete

> vignette("IBrokers")

A question back:  If you are saving it to read back in, why not just
use a historical data source?  This is also available via
'reqHistoricalData' in IBrokers.

There are of course many other options, depending on your budget and
patience.  I am sure the list will fill in the details.

HTH(Somewhat)
Jeff

On Thu, Oct 23, 2008 at 9:19 AM, SMS Chauhan <smschauhan.drive at gmail.com> wrote:
> Hi,
> I am trying to achieve something very simple. Using an R script I want to
> write stock quotes to a csv file. The data source should provide data every
> minute. I have a time mechanism which would execute that R script every
> minute. Later I would would use the csv file to display a realtime chart.
> Can anyone please suggest some R script?
>
> Thanks,
> SMS Chauhan
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From malcolm.croucher at gmail.com  Thu Oct 23 18:06:41 2008
From: malcolm.croucher at gmail.com (malcolm croucher)
Date: Thu, 23 Oct 2008 18:06:41 +0200
Subject: [R-SIG-Finance] Quotes every minute
In-Reply-To: <e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>
References: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
	<e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>
Message-ID: <386fa5610810230906w351ab559ica136390d0d6535@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/3e3989a8/attachment.pl>

From smschauhan.drive at gmail.com  Thu Oct 23 18:48:34 2008
From: smschauhan.drive at gmail.com (SMS Chauhan)
Date: Thu, 23 Oct 2008 22:18:34 +0530
Subject: [R-SIG-Finance] Quotes every minute
In-Reply-To: <386fa5610810230906w351ab559ica136390d0d6535@mail.gmail.com>
References: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
	<e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>
	<386fa5610810230906w351ab559ica136390d0d6535@mail.gmail.com>
Message-ID: <b8e6c300810230948n45bb91dcl7c94f2798d94c107@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/a7db97e6/attachment.pl>

From brian at braverock.com  Thu Oct 23 18:56:00 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 23 Oct 2008 11:56:00 -0500 (CDT)
Subject: [R-SIG-Finance] Quotes every minute
In-Reply-To: <b8e6c300810230948n45bb91dcl7c94f2798d94c107@mail.gmail.com>
References: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
	<e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>
	<386fa5610810230906w351ab559ica136390d0d6535@mail.gmail.com>
	<b8e6c300810230948n45bb91dcl7c94f2798d94c107@mail.gmail.com>
Message-ID: <38865.199.198.251.108.1224780960.squirrel@mail.braverock.com>

Look at the documentation for the date class you are using as an index on
the xts object.  The date formats are all standard Posix style timestamps,
and changing the format is as simple as changing the display.

There have also been more than one thread on splitting the date and time
into separate fields posted to this list in the past, so some searching
should do the trick.

  - Brian

SMS Chauhan wrote:
> Ok. Let me be a little more specific. I do the following in R:
>
>> MS<-getQuote("MS")
>> MS
>             Trade Time  Last Change % Change  Open  High  Low   Volume
> MS 2008-10-23 12:28:00 18.37  -0.96   -4.97% 19.21 19.75 17.6 17772846
>> MS[1]
>             Trade Time
> MS 2008-10-23 12:28:00
>
> As you can see, Trade Time comes in as a concatenated value of Date and
> Time. Is there a possible way I could write this vector to a CSV with
> Trade
> Time split into different columns? Also could you please mention certain
> functions using which I can convert this time specific for certain
> timezones?
>
> TIA
> SMS Chauhan
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Thu Oct 23 19:02:08 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 23 Oct 2008 12:02:08 -0500
Subject: [R-SIG-Finance] Quotes every minute
In-Reply-To: <38865.199.198.251.108.1224780960.squirrel@mail.braverock.com>
References: <b8e6c300810230719t18bfb4d5s1bb3585724369c7b@mail.gmail.com>
	<e8e755250810230728u6cc8c55u163ac669376a7738@mail.gmail.com>
	<386fa5610810230906w351ab559ica136390d0d6535@mail.gmail.com>
	<b8e6c300810230948n45bb91dcl7c94f2798d94c107@mail.gmail.com>
	<38865.199.198.251.108.1224780960.squirrel@mail.braverock.com>
Message-ID: <e8e755250810231002x1f8a6645t370c15dc8726aea5@mail.gmail.com>

One quick note:

getQuote does _not_ return an xts object.  At present that isn't
possible since the the timestamps/index values would be duplicates.
It is a data.frame.  The original purpose of the function was less for
data, and more for seeing what is going on in the market without
picking my head up. :)

That said, the first column _is_ a POSIXct object.

> str(getQuote("MS")[1])
'data.frame':   1 obs. of  1 variable:
 $ Trade Time: POSIXct, format: "2008-10-23 12:44:00"

It is quite extensible though.  Take a look at ?yahooQF

As Brian said, there are quite a few places in recent R-sig-finance
history where you will find info on splitting POSIXct into and out of
a string.

Jeff


On Thu, Oct 23, 2008 at 11:56 AM, Brian G. Peterson <brian at braverock.com> wrote:
> Look at the documentation for the date class you are using as an index on
> the xts object.  The date formats are all standard Posix style timestamps,
> and changing the format is as simple as changing the display.
>
> There have also been more than one thread on splitting the date and time
> into separate fields posted to this list in the past, so some searching
> should do the trick.
>
>  - Brian
>
> SMS Chauhan wrote:
>> Ok. Let me be a little more specific. I do the following in R:
>>
>>> MS<-getQuote("MS")
>>> MS
>>             Trade Time  Last Change % Change  Open  High  Low   Volume
>> MS 2008-10-23 12:28:00 18.37  -0.96   -4.97% 19.21 19.75 17.6 17772846
>>> MS[1]
>>             Trade Time
>> MS 2008-10-23 12:28:00
>>
>> As you can see, Trade Time comes in as a concatenated value of Date and
>> Time. Is there a possible way I could write this vector to a CSV with
>> Trade
>> Time split into different columns? Also could you please mention certain
>> functions using which I can convert this time specific for certain
>> timezones?
>>
>> TIA
>> SMS Chauhan
>>
>>       [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From comtech.usa at gmail.com  Thu Oct 23 21:39:40 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 12:39:40 -0700
Subject: [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
In-Reply-To: <F5AB27C222D4164382737207F9869F2B520324B321@LONMC01014.rbsres07.net>
References: <b1f16d9d0810221525p7e835667w616fe8db7f39672f@mail.gmail.com>
	<F5AB27C222D4164382737207F9869F2B520324B321@LONMC01014.rbsres07.net>
Message-ID: <b1f16d9d0810231239k506d582i7ecb908b84bc1642@mail.gmail.com>

Dear folks,

Here is one example of two time series:

http://img523.imageshack.us/my.php?image=twoseriesfm3.jpg

The two series are all year-over-year percentage growth (in percentage).

For Amazon Net Sales Growth data, I have data from Q1 2001 to Q2 2008
(quarterly), whereas for US Real Average Hourly Earnings Growth, I
have data from Q1 1999 to Q3 2008 (original data was monthly and then
I average every three months into quarterly).

So I filled "zero"s to the Amazon Net Sales Growth data.

Intuitively, the US Real Average Hourly Earnings series should lead
the Amazon Net Sales Growth series.

But how to use the statistical methods in R to analyze these two
series and make forecast?

Further, how to incorporate other news and shocks in Sept. - Oct 2008
into the forecasting?

Thanks!


On Thu, Oct 23, 2008 at 2:51 AM,  <Rory.WINSTON at rbs.com> wrote:
> Dealing with accounting data is, in statistical terms, an ill-posed problem - there is not much data and quite a few dimensions. That said, there is a lot of research out there on applying statistical techniques to accounting data for the purposes of prediction and classification. But most prediction based on financial statements is based on much more fundamental techniques (e.g. a discounted cash flow analysis).
>
> Rory
>
>
> Rory Winston
> RBS Global Banking & Markets
> Office: +44 20 7085 4476
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Michael
> Sent: 22 October 2008 23:26
> To: r-help; r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] forecasting earnings, sales and gross margin of a company...
>
> Hi all,
>
> I am playing with some companies' balance sheets and income statements and want to apply what I've just learned from Stats class to see if I can forecast the companies earnings, sales and gross margin in the short term (3rd and 4th Quarter), mid-term (2009) and long term (2011, etc. )
>
> I pulled up some data from companies' financial statements over the past a few years. The companies are techs so don't have long history.
> And given regime switching and big changes in the macro condition, I think long historical data have no use any way... so I have quarterly and annual data... and I probably need some other time series, for example the GDP, interest rate, consumer spending, etc.
>
> How do I forecast the performance of the firms using R? I don't have much experience yet, for example, I probably have to de-trend the timeseries first, and then do some seasonality adjustment, etc. but I think it's very fun. Are there good hands-on tutorials about how to do these things in R, with realistic examples?
>
> Thanks a lot!
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
> ***********************************************************************************
> The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB.
> Authorised and regulated by the Financial Services Authority
>
> This e-mail message is confidential and for use by the
> addressee only. If the message is received by anyone other
> than the addressee, please return the message to the sender
> by replying to it and then delete the message from your
> computer. Internet e-mails are not necessarily secure. The
> Royal Bank of Scotland plc does not accept responsibility for
> changes made to this message after it was sent.
>
> Whilst all reasonable care has been taken to avoid the
> transmission of viruses, it is the responsibility of the recipient to
> ensure that the onward transmission, opening or use of this
> message and any attachments will not adversely affect its
> systems or data. No responsibility is accepted by The
> Royal Bank of Scotland plc in this regard and the recipient should carry
> out such virus and other checks as it considers appropriate.
> Visit our websites at:
> www.rbs.com
> www.rbs.com/gbm
> www.rbsgc.com
> ***********************************************************************************
>
>


From comtech.usa at gmail.com  Thu Oct 23 21:40:31 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 15:40:31 -0400
Subject: [R-SIG-Finance] [R]  forecasting earnings,
	sales and gross margin of a company...
Message-ID: <d1fc396e-2d40-4241-ab2c-62599ff67e31@journal.report.generator>

Sender: r-help-bounces at r-project.org
On-Behalf-Of: comtech.usa at gmail.com
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,	sales and gross margin of a company...
Message-Id: <b1f16d9d0810231239k506d582i7ecb908b84bc1642 at mail.gmail.com>
Recipient: ngottlieb at marinercapital.com
--------------------------------------------------------



This information is being sent at the recipient's request or with their specific understanding. The recipient acknowledges that by sending this information via electronic means, there is no absolute assurance that the information will be free from third party access, use, or further dissemination. This e-mail contains information that is privileged and/or confidential and may be subject to legal restrictions and penalties regarding its unauthorized disclosure or other use. You are prohibited from copying, distributing or otherwise using this information if you are not the intended recipient. Past performance is not necessarily indicative of future results. This is not an offer of or the solicitation for any security which will be made only by private placement memorandum that may be obtained from the applicable hedge fund. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from your system. Thank You.
-------------- next part --------------
An embedded message was scrubbed...
From: Michael <comtech.usa at gmail.com>
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
Date: Thu, 23 Oct 2008 12:39:40 -0700
Size: 9202
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/c0d61434/attachment.mht>

From comtech.usa at gmail.com  Thu Oct 23 21:39:40 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 12:39:40 -0700
Subject: [R-SIG-Finance] [R]  forecasting earnings,
	sales and gross margin of a company...
In-Reply-To: <F5AB27C222D4164382737207F9869F2B520324B321@LONMC01014.rbsres07.net>
References: <b1f16d9d0810221525p7e835667w616fe8db7f39672f@mail.gmail.com><F5AB27C222D4164382737207F9869F2B520324B321@LONMC01014.rbsres07.net>
Message-ID: <b1f16d9d0810231239k506d582i7ecb908b84bc1642@mail.gmail.com>

Dear folks,

Here is one example of two time series:

http://img523.imageshack.us/my.php?image=twoseriesfm3.jpg

The two series are all year-over-year percentage growth (in percentage).

For Amazon Net Sales Growth data, I have data from Q1 2001 to Q2 2008
(quarterly), whereas for US Real Average Hourly Earnings Growth, I
have data from Q1 1999 to Q3 2008 (original data was monthly and then
I average every three months into quarterly).

So I filled "zero"s to the Amazon Net Sales Growth data.

Intuitively, the US Real Average Hourly Earnings series should lead
the Amazon Net Sales Growth series.

But how to use the statistical methods in R to analyze these two
series and make forecast?

Further, how to incorporate other news and shocks in Sept. - Oct 2008
into the forecasting?

Thanks!


On Thu, Oct 23, 2008 at 2:51 AM,  <Rory.WINSTON at rbs.com> wrote:
> Dealing with accounting data is, in statistical terms, an ill-posed problem - there is not much data and quite a few dimensions. That said, there is a lot of research out there on applying statistical techniques to accounting data for the purposes of prediction and classification. But most prediction based on financial statements is based on much more fundamental techniques (e.g. a discounted cash flow analysis).
>
> Rory
>
>
> Rory Winston
> RBS Global Banking & Markets
> Office: +44 20 7085 4476
>
> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Michael
> Sent: 22 October 2008 23:26
> To: r-help; r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] forecasting earnings, sales and gross margin of a company...
>
> Hi all,
>
> I am playing with some companies' balance sheets and income statements and want to apply what I've just learned from Stats class to see if I can forecast the companies earnings, sales and gross margin in the short term (3rd and 4th Quarter), mid-term (2009) and long term (2011, etc. )
>
> I pulled up some data from companies' financial statements over the past a few years. The companies are techs so don't have long history.
> And given regime switching and big changes in the macro condition, I think long historical data have no use any way... so I have quarterly and annual data... and I probably need some other time series, for example the GDP, interest rate, consumer spending, etc.
>
> How do I forecast the performance of the firms using R? I don't have much experience yet, for example, I probably have to de-trend the timeseries first, and then do some seasonality adjustment, etc. but I think it's very fun. Are there good hands-on tutorials about how to do these things in R, with realistic examples?
>
> Thanks a lot!
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
> ***********************************************************************************
> The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB.
> Authorised and regulated by the Financial Services Authority
>
> This e-mail message is confidential and for use by the
> addressee only. If the message is received by anyone other
> than the addressee, please return the message to the sender
> by replying to it and then delete the message from your
> computer. Internet e-mails are not necessarily secure. The
> Royal Bank of Scotland plc does not accept responsibility for
> changes made to this message after it was sent.
>
> Whilst all reasonable care has been taken to avoid the
> transmission of viruses, it is the responsibility of the recipient to
> ensure that the onward transmission, opening or use of this
> message and any attachments will not adversely affect its
> systems or data. No responsibility is accepted by The
> Royal Bank of Scotland plc in this regard and the recipient should carry
> out such virus and other checks as it considers appropriate.
> Visit our websites at:
> www.rbs.com
> www.rbs.com/gbm
> www.rbsgc.com
> ***********************************************************************************
>
>

______________________________________________
R-help at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
--------------------------------------------------------



This information is being sent at the recipient's request or with their specific understanding. The recipient acknowledges that by sending this information via electronic means, there is no absolute assurance that the information will be free from third party access, use, or further dissemination. This e-mail contains information that is privileged and/or confidential and may be subject to legal restrictions and penalties regarding its unauthorized disclosure or other use. You are prohibited from copying, distributing or otherwise using this information if you are not the intended recipient. Past performance is not necessarily indicative of future results. This is not an offer of or the solicitation for any security which will be made only by private placement memorandum that may be obtained from the applicable hedge fund. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from your system. Thank You.


From comtech.usa at gmail.com  Thu Oct 23 21:40:31 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 15:40:31 -0400
Subject: [R-SIG-Finance] [R]  forecasting earnings,
	sales and gross margin of a company...
Message-ID: <d1fc396e-2d40-4241-ab2c-62599ff67e31@journal.report.generator>

Sender: r-help-bounces at r-project.org
On-Behalf-Of: comtech.usa at gmail.com
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,	sales and gross margin of a company...
Message-Id: <b1f16d9d0810231239k506d582i7ecb908b84bc1642 at mail.gmail.com>
Recipient: ngottlieb at marinercapital.com
--------------------------------------------------------



This information is being sent at the recipient's request or with their specific understanding. The recipient acknowledges that by sending this information via electronic means, there is no absolute assurance that the information will be free from third party access, use, or further dissemination. This e-mail contains information that is privileged and/or confidential and may be subject to legal restrictions and penalties regarding its unauthorized disclosure or other use. You are prohibited from copying, distributing or otherwise using this information if you are not the intended recipient. Past performance is not necessarily indicative of future results. This is not an offer of or the solicitation for any security which will be made only by private placement memorandum that may be obtained from the applicable hedge fund. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from your system. Thank You.
-------------- next part --------------
An embedded message was scrubbed...
From: Michael <comtech.usa at gmail.com>
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
Date: Thu, 23 Oct 2008 12:39:40 -0700
Size: 9202
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/c0d61434/attachment-0001.mht>

From comtech.usa at gmail.com  Thu Oct 23 21:40:31 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 15:40:31 -0400
Subject: [R-SIG-Finance] [R]  forecasting earnings,
	sales and gross margin of a company...
Message-ID: <d1fc396e-2d40-4241-ab2c-62599ff67e31@journal.report.generator>

Sender: r-help-bounces at r-project.org
On-Behalf-Of: comtech.usa at gmail.com
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,	sales and gross margin of a company...
Message-Id: <b1f16d9d0810231239k506d582i7ecb908b84bc1642 at mail.gmail.com>
Recipient: ngottlieb at marinercapital.com
--------------------------------------------------------



This information is being sent at the recipient's request or with their specific understanding. The recipient acknowledges that by sending this information via electronic means, there is no absolute assurance that the information will be free from third party access, use, or further dissemination. This e-mail contains information that is privileged and/or confidential and may be subject to legal restrictions and penalties regarding its unauthorized disclosure or other use. You are prohibited from copying, distributing or otherwise using this information if you are not the intended recipient. Past performance is not necessarily indicative of future results. This is not an offer of or the solicitation for any security which will be made only by private placement memorandum that may be obtained from the applicable hedge fund. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from your system. Thank You.
-------------- next part --------------
An embedded message was scrubbed...
From: Michael <comtech.usa at gmail.com>
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
Date: Thu, 23 Oct 2008 12:39:40 -0700
Size: 9202
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/c0d61434/attachment-0002.mht>

From comtech.usa at gmail.com  Thu Oct 23 21:40:31 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 23 Oct 2008 15:40:31 -0400
Subject: [R-SIG-Finance] [R]  forecasting earnings,
	sales and gross margin of a company...
Message-ID: <d1fc396e-2d40-4241-ab2c-62599ff67e31@journal.report.generator>

Sender: r-help-bounces at r-project.org
On-Behalf-Of: comtech.usa at gmail.com
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,	sales and gross margin of a company...
Message-Id: <b1f16d9d0810231239k506d582i7ecb908b84bc1642 at mail.gmail.com>
Recipient: ngottlieb at marinercapital.com
--------------------------------------------------------



This information is being sent at the recipient's request or with their specific understanding. The recipient acknowledges that by sending this information via electronic means, there is no absolute assurance that the information will be free from third party access, use, or further dissemination. This e-mail contains information that is privileged and/or confidential and may be subject to legal restrictions and penalties regarding its unauthorized disclosure or other use. You are prohibited from copying, distributing or otherwise using this information if you are not the intended recipient. Past performance is not necessarily indicative of future results. This is not an offer of or the solicitation for any security which will be made only by private placement memorandum that may be obtained from the applicable hedge fund. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from your system. Thank You.
-------------- next part --------------
An embedded message was scrubbed...
From: Michael <comtech.usa at gmail.com>
Subject: Re: [R] [R-SIG-Finance] forecasting earnings,
	sales and gross margin of a company...
Date: Thu, 23 Oct 2008 12:39:40 -0700
Size: 9202
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081023/c0d61434/attachment-0003.mht>

From economics.guy at gmail.com  Fri Oct 24 01:05:16 2008
From: economics.guy at gmail.com (Economics Guy)
Date: Thu, 23 Oct 2008 19:05:16 -0400
Subject: [R-SIG-Finance] FMOLS
Message-ID: <5dedcf4c0810231605i167ffb7h6978974fcf0bc78f@mail.gmail.com>

Someone over at R-Help suggested I ask this question here:

Is anyone aware of an R package that implements Pedroni's FMOLS (Fully
Modified Ordinary Least Squares) package, for panel data with
non-stationary and co-integration?


From ag at jet-sa.ch  Fri Oct 24 19:04:31 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Fri, 24 Oct 2008 19:04:31 +0200
Subject: [R-SIG-Finance] Help through chat cession
Message-ID: <002a01c935fa$94ef0bc0$becd2340$@ch>

Hello,

I am trading financial futures in a small Co in Geneva. I am currently
working on a risk management tool using R, and need some help as I am a
newbie in this environment.
The things I do are simple : collect data in csv file, import them in R,
extract the ones I want to keep, and then do some calculations. My problem
is that I am self-learning via the Web, but I spend too much time looking
around for answers on very simple questions.
Can someone contact me and help me by answering sometimes a few questions
via MSN (or any other Messenger)? The idea is to stay connected through MSN,
so I can ask my question to this person when needed.
If you are behind your box most of the day and you have time to answer short
and simple questions, European time zone, please contact me. French speaking
would be appreciated, but I can deal with English.
Thank you in advance,
Arno


From armstrong.whit at gmail.com  Fri Oct 24 20:01:18 2008
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Fri, 24 Oct 2008 14:01:18 -0400
Subject: [R-SIG-Finance] yield to maturity with optim?
Message-ID: <8ec76080810241101v5be9fb6ci81c741434cbbe26a@mail.gmail.com>

anyone using optim to solve for bond yields given price?

I've anyone has any quick and dirty code, I would be grateful.

Thanks,
Whit


From ajayshah at mayin.org  Fri Oct 24 20:02:41 2008
From: ajayshah at mayin.org (Ajay Shah)
Date: Fri, 24 Oct 2008 23:32:41 +0530
Subject: [R-SIG-Finance] yield to maturity with optim?
In-Reply-To: <8ec76080810241101v5be9fb6ci81c741434cbbe26a@mail.gmail.com>
References: <8ec76080810241101v5be9fb6ci81c741434cbbe26a@mail.gmail.com>
Message-ID: <20081024180241.GU490@lubyanka.local>

On Fri, Oct 24, 2008 at 02:01:18PM -0400, Whit Armstrong wrote:
> anyone using optim to solve for bond yields given price?
> 
> I've anyone has any quick and dirty code, I would be grateful.

You mean:

ytm <- function(C, T, p) {
  npv <- function(C, T, r) {
    sum(C * (1 + (0.01*r))^-T)
  }
  uniroot(function(r) npv(C, T, r) - p, interval=c(-20,100), tol=0.0001)$root
}

?

-- 
Ajay Shah                                      http://www.mayin.org/ajayshah  
ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
<*(:-? - wizard who doesn't know the answer.


From mam3xs at gmail.com  Fri Oct 24 20:17:00 2008
From: mam3xs at gmail.com (Michael Sun)
Date: Fri, 24 Oct 2008 19:17:00 +0100
Subject: [R-SIG-Finance] about periodicity data
Message-ID: <fe005e260810241117v6cd79a06t6006ec38776ee760@mail.gmail.com>

Hi Guys,
Does any one have  the experience on how to normalise(or we say standardise)
the periodic data, for example, the attached data.

I am not going to use it for forecasting, rather than treat it as an input
variable for another model with the other time series data.
e.g. model the volatility of return series, r(t), one can add trade volume
as an exogenous variable in the conditional variance equation. IF the volume
data has the characteristic of periodicity, should it be normalised?

I know the moving average is a method to detect the seasonality or periodic,
however, it will reduce the data observations, e.g. we have one series {a1,
a2, ..... , a99}, after taking the moving average (3 point) it could be only
one third of the {a1', a2',...,a33'} series.

Appreciate for any comment.

Cheers
Mam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081024/40499bd7/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: periodic data.xls
Type: application/vnd.ms-excel
Size: 27648 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081024/40499bd7/attachment.xls>

From kriskumar at earthlink.net  Fri Oct 24 20:18:12 2008
From: kriskumar at earthlink.net (kriskumar at earthlink.net)
Date: Fri, 24 Oct 2008 18:18:12 +0000
Subject: [R-SIG-Finance] Data - International collection
In-Reply-To: <916280315-1224764247-cardhu_decombobulator_blackberry.rim.net-1398290686-@bxe317.bisx.prod.on.blackberry>
References: <386fa5610810230448v29e27cebjb4ba3e46f3fcc297@mail.gmail.com><386fa5610810230459j6b50b51bw43c2bcbb6b370533@mail.gmail.com><AAD6506F4E0FC9448EB9F608C657242F296799@vicsrv4.viciscapital.com><916280315-1224764247-cardhu_decombobulator_blackberry.rim.net-1398290686-@bxe317.bisx.prod.on.blackberry>
Message-ID: <1361738616-1224872259-cardhu_decombobulator_blackberry.rim.net-859093319-@bxe314.bisx.prod.on.blackberry>

There is a reasonable amount of data available through Haver analytics. 

I am a bit suspect of the munging of macro data out of asia.

Also there are frequent revisions with these. Bbg has a fair amount of data but they  don't mark  the data revisions. So any backtesting/model building done with this  is a bit biased.


----
"When I get a little money, I buy books and if any 
      is left, I buy food and clothes."  -- Erasmus

-----Original Message-----
From: michael.sankowski at gmail.com

Date: Thu, 23 Oct 2008 12:17:57 
To: Dale Smith<dsmith at viciscapital.com>; <r-sig-finance-bounces at stat.math.ethz.ch>; malcolm croucher<malcolm.croucher at gmail.com>; <r-sig-finance at stat.math.ethz.ch>
Subject: Re: [R-SIG-Finance] Data - International collection


You might also try the CIA world book. I don't know if they have historical data on the site but they might supply if you ask. 
Sent via BlackBerry from T-Mobile

-----Original Message-----
From: "Dale Smith" <dsmith at viciscapital.com>

Date: Thu, 23 Oct 2008 08:10:27 
To: malcolm croucher<malcolm.croucher at gmail.com>; <r-sig-finance at stat.math.ethz.ch>
Subject: Re: [R-SIG-Finance] Data - International collection


Mexico, in particular, publishes a lot of data, comparable to the Fed.
China's data is available on their statistics bureau web site but some
series are often not updated, and the series often change definitions.

The data at the World Bank, IMF, and the UN are often stale also, but
that's probably your best bet.

I would carefully read the definitions of the data sets. Countries use
different collection methods, timing, and definitions, which makes
cross-country comparisons interesting, to say the least.

Dale Smith, Ph.D.
Vicis Capital LLC
Voice: 212-909-4635
Email: dsmith at viciscapital.com
AIM: dsmith11701
-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of malcolm
croucher
Sent: Thursday, October 23, 2008 8:00 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Data - International collection

I found some data on the imf website and found some on the world bank
data
site ... quite useful

On Thu, Oct 23, 2008 at 1:48 PM, malcolm croucher <
malcolm.croucher at gmail.com> wrote:

> Hi ,
>
> Im looking for datasets of international data ... i am wondering there
is
> any available : such as employement rates , cpi per country , new
vehicle
> sales , ect
>
> Regards
>
> --
> Malcolm A.B Croucher
>



-- 
Malcolm A.B Croucher

	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.
_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

From armstrong.whit at gmail.com  Fri Oct 24 21:59:02 2008
From: armstrong.whit at gmail.com (Whit Armstrong)
Date: Fri, 24 Oct 2008 15:59:02 -0400
Subject: [R-SIG-Finance] yield to maturity with optim?
In-Reply-To: <20081024180241.GU490@lubyanka.local>
References: <8ec76080810241101v5be9fb6ci81c741434cbbe26a@mail.gmail.com>
	<20081024180241.GU490@lubyanka.local>
Message-ID: <8ec76080810241259p46c4dc29jba22cbbad6d3558@mail.gmail.com>

Thanks, Ajay.

Am I being dense?  A bond trading a par should have ytm == coupon, right?

> ytm.ajay(6,20,1)
[1] 9.372377
>

So, I have slightly reworked version:

ytm <- function(price, cpn, term, freq, prin=100) {
    npv <- function(yld, term, cpn, freq, prin) {
        indx <- 1:(term*freq)
        payment <- (cpn/freq)*prin
        disc <- (1 + yld/freq)
        sum(payment/disc^(indx)) + prin/(disc^(term*freq))
    }
    uniroot(function(yld) npv(yld, term, cpn, freq, prin) - price,
interval=c(0,100), tol=0.000001)$root
}

which gives:

> ytm(100,0.06,20,2)
[1] 0.05999979
>

Thanks for your help!

-Whit


On Fri, Oct 24, 2008 at 2:02 PM, Ajay Shah <ajayshah at mayin.org> wrote:
> On Fri, Oct 24, 2008 at 02:01:18PM -0400, Whit Armstrong wrote:
>> anyone using optim to solve for bond yields given price?
>>
>> I've anyone has any quick and dirty code, I would be grateful.
>
> You mean:
>
> ytm <- function(C, T, p) {
>  npv <- function(C, T, r) {
>    sum(C * (1 + (0.01*r))^-T)
>  }
>  uniroot(function(r) npv(C, T, r) - p, interval=c(-20,100), tol=0.0001)$root
> }
>
> ?
>
> --
> Ajay Shah                                      http://www.mayin.org/ajayshah
> ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
> <*(:-? - wizard who doesn't know the answer.
>


From brian at braverock.com  Fri Oct 24 22:02:21 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 24 Oct 2008 15:02:21 -0500 (CDT)
Subject: [R-SIG-Finance] about periodicity data
In-Reply-To: <fe005e260810241117v6cd79a06t6006ec38776ee760@mail.gmail.com>
References: <fe005e260810241117v6cd79a06t6006ec38776ee760@mail.gmail.com>
Message-ID: <18253.199.198.251.108.1224878541.squirrel@mail.braverock.com>

Michael Sun wrote:
> Hi Guys,
> Does any one have  the experience on how to normalise(or we say
> standardise)the periodic data, for example, the attached data.

This looks a lot like seasonality.  Perhaps that could aid your searching,
as much has been written, including on this list, on dealing with
Seasonality of data in R.

Without looking, I recall that Shumway and Stoffer cover this topic.

R packages uroot, partsm, and ast may prove useful.  Also the base 'stats'
package contains the function decompose() and a few others for dealing
with seasonality.

Please report back so other can benefit from whatever you figure out.

Regards,

   - Brian


From munkey906 at gmail.com  Fri Oct 24 22:20:56 2008
From: munkey906 at gmail.com (Theodore Van Rooy)
Date: Fri, 24 Oct 2008 14:20:56 -0600
Subject: [R-SIG-Finance] Quotes every minute
Message-ID: <3c8226f70810241320m1249960w5c88539fb914a5a7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081024/ccb0cde2/attachment.pl>

From malcolm.croucher at gmail.com  Sun Oct 26 09:44:33 2008
From: malcolm.croucher at gmail.com (malcolm croucher)
Date: Sun, 26 Oct 2008 10:44:33 +0200
Subject: [R-SIG-Finance] Linux based programs
Message-ID: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081026/97d4865e/attachment.pl>

From ajayshah at mayin.org  Sun Oct 26 09:45:56 2008
From: ajayshah at mayin.org (Ajay Shah)
Date: Sun, 26 Oct 2008 14:15:56 +0530
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
Message-ID: <20081026084556.GU303@lubyanka.local>

On Sun, Oct 26, 2008 at 10:44:33AM +0200, malcolm croucher wrote:
> Hi ,
> 
> I wondering if anyone could recommened some linux based programmes for
> finance ? i.e programmes that you can develop code for in c++ ? which allow
> real time data feeds connection to databases ?

One possibility that you should consider is R.

-- 
Ajay Shah                                      http://www.mayin.org/ajayshah  
ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
<*(:-? - wizard who doesn't know the answer.


From landronimirc at gmail.com  Sun Oct 26 14:18:26 2008
From: landronimirc at gmail.com (Liviu Andronic)
Date: Sun, 26 Oct 2008 14:18:26 +0100
Subject: [R-SIG-Finance] alternative to Crystal Ball ?
Message-ID: <68b1e2610810260618o20c41cbdj4da8cb7a9b620400@mail.gmail.com>

Dear R users,

I am looking for R packages that would best approximate Oracle's
Crystall Ball [1]. For those not familiar:
"Crystal Ball software is a leading spreadsheet-based software suite
for predictive modeling, forecasting, Monte Carlo simulation and
optimization. [..] Crystal Ball is used by customers from a broad
range of industries, such as aerospace, financial services,
manufacturing, oil and gas, pharmaceutical and utilities. Crystal Ball
is used in over 800 universities and schools worldwide for teaching
risk analysis concepts.

The diverse applications for Crystal Ball include financial risk
analysis, valuation, engineering, Six Sigma, portfolio allocation,
cost estimation, and project management. "

[1] http://www.oracle.com/crystalball/index.html

The other day, in the Risk Management class, we did Monte Carlo
simulations using Crystall Ball&Excel. The professor (a relatively
young MIT PhD) made a speech that felt a bit distressing, in short:
"Working in Finance, Excel, Excel and nothing but Excel."  I would
prefer to avoid this.

R's packages with Monte Carlo support are numerous, and I wouldn't
know where to start. Recently [2] as alternative to Crystall Ball
QRMlib [3] was suggested, but it is accompanied with a book, while
currently I would prefer online documentation. If any of the R GUI
packages support something similar, please also drop a note.

[2] http://www.nabble.com/Quantitative-risk-analysis-with-R-tp19184940p19184940.html
[3] http://cran.r-project.org/web/packages/QRMlib/index.html

Thank you,
Liviu

PS I'm cross-posting; please let me know if this is not a good idea


From brian at braverock.com  Sun Oct 26 14:28:41 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 26 Oct 2008 08:28:41 -0500
Subject: [R-SIG-Finance] alternative to Crystal Ball ?
In-Reply-To: <68b1e2610810260618o20c41cbdj4da8cb7a9b620400@mail.gmail.com>
References: <68b1e2610810260618o20c41cbdj4da8cb7a9b620400@mail.gmail.com>
Message-ID: <49047089.5070808@braverock.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081026/25f3b359/attachment.pl>

From herrold at owlriver.com  Sun Oct 26 15:24:01 2008
From: herrold at owlriver.com (R P Herrold)
Date: Sun, 26 Oct 2008 10:24:01 -0400 (EDT)
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
Message-ID: <alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>

On Sun, 26 Oct 2008, malcolm croucher wrote:

> I wondering if anyone could recommened some linux based 
> programmes for finance ? i.e programmes that you can develop 
> code for in c++ ? which allow real time data feeds 
> connection to databases ?

   http://www.trading-shim.org/

and in the FAQ, the 'Other Voices' page collects many more, 
suitable for Free and Open Source operating systems.

-- Russ herrold


From bastian2507hk at yahoo.co.uk  Mon Oct 27 03:07:33 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Mon, 27 Oct 2008 03:07:33 +0100
Subject: [R-SIG-Finance] garchOxFit
Message-ID: <49052265.1060004@yahoo.co.uk>

hello everyone,

the garchOxFit functions seem to have been removed from the fGarch 
package. Does anybody know how to get the package/interface? Especially, 
I need a function to estimate EGARCH and TGARCH models and could not 
find any other package for this purpose. Thanks in advance.

regards

Bastian Offermann


From shiningsimon at gmail.com  Mon Oct 27 03:10:21 2008
From: shiningsimon at gmail.com (Yuguang Zhou)
Date: Sun, 26 Oct 2008 22:10:21 -0400
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
Message-ID: <90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081026/6969082f/attachment.pl>

From gvfarns at gmail.com  Mon Oct 27 04:23:19 2008
From: gvfarns at gmail.com (Grant Farnsworth)
Date: Sun, 26 Oct 2008 22:23:19 -0500
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
	<90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
Message-ID: <20081027032319.GA4364@MainLinuxBox>

Lots of things are more convenient under linux. Compiling packages,
using C code, exporting and using LaTeX files, concurrent versioning
systems, and using utilities like grep and wc from within R are all way
easier under linux.  Not to mention it's more natural to do things in
batch mode under linux than it is under windows.

Linux is supposedly the main development platform for R, and that makes
sense, since it's a much better development platform in general.

As for the language itself, it should be the same.

Grant


On Oct 26 at 10:10PM, Yuguang Zhou wrote:
> Dear all,
> 
> I was also wondering is there any advantage using R on Linux vs. Windows?
> 
> One friend told me that I might pick up the use of R on Linux, since some
> financial firms are using R in that platform. But what I want to know is, in
> terms of learning language, what is the difference b/t doing in tow
> platforms?
> 
> Thanks very much!
> 
> 
> Best,
> Yuguang
>


From ggrothendieck at gmail.com  Mon Oct 27 04:50:14 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 26 Oct 2008 23:50:14 -0400
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
	<90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
Message-ID: <971536df0810262050k255a1b5fg9aaf64f80ed9ff52@mail.gmail.com>

Under Windows you can download prebuilt binaries from
CRAN so you don't have to build them like on Linux
and therefore you will never run into the frustration that
a package does not build on your system.

Also there is a menuing system included with R on
Windows but not Linux, e.g. to install a package just
   Packages | Install
and choose the mirror you want and the package you want
from the popups.

The latest Rtools package (all the tools
you need to develop R packages) for Windows and
MiKTeX (also needed for package development)
are easy to install so its no longer the
case that package development is easier on Linux.

R on Linux can access more memory than on
Windows which could be an advantage if you need
very large memory space.

If you are using certain software with R then such
software might only be available on Windows or Linux
in which case that would be key.  R can communicate
with Microsoft COM objects on Windows and has
bidirectional pipes on Linux but not on Windows.

There are a few packages that only work on
Windows and a few that only work on Linux.

My sense is that the R community is split 50/50 between
Windows and Linux/Mac so both platforms are well
supported. Some versions of Linux might be better
supported than others.


On Sun, Oct 26, 2008 at 10:10 PM, Yuguang Zhou <shiningsimon at gmail.com> wrote:
> Dear all,
>
> I was also wondering is there any advantage using R on Linux vs. Windows?
>
> One friend told me that I might pick up the use of R on Linux, since some
> financial firms are using R in that platform. But what I want to know is, in
> terms of learning language, what is the difference b/t doing in tow
> platforms?
>
> Thanks very much!
>
>
> Best,
> Yuguang
>
> On Sun, Oct 26, 2008 at 10:24 AM, R P Herrold <herrold at owlriver.com> wrote:
>
>> On Sun, 26 Oct 2008, malcolm croucher wrote:
>>
>>  I wondering if anyone could recommened some linux based programmes for
>>> finance ? i.e programmes that you can develop code for in c++ ? which allow
>>> real time data feeds connection to databases ?
>>>
>>
>>  http://www.trading-shim.org/
>>
>> and in the FAQ, the 'Other Voices' page collects many more, suitable for
>> Free and Open Source operating systems.
>>
>> -- Russ herrold
>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From bastian2507hk at yahoo.co.uk  Mon Oct 27 06:15:20 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Mon, 27 Oct 2008 06:15:20 +0100
Subject: [R-SIG-Finance] ?returns not applicable to zoo objects anymore???
Message-ID: <49054E68.8020502@yahoo.co.uk>

hello,

does anybody know by any chance why the function ?returns in package 
timeSeries (formerly fSeries) cannot be applied to zoo objects? And 
converting zoo objects into class timeSeries does not seem to work as well.

E.g.

ticker <- c("^GSPC", "MSFT", "MMM", "DAI", "GS")
from <- "1970-10-19"              # of type "YYYY-MM-DD"
till <- "2007-12-31"
freque <- c("d", "w", "m", "y")
fq <- 3                           # input 1 for "d", 2 for "w" etc.

sp500 <- get.hist.quote(ticker[1], start = from, end = till, 
compression=freque[fq], quote="Close")
rsp500 <- returns(get.hist.quote(ticker[1], start = from, end = till, 
compression=freque[fq], quote="Close"))


above code returns error msg.:

Error in .classEnv(thisClass) :
  unable to find an environment containing class "zoo"

I upgraded my version from 2.7.1 to 2.8.0 and found that the package 
fSeries has been changed to timeSeries. ?returns always worked fine as 
coded above and suddenly caused errors as the one above after I had 
installed 2.8.0. I am now using 2.7.1 again, but the error remains. 
operating system is windows vista.

thanks in advance.

regards

bo


From brian at braverock.com  Mon Oct 27 06:31:47 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 27 Oct 2008 00:31:47 -0500
Subject: [R-SIG-Finance] ?returns not applicable to zoo objects
	anymore???
In-Reply-To: <49054E68.8020502@yahoo.co.uk>
References: <49054E68.8020502@yahoo.co.uk>
Message-ID: <49055243.70907@braverock.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/0e23a3f0/attachment.pl>

From Benoit.Schmid at unige.ch  Mon Oct 27 08:14:09 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 08:14:09 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
Message-ID: <49056A41.9020508@unige.ch>

Good morning,

I would like to know what people generally use when the compute
the alpha and the beta (linear interpolation used for benchmark
performance measure).

 From what I have seen, log return (log(V(i)/V(i-1))) and net return
(V(i)/V(i-1) - 1) seems to be used.
But, in general, what do people "prefer" to use?
And why?

I am working with daily values and I would like to provide annualized
values.
I have not found that many documentation on the web concerning
that kind of annualized information.


Intuitively the beta does not change, when it is annualized as it is a 
ratio.

Concerning the alpha, it is a return therefore I should use:
252*alphaDaily for logr and (alphaDaily + 1)252 for netr,

Am I right?

Thanks in advance for your answer.


From patrick at burns-stat.com  Mon Oct 27 09:31:50 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Mon, 27 Oct 2008 08:31:50 +0000
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
	<90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
Message-ID: <49057C76.6020600@burns-stat.com>

There have been other answers, this one is meant
to complement them.

R is remarkably similar under all platforms.  In
particular I routinely move files of R objects created
with 'save' between platforms.


Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Yuguang Zhou wrote:
> Dear all,
>
> I was also wondering is there any advantage using R on Linux vs. Windows?
>
> One friend told me that I might pick up the use of R on Linux, since some
> financial firms are using R in that platform. But what I want to know is, in
> terms of learning language, what is the difference b/t doing in tow
> platforms?
>
> Thanks very much!
>
>
> Best,
> Yuguang
>
> On Sun, Oct 26, 2008 at 10:24 AM, R P Herrold <herrold at owlriver.com> wrote:
>
>   
>> On Sun, 26 Oct 2008, malcolm croucher wrote:
>>
>>  I wondering if anyone could recommened some linux based programmes for
>>     
>>> finance ? i.e programmes that you can develop code for in c++ ? which allow
>>> real time data feeds connection to databases ?
>>>
>>>       
>>  http://www.trading-shim.org/
>>
>> and in the FAQ, the 'Other Voices' page collects many more, suitable for
>> Free and Open Source operating systems.
>>
>> -- Russ herrold
>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>     
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>


From landronimirc at gmail.com  Mon Oct 27 11:58:06 2008
From: landronimirc at gmail.com (Liviu Andronic)
Date: Mon, 27 Oct 2008 11:58:06 +0100
Subject: [R-SIG-Finance] alternative to Crystal Ball ?
In-Reply-To: <49047089.5070808@braverock.com>
References: <68b1e2610810260618o20c41cbdj4da8cb7a9b620400@mail.gmail.com>
	<49047089.5070808@braverock.com>
Message-ID: <68b1e2610810270358q248c557ao524466ae12e5337f@mail.gmail.com>

Hello Brian,

On Sun, Oct 26, 2008 at 2:28 PM, Brian G. Peterson <brian at braverock.com> wrote:
> See the recent thread on R-SIG-finance about R in finance.  There is
>
Thanks for the pointer. I overlooked this discussion, informative indeed.


> Perhaps if you are a bit more clear about specifically what type of analysis
> you are trying to accomplish, this list can help you select a package that
> may meet your needs.
>
What we did in class with Excel, and that I would like to replicate in
R and subsequently use for our project, was fairly basic. We were
given a quantitative model [1] for a simulation. Questions to be
answered:
1. Using the monthly mean reversion model presented in Appendix A,
   develop the distribution of average aluminum price (US$ per ton) and
   US$/CAD$ exchange rate (US$ per CAD$) for one year.
2. Considering only aluminum price and currency risks, develop the distri-
   butions of EBITDA ($ per ton), Operating Cash Flow (OCF, $ per ton),
   and EVA ($ per ton) for a year when the smelter is fully operational.
   A minimum of two hundred thousand simulations is required.


The random part was given by Eta alone, so in Crystal Ball [2] this
was the defined normal random variable (in green); the blue coloured
cells was, in CB terminology, the "defined forecast" (the excel file
contains two or three distinct simulations; only one "defined
forecast" per simulation was used, I think). Then using Monte Carlo
simulations (assigning random values to Eta, around 100,000 attempts)
we estimated the modelled variable on a monthly basis and obtained an
estimated distribution (unfortunately I did not save any graphics, and
currently not on Windows). With this distribution (estimated mean,
std) we could determine the probability that the firms could end up
with negative cash flows. The goal of the game was to quantify the
price and currency risks (first individually, then together with their
correlation taken into account), and determine the firm's exposure to
these.

I feel I went into too many details, but if there is something
unclear, feel free to ask.
Regards,
Liviu

[1] http://s000.tinyupload.com/index.php?file_id=82303267004924284490
[2] http://s000.tinyupload.com/index.php?file_id=01823496393275663340



-- 
Do you know how to read?
http://www.alienetworks.com/srtest.cfm
Do you know how to write?
http://garbl.home.comcast.net/~garbl/stylemanual/e.htm#e-mail


From ggrothendieck at gmail.com  Mon Oct 27 12:24:55 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 27 Oct 2008 07:24:55 -0400
Subject: [R-SIG-Finance] ?returns not applicable to zoo objects
	anymore???
In-Reply-To: <49055243.70907@braverock.com>
References: <49054E68.8020502@yahoo.co.uk> <49055243.70907@braverock.com>
Message-ID: <971536df0810270424s6bd08677qa5bcf28a38d71d16@mail.gmail.com>

Also zoo could be used (see ?diff.zoo):

diff(log(sp500))

On Mon, Oct 27, 2008 at 1:31 AM, Brian G. Peterson <brian at braverock.com> wrote:
> I'm not running R 2.8.0 yet, so I can't comment on your error
> specifically, but I will note that function Return.calculate from
> package PerformanceAnalytics will work with your zoo object from
> get.hist.quote for calculating returns from prices.
>
> rsp500 <- Return.calculate(get.hist.quote(ticker[1], start = from, end =
> till, compression=freque[fq], quote="Close"))
>
> Regards,
>
>    - Brian
>
> Bastian Offermann wrote:
>> hello,
>>
>> does anybody know by any chance why the function ?returns in package
>> timeSeries (formerly fSeries) cannot be applied to zoo objects? And
>> converting zoo objects into class timeSeries does not seem to work as
>> well.
>>
>> E.g.
>>
>> ticker <- c("^GSPC", "MSFT", "MMM", "DAI", "GS")
>> from <- "1970-10-19"              # of type "YYYY-MM-DD"
>> till <- "2007-12-31"
>> freque <- c("d", "w", "m", "y")
>> fq <- 3                           # input 1 for "d", 2 for "w" etc.
>>
>> sp500 <- get.hist.quote(ticker[1], start = from, end = till,
>> compression=freque[fq], quote="Close")
>> rsp500 <- returns(get.hist.quote(ticker[1], start = from, end = till,
>> compression=freque[fq], quote="Close"))
>>
>>
>> above code returns error msg.:
>>
>> Error in .classEnv(thisClass) :
>>  unable to find an environment containing class "zoo"
>>
>> I upgraded my version from 2.7.1 to 2.8.0 and found that the package
>> fSeries has been changed to timeSeries. ?returns always worked fine as
>> coded above and suddenly caused errors as the one above after I had
>> installed 2.8.0. I am now using 2.7.1 again, but the error remains.
>> operating system is windows vista.
>>
>> thanks in advance.
>>
>> regards
>>
>> bo
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From chalabi at phys.ethz.ch  Mon Oct 27 12:41:05 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Mon, 27 Oct 2008 12:41:05 +0100
Subject: [R-SIG-Finance] New Rmetrics Packages
Message-ID: <20081027124105.3ff5e614@mimi>

Dear R users

Most of the work has been concentrated in the following packages:
'timeDate', 'timeSeries', 'fBasics', 'fGarch' and 'fPortfolio'. 

'timeDate' and 'timeSeries' are the new versions of 'fCalendar' and
'fSeries' respectively.  We changed their names to reflect the internal
changes of their classes. 

Indeed 'timeSeries' extends now the class "structure" which gives a
more intuitive handling of 'timeSeries' objects. For example,
subset-ting and basic functions should work in the same way as they do
with a 'matrix'. 

On the other hand 'timeDate' has internal changes which insure that
local settings (i.e. 'tzone') of the R environment is not changed when
dealing with different time zones.

The old packages, 'fCalendar' and 'fSeries', will still be available for
compatibility purpose.

The packages 'timeDate', 'timeSeries', 'fBasics', 'fGarch' and
'fPortfolio' have now a NAMESPACE. 

Moreover, we have moved all global variables to a global environment
which can be accessed with the functions 'getRmetricsOptions' and
'setRmetricsOptions.

For the rest of the Rmetrics packages we have fixed bugs that users
have reported to us. If you are interested to become a maintainer or
developer of one of these packages, please contact us.

As usual remarks, comments and patches are always welcome.

Best regards,
Yohan
___________________________________________________________________
NEW PACKAGES

     timeDate : new version of fCalendar with internal changes.
     timeSeries : new version of fSeries.
___________________________________________________________________
OBSOLETE PACKAGES
 
Four packages will be considered obsolete because they are not needed anymore.

   
    fUtilities : major parts have been moved to the package fBasics
    fCalendar : please use the new package fCalendar 
    fSeries : please use the new package fSeries
    Rmetrics

___________________________________________________________________
MAINTAINED PACKAGES

    fBasics              
        holds utility functions, basic tools, and some selected data sets
        for demos and examples
    timeDate
    timeSeries 
        hold S4 classes, methods and functions for date/time and financial
        time series management
    fGarch               
        holds functions for analysing and modeling heteroskedastic
        time series process and functions for Volatility Forecasting
    fAssets
    fPortfolio  
        hold functions for asset management and portfolio design and
        optimization
    
___________________________________________________________________
OTHER PACKAGES

The following packages do not have any new features. Only bugs which
have been reported by users have been fixed. 

If you are interested to become a maintainer or developer of one of
these packages, please do not hesitate to contact us.

   fEcofin
        a small number of selected data sets from fEcofin will go to 
        the package fBasics, the remaining data sets will be available 
        on demand
    fImport
        holds functions for downloading financial market data from 
        the Internet
    fArma
    fRegression
    fNonliner
    fTrading 
        hold functions dealing with several aspects of financial time 
        series analysis, trading and decision making
    fOptions
    fExoticOptions
    fAsianOptions
        hold functions for analytical, numerical and Monte Carlo option 
        pricing and for sensitivity analysis, including generators for
        low discrepancy sequences
     fMultivariate
        the bivariate and multivariate distribution functions from 
        fMultivar will go to the package fCopulae
    fUnitRoots
        McKinnons test statistics from fUnitRoots will be hosted by
        the contributed R package urca
    fExtremes
    fCopulae  
        hold functions for financial risk managment from extreme
        value theory and copulae dependence structure

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From brian at braverock.com  Mon Oct 27 12:45:26 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 27 Oct 2008 06:45:26 -0500
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <49056A41.9020508@unige.ch>
References: <49056A41.9020508@unige.ch>
Message-ID: <4905A9D6.1070402@braverock.com>

You will find all of the classic CAPM functions implemented in 
PerformanceAnalytics, including CAPM.alpha, CAPM.beta (and their bul/up 
and bear/down market counterparts), timing.ratio, Return.excess, 
CAPM.Riskpremium, and the SML and CML.  We have attempted to implement 
these using the definitions described in Sharpe's papers as well as 
generally agreed by other authors who have covered CAPM.  So all your 
functions, I hope, are already written, documented, and cited.

There is some disagreement in the literature and among practitioners 
regarding different aspects of CAPM that affect your inquiry.  One of 
them is the risk free rate.  In the original papers the risk free rate 
was a single (scalar numeric) number, while many more recent sources and 
practitioners prefer to use the risk free rate as a time series (for 
instance of returns on Treasury bills).  The function Return.excess 
allows either a scalar or time series representation. 

Classic CAPM alpha will not change based on the periodicity, as it 
measures the _portion_ of a set of returns that are not attributable to 
the benchmark return, and should be calculated with the highest regular 
periodicity available. Return.excess may calculate what you are 
referring to as "alpha" if by alpha you mean returns over a benchmark 
return, in which case you would first run Return.excess using the 
benchmark return as the parameter 'rf' and then cumulate your daily log 
returns to get a cumulative return over some other periodicity (annual 
in your query).

Returns and 'risk' may be annualized as a way to simplify comparison 
over longer time periods.  Although it requires a bit of estimating, 
such aggregation is popular because it offers a reference point for easy 
comparison. "Annualizing" the CAPM numbers and other related numbers 
such as the  Sharpe ratio you will find significant disagreement among 
different authors.  We have provided in our functions many of these 
different interpretations, including 'Return.annualized', 
'sd.annualized', and 'SharpeRatio.annualized' functions.

We have also provided many of the extensions of classic CAPM by Sharpe, 
Sortino, and others that are generally grouped into "Modern Portfolio 
Theory".  In addition to The Sortino ration and related semivariance and 
downside deviation measures, you will find active premium, information 
ration, and tracking error implemented in most of their commonly 
presented forms.

Hopefully my long response helps to answer your question.  If there are 
other questions that this raises, please ask them, and the list will 
attempt to provide a rational response.

Regards,

    - Brian

Benoit Schmid wrote:
> Good morning,
>
> I would like to know what people generally use when the compute
> the alpha and the beta (linear interpolation used for benchmark
> performance measure).
>
> From what I have seen, log return (log(V(i)/V(i-1))) and net return
> (V(i)/V(i-1) - 1) seems to be used.
> But, in general, what do people "prefer" to use?
> And why?
>
> I am working with daily values and I would like to provide annualized
> values.
> I have not found that many documentation on the web concerning
> that kind of annualized information.
>
>
> Intuitively the beta does not change, when it is annualized as it is a 
> ratio.
>
> Concerning the alpha, it is a return therefore I should use:
> 252*alphaDaily for logr and (alphaDaily + 1)252 for netr,
>
> Am I right?
>
> Thanks in advance for your answer.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From chalabi at phys.ethz.ch  Mon Oct 27 12:52:39 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Mon, 27 Oct 2008 12:52:39 +0100
Subject: [R-SIG-Finance] ?returns not applicable to zoo objects
 anymore???
In-Reply-To: <49054E68.8020502@yahoo.co.uk>
References: <49054E68.8020502@yahoo.co.uk>
Message-ID: <20081027125239.13205743@mimi>

>>>> "BO" == Bastian Offermann <bastian2507hk at yahoo.co.uk>
>>>> on Mon, 27 Oct 2008 06:15:20 +0100

   BO> hello,
   BO> 
   BO> does anybody know by any chance why the function ?returns in package 
   BO> timeSeries (formerly fSeries) cannot be applied to zoo objects? And 
   BO> converting zoo objects into class timeSeries does not seem to work as well.
   BO> 
   BO> E.g.
   BO> 
   BO> ticker <- c("^GSPC", "MSFT", "MMM", "DAI", "GS")
   BO> from <- "1970-10-19"              # of type "YYYY-MM-DD"
   BO> till <- "2007-12-31"
   BO> freque <- c("d", "w", "m", "y")
   BO> fq <- 3                           # input 1 for "d", 2 for "w" etc.
   BO> 
   BO> sp500 <- get.hist.quote(ticker[1], start = from, end = till, 
   BO> compression=freque[fq], quote="Close")
   BO> rsp500 <- returns(get.hist.quote(ticker[1], start = from, end = till, 
   BO> compression=freque[fq], quote="Close"))
   BO> 
   BO> 
   BO> above code returns error msg.:
   BO> 
   BO> Error in .classEnv(thisClass) :
   BO>   unable to find an environment containing class "zoo"
   BO> 
   BO> I upgraded my version from 2.7.1 to 2.8.0 and found that the package 
   BO> fSeries has been changed to timeSeries. ?returns always worked fine as 
   BO> coded above and suddenly caused errors as the one above after I had 
   BO> installed 2.8.0. I am now using 2.7.1 again, but the error remains. 
   BO> operating system is windows vista.
   BO> 
   BO> thanks in advance.
   BO> 
   BO> regards

Hi Bastian,

most of the function in timeSeries have been turned to S4 methods.

If you chekc the code of 'returns' methods for 'ANY' class you will see
that we used the the function as(x, "matrix").

But it seems that some time series packages do not support it. I will
change it to as.matrix. This should solve your problem.

I hope to commit today the fixed package to CRAN.

regards,
Yohan


-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From chalabi at phys.ethz.ch  Mon Oct 27 13:06:14 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Mon, 27 Oct 2008 13:06:14 +0100
Subject: [R-SIG-Finance] garchOxFit
In-Reply-To: <49052265.1060004@yahoo.co.uk>
References: <49052265.1060004@yahoo.co.uk>
Message-ID: <20081027130614.2326cb4b@mimi>

>>>> "BO" == Bastian Offermann <bastian2507hk at yahoo.co.uk>
>>>> on Mon, 27 Oct 2008 03:07:33 +0100

   BO> hello everyone,
   BO> 
   BO> the garchOxFit functions seem to have been removed from the fGarch 
   BO> package. Does anybody know how to get the package/interface? Especially, 
   BO> I need a function to estimate EGARCH and TGARCH models and could not 
   BO> find any other package for this purpose. Thanks in advance.
   BO> 
   BO> regards
   BO> 
   BO> Bastian Offermann

Dear Bastian,

garchOxFit has been removed from fGarch because it needs to be updated.

Unfortunately nobody volunteered to do it, so we decided to remove it.

If you are fine with the old fGarch package, I would recommend you to
use it. You can get it from the archive section of CRAN.
 
If you are interested to update the garchOxFit, we can give you some
support in doing so.

regards,
Yohan

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From Benoit.Schmid at unige.ch  Mon Oct 27 13:41:16 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 13:41:16 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905A9D6.1070402@braverock.com>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
Message-ID: <4905B6EC.6030206@unige.ch>

Good morning,

Brian G. Peterson wrote:
>  Return.excess may calculate what you are referring to as "alpha" if 
> by alpha you mean returns over a benchmark return, in which case you 
> would first run Return.excess using the benchmark return as the 
> parameter 'rf' and then cumulate your daily log returns to get a 
> cumulative return over some other periodicity (annual in your query).
First of all thanks for your answer.
There are several questions in my thread.

The first one is do you use net return or log return?

 From what I read, you always use log return.
Am I right?
If yes, why do you use log return instead of net returns?

Thanks in advance for your answer


From Benoit.Schmid at unige.ch  Mon Oct 27 14:01:01 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 14:01:01 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905A9D6.1070402@braverock.com>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
Message-ID: <4905BB8D.90409@unige.ch>

Good morning,

Brian G. Peterson wrote:
> Classic CAPM alpha will not change based on the periodicity, as it 
> measures the _portion_ of a set of returns that are not attributable 
> to the benchmark return, and should be calculated with the highest 
> regular periodicity available. Return.excess may calculate what you 
> are referring to as "alpha" if by alpha you mean returns over a 
> benchmark return, in which case you would first run Return.excess 
> using the benchmark return as the parameter 'rf' and then cumulate 
> your daily log returns to get a cumulative return over some other 
> periodicity (annual in your query).
If I look at the Jengsen alpha d?finition, it is a linear combination of 
return.
Therefore it is a return.
Therefore the daily Jengsen alpha is not equivalent as the yearly 
Jengsen alpha.
Am I right?
If not, what I am missing?

What you are explaining to me is that The alpha is not the jengsen alpha
because it "measures the _portion_ of a set of returns".
By portion, you mean that it is a ratio of returns and not an absolute 
return.
Am I right?

Thanks in advance for your answer.


From j_cuisinier at hotmail.com  Mon Oct 27 14:05:25 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Mon, 27 Oct 2008 14:05:25 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905A9D6.1070402@braverock.com>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
Message-ID: <COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/a230834c/attachment.pl>

From j_cuisinier at hotmail.com  Mon Oct 27 14:10:25 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Mon, 27 Oct 2008 14:10:25 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905BB8D.90409@unige.ch>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<4905BB8D.90409@unige.ch>
Message-ID: <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/ede5a924/attachment.pl>

From Benoit.Schmid at unige.ch  Mon Oct 27 14:32:18 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 14:32:18 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
Message-ID: <4905C2E2.9070205@unige.ch>

Good morning Julien,

julien cuisinier wrote:
>
> >> not needed on beta since annualizing the numerator (Cov(stock,mkt)) 
> and denominator (Var(Mkt)) requires the same factor, i.e. *252 if you 
> had daily returns at the start
> >> For alpha, since it is simply a return itself: alpha(annual) = 
> ([1+alpha(daily)]^252)-1, the daily alpha in decimal form of course...

1.  As you deal with log return why do you use this geometric aggregation
that should be used for classical net returns?

For log return, as far as I know, the annualized value is simply
252 * dailyLogReturn because the sum of logs is the log of the product.

2. You say that you always compute with log return.
But when you have to present your results, do you convert
your log returns (with exp(logR)-1) or do you let log returns
on your presentations and assumed that log returns are closed
to net returns because log(1+x) ~ x when x is small?

Thanks in advance for your answer.


From Benoit.Schmid at unige.ch  Mon Oct 27 14:35:06 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 14:35:06 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<4905BB8D.90409@unige.ch> <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>
Message-ID: <4905C38A.6000608@unige.ch>

julien cuisinier wrote:
> Benoit,
>  
> Jensen alpha = CAPM alpha
>  
This is the kind of precise answer that I like. :-)


From cwrward at gmail.com  Mon Oct 27 15:09:18 2008
From: cwrward at gmail.com (Charles Ward)
Date: Mon, 27 Oct 2008 14:09:18 +0000
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <49056A41.9020508@unige.ch>
References: <49056A41.9020508@unige.ch>
Message-ID: <bd9aa36b0810270709k66334fb0m97d7bad3f81e74c9@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/99cb480a/attachment.pl>

From landronimirc at gmail.com  Mon Oct 27 15:10:22 2008
From: landronimirc at gmail.com (Liviu Andronic)
Date: Mon, 27 Oct 2008 15:10:22 +0100
Subject: [R-SIG-Finance] New Rmetrics Packages
In-Reply-To: <20081027124105.3ff5e614@mimi>
References: <20081027124105.3ff5e614@mimi>
Message-ID: <68b1e2610810270710m7f630934rbba489f461bfec2d@mail.gmail.com>

Hello Yohan,

Please excuse me if I missed something. Is it normal that Rmetrics was
removed from CRAN? Would this simply mean that there is no more
Rmetrics bundle, and that each Rmetrics package needs installed
separately? The home page [1] contains some information, but it is not
entirely clear to me.

Thank you,
Liviu

[1] http://www.rmetrics.org/rmetricsPackages.htm



On 10/27/08, Yohan Chalabi <chalabi at phys.ethz.ch> wrote:
> Dear R users
>
>  Most of the work has been concentrated in the following packages:
>  'timeDate', 'timeSeries', 'fBasics', 'fGarch' and 'fPortfolio'.
>
>  'timeDate' and 'timeSeries' are the new versions of 'fCalendar' and
>  'fSeries' respectively.  We changed their names to reflect the internal
>  changes of their classes.
>


-- 
Do you know how to read?
http://www.alienetworks.com/srtest.cfm
Do you know how to write?
http://garbl.home.comcast.net/~garbl/stylemanual/e.htm#e-mail


From Benoit.Schmid at unige.ch  Mon Oct 27 15:10:44 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 15:10:44 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<4905BB8D.90409@unige.ch> <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>
Message-ID: <4905CBE4.2040204@unige.ch>

Good afternoon,

julien cuisinier wrote:
> Benoit,
>  
> Jensen alpha = CAPM alpha
Would you also know the difference between
the Security Market Line Alpha and the capm alpha?

Thanks in advance for your answer.


From Benoit.Schmid at unige.ch  Mon Oct 27 15:21:35 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 15:21:35 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <bd9aa36b0810270709k66334fb0m97d7bad3f81e74c9@mail.gmail.com>
References: <49056A41.9020508@unige.ch>
	<bd9aa36b0810270709k66334fb0m97d7bad3f81e74c9@mail.gmail.com>
Message-ID: <4905CE6F.20100@unige.ch>

Good afternoon Charles,

Charles Ward wrote:
> The beta will change if measured over different intervals, e.g. daily, 
> weekly and monthly because of some serial correlation in returns in 
> either the stock price returns or even the index. (There are 
> techniques used to correct for this problem (e.g. Dimson approach).
I fully agree with you, but my question is much simpler.
I assume the autocorrelation of the return to be zero.
I think that I could start adding non-zero autocorrelation
only when all the basic alpha computations would be fully understood.
> There is even the oddity that  the beta will change depending on which 
> day of the month is used to measure monthly returns!  See D Acker and 
> N Duck, "Reference-Day Risk and the Use of Monthly Returns 
> Data"Journal of Accounting, Auditing & Finance; Fall2007, Vol. 22 
> Issue 4, p527-557. This anomaly is quite startling.
> Therefore because the beta changes, the alpha would change too if 
> measured over different intervals. As far as the risk free rate is 
> concerned, by definition, the CAPM is a single period model so 
> depending on the interval of measurement, the risk-free return should 
> yield a certain return over that horizon so  1 month TBills in 1 
> monthly returns, 2 month Tbills in quarterly returns. In the original 
> Jensen paper (1968) on Mutual Fund performance he used an average 
> return as the risk free rate but it should really depend on the 
> period-by-period risk-free rate, i.e a time series of risk free rates 
> as well as a time series of stock price returns.
I also fully agree with you and I am assuming that Rf is constant
(even uglier Rf=0) up to now,
so that my understanding of this alphas computations
would be easier to construct.

You are basically, pointing out my future questions.
You are too fast for me. :-)


From Benoit.Schmid at unige.ch  Mon Oct 27 15:44:34 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 15:44:34 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
Message-ID: <4905D3D2.4030606@unige.ch>

julien cuisinier wrote:
>
> As I mentioned, all this are my opinions...and subject to the reason 
> why you want to compute an alpha & beta...the beta being one of the 
> most notoriously misleading indicator out there...ask me more on this 
> if interest.
> <http://clk.atdmt.com/AVE/go/onm00200471ave/direct/01/>
Do not hesitate to develop why you think that the beta is a misleading 
indicator.

 From what I understand, it is useful to estimate the leverage
of the fund with respect to the benchmark.

Thanks in advance for your answer.


From chalabi at phys.ethz.ch  Mon Oct 27 15:58:38 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Mon, 27 Oct 2008 15:58:38 +0100
Subject: [R-SIG-Finance] New Rmetrics Packages
In-Reply-To: <68b1e2610810270710m7f630934rbba489f461bfec2d@mail.gmail.com>
References: <20081027124105.3ff5e614@mimi>
	<68b1e2610810270710m7f630934rbba489f461bfec2d@mail.gmail.com>
Message-ID: <20081027155838.1b9ce312@mimi>

>>>> "LA" == "Liviu Andronic" <landronimirc at gmail.com>
>>>> on Mon, 27 Oct 2008 15:10:22 +0100

   LA> Hello Yohan,
   LA> 
   LA> Please excuse me if I missed something. Is it normal that Rmetrics was
   LA> removed from CRAN? Would this simply mean that there is no more
   LA> Rmetrics bundle, and that each Rmetrics package needs installed
   LA> separately? The home page [1] contains some information, but it is not
   LA> entirely clear to me.
   LA> 
   LA> Thank you,
   LA> Liviu
   LA> 
   LA> [1] http://www.rmetrics.org/rmetricsPackages.htm

Dear Liviu,

The Rmetrics bundle has been indeed removed from CRAN.

As you might have read in my previous post, we have been working on a
specific subset of packages ('timeDate', 'timeSeries', 'fBasics',
'fGarch' and 'fPortfolio')

The rest of the packages did not get that much of attention except some
bugs which have been reported to us. This situation will probably not
change in the future if we do not find more developers to help us to
maintain these packages.

Moreover we are trying to reduce the number of packages and review
their code.

Because of these changes, we preferred to remove the Rmetrics bundle
package from CRAN and encourage users to load the individual packages.

Best regards,
Yohan 

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From jeff.a.ryan at gmail.com  Mon Oct 27 16:23:11 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 27 Oct 2008 10:23:11 -0500
Subject: [R-SIG-Finance] ?returns not applicable to zoo objects
	anymore???
In-Reply-To: <49054E68.8020502@yahoo.co.uk>
References: <49054E68.8020502@yahoo.co.uk>
Message-ID: <e8e755250810270823o3a403bfeg438820c3a9e1dba3@mail.gmail.com>

You can also use:

?periodReturn in quantmod.  This allows you to calculate returns over
any period, on any type of time-series class.  Both log and arithmetic
(discrete).

     periodReturn(x,
                  period='monthly',
                  subset=NULL,
                  type='arithmetic',
                  leading=TRUE,
                  ...)

     dailyReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     weeklyReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     monthlyReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     quarterlyReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     annualReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     yearlyReturn(x, subset=NULL, type='arithmetic',
                leading=TRUE, ...)
     allReturns(x, subset=NULL, type='arithmetic',
                leading=TRUE)


Jeff

On Mon, Oct 27, 2008 at 12:15 AM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
> hello,
>
> does anybody know by any chance why the function ?returns in package
> timeSeries (formerly fSeries) cannot be applied to zoo objects? And
> converting zoo objects into class timeSeries does not seem to work as well.
>
> E.g.
>
> ticker <- c("^GSPC", "MSFT", "MMM", "DAI", "GS")
> from <- "1970-10-19"              # of type "YYYY-MM-DD"
> till <- "2007-12-31"
> freque <- c("d", "w", "m", "y")
> fq <- 3                           # input 1 for "d", 2 for "w" etc.
>
> sp500 <- get.hist.quote(ticker[1], start = from, end = till,
> compression=freque[fq], quote="Close")
> rsp500 <- returns(get.hist.quote(ticker[1], start = from, end = till,
> compression=freque[fq], quote="Close"))
>
>
> above code returns error msg.:
>
> Error in .classEnv(thisClass) :
>  unable to find an environment containing class "zoo"
>
> I upgraded my version from 2.7.1 to 2.8.0 and found that the package fSeries
> has been changed to timeSeries. ?returns always worked fine as coded above
> and suddenly caused errors as the one above after I had installed 2.8.0. I
> am now using 2.7.1 again, but the error remains. operating system is windows
> vista.
>
> thanks in advance.
>
> regards
>
> bo
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From j_cuisinier at hotmail.com  Mon Oct 27 16:25:18 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Mon, 27 Oct 2008 16:25:18 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905CBE4.2040204@unige.ch>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<4905BB8D.90409@unige.ch> <COL102-W33B89DD0369C2C38148AA38F240@phx.gbl>
	<4905CBE4.2040204@unige.ch>
Message-ID: <COL102-W308DA3629EF202DF1D28B58F240@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/ced8c1d5/attachment.pl>

From j_cuisinier at hotmail.com  Mon Oct 27 16:38:26 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Mon, 27 Oct 2008 16:38:26 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <4905C2E2.9070205@unige.ch>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
Message-ID: <COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/23df8271/attachment.pl>

From Benoit.Schmid at unige.ch  Mon Oct 27 17:16:37 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Mon, 27 Oct 2008 17:16:37 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
Message-ID: <4905E965.9010706@unige.ch>

Good morning,

Thanks for having replied to my previous questions.

julien cuisinier wrote:
> 1. Log returns as a matter of precision, it assume continuous 
> compounding...which is what your security price does, so it is a better 
> estimate of your true return ==> geometric aggregation since it is the 
> correct one (I believe) that factor for compounding >> do it manually in 
> excel, you will see that this formula will revert the correct final 
> return while the "multiply by number of periods" will only revert an 
> approximation

I have tested it on a spreadsheet.

Aggregation of 252 days of log return is the sum of log return:
log(V(252)/V(1)) = log(V(252)/V(251)*V(251)/V(250)*...*V(2)/V(1))
                 = log(V(252)/V(251)) + log(V(251)/V(250)) + ... + log(V(2)/V(1))
Therefore for log return, we take the sum to aggregate.
If you suppose that the daily alpha is constant and is in log return term, 
then alpha(252 days) = 252 * alpha(1 day)

Aggregation of 252 days of net return (non log) is a geometric aggregation:
V(252)/V(1) - 1 = ((V(252)/V(251) - 1 + 1)*(V(251)/V(250) - 1 + 1)*...*(V(1)/V(0)) - 1
                = ((R(252) + 1)*(R(251) + 1)*...*(R(1) + 1)) - 1
If you suppose that the daily alpha is constant and is in net return term, 
then alpha(252 days) = ((alpha + 1)^252) - 1

This is why I say that aggregation (that is used for annualization) is a sum 
in the case of log return and is a geometric aggregation in the case of a net return.

Therefore I do not understand why you are using ((alpha+1)^252)-1 instead of 252*alpha 
when you work with log return.
For me ((alpha+1)^252)-1 is the correct value for net (non log) return.

What am I missing?

Thanks in advance for your answer.


From shiningsimon at gmail.com  Mon Oct 27 20:38:12 2008
From: shiningsimon at gmail.com (Yuguang Zhou)
Date: Mon, 27 Oct 2008 15:38:12 -0400
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <49057C76.6020600@burns-stat.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
	<90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
	<49057C76.6020600@burns-stat.com>
Message-ID: <90254aff0810271238o42c3f044pe1f20d70054cf66f@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081027/ff40a9e2/attachment.pl>

From ggrothendieck at gmail.com  Mon Oct 27 20:56:38 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 27 Oct 2008 15:56:38 -0400
Subject: [R-SIG-Finance] Linux based programs
In-Reply-To: <90254aff0810271238o42c3f044pe1f20d70054cf66f@mail.gmail.com>
References: <386fa5610810260144m624dd568y55b22068c130be7e@mail.gmail.com>
	<alpine.LRH.2.00.0810261022290.26092@arj.bjyevire.pbz>
	<90254aff0810261910r6b7a2661q2102181c4267b461@mail.gmail.com>
	<49057C76.6020600@burns-stat.com>
	<90254aff0810271238o42c3f044pe1f20d70054cf66f@mail.gmail.com>
Message-ID: <971536df0810271256v6ca16872w628965af4dfef9e1@mail.gmail.com>

R runs fine under Vista.

On Mon, Oct 27, 2008 at 3:38 PM, Yuguang Zhou <shiningsimon at gmail.com> wrote:
> Dear Grant, Gabor and Patrick,
>
> Thanks so much for your comments.
>
> I am actually not a developer but a student in quantitative finance. I am
> entering the R world to get one more tool to communicate with more people.
> Also, it might help me to replicate those procedures in some interesting
> academic paper using R language.
>
> So I guess I will start learning R from a windows version, and further
> switch to the Linux version if necessary.
>
> One more question, is it ok to install R in Vista Professional, which has
> been pre-installed on my laptop? Is there is any compatibility issue or
> annoying bugs?
>
> Again, thank you.
>
>
> Best,
> Yuguang
>
>
> On Mon, Oct 27, 2008 at 4:31 AM, Patrick Burns <patrick at burns-stat.com>wrote:
>
>> There have been other answers, this one is meant
>> to complement them.
>>
>> R is remarkably similar under all platforms.  In
>> particular I routinely move files of R objects created
>> with 'save' between platforms.
>>
>>
>> Patrick Burns
>> patrick at burns-stat.com
>> +44 (0)20 8525 0696
>> http://www.burns-stat.com
>> (home of S Poetry and "A Guide for the Unwilling S User")
>>
>> Yuguang Zhou wrote:
>>
>>> Dear all,
>>>
>>> I was also wondering is there any advantage using R on Linux vs. Windows?
>>>
>>> One friend told me that I might pick up the use of R on Linux, since some
>>> financial firms are using R in that platform. But what I want to know is,
>>> in
>>> terms of learning language, what is the difference b/t doing in tow
>>> platforms?
>>>
>>> Thanks very much!
>>>
>>>
>>> Best,
>>> Yuguang
>>>
>>> On Sun, Oct 26, 2008 at 10:24 AM, R P Herrold <herrold at owlriver.com>
>>> wrote:
>>>
>>>
>>>
>>>> On Sun, 26 Oct 2008, malcolm croucher wrote:
>>>>
>>>>  I wondering if anyone could recommened some linux based programmes for
>>>>
>>>>
>>>>> finance ? i.e programmes that you can develop code for in c++ ? which
>>>>> allow
>>>>> real time data feeds connection to databases ?
>>>>>
>>>>>
>>>>>
>>>>  http://www.trading-shim.org/
>>>>
>>>> and in the FAQ, the 'Other Voices' page collects many more, suitable for
>>>> Free and Open Source operating systems.
>>>>
>>>> -- Russ herrold
>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only.
>>>> -- If you want to post, subscribe first.
>>>>
>>>>
>>>>
>>>
>>>        [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>>
>>>
>>>
>>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jefe_goode at yahoo.com  Tue Oct 28 17:56:52 2008
From: jefe_goode at yahoo.com (jefe goode)
Date: Tue, 28 Oct 2008 09:56:52 -0700 (PDT)
Subject: [R-SIG-Finance] R zoo installation
Message-ID: <811474.32239.qm@web65610.mail.ac4.yahoo.com>

Hi

I am running into a problem installing zoo on my PC (HP 98000 PC running Windows Vista).

The error message is a 'permissions' one claiming I don't have permission to write to a subdirectory ... c:\Program Files\...etc

But I am the administrator with full rights, so I dont see why this would happen.


Has anyone seen this and know of a cure?

Thanks in Advance

Jefe
NB Ist time around, the zoo installation asked me if I wanted to create a library in my local directory, to which I replied yes. Since then (on 2nd / 3rd 4th attempts after re-boot to be sure)  it has never asked that question again. Which makes me suspect a generic installation issue rather that pure Windows permissions issue.






From ggrothendieck at gmail.com  Tue Oct 28 18:14:45 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 28 Oct 2008 13:14:45 -0400
Subject: [R-SIG-Finance] R zoo installation
In-Reply-To: <811474.32239.qm@web65610.mail.ac4.yahoo.com>
References: <811474.32239.qm@web65610.mail.ac4.yahoo.com>
Message-ID: <971536df0810281014h7a1eab70tca63d821d6a332db@mail.gmail.com>

Try right clicking the R icon on your desktop and choose Run As Administrator
and then try it again.  (I realize you are Administrator already but
this will make
sure.)  I assume this happens with all packages and not just zoo.

On Tue, Oct 28, 2008 at 12:56 PM, jefe goode <jefe_goode at yahoo.com> wrote:
> Hi
>
> I am running into a problem installing zoo on my PC (HP 98000 PC running Windows Vista).
>
> The error message is a 'permissions' one claiming I don't have permission to write to a subdirectory ... c:\Program Files\...etc
>
> But I am the administrator with full rights, so I dont see why this would happen.
>
>
> Has anyone seen this and know of a cure?
>
> Thanks in Advance
>
> Jefe
> NB Ist time around, the zoo installation asked me if I wanted to create a library in my local directory, to which I replied yes. Since then (on 2nd / 3rd 4th attempts after re-boot to be sure)  it has never asked that question again. Which makes me suspect a generic installation issue rather that pure Windows permissions issue.
>
>
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From Anil.Vijendran.wg08 at wharton.upenn.edu  Tue Oct 28 18:54:42 2008
From: Anil.Vijendran.wg08 at wharton.upenn.edu (Anil Vijendran)
Date: Tue, 28 Oct 2008 10:54:42 -0700
Subject: [R-SIG-Finance] fImport problem on recent R installation
Message-ID: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081028/cdea95b9/attachment.pl>

From jeff.a.ryan at gmail.com  Tue Oct 28 18:59:51 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 28 Oct 2008 12:59:51 -0500
Subject: [R-SIG-Finance] fImport problem on recent R installation
In-Reply-To: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>
References: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>
Message-ID: <e8e755250810281059t2783edf4i2b80a6489133e8b6@mail.gmail.com>

I am sure Yohan will tell you the exact problem, but there have been
quite a few changes internally to timeSeries, and this looks like
something that just got overlooked.

One of a few alternate approaches you can try:

library(quantmod)
getSymbols("IBM")

Will get you what you want, automatically loaded into your environment
under the symbol IBM.  getSymbols can also load other data as well:

http://www.quantmod.com/examples/intro/

HTH,
Jeff

On Tue, Oct 28, 2008 at 12:54 PM, Anil Vijendran
<Anil.Vijendran.wg08 at wharton.upenn.edu> wrote:
> yahooSeries used to work very well but seems to have a bug - since I updated
> my R/Rmetrics install. Any ideas what I may be doing wrong?
>
> Thanks!
>
>> yahooSeries("IBM")
> trying URL '
> http://chart.yahoo.com/table.csv?s=IBM&a=&b=&c=&d=9&e=28&f=2008&g=d&x=.csv'
> Content type 'text/csv' length unknown
> opened URL
> downloaded 589 Kb
>
> Error in inherits(x, "data.frame") :
>  no slot of name "Data" for this object of class "timeSeries"
>
>
> --
> Cheers, Anil
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From chalabi at phys.ethz.ch  Wed Oct 29 09:27:04 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Wed, 29 Oct 2008 09:27:04 +0100
Subject: [R-SIG-Finance] fImport problem on recent R installation
In-Reply-To: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>
References: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>
Message-ID: <20081029092704.73a34738@mimi>

>>>> "AV" == "Anil Vijendran" <Anil.Vijendran.wg08 at wharton.upenn.edu>
>>>> on Tue, 28 Oct 2008 10:54:42 -0700

   AV> yahooSeries used to work very well but seems to have a bug - since I updated
   AV> my R/Rmetrics install. Any ideas what I may be doing wrong?

we have made internal changes in "timeSeries" to make it easier to use it.

From your error output, I can tell that you did not update fImport to
its latest version (aka 270.74 on CRAN). 

Updating all your packages should solve the problem.

regards,
Yohan 

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From baiga.hassan at gmail.com  Wed Oct 29 11:01:03 2008
From: baiga.hassan at gmail.com (HASSAN BAIGA)
Date: Wed, 29 Oct 2008 10:01:03 +0000
Subject: [R-SIG-Finance] fImport problem on recent R installation
In-Reply-To: <20081029092704.73a34738@mimi>
References: <f6ac578e0810281054o3b55c89v64e2c233f78da1b4@mail.gmail.com>
	<20081029092704.73a34738@mimi>
Message-ID: <e88f53c10810290301h21177994hb356556c5600bd0e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081029/fec9ff5c/attachment.pl>

From Benoit.Schmid at unige.ch  Wed Oct 29 11:08:56 2008
From: Benoit.Schmid at unige.ch (Benoit.Schmid at unige.ch)
Date: Wed, 29 Oct 2008 11:08:56 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
Message-ID: <20081029110856.vm28gxn1q88ckwss@webmail.unige.ch>

Good morning Julien,

Thanks for having taken the time to answer.

Quoting julien cuisinier <j_cuisinier at hotmail.com>:
>
> Benoit,
>
>
> I may miss something also, but for me these are two separate issues
> 1. what is the daily return (Geometric Vs arithmetic)
For me a daily return is
1. Net Return = V(i)/V(i-1) - 1
2. Log return = log(V(i)/V(i-1))

Geometric or arithmetic are not a sample daily return they
are average return calculated in two different ways.

What is nice with log return, is that the arithmetic mean
of the daily log return is equal the log return
of the geometric mean of the net return.


> 2. How do I annualize daily returns (geometric Vs arithmetic)
>
> if I put random prices in a spreadsheet over 252 days (1 year), then  
>  compute arithmetic & geometric daily returns >>

You also need to take the log of the daily ratios
in the case of a log return before computing arithmetic
or geometric average.

> I use both vectors  to compute annualized average daily return using  
> both technique  (arithmetic & geometric) >> the closest to the real  
> return (as  (Price(252)/Price(1)-1, so what an investor would  
> actually get over
> a year) I get is by taking geometric annualization of the log   
> returns...geometric annualization of arithmetic returns still yields  
>  close approximation but arithmetic annualization got it off the   
> chart...
Arithmetic with net return is useless as you said.

But arithmetic with logr is usefull because:
exp(arithmetic average of daily log return) - 1 = geometric average of  
net returns
Therefore arithmetic with the logr give the same as of geometric with
net return.

What is new for me is that quants also use geometric annualization
with logr if I understand well.
I thought that quants were only using arithmetic annualization with logr
and geometric with net returns.

If you have good urls on the motivations on applying geometric
on logr, please do not hesitate to share them.
I am interested.

If you have a simple R code that shows your computations of
annualization of logr and show geometric on logr is
a better aggregation, please do not hesitate to post it.
I think it would help me to be sure I understood
everything you wanted to explain.

Thanks for your answer.


From Zeno.Adams at ebs.edu  Wed Oct 29 13:07:23 2008
From: Zeno.Adams at ebs.edu (Adams, Zeno)
Date: Wed, 29 Oct 2008 13:07:23 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <20081029110856.vm28gxn1q88ckwss@webmail.unige.ch>
References: <20081029110856.vm28gxn1q88ckwss@webmail.unige.ch>
Message-ID: <9064522880125945B98983BBAECBA1CC21D2E5@exchsrv001.ebs.local>


 << Geometric or arithmetic are not a sample daily return they
 << are average return calculated in two different ways.

 << What is nice with log return, is that the arithmetic mean
 << of the daily log return is equal the log return
 << of the geometric mean of the net return.

 Just one remark: the arithmetic mean of log returns is only
approximately equal to the geometric mean of net returns (see example
below). I point this out because I have read this claim frequently and
was puzzled when I didn't get exactly the same results.



x <- numeric(100)
x[1] <- 100

set.seed(123)
for (i in 2:100) {
x[i] <- x[i-1] + rnorm(1,1,1) - 0.009*i*rnorm(1,1,1)^2
}

x1 <- c(x[-1],0)
ret <- x1/x - 1

#arithmetic mean of net returns:
amean <- mean(ret[-100])*25000 ; amean

#arithmetic mean of log returns:
amean2 <- mean(diff(log(x)))*25000 ; amean2

#geometric mean of net returns:
gmean<- ((prod(1+ret[-100]))^(1/length(ret[-100]))-1)*25000; gmean




EBS European Business School gemeinnuetzige GmbH - Sitz der Gesellschaft: Wiesbaden, Amtsgericht Wiesbaden HRB 19951 - Umsatzsteuer-ID DE 113891213 Geschaeftsfuehrung: Prof. Dr. Christopher Jahns, Rektor; Dr. Reimar Palte, Kanzler;  Sabine Fuchs, Prokuristin; Verwaltungsrat: Dr. Hellmut K. Albrecht, Vorsitzender

From Benoit.Schmid at unige.ch  Wed Oct 29 14:00:44 2008
From: Benoit.Schmid at unige.ch (Benoit.Schmid at unige.ch)
Date: Wed, 29 Oct 2008 14:00:44 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W801D8C84E9251975F9DEA38F270@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
	<4905E965.9010706@unige.ch>
	<COL102-W801D8C84E9251975F9DEA38F270@phx.gbl>
Message-ID: <20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>

Hello again,

Quoting julien cuisinier <j_cuisinier at hotmail.com>:

> (arithmetic & geometric) >> the closest to the real return (as   
> (Price(252)/Price(1)-1, so what an investor would actually get over   
> a year) I get is by taking geometric annualization of the log   
> returns...geometric annualization of arithmetic returns still yields  
>  close approximation but arithmetic annualization got it off the   
> chart...
>

Just to be sure, let's use the following article as a base:
http://www.riskglossary.com/link/return.htm

For time aggregation, they use n*z for logr.
What you are suggesting is to use (1+z)^n-1
instead of n*z.
Am I right?

Thanks for your answer.


From j_cuisinier at hotmail.com  Wed Oct 29 14:36:30 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Wed, 29 Oct 2008 14:36:30 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
	<4905E965.9010706@unige.ch>
	<COL102-W801D8C84E9251975F9DEA38F270@phx.gbl> 
	<20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>
Message-ID: <COL102-W81D0D759B14888810BCED88F260@phx.gbl>


Hello,
 
Please look at the attached example in the spreadsheet. 
 
The closest I got to "real return" if by using geometric annualization 
 
The link you sent me seems to be correct in the sense that daily returns can be seen as not compounding through the day, but I have harder to consider non compounding of daily return...
 
I guess it depends what is the underlying of the returns...for a stock, one can consider the return as compounding every minute - hence the use of geometric annualization of geometric returns...for an other investment where "return" such as interest are compounded only once a year it might be wise to use arithmetic annualization of arithmetic returns...
 
Personally, the key points is geometric annualization of an average return that make the difference - using arithmetic or geometric returns does not makes much differences...
 
 
Hope that helps
 
Rgds,
Julien
 
 
 
> Date: Wed, 29 Oct 2008 14:00:44 +0100> From: Benoit.Schmid at unige.ch> To: r-sig-finance at stat.math.ethz.ch> Subject: Re: [R-SIG-Finance] Returns used to compute the alpha and the beta> > Hello again,> > Quoting julien cuisinier <j_cuisinier at hotmail.com>:> > > (arithmetic & geometric) >> the closest to the real return (as > > (Price(252)/Price(1)-1, so what an investor would actually get over > > a year) I get is by taking geometric annualization of the log > > returns...geometric annualization of arithmetic returns still yields > > close approximation but arithmetic annualization got it off the > > chart...> >> > Just to be sure, let's use the following article as a base:> http://www.riskglossary.com/link/return.htm> > For time aggregation, they use n*z for logr.> What you are suggesting is to use (1+z)^n-1> instead of n*z.> Am I right?> > Thanks for your answer.> > _______________________________________________> R-SIG-Finance at stat.math.ethz.ch mailing list> https://stat.ethz.ch/mailman/listinfo/r-sig-finance> -- Subscriber-posting only.> -- If you want to post, subscribe first.
_________________________________________________________________


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081029/52a6bb12/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Arithmetic Vs geometric returns.xls
Type: application/octet-stream
Size: 45568 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081029/52a6bb12/attachment.obj>

From patrick at burns-stat.com  Wed Oct 29 18:13:29 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Wed, 29 Oct 2008 17:13:29 +0000
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <9064522880125945B98983BBAECBA1CC21D2E5@exchsrv001.ebs.local>
References: <20081029110856.vm28gxn1q88ckwss@webmail.unige.ch>
	<9064522880125945B98983BBAECBA1CC21D2E5@exchsrv001.ebs.local>
Message-ID: <490899B9.5030702@burns-stat.com>

Adams, Zeno wrote:
>  << Geometric or arithmetic are not a sample daily return they
>  << are average return calculated in two different ways.
>
>  << What is nice with log return, is that the arithmetic mean
>  << of the daily log return is equal the log return
>  << of the geometric mean of the net return.
>
>  Just one remark: the arithmetic mean of log returns is only
> approximately equal to the geometric mean of net returns (see example
> below). I point this out because I have read this claim frequently and
> was puzzled when I didn't get exactly the same results.
>
>
>
> x <- numeric(100)
> x[1] <- 100
>
> set.seed(123)
> for (i in 2:100) {
> x[i] <- x[i-1] + rnorm(1,1,1) - 0.009*i*rnorm(1,1,1)^2
> }
>
> x1 <- c(x[-1],0)
> ret <- x1/x - 1
>
> #arithmetic mean of net returns:
> amean <- mean(ret[-100])*25000 ; amean
>
> #arithmetic mean of log returns:
> amean2 <- mean(diff(log(x)))*25000 ; amean2
>
> #geometric mean of net returns:
> gmean<- ((prod(1+ret[-100]))^(1/length(ret[-100]))-1)*25000; gmean
>
>   

'amean' is pretty much nonsense. 'amean2' and 'gmean'
should be equivalent except one is a log return and the
other is a simple return.  If you transform one return into
the other form, then you should get the same number.

r = log return
R = simple return

r = log(R + 1)
R = exp(r) - 1



Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

>
>
> EBS European Business School gemeinnuetzige GmbH - Sitz der Gesellschaft: Wiesbaden, Amtsgericht Wiesbaden HRB 19951 - Umsatzsteuer-ID DE 113891213 Geschaeftsfuehrung: Prof. Dr. Christopher Jahns, Rektor; Dr. Reimar Palte, Kanzler;  Sabine Fuchs, Prokuristin; Verwaltungsrat: Dr. Hellmut K. Albrecht, Vorsitzender
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>


From Benoit.Schmid at unige.ch  Thu Oct 30 08:50:47 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Thu, 30 Oct 2008 08:50:47 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W81D0D759B14888810BCED88F260@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
	<4905E965.9010706@unige.ch>
	<COL102-W801D8C84E9251975F9DEA38F270@phx.gbl>
	<20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>
	<COL102-W81D0D759B14888810BCED88F260@phx.gbl>
Message-ID: <49096757.6050204@unige.ch>

Good morning,

Thanks for providing the file.

For comparing the averages, you need to to use the same samples.

For the arithmetic averages, you take the values that are in 
the rows 4 up to 42.
For the geometric average, you take the values that are 
in the rows 4 up to 255.

This is why we have very different values.

Your summary is:
	Arithmetic returns	Geometric returns	
arithmetic	-0.13	-0.13	
geometric	-0.07	-0.07	
"real" return	-0.07	-0.07	

If you inverse the sampling selection
(4-42 for geometric average and 4-255 fo arithmetic average)
you get:
	Arithmetic returns	Geometric returns	
arithmetic	-0.07	-0.07	
geometric	-0.12	-0.13	
"real" return	-0.07	-0.07	

Which could be interpreted as arithmetic is better as geometric.

If you use the same samples for both (rows 4-255),
we get a very close value
	Arithmetic returns	Geometric returns
arithmetic	-0.07	-0.07
geometric	-0.07	-0.07		
"real" return	-0.07	-0.07

Basically in you example all means converges to the real values.
This is the case because daily return are small.
Therefore (1+x)*(1+y) ~ 1+x+y because xy is very small.

See you,

julien cuisinier wrote:
> Hello,
>  
> Please look at the attached example in the spreadsheet.
>  
> The closest I got to "real return" if by using geometric annualization
>  
> The link you sent me seems to be correct in the sense that daily returns 
> can be seen as not compounding through the day, but I have harder to 
> consider non compounding of daily return...
>  
> I guess it depends what is the underlying of the returns...for a stock, 
> one can consider the return as compounding every minute - hence the use 
> of geometric annualization of geometric returns...for an other 
> investment where "return" such as interest are compounded only once a 
> year it might be wise to use arithmetic annualization of arithmetic 
> returns...
>  
> Personally, the key points is geometric annualization of an average 
> return that make the difference - using arithmetic or geometric returns 
> does not makes much differences...
>  
>  
> Hope that helps
>  
> Rgds,
> Julien
>  
>  
>  
> 
>  > Date: Wed, 29 Oct 2008 14:00:44 +0100
>  > From: Benoit.Schmid at unige.ch
>  > To: r-sig-finance at stat.math.ethz.ch
>  > Subject: Re: [R-SIG-Finance] Returns used to compute the alpha and 
> the beta
>  >
>  > Hello again,
>  >
>  > Quoting julien cuisinier <j_cuisinier at hotmail.com>:
>  >
>  > > (arithmetic & geometric) >> the closest to the real return (as
>  > > (Price(252)/Price(1)-1, so what an investor would actually get over
>  > > a year) I get is by taking geometric annualization of the log
>  > > returns...geometric annualization of arithmetic returns still yields
>  > > close approximation but arithmetic annualization got it off the
>  > > chart...
>  > >
>  >
>  > Just to be sure, let's use the following article as a base:
>  > http://www.riskglossary.com/link/return.htm
>  >
>  > For time aggregation, they use n*z for logr.
>  > What you are suggesting is to use (1+z)^n-1
>  > instead of n*z.
>  > Am I right?
>  >
>  > Thanks for your answer.
>  >
>  > _______________________________________________
>  > R-SIG-Finance at stat.math.ethz.ch mailing list
>  > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>  > -- Subscriber-posting only.
>  > -- If you want to post, subscribe first.
> 
> 
> ------------------------------------------------------------------------
> Express yourself instantly with MSN Messenger! MSN Messenger 
> <http://clk.atdmt.com/AVE/go/onm00200471ave/direct/01/>


From Benoit.Schmid at unige.ch  Thu Oct 30 09:19:10 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Thu, 30 Oct 2008 09:19:10 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W81D0D759B14888810BCED88F260@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
	<4905E965.9010706@unige.ch>
	<COL102-W801D8C84E9251975F9DEA38F270@phx.gbl>
	<20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>
	<COL102-W81D0D759B14888810BCED88F260@phx.gbl>
Message-ID: <49096DFE.2020006@unige.ch>

Good morning,

Just to add to my previous mail.
This is what you get by amplifying the variation by a factor of 10
in your serial time.

	Arithmetic returns	Geometric returns
arithmetic	1.9	-0.08
geometric	5.67	-0.08
"real" return	-0.08	-0.08

You clearly see that arithmetic returns give bad results, even with
geometric aggregation.

In this example we have the logr that is small (-0.08).
This is why we have logr ~ netr

See you,

julien cuisinier wrote:
> Hello,
>  
> Please look at the attached example in the spreadsheet.
>  
> The closest I got to "real return" if by using geometric annualization
>  
> The link you sent me seems to be correct in the sense that daily returns 
> can be seen as not compounding through the day, but I have harder to 
> consider non compounding of daily return...
>  
> I guess it depends what is the underlying of the returns...for a stock, 
> one can consider the return as compounding every minute - hence the use 
> of geometric annualization of geometric returns...for an other 
> investment where "return" such as interest are compounded only once a 
> year it might be wise to use arithmetic annualization of arithmetic 
> returns...
>  
> Personally, the key points is geometric annualization of an average 
> return that make the difference - using arithmetic or geometric returns 
> does not makes much differences...
>  
>  
> Hope that helps
>  
> Rgds,
> Julien
>  
>  
>  
> 
>  > Date: Wed, 29 Oct 2008 14:00:44 +0100
>  > From: Benoit.Schmid at unige.ch
>  > To: r-sig-finance at stat.math.ethz.ch
>  > Subject: Re: [R-SIG-Finance] Returns used to compute the alpha and 
> the beta
>  >
>  > Hello again,
>  >
>  > Quoting julien cuisinier <j_cuisinier at hotmail.com>:
>  >
>  > > (arithmetic & geometric) >> the closest to the real return (as
>  > > (Price(252)/Price(1)-1, so what an investor would actually get over
>  > > a year) I get is by taking geometric annualization of the log
>  > > returns...geometric annualization of arithmetic returns still yields
>  > > close approximation but arithmetic annualization got it off the
>  > > chart...
>  > >
>  >
>  > Just to be sure, let's use the following article as a base:
>  > http://www.riskglossary.com/link/return.htm
>  >
>  > For time aggregation, they use n*z for logr.
>  > What you are suggesting is to use (1+z)^n-1
>  > instead of n*z.
>  > Am I right?
>  >
>  > Thanks for your answer.
>  >
>  > _______________________________________________
>  > R-SIG-Finance at stat.math.ethz.ch mailing list
>  > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>  > -- Subscriber-posting only.
>  > -- If you want to post, subscribe first.
> 
> 
> ------------------------------------------------------------------------
> Express yourself instantly with MSN Messenger! MSN Messenger 
> <http://clk.atdmt.com/AVE/go/onm00200471ave/direct/01/>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: AnnualizedReturn.xls
Type: application/vnd.ms-excel
Size: 156160 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081030/6f8476d7/attachment.xls>

From Benoit.Schmid at unige.ch  Thu Oct 30 10:35:24 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Thu, 30 Oct 2008 10:35:24 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <COL102-W81D0D759B14888810BCED88F260@phx.gbl>
References: <49056A41.9020508@unige.ch> <4905A9D6.1070402@braverock.com>
	<COL102-W467248B39F4F5988AB0D3D8F240@phx.gbl>
	<4905C2E2.9070205@unige.ch>
	<COL102-W162F5FE1ED72E30BFEB4FD8F240@phx.gbl>
	<4905E965.9010706@unige.ch>
	<COL102-W801D8C84E9251975F9DEA38F270@phx.gbl>
	<20081029140044.wgs3bo7c84c84so4@webmail.unige.ch>
	<COL102-W81D0D759B14888810BCED88F260@phx.gbl>
Message-ID: <49097FDC.9020101@unige.ch>

> Just one remark: the arithmetic mean of log returns is only
> approximately equal to the geometric mean of net returns (see example
> below). I point this out because I have read this claim frequently and
> was puzzled when I didn't get exactly the same results.

Thanks for the small R code.

I agree with you because the expected value of the exponential
is not equal to the exponential of the expected value.
But the approximation works quite well (E(exp(x)) ~ exp(E(x)).


From Benoit.Schmid at unige.ch  Thu Oct 30 14:20:28 2008
From: Benoit.Schmid at unige.ch (Benoit Schmid)
Date: Thu, 30 Oct 2008 14:20:28 +0100
Subject: [R-SIG-Finance] Returns used to compute the alpha and the beta
In-Reply-To: <mailman.2.1225364401.4020.r-sig-finance@stat.math.ethz.ch>
References: <mailman.2.1225364401.4020.r-sig-finance@stat.math.ethz.ch>
Message-ID: <4909B49C.3040102@unige.ch>

Good morning Patrick,

>> x <- numeric(100)
>> x[1] <- 100
>>
>> set.seed(123)
>> for (i in 2:100) {
>> x[i] <- x[i-1] + rnorm(1,1,1) - 0.009*i*rnorm(1,1,1)^2
>> }
>>
>> x1 <- c(x[-1],0)
>> ret <- x1/x - 1
>>
>> #arithmetic mean of net returns:
>> amean <- mean(ret[-100])*25000 ; amean
>>
>> #arithmetic mean of log returns:
>> amean2 <- mean(diff(log(x)))*25000 ; amean2
>>
>> #geometric mean of net returns:
>> gmean<- ((prod(1+ret[-100]))^(1/length(ret[-100]))-1)*25000; gmean
>>
>>   
> 
> 'amean' is pretty much nonsense. 'amean2' and 'gmean'
> should be equivalent except one is a log return and the
> other is a simple return.  If you transform one return into
> the other form, then you should get the same number.
> 

You should get close numbers but not the exact same numbers 
as Adams says.

Again this is because the exponential of an esperance is 
not the esperance of an exponential.
This is the property that you should have in order to have
the exact match.

> r = log return
> R = simple return
> 
> r = log(R + 1)
> R = exp(r) - 1
> 
> 
> 
> Patrick Burns
> patrick at burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of S Poetry and "A Guide for the Unwilling S User")
>


From michael at zak.li  Thu Oct 30 20:18:04 2008
From: michael at zak.li (Michael Zak)
Date: Thu, 30 Oct 2008 20:18:04 +0100
Subject: [R-SIG-Finance] TGARCH
Message-ID: <C4BA386F-E83A-45E9-B64B-5E0E7DC8C89A@zak.li>

Hi there

Is there a solution how to use TGARCH in R? As far as I know, there is  
no such function in R. With ARCH/GARCH I don't have a problem to find  
and use it, but TGARCH?

Thank you, Michael Zak


From markleeds at verizon.net  Thu Oct 30 21:32:57 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Thu, 30 Oct 2008 15:32:57 -0500 (CDT)
Subject: [R-SIG-Finance] TGARCH
Message-ID: <1706477803.1423241225398777642.JavaMail.javamailuser@localhost>

  i can't help you but what does the T stand for ? threshold ? if it 
does, google "threshold garch" and i bet there's a paper on it and maybe 
that
can point to estimation code ?



On Thu, Oct 30, 2008 at  2:18 PM, Michael Zak wrote:

> Hi there
>
> Is there a solution how to use TGARCH in R? As far as I know, there is 
> no such function in R. With ARCH/GARCH I don't have a problem to find 
> and use it, but TGARCH?
>
> Thank you, Michael Zak
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From jh8080 at hotmail.com  Thu Oct 30 21:42:07 2008
From: jh8080 at hotmail.com (Jae Kim)
Date: Fri, 31 Oct 2008 07:42:07 +1100
Subject: [R-SIG-Finance] TGARCH
In-Reply-To: <C4BA386F-E83A-45E9-B64B-5E0E7DC8C89A@zak.li>
References: <C4BA386F-E83A-45E9-B64B-5E0E7DC8C89A@zak.li>
Message-ID: <BAY108-DS167C3832594AD3A0830AACD210@phx.gbl>

Hi,

fGarch package estimates APARCH model for which TGARCH is a special case. 

eg, fit1 <- garchFit(~aparch(1, 1), data = ret)

An APARCH model with delta=1 is TGARCH and delta=2 is GJR GARCH model.

But I do not know how to restrict the value of delta. 

Anyone can help?

--------------------------------------------------
From: "Michael Zak" <michael at zak.li>
Sent: Friday, October 31, 2008 6:18 AM
To: <r-sig-finance at stat.math.ethz.ch>
Subject: [R-SIG-Finance] TGARCH

> Hi there
> 
> Is there a solution how to use TGARCH in R? As far as I know, there is  
> no such function in R. With ARCH/GARCH I don't have a problem to find  
> and use it, but TGARCH?
> 
> Thank you, Michael Zak
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From mmiklovic at yahoo.com  Fri Oct 31 00:25:45 2008
From: mmiklovic at yahoo.com (michal miklovic)
Date: Thu, 30 Oct 2008 16:25:45 -0700 (PDT)
Subject: [R-SIG-Finance] TGARCH
References: <C4BA386F-E83A-45E9-B64B-5E0E7DC8C89A@zak.li>
	<BAY108-DS167C3832594AD3A0830AACD210@phx.gbl>
Message-ID: <106601.3556.qm@web50109.mail.re2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081030/d87cedb7/attachment.pl>

From ianseow at gmail.com  Fri Oct 31 04:17:33 2008
From: ianseow at gmail.com (Ian Seow)
Date: Fri, 31 Oct 2008 11:17:33 +0800
Subject: [R-SIG-Finance] Pattern Recognition / Classification in R for
	Financial Time Series
Message-ID: <1865010810302017g3cc83616rcb8e5e36cdd8532d@mail.gmail.com>

Hi I was wondering if there are any good packages in R that would be
useful in Time Series Pattern Recognition (3rd party software
suggestions are also welcome!) .

My search problem description is this: Given a specific 5 day OHLC
sequence in a particular stock A, I want to scan through a list of
stocks B, C, etc... and return another 5 day OHLC sequence which
closely 'matches' my given sequence.

The basic brute force algorithm which I'm working on currently is to
normalize all 5 day sequences in my search universe and to calculate
the differential in HL and return the top N patterns with the lowest
differential value. If there are any elegant / intelligent ways to
solve my problem, I would love to hear it! Thanks...

Rgds
Ian


From edd at debian.org  Fri Oct 31 04:47:56 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 30 Oct 2008 22:47:56 -0500
Subject: [R-SIG-Finance] Pattern Recognition / Classification in R
	for	Financial Time Series
In-Reply-To: <1865010810302017g3cc83616rcb8e5e36cdd8532d@mail.gmail.com>
References: <1865010810302017g3cc83616rcb8e5e36cdd8532d@mail.gmail.com>
Message-ID: <18698.32748.475167.472718@ron.nulle.part>


On 31 October 2008 at 11:17, Ian Seow wrote:
| Hi I was wondering if there are any good packages in R that would be
| useful in Time Series Pattern Recognition (3rd party software
| suggestions are also welcome!) .

Well, one could remember this:

      Zeileis' Law:  For any given open question in R, start with
      the Task Views page at http://cran.r-project.org/web/views/

Now, I just made that law up, but seriously -- look at at least the Machine
Learning one. 

Dirk

-- 
Three out of two people have difficulties with fractions.


From bastian2507hk at yahoo.co.uk  Fri Oct 31 06:14:36 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Fri, 31 Oct 2008 06:14:36 +0100
Subject: [R-SIG-Finance] Run tests Fama
Message-ID: <490A943C.5030800@yahoo.co.uk>

Hello list,

is anyone of you familiar with Fama's run tests in his 1965 behaviour of 
stock market prices dissertation? I am not quite sure if I understand 
the concept of "runs" correctly. He says *"A run is defined as a 
sequence of price changes of the same sign. For example, a plus run of 
length i is a sequence of i consecutive positive price changes preceded 
and followed by either negative or zero changes."* So far so good.

-1  +5  +6  + 7 -2

So, 5,6,7 should be a plus run of length 3. The total number of runs is 
thus 1 plus, 0 minus, 0 unchanged.

 From a different source I get the impression that the runs are counted 
differently. E.g.

0,-10,1,1,-12,1,-10,-5,1,4,-4,1,0,-11,3,-12,-10,-1,0,1

13 runs. It does not really say how many of each, confusing me.

Any my code does not really match the result for the long vector. Thanks 
for your input.

Regards



rsp500 <- c(0,-10,1,1,-12,1,-10,-5,1,4,-4,1,0,-11,3,-12,-10,-1,0,1)
rsp500 <- c(-1,5,6,7,-2)
pos <- rsp500[rsp500>0]
neg <- rsp500[rsp500<0]
m <- (length(rsp500)^2 + length(rsp500) - length(pos)^2 - 
length(neg)^2)/length(rsp500) # no. of expected runs
runplus <- 0
runminus <- 0
runequal <- 0
i <- 1
while(i <(length(rsp500)-1)) {
                            if(rsp500[i+1] > 0 & rsp500[i] < 0) runplus 
<- runplus + 1
                            if(rsp500[i+1] < 0 & rsp500[i] > 0) runminus 
<- runminus + 1
                            if(rsp500[i+1] < 0 & rsp500[i] < 0 & 
rsp500[i+1] == rsp500[i]) runequal <- runequal + 1
                            if(rsp500[i+1] > 0 & rsp500[i] > 0 & 
rsp500[i+1] == rsp500[i]) runequal <- runequal + 1
                            i <- i + 1                          
                           }


From patrick at burns-stat.com  Fri Oct 31 09:10:25 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Fri, 31 Oct 2008 08:10:25 +0000
Subject: [R-SIG-Finance] Run tests Fama
In-Reply-To: <490A943C.5030800@yahoo.co.uk>
References: <490A943C.5030800@yahoo.co.uk>
Message-ID: <490ABD71.10803@burns-stat.com>

I would think that any difference in the details
of the definition would be inconsequential.

Something like:

rle(sign(ret))

should do.


Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Bastian Offermann wrote:
> Hello list,
>
> is anyone of you familiar with Fama's run tests in his 1965 behaviour 
> of stock market prices dissertation? I am not quite sure if I 
> understand the concept of "runs" correctly. He says *"A run is defined 
> as a sequence of price changes of the same sign. For example, a plus 
> run of length i is a sequence of i consecutive positive price changes 
> preceded and followed by either negative or zero changes."* So far so 
> good.
>
> -1  +5  +6  + 7 -2
>
> So, 5,6,7 should be a plus run of length 3. The total number of runs 
> is thus 1 plus, 0 minus, 0 unchanged.
>
> From a different source I get the impression that the runs are counted 
> differently. E.g.
>
> 0,-10,1,1,-12,1,-10,-5,1,4,-4,1,0,-11,3,-12,-10,-1,0,1
>
> 13 runs. It does not really say how many of each, confusing me.
>
> Any my code does not really match the result for the long vector. 
> Thanks for your input.
>
> Regards
>
>
>
> rsp500 <- c(0,-10,1,1,-12,1,-10,-5,1,4,-4,1,0,-11,3,-12,-10,-1,0,1)
> rsp500 <- c(-1,5,6,7,-2)
> pos <- rsp500[rsp500>0]
> neg <- rsp500[rsp500<0]
> m <- (length(rsp500)^2 + length(rsp500) - length(pos)^2 - 
> length(neg)^2)/length(rsp500) # no. of expected runs
> runplus <- 0
> runminus <- 0
> runequal <- 0
> i <- 1
> while(i <(length(rsp500)-1)) {
>                            if(rsp500[i+1] > 0 & rsp500[i] < 0) runplus 
> <- runplus + 1
>                            if(rsp500[i+1] < 0 & rsp500[i] > 0) 
> runminus <- runminus + 1
>                            if(rsp500[i+1] < 0 & rsp500[i] < 0 & 
> rsp500[i+1] == rsp500[i]) runequal <- runequal + 1
>                            if(rsp500[i+1] > 0 & rsp500[i] > 0 & 
> rsp500[i+1] == rsp500[i]) runequal <- runequal + 1
>                            i <- i + 1                          
>                           }
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From stefano.iacus at unimi.it  Fri Oct 31 10:26:46 2008
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri, 31 Oct 2008 10:26:46 +0100
Subject: [R-SIG-Finance] Pattern Recognition / Classification in R	for
 Financial Time Series
In-Reply-To: <18698.32748.475167.472718@ron.nulle.part>
References: <1865010810302017g3cc83616rcb8e5e36cdd8532d@mail.gmail.com>
	<18698.32748.475167.472718@ron.nulle.part>
Message-ID: <E3D92136-BF43-48D2-A3B8-84D355FA643C@unimi.it>

Hi all,
we have recently developed a new dissimilarity measure which works  
under the assumption that the underlying data follow a discretely  
observed diffusion process
The paper is still under review, so the R code is not yet released,  
but I can share the code with the ones interested.

here is the reference

De Gregorio, A.,   Iacus, S.M. (2008) Clustering of discretely  
observed diffusion processes.
Available at http://arxiv.org/abs/0809.3902


stefano

On 31/ott/08, at 04:47, Dirk Eddelbuettel wrote:

>
> On 31 October 2008 at 11:17, Ian Seow wrote:
> | Hi I was wondering if there are any good packages in R that would be
> | useful in Time Series Pattern Recognition (3rd party software
> | suggestions are also welcome!) .
>
> Well, one could remember this:
>
>     Zeileis' Law:  For any given open question in R, start with
>     the Task Views page at http://cran.r-project.org/web/views/
>
> Now, I just made that law up, but seriously -- look at at least the  
> Machine
> Learning one.
>
> Dirk
>
> -- 
> Three out of two people have difficulties with fractions.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.




-----------------------------------
Stefano M. Iacus
Department of Economics,
Business and Statistics
University of Milan
Via Conservatorio, 7
I-20123 Milan - Italy
Ph.: +39 02 50321 461
Fax: +39 02 50321 505
http://www.economia.unimi.it/iacus
------------------------------------------------------------------------------------
Please don't send me Word or PowerPoint attachments if not
absolutely necessary. See:
http://www.gnu.org/philosophy/no-word-attachments.html


From lunven at tac-financial.com  Fri Oct 31 16:39:32 2008
From: lunven at tac-financial.com (Sandrine LUNVEN)
Date: Fri, 31 Oct 2008 16:39:32 +0100
Subject: [R-SIG-Finance] Kalman Filter
Message-ID: <HPEMIBJNFGAILNMHALKIMEKGCFAA.lunven@tac-financial.com>


Hi,

I am studying Kalman Filter and it seems to be difficult for me to apply the
filter on a simple ARMA.
It is easy to construct the state-space model, for instance:
dlmModARMA(ar=c(0.4,-0.2),ma=c(0.2,-0.1, sigma2=1)
but applying the dlmFilter on it, it doesn't work...
I don't know if my problem is clear but if anyone has already worked on
Kalman filter, it could be great to advise me!
Thank you in advance!

Sandrine


From cwrward at gmail.com  Sat Nov  1 00:39:55 2008
From: cwrward at gmail.com (Charles Ward)
Date: Fri, 31 Oct 2008 23:39:55 +0000
Subject: [R-SIG-Finance] Run tests Fama
In-Reply-To: <490A943C.5030800@yahoo.co.uk>
References: <490A943C.5030800@yahoo.co.uk>
Message-ID: <bd9aa36b0810311639v27cb8263j46f0e5640a867e11@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081031/de826eb7/attachment.pl>

From ibo.ozkan at gmail.com  Sun Nov  2 23:08:18 2008
From: ibo.ozkan at gmail.com (I. Ozkan)
Date: Sun, 2 Nov 2008 17:08:18 -0500
Subject: [R-SIG-Finance] Pattern Recognition / Classification in R for
	Financial Time Series
Message-ID: <4fbce460811021408r2a7f80eaq233834658468ca09@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081102/5ab986d0/attachment.pl>

From stefano.iacus at unimi.it  Sun Nov  2 23:55:45 2008
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun, 02 Nov 2008 23:55:45 +0100
Subject: [R-SIG-Finance] Pattern Recognition / Classification in R for
 Financial Time Series
In-Reply-To: <4fbce460811021408r2a7f80eaq233834658468ca09@mail.gmail.com>
References: <4fbce460811021408r2a7f80eaq233834658468ca09@mail.gmail.com>
Message-ID: <228B6FB7-F5F0-4640-8581-F7CD5CDE52F7@unimi.it>

Yes Ozkan is right.

as I answered privately to Ian, our proposal is not really the best  
choice for Ian's original problem (I've read his email too quickly,  
apologizes).

stefano
p.s. in any even I've updated sde package to include the MOdist (sde  
version 2.0.3)


On 02/nov/08, at 23:08, I. Ozkan wrote:

> This is a typical search problem that needs well defined similarity  
> measure
> (as Stefano quietly pointed out). For the 5 daily Open-High-Low- 
> Close type
> of series similarity measures based on some statistics/probability  
> may not
> work most of the time. There are several distance measures (L1,L2,
> Minkowski, Cosine, edit distance, Statistical distances, etc) one  
> can use to
> obtain similar patterns. The similarity is context dependent and you  
> should
> first select the proper one.
>
> As an example,
> Assume that 3 derived values are obtained by means of simply  
> dividing HLC to
> Open.
> HtoO, LtoO, CtoO (5 observations for each).
> Then for each sequence of these 3 series, simple Euclidean distance  
> can be
> calculated with other stocks. If these 3 characteristics are assumed  
> to be
> equal, just average the distances obtained. If not, try to find out  
> some
> weights.
> And finally the nearest neighbour(s) is (are) selected.
>
> In this example, we simply treat time series as multivariate  
> observations.
> This means that we assume the sequence itself does not carry important
> information, though exact sequences gives perfect similarity. But,  
> increase
> then decrease pattern has the same distance as decrease then increase
> pattern to flat pattern although they have high dissimilarity. If  
> these
> patterns are clustered, they are certainly assigned to different  
> clusters.
>
> For the longer sequences I might consider using Longest Common  
> Subsequence
> type metric. For quite long series, other similarity measures, such  
> as,
> Mutual Information, ARIMA, Markov Operators as Stefano proposed,
> coefficient, best 5-10 fft coefficients, or, some others like,
> Kullback-Leibler, Kolmogorov-Smirnov, Histogram Intersection etc are  
> found
> to be useful to identify the similar processes.
>
> As far as I know, most of the similarity measures are implemented in  
> R (try,
> machine learning, clustering, bioconductor-biodist) and they are  
> ready to
> use.
>
> As for the last suggestion, try something simple first, then  
> identify the
> problem (if any) of this approach, then try another and.... (Occam's  
> razor
> is your guide when selecting the approach).
>
> Good Luck!
>
> Ozkan...
>
> -----------
> Hi I was wondering if there are any good packages in R that would be
> useful in Time Series Pattern Recognition (3rd party software
> suggestions are also welcome!) .
>
> My search problem description is this: Given a specific 5 day OHLC
> sequence in a particular stock A, I want to scan through a list of
> stocks B, C, etc... and return another 5 day OHLC sequence which
> closely 'matches' my given sequence.
>
> The basic brute force algorithm which I'm working on currently is to
> normalize all 5 day sequences in my search universe and to calculate
> the differential in HL and return the top N patterns with the lowest
> differential value. If there are any elegant / intelligent ways to
> solve my problem, I would love to hear it! Thanks...
>
> Rgds
> Ian
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From lunven at tac-financial.com  Mon Nov  3 14:29:24 2008
From: lunven at tac-financial.com (Sandrine LUNVEN)
Date: Mon, 3 Nov 2008 14:29:24 +0100
Subject: [R-SIG-Finance] Kalman filter
Message-ID: <HPEMIBJNFGAILNMHALKIKELCCFAA.lunven@tac-financial.com>


Hi,

Following my previous e-mail on the filter Kalman, I present below my
program.
I work on the following serie:

library(dlm)
library(RODBC)

gdp <-
c(5.534909,6.614441,5.873702,6.310751,7.468986,4.077912,7.544475,8.875515,2.
120741,9.113842,6.631629,
		8.015583,11.200762,1.142806,-4.347483,6.900087,5.602605,2.815967,5.638978,
4.589273,1.6181,2.135441,
		-0.173115,-1.879962,2.807475,4.14091,6.381407,7.48905,6.440708,3.950465,4.
368215,1.089476,-2.043243,
		0.964818,4.282739,3.623547,4.189648,4.760812,3.935963,3.924775,2.016109,0.
762735,-0.743436,1.340256,
		0.468976,1.31187)
gdp <- ts(gdp)


armaMod	<-  dlmModARMA(ar=c(0.45,-0.06),ma=NULL,  sigma2=1,
c(0,0),1e+07*diag(2))
armaFilt	<-  dlmFilter(gdp,armaMod)
armaSmooth	<-  dlmSmooth(armaFilt)

Thank  you in advance for your help,

Sandrine


From migle.purzelyte at gmail.com  Mon Nov  3 16:45:44 2008
From: migle.purzelyte at gmail.com (Migle Purzelyte)
Date: Mon, 03 Nov 2008 17:45:44 +0200
Subject: [R-SIG-Finance] panel data & maximum likelihood function
Message-ID: <490F1CA8.4060003@gmail.com>


Hi,

I found some problems dealing with panel data. However, it seems the problem is maximum likelihood function.
I cannot find a function to compute maximum likelihood estimator for panel data as well as to test data with likelihood ratio test.
And still one problem - Roy Zellner pooling test. How to compute it?
May anyone knows something about that?

Thanks,
Migle


From bastian2507hk at yahoo.co.uk  Tue Nov  4 01:51:19 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Tue, 04 Nov 2008 01:51:19 +0100
Subject: [R-SIG-Finance] fPortfolio error
Message-ID: <490F9C87.7080604@yahoo.co.uk>

hello,

have there been any changes recently to fPortfolio? i have taken the 
code from the following presentation

http://www.rmetrics.org/Meielisalp2008/Presentations/Wuertz2.pdf              
slide 10/31

Data <- as.timeSeries(data(LPP2005REC))[,1:6]
Spec <- portfolioSpec()
portfolioFrontier(data = Data , spec = Spec, constraints = Const)

it returns error message

Error in as.matrix(x at Data) :
  no slot of name "Data" for this object of class "timeSeries"

can anybody help me out? are there any good tutorials on fPortfolio. 
documentation seems to be a little rather technical. thanks.

regards


From hsoares85 at gmail.com  Tue Nov  4 11:37:19 2008
From: hsoares85 at gmail.com (Hebbertt Soares)
Date: Tue, 4 Nov 2008 08:37:19 -0200
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <490F9C87.7080604@yahoo.co.uk>
References: <490F9C87.7080604@yahoo.co.uk>
Message-ID: <cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081104/f3e922e6/attachment.pl>

From carlos.ungil at GMAIL.COM  Tue Nov  4 13:41:08 2008
From: carlos.ungil at GMAIL.COM (Carlos Ungil)
Date: Tue, 4 Nov 2008 04:41:08 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] fPortfolio error
In-Reply-To: <490F9C87.7080604@yahoo.co.uk>
References: <490F9C87.7080604@yahoo.co.uk>
Message-ID: <20321486.post@talk.nabble.com>


Hello,

the code below (copied from the slide) works for me (the output is not
identical, though).

I'm using R 2.8.0 on windows, and the current version of Rmetrics packages
(from r-forge):
install.packages("fPortfolio",repos="http://R-Forge.R-project.org"), etc...

Carlos


> sapply(.packages(),function(pkg)
> .readRDS(system.file("Meta","package.rds",package=pkg))$DESCRIPTION["Version"])

fPortfolio.Version      Rglpk.Version   quadprog.Version    fAssets.Version 
          "290.75"            "0.2-6"           "1.4-11"           "290.75" 
  fCopulae.Version      adapt.Version robustbase.Version         sn.Version 
          "290.75"            "1.0-4"            "0.4-4"            "0.4-6" 
    mnormt.Version    fBasics.Version timeSeries.Version   timeDate.Version 
           "1.2-1"           "290.75"           "290.79"           "290.81" 
      MASS.Version      stats.Version   graphics.Version  grDevices.Version 
          "7.2-44"            "2.8.0"            "2.8.0"            "2.8.0" 
     utils.Version   datasets.Version    methods.Version       base.Version 
           "2.8.0"            "2.8.0"            "2.8.0"            "2.8.0" 


library(fPortfolio)
Data = as.timeSeries(data(LPP2005REC))[,1:6]
Spec = portfolioSpec()
Constraints = "LongOnly"
setNFrontierPoints(Spec) = 5
portfolioFrontier(Data, Spec, Constraints)

Bastian Offermann wrote: 
> hello, 
> 
> have there been any changes recently to fPortfolio? i have taken the code 
> from the following presentation 
> 
> http://www.rmetrics.org/Meielisalp2008/Presentations/Wuertz2.pdf
>    slide 10/31 
> 
> Data <- as.timeSeries(data(LPP2005REC))[,1:6] 
> Spec <- portfolioSpec() 
> portfolioFrontier(data = Data , spec = Spec, constraints = Const) 
> 
> it returns error message 
> 
> Error in as.matrix(x at Data) : 
>  no slot of name "Data" for this object of class "timeSeries" 
> 
> can anybody help me out? are there any good tutorials on fPortfolio. 
> documentation seems to be a little rather technical. thanks. 
> 
> regards 
-- 
View this message in context: http://www.nabble.com/fPortfolio-error-tp20314262p20321486.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From ag at jet-sa.ch  Tue Nov  4 13:50:08 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Tue, 4 Nov 2008 13:50:08 +0100
Subject: [R-SIG-Finance] calculate returns in data frame containing NA
Message-ID: <004b01c93e7b$de4a4a80$9adedf80$@ch>

Hello,

I have a data frame which contains 250 closing prices for numerous financial
futures (Indices, currencies, bonds, commodities).
When Exchange is closed, I have a NA.
What are the methods to calculate the log returns of my assets with these
closing days? Should I dismiss them, and if so, how to do this (I guess I
don't want only to remove them, otherwise the next day's return will be
wrong)? Or should I impute some variable, like a 5 days mean for example?

TY 4 any help,

arno


From ag at jet-sa.ch  Tue Nov  4 14:13:50 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Tue, 4 Nov 2008 14:13:50 +0100
Subject: [R-SIG-Finance] calculate returns in data frame containing NA
Message-ID: <004c01c93e7f$2e0b9710$8a22c530$@ch>

In my case, NA means market was closed for holidays.
It doesn't occurs a lot (a few times /year).
I am OK to dismiss them, but is there any argument when using the diff(log)
function? I would like to avoid calculating a return between 2 sessions with
one day off between these 2 days, especially when this day off is not a
worldwide holyday.


J.E.T. SA
1 Place de Saint-Gervais
1201 Geneva, Switzerland
Tel: (41 22) 346 00 55
Fax: (41 22) 346 00 33
IM & BBM :arnaud.gaboury at gmail.com
E-mail: ag at jet-sa.ch

************************************************
- Secured E-mail with SSL protocol
- Encrypted IM with Simplite for Window Messenger


From bastian2507hk at yahoo.co.uk  Tue Nov  4 15:13:55 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Tue, 04 Nov 2008 15:13:55 +0100
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>
References: <490F9C87.7080604@yahoo.co.uk>
	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>
Message-ID: <491058A3.1050208@yahoo.co.uk>

Hi Hebbertt,

I have loaded the package via library(fPortfolio). But the error 
remains. Furthermore, the function portfolioStatistics is not installed 
though I would expect it to be included in fPortfolio. I have attached 
sessionInfo(). Maybe it provides further info to resolve the issue. 
Really strange... thanks.

regards









 > sessionInfo()
R version 2.8.0 (2008-10-20)
i386-pc-mingw32

locale:
LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base    

other attached packages:
 [1] fImport_270.74               fPortfolio_280.74            
Rglpk_0.2-5                  fAssets_280.74               
fCopulae_270.74            
 [6] adapt_1.0-4                  sn_0.4-6                     
mnormt_1.2-1                 lattice_0.17-15              
PerformanceAnalytics_0.9.7.1
[11] e1071_1.5-18                 class_7.2-44                 
fBasics_280.74               timeSeries_280.77            
timeDate_280.79            
[16] fSeries_270.76.1             fCalendar_270.76             
fEcofin_270.74               fUtilities_270.74            
MASS_7.2-44                
[21] robustbase_0.4-3             dynlm_0.2-1                  
car_1.2-9                    lmtest_0.9-21                
tseries_0.10-16            
[26] zoo_1.5-4                    quadprog_1.4-11            

loaded via a namespace (and not attached):
[1] grid_2.8.0        strucchange_1.3-4 tools_2.8.0     
 >


From ag at jet-sa.ch  Tue Nov  4 15:16:43 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Tue, 4 Nov 2008 15:16:43 +0100
Subject: [R-SIG-Finance] calculate returns in data frame containing NA
Message-ID: <004d01c93e87$f671a5c0$e354f140$@ch>

TY Carlos, as it seems U R right. In fact, as most often, the function deals
with it by default.


From carlos.ungil at gmail.com  Tue Nov  4 15:35:07 2008
From: carlos.ungil at gmail.com (Carlos Ungil)
Date: Tue, 4 Nov 2008 15:35:07 +0100
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <491058A3.1050208@yahoo.co.uk>
References: <490F9C87.7080604@yahoo.co.uk>
	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>
	<491058A3.1050208@yahoo.co.uk>
Message-ID: <7c3f44500811040635o1e5c70fi99e275942f68cea8@mail.gmail.com>

Hello,

avoid loading fSeries, it is incompatible with the S4 timeSeries. I
think the error comes from as.matrix.timeSeries, because the Data slot
doesn't exist (it's .Data in the new class).

Cheers,

Carlos

On Tue, Nov 4, 2008 at 3:13 PM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
> Hi Hebbertt,
>
> I have loaded the package via library(fPortfolio). But the error remains.
> Furthermore, the function portfolioStatistics is not installed though I
> would expect it to be included in fPortfolio. I have attached sessionInfo().
> Maybe it provides further info to resolve the issue. Really strange...
> thanks.
>
> regards
>
>
>
>
>
>
>
>
>
>> sessionInfo()
> R version 2.8.0 (2008-10-20)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> other attached packages:
> [1] fImport_270.74               fPortfolio_280.74            Rglpk_0.2-5
>                fAssets_280.74               fCopulae_270.74            [6]
> adapt_1.0-4                  sn_0.4-6                     mnormt_1.2-1
>           lattice_0.17-15              PerformanceAnalytics_0.9.7.1
> [11] e1071_1.5-18                 class_7.2-44
> fBasics_280.74               timeSeries_280.77            timeDate_280.79
>          [16] fSeries_270.76.1             fCalendar_270.76
> fEcofin_270.74               fUtilities_270.74            MASS_7.2-44
>          [21] robustbase_0.4-3             dynlm_0.2-1
>  car_1.2-9                    lmtest_0.9-21                tseries_0.10-16
>          [26] zoo_1.5-4                    quadprog_1.4-11
> loaded via a namespace (and not attached):
> [1] grid_2.8.0        strucchange_1.3-4 tools_2.8.0     >
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From hsoares85 at gmail.com  Tue Nov  4 17:52:16 2008
From: hsoares85 at gmail.com (Hebbertt Soares)
Date: Tue, 4 Nov 2008 14:52:16 -0200
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <491058A3.1050208@yahoo.co.uk>
References: <490F9C87.7080604@yahoo.co.uk>
	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>
	<491058A3.1050208@yahoo.co.uk>
Message-ID: <cd2a43910811040852s335d4173hc0cf33664c083560@mail.gmail.com>

Bastian,


The most probable the problem is on the data loading, as Carlos mentioned.

 Could you please run:

library(fPortfolio)
Data = as.timeSeries(data(LPP2005REC))[,1:6]
str(Data)

Spec = portfolioSpec()
Constraints = "LongOnly"
setNFrontierPoints(Spec) = 5
portfolioFrontier(Data, Spec, Constraints)


 and send us the output.



 Bests,

 Hebbertt

On Tue, Nov 4, 2008 at 12:13 PM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
>
> Hi Hebbertt,
>
> I have loaded the package via library(fPortfolio). But the error remains. Furthermore, the function portfolioStatistics is not installed though I would expect it to be included in fPortfolio. I have attached sessionInfo(). Maybe it provides further info to resolve the issue. Really strange... thanks.
>
> regards
>
>
>
>
>
>
>
>
>
> > sessionInfo()
> R version 2.8.0 (2008-10-20)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> other attached packages:
> [1] fImport_270.74               fPortfolio_280.74            Rglpk_0.2-5                  fAssets_280.74               fCopulae_270.74            [6] adapt_1.0-4                  sn_0.4-6                     mnormt_1.2-1                 lattice_0.17-15              PerformanceAnalytics_0.9.7.1
> [11] e1071_1.5-18                 class_7.2-44                 fBasics_280.74               timeSeries_280.77            timeDate_280.79            [16] fSeries_270.76.1             fCalendar_270.76             fEcofin_270.74               fUtilities_270.74            MASS_7.2-44                [21] robustbase_0.4-3             dynlm_0.2-1                  car_1.2-9                    lmtest_0.9-21                tseries_0.10-16            [26] zoo_1.5-4                    quadprog_1.4-11
> loaded via a namespace (and not attached):
> [1] grid_2.8.0        strucchange_1.3-4 tools_2.8.0     >
>
>
>


From bastian2507hk at yahoo.co.uk  Tue Nov  4 18:08:07 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Tue, 04 Nov 2008 18:08:07 +0100
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <cd2a43910811040852s335d4173hc0cf33664c083560@mail.gmail.com>
References: <490F9C87.7080604@yahoo.co.uk>	
	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>	
	<491058A3.1050208@yahoo.co.uk>
	<cd2a43910811040852s335d4173hc0cf33664c083560@mail.gmail.com>
Message-ID: <49108177.7000001@yahoo.co.uk>

I have done as Carlos said. If you do not load the "fSeries" package it 
works. Thanks for your input.

Regards

Hebbertt Soares schrieb:
> Bastian,
>
>
> The most probable the problem is on the data loading, as Carlos mentioned.
>
>  Could you please run:
>
> library(fPortfolio)
> Data = as.timeSeries(data(LPP2005REC))[,1:6]
> str(Data)
>
> Spec = portfolioSpec()
> Constraints = "LongOnly"
> setNFrontierPoints(Spec) = 5
> portfolioFrontier(Data, Spec, Constraints)
>
>
>  and send us the output.
>
>
>
>  Bests,
>
>  Hebbertt
>
> On Tue, Nov 4, 2008 at 12:13 PM, Bastian Offermann
> <bastian2507hk at yahoo.co.uk> wrote:
>   
>> Hi Hebbertt,
>>
>> I have loaded the package via library(fPortfolio). But the error remains. Furthermore, the function portfolioStatistics is not installed though I would expect it to be included in fPortfolio. I have attached sessionInfo(). Maybe it provides further info to resolve the issue. Really strange... thanks.
>>
>> regards
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>     
>>> sessionInfo()
>>>       
>> R version 2.8.0 (2008-10-20)
>> i386-pc-mingw32
>>
>> locale:
>> LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=German_Germany.1252;LC_NUMERIC=C;LC_TIME=German_Germany.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> other attached packages:
>> [1] fImport_270.74               fPortfolio_280.74            Rglpk_0.2-5                  fAssets_280.74               fCopulae_270.74            [6] adapt_1.0-4                  sn_0.4-6                     mnormt_1.2-1                 lattice_0.17-15              PerformanceAnalytics_0.9.7.1
>> [11] e1071_1.5-18                 class_7.2-44                 fBasics_280.74               timeSeries_280.77            timeDate_280.79            [16] fSeries_270.76.1             fCalendar_270.76             fEcofin_270.74               fUtilities_270.74            MASS_7.2-44                [21] robustbase_0.4-3             dynlm_0.2-1                  car_1.2-9                    lmtest_0.9-21                tseries_0.10-16            [26] zoo_1.5-4                    quadprog_1.4-11
>> loaded via a namespace (and not attached):
>> [1] grid_2.8.0        strucchange_1.3-4 tools_2.8.0     >
>>
>>
>>
>>     
>
>
>


From j_cuisinier at hotmail.com  Wed Nov  5 10:30:05 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Wed, 5 Nov 2008 10:30:05 +0100
Subject: [R-SIG-Finance] Initialization issue R under Mac OS X -
 .Rprofile
In-Reply-To: <4909B49C.3040102@unige.ch>
References: <mailman.2.1225364401.4020.r-sig-finance@stat.math.ethz.ch>
	<4909B49C.3040102@unige.ch>
Message-ID: <COL102-W692AF854F00EA382AF7F68F1F0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081105/e57fb000/attachment.pl>

From seanpor at acm.org  Wed Nov  5 20:19:23 2008
From: seanpor at acm.org (Sean O'Riordain)
Date: Wed, 5 Nov 2008 19:19:23 +0000
Subject: [R-SIG-Finance] transition matrices and "robustness"
Message-ID: <8ed68eed0811051119y476178dbhdea0da1b97887e32@mail.gmail.com>

Good evening,

I'm quite new to the risk modeling arena and recently I starting to
look at some loans and their state transitions. For simplicity I will
describe a cut-down version - NORM=normal, OD means between 1 and 89
days after missing a payment and NPL means that there is a payment
which is more than 89 days overdue.  My base data is the daily state
transition list and the end of month state of the loan book.  I
calculate the 3x3 probability transition matrix using a generator
matrix method - loosely based on [1].

For transition  / generator matrices, has anybody any suggestions for
how I might look at the robustness / sensitivity of the calculations?
My own thought was to calculate the matrix say N times leaving out a
sample of 1/N of the input loans, and then look at the summary() type
stats for each point in the matrix - thoughts? or is this just daft
talk?  In a single variable I can plot the output density and look at
the summary() data - but I have no clue really how to do this for a
transition matrix.

Then there is the question of time varying transition matrices and how
to understand them and even <gasp> estimate where the matrix is headed
over the next three months?

Has anybody any suggestions as to where I might look for other ideas
on where to go with this or has anybody done this type of loan book
credit risk modeling?

Many thanks in advance!

Best regards,
Sean O'Riordain
Dublin, Ireland.
seanpor at acm.org


[1] Lando, D., and T. Skodeberg (2002). "Analyzing ratings transitions
and rating drift with continuous observations." Journal of Banking and
Finance 26: 423-444.


From dutt.debashis at gmail.com  Wed Nov  5 20:55:34 2008
From: dutt.debashis at gmail.com (Debashis Dutta)
Date: Wed, 5 Nov 2008 22:55:34 +0300
Subject: [R-SIG-Finance] transition matrices and "robustness"
In-Reply-To: <8ed68eed0811051119y476178dbhdea0da1b97887e32@mail.gmail.com>
References: <8ed68eed0811051119y476178dbhdea0da1b97887e32@mail.gmail.com>
Message-ID: <37673c2d0811051155qb02249vab317cbad6f0fa31@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081105/59678240/attachment.pl>

From seanpor at acm.org  Wed Nov  5 21:33:35 2008
From: seanpor at acm.org (Sean O'Riordain)
Date: Wed, 5 Nov 2008 20:33:35 +0000
Subject: [R-SIG-Finance] transition matrices and "robustness"
In-Reply-To: <37673c2d0811051155qb02249vab317cbad6f0fa31@mail.gmail.com>
References: <8ed68eed0811051119y476178dbhdea0da1b97887e32@mail.gmail.com>
	<37673c2d0811051155qb02249vab317cbad6f0fa31@mail.gmail.com>
Message-ID: <8ed68eed0811051233y2c99dca1rc5df1fce9a1c9944@mail.gmail.com>

Thanks for that Debashis,

Well the transition matrices (TM)  themselves are interesting - e.g.
we might have a 6% chance of a NORM going OD, and a 86% chance that an
OD pays up and goes NORM again.  So I was looking at these TMs
breaking out different industry sectors or loan purposes etc... as
they give us a better and more objective handle on the relative
problem size in different groups of loans.

Then there is the possibility further down the road of modeling the
entire book in the near term - i.e. over the next three months.  Or
even looking at how the book might be cut into similar clusters... but
I've no clue how I might do this - I can understand the concept of
linear cluster "distance" but not when the "distance"  is a transition
matrix! (computational intensity aside!)

Many thanks again,
Sean



On Wed, Nov 5, 2008 at 7:55 PM, Debashis Dutta <dutt.debashis at gmail.com> wrote:
> Dear Sean,
>
> CreditMetrics  package in R is a good resource. However, it would convenient
> for me to comment further if you please be a little specific regarding  your
> end purpose.
>
> Kind Regards,
> Debashis
>
>
> On 05/11/2008, Sean O'Riordain <seanpor at acm.org> wrote:
>>
>> Good evening,
>>
>> I'm quite new to the risk modeling arena and recently I starting to
>> look at some loans and their state transitions. For simplicity I will
>> describe a cut-down version - NORM=normal, OD means between 1 and 89
>> days after missing a payment and NPL means that there is a payment
>> which is more than 89 days overdue.  My base data is the daily state
>> transition list and the end of month state of the loan book.  I
>> calculate the 3x3 probability transition matrix using a generator
>> matrix method - loosely based on [1].
>>
>> For transition  / generator matrices, has anybody any suggestions for
>> how I might look at the robustness / sensitivity of the calculations?
>> My own thought was to calculate the matrix say N times leaving out a
>> sample of 1/N of the input loans, and then look at the summary() type
>> stats for each point in the matrix - thoughts? or is this just daft
>> talk?  In a single variable I can plot the output density and look at
>> the summary() data - but I have no clue really how to do this for a
>> transition matrix.
>>
>> Then there is the question of time varying transition matrices and how
>> to understand them and even <gasp> estimate where the matrix is headed
>> over the next three months?
>>
>> Has anybody any suggestions as to where I might look for other ideas
>> on where to go with this or has anybody done this type of loan book
>> credit risk modeling?
>>
>> Many thanks in advance!
>>
>> Best regards,
>> Sean O'Riordain
>> Dublin, Ireland.
>> seanpor at acm.org
>>
>>
>> [1] Lando, D., and T. Skodeberg (2002). "Analyzing ratings transitions
>> and rating drift with continuous observations." Journal of Banking and
>> Finance 26: 423-444.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>
>


From patzoul at free.fr  Wed Nov  5 23:08:58 2008
From: patzoul at free.fr (patzoul)
Date: Wed, 5 Nov 2008 14:08:58 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] quantmod: dailyReturn on a list of
	variables
Message-ID: <20349043.post@talk.nabble.com>


I run the following code:
myAssets <- c("STOXX50E", "GSPC", "N225")
nbAssets <- NROW(myAssets)
myIndices <- paste("^", myAssets, sep="")
getSymbols(myIndices)

I would then like to apply the dailyReturn function on the 3 sets of data
that I loaded.

If I do dailyReturn(myAssets[1]) I get an error message.

What do I need to change?



-- 
View this message in context: http://www.nabble.com/quantmod%3A-dailyReturn-on-a-list-of-variables-tp20349043p20349043.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Wed Nov  5 23:20:01 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 5 Nov 2008 16:20:01 -0600
Subject: [R-SIG-Finance] [R-sig-finance] quantmod: dailyReturn on a list
	of variables
In-Reply-To: <20349043.post@talk.nabble.com>
References: <20349043.post@talk.nabble.com>
Message-ID: <e8e755250811051420o6f289a39i3e5a3e09bd80846a@mail.gmail.com>

nbAssets in your code is simply the number 3.

Try:

myRet <- sapply(list(STOXX50E,GSPC,N225), dailyReturn)
cbind(myRet[[1]], myRet[[2]], myRet[[3]])

HTH
Jeff


On Wed, Nov 5, 2008 at 4:08 PM, patzoul <patzoul at free.fr> wrote:
>
> I run the following code:
> myAssets <- c("STOXX50E", "GSPC", "N225")
> nbAssets <- NROW(myAssets)
> myIndices <- paste("^", myAssets, sep="")
> getSymbols(myIndices)
>
> I would then like to apply the dailyReturn function on the 3 sets of data
> that I loaded.
>
> If I do dailyReturn(myAssets[1]) I get an error message.
>
> What do I need to change?
>
>
>
> --
> View this message in context: http://www.nabble.com/quantmod%3A-dailyReturn-on-a-list-of-variables-tp20349043p20349043.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From reinaldoagm at yahoo.com.br  Thu Nov  6 21:36:24 2008
From: reinaldoagm at yahoo.com.br (Reinaldo Marques)
Date: Thu, 6 Nov 2008 12:36:24 -0800 (PST)
Subject: [R-SIG-Finance] Group for Actuarial Research
Message-ID: <469103.89664.qm@web51006.mail.re2.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081106/3fa871ca/attachment.pl>

From anigrin at gmail.com  Fri Nov  7 05:07:22 2008
From: anigrin at gmail.com (Albert Nigrin)
Date: Thu, 6 Nov 2008 23:07:22 -0500
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
Message-ID: <00a901c9408e$563aaf30$02b00d90$@com>

I'm having problems extracting data using the powerful subsetting features
of xts. I am using R 2.8 with the latest version of zoo and xts on Windows
XP 64.  I live near Washington DC so my local timezone is EDT.  My problem
is that when I enter a character string to get a subset from an xts time
series, the time/date is interpreted to be in GMT rather than Eastern
Standard time.

This is easily illustrated with an example

Sys.getenv("TZ")
TZ 
"" 
> x = xts(1:3, Sys.time() - 1:3)
> x
2008-11-06 22:39:39 2008-11-06 22:39:40 2008-11-06 22:39:41 
                  3                   2                   1 

> index(x)
[1] "2008-11-06 22:39:39 EST" "2008-11-06 22:39:40 EST" "2008-11-06 22:39:41
EST"

> x["2008-11-06 22:39"]
      
> x["2008-11-07 03:39"]
                     
2008-11-06 22:39:39 3
2008-11-06 22:39:40 2
2008-11-06 22:39:41 1

Thus, when I try to extract data using my local time zone, nothing is
returned.  However when I Use GMT, the proper data is returned. How can I
extract data using my local time zone, instead of having to mentally convert
to GMT?

Thanks
Albert


From jeff.a.ryan at gmail.com  Fri Nov  7 17:27:18 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Fri, 7 Nov 2008 10:27:18 -0600
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
In-Reply-To: <00a901c9408e$563aaf30$02b00d90$@com>
References: <00a901c9408e$563aaf30$02b00d90$@com>
Message-ID: <e8e755250811070827k3c9e3f9ehebbf0bde7b4687fe@mail.gmail.com>

Albert,

TZ management in general is a problem.  With R and the variety of OSs
supported it is even trickier.

Different OSs implement different mechanisms to handle time-zones.  So
one machine will do one thing, while another may do something
different.

Even different OS updates will have unpredictable effects.

Bottom line is that handling TZs internally is at best very difficult,
and at worst impossible (IMO, though I am far (far) from a TZ expert).

Diethelm and Yohan's timeDate class from Rmetrics is about as perfect
a solution as I think you can get.  But even that can be difficult to
work with.  Additionally they have implemented a solution around
FinCenters, forgoing the standard time-zone structure.  Do take a look
at what you can do with that, it is impressive.

Given the above, xts only handles times internally as GMT.  This not
the ideal solution, nor is it the final one, but for the moment I
think it is the best solution given the state of affairs.

So the reliable solution is to use GMT and adjust from there.

> Sys.setenv(TZ='GMT')
> x = xts(1:3, Sys.time() - 1:3)
> x
                    [,1]
2008-11-07 16:17:45    3
2008-11-07 16:17:46    2
2008-11-07 16:17:47    1
> x = xts(1:3, (Sys.time() - 1:3) - (5*3600)) # current offset from GMT for EDT
> x
                    [,1]
2008-11-07 11:18:13    3
2008-11-07 11:18:14    2
2008-11-07 11:18:15    1
> x['2008-11-07 11:18:13']
                    [,1]
2008-11-07 11:18:13    3

The released version of xts allows you to index by timeDate, but given
the conversion to POSIXct internally to manage subsetting (and in
xts-dev for efficiency reasons), the reliability of that approach may
not be 100%.

Any comments/thoughts/advice from the list on how to best venture down
this path for xts, or for general use would be appreciated.

Jeff

On Thu, Nov 6, 2008 at 10:07 PM, Albert Nigrin <anigrin at gmail.com> wrote:
> I'm having problems extracting data using the powerful subsetting features
> of xts. I am using R 2.8 with the latest version of zoo and xts on Windows
> XP 64.  I live near Washington DC so my local timezone is EDT.  My problem
> is that when I enter a character string to get a subset from an xts time
> series, the time/date is interpreted to be in GMT rather than Eastern
> Standard time.
>
> This is easily illustrated with an example
>
> Sys.getenv("TZ")
> TZ
> ""
>> x = xts(1:3, Sys.time() - 1:3)
>> x
> 2008-11-06 22:39:39 2008-11-06 22:39:40 2008-11-06 22:39:41
>                  3                   2                   1
>
>> index(x)
> [1] "2008-11-06 22:39:39 EST" "2008-11-06 22:39:40 EST" "2008-11-06 22:39:41
> EST"
>
>> x["2008-11-06 22:39"]
>
>> x["2008-11-07 03:39"]
>
> 2008-11-06 22:39:39 3
> 2008-11-06 22:39:40 2
> 2008-11-06 22:39:41 1
>
> Thus, when I try to extract data using my local time zone, nothing is
> returned.  However when I Use GMT, the proper data is returned. How can I
> extract data using my local time zone, instead of having to mentally convert
> to GMT?
>
> Thanks
> Albert
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ggrothendieck at gmail.com  Fri Nov  7 17:51:59 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 7 Nov 2008 11:51:59 -0500
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
In-Reply-To: <00a901c9408e$563aaf30$02b00d90$@com>
References: <00a901c9408e$563aaf30$02b00d90$@com>
Message-ID: <971536df0811070851o7a749df2w50c55c9db3803836@mail.gmail.com>

Do you really need time zones in the first place?  If not you could
use chron and avoid the entire problem right from the start.  See
R News 4/1.

On Thu, Nov 6, 2008 at 11:07 PM, Albert Nigrin <anigrin at gmail.com> wrote:
> I'm having problems extracting data using the powerful subsetting features
> of xts. I am using R 2.8 with the latest version of zoo and xts on Windows
> XP 64.  I live near Washington DC so my local timezone is EDT.  My problem
> is that when I enter a character string to get a subset from an xts time
> series, the time/date is interpreted to be in GMT rather than Eastern
> Standard time.
>
> This is easily illustrated with an example
>
> Sys.getenv("TZ")
> TZ
> ""
>> x = xts(1:3, Sys.time() - 1:3)
>> x
> 2008-11-06 22:39:39 2008-11-06 22:39:40 2008-11-06 22:39:41
>                  3                   2                   1
>
>> index(x)
> [1] "2008-11-06 22:39:39 EST" "2008-11-06 22:39:40 EST" "2008-11-06 22:39:41
> EST"
>
>> x["2008-11-06 22:39"]
>
>> x["2008-11-07 03:39"]
>
> 2008-11-06 22:39:39 3
> 2008-11-06 22:39:40 2
> 2008-11-06 22:39:41 1
>
> Thus, when I try to extract data using my local time zone, nothing is
> returned.  However when I Use GMT, the proper data is returned. How can I
> extract data using my local time zone, instead of having to mentally convert
> to GMT?
>
> Thanks
> Albert
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From NJOSEPHY at bentley.edu  Sat Nov  8 16:28:28 2008
From: NJOSEPHY at bentley.edu (Josephy, Norman)
Date: Sat, 8 Nov 2008 10:28:28 -0500
Subject: [R-SIG-Finance] FinTS requires zoo to export as.Date.numeric
Message-ID: <A1F0B5D01900844F8BE30DFB2661651803A63068@VS-EXCH01.gold.ad.bentley.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081108/7ebbb5b7/attachment.pl>

From Achim.Zeileis at wu-wien.ac.at  Sat Nov  8 17:44:37 2008
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Sat, 8 Nov 2008 17:44:37 +0100 (CET)
Subject: [R-SIG-Finance] FinTS requires zoo to export as.Date.numeric
In-Reply-To: <A1F0B5D01900844F8BE30DFB2661651803A63068@VS-EXCH01.gold.ad.bentley.edu>
References: <A1F0B5D01900844F8BE30DFB2661651803A63068@VS-EXCH01.gold.ad.bentley.edu>
Message-ID: <Pine.LNX.4.64.0811081743430.11727@paninaro.stat-math.wu-wien.ac.at>

On Sat, 8 Nov 2008, Josephy, Norman wrote:

> Dear list:
>
> I have just installed the latest versions of zoo (1.6-0) and FinTS 
> (0.3-7)  from RForge.

1.6-0 is still in development stage, the official release 1.5-4 exports 
as.Date.numeric.
Z

> FinTS has an importFrom(zoo,as.Data.numeric) in its NAMESPACE file,
> but zoo seems to not export as.Date.numeric in its NAMESPACE file.
>
>> library(FinTS)
> Loading required package: zoo
> Error in importIntoEnv(impenv, impnames, ns, impvars) :
>  object ''as.Date.numeric'' is not exported by 'namespace:zoo'
> Error: package/namespace load failed for 'FinTS'
>
>> sessionInfo()
> R version 2.8.0 (2008-10-20)
> i386-pc-mingw32
> locale:
> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United States.1252;LC_MONETARY=English_United States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> other attached packages:
> [1] zoo_1.6-0
> loaded via a namespace (and not attached):
> [1] grid_2.8.0      lattice_0.17-15
>
>> a = installed.packages()
>> a['FinTS','Version']
> [1] "0.3-7"
>
> Would removing the importFrom(zoo, as.Date.numeric) statement in FinTS NAMESPACE be
> the appropriate response to this?
>
> Thank you in advance,
>
> Norm
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From comtech.usa at gmail.com  Sun Nov  9 01:31:29 2008
From: comtech.usa at gmail.com (Michael)
Date: Sat, 8 Nov 2008 16:31:29 -0800
Subject: [R-SIG-Finance] please recommend statistics,
	time series and econometrics books with finance,
	macroeconomics, trading and business applications
Message-ID: <b1f16d9d0811081631s7bb04ae8x392e00f110ff4ab5@mail.gmail.com>

Hi all,

Please recommend good books for the following three categories. (I am
aim at finance, macroeconomics, trading and business applications).

(1) statistical (financial) data analysis;
(2) time series;
(3) econometrics.

More specifically, I am looking for the following two types of books:

(1) Books that provide big pictures and intuitions and books that
connect dots...

For example, there are lots of statistics books(e.g. regression,
etc.), time series, and econometrics books, many of them are quite
mathematical. I am myself from a quantitative background so I don't
have problem understanding the math, however I am looking for
resources that provide big pictures and intuitions and books that
connect dots together, books that compare the differences and
similarities and books that talks about why and how (e.g. why ARMA,
why "log", why GARCH, etc. ) and books talk about when things get
wrong and why and how to fix...

(2) Books with meaningful finance, macroeconomics, trading and
business applications.

Thank you for your help!


From brian at braverock.com  Sun Nov  9 04:16:18 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 08 Nov 2008 21:16:18 -0600
Subject: [R-SIG-Finance] please recommend statistics,
 time series and econometrics books with finance, macroeconomics,
 trading and business applications
In-Reply-To: <b1f16d9d0811081631s7bb04ae8x392e00f110ff4ab5@mail.gmail.com>
References: <b1f16d9d0811081631s7bb04ae8x392e00f110ff4ab5@mail.gmail.com>
Message-ID: <49165602.90009@braverock.com>

Michael wrote:
> Hi all,
> 
> Please recommend good books for the following three categories. (I am
> aim at finance, macroeconomics, trading and business applications).
> 
> (1) statistical (financial) data analysis;
> (2) time series;
> (3) econometrics.
> 
> More specifically, I am looking for the following two types of books:
> 
> (1) Books that provide big pictures and intuitions and books that
> connect dots...
> 
> For example, there are lots of statistics books(e.g. regression,
> etc.), time series, and econometrics books, many of them are quite
> mathematical. I am myself from a quantitative background so I don't
> have problem understanding the math, however I am looking for
> resources that provide big pictures and intuitions and books that
> connect dots together, books that compare the differences and
> similarities and books that talks about why and how (e.g. why ARMA,
> why "log", why GARCH, etc. ) and books talk about when things get
> wrong and why and how to fix...
> 
> (2) Books with meaningful finance, macroeconomics, trading and
> business applications.

This topic, in almost exactly the same request, comes up frequently on 
this list.  I suggest that you search the list archives.

Regards,

     - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From spencer.graves at pdf.com  Sun Nov  9 04:49:55 2008
From: spencer.graves at pdf.com (Spencer Graves)
Date: Sat, 08 Nov 2008 19:49:55 -0800
Subject: [R-SIG-Finance] please recommend statistics,
 time series and econometrics books with finance, macroeconomics,
 trading and business applications
In-Reply-To: <49165602.90009@braverock.com>
References: <b1f16d9d0811081631s7bb04ae8x392e00f110ff4ab5@mail.gmail.com>
	<49165602.90009@braverock.com>
Message-ID: <49165DE3.6080409@pdf.com>

      One book is Ruey Tsay (2005)  Analysis of Financial Time Series, 
2nd ed. (Wiley).  The R package "FinTS" provides script files to that 
show how to work some of the example in the book. 

      Try also "RSiteSearch" (www.r-project.org -> search PLUS the 
"RSiteSearch" function in R) for more options, as Brian Peterson 
suggested. 

      Good Luck. 
      Spencer Graves

Brian G. Peterson wrote:
> Michael wrote:
>> Hi all,
>>
>> Please recommend good books for the following three categories. (I am
>> aim at finance, macroeconomics, trading and business applications).
>>
>> (1) statistical (financial) data analysis;
>> (2) time series;
>> (3) econometrics.
>>
>> More specifically, I am looking for the following two types of books:
>>
>> (1) Books that provide big pictures and intuitions and books that
>> connect dots...
>>
>> For example, there are lots of statistics books(e.g. regression,
>> etc.), time series, and econometrics books, many of them are quite
>> mathematical. I am myself from a quantitative background so I don't
>> have problem understanding the math, however I am looking for
>> resources that provide big pictures and intuitions and books that
>> connect dots together, books that compare the differences and
>> similarities and books that talks about why and how (e.g. why ARMA,
>> why "log", why GARCH, etc. ) and books talk about when things get
>> wrong and why and how to fix...
>>
>> (2) Books with meaningful finance, macroeconomics, trading and
>> business applications.
>
> This topic, in almost exactly the same request, comes up frequently on 
> this list.  I suggest that you search the list archives.
>
> Regards,
>
>     - Brian
>


From comtech.usa at gmail.com  Sun Nov  9 05:26:02 2008
From: comtech.usa at gmail.com (Michael)
Date: Sat, 8 Nov 2008 20:26:02 -0800
Subject: [R-SIG-Finance] please recommend statistics,
	time series and econometrics books with finance,
	macroeconomics, trading and business applications
In-Reply-To: <49165DE3.6080409@pdf.com>
References: <b1f16d9d0811081631s7bb04ae8x392e00f110ff4ab5@mail.gmail.com>
	<49165602.90009@braverock.com> <49165DE3.6080409@pdf.com>
Message-ID: <b1f16d9d0811082026w6ce2c04r96379662f7e843ba@mail.gmail.com>

I have read these books already... still searching for better books ...

On Sat, Nov 8, 2008 at 7:49 PM, Spencer Graves <spencer.graves at pdf.com> wrote:
>     One book is Ruey Tsay (2005)  Analysis of Financial Time Series, 2nd ed.
> (Wiley).  The R package "FinTS" provides script files to that show how to
> work some of the example in the book.
>     Try also "RSiteSearch" (www.r-project.org -> search PLUS the
> "RSiteSearch" function in R) for more options, as Brian Peterson suggested.
>     Good Luck.     Spencer Graves
>
> Brian G. Peterson wrote:
>>
>> Michael wrote:
>>>
>>> Hi all,
>>>
>>> Please recommend good books for the following three categories. (I am
>>> aim at finance, macroeconomics, trading and business applications).
>>>
>>> (1) statistical (financial) data analysis;
>>> (2) time series;
>>> (3) econometrics.
>>>
>>> More specifically, I am looking for the following two types of books:
>>>
>>> (1) Books that provide big pictures and intuitions and books that
>>> connect dots...
>>>
>>> For example, there are lots of statistics books(e.g. regression,
>>> etc.), time series, and econometrics books, many of them are quite
>>> mathematical. I am myself from a quantitative background so I don't
>>> have problem understanding the math, however I am looking for
>>> resources that provide big pictures and intuitions and books that
>>> connect dots together, books that compare the differences and
>>> similarities and books that talks about why and how (e.g. why ARMA,
>>> why "log", why GARCH, etc. ) and books talk about when things get
>>> wrong and why and how to fix...
>>>
>>> (2) Books with meaningful finance, macroeconomics, trading and
>>> business applications.
>>
>> This topic, in almost exactly the same request, comes up frequently on
>> this list.  I suggest that you search the list archives.
>>
>> Regards,
>>
>>    - Brian
>>
>


From patzoul at free.fr  Sun Nov  9 17:56:52 2008
From: patzoul at free.fr (patzoul)
Date: Sun, 9 Nov 2008 08:56:52 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] error with maxreturnPortfolio
Message-ID: <20408297.post@talk.nabble.com>


I want to optimize a portfolio based on a target level of risk. When I run
the commands below I get an error message saying that the Target Return is
missing. 

What am I doing wrong?
Side question: what is the unit of TargetRisk?

library(TTR) 
library(zoo) 
suppressMessages(library(fPortfolio)) 

syms <- c("^STOXX50E", "^GSPC", "^N225", "EEM", "AGG", "GSG") 
X <- getYahooData(syms[1], start=20070601, quiet=TRUE) 
X <- zoo( X$Close, X$Date ) 

for (i in 2:6){ 
	print(syms[i])
	x <- getYahooData(syms[i], start=20070601, quiet=TRUE)
	X <- cbind(X, zoo(x$Close, x$Date))
	}
plot(X)
colnames(X) <- syms 
myReturns <- as.timeSeries(returns(X, percentage = TRUE))
Spec = portfolioSpec()
setOptimize(Spec) = "maxReturn"
setTargetRisk(Spec) = 10
Constraints = "LongOnly"

Ptf = maxreturnPortfolio(myReturns, Spec, Constraints) 
weightsLinePlot(Ptf)


-- 
View this message in context: http://www.nabble.com/error-with-maxreturnPortfolio-tp20408297p20408297.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From markleeds at verizon.net  Sun Nov  9 18:54:24 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Sun, 09 Nov 2008 11:54:24 -0600 (CST)
Subject: [R-SIG-Finance] [R]  please recommend statistics,
 time series and econometrics books with finance, macroeconomics,
 trading and business applications
Message-ID: <1805501872.3809211226253264351.JavaMail.javamailuser@localhost>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081109/20ae7be0/attachment.pl>

From patzoul at free.fr  Mon Nov 10 23:10:51 2008
From: patzoul at free.fr (patzoul)
Date: Mon, 10 Nov 2008 14:10:51 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] efficientPortfolio, setTargetRisk,
	setTargetReturn
Message-ID: <20429076.post@talk.nabble.com>


I want to find the optimized weights according to a target risk budget. When
I run my code I still have to input the target return otherwise I get an
error. How can I optimize the return based on a level of risk?

Here is the code I am using

library(quantmod)
library(fPortfolio)

# Universe
myAssets <- c("STOXX50E", "GSPC", "N225")
nbAssets <- NROW(myAssets)
myIndices <- paste("^", myAssets, sep="")
myETFs <- c("EEM", "AGG", "GSG")

# Load historical data
getSymbols(c(myIndices, myETFs), from="2007-10-10")

# Combine closing prices
myData <- merge(merge(merge(merge(merge(Cl(STOXX50E), Cl(GSPC), all=FALSE),
Cl(N225), all=FALSE), Cl(EEM), all=FALSE), Cl(AGG), all=FALSE), Cl(GSG),
all=FALSE)
# plot(myData)

myReturns <- as.timeSeries(diff(log(myData)))
Spec = portfolioSpec()
setTargetReturn(Spec) = 0
setTargetRisk(Spec) = 0.10

# Show portfolio data
pfolioData = portfolioData(myReturns, Spec)
# print(pfolioData)

# Compute properties of minimum variance Portfolio:
Ptf = efficientPortfolio(myReturns, Spec, c("maxW[1:6]=0.3333",
"minW[1:6]=-0.3333", "maxsumW[1:6]=1", "minsumW[1:6]=-1"))
print(Ptf)


-- 
View this message in context: http://www.nabble.com/efficientPortfolio%2C-setTargetRisk%2C-setTargetReturn-tp20429076p20429076.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jorge.nieves at moorecap.com  Tue Nov 11 16:19:12 2008
From: jorge.nieves at moorecap.com (Jorge Nieves)
Date: Tue, 11 Nov 2008 10:19:12 -0500
Subject: [R-SIG-Finance] Multi CPUs PC
Message-ID: <D595C0E05185614C90515F1E8A2D4CBF014EB744@NYC-XCH3.win.moorecap.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081111/9cf0e551/attachment.pl>

From edd at debian.org  Tue Nov 11 16:59:56 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 11 Nov 2008 09:59:56 -0600
Subject: [R-SIG-Finance] Multi CPUs PC
In-Reply-To: <D595C0E05185614C90515F1E8A2D4CBF014EB744@NYC-XCH3.win.moorecap.com>
References: <D595C0E05185614C90515F1E8A2D4CBF014EB744@NYC-XCH3.win.moorecap.com>
Message-ID: <18713.44028.715399.83121@ron.nulle.part>


On 11 November 2008 at 10:19, Jorge Nieves wrote:
| I have a PC with four CPUs. I am running a program that is doing some
| heavy amount of number crunching. My program is running using only one
| of the available CPU.  I would like to use the 4 CPUs at the same time,
| so as to speed the computing time. Can someone recommend the best way to
| do that? 
| 
| Any tips are highly appreciated.

First off, consider profiling to see what part of your 'heavy amount of
number crunching' actually consumes the most time.

Second, based on that profiling information, consider where to spend your
precious developer time. Some gains are easier to be had. If you do a lot of
matrix multiplication, use of the proper BLAS will automagically use
multithreaded versions spanning your cpus. Another option is Ra which
compiles R expressions 'just in time' for you.  Then there is the use of
compiled code. And lastly, there may be use in parallelising via MPI or NWS.

All of this was covered in my Use R! tutorial in August, you can see the
slides via http://dirk.eddelbuettel.com/presentations.html

Lastly, everything covered in the tutorial should run 'as is' on Debian /
Ubuntu systems, and I also provided a bootable iso containing all the
software from the tutorial so that you could run it rightaway. 

Hope this helps,  Dirk

-- 
Three out of two people have difficulties with fractions.


From roger at bergande.ch  Tue Nov 11 17:00:11 2008
From: roger at bergande.ch (roger at bergande.ch)
Date: Tue, 11 Nov 2008 17:00:11 +0100
Subject: [R-SIG-Finance] Multi CPUs PC
In-Reply-To: <D595C0E05185614C90515F1E8A2D4CBF014EB744@NYC-XCH3.win.moorecap.com>
References: <D595C0E05185614C90515F1E8A2D4CBF014EB744@NYC-XCH3.win.moorecap.com>
Message-ID: <20081111170011.ny59ndlwoo4w0sko@mail.bergande.ch>

Hi Jorge

Start R from R in Batch mode and split the job in a independant dimension..
otherwise download this package http://www.rparallel.org/

best regards,
Roger



Zitat von Jorge Nieves <jorge.nieves at moorecap.com>:

>
> Hi,
>
> I have a PC with four CPUs. I am running a program that is doing some
> heavy amount of number crunching. My program is running using only one
> of the available CPU.  I would like to use the 4 CPUs at the same time,
> so as to speed the computing time. Can someone recommend the best way to
> do that?
>
> Any tips are highly appreciated.
>
>
> Jorge Nieves
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From anigrin at gmail.com  Tue Nov 11 22:49:01 2008
From: anigrin at gmail.com (Albert Nigrin)
Date: Tue, 11 Nov 2008 16:49:01 -0500
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
In-Reply-To: <971536df0811070851o7a749df2w50c55c9db3803836@mail.gmail.com>
References: <00a901c9408e$563aaf30$02b00d90$@com>
	<971536df0811070851o7a749df2w50c55c9db3803836@mail.gmail.com>
Message-ID: <005601c94447$4fc33610$ef49a230$@com>

Unfortunately, I do need time zones.  I work with foreign exchange and
sometimes
the data is timestamped as Eastern, and sometimes it is timestamped as GMT.

After thinking about it a bit, my thoughts are that there are two choices
that make the most sense to me.
The first, is that the character string could be interpreted in your default
zone, and 
the second is that the character string could be interpreted in the zone of
the data.

I think either of those choices are superior to interpreting the string in
GMT.

I understand that xts converts the default time zone to GMT before
processing any code.
However, I think that that conversion should happen after the indexes have
been determined.

That way you wouldn't get different results for z1 and z2 when subset a time
series x like in the following example:

Sys.setenv(TZ = "")
x1 = as.POSIXct("2008-11-11 12:00")
x = xts(1:5, x1 + -2:2)

y = hms(index(x))$hours == 12
z1 = x[hms(index(x))$hours == 12]
z2 = x[y]

> print(z1)
      
> print(z2)
                     
2008-11-11 12:00:00 3
2008-11-11 12:00:01 4
2008-11-11 12:00:02 5


Albert

-----Original Message-----
From: Gabor Grothendieck [mailto:ggrothendieck at gmail.com] 
Sent: Friday, November 07, 2008 11:52 AM
To: Albert Nigrin
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Problems extracting xts data in my own time
zone

Do you really need time zones in the first place?  If not you could
use chron and avoid the entire problem right from the start.  See
R News 4/1.

On Thu, Nov 6, 2008 at 11:07 PM, Albert Nigrin <anigrin at gmail.com> wrote:
> I'm having problems extracting data using the powerful subsetting features
> of xts. I am using R 2.8 with the latest version of zoo and xts on Windows
> XP 64.  I live near Washington DC so my local timezone is EDT.  My problem
> is that when I enter a character string to get a subset from an xts time
> series, the time/date is interpreted to be in GMT rather than Eastern
> Standard time.
>
> This is easily illustrated with an example
>
> Sys.getenv("TZ")
> TZ
> ""
>> x = xts(1:3, Sys.time() - 1:3)
>> x
> 2008-11-06 22:39:39 2008-11-06 22:39:40 2008-11-06 22:39:41
>                  3                   2                   1
>
>> index(x)
> [1] "2008-11-06 22:39:39 EST" "2008-11-06 22:39:40 EST" "2008-11-06
22:39:41
> EST"
>
>> x["2008-11-06 22:39"]
>
>> x["2008-11-07 03:39"]
>
> 2008-11-06 22:39:39 3
> 2008-11-06 22:39:40 2
> 2008-11-06 22:39:41 1
>
> Thus, when I try to extract data using my local time zone, nothing is
> returned.  However when I Use GMT, the proper data is returned. How can I
> extract data using my local time zone, instead of having to mentally
convert
> to GMT?
>
> Thanks
> Albert
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From mvyver at gmail.com  Tue Nov 11 23:08:06 2008
From: mvyver at gmail.com (Mark V)
Date: Wed, 12 Nov 2008 09:08:06 +1100
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
In-Reply-To: <005601c94447$4fc33610$ef49a230$@com>
References: <00a901c9408e$563aaf30$02b00d90$@com>
	<971536df0811070851o7a749df2w50c55c9db3803836@mail.gmail.com>
	<005601c94447$4fc33610$ef49a230$@com>
Message-ID: <389c43e40811111408j5f168128n37752acd4c5e77fc@mail.gmail.com>

Hi,
In case anyone is reconsidering time zone behavior....

On Wed, Nov 12, 2008 at 8:49 AM, Albert Nigrin <anigrin at gmail.com> wrote:
> Unfortunately, I do need time zones.  I work with foreign exchange and
> sometimes
> the data is timestamped as Eastern, and sometimes it is timestamped as GMT.
>
> After thinking about it a bit, my thoughts are that there are two choices
> that make the most sense to me.
> The first, is that the character string could be interpreted in your default
> zone, and
> the second is that the character string could be interpreted in the zone of
> the data.
>
> I think either of those choices are superior to interpreting the string in
> GMT.

In dealing with data from different timezones I eventually came to
convert all data to GMT.
I now also use GMT in all my code (mkt open, close).
This may be considered a corner case by some, but I'd argue that
increasing globalization means such uses cases could become common.
Furthermore, many (most?) users will be in TZ (i.e. have a system TZ)
different to the data TZ (whether it is converted to GMT or not).
Consequently, even if altering the default from GMT, please consider
keeping the data's time zone as the default behavior.

Thanks
Mark

> I understand that xts converts the default time zone to GMT before
> processing any code.
> However, I think that that conversion should happen after the indexes have
> been determined.
>
> That way you wouldn't get different results for z1 and z2 when subset a time
> series x like in the following example:
>
> Sys.setenv(TZ = "")
> x1 = as.POSIXct("2008-11-11 12:00")
> x = xts(1:5, x1 + -2:2)
>
> y = hms(index(x))$hours == 12
> z1 = x[hms(index(x))$hours == 12]
> z2 = x[y]
>
>> print(z1)
>
>> print(z2)
>
> 2008-11-11 12:00:00 3
> 2008-11-11 12:00:01 4
> 2008-11-11 12:00:02 5
>
>
> Albert
>
> -----Original Message-----
> From: Gabor Grothendieck [mailto:ggrothendieck at gmail.com]
> Sent: Friday, November 07, 2008 11:52 AM
> To: Albert Nigrin
> Cc: r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] Problems extracting xts data in my own time
> zone
>
> Do you really need time zones in the first place?  If not you could
> use chron and avoid the entire problem right from the start.  See
> R News 4/1.
>
> On Thu, Nov 6, 2008 at 11:07 PM, Albert Nigrin <anigrin at gmail.com> wrote:
>> I'm having problems extracting data using the powerful subsetting features
>> of xts. I am using R 2.8 with the latest version of zoo and xts on Windows
>> XP 64.  I live near Washington DC so my local timezone is EDT.  My problem
>> is that when I enter a character string to get a subset from an xts time
>> series, the time/date is interpreted to be in GMT rather than Eastern
>> Standard time.
>>
>> This is easily illustrated with an example
>>
>> Sys.getenv("TZ")
>> TZ
>> ""
>>> x = xts(1:3, Sys.time() - 1:3)
>>> x
>> 2008-11-06 22:39:39 2008-11-06 22:39:40 2008-11-06 22:39:41
>>                  3                   2                   1
>>
>>> index(x)
>> [1] "2008-11-06 22:39:39 EST" "2008-11-06 22:39:40 EST" "2008-11-06
> 22:39:41
>> EST"
>>
>>> x["2008-11-06 22:39"]
>>
>>> x["2008-11-07 03:39"]
>>
>> 2008-11-06 22:39:39 3
>> 2008-11-06 22:39:40 2
>> 2008-11-06 22:39:41 1
>>
>> Thus, when I try to extract data using my local time zone, nothing is
>> returned.  However when I Use GMT, the proper data is returned. How can I
>> extract data using my local time zone, instead of having to mentally
> convert
>> to GMT?
>>
>> Thanks
>> Albert
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Wed Nov 12 00:04:20 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 11 Nov 2008 17:04:20 -0600
Subject: [R-SIG-Finance] Problems extracting xts data in my own time zone
In-Reply-To: <389c43e40811111408j5f168128n37752acd4c5e77fc@mail.gmail.com>
References: <00a901c9408e$563aaf30$02b00d90$@com>
	<971536df0811070851o7a749df2w50c55c9db3803836@mail.gmail.com>
	<005601c94447$4fc33610$ef49a230$@com>
	<389c43e40811111408j5f168128n37752acd4c5e77fc@mail.gmail.com>
Message-ID: <e8e755250811111504mf69b194q21166b305b051f81@mail.gmail.com>

On Tue, Nov 11, 2008 at 4:08 PM, Mark V <mvyver at gmail.com> wrote:
> Hi,
> In case anyone is reconsidering time zone behavior....

User or package developers?

> In dealing with data from different timezones I eventually came to
> convert all data to GMT.
> I now also use GMT in all my code (mkt open, close).
> This may be considered a corner case by some, but I'd argue that
> increasing globalization means such uses cases could become common.
> Furthermore, many (most?) users will be in TZ (i.e. have a system TZ)
> different to the data TZ (whether it is converted to GMT or not).
> Consequently, even if altering the default from GMT, please consider
> keeping the data's time zone as the default behavior.
>

The central issue is consistency.  It is practically (pragmatically!)
impossible to insure the formatting/conversion across different
implementations (OS/servers/patched/unpatched/TZ set/TZ reside/TZ of
data/political whims...).

You may or may not be able to get the results you want/expect some of
the time, but I suspect you will not ever be able to get the results
you expect all of the time.  For my own personal taste, I prefer fewer
surprises over more.

All that said, a solution that is both reliable and portable, would of
course be the ideal.

I for one am not holding my breath.  A quick glance through the proper
source directories in any OS database will give a very instructive
view as to the scope of the problem.

Sys.setenv(TZ="GMT") makes life a bit less interesting no doubt, but
it makes for very reliable results.  Which can always be adjusted
later for presentation effect with very simple math.

For enjoyment (and your next 900 hours of reading):
http://www.twinsun.com/tz/tz-link.htm

Jeff
-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From hsoares85 at gmail.com  Wed Nov 12 13:44:43 2008
From: hsoares85 at gmail.com (Hebbertt Soares)
Date: Wed, 12 Nov 2008 10:44:43 -0200
Subject: [R-SIG-Finance] Joint estimation of APT in R
Message-ID: <cd2a43910811120444g167a785dw1c046250986b85cc@mail.gmail.com>

Hello UseRs,

I am working with Arbitrage Pricing Theory (APT), an extension of CAPM
proposed by Roll and Ross. One of the most troubling issues of this
model is the estimation of its two components: the factor
sensitivities and risk premia..

Most of the literature estimate this equation in two steps, using Fama
and Macbeth (1973) approach.

However, as Burmesteir and McElroy (1988) shows this approach is
inefficient. It would be more efficient doing a joint estimation of
factor sensitivities  and risk premia as proposed in as Burmesteir and
McElroy (1988) paper.

This estimation would be done trough a system of nonlinear
multivariate equations with the following structural form (suppose two
assets and two factors):

return of asset 1 - risk free rate = constant*coefficient(2) +
coefficient(2)*factor 1 +
coefficient(3)*coefficient(4)+coefficient(4)*factor2

return of asset 2 - risk free rate = constant*coefficient(5) +
coefficient(5)*factor 1 +
coefficient(3)*coefficient(5)+coefficient(5)*factor2

This system has N equation with K parameter, where N is the number of
assets and K is the number of factors and the number of interaction
among factors.

The estimation can be done using SUR method.

I've been looking systemfit (specially nlsystemfit function), and I
have not been able to find a way of implementing this method in R.

Does anyone in the list implemented APT joint estimation in R? How?

Thank you very much,

Hebbertt


From sjansevanrensburg at gmail.com  Wed Nov 12 14:42:07 2008
From: sjansevanrensburg at gmail.com (Stefan Janse van Rensburg)
Date: Wed, 12 Nov 2008 15:42:07 +0200
Subject: [R-SIG-Finance] Multi CPUs PC
Message-ID: <68cc1efe0811120542o758c9e01y29da8e2594ca76df@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081112/50046bc9/attachment.pl>

From jorge.nieves at moorecap.com  Wed Nov 12 18:27:34 2008
From: jorge.nieves at moorecap.com (Jorge Nieves)
Date: Wed, 12 Nov 2008 12:27:34 -0500
Subject: [R-SIG-Finance] Generic versus calendar futures in trading models
Message-ID: <D595C0E05185614C90515F1E8A2D4CBF014EB771@NYC-XCH3.win.moorecap.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081112/167b4286/attachment.pl>

From arne.henningsen at googlemail.com  Wed Nov 12 18:32:13 2008
From: arne.henningsen at googlemail.com (Arne Henningsen)
Date: Wed, 12 Nov 2008 18:32:13 +0100
Subject: [R-SIG-Finance] Joint estimation of APT in R
In-Reply-To: <cd2a43910811120444g167a785dw1c046250986b85cc@mail.gmail.com>
References: <cd2a43910811120444g167a785dw1c046250986b85cc@mail.gmail.com>
Message-ID: <ee2a35a60811120932m21e43a4ekb0cd61c840007d2c@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081112/c5e1e190/attachment.pl>

From ryan.sheftel at malbecpartners.com  Wed Nov 12 18:46:00 2008
From: ryan.sheftel at malbecpartners.com (ryan.sheftel at malbecpartners.com)
Date: Wed, 12 Nov 2008 12:46:00 -0500
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
In-Reply-To: <D595C0E05185614C90515F1E8A2D4CBF014EB771@NYC-XCH3.win.moorecap.com>
Message-ID: <OFC3F9DAB8.99231521-ON852574FF.00617E4B-852574FF.0061D5D5@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081112/3f1e0244/attachment.pl>

From brian at braverock.com  Wed Nov 12 18:48:52 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 12 Nov 2008 11:48:52 -0600 (CST)
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
 models
In-Reply-To: <D595C0E05185614C90515F1E8A2D4CBF014EB771@NYC-XCH3.win.moorecap.com>
References: <D595C0E05185614C90515F1E8A2D4CBF014EB771@NYC-XCH3.win.moorecap.com>
Message-ID: <38635.199.198.251.108.1226512132.squirrel@mail.braverock.com>

Jorge Nieves wrote:
> I am testing an econometric model for trading futures on commodities. I
> am setting up the back-testing phase, but I am facing a  dilemma about
> what is the best way to "easy" the transition for when futures mature
> into the next open contact. For now I am testing the model using the
> generic CL1 crude front contact. I would like to ensure that the rolling
> after maturity of each calendar contract does not generate false
> signals. Any one has any suggestion about what will be the best approach
> and why?

My first question is: How are you constructing your continuous series? 
There are many methods for constructing a continuous series for futures
and options, and the all have different problems.

Also, I think that one of the challenges in creating a backtesting
infrastructure for this type of instrument is that you can test a model
against a continuous series, but you will eventually want to hest against
historical quote and trade data on real insturments (e.g. tick data from
the exchange).  This raises your complexity immensely, for obvious
reasons.

Regards,

  - Brian


From markleeds at verizon.net  Wed Nov 12 18:49:46 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Wed, 12 Nov 2008 11:49:46 -0600 (CST)
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
Message-ID: <116910342.10336891226512186396.JavaMail.javamailuser@localhost>

  i don't know what exactly you're doing but to deal with that you need 
to calculate the adjusted price ( adjusted return ) taking into account 
the rollover or things will get totally whacked. how to do that is in 
schwager's book or probably any decent intro futures book. if you can't 
find it, i can try to explain it but it's
a little tricky and i bet a book can do better. essentially you 
calculate the daily returns not counting the rollover day ( you have to 
skip that one because
that's not a real return )  and then calculate the new adjusted prices 
based on those returns. then you use thos adjustede prices to do 
whatever you're doing.





On Wed, Nov 12, 2008 at 12:27 PM, Jorge Nieves wrote:

> Hello,
>
> I am testing an econometric model for trading futures on commodities. 
> I
> am setting up the back-testing phase, but I am facing a  dilemma about
> what is the best way to "easy" the transition for when futures mature
> into the next open contact. For now I am testing the model using the
> generic CL1 crude front contact. I would like to ensure that the 
> rolling
> after maturity of each calendar contract does not generate false
> signals. Any one has any suggestion about what will be the best 
> approach
> and why?
>
> Thanks,
>
>
> Jorge Nieves
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From ryan.sheftel at malbecpartners.com  Wed Nov 12 18:53:27 2008
From: ryan.sheftel at malbecpartners.com (ryan.sheftel at malbecpartners.com)
Date: Wed, 12 Nov 2008 12:53:27 -0500
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
In-Reply-To: <38635.199.198.251.108.1226512132.squirrel@mail.braverock.com>
Message-ID: <OFA62AFA75.D2C9E519-ON852574FF.006208BD-852574FF.0062842F@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081112/0f483a86/attachment.pl>

From jeff.a.ryan at gmail.com  Wed Nov 12 19:02:33 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 12 Nov 2008 12:02:33 -0600
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
In-Reply-To: <OFA62AFA75.D2C9E519-ON852574FF.006208BD-852574FF.0062842F@malbecpartners.com>
References: <38635.199.198.251.108.1226512132.squirrel@mail.braverock.com>
	<OFA62AFA75.D2C9E519-ON852574FF.006208BD-852574FF.0062842F@malbecpartners.com>
Message-ID: <e8e755250811121002s444539cbl33c3e9174193f1f4@mail.gmail.com>

There is another CSI package on R-forge:

https://r-forge.r-project.org/scm/?group_id=229

No personal experience using, but the Alexios (the developer) is
meticulous with respect to documentation, and I suspect that
translates into the R code as well.

Jeff

On Wed, Nov 12, 2008 at 11:53 AM,  <ryan.sheftel at malbecpartners.com> wrote:
> Also if you are looking for a provider of historical futures data with an
> excellent tool for creating every imaginable type of modified or
> back-adjusted futures, I would highly recommend CSI, www.csidata.com   It
> is very inexpensive and some of the best data quality I have seen.
>
> And of course there is an R package to access the API:
>
> http://www.itbizvision.com/ion/tiki-index.php?page=RCSI&PHPSESSID=846f6b0e30deb116c1061f7d46c90b9f
>
>
>
>
>
> "Brian G. Peterson" <brian at braverock.com>
> Sent by: r-sig-finance-bounces at stat.math.ethz.ch
> 11/12/08 12:48 PM
>
> To
> "Jorge Nieves" <jorge.nieves at moorecap.com>
> cc
> r-sig-finance at stat.math.ethz.ch
> Subject
> Re: [R-SIG-Finance] Generic versus calendar futures in trading models
>
>
>
>
>
> Jorge Nieves wrote:
>> I am testing an econometric model for trading futures on commodities. I
>> am setting up the back-testing phase, but I am facing a  dilemma about
>> what is the best way to "easy" the transition for when futures mature
>> into the next open contact. For now I am testing the model using the
>> generic CL1 crude front contact. I would like to ensure that the rolling
>> after maturity of each calendar contract does not generate false
>> signals. Any one has any suggestion about what will be the best approach
>> and why?
>
> My first question is: How are you constructing your continuous series?
> There are many methods for constructing a continuous series for futures
> and options, and the all have different problems.
>
> Also, I think that one of the challenges in creating a backtesting
> infrastructure for this type of instrument is that you can test a model
> against a continuous series, but you will eventually want to hest against
> historical quote and trade data on real insturments (e.g. tick data from
> the exchange).  This raises your complexity immensely, for obvious
> reasons.
>
> Regards,
>
>  - Brian
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From markleeds at verizon.net  Wed Nov 12 19:15:18 2008
From: markleeds at verizon.net (markleeds at verizon.net)
Date: Wed, 12 Nov 2008 12:15:18 -0600 (CST)
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
Message-ID: <681475094.10379731226513718922.JavaMail.javamailuser@localhost>

  i was actually referring to the older white one called a complete 
guide to the futures markets but i don't remember it being a standout 
book.
in fact, i probably didn't even read much of it.
i'd hate to recommend you to buy a WHOLE book to find out how to do the 
adjusted rollover. why don't you try googling for adjust futures price.
there has to be stuff on the internet. if you can't find it on the 
internet and don't want to buy the book, i may have some internet stuff 
at home
that i can look for tonight ?

basically the process is the following: ( take it with a grain of salt 
but this is what my memory tells me. i did this about a year or more ago 
so it's a little
fuzzy ).

suppose you have current contract prices

p1_current  p2_current   p3_current           pn-1_current 
pn_current

and suppose you have

next contract prices

                             pn-1_next       pn_next

where the indices denote the same dates.

when you calculate the returns for a contract, it's easy, (p_t - 
p_t-1)/p_t-1

but, when you are rolling over on say day n,  and you want to calc the 
return for that day, you can't do (pn_next - pn_current)/pn_next

because the prices change due to whatever ( cost of carry , 
backwardation ? ) but you don't get that price appreciation investment 
wise.

you need to calculate (pn_next - pn-1_next)/pn-1_next = return on day n 
even though it rolloed over on day n ( you use the n-1 next even though 
you are
rolling over on day n ).

so, then once you have this full stream of ADJUSTED returns for ALL 
contracts, then you can start at the beginning, call the price of 
wherever you are starting at

P_0 and calculate the prices as P_O*cumprod(1+r) where r is the return 
stream that accounts for the rollover weirdness.

Does this make any sense ? If not, of course you can buy schwager's book 
but I don't remember it being some amazing book. I just remember it
having what I just said in there somewhere ? Also, I'm sendig this to 
the list because there may be some detail tht i'm leaving out and maybe 
someone
can correct me. if that's the case. I really don't feel like I should be 
giving you an algorithm that could be a little off but atleast that's 
the basic idea.








On Wed, Nov 12, 2008 at 12:52 PM, Jorge Nieves wrote:

> Thanks
>
> Are you referring to this book?
>
> Schwager on Futures: Technical Analysis (Hardcover)
> 
> http://www.amazon.com/Schwager-Futures-Technical-Analysis-Jack/dp/047102
> 0516
>
>
> -----Original Message-----
> From: markleeds at verizon.net [mailto:markleeds at verizon.net] Sent: 
> Wednesday, November 12, 2008 12:50 PM
> To: Jorge Nieves
> Cc: r-sig-finance at stat.math.ethz.ch
> Subject: RE: [R-SIG-Finance] Generic versus calendar futures in 
> trading
> models
>
>
>   i don't know what exactly you're doing but to deal with that you 
> need
> to calculate the adjusted price ( adjusted return ) taking into 
> account
> the rollover or things will get totally whacked. how to do that is in
> schwager's book or probably any decent intro futures book. if you 
> can't
> find it, i can try to explain it but it's a little tricky and i bet a
> book can do better. essentially you calculate the daily returns not
> counting the rollover day ( you have to skip that one because that's 
> not
> a real return )  and then calculate the new adjusted prices based on
> those returns. then you use thos adjustede prices to do whatever 
> you're
> doing.
>
>
>
>
>
> On Wed, Nov 12, 2008 at 12:27 PM, Jorge Nieves wrote:
>
>> Hello,
>>
>> I am testing an econometric model for trading futures on commodities. 
>> I
>> am setting up the back-testing phase, but I am facing a  dilemma 
>> about
>
>> what is the best way to "easy" the transition for when futures mature 
>> into the next open contact. For now I am testing the model using the 
>> generic CL1 crude front contact. I would like to ensure that the 
>> rolling after maturity of each calendar contract does not generate 
>> false signals. Any one has any suggestion about what will be the best 
>> approach and why?
>>
>> Thanks,
>>
>>
>> Jorge Nieves
>>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list 
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.


From davidr at rhotrading.com  Wed Nov 12 19:58:28 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Wed, 12 Nov 2008 12:58:28 -0600
Subject: [R-SIG-Finance] Generic versus calendar futures in tradingmodels
In-Reply-To: <e8e755250811121002s444539cbl33c3e9174193f1f4@mail.gmail.com>
References: <38635.199.198.251.108.1226512132.squirrel@mail.braverock.com><OFA62AFA75.D2C9E519-ON852574FF.006208BD-852574FF.0062842F@malbecpartners.com>
	<e8e755250811121002s444539cbl33c3e9174193f1f4@mail.gmail.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE7701C2452A@rhopost.rhotrading.com>

and CSI is kind enough to put their manual on-line
http://www.csidata.com/cgi-bin/getManualPage.pl?URL=back_adjustedcharts.
htm

-- David


-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Jeff Ryan
Sent: Wednesday, November 12, 2008 12:03 PM
To: ryan.sheftel at malbecpartners.com
Cc: r-sig-finance at stat.math.ethz.ch;
r-sig-finance-bounces at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Generic versus calendar futures in
tradingmodels

There is another CSI package on R-forge:

https://r-forge.r-project.org/scm/?group_id=229

No personal experience using, but the Alexios (the developer) is
meticulous with respect to documentation, and I suspect that
translates into the R code as well.

Jeff

On Wed, Nov 12, 2008 at 11:53 AM,  <ryan.sheftel at malbecpartners.com>
wrote:
> Also if you are looking for a provider of historical futures data with
an
> excellent tool for creating every imaginable type of modified or
> back-adjusted futures, I would highly recommend CSI, www.csidata.com
It
> is very inexpensive and some of the best data quality I have seen.
>
> And of course there is an R package to access the API:
>
>
http://www.itbizvision.com/ion/tiki-index.php?page=RCSI&PHPSESSID=846f6b
0e30deb116c1061f7d46c90b9f
>
>
>
>
>
> "Brian G. Peterson" <brian at braverock.com>
> Sent by: r-sig-finance-bounces at stat.math.ethz.ch
> 11/12/08 12:48 PM
>
> To
> "Jorge Nieves" <jorge.nieves at moorecap.com>
> cc
> r-sig-finance at stat.math.ethz.ch
> Subject
> Re: [R-SIG-Finance] Generic versus calendar futures in trading models
>
>
>
>
>
> Jorge Nieves wrote:
>> I am testing an econometric model for trading futures on commodities.
I
>> am setting up the back-testing phase, but I am facing a  dilemma
about
>> what is the best way to "easy" the transition for when futures mature
>> into the next open contact. For now I am testing the model using the
>> generic CL1 crude front contact. I would like to ensure that the
rolling
>> after maturity of each calendar contract does not generate false
>> signals. Any one has any suggestion about what will be the best
approach
>> and why?
>
> My first question is: How are you constructing your continuous series?
> There are many methods for constructing a continuous series for
futures
> and options, and the all have different problems.
>
> Also, I think that one of the challenges in creating a backtesting
> infrastructure for this type of instrument is that you can test a
model
> against a continuous series, but you will eventually want to hest
against
> historical quote and trade data on real insturments (e.g. tick data
from
> the exchange).  This raises your complexity immensely, for obvious
> reasons.
>
> Regards,
>
>  - Brian
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From robert at sanctumfi.com  Wed Nov 12 20:19:38 2008
From: robert at sanctumfi.com (Robert Sams)
Date: Wed, 12 Nov 2008 19:19:38 -0000
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
	models
References: <SANCTUMFISERVERNHdk00002259@sanctumfi.com>
Message-ID: <SANCTUMFISERVERSbh200002289@sanctumfi.com>

Hi Jorge, this is a subtle area. In the literature (what little of it
that exists) it's referred to as constructing "continuous" prices series
from futures data and there are many different methods for doing this.
Which method you choose to use depends upon the model or idea that
you're backtesting. 

For example, one method involves taking the difference between the (most
recent) first and second contract sequences on the roll date and adding
that difference to all prices prior to the roll date, performing this
same operation for the second most recent roll, and so on. This has the
virtue of removing those jump's in the generic contract's price series
due to the contract maturity changing at the roll dates. A backtesting
rule that bought and sold at these prices would basically be assuming
that an open position over the contract roll would be closed at the roll
date and reopened into the new contract, also on the roll date, which is
often what we want. But is this the right method? Depends. The downside
of this approach is that the adjusted prices series will drift upward or
downward as we go back in time depending upon whether the spot/foward
relationship is positive carry (eg, Bond futures) or negative carry (eg
Crude Oil). This may or may not distort your model.. that all depends
upon what your signal model is meant to tell you.

As a starting point, you should make a distinction between those
adjustments you want to make to the futures price series for the purpose
of feeding the signal model and those adjustments that you make for the
purpose of feeding the backtesting P&L logic (namely, removing
economically meaningless price changes at contract roll dates). 

If you're using bloomberg for your futures data, check out the GFUT
configuration on your terminal. I think four different roll adjustment
methods are supported there (including the example just described). As
an aside: those of us who work with these things should code and
document these different techniques in an R package at some point. 

Btw.. I'm not sure you're at backtesting stage here. If you understand
what that model is trying to do well enough, the correct method for
putting it to data should present itself to you. As with all good
trading research, you need to think very deeply about a few very simple
things.

Robert

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Jorge
Nieves
Sent: 12 November 2008 17:28
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
models


Hello,

I am testing an econometric model for trading futures on commodities. I
am setting up the back-testing phase, but I am facing a  dilemma about
what is the best way to "easy" the transition for when futures mature
into the next open contact. For now I am testing the model using the
generic CL1 crude front contact. I would like to ensure that the rolling
after maturity of each calendar contract does not generate false
signals. Any one has any suggestion about what will be the best approach
and why?

Thanks,


Jorge Nieves



	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From UriShimron at Optiver.com  Thu Nov 13 09:47:56 2008
From: UriShimron at Optiver.com (Uri Shimron)
Date: Thu, 13 Nov 2008 09:47:56 +0100
Subject: [R-SIG-Finance] Generic versus calendar futures in tradingmodels
In-Reply-To: <SANCTUMFISERVERSbh200002289@sanctumfi.com>
Message-ID: <061264DF11708C44BAF02C0F3F4EA28F034D8F6A@opamms0002.comp.optiver.com>

Hi,

Robert, thanks for the clear summary!

I looked in my huge cache of bookmarks, and a long time ago I stumbled,
when looking at this problem, upon
http://www.tradingrecipes.com/files/cntcontr.pdf and
http://www.premiumdata.net/support/futurescontinuous2.php. Hope they
might be useful for others...

Regards
Uri

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Robert
Sams
Sent: Wednesday 12 November 2008 20:20
To: Jorge Nieves; r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Generic versus calendar futures in
tradingmodels

Hi Jorge, this is a subtle area. In the literature (what little of it
that exists) it's referred to as constructing "continuous" prices series
from futures data and there are many different methods for doing this.
Which method you choose to use depends upon the model or idea that
you're backtesting. 

For example, one method involves taking the difference between the (most
recent) first and second contract sequences on the roll date and adding
that difference to all prices prior to the roll date, performing this
same operation for the second most recent roll, and so on. This has the
virtue of removing those jump's in the generic contract's price series
due to the contract maturity changing at the roll dates. A backtesting
rule that bought and sold at these prices would basically be assuming
that an open position over the contract roll would be closed at the roll
date and reopened into the new contract, also on the roll date, which is
often what we want. But is this the right method? Depends. The downside
of this approach is that the adjusted prices series will drift upward or
downward as we go back in time depending upon whether the spot/foward
relationship is positive carry (eg, Bond futures) or negative carry (eg
Crude Oil). This may or may not distort your model.. that all depends
upon what your signal model is meant to tell you.

As a starting point, you should make a distinction between those
adjustments you want to make to the futures price series for the purpose
of feeding the signal model and those adjustments that you make for the
purpose of feeding the backtesting P&L logic (namely, removing
economically meaningless price changes at contract roll dates). 

If you're using bloomberg for your futures data, check out the GFUT
configuration on your terminal. I think four different roll adjustment
methods are supported there (including the example just described). As
an aside: those of us who work with these things should code and
document these different techniques in an R package at some point. 

Btw.. I'm not sure you're at backtesting stage here. If you understand
what that model is trying to do well enough, the correct method for
putting it to data should present itself to you. As with all good
trading research, you need to think very deeply about a few very simple
things.

Robert

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Jorge
Nieves
Sent: 12 November 2008 17:28
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Generic versus calendar futures in trading
models


Hello,

I am testing an econometric model for trading futures on commodities. I
am setting up the back-testing phase, but I am facing a  dilemma about
what is the best way to "easy" the transition for when futures mature
into the next open contact. For now I am testing the model using the
generic CL1 crude front contact. I would like to ensure that the rolling
after maturity of each calendar contract does not generate false
signals. Any one has any suggestion about what will be the best approach
and why?

Thanks,


Jorge Nieves



	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

***************************************************************************
This email and any files transmitted with it are confide...{{dropped:10}}


From windspeedo at qq.com  Thu Nov 13 15:11:46 2008
From: windspeedo at qq.com (=?gbk?B?t+c=?=)
Date: Thu, 13 Nov 2008 22:11:46 +0800
Subject: [R-SIG-Finance] layout  options of  barChart in quantmod
Message-ID: <tencent_4DB57B471499FB703F4085DF@qq.com>

quantmod is a fantastic tool for R.  The only problem I could not overcome is about the layout option in barChart.
The help document only said that "layout:  if NULL bypass internal layout  ".
But how could I produce the chart as shown in http://www.quantmod.com/gallery/ ?  
What value should I set the layout to obey the previous layout settings in R?
Thanks.

Wind


From jeff.a.ryan at gmail.com  Thu Nov 13 16:24:23 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 13 Nov 2008 09:24:23 -0600
Subject: [R-SIG-Finance] layout options of barChart in quantmod
In-Reply-To: <tencent_4DB57B471499FB703F4085DF@qq.com>
References: <tencent_4DB57B471499FB703F4085DF@qq.com>
Message-ID: <e8e755250811130724q12a8c711rd4e2a4ea04110f63@mail.gmail.com>

This should clarify (from a previous off-list exchange):

Before calling any chartSeries function (including barChart), use the
R 'layout' function. see ?layout
Each window is technically a plot region, so count the TA _windows_ when
you do this.

getSymbols("SPY;DIA;QQQQ;IWM")
layout(matrix(1:8, nrow=4), height=c(4,2.5,4,2.5))

Then set layout=NULL in each call.
chartSeries(IWM, layout=NULL)
chartSeries(SPY, layout=NULL)
chartSeries(DIA, layout=NULL)
chartSeries(QQQQ, layout=NULL)

You need to have a constant 'theme', or funny things will happen.


Other arrangements are possible, though require you to really get your
head around 'layout'.  I will one day be adding in a chartLayout tool
that will make this easier, but for now it is at least doable.

layout(matrix(c(1,1,1,2,3:6), nrow=4), height=c(4,2.5,4,2.5))
chartSeries(QQQQ, layout=NULL)
chartSeries(QQQQ, layout=NULL)
chartSeries(QQQQ, layout=NULL)

You won't be able to use this interactively once the chart is drawn
--- i.e. calling addTA to dynamically add TA additions.  The layout
needs to be calculated before any of the drawing takes place.  This is
what happens internally when you call addTA/chartSeries,, which is why
setting layout=NULL places the burden on you the user.

HTH,
Jeff

On Thu, Nov 13, 2008 at 8:11 AM, ? <windspeedo at qq.com> wrote:
> quantmod is a fantastic tool for R.  The only problem I could not overcome is about the layout option in barChart.
> The help document only said that "layout:  if NULL bypass internal layout  ".
> But how could I produce the chart as shown in http://www.quantmod.com/gallery/ ?
> What value should I set the layout to obey the previous layout settings in R?
> Thanks.
>
> Wind
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

From windspeedo at qq.com  Thu Nov 13 16:40:51 2008
From: windspeedo at qq.com (=?gbk?B?t+c=?=)
Date: Thu, 13 Nov 2008 23:40:51 +0800
Subject: [R-SIG-Finance] Reply:  layout options of barChart in quantmod
Message-ID: <tencent_3AB3366B1687E1327D76B4E3@qq.com>

Dear Jeff,
I have just started to learn R yesterday.  Your instruction is so detailed that a fool as me could easily understand. :)    
I like R and R people.
Thanks again.

Wind

 
 
------------------ ???? ------------------
???: "Jeff Ryan"<jeff.a.ryan at gmail.com>;
????: 2008?11?13?(???) ??11:24
???: "?"<windspeedo at qq.com>; 
??: "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
??: Re: [R-SIG-Finance] layout options of barChart in quantmod

 
This should clarify (from a previous off-list exchange):

Before calling any chartSeries function (including barChart), use the
R 'layout' function. see ?layout
Each window is technically a plot region, so count the TA _windows_ when
you do this.

getSymbols("SPY;DIA;QQQQ;IWM")
layout(matrix(1:8, nrow=4), height=c(4,2.5,4,2.5))

Then set layout=NULL in each call.
chartSeries(IWM, layout=NULL)
chartSeries(SPY, layout=NULL)
chartSeries(DIA, layout=NULL)
chartSeries(QQQQ, layout=NULL)

You need to have a constant 'theme', or funny things will happen.


Other arrangements are possible, though require you to really get your
head around 'layout'.  I will one day be adding in a chartLayout tool
that will make this easier, but for now it is at least doable.

layout(matrix(c(1,1,1,2,3:6), nrow=4), height=c(4,2.5,4,2.5))
chartSeries(QQQQ, layout=NULL)
chartSeries(QQQQ, layout=NULL)
chartSeries(QQQQ, layout=NULL)

You won't be able to use this interactively once the chart is drawn
--- i.e. calling addTA to dynamically add TA additions.  The layout
needs to be calculated before any of the drawing takes place.  This is
what happens internally when you call addTA/chartSeries,, which is why
setting layout=NULL places the burden on you the user.

HTH,
Jeff

On Thu, Nov 13, 2008 at 8:11 AM, ? <windspeedo at qq.com> wrote:
> quantmod is a fantastic tool for R.  The only problem I could not overcome is about the layout option in barChart.
> The help document only said that "layout:  if NULL bypass internal layout  ".
> But how could I produce the chart as shown in http://www.quantmod.com/gallery/ ?
> What value should I set the layout to obey the previous layout settings in R?
> Thanks.
>
> Wind
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From comtech.usa at gmail.com  Fri Nov 14 06:53:14 2008
From: comtech.usa at gmail.com (Michael)
Date: Thu, 13 Nov 2008 21:53:14 -0800
Subject: [R-SIG-Finance] correlation between two asynchronous time series?
Message-ID: <b1f16d9d0811132153qd277378ka3d29b9d30a5d753@mail.gmail.com>

Hi all,

If I want to find out the correlation between two time series, one is
the Hong Kong stock index, the other is the S&P 500. The two markets
open at two different time.

What impact it might have on my estimate of the correlation of the two
series? How do I address this asynchronous time series problem? Any
good models?

Thanks a lot!


From Xiaochen.Sun at brunel.ac.uk  Fri Nov 14 09:54:07 2008
From: Xiaochen.Sun at brunel.ac.uk (Xiaochen Sun)
Date: Fri, 14 Nov 2008 08:54:07 -0000
Subject: [R-SIG-Finance] correlation between two asynchronous time
	series?
References: <b1f16d9d0811132153qd277378ka3d29b9d30a5d753@mail.gmail.com>
Message-ID: <E386E504246A9249A9176B5BEEC13B6F7B90A4@UXEXMBU116.academic.windsor>

Hi,
News Impact should be taken in account.
Regards
Mc

________________________________

From: r-sig-finance-bounces at stat.math.ethz.ch on behalf of Michael
Sent: Fri 14/11/2008 05:53
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] correlation between two asynchronous time series?



Hi all,

If I want to find out the correlation between two time series, one is
the Hong Kong stock index, the other is the S&P 500. The two markets
open at two different time.

What impact it might have on my estimate of the correlation of the two
series? How do I address this asynchronous time series problem? Any
good models?

Thanks a lot!

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From windspeedo at qq.com  Fri Nov 14 13:08:08 2008
From: windspeedo at qq.com (=?gbk?B?t+c=?=)
Date: Fri, 14 Nov 2008 20:08:08 +0800
Subject: [R-SIG-Finance] Missing tick mark labels from barChart / quantmod
Message-ID: <tencent_2A09BC97255616491DF3E6F1@qq.com>

I guess it maybe a silly question, but I have spent several hours reading help and googling and still could not find the missing  labels for x axis ticks.   Or tick marks?   Anyway, I mean, the year/month names along the x axis. :)
With the following codes, I got charts exactly I want. Except that there is no label for x axis ticks.  There are ticks line indeed .
I guess maybe there are something wrong with the par() of my R.  But I just cannot figure out from reading the help(par).    Indeed, if I use the plot to draw some chart for simple data, which plot maybe not the plot.xts I guess,  there are tick labels for x axis. 
Would you please tell me where could I find those tick labels for barChart?

require(quantmod)
getSymbols("AAPL")
barChart(AAPL)

From Mama_Attiglah at ssga.com  Fri Nov 14 15:58:25 2008
From: Mama_Attiglah at ssga.com (Attiglah, Mama)
Date: Fri, 14 Nov 2008 14:58:25 -0000
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <49108177.7000001@yahoo.co.uk>
References: <490F9C87.7080604@yahoo.co.uk>	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>	<491058A3.1050208@yahoo.co.uk><cd2a43910811040852s335d4173hc0cf33664c083560@mail.gmail.com>
	<49108177.7000001@yahoo.co.uk>
Message-ID: <D84557769CE9ED47AC31686731990DCB0A71AA9A@INCLCW03A.corp.statestr.com>


Hi All,  
I have been trying to use some of the Rmetrics packages to do some quick analysis but experiencing a pb of flexibility that I willl explain below by the package own example. 

1) 
#   Data = as.timeSeries(data(smallcap.ts))
   Data = Data[, c("BKE", "GG", "GYMB", "KRON")]
   Data
   Spec = portfolioSpec()
   Spec
   setTargetReturn(Spec) = mean(colMeans(Data))
   Constraints = "LongOnly"

Ans = minvariancePortfolio(Data, Spec, Constraints)

In the optimisation, the historical mean and cov matrix 
i.e
       BKE         GG       GYMB       KRON 
0.02749712 0.02198486 0.01204526 0.03570639 
and 
              BKE           GG         GYMB         KRON
BKE   0.022526377 -0.003495562  0.010318065  0.007935904
GG   -0.003495562  0.036070945 -0.003806943 -0.006872127
GYMB  0.010318065 -0.003806943  0.049574959  0.008098270
KRON  0.007935904 -0.006872127  0.008098270  0.028025520
are input. 


1) My question is this: Is there anyway I can change any of those two inputs statistics computed from the historical data before feeding the optimizer, for instance if I have a different expectation of the future? 
In order words, in case I don't have the historical data but do have the expected returns and covariance matrix, can I still ran the optimiser? 

2) The target return set and the resulting portfolio returns coming from the optimal weights are different by 22 basis points. Is that due to the algorithm of solveRquadprog ? 

           mean    
[1,] 0.02651604 
> Spec

Portfolio Specification:        
 Portfolio Type:            MV
 Optimize:                  minRisk
 Covariance Estimator:      covEstimator
 Target Return:             0.02430841
 Portfolio Risk-Free Rate:  0
 Number of Frontier Points: 50
 Optimizer:                 solveRquadprog 


Regards 

----- 
Mama Attiglah, PhD
Quantitative Research Analyst
Advanced Research Centre
State Street Bank 
25 Bank Street, London E14 5NU 
+44(0)20 7698 6290 (Direct Line)
+44 (0)207 004 2968 (Direct Fax) 
Authorised and regulated by the Financial Services Authority.
State Street Global Advisors Limited, a company registered in England with company number 2509928
and VAT number 5576591 81 and whose registered office is...{{dropped:12}}


From a.trapletti at swissonline.ch  Fri Nov 14 16:07:41 2008
From: a.trapletti at swissonline.ch (Adrian Trapletti)
Date: Fri, 14 Nov 2008 16:07:41 +0100
Subject: [R-SIG-Finance] Correlation between two asynchronous time
	series?
Message-ID: <491D943D.3030504@swissonline.ch>

>
> Message: 4
> Date: Thu, 13 Nov 2008 21:53:14 -0800
> From: Michael <comtech.usa at gmail.com>
> Subject: [R-SIG-Finance] correlation between two asynchronous time
> 	series?
> To: r-sig-finance at stat.math.ethz.ch
> Message-ID:
> 	<b1f16d9d0811132153qd277378ka3d29b9d30a5d753 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi all,
>
> If I want to find out the correlation between two time series, one is
> the Hong Kong stock index, the other is the S&P 500. The two markets
> open at two different time.
>
> What impact it might have on my estimate of the correlation of the two
> series? 
Big impact.
> How do I address this asynchronous time series problem? Any
> good models?
>   
Either you use something along the lines of 
http://papers.ssrn.com/sol3/papers.cfm?abstract_id=332901or better you 
use high frequency data (e.g., the S&P 500 futures is open almost 24 
hours and you will get overlapping hours with the Asian markets).
> Thanks a lot!
>
>   
Best regards
Adrian

-- 
Adrian Trapletti
Wildsbergstrasse 31
8610 Uster
Switzerland

Phone : +41 (0) 44 9945630
Mobile : +41 (0) 76 3705631

Email : a.trapletti at swissonline.ch


From nicolas.mougeot at db.com  Fri Nov 14 17:38:11 2008
From: nicolas.mougeot at db.com (Nicolas Mougeot)
Date: Fri, 14 Nov 2008 16:38:11 +0000
Subject: [R-SIG-Finance] Correlation between two asynchronous
	time	series?
In-Reply-To: <491D943D.3030504@swissonline.ch>
Message-ID: <OFAE79A7FB.CF20976E-ON80257501.005B3086-80257501.005B631C@db.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081114/82b9fba0/attachment.pl>

From patrick at burns-stat.com  Fri Nov 14 17:58:57 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Fri, 14 Nov 2008 16:58:57 +0000
Subject: [R-SIG-Finance] Correlation between two
	asynchronous	time	series?
In-Reply-To: <OFAE79A7FB.CF20976E-ON80257501.005B3086-80257501.005B631C@db.com>
References: <OFAE79A7FB.CF20976E-ON80257501.005B3086-80257501.005B631C@db.com>
Message-ID: <491DAE51.1030004@burns-stat.com>

When I was playing with that, it looked like
5 days (i.e., weekly) was about right.  There
seemed to be some asynchrony visible (in
equities) at 3 days.

Pat


Nicolas Mougeot wrote:
> one simple method used in practice (and the basis for correlation swap for 
> example) is to use 3 series of correlation using 3-day returns (or even 5 
> or 20)
>
>
>
>
> Adrian Trapletti <a.trapletti at swissonline.ch> 
> Sent by: r-sig-finance-bounces at stat.math.ethz.ch
> 11/14/2008 03:07 PM
>
> To
> R-Finance <r-sig-finance at stat.math.ethz.ch>
> cc
>
> Subject
> Re: [R-SIG-Finance] Correlation between two asynchronous time   series?
>
>
>
>
>
>
>   
>> Message: 4
>> Date: Thu, 13 Nov 2008 21:53:14 -0800
>> From: Michael <comtech.usa at gmail.com>
>> Subject: [R-SIG-Finance] correlation between two asynchronous time
>>                series?
>> To: r-sig-finance at stat.math.ethz.ch
>> Message-ID:
>> <b1f16d9d0811132153qd277378ka3d29b9d30a5d753 at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>>
>> Hi all,
>>
>> If I want to find out the correlation between two time series, one is
>> the Hong Kong stock index, the other is the S&P 500. The two markets
>> open at two different time.
>>
>> What impact it might have on my estimate of the correlation of the two
>> series? 
>>     
> Big impact.
>   
>> How do I address this asynchronous time series problem? Any
>> good models?
>>
>>     
> Either you use something along the lines of 
> http://papers.ssrn.com/sol3/papers.cfm?abstract_id=332901or better you 
> use high frequency data (e.g., the S&P 500 futures is open almost 24 
> hours and you will get overlapping hours with the Asian markets).
>   
>> Thanks a lot!
>>
>>
>>     
> Best regards
> Adrian
>
>


From michael.sankowski at gmail.com  Fri Nov 14 19:39:44 2008
From: michael.sankowski at gmail.com (Michael Sankowski)
Date: Fri, 14 Nov 2008 12:39:44 -0600
Subject: [R-SIG-Finance] Automatic Stock Market - Minority Game
Message-ID: <b34262a80811141039t613bf867rd24d9e80b4741894@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081114/2d30cc70/attachment.pl>

From patrick at burns-stat.com  Sat Nov 15 11:09:26 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Sat, 15 Nov 2008 10:09:26 +0000
Subject: [R-SIG-Finance] Correlation between two
	asynchronous	time	series?
In-Reply-To: <491DAE51.1030004@burns-stat.com>
References: <OFAE79A7FB.CF20976E-ON80257501.005B3086-80257501.005B631C@db.com>
	<491DAE51.1030004@burns-stat.com>
Message-ID: <491E9FD6.3010907@burns-stat.com>

 From an offline message, it appears that a bit of explanation
might be in order for those that don't understand what we
are talking about.

Suppose we want to know the correlation between
Ford and GM stock prices (an example that may well
become obsolete).  We just get daily returns for each
of the stocks and compute their correlation.  No problem.

Now suppose we have daily data for the S&P500 and
the Nikkei.  We can compute a correlation from this
data -- no problem.  Except that the estimate we get
doesn't have the meaning we want it to have (it will tend
to be too close to zero).  In this example lining up the
dates does not line up the time of the data.

There are three possible strategies (as far as I can see):

* Move to lower frequency -- weekly seems to get rid
of the majority of the asynchrony effect while not being
excessively low frequency.

* Stay with daily data but model it.

* Move to intraday data.  This works for Europe versus
US data because there is overlap in the times that the
markets are open.  It does not work for Japan with a
lot of markets because there is no overlap.


Pat


Patrick Burns wrote:
> When I was playing with that, it looked like
> 5 days (i.e., weekly) was about right.  There
> seemed to be some asynchrony visible (in
> equities) at 3 days.
>
> Pat
>
>
> Nicolas Mougeot wrote:
>> one simple method used in practice (and the basis for correlation 
>> swap for example) is to use 3 series of correlation using 3-day 
>> returns (or even 5 or 20)
>>
>>
>>
>>
>> Adrian Trapletti <a.trapletti at swissonline.ch> Sent by: 
>> r-sig-finance-bounces at stat.math.ethz.ch
>> 11/14/2008 03:07 PM
>>
>> To
>> R-Finance <r-sig-finance at stat.math.ethz.ch>
>> cc
>>
>> Subject
>> Re: [R-SIG-Finance] Correlation between two asynchronous time   series?
>>
>>
>>
>>
>>
>>
>>  
>>> Message: 4
>>> Date: Thu, 13 Nov 2008 21:53:14 -0800
>>> From: Michael <comtech.usa at gmail.com>
>>> Subject: [R-SIG-Finance] correlation between two asynchronous time
>>>                series?
>>> To: r-sig-finance at stat.math.ethz.ch
>>> Message-ID:
>>> <b1f16d9d0811132153qd277378ka3d29b9d30a5d753 at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> Hi all,
>>>
>>> If I want to find out the correlation between two time series, one is
>>> the Hong Kong stock index, the other is the S&P 500. The two markets
>>> open at two different time.
>>>
>>> What impact it might have on my estimate of the correlation of the two
>>> series?     
>> Big impact.
>>  
>>> How do I address this asynchronous time series problem? Any
>>> good models?
>>>
>>>     
>> Either you use something along the lines of 
>> http://papers.ssrn.com/sol3/papers.cfm?abstract_id=332901or better 
>> you use high frequency data (e.g., the S&P 500 futures is open almost 
>> 24 hours and you will get overlapping hours with the Asian markets).
>>  
>>> Thanks a lot!
>>>
>>>
>>>     
>> Best regards
>> Adrian
>>
>>   
>


From brian at muxspace.com  Sun Nov 16 00:39:13 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sat, 15 Nov 2008 18:39:13 -0500
Subject: [R-SIG-Finance] Using quantmod chartSeries for FRED data
Message-ID: <etPan.491f5da1.4821ef08.1b83@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081115/1cb1085d/attachment.html>

From pgrahl at gmail.com  Sun Nov 16 01:58:38 2008
From: pgrahl at gmail.com (Paulo Grahl)
Date: Sat, 15 Nov 2008 22:58:38 -0200
Subject: [R-SIG-Finance] Using quantmod chartSeries for FRED data
In-Reply-To: <etPan.491f5da1.4821ef08.1b83@localhost>
References: <etPan.491f5da1.4821ef08.1b83@localhost>
Message-ID: <755f575b0811151658p77ae74a1g8b5421151d349da5@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081115/74420b7b/attachment.pl>

From josh.m.ulrich at gmail.com  Sun Nov 16 03:35:23 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Sat, 15 Nov 2008 20:35:23 -0600
Subject: [R-SIG-Finance] Using quantmod chartSeries for FRED data
In-Reply-To: <etPan.491f5da1.4821ef08.1b83@localhost>
References: <etPan.491f5da1.4821ef08.1b83@localhost>
Message-ID: <8cca69990811151835y7279abe7i9165ea63b026e92f@mail.gmail.com>

Hi Brian,

The chartSeries documentation says that it's a "charting tool to
create standard financial charts given a time series like object.
Serves as the base function for future technical analysis additions."

In other words, chartSeries is designed to chart data from stock
markets, futures markets, currency markets, etc.  Paulo's suggestion
works and you could also use the standard xts/zoo plotting
functionality.

> plot(Delt(M1))
> plot.zoo(Delt(M1))

Best,
Josh
--
http://quantemplation.blogspot.com



On Sat, Nov 15, 2008 at 5:39 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hello,
>
> I am using quantmod to download FRED data and would like to view the series
> using the chartSeries function, but I am getting an error.
>
>> getSymbols('M1', src='FRED')
>> class(M1)
> [1] "xts" "zoo"
>> chartSeries(Delt(M1), type='line')
> Error in sum(poss.new) : invalid 'type' (list) of argument
>> chartSeries(Delt(M1))
> Error in sum(poss.new) : invalid 'type' (list) of argument
>
> Based on the documentation it seems that this data should be supported:
> "Courtesy of as.xts it can handle any object that is time-series like,
> meaning R objects of class xts, zoo, timeSeries, its, ts, irts, and more!"
>
> According to ?quantmod, I am using:
>        Version:   0.3-6
>        Revision:  433
>        Date:      2007-06-09
>
>
> Is this functionality supported or am I missing something?
>
> Thanks,
> Brian
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From brian at muxspace.com  Sun Nov 16 06:55:41 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sun, 16 Nov 2008 00:55:41 -0500
Subject: [R-SIG-Finance] Using quantmod chartSeries for FRED data
Message-ID: <etPan.491fb5dd.64978f23.7072@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081116/0d0587dc/attachment.html>

From windspeedo at qq.com  Sun Nov 16 10:24:32 2008
From: windspeedo at qq.com (=?gbk?B?t+c=?=)
Date: Sun, 16 Nov 2008 17:24:32 +0800
Subject: [R-SIG-Finance] Missing tick mark labels from barChart / quantmod -
	plot.xts missing
Message-ID: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>

Dear Jeff and R experts,
I wonder whether you have received the previous email on this matter.
I have narrow the problem to plot.xts missing.

>require(quantmod)            
Loading required package: quantmod
Loading required package: xts
Loading required package: zoo
Attaching package: 'zoo'
        The following object(s) are masked from package:base :
         as.Date.numeric 
Loading required package: Defaults
quantmod: Quantitative Financial Modelling Framework
Version 0.3-6, Revision 433
http://www.quantmod.com
       
>getSymbols('AAPL')   
[1] "AAPL"
>barChart(AAPL)
#successful.  But NO date label for x axis labels.
>a<-Cl(AAPL)
>class(a)
[1] "xts" "zoo"
>plot.zoo(a)
#successful.  There are annual label for x axis major ticks.
>chartSeries(a)
Error in sum(poss.new) : invalid 'type' (list) of argument
>plot(a)
#no date label for x  axis ticks
>plot(as.xts(a))
#same graph as the above. still no date label for x axis ticks
>plot.xts(a)
Error: could not find function "plot.xts"
> ?plot.xts
#the help window for plot.xts poped up.

>library(help=xts)
#window poped up with the following content:
Version:       0.0-15
Revision:      139
Date:          2007-06-04
Author:        Jeffrey A. Ryan, Josh M. Ulrich
Depends:       zoo
...
License:       GPL-3
URL:           http://r-forge.r-project.org/projects/xts/
Packaged:      Mon Jun 9 23:47:46 2008; jryan
Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
Index:
...
plot.xts                Plotting xts Objects
...

It seems that plot.zoo does its job but plot.xts may have some problem.

Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.

I wonder whether it is enough for R experts to diagnose the problem.
Thanks.

Wind

From jeff.a.ryan at gmail.com  Sun Nov 16 16:47:06 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 16 Nov 2008 09:47:06 -0600
Subject: [R-SIG-Finance] Missing tick mark labels from barChart /
	quantmod - plot.xts missing
In-Reply-To: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>
References: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>
Message-ID: <e8e755250811160747w7a57c44fmba1221a8b6332b19@mail.gmail.com>

Hi Wind,

plot.xts is there, just not exported.  This means it gets called when
an xts object is passed to plot()

xts:::plot.xts

That aside, the issue is somewhere else.  I have tried the CRAN
release, the R-forge package, and the dev code on R-forge and all seem
to show an x axis with dates.

There may be a formatting issue with Windows and the release you have
not showing line breaks in the date (windows doesn't recognize this).
Try using this version (though probably won't fix either):

install.packages("xts",repos="http://R-Forge.R-project.org")

chartSeries and plot.xts use axTicksByTime to format the labels.  The
issue most likely is that of the line breaks.

All of the above have been fixed in not yet released /dev branch of
xts.  We are hoping to have that ready in the next few weeks.

Jeff

On Sun, Nov 16, 2008 at 3:24 AM, ? <windspeedo at qq.com> wrote:
> Dear Jeff and R experts,
> I wonder whether you have received the previous email on this matter.
> I have narrow the problem to plot.xts missing.
>
>>require(quantmod)
> Loading required package: quantmod
> Loading required package: xts
> Loading required package: zoo
> Attaching package: 'zoo'
>        The following object(s) are masked from package:base :
>         as.Date.numeric
> Loading required package: Defaults
> quantmod: Quantitative Financial Modelling Framework
> Version 0.3-6, Revision 433
> http://www.quantmod.com
>
>>getSymbols('AAPL')
> [1] "AAPL"
>>barChart(AAPL)
> #successful.  But NO date label for x axis labels.
>>a<-Cl(AAPL)
>>class(a)
> [1] "xts" "zoo"
>>plot.zoo(a)
> #successful.  There are annual label for x axis major ticks.
>>chartSeries(a)
> Error in sum(poss.new) : invalid 'type' (list) of argument
>>plot(a)
> #no date label for x  axis ticks
>>plot(as.xts(a))
> #same graph as the above. still no date label for x axis ticks
>>plot.xts(a)
> Error: could not find function "plot.xts"
>> ?plot.xts
> #the help window for plot.xts poped up.
>
>>library(help=xts)
> #window poped up with the following content:
> Version:       0.0-15
> Revision:      139
> Date:          2007-06-04
> Author:        Jeffrey A. Ryan, Josh M. Ulrich
> Depends:       zoo
> ...
> License:       GPL-3
> URL:           http://r-forge.r-project.org/projects/xts/
> Packaged:      Mon Jun 9 23:47:46 2008; jryan
> Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
> Index:
> ...
> plot.xts                Plotting xts Objects
> ...
>
> It seems that plot.zoo does its job but plot.xts may have some problem.
>
> Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.
>
> I wonder whether it is enough for R experts to diagnose the problem.
> Thanks.
>
> Wind



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

From jeff.a.ryan at gmail.com  Sun Nov 16 16:49:33 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 16 Nov 2008 09:49:33 -0600
Subject: [R-SIG-Finance] Using quantmod chartSeries for FRED data
In-Reply-To: <etPan.491f5da1.4821ef08.1b83@localhost>
References: <etPan.491f5da1.4821ef08.1b83@localhost>
Message-ID: <e8e755250811160749k7dbfc955xfb85cb4ed3cfe340@mail.gmail.com>

Hello all,

Sorry for the late reply.

The r-forge version of quantmod has this TA issue fixed now.  I should
have a new version ready prior to the beginning of December.

Jeff

On Sat, Nov 15, 2008 at 5:39 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hello,
>
> I am using quantmod to download FRED data and would like to view the series
> using the chartSeries function, but I am getting an error.
>
>> getSymbols('M1', src='FRED')
>> class(M1)
> [1] "xts" "zoo"
>> chartSeries(Delt(M1), type='line')
> Error in sum(poss.new) : invalid 'type' (list) of argument
>> chartSeries(Delt(M1))
> Error in sum(poss.new) : invalid 'type' (list) of argument
>
> Based on the documentation it seems that this data should be supported:
> "Courtesy of as.xts it can handle any object that is time-series like,
> meaning R objects of class xts, zoo, timeSeries, its, ts, irts, and more!"
>
> According to ?quantmod, I am using:
>        Version:   0.3-6
>        Revision:  433
>        Date:      2007-06-09
>
>
> Is this functionality supported or am I missing something?
>
> Thanks,
> Brian
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From patzoul at free.fr  Sun Nov 16 17:47:56 2008
From: patzoul at free.fr (patzoul)
Date: Sun, 16 Nov 2008 08:47:56 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] error in maxreturnPortfolio
Message-ID: <20527200.post@talk.nabble.com>


I am running the following script but get an error saying that the Target
Return is missing eventhough it is a n input that I dont need.

Data = as.timeSeries(data(smallcap.ts)) 
Data = Data[, c("BKE", "GG", "GYMB", "KRON")] 
Spec = portfolioSpec() 
#setTargetReturn(Spec) = mean(colMeans(Data)) 
setOptimize(Spec) = "maxReturn"
setTargetRisk(Spec) = 0.15
print(Spec)
mv <- maxreturnPortfolio(Data, Spec, Constraints) 
print(mv)


What  do I need to do to use maxreturnPortfolio?



-- 
View this message in context: http://www.nabble.com/error-in-maxreturnPortfolio-tp20527200p20527200.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From ag at jet-sa.ch  Mon Nov 17 11:53:08 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Mon, 17 Nov 2008 11:53:08 +0100
Subject: [R-SIG-Finance] Correlation between two asynchronous
	time	series?
Message-ID: <005201c948a2$ad0b4ab0$0721e010$@ch>

Hello,

I have been working on this problem, as I need to compute every day a
correlation Matrix between 40 future markets (European & US exchanges).
I really think the best way is to get synchronized data, i.e. with a closing
time @ the same time snapshot. For European-US products, this could be @
4:00 PM GMT.
I have absolutely no idea how to create a customized session from 4:00 to
4:00 when downloading data with the get.hist.quote function. If someone has
some ideas or code about it, it would be welcomed.
Arno





-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3068 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081117/38a316c3/attachment.bin>

From mats_pistol at yahoo.com  Mon Nov 17 15:37:40 2008
From: mats_pistol at yahoo.com (mats pistol)
Date: Mon, 17 Nov 2008 06:37:40 -0800 (PST)
Subject: [R-SIG-Finance] Yahoo data
Message-ID: <963081.70321.qm@web65709.mail.ac4.yahoo.com>

Hi

I have been using get_hist_quote(), to obtain historical data from Yahoo, and this workds well.

I would like to access intraday data from 'today' but have had no success, get_hist_quote() has no time paramater.

Is there a way to obtain intraday quotes from Yahoo (I am happy if they are delayed 20mins or even a full day or more) But I need to obtain 1 minute data or 5 minute data.

I would appreciate any suggestions or advice.

Thanks

Erik 





From jeff.a.ryan at gmail.com  Mon Nov 17 16:13:00 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 17 Nov 2008 09:13:00 -0600
Subject: [R-SIG-Finance] Yahoo data
In-Reply-To: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
References: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
Message-ID: <e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>

Erik,

Yahoo does not support intraday historical data.

If you are looking for intraday/snapshot style data, getQuote in
quantmod will do what you need.  getSymbols is the quantmod version of
get.hist.quote.  getSymbols also supports a variety of other data
sources.

A cheap/free with account data source for historical intraday data is
Interactive Brokers.  There is an API for R on CRAN called IBrokers as
well that will provide historical data.

Your best bet is to buy the data from a vendor like CSI (the supplier
to yahoo, google, etc).  There is a package on R-forge to access that
API as well (called RCSI).

HTH
Jeff

On Mon, Nov 17, 2008 at 8:37 AM, mats pistol <mats_pistol at yahoo.com> wrote:
> Hi
>
> I have been using get_hist_quote(), to obtain historical data from Yahoo, and this workds well.
>
> I would like to access intraday data from 'today' but have had no success, get_hist_quote() has no time paramater.
>
> Is there a way to obtain intraday quotes from Yahoo (I am happy if they are delayed 20mins or even a full day or more) But I need to obtain 1 minute data or 5 minute data.
>
> I would appreciate any suggestions or advice.
>
> Thanks
>
> Erik
>
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From cedrick.johnson at chicagotrading.com  Mon Nov 17 16:41:46 2008
From: cedrick.johnson at chicagotrading.com (Cedrick Johnson)
Date: Mon, 17 Nov 2008 09:41:46 -0600
Subject: [R-SIG-Finance] IB API error
In-Reply-To: <e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>
References: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
	<e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>
Message-ID: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DE82@MAIL.chicagotrading.com>

Howdy-

Relative newbie here. I have the latest IB version (I use the JNLP
version to access IB)...

When I do the following:
twsConnect(clientId=1, host='hostxxx', port=7496, verbose=TRUE)

I accept the incoming connection attempt dialog and immediately
afterwards, R throws this error:

Error in structure(list(s, clientId = clientId, port = port,
server.version = SERVER_VERSION,  : 
  object "SERVER_VERSION" not found


Any ideas as to why this is happening?

I've tried opentick (active account) to no avail (but that's for a
different topic).

Here's the IB version info:

Build: 889.2

Java version: 1.6.0_07


Any help would be most appreciated.

Thanks
CJ





This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received. 

This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice. 

 


From jeff.a.ryan at gmail.com  Mon Nov 17 16:47:45 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 17 Nov 2008 09:47:45 -0600
Subject: [R-SIG-Finance] IB API error
In-Reply-To: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DE82@MAIL.chicagotrading.com>
References: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
	<e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>
	<0CABABBD3BD42D4EA10375B32BA9C60A04D8DE82@MAIL.chicagotrading.com>
Message-ID: <e8e755250811170747l63e26759x88182ccb2189759c@mail.gmail.com>

Howdy back,

The issue is that the server version returned changed from IB, and
IBrokers on CRAN hasn't kept up.  I will patch today so that the
googlecode version is fixed, and resubmit to CRAN.

Thanks,
Jeff

On Mon, Nov 17, 2008 at 9:41 AM, Cedrick Johnson
<cedrick.johnson at chicagotrading.com> wrote:
> Howdy-
>
> Relative newbie here. I have the latest IB version (I use the JNLP
> version to access IB)...
>
> When I do the following:
> twsConnect(clientId=1, host='hostxxx', port=7496, verbose=TRUE)
>
> I accept the incoming connection attempt dialog and immediately
> afterwards, R throws this error:
>
> Error in structure(list(s, clientId = clientId, port = port,
> server.version = SERVER_VERSION,  :
>  object "SERVER_VERSION" not found
>
>
> Any ideas as to why this is happening?
>
> I've tried opentick (active account) to no avail (but that's for a
> different topic).
>
> Here's the IB version info:
>
> Build: 889.2
>
> Java version: 1.6.0_07
>
>
> Any help would be most appreciated.
>
> Thanks
> CJ
>
>
>
>
>
> This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received.
>
> This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice.
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From mdelvaux at gmail.com  Mon Nov 17 17:38:32 2008
From: mdelvaux at gmail.com (Marc Delvaux)
Date: Mon, 17 Nov 2008 08:38:32 -0800
Subject: [R-SIG-Finance] Gaps in time for yahoo historical quotes?
Message-ID: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>

I am trying to get historical quotes from Yahoo.  Ideally I want high
quality split and dividend adjusted close prices for a set of stocks.
My history so far:
- I started with yahooSeries in pacjage fImport.  This would be ideal,
but it does look like the series is for non adjusted data.  I didn't
find any function to adjust the serires yet, is there any.
- I then used getYahooData in package TTR.  This has the split
adjusted values I want, but it seems that the returned data series
don't always have the same dates present.  The series are OK for the
near past, up to about 1600 points, but some series become
incompatible later on.  A quick illustration of the problem is shown
below, but many series are affected in that way.  Anybody that already
faced that problem and came with a solution to get compatible series?
It is not a real problem if you are using only one series, but is a
serious problems when comparing series.

> aapl <- getYahooData("AAPl", 19910101, 20080101)
End date out of range, 2007-12-31 is last available date.
Start date out of range, 1991-01-02 is first available date.
> genz <- getYahooData("genz", 19910101, 20080101)
End date out of range, 2007-12-31 is last available date.
Start date out of range, 1991-01-02 is first available date.  << GENZ
and AAPL report same start and end date
> dim(genz)
[1] 4279   10
> dim(aapl)
[1] 4285   10   << but different number of samples

After some manipulations, including reverting the time order

> aapl[1488:1490,]
          Date  Open   High    Low  Close   Volume Unadj.Close Div Split Adj.Div
523 2002-02-04 12.16 12.760 12.100 12.675 18656200       25.35  NA    NA      NA
522 2002-02-01 12.17 12.480 12.170 12.205 14225200       24.41  NA    NA      NA
521 2002-01-31 12.08 12.365 12.055 12.360 16730200       24.72  NA    NA      NA
> genz[1488:1490,]
          Date  Open  High   Low Close   Volume Unadj.Close Div Split Adj.Div
517 2002-02-04 46.45 46.50 43.30 44.04  5297000       44.04  NA    NA
    NA  << where is 2002-02-01 ?
516 2002-01-31 44.70 46.49 44.22 45.61  4983100       45.61  NA    NA      NA
515 2002-01-30 45.89 46.00 40.69 44.46 13818300       44.46  NA    NA      NA


From jeff.a.ryan at gmail.com  Mon Nov 17 17:51:36 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 17 Nov 2008 10:51:36 -0600
Subject: [R-SIG-Finance] Gaps in time for yahoo historical quotes?
In-Reply-To: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
References: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
Message-ID: <e8e755250811170851r457f96b7qe19380883cfe87eb@mail.gmail.com>

Marc,

In terms of data you get what you pay for.

even then...  :)

If you want, quantmod's getSymbols can fetch google financial data,
which is split adjusted.

getSymbols("AAPL", src="google")

You can also set that as your default:

library(Defaults) #included by default
setDefaults(getSymbols, src='google')

getSymbols("GENZ")

str(GENZ)

do read the help at ?getSymbols.google for a warning about google data.

HTH
Jeff

On Mon, Nov 17, 2008 at 10:38 AM, Marc Delvaux <mdelvaux at gmail.com> wrote:
> I am trying to get historical quotes from Yahoo.  Ideally I want high
> quality split and dividend adjusted close prices for a set of stocks.
> My history so far:
> - I started with yahooSeries in pacjage fImport.  This would be ideal,
> but it does look like the series is for non adjusted data.  I didn't
> find any function to adjust the serires yet, is there any.
> - I then used getYahooData in package TTR.  This has the split
> adjusted values I want, but it seems that the returned data series
> don't always have the same dates present.  The series are OK for the
> near past, up to about 1600 points, but some series become
> incompatible later on.  A quick illustration of the problem is shown
> below, but many series are affected in that way.  Anybody that already
> faced that problem and came with a solution to get compatible series?
> It is not a real problem if you are using only one series, but is a
> serious problems when comparing series.
>
>> aapl <- getYahooData("AAPl", 19910101, 20080101)
> End date out of range, 2007-12-31 is last available date.
> Start date out of range, 1991-01-02 is first available date.
>> genz <- getYahooData("genz", 19910101, 20080101)
> End date out of range, 2007-12-31 is last available date.
> Start date out of range, 1991-01-02 is first available date.  << GENZ
> and AAPL report same start and end date
>> dim(genz)
> [1] 4279   10
>> dim(aapl)
> [1] 4285   10   << but different number of samples
>
> After some manipulations, including reverting the time order
>
>> aapl[1488:1490,]
>          Date  Open   High    Low  Close   Volume Unadj.Close Div Split Adj.Div
> 523 2002-02-04 12.16 12.760 12.100 12.675 18656200       25.35  NA    NA      NA
> 522 2002-02-01 12.17 12.480 12.170 12.205 14225200       24.41  NA    NA      NA
> 521 2002-01-31 12.08 12.365 12.055 12.360 16730200       24.72  NA    NA      NA
>> genz[1488:1490,]
>          Date  Open  High   Low Close   Volume Unadj.Close Div Split Adj.Div
> 517 2002-02-04 46.45 46.50 43.30 44.04  5297000       44.04  NA    NA
>    NA  << where is 2002-02-01 ?
> 516 2002-01-31 44.70 46.49 44.22 45.61  4983100       45.61  NA    NA      NA
> 515 2002-01-30 45.89 46.00 40.69 44.46 13818300       44.46  NA    NA      NA
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ajayshah at mayin.org  Mon Nov 17 17:53:53 2008
From: ajayshah at mayin.org (Ajay Shah)
Date: Mon, 17 Nov 2008 22:23:53 +0530
Subject: [R-SIG-Finance] Gaps in time for yahoo historical quotes?
In-Reply-To: <e8e755250811170851r457f96b7qe19380883cfe87eb@mail.gmail.com>
References: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
	<e8e755250811170851r457f96b7qe19380883cfe87eb@mail.gmail.com>
Message-ID: <20081117165353.GV228@lubyanka.local>

On Mon, Nov 17, 2008 at 10:51:36AM -0600, Jeff Ryan wrote:
> Marc,
> 
> In terms of data you get what you pay for.
> 
> even then...  :)
> 
> If you want, quantmod's getSymbols can fetch google financial data,
> which is split adjusted.

Does the wisdom on the list think google's financial data is better
than yahoo? The last time I looked, it was much worse.

-- 
Ajay Shah                                      http://www.mayin.org/ajayshah  
ajayshah at mayin.org                             http://ajayshahblog.blogspot.com
<*(:-? - wizard who doesn't know the answer.


From josh.m.ulrich at gmail.com  Mon Nov 17 18:16:28 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Mon, 17 Nov 2008 11:16:28 -0600
Subject: [R-SIG-Finance] Gaps in time for yahoo historical quotes?
In-Reply-To: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
References: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
Message-ID: <8cca69990811170916p2f57f53n92a3c070b345dcc4@mail.gmail.com>

Hi Marc,

The adjustment algorithm will be separate from getYahooData in the
next release of TTR.  Then you'll be able to adjust data and pull data
using whichever function you prefer.

This is what I would do, though I'm not sure it's the most
correct/robust way to handle this issue.

aapl <- getYahooData("AAPl", 19910101, 20080101, quiet=TRUE)
genz <- getYahooData("GENZ", 19910101, 20080101, quiet=TRUE)
aapl <- xts(aapl[,-1],aapl[,1])
genz <- xts(genz[,-1],genz[,1])

both <- merge(aapl,genz,all=FALSE)

The all=FALSE arg removes any rows that don't appear in both objects,
giving you compatible series.

HTH,
Josh
--
http://quantemplation.blogspot.com



On Mon, Nov 17, 2008 at 10:38 AM, Marc Delvaux <mdelvaux at gmail.com> wrote:
> I am trying to get historical quotes from Yahoo.  Ideally I want high
> quality split and dividend adjusted close prices for a set of stocks.
> My history so far:
> - I started with yahooSeries in pacjage fImport.  This would be ideal,
> but it does look like the series is for non adjusted data.  I didn't
> find any function to adjust the serires yet, is there any.
> - I then used getYahooData in package TTR.  This has the split
> adjusted values I want, but it seems that the returned data series
> don't always have the same dates present.  The series are OK for the
> near past, up to about 1600 points, but some series become
> incompatible later on.  A quick illustration of the problem is shown
> below, but many series are affected in that way.  Anybody that already
> faced that problem and came with a solution to get compatible series?
> It is not a real problem if you are using only one series, but is a
> serious problems when comparing series.
>
>> aapl <- getYahooData("AAPl", 19910101, 20080101)
> End date out of range, 2007-12-31 is last available date.
> Start date out of range, 1991-01-02 is first available date.
>> genz <- getYahooData("genz", 19910101, 20080101)
> End date out of range, 2007-12-31 is last available date.
> Start date out of range, 1991-01-02 is first available date.  << GENZ
> and AAPL report same start and end date
>> dim(genz)
> [1] 4279   10
>> dim(aapl)
> [1] 4285   10   << but different number of samples
>
> After some manipulations, including reverting the time order
>
>> aapl[1488:1490,]
>          Date  Open   High    Low  Close   Volume Unadj.Close Div Split Adj.Div
> 523 2002-02-04 12.16 12.760 12.100 12.675 18656200       25.35  NA    NA      NA
> 522 2002-02-01 12.17 12.480 12.170 12.205 14225200       24.41  NA    NA      NA
> 521 2002-01-31 12.08 12.365 12.055 12.360 16730200       24.72  NA    NA      NA
>> genz[1488:1490,]
>          Date  Open  High   Low Close   Volume Unadj.Close Div Split Adj.Div
> 517 2002-02-04 46.45 46.50 43.30 44.04  5297000       44.04  NA    NA
>    NA  << where is 2002-02-01 ?
> 516 2002-01-31 44.70 46.49 44.22 45.61  4983100       45.61  NA    NA      NA
> 515 2002-01-30 45.89 46.00 40.69 44.46 13818300       44.46  NA    NA      NA
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From mdelvaux at gmail.com  Mon Nov 17 18:29:40 2008
From: mdelvaux at gmail.com (Marc Delvaux)
Date: Mon, 17 Nov 2008 09:29:40 -0800
Subject: [R-SIG-Finance] Gaps in time for yahoo historical quotes?
In-Reply-To: <8cca69990811170916p2f57f53n92a3c070b345dcc4@mail.gmail.com>
References: <a010cefd0811170838o215c8663xc156675a319c6da2@mail.gmail.com>
	<8cca69990811170916p2f57f53n92a3c070b345dcc4@mail.gmail.com>
Message-ID: <a010cefd0811170929o6e421681xff6c9b5cf2f5d936@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081117/07ee7c4a/attachment.pl>

From mdelvaux at gmail.com  Mon Nov 17 21:49:31 2008
From: mdelvaux at gmail.com (Marc Delvaux)
Date: Mon, 17 Nov 2008 12:49:31 -0800
Subject: [R-SIG-Finance] How to clean errors in yahoo historical quotes?
Message-ID: <a010cefd0811171249g28d6666y8aa502a64bf2581@mail.gmail.com>

This is a followup question on the previous thread on time gaps.

In the first thread, I had identified gaps in the time series.  I was
focusing on GENZ because I was seeing aberrant results when working
with that time series.  I first detected the problem with the time
gaps and was assuming that this was the problem.  While the code
provided by Josh Ulrich works beautifully to get compatible series, I
still got aberrant results when working with GENZ :-(

This has now been traced to errors in the series, probably related to
a problem with the adjustment algorithm (see below).   Thanks to Jeff
Ryan, I am also able to compare the same data as reported by Google,
that in this specific instance is not affected.

The general question is then: given that we know that in general
downloaded data can be effected by errors, how to clean them?  I can
see ways to do that, especially by direct observation and manual
cleaning, but again I don't want to reinvent the wheel.  Also is it
worth to contact Yahoo to have the series cleaned at the source (gut
feeling is no).  And yes, I understand both yahoo and google data are
free and so come with no guarantee.


First the data as downloaded from Yahoo via getYahooData in package
TTR, corresponding Yahoo chart is OK BTW

> genz['2001-04-24::2001-05-08']
             Open   High    Low  Close  Volume Unadj.Close Div Split Adj.Div
2001-04-24 51.900 52.000 50.225 50.525 2839400      101.05  NA    NA      NA
2001-04-25 50.495 53.345 50.495 51.765 4161600      103.53  NA    NA      NA
2001-04-26 51.875 53.255 51.145 52.685 1956000      105.37  NA    NA      NA
2001-04-27 52.880 55.000 52.750 53.755 3028800      107.51  NA    NA      NA
2001-04-30 27.025 27.585 26.545 27.245 3396800       54.49  NA    NA
   NA   << not very likely
2001-05-01 54.625 55.750 52.860 55.515 2792000      111.03  NA    NA      NA
2001-05-02 55.540 55.625 51.875 54.080 3466600      108.16  NA    NA      NA
2001-05-03 51.375 51.835 51.100 51.315 5412600      102.63  NA    NA      NA
2001-05-04 49.000 51.515 48.750 50.900 4066400      101.80  NA    NA      NA
2001-05-07 25.485 26.495 25.375 26.315 3185500       52.63  NA    NA
   NA << not very likely
2001-05-08 52.800 53.275 52.110 52.980 1884000      105.96  NA    NA      NA

Then the data as downloaded from google via getSymbols in package quantmod

> GENZ['2001-04-24::2001-05-08']
           GENZ.Open GENZ.High GENZ.Low GENZ.Close GENZ.Volume
2001-04-24     51.90     52.00    50.22      50.52     5678800
2001-04-25     50.50     53.34    50.50      51.76     8323400
2001-04-26     51.88     53.26    51.14      52.68     3912200
2001-04-27     52.88     55.00    52.75      53.76     6057400
2001-04-30     54.05     55.17    53.09      54.48     6793600  << I
can believe this one
2001-05-01     54.62     55.75    52.86      55.52     5584000
2001-05-02     55.54     55.62    51.88      54.08     6933200
2001-05-03     51.38     51.84    51.10      51.32    10825200
2001-05-04     49.00     51.52    48.75      50.90     8132800
2001-05-07     50.97     53.00    50.75      52.64     6371000
2001-05-08     52.80     53.28    52.11      52.98     3768200


From kriskumar at earthlink.net  Tue Nov 18 01:39:39 2008
From: kriskumar at earthlink.net (Krishna Kumar)
Date: Mon, 17 Nov 2008 19:39:39 -0500
Subject: [R-SIG-Finance] Computational Finance with R- Columbia University -
	December 4th
In-Reply-To: <e8e755250810030803p5b361dc5nd3b3f31cfddfd087@mail.gmail.com>
References: <e8e755250810030803p5b361dc5nd3b3f31cfddfd087@mail.gmail.com>
Message-ID: <49220ECB.3030300@earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081117/c37cee6b/attachment.pl>

From jeff.a.ryan at gmail.com  Tue Nov 18 16:31:37 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 18 Nov 2008 09:31:37 -0600
Subject: [R-SIG-Finance] IB API error
In-Reply-To: <e8e755250811170747l63e26759x88182ccb2189759c@mail.gmail.com>
References: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
	<e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>
	<0CABABBD3BD42D4EA10375B32BA9C60A04D8DE82@MAIL.chicagotrading.com>
	<e8e755250811170747l63e26759x88182ccb2189759c@mail.gmail.com>
Message-ID: <e8e755250811180731m1e338e0am6e1a07cc9a05160a@mail.gmail.com>

UPDATE (for those who care):

IBrokers version with API fixes now on CRAN.
http://cran.r-project.org/web/packages/IBrokers/index.html

Jeff

On Mon, Nov 17, 2008 at 9:47 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Howdy back,
>
> The issue is that the server version returned changed from IB, and
> IBrokers on CRAN hasn't kept up.  I will patch today so that the
> googlecode version is fixed, and resubmit to CRAN.
>
> Thanks,
> Jeff
>
> On Mon, Nov 17, 2008 at 9:41 AM, Cedrick Johnson
> <cedrick.johnson at chicagotrading.com> wrote:
>> Howdy-
>>
>> Relative newbie here. I have the latest IB version (I use the JNLP
>> version to access IB)...
>>
>> When I do the following:
>> twsConnect(clientId=1, host='hostxxx', port=7496, verbose=TRUE)
>>
>> I accept the incoming connection attempt dialog and immediately
>> afterwards, R throws this error:
>>
>> Error in structure(list(s, clientId = clientId, port = port,
>> server.version = SERVER_VERSION,  :
>>  object "SERVER_VERSION" not found
>>
>>
>> Any ideas as to why this is happening?
>>
>> I've tried opentick (active account) to no avail (but that's for a
>> different topic).
>>
>> Here's the IB version info:
>>
>> Build: 889.2
>>
>> Java version: 1.6.0_07
>>
>>
>> Any help would be most appreciated.
>>
>> Thanks
>> CJ
>>
>>
>>
>>
>>
>> This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received.
>>
>> This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice.
>>
>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From cedrick.johnson at chicagotrading.com  Tue Nov 18 21:32:13 2008
From: cedrick.johnson at chicagotrading.com (Cedrick Johnson)
Date: Tue, 18 Nov 2008 14:32:13 -0600
Subject: [R-SIG-Finance] IB API error
In-Reply-To: <e8e755250811180731m1e338e0am6e1a07cc9a05160a@mail.gmail.com>
References: <963081.70321.qm@web65709.mail.ac4.yahoo.com>
	<e8e755250811170713i13da827au9768d32071953c65@mail.gmail.com>
	<0CABABBD3BD42D4EA10375B32BA9C60A04D8DE82@MAIL.chicagotrading.com>
	<e8e755250811170747l63e26759x88182ccb2189759c@mail.gmail.com>
	<e8e755250811180731m1e338e0am6e1a07cc9a05160a@mail.gmail.com>
Message-ID: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DE9F@MAIL.chicagotrading.com>

The new patch is working with my setup now. Thanks Jeff!


-c


-----Original Message-----
From: Jeff Ryan [mailto:jeff.a.ryan at gmail.com] 
Sent: Tuesday, November 18, 2008 9:32 AM
To: Cedrick Johnson
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] IB API error

UPDATE (for those who care):

IBrokers version with API fixes now on CRAN.
http://cran.r-project.org/web/packages/IBrokers/index.html

Jeff

On Mon, Nov 17, 2008 at 9:47 AM, Jeff Ryan <jeff.a.ryan at gmail.com>
wrote:
> Howdy back,
>
> The issue is that the server version returned changed from IB, and
> IBrokers on CRAN hasn't kept up.  I will patch today so that the
> googlecode version is fixed, and resubmit to CRAN.
>
> Thanks,
> Jeff
>
> On Mon, Nov 17, 2008 at 9:41 AM, Cedrick Johnson
> <cedrick.johnson at chicagotrading.com> wrote:
>> Howdy-
>>
>> Relative newbie here. I have the latest IB version (I use the JNLP
>> version to access IB)...
>>
>> When I do the following:
>> twsConnect(clientId=1, host='hostxxx', port=7496, verbose=TRUE)
>>
>> I accept the incoming connection attempt dialog and immediately
>> afterwards, R throws this error:
>>
>> Error in structure(list(s, clientId = clientId, port = port,
>> server.version = SERVER_VERSION,  :
>>  object "SERVER_VERSION" not found
>>
>>
>> Any ideas as to why this is happening?
>>
>> I've tried opentick (active account) to no avail (but that's for a
>> different topic).
>>
>> Here's the IB version info:
>>
>> Build: 889.2
>>
>> Java version: 1.6.0_07
>>
>>
>> Any help would be most appreciated.
>>
>> Thanks
>> CJ
>>
>>
>>
>>
>>
>> This message is intended only for the personal and confidential use
of the recipients named above. If the reader of this email is not the
intended recipient, you have received this email in error and any
review, dissemination, distribution or copying is strictly prohibited.
If you have received this email in error, please notify the sender
immediately by return email and permanently delete the copy you
received.
>>
>> This message is provided for informational purposes and should not be
construed as a solicitation or offer to buy or sell any securities or
related financial instruments. CTC Holdings nor any affiliates ("CTC")
are responsible for any recommendation, solicitation, offer or agreement
or any information about any transaction, customer account or account
activity that may be attached to or contained in this communication. CTC
accepts no liability for any content contained in the email, or any
errors or omissions arising as a result of e-mail transmission. Any
opinions contained in this email constitute the sender's best judgment
at this time and are subject to change without notice.
>>
>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com





This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received. 

This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice. 

 


From peter at braverock.com  Tue Nov 18 22:52:26 2008
From: peter at braverock.com (Peter Carl)
Date: Tue, 18 Nov 2008 15:52:26 -0600
Subject: [R-SIG-Finance] Automatic Stock Market - Minority Game
In-Reply-To: <b34262a80811141039t613bf867rd24d9e80b4741894@mail.gmail.com>
References: <b34262a80811141039t613bf867rd24d9e80b4741894@mail.gmail.com>
Message-ID: <200811181552.26983.peter@braverock.com>

On Friday 14 November 2008 12:39:44 pm Michael Sankowski wrote:
> Has anyone here done any work on the Automatic Stock Market or the 
Minority
> game?  I've started building a Minority game and have been surprised at how
> fast it is going.
>
> I would be interested in talking about building the minority game - it is
> agent modeling of stock market prices.  To this end, I've built most of the
> game already.
I haven't done any work on the Minority Game, per se, and I'd be interested in 
learning more about it.  Do you have any favorite references?

I note that NetLogo, which is an agent-simulation software program maintained 
at Northwestern, provides an implementation of the Minority Game. See:
 http://ccl.northwestern.edu/netlogo/
 http://ccl.northwestern.edu/netlogo/models/MinorityGame

pcc
-- 
Peter Carl
145 Scottswood Rd
Riverside, IL 60546
312 307 6346


From masserna at gmail.com  Wed Nov 19 00:03:04 2008
From: masserna at gmail.com (Manuel Serna)
Date: Tue, 18 Nov 2008 18:03:04 -0500
Subject: [R-SIG-Finance] Johansen Procedure for VAR question
Message-ID: <b99eb5050811181503v19221d53ne89cde0956e829be@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081118/9f290417/attachment.pl>

From matthieu.stigler at gmail.com  Wed Nov 19 05:10:00 2008
From: matthieu.stigler at gmail.com (Matthieu Stigler)
Date: Wed, 19 Nov 2008 09:40:00 +0530
Subject: [R-SIG-Finance] Johansen Procedure for VAR question
In-Reply-To: <b99eb5050811181503v19221d53ne89cde0956e829be@mail.gmail.com>
References: <b99eb5050811181503v19221d53ne89cde0956e829be@mail.gmail.com>
Message-ID: <49239198.2070602@gmail.com>



Manuel Serna a ?crit :
> Good Morning,
>
> I'm using vars package to do a Johansen Procedure for VAR, and I'm
> interested in using with K=1, but the next error comes up
>
>   
>> ca.jo(Canada, type ="eigen", ecdet ="const", K = 1,
>>     
> + spec="longrun", season = NULL, dumvar = NULL)
> Error en ca.jo(Canada, type = "eigen", ecdet = "const", K = 1, spec =
> "longrun",  :
>
> K must be at least K=2.
>
> I will be really thankful if you can answer me the reason of this.
>
> Thanks,
>
>   
I suppose you want to estimate a VECM model with one lag and the ECM?

Note that the parameter K corresponds to the number of lags in the model 
in levels (VAR), and the VECM is in difference. Hence, to have one lag 
in differences you need two lags in levels! A model with one lag in 
level would correspond to no lags in the VECM formulation.

To make sure, look at the help function and compare the lags.

Beside of that, note actually that the specification with 
spec=transitory is also often seen and may correspond to the usual VECM 
model (Hamilton 1994, p 580).
Mat
> Manuel Serna Cort?s
> Universidad Icesi
> Colombia
>
> 	[[alternative HTML version deleted]]
>
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From chalabi at phys.ethz.ch  Wed Nov 19 18:02:26 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Wed, 19 Nov 2008 18:02:26 +0100
Subject: [R-SIG-Finance] fPortfolio error
In-Reply-To: <D84557769CE9ED47AC31686731990DCB0A71AA9A@INCLCW03A.corp.statestr.com>
References: <490F9C87.7080604@yahoo.co.uk>
	<cd2a43910811040237y5b948339k2c14071ed5706596@mail.gmail.com>
	<491058A3.1050208@yahoo.co.uk>
	<cd2a43910811040852s335d4173hc0cf33664c083560@mail.gmail.com>
	<49108177.7000001@yahoo.co.uk>
	<D84557769CE9ED47AC31686731990DCB0A71AA9A@INCLCW03A.corp.statestr.com>
Message-ID: <20081119180226.316b9596@mimi>

>>>> "AM" == "Attiglah, Mama" <Mama_Attiglah at ssga.com>
>>>> on Fri, 14 Nov 2008 14:58:25 -0000

   AM> Hi All,  
   AM> I have been trying to use some of the Rmetrics packages to do some quick analysis but experiencing a pb of flexibility that I willl explain below by the package own example. 
   AM> 
   AM> 1) 
   AM> #   Data = as.timeSeries(data(smallcap.ts))
   AM>    Data = Data[, c("BKE", "GG", "GYMB", "KRON")]
   AM>    Data
   AM>    Spec = portfolioSpec()
   AM>    Spec
   AM>    setTargetReturn(Spec) = mean(colMeans(Data))
   AM>    Constraints = "LongOnly"
   AM> 
   AM> Ans = minvariancePortfolio(Data, Spec, Constraints)
   AM> 
   AM> In the optimisation, the historical mean and cov matrix 
   AM> i.e
   AM>        BKE         GG       GYMB       KRON 
   AM> 0.02749712 0.02198486 0.01204526 0.03570639 
   AM> and 
   AM>               BKE           GG         GYMB         KRON
   AM> BKE   0.022526377 -0.003495562  0.010318065  0.007935904
   AM> GG   -0.003495562  0.036070945 -0.003806943 -0.006872127
   AM> GYMB  0.010318065 -0.003806943  0.049574959  0.008098270
   AM> KRON  0.007935904 -0.006872127  0.008098270  0.028025520
   AM> are input. 
   AM> 
   AM> 
   AM> 1) My question is this: Is there anyway I can change any of those two inputs statistics computed from the historical data before feeding the optimizer, for instance if I have a different expectation of the future? 
   AM> In order words, in case I don't have the historical data but do have the expected returns and covariance matrix, can I still ran the optimiser? 
   AM> 


if you have exptected return you could do something like 
rbind(historical return, exptected return) 

or pass your own calculated covariance matrix with

setEstimator(Spec) <- "yourNewCovEstimator"

and use covEstimator as a template to write "yourNewCovEstimator". (?covEstimator)

   AM> 2) The target return set and the resulting portfolio returns coming from the optimal weights are different by 22 basis points. Is that due to the algorithm of solveRquadprog ? 
   AM> 


I think there is some confusion between 'efficientPortfolio' and
'minvariancePortfolio' functions. The former function calculates the most
efficient portfolio for a given level of return, in the case of risk
minimization, and 'minvariancePortfolio' optimizes the weights over a range
of target returns to reach the minimal variance portfolio.

Thus
setTargetReturn(Spec) = mean(colMeans(Data)) 
is only meaningful with 'efficientPortfolio' function.

   AM>            mean    
   AM> [1,] 0.02651604 
   AM> > Spec  
   AM> 
   AM> Portfolio Specification:        
   AM>  Portfolio Type:            MV
   AM>  Optimize:                  minRisk
   AM>  Covariance Estimator:      covEstimator
   AM>  Target Return:             0.02430841
   AM>  Portfolio Risk-Free Rate:  0
   AM>  Number of Frontier Points: 50
   AM>  Optimizer:                 solveRquadprog 
   AM> 
   AM> 
   AM> Regards 

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From drie at portfoliointelligence.com  Wed Nov 19 19:34:19 2008
From: drie at portfoliointelligence.com (Dan Rie)
Date: Wed, 19 Nov 2008 13:34:19 -0500
Subject: [R-SIG-Finance] Automatic Stock Market - Minority Game
Message-ID: <5E1E354A66BF4863BB92E5EBA158F920@MightyMini>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081119/3bf2ae1c/attachment.pl>

From michael.sankowski at gmail.com  Wed Nov 19 19:35:12 2008
From: michael.sankowski at gmail.com (Michael Sankowski)
Date: Wed, 19 Nov 2008 12:35:12 -0600
Subject: [R-SIG-Finance] Automatic Stock Market - Minority Game
In-Reply-To: <200811181552.26983.peter@braverock.com>
References: <b34262a80811141039t613bf867rd24d9e80b4741894@mail.gmail.com>
	<200811181552.26983.peter@braverock.com>
Message-ID: <b34262a80811191035h109d921fie2a5f4dbf17e0d95@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081119/b1429d35/attachment.pl>

From michael.sankowski at gmail.com  Wed Nov 19 20:04:43 2008
From: michael.sankowski at gmail.com (Michael Sankowski)
Date: Wed, 19 Nov 2008 13:04:43 -0600
Subject: [R-SIG-Finance] Automatic Stock Market - Minority Game
In-Reply-To: <5E1E354A66BF4863BB92E5EBA158F920@MightyMini>
References: <5E1E354A66BF4863BB92E5EBA158F920@MightyMini>
Message-ID: <b34262a80811191104xd9e3ddcofa463b2ccc76a172@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081119/62054f4b/attachment.pl>

From niheaven at hotmail.com  Thu Nov 20 06:10:07 2008
From: niheaven at hotmail.com (Hsiao-nan Cheung)
Date: Thu, 20 Nov 2008 13:10:07 +0800
Subject: [R-SIG-Finance] A Problem while Calculating Newey-West HAC
Message-ID: <BAY126-DS1F020A12D3C5D49E3D190D90C0@phx.gbl>

Hi,
Does anyone read Verbeek's "A Guide to Modern Econometrics"? In its Section
4.11, how does the last two equations' HAC calculate? I've tried several
groups of parameters in sandwich::NeweyWest, but I still cannot get the same
result. I've tried lag=2 and lag=3, as long as prewhite=FALSE and
prewhite=TRUE yet, but...

Sincerely
Hsiao-nan Cheung


From enrique.bengoechea at credit-suisse.com  Mon Nov 24 12:44:46 2008
From: enrique.bengoechea at credit-suisse.com (=?iso-8859-1?Q?Bengoechea_Bartolom=E9_Enrique_=28SIES_73=29?=)
Date: Mon, 24 Nov 2008 12:44:46 +0100
Subject: [R-SIG-Finance] fPortfolio target risk optimization?
Message-ID: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081124/77e4ef37/attachment.pl>

From windspeedo at qq.com  Mon Nov 24 17:06:21 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Tue, 25 Nov 2008 00:06:21 +0800
Subject: [R-SIG-Finance] How to read minutes data from csv files with
	getSymbol in quantmod?
Message-ID: <tencent_45EA6C935A707C1106625B23@qq.com>

The following code could read the csv file but the time is trimmed to Dates.
Any way we could read minutes data from csv as easy as getSymbols?
Thanks.
 
Codes:
require(quantmod)
getSymbols('EURO1',src="csv",dir="d:/datacenter/dataexchange")

Output:
> EURO1[1:5]
           EURO1.Open EURO1.High EURO1.Low EURO1.Close EURO1.Volume EURO1.Adjusted
2008-11-11    1.25490    1.25495   1.25410     1.25440            0              0
2008-11-11    1.25525    1.25555   1.25490     1.25490            0              0
2008-11-11    1.25665    1.25665   1.25525     1.25525            0              0
2008-11-11    1.25725    1.25725   1.25655     1.25665            0              0
2008-11-11    1.25735    1.25775   1.25715     1.25725            0              0
Warning message:
In zoo(rval, x.index[i]) :
  some methods for ?zoo? objects do not work if the index entries in ?order.by? are not unique
> 

Contents of d:/datacenter/dataexchange/EURO1.csv

"","Open","High","Low","Close","Volum","Adjusted"
"2008/11/14 22:57:00",1.272625,1.27345,1.27225,1.272775,0,0
"2008/11/14 22:56:00",1.2709,1.27265,1.27075,1.27265,0,0
"2008/11/14 22:55:00",1.268925,1.27115,1.268925,1.27085,0,0
"2008/11/14 22:54:00",1.269275,1.269375,1.268725,1.268925,0,0
"2008/11/14 22:53:00",1.26975,1.269775,1.26915,1.26925,0,0
"2008/11/14 22:52:00",1.27005,1.27035,1.26955,1.269725,0,0
"2008/11/14 22:51:00",1.27055,1.27055,1.26975,1.270025,0,0
"2008/11/14 22:50:00",1.2704,1.27075,1.270225,1.27055,0,0
"2008/11/14 22:49:00",1.26995,1.27055,1.26965,1.270375,0,0
"2008/11/14 22:48:00",1.26955,1.26995,1.26885,1.269925,0,0

From ggrothendieck at gmail.com  Mon Nov 24 18:04:00 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 24 Nov 2008 12:04:00 -0500
Subject: [R-SIG-Finance] How to read minutes data from csv files with
	getSymbol in quantmod?
In-Reply-To: <tencent_45EA6C935A707C1106625B23@qq.com>
References: <tencent_45EA6C935A707C1106625B23@qq.com>
Message-ID: <971536df0811240904x25fd4790jfee94be512ef03f9@mail.gmail.com>

A workaround would be to use read.zoo directly.  Try this:

z <- read.zoo("/tmp2/testeuro.csv", header = TRUE, sep = ",", tz = "")

If you use POSIXct you may wish to set your session to "GMT" to avoid time
zone problems.

Sys.setenv(TZ = "GMT")

or use chron which has no time zones in the first place:

library(chron)
z <- read.zoo("/tmp2/testeuro.csv", header = TRUE, sep = ",", FUN = as.chron)


2008/11/24 Wind <windspeedo at qq.com>:
> The following code could read the csv file but the time is trimmed to Dates.
> Any way we could read minutes data from csv as easy as getSymbols?
> Thanks.
>
> Codes:
> require(quantmod)
> getSymbols('EURO1',src="csv",dir="d:/datacenter/dataexchange")
>
> Output:
>> EURO1[1:5]
>           EURO1.Open EURO1.High EURO1.Low EURO1.Close EURO1.Volume EURO1.Adjusted
> 2008-11-11    1.25490    1.25495   1.25410     1.25440            0              0
> 2008-11-11    1.25525    1.25555   1.25490     1.25490            0              0
> 2008-11-11    1.25665    1.25665   1.25525     1.25525            0              0
> 2008-11-11    1.25725    1.25725   1.25655     1.25665            0              0
> 2008-11-11    1.25735    1.25775   1.25715     1.25725            0              0
> Warning message:
> In zoo(rval, x.index[i]) :
>  some methods for "zoo" objects do not work if the index entries in 'order.by' are not unique
>>
>
> Contents of d:/datacenter/dataexchange/EURO1.csv
>
> "","Open","High","Low","Close","Volum","Adjusted"
> "2008/11/14 22:57:00",1.272625,1.27345,1.27225,1.272775,0,0
> "2008/11/14 22:56:00",1.2709,1.27265,1.27075,1.27265,0,0
> "2008/11/14 22:55:00",1.268925,1.27115,1.268925,1.27085,0,0
> "2008/11/14 22:54:00",1.269275,1.269375,1.268725,1.268925,0,0
> "2008/11/14 22:53:00",1.26975,1.269775,1.26915,1.26925,0,0
> "2008/11/14 22:52:00",1.27005,1.27035,1.26955,1.269725,0,0
> "2008/11/14 22:51:00",1.27055,1.27055,1.26975,1.270025,0,0
> "2008/11/14 22:50:00",1.2704,1.27075,1.270225,1.27055,0,0
> "2008/11/14 22:49:00",1.26995,1.27055,1.26965,1.270375,0,0
> "2008/11/14 22:48:00",1.26955,1.26995,1.26885,1.269925,0,0
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From simon.otziger at active-sync.ch  Mon Nov 24 18:05:48 2008
From: simon.otziger at active-sync.ch (Simon Otziger)
Date: Mon, 24 Nov 2008 12:05:48 -0500
Subject: [R-SIG-Finance] How to read minutes data from csv files
	with	getSymbol in quantmod?
In-Reply-To: <tencent_45EA6C935A707C1106625B23@qq.com>
References: <tencent_45EA6C935A707C1106625B23@qq.com>
Message-ID: <08E7B592A1BE9B41BB14666C8E9DEE63850BBB97BB@VMBX107.ihostexchange.net>

Hi Wind

Try the following code, you have to adjust the POSIX format. "%Y/%m/%d %H:%M:%S" should suit your case. If anyone knows an easier way I would be glad to know.

library(quantmod)
library(fSeries)
future.csv  = read.csv("C:/Data/BN1MinBar.asc", header = T) 
future.time = paste(future.csv[, "DATE"], future.csv[, "TIME"], sep = " ")
future.xt   = as.xts(timeSeries(future.csv, charvec = future.time, format = "%m/%d/%Y %H:%M:%S"))



Regards
Simon

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Wind
Sent: Monday, November 24, 2008 5:06 PM
To: r-sig-finance
Subject: [R-SIG-Finance] How to read minutes data from csv files with getSymbol in quantmod?

The following code could read the csv file but the time is trimmed to Dates.
Any way we could read minutes data from csv as easy as getSymbols?
Thanks.
 
Codes:
require(quantmod)
getSymbols('EURO1',src="csv",dir="d:/datacenter/dataexchange")

Output:
> EURO1[1:5]
           EURO1.Open EURO1.High EURO1.Low EURO1.Close EURO1.Volume EURO1.Adjusted
2008-11-11    1.25490    1.25495   1.25410     1.25440            0              0
2008-11-11    1.25525    1.25555   1.25490     1.25490            0              0
2008-11-11    1.25665    1.25665   1.25525     1.25525            0              0
2008-11-11    1.25725    1.25725   1.25655     1.25665            0              0
2008-11-11    1.25735    1.25775   1.25715     1.25725            0              0
Warning message:
In zoo(rval, x.index[i]) :
  some methods for "zoo" objects do not work if the index entries in 'order.by' are not unique
> 

Contents of d:/datacenter/dataexchange/EURO1.csv

"","Open","High","Low","Close","Volum","Adjusted"
"2008/11/14 22:57:00",1.272625,1.27345,1.27225,1.272775,0,0
"2008/11/14 22:56:00",1.2709,1.27265,1.27075,1.27265,0,0
"2008/11/14 22:55:00",1.268925,1.27115,1.268925,1.27085,0,0
"2008/11/14 22:54:00",1.269275,1.269375,1.268725,1.268925,0,0
"2008/11/14 22:53:00",1.26975,1.269775,1.26915,1.26925,0,0
"2008/11/14 22:52:00",1.27005,1.27035,1.26955,1.269725,0,0
"2008/11/14 22:51:00",1.27055,1.27055,1.26975,1.270025,0,0
"2008/11/14 22:50:00",1.2704,1.27075,1.270225,1.27055,0,0
"2008/11/14 22:49:00",1.26995,1.27055,1.26965,1.270375,0,0
"2008/11/14 22:48:00",1.26955,1.26995,1.26885,1.269925,0,0
_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From murali.menon at fortisinvestments.com  Mon Nov 24 18:16:31 2008
From: murali.menon at fortisinvestments.com (murali.menon at fortisinvestments.com)
Date: Mon, 24 Nov 2008 17:16:31 +0000
Subject: [R-SIG-Finance] half-hourly staggered data into daily
Message-ID: <OF6DBA4044.066F4BF8-ONC125750B.005E53C1-8025750B.005F1508@abnamro.com>

Folks,
 
For some reason, this email to the mailing list doesn't seem to have 
reached, hence resending.
 
Using the period.apply() function in the xts package, I'm able to convert 
half-hourly data points into daily aggregates. Like so:
 
library(chron)
library(xts)
dts <- dates(c("04/03/1996", "05/03/1996", "06/03/1996", "07/03/1996", 
"08/03/1996", "11/03/1996", "12/03/1996", "13/03/1996", "14/03/1996", 
"15/03/1996"), format="d/m/y")
tms <- times(seq(from = 0, to = 60 * 60 * 23 + 30 * 60, by = 30 * 60) / 
(24 * 60 * 60))
# clumsy way to obtain a vector of date-times
series <- chron(as.vector(matrix(outer(dts, tms, chron), byrow = TRUE)))
# Now create some dummy data
library(xts)
set.seed(123)
fxdata <- xts(runif(length(series)), order.by = series)
# Returns
fxret <- diff(log(fxdata))
sqrd_ret <- fxret ^ 2
 
> period.apply(sqrd_ret, endpoints(sqrd_ret, "days"), FUN = function(x) 
sqrt(sum(x)))
(03/04/96 23:30:00) (03/05/96 23:30:00) (03/06/96 23:30:00) (03/07/96 
23:30:00) (03/08/96 23:30:00) (03/11/96 23:30:00) (03/12/96 23:30:00) 
           6.342830            9.622646            8.718305           
12.006788            8.526932            7.659233            7.506814 
(03/13/96 23:30:00) (03/14/96 23:30:00) (03/15/96 23:30:00) 
          12.436300            9.879991            7.790180
 


---------------------------------------------------------------------------
This e-mail is confidential and may be privileged. If you have received it by mistake, please notify the sender by return e-mail and delete it from your system. You should not disclose, copy or use it for any purpose. The information in this e-mail is not contractual. Fortis Investments provides no guarantee as to the correctness of this information and accepts no responsibility for any action taken on the basis of it. Fortis Investments is the trade name for all entities within the Fortis Investment Management group.


From windspeedo at qq.com  Tue Nov 25 03:14:58 2008
From: windspeedo at qq.com (Wind2)
Date: Mon, 24 Nov 2008 18:14:58 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] How to read minutes data from
 csv files with getSymbol in quantmod?
In-Reply-To: <971536df0811240904x25fd4790jfee94be512ef03f9@mail.gmail.com>
References: <tencent_45EA6C935A707C1106625B23@qq.com>
	<971536df0811240904x25fd4790jfee94be512ef03f9@mail.gmail.com>
Message-ID: <20673998.post@talk.nabble.com>


The read.zoo method is just as simple and useful as getSymbols.   It's what I
need.
Thanks Gabor. Thanks Simon.

Regards,
Wind


Gabor Grothendieck wrote:
> 
> A workaround would be to use read.zoo directly.  Try this:
> 
> z <- read.zoo("/tmp2/testeuro.csv", header = TRUE, sep = ",", tz = "")
> 
> If you use POSIXct you may wish to set your session to "GMT" to avoid time
> zone problems.
> 
> Sys.setenv(TZ = "GMT")
> 
> or use chron which has no time zones in the first place:
> 
> library(chron)
> z <- read.zoo("/tmp2/testeuro.csv", header = TRUE, sep = ",", FUN =
> as.chron)
> 
> 
> 2008/11/24 Wind <windspeedo at qq.com>:
>> The following code could read the csv file but the time is trimmed to
>> Dates.
>> Any way we could read minutes data from csv as easy as getSymbols?
>> Thanks.
>>
>> Codes:
>> require(quantmod)
>> getSymbols('EURO1',src="csv",dir="d:/datacenter/dataexchange")
>>
>> Output:
>>> EURO1[1:5]
>>           EURO1.Open EURO1.High EURO1.Low EURO1.Close EURO1.Volume
>> EURO1.Adjusted
>> 2008-11-11    1.25490    1.25495   1.25410     1.25440            0             
>> 0
>> 2008-11-11    1.25525    1.25555   1.25490     1.25490            0             
>> 0
>> 2008-11-11    1.25665    1.25665   1.25525     1.25525            0             
>> 0
>> 2008-11-11    1.25725    1.25725   1.25655     1.25665            0             
>> 0
>> 2008-11-11    1.25735    1.25775   1.25715     1.25725            0             
>> 0
>> Warning message:
>> In zoo(rval, x.index[i]) :
>>  some methods for "zoo" objects do not work if the index entries in
>> 'order.by' are not unique
>>>
>>
>> Contents of d:/datacenter/dataexchange/EURO1.csv
>>
>> "","Open","High","Low","Close","Volum","Adjusted"
>> "2008/11/14 22:57:00",1.272625,1.27345,1.27225,1.272775,0,0
>> "2008/11/14 22:56:00",1.2709,1.27265,1.27075,1.27265,0,0
>> "2008/11/14 22:55:00",1.268925,1.27115,1.268925,1.27085,0,0
>> "2008/11/14 22:54:00",1.269275,1.269375,1.268725,1.268925,0,0
>> "2008/11/14 22:53:00",1.26975,1.269775,1.26915,1.26925,0,0
>> "2008/11/14 22:52:00",1.27005,1.27035,1.26955,1.269725,0,0
>> "2008/11/14 22:51:00",1.27055,1.27055,1.26975,1.270025,0,0
>> "2008/11/14 22:50:00",1.2704,1.27075,1.270225,1.27055,0,0
>> "2008/11/14 22:49:00",1.26995,1.27055,1.26965,1.270375,0,0
>> "2008/11/14 22:48:00",1.26955,1.26995,1.26885,1.269925,0,0
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 

-- 
View this message in context: http://www.nabble.com/How-to-read-minutes-data-from-csv-files-with-getSymbol-in-quantmod--tp20663909p20673998.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From cedrick.johnson at chicagotrading.com  Tue Nov 25 02:45:17 2008
From: cedrick.johnson at chicagotrading.com (Cedrick Johnson)
Date: Mon, 24 Nov 2008 19:45:17 -0600
Subject: [R-SIG-Finance] Converting Data From DB (MSSQL) for use in quantmod
Message-ID: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DED4@MAIL.chicagotrading.com>

Howdy-

Another silly beginner Q from me:

I have a data table with a bunch of daily closing yields. I'm not so
much interested in o-h-l for these symbols, so I set everything
(o-h-l-c) to the daily closing yield I get at the end of the day.


          Date Open High  Low Close
1   2008-01-02 3.70 3.70 3.70  3.70
2   2008-01-03 3.68 3.68 3.68  3.68
3   2008-01-04 3.52 3.52 3.52  3.52
4   2008-01-07 3.52 3.52 3.52  3.52

This is the initial data set that is returned by my SQL query into R.

Now, I attempted to get this into XTS:
USSP2X <- xts(USSP2, order.by=USSP2$Date)

Ok, fine and dandy, EXCEPT:

           Date       Open High Low  Close
2008-01-02 2008-01-02 3.70 3.70 3.70 3.70 
2008-01-03 2008-01-03 3.68 3.68 3.68 3.68 
2008-01-04 2008-01-04 3.52 3.52 3.52 3.52

Which obviously won't work with quantmod that I'd like to run on this
set of fixed income data. 

I tried MySQL, having some issues with that, else I would just use the
mysql wrapper provided by quantmod to load the data I need. (I'm still
attempting to get mysql to work, it's *not* a quantmod issue)

What steps am I missing to convert data that I am retrieving from a DB >
xts for use in quantmod?

If anyone knows of any documentation that I skipped over that would help
me solve this, please let me know.

Thanks,
Cedrick





This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received. 

This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice. 

 


From josh.m.ulrich at gmail.com  Tue Nov 25 05:22:35 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Mon, 24 Nov 2008 22:22:35 -0600
Subject: [R-SIG-Finance] Converting Data From DB (MSSQL) for use in
	quantmod
In-Reply-To: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DED4@MAIL.chicagotrading.com>
References: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DED4@MAIL.chicagotrading.com>
Message-ID: <8cca69990811242022q1bf1efc7hbd3b06379471dfaf@mail.gmail.com>

Hi Cedrick,

I think it's as simple as:
USSP2X <- xts(USSP2[,-1], order.by=USSP2$Date)

Best,
Josh
--
http://quantemplation.blogspot.com



On Mon, Nov 24, 2008 at 7:45 PM, Cedrick Johnson
<cedrick.johnson at chicagotrading.com> wrote:
> Howdy-
>
> Another silly beginner Q from me:
>
> I have a data table with a bunch of daily closing yields. I'm not so
> much interested in o-h-l for these symbols, so I set everything
> (o-h-l-c) to the daily closing yield I get at the end of the day.
>
>
>          Date Open High  Low Close
> 1   2008-01-02 3.70 3.70 3.70  3.70
> 2   2008-01-03 3.68 3.68 3.68  3.68
> 3   2008-01-04 3.52 3.52 3.52  3.52
> 4   2008-01-07 3.52 3.52 3.52  3.52
>
> This is the initial data set that is returned by my SQL query into R.
>
> Now, I attempted to get this into XTS:
> USSP2X <- xts(USSP2, order.by=USSP2$Date)
>
> Ok, fine and dandy, EXCEPT:
>
>           Date       Open High Low  Close
> 2008-01-02 2008-01-02 3.70 3.70 3.70 3.70
> 2008-01-03 2008-01-03 3.68 3.68 3.68 3.68
> 2008-01-04 2008-01-04 3.52 3.52 3.52 3.52
>
> Which obviously won't work with quantmod that I'd like to run on this
> set of fixed income data.
>
> I tried MySQL, having some issues with that, else I would just use the
> mysql wrapper provided by quantmod to load the data I need. (I'm still
> attempting to get mysql to work, it's *not* a quantmod issue)
>
> What steps am I missing to convert data that I am retrieving from a DB >
> xts for use in quantmod?
>
> If anyone knows of any documentation that I skipped over that would help
> me solve this, please let me know.
>
> Thanks,
> Cedrick
>
>
>
>
>
> This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received.
>
> This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice.
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From etheber at gmx.de  Mon Nov 24 20:52:39 2008
From: etheber at gmx.de (Thomas Etheber)
Date: Mon, 24 Nov 2008 20:52:39 +0100
Subject: [R-SIG-Finance] fPortfolio target risk optimization?
In-Reply-To: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>
References: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>
Message-ID: <492B0607.7030504@gmx.de>

Hi,

as far as I know the usual way to do this kind of calculation is,
solving the quadratic problem with linear restrictions, as it seems to
be done in fPortfolio. The other way, solving for a return, is a linear
optimisation problem with quadratic restrictions and you wont be able to
guarantee to find a global optimum, except you check for global optimality.
I'm not that deep in the numeric stuff, but I can imagine, that you wont
be much faster that way, since you will have to double check for global
optimality. I have seen some very strange effects in this sort of things
(although not in R) and the optimality is really sensitive to the input
parameters. If there are no real time-critical tasks, I would just
iterate over the efficient line as you described it...


Hth, although the mathematicians on this list might provide you with
much better answers.

Bye for now
Thomas



Bengoechea Bartolom? Enrique (SIES 73) wrote:
> Hi,
>  
> Does anybody know whether is it possible to optimize with fPortfolio (I'm using v260.72 under R 2.7.2) defining the target risk? I know it is possible to set the target return and obtain the minimum variance portfolio, but is it possible to solve the dual problem of setting the target (volatility) risk and getting the point on the efficient frontier that maximizes the return given that risk?
>  
> The only way I've found is an indirect one: compute the whole efficient frontier, then select the point with the risk closest to the target. But this seems inefficient and depends on the actual search grid used... 
>  
> Hints appreciated. Session info copied below.
>  
> Best,
>  
> Enrique
>  
>  
>   
>> sessionInfo()
>>     
> R version 2.7.2 (2008-08-25) 
> i386-pc-mingw32 
>  
> locale:
> LC_COLLATE=Spanish_Spain.1252;LC_CTYPE=Spanish_Spain.1252;LC_MONETARY=Spanish_Spain.1252;LC_NUMERIC=C;LC_TIME=Spanish_Spain.1252
>  
> attached base packages:
> [1] datasets  grDevices graphics  stats     utils     methods   base     
>  
> other attached packages:
>  [1] PaRiS_1.0-1        Defaults_1.1-1     zoo_1.5-4          fPortfolio_260.72  fAssets_260.72     fRegression_260.72 fMultivar_260.72  
>  [8] sn_0.4-4           mnormt_1.2-1       fTrading_260.72    polspline_1.0.15   nnet_7.2-44        mgcv_1.4-1         fBasics_260.72    
> [15] fImport_260.72     lpSolve_5.6.3      quadprog_1.4-11    fSeries_260.73     fCalendar_270.75   fEcofin_270.73     fUtilities_270.73 
> [22] MASS_7.2-44        robustbase_0.2-8   R2HTML_1.59        RDCOMClient_0.92-0 chron_2.3-24       RODBC_1.2-3        rcom_1.5-2.2  
>  
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From jeff.a.ryan at gmail.com  Mon Nov 24 21:28:03 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 24 Nov 2008 14:28:03 -0600
Subject: [R-SIG-Finance] How to read minutes data from csv files with
	getSymbol in quantmod?
In-Reply-To: <tencent_45EA6C935A707C1106625B23@qq.com>
References: <tencent_45EA6C935A707C1106625B23@qq.com>
Message-ID: <e8e755250811241228q2811f2d8hd3953dfc627d8e71@mail.gmail.com>

Hi Wind,

Gabor's answer is exactly what you need to do.

This is a known deficiency in getSymbols at present.  I will make sure
to fix this in the next release.

There are some additional changes I need to do that should make it
easier to handle the variety of data formats/fields you'd expect a
general tool like getSymbols and xts to handle.

Thanks for email.

Jeff

2008/11/24 Wind <windspeedo at qq.com>:
> The following code could read the csv file but the time is trimmed to Dates.
> Any way we could read minutes data from csv as easy as getSymbols?
> Thanks.
>
> Codes:
> require(quantmod)
> getSymbols('EURO1',src="csv",dir="d:/datacenter/dataexchange")
>
> Output:
>> EURO1[1:5]
>           EURO1.Open EURO1.High EURO1.Low EURO1.Close EURO1.Volume EURO1.Adjusted
> 2008-11-11    1.25490    1.25495   1.25410     1.25440            0              0
> 2008-11-11    1.25525    1.25555   1.25490     1.25490            0              0
> 2008-11-11    1.25665    1.25665   1.25525     1.25525            0              0
> 2008-11-11    1.25725    1.25725   1.25655     1.25665            0              0
> 2008-11-11    1.25735    1.25775   1.25715     1.25725            0              0
> Warning message:
> In zoo(rval, x.index[i]) :
>  some methods for "zoo" objects do not work if the index entries in 'order.by' are not unique
>>
>
> Contents of d:/datacenter/dataexchange/EURO1.csv
>
> "","Open","High","Low","Close","Volum","Adjusted"
> "2008/11/14 22:57:00",1.272625,1.27345,1.27225,1.272775,0,0
> "2008/11/14 22:56:00",1.2709,1.27265,1.27075,1.27265,0,0
> "2008/11/14 22:55:00",1.268925,1.27115,1.268925,1.27085,0,0
> "2008/11/14 22:54:00",1.269275,1.269375,1.268725,1.268925,0,0
> "2008/11/14 22:53:00",1.26975,1.269775,1.26915,1.26925,0,0
> "2008/11/14 22:52:00",1.27005,1.27035,1.26955,1.269725,0,0
> "2008/11/14 22:51:00",1.27055,1.27055,1.26975,1.270025,0,0
> "2008/11/14 22:50:00",1.2704,1.27075,1.270225,1.27055,0,0
> "2008/11/14 22:49:00",1.26995,1.27055,1.26965,1.270375,0,0
> "2008/11/14 22:48:00",1.26955,1.26995,1.26885,1.269925,0,0
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jkonn2001 at yahoo.com  Tue Nov 25 10:16:00 2008
From: jkonn2001 at yahoo.com (J Konnonen)
Date: Tue, 25 Nov 2008 01:16:00 -0800 (PST)
Subject: [R-SIG-Finance] returns/timeSeries error message
Message-ID: <411670.86593.qm@web59402.mail.ac4.yahoo.com>

Hello,

I am trying to use some libraries (e.g. fGarch, fTrading) that require the library timeSeries. However, my code produces the following error message after loading the libraries

>     data(x)
>     f <- returns(window(x, from="1992-01-01", to="2003-12-31"))
Error in getDataPart(<S4 object of class "timeSeries">) : 
  no '.Data' slot defined for class "timeSeries"

This code part worked without problems before using timeSeries

I couldn't figure out what could be the problem here. Any help would be very much appreciated.

Regards,
/Johan


From chalabi at phys.ethz.ch  Tue Nov 25 10:30:03 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Tue, 25 Nov 2008 10:30:03 +0100
Subject: [R-SIG-Finance] returns/timeSeries error message
In-Reply-To: <411670.86593.qm@web59402.mail.ac4.yahoo.com>
References: <411670.86593.qm@web59402.mail.ac4.yahoo.com>
Message-ID: <20081125103003.11537c86@mimi>

>>>> "JK" == J Konnonen <jkonn2001 at yahoo.com>
>>>> on Tue, 25 Nov 2008 01:16:00 -0800 (PST)

   JK> Hello,
   JK> 
   JK> I am trying to use some libraries (e.g. fGarch, fTrading) that require the library timeSeries. However, my code produces the following error message after loading the libraries
   JK> 
   JK> >     data(x)
   JK> >     f <- returns(window(x, from="1992-01-01", to="2003-12-31"))  
   JK> Error in getDataPart(<S4 object of class "timeSeries">) : 
   JK>   no '.Data' slot defined for class "timeSeries"
   JK> 
   JK> This code part worked without problems before using timeSeries
   JK> 
   JK> I couldn't figure out what could be the problem here. Any help would be very much appreciated.
   JK> 
   JK> Regards,
   JK> /Johan


Hi,

The timeSeries class has been updated with a new structure. From your minimal R output it looks like the old timeSeries class was loaded via the 'fSeries' package. 

Make sure that your packages are up-to-date and that you are using 'timeSeries' package and not 'fSeries'.

Note 'fGarch' or 'fTrading' load by default the new 'timeSeries' packages.

hope this helps,
Yohan

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From whelanh at comcast.net  Tue Nov 25 13:50:26 2008
From: whelanh at comcast.net (Hugh Whelan)
Date: Tue, 25 Nov 2008 07:50:26 -0500
Subject: [R-SIG-Finance] fPortfolio target risk optimization?
In-Reply-To: <mailman.1.1227610801.17282.r-sig-finance@stat.math.ethz.ch>
References: <mailman.1.1227610801.17282.r-sig-finance@stat.math.ethz.ch>
Message-ID: <200811250750.26825.whelanh@comcast.net>

Enrique,

Rather than computing the entire efficient frontier, you could do a binary 
search around your target risk.  This would involve many fewer optimizations 
than computing the entire range.  I have used this approach using solve.QP for 
portfolio optimization problems (but I would think you could adapt it to 
fPortfolio).  See code fragments below:

# Functions we use for optimization
# This function can be used to obtain two values: opt(.....)$solQPw and/or 
opt(.....)$Psd
opt <- function(K, DMAT, DVEC, AMATRIX,BOVEC,MEQ) {
	solQP<-solve.QP(DMAT,K*DVEC,AMATRIX,bvec=BOVEC,meq=MEQ)
	solQPw<-as.array(solQP$solution)
	#Variance of portfolio
	Psd <- (t(solQPw)%*%Dmat%*%(solQPw))^(0.5)
	return(solQPw, Psd)
}

# Very fast way to home in on right k to hit vol target
BinarySrch <- function(STRT, END, TARG, DMAT, DVEC, AMATRIX, BOVEC, MEQ) {
	if (STRT > END) {
		return (-1); # Couldn't find k that meets target
	} else {
		Mid = (STRT + END)/2
		sDiff = opt(Mid, DMAT, DVEC, AMATRIX,BOVEC,MEQ)$Psd - TARG
		Diff = abs(sDiff)
		
		if (Diff < 0.0001) {
			return(Mid);
		} else if (sDiff < 0) {   # add/subtract a constant to Mid to make sure we 
don't do this forever!
		   return(BinarySrch(Mid + 0.00001, END, TARG, DMAT, DVEC, AMATRIX, BOVEC, 
MEQ))
		} else if (sDiff > 0) {
		   return(BinarySrch(STRT, Mid - 0.00001, TARG, DMAT, DVEC, AMATRIX, BOVEC, 
MEQ))
		}
	}
}

# How we use the functions.......
if (opt(500, Dmat, dvec, Amatrix, boVec, meq)$Psd < volTarg) { #if will never 
exceed volTarg
		sol <- rbind(sol, opt(500, Dmat, dvec, Amatrix, boVec, meq)$solQPw)
	} else if (opt(0, Dmat, dvec, Amatrix, boVec, meq)$Psd > volTarg) { #if will 
always exceed volTarg
		sol <- rbind(sol, opt(0, Dmat, dvec, Amatrix, boVec, meq)$solQPw)
	} else {   # else find the right k that gets us to the volTarg
		k = BinarySrch(0, 500, volTarg, Dmat, dvec, Amatrix, boVec, meq)
		sol <- rbind(sol, opt(k, Dmat, dvec, Amatrix, boVec, meq)$solQPw)
	}


Hope that is helpful.

Best,
Hugh
>Hi,
?
>Does anybody know whether is it possible to optimize with fPortfolio (I'm 
>using v260.72 under R 2.7.2) defining the target risk? I know it is possible 
>to set the target return and obtain the minimum variance portfolio, but is it 
>possible to solve the dual problem of setting the target (volatility) risk 
>and getting the point on the efficient frontier that maximizes the return given 
>that risk?
?
>The only way I've found is an indirect one: compute the whole efficient 
>frontier, then select the point with the risk closest to the target. But this 
>seems inefficient and depends on the actual search grid used... 
?
>Hints appreciated. Session info copied below.
?
>Best,
?
>Enrique


From cedrick.johnson at chicagotrading.com  Tue Nov 25 16:46:10 2008
From: cedrick.johnson at chicagotrading.com (Cedrick Johnson)
Date: Tue, 25 Nov 2008 09:46:10 -0600
Subject: [R-SIG-Finance] Converting Data From DB (MSSQL) for use in
	quantmod
In-Reply-To: <8cca69990811242022q1bf1efc7hbd3b06379471dfaf@mail.gmail.com>
References: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DED4@MAIL.chicagotrading.com>
	<8cca69990811242022q1bf1efc7hbd3b06379471dfaf@mail.gmail.com>
Message-ID: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DED8@MAIL.chicagotrading.com>

That worked. Forgive my newbieness. I know what I need to spend time
reading up on now.


Thanks all!

-c


-----Original Message-----
From: Josh Ulrich [mailto:josh.m.ulrich at gmail.com] 
Sent: Monday, November 24, 2008 10:23 PM
To: Cedrick Johnson
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Converting Data From DB (MSSQL) for use in
quantmod

Hi Cedrick,

I think it's as simple as:
USSP2X <- xts(USSP2[,-1], order.by=USSP2$Date)

Best,
Josh
--
http://quantemplation.blogspot.com



On Mon, Nov 24, 2008 at 7:45 PM, Cedrick Johnson
<cedrick.johnson at chicagotrading.com> wrote:
> Howdy-
>
> Another silly beginner Q from me:
>
> I have a data table with a bunch of daily closing yields. I'm not so
> much interested in o-h-l for these symbols, so I set everything
> (o-h-l-c) to the daily closing yield I get at the end of the day.
>
>
>          Date Open High  Low Close
> 1   2008-01-02 3.70 3.70 3.70  3.70
> 2   2008-01-03 3.68 3.68 3.68  3.68
> 3   2008-01-04 3.52 3.52 3.52  3.52
> 4   2008-01-07 3.52 3.52 3.52  3.52
>
> This is the initial data set that is returned by my SQL query into R.
>
> Now, I attempted to get this into XTS:
> USSP2X <- xts(USSP2, order.by=USSP2$Date)
>
> Ok, fine and dandy, EXCEPT:
>
>           Date       Open High Low  Close
> 2008-01-02 2008-01-02 3.70 3.70 3.70 3.70
> 2008-01-03 2008-01-03 3.68 3.68 3.68 3.68
> 2008-01-04 2008-01-04 3.52 3.52 3.52 3.52
>
> Which obviously won't work with quantmod that I'd like to run on this
> set of fixed income data.
>
> I tried MySQL, having some issues with that, else I would just use the
> mysql wrapper provided by quantmod to load the data I need. (I'm still
> attempting to get mysql to work, it's *not* a quantmod issue)
>
> What steps am I missing to convert data that I am retrieving from a DB
>
> xts for use in quantmod?
>
> If anyone knows of any documentation that I skipped over that would
help
> me solve this, please let me know.
>
> Thanks,
> Cedrick
>
>
>
>
>
> This message is intended only for the personal and confidential use of
the recipients named above. If the reader of this email is not the
intended recipient, you have received this email in error and any
review, dissemination, distribution or copying is strictly prohibited.
If you have received this email in error, please notify the sender
immediately by return email and permanently delete the copy you
received.
>
> This message is provided for informational purposes and should not be
construed as a solicitation or offer to buy or sell any securities or
related financial instruments. CTC Holdings nor any affiliates ("CTC")
are responsible for any recommendation, solicitation, offer or agreement
or any information about any transaction, customer account or account
activity that may be attached to or contained in this communication. CTC
accepts no liability for any content contained in the email, or any
errors or omissions arising as a result of e-mail transmission. Any
opinions contained in this email constitute the sender's best judgment
at this time and are subject to change without notice.
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>





This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received. 

This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice. 

 


From patzoul at free.fr  Tue Nov 25 22:35:03 2008
From: patzoul at free.fr (patzoul)
Date: Tue, 25 Nov 2008 13:35:03 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] fPortfolio target risk
	optimization?
In-Reply-To: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>
References: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>
Message-ID: <20690053.post@talk.nabble.com>


In that case what is the maxreturnPortfolio function for?


Enrique Bengoechea wrote:
> 
> Hi,
>  
> Does anybody know whether is it possible to optimize with fPortfolio (I'm
> using v260.72 under R 2.7.2) defining the target risk? I know it is
> possible to set the target return and obtain the minimum variance
> portfolio, but is it possible to solve the dual problem of setting the
> target (volatility) risk and getting the point on the efficient frontier
> that maximizes the return given that risk?
>  
> The only way I've found is an indirect one: compute the whole efficient
> frontier, then select the point with the risk closest to the target. But
> this seems inefficient and depends on the actual search grid used... 
>  
> Hints appreciated. Session info copied below.
>  
> Best,
>  
> Enrique
>  
>  
>> sessionInfo()
> R version 2.7.2 (2008-08-25) 
> i386-pc-mingw32 
>  
> locale:
> LC_COLLATE=Spanish_Spain.1252;LC_CTYPE=Spanish_Spain.1252;LC_MONETARY=Spanish_Spain.1252;LC_NUMERIC=C;LC_TIME=Spanish_Spain.1252
>  
> attached base packages:
> [1] datasets  grDevices graphics  stats     utils     methods   base     
>  
> other attached packages:
>  [1] PaRiS_1.0-1        Defaults_1.1-1     zoo_1.5-4         
> fPortfolio_260.72  fAssets_260.72     fRegression_260.72 fMultivar_260.72  
>  [8] sn_0.4-4           mnormt_1.2-1       fTrading_260.72   
> polspline_1.0.15   nnet_7.2-44        mgcv_1.4-1         fBasics_260.72    
> [15] fImport_260.72     lpSolve_5.6.3      quadprog_1.4-11   
> fSeries_260.73     fCalendar_270.75   fEcofin_270.73     fUtilities_270.73 
> [22] MASS_7.2-44        robustbase_0.2-8   R2HTML_1.59       
> RDCOMClient_0.92-0 chron_2.3-24       RODBC_1.2-3        rcom_1.5-2.2  
>  
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 

-- 
View this message in context: http://www.nabble.com/fPortfolio-target-risk-optimization--tp20659455p20690053.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From patzoul at free.fr  Tue Nov 25 22:36:30 2008
From: patzoul at free.fr (patzoul)
Date: Tue, 25 Nov 2008 13:36:30 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] plots on multiple graphics windows?
Message-ID: <20690065.post@talk.nabble.com>


How do I plot graphs on multiple graphics windows?


-- 
View this message in context: http://www.nabble.com/plots-on-multiple-graphics-windows--tp20690065p20690065.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From BChiquoine at tiff.org  Tue Nov 25 23:13:42 2008
From: BChiquoine at tiff.org (Chiquoine, Ben)
Date: Tue, 25 Nov 2008 17:13:42 -0500
Subject: [R-SIG-Finance] [R-sig-finance] plots on multiple graphics
	windows?
In-Reply-To: <20690065.post@talk.nabble.com>
References: <20690065.post@talk.nabble.com>
Message-ID: <AC36F1084FDE8E4CAFD5CF2409F051D50110930A@vsw3exch2.tiff.local>

hmm not sure if this is what you're looking for but x11() opens up a new
graphics window so...
x=(1:5)
y=(1:5)
plot(x,y)
x11()
plot(x,y)
would give you the same graph on two different windows

Ben
-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of patzoul
Sent: Tuesday, November 25, 2008 4:37 PM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] [R-sig-finance] plots on multiple graphics
windows?


How do I plot graphs on multiple graphics windows?


-- 
View this message in context:
http://www.nabble.com/plots-on-multiple-graphics-windows--tp20690065p206
90065.html
Sent from the Rmetrics mailing list archive at Nabble.com.

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.
___________________________________________
This message and any attached documents contain
information which may be confidential, subject to 
privilege or exempt from disclosure under applicable
law. These materials are solely for the use of the 
intended recipient. If you are not the intended 
recipient of this transmission, you are hereby 
notified that any distribution, disclosure, printing, 
copying, storage, modification or the taking of any
action in reliance upon this transmission is strictly
prohibited. Delivery of this message to any person
other than the intended recipient shall not
compromise or waive such confidentiality, privilege
or exemption from disclosure as to this 
communication. 

If you have received this communication in error, 
please notify the sender immediately and delete
this message from your system. 



From zakdump at gmail.com  Wed Nov 26 15:12:40 2008
From: zakdump at gmail.com (Michael Zak)
Date: Wed, 26 Nov 2008 15:12:40 +0100
Subject: [R-SIG-Finance] How to optimize a trading singal generator
	(for-loop)?
Message-ID: <CB51A34F-1FC4-40E2-804B-C7ADB1F40F31@gmail.com>

Hi guys,

I've got some performance troubles with my trading signal generator,  
which indicates when the system goes long or short.
I'm playing with some historical data and the for-loop isn't doing his  
job very efficient. Is there some vectorial solution for this?

Here the for-loop:

 > trade.long  <- 0
 > trade.short <- 0
 > for (j in peak.days : dim(commodities[[i]])[1]) {
 > 	# Trading Signal Long
 > 	if (commodities[[i]][j, "High"] >= commodities[[i]][j,  
"HighestHigh"] && trade.long == 0) {
 > 		commodities[[i]][j, "Long"] <- 1
 > 		trade.long <- 1
 > 	}
 > 	if (commodities[[i]][j, "Low"] <= commodities[[i]][j, "emaH"] &&  
trade.long == 1) {
 > 		commodities[[i]][j, "Long"] <- -1
 > 		trade.long <- 0
 > 	}
 > 	# Trading Signal Short
 > 	if (commodities[[i]][j, "Low"] <= commodities[[i]][j, "LowestLow"]  
&& trade.short == 0) {
 > 		commodities[[i]][j, "Short"] <- 1
 > 		trade.short <- 1
 > 	}
 > 	if (commodities[[i]][j, "High"] >= commodities[[i]][j, "emaL"] &&  
trade.short == 1) {
 > 		commodities[[i]][j, "Short"] <- -1
 > 		trade.short <- 0
 > 	}
 > } # for (j in peak.days : dim(commodities[[i]])[1])


Any ideas are very appreciated. Thank you, Michael


From haekyung.im at credit-suisse.com  Wed Nov 26 17:55:20 2008
From: haekyung.im at credit-suisse.com (Im, Haekyung)
Date: Wed, 26 Nov 2008 11:55:20 -0500
Subject: [R-SIG-Finance] garchFit with fSeries
Message-ID: <007C8F8DF2E33749B101560D423AA3F6035DCF92@EPRI17P32003A.csfb.cs-group.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081126/15802b2b/attachment.pl>

From chalabi at phys.ethz.ch  Wed Nov 26 18:33:12 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Wed, 26 Nov 2008 18:33:12 +0100
Subject: [R-SIG-Finance] garchFit with fSeries
In-Reply-To: <007C8F8DF2E33749B101560D423AA3F6035DCF92@EPRI17P32003A.csfb.cs-group.com>
References: <007C8F8DF2E33749B101560D423AA3F6035DCF92@EPRI17P32003A.csfb.cs-group.com>
Message-ID: <20081126183312.7ca982cc@mimi>

>>>> "IH" == "Im, Haekyung" <haekyung.im at credit-suisse.com>
>>>> on Wed, 26 Nov 2008 11:55:20 -0500

   IH> Hi,
   IH>  
   IH> does garchFit function come with fSeries package? I installed the
   IH> package but can't find the function.
   IH>  
   IH> Thanks,
   IH> Haky


garchFit is part of the fGarch package.

regards,
Yohan

-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From jh8080 at hotmail.com  Wed Nov 26 18:37:38 2008
From: jh8080 at hotmail.com (Jae Kim)
Date: Thu, 27 Nov 2008 04:37:38 +1100
Subject: [R-SIG-Finance] garchFit with fSeries
In-Reply-To: <007C8F8DF2E33749B101560D423AA3F6035DCF92@EPRI17P32003A.csfb.cs-group.com>
	<20081126183312.7ca982cc@mimi>
References: <007C8F8DF2E33749B101560D423AA3F6035DCF92@EPRI17P32003A.csfb.cs-group.com>
	<20081126183312.7ca982cc@mimi>
Message-ID: <BAY108-DS664CC4F261DD0C352999FCD0A0@phx.gbl>

Here are some examples:


y <- data$SG
n <- length(y)
ret <- ts(log(y[2:n]/y[1:(n-1)]))

library(fGarch) 
fit <- garchFit(~garch(1, 1), data = ret) 
f <- predict(fit, n.ahead = 10) 
plot(fit)



--------------------------------------------------
From: "Yohan Chalabi" <chalabi at phys.ethz.ch>
Sent: Thursday, November 27, 2008 4:33 AM
To: "Im, Haekyung" <haekyung.im at credit-suisse.com>
Cc: <r-sig-finance at stat.math.ethz.ch>
Subject: Re: [R-SIG-Finance] garchFit with fSeries

>>>>> "IH" == "Im, Haekyung" <haekyung.im at credit-suisse.com>
>>>>> on Wed, 26 Nov 2008 11:55:20 -0500
> 
>   IH> Hi,
>   IH>  
>   IH> does garchFit function come with fSeries package? I installed the
>   IH> package but can't find the function.
>   IH>  
>   IH> Thanks,
>   IH> Haky
> 
> 
> garchFit is part of the fGarch package.
> 
> regards,
> Yohan
> 
> -- 
> PhD student
> Swiss Federal Institute of Technology
> Zurich
> 
> www.ethz.ch
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From etheber at gmx.de  Thu Nov 27 15:12:09 2008
From: etheber at gmx.de (Thomas Etheber)
Date: Thu, 27 Nov 2008 15:12:09 +0100
Subject: [R-SIG-Finance] IRR - Calculation in R
Message-ID: <20081127141209.18660@gmx.net>

Hi there,

can anyone recommend a comfortable package for the calculations of the internal rate of return (IRR)? I had a quick look at google and the history of this newsgroup, but couldnt find something usefull.

Is polyroot the right choice?
The polyroot function returns all values including the complex ones.

Is there a possibility to filter for real-numbers only?
Here is a piece of code:

> p <- c(-10000, 1322, -1200, 12000)
> p
[1] -10000   1322  -1200  12000
> 1/polyroot(p) - 1
[1]  0.06936167+0.000000i -1.46858084-0.950051i -1.46858084+0.950051i
> a <- 1/polyroot(p) - 1
> is.complex(a)
[1] TRUE
> is.complex(a[1])
[1] TRUE
> is.complex(a[2])
[1] TRUE
> is.complex(a[3])
[1] TRUE
> is.complex(a[4])
[1] TRUE

Why are all of those TRUE, I expected that  is.complex(a[1]) would bring a FALSE?

Thx in advance 
Thomas






-- 
Sensationsangebot nur bis 30.11: GMX FreeDSL - Telefonanschluss + DSL 
f?r nur 16,37 Euro/mtl.!* http://dsl.gmx.de/?ac=OM.AD.PD003K11308T4569a


From brian at muxspace.com  Thu Nov 27 16:20:48 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Thu, 27 Nov 2008 10:20:48 -0500
Subject: [R-SIG-Finance] Adding data providers to quantmod
Message-ID: <etPan.492ebad0.4ff77d53.3ac9@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081127/4e56c342/attachment.html>

From jeff.a.ryan at gmail.com  Thu Nov 27 16:40:52 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 27 Nov 2008 09:40:52 -0600
Subject: [R-SIG-Finance] Adding data providers to quantmod
In-Reply-To: <etPan.492ebad0.4ff77d53.3ac9@localhost>
References: <etPan.492ebad0.4ff77d53.3ac9@localhost>
Message-ID: <e8e755250811270740o5d7cdec1w46d7aebc00b6305a@mail.gmail.com>

Hi Brian,

There isn't a great way to do this yet.  The dispatch internally is
essentially nothing more that paste("getSymbols",src, sep=".").

quantmod:::getSymbols.skeleton is a starting place, as would be any of
the current methods.

I will be adding something closer to 'newTA' to auto-generate the
function for you (within reason), but it is not done yet.

What data sources are you thinking of (besides the census)?  Are there
public API (official or unofficial)?

Jeff

On Thu, Nov 27, 2008 at 9:20 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hello,
>
> I am using quantmod to download FRED data and am interested in downloading
> series from other providers (e.g. the Census Bureau). Is there a method for
> attaching new getSymbols.* to the getSymbols interface or other recommended
> practice for consolidating the data retrieval process?
>
> Thanks,
> Brian
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From brian at muxspace.com  Thu Nov 27 17:21:13 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Thu, 27 Nov 2008 11:21:13 -0500
Subject: [R-SIG-Finance] Adding data providers to quantmod
Message-ID: <etPan.492ec8f9.309d276b.6e34@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081127/34d85c71/attachment.html>

From enrique.bengoechea at credit-suisse.com  Thu Nov 27 17:30:31 2008
From: enrique.bengoechea at credit-suisse.com (=?iso-8859-1?Q?Bengoechea_Bartolom=E9_Enrique_=28SIES_73=29?=)
Date: Thu, 27 Nov 2008 17:30:31 +0100
Subject: [R-SIG-Finance] fPortfolio target risk optimization?
Message-ID: <19811401A1D8174CB3EAD7F6072E9B5001C11F0B@chsa1025.share.beluni.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081127/b23f397a/attachment.pl>

From Rory.WINSTON at rbs.com  Thu Nov 27 17:42:39 2008
From: Rory.WINSTON at rbs.com (Rory.WINSTON at rbs.com)
Date: Thu, 27 Nov 2008 16:42:39 +0000
Subject: [R-SIG-Finance] IRR - Calculation in R
In-Reply-To: <20081127141209.18660@gmx.net>
References: <20081127141209.18660@gmx.net>
Message-ID: <F5AB27C222D4164382737207F9869F2B54171B9DFA@LONMC01014.rbsres07.net>

I think uniroot() is what you are looking for.

Incidentally, there have been a few posts regarding this on the main R help list.

Example:

> cf <- c(-10000, 1322, -1200, 12000)
> npv <- function(i, cf, t=seq(along=cf)) sum(cf/(1+i)^t)
> irr <- function(cf) { uniroot(npv, c(0,1), cf=cf)$root }
> irr(cf)
[1] 0.06937691

Rory

Rory Winston
RBS Global Banking & Markets
Office: +44 20 7085 4476

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Thomas Etheber
Sent: 27 November 2008 14:12
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] IRR - Calculation in R

Hi there,

can anyone recommend a comfortable package for the calculations of the internal rate of return (IRR)? I had a quick look at google and the history of this newsgroup, but couldnt find something usefull.

Is polyroot the right choice?
The polyroot function returns all values including the complex ones.

Is there a possibility to filter for real-numbers only?
Here is a piece of code:

> p <- c(-10000, 1322, -1200, 12000)
> p
[1] -10000   1322  -1200  12000
> 1/polyroot(p) - 1
[1]  0.06936167+0.000000i -1.46858084-0.950051i -1.46858084+0.950051i
> a <- 1/polyroot(p) - 1
> is.complex(a)
[1] TRUE
> is.complex(a[1])
[1] TRUE
> is.complex(a[2])
[1] TRUE
> is.complex(a[3])
[1] TRUE
> is.complex(a[4])
[1] TRUE

Why are all of those TRUE, I expected that  is.complex(a[1]) would bring a FALSE?

Thx in advance
Thomas






--
Sensationsangebot nur bis 30.11: GMX FreeDSL - Telefonanschluss + DSL f?r nur 16,37 Euro/mtl.!* http://dsl.gmx.de/?ac=OM.AD.PD003K11308T4569a

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

***********************************************************************************
The Royal Bank of Scotland plc. Registered in Scotland No 90312. Registered Office: 36 St Andrew Square, Edinburgh EH2 2YB. 
Authorised and regulated by the Financial Services Authority 

This e-mail message is confidential and for use by the=2...{{dropped:22}}


From windspeedo at qq.com  Thu Nov 27 17:44:09 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Fri, 28 Nov 2008 00:44:09 +0800
Subject: [R-SIG-Finance] segments could not draw line in log plot
Message-ID: <tencent_4A8B389167CD5B76417F7508@qq.com>

The following code show the vertical red line successfully.
y<-1:100
plot(y)
segments(50,0,50,100,col='red')

But, if the y axis is changed to log axis, the red line could not be drawn.
y<-1:100
plot(y,log='y')
segments(50,0,50,100,col='red')

I wonder whether there is some method to draw a vertical line in a log-axis plot?
Thanks in advance.




From Christian.Prinoth at epsilonsgr.it  Thu Nov 27 17:56:54 2008
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Thu, 27 Nov 2008 17:56:54 +0100
Subject: [R-SIG-Finance] segments could not draw line in log plot
In-Reply-To: <tencent_4A8B389167CD5B76417F7508@qq.com>
References: <tencent_4A8B389167CD5B76417F7508@qq.com>
Message-ID: <8D64D4652EB17048B874B0503309CFCA4EF8BE@epsilon2003.epsilonsgr.it>

abline(v=x)
where x is the x-value for the vertical line

Christian Prinoth <cp at epsilonsgr.it>
Epsilon SGR
+39-02-88102355


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Wind
> Sent: 27 November, 2008 17:44
> To: r-sig-finance
> Subject: [R-SIG-Finance] segments could not draw line in log plot
>
> The following code show the vertical red line successfully.
> y<-1:100
> plot(y)
> segments(50,0,50,100,col='red')
>
> But, if the y axis is changed to log axis, the red line could
> not be drawn.
> y<-1:100
> plot(y,log='y')
> segments(50,0,50,100,col='red')
>
> I wonder whether there is some method to draw a vertical line
> in a log-axis plot?
> Thanks in advance.
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>

DISCLAIMER:\ L'utilizzo non autorizzato del presente mes...{{dropped:16}}


From brian at muxspace.com  Thu Nov 27 18:19:23 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Thu, 27 Nov 2008 12:19:23 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
Message-ID: <etPan.492ed69b.331e07dc.1148@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081127/76e08592/attachment.html>

From ezivot at u.washington.edu  Thu Nov 27 18:24:02 2008
From: ezivot at u.washington.edu (Eric Zivot)
Date: Thu, 27 Nov 2008 09:24:02 -0800
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <etPan.492ed69b.331e07dc.1148@localhost>
Message-ID: <200811271724.mARHO2kd024994@smtp.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081127/16cde20a/attachment.pl>

From patzoul at free.fr  Thu Nov 27 21:43:53 2008
From: patzoul at free.fr (patzoul)
Date: Thu, 27 Nov 2008 12:43:53 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] fPortfolio target risk
	optimization?
In-Reply-To: <19811401A1D8174CB3EAD7F6072E9B5001C11F0B@chsa1025.share.beluni.net>
References: <19811401A1D8174CB3EAD7F6072E9B5001C1190D@chsa1025.share.beluni.net>
	<19811401A1D8174CB3EAD7F6072E9B5001C11F0B@chsa1025.share.beluni.net>
Message-ID: <20725348.post@talk.nabble.com>


The function "maxreturnPortfolio" is in fPortfolio v280.74.


Enrique Bengoechea wrote:
> 
> Many thanks Hugh and Thomas for your answers. I realize that return
> maximization is a harder numerical problem than risk minimization, so my
> thought was doing something along the lines of Thomas' search suggestion.
> Just wondered if that was not already programmed into the package. Your
> answers were very useful.
>  
> patzoul, I cannot find function "maxreturnPortfolio" in fPortfolio
> v260.72, where have you seen it? A more recent version of fPortfolio?
>  
> Best,
>  
> Enrique
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 

-- 
View this message in context: http://www.nabble.com/fPortfolio-target-risk-optimization--tp20659455p20725348.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Thu Nov 27 23:58:54 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 27 Nov 2008 16:58:54 -0600
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <200811271724.mARHO2kd024994@smtp.washington.edu>
References: <etPan.492ed69b.331e07dc.1148@localhost>
	<200811271724.mARHO2kd024994@smtp.washington.edu>
Message-ID: <e8e755250811271458l20b642d4g813cee7196e4b39f@mail.gmail.com>

quantmod can do this now as well:

If addTA is passed a logical vector of the same length as your series
or passed an ?xtsible object of any length it will cause bands to be
drawn.  Points in the vector/time that are TRUE will be cause event
blocks to be drawn on/under the series.

An example:

> library(quantmod)
> chartSeries(QQQQ)
> times <- timeBasedSeq(20071001/2007)  # create a Date sequence from 2007-10-01 to 2007-12-31
> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333", border=NA)

A few comments about 'addTA':

1) the 'on' argument which plot you want it drawn on.  Starting with
the main series window=1. Negative values cause the values to be drawn
under the main graphics.

2) 'col' and 'border' are arguments to the 'rect' call internal, which
draws the bands underneath.

See ?addTA for further details.

HTH
Jeff




On Thu, Nov 27, 2008 at 11:24 AM, Eric Zivot <ezivot at u.washington.edu> wrote:
> You can use the chart.TimeSeries() function in the package
> PerformanceAnalytics to do this very easily. See the examples in the help
> file for adding shading to user defined event times.
> ez
>
>  _____
>
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Brian Lee Yung
> Rowe
> Sent: Thursday, November 27, 2008 9:19 AM
> To: r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
>
>
> Hi,
>
> I want to produce charts using quantmod similar to the ones available from
> FRED. Specifically, FRED has this handy feature of rendering the
> NBER-defined recession periods under the displayed time series.
>
> It seems like calling newTA with the appropriate function handle could
> produce the output necessary to define the shading bars, but I'm not sure if
> any of the existing charting types can generate the correct look and feel.
> Anybody have suggestions?
>
> Thanks,
> Brian
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ggrothendieck at gmail.com  Fri Nov 28 03:41:46 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Thu, 27 Nov 2008 21:41:46 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <etPan.492ed69b.331e07dc.1148@localhost>
References: <etPan.492ed69b.331e07dc.1148@localhost>
Message-ID: <971536df0811271841p73056866h43028a5698efdac4@mail.gmail.com>

Although not using quantmod there is an example using
xyplot.zoo (which is a method for lattice xyplot)  in:

library(zoo)
example(xyplot.zoo)

On Thu, Nov 27, 2008 at 12:19 PM, Brian Lee Yung Rowe
<brian at muxspace.com> wrote:
> Hi,
>
> I want to produce charts using quantmod similar to the ones available from
> FRED. Specifically, FRED has this handy feature of rendering the
> NBER-defined recession periods under the displayed time series.
>
> It seems like calling newTA with the appropriate function handle could
> produce the output necessary to define the shading bars, but I'm not sure if
> any of the existing charting types can generate the correct look and feel.
> Anybody have suggestions?
>
> Thanks,
> Brian
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From windspeedo at qq.com  Fri Nov 28 04:38:49 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Fri, 28 Nov 2008 11:38:49 +0800
Subject: [R-SIG-Finance] segments could not draw line in log plot
Message-ID: <tencent_4B4B250970D10EB51E7120D2@qq.com>

abline(v=x) is better for my charts.
Thanks Christian.

Regards,
Winds
 
 
------------------ ???? ------------------
???: "Christian Prinoth"<Christian.Prinoth at epsilonsgr.it>;
????: 2008?11?28?(???) ??0:56
???: "Wind"<windspeedo at qq.com>; "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 

??: RE: [R-SIG-Finance] segments could not draw line in log plot

 
abline(v=x)
where x is the x-value for the vertical line

Christian Prinoth <cp at epsilonsgr.it>
Epsilon SGR
+39-02-88102355


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Wind
> Sent: 27 November, 2008 17:44
> To: r-sig-finance
> Subject: [R-SIG-Finance] segments could not draw line in log plot
>
> The following code show the vertical red line successfully.
> y<-1:100
> plot(y)
> segments(50,0,50,100,col='red')
>
> But, if the y axis is changed to log axis, the red line could
> not be drawn.
> y<-1:100
> plot(y,log='y')
> segments(50,0,50,100,col='red')
>
> I wonder whether there is some method to draw a vertical line
> in a log-axis plot?
> Thanks in advance.
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>

DISCLAIMER:
L'utilizzo non autorizzato del presente messaggio ? vietato e potrebbe costituire reato. Le informazioni e le opinioni contenute in questo messaggio sono inviate dal mittente a proprio nome e non costituiscono una posizione ufficiale di Epsilon SGR. Questo messaggio e' confidenziale e se non e' a Lei indirizzato Le saremmo grati se, via e-mail, ne comunicasse l'errata ricezione al mittente.
The information and opinions contained in this message do not constitute an official position of Epsilon SGR and are communicated by the sender in is own name. This message is confidential, if you are not the intended recipient, please notify the sender immediately. The information and opinions contained in this message do not constitute an official position of Epsilon SGR and are communicated by the sender in his own name. This message is confidential, if you are not the intended recipient, please notify the sender immediately.


From arun1285 at gmail.com  Fri Nov 28 07:14:30 2008
From: arun1285 at gmail.com (arun n)
Date: Fri, 28 Nov 2008 11:44:30 +0530
Subject: [R-SIG-Finance] Reg: tapply() for TWAP calculations
Message-ID: <275452590811272214p6fac464bqf51dfe1d7069f361@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081128/c20ab8ca/attachment.pl>

From ravis at ambaresearch.com  Fri Nov 28 10:21:20 2008
From: ravis at ambaresearch.com (Ravi S. Shankar)
Date: Fri, 28 Nov 2008 14:51:20 +0530
Subject: [R-SIG-Finance] Help with Dummy Regression
Message-ID: <B8948310FD4828478CBCC2093E5096B70FE24F@BAN-MAILSRV02.Amba.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081128/885bd58a/attachment.pl>

From brian at muxspace.com  Fri Nov 28 13:28:49 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Fri, 28 Nov 2008 07:28:49 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
Message-ID: <etPan.492fe401.4a2cd811.5b69@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081128/181ffd8d/attachment.html>

From brian at muxspace.com  Fri Nov 28 14:12:13 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Fri, 28 Nov 2008 08:12:13 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
Message-ID: <etPan.492fee2d.79064740.5eaa@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081128/d72ddd8f/attachment.html>

From jeff.a.ryan at gmail.com  Fri Nov 28 14:26:36 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Fri, 28 Nov 2008 07:26:36 -0600
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <etPan.492fe401.4a2cd811.5b69@localhost>
References: <etPan.492fe401.4a2cd811.5b69@localhost>
Message-ID: <e8e755250811280526wa12d32t581e731d2368cc6c@mail.gmail.com>

Hi Brian,

Try version 0.3-7 from CRAN (released last week sometime...)

http://cran.r-project.org/web/packages/quantmod/index.html

Jeff

On Fri, Nov 28, 2008 at 6:28 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi Jeff,
>
> This sounds promising, but I couldn't get it to work.
>
>> chartSeries(QQQQ)
>> times <- timeBasedSeq('20071001/2007')
>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333",
>> border=NA)
> Warning message:
> In plot.xy(xy.coords(x, y), type = type, ...) :
>   "border" is not a graphical parameter
>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333")
> Warning message:
> In plot.xy(xy.coords(x, y), type = type, ...) :
>   "border" is not a graphical parameter
>
> Re-executing the sequence without the border parameter removes the error
> message, but I don't see any bars. The series name does appear in the legend
> area, though.
>
>> chartSeries(QQQQ)
>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333")
>
> I'm using version 0.3-6 revision 433. Any thoughts on what I'm doing wrong?
>
> Brian
>
>
> ----- Original message -----
> Sent: 2008/11/27 17:58:54
> Subject: Re:Re: [R-SIG-Finance] Shaded regions as an indicator in quantmod
>
> quantmod can do this now as well:
>
> If addTA is passed a logical vector of the same length as your series
> or passed an ?xtsible object of any length it will cause bands to be
> drawn. Points in the vector/time that are TRUE will be cause event
> blocks to be drawn on/under the series.
>
> An example:
>
>> library(quantmod)
>> chartSeries(QQQQ)
>> times <- timeBasedSeq(20071001/2007) # create a Date sequence from
>> 2007-10-01 to 2007-12-31
>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333",
>> border=NA)
>
> A few comments about 'addTA':
>
> 1) the 'on' argument which plot you want it drawn on. Starting with
> the main series window=1. Negative values cause the values to be drawn
> under the main graphics.
>
> 2) 'col' and 'border' are arguments to the 'rect' call internal, which
> draws the bands underneath.
>
> See ?addTA for further details.
>
> HTH
> Jeff
>
>
>
>
> On Thu, Nov 27, 2008 at 11:24 AM, Eric Zivot wrote:
>> You can use the chart.TimeSeries() function in the package
>> PerformanceAnalytics to do this very easily. See the examples in the help
>> file for adding shading to user defined event times.
>> ez
>>
>> _____
>>
>> From: r-sig-finance-bounces at stat.math.ethz.ch
>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Brian Lee
>> Yung
>> Rowe
>> Sent: Thursday, November 27, 2008 9:19 AM
>> To: r-sig-finance at stat.math.ethz.ch
>> Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
>>
>>
>> Hi,
>>
>> I want to produce charts using quantmod similar to the ones available from
>> FRED. Specifically, FRED has this handy feature of rendering the
>> NBER-defined recession periods under the displayed time series.
>>
>> It seems like calling newTA with the appropriate function handle could
>> produce the output necessary to define the shading bars, but I'm not sure
>> if
>> any of the existing charting types can generate the correct look and feel.
>> Anybody have suggestions?
>>
>> Thanks,
>> Brian
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ggrothendieck at gmail.com  Fri Nov 28 15:19:02 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 28 Nov 2008 09:19:02 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <971536df0811271841p73056866h43028a5698efdac4@mail.gmail.com>
References: <etPan.492ed69b.331e07dc.1148@localhost>
	<971536df0811271841p73056866h43028a5698efdac4@mail.gmail.com>
Message-ID: <971536df0811280619l4a5570c8keb7d48046ed02f43@mail.gmail.com>

There is also an example of a different way of doing it with zoo
using plot.zoo (rather than xyplot.zoo) here which you can
locate by searching that file for rect:

http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/pkg/man/plot.zoo.Rd?rev=548&root=zoo&view=auto


On Thu, Nov 27, 2008 at 9:41 PM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> Although not using quantmod there is an example using
> xyplot.zoo (which is a method for lattice xyplot)  in:
>
> library(zoo)
> example(xyplot.zoo)
>
> On Thu, Nov 27, 2008 at 12:19 PM, Brian Lee Yung Rowe
> <brian at muxspace.com> wrote:
>> Hi,
>>
>> I want to produce charts using quantmod similar to the ones available from
>> FRED. Specifically, FRED has this handy feature of rendering the
>> NBER-defined recession periods under the displayed time series.
>>
>> It seems like calling newTA with the appropriate function handle could
>> produce the output necessary to define the shading bars, but I'm not sure if
>> any of the existing charting types can generate the correct look and feel.
>> Anybody have suggestions?
>>
>> Thanks,
>> Brian
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>


From brian at muxspace.com  Sat Nov 29 02:24:41 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Fri, 28 Nov 2008 20:24:41 -0500
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
Message-ID: <etPan.493099d9.1d65b3f2.6f6b@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081128/61034db9/attachment.html>

From patzoul at free.fr  Sun Nov 30 17:43:01 2008
From: patzoul at free.fr (patzoul)
Date: Sun, 30 Nov 2008 08:43:01 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] how to extract the last day of the
 month in a last of dates?
Message-ID: <20759299.post@talk.nabble.com>


I have a timeseries of stock data. How can I extract the last day of each
month on the series?

GMT
           STOXX50E.Close GSPC.Close N225.Close BSV.Close BND.Close
GSG.Close
2007-04-10           4301     1448.4      17665     74.99     75.24    
41.57
2007-04-11           4293     1438.9      17670     74.95     75.04    
41.45
2007-04-12           4280     1447.8      17540     75.12     75.03    
41.75
2007-04-13           4317     1452.8      17364     74.91     74.91    
41.80
2007-04-16           4379     1468.3      17628     75.00     74.98    
41.52
2007-04-17           4384     1471.5      17527     75.09     75.17    
41.16
2007-04-18           4359     1472.5      17667     75.19     75.31    
41.23
2007-04-19           4340     1470.7      17372     75.21     75.28    
41.00
2007-04-20           4417     1484.3      17453     75.25     75.26    
41.18
2007-04-23           4400     1480.9      17455     75.29     75.36    
41.62
2007-04-24           4368     1480.4      17452     75.33     75.48    
41.31
2007-04-25           4404     1495.4      17236     75.31     75.42    
41.78
2007-04-26           4414     1494.2      17429     75.22     75.26    
41.60
2007-04-27           4383     1494.1      17400     75.21     75.24    
42.14
2007-05-01           4392     1486.3      17275     75.26     75.32    
41.49
2007-05-02           4415     1495.9      17395     75.21     75.33    
41.22
2007-05-07           4441     1509.5      17670     75.24     75.39    
40.34
2007-05-08           4411     1507.7      17657     75.26     75.40    
40.84
2007-05-09           4425     1512.6      17748     75.27     75.31    
40.60
...

Thx


-- 
View this message in context: http://www.nabble.com/how-to-extract-the-last-day-of-the-month-in-a-last-of-dates--tp20759299p20759299.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Sun Nov 30 17:56:53 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 30 Nov 2008 10:56:53 -0600
Subject: [R-SIG-Finance] [R-sig-finance] how to extract the last day of
	the month in a last of dates?
In-Reply-To: <20759299.post@talk.nabble.com>
References: <20759299.post@talk.nabble.com>
Message-ID: <e8e755250811300856v165b94f9t3e42f147124f1e1d@mail.gmail.com>

Hi Patzoul,

library(xts)
ep <- endpoints(yourdata, on='months')
yourdata[ep, ]


?endpoints
endpoints                package:xts                R Documentation

Locate Endpoints by Time

Description:

     Extract index values of a given 'xts' object corresponding to the
     _last_ observations given a period specified by 'on'

Usage:

     endpoints(x, on="months", k=1)

Arguments:

       x: an xts object

      on: the periods endpoints to find as a character string

       k: along every k-th element - see notes

Details:

     'endpoints' returns a numeric vector corresponding to the _last_
     observation in each period specified by 'on', with a zero added to
     the beginning of the vector, and the index of the last observation
     in 'x' at the end.

     Valid values for the argument 'on' include: "us" (microseconds),
     "microseconds", "ms" (milliseconds), "milliseconds", "secs"
     (seconds), "seconds", "mins" (minutes), "minutes", "hours",
     "days", "weeks", "months", "quarters", and "years".

Value:

     A numeric vector of endpoints beginning with 0 and ending with the
     a value equal to the length of the x argument.

Author(s):

     Jeffrey A. Ryan

HTH
Jeff

On Sun, Nov 30, 2008 at 10:43 AM, patzoul <patzoul at free.fr> wrote:
>
> I have a timeseries of stock data. How can I extract the last day of each
> month on the series?
>
> GMT
>           STOXX50E.Close GSPC.Close N225.Close BSV.Close BND.Close
> GSG.Close
> 2007-04-10           4301     1448.4      17665     74.99     75.24
> 41.57
> 2007-04-11           4293     1438.9      17670     74.95     75.04
> 41.45
> 2007-04-12           4280     1447.8      17540     75.12     75.03
> 41.75
> 2007-04-13           4317     1452.8      17364     74.91     74.91
> 41.80
> 2007-04-16           4379     1468.3      17628     75.00     74.98
> 41.52
> 2007-04-17           4384     1471.5      17527     75.09     75.17
> 41.16
> 2007-04-18           4359     1472.5      17667     75.19     75.31
> 41.23
> 2007-04-19           4340     1470.7      17372     75.21     75.28
> 41.00
> 2007-04-20           4417     1484.3      17453     75.25     75.26
> 41.18
> 2007-04-23           4400     1480.9      17455     75.29     75.36
> 41.62
> 2007-04-24           4368     1480.4      17452     75.33     75.48
> 41.31
> 2007-04-25           4404     1495.4      17236     75.31     75.42
> 41.78
> 2007-04-26           4414     1494.2      17429     75.22     75.26
> 41.60
> 2007-04-27           4383     1494.1      17400     75.21     75.24
> 42.14
> 2007-05-01           4392     1486.3      17275     75.26     75.32
> 41.49
> 2007-05-02           4415     1495.9      17395     75.21     75.33
> 41.22
> 2007-05-07           4441     1509.5      17670     75.24     75.39
> 40.34
> 2007-05-08           4411     1507.7      17657     75.26     75.40
> 40.84
> 2007-05-09           4425     1512.6      17748     75.27     75.31
> 40.60
> ...
>
> Thx
>
>
> --
> View this message in context: http://www.nabble.com/how-to-extract-the-last-day-of-the-month-in-a-last-of-dates--tp20759299p20759299.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ggrothendieck at gmail.com  Sun Nov 30 18:30:10 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 30 Nov 2008 12:30:10 -0500
Subject: [R-SIG-Finance] [R-sig-finance] how to extract the last day of
	the month in a last of dates?
In-Reply-To: <20759299.post@talk.nabble.com>
References: <20759299.post@talk.nabble.com>
Message-ID: <971536df0811300930r2a59723fo3776927f27dbbc09@mail.gmail.com>

Depends on which time series framework you are using but if you
are using zoo then see vignette("zoo-quickref") and ?aggregate.zoo
for examples.

On Sun, Nov 30, 2008 at 11:43 AM, patzoul <patzoul at free.fr> wrote:
>
> I have a timeseries of stock data. How can I extract the last day of each
> month on the series?
>
> GMT
>           STOXX50E.Close GSPC.Close N225.Close BSV.Close BND.Close
> GSG.Close
> 2007-04-10           4301     1448.4      17665     74.99     75.24
> 41.57
> 2007-04-11           4293     1438.9      17670     74.95     75.04
> 41.45
> 2007-04-12           4280     1447.8      17540     75.12     75.03
> 41.75
> 2007-04-13           4317     1452.8      17364     74.91     74.91
> 41.80
> 2007-04-16           4379     1468.3      17628     75.00     74.98
> 41.52
> 2007-04-17           4384     1471.5      17527     75.09     75.17
> 41.16
> 2007-04-18           4359     1472.5      17667     75.19     75.31
> 41.23
> 2007-04-19           4340     1470.7      17372     75.21     75.28
> 41.00
> 2007-04-20           4417     1484.3      17453     75.25     75.26
> 41.18
> 2007-04-23           4400     1480.9      17455     75.29     75.36
> 41.62
> 2007-04-24           4368     1480.4      17452     75.33     75.48
> 41.31
> 2007-04-25           4404     1495.4      17236     75.31     75.42
> 41.78
> 2007-04-26           4414     1494.2      17429     75.22     75.26
> 41.60
> 2007-04-27           4383     1494.1      17400     75.21     75.24
> 42.14
> 2007-05-01           4392     1486.3      17275     75.26     75.32
> 41.49
> 2007-05-02           4415     1495.9      17395     75.21     75.33
> 41.22
> 2007-05-07           4441     1509.5      17670     75.24     75.39
> 40.34
> 2007-05-08           4411     1507.7      17657     75.26     75.40
> 40.84
> 2007-05-09           4425     1512.6      17748     75.27     75.31
> 40.60
> ...
>
> Thx
>
>
> --
> View this message in context: http://www.nabble.com/how-to-extract-the-last-day-of-the-month-in-a-last-of-dates--tp20759299p20759299.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From brian at muxspace.com  Mon Dec  1 00:06:15 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sun, 30 Nov 2008 18:06:15 -0500
Subject: [R-SIG-Finance] xts assignment via yearmon or string-based indexing
Message-ID: <etPan.49331c67.194e4794.4328@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081130/689d772f/attachment.html>

From ggrothendieck at gmail.com  Mon Dec  1 03:07:06 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 30 Nov 2008 21:07:06 -0500
Subject: [R-SIG-Finance] xts assignment via yearmon or string-based
	indexing
In-Reply-To: <etPan.49331c67.194e4794.4328@localhost>
References: <etPan.49331c67.194e4794.4328@localhost>
Message-ID: <971536df0811301807t3eaf6afas7b3ba3179d1a27a1@mail.gmail.com>

Don't know what is wrong but as a workaround note that since xts is a
subclass of zoo you can also use zoo methods on xts objects.
See ?window.zoo

y1 <- as.yearmon("1858-05")
y2 <- as.yearmon("1858-07")
window(series, start = y1, end = y2) <- TRUE



On Sun, Nov 30, 2008 at 6:06 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi,
>
> I have an xts series and want to update some of the values in the series.
> This works fine when I use an integer index (or list of integer indices),
> but it doesn't work if I use other methods like the string-based indexing or
> a list of yearmons. Is this the expected behavior or am I doing something
> wrong?
>
> Brian
>
>
>> dates <- timeBasedSeq('185801/2002')
>> series <- xts(rep(F, length(dates)), dates)
>
>> series['1858-05::1858-07'] <- T
>> head(series)
>           [,1]
> Jan 1858 FALSE
> Feb 1858 FALSE
> Mar 1858 FALSE
> Apr 1858 FALSE
> May 1858 FALSE # Expected to be T
> Jun 1858 FALSE # Expected to be T
>
>> series[dates.1] <- T
>> series[dates.1]
>           [,1]
> May 1858 FALSE # Expected to be T
> Jun 1858 FALSE # Expected to be T
> Jul 1858 FALSE # Expected to be T
>
>> series[1] <- T
>> head(series)
>           [,1]
> Jan 1858  TRUE # T as expected
> Feb 1858 FALSE
> Mar 1858 FALSE
> Apr 1858 FALSE
> May 1858 FALSE
> Jun 1858 FALSE
>
>> series[c(2,3)] <- T
>> head(series)
>           [,1]
> Jan 1858  TRUE
> Feb 1858  TRUE # This worked as expected
> Mar 1858  TRUE # This worked as expected
> Apr 1858 FALSE
> May 1858 FALSE
> Jun 1858 FALSE
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Mon Dec  1 04:13:40 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 30 Nov 2008 21:13:40 -0600
Subject: [R-SIG-Finance] xts assignment via yearmon or string-based
	indexing
In-Reply-To: <etPan.49331c67.194e4794.4328@localhost>
References: <etPan.49331c67.194e4794.4328@localhost>
Message-ID: <e8e755250811301913p61847f24oc37bcd2ab25baa18@mail.gmail.com>

Hi Brian,

Short answer is that it is expected behavior, at least given that no
[<-.xts method exists. :)

Is this desired behavior?? Not really.  I will look to make this more
consistent with the [.xts method.

Thanks for the report.

For now a clunky looking workaround can be had with:

> series[index(series) %in% timeBasedSeq('185805/185807')] <- TRUE
> head(series)
          [,1]
Jan 1858 FALSE
Feb 1858 FALSE
Mar 1858 FALSE
Apr 1858 FALSE
May 1858  TRUE
Jun 1858  TRUE

Thanks,
Jeff


On Sun, Nov 30, 2008 at 5:06 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi,
>
> I have an xts series and want to update some of the values in the series.
> This works fine when I use an integer index (or list of integer indices),
> but it doesn't work if I use other methods like the string-based indexing or
> a list of yearmons. Is this the expected behavior or am I doing something
> wrong?
>
> Brian
>
>
>> dates <- timeBasedSeq('185801/2002')
>> series <- xts(rep(F, length(dates)), dates)
>
>> series['1858-05::1858-07'] <- T
>> head(series)
>           [,1]
> Jan 1858 FALSE
> Feb 1858 FALSE
> Mar 1858 FALSE
> Apr 1858 FALSE
> May 1858 FALSE # Expected to be T
> Jun 1858 FALSE # Expected to be T
>
>> series[dates.1] <- T
>> series[dates.1]
>           [,1]
> May 1858 FALSE # Expected to be T
> Jun 1858 FALSE # Expected to be T
> Jul 1858 FALSE # Expected to be T
>
>> series[1] <- T
>> head(series)
>           [,1]
> Jan 1858  TRUE # T as expected
> Feb 1858 FALSE
> Mar 1858 FALSE
> Apr 1858 FALSE
> May 1858 FALSE
> Jun 1858 FALSE
>
>> series[c(2,3)] <- T
>> head(series)
>           [,1]
> Jan 1858  TRUE
> Feb 1858  TRUE # This worked as expected
> Mar 1858  TRUE # This worked as expected
> Apr 1858 FALSE
> May 1858 FALSE
> Jun 1858 FALSE
>
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jeff.a.ryan at gmail.com  Mon Dec  1 04:18:48 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 30 Nov 2008 21:18:48 -0600
Subject: [R-SIG-Finance] [R-sig-finance] how to extract the last day of
	the month in a last of dates?
In-Reply-To: <971536df0811300930r2a59723fo3776927f27dbbc09@mail.gmail.com>
References: <20759299.post@talk.nabble.com>
	<971536df0811300930r2a59723fo3776927f27dbbc09@mail.gmail.com>
Message-ID: <e8e755250811301918u6f4ef6a7g85bc56b0e763eeda@mail.gmail.com>

Gabor's point is correct, as everything you do depends on the series
framework you have.

The reason I made no mention of that is that most of the functions in
xts, such as endpoints and period.apply make use of try.xts and
reclass, which are designed to handle most (~9) possible classes of
time-series without having to use specific methods.

*endpoints* should work for any object that is ?xtsible.

This list currently (as of the development version to be released this
week) includes:

xts, zoo, timeSeries, ts, its, irts, fts, as well as properly
formatted matrix and data.frame objects.

HTH
Jeff

On Sun, Nov 30, 2008 at 11:30 AM, Gabor Grothendieck
<ggrothendieck at gmail.com> wrote:
> Depends on which time series framework you are using but if you
> are using zoo then see vignette("zoo-quickref") and ?aggregate.zoo
> for examples.
>
> On Sun, Nov 30, 2008 at 11:43 AM, patzoul <patzoul at free.fr> wrote:
>>
>> I have a timeseries of stock data. How can I extract the last day of each
>> month on the series?
>>
>> GMT
>>           STOXX50E.Close GSPC.Close N225.Close BSV.Close BND.Close
>> GSG.Close
>> 2007-04-10           4301     1448.4      17665     74.99     75.24
>> 41.57
>> 2007-04-11           4293     1438.9      17670     74.95     75.04
>> 41.45
>> 2007-04-12           4280     1447.8      17540     75.12     75.03
>> 41.75
>> 2007-04-13           4317     1452.8      17364     74.91     74.91
>> 41.80
>> 2007-04-16           4379     1468.3      17628     75.00     74.98
>> 41.52
>> 2007-04-17           4384     1471.5      17527     75.09     75.17
>> 41.16
>> 2007-04-18           4359     1472.5      17667     75.19     75.31
>> 41.23
>> 2007-04-19           4340     1470.7      17372     75.21     75.28
>> 41.00
>> 2007-04-20           4417     1484.3      17453     75.25     75.26
>> 41.18
>> 2007-04-23           4400     1480.9      17455     75.29     75.36
>> 41.62
>> 2007-04-24           4368     1480.4      17452     75.33     75.48
>> 41.31
>> 2007-04-25           4404     1495.4      17236     75.31     75.42
>> 41.78
>> 2007-04-26           4414     1494.2      17429     75.22     75.26
>> 41.60
>> 2007-04-27           4383     1494.1      17400     75.21     75.24
>> 42.14
>> 2007-05-01           4392     1486.3      17275     75.26     75.32
>> 41.49
>> 2007-05-02           4415     1495.9      17395     75.21     75.33
>> 41.22
>> 2007-05-07           4441     1509.5      17670     75.24     75.39
>> 40.34
>> 2007-05-08           4411     1507.7      17657     75.26     75.40
>> 40.84
>> 2007-05-09           4425     1512.6      17748     75.27     75.31
>> 40.60
>> ...
>>
>> Thx
>>
>>
>> --
>> View this message in context: http://www.nabble.com/how-to-extract-the-last-day-of-the-month-in-a-last-of-dates--tp20759299p20759299.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jeff.a.ryan at gmail.com  Mon Dec  1 04:28:40 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 30 Nov 2008 21:28:40 -0600
Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
In-Reply-To: <etPan.493099d9.1d65b3f2.6f6b@localhost>
References: <etPan.493099d9.1d65b3f2.6f6b@localhost>
Message-ID: <e8e755250811301928j4904d2b0q21cf501bb136ca2e@mail.gmail.com>

Brian,

The issue is that the recently released quantmod utilizes additions in
the yet to be released version of xts.  A package update coordination
error on my part.

I will reply again once the update is available.

Thanks,
Jeff

On Fri, Nov 28, 2008 at 7:24 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hmm, that didn't work either.
>
>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333",
>> border=NA)
> Error in coredata(x)[lchob at xsubset, ] : incorrect number of dimensions
> In addition: Warning message:
> In merge.zoo(lchob at xdata, ta, fill = ifelse(is.logical(ta), 0, NA),  :
>   Index vectors are of different classes: POSIXt Date integer integer
>
> I couldn't peer into lchob to see wha the xsubset slot contained, but I did
> try using a different series for times
>> times <- index(QQQQ)
>
> but I got the same error.
>
> BTW is there any reason that the year is off by 1 year in the help pages? I
> noticed the same thing in the previous release.
>
> Version:   0.3-7
> Date:      2007-11-17
>
> Brian
>
>
> ----- Original message -----
> Sent: 2008/11/28 08:26:36
> Subject: Re:Re: Re: [R-SIG-Finance] Shaded regions as an indicator in
> quantmod
>
> Hi Brian,
>
> Try version 0.3-7 from CRAN (released last week sometime...)
>
> http://cran.r-project.org/web/packages/quantmod/index.html
>
> Jeff
>
> On Fri, Nov 28, 2008 at 6:28 AM, Brian Lee Yung Rowe wrote:
>> Hi Jeff,
>>
>> This sounds promising, but I couldn't get it to work.
>>
>>> chartSeries(QQQQ)
>>> times <- timeBasedSeq('20071001/2007')
>>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333",
>>> border=NA)
>> Warning message:
>> In plot.xy(xy.coords(x, y), type = type, ...) :
>> "border" is not a graphical parameter
>>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333")
>> Warning message:
>> In plot.xy(xy.coords(x, y), type = type, ...) :
>> "border" is not a graphical parameter
>>
>> Re-executing the sequence without the border parameter removes the error
>> message, but I don't see any bars. The series name does appear in the
>> legend
>> area, though.
>>
>>> chartSeries(QQQQ)
>>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333")
>>
>> I'm using version 0.3-6 revision 433. Any thoughts on what I'm doing
>> wrong?
>>
>> Brian
>>
>>
>> ----- Original message -----
>> Sent: 2008/11/27 17:58:54
>> Subject: Re:Re: [R-SIG-Finance] Shaded regions as an indicator in quantmod
>>
>> quantmod can do this now as well:
>>
>> If addTA is passed a logical vector of the same length as your series
>> or passed an ?xtsible object of any length it will cause bands to be
>> drawn. Points in the vector/time that are TRUE will be cause event
>> blocks to be drawn on/under the series.
>>
>> An example:
>>
>>> library(quantmod)
>>> chartSeries(QQQQ)
>>> times <- timeBasedSeq(20071001/2007) # create a Date sequence from
>>> 2007-10-01 to 2007-12-31
>>> addTA(xts(rep(TRUE,length(times)), times), on=-1, col="#333333",
>>> border=NA)
>>
>> A few comments about 'addTA':
>>
>> 1) the 'on' argument which plot you want it drawn on. Starting with
>> the main series window=1. Negative values cause the values to be drawn
>> under the main graphics.
>>
>> 2) 'col' and 'border' are arguments to the 'rect' call internal, which
>> draws the bands underneath.
>>
>> See ?addTA for further details.
>>
>> HTH
>> Jeff
>>
>>
>>
>>
>> On Thu, Nov 27, 2008 at 11:24 AM, Eric Zivot wrote:
>>> You can use the chart.TimeSeries() function in the package
>>> PerformanceAnalytics to do this very easily. See the examples in the help
>>> file for adding shading to user defined event times.
>>> ez
>>>
>>> _____
>>>
>>> From: r-sig-finance-bounces at stat.math.ethz.ch
>>> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Brian Lee
>>> Yung
>>> Rowe
>>> Sent: Thursday, November 27, 2008 9:19 AM
>>> To: r-sig-finance at stat.math.ethz.ch
>>> Subject: [R-SIG-Finance] Shaded regions as an indicator in quantmod
>>>
>>>
>>> Hi,
>>>
>>> I want to produce charts using quantmod similar to the ones available
>>> from
>>> FRED. Specifically, FRED has this handy feature of rendering the
>>> NBER-defined recession periods under the displayed time series.
>>>
>>> It seems like calling newTA with the appropriate function handle could
>>> produce the output necessary to define the shading bars, but I'm not sure
>>> if
>>> any of the existing charting types can generate the correct look and
>>> feel.
>>> Anybody have suggestions?
>>>
>>> Thanks,
>>> Brian
>>>
>>> [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jkonn2001 at yahoo.com  Mon Dec  1 09:07:07 2008
From: jkonn2001 at yahoo.com (J Konnonen)
Date: Mon, 1 Dec 2008 00:07:07 -0800 (PST)
Subject: [R-SIG-Finance] historical simulation with EWMA fitting
In-Reply-To: <411670.86593.qm@web59402.mail.ac4.yahoo.com>
Message-ID: <166708.18604.qm@web59403.mail.ac4.yahoo.com>

Dear All,

I am trying to do a historical simulation with EWMA fitting for the variances, but I ran into some problems

The relevant part of my code is the following (using the EWMA function in fTrading package)

> for (k in 1:trading.days)
> {
> #losses vector is updated every day in the simulation
> lambdaval <- 0.94
> mod <- EWMA(losses^2, lambda=lambdaval) 
> nn <- length(losses)
> lastX <- losses[nn]
> lastSigma2 <- mod[nn]
> meanloss <- mean(losses)
> varloss <- (1-lambdaval)*lastX^2 + lambdaval*lastSigma2
> VaR <- meanloss + sqrt(varloss)*qnorm(0.95)
> } #for k

However, for some reason it doesn't produce the expected results.

I ran the same simulation on the same data with GARCH fitting for the standard deviations, and that works perfectly. 

My debugging showed that the obvious difference between my GARCH and EWMA fittings is, that while the values in the yearly timeseries of the standard deviations from the GARCH fitting move with minimal change from one day to another, the variances from the above EWMA fitting are jumping almost random from day to day in a fairly wide range, resulting the varloss and the VaR variables also do the same. 

I also tried to do the EWMA fitting using the ewmaSmooth function in the qcc package the following way

> x <- 1:1000
> modsmooth <- ewmaSmooth(x, losses1000^2, lambda=lambdaval)
> lastSigma2 <- modsmooth$y[nn,1]        

and it seemed to result the same behaviour is above. 

So I suppose I must do something wrongly in coding the EWMA fitting itself, but I was not able to figure it so far

Any suggestions are very much appreciated.

Best regards,
/Johan


From masserna at gmail.com  Mon Dec  1 13:34:01 2008
From: masserna at gmail.com (Manuel Serna)
Date: Mon, 1 Dec 2008 07:34:01 -0500
Subject: [R-SIG-Finance] question about impulse -response functions
Message-ID: <b99eb5050812010434o6b32fc5dice2a7716779951e1@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081201/f54e25ad/attachment.pl>

From masserna at gmail.com  Mon Dec  1 13:51:51 2008
From: masserna at gmail.com (Manuel Serna)
Date: Mon, 1 Dec 2008 07:51:51 -0500
Subject: [R-SIG-Finance] question about impulse response function in VARS
	package
Message-ID: <b99eb5050812010451v17e9e104r95ecf2caf8220540@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081201/36e0dd6e/attachment.pl>

From Bernhard_Pfaff at fra.invesco.com  Mon Dec  1 16:18:29 2008
From: Bernhard_Pfaff at fra.invesco.com (Pfaff, Bernhard Dr.)
Date: Mon, 1 Dec 2008 15:18:29 -0000
Subject: [R-SIG-Finance] question about impulse -response functions
In-Reply-To: <b99eb5050812010434o6b32fc5dice2a7716779951e1@mail.gmail.com>
References: <b99eb5050812010434o6b32fc5dice2a7716779951e1@mail.gmail.com>
Message-ID: <B89F0CE41D45644A97CCC93DF548C1C315EC99C3@GBHENXMB02.corp.amvescap.net>

>-----Urspr?ngliche Nachricht-----
>Von: r-sig-finance-bounces at stat.math.ethz.ch 
>[mailto:r-sig-finance-bounces at stat.math.ethz.ch] Im Auftrag 
>von Manuel Serna
>Gesendet: Montag, 1. Dezember 2008 13:34
>An: R-SIG-Finance at stat.math.ethz.ch
>Betreff: [R-SIG-Finance] question about impulse -response functions
>
>Good morning
>
>I would like to know if the impulse generated by irf is a unit of the
>impulse variable o standar deviation of the impulse variable.
>

Hello Manuel,

it is a unit shock. If you want the irf in terms sd, just multiply the outcome of irf() with the standard devition of the error term.

Best,
Bernhard


>Also, if my response variable is log GDP, the vertical axis of 
>the plot(irf)
>in waht units it is measure.
>
>Thanks,
>
>Manuel Serna
>
>	[[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.
>
*****************************************************************
Confidentiality Note: The information contained in this ...{{dropped:10}}


From ag at jet-sa.ch  Mon Dec  1 18:18:27 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Mon, 1 Dec 2008 18:18:27 +0100
Subject: [R-SIG-Finance] IBrokers
Message-ID: <005101c953d8$d34cd900$79e68b00$@ch>

Hello,
Can't get historical data using IBorkers package.
IB is in demo mode, but works well (quotes are showing).
I followed instructions (as of local.host trusted & API enables Activex)
Here is my output:


> tws=twsConnect()
> tws
<twsConnection at 20081201 17:41:57 CET >
> fut=twsFuture("ZF","ECBOT","20090331")  #5 years T Notes ech MAR 2009
> x=reqHistoricalData(tws,fut,barSize="1 day",duration="1 W") # 1 week of
data in demo mode     
waiting for TWS reply .....

then, it hang on for long, with hour glass as mouse pointer, and nothing
happen.

What is wrong ?

TY 4 any help,

Arno


From jeff.a.ryan at gmail.com  Mon Dec  1 18:31:41 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 1 Dec 2008 11:31:41 -0600
Subject: [R-SIG-Finance] IBrokers
In-Reply-To: <005101c953d8$d34cd900$79e68b00$@ch>
References: <005101c953d8$d34cd900$79e68b00$@ch>
Message-ID: <e8e755250812010931y1a2fa314qce3889aa9e89010b@mail.gmail.com>

The problem is:

> IB is in demo mode, but works well (quotes are showing).
> I followed instructions (as of local.host trusted & API enables Activex)

IB's demo mode is a playback of previous data (from what I recall).
It may even be simulated data.  Historical data (and quite a bit of
the API) is only available from a funded account, though one can use
the paper trading account once that is activated.  IBrokers == Paper
Trading, unless you are insane.

You can try reqMktData to see if that works (it *should* for most
basic data, again IB caveats apply), but you can't get historical
data.

HTH
Jeff
> Arno
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jeff.a.ryan at gmail.com  Mon Dec  1 19:01:18 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 1 Dec 2008 12:01:18 -0600
Subject: [R-SIG-Finance] IBrokers
In-Reply-To: <e8e755250812010931y1a2fa314qce3889aa9e89010b@mail.gmail.com>
References: <005101c953d8$d34cd900$79e68b00$@ch>
	<e8e755250812010931y1a2fa314qce3889aa9e89010b@mail.gmail.com>
Message-ID: <e8e755250812011001y1e2c1515t20b717c0f4aaeb9a@mail.gmail.com>

I wanted to clarify my "unless you are insane" comment of the previous reply.

The original intention of IBrokers was not to necessarily provide a
trading platform from within R. Its purpose was to provide easy access
from R to *data* from Interactive Brokers.

reqHistoricalData, reqMktData, reqMktDepth and reqRealTimeBars are
indeed quite robust and useful.

The CALLBACK mechanisms are also very useful for testing R-coded
strategies against live market data.

There is some thinking (work) to provide the actual order-entry side
of the IB API to IBrokers users, but this is currently very crude and
minimally tested.  Single-threaded R makes some things difficult to
accomplish.

Using a paper account for all of the above is feasible and advisable.

The beauty of R (and OSS) is that all the details as to how it works
are in front of you.  It is up to the end-user to understand and be
comfortable with the mechanisms.

Jeff
(IBrokers author)

On Mon, Dec 1, 2008 at 11:31 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> The problem is:
>
>> IB is in demo mode, but works well (quotes are showing).
>> I followed instructions (as of local.host trusted & API enables Activex)
>
> IB's demo mode is a playback of previous data (from what I recall).
> It may even be simulated data.  Historical data (and quite a bit of
> the API) is only available from a funded account, though one can use
> the paper trading account once that is activated.  IBrokers == Paper
> Trading, unless you are insane.
>
> You can try reqMktData to see if that works (it *should* for most
> basic data, again IB caveats apply), but you can't get historical
> data.
>
> HTH
> Jeff
>> Arno
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ag at jet-sa.ch  Mon Dec  1 19:26:26 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Mon, 1 Dec 2008 19:26:26 +0100
Subject: [R-SIG-Finance] IBrokers
Message-ID: <005801c953e2$52527620$f6f76260$@ch>

TY Jeff 4 your answer.
As I trade & watch quotes with other apps, not sure I can afford a third
vendor.
My only problem is to be able to download historical data (250 days) with a
customized closing time (e.g. 5:00 PM GMT), not the regular closing price
given by exchanges. Untill now, after weeks & weeks of browsing the web, I
couldn't find any suitable solution. I thought IBrokers package could be
one.
Regards,
Arno


From herrold at owlriver.com  Mon Dec  1 22:35:39 2008
From: herrold at owlriver.com (R P Herrold)
Date: Mon, 1 Dec 2008 16:35:39 -0500 (EST)
Subject: [R-SIG-Finance] IBrokers
In-Reply-To: <005801c953e2$52527620$f6f76260$@ch>
References: <005801c953e2$52527620$f6f76260$@ch>
Message-ID: <alpine.LRH.2.00.0812011605520.8692@arj.bjyevire.pbz>

On Mon, 1 Dec 2008, Arno gaboury wrote:

> My only problem is to be able to download historical data 
> (250 days) with a customized closing time (e.g. 5:00 PM 
> GMT), not the regular closing price given by exchanges. 
> Untill now, after weeks & weeks of browsing the web, I 
> couldn't find any suitable solution. I thought IBrokers 
> package could be one.

Jeffrey A. Ryan (author of IBrokers) did not supply a worked 
example, and I think I have properly stated it later in this 
email.

Ad hoc history retrieval intervals are very doable with IB's 
history farms (I do not comment yet on the R connection tool 
plugin) -- 1700 GMT is either 1200 or 1300 US Eastern time 
[varies on 'daylight savings time' offset], and so one would 
pull a query on that time mark

A sample script to do such retrievals was published some 
months ago at:
     http://www.trading-shim.org/pipermail/ts-general/2008-March/000168.html

Obviously one would alter the query time parameter to just:
 	"12:00:00"   or "13:00:00"
in the 'time' array; and update 'syms' to taste;  the Ruby 
script handles 'walking' through successive array element 
conbinations



In like package, the IBrokers package has
 	reqHistoricalData
and I would expect such a parallel solution to look like:

(taken from the documentation at: 
http://cran.r-project.org/web/packages/IBrokers/IBrokers.pdf)

tws <- twsConnect()
contract <- twsContract("AAPL","STK","SMART","ISLAND",
                         "","0.0","USD","","","",NULL,NULL,"0")
reqHistoricalData(tws,
                   contract,
                   '20081201 12:00:00',
                   barSize = "1 min",
                   duration = "1 M",
                   useRTH = "1",
                   whatToShow = "TRADES",
                   time.format = "1",
                   verbose = TRUE,
                   tickerId = "1",
                   eventHistoricalData,
                   file)

# endDateTime argument must be of the form ?CCYYMMDD HH:MM:SS TZ?.

and we would simply step through successive "CCYYMMDD" days 
for the data;  IB does not keep the finest granularity history 
data around for a full year, but one minute data is usually 
available.

-- Russ herrold


From brian at muxspace.com  Tue Dec  2 04:09:33 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Mon, 1 Dec 2008 22:09:33 -0500
Subject: [R-SIG-Finance] xts assignment via yearmon or string-based
 indexing
Message-ID: <etPan.4934a6ed.4742dad2.2727@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081201/cf8ad55c/attachment.html>

From jeff.a.ryan at gmail.com  Tue Dec  2 04:47:54 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 1 Dec 2008 21:47:54 -0600
Subject: [R-SIG-Finance] xts assignment via yearmon or string-based
	indexing
In-Reply-To: <etPan.4934a6ed.4742dad2.2727@localhost>
References: <etPan.4934a6ed.4742dad2.2727@localhost>
Message-ID: <e8e755250812011947n65fd605je50374dcbaf7fdb3@mail.gmail.com>

Hi Brian,

The issue is an incompatibility between what zoo keeps in the index
attribute, and what your development version does.

The new xts stores its index as as.numeric(as.POSIXct(yourtimeindex)).
 This is for a multitude of efficiency reasons.

In some places within zoo the code accesses the index via attr(x,
'index') (or in this case index.zoo(), which does the same).  So you
are effectively trying to use a numeric value of 1858.33 and comparing
it to a very small negative integer:

What is actually stored in xts-dev index:
> as.numeric(as.POSIXct(head(index(series))))  # also accessible with the new .index() call
[1] -3534364800 -3531686400 -3529267200 -3526588800 -3523996800 -3521318400

What you are comparing it to:
> as.numeric(head(index(series)))
[1] 1858.000 1858.083 1858.167 1858.250 1858.333 1858.417

This is a unique issue because xts subclasses zoo, specifically the
public interface to zoo compenents (notably relying on index()
dispatch to 'do the right thing', which in this case [index.xts] is to
automatically convert the raw POSIXct to yearmon --- what you are
_expecting_).

In a few spots, zoo directly accesses the index attribute and causes a
breakage between the two.  It has been quite rare, but you have
stumbled across one such place.

Either use the subsetting directly in xts, or convert to zoo and then
reconvert to xts.  For reference, the replacement method for [<-.xts
has been added to the development branch.

> series['185806']
          [,1]
Jun 1858 FALSE
> series['185806'] <- TRUE
> series['185806']
         [,1]
Jun 1858 TRUE

I will add a window method here, but also discuss with Gabor and Achim
about changing the code in zoo that is causing issues to use the
index() dispatch.  This would allow for others to extend zoo without
getting stuck.

Thanks,
Jeff


On Mon, Dec 1, 2008 at 9:09 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Surprisingly, that doesn't work. What is particularly strange is that the
> indexing yields (to me) unexpected results. Do you know if this is expected
> behavior? Please bear with the code below; the pay off is at the end (if you
> consider strange behavior a payoff).
>
>> class(index(series))
> [1] "yearmon"
>> head(series) # Initial state
>           [,1]
> Jan 1857 FALSE
> Feb 1857 FALSE
> Mar 1857 FALSE
> Apr 1857 FALSE
> May 1857 FALSE
> Jun 1857 FALSE
>> tail(series)
>           [,1]
> Jul 2001 FALSE
> Aug 2001 FALSE
> Sep 2001 FALSE
> Oct 2001 FALSE
> Nov 2001 FALSE
> Dec 2001 FALSE
>
>> y1 <- as.yearmon("1858-05")
>> y2 <- as.yearmon("1858-07")
>> window(series, start = y1, end = y2) <- TRUE
>>
>> head(series)
>           [,1]
> Jan 1857 FALSE
> Feb 1857 FALSE
> Mar 1857 FALSE
> Apr 1857 FALSE
> May 1857 FALSE # Expected T
> Jun 1857 FALSE # Expected T
>
>> # This is the strange part
>> head(window(series, start=y1))
>           [,1]
> Feb 1970 FALSE # But y1 == as.yearmon("1858-05")
> Mar 1970 FALSE
> Apr 1970 FALSE
> May 1970 FALSE
> Jun 1970 FALSE
> Jul 1970 FALSE
>
>> head(window(series, start=y1, end=c(2001,12))) # No data returned?
> Data:
> numeric(0)
>
> Index:
> integer(0)
>> head(window(series, start=y1, end=as.yearmon('2001-12'))) # Same thing
>> using yearmon?
> Data:
> numeric(0)
>
> Index:
> integer(0)
>
>> # Let's try y2 just for fun
>> y2
> [1] "Jul 1858"
>> head(window(series, start=y2))
>           [,1]
> Feb 1970 FALSE # ???
> Mar 1970 FALSE
> Apr 1970 FALSE
> May 1970 FALSE
> Jun 1970 FALSE
> Jul 1970 FALSE
>
>
> It seems that the values of the yearmons are being interpreted incorrectly.
> Any ideas on why this is happening and what is to be done about it?
>
> Thanks,
> Brian
>
> ----- Original message -----
> Sent: 2008/11/30 21:07:06
> Subject: Re:Re: [R-SIG-Finance] xts assignment via yearmon or string-based
> indexing
>
> Don't know what is wrong but as a workaround note that since xts is a
> subclass of zoo you can also use zoo methods on xts objects.
> See ?window.zoo
>
> y1 <- as.yearmon("1858-05")
> y2 <- as.yearmon("1858-07")
> window(series, start = y1, end = y2) <- TRUE
>
>
>
> On Sun, Nov 30, 2008 at 6:06 PM, Brian Lee Yung Rowe wrote:
>> Hi,
>>
>> I have an xts series and want to update some of the values in the series.
>> This works fine when I use an integer index (or list of integer indices),
>> but it doesn't work if I use other methods like the string-based indexing
>> or
>> a list of yearmons. Is this the expected behavior or am I doing something
>> wrong?
>>
>> Brian
>>
>>
>>> dates <- timeBasedSeq('185801/2002')
>>> series <- xts(rep(F, length(dates)), dates)
>>
>>> series['1858-05::1858-07'] <- T
>>> head(series)
>> [,1]
>> Jan 1858 FALSE
>> Feb 1858 FALSE
>> Mar 1858 FALSE
>> Apr 1858 FALSE
>> May 1858 FALSE # Expected to be T
>> Jun 1858 FALSE # Expected to be T
>>
>>> series[dates.1] <- T
>>> series[dates.1]
>> [,1]
>> May 1858 FALSE # Expected to be T
>> Jun 1858 FALSE # Expected to be T
>> Jul 1858 FALSE # Expected to be T
>>
>>> series[1] <- T
>>> head(series)
>> [,1]
>> Jan 1858 TRUE # T as expected
>> Feb 1858 FALSE
>> Mar 1858 FALSE
>> Apr 1858 FALSE
>> May 1858 FALSE
>> Jun 1858 FALSE
>>
>>> series[c(2,3)] <- T
>>> head(series)
>> [,1]
>> Jan 1858 TRUE
>> Feb 1858 TRUE # This worked as expected
>> Mar 1858 TRUE # This worked as expected
>> Apr 1858 FALSE
>> May 1858 FALSE
>> Jun 1858 FALSE
>>
>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From mdelvaux at gmail.com  Tue Dec  2 06:55:43 2008
From: mdelvaux at gmail.com (Marc Delvaux)
Date: Mon, 1 Dec 2008 21:55:43 -0800
Subject: [R-SIG-Finance] Concatenating time series objects?
Message-ID: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>

I am trying to do an incremental download of time series financial
data, with say 5 new points every time I do an download.  I am trying
to find a simple way to perform concatenation but I cannot seem to
find an easy way to do that.  I did find a way using
xts(c(coredata(seq1),coredata(seq2)),
order.by=c(time(seq1),time(seq2))), but this loses some information
that was present in seq1, and I was thinking there should be a simpler
way.


From jeff.a.ryan at gmail.com  Tue Dec  2 07:01:39 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 2 Dec 2008 00:01:39 -0600
Subject: [R-SIG-Finance] Concatenating time series objects?
In-Reply-To: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
References: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
Message-ID: <e8e755250812012201x77be0ea5wf53aec41f82751e9@mail.gmail.com>

?rbind

Jeff

On Mon, Dec 1, 2008 at 11:55 PM, Marc Delvaux <mdelvaux at gmail.com> wrote:
> I am trying to do an incremental download of time series financial
> data, with say 5 new points every time I do an download.  I am trying
> to find a simple way to perform concatenation but I cannot seem to
> find an easy way to do that.  I did find a way using
> xts(c(coredata(seq1),coredata(seq2)),
> order.by=c(time(seq1),time(seq2))), but this loses some information
> that was present in seq1, and I was thinking there should be a simpler
> way.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From mdelvaux at gmail.com  Tue Dec  2 07:48:36 2008
From: mdelvaux at gmail.com (Marc Delvaux)
Date: Mon, 1 Dec 2008 22:48:36 -0800
Subject: [R-SIG-Finance] Concatenating time series objects?
In-Reply-To: <e8e755250812012201x77be0ea5wf53aec41f82751e9@mail.gmail.com>
References: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
	<e8e755250812012201x77be0ea5wf53aec41f82751e9@mail.gmail.com>
Message-ID: <a010cefd0812012248k74a79dd3x5e26baa879068c0@mail.gmail.com>

I should have been more specific, rbind and cbind are the first
solution I tried, but then the resulting object doesn't seem to be an
xts :-(  It mostly look like one, but str reports it as such and the
time information seems lost, at least to my eye.  I also tried merge,
but this results in essentially a multivariate object, not in
concatenation intime.

see below for a toy example

> seq1 <- xts(1:10,order.by=as.Date(a))
> seq2 <- xts(1:10,order.by=as.Date(b))  << a and b are two consecutive sequences
> str(seq1)
An 'xts' object from 2008-12-02 to 2008-12-12 containing:
  Data: int [1:11] 1 2 3 4 5 6 7 8 9 10 ...
  Indexed by: Class 'Date'  int [1:11] 14215 14216 14217 14218 14219
14220 14221 14222 14223 14224 ...
  xts Attributes:
 NULL
> seq <- rbind(seq1, seq2)
Warning message:
number of columns of result
        is not a multiple of vector length (arg 2) in: rbind(1, seq1, seq2)
> str(seq)
 int [1:2, 1:11] 1 1 2 2 3 3 4 4 5 5 ...
 - attr(*, "dimnames")=List of 2
  ..$ : chr [1:2] "seq1" "seq2"
  ..$ : NULL
> seq <- cbind(seq1, seq2)
Warning message:
number of rows of result
        is not a multiple of vector length (arg 2) in: cbind(1, seq1, seq2)
> str(seq)
 int [1:11, 1:2] 1 2 3 4 5 6 7 8 9 10 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:2] "seq1" "seq2"
>


On Mon, Dec 1, 2008 at 10:01 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> ?rbind
>
> Jeff
>
> On Mon, Dec 1, 2008 at 11:55 PM, Marc Delvaux <mdelvaux at gmail.com> wrote:
>> I am trying to do an incremental download of time series financial
>> data, with say 5 new points every time I do an download.  I am trying
>> to find a simple way to perform concatenation but I cannot seem to
>> find an easy way to do that.  I did find a way using
>> xts(c(coredata(seq1),coredata(seq2)),
>> order.by=c(time(seq1),time(seq2))), but this loses some information
>> that was present in seq1, and I was thinking there should be a simpler
>> way.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>


From jeff.a.ryan at gmail.com  Tue Dec  2 08:02:21 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 2 Dec 2008 01:02:21 -0600
Subject: [R-SIG-Finance] Concatenating time series objects?
In-Reply-To: <a010cefd0812012248k74a79dd3x5e26baa879068c0@mail.gmail.com>
References: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
	<e8e755250812012201x77be0ea5wf53aec41f82751e9@mail.gmail.com>
	<a010cefd0812012248k74a79dd3x5e26baa879068c0@mail.gmail.com>
Message-ID: <e8e755250812012302l37f3f475qf5bc862e30430e38@mail.gmail.com>

Hi Marc,

rbind and cbind are particularly difficult in R.

They are not true generic functions, but rather calls to .Internal
code.  This mean that the dispatch is very ... different :)

You can try calling rbind.xts directly -- that may indeed solve your problem.

This issue has been addressed in the new xts, which is being prepared
for release as I type this.  Basically I have added custom xts code (C
code) to bypass the dispatching quirks that arise from the entire
rbind->rbind.xts->rbind.zoo calling structure.

Again, the look and feel of zoo will remain intact, but the underlying
code is going to be different.  Precisely to address issues like this
that have been arising.

Jeff


On Tue, Dec 2, 2008 at 12:48 AM, Marc Delvaux <mdelvaux at gmail.com> wrote:
> I should have been more specific, rbind and cbind are the first
> solution I tried, but then the resulting object doesn't seem to be an
> xts :-(  It mostly look like one, but str reports it as such and the
> time information seems lost, at least to my eye.  I also tried merge,
> but this results in essentially a multivariate object, not in
> concatenation intime.
>
> see below for a toy example
>
>> seq1 <- xts(1:10,order.by=as.Date(a))
>> seq2 <- xts(1:10,order.by=as.Date(b))  << a and b are two consecutive sequences
>> str(seq1)
> An 'xts' object from 2008-12-02 to 2008-12-12 containing:
>  Data: int [1:11] 1 2 3 4 5 6 7 8 9 10 ...
>  Indexed by: Class 'Date'  int [1:11] 14215 14216 14217 14218 14219
> 14220 14221 14222 14223 14224 ...
>  xts Attributes:
>  NULL
>> seq <- rbind(seq1, seq2)
> Warning message:
> number of columns of result
>        is not a multiple of vector length (arg 2) in: rbind(1, seq1, seq2)
>> str(seq)
>  int [1:2, 1:11] 1 1 2 2 3 3 4 4 5 5 ...
>  - attr(*, "dimnames")=List of 2
>  ..$ : chr [1:2] "seq1" "seq2"
>  ..$ : NULL
>> seq <- cbind(seq1, seq2)
> Warning message:
> number of rows of result
>        is not a multiple of vector length (arg 2) in: cbind(1, seq1, seq2)
>> str(seq)
>  int [1:11, 1:2] 1 2 3 4 5 6 7 8 9 10 ...
>  - attr(*, "dimnames")=List of 2
>  ..$ : NULL
>  ..$ : chr [1:2] "seq1" "seq2"
>>
>
>
> On Mon, Dec 1, 2008 at 10:01 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
>> ?rbind
>>
>> Jeff
>>
>> On Mon, Dec 1, 2008 at 11:55 PM, Marc Delvaux <mdelvaux at gmail.com> wrote:
>>> I am trying to do an incremental download of time series financial
>>> data, with say 5 new points every time I do an download.  I am trying
>>> to find a simple way to perform concatenation but I cannot seem to
>>> find an easy way to do that.  I did find a way using
>>> xts(c(coredata(seq1),coredata(seq2)),
>>> order.by=c(time(seq1),time(seq2))), but this loses some information
>>> that was present in seq1, and I was thinking there should be a simpler
>>> way.
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>>
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From windspeedo at qq.com  Tue Dec  2 11:51:20 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Tue, 2 Dec 2008 18:51:20 +0800
Subject: [R-SIG-Finance] Any suitable backtest functions?
Message-ID: <tencent_1DB9EF5A5AD0DB5A65496439@qq.com>


There are  functions for charting and technical indicators in R, such as those in quantmod,. Are there any functions for backtesting, simple and efficient, which ould generate output as in the following webpage?
http://quantifiableedges.blogspot.com/2008/11/introducing-volume-spyx.html 

Most of the specialized backtest and trading platform can produce similar results for trading systems.  I wonder whether there are functions doing similar work in R.

Regards,
Wind

From ggrothendieck at gmail.com  Tue Dec  2 13:38:46 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 2 Dec 2008 07:38:46 -0500
Subject: [R-SIG-Finance] Concatenating time series objects?
In-Reply-To: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
References: <a010cefd0812012155j26fa6069u57c34e1dcb903c92@mail.gmail.com>
Message-ID: <971536df0812020438j6f325a06sd2c85f2b2b50d41@mail.gmail.com>

Do it in zoo and then convert to xts at the end:

z1 <- zooreg(1:10, as.Date("2008-01-01"))
z2 <- zooreg(1:10, as.Date("2008-02-01"))
z <- c(z1, z2)
x <- as.xts(z)

On Tue, Dec 2, 2008 at 12:55 AM, Marc Delvaux <mdelvaux at gmail.com> wrote:
> I am trying to do an incremental download of time series financial
> data, with say 5 new points every time I do an download.  I am trying
> to find a simple way to perform concatenation but I cannot seem to
> find an easy way to do that.  I did find a way using
> xts(c(coredata(seq1),coredata(seq2)),
> order.by=c(time(seq1),time(seq2))), but this loses some information
> that was present in seq1, and I was thinking there should be a simpler
> way.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From ag at jet-sa.ch  Tue Dec  2 13:53:19 2008
From: ag at jet-sa.ch (Arno gaboury)
Date: Tue, 2 Dec 2008 13:53:19 +0100
Subject: [R-SIG-Finance] IBrokers
Message-ID: <004201c9547c$f35bfe20$da13fa60$@ch>

Thank you Russ for all these details. I'll have a close look at
trading-shim, and see what the extra cost of Interactive Broker is.
Arno.


From ggrothendieck at gmail.com  Tue Dec  2 14:09:27 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Tue, 2 Dec 2008 08:09:27 -0500
Subject: [R-SIG-Finance] Any suitable backtest functions?
In-Reply-To: <tencent_1DB9EF5A5AD0DB5A65496439@qq.com>
References: <tencent_1DB9EF5A5AD0DB5A65496439@qq.com>
Message-ID: <971536df0812020509y7620f9b9ue830892d5c5852ec@mail.gmail.com>

There is the backtest package.

On Tue, Dec 2, 2008 at 5:51 AM, Wind <windspeedo at qq.com> wrote:
>
> There are  functions for charting and technical indicators in R, such as those in quantmod,. Are there any functions for backtesting, simple and efficient, which ould generate output as in the following webpage?
> http://quantifiableedges.blogspot.com/2008/11/introducing-volume-spyx.html
>
> Most of the specialized backtest and trading platform can produce similar results for trading systems.  I wonder whether there are functions doing similar work in R.
>
> Regards,
> Wind
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From rudolf.farys at googlemail.com  Tue Dec  2 18:15:44 2008
From: rudolf.farys at googlemail.com (Rudolf Farys)
Date: Tue, 2 Dec 2008 18:15:44 +0100
Subject: [R-SIG-Finance] Predict Arima with newxreg
Message-ID: <32b8bbd80812020915h7b822329s256f324b30b09484@mail.gmail.com>

Hi,

I estimated an arima model and kept some validation data. Now I want
to predict this validation data step by step.

So instead of forecast(fit, h=25) I tried something like predict(fit,
newxreg=mydata[76:100]). Also I tried to predict all 100 datapoints.
The model was built with the first 75 observations.

I get an error: "'xreg' und 'newxreg' have different number of columns".

Any idea how to either fix that problem, or what other package to use?

Thanks a lot for your help!
Rudolf Farys


From pplaizier at gmail.com  Tue Dec  2 22:06:08 2008
From: pplaizier at gmail.com (Pieter Plaizier)
Date: Tue, 2 Dec 2008 22:06:08 +0100
Subject: [R-SIG-Finance] Constrained OLS
Message-ID: <dcdf47a10812021306r48637170p99b361daa7401c77@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081202/6cea0c7e/attachment.pl>

From windspeedo at qq.com  Wed Dec  3 03:38:34 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Wed, 3 Dec 2008 10:38:34 +0800
Subject: [R-SIG-Finance] Any suitable backtest functions?
Message-ID: <tencent_69465C367F33C3FC0D0AC06B@qq.com>

I have checked backtest package.  it seems there is no such functions I needed.
I will check it again though.
Thanks Gabor.
 
 
------------------ Original ------------------
From:  "Gabor Grothendieck"<ggrothendieck at gmail.com>;
Date:  Tue, Dec 2, 2008 09:09 PM
To:  "Wind"<windspeedo at qq.com>; 
Cc:  "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
Subject:  Re: [R-SIG-Finance] Any suitable backtest functions?

 
There is the backtest package.

On Tue, Dec 2, 2008 at 5:51 AM, Wind <windspeedo at qq.com> wrote:
>
> There are  functions for charting and technical indicators in R, such as those in quantmod,. Are there any functions for backtesting, simple and efficient, which ould generate output as in the following webpage?
> http://quantifiableedges.blogspot.com/2008/11/introducing-volume-spyx.html
>
> Most of the specialized backtest and trading platform can produce similar results for trading systems.  I wonder whether there are functions doing similar work in R.
>
> Regards,
> Wind
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>

From brian at braverock.com  Wed Dec  3 04:27:53 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 02 Dec 2008 21:27:53 -0600
Subject: [R-SIG-Finance] Any suitable backtest functions?
In-Reply-To: <tencent_69465C367F33C3FC0D0AC06B@qq.com>
References: <tencent_69465C367F33C3FC0D0AC06B@qq.com>
Message-ID: <4935FCB9.1080000@braverock.com>

Wind wrote:
> I have checked backtest package.  it seems there is no such functions I needed.
> I will check it again though.
> Thanks Gabor.

Can you please be specific about what features you are looking for? 
There has been some discussion of creating a more generally applicable 
backtest framework, so I'm curious what your requirements might be, and 
how much effort you'd be willing to put into a shared effort.

Regards,

     - Brian

>  
> ------------------ Original ------------------
> From:  "Gabor Grothendieck"<ggrothendieck at gmail.com>;
> Date:  Tue, Dec 2, 2008 09:09 PM
> To:  "Wind"<windspeedo at qq.com>; 
> Cc:  "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
> Subject:  Re: [R-SIG-Finance] Any suitable backtest functions?
> 
>  
> There is the backtest package.
> 
> On Tue, Dec 2, 2008 at 5:51 AM, Wind <windspeedo at qq.com> wrote:
>> There are  functions for charting and technical indicators in R, such as those in quantmod,. Are there any functions for backtesting, simple and efficient, which ould generate output as in the following webpage?
>> http://quantifiableedges.blogspot.com/2008/11/introducing-volume-spyx.html
>>
>> Most of the specialized backtest and trading platform can produce similar results for trading systems.  I wonder whether there are functions doing similar work in R.
>>
>> Regards,
>> Wind
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From windspeedo at qq.com  Wed Dec  3 09:26:47 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Wed, 3 Dec 2008 16:26:47 +0800
Subject: [R-SIG-Finance] Any suitable backtest functions?
Message-ID: <tencent_4F60B7A15980E527422615BD@qq.com>

As the first step, I would want to get results similar to those in the following web page:
http://quantifiableedges.blogspot.com/2008/11/volume-spyx-indicator-suggesting.html
which is the ordinary output of most of the backtest software such as Wealth Lab and Right Edge.
That is, calculating the future yield after each signal, output the results both in statistical terms and in simple yield /loss terms.  
The final goal is doing backtesting purely in R.    I think R could replace software as Wealth Lab and Right Edge in backtesting.    It would be my main task recently.

According to googling and others' reply, I may start to do this job by myself since I could not find such functions.
I am willing to take part in joint effort in such topics.  But as you may noticed, I am just a newbie to R, struggling using R in investment.   Anyway, if there were something I could do, it would be my pleasure.   Lots of people as you and Jeff have already helped me a lot.
 
Regards,
Wind
http://windspeedo.spaces.live.com/default.aspx


 
------------------ Original ------------------
From:  "Brian G. Peterson"<brian at braverock.com>;
Date:  Wed, Dec 3, 2008 11:27 AM
To:  "Wind"<windspeedo at qq.com>; 
Cc:  "Gabor Grothendieck"<ggrothendieck at gmail.com>; "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
Subject:  Re: [R-SIG-Finance] Any suitable backtest functions?

Can you please be specific about what features you are looking for? 
There has been some discussion of creating a more generally applicable 
backtest framework, so I'm curious what your requirements might be, and 
how much effort you'd be willing to put into a shared effort.

Regards,

     - Brian

>  
> ------------------ Original ------------------
> From:  "Gabor Grothendieck"<ggrothendieck at gmail.com>;
> Date:  Tue, Dec 2, 2008 09:09 PM
> To:  "Wind"<windspeedo at qq.com>; 
> Cc:  "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
> Subject:  Re: [R-SIG-Finance] Any suitable backtest functions?
> 
>  
> There is the backtest package.
> 
> On Tue, Dec 2, 2008 at 5:51 AM, Wind <windspeedo at qq.com> wrote:
>> There are  functions for charting and technical indicators in R, such as those in quantmod,. Are there any functions for backtesting, simple and efficient, which ould generate output as in the following webpage?
>> http://quantifiableedges.blogspot.com/2008/11/introducing-volume-spyx.html
>>
>> Most of the specialized backtest and trading platform can produce similar results for trading systems.  I wonder whether there are functions doing similar work in R.
>>
>> Regards,
>> Wind
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

From singularitaet at gmx.net  Wed Dec  3 09:43:00 2008
From: singularitaet at gmx.net (Stefan Grosse)
Date: Wed, 03 Dec 2008 09:43:00 +0100
Subject: [R-SIG-Finance] Bug in fArma: does not accept variables as input
Message-ID: <49364694.9030209@gmx.net>

Hi,

I believe I found a bug in the r-metrics' fArma package. armaFit does
not accept variable input:

library(fArma)
x = armaSim(model = list(ar = c(0.5, -0.5), ma = 0.1), n = 1000)
# direct parameter input works:
fit1 = armaFit(~ arma(2, 1), data = x)
print(fit1)
# parameters via variables do not work:
ar.ord=2
ma.ord=1
fit2 = armaFit(~ arma(ar.ord, ma.ord), data = x)
# error!:
Error in if (!is.numeric(order) || length(order) != 3 || any(order < 0))
stop("'order' must be a non-negative numeric vector of length 3") :
  missing value where TRUE/FALSE needed
In addition: Warning messages:
1: In armaFit(~arma(ar.ord, ma.ord), data = x) :
  NAs introduced by coercion
2: In armaFit(~arma(ar.ord, ma.ord), data = x) :
  NAs introduced by coercion

It works of course with the arima function of R:

fit3=arima(x,order=c(ar.ord,0,ma.ord))
fit3

I tried the newest cran package 270.74 of fArma and the newest r-forge
package which is 290.75. I am using R-2.8.0 on Win Vista Business.

I tried to find a possibility to file a bug on r-forge but was not
successful (Where can I file bugs?)

Regards
Stefan Grosse


From vlanschot at yahoo.com  Wed Dec  3 11:32:02 2008
From: vlanschot at yahoo.com (R@Nabble)
Date: Wed, 3 Dec 2008 02:32:02 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] How to get individual object from
	S4-class
Message-ID: <20810396.post@talk.nabble.com>


No doubt a simple question, but I've been struggling to get to the individual
objects/components returned in a list of an S4-class, i.e.
name$component_name doesn't work. Any help appreciated.
-- 
View this message in context: http://www.nabble.com/How-to-get-individual-object-from-S4-class-tp20810396p20810396.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From vlanschot at yahoo.com  Wed Dec  3 12:15:43 2008
From: vlanschot at yahoo.com (R@Nabble)
Date: Wed, 3 Dec 2008 03:15:43 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] How to get individual object
	from S4-class
In-Reply-To: <20810396.post@talk.nabble.com>
References: <20810396.post@talk.nabble.com>
Message-ID: <20811035.post@talk.nabble.com>


Never mind, got it: used @.

R at Nabble wrote:
> 
> No doubt a simple question, but I've been struggling to get to the
> individual objects/components returned in a list of an S4-class, i.e.
> name$component_name doesn't work. Any help appreciated.
> 

-- 
View this message in context: http://www.nabble.com/How-to-get-individual-object-from-S4-class-tp20810396p20811035.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From windspeedo at qq.com  Wed Dec  3 15:34:09 2008
From: windspeedo at qq.com (Wind2)
Date: Wed, 3 Dec 2008 06:34:09 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] Any suitable backtest functions?
In-Reply-To: <4935FCB9.1080000@braverock.com>
References: <tencent_1DB9EF5A5AD0DB5A65496439@qq.com>
	<tencent_69465C367F33C3FC0D0AC06B@qq.com>
	<4935FCB9.1080000@braverock.com>
Message-ID: <20814024.post@talk.nabble.com>


After learning from replies of the list, I think maybe I shoud not use
'backtest' here.
I am new to R so my future job would consist of  two phase.

Phase One:  Analysis of Signals.
Step 1.  Signal generating:   All trading systems should have signals for
trade.  Even the trading system of the great Simons, I think.    Signal
generating would be the first step, using technical indicators, fundamental
changes, news, statistical  indicators or whatever you like.   The
flexibility of R?makes it the best candidate for signal generating in
prototyping process.  But it would be hard to define some univesal functions
for signal generating.  
Step 2.  Signal analysis:   If we generate trading signals according to some
specific ideas, then, the 2nd step would be analyzing the statistical
pattern of such signals and the following yeild/risk pattern.   The
frequence of the signal, the distribution of the signals.  If the signal is
some threshold of an indicator, then the distribution of the indicator. and
so on.  And the maximum yeild/risk during the following days/months.   There
would be different yeild/risk distribution pattern in different time frames.  
The most useful output would be histgram and charts and so on since I don't
think such distributions would obey specific classical distributions in
textbook.    I wonder whether there are some packages help me in the step 2.   
Indeed, there would be difference between studies on single instruments such
as futures of euro or  index and studies on stocks in a stock market.    The
latter should consider the sorting of thousands of stocks. 

If there are some signal robust and significant in alpha generating, then
comes the phase two.
Phase Two: Backtest/Simulation.
There maybe some packages focusing in this phase.  Maybe not.  Backtest for
stock markets is different from backtest for single instrument.    

It's the step 2 of phase 1 that I am most interested in currently.  So I
think maybe I should not use 'backtest' in the topic.   

Regards,
Wind


Wind wrote:
> I have checked backtest package.  it seems there is no such functions I
> needed.
> I will check it again though.
> Thanks Gabor.

Can you please be specific about what features you are looking for? 
There has been some discussion of creating a more generally applicable 
backtest framework, so I'm curious what your requirements might be, and 
how much effort you'd be willing to put into a shared effort.

Regards,

     - Brian

-- 
View this message in context: http://www.nabble.com/Any-suitable-backtest-functions--tp20789888p20814024.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jkonn2001 at yahoo.com  Wed Dec  3 15:45:45 2008
From: jkonn2001 at yahoo.com (J Konnonen)
Date: Wed, 3 Dec 2008 06:45:45 -0800 (PST)
Subject: [R-SIG-Finance] data handling with timeSeries
Message-ID: <76859.76077.qm@web59401.mail.ac4.yahoo.com>

Dear All,

I met some problems with data handling when using the timeSeries library

I have some csv files, each containing two columns, first column are the series of dates, second are the series prices 

I read in all files using, and create a matrix with the dates in the first column, and the calculated returns in the remaining columns

> library(timeSeries)

> returnsdata <- read.csv("foo1.csv",header=T,sep=",")
> attach(returnsdata)
> foo1 = as.timeSeries(returnsdata)
> foo1bind <- returns(window(foo1, start=2007-01-01, end=2007-12-31))

> returnsdata <- read.csv("foo2.csv",header=T,sep=",")
> attach(returnsdata)
> foo2 = as.timeSeries(returnsdata)
> foo2bind <- returns(window(foo2, start=2007-01-01, end=2007-12-31))

> ralls <- cbind(foo1bind,foo2bind)
> colnames(ralls) <- c("FOO1","FOO2")  

And then I would like to have the last 1000 lines of this matrix for some computations

> index <- ... #some value
> past1000 <- ralls[(index-1000):(index-1)]
           
But 
> print(past1000) 
shows that past1000 doesn't contain either the column of dates, nor the header line, only the columns of returns  

Also 
> print(is.timeSeries(past1000))
returns FALSE, and although I attempted several conversions on past1000, which resulted this check to be TRUE, the effective content of past1000 didn't seem to be changed, still no dates were printed

And despite
> print(is.timeSeries(ralls))
returns TRUE, and printing the whole ralls object contains the dates column and the header
> print(ralls at .Data[,1])           
returns only the second column of ralls (that is, the first column of returns) and no date column is displayed. This seems to indicate that perhaps there is already some problem with ralls, rooted possibly in the datafile reading and binding?           

The expectation would be to have past1000 an object where the first column contains the dates, and the remaining columns contain the returns, but I couldn't figure it out so far.

Any suggestion is very much appreciated.

Best regards,
/Johan


From jeff.a.ryan at gmail.com  Wed Dec  3 16:21:33 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 3 Dec 2008 09:21:33 -0600
Subject: [R-SIG-Finance] data handling with timeSeries
In-Reply-To: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
Message-ID: <e8e755250812030721y1dfe6cd1pe906b7b54d811@mail.gmail.com>

Try:

past1000 <- ralls[(index-1000):(index-1),   ]   # the comma is critical

> z <- zoo(1:10, Sys.Date()+1:10)
> as.timeSeries(z)
GMT
            x
2008-12-04  1
2008-12-05  2
2008-12-06  3
2008-12-07  4
2008-12-08  5
2008-12-09  6
2008-12-10  7
2008-12-11  8
2008-12-12  9
2008-12-13 10
> as.timeSeries(z)[1:3]
[1] 1 2 3
> as.timeSeries(z)[1:3,]
GMT
           x
2008-12-04 1
2008-12-05 2
2008-12-06 3

HTH
Jeff


On Wed, Dec 3, 2008 at 8:45 AM, J Konnonen <jkonn2001 at yahoo.com> wrote:
> Dear All,
>
> I met some problems with data handling when using the timeSeries library
>
> I have some csv files, each containing two columns, first column are the series of dates, second are the series prices
>
> I read in all files using, and create a matrix with the dates in the first column, and the calculated returns in the remaining columns
>
>> library(timeSeries)
>
>> returnsdata <- read.csv("foo1.csv",header=T,sep=",")
>> attach(returnsdata)
>> foo1 = as.timeSeries(returnsdata)
>> foo1bind <- returns(window(foo1, start=2007-01-01, end=2007-12-31))
>
>> returnsdata <- read.csv("foo2.csv",header=T,sep=",")
>> attach(returnsdata)
>> foo2 = as.timeSeries(returnsdata)
>> foo2bind <- returns(window(foo2, start=2007-01-01, end=2007-12-31))
>
>> ralls <- cbind(foo1bind,foo2bind)
>> colnames(ralls) <- c("FOO1","FOO2")
>
> And then I would like to have the last 1000 lines of this matrix for some computations
>
>> index <- ... #some value
>> past1000 <- ralls[(index-1000):(index-1)]
>
> But
>> print(past1000)
> shows that past1000 doesn't contain either the column of dates, nor the header line, only the columns of returns
>
> Also
>> print(is.timeSeries(past1000))
> returns FALSE, and although I attempted several conversions on past1000, which resulted this check to be TRUE, the effective content of past1000 didn't seem to be changed, still no dates were printed
>
> And despite
>> print(is.timeSeries(ralls))
> returns TRUE, and printing the whole ralls object contains the dates column and the header
>> print(ralls at .Data[,1])
> returns only the second column of ralls (that is, the first column of returns) and no date column is displayed. This seems to indicate that perhaps there is already some problem with ralls, rooted possibly in the datafile reading and binding?
>
> The expectation would be to have past1000 an object where the first column contains the dates, and the remaining columns contain the returns, but I couldn't figure it out so far.
>
> Any suggestion is very much appreciated.
>
> Best regards,
> /Johan
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From ggrothendieck at gmail.com  Wed Dec  3 16:33:43 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 3 Dec 2008 10:33:43 -0500
Subject: [R-SIG-Finance] data handling with timeSeries
In-Reply-To: <e8e755250812030721y1dfe6cd1pe906b7b54d811@mail.gmail.com>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
	<e8e755250812030721y1dfe6cd1pe906b7b54d811@mail.gmail.com>
Message-ID: <971536df0812030733w1bef6fa2tc8063d686fbb875d@mail.gmail.com>

Also tail(z, 1000) gives the last 1000 points of zoo object z.

On Wed, Dec 3, 2008 at 10:21 AM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Try:
>
> past1000 <- ralls[(index-1000):(index-1),   ]   # the comma is critical
>
>> z <- zoo(1:10, Sys.Date()+1:10)
>> as.timeSeries(z)
> GMT
>            x
> 2008-12-04  1
> 2008-12-05  2
> 2008-12-06  3
> 2008-12-07  4
> 2008-12-08  5
> 2008-12-09  6
> 2008-12-10  7
> 2008-12-11  8
> 2008-12-12  9
> 2008-12-13 10
>> as.timeSeries(z)[1:3]
> [1] 1 2 3
>> as.timeSeries(z)[1:3,]
> GMT
>           x
> 2008-12-04 1
> 2008-12-05 2
> 2008-12-06 3
>
> HTH
> Jeff
>
>
> On Wed, Dec 3, 2008 at 8:45 AM, J Konnonen <jkonn2001 at yahoo.com> wrote:
>> Dear All,
>>
>> I met some problems with data handling when using the timeSeries library
>>
>> I have some csv files, each containing two columns, first column are the series of dates, second are the series prices
>>
>> I read in all files using, and create a matrix with the dates in the first column, and the calculated returns in the remaining columns
>>
>>> library(timeSeries)
>>
>>> returnsdata <- read.csv("foo1.csv",header=T,sep=",")
>>> attach(returnsdata)
>>> foo1 = as.timeSeries(returnsdata)
>>> foo1bind <- returns(window(foo1, start=2007-01-01, end=2007-12-31))
>>
>>> returnsdata <- read.csv("foo2.csv",header=T,sep=",")
>>> attach(returnsdata)
>>> foo2 = as.timeSeries(returnsdata)
>>> foo2bind <- returns(window(foo2, start=2007-01-01, end=2007-12-31))
>>
>>> ralls <- cbind(foo1bind,foo2bind)
>>> colnames(ralls) <- c("FOO1","FOO2")
>>
>> And then I would like to have the last 1000 lines of this matrix for some computations
>>
>>> index <- ... #some value
>>> past1000 <- ralls[(index-1000):(index-1)]
>>
>> But
>>> print(past1000)
>> shows that past1000 doesn't contain either the column of dates, nor the header line, only the columns of returns
>>
>> Also
>>> print(is.timeSeries(past1000))
>> returns FALSE, and although I attempted several conversions on past1000, which resulted this check to be TRUE, the effective content of past1000 didn't seem to be changed, still no dates were printed
>>
>> And despite
>>> print(is.timeSeries(ralls))
>> returns TRUE, and printing the whole ralls object contains the dates column and the header
>>> print(ralls at .Data[,1])
>> returns only the second column of ralls (that is, the first column of returns) and no date column is displayed. This seems to indicate that perhaps there is already some problem with ralls, rooted possibly in the datafile reading and binding?
>>
>> The expectation would be to have past1000 an object where the first column contains the dates, and the remaining columns contain the returns, but I couldn't figure it out so far.
>>
>> Any suggestion is very much appreciated.
>>
>> Best regards,
>> /Johan
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From chalabi at phys.ethz.ch  Wed Dec  3 18:30:42 2008
From: chalabi at phys.ethz.ch (Yohan Chalabi)
Date: Wed, 3 Dec 2008 18:30:42 +0100
Subject: [R-SIG-Finance] data handling with timeSeries
In-Reply-To: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
Message-ID: <20081203183042.418bd732@mimi>

>>>> "JK" == J Konnonen <jkonn2001 at yahoo.com>
>>>> on Wed, 3 Dec 2008 06:45:45 -0800 (PST)

   JK> Dear All,
   JK> 
   JK> I met some problems with data handling when using the timeSeries library
   JK> 
   JK> I have some csv files, each containing two columns, first column are the series of dates, second are the series prices 
   JK> 
   JK> I read in all files using, and create a matrix with the dates in the first column, and the calculated returns in the remaining columns
   JK> 
   JK> > library(timeSeries)
   JK> 
   JK> > returnsdata <- read.csv("foo1.csv",header=T,sep=",")
   JK> > attach(returnsdata)
   JK> > foo1 = as.timeSeries(returnsdata)
   JK> > foo1bind <- returns(window(foo1, start=2007-01-01, end=2007-12-31))
   JK> 
   JK> > returnsdata <- read.csv("foo2.csv",header=T,sep=",")
   JK> > attach(returnsdata)
   JK> > foo2 = as.timeSeries(returnsdata)
   JK> > foo2bind <- returns(window(foo2, start=2007-01-01, end=2007-12-31))
   JK> 
   JK> > ralls <- cbind(foo1bind,foo2bind)
   JK> > colnames(ralls) <- c("FOO1","FOO2")  
   JK> 
   JK> And then I would like to have the last 1000 lines of this matrix for some computations
   JK> 
   JK> > index <- ... #some value
   JK> > past1000 <- ralls[(index-1000):(index-1)]

you are missing the comma ! This is why you get back a vector. This is
the same behaviour as with a matrix. Without a comma you do not know if
you subset in the rows and columns.

I suppose you wanted to use

ralls[(index-1000):(index-1),]

Note you could use the function tail()

   JK>            
   JK> But 
   JK> > print(past1000) 
   JK> shows that past1000 doesn't contain either the column of dates, nor the header line, only the columns of returns  
   JK> 
   JK> Also 
   JK> > print(is.timeSeries(past1000))
   JK> returns FALSE, and although I attempted several conversions on past1000, which resulted this check to be TRUE, the effective content of past1000 didn't seem to be changed, still no dates were printed
   JK> 
   JK> And despite
   JK> > print(is.timeSeries(ralls))
   JK> returns TRUE, and printing the whole ralls object contains the dates column and the header
   JK> > print(ralls at .Data[,1])           
   JK> returns only the second column of ralls (that is, the first column of returns) and no date column is displayed. This seems to indicate that perhaps there is already some problem with ralls, rooted possibly in the datafile reading and binding?           
   JK> 
   JK> The expectation would be to have past1000 an object where the first column contains the dates, and the remaining columns contain the returns, but I couldn't figure it out so far.
   JK> 
   JK> Any suggestion is very much appreciated.
   JK> 
   JK> Best regards,
   JK> /Johan
   JK> 
   JK> _______________________________________________
   JK> R-SIG-Finance at stat.math.ethz.ch mailing list
   JK> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
   JK> -- Subscriber-posting only.
   JK> -- If you want to post, subscribe first.


-- 
PhD student
Swiss Federal Institute of Technology
Zurich

www.ethz.ch


From sprohl at na.uni-tuebingen.de  Fri Dec  5 12:10:44 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Fri, 5 Dec 2008 12:10:44 +0100 (CET)
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <20081203183042.418bd732@mimi>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
	<20081203183042.418bd732@mimi>
Message-ID: <3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>

Dear All,
I have some problems with downloading and matching daily data
of irregular frequency. I tried to apply zoo-codes to read file

data<-read.zoo("C://data.txt",sep="",format="%Y %b %d")
and get the following message:

Fehler in scan(file, what, nmax, sep, dec, quote, skip, nlines,
na.strings,  :  Zeile 31 hatte keine 2 Elemente

The data has missing values. How could I properly download them as
time series and match different datasets by "Date". Unfrtunately,
conventional procedures do not work properly.
Thanks in advance,
Soeren



>>>>> "JK" == J Konnonen <jkonn2001 at yahoo.com>
>>>>> on Wed, 3 Dec 2008 06:45:45 -0800 (PST)
>
>    JK> Dear All,
>    JK>
>    JK> I met some problems with data handling when using the timeSeries
> library
>    JK>
>    JK> I have some csv files, each containing two columns, first column
> are the series of dates, second are the series prices
>    JK>
>    JK> I read in all files using, and create a matrix with the dates in
> the first column, and the calculated returns in the remaining columns
>    JK>
>    JK> > library(timeSeries)
>    JK>
>    JK> > returnsdata <- read.csv("foo1.csv",header=T,sep=",")
>    JK> > attach(returnsdata)
>    JK> > foo1 = as.timeSeries(returnsdata)
>    JK> > foo1bind <- returns(window(foo1, start=2007-01-01,
> end=2007-12-31))
>    JK>
>    JK> > returnsdata <- read.csv("foo2.csv",header=T,sep=",")
>    JK> > attach(returnsdata)
>    JK> > foo2 = as.timeSeries(returnsdata)
>    JK> > foo2bind <- returns(window(foo2, start=2007-01-01,
> end=2007-12-31))
>    JK>
>    JK> > ralls <- cbind(foo1bind,foo2bind)
>    JK> > colnames(ralls) <- c("FOO1","FOO2")
>    JK>
>    JK> And then I would like to have the last 1000 lines of this matrix
> for some computations
>    JK>
>    JK> > index <- ... #some value
>    JK> > past1000 <- ralls[(index-1000):(index-1)]
>
> you are missing the comma ! This is why you get back a vector. This is
> the same behaviour as with a matrix. Without a comma you do not know if
> you subset in the rows and columns.
>
> I suppose you wanted to use
>
> ralls[(index-1000):(index-1),]
>
> Note you could use the function tail()
>
>    JK>
>    JK> But
>    JK> > print(past1000)
>    JK> shows that past1000 doesn't contain either the column of dates, nor
> the header line, only the columns of returns
>    JK>
>    JK> Also
>    JK> > print(is.timeSeries(past1000))
>    JK> returns FALSE, and although I attempted several conversions on
> past1000, which resulted this check to be TRUE, the effective content
> of past1000 didn't seem to be changed, still no dates were printed
>    JK>
>    JK> And despite
>    JK> > print(is.timeSeries(ralls))
>    JK> returns TRUE, and printing the whole ralls object contains the
> dates column and the header
>    JK> > print(ralls at .Data[,1])
>    JK> returns only the second column of ralls (that is, the first column
> of returns) and no date column is displayed. This seems to indicate
> that perhaps there is already some problem with ralls, rooted possibly
> in the datafile reading and binding?
>    JK>
>    JK> The expectation would be to have past1000 an object where the first
> column contains the dates, and the remaining columns contain the
> returns, but I couldn't figure it out so far.
>    JK>
>    JK> Any suggestion is very much appreciated.
>    JK>
>    JK> Best regards,
>    JK> /Johan
>    JK>
>    JK> _______________________________________________
>    JK> R-SIG-Finance at stat.math.ethz.ch mailing list
>    JK> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>    JK> -- Subscriber-posting only.
>    JK> -- If you want to post, subscribe first.
>
>
> --
> PhD student
> Swiss Federal Institute of Technology
> Zurich
>
> www.ethz.ch
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From brian at braverock.com  Fri Dec  5 13:03:47 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 05 Dec 2008 06:03:47 -0600
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>	<20081203183042.418bd732@mimi>
	<3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>
Message-ID: <493918A3.3050609@braverock.com>

Please attach a short sample of your data file that replicates your error.

sprohl at na.uni-tuebingen.de wrote:
> Dear All,
> I have some problems with downloading and matching daily data
> of irregular frequency. I tried to apply zoo-codes to read file
> 
> data<-read.zoo("C://data.txt",sep="",format="%Y %b %d")
> and get the following message:
> 
> Fehler in scan(file, what, nmax, sep, dec, quote, skip, nlines,
> na.strings,  :  Zeile 31 hatte keine 2 Elemente
> 
> The data has missing values. How could I properly download them as
> time series and match different datasets by "Date". Unfrtunately,
> conventional procedures do not work properly.
> Thanks in advance,
> Soeren


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From babel at centrum.sk  Fri Dec  5 13:08:21 2008
From: babel at centrum.sk (babel at centrum.sk)
Date: Fri, 05 Dec 2008 13:08:21 +0100
Subject: [R-SIG-Finance] periodogram
Message-ID: <200812051308.18022@centrum.cz>

Hello R
I have a problem with periodogram. I cant find the suitable function for this. I would like to plot correlograms with the ACF function acf(x) and then the corresponding periodogram. But the periodograms I found in the R package GeneCycle and stats does not produce the desired output for me. I will prefer something like the Statgraphic produce (the image in appendix). Can you help me please with this beginners question?
Thank you in progress. 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 16122 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081205/61f8a5b6/attachment.jpe>

From sprohl at na.uni-tuebingen.de  Fri Dec  5 14:50:34 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Fri, 5 Dec 2008 14:50:34 +0100 (CET)
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <493918A3.3050609@braverock.com>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
	<20081203183042.418bd732@mimi>
	<3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>
	<493918A3.3050609@braverock.com>
Message-ID: <3312.130.60.242.127.1228485034.squirrel@nastclv4.mathematik.uni-tuebingen.de>

Hello Brian,
please find attached sample of the data
data[1:5,]
  X2002.07.01 X0.0071
1  2002-07-02  0.0072
2  2002-07-03  0.0072
3  2002-07-04  0.0073
4  2002-07-05  0.0073
5  2002-07-08  0.0073
str(data)
'data.frame':   1503 obs. of  2 variables:
 $ X2002.07.01: Factor w/ 1503 levels "2002-07-02","2002-07-03",..: 1 2 3
4 5 6 7 8 9 10 ...
 $ X0.0071    : num  0.0072 0.0072 0.0073 0.0073 0.0073 0.0073 0.0073
0.0073 0.0073 0.0074 ...
datas<-as.xts(data)
Fehler in as.POSIXlt.character(x, tz, ...) :
character string is not in a standard unambiguous format

How could I convert the data to xts?
Thank in advance,
Soeren





Please attach a short sample of your data file that replicates your error.
>
> sprohl at na.uni-tuebingen.de wrote:
>> Dear All,
>> I have some problems with downloading and matching daily data
>> of irregular frequency. I tried to apply zoo-codes to read file
>>
>> data<-read.zoo("C://data.txt",sep="",format="%Y %b %d")
>> and get the following message:
>>
>> Fehler in scan(file, what, nmax, sep, dec, quote, skip, nlines,
>> na.strings,  :  Zeile 31 hatte keine 2 Elemente
>>
>> The data has missing values. How could I properly download them as
>> time series and match different datasets by "Date". Unfrtunately,
>> conventional procedures do not work properly.
>> Thanks in advance,
>> Soeren
>
>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>


From albertosantini at gmail.com  Fri Dec  5 14:58:25 2008
From: albertosantini at gmail.com (Alberto Santini)
Date: Fri, 5 Dec 2008 05:58:25 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] IRR - Calculation in R
In-Reply-To: <20081127141209.18660@gmx.net>
References: <20081127141209.18660@gmx.net>
Message-ID: <20854303.post@talk.nabble.com>



Thomas Etheber wrote:
> 
> can anyone recommend a comfortable package for the calculations of the
> internal rate of return (IRR)?
> 

I developed a tiny routine to emulate the XIRR function of Excel.

http://albertosantini.blogspot.com/2008/01/xirr.html

Hope that helps,
Alberto Santini

-- 
View this message in context: http://www.nabble.com/IRR---Calculation-in-R-tp20719955p20854303.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From jeff.a.ryan at gmail.com  Fri Dec  5 16:23:45 2008
From: jeff.a.ryan at gmail.com (jeff.a.ryan at gmail.com)
Date: Fri, 05 Dec 2008 15:23:45 +0000
Subject: [R-SIG-Finance] (no subject)
Message-ID: <00032557a0d652786f045d4e436e@google.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081205/a0bf4459/attachment.pl>

From josh.m.ulrich at gmail.com  Fri Dec  5 16:29:05 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Fri, 5 Dec 2008 09:29:05 -0600
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <3312.130.60.242.127.1228485034.squirrel@nastclv4.mathematik.uni-tuebingen.de>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
	<20081203183042.418bd732@mimi>
	<3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>
	<493918A3.3050609@braverock.com>
	<3312.130.60.242.127.1228485034.squirrel@nastclv4.mathematik.uni-tuebingen.de>
Message-ID: <8cca69990812050729t139aac12j923463615fba9f95@mail.gmail.com>

Hi Soeren,

It appears the function you used to read your data into R expected the
file to contain a header row.  You should use the equivalent of
read.csv(file, header=FALSE).

as.xts() works on data.frames that have rownames.  The default is to
convert the rownames to POSIXct.

I recommend you try:
datas <- xts(data[,-1],as.POSIXct(data[,1]))

Best,
Josh
--
http://quantemplation.blogspot.com



On Fri, Dec 5, 2008 at 7:50 AM,  <sprohl at na.uni-tuebingen.de> wrote:
> Hello Brian,
> please find attached sample of the data
> data[1:5,]
>  X2002.07.01 X0.0071
> 1  2002-07-02  0.0072
> 2  2002-07-03  0.0072
> 3  2002-07-04  0.0073
> 4  2002-07-05  0.0073
> 5  2002-07-08  0.0073
> str(data)
> 'data.frame':   1503 obs. of  2 variables:
>  $ X2002.07.01: Factor w/ 1503 levels "2002-07-02","2002-07-03",..: 1 2 3
> 4 5 6 7 8 9 10 ...
>  $ X0.0071    : num  0.0072 0.0072 0.0073 0.0073 0.0073 0.0073 0.0073
> 0.0073 0.0073 0.0074 ...
> datas<-as.xts(data)
> Fehler in as.POSIXlt.character(x, tz, ...) :
> character string is not in a standard unambiguous format
>
> How could I convert the data to xts?
> Thank in advance,
> Soeren
>
>
>
>
>
> Please attach a short sample of your data file that replicates your error.
>>
>> sprohl at na.uni-tuebingen.de wrote:
>>> Dear All,
>>> I have some problems with downloading and matching daily data
>>> of irregular frequency. I tried to apply zoo-codes to read file
>>>
>>> data<-read.zoo("C://data.txt",sep="",format="%Y %b %d")
>>> and get the following message:
>>>
>>> Fehler in scan(file, what, nmax, sep, dec, quote, skip, nlines,
>>> na.strings,  :  Zeile 31 hatte keine 2 Elemente
>>>
>>> The data has missing values. How could I properly download them as
>>> time series and match different datasets by "Date". Unfrtunately,
>>> conventional procedures do not work properly.
>>> Thanks in advance,
>>> Soeren
>>
>>
>> --
>> Brian G. Peterson
>> http://braverock.com/brian/
>> Ph: 773-459-4973
>> IM: bgpbraverock
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From brian at braverock.com  Fri Dec  5 16:35:12 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 5 Dec 2008 09:35:12 -0600 (CST)
Subject: [R-SIG-Finance] periodogram
In-Reply-To: <200812051308.18022@centrum.cz>
References: <200812051308.18022@centrum.cz>
Message-ID: <41873.199.198.251.108.1228491312.squirrel@mail.braverock.com>

On Fri, December 5, 2008 6:08 am, babel at centrum.sk wrote:
> Hello R
> I have a problem with periodogram. I cant find the suitable function for
> this. I would like to plot correlograms with the ACF function acf(x) and
> then the corresponding periodogram. But the periodograms I found in the R
> package GeneCycle and stats does not produce the desired output for me. I
> will prefer something like the Statgraphic produce (the image in
> appendix). Can you help me please with this beginners question?
> Thank you in progress.

chart.ACFplus in PerformanceAnalytics includes both the acf and the pacf
of the residuals.  It should be relatively simple to extend this code to
include a periodogram if you have *any* periodogram code that works.  We'd
be happy to collaborate with you on such an extension.

Regards,

   - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From sprohl at na.uni-tuebingen.de  Fri Dec  5 16:35:48 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Fri, 5 Dec 2008 16:35:48 +0100 (CET)
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <8cca69990812050729t139aac12j923463615fba9f95@mail.gmail.com>
References: <76859.76077.qm@web59401.mail.ac4.yahoo.com>
	<20081203183042.418bd732@mimi>
	<3180.130.60.242.127.1228475444.squirrel@nastclv4.mathematik.uni-tuebingen.de>
	<493918A3.3050609@braverock.com>
	<3312.130.60.242.127.1228485034.squirrel@nastclv4.mathematik.uni-tuebingen.de>
	<8cca69990812050729t139aac12j923463615fba9f95@mail.gmail.com>
Message-ID: <3376.130.60.242.127.1228491348.squirrel@nastclv4.mathematik.uni-tuebingen.de>

> Hi Josh,

thanks for this suggetsion. I tried to read the data in this way and
to convert in xts, and get the following message
data <- xts(data[,-1],as.POSIXct(data[,1]))
Fehler in as.POSIXlt.character(as.character(x)) :
character string is not in a standard unambiguous format

Do you know what is going wrong?
Thanks in advance,
Best,
Soeren



Hi Soeren,
>
> It appears the function you used to read your data into R expected the
> file to contain a header row.  You should use the equivalent of
> read.csv(file, header=FALSE).
>
> as.xts() works on data.frames that have rownames.  The default is to
> convert the rownames to POSIXct.
>
> I recommend you try:
> datas <- xts(data[,-1],as.POSIXct(data[,1]))
>
> Best,
> Josh
> --
> http://quantemplation.blogspot.com
>
>
>
> On Fri, Dec 5, 2008 at 7:50 AM,  <sprohl at na.uni-tuebingen.de> wrote:
>> Hello Brian,
>> please find attached sample of the data
>> data[1:5,]
>>  X2002.07.01 X0.0071
>> 1  2002-07-02  0.0072
>> 2  2002-07-03  0.0072
>> 3  2002-07-04  0.0073
>> 4  2002-07-05  0.0073
>> 5  2002-07-08  0.0073
>> str(data)
>> 'data.frame':   1503 obs. of  2 variables:
>>  $ X2002.07.01: Factor w/ 1503 levels "2002-07-02","2002-07-03",..: 1 2
>> 3
>> 4 5 6 7 8 9 10 ...
>>  $ X0.0071    : num  0.0072 0.0072 0.0073 0.0073 0.0073 0.0073 0.0073
>> 0.0073 0.0073 0.0074 ...
>> datas<-as.xts(data)
>> Fehler in as.POSIXlt.character(x, tz, ...) :
>> character string is not in a standard unambiguous format
>>
>> How could I convert the data to xts?
>> Thank in advance,
>> Soeren
>>
>>
>>
>>
>>
>> Please attach a short sample of your data file that replicates your
>> error.
>>>
>>> sprohl at na.uni-tuebingen.de wrote:
>>>> Dear All,
>>>> I have some problems with downloading and matching daily data
>>>> of irregular frequency. I tried to apply zoo-codes to read file
>>>>
>>>> data<-read.zoo("C://data.txt",sep="",format="%Y %b %d")
>>>> and get the following message:
>>>>
>>>> Fehler in scan(file, what, nmax, sep, dec, quote, skip, nlines,
>>>> na.strings,  :  Zeile 31 hatte keine 2 Elemente
>>>>
>>>> The data has missing values. How could I properly download them as
>>>> time series and match different datasets by "Date". Unfrtunately,
>>>> conventional procedures do not work properly.
>>>> Thanks in advance,
>>>> Soeren
>>>
>>>
>>> --
>>> Brian G. Peterson
>>> http://braverock.com/brian/
>>> Ph: 773-459-4973
>>> IM: bgpbraverock
>>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>


From edd at debian.org  Fri Dec  5 16:40:17 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 5 Dec 2008 09:40:17 -0600
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <00032557a0d652786f045d4e436e@google.com>
References: <00032557a0d652786f045d4e436e@google.com>
Message-ID: <18745.19297.62928.195923@ron.nulle.part>


On 5 December 2008 at 15:23, jeff.a.ryan at gmail.com wrote:
| Try:
| 
| xts(data[,-1],as.Date(data[,1]))

Probably rather

	 xts(data[,-1], as.Date( as.character(data[,1]) ))

because Soeren used defaults when reading the data

| On Dec 5, 2008 7:50am, sprohl at na.uni-tuebingen.de wrote:
| > Hello Brian,
| >
| > please find attached sample of the data
| > 'data.frame': 1503 obs. of 2 variables:
| >
| > $ X2002.07.01: Factor w/ 1503 levels "2002-07-02","2002-07-03",..: 1 2 3
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

and got factors rather than character strings.

Dirk

PS I'd prefer it if we concentrated on Finance on this list rather 
than acting as a smaller substitute for r-help. Just saying...

-- 
Three out of two people have difficulties with fractions.


From sprohl at na.uni-tuebingen.de  Fri Dec  5 16:53:12 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Fri, 5 Dec 2008 16:53:12 +0100 (CET)
Subject: [R-SIG-Finance] (no subject)
In-Reply-To: <18745.19297.62928.195923@ron.nulle.part>
References: <00032557a0d652786f045d4e436e@google.com>
	<18745.19297.62928.195923@ron.nulle.part>
Message-ID: <3403.130.60.242.127.1228492392.squirrel@nastclv4.mathematik.uni-tuebingen.de>

> Dirk,
thanks, it works.
Regards,
Soeren


> On 5 December 2008 at 15:23, jeff.a.ryan at gmail.com wrote:
> | Try:
> |
> | xts(data[,-1],as.Date(data[,1]))
>
> Probably rather
>
> 	 xts(data[,-1], as.Date( as.character(data[,1]) ))
>
> because Soeren used defaults when reading the data
>
> | On Dec 5, 2008 7:50am, sprohl at na.uni-tuebingen.de wrote:
> | > Hello Brian,
> | >
> | > please find attached sample of the data
> | > 'data.frame': 1503 obs. of 2 variables:
> | >
> | > $ X2002.07.01: Factor w/ 1503 levels "2002-07-02","2002-07-03",..: 1 2
> 3
>                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>
> and got factors rather than character strings.
>
> Dirk
>
> PS I'd prefer it if we concentrated on Finance on this list rather
> than acting as a smaller substitute for r-help. Just saying...
>
> --
> Three out of two people have difficulties with fractions.
>


From matthieu.stigler at gmail.com  Fri Dec  5 20:12:26 2008
From: matthieu.stigler at gmail.com (Matthieu Stigler)
Date: Sat, 06 Dec 2008 00:42:26 +0530
Subject: [R-SIG-Finance] periodogram
In-Reply-To: <41873.199.198.251.108.1228491312.squirrel@mail.braverock.com>
References: <200812051308.18022@centrum.cz>
	<41873.199.198.251.108.1228491312.squirrel@mail.braverock.com>
Message-ID: <49397D1A.6080709@gmail.com>



Brian G. Peterson a ?crit :
> On Fri, December 5, 2008 6:08 am, babel at centrum.sk wrote:
>   
>> Hello R
>> I have a problem with periodogram. I cant find the suitable function for
>> this. I would like to plot correlograms with the ACF function acf(x) and
>> then the corresponding periodogram. But the periodograms I found in the R
>> package GeneCycle and stats does not produce the desired output for me. I
>> will prefer something like the Statgraphic produce (the image in
>> appendix). Can you help me please with this beginners question?
>> Thank you in progress.
>>     
>
> chart.ACFplus in PerformanceAnalytics includes both the acf and the pacf
> of the residuals.  It should be relatively simple to extend this code to
> include a periodogram if you have *any* periodogram code that works.  We'd
> be happy to collaborate with you on such an extension.
>
> Regards,
>
>    - Brian
>
>   

Doesn't your periodogram corrspond to the population spectrum (in this 
domain, it seems that there are many confusing terms... )? If yes then 
just look at spectrum()

Mat


From ezivot at u.washington.edu  Fri Dec  5 20:51:34 2008
From: ezivot at u.washington.edu (Eric Zivot)
Date: Fri, 5 Dec 2008 11:51:34 -0800
Subject: [R-SIG-Finance] Garch-in-mean estimation
Message-ID: <200812051951.mB5JpYnu019018@smtp.washington.edu>

Do any of the garch implementations in R allow for the estimation of
garch-in-mean models?

Eric Zivot
Professor, Gary Waterman Distinguished Scholar, Economics
Adjunct Professor, Statistics
Adjunct Professor, Finance
Box 353330
University of Washington
(206) 543-6715
http://faculty.washington.edu/ezivot


From brian at muxspace.com  Sat Dec  6 03:03:47 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Fri, 5 Dec 2008 21:03:47 -0500
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
Message-ID: <etPan.4939dd83.4beb5c82.5f0a@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081205/d30422c2/attachment.html>

From brian at braverock.com  Sat Dec  6 12:58:37 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 06 Dec 2008 05:58:37 -0600
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
Message-ID: <4t1doax12lmd5kqmn5xeg3dv.1228564718307@email.android.com>

I'm not at a machine where I can easily look up the function, but quantmod already has a function for adding shaded sections to charts that takes a vector of date ranges as the argument. Check the chart documentation and Jeff's excellent examples on quantmod.com 

Regards,

     - Brian

Brian Lee Yung Rowe <brian at muxspace.com> wrote:

>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.

From brian at muxspace.com  Sat Dec  6 14:51:43 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sat, 6 Dec 2008 08:51:43 -0500
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
Message-ID: <etPan.493a836f.53f3e3eb.722a@localhost>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081206/9233d2d7/attachment.html>

From edd at debian.org  Sat Dec  6 15:25:30 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 6 Dec 2008 08:25:30 -0600
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <etPan.493a836f.53f3e3eb.722a@localhost>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
Message-ID: <18746.35674.726592.698235@ron.nulle.part>


Brian,

Can you please have a look at adjusting or fixing your mail software ?  Not
only does it never render at my end, it also confuses the list archive
software:

   https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/thread.html
   https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/003356.html
   https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/thread.html

Moreover, HTML format is generally frowned upon and better avoided. The page
on R mailing lists at http://www.r-project.org/mail.html has even stronger
words on the subject:

  General Instructions

  Note that you should configure your e-mail software in such a way as to
  send only plain text, i.e., no HTML.  html-ified  messages are usually
  considerably longer (in bytes!) and harder to filter for spam or
  viruses. Many of these (e.g.  html-only  ones) are currently spam-filtered
  or otherwise intercepted completely and without notice to the sender. For
  more details and instructions on turning off HTML for your e-mail software,
  see here [http://expita.com/nomime.html]

Thank you.

Dirk

-- 
Three out of two people have difficulties with fractions.


From jeff.a.ryan at gmail.com  Sat Dec  6 18:34:56 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 6 Dec 2008 11:34:56 -0600
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <etPan.493a836f.53f3e3eb.722a@localhost>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
Message-ID: <e8e755250812060934g3962e25fi893631566ab4ee00@mail.gmail.com>

Hi Brian,

There are quite a few operations that take place internal to the
chartSeries plotting process.

If you mean that your function that is creating the data isn't
returning an xts object, I would say that you should do one of two
things:

1) write a wrapper that returns it as an xts object, either by
reconstructing the xts object from the data, or by trying the Reclass
function in xts.  Reclass is theory will do exactly what I think you
need, but it can't always guess correctly. Use THIS function as the
FUN argument to ?newTA.

2) using ?fix you can simply modify/fine-tune the function object you
get/have from newTA to modify the results.

If you could send your code off-list (if need be) or on list, I can help more.

Thanks,
Jeff

On Sat, Dec 6, 2008 at 7:51 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi Brian,
>
> Are you referring to the addTA function that takes a boolean xts object?
> Yes, that works fine, but I want my own function that wraps up some of the
> details in drawing the shaded regions. Jeff and I spoke about using newTA to
> do this, and I'm trying to work through some of the specifics.
>
> FWIW I already have a working function based on newTA, but I have to pass in
> the original time series as an option because the series extracted from the
> chob does not preserve the date information. It's a minor inconvenience, and
> I wanted to know if there was a more elegant solution to the problem.
>
> Brian
>
>
> ----- Original message -----
> Sent: 2008/12/06 06:58:37
> Subject: Re:Re: [R-SIG-Finance] quantmod newTA passes a matrix?
>
> I'm not at a machine where I can easily look up the function, but quantmod
> already has a function for adding shaded sections to charts that takes a
> vector of date ranges as the argument. Check the chart documentation and
> Jeff's excellent examples on quantmod.com
>
> Regards,
>
> - Brian
>
> Brian Lee Yung Rowe wrote:
>
>>_______________________________________________
>>R-SIG-Finance at stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>-- Subscriber-posting only.
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From zucchinimatteo79 at gmail.com  Tue Dec  9 10:55:08 2008
From: zucchinimatteo79 at gmail.com (matteo zucchini)
Date: Tue, 9 Dec 2008 10:55:08 +0100
Subject: [R-SIG-Finance] i'd like post
Message-ID: <63867e280812090155x6032d129k7c92bc03dce7dc19@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081209/cda24ad4/attachment.pl>

From brian at muxspace.com  Tue Dec  9 12:30:06 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 09 Dec 2008 06:30:06 -0500
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <e8e755250812060934g3962e25fi893631566ab4ee00@mail.gmail.com>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
	<e8e755250812060934g3962e25fi893631566ab4ee00@mail.gmail.com>
Message-ID: <1228822206.22625.18.camel@localhost>

Hi Jeff,

This is what I am talking about:

dummy.indicator <- function(x) cat("input class:",class(x),"\n")
myIndicator <- newTA(dummy.indicator, on=-1, col='#3333333', border=NA)

> chartSeries(QQQQ)
> myIndicator()
input class: matrix 

I wasn't expecting to see the input (extracted from the chob) as matrix
(I thought it would be xts/zoo).

Brian


On Sat, 2008-12-06 at 11:34 -0600, Jeff Ryan wrote:
> Hi Brian,
> 
> There are quite a few operations that take place internal to the
> chartSeries plotting process.
> 
> If you mean that your function that is creating the data isn't
> returning an xts object, I would say that you should do one of two
> things:
> 
> 1) write a wrapper that returns it as an xts object, either by
> reconstructing the xts object from the data, or by trying the Reclass
> function in xts.  Reclass is theory will do exactly what I think you
> need, but it can't always guess correctly. Use THIS function as the
> FUN argument to ?newTA.
> 
> 2) using ?fix you can simply modify/fine-tune the function object you
> get/have from newTA to modify the results.
> 
> If you could send your code off-list (if need be) or on list, I can help more.
> 
> Thanks,
> Jeff
> 
> On Sat, Dec 6, 2008 at 7:51 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> > Hi Brian,
> >
> > Are you referring to the addTA function that takes a boolean xts object?
> > Yes, that works fine, but I want my own function that wraps up some of the
> > details in drawing the shaded regions. Jeff and I spoke about using newTA to
> > do this, and I'm trying to work through some of the specifics.
> >
> > FWIW I already have a working function based on newTA, but I have to pass in
> > the original time series as an option because the series extracted from the
> > chob does not preserve the date information. It's a minor inconvenience, and
> > I wanted to know if there was a more elegant solution to the problem.
> >
> > Brian
> >
> >
> > ----- Original message -----
> > Sent: 2008/12/06 06:58:37
> > Subject: Re:Re: [R-SIG-Finance] quantmod newTA passes a matrix?
> >
> > I'm not at a machine where I can easily look up the function, but quantmod
> > already has a function for adding shaded sections to charts that takes a
> > vector of date ranges as the argument. Check the chart documentation and
> > Jeff's excellent examples on quantmod.com
> >
> > Regards,
> >
> > - Brian
> >
> > Brian Lee Yung Rowe wrote:
> >
> >>_______________________________________________
> >>R-SIG-Finance at stat.math.ethz.ch mailing list
> >>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >>-- Subscriber-posting only.
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.
> >
> 
> 
>


From brian at muxspace.com  Tue Dec  9 12:34:57 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 09 Dec 2008 06:34:57 -0500
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <18746.35674.726592.698235@ron.nulle.part>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
	<18746.35674.726592.698235@ron.nulle.part>
Message-ID: <1228822497.22625.21.camel@localhost>

Switched to Evolution; headers now showing text/plain. Apologies for the
inconvenience.

On Sat, 2008-12-06 at 08:25 -0600, Dirk Eddelbuettel wrote:
> Brian,
> 
> Can you please have a look at adjusting or fixing your mail software ?  Not
> only does it never render at my end, it also confuses the list archive
> software:
> 
>    https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/thread.html
>    https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/003356.html
>    https://stat.ethz.ch/pipermail/r-sig-finance/2008q4/thread.html
> 
> Moreover, HTML format is generally frowned upon and better avoided. The page
> on R mailing lists at http://www.r-project.org/mail.html has even stronger
> words on the subject:
> 
>   General Instructions
> 
>   Note that you should configure your e-mail software in such a way as to
>   send only plain text, i.e., no HTML.  html-ified  messages are usually
>   considerably longer (in bytes!) and harder to filter for spam or
>   viruses. Many of these (e.g.  html-only  ones) are currently spam-filtered
>   or otherwise intercepted completely and without notice to the sender. For
>   more details and instructions on turning off HTML for your e-mail software,
>   see here [http://expita.com/nomime.html]
> 
> Thank you.
> 
> Dirk
>


From jeff.a.ryan at gmail.com  Tue Dec  9 16:26:14 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 9 Dec 2008 09:26:14 -0600
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <1228822206.22625.18.camel@localhost>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
	<e8e755250812060934g3962e25fi893631566ab4ee00@mail.gmail.com>
	<1228822206.22625.18.camel@localhost>
Message-ID: <e8e755250812090726m685583f0l6565820821b94cfb@mail.gmail.com>

Brian,

The reason is mostly historical (pre-xts code)

> head(myIndicator)

1 function (..., on = -1, legend = "auto")
2 {
3     lchob <- quantmod:::get.current.chob()
4     x <- as.matrix(lchob at xdata)
5     x <- dummy.indicator(x = x)
6     yrange <- NULL

If you need an xts object, you can hand edit the function produced by
newTA (either dump() and source(), or fix()) or you can add a preFUN
argument in the newTA call.

> myIndicator <- newTA(dummy.indicator, preFUN=as.xts, on=-1, col='#3333333', border=NA)
> head(myIndicator)

1 function (..., on = -1, legend = "auto")
2 {
3     lchob <- quantmod:::get.current.chob()
4     x <- as.matrix(lchob at xdata)
5     x <- as.xts(x)
6     x <- dummy.indicator(x = x)

The data is indeed stored as an xts object internally in the 'chob'.

> str(quantmod:::get.current.chob()@xdata)
An 'xts' object from 2007-01-03 to 2008-12-08 containing:
  Data: num [1:488, 1:6] 43.5 43.3 44 43.9 44 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:6] "QQQQ.Open" "QQQQ.High" "QQQQ.Low" "QQQQ.Close" ...
  Indexed by objects of class: [POSIXct]
   xts Attributes:
List of 3
 $ src     : chr "yahoo"
 $ updated : POSIXct[1:1], format: "2008-12-09 15:24:20"
 $ .RECLASS: logi FALSE

Jeff

On Tue, Dec 9, 2008 at 5:30 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi Jeff,
>
> This is what I am talking about:
>
> dummy.indicator <- function(x) cat("input class:",class(x),"\n")
> myIndicator <- newTA(dummy.indicator, on=-1, col='#3333333', border=NA)
>
>> chartSeries(QQQQ)
>> myIndicator()
> input class: matrix
>
> I wasn't expecting to see the input (extracted from the chob) as matrix
> (I thought it would be xts/zoo).
>
> Brian
>
>
> On Sat, 2008-12-06 at 11:34 -0600, Jeff Ryan wrote:
>> Hi Brian,
>>
>> There are quite a few operations that take place internal to the
>> chartSeries plotting process.
>>
>> If you mean that your function that is creating the data isn't
>> returning an xts object, I would say that you should do one of two
>> things:
>>
>> 1) write a wrapper that returns it as an xts object, either by
>> reconstructing the xts object from the data, or by trying the Reclass
>> function in xts.  Reclass is theory will do exactly what I think you
>> need, but it can't always guess correctly. Use THIS function as the
>> FUN argument to ?newTA.
>>
>> 2) using ?fix you can simply modify/fine-tune the function object you
>> get/have from newTA to modify the results.
>>
>> If you could send your code off-list (if need be) or on list, I can help more.
>>
>> Thanks,
>> Jeff
>>
>> On Sat, Dec 6, 2008 at 7:51 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
>> > Hi Brian,
>> >
>> > Are you referring to the addTA function that takes a boolean xts object?
>> > Yes, that works fine, but I want my own function that wraps up some of the
>> > details in drawing the shaded regions. Jeff and I spoke about using newTA to
>> > do this, and I'm trying to work through some of the specifics.
>> >
>> > FWIW I already have a working function based on newTA, but I have to pass in
>> > the original time series as an option because the series extracted from the
>> > chob does not preserve the date information. It's a minor inconvenience, and
>> > I wanted to know if there was a more elegant solution to the problem.
>> >
>> > Brian
>> >
>> >
>> > ----- Original message -----
>> > Sent: 2008/12/06 06:58:37
>> > Subject: Re:Re: [R-SIG-Finance] quantmod newTA passes a matrix?
>> >
>> > I'm not at a machine where I can easily look up the function, but quantmod
>> > already has a function for adding shaded sections to charts that takes a
>> > vector of date ranges as the argument. Check the chart documentation and
>> > Jeff's excellent examples on quantmod.com
>> >
>> > Regards,
>> >
>> > - Brian
>> >
>> > Brian Lee Yung Rowe wrote:
>> >
>> >>_______________________________________________
>> >>R-SIG-Finance at stat.math.ethz.ch mailing list
>> >>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> >>-- Subscriber-posting only.
>> > _______________________________________________
>> > R-SIG-Finance at stat.math.ethz.ch mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> > -- Subscriber-posting only.
>> > -- If you want to post, subscribe first.
>> >
>>
>>
>>
>
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From bastian2507hk at yahoo.co.uk  Tue Dec  9 16:50:57 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Tue, 09 Dec 2008 16:50:57 +0100
Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
Message-ID: <493E93E1.3080503@yahoo.co.uk>

Hello all,

i am currently doing some portfolio resampling experiments and wonder 
how to best evaluate different investment strategies based on the sharpe 
ratio.

i do have a time series for 2 equity indices from jan 2002 till dec 2007 
of daily log returns (1548 observations) and perform an unconstrained 
markowitz optimization to obtain both portfolio weights for a given 
return level.

my experiment is based on deMiguel (2007) performing further markowitz 
optimizations on subsamples of 1300 observations each, i.e. the first 
sample is r_1, r_2, ..., r_1300, the 2nd sample is r_2, r_3, ..., r_1301 
and so on. i finally obtain 249 subsamples and as many portfolio weight 
vectors.

how do i best examine each strategy using the sharpe ratio? 
in-sample-test? out-of-sample test?

any suggestion is highly appreciated. thanks in advance.

kind regards

b


From Zeno.Adams at ebs.edu  Tue Dec  9 17:14:59 2008
From: Zeno.Adams at ebs.edu (Adams, Zeno)
Date: Tue, 9 Dec 2008 17:14:59 +0100
Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
In-Reply-To: <493E93E1.3080503@yahoo.co.uk>
References: <493E93E1.3080503@yahoo.co.uk>
Message-ID: <9064522880125945B98983BBAECBA1CC21D368@exchsrv001.ebs.local>

Ledoit, O. and Wolf, M. (2008).
Robust performance hypothesis testing with the Sharpe ratio. 
Journal of Empirical Finance 15, 850-859.

Use a studentized time series bootstrap to compare the significance in the difference of two sharpe ratios. They also provide an R code at http://www.iew.uzh.ch/chairs/wolf/team/wolf/publications.html#7

Zeno



-----Urspr?ngliche Nachricht-----
Von: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] Im Auftrag von Bastian Offermann
Gesendet: Dienstag, 9. Dezember 2008 16:51
An: r-sig-finance at stat.math.ethz.ch
Betreff: [R-SIG-Finance] performance evaluation and sharpe ratio

Hello all,

i am currently doing some portfolio resampling experiments and wonder 
how to best evaluate different investment strategies based on the sharpe 
ratio.

i do have a time series for 2 equity indices from jan 2002 till dec 2007 
of daily log returns (1548 observations) and perform an unconstrained 
markowitz optimization to obtain both portfolio weights for a given 
return level.

my experiment is based on deMiguel (2007) performing further markowitz 
optimizations on subsamples of 1300 observations each, i.e. the first 
sample is r_1, r_2, ..., r_1300, the 2nd sample is r_2, r_3, ..., r_1301 
and so on. i finally obtain 249 subsamples and as many portfolio weight 
vectors.

how do i best examine each strategy using the sharpe ratio? 
in-sample-test? out-of-sample test?

any suggestion is highly appreciated. thanks in advance.

kind regards

b

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

EBS European Business School gemeinnuetzige GmbH - Sitz der Gesellschaft: Wiesbaden, Amtsgericht Wiesbaden HRB 19951 - Umsatzsteuer-ID DE 113891213 Geschaeftsfuehrung: Prof. Dr. Christopher Jahns, Rektor; Dr. Reimar Palte, Kanzler;  Sabine Fuchs, Prokuristin; Verwaltungsrat: Dr. Hellmut K. Albrecht, Vorsitzender

From brian at muxspace.com  Wed Dec 10 03:58:55 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 09 Dec 2008 21:58:55 -0500
Subject: [R-SIG-Finance] Anyone interested in random matrix theory?
Message-ID: <1228877935.22625.44.camel@localhost>

Hi,

Is anyone interested in portfolio optimization based on random matrix
theory? I am considering packaging some code I wrote that filters
portfolio correlation matrices based on random matrix theory. The basic
idea is that there is a predictable eigenvalue distribution for a random
matrix and based on that you can take a custom returns correlation
matrix, fit the eigenvalue distribution to the theoretical distribution
(based on Marcenko-Pastur) and then filter out those eigenvalues. You
can then reconstruct the correlation matrix, which in theory has more
signal to noise than you would get otherwise. 

>From my initial tests, when optimizing a portfolio using the cleaned
correlation matrix, you do get lower risk (and better Sharpe ratio) than
you would with an equal weighted portfolio or a portfolio optimized
using a multi-factor model. 

What is really interesting about random matrix theory is that the fit to
the Marcenko-Pastur theoretical distribution is quite resilient and can
handle small portfolios with a short window. This addresses one of my
biggest gripes I have regarding the Barra approach, that you need to
have so much data and the response is somewhat slow due to the long
windows in the regressions.

Anyway, I am considering packaging this code, but prior to doing so
wanted to get a sense if anybody has done this (cheap searches say no)
and if anyone is interested in RMT to make it worthwhile.

Regards,
Brian


From brian at muxspace.com  Wed Dec 10 05:11:53 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 09 Dec 2008 23:11:53 -0500
Subject: [R-SIG-Finance] quantmod newTA passes a matrix?
In-Reply-To: <e8e755250812090726m685583f0l6565820821b94cfb@mail.gmail.com>
References: <etPan.493a836f.53f3e3eb.722a@localhost>
	<e8e755250812060934g3962e25fi893631566ab4ee00@mail.gmail.com>
	<1228822206.22625.18.camel@localhost>
	<e8e755250812090726m685583f0l6565820821b94cfb@mail.gmail.com>
Message-ID: <1228882313.22625.57.camel@localhost>

preFUN worked as advertised. Thanks.


On Tue, 2008-12-09 at 09:26 -0600, Jeff Ryan wrote:
> Brian,
> 
> The reason is mostly historical (pre-xts code)
> 
> > head(myIndicator)
> 
> 1 function (..., on = -1, legend = "auto")
> 2 {
> 3     lchob <- quantmod:::get.current.chob()
> 4     x <- as.matrix(lchob at xdata)
> 5     x <- dummy.indicator(x = x)
> 6     yrange <- NULL
> 
> If you need an xts object, you can hand edit the function produced by
> newTA (either dump() and source(), or fix()) or you can add a preFUN
> argument in the newTA call.
> 
> > myIndicator <- newTA(dummy.indicator, preFUN=as.xts, on=-1, col='#3333333', border=NA)
> > head(myIndicator)
> 
> 1 function (..., on = -1, legend = "auto")
> 2 {
> 3     lchob <- quantmod:::get.current.chob()
> 4     x <- as.matrix(lchob at xdata)
> 5     x <- as.xts(x)
> 6     x <- dummy.indicator(x = x)
> 
> The data is indeed stored as an xts object internally in the 'chob'.
> 
> > str(quantmod:::get.current.chob()@xdata)
> An 'xts' object from 2007-01-03 to 2008-12-08 containing:
>   Data: num [1:488, 1:6] 43.5 43.3 44 43.9 44 ...
>  - attr(*, "dimnames")=List of 2
>   ..$ : NULL
>   ..$ : chr [1:6] "QQQQ.Open" "QQQQ.High" "QQQQ.Low" "QQQQ.Close" ...
>   Indexed by objects of class: [POSIXct]
>    xts Attributes:
> List of 3
>  $ src     : chr "yahoo"
>  $ updated : POSIXct[1:1], format: "2008-12-09 15:24:20"
>  $ .RECLASS: logi FALSE
> 
> Jeff
> 
> On Tue, Dec 9, 2008 at 5:30 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> > Hi Jeff,
> >
> > This is what I am talking about:
> >
> > dummy.indicator <- function(x) cat("input class:",class(x),"\n")
> > myIndicator <- newTA(dummy.indicator, on=-1, col='#3333333', border=NA)
> >
> >> chartSeries(QQQQ)
> >> myIndicator()
> > input class: matrix
> >
> > I wasn't expecting to see the input (extracted from the chob) as matrix
> > (I thought it would be xts/zoo).
> >
> > Brian
> >
> >
> > On Sat, 2008-12-06 at 11:34 -0600, Jeff Ryan wrote:
> >> Hi Brian,
> >>
> >> There are quite a few operations that take place internal to the
> >> chartSeries plotting process.
> >>
> >> If you mean that your function that is creating the data isn't
> >> returning an xts object, I would say that you should do one of two
> >> things:
> >>
> >> 1) write a wrapper that returns it as an xts object, either by
> >> reconstructing the xts object from the data, or by trying the Reclass
> >> function in xts.  Reclass is theory will do exactly what I think you
> >> need, but it can't always guess correctly. Use THIS function as the
> >> FUN argument to ?newTA.
> >>
> >> 2) using ?fix you can simply modify/fine-tune the function object you
> >> get/have from newTA to modify the results.
> >>
> >> If you could send your code off-list (if need be) or on list, I can help more.
> >>
> >> Thanks,
> >> Jeff
> >>
> >> On Sat, Dec 6, 2008 at 7:51 AM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> >> > Hi Brian,
> >> >
> >> > Are you referring to the addTA function that takes a boolean xts object?
> >> > Yes, that works fine, but I want my own function that wraps up some of the
> >> > details in drawing the shaded regions. Jeff and I spoke about using newTA to
> >> > do this, and I'm trying to work through some of the specifics.
> >> >
> >> > FWIW I already have a working function based on newTA, but I have to pass in
> >> > the original time series as an option because the series extracted from the
> >> > chob does not preserve the date information. It's a minor inconvenience, and
> >> > I wanted to know if there was a more elegant solution to the problem.
> >> >
> >> > Brian
> >> >
> >> >
> >> > ----- Original message -----
> >> > Sent: 2008/12/06 06:58:37
> >> > Subject: Re:Re: [R-SIG-Finance] quantmod newTA passes a matrix?
> >> >
> >> > I'm not at a machine where I can easily look up the function, but quantmod
> >> > already has a function for adding shaded sections to charts that takes a
> >> > vector of date ranges as the argument. Check the chart documentation and
> >> > Jeff's excellent examples on quantmod.com
> >> >
> >> > Regards,
> >> >
> >> > - Brian
> >> >
> >> > Brian Lee Yung Rowe wrote:
> >> >
> >> >>_______________________________________________
> >> >>R-SIG-Finance at stat.math.ethz.ch mailing list
> >> >>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >> >>-- Subscriber-posting only.
> >> > _______________________________________________
> >> > R-SIG-Finance at stat.math.ethz.ch mailing list
> >> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >> > -- Subscriber-posting only.
> >> > -- If you want to post, subscribe first.
> >> >
> >>
> >>
> >>
> >
> >
> 
> 
>


From david.jessop at ubs.com  Wed Dec 10 12:24:39 2008
From: david.jessop at ubs.com (david.jessop at ubs.com)
Date: Wed, 10 Dec 2008 11:24:39 -0000
Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
In-Reply-To: <mailman.1.1228906801.2847.r-sig-finance@stat.math.ethz.ch>
References: <mailman.1.1228906801.2847.r-sig-finance@stat.math.ethz.ch>
Message-ID: <25492B412B325B4FB1FED95013D3E5CE0759CA29@NLDNC105PEX1.ubsw.net>

Hi

A recent paper by Ledoit and Wolf
(http://www.iew.uzh.ch/chairs/wolf/team/wolf/publications/jef_2008pdf.pd
f) gives you a robust test for two Sharpe ratios being different.  Even
better is if you go on one of their web sites (Wolf's I believe), you'll
find a R routine to do the test for you. 

And you should definitely look out of sample.

Regards,

David Jessop


------------------------------

Message: 4
Date: Tue, 09 Dec 2008 16:50:57 +0100
From: Bastian Offermann <bastian2507hk at yahoo.co.uk>
Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
To: r-sig-finance at stat.math.ethz.ch

Content-Type: text/plain; charset=ISO-8859-15; format=flowed

Hello all,

i am currently doing some portfolio resampling experiments and wonder
how to best evaluate different investment strategies based on the sharpe
ratio.

i do have a time series for 2 equity indices from jan 2002 till dec 2007
of daily log returns (1548 observations) and perform an unconstrained
markowitz optimization to obtain both portfolio weights for a given
return level.

my experiment is based on deMiguel (2007) performing further markowitz
optimizations on subsamples of 1300 observations each, i.e. the first
sample is r_1, r_2, ..., r_1300, the 2nd sample is r_2, r_3, ..., r_1301
and so on. i finally obtain 249 subsamples and as many portfolio weight
vectors.

how do i best examine each strategy using the sharpe ratio? 
in-sample-test? out-of-sample test?

any suggestion is highly appreciated. thanks in advance.

kind regards

b



------------------------------

Issued by UBS AG or affiliates to professional investors for 
information only and its accuracy/completeness is not guaranteed. 
All opinions may change without notice and may differ to 
opinions/recommendations expressed by other business areas of UBS. 
UBS may maintain long/short positions and trade in instruments 
referred to. Unless stated otherwise, this is not a personal 
recommendation, offer or solicitation to buy/sell and any 
prices/quotations are indicative only. UBS may provide investment 
banking and other services to, and/or its employees may be directors 
of, companies referred to. To the extent permitted by law, UBS does 
not accept any liability arising from the use of this communication.

 ? UBS 2008.  All rights reserved. Intended for recipient only
and not for further distribution without the consent of UBS.

UBS Limited is a company registered in England & Wales under company
number 2035362, whose registered office is at 1 Finsbury Avenue,
London, EC2M 2PP, United Kingdom.

UBS AG (London Branch) is registered as a branch of a foreign company
under number BR004507, whose registered office is at
1 Finsbury Avenue, London, EC2M 2PP, United Kingdom.

UBS Clearing and Execution Services Limited is a company registered
in England & Wales under company number 03123037, whose registered
office is at 1 Finsbury Avenue, London, EC2M 2PP, United Kingdom.


From bastian2507hk at yahoo.co.uk  Wed Dec 10 13:44:39 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Wed, 10 Dec 2008 13:44:39 +0100
Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
In-Reply-To: <25492B412B325B4FB1FED95013D3E5CE0759CA29@NLDNC105PEX1.ubsw.net>
References: <mailman.1.1228906801.2847.r-sig-finance@stat.math.ethz.ch>
	<25492B412B325B4FB1FED95013D3E5CE0759CA29@NLDNC105PEX1.ubsw.net>
Message-ID: <493FB9B7.5090504@yahoo.co.uk>

thats what i was looking for actually, i am not so much interested in 
testing, but rather in which time period to use to calculate sharpe ratios.

david.jessop at ubs.com schrieb:
> Hi
>
> A recent paper by Ledoit and Wolf
> (http://www.iew.uzh.ch/chairs/wolf/team/wolf/publications/jef_2008pdf.pd
> f) gives you a robust test for two Sharpe ratios being different.  Even
> better is if you go on one of their web sites (Wolf's I believe), you'll
> find a R routine to do the test for you. 
>
> And you should definitely look out of sample.
>
> Regards,
>
> David Jessop
>
>
> ------------------------------
>
> Message: 4
> Date: Tue, 09 Dec 2008 16:50:57 +0100
> From: Bastian Offermann <bastian2507hk at yahoo.co.uk>
> Subject: [R-SIG-Finance] performance evaluation and sharpe ratio
> To: r-sig-finance at stat.math.ethz.ch
> Message-ID: <493E93E1.3080503 at yahoo.co.uk>
> Content-Type: text/plain; charset=ISO-8859-15; format=flowed
>
> Hello all,
>
> i am currently doing some portfolio resampling experiments and wonder
> how to best evaluate different investment strategies based on the sharpe
> ratio.
>
> i do have a time series for 2 equity indices from jan 2002 till dec 2007
> of daily log returns (1548 observations) and perform an unconstrained
> markowitz optimization to obtain both portfolio weights for a given
> return level.
>
> my experiment is based on deMiguel (2007) performing further markowitz
> optimizations on subsamples of 1300 observations each, i.e. the first
> sample is r_1, r_2, ..., r_1300, the 2nd sample is r_2, r_3, ..., r_1301
> and so on. i finally obtain 249 subsamples and as many portfolio weight
> vectors.
>
> how do i best examine each strategy using the sharpe ratio? 
> in-sample-test? out-of-sample test?
>
> any suggestion is highly appreciated. thanks in advance.
>
> kind regards
>
> b
>
>
>
> ------------------------------
>
> Issued by UBS AG or affiliates to professional investors for 
> information only and its accuracy/completeness is not guaranteed. 
> All opinions may change without notice and may differ to 
> opinions/recommendations expressed by other business areas of UBS. 
> UBS may maintain long/short positions and trade in instruments 
> referred to. Unless stated otherwise, this is not a personal 
> recommendation, offer or solicitation to buy/sell and any 
> prices/quotations are indicative only. UBS may provide investment 
> banking and other services to, and/or its employees may be directors 
> of, companies referred to. To the extent permitted by law, UBS does 
> not accept any liability arising from the use of this communication.
>
>  ? UBS 2008.  All rights reserved. Intended for recipient only
> and not for further distribution without the consent of UBS.
>
> UBS Limited is a company registered in England & Wales under company
> number 2035362, whose registered office is at 1 Finsbury Avenue,
> London, EC2M 2PP, United Kingdom.
>
> UBS AG (London Branch) is registered as a branch of a foreign company
> under number BR004507, whose registered office is at
> 1 Finsbury Avenue, London, EC2M 2PP, United Kingdom.
>
> UBS Clearing and Execution Services Limited is a company registered
> in England & Wales under company number 03123037, whose registered
> office is at 1 Finsbury Avenue, London, EC2M 2PP, United Kingdom.
>
>
>
>
>
>
>
>
>
>
>


From edmond.lezmi at caam-ai.com  Wed Dec 10 14:00:39 2008
From: edmond.lezmi at caam-ai.com (Lezmi Edmond)
Date: Wed, 10 Dec 2008 14:00:39 +0100
Subject: [R-SIG-Finance] Anyone interested in random matrix theory?
In-Reply-To: <1228877935.22625.44.camel@localhost>
References: <1228877935.22625.44.camel@localhost>
Message-ID: <71C6D813696C5C4A9F61A81E56FCE9FBE729DA@SMSG038.ad-its.credit-agricole.fr>

 
Hi Brian
I think that it is a very good idea, you can take a look at 

http://www.qgroup.org.au/SFMW/RaisePartner_Qgroup.pdf which gives an interesting application of RMT and why it is powerful

Regards
Edmond

Edmond Lezmi
Credit Agricole Asset Management Alternative Investments
tel: 33 (1) 43 23 02 86
mail:edmond.lezmi at caam-ai.com


-----Message d'origine-----
De : r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] De la part de Brian Lee Yung Rowe
Envoy? : mercredi 10 d?cembre 2008 03:59
? : r-sig-finance
Objet : [R-SIG-Finance] Anyone interested in random matrix theory?

Hi,

Is anyone interested in portfolio optimization based on random matrix theory? I am considering packaging some code I wrote that filters portfolio correlation matrices based on random matrix theory. The basic idea is that there is a predictable eigenvalue distribution for a random matrix and based on that you can take a custom returns correlation matrix, fit the eigenvalue distribution to the theoretical distribution (based on Marcenko-Pastur) and then filter out those eigenvalues. You can then reconstruct the correlation matrix, which in theory has more signal to noise than you would get otherwise. 

>From my initial tests, when optimizing a portfolio using the cleaned
correlation matrix, you do get lower risk (and better Sharpe ratio) than you would with an equal weighted portfolio or a portfolio optimized using a multi-factor model. 

What is really interesting about random matrix theory is that the fit to the Marcenko-Pastur theoretical distribution is quite resilient and can handle small portfolios with a short window. This addresses one of my biggest gripes I have regarding the Barra approach, that you need to have so much data and the response is somewhat slow due to the long windows in the regressions.

Anyway, I am considering packaging this code, but prior to doing so wanted to get a sense if anybody has done this (cheap searches say no) and if anyone is interested in RMT to make it worthwhile.

Regards,
Brian

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From bastian2507hk at yahoo.co.uk  Wed Dec 10 18:28:31 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Wed, 10 Dec 2008 18:28:31 +0100
Subject: [R-SIG-Finance] fPortfolio problem
Message-ID: <493FFC3F.70900@yahoo.co.uk>

Hello,

i have encountered a problem with fPortfolio recently. I am using below 
code:

the problem is that my risk free rate is different from the one 
displayed in the graphical output and the straight line in the graphical 
output intersects the efficient frontier twice. same problem when i use 
"cmlLines(eff.front)" .what am i missing out on?

THanks.

Data1 <- as.timeSeries(Data1)
Data1 <- as.timeSeries(data(LPP2005REC))
Data1 <- Data1[,1:4]*250

r.p <- 0.10
r.rf <- 0.01

Spec <- portfolioSpec()
restr <- c("Short", "LongOnly")
cons <- restr[1]
setOptimize(Spec) <- "minRisk"
setRiskFreeRate(Spec) <- r.rf #/250
setTargetReturn(Spec) <- r.p #/250
setNFrontierPoints(Spec) <- 50
solver <- c("solveRquadprog", "solveRshortExact")
if(cons == "LongOnly") { setSolver(Spec) <- solver[1] }
if(cons == "Short") { setSolver(Spec) <- solver[2] }

eff.front <- portfolioFrontier(data = Data1, spec = Spec, constraints = 
cons)
eff.port <- efficientPortfolio(data = Data1, spec = Spec, constraints = 
cons)
tang.port <- tangencyPortfolio(data = Data1, spec = Spec, constraints = 
cons)
minvar.port <- minvariancePortfolio(data = Data1, spec = Spec, 
constraints = cons)
w <- as.vector(getWeights(eff.port))
w <- matrix(w, 1, ncol(Data1))
w.min <- as.vector(getWeights(minvar.port))
w.min <- matrix(w.min, 1, ncol(Data1))
w
w.min
frontierPlot(eff.front, frontier = "upper", return="mu", risk="Sigma", 
type="l")
minvariancePoints(eff.front, col="red", bg="red", pch=21)
tangencyLines(eff.front)
tangencyPoints(eff.front)


From amkatz at Princeton.EDU  Wed Dec 10 19:29:17 2008
From: amkatz at Princeton.EDU (Aaron Katz)
Date: Wed, 10 Dec 2008 13:29:17 -0500
Subject: [R-SIG-Finance] Anyone interested in random matrix theory?
Message-ID: <58949.1228933757@princeton.edu>

Sounds fascinating, actually.  I can't speak for the maintainers of Rmetrics, etc. but it seems to me that having more quality code out there is available.  Especially stuff that gets at real-world problems and improves on the stylized models of classical finance ("Modern" Portfolio theory if you will...).

---
Aaron Katz
Bendheim Center for Finance
Princeton University


On Tue 09/12/08  9:58 PM , Brian Lee Yung Rowe <brian at muxspace.com> wrote:

> Hi,
> Is anyone interested in portfolio optimization based on random
> matrix
> theory? I am considering packaging some code I wrote that filters
> portfolio correlation matrices based on random matrix theory. The
> basic
> idea is that there is a predictable eigenvalue distribution for a
> random
> matrix and based on that you can take a custom returns correlation
> matrix, fit the eigenvalue distribution to the theoretical
> distribution
> (based on Marcenko-Pastur) and then filter out those eigenvalues.
> You
> can then reconstruct the correlation matrix, which in theory has
> more
> signal to noise than you would get otherwise. 
> >From my initial tests, when optimizing a portfolio using the
> cleaned
> correlation matrix, you do get lower risk (and better Sharpe ratio)
> than
> you would with an equal weighted portfolio or a portfolio optimized
> using a multi-factor model. 
> What is really interesting about random matrix theory is that the
> fit to
> the Marcenko-Pastur theoretical distribution is quite resilient and
> can
> handle small portfolios with a short window. This addresses one of
> my
> biggest gripes I have regarding the Barra approach, that you need to
> have so much data and the response is somewhat slow due to the long
> windows in the regressions.
> Anyway, I am considering packaging this code, but prior to doing so
> wanted to get a sense if anybody has done this (cheap searches say
> no)
> and if anyone is interested in RMT to make it worthwhile.
> Regards,
> Brian
> _______________________________________________
> mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 


From davidr at rhotrading.com  Wed Dec 10 21:57:46 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Wed, 10 Dec 2008 14:57:46 -0600
Subject: [R-SIG-Finance] plot.xts: Error in parse.format(format[1]) :
	unrecognized format %b %d%n%H:%M:%S
Message-ID: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>

I cannot figure out what's wrong here.
If someone could shed some light, I'd appreciate it very much.


I form an xts object with a chron index (small version here) that seems
OK, but I can't plot it:

> plot(gesmall)
Error in parse.format(format[1]) : unrecognized format %b %d%n%H:%M:%S

> str(gesmall)
An 'xts' object from (12/07/08 19:46:40) to (12/07/08 19:46:50)
containing:
  Data: num [1:11, 1] 98 98 98 98 98 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : NULL
  Indexed by: Classes 'chron', 'dates', 'times'  atomic [1:11] 14221
14221 14221 14221 14221 ...
  ..- attr(*, "format")= Named chr [1:2] "m/d/y" "h:m:s"
  .. ..- attr(*, "names")= chr [1:2] "dates" "times"
  ..- attr(*, "origin")= Named num [1:3] 1 1 1970
  .. ..- attr(*, "names")= chr [1:3] "month" "day" "year"
  xts Attributes:  
 NULL

> summary(gesmall)
     Index                        gesmall     
 Min.   :(12/07/08 19:46:40)   Min.   :98.04  
 1st Qu.:(12/07/08 19:46:42)   1st Qu.:98.04  
 Median :(12/07/08 19:46:45)   Median :98.04  
 Mean   :(12/07/08 19:46:45)   Mean   :98.04  
 3rd Qu.:(12/07/08 19:46:48)   3rd Qu.:98.04  
 Max.   :(12/07/08 19:46:50)   Max.   :98.04  

> gesmall
                         
(12/07/08 19:46:40) 98.04
(12/07/08 19:46:41) 98.04
(12/07/08 19:46:42) 98.04
(12/07/08 19:46:43) 98.04
(12/07/08 19:46:44) 98.04
(12/07/08 19:46:45) 98.04
(12/07/08 19:46:46) 98.04
(12/07/08 19:46:47) 98.04
(12/07/08 19:46:48) 98.04
(12/07/08 19:46:49) 98.04
(12/07/08 19:46:50) 98.04

> # It looks as if there are somehow empty field names; not sure how
that happens or if it's important

> sessionInfo()
R version 2.8.0 Patched (2008-11-02 r46817) 
i386-pc-mingw32 

locale:
LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
States.1252;LC_MONETARY=English_United
States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


other attached packages:
[1] xts_0.0-16   zoo_1.5-4    chron_2.3-24

loaded via a namespace (and not attached):
[1] grid_2.8.0      lattice_0.17-15 tools_2.8.0    

Thanks,
-- David


From ggrothendieck at gmail.com  Wed Dec 10 22:10:04 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 10 Dec 2008 16:10:04 -0500
Subject: [R-SIG-Finance] plot.xts: Error in parse.format(format[1]) :
	unrecognized format %b %d%n%H:%M:%S
In-Reply-To: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
References: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
Message-ID: <971536df0812101310q2572de9dp73da260a21ae83c4@mail.gmail.com>

Try plot.zoo as a workaround:

library(chron)
library(xts)

# read data creating xts object x
Lines <- "12/07/08 19:46:40,98.04
12/07/08 19:46:41,98.04
12/07/08 19:46:42,98.04
12/07/08 19:46:43,98.04
12/07/08 19:46:44,98.04
12/07/08 19:46:45,98.04
12/07/08 19:46:46,98.04
12/07/08 19:46:47,98.04
12/07/08 19:46:48,98.04
12/07/08 19:46:49,98.04
12/07/08 19:46:50,98.04"

z <- read.zoo(textConnection(Lines), sep = ",",
   FUN = as.chron, format = "%m/%d/%y %H:%M:%S")
x <- as.xts(z)

# plot it - first one gives error, second works
plot(x)
plot(as.zoo(x))

On Wed, Dec 10, 2008 at 3:57 PM,  <davidr at rhotrading.com> wrote:
> I cannot figure out what's wrong here.
> If someone could shed some light, I'd appreciate it very much.
>
>
> I form an xts object with a chron index (small version here) that seems
> OK, but I can't plot it:
>
>> plot(gesmall)
> Error in parse.format(format[1]) : unrecognized format %b %d%n%H:%M:%S
>
>> str(gesmall)
> An 'xts' object from (12/07/08 19:46:40) to (12/07/08 19:46:50)
> containing:
>  Data: num [1:11, 1] 98 98 98 98 98 ...
>  - attr(*, "dimnames")=List of 2
>  ..$ : NULL
>  ..$ : NULL
>  Indexed by: Classes 'chron', 'dates', 'times'  atomic [1:11] 14221
> 14221 14221 14221 14221 ...
>  ..- attr(*, "format")= Named chr [1:2] "m/d/y" "h:m:s"
>  .. ..- attr(*, "names")= chr [1:2] "dates" "times"
>  ..- attr(*, "origin")= Named num [1:3] 1 1 1970
>  .. ..- attr(*, "names")= chr [1:3] "month" "day" "year"
>  xts Attributes:
>  NULL
>
>> summary(gesmall)
>     Index                        gesmall
>  Min.   :(12/07/08 19:46:40)   Min.   :98.04
>  1st Qu.:(12/07/08 19:46:42)   1st Qu.:98.04
>  Median :(12/07/08 19:46:45)   Median :98.04
>  Mean   :(12/07/08 19:46:45)   Mean   :98.04
>  3rd Qu.:(12/07/08 19:46:48)   3rd Qu.:98.04
>  Max.   :(12/07/08 19:46:50)   Max.   :98.04
>
>> gesmall
>
> (12/07/08 19:46:40) 98.04
> (12/07/08 19:46:41) 98.04
> (12/07/08 19:46:42) 98.04
> (12/07/08 19:46:43) 98.04
> (12/07/08 19:46:44) 98.04
> (12/07/08 19:46:45) 98.04
> (12/07/08 19:46:46) 98.04
> (12/07/08 19:46:47) 98.04
> (12/07/08 19:46:48) 98.04
> (12/07/08 19:46:49) 98.04
> (12/07/08 19:46:50) 98.04
>
>> # It looks as if there are somehow empty field names; not sure how
> that happens or if it's important
>
>> sessionInfo()
> R version 2.8.0 Patched (2008-11-02 r46817)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
> States.1252;LC_MONETARY=English_United
> States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> other attached packages:
> [1] xts_0.0-16   zoo_1.5-4    chron_2.3-24
>
> loaded via a namespace (and not attached):
> [1] grid_2.8.0      lattice_0.17-15 tools_2.8.0
>
> Thanks,
> -- David
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Wed Dec 10 22:12:21 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 10 Dec 2008 15:12:21 -0600
Subject: [R-SIG-Finance] plot.xts: Error in parse.format(format[1]) :
	unrecognized format %b %d%n%H:%M:%S
In-Reply-To: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
References: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
Message-ID: <e8e755250812101312s2876805crbc52268bac3f3b1a@mail.gmail.com>

Hi David,

The strangeness comes from chron:
?format.chron

  format: vector or list specifying the input format of the input. The
          format can be either strings specifying one of the recognized
          formats below or a list of user-supplied functions to convert
          dates from character into Julian dates and vice versa.

          The dates format can be any permutation of the characters
          '"d"', '"m"', or '"y"' delimited by a separator (possibly
          null), e.g., '"m/d/y"', '"d-m-y"', '"ymd"', are all valid;
          the format can also be permutations of the words '"day"',
          '"month"' and '"year"' (with non-null separator), which
          produces the month name, e.g., '"month day year"' produces
          '"April 20 1992"', '"day mon year"' produces '"20 Apr 1992"'.

          The times format can be any permutation of '"h"', '"m"', and
          '"s"' separated by any one non-special character.  The
          default is '"h:m:s"'.

> format(as.chron(Sys.time())+1:10, format=c(dates="m-d-y",times="h"))
Error in parse.format(format.) : unrecognized format h
> format(as.chron(Sys.time())+1:10, format=c(dates="m-d-y",times="h:m:s"))
 [1] "(12-11-08 21:08:12)" "(12-12-08 21:08:12)" "(12-13-08 21:08:12)"
 [4] "(12-14-08 21:08:12)" "(12-15-08 21:08:12)" "(12-16-08 21:08:12)"
 [7] "(12-17-08 21:08:12)" "(12-18-08 21:08:12)" "(12-19-08 21:08:12)"
[10] "(12-20-08 21:08:12)"

so for plot.xts the default is causing issues (as it tries to
automatically format for visual usefulness).

Try:

plot(xts(rnorm(10),as.chron(Sys.time())+1:10),
major.format=c(dates='m-d-y',times='h:m:s'))

I'll add a test in plot.xts to handle this formatting convention if it
is a chron object.

HTH
Jeff
On Wed, Dec 10, 2008 at 2:57 PM,  <davidr at rhotrading.com> wrote:
> I cannot figure out what's wrong here.
> If someone could shed some light, I'd appreciate it very much.
>
>
> I form an xts object with a chron index (small version here) that seems
> OK, but I can't plot it:
>
>> plot(gesmall)
> Error in parse.format(format[1]) : unrecognized format %b %d%n%H:%M:%S
>
>> str(gesmall)
> An 'xts' object from (12/07/08 19:46:40) to (12/07/08 19:46:50)
> containing:
>  Data: num [1:11, 1] 98 98 98 98 98 ...
>  - attr(*, "dimnames")=List of 2
>  ..$ : NULL
>  ..$ : NULL
>  Indexed by: Classes 'chron', 'dates', 'times'  atomic [1:11] 14221
> 14221 14221 14221 14221 ...
>  ..- attr(*, "format")= Named chr [1:2] "m/d/y" "h:m:s"
>  .. ..- attr(*, "names")= chr [1:2] "dates" "times"
>  ..- attr(*, "origin")= Named num [1:3] 1 1 1970
>  .. ..- attr(*, "names")= chr [1:3] "month" "day" "year"
>  xts Attributes:
>  NULL
>
>> summary(gesmall)
>     Index                        gesmall
>  Min.   :(12/07/08 19:46:40)   Min.   :98.04
>  1st Qu.:(12/07/08 19:46:42)   1st Qu.:98.04
>  Median :(12/07/08 19:46:45)   Median :98.04
>  Mean   :(12/07/08 19:46:45)   Mean   :98.04
>  3rd Qu.:(12/07/08 19:46:48)   3rd Qu.:98.04
>  Max.   :(12/07/08 19:46:50)   Max.   :98.04
>
>> gesmall
>
> (12/07/08 19:46:40) 98.04
> (12/07/08 19:46:41) 98.04
> (12/07/08 19:46:42) 98.04
> (12/07/08 19:46:43) 98.04
> (12/07/08 19:46:44) 98.04
> (12/07/08 19:46:45) 98.04
> (12/07/08 19:46:46) 98.04
> (12/07/08 19:46:47) 98.04
> (12/07/08 19:46:48) 98.04
> (12/07/08 19:46:49) 98.04
> (12/07/08 19:46:50) 98.04
>
>> # It looks as if there are somehow empty field names; not sure how
> that happens or if it's important
>
>> sessionInfo()
> R version 2.8.0 Patched (2008-11-02 r46817)
> i386-pc-mingw32
>
> locale:
> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
> States.1252;LC_MONETARY=English_United
> States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> other attached packages:
> [1] xts_0.0-16   zoo_1.5-4    chron_2.3-24
>
> loaded via a namespace (and not attached):
> [1] grid_2.8.0      lattice_0.17-15 tools_2.8.0
>
> Thanks,
> -- David
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From jeff.a.ryan at gmail.com  Wed Dec 10 22:13:46 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 10 Dec 2008 15:13:46 -0600
Subject: [R-SIG-Finance] plot.xts: Error in parse.format(format[1]) :
	unrecognized format %b %d%n%H:%M:%S
In-Reply-To: <e8e755250812101312s2876805crbc52268bac3f3b1a@mail.gmail.com>
References: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
	<e8e755250812101312s2876805crbc52268bac3f3b1a@mail.gmail.com>
Message-ID: <e8e755250812101313s7e17de34j62cb528c09ae3bc3@mail.gmail.com>

David,

Forgot to add you can also just set major.format=NULL to get the
default chron formating

Jeff

On Wed, Dec 10, 2008 at 3:12 PM, Jeff Ryan <jeff.a.ryan at gmail.com> wrote:
> Hi David,
>
> The strangeness comes from chron:
> ?format.chron
>
>  format: vector or list specifying the input format of the input. The
>          format can be either strings specifying one of the recognized
>          formats below or a list of user-supplied functions to convert
>          dates from character into Julian dates and vice versa.
>
>          The dates format can be any permutation of the characters
>          '"d"', '"m"', or '"y"' delimited by a separator (possibly
>          null), e.g., '"m/d/y"', '"d-m-y"', '"ymd"', are all valid;
>          the format can also be permutations of the words '"day"',
>          '"month"' and '"year"' (with non-null separator), which
>          produces the month name, e.g., '"month day year"' produces
>          '"April 20 1992"', '"day mon year"' produces '"20 Apr 1992"'.
>
>          The times format can be any permutation of '"h"', '"m"', and
>          '"s"' separated by any one non-special character.  The
>          default is '"h:m:s"'.
>
>> format(as.chron(Sys.time())+1:10, format=c(dates="m-d-y",times="h"))
> Error in parse.format(format.) : unrecognized format h
>> format(as.chron(Sys.time())+1:10, format=c(dates="m-d-y",times="h:m:s"))
>  [1] "(12-11-08 21:08:12)" "(12-12-08 21:08:12)" "(12-13-08 21:08:12)"
>  [4] "(12-14-08 21:08:12)" "(12-15-08 21:08:12)" "(12-16-08 21:08:12)"
>  [7] "(12-17-08 21:08:12)" "(12-18-08 21:08:12)" "(12-19-08 21:08:12)"
> [10] "(12-20-08 21:08:12)"
>
> so for plot.xts the default is causing issues (as it tries to
> automatically format for visual usefulness).
>
> Try:
>
> plot(xts(rnorm(10),as.chron(Sys.time())+1:10),
> major.format=c(dates='m-d-y',times='h:m:s'))
>
> I'll add a test in plot.xts to handle this formatting convention if it
> is a chron object.
>
> HTH
> Jeff
> On Wed, Dec 10, 2008 at 2:57 PM,  <davidr at rhotrading.com> wrote:
>> I cannot figure out what's wrong here.
>> If someone could shed some light, I'd appreciate it very much.
>>
>>
>> I form an xts object with a chron index (small version here) that seems
>> OK, but I can't plot it:
>>
>>> plot(gesmall)
>> Error in parse.format(format[1]) : unrecognized format %b %d%n%H:%M:%S
>>
>>> str(gesmall)
>> An 'xts' object from (12/07/08 19:46:40) to (12/07/08 19:46:50)
>> containing:
>>  Data: num [1:11, 1] 98 98 98 98 98 ...
>>  - attr(*, "dimnames")=List of 2
>>  ..$ : NULL
>>  ..$ : NULL
>>  Indexed by: Classes 'chron', 'dates', 'times'  atomic [1:11] 14221
>> 14221 14221 14221 14221 ...
>>  ..- attr(*, "format")= Named chr [1:2] "m/d/y" "h:m:s"
>>  .. ..- attr(*, "names")= chr [1:2] "dates" "times"
>>  ..- attr(*, "origin")= Named num [1:3] 1 1 1970
>>  .. ..- attr(*, "names")= chr [1:3] "month" "day" "year"
>>  xts Attributes:
>>  NULL
>>
>>> summary(gesmall)
>>     Index                        gesmall
>>  Min.   :(12/07/08 19:46:40)   Min.   :98.04
>>  1st Qu.:(12/07/08 19:46:42)   1st Qu.:98.04
>>  Median :(12/07/08 19:46:45)   Median :98.04
>>  Mean   :(12/07/08 19:46:45)   Mean   :98.04
>>  3rd Qu.:(12/07/08 19:46:48)   3rd Qu.:98.04
>>  Max.   :(12/07/08 19:46:50)   Max.   :98.04
>>
>>> gesmall
>>
>> (12/07/08 19:46:40) 98.04
>> (12/07/08 19:46:41) 98.04
>> (12/07/08 19:46:42) 98.04
>> (12/07/08 19:46:43) 98.04
>> (12/07/08 19:46:44) 98.04
>> (12/07/08 19:46:45) 98.04
>> (12/07/08 19:46:46) 98.04
>> (12/07/08 19:46:47) 98.04
>> (12/07/08 19:46:48) 98.04
>> (12/07/08 19:46:49) 98.04
>> (12/07/08 19:46:50) 98.04
>>
>>> # It looks as if there are somehow empty field names; not sure how
>> that happens or if it's important
>>
>>> sessionInfo()
>> R version 2.8.0 Patched (2008-11-02 r46817)
>> i386-pc-mingw32
>>
>> locale:
>> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
>> States.1252;LC_MONETARY=English_United
>> States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>>
>> other attached packages:
>> [1] xts_0.0-16   zoo_1.5-4    chron_2.3-24
>>
>> loaded via a namespace (and not attached):
>> [1] grid_2.8.0      lattice_0.17-15 tools_2.8.0
>>
>> Thanks,
>> -- David
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From davidr at rhotrading.com  Wed Dec 10 22:59:21 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Wed, 10 Dec 2008 15:59:21 -0600
Subject: [R-SIG-Finance] plot.xts: Error in parse.format(format[1]) :
	unrecognized format %b %d%n%H:%M:%S
In-Reply-To: <e8e755250812101313s7e17de34j62cb528c09ae3bc3@mail.gmail.com>
References: <F9F2A641C593D7408925574C05A7BE7701E174E8@rhopost.rhotrading.com>
	<e8e755250812101312s2876805crbc52268bac3f3b1a@mail.gmail.com>
	<e8e755250812101313s7e17de34j62cb528c09ae3bc3@mail.gmail.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE7701E17527@rhopost.rhotrading.com>

Sorry, Jeff, but it doesn't work for me.
(Gabor's workaround does, though.)

> plot(xts(rnorm(10),as.chron(Sys.time())+1:10),
major.format=c(dates='m-d-y',times='h:m:s'))
Error in parse.format(format[1]) : unrecognized format %b %d%n%Y

I also tried major.format=NULL to no avail.

I guess I can use the workaround for now.

Thanks to Jeff and Gabor!
-- David


-----Original Message-----
From: Jeff Ryan [mailto:jeff.a.ryan at gmail.com] 
Sent: Wednesday, December 10, 2008 3:14 PM
To: David Reiner <davidr at rhotrading.com>
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] plot.xts: Error in parse.format(format[1])
: unrecognized format %b %d%n%H:%M:%S

David,

Forgot to add you can also just set major.format=NULL to get the
default chron formating

Jeff

On Wed, Dec 10, 2008 at 3:12 PM, Jeff Ryan <jeff.a.ryan at gmail.com>
wrote:
> Hi David,
>
> The strangeness comes from chron:
> ?format.chron
>
>  format: vector or list specifying the input format of the input. The
>          format can be either strings specifying one of the recognized
>          formats below or a list of user-supplied functions to convert
>          dates from character into Julian dates and vice versa.
>
>          The dates format can be any permutation of the characters
>          '"d"', '"m"', or '"y"' delimited by a separator (possibly
>          null), e.g., '"m/d/y"', '"d-m-y"', '"ymd"', are all valid;
>          the format can also be permutations of the words '"day"',
>          '"month"' and '"year"' (with non-null separator), which
>          produces the month name, e.g., '"month day year"' produces
>          '"April 20 1992"', '"day mon year"' produces '"20 Apr 1992"'.
>
>          The times format can be any permutation of '"h"', '"m"', and
>          '"s"' separated by any one non-special character.  The
>          default is '"h:m:s"'.
>
>> format(as.chron(Sys.time())+1:10, format=c(dates="m-d-y",times="h"))
> Error in parse.format(format.) : unrecognized format h
>> format(as.chron(Sys.time())+1:10,
format=c(dates="m-d-y",times="h:m:s"))
>  [1] "(12-11-08 21:08:12)" "(12-12-08 21:08:12)" "(12-13-08 21:08:12)"
>  [4] "(12-14-08 21:08:12)" "(12-15-08 21:08:12)" "(12-16-08 21:08:12)"
>  [7] "(12-17-08 21:08:12)" "(12-18-08 21:08:12)" "(12-19-08 21:08:12)"
> [10] "(12-20-08 21:08:12)"
>
> so for plot.xts the default is causing issues (as it tries to
> automatically format for visual usefulness).
>
> Try:
>
> plot(xts(rnorm(10),as.chron(Sys.time())+1:10),
> major.format=c(dates='m-d-y',times='h:m:s'))
>
> I'll add a test in plot.xts to handle this formatting convention if it
> is a chron object.
>
> HTH
> Jeff
> On Wed, Dec 10, 2008 at 2:57 PM,  <davidr at rhotrading.com> wrote:
>> I cannot figure out what's wrong here.
>> If someone could shed some light, I'd appreciate it very much.
>>
>>
>> I form an xts object with a chron index (small version here) that
seems
>> OK, but I can't plot it:
>>
>>> plot(gesmall)
>> Error in parse.format(format[1]) : unrecognized format %b
%d%n%H:%M:%S
>>
>>> str(gesmall)
>> An 'xts' object from (12/07/08 19:46:40) to (12/07/08 19:46:50)
>> containing:
>>  Data: num [1:11, 1] 98 98 98 98 98 ...
>>  - attr(*, "dimnames")=List of 2
>>  ..$ : NULL
>>  ..$ : NULL
>>  Indexed by: Classes 'chron', 'dates', 'times'  atomic [1:11] 14221
>> 14221 14221 14221 14221 ...
>>  ..- attr(*, "format")= Named chr [1:2] "m/d/y" "h:m:s"
>>  .. ..- attr(*, "names")= chr [1:2] "dates" "times"
>>  ..- attr(*, "origin")= Named num [1:3] 1 1 1970
>>  .. ..- attr(*, "names")= chr [1:3] "month" "day" "year"
>>  xts Attributes:
>>  NULL
>>
>>> summary(gesmall)
>>     Index                        gesmall
>>  Min.   :(12/07/08 19:46:40)   Min.   :98.04
>>  1st Qu.:(12/07/08 19:46:42)   1st Qu.:98.04
>>  Median :(12/07/08 19:46:45)   Median :98.04
>>  Mean   :(12/07/08 19:46:45)   Mean   :98.04
>>  3rd Qu.:(12/07/08 19:46:48)   3rd Qu.:98.04
>>  Max.   :(12/07/08 19:46:50)   Max.   :98.04
>>
>>> gesmall
>>
>> (12/07/08 19:46:40) 98.04
>> (12/07/08 19:46:41) 98.04
>> (12/07/08 19:46:42) 98.04
>> (12/07/08 19:46:43) 98.04
>> (12/07/08 19:46:44) 98.04
>> (12/07/08 19:46:45) 98.04
>> (12/07/08 19:46:46) 98.04
>> (12/07/08 19:46:47) 98.04
>> (12/07/08 19:46:48) 98.04
>> (12/07/08 19:46:49) 98.04
>> (12/07/08 19:46:50) 98.04
>>
>>> # It looks as if there are somehow empty field names; not sure how
>> that happens or if it's important
>>
>>> sessionInfo()
>> R version 2.8.0 Patched (2008-11-02 r46817)
>> i386-pc-mingw32
>>
>> locale:
>> LC_COLLATE=English_United States.1252;LC_CTYPE=English_United
>> States.1252;LC_MONETARY=English_United
>> States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>>
>> other attached packages:
>> [1] xts_0.0-16   zoo_1.5-4    chron_2.3-24
>>
>> loaded via a namespace (and not attached):
>> [1] grid_2.8.0      lattice_0.17-15 tools_2.8.0
>>
>> Thanks,
>> -- David
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From bastian2507hk at yahoo.co.uk  Thu Dec 11 02:44:09 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Thu, 11 Dec 2008 02:44:09 +0100
Subject: [R-SIG-Finance] fPortfolio
Message-ID: <49407069.1010902@yahoo.co.uk>

Nobody?? I am wondering what the problem is. Using different inputs for 
setRiskFreeRate(Spec)  I always get the same output (i.e. same weights). 
And there is never an allocation to the riskfree asset no matter what my 
required return is? Where is my mistake? Am I totally wrong here??

Thanks.

Regards

B


Hello,

i have encountered a problem with fPortfolio recently. I am using below 
code:

the problem is that my risk free rate is different from the one 
displayed in the graphical output and the straight line in the graphical 
output intersects the efficient frontier twice. same problem when i use 
"cmlLines(eff.front)" .what am i missing out on?

THanks.

Data1 <- as.timeSeries(Data1)
Data1 <- as.timeSeries(data(LPP2005REC))
Data1 <- Data1[,1:4]*250

r.p <- 0.10
r.rf <- 0.01

Spec <- portfolioSpec()
restr <- c("Short", "LongOnly")
cons <- restr[1]
setOptimize(Spec) <- "minRisk"
setRiskFreeRate(Spec) <- r.rf #/250
setTargetReturn(Spec) <- r.p #/250
setNFrontierPoints(Spec) <- 50
solver <- c("solveRquadprog", "solveRshortExact")
if(cons == "LongOnly") { setSolver(Spec) <- solver[1] }
if(cons == "Short") { setSolver(Spec) <- solver[2] }

eff.front <- portfolioFrontier(data = Data1, spec = Spec, constraints = 
cons)
eff.port <- efficientPortfolio(data = Data1, spec = Spec, constraints = 
cons)
tang.port <- tangencyPortfolio(data = Data1, spec = Spec, constraints = 
cons)
minvar.port <- minvariancePortfolio(data = Data1, spec = Spec, 
constraints = cons)
w <- as.vector(getWeights(eff.port))
w <- matrix(w, 1, ncol(Data1))
w.min <- as.vector(getWeights(minvar.port))
w.min <- matrix(w.min, 1, ncol(Data1))
w
w.min
frontierPlot(eff.front, frontier = "upper", return="mu", risk="Sigma", 
type="l")
minvariancePoints(eff.front, col="red", bg="red", pch=21)
tangencyLines(eff.front)
tangencyPoints(eff.front)


From brian at braverock.com  Thu Dec 11 03:30:07 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 10 Dec 2008 20:30:07 -0600
Subject: [R-SIG-Finance] fPortfolio
Message-ID: <o99f08weajssk8s9rb247o2b.1228962608246@email.android.com>

There is not always a solution if you set your constraints too high.  If the riskfree rate is set to zero, do you get a rational result? If you use different assets, does the portfdolio behave? Etc.

If you post your instrument data or historical data download code, I'm sure saomone will try to replicate your error, but with only the code and not the data, we're just guessing (see list posting guidelines)

Regards,

     - Brian

Bastian Offermann <bastian2507hk at yahoo.co.uk> wrote:

>Nobody?? I am wondering what the problem is. Using different inputs for 
>setRiskFreeRate(Spec)  I always get the same output (i.e. same weights). 
>And there is never an allocation to the riskfree asset no matter what my 
>required return is? Where is my mistake? Am I totally wrong here??
>
>Thanks.
>
>Regards
>
>B
>
>
>Hello,
>
>i have encountered a problem with fPortfolio recently. I am using below 
>code:
>
>the problem is that my risk free rate is different from the one 
>displayed in the graphical output and the straight line in the graphical 
>output intersects the efficient frontier twice. same problem when i use 
>"cmlLines(eff.front)" .what am i missing out on?
>
>THanks.
>
>Data1 <- as.timeSeries(Data1)
>Data1 <- as.timeSeries(data(LPP2005REC))
>Data1 <- Data1[,1:4]*250
>
>r.p <- 0.10
>r.rf <- 0.01
>
>Spec <- portfolioSpec()
>restr <- c("Short", "LongOnly")
>cons <- restr[1]
>setOptimize(Spec) <- "minRisk"
>setRiskFreeRate(Spec) <- r.rf #/250
>setTargetReturn(Spec) <- r.p #/250
>setNFrontierPoints(Spec) <- 50
>solver <- c("solveRquadprog", "solveRshortExact")
>if(cons == "LongOnly") { setSolver(Spec) <- solver[1] }
>if(cons == "Short") { setSolver(Spec) <- solver[2] }
>
>eff.front <- portfolioFrontier(data = Data1, spec = Spec, constraints = 
>cons)
>eff.port <- efficientPortfolio(data = Data1, spec = Spec, constraints = 
>cons)
>tang.port <- tangencyPortfolio(data = Data1, spec = Spec, constraints = 
>cons)
>minvar.port <- minvariancePortfolio(data = Data1, spec = Spec, 
>constraints = cons)
>w <- as.vector(getWeights(eff.port))
>w <- matrix(w, 1, ncol(Data1))
>w.min <- as.vector(getWeights(minvar.port))
>w.min <- matrix(w.min, 1, ncol(Data1))
>w
>w.min
>frontierPlot(eff.front, frontier = "upper", return="mu", risk="Sigma", 
>type="l")
>minvariancePoints(eff.front, col="red", bg="red", pch=21)
>tangencyLines(eff.front)
>tangencyPoints(eff.front)
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.

From brian at muxspace.com  Thu Dec 11 13:11:49 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Thu, 11 Dec 2008 07:11:49 -0500
Subject: [R-SIG-Finance] Anyone interested in random matrix theory?
In-Reply-To: <58949.1228933757@princeton.edu>
References: <58949.1228933757@princeton.edu>
Message-ID: <1228997509.22625.73.camel@localhost>

Hi All,

There has been more interest in this than I was expecting, so I will
indeed be packaging this up and sharing with the community. Hopefully
the initial release will meet the high expectations of the community! I
will send out more when it is available.

Brian


On Wed, 2008-12-10 at 13:29 -0500, Aaron Katz wrote:
> Sounds fascinating, actually.  I can't speak for the maintainers of Rmetrics, etc. but it seems to me that having more quality code out there is available.  Especially stuff that gets at real-world problems and improves on the stylized models of classical finance ("Modern" Portfolio theory if you will...).
> 
> ---
> Aaron Katz
> Bendheim Center for Finance
> Princeton University
> 
> 
> On Tue 09/12/08  9:58 PM , Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> 
> > Hi,
> > Is anyone interested in portfolio optimization based on random
> > matrix
> > theory? I am considering packaging some code I wrote that filters
> > portfolio correlation matrices based on random matrix theory. The
> > basic
> > idea is that there is a predictable eigenvalue distribution for a
> > random
> > matrix and based on that you can take a custom returns correlation
> > matrix, fit the eigenvalue distribution to the theoretical
> > distribution
> > (based on Marcenko-Pastur) and then filter out those eigenvalues.
> > You
> > can then reconstruct the correlation matrix, which in theory has
> > more
> > signal to noise than you would get otherwise. 
> > >From my initial tests, when optimizing a portfolio using the
> > cleaned
> > correlation matrix, you do get lower risk (and better Sharpe ratio)
> > than
> > you would with an equal weighted portfolio or a portfolio optimized
> > using a multi-factor model. 
> > What is really interesting about random matrix theory is that the
> > fit to
> > the Marcenko-Pastur theoretical distribution is quite resilient and
> > can
> > handle small portfolios with a short window. This addresses one of
> > my
> > biggest gripes I have regarding the Barra approach, that you need to
> > have so much data and the response is somewhat slow due to the long
> > windows in the regressions.
> > Anyway, I am considering packaging this code, but prior to doing so
> > wanted to get a sense if anybody has done this (cheap searches say
> > no)
> > and if anyone is interested in RMT to make it worthwhile.
> > Regards,
> > Brian
> > _______________________________________________
> > mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.
> > 
> >


From sig.lorenzo.bertolini at googlemail.com  Fri Dec 12 19:07:07 2008
From: sig.lorenzo.bertolini at googlemail.com (Lorenzo Bertolini)
Date: Fri, 12 Dec 2008 19:07:07 +0100
Subject: [R-SIG-Finance] chartSeries() and addTA() from within an S4 method
Message-ID: <fbe1429f0812121007rcde38fbp502c638e346b7160@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081212/83cabbb8/attachment.pl>

From jeff.a.ryan at gmail.com  Fri Dec 12 19:17:24 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Fri, 12 Dec 2008 12:17:24 -0600
Subject: [R-SIG-Finance] chartSeries() and addTA() from within an S4
	method
In-Reply-To: <fbe1429f0812121007rcde38fbp502c638e346b7160@mail.gmail.com>
References: <fbe1429f0812121007rcde38fbp502c638e346b7160@mail.gmail.com>
Message-ID: <e8e755250812121017m269dded9o279b2d326867d482@mail.gmail.com>

Hi Lorenzo,

add*** functions need to work 'magically' from the command line _and_
from within the chartSeries (or calls in general), so there is a check
of where it is called from to determine _when_ it does the drawing.

Simply change addTA(mktPositions) plot(addTA(mktPositions)), to cause
the TA to be draw.

HTH
Jeff

On Fri, Dec 12, 2008 at 12:07 PM, Lorenzo Bertolini
<sig.lorenzo.bertolini at googlemail.com> wrote:
> Hello list,
>
> wonder if anyone can help me out. I want to call chartSeries() and
> subsequently addTA() from within an S4 method.
> The chartSeries() works, but the addTA() does not....
>
> setMethod("plot", "TradingSystem_FX", function(x){
> ..
> ..
>                    # plot fx timeseries
>                    x11()
>                    fxSeries = as.quantmod.OHLC(seriesFX,col.names="Close")
>
> chartSeries(fxSeries,theme="white",TA="addEMA(200,col=4)",name=seriesName)
>
>                    #plot marketposition
>                    addTA(mktPositions)
>
> ..
>
>                    })
>
> Thanks and have a nice WE,
>
> Lorenzo Bertolini
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From brian at muxspace.com  Sun Dec 14 03:49:29 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sat, 13 Dec 2008 21:49:29 -0500
Subject: [R-SIG-Finance] rollapply and resulting index
Message-ID: <1229222969.24725.10.camel@localhost>

Hi,

I was using rollapply on a zoo time series and the resulting zoo object
had index values that I wasn't expecting. I assumed (for better or
worse) that the index dates would be anchored to the last date in the
index as you would expect from a rolling moving average, but instead the
dates seemed to hover around the median. Is this the expected behavior?

Thanks,
Brian


> z <- zoo(11:15, as.Date(31:35))
> z
1970-02-01 1970-02-02 1970-02-03 1970-02-04 1970-02-05 
        11         12         13         14         15 
> rollapply(z, 2, mean)
1970-02-01 1970-02-02 1970-02-03 1970-02-04 
      11.5       12.5       13.5       14.5 
> rollapply(z, 3, mean)
1970-02-02 1970-02-03 1970-02-04 
        12         13         14 
> rollapply(z, 4, mean)
1970-02-02 1970-02-03 
      12.5       13.5 
> rollapply(z, 5, mean)
1970-02-03 
        13


From jeff.a.ryan at gmail.com  Sun Dec 14 04:13:31 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sat, 13 Dec 2008 21:13:31 -0600
Subject: [R-SIG-Finance] rollapply and resulting index
In-Reply-To: <1229222969.24725.10.camel@localhost>
References: <1229222969.24725.10.camel@localhost>
Message-ID: <e8e755250812131913y457c33d5k411d41536cd13a10@mail.gmail.com>

Hi Brain,

Expected.

>From ?rollapply

Usage:

     rollapply(data, width, FUN, ..., by = 1, ascending = TRUE,
by.column = TRUE,
      na.pad = FALSE, align = c("center", "left", "right"))
...
   align: character specifying whether result should be left- or
          right-aligned or centered (default).

I suspect you want align='right'

Jeff

On Sat, Dec 13, 2008 at 8:49 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Hi,
>
> I was using rollapply on a zoo time series and the resulting zoo object
> had index values that I wasn't expecting. I assumed (for better or
> worse) that the index dates would be anchored to the last date in the
> index as you would expect from a rolling moving average, but instead the
> dates seemed to hover around the median. Is this the expected behavior?
>
> Thanks,
> Brian
>
>
>> z <- zoo(11:15, as.Date(31:35))
>> z
> 1970-02-01 1970-02-02 1970-02-03 1970-02-04 1970-02-05
>        11         12         13         14         15
>> rollapply(z, 2, mean)
> 1970-02-01 1970-02-02 1970-02-03 1970-02-04
>      11.5       12.5       13.5       14.5
>> rollapply(z, 3, mean)
> 1970-02-02 1970-02-03 1970-02-04
>        12         13         14
>> rollapply(z, 4, mean)
> 1970-02-02 1970-02-03
>      12.5       13.5
>> rollapply(z, 5, mean)
> 1970-02-03
>        13
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From zakdump at gmail.com  Sun Dec 14 11:14:00 2008
From: zakdump at gmail.com (Michael Zak)
Date: Sun, 14 Dec 2008 11:14:00 +0100
Subject: [R-SIG-Finance] quantmod: addTA is broken?
Message-ID: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>

Hi there

I have here some financial charts which I did a couple of months ago  
with quantmod. Today, I recharted my data with chartSeries(), which  
works fine. As soon as I add some indicators with addTA() I get a  
error message.

For example:
require(quantmod)
require(TTR)
getSymbols("YHOO")
chartSeries(YHOO)
min55 <- runMin(YHOO$YHOO.Low, 55)
addTA(min55, on = 1)


I get this message:

Warning messages:
1: In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
   Index vectors are of different classes: POSIXt POSIXt integer integer


How can I solve this?

Thank you, Michael


From ivan.sutoris at gmail.com  Sun Dec 14 12:32:06 2008
From: ivan.sutoris at gmail.com (Ivan Sutoris)
Date: Sun, 14 Dec 2008 12:32:06 +0100
Subject: [R-SIG-Finance] plotting with package vars
Message-ID: <65d1f7fc0812140332n2b4a8269sff5bae1461e3bf9@mail.gmail.com>

Hello

I've been trying to estimate structural VAR model with package "vars"
and I've encountered some issues with plotting functions from this
package (I hope I'm posting to the right list). I'm using R 2.8.0 in
Windows:

1. After estimating VAR model with "VAR" function, I tried to plot the
result using plot method for varest object. I wanted to save plots in
separate files, so I used "names" property to create individual plots
for individual variables. However, the result showed always data for
the first variable, regardless of what I specified in names. Small
example:

library(vars)
data(Canada)
mymodel <- VAR(Canada)
plot(mymodel, names="e")
windows()   # open new figure
plot(mymodel, names="prod")

I get two figures, which are exactly the same, both plotting the fit
for "e", the first variable - this seems like a bug.

2. When plotting imuplse-response functions, (plot method for varirf
object), y-range for all variables is set the same. This can be
problematic when variables have different scales, but I haven't found
a way to specify the range manually. Is it possible?

Thanks in advance for your time

Ivan Sutoris
student (applied mathematics)
Comenius University, Bratislava, Slovakia


From ggrothendieck at gmail.com  Sun Dec 14 13:40:58 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Sun, 14 Dec 2008 07:40:58 -0500
Subject: [R-SIG-Finance] quantmod: addTA is broken?
In-Reply-To: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
References: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
Message-ID: <971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>

That's a warning message, not an error message.  This suppresses it:

suppressWarnings(plot(addTA(min55, on = 1)))


On Sun, Dec 14, 2008 at 5:14 AM, Michael Zak <zakdump at gmail.com> wrote:
> Hi there
>
> I have here some financial charts which I did a couple of months ago with
> quantmod. Today, I recharted my data with chartSeries(), which works fine.
> As soon as I add some indicators with addTA() I get a error message.
>
> For example:
> require(quantmod)
> require(TTR)
> getSymbols("YHOO")
> chartSeries(YHOO)
> min55 <- runMin(YHOO$YHOO.Low, 55)
> addTA(min55, on = 1)
>
>
> I get this message:
>
> Warning messages:
> 1: In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>  Index vectors are of different classes: POSIXt POSIXt integer integer
>
>
> How can I solve this?
>
> Thank you, Michael
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From zakdump at gmail.com  Sun Dec 14 14:23:46 2008
From: zakdump at gmail.com (Michael Zak)
Date: Sun, 14 Dec 2008 14:23:46 +0100
Subject: [R-SIG-Finance] quantmod: addTA is broken?
In-Reply-To: <971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>
References: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
	<971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>
Message-ID: <6C5065B6-AED1-4288-969B-E3CC1402B0C3@gmail.com>

You're absolutely right. I gave you a wrong example.

Let's say I have OHLC data from Cotton over the last 80 days. In a  
spreadsheet I got from a client the computed EMA values for cotton's  
daily high. So I import the computed values (the last 80) in R like  
this:

require(quantmod)
CottonSpreadsheet <- read.table(...)
CottonSpreadsheet <- last(CottonSpredsheet, 80)
OHLC <- last(Cotton, 80)
chartSeries(OHLC, type = "bars")
addTA(CottonSpeadsheet)

Now I got this error message:

Fehler in tav * 0.975 : nicht-numerisches Argument f?r bin?ren Operator
Zus?tzlich: Warning message:
In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
   Index vectors are of different classes: POSIXt POSIXt integer integer

I get the chartSeries(), but without the added addTA. I don't know why  
this first line of the error message is in German. I hope you can help  
me anyway.

Thank you, Michael

On 14.12.2008, at 13:40, Gabor Grothendieck wrote:

> That's a warning message, not an error message.  This suppresses it:
>
> suppressWarnings(plot(addTA(min55, on = 1)))
>
>
> On Sun, Dec 14, 2008 at 5:14 AM, Michael Zak <zakdump at gmail.com>  
> wrote:
>> Hi there
>>
>> I have here some financial charts which I did a couple of months  
>> ago with
>> quantmod. Today, I recharted my data with chartSeries(), which  
>> works fine.
>> As soon as I add some indicators with addTA() I get a error message.
>>
>> For example:
>> require(quantmod)
>> require(TTR)
>> getSymbols("YHOO")
>> chartSeries(YHOO)
>> min55 <- runMin(YHOO$YHOO.Low, 55)
>> addTA(min55, on = 1)
>>
>>
>> I get this message:
>>
>> Warning messages:
>> 1: In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>> Index vectors are of different classes: POSIXt POSIXt integer integer
>>
>>
>> How can I solve this?
>>
>> Thank you, Michael
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>


From brian at muxspace.com  Sun Dec 14 15:04:31 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sun, 14 Dec 2008 09:04:31 -0500
Subject: [R-SIG-Finance] rollapply and resulting index
In-Reply-To: <e8e755250812131913y457c33d5k411d41536cd13a10@mail.gmail.com>
References: <1229222969.24725.10.camel@localhost>
	<e8e755250812131913y457c33d5k411d41536cd13a10@mail.gmail.com>
Message-ID: <1229263471.24725.13.camel@localhost>

Doh. Missed that in the doc. Hopefully my new glasses will address that
in the future.

Thanks,
Brian


On Sat, 2008-12-13 at 21:13 -0600, Jeff Ryan wrote:
> Hi Brain,
> 
> Expected.
> 
> >From ?rollapply
> 
> Usage:
> 
>      rollapply(data, width, FUN, ..., by = 1, ascending = TRUE,
> by.column = TRUE,
>       na.pad = FALSE, align = c("center", "left", "right"))
> ...
>    align: character specifying whether result should be left- or
>           right-aligned or centered (default).
> 
> I suspect you want align='right'
> 
> Jeff
> 
> On Sat, Dec 13, 2008 at 8:49 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> > Hi,
> >
> > I was using rollapply on a zoo time series and the resulting zoo object
> > had index values that I wasn't expecting. I assumed (for better or
> > worse) that the index dates would be anchored to the last date in the
> > index as you would expect from a rolling moving average, but instead the
> > dates seemed to hover around the median. Is this the expected behavior?
> >
> > Thanks,
> > Brian
> >
> >
> >> z <- zoo(11:15, as.Date(31:35))
> >> z
> > 1970-02-01 1970-02-02 1970-02-03 1970-02-04 1970-02-05
> >        11         12         13         14         15
> >> rollapply(z, 2, mean)
> > 1970-02-01 1970-02-02 1970-02-03 1970-02-04
> >      11.5       12.5       13.5       14.5
> >> rollapply(z, 3, mean)
> > 1970-02-02 1970-02-03 1970-02-04
> >        12         13         14
> >> rollapply(z, 4, mean)
> > 1970-02-02 1970-02-03
> >      12.5       13.5
> >> rollapply(z, 5, mean)
> > 1970-02-03
> >        13
> >
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.
> >
> 
> 
>


From matthieu.stigler at gmail.com  Sun Dec 14 15:05:08 2008
From: matthieu.stigler at gmail.com (Matthieu Stigler)
Date: Sun, 14 Dec 2008 19:35:08 +0530
Subject: [R-SIG-Finance] plotting with package vars
In-Reply-To: <65d1f7fc0812140332n2b4a8269sff5bae1461e3bf9@mail.gmail.com>
References: <65d1f7fc0812140332n2b4a8269sff5bae1461e3bf9@mail.gmail.com>
Message-ID: <49451294.2000300@gmail.com>

Dear Ivan
Concerning your second question, the same scale of the y axis, I just 
had the same problem and   modified the function, ading an argument 
same.scale=TRUE or FALSE. You can use it if you want, just use it with 
source() and set same.scale default value as you want. It may still have 
some probs, did not check extensively... let me know.

Mat



Ivan Sutoris a ?crit :
> Hello
>
> I've been trying to estimate structural VAR model with package "vars"
> and I've encountered some issues with plotting functions from this
> package (I hope I'm posting to the right list). I'm using R 2.8.0 in
> Windows:
>
> 1. After estimating VAR model with "VAR" function, I tried to plot the
> result using plot method for varest object. I wanted to save plots in
> separate files, so I used "names" property to create individual plots
> for individual variables. However, the result showed always data for
> the first variable, regardless of what I specified in names. Small
> example:
>
> library(vars)
> data(Canada)
> mymodel <- VAR(Canada)
> plot(mymodel, names="e")
> windows()   # open new figure
> plot(mymodel, names="prod")
>
> I get two figures, which are exactly the same, both plotting the fit
> for "e", the first variable - this seems like a bug.
>
> 2. When plotting imuplse-response functions, (plot method for varirf
> object), y-range for all variables is set the same. This can be
> problematic when variables have different scales, but I haven't found
> a way to specify the range manually. Is it possible?
>
> Thanks in advance for your time
>
> Ivan Sutoris
> student (applied mathematics)
> Comenius University, Bratislava, Slovakia
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>   
"plot.varirf" <- 
function (x, plot.type = c("multiple", "single"), names = NULL, 
    main = NULL, sub = NULL, lty = NULL, lwd = NULL, col = NULL, ylim = 
NULL, 
    ylab = NULL, xlab = NULL, nc, mar.multi = c(0, 4, 0, 4),
    oma.multi = c(6, 4, 6, 4), adj.mtext = NA, padj.mtext = NA, 
col.mtext = NA, same.scale=FALSE,...)  
{
    op <- par(no.readonly = TRUE)
    on.exit(par(op))
    ##
    ## Checking of arguments
    ##
    plot.type <- match.arg(plot.type)
    inames <- x$impulse
    rnames <- x$response
    if (is.null(names)) {
        names <- inames
    }
    else {
        names <- as.character(names)
        if (!(all(names %in% inames))) {
            warning("\nInvalid variable name(s) supplied, using first 
variable.\n")
            inames <- inames[1]
        }
        else {
            inames <- names
        }
    }
    nvi <- length(inames)
    nvr <- length(rnames)
    ##
    ## Presetting certain plot-argument
    ifelse(is.null(lwd), lwd <- c(1, 1, 1, 1), lwd <- rep(lwd, 4)[1:4])
    ifelse(is.null(col), col <- c("black", "gray", "red", "red"), col <- 
rep(col, 4)[1:4])
    ##
    ## Extract data from object for plotting per iname
    ##
    dataplot <- function(x, iname){
      impulses <- x$irf[[iname]]
      range <- t(apply(impulses, 2, range))
      upper <- NULL
      lower <- NULL
      if(x$boot){
        upper <- x$Upper[[iname]]
        lower <- x$Lower[[iname]]
        range <- cbind( apply(lower, 2,min),apply(upper, 2, max))
      }
      ifelse(same.scale, range<-matrix(range(range), ncol=2, 
nrow=ncol(impulses), byrow=TRUE), range<-range)
      if ((x$model == "varest") || (x$model == "vec2var")) {
        if (x$ortho) {
          text1 <- paste("Orthogonal Impulse Response from", iname, sep 
= " ")
        } else {
         text1 <- paste("Impulse Response from", iname, sep = " ")
        }
      } else if (x$model == "svarest") {
        text1 <- paste("SVAR Impulse Response from", iname, sep = " ")
      } else if (x$model == "svecest") {
        text1 <- paste("SVECM Impulse Response from", iname, sep = " ")
      }
      if (x$cumulative)  text1 <- paste(text1, "(cumulative)", sep = " ")
      text2 <- ""
      if (x$boot) text2 <- paste((1 - x$ci) * 100, "% Bootstrap CI, ", 
x$runs, "runs")
      result <- list(impulses = impulses, upper = upper, lower = lower, 
range = range, text1 = text1, text2 = text2)
      return(result)
    }
    ##
    ## Plot function for irf per impulse and response
    ##
    plot.single <- function(x, iname, rname, ylim,...) {
      ifelse(is.null(main), main <- x$text1, main <- main)
      ifelse(is.null(sub), sub <- x$text2, sub <- sub)
      xy <- xy.coords(x$impulse[, rname])
      ifelse(is.null(ylab), ylabel <- rname, ylabel <- ylab)
      ifelse(is.null(xlab), xlabel <- "", xlabel <- xlab)
      plot(xy, type = "l", ylim = ylim, col = col[1], lty = lty[1], lwd 
= lwd[1], axes = FALSE, ylab = paste(ylabel), xlab = paste(xlab), ...)
      title(main = main, sub = sub, ...)
      axis(1, at = xy$x, labels = c(0:(length(xy$x) - 1)))
      axis(2, ...)
      box()    
      if (!is.null(x$upper)) lines(x$upper[, rname], col = col[3], lty = 
lty[3], lwd = lwd[3])
      if (!is.null(x$lower)) lines(x$lower[, rname], col = col[3], lty = 
lty[3], lwd = lwd[3])
      abline(h = 0, col = col[2], lty = lty[2], lwd = lwd[2])
    }
    ##
    ## Plot function per impulse
    ##
    plot.multiple <- function(dp, nc = nc, ...){
      x <- dp$impulses
      y <- dp$upper
      z <- dp$lower
      ifelse(is.null(main), main <- dp$text1, main <- main)
      ifelse(is.null(sub), sub <- dp$text2, sub <- sub)
      ifelse(is.null(ylim), ylim <- dp$range, ylim <- matrix(ylim, 
ncol=2, nrow=ncol(x), byrow=TRUE))
      range <- range(c(x, y, z))
      nvr <- ncol(x)
      if (missing(nc)) {
        nc <- ifelse(nvr > 4, 2, 1)
      }
      nr <- ceiling(nvr/nc)
      par(mfrow = c(nr, nc), mar = mar.multi, oma = oma.multi)
      if(nr > 1){
        for(i in 1:(nvr - nc)){
          ifelse(is.null(ylab), ylabel <- colnames(x)[i], ylabel <- ylab)
          xy <- xy.coords(x[, i])
          plot(xy, axes = FALSE, type = "l", ylab = ylabel, ylim = 
ylim[i,], col = col[1], lty = lty[1], lwd = lwd[1], ...)
          axis(2, at = pretty(ylim[i,])[-1])
          abline(h = 0, col = "red")
          if(!is.null(y)) lines(y[, i], col = col[3], lty = lty[3], lwd 
= lwd[3])
          if(!is.null(z)) lines(z[, i], col = col[3], lty = lty[3], lwd 
= lwd[3])
          box()
        }       
        for(j in (nvr - nc + 1):nvr){
          ifelse(is.null(ylab), ylabel <- colnames(x)[j], ylabel <- ylab)
          xy <- xy.coords(x[, j])
          plot(xy, axes = FALSE, type = "l", ylab = ylabel, ylim = 
ylim[j,], col = col[1], lty = lty[1], lwd = lwd[1], ...)
          axis(2, at = pretty(ylim[j,])[-1])
          axis(1, at = 1:(nrow(x)), labels = c(0:(nrow(x) - 1)))
          box()
          abline(h = 0, col = "red")
          if(!is.null(y)) lines(y[, j], col = col[3], lty = lty[3], lwd 
= lwd[3])
          if(!is.null(z)) lines(z[, j], col = col[3], lty = lty[3], lwd 
= lwd[3])
        }
        mtext(main, 3, line = 2, outer = TRUE, adj = adj.mtext, padj = 
padj.mtext, col = col.mtext, ...)
        mtext(sub, 1, line = 4, outer = TRUE, adj = adj.mtext, padj = 
padj.mtext, col = col.mtext, ...)        
      } else {
        for(j in 1:nvr){
          ifelse(is.null(ylab), ylabel <- colnames(x)[j], ylabel <- ylab)
          xy <- xy.coords(x[, j])
          plot(xy, type = "l", ylab = ylabel, ylim = ylim[j,], col = 
col[1], lty = lty[1], lwd = lwd[1], ...)
          if(!is.null(y)) lines(y[, j], col = col[3], lty = lty[3], lwd 
= lwd[3])
          if(!is.null(z)) lines(z[, j], col = col[3], lty = lty[3], lwd 
= lwd[3])
          abline(h = 0, col = "red")
        }
        mtext(main, 3, line = 2, outer = TRUE, adj = adj.mtext, padj = 
padj.mtext, col = col.mtext, ...)
        mtext(sub, 1, line = 4, outer = TRUE, adj = adj.mtext, padj = 
padj.mtext, col = col.mtext, ...)
      }
    }
    ##
    ## Plot for type = single
    ##
    if (plot.type == "single") {
      for(i in 1:nvi){
        dp <- dataplot(x, iname = inames[i]) 
    ifelse(is.null(ylim), ylimVal <- dp$range, ylimVal <- matrix(ylim, 
ncol=2, nrow=ncol(x), byrow=TRUE))
        for(j in 1:nvr){
          plot.single(dp, iname = inames[i], rname = rnames[j], 
ylim=ylimVal[j,],...)
          if (nvr > 1) par(ask = TRUE)
        }
      }
    }
    ##
    ## Plot for type = multiple
    ##
    if (plot.type == "multiple") {
      for (i in 1:nvi) {
        dp <- dataplot(x, iname = inames[i])
        plot.multiple(dp, nc = nc, ...)
        if (nvi > 1) par(ask = TRUE)
      }
    }   
}
 
library(vars)
environment(plot.varirf)<-environment(Phi)
 
 
 
if(FALSE){
library(vars)
data(Canada)
 
c<-VAR(Canada)
 
i<-irf(c)
 
environment(plot.varirf)<-environment(Phi)
plot(i, same.scale=FALSE, plot.type="multiple")
plot(i, same.scale=FALSE, plot.type="single")
environment(plot.varirf2)<-environment(Phi)
plot.varirf2(i, plot.type="single")
dataplot(i, "rw")
 
matrix(1:2, ncol=2, nrow=4, byrow=TRUE)
 
nr <- ceiling(nvr/nc)
}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Tempplot.varirf.R
Type: application/x-extension-r
Size: 7296 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081214/fe880fcb/attachment.bin>

From brian at muxspace.com  Sun Dec 14 15:14:01 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Sun, 14 Dec 2008 09:14:01 -0500
Subject: [R-SIG-Finance] quantmod: addTA is broken?
In-Reply-To: <6C5065B6-AED1-4288-969B-E3CC1402B0C3@gmail.com>
References: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
	<971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>
	<6C5065B6-AED1-4288-969B-E3CC1402B0C3@gmail.com>
Message-ID: <1229264041.24725.21.camel@localhost>

Michael,

It's hard to speculate without knowing what the data you have looks
like. Can you send the output of
 class(CottonSpreadsheet)
 colnames(CottonSpreadsheet)
? 

Also, did you run with debug(addTA)? You can probably narrow down the
problem by stepping through the function yourself.

Brian


On Sun, 2008-12-14 at 14:23 +0100, Michael Zak wrote:
> You're absolutely right. I gave you a wrong example.
> 
> Let's say I have OHLC data from Cotton over the last 80 days. In a  
> spreadsheet I got from a client the computed EMA values for cotton's  
> daily high. So I import the computed values (the last 80) in R like  
> this:
> 
> require(quantmod)
> CottonSpreadsheet <- read.table(...)
> CottonSpreadsheet <- last(CottonSpredsheet, 80)
> OHLC <- last(Cotton, 80)
> chartSeries(OHLC, type = "bars")
> addTA(CottonSpeadsheet)
> 
> Now I got this error message:
> 
> Fehler in tav * 0.975 : nicht-numerisches Argument f?r bin?ren Operator
> Zus?tzlich: Warning message:
> In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>    Index vectors are of different classes: POSIXt POSIXt integer integer
> 
> I get the chartSeries(), but without the added addTA. I don't know why  
> this first line of the error message is in German. I hope you can help  
> me anyway.
> 
> Thank you, Michael
> 
> On 14.12.2008, at 13:40, Gabor Grothendieck wrote:
> 
> > That's a warning message, not an error message.  This suppresses it:
> >
> > suppressWarnings(plot(addTA(min55, on = 1)))
> >
> >
> > On Sun, Dec 14, 2008 at 5:14 AM, Michael Zak <zakdump at gmail.com>  
> > wrote:
> >> Hi there
> >>
> >> I have here some financial charts which I did a couple of months  
> >> ago with
> >> quantmod. Today, I recharted my data with chartSeries(), which  
> >> works fine.
> >> As soon as I add some indicators with addTA() I get a error message.
> >>
> >> For example:
> >> require(quantmod)
> >> require(TTR)
> >> getSymbols("YHOO")
> >> chartSeries(YHOO)
> >> min55 <- runMin(YHOO$YHOO.Low, 55)
> >> addTA(min55, on = 1)
> >>
> >>
> >> I get this message:
> >>
> >> Warning messages:
> >> 1: In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
> >> Index vectors are of different classes: POSIXt POSIXt integer integer
> >>
> >>
> >> How can I solve this?
> >>
> >> Thank you, Michael
> >>
> >> _______________________________________________
> >> R-SIG-Finance at stat.math.ethz.ch mailing list
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >> -- Subscriber-posting only.
> >> -- If you want to post, subscribe first.
> >>
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From zakdump at gmail.com  Sun Dec 14 15:29:30 2008
From: zakdump at gmail.com (Michael Zak)
Date: Sun, 14 Dec 2008 15:29:30 +0100
Subject: [R-SIG-Finance] quantmod: addTA is broken?
In-Reply-To: <1229264041.24725.21.camel@localhost>
References: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
	<971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>
	<6C5065B6-AED1-4288-969B-E3CC1402B0C3@gmail.com>
	<1229264041.24725.21.camel@localhost>
Message-ID: <A9932214-9A33-4383-96AD-30A315FEEF7B@gmail.com>

 > class(CottonSpreadsheet)
[1] "data.frame"

 > colnames(CottonSpreadsheet)
[1] "V1"               "orginal_EMA_High"

I tried to find the error with debug(addTA), without success. As soon  
as I execute addTA() I get this error message. I tried it with a  
vector or a xts object (always with the same length as the OHLC xts  
object is). Funny thing is, I see the EMA values, but some other  
strange curves too (which I don't want!).

I did a screenshot: http://zak.li/linked/quantmod.png

But, oh what a success. I downgraded quantmod from 3.7 to 3.6 and  
everything works fine now.

Thank you all, Michael

On 14.12.2008, at 15:14, Brian Lee Yung Rowe wrote:

> Michael,
>
> It's hard to speculate without knowing what the data you have looks
> like. Can you send the output of
> class(CottonSpreadsheet)
> colnames(CottonSpreadsheet)
> ?
>
> Also, did you run with debug(addTA)? You can probably narrow down the
> problem by stepping through the function yourself.
>
> Brian
>
>
> On Sun, 2008-12-14 at 14:23 +0100, Michael Zak wrote:
>> You're absolutely right. I gave you a wrong example.
>>
>> Let's say I have OHLC data from Cotton over the last 80 days. In a
>> spreadsheet I got from a client the computed EMA values for cotton's
>> daily high. So I import the computed values (the last 80) in R like
>> this:
>>
>> require(quantmod)
>> CottonSpreadsheet <- read.table(...)
>> CottonSpreadsheet <- last(CottonSpredsheet, 80)
>> OHLC <- last(Cotton, 80)
>> chartSeries(OHLC, type = "bars")
>> addTA(CottonSpeadsheet)
>>
>> Now I got this error message:
>>
>> Fehler in tav * 0.975 : nicht-numerisches Argument f?r bin?ren  
>> Operator
>> Zus?tzlich: Warning message:
>> In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>>   Index vectors are of different classes: POSIXt POSIXt integer  
>> integer
>>
>> I get the chartSeries(), but without the added addTA. I don't know  
>> why
>> this first line of the error message is in German. I hope you can  
>> help
>> me anyway.
>>
>> Thank you, Michael
>>
>> On 14.12.2008, at 13:40, Gabor Grothendieck wrote:
>>
>>> That's a warning message, not an error message.  This suppresses it:
>>>
>>> suppressWarnings(plot(addTA(min55, on = 1)))
>>>
>>>
>>> On Sun, Dec 14, 2008 at 5:14 AM, Michael Zak <zakdump at gmail.com>
>>> wrote:
>>>> Hi there
>>>>
>>>> I have here some financial charts which I did a couple of months
>>>> ago with
>>>> quantmod. Today, I recharted my data with chartSeries(), which
>>>> works fine.
>>>> As soon as I add some indicators with addTA() I get a error  
>>>> message.
>>>>
>>>> For example:
>>>> require(quantmod)
>>>> require(TTR)
>>>> getSymbols("YHOO")
>>>> chartSeries(YHOO)
>>>> min55 <- runMin(YHOO$YHOO.Low, 55)
>>>> addTA(min55, on = 1)
>>>>
>>>>
>>>> I get this message:
>>>>
>>>> Warning messages:
>>>> 1: In merge.zoo(lchob at xdata, ta, join = "left", retside =  
>>>> c(FALSE,  :
>>>> Index vectors are of different classes: POSIXt POSIXt integer  
>>>> integer
>>>>
>>>>
>>>> How can I solve this?
>>>>
>>>> Thank you, Michael
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only.
>>>> -- If you want to post, subscribe first.
>>>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Sun Dec 14 16:44:38 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 14 Dec 2008 09:44:38 -0600
Subject: [R-SIG-Finance] quantmod: addTA is broken?
In-Reply-To: <A9932214-9A33-4383-96AD-30A315FEEF7B@gmail.com>
References: <05096270-7D25-4C78-8CC6-37B8E4D3EA8D@gmail.com>
	<971536df0812140440q4c97a872gc450a8ed5866b56b@mail.gmail.com>
	<6C5065B6-AED1-4288-969B-E3CC1402B0C3@gmail.com>
	<1229264041.24725.21.camel@localhost>
	<A9932214-9A33-4383-96AD-30A315FEEF7B@gmail.com>
Message-ID: <e8e755250812140744g2a5040co27e0cdf9beb5744c@mail.gmail.com>

Hi Michael,

The issue is an incompatibility between the newest quantmod and the
current CRAN version of xts.  So downgrading quantmod should solve the
issue (as you have seen).

Though it was intended to be released last week, xts_0.6-2 (the newest
xts) has some additional features that addTA takes advantage of.  A
chicken and the egg, in which the chicken won...

That is what you are seeing in your output ... merge.xts now has a
join and retside arg that is getting misinterpreted by the old
merge.xts.

xts is wrapping up testing now, and should be ready for CRAN in the
next day or two.

Thanks,
Jeff

On Sun, Dec 14, 2008 at 8:29 AM, Michael Zak <zakdump at gmail.com> wrote:
>> class(CottonSpreadsheet)
> [1] "data.frame"
>
>> colnames(CottonSpreadsheet)
> [1] "V1"               "orginal_EMA_High"
>
> I tried to find the error with debug(addTA), without success. As soon as I
> execute addTA() I get this error message. I tried it with a vector or a xts
> object (always with the same length as the OHLC xts object is). Funny thing
> is, I see the EMA values, but some other strange curves too (which I don't
> want!).
>
> I did a screenshot: http://zak.li/linked/quantmod.png
>
> But, oh what a success. I downgraded quantmod from 3.7 to 3.6 and everything
> works fine now.
>
> Thank you all, Michael
>
> On 14.12.2008, at 15:14, Brian Lee Yung Rowe wrote:
>
>> Michael,
>>
>> It's hard to speculate without knowing what the data you have looks
>> like. Can you send the output of
>> class(CottonSpreadsheet)
>> colnames(CottonSpreadsheet)
>> ?
>>
>> Also, did you run with debug(addTA)? You can probably narrow down the
>> problem by stepping through the function yourself.
>>
>> Brian
>>
>>
>> On Sun, 2008-12-14 at 14:23 +0100, Michael Zak wrote:
>>>
>>> You're absolutely right. I gave you a wrong example.
>>>
>>> Let's say I have OHLC data from Cotton over the last 80 days. In a
>>> spreadsheet I got from a client the computed EMA values for cotton's
>>> daily high. So I import the computed values (the last 80) in R like
>>> this:
>>>
>>> require(quantmod)
>>> CottonSpreadsheet <- read.table(...)
>>> CottonSpreadsheet <- last(CottonSpredsheet, 80)
>>> OHLC <- last(Cotton, 80)
>>> chartSeries(OHLC, type = "bars")
>>> addTA(CottonSpeadsheet)
>>>
>>> Now I got this error message:
>>>
>>> Fehler in tav * 0.975 : nicht-numerisches Argument f?r bin?ren Operator
>>> Zus?tzlich: Warning message:
>>> In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>>>  Index vectors are of different classes: POSIXt POSIXt integer integer
>>>
>>> I get the chartSeries(), but without the added addTA. I don't know why
>>> this first line of the error message is in German. I hope you can help
>>> me anyway.
>>>
>>> Thank you, Michael
>>>
>>> On 14.12.2008, at 13:40, Gabor Grothendieck wrote:
>>>
>>>> That's a warning message, not an error message.  This suppresses it:
>>>>
>>>> suppressWarnings(plot(addTA(min55, on = 1)))
>>>>
>>>>
>>>> On Sun, Dec 14, 2008 at 5:14 AM, Michael Zak <zakdump at gmail.com>
>>>> wrote:
>>>>>
>>>>> Hi there
>>>>>
>>>>> I have here some financial charts which I did a couple of months
>>>>> ago with
>>>>> quantmod. Today, I recharted my data with chartSeries(), which
>>>>> works fine.
>>>>> As soon as I add some indicators with addTA() I get a error message.
>>>>>
>>>>> For example:
>>>>> require(quantmod)
>>>>> require(TTR)
>>>>> getSymbols("YHOO")
>>>>> chartSeries(YHOO)
>>>>> min55 <- runMin(YHOO$YHOO.Low, 55)
>>>>> addTA(min55, on = 1)
>>>>>
>>>>>
>>>>> I get this message:
>>>>>
>>>>> Warning messages:
>>>>> 1: In merge.zoo(lchob at xdata, ta, join = "left", retside = c(FALSE,  :
>>>>> Index vectors are of different classes: POSIXt POSIXt integer integer
>>>>>
>>>>>
>>>>> How can I solve this?
>>>>>
>>>>> Thank you, Michael
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>>> -- Subscriber-posting only.
>>>>> -- If you want to post, subscribe first.
>>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From bernhard at pfaffikus.de  Sun Dec 14 22:25:48 2008
From: bernhard at pfaffikus.de (Dr. Bernhard Pfaff)
Date: Sun, 14 Dec 2008 22:25:48 +0100
Subject: [R-SIG-Finance] plotting with package vars
In-Reply-To: <49451294.2000300@gmail.com>
References: <65d1f7fc0812140332n2b4a8269sff5bae1461e3bf9@mail.gmail.com>
	<49451294.2000300@gmail.com>
Message-ID: <494579DC.4090008@pfaffikus.de>

Dear Ivan,

many thanks for your report. (1) has been fixed and a corrected version 
of vars is now on R-Forge (see AICTS II). It will be populated to CRAN 
in due course. With respect to (2), aside of the Matthieu's code it 
should be noted that ylim has been set to the same values on purpose, 
i.e., to enable a better comparison between the irf.

Best,
Bernhard

Matthieu Stigler schrieb:
> Dear Ivan
> Concerning your second question, the same scale of the y axis, I just 
> had the same problem and   modified the function, ading an argument 
> same.scale=TRUE or FALSE. You can use it if you want, just use it with 
> source() and set same.scale default value as you want. It may still 
> have some probs, did not check extensively... let me know.
>
> Mat
>
>
>
> Ivan Sutoris a ?crit :
>> Hello
>>
>> I've been trying to estimate structural VAR model with package "vars"
>> and I've encountered some issues with plotting functions from this
>> package (I hope I'm posting to the right list). I'm using R 2.8.0 in
>> Windows:
>>
>> 1. After estimating VAR model with "VAR" function, I tried to plot the
>> result using plot method for varest object. I wanted to save plots in
>> separate files, so I used "names" property to create individual plots
>> for individual variables. However, the result showed always data for
>> the first variable, regardless of what I specified in names. Small
>> example:
>>
>> library(vars)
>> data(Canada)
>> mymodel <- VAR(Canada)
>> plot(mymodel, names="e")
>> windows()   # open new figure
>> plot(mymodel, names="prod")
>>
>> I get two figures, which are exactly the same, both plotting the fit
>> for "e", the first variable - this seems like a bug.
>>
>> 2. When plotting imuplse-response functions, (plot method for varirf
>> object), y-range for all variables is set the same. This can be
>> problematic when variables have different scales, but I haven't found
>> a way to specify the range manually. Is it possible?
>>
>> Thanks in advance for your time
>>
>> Ivan Sutoris
>> student (applied mathematics)
>> Comenius University, Bratislava, Slovakia
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>   
> "plot.varirf" <- function (x, plot.type = c("multiple", "single"), 
> names = NULL,    main = NULL, sub = NULL, lty = NULL, lwd = NULL, col 
> = NULL, ylim = NULL,    ylab = NULL, xlab = NULL, nc, mar.multi = c(0, 
> 4, 0, 4),
>    oma.multi = c(6, 4, 6, 4), adj.mtext = NA, padj.mtext = NA, 
> col.mtext = NA, same.scale=FALSE,...)  {
>    op <- par(no.readonly = TRUE)
>    on.exit(par(op))
>    ##
>    ## Checking of arguments
>    ##
>    plot.type <- match.arg(plot.type)
>    inames <- x$impulse
>    rnames <- x$response
>    if (is.null(names)) {
>        names <- inames
>    }
>    else {
>        names <- as.character(names)
>        if (!(all(names %in% inames))) {
>            warning("\nInvalid variable name(s) supplied, using first 
> variable.\n")
>            inames <- inames[1]
>        }
>        else {
>            inames <- names
>        }
>    }
>    nvi <- length(inames)
>    nvr <- length(rnames)
>    ##
>    ## Presetting certain plot-argument
>    ifelse(is.null(lwd), lwd <- c(1, 1, 1, 1), lwd <- rep(lwd, 4)[1:4])
>    ifelse(is.null(col), col <- c("black", "gray", "red", "red"), col 
> <- rep(col, 4)[1:4])
>    ##
>    ## Extract data from object for plotting per iname
>    ##
>    dataplot <- function(x, iname){
>      impulses <- x$irf[[iname]]
>      range <- t(apply(impulses, 2, range))
>      upper <- NULL
>      lower <- NULL
>      if(x$boot){
>        upper <- x$Upper[[iname]]
>        lower <- x$Lower[[iname]]
>        range <- cbind( apply(lower, 2,min),apply(upper, 2, max))
>      }
>      ifelse(same.scale, range<-matrix(range(range), ncol=2, 
> nrow=ncol(impulses), byrow=TRUE), range<-range)
>      if ((x$model == "varest") || (x$model == "vec2var")) {
>        if (x$ortho) {
>          text1 <- paste("Orthogonal Impulse Response from", iname, sep 
> = " ")
>        } else {
>         text1 <- paste("Impulse Response from", iname, sep = " ")
>        }
>      } else if (x$model == "svarest") {
>        text1 <- paste("SVAR Impulse Response from", iname, sep = " ")
>      } else if (x$model == "svecest") {
>        text1 <- paste("SVECM Impulse Response from", iname, sep = " ")
>      }
>      if (x$cumulative)  text1 <- paste(text1, "(cumulative)", sep = " ")
>      text2 <- ""
>      if (x$boot) text2 <- paste((1 - x$ci) * 100, "% Bootstrap CI, ", 
> x$runs, "runs")
>      result <- list(impulses = impulses, upper = upper, lower = lower, 
> range = range, text1 = text1, text2 = text2)
>      return(result)
>    }
>    ##
>    ## Plot function for irf per impulse and response
>    ##
>    plot.single <- function(x, iname, rname, ylim,...) {
>      ifelse(is.null(main), main <- x$text1, main <- main)
>      ifelse(is.null(sub), sub <- x$text2, sub <- sub)
>      xy <- xy.coords(x$impulse[, rname])
>      ifelse(is.null(ylab), ylabel <- rname, ylabel <- ylab)
>      ifelse(is.null(xlab), xlabel <- "", xlabel <- xlab)
>      plot(xy, type = "l", ylim = ylim, col = col[1], lty = lty[1], lwd 
> = lwd[1], axes = FALSE, ylab = paste(ylabel), xlab = paste(xlab), ...)
>      title(main = main, sub = sub, ...)
>      axis(1, at = xy$x, labels = c(0:(length(xy$x) - 1)))
>      axis(2, ...)
>      box()         if (!is.null(x$upper)) lines(x$upper[, rname], col 
> = col[3], lty = lty[3], lwd = lwd[3])
>      if (!is.null(x$lower)) lines(x$lower[, rname], col = col[3], lty 
> = lty[3], lwd = lwd[3])
>      abline(h = 0, col = col[2], lty = lty[2], lwd = lwd[2])
>    }
>    ##
>    ## Plot function per impulse
>    ##
>    plot.multiple <- function(dp, nc = nc, ...){
>      x <- dp$impulses
>      y <- dp$upper
>      z <- dp$lower
>      ifelse(is.null(main), main <- dp$text1, main <- main)
>      ifelse(is.null(sub), sub <- dp$text2, sub <- sub)
>      ifelse(is.null(ylim), ylim <- dp$range, ylim <- matrix(ylim, 
> ncol=2, nrow=ncol(x), byrow=TRUE))
>      range <- range(c(x, y, z))
>      nvr <- ncol(x)
>      if (missing(nc)) {
>        nc <- ifelse(nvr > 4, 2, 1)
>      }
>      nr <- ceiling(nvr/nc)
>      par(mfrow = c(nr, nc), mar = mar.multi, oma = oma.multi)
>      if(nr > 1){
>        for(i in 1:(nvr - nc)){
>          ifelse(is.null(ylab), ylabel <- colnames(x)[i], ylabel <- ylab)
>          xy <- xy.coords(x[, i])
>          plot(xy, axes = FALSE, type = "l", ylab = ylabel, ylim = 
> ylim[i,], col = col[1], lty = lty[1], lwd = lwd[1], ...)
>          axis(2, at = pretty(ylim[i,])[-1])
>          abline(h = 0, col = "red")
>          if(!is.null(y)) lines(y[, i], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>          if(!is.null(z)) lines(z[, i], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>          box()
>        }              for(j in (nvr - nc + 1):nvr){
>          ifelse(is.null(ylab), ylabel <- colnames(x)[j], ylabel <- ylab)
>          xy <- xy.coords(x[, j])
>          plot(xy, axes = FALSE, type = "l", ylab = ylabel, ylim = 
> ylim[j,], col = col[1], lty = lty[1], lwd = lwd[1], ...)
>          axis(2, at = pretty(ylim[j,])[-1])
>          axis(1, at = 1:(nrow(x)), labels = c(0:(nrow(x) - 1)))
>          box()
>          abline(h = 0, col = "red")
>          if(!is.null(y)) lines(y[, j], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>          if(!is.null(z)) lines(z[, j], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>        }
>        mtext(main, 3, line = 2, outer = TRUE, adj = adj.mtext, padj = 
> padj.mtext, col = col.mtext, ...)
>        mtext(sub, 1, line = 4, outer = TRUE, adj = adj.mtext, padj = 
> padj.mtext, col = col.mtext, ...)             } else {
>        for(j in 1:nvr){
>          ifelse(is.null(ylab), ylabel <- colnames(x)[j], ylabel <- ylab)
>          xy <- xy.coords(x[, j])
>          plot(xy, type = "l", ylab = ylabel, ylim = ylim[j,], col = 
> col[1], lty = lty[1], lwd = lwd[1], ...)
>          if(!is.null(y)) lines(y[, j], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>          if(!is.null(z)) lines(z[, j], col = col[3], lty = lty[3], lwd 
> = lwd[3])
>          abline(h = 0, col = "red")
>        }
>        mtext(main, 3, line = 2, outer = TRUE, adj = adj.mtext, padj = 
> padj.mtext, col = col.mtext, ...)
>        mtext(sub, 1, line = 4, outer = TRUE, adj = adj.mtext, padj = 
> padj.mtext, col = col.mtext, ...)
>      }
>    }
>    ##
>    ## Plot for type = single
>    ##
>    if (plot.type == "single") {
>      for(i in 1:nvi){
>        dp <- dataplot(x, iname = inames[i])    ifelse(is.null(ylim), 
> ylimVal <- dp$range, ylimVal <- matrix(ylim, ncol=2, nrow=ncol(x), 
> byrow=TRUE))
>        for(j in 1:nvr){
>          plot.single(dp, iname = inames[i], rname = rnames[j], 
> ylim=ylimVal[j,],...)
>          if (nvr > 1) par(ask = TRUE)
>        }
>      }
>    }
>    ##
>    ## Plot for type = multiple
>    ##
>    if (plot.type == "multiple") {
>      for (i in 1:nvi) {
>        dp <- dataplot(x, iname = inames[i])
>        plot.multiple(dp, nc = nc, ...)
>        if (nvi > 1) par(ask = TRUE)
>      }
>    }   }
>
> library(vars)
> environment(plot.varirf)<-environment(Phi)
>
>
>
> if(FALSE){
> library(vars)
> data(Canada)
>
> c<-VAR(Canada)
>
> i<-irf(c)
>
> environment(plot.varirf)<-environment(Phi)
> plot(i, same.scale=FALSE, plot.type="multiple")
> plot(i, same.scale=FALSE, plot.type="single")
> environment(plot.varirf2)<-environment(Phi)
> plot.varirf2(i, plot.type="single")
> dataplot(i, "rw")
>
> matrix(1:2, ncol=2, nrow=4, byrow=TRUE)
>
> nr <- ceiling(nvr/nc)
> }


From g1enn.roberts at btinternet.com  Mon Dec 15 00:26:01 2008
From: g1enn.roberts at btinternet.com (glenn roberts)
Date: Sun, 14 Dec 2008 23:26:01 +0000
Subject: [R-SIG-Finance] <no subject>
Message-ID: <C56B4689.1E9%g1enn.roberts@btinternet.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081214/f9cee10b/attachment.pl>

From meredith.y.briggs at gsk.com  Mon Dec 15 05:08:33 2008
From: meredith.y.briggs at gsk.com (meredith.y.briggs at gsk.com)
Date: Mon, 15 Dec 2008 14:08:33 +1000
Subject: [R-SIG-Finance] Any R code for return-on-investment calculaions?
Message-ID: <OFB3FC19DB.2994E5AE-ONCA257520.0016AF58-CA257520.0016D2EA@gsk.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081215/c756f635/attachment.pl>

From brian at braverock.com  Mon Dec 15 13:39:11 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 15 Dec 2008 06:39:11 -0600
Subject: [R-SIG-Finance] <no subject> -> parameterizing a call to nls()
In-Reply-To: <C56B4689.1E9%g1enn.roberts@btinternet.com>
References: <C56B4689.1E9%g1enn.roberts@btinternet.com>
Message-ID: <49464FEF.2040800@braverock.com>

glenn roberts wrote:
<...>
> I would like the nls function to scroll through a list of different types of
> optiontypes, c(?c?,?c?,?p?,...) for example.
> 
> I have little understanding how nls treats IF commands in general and how it
> treats a list of non-numerical flags. Any help on this would great.
> Apologies again for what I am sure is a simple question.

Glenn,

Welcome to R, and welcome to the R finance community.

Someone here may be able to answer your question (I can't), but you may find 
more people with deep experience in the nuances of the nls function on the main 
r-help list.  Your query was well-formed, so while I usually recommend against 
cross-posting, in this case I think you might get a more complete and timely 
answer if you repost to r-help (with a subject line, of course, perhaps 
"parameterizing a call to nls()")

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ivan.sutoris at gmail.com  Mon Dec 15 14:08:47 2008
From: ivan.sutoris at gmail.com (Ivan Sutoris)
Date: Mon, 15 Dec 2008 14:08:47 +0100
Subject: [R-SIG-Finance] plotting with package vars
In-Reply-To: <494579DC.4090008@pfaffikus.de>
References: <65d1f7fc0812140332n2b4a8269sff5bae1461e3bf9@mail.gmail.com>
	<49451294.2000300@gmail.com> <494579DC.4090008@pfaffikus.de>
Message-ID: <65d1f7fc0812150508g5f0f7d39sf0cb095ae98340b4@mail.gmail.com>

On Sun, Dec 14, 2008 at 10:25 PM, Dr. Bernhard Pfaff
<bernhard at pfaffikus.de> wrote:
> Dear Ivan,
>
> many thanks for your report. (1) has been fixed and a corrected version of
> vars is now on R-Forge (see AICTS II). It will be populated to CRAN in due
> course. With respect to (2), aside of the Matthieu's code it should be noted
> that ylim has been set to the same values on purpose, i.e., to enable a
> better comparison between the irf.
>
> Best,
> Bernhard
>
> Matthieu Stigler schrieb:
>>
>> Dear Ivan
>> Concerning your second question, the same scale of the y axis, I just had
>> the same problem and   modified the function, ading an argument
>> same.scale=TRUE or FALSE. You can use it if you want, just use it with
>> source() and set same.scale default value as you want. It may still have
>> some probs, did not check extensively... let me know.
>>
>> Mat

I'm glad I helped to improve vars package. Regarding same scales in
irf plot, I understand the logic behind the decision, but I think
there may be cases where unequal scales make more sense, so option
like in Mathieu's code would be useful...anyway, that's just my
opinion. Thanks for quick replies and assistance.

Regards
Ivan Sutoris


From dutt.debashis at gmail.com  Tue Dec 16 23:21:43 2008
From: dutt.debashis at gmail.com (Debashis Dutta)
Date: Wed, 17 Dec 2008 01:21:43 +0300
Subject: [R-SIG-Finance] R Code for validation of credit rating model
Message-ID: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081217/c87a76b6/attachment.pl>

From brian at braverock.com  Wed Dec 17 02:28:08 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 16 Dec 2008 19:28:08 -0600 (CST)
Subject: [R-SIG-Finance] R Code for validation of credit rating model
In-Reply-To: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
References: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
Message-ID: <50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>

On Tue, December 16, 2008 4:21 pm, Debashis Dutta wrote:
> Could anybody please let me whether any R code  is available  for
> Validation of  Credit Rating Model,  like  Cumulative Accuracy Profile
> (CAP), Receiver Operating Characteristic (ROC), Brier Score or Binomial
> Test?

I would suggest that you take a look at the CreditMetrics package, as well
as at the fBonds code on r-forge (fBonds is incomplete, but there's some
good stuff in there).  Also, have you used RSitesearch to look for the
methods you mention above?  lease let the list know what you find.  Also,
please share any code that you develop to calculate any of these or
related metrics with the list, as it should not be considered proprietary.

Regards,

   - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From dutt.debashis at gmail.com  Wed Dec 17 19:57:37 2008
From: dutt.debashis at gmail.com (Debashis Dutta)
Date: Wed, 17 Dec 2008 21:57:37 +0300
Subject: [R-SIG-Finance] R Code for validation of credit rating model
In-Reply-To: <50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
References: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
	<50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
Message-ID: <37673c2d0812171057s3ba372d9w41c794070b336024@mail.gmail.com>

Dear Brian,

Thanks for your kind guidance.

I have already worked with the CreditMetrics package but any of those
functions I am looking for is  not available in it.

As per your advice, I tried a R Site Search, but it could not yield any
result in any of the financial packages but some in non-financial packages.
I am reviewing it.

For further clarity of my exact requirement for functions, I enclose a
paper.

Obviously I shall share  with the list the codes I am writing. In fact  I am
wondering if I could build a package for Validation of Credit Rating Model.
Could you please advise me how to make a package in R?

Thanks a lot.

Kind Regards,
Debashis

2008/12/17 Brian G. Peterson <brian at braverock.com>

> On Tue, December 16, 2008 4:21 pm, Debashis Dutta wrote:
> > Could anybody please let me whether any R code  is available  for
> > Validation of  Credit Rating Model,  like  Cumulative Accuracy Profile
> > (CAP), Receiver Operating Characteristic (ROC), Brier Score or Binomial
> > Test?
>
> I would suggest that you take a look at the CreditMetrics package, as well
> as at the fBonds code on r-forge (fBonds is incomplete, but there's some
> good stuff in there).  Also, have you used RSitesearch to look for the
> methods you mention above?  lease let the list know what you find.  Also,
> please share any code that you develop to calculate any of these or
> related metrics with the list, as it should not be considered proprietary.
>
> Regards,
>
>   - Brian
>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081217/493121bf/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2005Q110[1].pdf
Type: application/pdf
Size: 321760 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081217/493121bf/attachment.pdf>

From g1enn.roberts at btinternet.com  Wed Dec 17 22:54:02 2008
From: g1enn.roberts at btinternet.com (glenn roberts)
Date: Wed, 17 Dec 2008 21:54:02 +0000
Subject: [R-SIG-Finance] <no subject>
Message-ID: <C56F257A.34B%g1enn.roberts@btinternet.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081217/20a57710/attachment.pl>

From adrian_d at eskimo.com  Wed Dec 17 23:12:10 2008
From: adrian_d at eskimo.com (Adrian Dragulescu)
Date: Wed, 17 Dec 2008 14:12:10 -0800 (PST)
Subject: [R-SIG-Finance] <no subject>
In-Reply-To: <C56F257A.34B%g1enn.roberts@btinternet.com>
References: <C56F257A.34B%g1enn.roberts@btinternet.com>
Message-ID: <Pine.SUN.4.58.0812171356500.4674@eskimo.com>


For Fourier transforms, see ?fft.  On "integro-differential equations" I
don't know any R package that does that in any general way.  As you
know these are hard to solve analytically and generic numerical solutions exist
only for special simple forms.  I doubt that Mathematica has a general
numerical routine for solving such equations.

For numerical integration, see ?integrate or the adapt package.  Of course
you can code your favorite quadrature method.  I can provide you with
a Filon method and a GaussHermite method if you need.

Best,
Adrian Dragulescu


 and
that holds for any.

On Wed, 17 Dec 2008, glenn roberts wrote:

> Does anyone have and information on simple (if that?s the word !) option
> pricing with Generalized Hyperbolic Distributions at all?
>
> I am new to R and have done the work with the GH distribution packages (all
> addressing the fitting of the parameters to an underlying) and would like to
> do some work on the options pricing side: namely the implied distribution of
> returns from option prices. Just wondered what R has got to offer in terms
> of Fourier Transformations (one way of doing it) and partial
> integro-differential equations.
>
> I am trying to translate a work from Mathematica to R on this topic and
> could do with a few pointers.
>
> Thanks
>
> Glenn
>
> 	[[alternative HTML version deleted]]
>
>


From sprohl at na.uni-tuebingen.de  Thu Dec 18 16:44:47 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Thu, 18 Dec 2008 16:44:47 +0100 (CET)
Subject: [R-SIG-Finance] R Code for writing table from XTS with time
 format
In-Reply-To: <50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
References: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
	<50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
Message-ID: <1336.130.60.242.127.1229615087.squirrel@nastclv4.mathematik.uni-tuebingen.de>

> Dear All,
I tried to write the table from xt.matrix, but the time-based object was
lost. It was done as follows:
write.table(as.xts(data,file="C://data.xts")).
The resulting file contains only times series, while the time format is
removed from the file.
Thanks in advance for your help,
Soeren










On Tue, December 16, 2008 4:21 pm, Debashis Dutta wrote:
>> Could anybody please let me whether any R code  is available  for
>> Validation of  Credit Rating Model,  like  Cumulative Accuracy Profile
>> (CAP), Receiver Operating Characteristic (ROC), Brier Score or Binomial
>> Test?
>
> I would suggest that you take a look at the CreditMetrics package, as well
> as at the fBonds code on r-forge (fBonds is incomplete, but there's some
> good stuff in there).  Also, have you used RSitesearch to look for the
> methods you mention above?  lease let the list know what you find.  Also,
> please share any code that you develop to calculate any of these or
> related metrics with the list, as it should not be considered proprietary.
>
> Regards,
>
>    - Brian
>
> --
> Brian G. Peterson
> http://braverock.com/brian/
> Ph: 773-459-4973
> IM: bgpbraverock
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Thu Dec 18 17:04:33 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Thu, 18 Dec 2008 10:04:33 -0600
Subject: [R-SIG-Finance] R Code for writing table from XTS with time
	format
In-Reply-To: <1336.130.60.242.127.1229615087.squirrel@nastclv4.mathematik.uni-tuebingen.de>
References: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
	<50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
	<1336.130.60.242.127.1229615087.squirrel@nastclv4.mathematik.uni-tuebingen.de>
Message-ID: <e8e755250812180804q5f51cec2gd102ce83522e0e9c@mail.gmail.com>

Since xts extend zoo, all of the zoo functionality should work.

Take a look at ?write.zoo

HTH
Jeff

On Thu, Dec 18, 2008 at 9:44 AM,  <sprohl at na.uni-tuebingen.de> wrote:
>> Dear All,
> I tried to write the table from xt.matrix, but the time-based object was
> lost. It was done as follows:
> write.table(as.xts(data,file="C://data.xts")).
> The resulting file contains only times series, while the time format is
> removed from the file.
> Thanks in advance for your help,
> Soeren
>
>
>
>
>
>
>
>
>
>
> On Tue, December 16, 2008 4:21 pm, Debashis Dutta wrote:
>>> Could anybody please let me whether any R code  is available  for
>>> Validation of  Credit Rating Model,  like  Cumulative Accuracy Profile
>>> (CAP), Receiver Operating Characteristic (ROC), Brier Score or Binomial
>>> Test?
>>
>> I would suggest that you take a look at the CreditMetrics package, as well
>> as at the fBonds code on r-forge (fBonds is incomplete, but there's some
>> good stuff in there).  Also, have you used RSitesearch to look for the
>> methods you mention above?  lease let the list know what you find.  Also,
>> please share any code that you develop to calculate any of these or
>> related metrics with the list, as it should not be considered proprietary.
>>
>> Regards,
>>
>>    - Brian
>>
>> --
>> Brian G. Peterson
>> http://braverock.com/brian/
>> Ph: 773-459-4973
>> IM: bgpbraverock
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From sprohl at na.uni-tuebingen.de  Thu Dec 18 17:53:07 2008
From: sprohl at na.uni-tuebingen.de (sprohl at na.uni-tuebingen.de)
Date: Thu, 18 Dec 2008 17:53:07 +0100 (CET)
Subject: [R-SIG-Finance] R Code for writing table from XTS with time
 format
In-Reply-To: <e8e755250812180804q5f51cec2gd102ce83522e0e9c@mail.gmail.com>
References: <37673c2d0812161421w7d9df7f9j4f5d9b7dd09fba26@mail.gmail.com>
	<50054.199.198.251.108.1229477288.squirrel@mail.braverock.com>
	<1336.130.60.242.127.1229615087.squirrel@nastclv4.mathematik.uni-tuebingen.de>
	<e8e755250812180804q5f51cec2gd102ce83522e0e9c@mail.gmail.com>
Message-ID: <1383.130.60.242.127.1229619187.squirrel@nastclv4.mathematik.uni-tuebingen.de>

> Jeff, thank you, it works.
Best,
Soeren


Since xts extend zoo, all of the zoo functionality should work.
>
> Take a look at ?write.zoo
>
> HTH
> Jeff
>
> On Thu, Dec 18, 2008 at 9:44 AM,  <sprohl at na.uni-tuebingen.de> wrote:
>>> Dear All,
>> I tried to write the table from xt.matrix, but the time-based object was
>> lost. It was done as follows:
>> write.table(as.xts(data,file="C://data.xts")).
>> The resulting file contains only times series, while the time format is
>> removed from the file.
>> Thanks in advance for your help,
>> Soeren
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> On Tue, December 16, 2008 4:21 pm, Debashis Dutta wrote:
>>>> Could anybody please let me whether any R code  is available  for
>>>> Validation of  Credit Rating Model,  like  Cumulative Accuracy Profile
>>>> (CAP), Receiver Operating Characteristic (ROC), Brier Score or
>>>> Binomial
>>>> Test?
>>>
>>> I would suggest that you take a look at the CreditMetrics package, as
>>> well
>>> as at the fBonds code on r-forge (fBonds is incomplete, but there's
>>> some
>>> good stuff in there).  Also, have you used RSitesearch to look for the
>>> methods you mention above?  lease let the list know what you find.
>>> Also,
>>> please share any code that you develop to calculate any of these or
>>> related metrics with the list, as it should not be considered
>>> proprietary.
>>>
>>> Regards,
>>>
>>>    - Brian
>>>
>>> --
>>> Brian G. Peterson
>>> http://braverock.com/brian/
>>> Ph: 773-459-4973
>>> IM: bgpbraverock
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
>
>
> --
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
>
> ia: insight algorithmics
> www.insightalgo.com
>


From bradford.n.cross at gmail.com  Fri Dec 19 03:13:14 2008
From: bradford.n.cross at gmail.com (Bradford Cross)
Date: Thu, 18 Dec 2008 18:13:14 -0800
Subject: [R-SIG-Finance] the list might be interested in this new project
Message-ID: <ea7d6a710812181813y5244aa8bw50c473f9cf522b07@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081218/f34d46fa/attachment.pl>

From liuzhigang626 at gmail.com  Fri Dec 19 08:03:54 2008
From: liuzhigang626 at gmail.com (Liu Zhigang)
Date: Fri, 19 Dec 2008 15:03:54 +0800
Subject: [R-SIG-Finance] FT30 historical data
Message-ID: <26c73e350812182303g67eb719bl5d7869dfbfcddc2d@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081219/8b89f7e1/attachment.pl>

From windspeedo at qq.com  Fri Dec 19 08:34:39 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Fri, 19 Dec 2008 15:34:39 +0800
Subject: [R-SIG-Finance] Slots as @title and @documentation in S-Plus
Message-ID: <tencent_53D9B39263E56EA003CB746A@qq.com>

In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.

After the following code:
vMatrix<-sqlQuery(sqlMatrix,sqlStr1) 
If I want to add some memo to vMatrix?it would be vMatrix at title="The first time and so on." in S-Plus.

But in R, data frame has no slots.
According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.

I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
Thanks.

From martin.becker at mx.uni-saarland.de  Fri Dec 19 09:02:17 2008
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Fri, 19 Dec 2008 09:02:17 +0100
Subject: [R-SIG-Finance] Slots as @title and @documentation in S-Plus
In-Reply-To: <tencent_53D9B39263E56EA003CB746A@qq.com>
References: <tencent_53D9B39263E56EA003CB746A@qq.com>
Message-ID: <494B5509.4070103@mx.uni-saarland.de>

You may use attributes, e.g.

attr(vMatrix,"title") <- "The first time and so on."
attr(vMatrix,"title")

(see ?attr for details, especially for the list of "reserved" attribute 
names).

Martin


Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
>
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1) 
> If I want to add some memo to vMatrix??it would be vMatrix at title="The first time and so on." in S-Plus.
>
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
>
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>   


-- 
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany


From brian at braverock.com  Fri Dec 19 12:18:25 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 19 Dec 2008 05:18:25 -0600
Subject: [R-SIG-Finance] Slots as @title and @documentation in S-Plus
In-Reply-To: <tencent_53D9B39263E56EA003CB746A@qq.com>
References: <tencent_53D9B39263E56EA003CB746A@qq.com>
Message-ID: <494B8301.8060408@braverock.com>

Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
> 
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1) 
> If I want to add some memo to vMatrix??it would be vMatrix at title="The first time and so on." in S-Plus.
> 
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
> 
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.

First of all, this question belonged on r-help, not r-sig-finance, since it has 
nothing to do with finance, and you'd be likely to get better and faster 
answers from the much larger community there.

Next, see ?list, or better yet, use xts for your time series data, since it 
already has a convenient way to add whatever arbitrary attributes you want.

Regards,

      - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From brian at braverock.com  Fri Dec 19 12:33:56 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 19 Dec 2008 05:33:56 -0600
Subject: [R-SIG-Finance] FT30 historical data
In-Reply-To: <26c73e350812182303g67eb719bl5d7869dfbfcddc2d@mail.gmail.com>
References: <26c73e350812182303g67eb719bl5d7869dfbfcddc2d@mail.gmail.com>
Message-ID: <494B86A4.2070506@braverock.com>

Liu Zhigang wrote:
> Hello everyone,
>       I am looking for historical  daily data of FT30 index from 1936 to
> 1970,
> I fail to find that data in bloomberg, anyone can give me some help? thank
> you.

Liu,

Daily data that far back is difficult to get from any of the data aggregators 
like Bloomberg or Reuters without paying an additional fee.  I would first try 
finding out who your Bloomberg rep is, and call them.  They may be able to get 
it for you as a favor to your firm.  This has worked (and failed) for me in the 
past.

Reuters now calculates the index for FT, so if you have a Reuters rep, they 
will probably be more able to get you the data.

Honestly, you'll probably have to pay for it.  In such a case, it may be 
worthwhile to contact CSIData or CRSP and asking them about access to a single 
daily historical series in addition to talking to Reuters.  If you have an 
academic affiliation, you should use that preferentially to your firm 
affiliation, as the fees are almost always reduced and sometimes waived 
entirely for research.

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From robert at sanctumfi.com  Fri Dec 19 12:39:09 2008
From: robert at sanctumfi.com (Robert Sams)
Date: Fri, 19 Dec 2008 11:39:09 -0000
Subject: [R-SIG-Finance] Slots as @title and @documentation in S-Plus
References: <tencent_53D9B39263E56EA003CB746A@qq.com>
	<SANCTUMFISERVERAOeI00000e65@sanctumfi.com>
Message-ID: <SANCTUMFISERVERtXsL00000ed7@sanctumfi.com>

Also see ?comment

> vMatrix <- matrix(1:10, ncol=2)
> comment(vMatrix) <- "The first time and so on."
> comment(vMatrix)
[1] "The first time and so on."
>  

Robert 

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Martin Becker
Sent: 19 December 2008 08:02
To: Wind
Cc: r-sig-finance
Subject: Re: [R-SIG-Finance] Slots as @title and @documentation in S-Plus

You may use attributes, e.g.

attr(vMatrix,"title") <- "The first time and so on."
attr(vMatrix,"title")

(see ?attr for details, especially for the list of "reserved" attribute names).

Martin


Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
>
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1)
> If I want to add some memo to vMatrix??it would be vMatrix at title="The first time and so on." in S-Plus.
>
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
>
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>   


--
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany


From windspeedo at qq.com  Fri Dec 19 13:30:06 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Fri, 19 Dec 2008 20:30:06 +0800
Subject: [R-SIG-Finance] Reply: Slots as @title and @documentation in S-Plus
Message-ID: <tencent_1B31D7FE707C1BBE736EB117@qq.com>

I checked ?list, found no way to tat the data frame.  And it's not a time series data.
I have added r-help to my contact list.
Thank.
 
 

 
Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
> 
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1) 
> If I want to add some memo to vMatrix?it would be vMatrix at title="The first time and so on." in S-Plus.
> 
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
> 
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.

First of all, this question belonged on r-help, not r-sig-finance, since it has 
nothing to do with finance, and you'd be likely to get better and faster 
answers from the much larger community there.

Next, see ?list, or better yet, use xts for your time series data, since it 
already has a convenient way to add whatever arbitrary attributes you want.

Regards,

      - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock



From windspeedo at qq.com  Fri Dec 19 13:30:33 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Fri, 19 Dec 2008 20:30:33 +0800
Subject: [R-SIG-Finance] Reply: Slots as @title and @documentation in S-Plus
Message-ID: <tencent_2CED23033B21DD3F17A40E95@qq.com>

I checked ?list, found no way to tat the data frame.  And it's not a time series data.
I have added r-help to my contact list.
Thank.
 
 

 
Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
> 
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1) 
> If I want to add some memo to vMatrix?it would be vMatrix at title="The first time and so on." in S-Plus.
> 
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
> 
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.

First of all, this question belonged on r-help, not r-sig-finance, since it has 
nothing to do with finance, and you'd be likely to get better and faster 
answers from the much larger community there.

Next, see ?list, or better yet, use xts for your time series data, since it 
already has a convenient way to add whatever arbitrary attributes you want.

Regards,

      - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock



From windspeedo at qq.com  Fri Dec 19 14:08:00 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Fri, 19 Dec 2008 21:08:00 +0800
Subject: [R-SIG-Finance] Slots as @title and @documentation in S-Plus
Message-ID: <tencent_59542F937DC344F6081495A1@qq.com>

So R has two kinds of easy methods tag any variable: comment and attr.
I like both of them.
What a great R.
Thanks.

Wind
 
 
------------------ ???? ------------------
???: "Robert Sams"<robert at sanctumfi.com>;
????: 2008?12?19?(???) ??7:39
???: "Martin Becker"<martin.becker at mx.uni-saarland.de>; "Wind"<windspeedo at qq.com>; 
??: "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
??: RE: [R-SIG-Finance] Slots as @title and @documentation in S-Plus

 
Also see ?comment

> vMatrix <- matrix(1:10, ncol=2)
> comment(vMatrix) <- "The first time and so on."
> comment(vMatrix)
[1] "The first time and so on."
>  

Robert 

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Martin Becker
Sent: 19 December 2008 08:02
To: Wind
Cc: r-sig-finance
Subject: Re: [R-SIG-Finance] Slots as @title and @documentation in S-Plus

You may use attributes, e.g.

attr(vMatrix,"title") <- "The first time and so on."
attr(vMatrix,"title")

(see ?attr for details, especially for the list of "reserved" attribute names).

Martin


Wind wrote:
> In S-Plus, data frames have slots as @title and @documentation.  It seems that R is different.
>
> After the following code:
> vMatrix<-sqlQuery(sqlMatrix,sqlStr1)
> If I want to add some memo to vMatrix?it would be vMatrix at title="The first time and so on." in S-Plus.
>
> But in R, data frame has no slots.
> According to help and documentations, it seems that S4 class has slot. But data frame is not S4.   The S4/S3 confused me since I am new to R.
>
> I wonder whether thers's easy way to attach some memo to a data frame, as in S-Plus.
> Thanks.
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>   


--
Dr. Martin Becker
Statistics and Econometrics
Saarland University
Campus C3 1, Room 206
66123 Saarbruecken
Germany



From davidr at rhotrading.com  Fri Dec 19 18:51:51 2008
From: davidr at rhotrading.com (davidr at rhotrading.com)
Date: Fri, 19 Dec 2008 11:51:51 -0600
Subject: [R-SIG-Finance] FT30 historical data
In-Reply-To: <494B86A4.2070506@braverock.com>
References: <26c73e350812182303g67eb719bl5d7869dfbfcddc2d@mail.gmail.com>
	<494B86A4.2070506@braverock.com>
Message-ID: <F9F2A641C593D7408925574C05A7BE7701F32FF3@rhopost.rhotrading.com>

If they don't have it, they don't have it:
		
Ticker	LSMKFT30 Index	
Quoted	Price	
Frequency	Daily	
Update Status	Subject to one-day lag	
Last Update	12/18/08	
Source	FT Interactive Data	
History	Close	
Begins	01/01/70 Daily	
	01/31/30 Monthly	
End of Week	Friday	

Maybe going directly to the source?

-- David

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Brian G.
Peterson
Sent: Friday, December 19, 2008 5:34 AM
To: Liu Zhigang
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] FT30 historical data

Liu Zhigang wrote:
> Hello everyone,
>       I am looking for historical  daily data of FT30 index from 1936
to
> 1970,
> I fail to find that data in bloomberg, anyone can give me some help?
thank
> you.

Liu,

Daily data that far back is difficult to get from any of the data
aggregators 
like Bloomberg or Reuters without paying an additional fee.  I would
first try 
finding out who your Bloomberg rep is, and call them.  They may be able
to get 
it for you as a favor to your firm.  This has worked (and failed) for me
in the 
past.

Reuters now calculates the index for FT, so if you have a Reuters rep,
they 
will probably be more able to get you the data.

Honestly, you'll probably have to pay for it.  In such a case, it may be

worthwhile to contact CSIData or CRSP and asking them about access to a
single 
daily historical series in addition to talking to Reuters.  If you have
an 
academic affiliation, you should use that preferentially to your firm 
affiliation, as the fees are almost always reduced and sometimes waived 
entirely for research.

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From edd at debian.org  Fri Dec 19 21:12:29 2008
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 19 Dec 2008 14:12:29 -0600
Subject: [R-SIG-Finance] R/Finance 2009: Applied Finance with R -- Call for
	Papers
Message-ID: <18764.45.913930.866545@ron.nulle.part>


    Call for Papers

    The Finance Department of the University of Illinois at Chicago (UIC),
    the International Center for Futures and Derivatives at UIC, and
    members of the R finance community are pleased to announce

    R/Finance 2009: Applied Finance with R

    on April 24 and 25, 2009, in Chicago, IL, USA

    Confirmed keynote speakers include:

       Patrick Burns (Burns Statistics)
       David Kane (Kane Capital)
       Roger Koenker (U of Illinois at Urbana/Champaign)
       David Ruppert (Cornell)
       Diethelm Wuertz (ETH Z?rich)
       Eric Zivot (U of Washington)

    We invite all users of R in Finance to submit one-page abstracts or
    complete papers (in txt/pdf/doc format). We encourage papers both on
    academic research topics and related to use of R by Finance practitioners.

    Presenters are strongly encouraged to provide working R code to accompany
    the presentation/paper.  Datasets need not be made public.

    Please send submissions to committee at RinFinance.com.
    The submission deadline is January 31st, 2009.
    Submissions will be evaluated and submitters notified via email
    on a rolling basis.
 
    Additional details about the conference will be announced as available.

    For the program committee:
       Gib Bassett, Peter Carl, Dirk Eddelbuettel, John Miller,
       Brian Peterson, Dale Rosenthal, Jeffrey Ryan


From windspeedo at qq.com  Sun Dec 21 07:42:03 2008
From: windspeedo at qq.com (Wind2)
Date: Sat, 20 Dec 2008 22:42:03 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] Missing tick mark labels from
 barChart / quantmod - plot.xts missing
In-Reply-To: <e8e755250811160747w7a57c44fmba1221a8b6332b19@mail.gmail.com>
References: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>
	<e8e755250811160747w7a57c44fmba1221a8b6332b19@mail.gmail.com>
Message-ID: <21112578.post@talk.nabble.com>


Dear Jeff,
I am glad to tell you that I have traced the problem into a line of code 
concerning the parameter of "%n" in time format string.
Here is the data for test:
>x<-xts(x[,-1],as.Date(x[,1]))     #convert data frame to xts.   
>head(x)
           Symbol     Close   
1990-12-19 SH000001     99.98
1990-12-20 SH000001    104.39 
1990-12-21 SH000001    109.13 
1990-12-24 SH000001    114.55 
1990-12-25 SH000001    120.25
>plot(x[,"Close"],auto.grid=TRUE,minor.ticks=FALSE)
The plot is OK except that no date labels for x axis.  Major ticks and grids
are all Ok for x and y axis.

Then I used the xts:::plot.xts method  you taught me to get the definition
of plot.xts.
I found that a line of code as
ep <- axTicksByTime(x, "auto")
returned ep with no names
>names(ep)
[1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Then I trace the axTicksByTime.  There is a line of code as:
names(ep) <- format(index(x)[ep], fmt)
The  fmt is something like "%b %d%n%Y".

> ep
                                                                           
   1   10  263  514  767 1010 1259 1505 1748 1994 2233 2472 2712 2949 3190 
                         
3433 3674 3915 4157 4393 

> format(index(x)[ep])
 [1] "1990-12-19" "1991-01-02" "1992-01-02" "1993-01-04" "1994-01-03"
"1995-01-03" "1996-01-02" "1997-01-02" "1998-01-05"
[10] "1999-01-04" "2000-01-04" "2001-01-02" "2002-01-04" "2003-01-02"
"2004-01-02" "2005-01-04" "2006-01-04" "2007-01-04"
[19] "2008-01-02" "2008-12-18"
> 
> format(index(x)[ep], "%b %d%n%Y")
 [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
> 
I test with several definitions of format string, the format() will output
nothing with "%n" in the format string.   If I remove "%n", everything is
OK.

The help said that "%n" is for a  new line.
I guess maybe "%n" just conflict with something in my computer.

Since my vista is in Chinese, the "%b" will output month names in Chinese. 
I omit the "%b".  The problem is still there.
> format(index(x)[ep], "%d%n%Y")
 [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Then I changed the locale to US:
> Sys.setlocale("LC_TIME","US")
[1] "English_United States.1252"

format still has problems with "%n".
> format(index(x)[ep], "%d%n%Y")
 [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
> format(index(x)[ep], "%b %Y")
 [1] "Dec 1990" "Jan 1991" "Jan 1992" "Jan 1993" "Jan 1994" "Jan 1995" "Jan
1996" "Jan 1997" "Jan 1998" "Jan 1999"
[11] "Jan 2000" "Jan 2001" "Jan 2002" "Jan 2003" "Jan 2004" "Jan 2005" "Jan
2006" "Jan 2007" "Jan 2008" "Dec 2008"

I could not trace the porblem futher into the definition of format() because
of my limited knowledge of computer and R :(

I guess maybe you have told me the issue since you have said:
"not showing line breaks in the date (windows doesn't recognize this)."
Previously I did not understand your comment well because I am not familiar
with R.  

If that's the case, I wonder whether there is some easy way for me to alter
the code in axTicksByTime a little in my computer to make it worked.
Thanks. 

Information on Package xts:
URL:           http://r-forge.r-project.org/projects/xts/
Packaged:      Tue Nov 18 09:15:14 2008; jryan
Built:         R 2.7.2; i386-pc-mingw32; 2008-11-18 19:22:56; windows

Information on my computer:
Fujitsu Notebook
Windows Vista Basic, OEM, Chinese.
R 2.7.2     (Previously I have got the same problem in R 2.8)

Regards,
Wind


Jeff Ryan wrote:
> 
> Hi Wind,
> 
> plot.xts is there, just not exported.  This means it gets called when
> an xts object is passed to plot()
> 
> xts:::plot.xts
> 
> That aside, the issue is somewhere else.  I have tried the CRAN
> release, the R-forge package, and the dev code on R-forge and all seem
> to show an x axis with dates.
> 
> There may be a formatting issue with Windows and the release you have
> not showing line breaks in the date (windows doesn't recognize this).
> Try using this version (though probably won't fix either):
> 
> install.packages("xts",repos="http://R-Forge.R-project.org")
> 
> chartSeries and plot.xts use axTicksByTime to format the labels.  The
> issue most likely is that of the line breaks.
> 
> All of the above have been fixed in not yet released /dev branch of
> xts.  We are hoping to have that ready in the next few weeks.
> 
> Jeff
> 
> On Sun, Nov 16, 2008 at 3:24 AM, ? <windspeedo at qq.com> wrote:
>> Dear Jeff and R experts,
>> I wonder whether you have received the previous email on this matter.
>> I have narrow the problem to plot.xts missing.
>>
>>>require(quantmod)
>> Loading required package: quantmod
>> Loading required package: xts
>> Loading required package: zoo
>> Attaching package: 'zoo'
>>        The following object(s) are masked from package:base :
>>         as.Date.numeric
>> Loading required package: Defaults
>> quantmod: Quantitative Financial Modelling Framework
>> Version 0.3-6, Revision 433
>> http://www.quantmod.com
>>
>>>getSymbols('AAPL')
>> [1] "AAPL"
>>>barChart(AAPL)
>> #successful.  But NO date label for x axis labels.
>>>a<-Cl(AAPL)
>>>class(a)
>> [1] "xts" "zoo"
>>>plot.zoo(a)
>> #successful.  There are annual label for x axis major ticks.
>>>chartSeries(a)
>> Error in sum(poss.new) : invalid 'type' (list) of argument
>>>plot(a)
>> #no date label for x  axis ticks
>>>plot(as.xts(a))
>> #same graph as the above. still no date label for x axis ticks
>>>plot.xts(a)
>> Error: could not find function "plot.xts"
>>> ?plot.xts
>> #the help window for plot.xts poped up.
>>
>>>library(help=xts)
>> #window poped up with the following content:
>> Version:       0.0-15
>> Revision:      139
>> Date:          2007-06-04
>> Author:        Jeffrey A. Ryan, Josh M. Ulrich
>> Depends:       zoo
>> ...
>> License:       GPL-3
>> URL:           http://r-forge.r-project.org/projects/xts/
>> Packaged:      Mon Jun 9 23:47:46 2008; jryan
>> Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
>> Index:
>> ...
>> plot.xts                Plotting xts Objects
>> ...
>>
>> It seems that plot.zoo does its job but plot.xts may have some problem.
>>
>> Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.
>>
>> I wonder whether it is enough for R experts to diagnose the problem.
>> Thanks.
>>
>> Wind
> 
> 
> 
> -- 
> Jeffrey Ryan
> jeffrey.ryan at insightalgo.com
> 
> ia: insight algorithmics
> www.insightalgo.com
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 

-- 
View this message in context: http://www.nabble.com/Missing-tick-mark-labels-from-barChart---quantmod---plot.xts-missing-tp20523627p21112578.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From windspeedo at qq.com  Sun Dec 21 14:45:12 2008
From: windspeedo at qq.com (Wind2)
Date: Sun, 21 Dec 2008 05:45:12 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] Missing tick mark labels from
 barChart / quantmod - plot.xts missing
In-Reply-To: <21112578.post@talk.nabble.com>
References: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>
	<e8e755250811160747w7a57c44fmba1221a8b6332b19@mail.gmail.com>
	<21112578.post@talk.nabble.com>
Message-ID: <21115185.post@talk.nabble.com>


I checked the help again and fount that the format string of "%n" is not
supported for windows now.
So I just changed the axTicksByTime a little and run the following codes:
>source("axTicksByTimeModified.r")
>assignInNamespace("axTicksByTime",axTicksByTime, ns="xts") 
Everything is OK now.
Perfect since assignInNamespace has not changed the xts package itself.  I
don't like to mess up the xts package. :)


Wind2 wrote:
> 
> Dear Jeff,
> I am glad to tell you that I have traced the problem into a line of code 
> concerning the parameter of "%n" in time format string.
> Here is the data for test:
>>x<-xts(x[,-1],as.Date(x[,1]))     #convert data frame to xts.   
>>head(x)
>            Symbol     Close   
> 1990-12-19 SH000001     99.98
> 1990-12-20 SH000001    104.39 
> 1990-12-21 SH000001    109.13 
> 1990-12-24 SH000001    114.55 
> 1990-12-25 SH000001    120.25
>>plot(x[,"Close"],auto.grid=TRUE,minor.ticks=FALSE)
> The plot is OK except that no date labels for x axis.  Major ticks and
> grids are all Ok for x and y axis.
> 
> Then I used the xts:::plot.xts method  you taught me to get the definition
> of plot.xts.
> I found that a line of code as
> ep <- axTicksByTime(x, "auto")
> returned ep with no names
>>names(ep)
> [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
> 
> Then I trace the axTicksByTime.  There is a line of code as:
> names(ep) <- format(index(x)[ep], fmt)
> The  fmt is something like "%b %d%n%Y".
> 
>> ep
>                                                                            
>    1   10  263  514  767 1010 1259 1505 1748 1994 2233 2472 2712 2949 3190 
>                          
> 3433 3674 3915 4157 4393 
> 
>> format(index(x)[ep])
>  [1] "1990-12-19" "1991-01-02" "1992-01-02" "1993-01-04" "1994-01-03"
> "1995-01-03" "1996-01-02" "1997-01-02" "1998-01-05"
> [10] "1999-01-04" "2000-01-04" "2001-01-02" "2002-01-04" "2003-01-02"
> "2004-01-02" "2005-01-04" "2006-01-04" "2007-01-04"
> [19] "2008-01-02" "2008-12-18"
>> 
>> format(index(x)[ep], "%b %d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>> 
> I test with several definitions of format string, the format() will output
> nothing with "%n" in the format string.   If I remove "%n", everything is
> OK.
> 
> The help said that "%n" is for a  new line.
> I guess maybe "%n" just conflict with something in my computer.
> 
> Since my vista is in Chinese, the "%b" will output month names in Chinese. 
> I omit the "%b".  The problem is still there.
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
> 
> Then I changed the locale to US:
>> Sys.setlocale("LC_TIME","US")
> [1] "English_United States.1252"
> 
> format still has problems with "%n".
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>> format(index(x)[ep], "%b %Y")
>  [1] "Dec 1990" "Jan 1991" "Jan 1992" "Jan 1993" "Jan 1994" "Jan 1995"
> "Jan 1996" "Jan 1997" "Jan 1998" "Jan 1999"
> [11] "Jan 2000" "Jan 2001" "Jan 2002" "Jan 2003" "Jan 2004" "Jan 2005"
> "Jan 2006" "Jan 2007" "Jan 2008" "Dec 2008"
> 
> I could not trace the porblem futher into the definition of format()
> because of my limited knowledge of computer and R :(
> 
> I guess maybe you have told me the issue since you have said:
> "not showing line breaks in the date (windows doesn't recognize this)."
> Previously I did not understand your comment well because I am not
> familiar with R.  
> 
> If that's the case, I wonder whether there is some easy way for me to
> alter the code in axTicksByTime a little in my computer to make it worked.
> Thanks. 
> 
> Information on Package xts:
> URL:           http://r-forge.r-project.org/projects/xts/
> Packaged:      Tue Nov 18 09:15:14 2008; jryan
> Built:         R 2.7.2; i386-pc-mingw32; 2008-11-18 19:22:56; windows
> 
> Information on my computer:
> Fujitsu Notebook
> Windows Vista Basic, OEM, Chinese.
> R 2.7.2     (Previously I have got the same problem in R 2.8)
> 
> Regards,
> Wind
> 
> 
> Jeff Ryan wrote:
>> 
>> Hi Wind,
>> 
>> plot.xts is there, just not exported.  This means it gets called when
>> an xts object is passed to plot()
>> 
>> xts:::plot.xts
>> 
>> That aside, the issue is somewhere else.  I have tried the CRAN
>> release, the R-forge package, and the dev code on R-forge and all seem
>> to show an x axis with dates.
>> 
>> There may be a formatting issue with Windows and the release you have
>> not showing line breaks in the date (windows doesn't recognize this).
>> Try using this version (though probably won't fix either):
>> 
>> install.packages("xts",repos="http://R-Forge.R-project.org")
>> 
>> chartSeries and plot.xts use axTicksByTime to format the labels.  The
>> issue most likely is that of the line breaks.
>> 
>> All of the above have been fixed in not yet released /dev branch of
>> xts.  We are hoping to have that ready in the next few weeks.
>> 
>> Jeff
>> 
>> On Sun, Nov 16, 2008 at 3:24 AM, ? <windspeedo at qq.com> wrote:
>>> Dear Jeff and R experts,
>>> I wonder whether you have received the previous email on this matter.
>>> I have narrow the problem to plot.xts missing.
>>>
>>>>require(quantmod)
>>> Loading required package: quantmod
>>> Loading required package: xts
>>> Loading required package: zoo
>>> Attaching package: 'zoo'
>>>        The following object(s) are masked from package:base :
>>>         as.Date.numeric
>>> Loading required package: Defaults
>>> quantmod: Quantitative Financial Modelling Framework
>>> Version 0.3-6, Revision 433
>>> http://www.quantmod.com
>>>
>>>>getSymbols('AAPL')
>>> [1] "AAPL"
>>>>barChart(AAPL)
>>> #successful.  But NO date label for x axis labels.
>>>>a<-Cl(AAPL)
>>>>class(a)
>>> [1] "xts" "zoo"
>>>>plot.zoo(a)
>>> #successful.  There are annual label for x axis major ticks.
>>>>chartSeries(a)
>>> Error in sum(poss.new) : invalid 'type' (list) of argument
>>>>plot(a)
>>> #no date label for x  axis ticks
>>>>plot(as.xts(a))
>>> #same graph as the above. still no date label for x axis ticks
>>>>plot.xts(a)
>>> Error: could not find function "plot.xts"
>>>> ?plot.xts
>>> #the help window for plot.xts poped up.
>>>
>>>>library(help=xts)
>>> #window poped up with the following content:
>>> Version:       0.0-15
>>> Revision:      139
>>> Date:          2007-06-04
>>> Author:        Jeffrey A. Ryan, Josh M. Ulrich
>>> Depends:       zoo
>>> ...
>>> License:       GPL-3
>>> URL:           http://r-forge.r-project.org/projects/xts/
>>> Packaged:      Mon Jun 9 23:47:46 2008; jryan
>>> Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
>>> Index:
>>> ...
>>> plot.xts                Plotting xts Objects
>>> ...
>>>
>>> It seems that plot.zoo does its job but plot.xts may have some problem.
>>>
>>> Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.
>>>
>>> I wonder whether it is enough for R experts to diagnose the problem.
>>> Thanks.
>>>
>>> Wind
>> 
>> 
>> 
>> -- 
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>> 
>> ia: insight algorithmics
>> www.insightalgo.com
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Missing-tick-mark-labels-from-barChart---quantmod---plot.xts-missing-tp20523627p21115185.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From j_cuisinier at hotmail.com  Sun Dec 21 17:54:53 2008
From: j_cuisinier at hotmail.com (julien cuisinier)
Date: Sun, 21 Dec 2008 17:54:53 +0100
Subject: [R-SIG-Finance] RMySQL issue
In-Reply-To: <18764.45.913930.866545@ron.nulle.part>
References: <18764.45.913930.866545@ron.nulle.part>
Message-ID: <COL102-W8D4D787486AC0DFCEB1628FEE0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081221/56b25886/attachment.pl>

From josh.m.ulrich at gmail.com  Sun Dec 21 18:04:29 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Sun, 21 Dec 2008 11:04:29 -0600
Subject: [R-SIG-Finance] RMySQL issue
In-Reply-To: <COL102-W8D4D787486AC0DFCEB1628FEE0@phx.gbl>
References: <18764.45.913930.866545@ron.nulle.part>
	<COL102-W8D4D787486AC0DFCEB1628FEE0@phx.gbl>
Message-ID: <8cca69990812210904m6a65e9d6j59087aea264565a@mail.gmail.com>

Julien,

This question is more appropriate for R-help.  You'll usually get
faster/better replies from it, since it's more widely used.

The problem is with your use of the paste() command.  Use this instead:

upload_prices_single <- function(ticker, date_start,date_end)
{

Connect <- dbConnect(dbDriver("MySQL"),host="localhost",username="root",password="",dbname="QF_DUMP14122008",port="")

data <- dbGetQuery(Connect,paste("select quote_date, quote_adj_close
from qf_data_yahoo where quote_name = '",ticker,"' and quote_date >
'",date_start,"' and quote_date < '",date_end,"'",sep=""))

return(data)
}


HTH,
Josh
--
http://quantemplation.blogspot.com



On Sun, Dec 21, 2008 at 10:54 AM, julien cuisinier
<j_cuisinier at hotmail.com> wrote:
>
> Hi,
>
>
> As often on this mailing list, my apologies if the question is trivial. I still quite new to R
>
> I am using R 2.8.0 with the cocoa GUI available for free download, so under mac os x (but irrelevant here I believe)
> I try to extract data from a MySQL DB using RMySQL package.
>
> The connection functions fine and I can extract manually without any issue. My aim is to create a R function to "automate" the extraction from my DB
>
> Here is the piece of code I am trying to work out.
>
> upload_prices_single <- function(ticker, date_start,date_end)
>
> {
>
> Connect <- dbConnect(dbDriver("MySQL"),host="localhost",username="root",password="",dbname="QF_DUMP14122008",port="")
>
> data <- dbGetQuery(Connect,paste("select quote_date, quote_adj_close from qf_data_yahoo where quote_name = 'ticker' and quote_date > 'date_start' and quote_date < 'date_end'"))
>
> return(data)
> }
>
>
> If I type the "dbGetQuery" command entering the ticker manually in the console like below functions:
>
> Connect <- dbConnect(dbDriver("MySQL"),host="localhost",username="root",password="",dbname="QF_DUMP14122008",port="")
>
> data <- dbGetQuery(Connect,paste("select quote_date, quote_adj_close
> from qf_data_yahoo where quote_name = 'III.L' and quote_date >
> '2008-11-12' and quote_date < '2008-12-12'"))
>
> So I guess it "only" an issue with assigning correctly "III.L" to a variable "ticker" and passing it on correctly...
>
>
> Any help is appreciated
>
>
> Thanks & regards,
> Julien
>
>
> _________________________________________________________________
>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From jeff.a.ryan at gmail.com  Sun Dec 21 18:14:48 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Sun, 21 Dec 2008 11:14:48 -0600
Subject: [R-SIG-Finance] [R-sig-finance] Missing tick mark labels from
	barChart / quantmod - plot.xts missing
In-Reply-To: <21112578.post@talk.nabble.com>
References: <tencent_0FAF53980C6E9FCE617FFB2C@qq.com>
	<e8e755250811160747w7a57c44fmba1221a8b6332b19@mail.gmail.com>
	<21112578.post@talk.nabble.com>
Message-ID: <e8e755250812210914t332d9d2aicfa8de5ac1724b10@mail.gmail.com>

Wind,

This was fixed in the /dev branch (soon to be released) of xts back in
July.  Somehow I never pushed it through to the production version.

Thanks for taking the time to debug and solve the issue though.  A
possibly more general patch for the production versions can be taken
from here:

http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/dev/pkg/R/axTicksByTime.R?rev=158&root=xts&view=markup

Thanks,
Jeff

On Sun, Dec 21, 2008 at 12:42 AM, Wind2 <windspeedo at qq.com> wrote:
>
> Dear Jeff,
> I am glad to tell you that I have traced the problem into a line of code
> concerning the parameter of "%n" in time format string.
> Here is the data for test:
>>x<-xts(x[,-1],as.Date(x[,1]))     #convert data frame to xts.
>>head(x)
>           Symbol     Close
> 1990-12-19 SH000001     99.98
> 1990-12-20 SH000001    104.39
> 1990-12-21 SH000001    109.13
> 1990-12-24 SH000001    114.55
> 1990-12-25 SH000001    120.25
>>plot(x[,"Close"],auto.grid=TRUE,minor.ticks=FALSE)
> The plot is OK except that no date labels for x axis.  Major ticks and grids
> are all Ok for x and y axis.
>
> Then I used the xts:::plot.xts method  you taught me to get the definition
> of plot.xts.
> I found that a line of code as
> ep <- axTicksByTime(x, "auto")
> returned ep with no names
>>names(ep)
> [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>
> Then I trace the axTicksByTime.  There is a line of code as:
> names(ep) <- format(index(x)[ep], fmt)
> The  fmt is something like "%b %d%n%Y".
>
>> ep
>
>   1   10  263  514  767 1010 1259 1505 1748 1994 2233 2472 2712 2949 3190
>
> 3433 3674 3915 4157 4393
>
>> format(index(x)[ep])
>  [1] "1990-12-19" "1991-01-02" "1992-01-02" "1993-01-04" "1994-01-03"
> "1995-01-03" "1996-01-02" "1997-01-02" "1998-01-05"
> [10] "1999-01-04" "2000-01-04" "2001-01-02" "2002-01-04" "2003-01-02"
> "2004-01-02" "2005-01-04" "2006-01-04" "2007-01-04"
> [19] "2008-01-02" "2008-12-18"
>>
>> format(index(x)[ep], "%b %d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>>
> I test with several definitions of format string, the format() will output
> nothing with "%n" in the format string.   If I remove "%n", everything is
> OK.
>
> The help said that "%n" is for a  new line.
> I guess maybe "%n" just conflict with something in my computer.
>
> Since my vista is in Chinese, the "%b" will output month names in Chinese.
> I omit the "%b".  The problem is still there.
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>
> Then I changed the locale to US:
>> Sys.setlocale("LC_TIME","US")
> [1] "English_United States.1252"
>
> format still has problems with "%n".
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>> format(index(x)[ep], "%b %Y")
>  [1] "Dec 1990" "Jan 1991" "Jan 1992" "Jan 1993" "Jan 1994" "Jan 1995" "Jan
> 1996" "Jan 1997" "Jan 1998" "Jan 1999"
> [11] "Jan 2000" "Jan 2001" "Jan 2002" "Jan 2003" "Jan 2004" "Jan 2005" "Jan
> 2006" "Jan 2007" "Jan 2008" "Dec 2008"
>
> I could not trace the porblem futher into the definition of format() because
> of my limited knowledge of computer and R :(
>
> I guess maybe you have told me the issue since you have said:
> "not showing line breaks in the date (windows doesn't recognize this)."
> Previously I did not understand your comment well because I am not familiar
> with R.
>
> If that's the case, I wonder whether there is some easy way for me to alter
> the code in axTicksByTime a little in my computer to make it worked.
> Thanks.
>
> Information on Package xts:
> URL:           http://r-forge.r-project.org/projects/xts/
> Packaged:      Tue Nov 18 09:15:14 2008; jryan
> Built:         R 2.7.2; i386-pc-mingw32; 2008-11-18 19:22:56; windows
>
> Information on my computer:
> Fujitsu Notebook
> Windows Vista Basic, OEM, Chinese.
> R 2.7.2     (Previously I have got the same problem in R 2.8)
>
> Regards,
> Wind
>
>
> Jeff Ryan wrote:
>>
>> Hi Wind,
>>
>> plot.xts is there, just not exported.  This means it gets called when
>> an xts object is passed to plot()
>>
>> xts:::plot.xts
>>
>> That aside, the issue is somewhere else.  I have tried the CRAN
>> release, the R-forge package, and the dev code on R-forge and all seem
>> to show an x axis with dates.
>>
>> There may be a formatting issue with Windows and the release you have
>> not showing line breaks in the date (windows doesn't recognize this).
>> Try using this version (though probably won't fix either):
>>
>> install.packages("xts",repos="http://R-Forge.R-project.org")
>>
>> chartSeries and plot.xts use axTicksByTime to format the labels.  The
>> issue most likely is that of the line breaks.
>>
>> All of the above have been fixed in not yet released /dev branch of
>> xts.  We are hoping to have that ready in the next few weeks.
>>
>> Jeff
>>
>> On Sun, Nov 16, 2008 at 3:24 AM, ? <windspeedo at qq.com> wrote:
>>> Dear Jeff and R experts,
>>> I wonder whether you have received the previous email on this matter.
>>> I have narrow the problem to plot.xts missing.
>>>
>>>>require(quantmod)
>>> Loading required package: quantmod
>>> Loading required package: xts
>>> Loading required package: zoo
>>> Attaching package: 'zoo'
>>>        The following object(s) are masked from package:base :
>>>         as.Date.numeric
>>> Loading required package: Defaults
>>> quantmod: Quantitative Financial Modelling Framework
>>> Version 0.3-6, Revision 433
>>> http://www.quantmod.com
>>>
>>>>getSymbols('AAPL')
>>> [1] "AAPL"
>>>>barChart(AAPL)
>>> #successful.  But NO date label for x axis labels.
>>>>a<-Cl(AAPL)
>>>>class(a)
>>> [1] "xts" "zoo"
>>>>plot.zoo(a)
>>> #successful.  There are annual label for x axis major ticks.
>>>>chartSeries(a)
>>> Error in sum(poss.new) : invalid 'type' (list) of argument
>>>>plot(a)
>>> #no date label for x  axis ticks
>>>>plot(as.xts(a))
>>> #same graph as the above. still no date label for x axis ticks
>>>>plot.xts(a)
>>> Error: could not find function "plot.xts"
>>>> ?plot.xts
>>> #the help window for plot.xts poped up.
>>>
>>>>library(help=xts)
>>> #window poped up with the following content:
>>> Version:       0.0-15
>>> Revision:      139
>>> Date:          2007-06-04
>>> Author:        Jeffrey A. Ryan, Josh M. Ulrich
>>> Depends:       zoo
>>> ...
>>> License:       GPL-3
>>> URL:           http://r-forge.r-project.org/projects/xts/
>>> Packaged:      Mon Jun 9 23:47:46 2008; jryan
>>> Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
>>> Index:
>>> ...
>>> plot.xts                Plotting xts Objects
>>> ...
>>>
>>> It seems that plot.zoo does its job but plot.xts may have some problem.
>>>
>>> Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.
>>>
>>> I wonder whether it is enough for R experts to diagnose the problem.
>>> Thanks.
>>>
>>> Wind
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> --
> View this message in context: http://www.nabble.com/Missing-tick-mark-labels-from-barChart---quantmod---plot.xts-missing-tp20523627p21112578.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

From heshriti at gmail.com  Mon Dec 22 00:18:47 2008
From: heshriti at gmail.com (Mahesh Krishnan)
Date: Sun, 21 Dec 2008 18:18:47 -0500
Subject: [R-SIG-Finance] analytic derivatives for garch
Message-ID: <33f6aa6f0812211518t57fef0cbvb03eac21f755b6d0@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081221/9b42735f/attachment.pl>

From windspeedo at qq.com  Mon Dec 22 05:13:12 2008
From: windspeedo at qq.com (=?gbk?B?V2luZA==?=)
Date: Mon, 22 Dec 2008 12:13:12 +0800
Subject: [R-SIG-Finance] [R-sig-finance] Missing tick mark labels from
	barChart / quantmod - plot.xts missing
Message-ID: <tencent_1B6B5E873169770663C795E9@qq.com>

Thanks Jeff.   That's exactly settled my problem.
And a new way for me to learn R, the scm in http://r-forge.r-project.org.  Much better than output the definition of functions from  R.
Regards,
Wind  
 
 
------------------ ???? ------------------
???: "Jeff Ryan"<jeff.a.ryan at gmail.com>;
????: 2008?12?22?(???) ??1:14
???: "Wind2"<windspeedo at qq.com>; 
??: "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
??: Re: [R-SIG-Finance] [R-sig-finance] Missing tick mark labels from barChart / quantmod - plot.xts missing

 
Wind,

This was fixed in the /dev branch (soon to be released) of xts back in
July.  Somehow I never pushed it through to the production version.

Thanks for taking the time to debug and solve the issue though.  A
possibly more general patch for the production versions can be taken
from here:

http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/dev/pkg/R/axTicksByTime.R?rev=158&root=xts&view=markup

Thanks,
Jeff

On Sun, Dec 21, 2008 at 12:42 AM, Wind2 <windspeedo at qq.com> wrote:
>
> Dear Jeff,
> I am glad to tell you that I have traced the problem into a line of code
> concerning the parameter of "%n" in time format string.
> Here is the data for test:
>>x<-xts(x[,-1],as.Date(x[,1]))     #convert data frame to xts.
>>head(x)
>           Symbol     Close
> 1990-12-19 SH000001     99.98
> 1990-12-20 SH000001    104.39
> 1990-12-21 SH000001    109.13
> 1990-12-24 SH000001    114.55
> 1990-12-25 SH000001    120.25
>>plot(x[,"Close"],auto.grid=TRUE,minor.ticks=FALSE)
> The plot is OK except that no date labels for x axis.  Major ticks and grids
> are all Ok for x and y axis.
>
> Then I used the xts:::plot.xts method  you taught me to get the definition
> of plot.xts.
> I found that a line of code as
> ep <- axTicksByTime(x, "auto")
> returned ep with no names
>>names(ep)
> [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>
> Then I trace the axTicksByTime.  There is a line of code as:
> names(ep) <- format(index(x)[ep], fmt)
> The  fmt is something like "%b %d%n%Y".
>
>> ep
>
>   1   10  263  514  767 1010 1259 1505 1748 1994 2233 2472 2712 2949 3190
>
> 3433 3674 3915 4157 4393
>
>> format(index(x)[ep])
>  [1] "1990-12-19" "1991-01-02" "1992-01-02" "1993-01-04" "1994-01-03"
> "1995-01-03" "1996-01-02" "1997-01-02" "1998-01-05"
> [10] "1999-01-04" "2000-01-04" "2001-01-02" "2002-01-04" "2003-01-02"
> "2004-01-02" "2005-01-04" "2006-01-04" "2007-01-04"
> [19] "2008-01-02" "2008-12-18"
>>
>> format(index(x)[ep], "%b %d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>>
> I test with several definitions of format string, the format() will output
> nothing with "%n" in the format string.   If I remove "%n", everything is
> OK.
>
> The help said that "%n" is for a  new line.
> I guess maybe "%n" just conflict with something in my computer.
>
> Since my vista is in Chinese, the "%b" will output month names in Chinese.
> I omit the "%b".  The problem is still there.
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>
> Then I changed the locale to US:
>> Sys.setlocale("LC_TIME","US")
> [1] "English_United States.1252"
>
> format still has problems with "%n".
>> format(index(x)[ep], "%d%n%Y")
>  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""
>> format(index(x)[ep], "%b %Y")
>  [1] "Dec 1990" "Jan 1991" "Jan 1992" "Jan 1993" "Jan 1994" "Jan 1995" "Jan
> 1996" "Jan 1997" "Jan 1998" "Jan 1999"
> [11] "Jan 2000" "Jan 2001" "Jan 2002" "Jan 2003" "Jan 2004" "Jan 2005" "Jan
> 2006" "Jan 2007" "Jan 2008" "Dec 2008"
>
> I could not trace the porblem futher into the definition of format() because
> of my limited knowledge of computer and R :(
>
> I guess maybe you have told me the issue since you have said:
> "not showing line breaks in the date (windows doesn't recognize this)."
> Previously I did not understand your comment well because I am not familiar
> with R.
>
> If that's the case, I wonder whether there is some easy way for me to alter
> the code in axTicksByTime a little in my computer to make it worked.
> Thanks.
>
> Information on Package xts:
> URL:           http://r-forge.r-project.org/projects/xts/
> Packaged:      Tue Nov 18 09:15:14 2008; jryan
> Built:         R 2.7.2; i386-pc-mingw32; 2008-11-18 19:22:56; windows
>
> Information on my computer:
> Fujitsu Notebook
> Windows Vista Basic, OEM, Chinese.
> R 2.7.2     (Previously I have got the same problem in R 2.8)
>
> Regards,
> Wind
>
>
> Jeff Ryan wrote:
>>
>> Hi Wind,
>>
>> plot.xts is there, just not exported.  This means it gets called when
>> an xts object is passed to plot()
>>
>> xts:::plot.xts
>>
>> That aside, the issue is somewhere else.  I have tried the CRAN
>> release, the R-forge package, and the dev code on R-forge and all seem
>> to show an x axis with dates.
>>
>> There may be a formatting issue with Windows and the release you have
>> not showing line breaks in the date (windows doesn't recognize this).
>> Try using this version (though probably won't fix either):
>>
>> install.packages("xts",repos="http://R-Forge.R-project.org")
>>
>> chartSeries and plot.xts use axTicksByTime to format the labels.  The
>> issue most likely is that of the line breaks.
>>
>> All of the above have been fixed in not yet released /dev branch of
>> xts.  We are hoping to have that ready in the next few weeks.
>>
>> Jeff
>>
>> On Sun, Nov 16, 2008 at 3:24 AM, ? <windspeedo at qq.com> wrote:
>>> Dear Jeff and R experts,
>>> I wonder whether you have received the previous email on this matter.
>>> I have narrow the problem to plot.xts missing.
>>>
>>>>require(quantmod)
>>> Loading required package: quantmod
>>> Loading required package: xts
>>> Loading required package: zoo
>>> Attaching package: 'zoo'
>>>        The following object(s) are masked from package:base :
>>>         as.Date.numeric
>>> Loading required package: Defaults
>>> quantmod: Quantitative Financial Modelling Framework
>>> Version 0.3-6, Revision 433
>>> http://www.quantmod.com
>>>
>>>>getSymbols('AAPL')
>>> [1] "AAPL"
>>>>barChart(AAPL)
>>> #successful.  But NO date label for x axis labels.
>>>>a<-Cl(AAPL)
>>>>class(a)
>>> [1] "xts" "zoo"
>>>>plot.zoo(a)
>>> #successful.  There are annual label for x axis major ticks.
>>>>chartSeries(a)
>>> Error in sum(poss.new) : invalid 'type' (list) of argument
>>>>plot(a)
>>> #no date label for x  axis ticks
>>>>plot(as.xts(a))
>>> #same graph as the above. still no date label for x axis ticks
>>>>plot.xts(a)
>>> Error: could not find function "plot.xts"
>>>> ?plot.xts
>>> #the help window for plot.xts poped up.
>>>
>>>>library(help=xts)
>>> #window poped up with the following content:
>>> Version:       0.0-15
>>> Revision:      139
>>> Date:          2007-06-04
>>> Author:        Jeffrey A. Ryan, Josh M. Ulrich
>>> Depends:       zoo
>>> ...
>>> License:       GPL-3
>>> URL:           http://r-forge.r-project.org/projects/xts/
>>> Packaged:      Mon Jun 9 23:47:46 2008; jryan
>>> Built:         R 2.7.2; i386-pc-mingw32; 2008-10-15 23:19:56; windows
>>> Index:
>>> ...
>>> plot.xts                Plotting xts Objects
>>> ...
>>>
>>> It seems that plot.zoo does its job but plot.xts may have some problem.
>>>
>>> Besides, the OS is Vista Oem on a notebook.  R is 2.7.2 or 2.8.0.
>>>
>>> I wonder whether it is enough for R experts to diagnose the problem.
>>> Thanks.
>>>
>>> Wind
>>
>>
>>
>> --
>> Jeffrey Ryan
>> jeffrey.ryan at insightalgo.com
>>
>> ia: insight algorithmics
>> www.insightalgo.com
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>
> --
> View this message in context: http://www.nabble.com/Missing-tick-mark-labels-from-barChart---quantmod---plot.xts-missing-tp20523627p21112578.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com



From liuzhigang626 at gmail.com  Mon Dec 22 08:58:39 2008
From: liuzhigang626 at gmail.com (Liu Zhigang)
Date: Mon, 22 Dec 2008 15:58:39 +0800
Subject: [R-SIG-Finance] FT30 historical data
In-Reply-To: <E386E504246A9249A9176B5BEEC13B6F018B5C35@UXEXMBU116.academic.windsor>
References: <26c73e350812182303g67eb719bl5d7869dfbfcddc2d@mail.gmail.com>
	<E386E504246A9249A9176B5BEEC13B6F018B5C35@UXEXMBU116.academic.windsor>
Message-ID: <26c73e350812212358o7161d6b1v935cbd921621ce59@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081222/aa187dae/attachment.pl>

From arnaud.gaboury at gmail.com  Mon Dec 22 17:37:19 2008
From: arnaud.gaboury at gmail.com (arnaud Gaboury)
Date: Mon, 22 Dec 2008 17:37:19 +0100
Subject: [R-SIG-Finance] format.data.frame
Message-ID: <494fc247.0ec5100a.16ae.0aae@mx.google.com>

Hi everybody

Here is the output?:

> res2
       cvar standardDev vol10j vol200j sharpe
Dow    8.56        2.56  33.44   43.88  -0.04
Schatz 0.44        0.15   3.00    2.50  -0.72
Bobl   0.88        0.32   5.45    5.44  -0.33
Bunds  1.33        0.46   8.06    7.69  -0.23
US2Y   0.74        0.21   1.99    3.45  -0.52
US5Y   1.48        0.45   5.59    7.42  -0.24
US10Y  2.12        0.63   9.60   10.43  -0.17
> str(res2)
'data.frame':   7 obs. of  5 variables:
 $ cvar       : num  8.56 0.44 0.88 1.33 0.74 1.48 2.12
 $ standardDev: num  2.56 0.15 0.32 0.46 0.21 0.45 0.63
 $ vol10j     : num  33.44  3.00  5.45  8.06  1.99 ...
 $ vol200j    : num  43.88  2.50  5.44  7.69  3.45 ...
 $ sharpe     : num  -0.04 -0.72 -0.33 -0.23 -0.52 -0.24 -0.17



How can I center my results? I tried this:
> format.data.frame(res2,justify="centre")
But it?s going nowhere.

Tanks for any help,

Arno


From brian at braverock.com  Mon Dec 22 18:39:34 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 22 Dec 2008 11:39:34 -0600 (CST)
Subject: [R-SIG-Finance] format.data.frame
In-Reply-To: <494fc247.0ec5100a.16ae.0aae@mx.google.com>
References: <494fc247.0ec5100a.16ae.0aae@mx.google.com>
Message-ID: <24137.199.198.251.108.1229967574.squirrel@mail.braverock.com>


Try r-help.  Your question has nothing to do with finance, even if your
data does.


On Mon, December 22, 2008 10:37 am, arnaud Gaboury wrote:
> Hi everybody
>
> Here is the output?:
>
>> res2
>        cvar standardDev vol10j vol200j sharpe
> Dow    8.56        2.56  33.44   43.88  -0.04
> Schatz 0.44        0.15   3.00    2.50  -0.72
> Bobl   0.88        0.32   5.45    5.44  -0.33
> Bunds  1.33        0.46   8.06    7.69  -0.23
> US2Y   0.74        0.21   1.99    3.45  -0.52
> US5Y   1.48        0.45   5.59    7.42  -0.24
> US10Y  2.12        0.63   9.60   10.43  -0.17
>> str(res2)
> 'data.frame':   7 obs. of  5 variables:
>  $ cvar       : num  8.56 0.44 0.88 1.33 0.74 1.48 2.12
>  $ standardDev: num  2.56 0.15 0.32 0.46 0.21 0.45 0.63
>  $ vol10j     : num  33.44  3.00  5.45  8.06  1.99 ...
>  $ vol200j    : num  43.88  2.50  5.44  7.69  3.45 ...
>  $ sharpe     : num  -0.04 -0.72 -0.33 -0.23 -0.52 -0.24 -0.17
>
>
>
> How can I center my results? I tried this:
>> format.data.frame(res2,justify="centre")
> But it?s going nowhere.
>
> Tanks for any help,
>
> Arno
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From Anil.Vijendran.wg08 at wharton.upenn.edu  Tue Dec 23 16:41:31 2008
From: Anil.Vijendran.wg08 at wharton.upenn.edu (Anil Vijendran)
Date: Tue, 23 Dec 2008 07:41:31 -0800
Subject: [R-SIG-Finance] robust estimators (pkg: MASS)
Message-ID: <f6ac578e0812230741l73959b5fqcd52760bd66f5bdc@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081223/268737cf/attachment.pl>

From yannis_tzamouranis at yahoo.com  Wed Dec 24 23:14:41 2008
From: yannis_tzamouranis at yahoo.com (Yannis Tzamouranis)
Date: Wed, 24 Dec 2008 17:14:41 -0500
Subject: [R-SIG-Finance] Aegon Job posting - Baltimore, MD
Message-ID: <5C5180F7EA6F4282BA4DA16DA03E2880@yannis2>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081224/09b14a31/attachment.pl>

From binabina at bellsouth.net  Wed Dec 24 23:56:51 2008
From: binabina at bellsouth.net (zubin)
Date: Wed, 24 Dec 2008 17:56:51 -0500
Subject: [R-SIG-Finance] stuck on data
In-Reply-To: <4952BDAF.9020003@dowlaty.com>
References: <48E0465E.8060908@bellsouth.net>	
	<971536df0809282053i7c524ff4uaf6f37ee3c8d4c48@mail.gmail.com>	
	<48E05335.7080103@bellsouth.net> <48E054FE.4020409@dowlaty.com>
	<971536df0809282139i19d00596qbc7689f1f290d0ba@mail.gmail.com>
	<4952BDAF.9020003@dowlaty.com>
Message-ID: <4952BE33.9060303@bellsouth.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081224/9e7c8d9f/attachment.pl>

From josh.m.ulrich at gmail.com  Thu Dec 25 00:43:03 2008
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Wed, 24 Dec 2008 17:43:03 -0600
Subject: [R-SIG-Finance] stuck on data
In-Reply-To: <4952BE33.9060303@bellsouth.net>
References: <48E0465E.8060908@bellsouth.net>
	<971536df0809282053i7c524ff4uaf6f37ee3c8d4c48@mail.gmail.com>
	<48E05335.7080103@bellsouth.net> <48E054FE.4020409@dowlaty.com>
	<971536df0809282139i19d00596qbc7689f1f290d0ba@mail.gmail.com>
	<4952BDAF.9020003@dowlaty.com> <4952BE33.9060303@bellsouth.net>
Message-ID: <8cca69990812241543q55221b28nb51a195a301761ec@mail.gmail.com>

On Wed, Dec 24, 2008 at 4:56 PM, zubin <binabina at bellsouth.net> wrote:
>>  hello, need help with R in converting this data frame i received into
>> quantmod.
>>
>> Its a panel data set, (longitudinal or repeated measures) for an
>> econometrics project.   I need to convert this data frame to something
>> quantmod can use,  I would like access to all the time series
>> functions in R - plotting like in quantmod for example.  However, its
>> not open,high,low,close -  its
>> just one data point per time increment.
>>
You can use plot.xts, or plot.zoo (since xts extends zoo).

>> i researched and this led me to xts, but i can't figure out how to
>> link the data set below to xts?  the as.Date is confusing - what is
>> as.Date(paste(DF$d, DF$b, DF$Y), "%d %b %Y"), i can't find any info on
>> what d, b, and Y are?  what happens if i needed by the minute data,
>> less than day.
>>
The See Also section of ?as.Date specifically references ?strptime for
how to specify date formats (the second argument to as.Date).  See the
Details section of ?strptime.

>> data frame looks like below, date comes in as a factor variable and
>> the others as int.  I need to link the year, month,day to a time
>> class, or even the date below if possible, but its a Factor?
>>
You don't say how you read the data into R.  Assuming you use
read.table, you need to set the argument stringsAsFactors = FALSE.
Then you could do something like:
x <- xts(DF, as.Date(DF[,"date"],"%d%b%Y"))  # Assuming your date
column is in that format

>> so any help or an example of converting panel data frames to quantmod
>> would be appreciated.
>>
>> 'data.frame':    4048 obs. of  214 variables:
>>  $ Store_nbr                       : int  177 177 177 177 177 177 177
>> 177 177 177 ...
>>  $ year                            : int  2007 2007 2007 2007 2007
>> 2007 2007 2007 2007 2007 ...
>>  $ month                           : int  9 9 9 9 9 9 9 9 9 9 ...
>>  $ day                             : int  14 15 16 17 18 19 20 21 22
>> 23 ...
>>  $ date                            : Factor w/ 506 levels
>> "01APR2008","01AUG2008",..: 224 241 258 275 292 309 326 343 360 377 ...
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


HTH,
Josh
--
http://quantemplation.blogspot.com


From ggrothendieck at gmail.com  Thu Dec 25 02:04:19 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 24 Dec 2008 20:04:19 -0500
Subject: [R-SIG-Finance] stuck on data
In-Reply-To: <4952BE33.9060303@bellsouth.net>
References: <48E0465E.8060908@bellsouth.net>
	<971536df0809282053i7c524ff4uaf6f37ee3c8d4c48@mail.gmail.com>
	<48E05335.7080103@bellsouth.net> <48E054FE.4020409@dowlaty.com>
	<971536df0809282139i19d00596qbc7689f1f290d0ba@mail.gmail.com>
	<4952BDAF.9020003@dowlaty.com> <4952BE33.9060303@bellsouth.net>
Message-ID: <971536df0812241704g3f159bb2g4ac6c34c406e63d2@mail.gmail.com>

Assume the original file looked like this:

Lines <- "Store_nbr year month day date
177 2007 9 14 01APR2008
177 2007 9 14 01AUG2008"

# and you were given this data frame, DF:

DF <- read.table(textConnection(Lines), header = TRUE)

# then try this to plot Store_nbr

st <- read.zoo(DF, index.column = 5, format = "%d%b%Y")
plot(st$Store_nbr)

# or if you meant you were given the file, not DF directly:

library(zoo)
z <- read.zoo(textConnection(Lines), header = TRUE, index.column = 5,
	format = "%d%b%Y")
plot(z$Store_nbr)

See ?read.zoo, ?plot.zoo and the 3 zoo vignettes.  Also R News 4/1
has info on dates.

On Wed, Dec 24, 2008 at 5:56 PM, zubin <binabina at bellsouth.net> wrote:
>>  hello, need help with R in converting this data frame i received into
>> quantmod.
>>
>> Its a panel data set, (longitudinal or repeated measures) for an
>> econometrics project.   I need to convert this data frame to something
>> quantmod can use,  I would like access to all the time series
>> functions in R - plotting like in quantmod for example.  However, its
>> not open,high,low,close -  its
>> just one data point per time increment.
>>
>> i researched and this led me to xts, but i can't figure out how to
>> link the data set below to xts?  the as.Date is confusing - what is
>> as.Date(paste(DF$d, DF$b, DF$Y), "%d %b %Y"), i can't find any info on
>> what d, b, and Y are?  what happens if i needed by the minute data,
>> less than day.
>>
>> data frame looks like below, date comes in as a factor variable and
>> the others as int.  I need to link the year, month,day to a time
>> class, or even the date below if possible, but its a Factor?
>>
>> so any help or an example of converting panel data frames to quantmod
>> would be appreciated.
>>
>> 'data.frame':    4048 obs. of  214 variables:
>>  $ Store_nbr                       : int  177 177 177 177 177 177 177
>> 177 177 177 ...
>>  $ year                            : int  2007 2007 2007 2007 2007
>> 2007 2007 2007 2007 2007 ...
>>  $ month                           : int  9 9 9 9 9 9 9 9 9 9 ...
>>  $ day                             : int  14 15 16 17 18 19 20 21 22
>> 23 ...
>>  $ date                            : Factor w/ 506 levels
>> "01APR2008","01AUG2008",..: 224 241 258 275 292 309 326 343 360 377 ...
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From binabina at bellsouth.net  Thu Dec 25 02:06:28 2008
From: binabina at bellsouth.net (zubin)
Date: Wed, 24 Dec 2008 20:06:28 -0500
Subject: [R-SIG-Finance] stuck on data
In-Reply-To: <8cca69990812241543q55221b28nb51a195a301761ec@mail.gmail.com>
References: <48E0465E.8060908@bellsouth.net>	
	<971536df0809282053i7c524ff4uaf6f37ee3c8d4c48@mail.gmail.com>	
	<48E05335.7080103@bellsouth.net> <48E054FE.4020409@dowlaty.com>	
	<971536df0809282139i19d00596qbc7689f1f290d0ba@mail.gmail.com>	
	<4952BDAF.9020003@dowlaty.com> <4952BE33.9060303@bellsouth.net>
	<8cca69990812241543q55221b28nb51a195a301761ec@mail.gmail.com>
Message-ID: <4952DC94.6050107@bellsouth.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081224/2ab5e38a/attachment.pl>

From binabina at bellsouth.net  Thu Dec 25 18:40:03 2008
From: binabina at bellsouth.net (zubin)
Date: Thu, 25 Dec 2008 12:40:03 -0500
Subject: [R-SIG-Finance] [Fwd: Re:  stuck on data]
In-Reply-To: <4953C4FE.1060207@bellsouth.net>
References: <4953BEFE.1030300@bellsouth.net> <4953C4FE.1060207@bellsouth.net>
Message-ID: <4953C573.9090207@bellsouth.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081225/4209b4f0/attachment.pl>

From ggrothendieck at gmail.com  Thu Dec 25 19:06:52 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Thu, 25 Dec 2008 13:06:52 -0500
Subject: [R-SIG-Finance] [Fwd: Re: stuck on data]
In-Reply-To: <4953C573.9090207@bellsouth.net>
References: <4953BEFE.1030300@bellsouth.net> <4953C4FE.1060207@bellsouth.net>
	<4953C573.9090207@bellsouth.net>
Message-ID: <971536df0812251006m6c53873fg70ae04ee32254f93@mail.gmail.com>

Please provide ***reproducible*** examples: baseline.csv is missing
from your example -- a cut down version of it should be posted.
Also use dput(obj), not str(obj) when posting so that the output
is paste-able back into R.

The use of zoo() is wrong in your pass.   zoo() accepts a
numeric vector or matrix as arg 1 (or a factor) and a time index
as arg 2 but you are passing a data frame as arg 1 and a data frame
is not a numeric object.

Read the three zoo vignettes and note the error here is covered
in the FAQ:

vignette("zoo-faq")

Also note that there are numerous examples in the help files.  It
would be better to take a little time and go through this rather than
using trial and error without reference to the extensive documentation.

On Thu, Dec 25, 2008 at 12:40 PM, zubin <binabina at bellsouth.net> wrote:
>
>> Okay, i think i solved the dates issue with your help, but hung up
>> again...  My objective is to load this panel data set (cross sectional
>> time series data) into a zoo object so i can use the time series
>> functions(like arima, spectrum, etc..) and the quantmod library.
>> However, it seems you can't have panel data in these objects, only
>> multivariate time series (basically not data that is stacked or
>> pooled, so there are multiple dates by cross-section unit).   So what
>> i do is load the zoo object by store id#, which is okay - see below.
>> I can convert to zoo, then when i try to utilize problems occur.  Zoo
>> object converts all my integer data to character, i think??
>>
>>
>> >setwd("c:/csv")
>> >d1 <- read.csv("baseline.csv",stringsAsFactors=FALSE)
>> >dsmall <-
>> subset(d1[,c('total_Cases','date','Store_nbr')],Store_nbr=='177')
>> >dsmall$z <- as.Date(dsmall$date, "%d%b%Y")
>> >dsmallna <- na.omit(dsmall)
>> >dsmallna$date <- NULL
>> >str(dsmallna)
>>
>> 'data.frame':    414 obs. of  3 variables:
>>  $ total_Cases: int  246 6502 5718 6234 853 6387 9833 6138 2405 8066 ...
>>  $ Store_nbr  : int  177 177 177 177 177 177 177 177 177 177 ...
>>  $ z          :Class 'Date'  num [1:414] 13770 13771 13772 13773 13774 ...
>>  - attr(*, "na.action")=Class 'omit'  Named int [1:92] 415 416 417 418
>> 419 420 421 422 423 424 ...
>>   .. ..- attr(*, "names")= chr [1:92] "415" "416" "417" "418" ...
>>
>> this looks fine, the data.frame - total_Cases is variable of interest
>> and its an integer.
>>
>> >dzoo <- zoo(dsmallna, dsmallna$z)
>> >str(dzoo)
>>
>> 'zoo' series from 2007-09-14 to 2008-10-31
>>   Data: chr [1:414, 1:3] "  246" " 6502" " 5718" " 6234" "  853" ...
>>  - attr(*, "dimnames")=List of 2
>>   ..$ : chr [1:414] "1" "2" "3" "4" ...
>>   ..$ : chr [1:3] "total_Cases" "Store_nbr" "z"
>>   Index: Class 'Date'  num [1:414] 13770 13771 13772 13773 13774 ...
>>
>> /*okay, i don't know how to interpret the structure of the zoo object,
>> Data: chr?  seems like it shifted to character? */ /*How does one
>> interpret this object - $ : chr, $ : chr? */
>>
>> Now lets see if i can use the zoo object for some time series work...
>> Nope all these errors, i think related to the character conversion the
>> zoo object has done?
>>
>> > plot(dzoo)
>> i get a plot of total_Cases and store number and these errors?
>>
>> Error in plot.window(...) : need finite 'ylim' values
>> In addition: Warning messages:
>> 1: In xy.coords(x, y, xlabel, ylabel, log) : NAs introduced by coercion
>> 2: In min(x) : no non-missing arguments to min; returning Inf
>> 3: In max(x) : no non-missing arguments to max; returning -Inf
>>
>>
>> >chartSeries(dzoo)
>>
>> Error in checkSlotAssignment(object, name, value) : assignment of an
>> object of class "character" is not valid for slot "yrange" in an
>> object of class "chob"; is(value, "numeric") is not TRUE
>>
>>
>> >acf(dzoo)
>>
>> Error in acf(dzoo) : 'x' must be numeric
>>
>>
>> -zubin
>>
>>
>>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From binabina at bellsouth.net  Thu Dec 25 19:21:55 2008
From: binabina at bellsouth.net (zubin)
Date: Thu, 25 Dec 2008 13:21:55 -0500
Subject: [R-SIG-Finance] [Fwd: Re: stuck on data]
In-Reply-To: <971536df0812251006m6c53873fg70ae04ee32254f93@mail.gmail.com>
References: <4953BEFE.1030300@bellsouth.net> <4953C4FE.1060207@bellsouth.net>	
	<4953C573.9090207@bellsouth.net>
	<971536df0812251006m6c53873fg70ae04ee32254f93@mail.gmail.com>
Message-ID: <4953CF43.9070804@bellsouth.net>

Gabor, thx for the direction, got it to work by reading the fAQ 
vignette, just needed to say

dzoo <- zoo(dsmallna$total_Cases, dsmallna$z)

-zubin


Gabor Grothendieck wrote:
> Please provide ***reproducible*** examples: baseline.csv is missing
> from your example -- a cut down version of it should be posted.
> Also use dput(obj), not str(obj) when posting so that the output
> is paste-able back into R.
>
> The use of zoo() is wrong in your pass.   zoo() accepts a
> numeric vector or matrix as arg 1 (or a factor) and a time index
> as arg 2 but you are passing a data frame as arg 1 and a data frame
> is not a numeric object.
>
> Read the three zoo vignettes and note the error here is covered
> in the FAQ:
>
> vignette("zoo-faq")
>
> Also note that there are numerous examples in the help files.  It
> would be better to take a little time and go through this rather than
> using trial and error without reference to the extensive documentation.
>
> On Thu, Dec 25, 2008 at 12:40 PM, zubin <binabina at bellsouth.net> wrote:
>   
>>> Okay, i think i solved the dates issue with your help, but hung up
>>> again...  My objective is to load this panel data set (cross sectional
>>> time series data) into a zoo object so i can use the time series
>>> functions(like arima, spectrum, etc..) and the quantmod library.
>>> However, it seems you can't have panel data in these objects, only
>>> multivariate time series (basically not data that is stacked or
>>> pooled, so there are multiple dates by cross-section unit).   So what
>>> i do is load the zoo object by store id#, which is okay - see below.
>>> I can convert to zoo, then when i try to utilize problems occur.  Zoo
>>> object converts all my integer data to character, i think??
>>>
>>>
>>>       
>>>> setwd("c:/csv")
>>>> d1 <- read.csv("baseline.csv",stringsAsFactors=FALSE)
>>>> dsmall <-
>>>>         
>>> subset(d1[,c('total_Cases','date','Store_nbr')],Store_nbr=='177')
>>>       
>>>> dsmall$z <- as.Date(dsmall$date, "%d%b%Y")
>>>> dsmallna <- na.omit(dsmall)
>>>> dsmallna$date <- NULL
>>>> str(dsmallna)
>>>>         
>>> 'data.frame':    414 obs. of  3 variables:
>>>  $ total_Cases: int  246 6502 5718 6234 853 6387 9833 6138 2405 8066 ...
>>>  $ Store_nbr  : int  177 177 177 177 177 177 177 177 177 177 ...
>>>  $ z          :Class 'Date'  num [1:414] 13770 13771 13772 13773 13774 ...
>>>  - attr(*, "na.action")=Class 'omit'  Named int [1:92] 415 416 417 418
>>> 419 420 421 422 423 424 ...
>>>   .. ..- attr(*, "names")= chr [1:92] "415" "416" "417" "418" ...
>>>
>>> this looks fine, the data.frame - total_Cases is variable of interest
>>> and its an integer.
>>>
>>>       
>>>> dzoo <- zoo(dsmallna, dsmallna$z)
>>>> str(dzoo)
>>>>         
>>> 'zoo' series from 2007-09-14 to 2008-10-31
>>>   Data: chr [1:414, 1:3] "  246" " 6502" " 5718" " 6234" "  853" ...
>>>  - attr(*, "dimnames")=List of 2
>>>   ..$ : chr [1:414] "1" "2" "3" "4" ...
>>>   ..$ : chr [1:3] "total_Cases" "Store_nbr" "z"
>>>   Index: Class 'Date'  num [1:414] 13770 13771 13772 13773 13774 ...
>>>
>>> /*okay, i don't know how to interpret the structure of the zoo object,
>>> Data: chr?  seems like it shifted to character? */ /*How does one
>>> interpret this object - $ : chr, $ : chr? */
>>>
>>> Now lets see if i can use the zoo object for some time series work...
>>> Nope all these errors, i think related to the character conversion the
>>> zoo object has done?
>>>
>>>       
>>>> plot(dzoo)
>>>>         
>>> i get a plot of total_Cases and store number and these errors?
>>>
>>> Error in plot.window(...) : need finite 'ylim' values
>>> In addition: Warning messages:
>>> 1: In xy.coords(x, y, xlabel, ylabel, log) : NAs introduced by coercion
>>> 2: In min(x) : no non-missing arguments to min; returning Inf
>>> 3: In max(x) : no non-missing arguments to max; returning -Inf
>>>
>>>
>>>       
>>>> chartSeries(dzoo)
>>>>         
>>> Error in checkSlotAssignment(object, name, value) : assignment of an
>>> object of class "character" is not valid for slot "yrange" in an
>>> object of class "chob"; is(value, "numeric") is not TRUE
>>>
>>>
>>>       
>>>> acf(dzoo)
>>>>         
>>> Error in acf(dzoo) : 'x' must be numeric
>>>
>>>
>>> -zubin
>>>
>>>
>>>
>>>       
>>        [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>     
>
>


From bogaso.christofer at gmail.com  Sun Dec 28 22:53:25 2008
From: bogaso.christofer at gmail.com (bogaso.christofer)
Date: Mon, 29 Dec 2008 03:23:25 +0530
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
Message-ID: <CFF32511F06645759A3EE86F7DB900C7@Arun>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081229/6275a029/attachment.pl>

From heshriti at gmail.com  Sun Dec 28 23:37:14 2008
From: heshriti at gmail.com (Mahesh Krishnan)
Date: Sun, 28 Dec 2008 22:37:14 +0000
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
In-Reply-To: <CFF32511F06645759A3EE86F7DB900C7@Arun>
References: <CFF32511F06645759A3EE86F7DB900C7@Arun>
Message-ID: <1674547747-1230503896-cardhu_decombobulator_blackberry.rim.net-718279228-@bxe332.bisx.prod.on.blackberry>

The answer to your problem lies in understanding the replicating portfolio for the instrument you are trying to price.

In the case of a bond, you can reproduce the payoffs by reinvesting proceeds of a short tenor bill into the forward term structure. Hence, the discount rate must be the same as the tenor of the bond.

In the case of an option, replication is done by continuously rebalancing a stock-money market portfolio. So, the interest rate you need is the short rate, example the overnight repo rate.

Mahesh.


Sent via BlackBerry

-----Original Message-----
From: "bogaso.christofer" <bogaso.christofer at gmail.com>

Date: Mon, 29 Dec 2008 03:23:25 
To: <r-sig-finance at stat.math.ethz.ch>
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate


Hi,

 

I would like to ask one newbie question on risk free interest rate. This is
the essential part to price any financial derivatives, like options,
Interest Rate only [IO] strip etc. My question is standing at time "t" which
risk free interest rate I should consider? 3 month, 6 month, 10 year t-bill
or t-bond ? for example suppose, I need to price a call option using BS
formula, whose remaining life time is 2 years and another option whose life
time is 5 months. Which interest rate I need to take to value those 2
options? After some goggling it is suggested to take 3 month t-bill as risk
free rate. What is the logic behind that?

 

Again suppose, an Investor is to purchase an IO strip for 7 years, on a 10
years mortgage. In this case, I saw one book [by Cuthbertson], suggested to
take annual yield on 10-year t-bond to calculate NPV of all future Interest
payment against mortgage. However again it did not say why to take 10-year
bond not, 3-month t-bill.

 

Can anyone here please clarify me on above doubts? Your help will be highly
appreciated.

 

Thanks and regards,


	[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.

From enrique.bengoechea at credit-suisse.com  Mon Dec 29 10:27:40 2008
From: enrique.bengoechea at credit-suisse.com (=?iso-8859-1?Q?Bengoechea_Bartolom=E9_Enrique_=28SIES_73=29?=)
Date: Mon, 29 Dec 2008 10:27:40 +0100
Subject: [R-SIG-Finance] fPortfolio maxreturnPortfolio
Message-ID: <19811401A1D8174CB3EAD7F6072E9B5001D0ADD7@chsa1025.share.beluni.net>

Hi,

I've just upgraded package fPortfolio to v280.74. Funcion maxreturnPortfolio() does not seem to work, see example code below. Anyone using it? Maybe I'm using it incorrectly, but no examples are provided in the documentation. Any hint?

Best,

Enrique


> Data <- as.timeSeries(data(smallcap.ts))
> Data <- Data[, c("BKE", "GG", "GYMB", "KRON")]
> Spec <- portfolioSpec()
> setTargetRisk(Spec) <- 0.2
> maxreturnPortfolio(data=Data, spec=Spec, constraints="LongOnly")

Error in eqsumWConstraints(data, spec, constraints) : 
  Target Return is Missing

> sessionInfo()

R version 2.8.1 (2008-12-22) 
i386-pc-mingw32 

locale:
LC_COLLATE=Spanish_Spain.1252;LC_CTYPE=Spanish_Spain.1252;LC_MONETARY=Spanish_Spain.1252;LC_NUMERIC=C;LC_TIME=Spanish_Spain.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] fPortfolio_280.74 Rglpk_0.2-7       quadprog_1.4-11   fAssets_280.74   
 [5] fCopulae_270.74   adapt_1.0-4       robustbase_0.4-3  sn_0.4-8         
 [9] mnormt_1.3-1      fBasics_280.74    timeSeries_290.79 timeDate_290.81  
[13] MASS_7.2-45      

loaded via a namespace (and not attached):
[1] tools_2.8.1


------------------------------
Date: Thu, 27 Nov 2008 12:43:53 -0800 (PST)
From: patzoul <patzoul at free.fr>
Subject: Re: [R-SIG-Finance] [R-sig-finance] fPortfolio target risk optimization?
To: r-sig-finance at stat.math.ethz.ch
Message-ID: <20725348.post at talk.nabble.com>


The function "maxreturnPortfolio" is in fPortfolio v280.74.


Enrique Bengoechea wrote:
> 
> Many thanks Hugh and Thomas for your answers. I realize that return
> maximization is a harder numerical problem than risk minimization, so my
> thought was doing something along the lines of Thomas' search suggestion.
> Just wondered if that was not already programmed into the package. Your
> answers were very useful.
> 
> patzoul, I cannot find function "maxreturnPortfolio" in fPortfolio
> v260.72, where have you seen it? A more recent version of fPortfolio?
> 
> Best,
> 
> Enrique
> 


From windspeedo at qq.com  Mon Dec 29 14:45:53 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Mon, 29 Dec 2008 21:45:53 +0800
Subject: [R-SIG-Finance] Problem using stl() on data from quantmod
Message-ID: <tencent_445647FB0D42DFC339CD4AF6@qq.com>

With the following code, 

getSymbols("^GSPC")
xx<-as.ts(GSPC[,4])
xx<-na.approx(xx)
plot(stl(log(xx),s.window="period"))

There is an error:
Error in stl(log(xx), s.window = "period") : 
  only univariate series are allowed

> str(log(xx))
 ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr "GSPC.Close"
 - attr(*, "tsp")= num [1:3] 13516 14239     1

It seems that the structure of xx is a little complicated.   But I still don't know how to trim it to the simplest ts format.

Regards,
Wind


From ggrothendieck at gmail.com  Mon Dec 29 15:28:05 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 29 Dec 2008 09:28:05 -0500
Subject: [R-SIG-Finance] Problem using stl() on data from quantmod
In-Reply-To: <tencent_445647FB0D42DFC339CD4AF6@qq.com>
References: <tencent_445647FB0D42DFC339CD4AF6@qq.com>
Message-ID: <971536df0812290628n796301faxa0f5df961da64209@mail.gmail.com>

Try this:

library(quantmod)
getSymbols("IBM")
xx <- ts(IBM, freq = 250)[, 4]
xx <- na.approx(xx)
plot(stl(log(xx), s.window = "period"))


On Mon, Dec 29, 2008 at 8:45 AM, Wind <windspeedo at qq.com> wrote:
> With the following code,
>
> getSymbols("^GSPC")
> xx<-as.ts(GSPC[,4])
> xx<-na.approx(xx)
> plot(stl(log(xx),s.window="period"))
>
> There is an error:
> Error in stl(log(xx), s.window = "period") :
>  only univariate series are allowed
>
>> str(log(xx))
>  ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>  - attr(*, "dimnames")=List of 2
>  ..$ : NULL
>  ..$ : chr "GSPC.Close"
>  - attr(*, "tsp")= num [1:3] 13516 14239     1
>
> It seems that the structure of xx is a little complicated.   But I still don't know how to trim it to the simplest ts format.
>
> Regards,
> Wind
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From windspeedo at qq.com  Mon Dec 29 16:30:49 2008
From: windspeedo at qq.com (Wind2)
Date: Mon, 29 Dec 2008 07:30:49 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] Problem using stl() on data
	from quantmod
In-Reply-To: <971536df0812290628n796301faxa0f5df961da64209@mail.gmail.com>
References: <tencent_445647FB0D42DFC339CD4AF6@qq.com>
	<971536df0812290628n796301faxa0f5df961da64209@mail.gmail.com>
Message-ID: <21204666.post@talk.nabble.com>


ts(IBM, freq = 250)[, 4]
makes stl() OK.

I wonder the purpose of freq=250.   If IBM indeed contains different number
of data each year, say, 255 data one year and 252 data for another, is it
still propriate to use freq=250?

I tried to set freq=1 while using start to specify the start date.   But
don't know how to set start to a specific date.   

Thanks Gabor.

Regards,
Wind


Gabor Grothendieck wrote:
> 
> Try this:
> 
> library(quantmod)
> getSymbols("IBM")
> xx <- ts(IBM, freq = 250)[, 4]
> xx <- na.approx(xx)
> plot(stl(log(xx), s.window = "period"))
> 
> 
> On Mon, Dec 29, 2008 at 8:45 AM, Wind <windspeedo at qq.com> wrote:
>> With the following code,
>>
>> getSymbols("^GSPC")
>> xx<-as.ts(GSPC[,4])
>> xx<-na.approx(xx)
>> plot(stl(log(xx),s.window="period"))
>>
>> There is an error:
>> Error in stl(log(xx), s.window = "period") :
>>  only univariate series are allowed
>>
>>> str(log(xx))
>>  ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>>  - attr(*, "dimnames")=List of 2
>>  ..$ : NULL
>>  ..$ : chr "GSPC.Close"
>>  - attr(*, "tsp")= num [1:3] 13516 14239     1
>>
>> It seems that the structure of xx is a little complicated.   But I still
>> don't know how to trim it to the simplest ts format.
>>
>> Regards,
>> Wind
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 

-- 
View this message in context: http://www.nabble.com/Problem-using-stl%28%29-on-data-from-quantmod-tp21203449p21204666.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From ggrothendieck at gmail.com  Mon Dec 29 16:33:08 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 29 Dec 2008 10:33:08 -0500
Subject: [R-SIG-Finance] [R-sig-finance] Problem using stl() on data
	from quantmod
In-Reply-To: <21204666.post@talk.nabble.com>
References: <tencent_445647FB0D42DFC339CD4AF6@qq.com>
	<971536df0812290628n796301faxa0f5df961da64209@mail.gmail.com>
	<21204666.post@talk.nabble.com>
Message-ID: <971536df0812290733i3e828ee7pd869a6252ec22c2@mail.gmail.com>

stl requires that a fixed frequency be specified.

On Mon, Dec 29, 2008 at 10:30 AM, Wind2 <windspeedo at qq.com> wrote:
>
> ts(IBM, freq = 250)[, 4]
> makes stl() OK.
>
> I wonder the purpose of freq=250.   If IBM indeed contains different number
> of data each year, say, 255 data one year and 252 data for another, is it
> still propriate to use freq=250?
>
> I tried to set freq=1 while using start to specify the start date.   But
> don't know how to set start to a specific date.
>
> Thanks Gabor.
>
> Regards,
> Wind
>
>
> Gabor Grothendieck wrote:
>>
>> Try this:
>>
>> library(quantmod)
>> getSymbols("IBM")
>> xx <- ts(IBM, freq = 250)[, 4]
>> xx <- na.approx(xx)
>> plot(stl(log(xx), s.window = "period"))
>>
>>
>> On Mon, Dec 29, 2008 at 8:45 AM, Wind <windspeedo at qq.com> wrote:
>>> With the following code,
>>>
>>> getSymbols("^GSPC")
>>> xx<-as.ts(GSPC[,4])
>>> xx<-na.approx(xx)
>>> plot(stl(log(xx),s.window="period"))
>>>
>>> There is an error:
>>> Error in stl(log(xx), s.window = "period") :
>>>  only univariate series are allowed
>>>
>>>> str(log(xx))
>>>  ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>>>  - attr(*, "dimnames")=List of 2
>>>  ..$ : NULL
>>>  ..$ : chr "GSPC.Close"
>>>  - attr(*, "tsp")= num [1:3] 13516 14239     1
>>>
>>> It seems that the structure of xx is a little complicated.   But I still
>>> don't know how to trim it to the simplest ts format.
>>>
>>> Regards,
>>> Wind
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>
>
> --
> View this message in context: http://www.nabble.com/Problem-using-stl%28%29-on-data-from-quantmod-tp21203449p21204666.html
> Sent from the Rmetrics mailing list archive at Nabble.com.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From windspeedo at qq.com  Mon Dec 29 16:46:22 2008
From: windspeedo at qq.com (Wind2)
Date: Mon, 29 Dec 2008 07:46:22 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] Problem using stl() on data
	from quantmod
In-Reply-To: <971536df0812290733i3e828ee7pd869a6252ec22c2@mail.gmail.com>
References: <tencent_445647FB0D42DFC339CD4AF6@qq.com>
	<971536df0812290628n796301faxa0f5df961da64209@mail.gmail.com>
	<21204666.post@talk.nabble.com>
	<971536df0812290733i3e828ee7pd869a6252ec22c2@mail.gmail.com>
Message-ID: <21204894.post@talk.nabble.com>


It seems that I should learn more on freq to understand stl() better.
Thanks Gabor.

Regards,
Wind


Gabor Grothendieck wrote:
> 
> stl requires that a fixed frequency be specified.
> 
> On Mon, Dec 29, 2008 at 10:30 AM, Wind2 <windspeedo at qq.com> wrote:
>>
>> ts(IBM, freq = 250)[, 4]
>> makes stl() OK.
>>
>> I wonder the purpose of freq=250.   If IBM indeed contains different
>> number
>> of data each year, say, 255 data one year and 252 data for another, is it
>> still propriate to use freq=250?
>>
>> I tried to set freq=1 while using start to specify the start date.   But
>> don't know how to set start to a specific date.
>>
>> Thanks Gabor.
>>
>> Regards,
>> Wind
>>
>>
>> Gabor Grothendieck wrote:
>>>
>>> Try this:
>>>
>>> library(quantmod)
>>> getSymbols("IBM")
>>> xx <- ts(IBM, freq = 250)[, 4]
>>> xx <- na.approx(xx)
>>> plot(stl(log(xx), s.window = "period"))
>>>
>>>
>>> On Mon, Dec 29, 2008 at 8:45 AM, Wind <windspeedo at qq.com> wrote:
>>>> With the following code,
>>>>
>>>> getSymbols("^GSPC")
>>>> xx<-as.ts(GSPC[,4])
>>>> xx<-na.approx(xx)
>>>> plot(stl(log(xx),s.window="period"))
>>>>
>>>> There is an error:
>>>> Error in stl(log(xx), s.window = "period") :
>>>>  only univariate series are allowed
>>>>
>>>>> str(log(xx))
>>>>  ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>>>>  - attr(*, "dimnames")=List of 2
>>>>  ..$ : NULL
>>>>  ..$ : chr "GSPC.Close"
>>>>  - attr(*, "tsp")= num [1:3] 13516 14239     1
>>>>
>>>> It seems that the structure of xx is a little complicated.   But I
>>>> still
>>>> don't know how to trim it to the simplest ts format.
>>>>
>>>> Regards,
>>>> Wind
>>>>
>>>> _______________________________________________
>>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>>> -- Subscriber-posting only.
>>>> -- If you want to post, subscribe first.
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Finance at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>> -- Subscriber-posting only.
>>> -- If you want to post, subscribe first.
>>>
>>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Problem-using-stl%28%29-on-data-from-quantmod-tp21203449p21204666.html
>> Sent from the Rmetrics mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
> 
> 

-- 
View this message in context: http://www.nabble.com/Problem-using-stl%28%29-on-data-from-quantmod-tp21203449p21204894.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From brian at braverock.com  Mon Dec 29 16:49:17 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 29 Dec 2008 09:49:17 -0600
Subject: [R-SIG-Finance] Problem using stl() on data from quantmod
Message-ID: <nl6ydndfkuyf64ieruge3py5.1230565757917@email.android.com>

Ok, I see no reason at all for using as.ts here.  Leave your data in xts.

Wind <windspeedo at qq.com> wrote:

>With the following code, 
>
>getSymbols("^GSPC")
>xx<-as.ts(GSPC[,4])
>xx<-na.approx(xx)
>plot(stl(log(xx),s.window="period"))
>
>There is an error:
>Error in stl(log(xx), s.window = "period") : 
>  only univariate series are allowed
>
>> str(log(xx))
> ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
> - attr(*, "dimnames")=List of 2
>  ..$ : NULL
>  ..$ : chr "GSPC.Close"
> - attr(*, "tsp")= num [1:3] 13516 14239     1
>
>It seems that the structure of xx is a little complicated.   But I still don't know how to trim it to the simplest ts format.
>
>Regards,
>Wind
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.

From jeff.a.ryan at gmail.com  Mon Dec 29 17:10:57 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Mon, 29 Dec 2008 10:10:57 -0600
Subject: [R-SIG-Finance] Problem using stl() on data from quantmod
In-Reply-To: <nl6ydndfkuyf64ieruge3py5.1230565757917@email.android.com>
References: <nl6ydndfkuyf64ieruge3py5.1230565757917@email.android.com>
Message-ID: <e8e755250812290810ydc1fb00k4c1f47fd03cea4c9@mail.gmail.com>

The issue is in stl which will convert (try) to ts internally:

> stl
function (x, s.window, s.degree = 0, t.window = NULL, t.degree = 1,
...
    x <- na.action(as.ts(x))
    if (is.matrix(x))
        stop("only univariate series are allowed")
    n <- length(x)
    period <- frequency(x)
    if (period < 2 || n <= 2 * period)
        stop("series is not periodic or has less than two periods")

Which will result in an object of freq=1, and thus throw an error.

Jeff

On Mon, Dec 29, 2008 at 9:49 AM, Brian G. Peterson <brian at braverock.com> wrote:
> Ok, I see no reason at all for using as.ts here.  Leave your data in xts.
>
> Wind <windspeedo at qq.com> wrote:
>
>>With the following code,
>>
>>getSymbols("^GSPC")
>>xx<-as.ts(GSPC[,4])
>>xx<-na.approx(xx)
>>plot(stl(log(xx),s.window="period"))
>>
>>There is an error:
>>Error in stl(log(xx), s.window = "period") :
>>  only univariate series are allowed
>>
>>> str(log(xx))
>> ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>> - attr(*, "dimnames")=List of 2
>>  ..$ : NULL
>>  ..$ : chr "GSPC.Close"
>> - attr(*, "tsp")= num [1:3] 13516 14239     1
>>
>>It seems that the structure of xx is a little complicated.   But I still don't know how to trim it to the simplest ts format.
>>
>>Regards,
>>Wind
>>
>>_______________________________________________
>>R-SIG-Finance at stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>-- Subscriber-posting only.
>>-- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From bogaso.christofer at gmail.com  Mon Dec 29 19:32:54 2008
From: bogaso.christofer at gmail.com (bogaso.christofer)
Date: Tue, 30 Dec 2008 00:02:54 +0530
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
Message-ID: <54D03DECB11644F4B84F1B683E8DBFD4@Arun>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081230/1c5cbf1c/attachment.pl>

From rory.winston at gmail.com  Tue Dec 30 00:37:37 2008
From: rory.winston at gmail.com (Rory Winston)
Date: Mon, 29 Dec 2008 23:37:37 +0000
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
Message-ID: <3f446aa30812291537p6c1ad015m6941637f3fd500c3@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081229/e05ced99/attachment.pl>

From windspeedo at qq.com  Tue Dec 30 03:13:03 2008
From: windspeedo at qq.com (=?ISO-8859-1?B?V2luZA==?=)
Date: Tue, 30 Dec 2008 10:13:03 +0800
Subject: [R-SIG-Finance] Problem using stl() on data from quantmod
Message-ID: <tencent_26D407776374D4C94576AE15@qq.com>

Thanks Jeff.
You made me fully understand this issue.

Regards,
Wind

 
 
------------------ Original ------------------
From:  "Jeff Ryan"<jeff.a.ryan at gmail.com>;
Date:  Tue, Dec 30, 2008 00:10 AM
To:  "Brian G. Peterson"<brian at braverock.com>; 
Cc:  "Wind"<windspeedo at qq.com>; "r-sig-finance"<r-sig-finance at stat.math.ethz.ch>; 
Subject:  Re: [R-SIG-Finance] Problem using stl() on data from quantmod

 
The issue is in stl which will convert (try) to ts internally:

> stl
function (x, s.window, s.degree = 0, t.window = NULL, t.degree = 1,
....
    x <- na.action(as.ts(x))
    if (is.matrix(x))
        stop("only univariate series are allowed")
    n <- length(x)
    period <- frequency(x)
    if (period < 2 || n <= 2 * period)
        stop("series is not periodic or has less than two periods")

Which will result in an object of freq=1, and thus throw an error.

Jeff

On Mon, Dec 29, 2008 at 9:49 AM, Brian G. Peterson <brian at braverock.com> wrote:
> Ok, I see no reason at all for using as.ts here.  Leave your data in xts.
>
> Wind <windspeedo at qq.com> wrote:
>
>>With the following code,
>>
>>getSymbols("^GSPC")
>>xx<-as.ts(GSPC[,4])
>>xx<-na.approx(xx)
>>plot(stl(log(xx),s.window="period"))
>>
>>There is an error:
>>Error in stl(log(xx), s.window = "period") :
>>  only univariate series are allowed
>>
>>> str(log(xx))
>> ts [1:724, 1] 7.26 7.26 7.25 7.25 7.25 ...
>> - attr(*, "dimnames")=List of 2
>>  ..$ : NULL
>>  ..$ : chr "GSPC.Close"
>> - attr(*, "tsp")= num [1:3] 13516 14239     1
>>
>>It seems that the structure of xx is a little complicated.   But I still don't know how to trim it to the simplest ts format.
>>
>>Regards,
>>Wind
>>
>>_______________________________________________
>>R-SIG-Finance at stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>-- Subscriber-posting only.
>>-- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From heshriti at gmail.com  Tue Dec 30 04:00:48 2008
From: heshriti at gmail.com (Mahesh Krishnan)
Date: Mon, 29 Dec 2008 22:00:48 -0500
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
In-Reply-To: <54D03DECB11644F4B84F1B683E8DBFD4@Arun>
References: <54D03DECB11644F4B84F1B683E8DBFD4@Arun>
Message-ID: <33f6aa6f0812291900m2f82fde9q69cfcb1426dc80ac@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081229/27107643/attachment.pl>

From bastian2507hk at yahoo.co.uk  Tue Dec 30 04:40:21 2008
From: bastian2507hk at yahoo.co.uk (Bastian Offermann)
Date: Tue, 30 Dec 2008 04:40:21 +0100
Subject: [R-SIG-Finance] constrained OLS regression
Message-ID: <49599825.6020508@yahoo.co.uk>

Hi,

does anybody know how to run a constrained OLS regression where the 
intercept is 0.

r = a + b * y + e

a = 0

??

The following was suggested for a different example, but i dont quite 
know how to transfer this to my problem:

"""""""""""""I don't know STATA, but if you want to force a specific regression 
coefficient to be 1, I think that can be done with the formula.  
Consider the following: 

      DF <- data.frame(x1=1:6, x2=rep(1:2, 3), y=rep(1:3, 2))
      lm(y-x1~x2-1, DF)

      The formula "y-x1~x2-1" fits a noconstant model, specified by the 
"-1" of y-x1 regressed on x2. 

      Does this answer the question? 
      spencer graves"""""""""""""""""""""""



Thanks in advance.

Regards


From ggrothendieck at gmail.com  Tue Dec 30 04:53:21 2008
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon, 29 Dec 2008 22:53:21 -0500
Subject: [R-SIG-Finance] constrained OLS regression
In-Reply-To: <49599825.6020508@yahoo.co.uk>
References: <49599825.6020508@yahoo.co.uk>
Message-ID: <971536df0812291953q40997746w1119ed00677dd34c@mail.gmail.com>

There is an example in the Examples section of the help page: ?lm

On Mon, Dec 29, 2008 at 10:40 PM, Bastian Offermann
<bastian2507hk at yahoo.co.uk> wrote:
> Hi,
>
> does anybody know how to run a constrained OLS regression where the
> intercept is 0.
>
> r = a + b * y + e
>
> a = 0
>
> ??
>
> The following was suggested for a different example, but i dont quite know
> how to transfer this to my problem:
>
> """""""""""""I don't know STATA, but if you want to force a specific
> regression coefficient to be 1, I think that can be done with the formula.
>  Consider the following:
>     DF <- data.frame(x1=1:6, x2=rep(1:2, 3), y=rep(1:3, 2))
>     lm(y-x1~x2-1, DF)
>
>     The formula "y-x1~x2-1" fits a noconstant model, specified by the "-1"
> of y-x1 regressed on x2.
>     Does this answer the question?     spencer graves"""""""""""""""""""""""
>
>
>
> Thanks in advance.
>
> Regards
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From micha.keijzers at gmail.com  Tue Dec 30 09:55:06 2008
From: micha.keijzers at gmail.com (Micha Keijzers)
Date: Tue, 30 Dec 2008 09:55:06 +0100
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
In-Reply-To: <33f6aa6f0812291900m2f82fde9q69cfcb1426dc80ac@mail.gmail.com>
References: <54D03DECB11644F4B84F1B683E8DBFD4@Arun>
	<33f6aa6f0812291900m2f82fde9q69cfcb1426dc80ac@mail.gmail.com>
Message-ID: <13eac1860812300055s176de121g5c65234f5c2f533e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081230/33d6cbe7/attachment.pl>

From ian.mcdonald at malbecpartners.com  Tue Dec 30 16:48:51 2008
From: ian.mcdonald at malbecpartners.com (ian.mcdonald at malbecpartners.com)
Date: Tue, 30 Dec 2008 10:48:51 -0500
Subject: [R-SIG-Finance] Optimization Question
Message-ID: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081230/4a502cd0/attachment.pl>

From ghsohn at gmail.com  Tue Dec 30 17:57:47 2008
From: ghsohn at gmail.com (GHSohn@gmail.com)
Date: Tue, 30 Dec 2008 17:57:47 +0100
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
Message-ID: <f7eb7ef40812300857j538b82f4y19c4ee84ce59c704@mail.gmail.com>

Sorry, this is not an answer, but I would be interested in specifics
and what theory you use, i.e. what multivariate distribution and maybe
a reference as to calculation of MDD, VaR, ES, ... ?

On Tue, Dec 30, 2008 at 4:48 PM,  <ian.mcdonald at malbecpartners.com> wrote:
> I am interested in doing a portfolio optimization, but I need to impose
> non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've
> looked into several of the optimization routines (nlminb, constrOptim and
> optim with SANN/L-BFGS-B) but it appears that all of them are geared to
> linear constraints. Other than using a penalty function method, is anyone
> aware of any other approaches available in  R?
>
> Thanks
> Ian McDonald
> Malbec Partners
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From frednovo at pipeline.com  Tue Dec 30 18:01:52 2008
From: frednovo at pipeline.com (Frederick Novomestky)
Date: Tue, 30 Dec 2008 12:01:52 -0500
Subject: [R-SIG-Finance] constrained OLS regression
In-Reply-To: <49599825.6020508@yahoo.co.uk>
References: <49599825.6020508@yahoo.co.uk>
Message-ID: <6.2.1.2.2.20081230120017.02ccf290@pop.pipeline.com>

The lm function has an option for removing the intercept which I've copied 
below from the lm help page

A formula has an implied intercept term.  To remove this use
      either 'y ~ x - 1' or 'y ~ 0 + x'.  See 'formula' for more details
      of allowed formulae.

Regards,

Fred Novomestky

At 10:40 PM 12/29/2008, Bastian Offermann wrote:
>Hi,
>
>does anybody know how to run a constrained OLS regression where the 
>intercept is 0.
>
>r = a + b * y + e
>
>a = 0
>
>??
>
>The following was suggested for a different example, but i dont quite know 
>how to transfer this to my problem:
>
>"""""""""""""I don't know STATA, but if you want to force a specific 
>regression coefficient to be 1, I think that can be done with the formula.
>Consider the following:
>      DF <- data.frame(x1=1:6, x2=rep(1:2, 3), y=rep(1:3, 2))
>      lm(y-x1~x2-1, DF)
>
>      The formula "y-x1~x2-1" fits a noconstant model, specified by the 
> "-1" of y-x1 regressed on x2.
>      Does this answer the question?      spencer 
> graves"""""""""""""""""""""""
>
>
>
>Thanks in advance.
>
>Regards
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>-- Subscriber-posting only.
>-- If you want to post, subscribe first.

Frederick Novomestky, Ph.D.
Novomestky Associates LLC
41 Eastover Drive
East Northport, NY 11731-4330
Vox: 1.631.368.0701
Fax: 1.631.368.1696
URL: http://www.novoassoc.com

Confidentiality Notice: This electronic mail transmissio...{{dropped:10}}


From heshriti at gmail.com  Tue Dec 30 21:14:11 2008
From: heshriti at gmail.com (Mahesh Krishnan)
Date: Tue, 30 Dec 2008 20:14:11 +0000
Subject: [R-SIG-Finance] Newbie question on risk free Interest Rate
In-Reply-To: <13eac1860812300055s176de121g5c65234f5c2f533e@mail.gmail.com>
References: <54D03DECB11644F4B84F1B683E8DBFD4@Arun>
	<33f6aa6f0812291900m2f82fde9q69cfcb1426dc80ac@mail.gmail.com>
	<13eac1860812300055s176de121g5c65234f5c2f533e@mail.gmail.com>
Message-ID: <1887427675-1230668114-cardhu_decombobulator_blackberry.rim.net-1575028970-@bxe332.bisx.prod.on.blackberry>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081230/f20db365/attachment.pl>

From patzoul at free.fr  Tue Dec 30 21:46:29 2008
From: patzoul at free.fr (patzoul)
Date: Tue, 30 Dec 2008 12:46:29 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] converting to timeSeries
Message-ID: <21222886.post@talk.nabble.com>


I am loading data from a csv file:
x = read.csv("XFR00104.txt", header = FALSE)

The format is like this:
               V1       V2     V3     V4     V5     V6     V7
1   XFR0010411884 12/31/07  1  55.64  55.32  55.62   7244
2   XFR0010411884 01/02/08  1  56.80  54.50  56.75  58724
3   XFR0010411884 01/03/08  1  57.20  56.42  56.67 156879
4   XFR0010411884 01/04/08  1  58.98  56.28  58.43 138630

I would like to convert it to a timeSeries.

As a first step I converted the second column into dates:
x[,2] = as.Date(x[,2], format = "%m/%d/%y")

and then used the as.timeSeries function:
y = as.timeSeries(x[2:6])

but lost all the date information:
  V3     V4     V5     V6
  1  1  55.64  55.32  55.62
  2  1  56.80  54.50  56.75
  3  1  57.20  56.42  56.67
  4  1  58.98  56.28  58.43

What do I need to do to get a proper timeSeries?


-- 
View this message in context: http://www.nabble.com/converting-to-timeSeries-tp21222886p21222886.html
Sent from the Rmetrics mailing list archive at Nabble.com.


From patrick at burns-stat.com  Tue Dec 30 22:01:20 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Tue, 30 Dec 2008 21:01:20 +0000
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
Message-ID: <495A8C20.4040902@burns-stat.com>

I suspect that including Maximum drawdown in an
optimization is unlikely to be useful.  However, I'm
anxious to be proven wrong.

It's not clear to me what specifically you are wanting
to do, but Manfred Gilli has done a fair amount on
VaR in optimization. (But I don't think you'll get any
R code off him.)

Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

ian.mcdonald at malbecpartners.com wrote:
> I am interested in doing a portfolio optimization, but I need to impose 
> non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've 
> looked into several of the optimization routines (nlminb, constrOptim and 
> optim with SANN/L-BFGS-B) but it appears that all of them are geared to 
> linear constraints. Other than using a penalty function method, is anyone 
> aware of any other approaches available in  R?
>
> Thanks
> Ian McDonald
> Malbec Partners
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>


From ian.mcdonald at malbecpartners.com  Tue Dec 30 23:40:20 2008
From: ian.mcdonald at malbecpartners.com (ian.mcdonald at malbecpartners.com)
Date: Tue, 30 Dec 2008 17:40:20 -0500
Subject: [R-SIG-Finance] Optimization Question
Message-ID: <OFCAD37D4E.582F9922-ON8525752F.007C8B32@malbecpartners.com>

I wanted to be able to generally include a non-linear constraint on an optimization. I was using maxdrawdown, var, or any risk measure as examples.

Real world example might be when one needs to optimize a portfolio with weight constraints (max size to one or more securities).  We might choose a utility function such as info ratio, calmar ratio, etc, but the resulting solution, while wonderful from utility perpective, has poor real world pnl and isn't simply scalable due to weight constraints. One can modify the utility function, or constrain the risk (or profit) to some minimum.  

So generally investigating optimization with potentially non-linear constraints. I think a penalty function into utility is best but wondering if there were other approaches.

Ian McDonald


----- Original Message -----
From: Patrick Burns [patrick at burns-stat.com]
Sent: 12/30/2008 09:01 PM GMT
To: Ian McDonald
Cc: r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] Optimization Question



I suspect that including Maximum drawdown in an
optimization is unlikely to be useful.  However, I'm
anxious to be proven wrong.

It's not clear to me what specifically you are wanting
to do, but Manfred Gilli has done a fair amount on
VaR in optimization. (But I don't think you'll get any
R code off him.)

Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

ian.mcdonald at malbecpartners.com wrote:
> I am interested in doing a portfolio optimization, but I need to impose 
> non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've 
> looked into several of the optimization routines (nlminb, constrOptim and 
> optim with SANN/L-BFGS-B) but it appears that all of them are geared to 
> linear constraints. Other than using a penalty function method, is anyone 
> aware of any other approaches available in  R?
>
> Thanks
> Ian McDonald
> Malbec Partners
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>
>


From ghsohn at gmail.com  Tue Dec 30 23:56:33 2008
From: ghsohn at gmail.com (Hyun-U Sohn)
Date: Tue, 30 Dec 2008 23:56:33 +0100
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <495A8C20.4040902@burns-stat.com>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
	<495A8C20.4040902@burns-stat.com>
Message-ID: <f7eb7ef40812301456p5933ffc1kec5a138ce0d67da1@mail.gmail.com>

Well, for BM/GBM, you could calculate the expected value of MDD over
the investment horizon according to Magdon-Ismail et al. 2003 (?) or
their article in Risk and use that. That shouldn't be too hard, but
depending on how the parameters are determined, it's unlikely to be
very useful for risk management. Which is why I would be interested in
which specific distributional assumptions the original question was
aiming at. Indeed I'd be grateful for references on sampling
distributions of MDD for processes other than BM, or for that matter
even what form the sampling distribution of MDD of BM takes. Or do you
plan to use some Monte Carlo method to calculate MDD or any of the
other risk measures in the post?

On Tue, Dec 30, 2008 at 10:01 PM, Patrick Burns <patrick at burns-stat.com> wrote:
> I suspect that including Maximum drawdown in an
> optimization is unlikely to be useful.  However, I'm
> anxious to be proven wrong.
>
> It's not clear to me what specifically you are wanting
> to do, but Manfred Gilli has done a fair amount on
> VaR in optimization. (But I don't think you'll get any
> R code off him.)
>
> Patrick Burns
> patrick at burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of S Poetry and "A Guide for the Unwilling S User")
>
> ian.mcdonald at malbecpartners.com wrote:
>>
>> I am interested in doing a portfolio optimization, but I need to impose
>> non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've
>> looked into several of the optimization routines (nlminb, constrOptim and
>> optim with SANN/L-BFGS-B) but it appears that all of them are geared to
>> linear constraints. Other than using a penalty function method, is anyone
>> aware of any other approaches available in  R?
>>
>> Thanks
>> Ian McDonald
>> Malbec Partners
>>
>>        [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>
>>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From guy.yollin at rotellacapital.com  Wed Dec 31 01:33:37 2008
From: guy.yollin at rotellacapital.com (Guy Yollin)
Date: Tue, 30 Dec 2008 18:33:37 -0600
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
Message-ID: <E4259A82356E7F46B4F911FB27B0D7251364F5B0FD@AUSP01VMBX02.collaborationhost.net>

Ian,

An excellent technique for general purpose non-linear optimization is the differential evolution algorithm:

http://www.icsi.berkeley.edu/~storn/code.html

It has been implemented in the DEoptim package available on CRAN; the algorithm is very flexible and you could readily implement an maximum drawdown or VaR optimization strategy using DE.

Back in February 2008, David Basterfield gave a webcast on the differential evolution algorithm with a number of non-linear portfolio optimization examples; it is still available on the Insightful website under events/finance:

        www.insightful.com

Note, a number of papers have shown the superiority of conditional-value-at-risk (CVaR) to VaR as a risk metric.  The CVaR portfolio optimization can be framed as a linear programming problem and you could then use a linear programming package (e.g. lpSolve or linprog) to find mean-CVaR optimum portfolios.  The books Portfolio Construction and Risk Budgeting by Bernd Scherer and Introduction to Modern Portfolio Optimization by Bernd Scherer and Douglas Martin provides some details on this and other non-standard portfolio optimization techniques; although both these books include S+NuOPT examples, the key points are transferrable to R.

Best,

-- Guy




-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of ian.mcdonald at malbecpartners.com
Sent: Tuesday, December 30, 2008 7:49 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] Optimization Question

I am interested in doing a portfolio optimization, but I need to impose
non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've
looked into several of the optimization routines (nlminb, constrOptim and
optim with SANN/L-BFGS-B) but it appears that all of them are geared to
linear constraints. Other than using a penalty function method, is anyone
aware of any other approaches available in  R?

Thanks
Ian McDonald
Malbec Partners

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.


From lyhin at netvigator.com  Wed Dec 31 03:58:07 2008
From: lyhin at netvigator.com (L.-Y. Hin)
Date: Wed, 31 Dec 2008 10:58:07 +0800
Subject: [R-SIG-Finance] Newbie question on getSymbols() in quantmod
Message-ID: <4B231E567573444C9275EBF13B116C80@R>

Dear gurus,

I am learning the quantmod library, and trying to download
the equity series for HSBC from yahoo.

I checked from yahoo finance that the symbol is 0005.HK,
and then I used


> library(quantmod)
> getSymbols("0005.HK",src="yahoo")
[1] "0005.HK"
> candleChart(0005.HK)
Error: unexpected symbol in "candleChart(0005.HK"
> chartSeries(0005.HK)
Error: unexpected symbol in "chartSeries(0005.HK"
> Cl(0005.HK)
Error: unexpected symbol in "Cl(0005.HK"

It seems like probably no data has been loaded by the 
approach above.


However, the same scripts work for NYSE equities like
> getSymbols("A",src="yahoo")
[1] "A"
> chartSeries(A)
> length(Cl(A))   #To check whether OHLC data has been loaded
[1] 503


I suspect the problem is in the way I tried to load 0005.HK....


I'll be very grateful for your kind advice.


Many thanks 

Lin


From brian at muxspace.com  Wed Dec 31 04:31:39 2008
From: brian at muxspace.com (Brian Lee Yung Rowe)
Date: Tue, 30 Dec 2008 22:31:39 -0500
Subject: [R-SIG-Finance] Newbie question on getSymbols() in quantmod
In-Reply-To: <4B231E567573444C9275EBF13B116C80@R>
References: <4B231E567573444C9275EBF13B116C80@R>
Message-ID: <1230694299.20366.0.camel@localhost>

Try:

HSBC <- getSymbols("0005.HK",src="yahoo", auto.assign=FALSE)

Brian


On Wed, 2008-12-31 at 10:58 +0800, L.-Y. Hin wrote:
> Dear gurus,
> 
> I am learning the quantmod library, and trying to download
> the equity series for HSBC from yahoo.
> 
> I checked from yahoo finance that the symbol is 0005.HK,
> and then I used
> 
> 
> > library(quantmod)
> > getSymbols("0005.HK",src="yahoo")
> [1] "0005.HK"
> > candleChart(0005.HK)
> Error: unexpected symbol in "candleChart(0005.HK"
> > chartSeries(0005.HK)
> Error: unexpected symbol in "chartSeries(0005.HK"
> > Cl(0005.HK)
> Error: unexpected symbol in "Cl(0005.HK"
> 
> It seems like probably no data has been loaded by the 
> approach above.
> 
> 
> However, the same scripts work for NYSE equities like
> > getSymbols("A",src="yahoo")
> [1] "A"
> > chartSeries(A)
> > length(Cl(A))   #To check whether OHLC data has been loaded
> [1] 503
> 
> 
> I suspect the problem is in the way I tried to load 0005.HK....
> 
> 
> I'll be very grateful for your kind advice.
> 
> 
> Many thanks 
> 
> Lin
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.


From jeff.a.ryan at gmail.com  Wed Dec 31 06:04:21 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Tue, 30 Dec 2008 23:04:21 -0600
Subject: [R-SIG-Finance] Newbie question on getSymbols() in quantmod
In-Reply-To: <1230694299.20366.0.camel@localhost>
References: <4B231E567573444C9275EBF13B116C80@R>
	<1230694299.20366.0.camel@localhost>
Message-ID: <e8e755250812302104w592a713iad479bd2b04bfb03@mail.gmail.com>

An alternate approach uses setSymbolLookup

setSymbolLookup(HSBC=list(src='yahoo', name="0005.HK"))

You can put this in a start up file for future R sessions.  See ?setSymbolLookup

> getSymbols("HSBC")
[1] "HSBC"
> str(HSBC)
An 'xts' object from 2007-01-01 to 2008-12-29 containing:
  Data: num [1:510, 1:6] 142 143 144 145 144 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:6] "0005.HK.Open" "0005.HK.High" "0005.HK.Low"
"0005.HK.Close" ...
  Indexed by objects of class: [Date]
   xts Attributes:
List of 2
 $ src    : chr "yahoo"
 $ updated: POSIXct[1:1], format: "2008-12-31 05:02:43"

HTH
Jeff

On Tue, Dec 30, 2008 at 9:31 PM, Brian Lee Yung Rowe <brian at muxspace.com> wrote:
> Try:
>
> HSBC <- getSymbols("0005.HK",src="yahoo", auto.assign=FALSE)
>
> Brian
>
>
> On Wed, 2008-12-31 at 10:58 +0800, L.-Y. Hin wrote:
>> Dear gurus,
>>
>> I am learning the quantmod library, and trying to download
>> the equity series for HSBC from yahoo.
>>
>> I checked from yahoo finance that the symbol is 0005.HK,
>> and then I used
>>
>>
>> > library(quantmod)
>> > getSymbols("0005.HK",src="yahoo")
>> [1] "0005.HK"
>> > candleChart(0005.HK)
>> Error: unexpected symbol in "candleChart(0005.HK"
>> > chartSeries(0005.HK)
>> Error: unexpected symbol in "chartSeries(0005.HK"
>> > Cl(0005.HK)
>> Error: unexpected symbol in "Cl(0005.HK"
>>
>> It seems like probably no data has been loaded by the
>> approach above.
>>
>>
>> However, the same scripts work for NYSE equities like
>> > getSymbols("A",src="yahoo")
>> [1] "A"
>> > chartSeries(A)
>> > length(Cl(A))   #To check whether OHLC data has been loaded
>> [1] 503
>>
>>
>> I suspect the problem is in the way I tried to load 0005.HK....
>>
>>
>> I'll be very grateful for your kind advice.
>>
>>
>> Many thanks
>>
>> Lin
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>



-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From patrick at burns-stat.com  Wed Dec 31 12:53:10 2008
From: patrick at burns-stat.com (Patrick Burns)
Date: Wed, 31 Dec 2008 11:53:10 +0000
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <OFCAD37D4E.582F9922-ON8525752F.007C8B32@malbecpartners.com>
References: <OFCAD37D4E.582F9922-ON8525752F.007C8B32@malbecpartners.com>
Message-ID: <495B5D26.2080601@burns-stat.com>

I would think that the two possibilities are:

as you say, adding a penalty to the objective,

looking through the optimization task view to
see if there are any appropriate functions that
handle non-linear constraints.

Pat

ian.mcdonald at malbecpartners.com wrote:
> I wanted to be able to generally include a non-linear constraint on an 
> optimization. I was using maxdrawdown, var, or any risk measure as 
> examples.
>
> Real world example might be when one needs to optimize a portfolio 
> with weight constraints (max size to one or more securities).  We 
> might choose a utility function such as info ratio, calmar ratio, etc, 
> but the resulting solution, while wonderful from utility perpective, 
> has poor real world pnl and isn't simply scalable due to weight 
> constraints. One can modify the utility function, or constrain the 
> risk (or profit) to some minimum. 
> So generally investigating optimization with potentially non-linear 
> constraints. I think a penalty function into utility is best but 
> wondering if there were other approaches.
>
> Ian McDonald
>
>
> ----- Original Message -----
> From: Patrick Burns [patrick at burns-stat.com]
> Sent: 12/30/2008 09:01 PM GMT
> To: Ian McDonald
> Cc: r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] Optimization Question
>
>
>
> I suspect that including Maximum drawdown in an
> optimization is unlikely to be useful.  However, I'm
> anxious to be proven wrong.
>
> It's not clear to me what specifically you are wanting
> to do, but Manfred Gilli has done a fair amount on
> VaR in optimization. (But I don't think you'll get any
> R code off him.)
>
> Patrick Burns
> patrick at burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of S Poetry and "A Guide for the Unwilling S User")
>
> ian.mcdonald at malbecpartners.com wrote:
>> I am interested in doing a portfolio optimization, but I need to 
>> impose non-linear, functional constraints (i.e Max Drawdown, or VaR, 
>> etc). I've looked into several of the optimization routines (nlminb, 
>> constrOptim and optim with SANN/L-BFGS-B) but it appears that all of 
>> them are geared to linear constraints. Other than using a penalty 
>> function method, is anyone aware of any other approaches available 
>> in  R?
>>
>> Thanks
>> Ian McDonald
>> Malbec Partners
>>
>>     [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> -- Subscriber-posting only.
>> -- If you want to post, subscribe first.
>>
>>
>>   
>
>


From brian at braverock.com  Wed Dec 31 13:27:27 2008
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 31 Dec 2008 06:27:27 -0600 (CST)
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <E4259A82356E7F46B4F911FB27B0D7251364F5B0FD@AUSP01VMBX02.collaboration
	host.net>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com>
	<E4259A82356E7F46B4F911FB27B0D7251364F5B0FD@AUSP01VMBX02.collaborationhost.net>
Message-ID: <39909.69.17.21.8.1230726447.squirrel@mail.braverock.com>

Ian McDonald asked:
> I am interested in doing a portfolio optimization, but I need to impose
> non-linear, functional constraints (i.e Max Drawdown, or VaR, etc). I've
> looked into several of the optimization routines (nlminb, constrOptim and
> optim with SANN/L-BFGS-B) but it appears that all of them are geared to
> linear constraints. Other than using a penalty function method, is anyone
> aware of any other approaches available in  R?
>
> Thanks
> Ian McDonald
> Malbec Partners


Guy Yollin responded:
> Ian,
>
> An excellent technique for general purpose non-linear optimization is the
> differential evolution algorithm:
>
> http://www.icsi.berkeley.edu/~storn/code.html
>
> It has been implemented in the DEoptim package available on CRAN; the
> algorithm is very flexible and you could readily implement an maximum
> drawdown or VaR optimization strategy using DE.
>
> Back in February 2008, David Basterfield gave a webcast on the
> differential evolution algorithm with a number of non-linear portfolio
> optimization examples; it is still available on the Insightful website
> under events/finance:
>
>         http://www.insightful.com/
>
> Note, a number of papers have shown the superiority of
> conditional-value-at-risk (CVaR) to VaR as a risk metric.  The CVaR
> portfolio optimization can be framed as a linear programming problem and
> you could then use a linear programming package (e.g. lpSolve or linprog)
> to find mean-CVaR optimum portfolios.  The books Portfolio Construction
> and Risk Budgeting by Bernd Scherer and Introduction to Modern Portfolio
> Optimization by Bernd Scherer and Douglas Martin provides some details on
> this and other non-standard portfolio optimization techniques; although
> both these books include S+NuOPT examples, the key points are
> transferrable to R.
>
> Best,
>
> -- Guy

Guy raises some excellent points.  I think that one key here is that there
are typically other constraints on a large portfolio optimization problem,
not just the return/risk ratio.  In addition to weight constraints over
the portfolio generally, the investor may have additional restrictions on
style allocations, lockup periods on particular investments, etc.  As the
number of constraints rises, the availability and suitability of a
solution decreases.

To extend Guy's comments about CVaR or ES, it is superior for optimization
because it is a coherent risk measure under most circumstances,  some of
our work extended ES to include skewness and kurtosis using the Cornish
Fisher and Edgeworth expansions.  Those functions are available in R in
PerformanceAnalytics.

We've also done some work with non-linear optimization under constraints
using Rdonlp2 (non-free for commercial use) in R.  An exploratory example
of that work was published here:

http://library.witpress.com/pages/PaperInfo.asp?PaperID=18906

Another interesting point is how you arrive at predictions of the values
in question. VaR and its cousins are typically a one-step-ahead
prediction.  If you want to optimize over longer time frames than one
period, you need to predict parameters (mean, variance, skewness,
kurtosis) further into the future with some confidence.  This generally
becomes a multi-layered problem as you seek to find the best predictors of
your input parameters before finally applying it all to the portfolio
optimization algorithm.

I've generally found most published discussion of risk budgeting to be
dissatisfying because they skip over many of these nuances,  Hopefully
future work by this community (myself included!) can remedy some of those
oversights.

Regards,

    - Brian

-- 
Brian G. Peterson
http://braverock.com/brian/
Ph: 773-459-4973
IM: bgpbraverock


From ian.mcdonald at malbecpartners.com  Wed Dec 31 17:03:34 2008
From: ian.mcdonald at malbecpartners.com (ian.mcdonald at malbecpartners.com)
Date: Wed, 31 Dec 2008 11:03:34 -0500
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <39909.69.17.21.8.1230726447.squirrel@mail.braverock.com>
Message-ID: <OFC3437513.9FE91CC9-ON85257530.0058221F-85257530.005893A6@malbecpartners.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20081231/85718e67/attachment.pl>

From gjames at kddlab.com  Wed Dec 31 17:27:37 2008
From: gjames at kddlab.com (Greg James)
Date: Wed, 31 Dec 2008 11:27:37 -0500
Subject: [R-SIG-Finance] Optimization Question
In-Reply-To: <39909.69.17.21.8.1230726447.squirrel@mail.braverock.com>
References: <OFEEAD34FB.57682614-ON8525752F.005561F7-8525752F.005739A7@malbecpartners.com><E4259A82356E7F46B4F911FB27B0D7251364F5B0FD@AUSP01VMBX02.collaborationhost.net>
	<39909.69.17.21.8.1230726447.squirrel@mail.braverock.com>
Message-ID: <9DEA30CE192342E6BD0DC896941F07B4@KDDLab05>

Folks,

While I'm not involved with aspects of this problem, let me just say that
reading everyone's contributions to this discussion has been very
educational for me. Thank you to all for being so generous with your
knowledge.

Greg James


From jeff.a.ryan at gmail.com  Wed Dec 31 17:51:15 2008
From: jeff.a.ryan at gmail.com (Jeff Ryan)
Date: Wed, 31 Dec 2008 10:51:15 -0600
Subject: [R-SIG-Finance] [PKG-UPDATE] New xts version 0.6-2
Message-ID: <e8e755250812310851p4bedd3b2w59f881c5052b8812@mail.gmail.com>

R-Finance Users:

I am pleased to announce the much changed extensible time-series
package 'xts', version 0.6-2, has made its way to CRAN.

This update represents a major refactoring, as well as some dramatic
improvements in both speed and memory usage.

These updates make xts faster and more memory efficient than most
common time-series classes available in R, and on par with native
atomic types, yet with all the functionality of xts/zoo.

MAJOR CHANGES

? A rewrite of all internal functionality to utilize custom C code for
most low-level operations.  The result is a 30-10,000 times gain in
speed and memory improvements 2-3x that of most other time-series
classes, including base tools.  Full xts functionality is now
available at the same cost as dealing with atomic classes.

? Binary search for time-based indexing.  Inspired by the improvements
Matt Dowle's data.table make over standard linear searching.  The
result is nearly instant time-based subsetting, regardless of original
data size --- 10 thousand or 100 million observations are equally
fast, linear cost with respect to the resulting subset size. [
limiting factor is the copy ]

? C level code (~3300 lines) offers data handling (merge, cbind,
rbind) that makes use of inherent (required) order in time-series
data.  Optimal computation and memory usage.  Additional C code for
lag, diff, subsetting, Ops, and more.

All indexes are now stored internally as (sub)seconds since the epoch.
 User's can still create and use any of the available time-classes, as
internal conversion hides this level of detail.


MINOR CHANGES

? New xts specific methods for cbind/rbind/lag/diff.
? fts time-series as/reclass tools.
? endpoints (and those functions that use) now handles microseconds
and milliseconds.
? Reclass tool updated for better matching of argument.
? reclass now fails gracefully.

NEW ZOO COMPATIBILITY

? Global option to force lag.xts to match behavior or lag.zoo. [
options(xts.compat.zoo.lag=TRUE) ]
? Now handles zero-width xts objects like zoo (no data, just an index).
? Empty xts objects can be created like zoo does, by calling xts().


NEW FEATURES
merge gains 3 new arguments:
  *join*  ---  Maps to *all* argument, 'left', 'right', 'inner',
'outer', corresponding to database operations
  *retclass*  --- option to return merged object of different class,
or no class.
  *retside*  --- return only left or right side of merged object (2-case only)

At present xts loses the ability to pass a vector of logicals to all=
as zoo can.
See example(merge.xts) for a workaround.


C API/Development
Now able to link packages directly to certain C function in xts, to
allow for direct C-level use. More are being added, as well as
documented.  A working example is included in the package directory in
the 'api_example' directory.

New index tools to efficiently convert index to component data:
 [1] ".index"      ".index<-"    ".indexDate"  ".indexday"   ".indexhour"
 [6] ".indexisdst" ".indexmday"  ".indexmin"   ".indexmon"   ".indexsec"
[11] ".indexwday"  ".indexweek"  ".indexyday"  ".indexyear"

indexFormat(x) allows for printing to match user preferences.

New methods:
as.logical.xts(x, drop=TRUE, ...)
as.double.xts(x, drop=TRUE, ...)
as.complex.xts(x, drop=TRUE, ...)
as.integer.xts(x, drop=TRUE, ...)
Where 'drop=FALSE' recreates the xts object with the coredata
converted to the new type, as storage.mode(x)<- would do.

POSSIBLE ISSUES

Calling attr(x, 'index') will return the POSIX seconds, and _not_ the
expected index class.  index(x) behaves as expected, but code making
use of the former direct access function will cause failure/unexpected
results.

merge/cbind created column names may be inconsistent with column names
created with similar zoo functions.

Certain atomic classes may not work for all xts functions.  Integers
and doubles/numerics have been tested and used in production prior to
release.  Less tested are complex, character objects, and lists.

Please report any inconsistencies/errors/bugs to myself, and I will
address promptly.

Thank you,
Jeff
-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com


From cedrick.johnson at chicagotrading.com  Wed Dec 31 21:07:21 2008
From: cedrick.johnson at chicagotrading.com (Cedrick Johnson)
Date: Wed, 31 Dec 2008 14:07:21 -0600
Subject: [R-SIG-Finance] [PKG-UPDATE] New xts version 0.6-2
In-Reply-To: <e8e755250812310851p4bedd3b2w59f881c5052b8812@mail.gmail.com>
References: <e8e755250812310851p4bedd3b2w59f881c5052b8812@mail.gmail.com>
Message-ID: <0CABABBD3BD42D4EA10375B32BA9C60A04D8DFFC@MAIL.chicagotrading.com>

Jeff-

Loaded it up and ran a few scripts which utilizes xts a bit. Definitely
notice performance improvement when working with xts (converting data to
xts for use in other things)

I haven't looked at the memory use yet, but just wanted to say I have
noticed a difference.

Thanks for your work, happy new year!

-c

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Jeff Ryan
Sent: Wednesday, December 31, 2008 10:51 AM
To: jeff. ryan
Cc: R-SIG-Finance
Subject: [R-SIG-Finance] [PKG-UPDATE] New xts version 0.6-2

R-Finance Users:

I am pleased to announce the much changed extensible time-series
package 'xts', version 0.6-2, has made its way to CRAN.

This update represents a major refactoring, as well as some dramatic
improvements in both speed and memory usage.

These updates make xts faster and more memory efficient than most
common time-series classes available in R, and on par with native
atomic types, yet with all the functionality of xts/zoo.

MAJOR CHANGES

* A rewrite of all internal functionality to utilize custom C code for
most low-level operations.  The result is a 30-10,000 times gain in
speed and memory improvements 2-3x that of most other time-series
classes, including base tools.  Full xts functionality is now
available at the same cost as dealing with atomic classes.

* Binary search for time-based indexing.  Inspired by the improvements
Matt Dowle's data.table make over standard linear searching.  The
result is nearly instant time-based subsetting, regardless of original
data size --- 10 thousand or 100 million observations are equally
fast, linear cost with respect to the resulting subset size. [
limiting factor is the copy ]

* C level code (~3300 lines) offers data handling (merge, cbind,
rbind) that makes use of inherent (required) order in time-series
data.  Optimal computation and memory usage.  Additional C code for
lag, diff, subsetting, Ops, and more.

All indexes are now stored internally as (sub)seconds since the epoch.
 User's can still create and use any of the available time-classes, as
internal conversion hides this level of detail.


MINOR CHANGES

* New xts specific methods for cbind/rbind/lag/diff.
* fts time-series as/reclass tools.
* endpoints (and those functions that use) now handles microseconds
and milliseconds.
* Reclass tool updated for better matching of argument.
* reclass now fails gracefully.

NEW ZOO COMPATIBILITY

* Global option to force lag.xts to match behavior or lag.zoo. [
options(xts.compat.zoo.lag=TRUE) ]
* Now handles zero-width xts objects like zoo (no data, just an index).
* Empty xts objects can be created like zoo does, by calling xts().


NEW FEATURES
merge gains 3 new arguments:
  *join*  ---  Maps to *all* argument, 'left', 'right', 'inner',
'outer', corresponding to database operations
  *retclass*  --- option to return merged object of different class,
or no class.
  *retside*  --- return only left or right side of merged object (2-case
only)

At present xts loses the ability to pass a vector of logicals to all=
as zoo can.
See example(merge.xts) for a workaround.


C API/Development
Now able to link packages directly to certain C function in xts, to
allow for direct C-level use. More are being added, as well as
documented.  A working example is included in the package directory in
the 'api_example' directory.

New index tools to efficiently convert index to component data:
 [1] ".index"      ".index<-"    ".indexDate"  ".indexday"
".indexhour"
 [6] ".indexisdst" ".indexmday"  ".indexmin"   ".indexmon"   ".indexsec"
[11] ".indexwday"  ".indexweek"  ".indexyday"  ".indexyear"

indexFormat(x) allows for printing to match user preferences.

New methods:
as.logical.xts(x, drop=TRUE, ...)
as.double.xts(x, drop=TRUE, ...)
as.complex.xts(x, drop=TRUE, ...)
as.integer.xts(x, drop=TRUE, ...)
Where 'drop=FALSE' recreates the xts object with the coredata
converted to the new type, as storage.mode(x)<- would do.

POSSIBLE ISSUES

Calling attr(x, 'index') will return the POSIX seconds, and _not_ the
expected index class.  index(x) behaves as expected, but code making
use of the former direct access function will cause failure/unexpected
results.

merge/cbind created column names may be inconsistent with column names
created with similar zoo functions.

Certain atomic classes may not work for all xts functions.  Integers
and doubles/numerics have been tested and used in production prior to
release.  Less tested are complex, character objects, and lists.

Please report any inconsistencies/errors/bugs to myself, and I will
address promptly.

Thank you,
Jeff
-- 
Jeffrey Ryan
jeffrey.ryan at insightalgo.com

ia: insight algorithmics
www.insightalgo.com

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only.
-- If you want to post, subscribe first.





This message is intended only for the personal and confidential use of the recipients named above. If the reader of this email is not the intended recipient, you have received this email in error and any review, dissemination, distribution or copying is strictly prohibited. If you have received this email in error, please notify the sender immediately by return email and permanently delete the copy you received. 

This message is provided for informational purposes and should not be construed as a solicitation or offer to buy or sell any securities or related financial instruments. CTC Holdings nor any affiliates ("CTC") are responsible for any recommendation, solicitation, offer or agreement or any information about any transaction, customer account or account activity that may be attached to or contained in this communication. CTC accepts no liability for any content contained in the email, or any errors or omissions arising as a result of e-mail transmission. Any opinions contained in this email constitute the sender's best judgment at this time and are subject to change without notice. 


