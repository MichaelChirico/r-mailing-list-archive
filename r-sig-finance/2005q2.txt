From jpasch at warpdriveonline.com  Fri Apr  8 21:12:29 2005
From: jpasch at warpdriveonline.com (Jay Pasch)
Date: Fri Apr  8 21:12:38 2005
Subject: [R-sig-finance] Scatter Plots using R?
Message-ID: <001601c53c6e$e8e8b0c0$6466a8c0@Marvin>

Greetings,

Is it possible to create scatter plot graphs, also graphing R-squared, using
existing R-defined packages?  If so, which package/s? 
Am attempting to create correlation studies in a financial environment 
using the aforementioned.

Thanks in advance,

Jay.


	[[alternative HTML version deleted]]

From pvirketis at hbk.com  Fri Apr  8 22:03:29 2005
From: pvirketis at hbk.com (Pijus Virketis)
Date: Fri Apr  8 22:03:38 2005
Subject: [R-sig-finance] Scatter Plots using R?
Message-ID: <4DDAC3B7F3996A4291CBF8B0CDED8A7C2A8F70@NYCMAIL1.hbk.com>

Jay, 

Unless I am missing something that makes "scatter plot" graphs a
particular term of art in finance, wouldn't the good old plot() function
do all you require? As for "graphing R-squared", I am not quite sure
what you have in mind ... Do you mean literally printing the R^2 onto
the plot region? text() will do that. You could also put it in the title
area with title().

By the way, there does not seem to be anything about your questions that
is particular to finance, so you would probably do better to post to the
r-help list. I say that not because I mind answering, but rather because
a lot more people subscribe to r-help, and you'll get more extensive
help.

Cheers, 

-P

-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch
[mailto:r-sig-finance-bounces@stat.math.ethz.ch] On Behalf Of Jay Pasch
Sent: Friday, April 08, 2005 3:12 PM
To: r-sig-finance@stat.math.ethz.ch
Subject: [R-sig-finance] Scatter Plots using R?

Greetings,

Is it possible to create scatter plot graphs, also graphing R-squared,
using existing R-defined packages?  If so, which package/s? 
Am attempting to create correlation studies in a financial environment
using the aforementioned.

Thanks in advance,

Jay.


	[[alternative HTML version deleted]]

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From stefano.iacus at unimi.it  Sun Apr 10 00:29:31 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun Apr 10 00:29:43 2005
Subject: [R-sig-finance] Scatter Plots using R?
In-Reply-To: <001601c53c6e$e8e8b0c0$6466a8c0@Marvin>
References: <001601c53c6e$e8e8b0c0$6466a8c0@Marvin>
Message-ID: <042db9202ccdac53b067faf751c53f39@unimi.it>

have a look at pairs() and friends. example(pairs)
stefano

On 08/apr/05, at 21:12, Jay Pasch wrote:

> Greetings,
>
> Is it possible to create scatter plot graphs, also graphing R-squared, 
> using
> existing R-defined packages?  If so, which package/s?
> Am attempting to create correlation studies in a financial environment
> using the aforementioned.
>
> Thanks in advance,
>
> Jay.
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From cj5815 at yahoo.com  Thu Apr 14 21:32:41 2005
From: cj5815 at yahoo.com (Joe Cerniglia)
Date: Thu Apr 14 21:32:56 2005
Subject: [R-sig-finance] portfolio optimization
Message-ID: <20050414193241.41323.qmail@web50201.mail.yahoo.com>



Is there a portfolio optimization funtion available in
Rmetrics?

I looked in the fSeries package and no optimization
functions are available?

Where could I obtain some optimization function to
perform a Markowitz optimiztion?

Thanks,

Joe

From jtl at saxobank.com  Thu Apr 14 21:46:35 2005
From: jtl at saxobank.com (Jeffrey Todd Lins)
Date: Thu Apr 14 21:46:51 2005
Subject: [R-sig-finance] portfolio optimization
Message-ID: <DC680F53FAEFC34BB70119CA8C545E6D0259809C@Mal2pro.mid.dom>


You could use quadprog package, it should be able to be able to handle that.

Jeffrey Todd Lins 



This email may contain confidential and/or privileged inform...{{dropped}}

From ggrothendieck at gmail.com  Thu Apr 14 21:47:50 2005
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Thu Apr 14 21:48:05 2005
Subject: [R-sig-finance] portfolio optimization
In-Reply-To: <20050414193241.41323.qmail@web50201.mail.yahoo.com>
References: <20050414193241.41323.qmail@web50201.mail.yahoo.com>
Message-ID: <971536df0504141247574f8ebd@mail.gmail.com>

On 4/14/05, Joe Cerniglia <cj5815@yahoo.com> wrote:
> 
> 
> Is there a portfolio optimization funtion available in
> Rmetrics?
> 
> I looked in the fSeries package and no optimization
> functions are available?
> 
> Where could I obtain some optimization function to
> perform a Markowitz optimiztion?
> 

Check out portfolio.optim in the tseries package.

From pvirketis at hbk.com  Thu Apr 14 22:00:32 2005
From: pvirketis at hbk.com (Pijus Virketis)
Date: Thu Apr 14 22:00:49 2005
Subject: [R-sig-finance] portfolio optimization
Message-ID: <4DDAC3B7F3996A4291CBF8B0CDED8A7C2A8F92@NYCMAIL1.hbk.com>

Joe, 

Others have already pointed out the available QP tools. Let me add that
you can always just write down utility as a function of portfolio
weights and use optim() to solve the Markowitz problem (and more).

Cheers, 

-P

-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch
[mailto:r-sig-finance-bounces@stat.math.ethz.ch] On Behalf Of Joe
Cerniglia
Sent: Thursday, April 14, 2005 3:33 PM
To: r-sig-finance@stat.math.ethz.ch
Subject: [R-sig-finance] portfolio optimization



Is there a portfolio optimization funtion available in Rmetrics?

I looked in the fSeries package and no optimization functions are
available?

Where could I obtain some optimization function to perform a Markowitz
optimiztion?

Thanks,

Joe

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From brendan.mcmahon at sgcowen.com  Thu Apr 14 22:32:38 2005
From: brendan.mcmahon at sgcowen.com (brendan.mcmahon@sgcowen.com)
Date: Thu Apr 14 22:32:58 2005
Subject: [R-sig-finance] portfolio optimization
Message-ID: <OF56D5399C.F6BE0FAD-ON85256FE3.00709D45-85256FE3.0070D9F3@us.world.socgen>


And of course the BEST R integrated optimizer, ease of use, powerful,
flexible ... alas commercial but even Pat has to eat!

www.burns-stat.com


Brendan




|---------+--------------------------------------->
|         |           "Pijus Virketis"            |
|         |           <pvirketis@hbk.com>         |
|         |           Sent by:                    |
|         |           r-sig-finance-bounces@stat.m|
|         |           ath.ethz.ch                 |
|         |                                       |
|         |                                       |
|         |           04/14/05 04:00 PM           |
|         |                                       |
|---------+--------------------------------------->
  >--------------------------------------------------------------------------------------------------------|
  |                                                                                                        |
  |       To:       <r-sig-finance@stat.math.ethz.ch>                                                      |
  |       cc:                                                                                              |
  |       Subject:  RE: [R-sig-finance] portfolio optimization                                             |
  >--------------------------------------------------------------------------------------------------------|




Joe,

Others have already pointed out the available QP tools. Let me add that
you can always just write down utility as a function of portfolio
weights and use optim() to solve the Markowitz problem (and more).

Cheers,

-P

-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch
[mailto:r-sig-finance-bounces@stat.math.ethz.ch] On Behalf Of Joe
Cerniglia
Sent: Thursday, April 14, 2005 3:33 PM
To: r-sig-finance@stat.math.ethz.ch
Subject: [R-sig-finance] portfolio optimization



Is there a portfolio optimization funtion available in Rmetrics?

I looked in the fSeries package and no optimization functions are
available?

Where could I obtain some optimization function to perform a Markowitz
optimiztion?

Thanks,

Joe

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance



*************************************************************************
This message and any attachments (the "message") are confide...{{dropped}}

From stefan.albrecht at allianz.com  Fri Apr 15 15:56:16 2005
From: stefan.albrecht at allianz.com (stefan.albrecht@allianz.com)
Date: Fri Apr 15 15:56:31 2005
Subject: [R-sig-finance] Time zone convention of its package
Message-ID: <OF40FAA1D5.9EF006A3-ONC1256FE4.004AD71F-C1256FE4.004C905C@inside.allianz.de>






Dear all,

I use the its package for the representation of irregular time
objects. I think, it is really a great tool.

However, I have troubles with the time zone convention of its:
its(x,
dates=as.POSIXct(x=strptime(dimnames(x)[[1]],format=its.format()),tz="UTM"),

names=dimnames(x)[[2]],
format=its.format(),
...)

It uses tz = "UTM", which, first of all, I cannot relate to any
convention (what does it stand for?), and secondly, I feel it is not
very practical.
The help page of as.POSIX* {base} states that "Dates are treated as
being at midnight UTC."

Therefore, I suggest to use tz = "UTC" in its. (GMT and UTC are the
same.)

This avoids the following problem:
> (x <- matrix(1, nrow = 1, dimnames = list("2005-03-31", "Test")))
           Test
2005-03-31    1
> its(x)
           Test
2005-03-30    1
> as.POSIXct(x="2005-03-31",tz="GMT")
[1] "2005-03-31 GMT"
> as.POSIXct(x="2005-03-31",tz="UTM")
[1] "2005-03-30 23:00:00 UTM"
> as.POSIXct(x="2005-03-31",tz="foo")
[1] "2005-03-30 23:00:00 foo"

its(x) is shifted back one day. I guess this has something to do with
the daylight savings time.

In addition, some operations like union() seem to erase the tzone
argument of its objects. It is then added again in its, with a
possible shift of the day.

What do you think of using tz = "UTC" instead of "UTM"?


Many thanks and best regards,

Stefan

-------------------------------------------------------
Dr. Stefan Albrecht, CFA
Allianz Private Equity Partners GmbH
Giselastraﬂe 4
D-80802 Munich, Germany
Phone: +49.89.38 00 - 18 317
Fax: +49.89.38 00 - 818 317
stefan.albrecht@allianz.com
www.apep.com
	[[alternative HTML version deleted]]

From wojciech.slusarski at gmail.com  Sun Apr 17 21:33:45 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Sun Apr 17 21:33:56 2005
Subject: [R-sig-finance] Stock quotes data request
Message-ID: <5e64e5be050417123368f87ecb@mail.gmail.com>

Dear R users,

I know that this is not the most apropriate mailing list for such
request, but I really need help and I know, that there are people
among you, who are probably able to help me. I have to do an analysis
of a historical portfolio, which contains stocks, that are not anymore
quoted on NYSE because those companies have been acquired and I can't
find historical data on those stocks. I need closing prices between
october 2000 and june 2004. Symbols of those stocks at NYSE was AWE
(AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If anyone has such
data, or knows where I can obtain them for free or very reasonable
price, I will be very thankful for any info.

Best regards
Wojtek

From wojciech.slusarski at gmail.com  Mon Apr 18 07:32:22 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Mon Apr 18 07:32:31 2005
Subject: [R-sig-finance] Re: Stock quotes data request
In-Reply-To: <5e64e5be050417123368f87ecb@mail.gmail.com>
References: <5e64e5be050417123368f87ecb@mail.gmail.com>
Message-ID: <5e64e5be0504172232696dcc3b@mail.gmail.com>

There is one mistake in quotes symbols instead of OSTR, there should be SOTR.

Best regards,
Wojtek

On 4/17/05, Wojciech Slusarski <wojciech.slusarski@gmail.com> wrote:
> Dear R users,
> 
> I know that this is not the most apropriate mailing list for such
> request, but I really need help and I know, that there are people
> among you, who are probably able to help me. I have to do an analysis
> of a historical portfolio, which contains stocks, that are not anymore
> quoted on NYSE because those companies have been acquired and I can't
> find historical data on those stocks. I need closing prices between
> october 2000 and june 2004. Symbols of those stocks at NYSE was AWE
> (AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If anyone has such
> data, or knows where I can obtain them for free or very reasonable
> price, I will be very thankful for any info.
> 
> Best regards
> Wojtek
>

From albertofogale at libero.it  Mon Apr 18 18:06:58 2005
From: albertofogale at libero.it (albertofogale)
Date: Mon Apr 18 18:32:32 2005
Subject: [R-sig-finance] Re: Stock quotes data request
In-Reply-To: <200504181014.j3IAELKc032481@hypatia.math.ethz.ch>
References: <200504181014.j3IAELKc032481@hypatia.math.ethz.ch>
Message-ID: <1113840418.5777.1.camel@linux.site>

Il giorno lun, 18-04-2005 alle 12:14 +0200,
r-sig-finance-request@stat.math.ethz.ch ha scritto:
> Dear R users,
> 
> I know that this is not the most apropriate mailing list for such
> request, but I really need help and I know, that there are people
> among you, who are probably able to help me. I have to do an analysis
> of a historical portfolio, which contains stocks, that are not anymore
> quoted on NYSE because those companies have been acquired and I can't
> find historical data on those stocks. I need closing prices between
> october 2000 and june 2004. Symbols of those stocks at NYSE was AWE
> (AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If anyone has such
> data, or knows where I can obtain them for free or very reasonable
> price, I will be very thankful for any info.
> 
> Best regards
> Wojtek
> 

http://finance.yahoo.com/ and get.hist.quote from package tseries.

	Alberto.

From wojciech.slusarski at gmail.com  Mon Apr 18 18:46:31 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Mon Apr 18 18:46:45 2005
Subject: [R-sig-finance] Re: Stock quotes data request
In-Reply-To: <1113840418.5777.1.camel@linux.site>
References: <200504181014.j3IAELKc032481@hypatia.math.ethz.ch>
	<1113840418.5777.1.camel@linux.site>
Message-ID: <5e64e5be0504180946680f2b51@mail.gmail.com>

Thanks, but I see, that you haven't tried with the symbols I was
asking for - SOTR and AWE. Those two companies were acquired during
last few months, and historical quotes for those companies are not
available at Yahoo, that's why I am asking for such help.

Best regards,
Wojtek

On 4/18/05, albertofogale <albertofogale@libero.it> wrote:
> Il giorno lun, 18-04-2005 alle 12:14 +0200,
> r-sig-finance-request@stat.math.ethz.ch ha scritto:
> > Dear R users,
> >
> > I know that this is not the most apropriate mailing list for such
> > request, but I really need help and I know, that there are people
> > among you, who are probably able to help me. I have to do an analysis
> > of a historical portfolio, which contains stocks, that are not anymore
> > quoted on NYSE because those companies have been acquired and I can't
> > find historical data on those stocks. I need closing prices between
> > october 2000 and june 2004. Symbols of those stocks at NYSE was AWE
> > (AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If anyone has such
> > data, or knows where I can obtain them for free or very reasonable
> > price, I will be very thankful for any info.
> >
> > Best regards
> > Wojtek
> >
> 
> http://finance.yahoo.com/ and get.hist.quote from package tseries.
> 
>         Alberto.
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From rvivekrao at yahoo.com  Mon Apr 18 21:10:13 2005
From: rvivekrao at yahoo.com (Vivek Rao)
Date: Mon Apr 18 21:10:22 2005
Subject: [R-sig-finance] Stock quotes data request
In-Reply-To: 6667
Message-ID: <20050418191013.69375.qmail@web31311.mail.mud.yahoo.com>

Wojtek,

Finance academics need to account for survivorship
bias (returns of de-listed or otherwise disappearing
stocks) in their studies, and they usually use data
from CRSP http://gsbwww.uchicago.edu/research/crsp/ .
It's probably not cheap, but if you have access to a
local university with a finance department, they may
subscribe.

Regards,
Vivek Rao

--- Wojciech Slusarski <wojciech.slusarski@gmail.com>
wrote:
> Dear R users,
> 
> I know that this is not the most apropriate mailing
> list for such
> request, but I really need help and I know, that
> there are people
> among you, who are probably able to help me. I have
> to do an analysis
> of a historical portfolio, which contains stocks,
> that are not anymore
> quoted on NYSE because those companies have been
> acquired and I can't
> find historical data on those stocks. I need closing
> prices between
> october 2000 and june 2004. Symbols of those stocks
> at NYSE was AWE
> (AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If
> anyone has such
> data, or knows where I can obtain them for free or
> very reasonable
> price, I will be very thankful for any info.
> 
> Best regards
> Wojtek
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From wojciech.slusarski at gmail.com  Mon Apr 18 21:44:30 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Mon Apr 18 21:44:39 2005
Subject: [R-sig-finance] Stock quotes data request
In-Reply-To: <20050418191013.69375.qmail@web31311.mail.mud.yahoo.com>
References: <20050418191013.69375.qmail@web31311.mail.mud.yahoo.com>
Message-ID: <5e64e5be0504181244385fc8ac@mail.gmail.com>

Well, actually I am a student at the Poznan University of Economics in
Poznan and I need those data for my master thesis. Unfourtunately
there are only databases with historical quotes of Warsaw Stock
Exchange...

Best regards,
Wotjek

On 4/18/05, Vivek Rao <rvivekrao@yahoo.com> wrote:
> Wojtek,
> 
> Finance academics need to account for survivorship
> bias (returns of de-listed or otherwise disappearing
> stocks) in their studies, and they usually use data
> from CRSP http://gsbwww.uchicago.edu/research/crsp/ .
> It's probably not cheap, but if you have access to a
> local university with a finance department, they may
> subscribe.
> 
> Regards,
> Vivek Rao
> 
> --- Wojciech Slusarski <wojciech.slusarski@gmail.com>
> wrote:
> > Dear R users,
> >
> > I know that this is not the most apropriate mailing
> > list for such
> > request, but I really need help and I know, that
> > there are people
> > among you, who are probably able to help me. I have
> > to do an analysis
> > of a historical portfolio, which contains stocks,
> > that are not anymore
> > quoted on NYSE because those companies have been
> > acquired and I can't
> > find historical data on those stocks. I need closing
> > prices between
> > october 2000 and june 2004. Symbols of those stocks
> > at NYSE was AWE
> > (AT&T Wireless Inc.) and OSTR (SouthTrust Corp.). If
> > anyone has such
> > data, or knows where I can obtain them for free or
> > very reasonable
> > price, I will be very thankful for any info.
> >
> > Best regards
> > Wojtek
> >
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>

From wojciech.slusarski at gmail.com  Tue Apr 19 14:21:38 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Tue Apr 19 14:21:47 2005
Subject: [R-sig-finance] Stock quotes data request
In-Reply-To: <20050418191013.69375.qmail@web31311.mail.mud.yahoo.com>
References: <20050418191013.69375.qmail@web31311.mail.mud.yahoo.com>
Message-ID: <5e64e5be050419052112aca99d@mail.gmail.com>

Thanks to kindness of two people I already have all the necessary
data. Thank you for all the help I received.

Best regards,
Wojtek

From abunn at whrc.org  Tue Apr 19 15:46:05 2005
From: abunn at whrc.org (Andy Bunn)
Date: Tue Apr 19 15:46:16 2005
Subject: [R-sig-finance] Granger causality test?
Message-ID: <NEBBIPHDAMMOKDKPOFFIOENLDDAA.abunn@whrc.org>


Has anybody implemented the Granger causality test in R? The bivariate test
is just an F test for 0 values of lagged regressors and can be implemented
easily. A function that for multivariate Granger causes would require
fitting a vector autoregressive model and I'm hoping that somebody before me
has coded it!

Thanks in advance, Andy

From rvivekrao at yahoo.com  Wed Apr 20 02:10:12 2005
From: rvivekrao at yahoo.com (Vivek Rao)
Date: Wed Apr 20 02:10:24 2005
Subject: [R-sig-finance] Granger causality test?
In-Reply-To: 6667
Message-ID: <20050420001012.1781.qmail@web31302.mail.mud.yahoo.com>

Andy,

The "ar" function in the stats packages fits either
univariate AR or multivariate AR (VAR) models,
depending on whether the input time series is
univariate or multivariate.

Regards,
Vivek Rao

--- Andy Bunn <abunn@whrc.org> wrote:
> 
> Has anybody implemented the Granger causality test
> in R? The bivariate test
> is just an F test for 0 values of lagged regressors
> and can be implemented
> easily. A function that for multivariate Granger
> causes would require
> fitting a vector autoregressive model and I'm hoping
> that somebody before me
> has coded it!
> 
> Thanks in advance, Andy
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From edd at debian.org  Thu Apr 21 06:42:26 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu Apr 21 06:42:38 2005
Subject: [R-sig-finance] New Rmetrics packages
Message-ID: <16999.12082.585458.546781@basebud.nulle.part>


New Rmetrics appeared earlier today on CRAN [1] -- the Rmetrics.org site has
also been updated.  fCalendar and fMultivar have been split off fBasics and
fSeries, respectively; fPortfolio is new. This brings the total to seven
packages. [2]

Diethelm:  Would it make more sense to release these as a bundle a la VR,
dse, gregmisc?

Regards,  Dirk


[1] My single biggest gripe with CRAN is that there is no (elegant) way to
see what has changed, or has been added. So I look daily at the sorted listed
at http://cran.r-project.org/src/contrib/?M=D --- but that is so pedestrian!

[2] For the record, I updated the corresponding four Debian packages, and
created three new ones for the new packages.

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers

From john.marsland at wmgfunds.com  Fri Apr 22 09:11:25 2005
From: john.marsland at wmgfunds.com (John Marsland)
Date: Fri Apr 22 09:11:34 2005
Subject: [R-sig-finance] timeSequence()
Message-ID: <0cacf0cce9fbe3300c3b742714c1df1e@wmgfunds.com>

I'm new to Rmetrics and I've been looking at the fCalendar package with 
a view to using it to replace the "its" package in my work. However, I 
am having difficulties with the example for timeSequence().

 > timeSequence(from = "2004-01-01", to = format(Sys.time(), "%Y-%m-%d"),
+         by = "day", length.out = NULL, format = "", FinCenter = 
myFinCenter)
Error in seq.POSIXt(from = from, to = to, by = by) :
	`to' must be later than `from'

I think the problem lies in default value for format which should be 
NULL rather than "". This seems to apply to the function itself as well 
as the example.

Am I missing something?

Regards,

John
	[[alternative text/enriched version deleted]]

From neuro3000 at hotmail.com  Sun Apr 24 20:59:45 2005
From: neuro3000 at hotmail.com (=?iso-8859-1?B?TmV1cm8gTGVTdXBlckjpcm9z?=)
Date: Sun Apr 24 20:59:55 2005
Subject: [R-sig-finance] Need help to modify rsiTA function from fSeries
Message-ID: <BAY104-F9985960D19E3DFFE76CD0AF2F0@phx.gbl>

Need help to modify rsiTA function from fSeries

Hello,  in fSeries, this is the rsiTA function :

function (close, lag)
{
   sumlag = function(x, lag) {
       xs = x
       for (i in 1:lag) {
           x1 = c(x[1], x[1:(length(x) - 1)])
           xs = xs + x1
           x = x1
       }
       xs
   }
   close1 = c(close[1], close[1:(length(close) - 1)])
   x = abs(close - close1)
   x[close < close1] = 0
   rsi = sumlag(x, lag)/sumlag(abs(close - close1), lag)
   rsi[1] = rsi[2]
   rsi
}

The function is correct and works fine but does not correspond to what the 
market uses.  Data providers (Bloomberg, Datastream) usually use a Smoothed 
RS in the calculation.  Basically, what it means is that calculation of the 
first RS value is:  divide the average gain by the average loss. All 
subsequent RS calculations use the previous period's average gain and 
average loss for smoothing purposes.

For a calculation example see this page: 
http://www.stockcharts.com/education/IndicatorAnalysis/indic_RSI.html

I tried to change the function but it doesn't work.  I get the same data as 
rsiTA and this weird  code at the end of the results:

attr(,"tsp")
[1]   0 261   1

Here's my feeble attempt at making a smoothed RSI function:

rsiTA2<-function (close, lag)
{
   sumlag = function(x, lag) {
       xs = x
       for (i in 1:lag) {
           x1 = c(x[1], x[1:(length(x) - 1)])
           xs = xs + x1
           x = x1
       }
       xs
   }
   close1 = c(close[1], close[1:(length(close) - 1)])
   x = abs(close - close1)
   x[close < close1] = 0
#This is what is changed to smooth the RS#############
   rsi =((lag(sumlag(x, lag),1)*(lag-1)+ (close - close1)/lag)/((
lag(sumlag(abs(close - close1), lag),1)*(lag-1)+abs(close - close1))/lag)

   rsi[1] = rsi[2]
   rsi
}

rsiTA2(tsx@Data,14)

Can you help?

From neuro3000 at hotmail.com  Sun Apr 24 21:50:33 2005
From: neuro3000 at hotmail.com (=?iso-8859-1?B?TmV1cm8gTGVTdXBlckjpcm9z?=)
Date: Sun Apr 24 21:50:45 2005
Subject: [R-sig-finance] timeSequence()
Message-ID: <BAY104-F34FF8D3589B7BF682E5F88AF2F0@phx.gbl>

It looks like your Sys.time() is wrong.

Here's mine:

>Sys.time()
[1] "2005-04-24 19:47:35 GMT"

What is yours?

From r.ramyar at gmail.com  Mon Apr 25 17:05:44 2005
From: r.ramyar at gmail.com (Rick Ram)
Date: Mon Apr 25 17:05:55 2005
Subject: [R-sig-finance] nearby
In-Reply-To: <12AE52872B5C5348BE5CF47C707FF53A50245B@rhosvr02.rhotrading.com>
References: <AcUUSTvcabM9RvY5SWeLTPz0O4CKZAAC7Ssw>
	<12AE52872B5C5348BE5CF47C707FF53A50245B@rhosvr02.rhotrading.com>
Message-ID: <5f4f82790504250805650483fc@mail.gmail.com>

Or alternatively you could concatanate all Jan contracts, Feb contracts, 
etc... this tends to deal with jump issues and also caters for those 
securities which have seasonal tendencies e.g. agricultural, energies, etc. 
 My 2c,
 R.


On 2/16/05, davidr@rhotrading.com <davidr@rhotrading.com> wrote: 
> 
> Even if this were available, I wouldn't use it.
> This method will give you jumps when the contracts roll
> (for almost all products.)
> I would roll my own, blending from the old to the new over some period to
> smooth out the jumps. This results in more realistic volatilities and
> correlations.
> At least, that's what I've been doing for 20 years.
> 
> David Reiner
> 
> -----Original Message-----
> From: Omar Lakkis [mailto:uofiowa@gmail.com]
> Sent: Wednesday, February 16, 2005 9:06 AM
> To: r-sig-finance@stat.math.ethz.ch
> Subject: [R-sig-finance] nearby
> 
> In Splus there is a function called "nearby" (description below). Is
> there an equivalent utility in R?
> 
> Futures Nearby Creation Function
> 
> DESCRIPTION:
> Create a nearby series from a multivariate time series representing
> multiple futures contracts.
> 
> USAGE:
> nearby(x, rule, contracts)
> 
> REQUIRED ARGUMENTS:
> <b>x </b>
> multivariate time series containing futures prices for the contracts.
> <b>rule</b>
> rule giving the roll date (last date to use each contract) from one
> futures contract to the next, relative to the beginning of the
> contract month. This can be given as a time span or relative time
> object, or a character string which can be coerced into a relative
> time object.
> <b>contracts</b>
> the contract months for the columns of the time series, given as
> character strings of the form "F95", or "F1995", where the first
> letter is the month code and the remainder is the year, and where
> two$B!](Bdigit years are converted to four$B!](Bdigit years using
> options("time.century"). These should be in ascending order.
> 
> VALUE:
> a single$B!](Bcolumn time series containing the specified nearby series.
> 
> DETAILS:
> The series is generated with the following steps. First, the contract
> months are converted to dates of the first of the month, e.g. Z98
> becomes December 1, 1998. Then the roll rule is added to each date,
> to calculate the last day each column of the data set should be used.
> The time series positions and the end dates are then passed to the cut
> function to determine which column is needed for each output date,
> and these data values are subscripted from x and returned. NA will be
> the result for positions that have no valid column data.
> 
> SEE ALSO:
> timeRelative, timeSeries
> 
> EXAMPLES:
> # make a 5$B!](Bcolumn time series
> x <$B!](B timeSeries(data=matrix(1:750, ncol=5),
> pos=timeDate("1/1/1995", format="%a %02m/%02d/%Y")+1:150)
> # make a nearby series, assuming this are Feb$B!](BJune 1995 contracts (ignori
> # the fact that there should be NAs in the matrix), rolling on the 3rd
> # Friday of the month before the contract month
> nearby(x, timeRelative("$B!](B1mth $B!](B1day +3fri"),
> paste(c("G", "H", "J", "K", "M"), 1995, sep=""))
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

	[[alternative HTML version deleted]]

From Andrew.Corroll at loweworldwide.com  Tue Apr 26 12:44:39 2005
From: Andrew.Corroll at loweworldwide.com (Andrew.Corroll@loweworldwide.com)
Date: Tue Apr 26 12:45:22 2005
Subject: [R-sig-finance] robust arma
Message-ID: <OFC379F4A7.B5C34AA4-ON80256FEF.003B04F5-80256FEF.003B04FD@ipgnotes.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050426/c639c23a/attachment.html
From jqm475 at gmail.com  Wed Apr 27 12:37:28 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Wed Apr 27 12:37:36 2005
Subject: [R-sig-finance] average values for time series
Message-ID: <e206273d050427033745bbd250@mail.gmail.com>

New to R, currently use FAME.  One of the things I like about FAME is
that if I have a series, say the near month for a commodity, I can set
the series property so when i view weekly data, the data is the
average of the daily data.  alternatively, for other series like stock
prices I can have the series always display the last value (i.e.,
monthly would take last value in month vs the average).  also able to
use with a cummulative as well.

does R/RMetrics have a way to do this as well??

From patrick at burns-stat.com  Wed Apr 27 13:22:09 2005
From: patrick at burns-stat.com (Patrick Burns)
Date: Wed Apr 27 13:23:03 2005
Subject: [R-sig-finance] average values for time series
In-Reply-To: <e206273d050427033745bbd250@mail.gmail.com>
References: <e206273d050427033745bbd250@mail.gmail.com>
Message-ID: <426F75E1.8090206@burns-stat.com>

One approach would be to give a 'class' to your objects like
"commodity" and "equity", and then write 'print' or 'summary'
methods for those classes.

You can learn about (S3) methods in S Poetry and elsewhere.

Patrick Burns

Burns Statistics
patrick@burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Jonathan Q. wrote:

>New to R, currently use FAME.  One of the things I like about FAME is
>that if I have a series, say the near month for a commodity, I can set
>the series property so when i view weekly data, the data is the
>average of the daily data.  alternatively, for other series like stock
>prices I can have the series always display the last value (i.e.,
>monthly would take last value in month vs the average).  also able to
>use with a cummulative as well.
>
>does R/RMetrics have a way to do this as well??
>
>_______________________________________________
>R-sig-finance@stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>
>  
>

From edd at debian.org  Wed Apr 27 13:54:35 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed Apr 27 13:54:46 2005
Subject: [R-sig-finance] average values for time series
In-Reply-To: <e206273d050427033745bbd250@mail.gmail.com>
References: <e206273d050427033745bbd250@mail.gmail.com>
Message-ID: <17007.32123.98489.249373@basebud.nulle.part>


On 27 April 2005 at 06:37, Jonathan Q. wrote:
| New to R, currently use FAME.  One of the things I like about FAME is
| that if I have a series, say the near month for a commodity, I can set
| the series property so when i view weekly data, the data is the
| average of the daily data.  alternatively, for other series like stock

There are probably several ways to do that. 

| prices I can have the series always display the last value (i.e.,
| monthly would take last value in month vs the average).  also able to

The its package does that pretty well:

> library(its)				## verbose output suppressed here
> IBM<-priceIts("IBM",quote="Close")	## fetches from Yahoo!
> head(IBM)
           IBM Close
1991-01-02    112.12
1991-01-03    112.50
1991-01-04    112.12
1991-01-07    110.25
1991-01-08    109.00
1991-01-09    106.87
> head(extractIts(IBM, find="last", period="week"))
           IBM Close
1991-01-04    112.12
1991-01-11    108.12
1991-01-18    117.62
1991-01-25    122.62
1991-02-01    126.87
1991-02-08    129.50
> head(extractIts(IBM, find="last", period="month"))
           IBM Close
1991-01-31    126.75
1991-02-28    128.75
1991-03-28    113.87
1991-04-30    103.00
1991-05-31    106.12
1991-06-28     97.12

I just taught myself how to the other part with zoo -- pretty slick:

> library(zoo)				## once again verbose output nixed
> IBMzoo <- zoo(IBM)			## turn its object into zoo object
> head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), mean))

1991-01 115.4127
1991-02 132.2053
1991-03 123.3240
1991-04 109.6800
1991-05 104.2241
1991-06 100.8970
>

This runs aggregate() over the zoo() object where the on-the-fly factor is
computed from the underlying POSIXt date representation, and the aggregating
function, here mean, is then passed over each unique factor set.

Hope this helps,  Dirk

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers

From Achim.Zeileis at wu-wien.ac.at  Wed Apr 27 14:00:09 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Wed Apr 27 14:05:47 2005
Subject: [R-sig-finance] average values for time series
In-Reply-To: <17007.32123.98489.249373@basebud.nulle.part>
References: <e206273d050427033745bbd250@mail.gmail.com>
	<17007.32123.98489.249373@basebud.nulle.part>
Message-ID: <20050427140009.765383b4.Achim.Zeileis@wu-wien.ac.at>

Dirk,

thanks for pointing out how to do this in zoo, but:

> > head(extractIts(IBM, find="last", period="month"))
>            IBM Close
> 1991-01-31    126.75
> 1991-02-28    128.75
> 1991-03-28    113.87
> 1991-04-30    103.00
> 1991-05-31    106.12
> 1991-06-28     97.12
> 
> I just taught myself how to the other part with zoo -- pretty slick:
> 
> > library(zoo)				## once again verbose output nixed
> > IBMzoo <- zoo(IBM)			## turn its object into zoo object

here, you need 

R> IBMzoo <- as.zoo(IBM)

otherwise the time index is not preserved. And then you can do

R> head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), mean))

to get means or if you want the last observation, you can do:

R> last <- function(x) tail(x, 1)
R> head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), last))
              
1991-01 126.75
1991-02 128.75
1991-03 113.87
1991-04 103.00
1991-05 106.12
1991-06  97.12

or you can use any other aggregation function, you would like.
Z

From wssw at uai.com.br  Thu Apr 28 05:10:05 2005
From: wssw at uai.com.br (Washington S Silva)
Date: Thu Apr 28 05:10:24 2005
Subject: [R-sig-finance] Bayesian inference on GARCH models
Message-ID: <006401c54b9f$c7d8bac0$41278dc8@particul75058e>

Dear List,

I'm trying to perform bayesian inference on GARCH models, but I'm in 
(serious) trouble. I wonder if somebody has a clue (or a piece of code!!) 
about how I would implement, using the R language of course, the posterior 
distribution of a GARCH model with gaussian inovations and flat priors that 
respect at least the positiviy and stationary restrictions. The possible 
answers will be my starting point to the problem.

Any help greately appreciated!!!

Washington Santos Silva

From heshriti at gmail.com  Thu Apr 28 16:22:53 2005
From: heshriti at gmail.com (Mahesh Krishnan)
Date: Thu Apr 28 16:23:03 2005
Subject: [R-sig-finance] Bayesian inference on GARCH models
In-Reply-To: <006401c54b9f$c7d8bac0$41278dc8@particul75058e>
References: <006401c54b9f$c7d8bac0$41278dc8@particul75058e>
Message-ID: <33f6aa6f05042807226ac31cb9@mail.gmail.com>

Hello R-users,

I am new to R, and am interested in coming to speed on this topic. 
I would really appreciate it if you can spare me with some code that
does the following:

1) Automatically import data from the web (for forex, equity and
interest rates etc)

2) convert to R-metric consistent format, 

3) plot pairs of data time-series: for example Euro and  DM vs dollar,
interest rate vs dollar etc.

3) other simple functions/utility to learn the syntax and flavor of R-metrics.

Thank you very much,

Regards,

Mahesh

From bbands at gmail.com  Thu Apr 28 17:20:23 2005
From: bbands at gmail.com (BBands)
Date: Thu Apr 28 17:22:00 2005
Subject: [R-sig-finance] Need help to modify rsiTA function from fSeries
In-Reply-To: <BAY104-F9985960D19E3DFFE76CD0AF2F0@phx.gbl>
References: <BAY104-F9985960D19E3DFFE76CD0AF2F0@phx.gbl>
Message-ID: <6e8360ad050428082069339c5c@mail.gmail.com>

On 4/24/05, Neuro LeSuperH?ros <neuro3000@hotmail.com> wrote:
> Need help to modify rsiTA function from fSeries
<snip>
> Can you help?

Perhaps...

First, the reference is Welles Wilders' "New Concepts in Technical
Trading Systems".

This indicator is often calculated inaccurately. The problems most
often seen are incorrect calculation of the averages.

Here is a Python snippet from Crusher that calcs RSI. I have no idea
whether it coincides with the sources you cite, but it does the job
correctly, or at least as Welles said it should be done.

    def rsi(self):
        """RSI"""
        # checked 2004-10-15, OK
        self.rsi = []
        length = config['indconsts.rsi']
        up = dn = 0.0
        # find the first value
        for line in range(0, length):
            if self.close[length - line] > self.close[length - line - 1]:
                up += self.close[length - line] - self.close[length - line - 1]
            if self.close[length - line] < self.close[length - line - 1]:
                dn += self.close[length - line - 1] - self.close[length - line]
            # pad the runup with 0
            if line < (length - 1):
                self.rsi.append(0.0)
        up = up / length
        dn = dn / length
        try:
            self.rsi.append(100 - 100 / (1 + up / dn))
        except ZeroDivisionError:
            self.rsi.append(0.0)
        # use Wilder's average technique to find the remaining values
        for line in range(length, len(self.date)):
            if self.close[line] > self.close[line - 1]:
                up = ((self.close[line] - self.close[line - 1]) + up *
(length - 1)) / length
            else:
                up = up / length * (length - 1)
            if self.close[line] < self.close[line - 1]:
                dn = ((self.close[line - 1] - self.close[line]) + dn *
(length - 1)) / length
            else:
                dn = dn / length * (length - 1)
            try:
                self.rsi.append(100 - 100 / (1 + up / dn))
            except ZeroDivisionError:
                self.rsi.append(0.0)
        if config['general.debug'] == 1:
            for line in range(len(self.date)):
                print '%4d %10s %8.2f %8.2f' % (line, self.date[line],
self.close[line], self.rsi[line])

Sorry, I haven't the time to translate it into R, but it could serve
as a template for you to do so.

Good trading,

    jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.

From edd at debian.org  Fri Apr 29 03:32:30 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri Apr 29 03:32:57 2005
Subject: [R-sig-finance] Really: Rmetrics help thought
In-Reply-To: <33f6aa6f05042807226ac31cb9@mail.gmail.com>
References: <006401c54b9f$c7d8bac0$41278dc8@particul75058e>
	<33f6aa6f05042807226ac31cb9@mail.gmail.com>
Message-ID: <17009.36526.104372.415568@basebud.nulle.part>


Mahesh,

On 28 April 2005 at 07:22, Mahesh Krishnan wrote:
| Hello R-users,
| 
| I am new to R, and am interested in coming to speed on this topic. 

Welcome, but please show some mailing list etiquette and a) don't hijack
existing existing threads and b) give meaningful Subject lines.

| I would really appreciate it if you can spare me with some code that
| does the following:
| 
| 1) Automatically import data from the web (for forex, equity and
| interest rates etc)
| 
| 2) convert to R-metric consistent format, 
| 
| 3) plot pairs of data time-series: for example Euro and  DM vs dollar,
| interest rate vs dollar etc.
| 
| 3) other simple functions/utility to learn the syntax and flavor of R-metrics.

Rmetrics has a rather outstanding collection of manuals and other documents
under the Documentation tab at the www.rmetrics.org website.

Hope this helps, Dirk

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers

From sabbatini at deanovell.unian.it  Fri Apr 29 09:01:33 2005
From: sabbatini at deanovell.unian.it (Massimo Sabbatini)
Date: Fri Apr 29 09:17:07 2005
Subject: [R-sig-finance] Re: average values for time series
In-Reply-To: <17007.32123.98489.249373@basebud.nulle.part>
References: <e206273d050427033745bbd250@mail.gmail.com>
	<17007.32123.98489.249373@basebud.nulle.part>
Message-ID: <d4slpo$c53$1@sea.gmane.org>

Dear all,
I followed Dirk's suggestions and got:

 > IBM <- priceIts("IBM",quote="Close")
Errore in validObject(.Object) : invalid class "its" object: Missing 
values in dates

I tried with other securities but I get the same error.

x1 <- priceIts(instrument=c("^ftse"), start="1998-01-01", quote = "Close")
Errore in validObject(.Object) : invalid class "its" object: Missing 
values in dates

I would appreciate if you could give me any hints.

Best regards,
Massimo



Dirk Eddelbuettel wrote:
> On 27 April 2005 at 06:37, Jonathan Q. wrote:
> | New to R, currently use FAME.  One of the things I like about FAME is
> | that if I have a series, say the near month for a commodity, I can set
> | the series property so when i view weekly data, the data is the
> | average of the daily data.  alternatively, for other series like stock
> 
> There are probably several ways to do that. 
> 
> | prices I can have the series always display the last value (i.e.,
> | monthly would take last value in month vs the average).  also able to
> 
> The its package does that pretty well:
> 
> 
>>library(its)				## verbose output suppressed here
>>IBM<-priceIts("IBM",quote="Close")	## fetches from Yahoo!
>>head(IBM)
> 
>            IBM Close
> 1991-01-02    112.12
> 1991-01-03    112.50
> 1991-01-04    112.12
> 1991-01-07    110.25
> 1991-01-08    109.00
> 1991-01-09    106.87
> 
>>head(extractIts(IBM, find="last", period="week"))
> 
>            IBM Close
> 1991-01-04    112.12
> 1991-01-11    108.12
> 1991-01-18    117.62
> 1991-01-25    122.62
> 1991-02-01    126.87
> 1991-02-08    129.50
> 
>>head(extractIts(IBM, find="last", period="month"))
> 
>            IBM Close
> 1991-01-31    126.75
> 1991-02-28    128.75
> 1991-03-28    113.87
> 1991-04-30    103.00
> 1991-05-31    106.12
> 1991-06-28     97.12
> 
> I just taught myself how to the other part with zoo -- pretty slick:
> 
> 
>>library(zoo)				## once again verbose output nixed
>>IBMzoo <- zoo(IBM)			## turn its object into zoo object
>>head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), mean))
> 
> 
> 1991-01 115.4127
> 1991-02 132.2053
> 1991-03 123.3240
> 1991-04 109.6800
> 1991-05 104.2241
> 1991-06 100.8970
> 
> 
> This runs aggregate() over the zoo() object where the on-the-fly factor is
> computed from the underlying POSIXt date representation, and the aggregating
> function, here mean, is then passed over each unique factor set.
> 
> Hope this helps,  Dirk
>

From Achim.Zeileis at wu-wien.ac.at  Fri Apr 29 11:26:02 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Fri Apr 29 11:31:21 2005
Subject: [R-sig-finance] Re: average values for time series
In-Reply-To: <d4slpo$c53$1@sea.gmane.org>
References: <e206273d050427033745bbd250@mail.gmail.com>
	<17007.32123.98489.249373@basebud.nulle.part>
	<d4slpo$c53$1@sea.gmane.org>
Message-ID: <20050429112602.7cc33c2a.Achim.Zeileis@wu-wien.ac.at>

On Fri, 29 Apr 2005 09:01:33 +0200 Massimo Sabbatini wrote:

> Dear all,
> I followed Dirk's suggestions and got:
> 
>  > IBM <- priceIts("IBM",quote="Close")
> Errore in validObject(.Object) : invalid class "its" object: Missing 
> values in dates
> 
> I tried with other securities but I get the same error.
> 
> x1 <- priceIts(instrument=c("^ftse"), start="1998-01-01", quote =
> "Close") Errore in validObject(.Object) : invalid class "its" object:
> Missing values in dates
> 
> I would appreciate if you could give me any hints.

I cannot reproduce the error above using its 1.0.4 and R 2.1.0. For me
the above works smoothly.
Z

> Best regards,
> Massimo
> 
> 
> 
> Dirk Eddelbuettel wrote:
> > On 27 April 2005 at 06:37, Jonathan Q. wrote:
> > | New to R, currently use FAME.  One of the things I like about FAME
> > | is that if I have a series, say the near month for a commodity, I
> > | can set the series property so when i view weekly data, the data
> > | is the average of the daily data.  alternatively, for other series
> > | like stock
> > 
> > There are probably several ways to do that. 
> > 
> > | prices I can have the series always display the last value (i.e.,
> > | monthly would take last value in month vs the average).  also able
> > | to
> > 
> > The its package does that pretty well:
> > 
> > 
> >>library(its)				## verbose output suppressed here
> >>IBM<-priceIts("IBM",quote="Close")	## fetches from Yahoo!
> >>head(IBM)
> > 
> >            IBM Close
> > 1991-01-02    112.12
> > 1991-01-03    112.50
> > 1991-01-04    112.12
> > 1991-01-07    110.25
> > 1991-01-08    109.00
> > 1991-01-09    106.87
> > 
> >>head(extractIts(IBM, find="last", period="week"))
> > 
> >            IBM Close
> > 1991-01-04    112.12
> > 1991-01-11    108.12
> > 1991-01-18    117.62
> > 1991-01-25    122.62
> > 1991-02-01    126.87
> > 1991-02-08    129.50
> > 
> >>head(extractIts(IBM, find="last", period="month"))
> > 
> >            IBM Close
> > 1991-01-31    126.75
> > 1991-02-28    128.75
> > 1991-03-28    113.87
> > 1991-04-30    103.00
> > 1991-05-31    106.12
> > 1991-06-28     97.12
> > 
> > I just taught myself how to the other part with zoo -- pretty slick:
> > 
> > 
> >>library(zoo)				## once again verbose output nixed
> >>IBMzoo <- zoo(IBM)			## turn its object into zoo object
> >>head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), mean))
> > 
> > 
> > 1991-01 115.4127
> > 1991-02 132.2053
> > 1991-03 123.3240
> > 1991-04 109.6800
> > 1991-05 104.2241
> > 1991-06 100.8970
> > 
> > 
> > This runs aggregate() over the zoo() object where the on-the-fly
> > factor is computed from the underlying POSIXt date representation,
> > and the aggregating function, here mean, is then passed over each
> > unique factor set.
> > 
> > Hope this helps,  Dirk
> >
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From sabbatini at deanovell.unian.it  Fri Apr 29 12:19:34 2005
From: sabbatini at deanovell.unian.it (Massimo Sabbatini)
Date: Fri Apr 29 12:21:00 2005
Subject: [R-sig-finance] Re: average values for time series
In-Reply-To: <20050429112602.7cc33c2a.Achim.Zeileis@wu-wien.ac.at>
References: <e206273d050427033745bbd250@mail.gmail.com>	<17007.32123.98489.249373@basebud.nulle.part>	<d4slpo$c53$1@sea.gmane.org>
	<20050429112602.7cc33c2a.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <d4t1d0$eun$1@sea.gmane.org>

Dear all,
I kind of solved the problem:
if I set

Sys.setlocale("LC_ALL", "en")

then priceIts works. It's a locale issue, then. But I have no clue how 
to properly fix it. Do you have suggestions ?

Best regards,
Massimo


Achim Zeileis wrote:
> On Fri, 29 Apr 2005 09:01:33 +0200 Massimo Sabbatini wrote:
> 
> 
>>Dear all,
>>I followed Dirk's suggestions and got:
>>
>> > IBM <- priceIts("IBM",quote="Close")
>>Errore in validObject(.Object) : invalid class "its" object: Missing 
>>values in dates
>>
>>I tried with other securities but I get the same error.
>>
>>x1 <- priceIts(instrument=c("^ftse"), start="1998-01-01", quote =
>>"Close") Errore in validObject(.Object) : invalid class "its" object:
>>Missing values in dates
>>
>>I would appreciate if you could give me any hints.
> 
> 
> I cannot reproduce the error above using its 1.0.4 and R 2.1.0. For me
> the above works smoothly.
> Z
> 
> 
>>Best regards,
>>Massimo
>>
>>
>>
>>Dirk Eddelbuettel wrote:
>>
>>>On 27 April 2005 at 06:37, Jonathan Q. wrote:
>>>| New to R, currently use FAME.  One of the things I like about FAME
>>>| is that if I have a series, say the near month for a commodity, I
>>>| can set the series property so when i view weekly data, the data
>>>| is the average of the daily data.  alternatively, for other series
>>>| like stock
>>>
>>>There are probably several ways to do that. 
>>>
>>>| prices I can have the series always display the last value (i.e.,
>>>| monthly would take last value in month vs the average).  also able
>>>| to
>>>
>>>The its package does that pretty well:
>>>
>>>
>>>
>>>>library(its)				## verbose output suppressed here
>>>>IBM<-priceIts("IBM",quote="Close")	## fetches from Yahoo!
>>>>head(IBM)
>>>
>>>           IBM Close
>>>1991-01-02    112.12
>>>1991-01-03    112.50
>>>1991-01-04    112.12
>>>1991-01-07    110.25
>>>1991-01-08    109.00
>>>1991-01-09    106.87
>>>
>>>
>>>>head(extractIts(IBM, find="last", period="week"))
>>>
>>>           IBM Close
>>>1991-01-04    112.12
>>>1991-01-11    108.12
>>>1991-01-18    117.62
>>>1991-01-25    122.62
>>>1991-02-01    126.87
>>>1991-02-08    129.50
>>>
>>>
>>>>head(extractIts(IBM, find="last", period="month"))
>>>
>>>           IBM Close
>>>1991-01-31    126.75
>>>1991-02-28    128.75
>>>1991-03-28    113.87
>>>1991-04-30    103.00
>>>1991-05-31    106.12
>>>1991-06-28     97.12
>>>
>>>I just taught myself how to the other part with zoo -- pretty slick:
>>>
>>>
>>>
>>>>library(zoo)				## once again verbose output nixed
>>>>IBMzoo <- zoo(IBM)			## turn its object into zoo object
>>>>head(aggregate(IBMzoo, format(dates(IBM), "%Y-%m"), mean))
>>>
>>>
>>>1991-01 115.4127
>>>1991-02 132.2053
>>>1991-03 123.3240
>>>1991-04 109.6800
>>>1991-05 104.2241
>>>1991-06 100.8970
>>>
>>>
>>>This runs aggregate() over the zoo() object where the on-the-fly
>>>factor is computed from the underlying POSIXt date representation,
>>>and the aggregating function, here mean, is then passed over each
>>>unique factor set.
>>>
>>>Hope this helps,  Dirk
>>>
>>
>>_______________________________________________
>>R-sig-finance@stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>
> 
>

From jqm475 at gmail.com  Fri Apr 29 20:07:40 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Fri Apr 29 20:07:48 2005
Subject: [R-sig-finance] Its function and yahoo
Message-ID: <e206273d050429110710a66af9@mail.gmail.com>

it seems that the series downloaded do not adjust for splits but if
you go to the web page it does.  Am I doing something wrong??

X<-priceIts("GE",quote="Close");plot(X)


-- 
Jonathan
jqm475@gmail.com

From wojciech.slusarski at gmail.com  Fri Apr 29 20:48:33 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Fri Apr 29 20:48:41 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <e206273d050429110710a66af9@mail.gmail.com>
References: <e206273d050429110710a66af9@mail.gmail.com>
Message-ID: <5e64e5be05042911485868fdf2@mail.gmail.com>

I can't try at the moment, but I think you can do:

 X<-priceIts("GE",quote="Adj");plot(X)

but I am not sure. Just try it, but remember, that it is also adjusted
for dividends too. My opinion is that the market is discounting the
dividends, so you shouldn't do that again, but maybe I am wrong.

Best regards,
Wojtek

On 4/29/05, Jonathan Q. <jqm475@gmail.com> wrote:
> it seems that the series downloaded do not adjust for splits but if
> you go to the web page it does.  Am I doing something wrong??
> 
> X<-priceIts("GE",quote="Close");plot(X)
> 
> --
> Jonathan
> jqm475@gmail.com
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From bbands at gmail.com  Sat Apr 30 00:44:08 2005
From: bbands at gmail.com (BBands)
Date: Sat Apr 30 00:44:17 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <5e64e5be05042911485868fdf2@mail.gmail.com>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
Message-ID: <6e8360ad05042915442f62cbc6@mail.gmail.com>

For some reason priceIts does not handle the "Adj. Close" field.

However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))

I recently contributed a tseires patch that also allows it to handle
daily, weekly or monthly compression: get.hist.quote("ge",
compression="w", quote=c("Cl", "Ad"))

The difference between the "Close" and the "Adj. Close*" fields is far
more than just dividends, splits are a major factor. Please note that
Yahoo! only split adjusts the "Adj. Close*" field, you'll have to back
into an adjustment for the other fields if needed.

    jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.

From edd at debian.org  Sat Apr 30 02:12:34 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat Apr 30 02:12:52 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <6e8360ad05042915442f62cbc6@mail.gmail.com>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
Message-ID: <17010.52594.251876.893338@basebud.nulle.part>


On 29 April 2005 at 15:44, BBands wrote:
| For some reason priceIts does not handle the "Adj. Close" field.
| 
| However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
| 
| I recently contributed a tseires patch that also allows it to handle
| daily, weekly or monthly compression: get.hist.quote("ge",
| compression="w", quote=c("Cl", "Ad"))
| 
| The difference between the "Close" and the "Adj. Close*" fields is far
| more than just dividends, splits are a major factor. Please note that
| Yahoo! only split adjusts the "Adj. Close*" field, you'll have to back
| into an adjustment for the other fields if needed.

Yes, so maybe time for someone else to become immortal by supplying a patch
to priceIts based on what you had designed for get.hist.quotes.  

Dirk

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers

From jqm475 at gmail.com  Sun May  1 22:30:05 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Sun May  1 22:30:13 2005
Subject: [R-sig-finance] Yet another question on Bloomberg...
Message-ID: <e206273d0505011330bdf2dbb@mail.gmail.com>

>From what I have read on the archives there is no simple way to get
data from bloomberg (historical dailies).  I do have an old version of
S-Plus and Finmetrics which can download bloomberg data.  I know
little about R and even less about S-Plus (the software was lying
around the office from a former employee).

Question...I wanted a file with price series updated every day or so
would it make sense to do the download via S/Finmetrics into a file
and then use the data with R??

-- 
Jonathan
jqm475@gmail.com

From edd at debian.org  Sun May  1 23:46:24 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun May  1 23:46:36 2005
Subject: [R-sig-finance] Yet another question on Bloomberg...
In-Reply-To: <e206273d0505011330bdf2dbb@mail.gmail.com>
References: <e206273d0505011330bdf2dbb@mail.gmail.com>
Message-ID: <17013.20016.727945.933094@basebud.nulle.part>


Jonathan,

On 1 May 2005 at 16:30, Jonathan Q. wrote:
| >From what I have read on the archives there is no simple way to get
| data from bloomberg (historical dailies).  I do have an old version of
| S-Plus and Finmetrics which can download bloomberg data.  I know
| little about R and even less about S-Plus (the software was lying
| around the office from a former employee).
| 
| Question...I wanted a file with price series updated every day or so
| would it make sense to do the download via S/Finmetrics into a file
| and then use the data with R??

Not worth the bother. S-Plus' link to Bloomberg works with the old Bloomberg
to Excel link which I have found to be rather unreliable.

Just use Bloomberg from Excel, and figure out a way to automate that. There
are numerous options via VBA, VB, Perl, Python or R itself using the two COM
binding kits.

That said, S+Finmetrics is a fine product, so if you have that you want to
use it to slice and dice your data.  But as "just" an Excel grabber, it (or
rather: S-Plus) is not that impressive, at least in my book.

Hth, Dirk

-- 
Better to have an approximate answer to the right question than a precise 
answer to the wrong question.  --  John Tukey as quoted by John Chambers

From dave at kanecap.com  Mon May  2 14:55:18 2005
From: dave at kanecap.com (David Kane)
Date: Mon May  2 14:55:27 2005
Subject: [R-sig-finance] Yet another question on Bloomberg...
In-Reply-To: <17013.20016.727945.933094@basebud.nulle.part>
References: <e206273d0505011330bdf2dbb@mail.gmail.com>
	<17013.20016.727945.933094@basebud.nulle.part>
Message-ID: <17014.9014.578484.340726@gargle.gargle.HOWL>

Dirk Eddelbuettel writes:
 > Just use Bloomberg from Excel, and figure out a way to automate that. There
 > are numerous options via VBA, VB, Perl, Python or R itself using the two COM
 > binding kits.

This is off topic, but does anyone know of a good overview of
these sorts of issues? I am especially interested in ways of
automating Bloomberg downloads from Excel using Perl. Any pointers
would be appreciated. I have not found Bloomberg technical support to
be at all useful.

Dave Kane

From dherlemont at yats.com  Mon May  2 16:24:29 2005
From: dherlemont at yats.com (Daniel Herlemont)
Date: Mon May  2 16:24:39 2005
Subject: [R-sig-finance] Its function and yahoo
References: <e206273d050429110710a66af9@mail.gmail.com><5e64e5be05042911485868fdf2@mail.gmail.com><6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
Message-ID: <001e01c54f22$a784d570$04000100@dherlemont>

Hi,
> Yes, so maybe time for someone else to become immortal by supplying
> a patch

I have done it ... so I am immortal :)
This is a still a modified version of the original tseries version ..
so I am still partly immortal,

see file attached.
In addition to adjustements,
I have splitted the function in two parts:
1. reading quotes from local file
2. downloading from


I work a lot with R,
both for consulting services for hedge Funds and teaching.
see my site
http://www.yats.com/

unfortunately most of R teaching stuff are in french.

Daniel HERLEMONT
Associate Professor of Finance
Ecole Sup?rieure d'Ing?nieurs L?onard de Vinci (ESILV)
D?partement Math?matique et Ing?nierie Financi?re
92916 PARIS LA DEFENSE CEDEX

YATS
http://www.yats.com

----- Original Message ----- 
From: "Dirk Eddelbuettel" <edd@debian.org>
To: "BBands" <bbands@gmail.com>
Cc: <R-sig-finance@stat.math.ethz.ch>
Sent: Saturday, April 30, 2005 2:12 AM
Subject: Re: [R-sig-finance] Its function and yahoo


>
> On 29 April 2005 at 15:44, BBands wrote:
> | For some reason priceIts does not handle the "Adj. Close" field.
> |
> | However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
> |
> | I recently contributed a tseires patch that also allows it to handle
> | daily, weekly or monthly compression: get.hist.quote("ge",
> | compression="w", quote=c("Cl", "Ad"))
> |
> | The difference between the "Close" and the "Adj. Close*" fields is far
> | more than just dividends, splits are a major factor. Please note that
> | Yahoo! only split adjusts the "Adj. Close*" field, you'll have to back
> | into an adjustment for the other fields if needed.
>
> Yes, so maybe time for someone else to become immortal by supplying a 
> patch
> to priceIts based on what you had designed for get.hist.quotes.
>
> Dirk
>
> -- 
> Better to have an approximate answer to the right question than a precise
> answer to the wrong question.  --  John Tukey as quoted by John Chambers
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: yahoo.R
Type: application/octet-stream
Size: 3921 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050502/59301421/yahoo.obj
From Achim.Zeileis at wu-wien.ac.at  Mon May  2 16:39:57 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Mon May  2 16:45:34 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <001e01c54f22$a784d570$04000100@dherlemont>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
Message-ID: <20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>

Daniel,

thanks for this.

> Hi,
> > Yes, so maybe time for someone else to become immortal by supplying
> > a patch
> 
> I have done it ... so I am immortal :)
> This is a still a modified version of the original tseries version ..
> so I am still partly immortal,

Maybe it is time to try to handle this more flexibly, in particular
concerning the return class. So that it can return "ts", "its", "zoo" or
"timeSeries" objects. For "zoo" the advantage would be that "Date"
indexes can be used for daily data and "yearmon" for monthly data
(possibly with appropriate frequencies specified), the package vignette
contains a worked example for that.
Furthermore, it would probably be good to have a single authorative
implementation instead of each time series package reproducing this
functionality.

> see file attached.
> In addition to adjustements,
> I have splitted the function in two parts:
> 1. reading quotes from local file
> 2. downloading from

An alternative would be to read from a connection (which could be a
local file or a URL) with the default of querying yahoo.com.

just my EUR 0.02
Z

> 
> I work a lot with R,
> both for consulting services for hedge Funds and teaching.
> see my site
> http://www.yats.com/
> 
> unfortunately most of R teaching stuff are in french.
> 
> Daniel HERLEMONT
> Associate Professor of Finance
> Ecole Sup?rieure d'Ing?nieurs L?onard de Vinci (ESILV)
> D?partement Math?matique et Ing?nierie Financi?re
> 92916 PARIS LA DEFENSE CEDEX
> 
> YATS
> http://www.yats.com
> 
> ----- Original Message ----- 
> From: "Dirk Eddelbuettel" <edd@debian.org>
> To: "BBands" <bbands@gmail.com>
> Cc: <R-sig-finance@stat.math.ethz.ch>
> Sent: Saturday, April 30, 2005 2:12 AM
> Subject: Re: [R-sig-finance] Its function and yahoo
> 
> 
> >
> > On 29 April 2005 at 15:44, BBands wrote:
> > | For some reason priceIts does not handle the "Adj. Close" field.
> > |
> > | However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
> > |
> > | I recently contributed a tseires patch that also allows it to
> > | handle daily, weekly or monthly compression: get.hist.quote("ge",
> > | compression="w", quote=c("Cl", "Ad"))
> > |
> > | The difference between the "Close" and the "Adj. Close*" fields is
> > | far more than just dividends, splits are a major factor. Please
> > | note that Yahoo! only split adjusts the "Adj. Close*" field,
> > | you'll have to back into an adjustment for the other fields if
> > | needed.
> >
> > Yes, so maybe time for someone else to become immortal by supplying
> > a patch
> > to priceIts based on what you had designed for get.hist.quotes.
> >
> > Dirk
> >
> > -- 
> > Better to have an approximate answer to the right question than a
> > precise answer to the wrong question.  --  John Tukey as quoted by
> > John Chambers
> >
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> > 
>

From dherlemont at yats.com  Mon May  2 16:59:07 2005
From: dherlemont at yats.com (Daniel Herlemont)
Date: Mon May  2 16:59:16 2005
Subject: [R-sig-finance] Its function and yahoo
References: <e206273d050429110710a66af9@mail.gmail.com><5e64e5be05042911485868fdf2@mail.gmail.com><6e8360ad05042915442f62cbc6@mail.gmail.com><17010.52594.251876.893338@basebud.nulle.part><001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <000301c54f27$7d9ce400$04000100@dherlemont>

> Maybe it is time to try to handle this more flexibly, in particular
> concerning the return class. So that it can return "ts", "its", "zoo" or
> "timeSeries" objects. For "zoo" the advantage would be that "Date"
> indexes can be used for daily data and "yearmon" for monthly data
> (possibly with appropriate frequencies specified), the package vignette
> contains a worked example for that.

yes its a very good idea.

Date/time formats are really a zoo !!!


Feell free to make concrete proposal, from my file, for example.

> An alternative would be to read from a connection (which could be a
> local file or a URL) with the default of querying yahoo.com.

Yes this is done from the last function
yahoo.get.hist.quote
depending on the download parameter
if true, the function download the data to a local file and then read the 
local file
if false, it just read the data from the local file


Thanks.

Daniel.
www.yats.com



----- Original Message ----- 
From: "Achim Zeileis" <Achim.Zeileis@wu-wien.ac.at>
To: "Daniel Herlemont" <dherlemont@yats.com>
Cc: <R-sig-finance@stat.math.ethz.ch>
Sent: Monday, May 02, 2005 4:39 PM
Subject: Re: [R-sig-finance] Its function and yahoo


> Daniel,
>
> thanks for this.
>
>> Hi,
>> > Yes, so maybe time for someone else to become immortal by supplying
>> > a patch
>>
>> I have done it ... so I am immortal :)
>> This is a still a modified version of the original tseries version ..
>> so I am still partly immortal,
>
> Maybe it is time to try to handle this more flexibly, in particular
> concerning the return class. So that it can return "ts", "its", "zoo" or
> "timeSeries" objects. For "zoo" the advantage would be that "Date"
> indexes can be used for daily data and "yearmon" for monthly data
> (possibly with appropriate frequencies specified), the package vignette
> contains a worked example for that.
> Furthermore, it would probably be good to have a single authorative
> implementation instead of each time series package reproducing this
> functionality.
>
>> see file attached.
>> In addition to adjustements,
>> I have splitted the function in two parts:
>> 1. reading quotes from local file
>> 2. downloading from
>
> An alternative would be to read from a connection (which could be a
> local file or a URL) with the default of querying yahoo.com.
>
> just my EUR 0.02
> Z
>
>>
>> I work a lot with R,
>> both for consulting services for hedge Funds and teaching.
>> see my site
>> http://www.yats.com/
>>
>> unfortunately most of R teaching stuff are in french.
>>
>> Daniel HERLEMONT
>> Associate Professor of Finance
>> Ecole Sup?rieure d'Ing?nieurs L?onard de Vinci (ESILV)
>> D?partement Math?matique et Ing?nierie Financi?re
>> 92916 PARIS LA DEFENSE CEDEX
>>
>> YATS
>> http://www.yats.com
>>
>> ----- Original Message ----- 
>> From: "Dirk Eddelbuettel" <edd@debian.org>
>> To: "BBands" <bbands@gmail.com>
>> Cc: <R-sig-finance@stat.math.ethz.ch>
>> Sent: Saturday, April 30, 2005 2:12 AM
>> Subject: Re: [R-sig-finance] Its function and yahoo
>>
>>
>> >
>> > On 29 April 2005 at 15:44, BBands wrote:
>> > | For some reason priceIts does not handle the "Adj. Close" field.
>> > |
>> > | However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
>> > |
>> > | I recently contributed a tseires patch that also allows it to
>> > | handle daily, weekly or monthly compression: get.hist.quote("ge",
>> > | compression="w", quote=c("Cl", "Ad"))
>> > |
>> > | The difference between the "Close" and the "Adj. Close*" fields is
>> > | far more than just dividends, splits are a major factor. Please
>> > | note that Yahoo! only split adjusts the "Adj. Close*" field,
>> > | you'll have to back into an adjustment for the other fields if
>> > | needed.
>> >
>> > Yes, so maybe time for someone else to become immortal by supplying
>> > a patch
>> > to priceIts based on what you had designed for get.hist.quotes.
>> >
>> > Dirk
>> >
>> > -- 
>> > Better to have an approximate answer to the right question than a
>> > precise answer to the wrong question.  --  John Tukey as quoted by
>> > John Chambers
>> >
>> > _______________________________________________
>> > R-sig-finance@stat.math.ethz.ch mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> >
>> >
>>
>
>

From dherlemont at yats.com  Mon May  2 17:02:57 2005
From: dherlemont at yats.com (Daniel Herlemont)
Date: Mon May  2 17:03:06 2005
Subject: [R-sig-finance] Its function and yahoo
References: <e206273d050429110710a66af9@mail.gmail.com><5e64e5be05042911485868fdf2@mail.gmail.com><6e8360ad05042915442f62cbc6@mail.gmail.com><17010.52594.251876.893338@basebud.nulle.part><001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <000701c54f28$06ee8bf0$04000100@dherlemont>

An other functionnality to add, is an incremental update of local quotes 
files, that is to dowload only the last missing days.
I have done this in JAVA with yahoo and plan to make a R port.

Daniel
www.yats.com


----- Original Message ----- 
From: "Achim Zeileis" <Achim.Zeileis@wu-wien.ac.at>
To: "Daniel Herlemont" <dherlemont@yats.com>
Cc: <R-sig-finance@stat.math.ethz.ch>
Sent: Monday, May 02, 2005 4:39 PM
Subject: Re: [R-sig-finance] Its function and yahoo


> Daniel,
>
> thanks for this.
>
>> Hi,
>> > Yes, so maybe time for someone else to become immortal by supplying
>> > a patch
>>
>> I have done it ... so I am immortal :)
>> This is a still a modified version of the original tseries version ..
>> so I am still partly immortal,
>
> Maybe it is time to try to handle this more flexibly, in particular
> concerning the return class. So that it can return "ts", "its", "zoo" or
> "timeSeries" objects. For "zoo" the advantage would be that "Date"
> indexes can be used for daily data and "yearmon" for monthly data
> (possibly with appropriate frequencies specified), the package vignette
> contains a worked example for that.
> Furthermore, it would probably be good to have a single authorative
> implementation instead of each time series package reproducing this
> functionality.
>
>> see file attached.
>> In addition to adjustements,
>> I have splitted the function in two parts:
>> 1. reading quotes from local file
>> 2. downloading from
>
> An alternative would be to read from a connection (which could be a
> local file or a URL) with the default of querying yahoo.com.
>
> just my EUR 0.02
> Z
>
>>
>> I work a lot with R,
>> both for consulting services for hedge Funds and teaching.
>> see my site
>> http://www.yats.com/
>>
>> unfortunately most of R teaching stuff are in french.
>>
>> Daniel HERLEMONT
>> Associate Professor of Finance
>> Ecole Sup?rieure d'Ing?nieurs L?onard de Vinci (ESILV)
>> D?partement Math?matique et Ing?nierie Financi?re
>> 92916 PARIS LA DEFENSE CEDEX
>>
>> YATS
>> http://www.yats.com
>>
>> ----- Original Message ----- 
>> From: "Dirk Eddelbuettel" <edd@debian.org>
>> To: "BBands" <bbands@gmail.com>
>> Cc: <R-sig-finance@stat.math.ethz.ch>
>> Sent: Saturday, April 30, 2005 2:12 AM
>> Subject: Re: [R-sig-finance] Its function and yahoo
>>
>>
>> >
>> > On 29 April 2005 at 15:44, BBands wrote:
>> > | For some reason priceIts does not handle the "Adj. Close" field.
>> > |
>> > | However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
>> > |
>> > | I recently contributed a tseires patch that also allows it to
>> > | handle daily, weekly or monthly compression: get.hist.quote("ge",
>> > | compression="w", quote=c("Cl", "Ad"))
>> > |
>> > | The difference between the "Close" and the "Adj. Close*" fields is
>> > | far more than just dividends, splits are a major factor. Please
>> > | note that Yahoo! only split adjusts the "Adj. Close*" field,
>> > | you'll have to back into an adjustment for the other fields if
>> > | needed.
>> >
>> > Yes, so maybe time for someone else to become immortal by supplying
>> > a patch
>> > to priceIts based on what you had designed for get.hist.quotes.
>> >
>> > Dirk
>> >
>> > -- 
>> > Better to have an approximate answer to the right question than a
>> > precise answer to the wrong question.  --  John Tukey as quoted by
>> > John Chambers
>> >
>> > _______________________________________________
>> > R-sig-finance@stat.math.ethz.ch mailing list
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> >
>> >
>>
>
>

From ggrothendieck at gmail.com  Mon May  2 17:27:57 2005
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Mon May  2 17:28:08 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <001e01c54f22$a784d570$04000100@dherlemont>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
Message-ID: <971536df050502082758a28382@mail.gmail.com>

This seems to be based on an old version of get.hist.quote. 
The latest version uses Date class internally to avoid time
zone problems.

On 5/2/05, Daniel Herlemont <dherlemont@yats.com> wrote:
> Hi,
> > Yes, so maybe time for someone else to become immortal by supplying
> > a patch
> 
> I have done it ... so I am immortal :)
> This is a still a modified version of the original tseries version ..
> so I am still partly immortal,
> 
> see file attached.
> In addition to adjustements,
> I have splitted the function in two parts:
> 1. reading quotes from local file
> 2. downloading from
> 
> I work a lot with R,
> both for consulting services for hedge Funds and teaching.
> see my site
> http://www.yats.com/
> 
> unfortunately most of R teaching stuff are in french.
> 
> Daniel HERLEMONT
> Associate Professor of Finance
> Ecole Sup?rieure d'Ing?nieurs L?onard de Vinci (ESILV)
> D?partement Math?matique et Ing?nierie Financi?re
> 92916 PARIS LA DEFENSE CEDEX
> 
> YATS
> http://www.yats.com
> 
> ----- Original Message -----
> From: "Dirk Eddelbuettel" <edd@debian.org>
> To: "BBands" <bbands@gmail.com>
> Cc: <R-sig-finance@stat.math.ethz.ch>
> Sent: Saturday, April 30, 2005 2:12 AM
> Subject: Re: [R-sig-finance] Its function and yahoo
> 
> >
> > On 29 April 2005 at 15:44, BBands wrote:
> > | For some reason priceIts does not handle the "Adj. Close" field.
> > |
> > | However, tseries will: get.hist.quote("ge", quote=c("Cl", "Ad"))
> > |
> > | I recently contributed a tseires patch that also allows it to handle
> > | daily, weekly or monthly compression: get.hist.quote("ge",
> > | compression="w", quote=c("Cl", "Ad"))
> > |
> > | The difference between the "Close" and the "Adj. Close*" fields is far
> > | more than just dividends, splits are a major factor. Please note that
> > | Yahoo! only split adjusts the "Adj. Close*" field, you'll have to back
> > | into an adjustment for the other fields if needed.
> >
> > Yes, so maybe time for someone else to become immortal by supplying a
> > patch
> > to priceIts based on what you had designed for get.hist.quotes.
> >
> > Dirk
> >
> > --
> > Better to have an approximate answer to the right question than a precise
> > answer to the wrong question.  --  John Tukey as quoted by John Chambers
> >
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> >
> 
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 
> 
> 
>

From edd at debian.org  Tue May  3 03:31:05 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue May  3 03:31:16 2005
Subject: [R-sig-finance] Yet another question on Bloomberg...
In-Reply-To: <17014.9014.578484.340726@gargle.gargle.HOWL>
References: <e206273d0505011330bdf2dbb@mail.gmail.com>
	<17013.20016.727945.933094@basebud.nulle.part>
	<17014.9014.578484.340726@gargle.gargle.HOWL>
Message-ID: <17014.54361.706037.712759@basebud.nulle.part>


Hi David,

On 2 May 2005 at 08:55, David Kane wrote:
| Dirk Eddelbuettel writes:
|  > Just use Bloomberg from Excel, and figure out a way to automate that. There
|  > are numerous options via VBA, VB, Perl, Python or R itself using the two COM
|  > binding kits.
| 
| This is off topic, but does anyone know of a good overview of
| these sorts of issues? I am especially interested in ways of
| automating Bloomberg downloads from Excel using Perl. Any pointers

When I did that a few years ago, I started from the working examples in the
ActiveState Perl documentation.

Documentation on all this is stil somewhat sparse. As I recall, there is an
O'Reilly book on Python for Win32 that covers is somewhat (the Python folks
have or had some nice examples of DCOM/COM integration).  I think there was
one book (not at O'Reilly) about Perl and DCOM/COM but I found that book
unconvincing.  Your mileage, as they say, may vary ...

| would be appreciated. I have not found Bloomberg technical support to
| be at all useful.

They don't care because what ever they provide you can get in VB/VBA. Now,
the trick is that via COM you can get the same functions without going
through the torturing exercise of writing VBA code.

I had one quick look at the RDCOMClient package you can point-and-click
install from inside R 2.1.0 thanks to BDR's archive of contributions.  Look
into the example directory -- it has several short files that "do stuff" with
Excel directly from R.  I think it would be only a short step from these
examples to invoking existing macros in a spreadsheet so that you can trigger
the data download from the R side.

Hope this helps, Dirk

-- 
An economist is an expert who will know tomorrow why the things he 
predicted yesterday didn't happen today.  --  Laurence J. Peter

From edd at debian.org  Tue May  3 03:36:13 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue May  3 03:36:25 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <17014.54669.90266.419881@basebud.nulle.part>


On 2 May 2005 at 16:39, Achim Zeileis wrote:
| Furthermore, it would probably be good to have a single authorative
| implementation instead of each time series package reproducing this
| functionality.
[...]
| An alternative would be to read from a connection (which could be a
| local file or a URL) with the default of querying yahoo.com.

So there: the price of immortality has now been raised to an authorative
implementation, based on get.hist.quotes() in tseries 0.9.26 which includes
the two newer patches from JAB and GG.  Given its' somewhat stale nature, a
zoo implementation may be preferred.

Dirk

-- 
An economist is an expert who will know tomorrow why the things he 
predicted yesterday didn't happen today.  --  Laurence J. Peter

From jqm475 at gmail.com  Tue May  3 12:46:45 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Tue May  3 12:46:55 2005
Subject: [R-sig-finance] General Question on learning R...
Message-ID: <e206273d0505030346ac59dc9@mail.gmail.com>

In the process of learning R, with a specific interest on financial
time series.  While I continue to get through the documents I am more
a fan of learning by example and then looking up how each function is
used.  Any websites which post sample code for R?

Thanks in advance.  

-- 
Jonathan
jqm475@gmail.com

From Achim.Zeileis at wu-wien.ac.at  Tue May  3 14:35:13 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Tue May  3 14:40:49 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <17014.54669.90266.419881@basebud.nulle.part>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
Message-ID: <20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>

On Mon, 2 May 2005 20:36:13 -0500 Dirk Eddelbuettel wrote:

> 
> On 2 May 2005 at 16:39, Achim Zeileis wrote:
> | Furthermore, it would probably be good to have a single authorative
> | implementation instead of each time series package reproducing this
> | functionality.
> [...]
> | An alternative would be to read from a connection (which could be a
> | local file or a URL) with the default of querying yahoo.com.
> 
> So there: the price of immortality has now been raised to an
> authorative implementation, based on get.hist.quotes() in tseries
> 0.9.26 which includes the two newer patches from JAB and GG.  Given
> its' somewhat stale nature, a zoo implementation may be preferred.

Well, but it seems that get.hist.quote() in tseries is still the most
up-to-date implementation of this functionality, so probably this should
be extended. I don't want to have the fourth implementation in the
fourth time series package...

Personally, I have made only little use of get.hist.quote() and no use
at all of priceIts() and yahooImport(). Do these other implementations
provide further functionality, not contained in get.hist.quote(), or are
they simply there for convenience?

If the latter and if it's ok for Adrian, I'll try to add something like
a retclass argument for get.hist.quote() which could then be set to
"zoo", "ts", "its" etc. (provided that the corresponding packages are
available).

Z

From jqm475 at gmail.com  Tue May  3 14:42:47 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Tue May  3 14:42:59 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
	<20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <e206273d05050305422aea4a12@mail.gmail.com>

as a group can we decide what is the best approach to use yahoo for a newbie?  

On 5/3/05, Achim Zeileis <Achim.Zeileis@wu-wien.ac.at> wrote:
> On Mon, 2 May 2005 20:36:13 -0500 Dirk Eddelbuettel wrote:
> 
> >
> > On 2 May 2005 at 16:39, Achim Zeileis wrote:
> > | Furthermore, it would probably be good to have a single authorative
> > | implementation instead of each time series package reproducing this
> > | functionality.
> > [...]
> > | An alternative would be to read from a connection (which could be a
> > | local file or a URL) with the default of querying yahoo.com.
> >
> > So there: the price of immortality has now been raised to an
> > authorative implementation, based on get.hist.quotes() in tseries
> > 0.9.26 which includes the two newer patches from JAB and GG.  Given
> > its' somewhat stale nature, a zoo implementation may be preferred.
> 
> Well, but it seems that get.hist.quote() in tseries is still the most
> up-to-date implementation of this functionality, so probably this should
> be extended. I don't want to have the fourth implementation in the
> fourth time series package...
> 
> Personally, I have made only little use of get.hist.quote() and no use
> at all of priceIts() and yahooImport(). Do these other implementations
> provide further functionality, not contained in get.hist.quote(), or are
> they simply there for convenience?
> 
> If the latter and if it's ok for Adrian, I'll try to add something like
> a retclass argument for get.hist.quote() which could then be set to
> "zoo", "ts", "its" etc. (provided that the corresponding packages are
> available).
> 
> Z
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 


-- 
Jonathan
jqm475@gmail.com

From walmir-rodrigues at uol.com.br  Tue May  3 14:53:19 2005
From: walmir-rodrigues at uol.com.br (walmir-rodrigues)
Date: Tue May  3 14:48:55 2005
Subject: [R-sig-finance] Step wise regression
Message-ID: <IFWZSV$980956B6152854A97BB17FC8EA634D80@uol.com.br>

Dear Fellows,

How can I do to proced a step wise regression in R, if it¥s possible ?

Thanks,

Walmir 
 
__________________________________________________________________________
Acabe com aquelas janelinhas que pulam na sua tela.
AntiPop-up UOL - … gr·tis!
http://antipopup.uol.com.br/


	[[alternative HTML version deleted]]

From Achim.Zeileis at wu-wien.ac.at  Tue May  3 14:56:47 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Tue May  3 15:02:10 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <e206273d05050305422aea4a12@mail.gmail.com>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
	<20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050305422aea4a12@mail.gmail.com>
Message-ID: <20050503145647.3ca5e088.Achim.Zeileis@wu-wien.ac.at>

On Tue, 3 May 2005 08:42:47 -0400 Jonathan Q. wrote:

> as a group can we decide what is the best approach to use yahoo for a
> newbie?  

Well, this is what we're trying to sort out. Or to be me precise: it is
not (or should not be) newbie specific.
I tried to make the point that it would be good/important to have a
single reference implementation of this functionality that is
sufficiently flexible to satisfy the needs of various users.

As for your general question where to find examples: some packages
(including the zoo package) not only have examples on their man pages
but also a vignette that guides you through the package's functionality
based on various examples. See
  vignette("zoo")
which also contains an example on how to use get.hist.quote() and turn
the result into a "zoo" series. To turn it into an "its" series, if
needed, is then trivial via the as.its method.
Z

> On 5/3/05, Achim Zeileis <Achim.Zeileis@wu-wien.ac.at> wrote:
> > On Mon, 2 May 2005 20:36:13 -0500 Dirk Eddelbuettel wrote:
> > 
> > >
> > > On 2 May 2005 at 16:39, Achim Zeileis wrote:
> > > | Furthermore, it would probably be good to have a single
> > > | authorative implementation instead of each time series package
> > > | reproducing this functionality.
> > > [...]
> > > | An alternative would be to read from a connection (which could
> > > | be a local file or a URL) with the default of querying
> > > | yahoo.com.
> > >
> > > So there: the price of immortality has now been raised to an
> > > authorative implementation, based on get.hist.quotes() in tseries
> > > 0.9.26 which includes the two newer patches from JAB and GG. 
> > > Given its' somewhat stale nature, a zoo implementation may be
> > > preferred.
> > 
> > Well, but it seems that get.hist.quote() in tseries is still the
> > most up-to-date implementation of this functionality, so probably
> > this should be extended. I don't want to have the fourth
> > implementation in the fourth time series package...
> > 
> > Personally, I have made only little use of get.hist.quote() and no
> > use at all of priceIts() and yahooImport(). Do these other
> > implementations provide further functionality, not contained in
> > get.hist.quote(), or are they simply there for convenience?
> > 
> > If the latter and if it's ok for Adrian, I'll try to add something
> > like a retclass argument for get.hist.quote() which could then be
> > set to"zoo", "ts", "its" etc. (provided that the corresponding
> > packages are available).
> > 
> > Z
> > 
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > 
> 
> 
> -- 
> Jonathan
> jqm475@gmail.com
>

From andy_liaw at merck.com  Tue May  3 15:43:52 2005
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue May  3 15:44:36 2005
Subject: [R-sig-finance] RE: [R] Step wise regression
Message-ID: <39B6DDB9048D0F4DAD42CB26AAFF0AFA076EBB@usctmx1106.merck.com>

> From: Frank E Harrell Jr
> 
> walmir-rodrigues wrote:
> > Dear Fellows,
> > 
> > How can I do to proced a step wise regression in R, if it?s 
> possible ?
> > 
> > Thanks,
> > 
> > Walmir 
> 
> Here is an easy approach that will yield results only slightly less 
> valid than one actually using the response variable:
> 
> x <- data.frame(x1,x2,x3,x4,..., other potential predictors)
> x[,sample(ncol(x))]

Hmm...  Shouldn't that be something like:

x[, sample(ncol(x), ceiling(ncol(x) * runif(1)))]

?

Cheers,
Andy

 
> :-)   -Frank
> 
> 
> -- 
> Frank E Harrell Jr   Professor and Chair           School of Medicine
>                       Department of Biostatistics   
> Vanderbilt University
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! 
> http://www.R-project.org/posting-guide.html
> 
> 
>

From atp at piskorski.com  Tue May  3 18:35:49 2005
From: atp at piskorski.com (Andrew Piskorski)
Date: Tue May  3 18:36:38 2005
Subject: [R-sig-finance] Yet another question on Bloomberg...
In-Reply-To: <17014.54361.706037.712759@basebud.nulle.part>
References: <17014.54361.706037.712759@basebud.nulle.part>
Message-ID: <20050503163547.GA44642@piskorski.com>

On Mon, May 02, 2005 at 08:31:05PM -0500, Dirk Eddelbuettel wrote:

> On 2 May 2005 at 08:55, David Kane wrote:
> | Dirk Eddelbuettel writes:
> |  > Just use Bloomberg from Excel, and figure out a way to automate that. There
> |  > are numerous options via VBA, VB, Perl, Python or R itself using the two COM
> |  > binding kits.
> | 
> | This is off topic, but does anyone know of a good overview of
> | these sorts of issues? I am especially interested in ways of
> | automating Bloomberg downloads from Excel using Perl. Any pointers
> 
> When I did that a few years ago, I started from the working examples in the
> ActiveState Perl documentation.

No idea whether it's better/worse for Windows COM stuff than Perl or
Python, but Tcl seems to have quite good support on Windows, including
very nice support for multi-threading if you need that.  Besides just
running the same sorts of scripts I might run on Unix, I've used it to
fool with the Windows Registry.  And if what's in ActiveTcl isn't
enough, TWAPI includes a bunch of handy-looking Windows specific
stuff:

  http://twapi.sourceforge.net/
  http://wiki.tcl.tk/9886
  http://www.activestate.com/Products/ActiveTcl/

According to the Tcl'ers Wiki, tcom (in ActiveTcl) and optcl both
provide COM support, but I know nothing about that:

  http://wiki.tcl.tk/1855
  http://wiki.tcl.tk/1884

And some more misc. Tcl on Windows links:

  http://wiki.tcl.tk/1008
  http://wiki.tcl.tk/1145

-- 
Andrew Piskorski <atp@piskorski.com>
http://www.piskorski.com/

From jqm475 at gmail.com  Tue May  3 20:06:48 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Tue May  3 20:07:00 2005
Subject: [R-sig-finance] Re: [R] General Question on learning R...
In-Reply-To: <42779E53.4060008@pdf.com>
References: <e206273d0505030346ac59dc9@mail.gmail.com>
	<faea59c94331334ace64224572930fb3@mail.nih.gov>
	<42779E53.4060008@pdf.com>
Message-ID: <e206273d050503110648a51696@mail.gmail.com>

assuming one has these installed already, you just look in the demo
folder under each?  i.e., fBasics\demo ???

On 5/3/05, Spencer Graves <spencer.graves@pdf.com> wrote:
>          I'm looking at the same thing.  A good source for this is to
> 'install.packages(c("fBasics", "fCalendar", "fExtremes", "fMultivar",
> "fOptions", "fPotfolio", "fractdiff", "fSeries", "its", "lme4",
> "zoo"))', then 'update.packages()'.  These will install subdirectories
> or folders with the indicated names "fBasics", etc., in "library" with
> your R installation.  For example, in my Windows installation, I have
> "D:\Program files\R\rw2010pat\library", which contains many subfolders
> including ones named "fSeries".  These all contain files "*.R", which
> provide sample code.
> 
>          spencer graves
> 
> Sean Davis wrote:
> 
> >
> > On May 3, 2005, at 6:46 AM, Jonathan Q. wrote:
> >
> >> In the process of learning R, with a specific interest on financial
> >> time series.  While I continue to get through the documents I am more
> >> a fan of learning by example and then looking up how each function is
> >> used.  Any websites which post sample code for R?
> >>
> >
> > The largest source of example code is R itself.  If you have a command
> > in which you are interested, you can often just type the command and the
> > code will be shown to you.  Try typing:
> >
> > ls()
> >
> > Then:
> >
> > ls
> >
> > It will show you the code used to produce the result.  Also, each
> > command has its own example(s) in the help.
> >
> > Sean
> >
> > ______________________________________________
> > R-help@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide!
> > http://www.R-project.org/posting-guide.html
> 


-- 
Jonathan
jqm475@gmail.com

From sdavis2 at mail.nih.gov  Tue May  3 12:55:36 2005
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Wed May  4 01:49:02 2005
Subject: [R-sig-finance] Re: [R] General Question on learning R...
In-Reply-To: <e206273d0505030346ac59dc9@mail.gmail.com>
References: <e206273d0505030346ac59dc9@mail.gmail.com>
Message-ID: <faea59c94331334ace64224572930fb3@mail.nih.gov>


On May 3, 2005, at 6:46 AM, Jonathan Q. wrote:

> In the process of learning R, with a specific interest on financial
> time series.  While I continue to get through the documents I am more
> a fan of learning by example and then looking up how each function is
> used.  Any websites which post sample code for R?
>

The largest source of example code is R itself.  If you have a command 
in which you are interested, you can often just type the command and 
the code will be shown to you.  Try typing:

ls()

Then:

ls

It will show you the code used to produce the result.  Also, each 
command has its own example(s) in the help.

Sean

From f.harrell at vanderbilt.edu  Tue May  3 15:21:02 2005
From: f.harrell at vanderbilt.edu (Frank E Harrell Jr)
Date: Wed May  4 01:49:03 2005
Subject: [R-sig-finance] Re: [R] Step wise regression
In-Reply-To: <IFWZSV$980956B6152854A97BB17FC8EA634D80@uol.com.br>
References: <IFWZSV$980956B6152854A97BB17FC8EA634D80@uol.com.br>
Message-ID: <42777ABE.8090807@vanderbilt.edu>

walmir-rodrigues wrote:
> Dear Fellows,
> 
> How can I do to proced a step wise regression in R, if it?s possible ?
> 
> Thanks,
> 
> Walmir 

Here is an easy approach that will yield results only slightly less 
valid than one actually using the response variable:

x <- data.frame(x1,x2,x3,x4,..., other potential predictors)
x[,sample(ncol(x))]

:-)   -Frank


-- 
Frank E Harrell Jr   Professor and Chair           School of Medicine
                      Department of Biostatistics   Vanderbilt University

From spencer.graves at pdf.com  Tue May  3 17:52:51 2005
From: spencer.graves at pdf.com (Spencer Graves)
Date: Wed May  4 01:49:03 2005
Subject: [R-sig-finance] Re: [R] General Question on learning R...
In-Reply-To: <faea59c94331334ace64224572930fb3@mail.nih.gov>
References: <e206273d0505030346ac59dc9@mail.gmail.com>
	<faea59c94331334ace64224572930fb3@mail.nih.gov>
Message-ID: <42779E53.4060008@pdf.com>

	  I'm looking at the same thing.  A good source for this is to 
'install.packages(c("fBasics", "fCalendar", "fExtremes", "fMultivar", 
"fOptions", "fPotfolio", "fractdiff", "fSeries", "its", "lme4", 
"zoo"))', then 'update.packages()'.  These will install subdirectories 
or folders with the indicated names "fBasics", etc., in "library" with 
your R installation.  For example, in my Windows installation, I have 
"D:\Program files\R\rw2010pat\library", which contains many subfolders 
including ones named "fSeries".  These all contain files "*.R", which 
provide sample code.

	  spencer graves

Sean Davis wrote:

> 
> On May 3, 2005, at 6:46 AM, Jonathan Q. wrote:
> 
>> In the process of learning R, with a specific interest on financial
>> time series.  While I continue to get through the documents I am more
>> a fan of learning by example and then looking up how each function is
>> used.  Any websites which post sample code for R?
>>
> 
> The largest source of example code is R itself.  If you have a command 
> in which you are interested, you can often just type the command and the 
> code will be shown to you.  Try typing:
> 
> ls()
> 
> Then:
> 
> ls
> 
> It will show you the code used to produce the result.  Also, each 
> command has its own example(s) in the help.
> 
> Sean
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! 
> http://www.R-project.org/posting-guide.html

From renaud.lancelot at cirad.fr  Tue May  3 17:52:53 2005
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Wed May  4 01:49:03 2005
Subject: [R-sig-finance] Re: [R] Step wise regression
In-Reply-To: <42777ABE.8090807@vanderbilt.edu>
References: <IFWZSV$980956B6152854A97BB17FC8EA634D80@uol.com.br>
	<42777ABE.8090807@vanderbilt.edu>
Message-ID: <42779E55.1060207@cirad.fr>

Frank E Harrell Jr a ?crit :
> walmir-rodrigues wrote:
> 
>> Dear Fellows,
>>
>> How can I do to proced a step wise regression in R, if it?s possible ?
>>
>> Thanks,
>>
>> Walmir 
> 
> 
> Here is an easy approach that will yield results only slightly less 
> valid than one actually using the response variable:
> 
> x <- data.frame(x1,x2,x3,x4,..., other potential predictors)
> x[,sample(ncol(x))]
> 
> :-)   -Frank
> 
> 
competing for the "fortune" award ?... ;-)

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
C/0 Ambassade de France - SCAC
BP 834 Antananarivo 101 - Madagascar

e-mail: renaud.lancelot@cirad.fr
tel.:   +261 32 40 165 53 (cell)
         +261 20 22 665 36 ext. 225 (work)
         +261 20 22 494 37 (home)

From spencer.graves at pdf.com  Tue May  3 20:40:12 2005
From: spencer.graves at pdf.com (Spencer Graves)
Date: Wed May  4 01:49:03 2005
Subject: [R-sig-finance] Re: [R] General Question on learning R...
In-Reply-To: <e206273d050503110648a51696@mail.gmail.com>
References: <e206273d0505030346ac59dc9@mail.gmail.com>	<faea59c94331334ace64224572930fb3@mail.nih.gov>	<42779E53.4060008@pdf.com>
	<e206273d050503110648a51696@mail.gmail.com>
Message-ID: <4277C58C.9060905@pdf.com>

	  Yes.  Thanks for the elaboration.  What differences might one expect 
between the contents of "\demo" and "\R-ex"?  (I found "\R-ex" with all 
the packages I named, but not all had "\demo".)

	  spencer graves

There seem to be different

Jonathan Q. wrote:

> assuming one has these installed already, you just look in the demo
> folder under each?  i.e., fBasics\demo ???
> 
> On 5/3/05, Spencer Graves <spencer.graves@pdf.com> wrote:
> 
>>         I'm looking at the same thing.  A good source for this is to
>>'install.packages(c("fBasics", "fCalendar", "fExtremes", "fMultivar",
>>"fOptions", "fPotfolio", "fractdiff", "fSeries", "its", "lme4",
>>"zoo"))', then 'update.packages()'.  These will install subdirectories
>>or folders with the indicated names "fBasics", etc., in "library" with
>>your R installation.  For example, in my Windows installation, I have
>>"D:\Program files\R\rw2010pat\library", which contains many subfolders
>>including ones named "fSeries".  These all contain files "*.R", which
>>provide sample code.
>>
>>         spencer graves
>>
>>Sean Davis wrote:
>>
>>
>>>On May 3, 2005, at 6:46 AM, Jonathan Q. wrote:
>>>
>>>
>>>>In the process of learning R, with a specific interest on financial
>>>>time series.  While I continue to get through the documents I am more
>>>>a fan of learning by example and then looking up how each function is
>>>>used.  Any websites which post sample code for R?
>>>>
>>>
>>>The largest source of example code is R itself.  If you have a command
>>>in which you are interested, you can often just type the command and the
>>>code will be shown to you.  Try typing:
>>>
>>>ls()
>>>
>>>Then:
>>>
>>>ls
>>>
>>>It will show you the code used to produce the result.  Also, each
>>>command has its own example(s) in the help.
>>>
>>>Sean
>>>
>>>______________________________________________
>>>R-help@stat.math.ethz.ch mailing list
>>>https://stat.ethz.ch/mailman/listinfo/r-help
>>>PLEASE do read the posting guide!
>>>http://www.R-project.org/posting-guide.html
>>
> 
>

From edd at debian.org  Wed May  4 02:08:03 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed May  4 02:08:14 2005
Subject: [R-sig-finance] Please do NOT cross-post
Message-ID: <17016.4707.404387.6564@basebud.nulle.part>


Folks,

The list is subscriber-only, to the benefit of all of us as it keeps spam
down.  It also means that I have to manually approve all posts by non-member.


Now, whenever anyone cross-posts --- which is discouraged by r-help as well
-- intervention is needed on all posts by non-members that come cross-posted
via r-help.  As this is a nuisance, I plead with everybody here to either
post here, or on r-help (or whichever other suitable list) -- but on one list
only.

So please: don't cross-post.

Thanks,  Dirk

-- 
An economist is an expert who will know tomorrow why the things he 
predicted yesterday didn't happen today.  --  Laurence J. Peter

From andy_liaw at merck.com  Wed May  4 03:57:49 2005
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed May  4 03:58:31 2005
Subject: [R-sig-finance] RE: [R] General Question on learning R...
Message-ID: <39B6DDB9048D0F4DAD42CB26AAFF0AFA076EC3@usctmx1106.merck.com>

For an installed package (rather than source), the R-ex/ directory contains
the code in the Example section of help pages; e.g., if you run
example(somefun), the code in somefun-ex.R is source()'ed.

Stuff in the demo/ directory are executed by the demo() function, and it's
optional:  Most packages do not have demo code.

Andy

> From: Spencer Graves
> 
> 	  Yes.  Thanks for the elaboration.  What differences 
> might one expect 
> between the contents of "\demo" and "\R-ex"?  (I found 
> "\R-ex" with all 
> the packages I named, but not all had "\demo".)
> 
> 	  spencer graves
> 
> There seem to be different
> 
> Jonathan Q. wrote:
> 
> > assuming one has these installed already, you just look in the demo
> > folder under each?  i.e., fBasics\demo ???
> > 
> > On 5/3/05, Spencer Graves <spencer.graves@pdf.com> wrote:
> > 
> >>         I'm looking at the same thing.  A good source for 
> this is to
> >>'install.packages(c("fBasics", "fCalendar", "fExtremes", 
> "fMultivar",
> >>"fOptions", "fPotfolio", "fractdiff", "fSeries", "its", "lme4",
> >>"zoo"))', then 'update.packages()'.  These will install 
> subdirectories
> >>or folders with the indicated names "fBasics", etc., in 
> "library" with
> >>your R installation.  For example, in my Windows 
> installation, I have
> >>"D:\Program files\R\rw2010pat\library", which contains many 
> subfolders
> >>including ones named "fSeries".  These all contain files 
> "*.R", which
> >>provide sample code.
> >>
> >>         spencer graves
> >>
> >>Sean Davis wrote:
> >>
> >>
> >>>On May 3, 2005, at 6:46 AM, Jonathan Q. wrote:
> >>>
> >>>
> >>>>In the process of learning R, with a specific interest on 
> financial
> >>>>time series.  While I continue to get through the 
> documents I am more
> >>>>a fan of learning by example and then looking up how each 
> function is
> >>>>used.  Any websites which post sample code for R?
> >>>>
> >>>
> >>>The largest source of example code is R itself.  If you 
> have a command
> >>>in which you are interested, you can often just type the 
> command and the
> >>>code will be shown to you.  Try typing:
> >>>
> >>>ls()
> >>>
> >>>Then:
> >>>
> >>>ls
> >>>
> >>>It will show you the code used to produce the result.  Also, each
> >>>command has its own example(s) in the help.
> >>>
> >>>Sean
> >>>
> >>>______________________________________________
> >>>R-help@stat.math.ethz.ch mailing list
> >>>https://stat.ethz.ch/mailman/listinfo/r-help
> >>>PLEASE do read the posting guide!
> >>>http://www.R-project.org/posting-guide.html
> >>
> > 
> >
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! 
> http://www.R-project.org/posting-guide.html
> 
> 
>

From jqm475 at gmail.com  Wed May  4 04:16:37 2005
From: jqm475 at gmail.com (Jonathan Q.)
Date: Wed May  4 04:16:47 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <20050503145647.3ca5e088.Achim.Zeileis@wu-wien.ac.at>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
	<20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050305422aea4a12@mail.gmail.com>
	<20050503145647.3ca5e088.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <e206273d05050319167c65d7bf@mail.gmail.com>

from the perspective a newbie it seems  get.hist.quote() works
reasonably well.

my issues come with (I think) the plot() part where the documentation
doesn't seem to provide the solutions.

Consider the following...

x <- get.hist.quote(instrument = "CPN", quote = c("Ad", "Vol"), start
= "2004-01-01"); plot(x, main = "Calpine",type='l')

Hoow would I 
a) have the date appear in years or months etc 
b) have the top part in semi-log form (so % changes are of equal
vertical distances) and c) get the volume to scale down (say in
millions of shares vs shares)




On 5/3/05, Achim Zeileis <Achim.Zeileis@wu-wien.ac.at> wrote:
> On Tue, 3 May 2005 08:42:47 -0400 Jonathan Q. wrote:
> 
> > as a group can we decide what is the best approach to use yahoo for a
> > newbie?
> 
> Well, this is what we're trying to sort out. Or to be me precise: it is
> not (or should not be) newbie specific.
> I tried to make the point that it would be good/important to have a
> single reference implementation of this functionality that is
> sufficiently flexible to satisfy the needs of various users.
> 
> As for your general question where to find examples: some packages
> (including the zoo package) not only have examples on their man pages
> but also a vignette that guides you through the package's functionality
> based on various examples. See
>  vignette("zoo")
> which also contains an example on how to use get.hist.quote() and turn
> the result into a "zoo" series. To turn it into an "its" series, if
> needed, is then trivial via the as.its method.
> Z
> 
> > On 5/3/05, Achim Zeileis <Achim.Zeileis@wu-wien.ac.at> wrote:
> > > On Mon, 2 May 2005 20:36:13 -0500 Dirk Eddelbuettel wrote:
> > >
> > > >
> > > > On 2 May 2005 at 16:39, Achim Zeileis wrote:
> > > > | Furthermore, it would probably be good to have a single
> > > > | authorative implementation instead of each time series package
> > > > | reproducing this functionality.
> > > > [...]
> > > > | An alternative would be to read from a connection (which could
> > > > | be a local file or a URL) with the default of querying
> > > > | yahoo.com.
> > > >
> > > > So there: the price of immortality has now been raised to an
> > > > authorative implementation, based on get.hist.quotes() in tseries
> > > > 0.9.26 which includes the two newer patches from JAB and GG.
> > > > Given its' somewhat stale nature, a zoo implementation may be
> > > > preferred.
> > >
> > > Well, but it seems that get.hist.quote() in tseries is still the
> > > most up-to-date implementation of this functionality, so probably
> > > this should be extended. I don't want to have the fourth
> > > implementation in the fourth time series package...
> > >
> > > Personally, I have made only little use of get.hist.quote() and no
> > > use at all of priceIts() and yahooImport(). Do these other
> > > implementations provide further functionality, not contained in
> > > get.hist.quote(), or are they simply there for convenience?
> > >
> > > If the latter and if it's ok for Adrian, I'll try to add something
> > > like a retclass argument for get.hist.quote() which could then be
> > > set to"zoo", "ts", "its" etc. (provided that the corresponding
> > > packages are available).
> > >
> > > Z
> > >
> > > _______________________________________________
> > > R-sig-finance@stat.math.ethz.ch mailing list
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > >
> >
> >
> > --
> > Jonathan
> > jqm475@gmail.com
> >
> 


-- 
Jonathan
jqm475@gmail.com

From Achim.Zeileis at wu-wien.ac.at  Wed May  4 10:01:17 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Wed May  4 10:06:39 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <e206273d05050319167c65d7bf@mail.gmail.com>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
	<20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050305422aea4a12@mail.gmail.com>
	<20050503145647.3ca5e088.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050319167c65d7bf@mail.gmail.com>
Message-ID: <20050504100117.33a177cf.Achim.Zeileis@wu-wien.ac.at>

On Tue, 3 May 2005 22:16:37 -0400 Jonathan Q. wrote:

> from the perspective a newbie it seems  get.hist.quote() works
> reasonably well.

Please read this thread why I think that it should be improved.

> my issues come with (I think) the plot() part where the documentation
> doesn't seem to provide the solutions.
> 
> Consider the following...
> 
> x <- get.hist.quote(instrument = "CPN", quote = c("Ad", "Vol"), start
> = "2004-01-01"); plot(x, main = "Calpine",type='l')

And in which way is this not behaving as documented? If you should be
referring to the gaps, this is due to NAs. But you could do

z <- get.hist.quote(instrument = "CPN", quote = c("Ad", "Vol"),
  start = "2004-01-01", origin = "1970-01-01")
z <- as.zoo(z)
index(z) <- as.Date(index(z))
z <- na.omit(z)
plot(z)

to obtain a "zoo" object without NAs. Note, that I already pointed you
to this example.

> Hoow would I 
> a) have the date appear in years or months etc 

Look at ?aggregate.zoo and look into the archives of this mailing list.

> b) have the top part in semi-log form (so % changes are of equal
> vertical distances) and c) get the volume to scale down (say in
> millions of shares vs shares)

z[,"Volume"] <- z[,"Volume"]/1000000

and btw:

fortune("WTFM")

This is all documented in TFM. Those who WTFM don't want to have to WTFM
again on the mailing list. RTFM.
   -- Barry Rowlingson
      R-help (October 2003)

Z

From edd at debian.org  Wed May  4 13:30:17 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed May  4 13:30:29 2005
Subject: [R-sig-finance] Its function and yahoo
In-Reply-To: <20050504100117.33a177cf.Achim.Zeileis@wu-wien.ac.at>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<001e01c54f22$a784d570$04000100@dherlemont>
	<20050502163957.15aa883f.Achim.Zeileis@wu-wien.ac.at>
	<17014.54669.90266.419881@basebud.nulle.part>
	<20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050305422aea4a12@mail.gmail.com>
	<20050503145647.3ca5e088.Achim.Zeileis@wu-wien.ac.at>
	<e206273d05050319167c65d7bf@mail.gmail.com>
	<20050504100117.33a177cf.Achim.Zeileis@wu-wien.ac.at>
Message-ID: <17016.45641.575148.18995@basebud.nulle.part>


On 4 May 2005 at 10:01, Achim Zeileis wrote:
| On Tue, 3 May 2005 22:16:37 -0400 Jonathan Q. wrote:
| > Hoow would I 
| > a) have the date appear in years or months etc 
| 
| Look at ?aggregate.zoo and look into the archives of this mailing list.

I think what Jonathan asked for her was something like

	> plot(z, xaxt="n")
	> axis.Date(1, index(z), format="%b-%Y")

which also gets discussed now and then on the lists. So RTFM + RTFL apply.

Cheers, Dirk

-- 
An economist is an expert who will know tomorrow why the things he 
predicted yesterday didn't happen today.  --  Laurence J. Peter

From helprhelp at gmail.com  Wed May  4 16:49:07 2005
From: helprhelp at gmail.com (WeiWei Shi)
Date: Wed May  4 16:49:16 2005
Subject: [R-sig-finance] heavy_tailed plot
Message-ID: <cdf817830505040749122b3cfd@mail.gmail.com>

Dear helpers:
I am recently doing some research on enquity returns and I have 2
heavy-tailed distribution and the qqnorm is attached. My aim is to
cluster the data into 3 clusters: lower-part tail, body and
higher-part tail. I am wondering what is good approach or reference to
this question. I believe there must be a lot of research already in
this field but I just don't know how to find them by googling, for
example.

I posted the question to r-help already but I did not get a
satisfactory answer yet.

Thanks,

-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III
-------------- next part --------------
A non-text attachment was scrubbed...
Name: qq1.zip
Type: application/zip
Size: 17221 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050504/5bd7b5c3/qq1.zip
From a.trapletti at bluewin.ch  Mon May  9 09:57:01 2005
From: a.trapletti at bluewin.ch (Adrian Trapletti)
Date: Mon May  9 09:57:30 2005
Subject: [R-sig-finance] Re: R-sig-finance Digest, Vol 12, Issue 3
In-Reply-To: <200505041157.j44Bv6am021894@hypatia.math.ethz.ch>
References: <200505041157.j44Bv6am021894@hypatia.math.ethz.ch>
Message-ID: <427F17CD.5070303@bluewin.ch>

>
>
> Message: 2 Date: Tue, 3 May 2005 14:35:13 +0200 From: Achim Zeileis 
> <Achim.Zeileis@wu-wien.ac.at> Subject: Re: [R-sig-finance] Its 
> function and yahoo To: Dirk Eddelbuettel <edd@debian.org> Cc: 
> R-sig-finance@stat.math.ethz.ch Message-ID: 
> <20050503143513.0fa79476.Achim.Zeileis@wu-wien.ac.at> Content-Type: 
> text/plain; charset=US-ASCII On Mon, 2 May 2005 20:36:13 -0500 Dirk 
> Eddelbuettel wrote:
>
>>> 
>>> On 2 May 2005 at 16:39, Achim Zeileis wrote:
>>> | Furthermore, it would probably be good to have a single authorative
>>> | implementation instead of each time series package reproducing this
>>> | functionality.
>>> [...]
>>> | An alternative would be to read from a connection (which could be a
>>> | local file or a URL) with the default of querying yahoo.com.
>>> 
>>> So there: the price of immortality has now been raised to an
>>> authorative implementation, based on get.hist.quotes() in tseries
>>> 0.9.26 which includes the two newer patches from JAB and GG.  Given
>>> its' somewhat stale nature, a zoo implementation may be preferred.
>>    
>>
>
>Well, but it seems that get.hist.quote() in tseries is still the most
>up-to-date implementation of this functionality, so probably this should
>be extended. I don't want to have the fourth implementation in the
>fourth time series package...
>
>Personally, I have made only little use of get.hist.quote() and no use
>at all of priceIts() and yahooImport(). Do these other implementations
>provide further functionality, not contained in get.hist.quote(), or are
>they simply there for convenience?
>
>If the latter and if it's ok for Adrian, I'll try to add something like
>a retclass argument for get.hist.quote() which could then be set to
>"zoo", "ts", "its" etc. (provided that the corresponding packages are
>available).
>
>Z
>  
>
That's perfectly ok for me.
Adrian

From manojsw at gmail.com  Tue May 10 13:57:23 2005
From: manojsw at gmail.com (ManojW)
Date: Tue May 10 13:59:35 2005
Subject: [R-sig-finance] Price Smoothing
References: <e206273d050429110710a66af9@mail.gmail.com><5e64e5be05042911485868fdf2@mail.gmail.com><6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
Message-ID: <000001c55557$b6becb00$6900a8c0@HCJP.COM>

Dear All,
    I want to achieve the follwing:

    For close to 2000 securities (having 10 years of daily closing prices),
I want to perform a 65-days exponential smoothing of prices.

    What would be the fastest way of performing the above task? Is there any
package that can readily achieve this task?

    I have tried to use HoltWinters (alpha = 0.20, beta = 0, gamma= 0) in a
recursive loop fashion but the whole processing is very slow (as expected)
hence this request.

    Thanks in advance.

Regards

Manoj

From bbands at gmail.com  Tue May 10 16:53:45 2005
From: bbands at gmail.com (BBands)
Date: Tue May 10 16:53:54 2005
Subject: [R-sig-finance] Price Smoothing
In-Reply-To: <000001c55557$b6becb00$6900a8c0@HCJP.COM>
References: <e206273d050429110710a66af9@mail.gmail.com>
	<5e64e5be05042911485868fdf2@mail.gmail.com>
	<6e8360ad05042915442f62cbc6@mail.gmail.com>
	<17010.52594.251876.893338@basebud.nulle.part>
	<000001c55557$b6becb00$6900a8c0@HCJP.COM>
Message-ID: <6e8360ad050510075320774b7e@mail.gmail.com>

On 5/10/05, ManojW <manojsw@gmail.com> wrote:
> Dear All,
>     I want to achieve the follwing:
> 
>     For close to 2000 securities (having 10 years of daily closing prices),
> I want to perform a 65-days exponential smoothing of prices.
> 
>     What would be the fastest way of performing the above task? Is there any
> package that can readily achieve this task?
> 
>     I have tried to use HoltWinters (alpha = 0.20, beta = 0, gamma= 0) in a
> recursive loop fashion but the whole processing is very slow (as expected)
> hence this request.
> 
>     Thanks in advance.
> 
> Regards
> 
> Manoj

Here is a routine that Dirk contributed to the Crusher Project to
compute Bollinger Bands that illustrates the basic technique for
smoothing quite well.

computeBollingerBands <- function(dat, ndays=20, nsd=2) {
    # compute Bollinger Bands
    weights <- rep(1/ndays, ndays) # create a normalised weight vector
    # and apply it as a one-sided moving average calculations, see help(filter)
    bbmiddle <- as.vector(filter(dat$Close, weights,
  		method="convolution", side=1))
    # use var(x) = E(x^2) - E(x)^2 to compute rolling variances
    v <- filter(dat$Close^2, weights, method="convolution", side=1) - bbmiddle^2
    # from which we calculate rolling standard deviations the usual way
    bbsd <- as.vector(sqrt(v))
    bbupper <- bbmiddle + nsd*bbsd # upper Bollinger band
    bblower <- bbmiddle - nsd*bbsd # lower Bollinger band
    # now extend the data frame with a few new columns
    cbind(dat, bbmiddle, bbsd, bbupper, bblower)
}

Just change the weight vector to a exponential vector and away you go.

Hope that helps,

    jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.

From steve.moffitt at mail.stuart.iit.edu  Tue May 10 14:57:59 2005
From: steve.moffitt at mail.stuart.iit.edu (Steven D. Moffitt)
Date: Wed May 11 02:13:50 2005
Subject: [R-sig-finance] Price Smoothing
Message-ID: <200505100757.AA585498720@stuart.iit.edu>

Dear ManojW,

There is a function EWMA in the RMetrics package.

You can also write a script such as the following:

expma <- function(alpha,price.vec) {
  if(missing(alpha)) stop("alpha argument missing")
  if( alpha < 0 || alpha > 1 ) stop("alpha must be between 0 and 1 inclusive")
  if(missing(price.vec)) stop("price vector argument missing")
  n <- length(price.vec)
  x <- rep(0,n)
  x[1] <- price.vec[1]
  if( n > 1 )
  {
    for( i in 2:n )
      x[i] <- alpha*price.vec[i-1] + (1-alpha)*x[i-1]
  }
  xed
}

Since loops are slow in R, it will take some time to calculate all moving averages.  But if you save them, they are easily updated via the baxic formula.  

If you really need speed, however, you should write a function in C/C++ and use in inside or outside R.

Best,

Steve Moffit




---------- Original Message ----------------------------------
From: "ManojW" <manojsw@gmail.com>
Date:  Tue, 10 May 2005 20:57:23 +0900

>Dear All,
>    I want to achieve the follwing:
>
>    For close to 2000 securities (having 10 years of daily closing prices),
>I want to perform a 65-days exponential smoothing of prices.
>
>    What would be the fastest way of performing the above task? Is there any
>package that can readily achieve this task?
>
>    I have tried to use HoltWinters (alpha = 0.20, beta = 0, gamma= 0) in a
>recursive loop fashion but the whole processing is very slow (as expected)
>hence this request.
>
>    Thanks in advance.
>
>Regards
>
>Manoj
>
>_______________________________________________
>R-sig-finance@stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From edd at debian.org  Wed May 11 04:00:24 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed May 11 04:00:46 2005
Subject: [R-sig-finance] Price Smoothing
In-Reply-To: <200505100757.AA585498720@stuart.iit.edu>
References: <200505100757.AA585498720@stuart.iit.edu>
Message-ID: <17025.26424.483581.279284@basebud.nulle.part>


On 10 May 2005 at 07:57, Steven D. Moffitt wrote:
| Since loops are slow in R, 

Well, I think that is considered to be an outdated myth.  There was a time
when S-Plus 3.* had dreadful looping performance, but both R and S-Plus now
have much improved parsers/interpreters.  So no fear of for() or while().

On r-help we repeatedly see posts where people try real hard to use apply and
friends only to find that a simple for loop is doing just as well or better.

| If you really need speed, however, you should write a function in C/C++ and use in inside or outside R.

Correct. 

And the tool to tell you is the fantastic profiler inside R. See help(Rprof).

Dirk

-- 
An economist is an expert who will know tomorrow why the things he 
predicted yesterday didn't happen today.  --  Laurence J. Peter

From manojsw at gmail.com  Wed May 11 11:27:54 2005
From: manojsw at gmail.com (ManojW)
Date: Wed May 11 11:28:07 2005
Subject: [R-sig-finance] Price Smoothing
References: <200505100757.AA585498720@stuart.iit.edu>
	<17025.26424.483581.279284@basebud.nulle.part>
Message-ID: <02d701c5560b$b77b7e80$6900a8c0@HCJP.COM>

Dear All,
    Specially Patrick,John, Steven & Dirk, thanks for your
comments,suggestions & code snippets.Your kind help is greatly appreciated.

Good luck!

Manoj


----- Original Message ----- 
From: "Dirk Eddelbuettel" <edd@debian.org>
To: <steve.moffitt@mail.stuart.iit.edu>
Cc: <R-sig-finance@stat.math.ethz.ch>; <manojsw@qmail.com>
Sent: Wednesday, May 11, 2005 11:00 AM
Subject: Re: [R-sig-finance] Price Smoothing


>
> On 10 May 2005 at 07:57, Steven D. Moffitt wrote:
> | Since loops are slow in R,
>
> Well, I think that is considered to be an outdated myth.  There was a time
> when S-Plus 3.* had dreadful looping performance, but both R and S-Plus
now
> have much improved parsers/interpreters.  So no fear of for() or while().
>
> On r-help we repeatedly see posts where people try real hard to use apply
and
> friends only to find that a simple for loop is doing just as well or
better.
>
> | If you really need speed, however, you should write a function in C/C++
and use in inside or outside R.
>
> Correct.
>
> And the tool to tell you is the fantastic profiler inside R. See
help(Rprof).
>
> Dirk
>
> -- 
> An economist is an expert who will know tomorrow why the things he
> predicted yesterday didn't happen today.  --  Laurence J. Peter
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From Achim.Zeileis at R-project.org  Thu May 12 18:28:32 2005
From: Achim.Zeileis at R-project.org (Achim Zeileis)
Date: Thu May 12 18:38:21 2005
Subject: [R-sig-finance] Finance and Econometrics task view
Message-ID: <20050512182832.313d66ef.Achim.Zeileis@R-project.org>

Dear useRs,

As some of you might have noticed already, CRAN provides a new
tool: The CRAN task views (provided by package ctv) allow for improved
structuring of packages in a repository by providing an overview of
the packages available for a given topic, and they also allow
automatic installation of these packages.  The current R Newsletter,
5(1), 39-40, contains a short article that gives some more details
about task views and how to use them.

On
   http://CRAN.R-project.org/src/contrib/Views/
you can already find two task views of relevance to this list: a
Finance view (maintained by Dirk Eddelbuettel) and an Econometrics
view (maintained by Achim Zeileis). Both have, of course, some overlap,
but we tried to focus on different aspects. If you have feedback
on either view, or you want to add further information or another
package to the view, please either contact the respective maintainer, or
write directly to the list (with a Cc to the maintainer) as discussions
are very welcome and encouraged.

Econometrics and Finance have become very vibrant communities within
the R world over the last two years, and we look forward to reflecting
further enhancements and extensions in the years to come.

Dirk & Achim

From davidr at rhotrading.com  Thu May 12 22:47:33 2005
From: davidr at rhotrading.com (davidr@rhotrading.com)
Date: Thu May 12 22:47:42 2005
Subject: [R-sig-finance] Market Profile implementation?
Message-ID: <12AE52872B5C5348BE5CF47C707FF53A5FAFF1@rhosvr02.rhotrading.com>

Has anyone implemented the (Peter Steidlmayer's|CBOT's) Market Profile as a (color) plot, given the market data in the appropriate form (which would be what?)

Looks like

AB
ABCGI
ACFGH
DEFH
EG

with price on the y-axis and a different letter (color) for each time interval.

I was just thinking I'd like to do it for a lark, but I didn't want to waste lots of time doing it poorly if someone already did it nicely, or use the wrong class for the intraday data.

Thanks for any advice,

David L. Reiner
?
Rho Trading
440 S. LaSalle St -- Suite 620
Chicago? IL? 60605
?
312-362-4963 (voice)
312-362-4941 (fax)
?

From elw at stderr.org  Fri May 13 05:09:08 2005
From: elw at stderr.org (elijah wright)
Date: Fri May 13 05:12:27 2005
Subject: [R-sig-finance] Finance and Econometrics task view
In-Reply-To: <20050512182832.313d66ef.Achim.Zeileis@R-project.org>
References: <20050512182832.313d66ef.Achim.Zeileis@R-project.org>
Message-ID: <Pine.LNX.4.62.0505122208380.22163@illuminati.stderr.org>


> As some of you might have noticed already, CRAN provides a new tool: The 
> CRAN task views (provided by package ctv) allow for improved structuring 
> of packages in a repository by providing an overview of the packages 
> available for a given topic, and they also allow automatic installation 
> of these packages.  The current R Newsletter, 5(1), 39-40, contains a 
> short article that gives some more details about task views and how to 
> use them.

>   http://CRAN.R-project.org/src/contrib/Views/

very cool.

what's the procedure for contributing a new task view?

--elijah

From Achim.Zeileis at wu-wien.ac.at  Fri May 13 10:38:20 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Fri May 13 10:38:32 2005
Subject: [R-sig-finance] Finance and Econometrics task view
In-Reply-To: <Pine.LNX.4.62.0505122208380.22163@illuminati.stderr.org>
References: <20050512182832.313d66ef.Achim.Zeileis@R-project.org>
	<Pine.LNX.4.62.0505122208380.22163@illuminati.stderr.org>
Message-ID: <Pine.LNX.4.58.0505131036490.15221@thorin.ci.tuwien.ac.at>

On Thu, 12 May 2005, elijah wright wrote:

>
> > As some of you might have noticed already, CRAN provides a new tool: The
> > CRAN task views (provided by package ctv) allow for improved structuring
> > of packages in a repository by providing an overview of the packages
> > available for a given topic, and they also allow automatic installation
> > of these packages.  The current R Newsletter, 5(1), 39-40, contains a
> > short article that gives some more details about task views and how to
> > use them.
>
> >   http://CRAN.R-project.org/src/contrib/Views/
>
> very cool.
>
> what's the procedure for contributing a new task view?

It's explained in the R News article. Basically, you have to make a
suggestion to me. If you have drafted an XML .ctv file it might be easier
to know what you've got in mind.
Best,
Z

> --elijah
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From wojciech.slusarski at gmail.com  Fri May 13 12:23:25 2005
From: wojciech.slusarski at gmail.com (Wojciech Slusarski)
Date: Fri May 13 12:23:36 2005
Subject: [R-sig-finance] CAViaR modelling
Message-ID: <5e64e5be0505130323664c4667@mail.gmail.com>

I am wondering how to estimate in R CAViaR modeldescribed by R. Engle
and S. Manganelli in their article avilable at R. Engle's webpage:

http://pages.stern.nyu.edu/~rengle/

Am I correct, that i should start with writing function describing the
process (adaptive or indirect garch), then call:


quntile <- quantile(y[1:n], probs=0.05)

library(quantreg)
nlrq(y ~ indirect_garch(y), quantile, tau=0.05, 
             control, trace=FALSE,method="L-BFGS-B")

where n is a 30% of the sample, to compute the unconditional quantile
for start and the indirect_garch is a function described in the
article. Is the objective function in nlrq the same as in the article?
I would appreciate help on this field a lot. I think that CAViaR
models can give very good results in estimating Value at Risk for a
single risk factor.

Best regards,
Wojtek

From Marco.Salvini at sanpaoloam.com  Wed May 18 09:48:38 2005
From: Marco.Salvini at sanpaoloam.com (Marco Salvini)
Date: Wed May 18 09:47:06 2005
Subject: [R-sig-finance] Multivariate adaptive regression splines
Message-ID: <OFEECFE9E0.40E61074-ONC1257005.0029AEFA-C1257005.002AE7E0@sanpaoloam.com>


Dear all,

I would like to use the Polspline function on MARS to try to forecast some 
stocks returns. Do you have any suggestion?

all the best
Marco

---------------------------------------------------------------------
This e-mail is confidential; its content does not constitute a commitment by Sanpaolo IMI Asset Management SGR S.p.A. except where provided for in a written agreement between this e-mail addressee and Sanpaolo IMI Asset Management SGR S.p.A. Any unauthorised disclosure, use or dissemination, either whole or partial, is prohibited. If you are not the intended recipient of the message, please notify the sender immediately.

Questo messaggio e' confidenziale; il suo contenuto non costituisce impegno da parte di Sanpaolo IMI Asset Management SGR S.p.A. salvo accordo scritto tra destinatario e Sanpaolo IMI Asset Management SGR S.p.A. La pubblicazione, l'uso o la diffusione non autorizzati di questo messaggio, sia in forma completa che parziale non sono consentiti. Se non siete i destinatari di questo messaggio, siete pregati di avvertire il mittente immediatamente. 
---------------------------------------------------------------------
	[[alternative HTML version deleted]]

From alexg at trwim.com  Wed May 18 12:42:21 2005
From: alexg at trwim.com (Alex Gracian)
Date: Wed May 18 12:42:30 2005
Subject: [R-sig-finance] RE: R-sig-finance Digest, Vol 12, Issue 9
Message-ID: <0E33411D2F8B2847BB8457CC2023CB100A3988@trw-mail1.trwlondon.co.uk>

Hi Marco,

Might be worth taking a look at the xmpRegRecession.R example in
Diethelm Wuertz's fMultivar package.

Regards,

Alexander Gracian

----------------------------------------------------------------------

Message: 1
Date: Wed, 18 May 2005 09:48:38 +0200
From: Marco Salvini <Marco.Salvini@sanpaoloam.com>
Subject: [R-sig-finance] Multivariate adaptive regression splines
To: r-sig-finance@stat.math.ethz.ch
Message-ID:
	
<OFEECFE9E0.40E61074-ONC1257005.0029AEFA-C1257005.002AE7E0@sanpaoloam.co
m>
	
Content-Type: text/plain


Dear all,

I would like to use the Polspline function on MARS to try to forecast
some 
stocks returns. Do you have any suggestion?

all the best
Marco

From neuro3000 at hotmail.com  Sat May 21 20:21:22 2005
From: neuro3000 at hotmail.com (=?iso-8859-1?B?TmV1cm8gTGVTdXBlckjpcm9z?=)
Date: Sat May 21 20:21:30 2005
Subject: [R-sig-finance] Backtest trading  strategies
Message-ID: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>

Hello,

Has anybody ever implemented a trading strategies backtest program on R?  Or 
succesfully linked R to an existing backtest software? I'd like to know what 
has been/can be done.

Regards,

From whit at twinfieldscapital.com  Sat May 21 21:28:53 2005
From: whit at twinfieldscapital.com (Whit Armstrong)
Date: Sat May 21 21:23:37 2005
Subject: [R-sig-finance] Backtest trading  strategies
Message-ID: <726FC6DD09DE1046AF81B499D70C3BCE1FDFE7@twinfields02.CORP.TWINFIELDSCAPITAL.COM>

There are only a few of which I'm aware.

One is built into CQG: http://www.cqg.com/
but only runs on one asset at a time (as a study)

And there is one in LIM: http://www.lim.com/
There is a LIM/S interface available, and I've been working on a LIM/R interface which could probably be used to do what you want if you're willing to purchase LIM.

I am dedicating some time at work to a solution for trading simulation / backtesting, but unfortunately, it will remain proprietary.

Good luck,
Whit



-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch [mailto:r-sig-finance-bounces@stat.math.ethz.ch] On Behalf Of Neuro LeSuperH?ros
Sent: Saturday, May 21, 2005 2:21 PM
To: r-sig-finance@stat.math.ethz.ch
Subject: [R-sig-finance] Backtest trading strategies

Hello,

Has anybody ever implemented a trading strategies backtest program on R?  Or succesfully linked R to an existing backtest software? I'd like to know what has been/can be done.

Regards,

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From atp at piskorski.com  Sun May 22 13:24:03 2005
From: atp at piskorski.com (Andrew Piskorski)
Date: Sun May 22 13:24:12 2005
Subject: [R-sig-finance] Backtest trading  strategies
In-Reply-To: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
References: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
Message-ID: <20050522112403.GA21009@piskorski.com>

On Sat, May 21, 2005 at 02:21:22PM -0400, Neuro LeSuperH?ros wrote:

> Has anybody ever implemented a trading strategies backtest program on R?  

I would be pretty surprised if no one has, however I'm not aware of
any publically available backtesting code.  This sounds like one of
those things that many different people have probably implemented
themselves in house, perhaps in different ways.

-- 
Andrew Piskorski <atp@piskorski.com>
http://www.piskorski.com/

From patrick at burns-stat.com  Sun May 22 13:43:25 2005
From: patrick at burns-stat.com (Patrick Burns)
Date: Sun May 22 13:44:05 2005
Subject: [R-sig-finance] Backtest trading  strategies
In-Reply-To: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
References: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
Message-ID: <4290705D.2000702@burns-stat.com>

I've written backtesting code that uses POP.  It is essentially just a
for loop that steps through time and implements the strategy at each
step.  I may put a class on the result so that I can write 'summary'
and 'plot' methods to view the results more conveniently.

I would be surprised if there is something that can save substantial
time over just writing the loop yourself.  But then I'm surprised a lot.

However the backtest is computed, it seems to me that R is the
right place for the results to be viewed and analyzed.

Patrick Burns

Burns Statistics
patrick@burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")


Neuro LeSuperH?ros wrote:

> Hello,
>
> Has anybody ever implemented a trading strategies backtest program on 
> R?  Or succesfully linked R to an existing backtest software? I'd like 
> to know what has been/can be done.
>
> Regards,
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>

From albertofogale at libero.it  Sun May 22 21:05:30 2005
From: albertofogale at libero.it (albertofogale)
Date: Mon May 23 07:41:29 2005
Subject: [R-sig-finance] Re: R-sig-finance Digest, Vol 12, Issue 11
In-Reply-To: <200505221015.j4MAEsOK027727@hypatia.math.ethz.ch>
References: <200505221015.j4MAEsOK027727@hypatia.math.ethz.ch>
Message-ID: <1116788730.5368.3.camel@linux.site>

Ciao,
ti posto il contenuto di oggi della mailing list R Finance. Si parla di
sistemi di backtest per i trading system. Forse trovi qualche
informazione interessante per il tuo progetto.


Il giorno dom, 22-05-2005 alle 12:15 +0200,
r-sig-finance-request@stat.math.ethz.ch ha scritto:
> Send R-sig-finance mailing list submissions to
> 	r-sig-finance@stat.math.ethz.ch
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> or, via email, send a message with subject or body 'help' to
> 	r-sig-finance-request@stat.math.ethz.ch
> 
> You can reach the person managing the list at
> 	r-sig-finance-owner@stat.math.ethz.ch
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-sig-finance digest..."
> 
> 
> Today's Topics:
> 
>    1. Backtest trading  strategies (Neuro LeSuperH?ros)
>    2. RE: Backtest trading  strategies (Whit Armstrong)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Sat, 21 May 2005 14:21:22 -0400
> From: Neuro LeSuperH?ros <neuro3000@hotmail.com>
> Subject: [R-sig-finance] Backtest trading  strategies
> To: r-sig-finance@stat.math.ethz.ch
> Message-ID: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
> Content-Type: text/plain; charset=iso-8859-1; format=flowed
> 
> Hello,
> 
> Has anybody ever implemented a trading strategies backtest program on R?  Or 
> succesfully linked R to an existing backtest software? I'd like to know what 
> has been/can be done.
> 
> Regards,
> 
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Sat, 21 May 2005 15:28:53 -0400
> From: "Whit Armstrong" <whit@twinfieldscapital.com>
> Subject: RE: [R-sig-finance] Backtest trading  strategies
> To: <r-sig-finance@stat.math.ethz.ch>
> Message-ID:
> 	<726FC6DD09DE1046AF81B499D70C3BCE1FDFE7@twinfields02.CORP.TWINFIELDSCAPITAL.COM>
> 	
> Content-Type: text/plain;	charset="iso-8859-1"
> 
> There are only a few of which I'm aware.
> 
> One is built into CQG: http://www.cqg.com/
> but only runs on one asset at a time (as a study)
> 
> And there is one in LIM: http://www.lim.com/
> There is a LIM/S interface available, and I've been working on a LIM/R interface which could probably be used to do what you want if you're willing to purchase LIM.
> 
> I am dedicating some time at work to a solution for trading simulation / backtesting, but unfortunately, it will remain proprietary.
> 
> Good luck,
> Whit
> 
> 
> 
> -----Original Message-----
> From: r-sig-finance-bounces@stat.math.ethz.ch [mailto:r-sig-finance-bounces@stat.math.ethz.ch] On Behalf Of Neuro LeSuperHros
> Sent: Saturday, May 21, 2005 2:21 PM
> To: r-sig-finance@stat.math.ethz.ch
> Subject: [R-sig-finance] Backtest trading strategies
> 
> Hello,
> 
> Has anybody ever implemented a trading strategies backtest program on R?  Or succesfully linked R to an existing backtest software? I'd like to know what has been/can be done.
> 
> Regards,
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 
> 
> 
> ------------------------------
> 
> _______________________________________________
> R-sig-finance mailing list
> R-sig-finance@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 
> 
> End of R-sig-finance Digest, Vol 12, Issue 11
> *********************************************

From roger.bos at gmail.com  Mon May 23 16:01:16 2005
From: roger.bos at gmail.com (roger bos)
Date: Mon May 23 16:01:25 2005
Subject: [R-sig-finance] Backtest trading strategies
In-Reply-To: <4290705D.2000702@burns-stat.com>
References: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
	<4290705D.2000702@burns-stat.com>
Message-ID: <1db7268005052307014a499e7e@mail.gmail.com>

I use R to download data through the ODBC driver, do backtests and
then show simple reports of the results.  Calculating decile return in
R is extremely easy.  My code is so highly specialized for what I am
doing and I couldn't see it being worth much to anyone else, and like
the previous poster my employer would not like me sharing it.  We also
license third party backtesting software, but I like programming in R
because of the infinite ability to customize the code (and its
actually faster).

Simple backtesting code is really easy to write,  Its when you try to
write a program that is generic enough to allow anyone to testing
anything they can think of that you drive yourself crazy.  I don't
think anyone can write backtesting software for you, I think its just
something you have to bit the bullet to do yourself.

Although I wouldn't mine seeing anything Patrick Burns has written,
its always a good way to learn.  I liked your book but it seemed
geared mainly to Unix users.

Thanks,

Roger

On 5/22/05, Patrick Burns <patrick@burns-stat.com> wrote:
> I've written backtesting code that uses POP.  It is essentially just a
> for loop that steps through time and implements the strategy at each
> step.  I may put a class on the result so that I can write 'summary'
> and 'plot' methods to view the results more conveniently.
> 
> I would be surprised if there is something that can save substantial
> time over just writing the loop yourself.  But then I'm surprised a lot.
> 
> However the backtest is computed, it seems to me that R is the
> right place for the results to be viewed and analyzed.
> 
> Patrick Burns
> 
> Burns Statistics
> patrick@burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of S Poetry and "A Guide for the Unwilling S User")
> 
> 
> Neuro LeSuperH?ros wrote:
> 
> > Hello,
> >
> > Has anybody ever implemented a trading strategies backtest program on
> > R?  Or succesfully linked R to an existing backtest software? I'd like
> > to know what has been/can be done.
> >
> > Regards,
> >
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> >
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From bbands at gmail.com  Mon May 23 19:18:52 2005
From: bbands at gmail.com (BBands)
Date: Mon May 23 19:19:03 2005
Subject: [R-sig-finance] Backtest trading strategies
In-Reply-To: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
References: <BAY104-F19153B9FE059E7EB85A765AF0A0@phx.gbl>
Message-ID: <6e8360ad050523101870f2ecd4@mail.gmail.com>

On 5/21/05, Neuro LeSuperH?ros <neuro3000@hotmail.com> wrote:
> Has anybody ever implemented a trading strategies backtest program on R?  Or
> succesfully linked R to an existing backtest software? I'd like to know what
> has been/can be done.

This is an area we have explored quite a bit. We took the approach of
using several tools, each for its own strengths. MySQL for data
storage and retrieval, Python for system creation/calculation, R for
results analysis and gnuplot for visual display. This has proved to be
a very powerful nexus and is the thrust of the Crusher project.

Here are the links to the tools we use. All open source!

http://www.python.org/
http://www.gnuplot.info/
http://gnuplot-py.sourceforge.net/
http://www.mysql.com/
http://sourceforge.net/projects/mysql-python
http://www.r-project.org/
http://rpy.sourceforge.net/

    jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.

From neuro3000 at hotmail.com  Mon May 23 19:25:50 2005
From: neuro3000 at hotmail.com (=?iso-8859-1?B?TmV1cm8gTGVTdXBlckjpcm9z?=)
Date: Mon May 23 19:26:01 2005
Subject: [R-sig-finance] Backtest trading strategies
In-Reply-To: <6e8360ad050523101870f2ecd4@mail.gmail.com>
Message-ID: <BAY104-F28892D8506C00BF4C33984AF0C0@phx.gbl>

Hello,

I understand the utility of MySQL for data storage.  But why is Python 
essential?  What does it do that R can't do for system creation/calculation?

Thanks

>From: BBands <bbands@gmail.com>
>Reply-To: BBands <bbands@gmail.com>
>To: Neuro LeSuperH?ros <neuro3000@hotmail.com>, 
>r-sig-finance@stat.math.ethz.ch
>Subject: Re: [R-sig-finance] Backtest trading strategies
>Date: Mon, 23 May 2005 10:18:52 -0700
>
>On 5/21/05, Neuro LeSuperH?ros <neuro3000@hotmail.com> wrote:
> > Has anybody ever implemented a trading strategies backtest program on R? 
>  Or
> > succesfully linked R to an existing backtest software? I'd like to know 
>what
> > has been/can be done.
>
>This is an area we have explored quite a bit. We took the approach of
>using several tools, each for its own strengths. MySQL for data
>storage and retrieval, Python for system creation/calculation, R for
>results analysis and gnuplot for visual display. This has proved to be
>a very powerful nexus and is the thrust of the Crusher project.
>
>Here are the links to the tools we use. All open source!
>
>http://www.python.org/
>http://www.gnuplot.info/
>http://gnuplot-py.sourceforge.net/
>http://www.mysql.com/
>http://sourceforge.net/projects/mysql-python
>http://www.r-project.org/
>http://rpy.sourceforge.net/
>
>     jab
>--
>John Bollinger, CFA, CMT
>www.BollingerBands.com
>
>If you advance far enough, you arrive at the beginning.

From walmir-rodrigues at uol.com.br  Mon May 23 21:15:10 2005
From: walmir-rodrigues at uol.com.br (walmir-rodrigues)
Date: Mon May 23 21:06:18 2005
Subject: [R-sig-finance] Cluster Analisys
Message-ID: <IGYITA$613549F387C4CD33E82DA9ACD94F7AA9@uol.com.br>

Dear All,

How can I proceed to do a cluster analisys, with two or more variables, using R?

Thanks

Walmir Almeida Rodrigues
 
__________________________________________________________________________
UOL Fone: Fale com o Brasil e o Mundo com atÈ 90% de economia.  
http://www.uol.com.br/fone


	[[alternative HTML version deleted]]

From albertofogale at libero.it  Mon May 23 22:54:28 2005
From: albertofogale at libero.it (albertofogale)
Date: Mon May 23 22:53:07 2005
Subject: [R-sig-finance] Re: R-sig-finance Digest, Vol 12, Issue 12
In-Reply-To: <200505231011.j4NAAncx007337@hypatia.math.ethz.ch>
References: <200505231011.j4NAAncx007337@hypatia.math.ethz.ch>
Message-ID: <1116881668.5850.2.camel@linux.site>

Sorry... i really don't sent this to the list.

Il giorno lun, 23-05-2005 alle 12:11 +0200,
r-sig-finance-request@stat.math.ethz.ch ha scritto:
> Message: 3
> Date: Sun, 22 May 2005 21:05:30 +0200
> From: albertofogale <albertofogale@libero.it>
> Subject: [R-sig-finance] Re: R-sig-finance Digest, Vol 12, Issue 11
> To: r-sig-finance@stat.math.ethz.ch
> Message-ID: <1116788730.5368.3.camel@linux.site>
> Content-Type: text/plain
>

From helprhelp at gmail.com  Tue May 24 00:17:24 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Tue May 24 00:17:34 2005
Subject: [R-sig-finance] tick data
In-Reply-To: <BAY104-F28892D8506C00BF4C33984AF0C0@phx.gbl>
References: <6e8360ad050523101870f2ecd4@mail.gmail.com>
	<BAY104-F28892D8506C00BF4C33984AF0C0@phx.gbl>
Message-ID: <cdf817830505231517104aa699@mail.gmail.com>

Hello, 

I am wondering if there is some source which has more than 2 years'
tick-by-tick data for free or cheap.

thanks,

Ed

From ronpicci at yahoo.fr  Tue May 24 03:07:26 2005
From: ronpicci at yahoo.fr (Ron Piccinini)
Date: Tue May 24 03:07:35 2005
Subject: [R-sig-finance] tick data
In-Reply-To: 6667
Message-ID: <20050524010726.93176.qmail@web26410.mail.ukl.yahoo.com>

Tick Data for which asset class? There are brokers and
data providers that offer free trials for 7-30 days,
most of them allow you to download data.... Otherwise
the best data I have come across are from CSI:

Check
www.csidata.com
and 
http://www.tradingsolutions.com/resources/data.html

HTH

Ron.

--- Weiwei Shi <helprhelp@gmail.com> a ?crit:
> Hello, 
> 
> I am wondering if there is some source which has
> more than 2 years'
> tick-by-tick data for free or cheap.
> 
> thanks,
> 
> Ed
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From roger.bos at gmail.com  Tue May 24 16:40:31 2005
From: roger.bos at gmail.com (roger bos)
Date: Tue May 24 16:40:40 2005
Subject: [R-sig-finance] Cluster Analisys
In-Reply-To: <IGYITA$613549F387C4CD33E82DA9ACD94F7AA9@uol.com.br>
References: <IGYITA$613549F387C4CD33E82DA9ACD94F7AA9@uol.com.br>
Message-ID: <1db7268005052407404123fa97@mail.gmail.com>

see ?kmeans

HTH,

Roger


On 5/23/05, walmir-rodrigues <walmir-rodrigues@uol.com.br> wrote:
> Dear All,
> 
> How can I proceed to do a cluster analisys, with two or more variables, using R?
> 
> Thanks
> 
> Walmir Almeida Rodrigues
> 
> __________________________________________________________________________
> UOL Fone: Fale com o Brasil e o Mundo com at? 90% de economia.
> http://www.uol.com.br/fone
> 
> 
>        [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From helprhelp at gmail.com  Tue May 24 17:07:20 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Tue May 24 17:07:30 2005
Subject: [R-sig-finance] tick data
In-Reply-To: <20050524010726.93176.qmail@web26410.mail.ukl.yahoo.com>
References: <20050524010726.93176.qmail@web26410.mail.ukl.yahoo.com>
Message-ID: <cdf8178305052408071b78fb0f@mail.gmail.com>

thanks.
You mentioned there are some brokers and data providers who provide
free data to download. Do you mean the historical data, like more than
2 years, that can be downloaded? If so, that will be great and I am
wondering if you can give me some links for those brokers and data
providers.

I am a newbie for finance, so I don't understand what you meant by
Tick Data for which asset class (I mean, assset class, i don't know).

Please be advised!

Thanks again.

Weiwei

On 5/23/05, Ron Piccinini <ronpicci@yahoo.fr> wrote:
> Tick Data for which asset class? There are brokers and
> data providers that offer free trials for 7-30 days,
> most of them allow you to download data.... Otherwise
> the best data I have come across are from CSI:
> 
> Check
> www.csidata.com
> and
> http://www.tradingsolutions.com/resources/data.html
> 
> HTH
> 
> Ron.
> 
> --- Weiwei Shi <helprhelp@gmail.com> a ?crit:
> > Hello,
> >
> > I am wondering if there is some source which has
> > more than 2 years'
> > tick-by-tick data for free or cheap.
> >
> > thanks,
> >
> > Ed
> >
> > _______________________________________________
> > R-sig-finance@stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> 
> 
> 
> 
> 
> _____________________________________________________________________________
> D?couvrez le nouveau Yahoo! Mail : 1 Go d'espace de stockage pour vos mails, photos et vid?os !
> Cr?ez votre Yahoo! Mail sur http://fr.mail.yahoo.com
> 


-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III

From jeff at kanecap.com  Fri May 27 18:15:59 2005
From: jeff at kanecap.com (Jeff Enos)
Date: Fri May 27 18:16:12 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
Message-ID: <17047.18367.608152.546677@gargle.gargle.HOWL>

R-sig-finance,

I have a vector of expected returns and a covariance matrix and would
like to perform mean-variance portfolio optimization with the
constraint that the portfolio be long-short balanced, that is,
sum(weights) == 0.

It doesn't look like portfolio.optim in the tseries package supports
this constraint -- has anyone already solved this problem somewhere
I've missed?

Thanks,

Jeff


-- 
Jeff Enos
Kane Capital Management
jeff@kanecap.com

From patrick at burns-stat.com  Fri May 27 19:11:32 2005
From: patrick at burns-stat.com (Patrick Burns)
Date: Fri May 27 19:12:08 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
In-Reply-To: <17047.18367.608152.546677@gargle.gargle.HOWL>
References: <17047.18367.608152.546677@gargle.gargle.HOWL>
Message-ID: <429754C4.8030001@burns-stat.com>

If you are willing to pay money for the software, POP can do that.

Patrick Burns

Burns Statistics
patrick@burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

Jeff Enos wrote:

>R-sig-finance,
>
>I have a vector of expected returns and a covariance matrix and would
>like to perform mean-variance portfolio optimization with the
>constraint that the portfolio be long-short balanced, that is,
>sum(weights) == 0.
>
>It doesn't look like portfolio.optim in the tseries package supports
>this constraint -- has anyone already solved this problem somewhere
>I've missed?
>
>Thanks,
>
>Jeff
>
>
>  
>

From roger.bos at gmail.com  Fri May 27 19:23:48 2005
From: roger.bos at gmail.com (roger bos)
Date: Fri May 27 19:23:57 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
In-Reply-To: <429754C4.8030001@burns-stat.com>
References: <17047.18367.608152.546677@gargle.gargle.HOWL>
	<429754C4.8030001@burns-stat.com>
Message-ID: <1db726800505271023478b526a@mail.gmail.com>

Jeff,

I should add the caveat that I have not actually tried this out and I
hope Patrick or someone else will let us know if my solution does not
work.

Thanks,

Roger


On 5/27/05, Patrick Burns <patrick@burns-stat.com> wrote:
> If you are willing to pay money for the software, POP can do that.
> 
> Patrick Burns
> 
> Burns Statistics
> patrick@burns-stat.com
> +44 (0)20 8525 0696
> http://www.burns-stat.com
> (home of S Poetry and "A Guide for the Unwilling S User")
> 
> Jeff Enos wrote:
> 
> >R-sig-finance,
> >
> >I have a vector of expected returns and a covariance matrix and would
> >like to perform mean-variance portfolio optimization with the
> >constraint that the portfolio be long-short balanced, that is,
> >sum(weights) == 0.
> >
> >It doesn't look like portfolio.optim in the tseries package supports
> >this constraint -- has anyone already solved this problem somewhere
> >I've missed?
> >
> >Thanks,
> >
> >Jeff
> >
> >
> >
> >
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From jeff at kanecap.com  Fri May 27 23:43:41 2005
From: jeff at kanecap.com (Jeff Enos)
Date: Fri May 27 23:43:51 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
In-Reply-To: <1db726800505271023478b526a@mail.gmail.com>
References: <17047.18367.608152.546677@gargle.gargle.HOWL>
	<429754C4.8030001@burns-stat.com>
	<1db726800505271023478b526a@mail.gmail.com>
Message-ID: <17047.38029.339890.41896@gargle.gargle.HOWL>

Thanks for all the responses to my question -- I've summarized
suggestions below.

1. Thanks to Brendan McMahon and Patrick Burns for pointing me toward
POP at www.burns-stat.com.

2. Hannu Kahra suggests looking at Bernd Scherer's book "Portfolio
Construction and Risk Budgeting" which frames the issue from a
benchmark-relative optimization/tracking error perspective.

3. Roger Bos suggests editing portfolio.optim, replacing the first
element of b0 with 0 to reflect the equality constraint sum(weights)
== 0 before passing along to solve.QP; I assume he means in the risky
lending/borrowing case.

This is an attractive solution, but I haven't been able to prove to
myself yet that it's correct.

4. Robert McGehee provides a different approach altogether:

"My solution to adding net exposure constraints (such as sum(weights)
== 0) was to add a security called "cash" with an alpha of the
risk-free rate (or 0) and no covariance with my other securities. I
then would put an upper and lower bound on the cash holdings, which
works out the same as an upper and lower bound on net exposure, since
being net long is the same as selling cash for stock and being net
short is the same as buying cash for stock. That is, if we don't allow
cash to change, then we can't be net long or short."

Is this solution achievable by merely adding two additional inequality
constraints (and the additional asset) to the standard quadratic
program in portfolio.optim?

Again, thanks for these responses and any further insight and
clarification.

Jeff




On 5/27/05, Jeff Enos <jeff@kanecap.com> wrote:
> R-sig-finance,
> 
> I have a vector of expected returns and a covariance matrix and would
> like to perform mean-variance portfolio optimization with the
> constraint that the portfolio be long-short balanced, that is,
> sum(weights) == 0.
> 
> It doesn't look like portfolio.optim in the tseries package supports
> this constraint -- has anyone already solved this problem somewhere
> I've missed?
> 
> Thanks,
> 
> Jeff

From helprhelp at gmail.com  Sat May 28 00:02:55 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Sat May 28 00:03:02 2005
Subject: [R-sig-finance] reference & book
Message-ID: <cdf8178305052715024413af54@mail.gmail.com>

Hi, 
I am wondering if there is a kind of tutorial or book on applied
statistics in the field of stock market analysis. I need some domain
knowledge too.

thanks for providing linky or name of book.

-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III

From hannu.kahra at mpsgr.it  Fri May 27 18:39:07 2005
From: hannu.kahra at mpsgr.it (KAHRA HANNU)
Date: Sat May 28 01:14:35 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
Message-ID: <FFAAD1A807317540A06142D8CD168E9D54BB78@se000010010038.servinternet.local>

Jeff,

See Bernd Scherer's book "Portfolio Construction and Risk Budgeting"
http://books.global-investor.com/books/20526.htm?ginPtrCode=00000&identifier=ed046b089287e2d975ea91dd0fd89aa4.

It seems that 6. Benchmark-Relative Optimization provides the answer. I have written a code for that but I do not have the code and the book with be right now.

The optimization provides the overweights and underweights wrt a benchmark portfolio such that the weights sum to zero.

Regards,

Hannu Kahra 
Progetti Speciali 
Monte Paschi Asset Management SGR S.p.A. 
Via San Vittore, 37
IT-20123 Milano, Italia 

Tel.: +39 02 43828 754 
Mobile: +39 333 876 1558 
Fax: +39 02 43828 247 
E-mail: hannu.kahra@mpsgr.it 
Web: www.mpsam.it 



-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch
[mailto:r-sig-finance-bounces@stat.math.ethz.ch]On Behalf Of Jeff Enos
Sent: Friday, May 27, 2005 6:16 PM
To: r-sig-finance@stat.math.ethz.ch
Subject: [R-sig-finance] Long-short balanced portfolio optimization


R-sig-finance,

I have a vector of expected returns and a covariance matrix and would
like to perform mean-variance portfolio optimization with the
constraint that the portfolio be long-short balanced, that is,
sum(weights) == 0.

It doesn't look like portfolio.optim in the tseries package supports
this constraint -- has anyone already solved this problem somewhere
I've missed?

Thanks,

Jeff


-- 
Jeff Enos
Kane Capital Management
jeff@kanecap.com

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From hannu.kahra at mpsgr.it  Tue May 31 10:57:09 2005
From: hannu.kahra at mpsgr.it (KAHRA HANNU)
Date: Tue May 31 10:57:21 2005
Subject: [R-sig-finance] Long-short balanced portfolio optimization
Message-ID: <FFAAD1A807317540A06142D8CD168E9D54BB7C@se000010010038.servinternet.local>

Jeff,

here is the code I mentioned on Friday. The example is taken from Scherer's book. For some reason, I do not get exactly the same solution.

> benchmark.relative.portfolio <- function(lamda,covmat,returns)
+ {
+     n <- dim(covmat) [2]
+     U <- rep(1,n)
+     return(lamda*solve(covmat)%*%(returns-U%*%solve(t(U)%*%solve(covmat)%*%U)%*%t(U)%*%solve(covmat)%*%returns))
+ }
> 
> omega <- c(0.04,0.0252,0.0036,0.0024,0.0025,0.0441,0.0038,0.0025,0.0036,0.0038,0.0036,0.0014,0.0024,0.0025,0.0014,0.0016)
> omega <- matrix(omega,nrow=4,ncol=4,byrow=T)
> mu <- c(4,3,2,1)
> 
> 
> w <- benchmark.relative.portfolio(1,omega,mu/100)
> w
           [,1]
[1,]  0.4582752
[2,]  0.3651081
[3,]  3.6711469
[4,] -4.4945302
> sum(w)
[1] -1.110223e-15

This is in fact tracking error optimisation. The TE optimisation is obtained as a special case of the general mean-variance optimisation by applying utility maximization and by fixing the values of the linear constraints Aw = b. In the solution A = 1' and b = 0. The solution applies self-financing constraints such that the over- and underweights sum to zero. Lamda is a measure of risk tolerance ("aggressiveness") that scales the optimal weights up or down. Note that we do not need any information on the benchmark portfolio when applying the optimizer.

Regards, 

Hannu Kahra 
Progetti Speciali 
Monte Paschi Asset Management SGR S.p.A. 
Via San Vittore, 37
IT-20123 Milano, Italia 

Tel.: +39 02 43828 754 
Mobile: +39 333 876 1558 
Fax: +39 02 43828 247 
E-mail: hannu.kahra@mpsgr.it 
Web: www.mpsam.it 



-----Original Message-----
From: r-sig-finance-bounces@stat.math.ethz.ch
[mailto:r-sig-finance-bounces@stat.math.ethz.ch]On Behalf Of Jeff Enos
Sent: Friday, May 27, 2005 11:44 PM
To: roger bos
Cc: r-sig-finance@stat.math.ethz.ch
Subject: Re: [R-sig-finance] Long-short balanced portfolio optimization


Thanks for all the responses to my question -- I've summarized
suggestions below.

1. Thanks to Brendan McMahon and Patrick Burns for pointing me toward
POP at www.burns-stat.com.

2. Hannu Kahra suggests looking at Bernd Scherer's book "Portfolio
Construction and Risk Budgeting" which frames the issue from a
benchmark-relative optimization/tracking error perspective.

3. Roger Bos suggests editing portfolio.optim, replacing the first
element of b0 with 0 to reflect the equality constraint sum(weights)
== 0 before passing along to solve.QP; I assume he means in the risky
lending/borrowing case.

This is an attractive solution, but I haven't been able to prove to
myself yet that it's correct.

4. Robert McGehee provides a different approach altogether:

"My solution to adding net exposure constraints (such as sum(weights)
== 0) was to add a security called "cash" with an alpha of the
risk-free rate (or 0) and no covariance with my other securities. I
then would put an upper and lower bound on the cash holdings, which
works out the same as an upper and lower bound on net exposure, since
being net long is the same as selling cash for stock and being net
short is the same as buying cash for stock. That is, if we don't allow
cash to change, then we can't be net long or short."

Is this solution achievable by merely adding two additional inequality
constraints (and the additional asset) to the standard quadratic
program in portfolio.optim?

Again, thanks for these responses and any further insight and
clarification.

Jeff




On 5/27/05, Jeff Enos <jeff@kanecap.com> wrote:
> R-sig-finance,
> 
> I have a vector of expected returns and a covariance matrix and would
> like to perform mean-variance portfolio optimization with the
> constraint that the portfolio be long-short balanced, that is,
> sum(weights) == 0.
> 
> It doesn't look like portfolio.optim in the tseries package supports
> this constraint -- has anyone already solved this problem somewhere
> I've missed?
> 
> Thanks,
> 
> Jeff

_______________________________________________
R-sig-finance@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From tolga.uzuner at csfb.com  Tue May 31 11:12:47 2005
From: tolga.uzuner at csfb.com (Uzuner, Tolga)
Date: Tue May 31 11:13:08 2005
Subject: [R-sig-finance] Granger Causality
Message-ID: <BDF571786CAD224F966FEB86BEDED52F1433DCF8@elon12p32001.csfp.co.uk>

This was asked sometime back. Here is a rudimentary implementation, hope
helps.

granger <-function(d, L, k = 1) 
{
#d is a bivariate time-series:  regress d[,k] on L lags of d[,1] and d[,2].
#This is a modified version for R, in which the command ts.matrix was
substituted by ts.intersect.
names.d <- dimnames(d)[[2]]
D <- d
for(i in 1:L) 
{
D <-ts.intersect(D, lag(d,  - i))
}
dimnames(D)[[2]] <- paste(rep(names.d, L + 1), "_", rep(0:L, times = rep(2, L
+ 1)), sep = "")
y  <- D[, k]
n  <- length(y)
x1 <- D[,  - (1:2)]
x0 <- x1[, ((1:L) * 2) - (k %% 2)]
z1 <- lm(y ~ x1)
z0 <- lm(y ~ x0)
S1 <- sum(z1$resid^2)
S0 <- sum(z0$resid^2)
ftest <- ((S0 - S1)/L)/(S1/(n - 2 * L - 1))
list(ftest = ftest, p.val = 1 - pf(ftest, L, n - 2 * L - 1), R2 =
summary(z1)$r.squared)
}

gr<-function(d,L) 
# this loops grangers' p.val for L days, 
{
	m<-matrix(nrow=L)
	for(i in 1:L)
	{
		m[i]<-granger(d,i)$p.val-granger(array(c(d[,2],d[,1]),dim(d)),i)$p.val
	}
	m
}


==============================================================================
This message is for the sole use of the intended recipient. ...{{dropped}}

From tolga.uzuner at csfb.com  Tue May 31 11:14:57 2005
From: tolga.uzuner at csfb.com (Uzuner, Tolga)
Date: Tue May 31 11:15:13 2005
Subject: [R-sig-finance] Monte Carlo for Stochastic Vol models in R
Message-ID: <BDF571786CAD224F966FEB86BEDED52F1433DCF9@elon12p32001.csfp.co.uk>

Has anyone implemented a Monte Carlo engine for a stochastic vol model in R ?

I am guessing the MC engine in Rmetrics would not do as it is 1 factor.

Preferably SABR but any, like Heston, would do.

Thanks,
Tolga


==============================================================================
This message is for the sole use of the intended recipient. ...{{dropped}}

From Achim.Zeileis at wu-wien.ac.at  Wed Jun  1 10:26:07 2005
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Wed Jun  1 10:46:35 2005
Subject: [R-sig-finance] Granger Causality
In-Reply-To: <BDF571786CAD224F966FEB86BEDED52F1433DCF8@elon12p32001.csfp.co.uk>
References: <BDF571786CAD224F966FEB86BEDED52F1433DCF8@elon12p32001.csfp.co.uk>
Message-ID: <20050601102607.31b4591a.Achim.Zeileis@wu-wien.ac.at>

On Tue, 31 May 2005 10:12:47 +0100 Uzuner, Tolga wrote:

> This was asked sometime back. Here is a rudimentary implementation,
> hope helps.

Tolga, thanks for code, but I think the question was about testing
Granger causality between two multivariate series...

However, I also had written some code for testing for Granger causality
between two univariate series as well which I have now committed to
CRAN. It is a bit more flexible in the specification of the series and
supports some more time series formats. It also leverages waldtest()
which allows for asymptotic tests etc.. It is contained in version
0.9-12 of the lmtest package which is available from the CRAN master
site and should propagate to the mirrors in the next days. See
  ?grangertest
for an example. This uses a very entertaining data set (provided to
me by Roger Koenker) which answers the question "What came first: the
chicken or the egg?". :-)

Best,
Z

 
> granger <-function(d, L, k = 1) 
> {
> #d is a bivariate time-series:  regress d[,k] on L lags of d[,1] and
> #d[,2]. This is a modified version for R, in which the command
> #ts.matrix was
> substituted by ts.intersect.
> names.d <- dimnames(d)[[2]]
> D <- d
> for(i in 1:L) 
> {
> D <-ts.intersect(D, lag(d,  - i))
> }
> dimnames(D)[[2]] <- paste(rep(names.d, L + 1), "_", rep(0:L, times =
> rep(2, L+ 1)), sep = "")
> y  <- D[, k]
> n  <- length(y)
> x1 <- D[,  - (1:2)]
> x0 <- x1[, ((1:L) * 2) - (k %% 2)]
> z1 <- lm(y ~ x1)
> z0 <- lm(y ~ x0)
> S1 <- sum(z1$resid^2)
> S0 <- sum(z0$resid^2)
> ftest <- ((S0 - S1)/L)/(S1/(n - 2 * L - 1))
> list(ftest = ftest, p.val = 1 - pf(ftest, L, n - 2 * L - 1), R2 =
> summary(z1)$r.squared)
> }
> 
> gr<-function(d,L) 
> # this loops grangers' p.val for L days, 
> {
> 	m<-matrix(nrow=L)
> 	for(i in 1:L)
> 	{
> 		m[i]<-granger(d,i)$p.val-granger(array(c(d[,2],d[,1]),dim(d)),
> 		i)$p.val
> 	}
> 	m
> }
> 
> 
> =====================================================================
> ========= This message is for the sole use of the intended recipient.
> ...{{dropped}}
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

From helprhelp at gmail.com  Wed Jun  1 17:50:53 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Wed Jun  1 17:51:03 2005
Subject: [R-sig-finance] help: reference & book
In-Reply-To: <cdf8178305052715024413af54@mail.gmail.com>
References: <cdf8178305052715024413af54@mail.gmail.com>
Message-ID: <cdf8178305060108505c815a59@mail.gmail.com>

Hi, listers:
I am really in need for some good books on financial market analysis,
better with R. Can anyone help?
Thanks.

weiwei

From helprhelp at gmail.com  Wed Jun  1 18:46:08 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Wed Jun  1 18:46:18 2005
Subject: [R-sig-finance] Re: help: reference & book
In-Reply-To: <cdf8178305060108505c815a59@mail.gmail.com>
References: <cdf8178305052715024413af54@mail.gmail.com>
	<cdf8178305060108505c815a59@mail.gmail.com>
Message-ID: <cdf8178305060109465297a10a@mail.gmail.com>

I am interested in stock market. My model is built on s/p500.

Sorry for the uncleaness.

weiwei

On 6/1/05, Weiwei Shi <helprhelp@gmail.com> wrote:
> Hi, listers:
> I am really in need for some good books on financial market analysis,
> better with R. Can anyone help?
> Thanks.
> 
> weiwei
> 


-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III

From roger.bos at gmail.com  Wed Jun  1 19:06:02 2005
From: roger.bos at gmail.com (roger bos)
Date: Wed Jun  1 19:06:14 2005
Subject: [R-sig-finance] Re: [R] Re: help: reference & book
In-Reply-To: <cdf8178305060109465297a10a@mail.gmail.com>
References: <cdf8178305052715024413af54@mail.gmail.com>
	<cdf8178305060108505c815a59@mail.gmail.com>
	<cdf8178305060109465297a10a@mail.gmail.com>
Message-ID: <1db7268005060110061e7c1e9@mail.gmail.com>

Your question is kind of broad, but two books I like are "Statistical
Analysis of Financial Data in S-Plus" by Rene A. Carmona (Springer)
and "Modeling Financial Time Series With S-Plus" by Eric Zivot and
Jiahue Wang.  The last one is an Insightful publication and is
basically the user's guide for their S+Finmetrics product, but even
w/o Finmetrics its a worthwhile read.

HTH,

Roger


On 6/1/05, Weiwei Shi <helprhelp@gmail.com> wrote:
> I am interested in stock market. My model is built on s/p500.
> 
> Sorry for the uncleaness.
> 
> weiwei
> 
> On 6/1/05, Weiwei Shi <helprhelp@gmail.com> wrote:
> > Hi, listers:
> > I am really in need for some good books on financial market analysis,
> > better with R. Can anyone help?
> > Thanks.
> >
> > weiwei
> >
> 
> 
> --
> Weiwei Shi, Ph.D
> 
> "Did you always know?"
> "No, I did not. But I believed..."
> ---Matrix III
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html
>

From sanjun.chen at gmail.com  Thu Jun  2 06:04:35 2005
From: sanjun.chen at gmail.com (Sanjun Chen)
Date: Thu Jun  2 06:04:50 2005
Subject: [R-sig-finance] getReturns in fMultivar
Message-ID: <1af460ea05060121043198b287@mail.gmail.com>

Hi,
I got the following message when I used the getReturns in the
fMultivar package. (it worked fine in previous version of fSeries).

>         data(EuStockMarkets)
>         dax = log(EuStockMarkets[, "DAX"])
>         plot(getReturns(dax))
Error in ans[-1, ] : incorrect number of dimensions


Appreciate any help.

Thanks.

Sanjun Chen

From manojsw at gmail.com  Thu Jun  2 06:38:12 2005
From: manojsw at gmail.com (ManojW)
Date: Thu Jun  2 06:38:28 2005
Subject: [R-sig-finance] getReturns in fMultivar
References: <1af460ea05060121043198b287@mail.gmail.com>
Message-ID: <001201c5672c$e64bb3b0$6900a8c0@HCJP.COM>

A quick debug of getReturns reveal that the function returnSeries has some
"issues"  handling vector data. As a stop gap arrangement, you can try to
invoke getReturns by casting the data as a timeSeries obejct.

Hope that helps.

Manoj


----- Original Message ----- 
From: "Sanjun Chen" <sanjun.chen@gmail.com>
To: <r-sig-finance@stat.math.ethz.ch>
Sent: Thursday, June 02, 2005 1:04 PM
Subject: [R-sig-finance] getReturns in fMultivar


> Hi,
> I got the following message when I used the getReturns in the
> fMultivar package. (it worked fine in previous version of fSeries).
>
> >         data(EuStockMarkets)
> >         dax = log(EuStockMarkets[, "DAX"])
> >         plot(getReturns(dax))
> Error in ans[-1, ] : incorrect number of dimensions
>
>
> Appreciate any help.
>
> Thanks.
>
> Sanjun Chen
>
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance

From wuertz at itp.phys.ethz.ch  Thu Jun  2 09:03:00 2005
From: wuertz at itp.phys.ethz.ch (Diethelm Wuertz)
Date: Thu Jun  2 09:03:12 2005
Subject: [R-sig-finance] getReturns in fMultivar
In-Reply-To: <001201c5672c$e64bb3b0$6900a8c0@HCJP.COM>
References: <1af460ea05060121043198b287@mail.gmail.com>
	<001201c5672c$e64bb3b0$6900a8c0@HCJP.COM>
Message-ID: <429EAF24.5060005@itp.phys.ethz.ch>

As pointed out by ManojW, getReturns expects a S4 timeSeries object as 
input.

Try:
 > data(EuStockMarkets)
 > dim(EuStockMarkets)
[1] 1860    4
 > attr(EuStockMarkets, "tsp")
[1] 1991.496 1998.646  260.000
 > class(EuStockMarkets)
[1] "mts" "ts"

EuStockMarkets is a S3 mts/ts object which has no time positions as a
S4 timeSeries object does. Only start, end, and frequency are available.
So you have to re-construct the dates from the  EuStockMarkets object,
and convert EuStockMarkets to a  timeSeries object to use it together
with the functions getReturns or with returnSeries.

To plot ts and mts time series object inspect the help of the functions
plot.sts and ts.plot.

DW





ManojW wrote:

>A quick debug of getReturns reveal that the function returnSeries has some
>"issues"  handling vector data. As a stop gap arrangement, you can try to
>invoke getReturns by casting the data as a timeSeries obejct.
>
>Hope that helps.
>
>Manoj
>
>
>----- Original Message ----- 
>From: "Sanjun Chen" <sanjun.chen@gmail.com>
>To: <r-sig-finance@stat.math.ethz.ch>
>Sent: Thursday, June 02, 2005 1:04 PM
>Subject: [R-sig-finance] getReturns in fMultivar
>
>
>  
>
>>Hi,
>>I got the following message when I used the getReturns in the
>>fMultivar package. (it worked fine in previous version of fSeries).
>>
>>    
>>
>>>        data(EuStockMarkets)
>>>        dax = log(EuStockMarkets[, "DAX"])
>>>        plot(getReturns(dax))
>>>      
>>>
>>Error in ans[-1, ] : incorrect number of dimensions
>>
>>
>>Appreciate any help.
>>
>>Thanks.
>>
>>Sanjun Chen
>>
>>_______________________________________________
>>R-sig-finance@stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>    
>>
>
>_______________________________________________
>R-sig-finance@stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>  
>

From enrique.bengoechea at credit-suisse.com  Thu Jun  2 12:45:08 2005
From: enrique.bengoechea at credit-suisse.com (Enrique Bengoechea)
Date: Thu Jun  2 12:46:23 2005
Subject: [R-sig-finance] help: reference & book
Message-ID: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>





For a good non-R specific book, I always recommend Carol Alexander's "Market Models: A Guide to Financial Data Analysis", John Wiley & Sons. It's much better than the two R-specific ones *if you're new to the topic*.

Enrique

From helprhelp at gmail.com  Thu Jun  2 16:43:20 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Thu Jun  2 16:43:28 2005
Subject: [R-sig-finance] help: reference & book
In-Reply-To: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
References: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
Message-ID: <cdf8178305060207434487551d@mail.gmail.com>

Thank you so much for everyone's replies. I hope I can read all if my
wallet allows me :)

Weiwei

On 6/2/05, Enrique Bengoechea <enrique.bengoechea@credit-suisse.com> wrote:
> 
> 
> 
> 
> For a good non-R specific book, I always recommend Carol Alexander's "Market Models: A Guide to Financial Data Analysis", John Wiley & Sons. It's much better than the two R-specific ones *if you're new to the topic*.
> 
> Enrique
> 
> _______________________________________________
> R-sig-finance@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 


-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III

From flatman at swing.be  Thu Jun  2 18:09:17 2005
From: flatman at swing.be (Flatman)
Date: Thu Jun  2 18:09:32 2005
Subject: [R-sig-finance] help: reference & book
In-Reply-To: <cdf8178305060207434487551d@mail.gmail.com> (Weiwei Shi's message
	of "Thu, 2 Jun 2005 09:43:20 -0500")
References: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
	<cdf8178305060207434487551d@mail.gmail.com>
Message-ID: <m2fyw0viz6.fsf@flatsoft.no-ip.info>

Weiwei Shi <helprhelp@gmail.com> writes:

> Thank you so much for everyone's replies. I hope I can read all if my
> wallet allows me :)
>



Would you mind sending a list of all the books that were mentioned to you ?
I lost some posts ...


Thanks
Erik

From helprhelp at gmail.com  Thu Jun  2 20:18:48 2005
From: helprhelp at gmail.com (Weiwei Shi)
Date: Thu Jun  2 20:18:58 2005
Subject: [R-sig-finance] help: reference & book
In-Reply-To: <m2fyw0viz6.fsf@flatsoft.no-ip.info>
References: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
	<cdf8178305060207434487551d@mail.gmail.com>
	<m2fyw0viz6.fsf@flatsoft.no-ip.info>
Message-ID: <cdf817830506021118522f8808@mail.gmail.com>

Here you go:

<start>
Your question is kind of broad, but two books I like are "Statistical
Analysis of Financial Data in S-Plus" by Rene A. Carmona (Springer)
and "Modeling Financial Time Series With S-Plus" by Eric Zivot and
Jiahue Wang.  The last one is an Insightful publication and is
basically the user's guide for their S+Finmetrics product, but even
w/o Finmetrics its a worthwhile read.

HTH,

Roger


The book  depends on your model. for example , if you are interested
in modelling technical analysis you can refer to this book:
 
Technical Analysis of the Financial Markets: A Comprehensive Guide to
Trading Methods and Applications
by John J. Murphy
 
Technical Analysis of Stock Trends, 8th Edition
by Robert D. Edwards, John Magee, W. H. C. Bassetti (Editor)
 
if you are interested in fundamental analysis you could refer to this one:
A Complete Guide to the Futures Markets : Fundamental Analysis,
Technical Analysis, Trading, Spreads, and Options
by Jack D. Schwager
 
 if you are interested in agent based models you could refer to for
example Santa Fe models in this page:
http://ideas.repec.org/p/bfe/wpsbfi/wpa2004.html
 
 
Amir
 
What kind of model is that? If you want to measure its volatility, maybe
you should try Engle's "ARCH selected readings" and in addition to that
documentation of rmetrics available at rmetrics.org.

Best regards,
Wojtek

For a good non-R specific book, I always recommend Carol Alexander's
"Market Models: A Guide to Financial Data Analysis", John Wiley &
Sons. It's much better than the two R-specific ones *if you're new to
the topic*.

Enrique

<end>

On 6/2/05, Flatman <flatman@swing.be> wrote:
> Weiwei Shi <helprhelp@gmail.com> writes:
> 
> > Thank you so much for everyone's replies. I hope I can read all if my
> > wallet allows me :)
> >
> 
> 
> 
> Would you mind sending a list of all the books that were mentioned to you ?
> I lost some posts ...
> 
> 
> Thanks
> Erik
> 


-- 
Weiwei Shi, Ph.D

"Did you always know?"
"No, I did not. But I believed..."
---Matrix III

From flatman at swing.be  Thu Jun  2 22:41:17 2005
From: flatman at swing.be (Flatman)
Date: Thu Jun  2 22:41:31 2005
Subject: [R-sig-finance] help: reference & book
In-Reply-To: <cdf817830506021118522f8808@mail.gmail.com> (Weiwei Shi's message
	of "Thu, 2 Jun 2005 13:18:48 -0500")
References: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
	<cdf8178305060207434487551d@mail.gmail.com>
	<m2fyw0viz6.fsf@flatsoft.no-ip.info>
	<cdf817830506021118522f8808@mail.gmail.com>
Message-ID: <m21x7k5w5u.fsf@flatsoft.no-ip.info>

Weiwei Shi <helprhelp@gmail.com> writes:

> Here you go:
>
> <start>
> Your question is kind of broad, but two books I like are "Statistical
> Analysis of Financial Data in S-Plus" by Rene A. Carmona (Springer)
> and "Modeling Financial Time Series With S-Plus" by Eric Zivot and
> Jiahue Wang.  The last one is an Insightful publication and is
> basically the user's guide for their S+Finmetrics product, but even
> w/o Finmetrics its a worthwhile read.
>

<snip>

Aren't there any freely available tutorials on the web ?

Thanks
Erik

From edd at debian.org  Thu Jun  2 20:00:53 2005
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri Jun  3 02:54:32 2005
Subject: [R-sig-finance] [OT] reference & book
References: <OFF5805335.6CFE9129-ONC1257014.003ABB21@credit-suisse.com>
	<cdf8178305060207434487551d@mail.gmail.com>
	<m2fyw0viz6.fsf@flatsoft.no-ip.info>
Message-ID: <loom.20050602T195632-335@post.gmane.org>

Flatman <flatman <at> swing.be> writes:
> Would you mind sending a list of all the books that were mentioned to you ?
> I lost some posts ...

While I wouldn't want to discourage summary posting backs to the list -- quite 
the contrary -- you should note that this list itself is archived in several 
places as e.g. http://news.gmane.org/gmane.comp.lang.r.finance

Also, I realized this morning that the very detailed list Fernando compiled over
at Quantlib.org may be of interest to some:  http://www.quantlib.org/books.shtml

Regards,  Dirk

From hannu.kahra at mpsgr.it  Fri Jun  3 15:21:55 2005
From: hannu.kahra at mpsgr.it (KAHRA HANNU)
Date: Fri Jun  3 15:22:05 2005
Subject: [R-sig-finance] RE: [R] help: reference & book
Message-ID: <FFAAD1A807317540A06142D8CD168E9D54BB90@se000010010038.servinternet.local>

A brief look at my library reveals that I have at least the following books on financial econometrics:

Walter Enders: Applied Econometric Time Series (contains RATS code)
John Y. Campbell - Andrew W. Lo - Craig MacKinlay: The Econometrics of Financial Markets
James D. Hamilton: Time Series Analysis
Ruey Tsay: Analysis of Financial Time Series (contains RATS code)
Terence C. Mills: The Econometric Modelling of Financial Time Series
Keith Cuthbertson - Dirk Nitzsche: Quantitative Financial Economics - Stocks, Bonds and Foreign Exchange
Eric Zivot - Jiahui Wang: Modeling Financial Time Series with S-Plus
Christian Gourieroux - Joann Jasiak: Financial Econometrics - Problems, Models, and Methods
Carol Alexander: Market Models - A Guide to Financial Data Analysis
 
These books are quite general. Furthermore, there are books on special topics: GARCH, stochastic volatility, Levy processes, high-frequency data, etc.

Hannu Kahra 
Progetti Speciali 
Monte Paschi Asset Management SGR S.p.A. 
Via San Vittore, 37
IT-20123 Milano, Italia 

Tel.: +39 02 43828 754 
Mobile: +39 333 876 1558 
Fax: +39 02 43828 247 
E-mail: hannu.kahra@mpsgr.it 
Web: www.mpsam.it 



-----Original Message-----
From: r-help-bounces@stat.math.ethz.ch
[mailto:r-help-bounces@stat.math.ethz.ch]On Behalf Of Weiwei Shi
Sent: Wednesday, June 01, 2005 5:51 PM
To: R-sig-finance@stat.math.ethz.ch
Cc: R-help@stat.math.ethz.ch
Subject: [R] help: reference & book


Hi, listers:
I am really in need for some good books on financial market analysis,
better with R. Can anyone help?
Thanks.

weiwei

______________________________________________
R-help@stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html

From L.Isella at myrealbox.com  Mon Jun 20 15:46:16 2005
From: L.Isella at myrealbox.com (L.Isella)
Date: Mon, 20 Jun 2005 13:46:16 +0000
Subject: [R-sig-finance] fPortfolio
Message-ID: <1119275176.61e79bcL.Isella@myrealbox.com>

Dear All,
I have just started learning R and I am interested in using it for financial applications.
I am not running the latest release of R and my OS is Ubuntu Linux (almost equal to Debian as far as R is concerned).
I installed some extra packages to run fPortfolio.
I may have made some mistake as when I enter library() I get the warning: 
Warning message: 
library '/usr/local/lib/R/site-library' contains no package in: library() 

anyway, the fPortfolio library seems to load regularly; the output of library(fPortfolio) does not produce any warnings but only a list of masked packages.
Then, as a simple test, I form a simple matrix myport containing 3 assets each with a few return values:

myport
    V1    V2    V3
1 0.04 0.020 0.060
2 0.01 0.060 0.059
3 0.09 0.014 0.058
4 0.02 0.017 0.062
5 0.06 0.019 0.063

Now if I try working out the composition of a portfolio without short selling I do not get a positive answer for certain expected returns e.g.:

> myPortfolio = portfolioMarkowitz(myport, targetReturn = 0.01, title = null, description = null)
Error in .solve.QP(covmat, dvec, Amat, bvec = b0, meq = 2) : 
	constraints are inconsistent, no solution!

but what bothers me is this error message I get when I choose another expected return:


> myPortfolio = portfolioMarkowitz(myport, targetReturn = 0.03, title = null, description = null)
Error in portfolioMarkowitz(myport, targetReturn = 0.03, title = null,  : 
	Object "pfolio" not found

As I wrote, I am still pretty new to R, so I do not know exactly how to deal with it, but it seems to me that I followed closely the example in the fPortfolio documentation, so I do not understand what is going wrong.
Best Regards
Lorenzo


From r.vaiciunas at takas.lt  Mon Jun 20 18:06:13 2005
From: r.vaiciunas at takas.lt (Renatas Vaiciunas)
Date: Mon, 20 Jun 2005 19:06:13 +0300
Subject: [R-sig-finance] (no subject)
Message-ID: <00aa01c575b1$fb9f9d10$3a9efea9@renatus>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050620/6e9076e9/attachment.pl

From hutch at moneyware.com  Mon Jun 20 18:08:04 2005
From: hutch at moneyware.com (Bill Hutchison)
Date: Mon, 20 Jun 2005 12:08:04 -0400
Subject: [R-sig-finance] fPortfolio
In-Reply-To: <1119275176.61e79bcL.Isella@myrealbox.com>
Message-ID: <20050620160801.QHLJ10491.tomts33-srv.bellnexxia.net@money9>

The pfolio error seems to be a bug, so I have solved it by adding

	pfolio <- NULL

to the function, and replacing portfolioMarkowitz with my own version.

Here is the full function:

portfolioMarkowitz <- function (x, targetReturn, title = NULL, description =
NULL) 
{
    x = as.matrix(x)
    opt = .portfolio.optim(x = x, pm = targetReturn, covmat = cov(x))
		pfolio <- NULL #added to fPortfolio original code
    pfolio$what = "portfolio"
    pfolio$method = "QP"
    pfolio$opt = opt
    pfolio$pw = opt$pw
    pfolio$pm = opt$pm
    pfolio$ps = opt$ps
    if (is.null(title)) 
        title = "Mean-Variance Portfolio Optimization"
    if (is.null(description)) 
        description = as.character(date())
    new("fPFOLIO", call = as.call(match.call()), method = "Quadratic
Programming", 
        model = "Markowitz Portfolio", data = as.data.frame(x), 
        pfolio = pfolio, title = as.character(title), description =
as.character(description))
} 

Bill Hutchison

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of L.Isella
Sent: Monday, June 20, 2005 9:46 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-sig-finance] fPortfolio

Dear All,
I have just started learning R and I am interested in using it for financial
applications.
I am not running the latest release of R and my OS is Ubuntu Linux (almost
equal to Debian as far as R is concerned).
I installed some extra packages to run fPortfolio.
I may have made some mistake as when I enter library() I get the warning: 
Warning message: 
library '/usr/local/lib/R/site-library' contains no package in: library() 

anyway, the fPortfolio library seems to load regularly; the output of
library(fPortfolio) does not produce any warnings but only a list of masked
packages.
Then, as a simple test, I form a simple matrix myport containing 3 assets
each with a few return values:

myport
    V1    V2    V3
1 0.04 0.020 0.060
2 0.01 0.060 0.059
3 0.09 0.014 0.058
4 0.02 0.017 0.062
5 0.06 0.019 0.063

Now if I try working out the composition of a portfolio without short
selling I do not get a positive answer for certain expected returns e.g.:

> myPortfolio = portfolioMarkowitz(myport, targetReturn = 0.01, title = 
> null, description = null)
Error in .solve.QP(covmat, dvec, Amat, bvec = b0, meq = 2) : 
	constraints are inconsistent, no solution!

but what bothers me is this error message I get when I choose another
expected return:


> myPortfolio = portfolioMarkowitz(myport, targetReturn = 0.03, title = 
> null, description = null)
Error in portfolioMarkowitz(myport, targetReturn = 0.03, title = null,  : 
	Object "pfolio" not found

As I wrote, I am still pretty new to R, so I do not know exactly how to deal
with it, but it seems to me that I followed closely the example in the
fPortfolio documentation, so I do not understand what is going wrong.
Best Regards
Lorenzo

_______________________________________________
R-sig-finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance


From r.vaiciunas at takas.lt  Mon Jun 20 18:34:58 2005
From: r.vaiciunas at takas.lt (Renatas Vaiciunas)
Date: Mon, 20 Jun 2005 19:34:58 +0300
Subject: [R-sig-finance] (no subject)
Message-ID: <00d201c575b5$ff8f29f0$3a9efea9@renatus>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050620/b1257dce/attachment.pl

From Igor.Pikovsky at rogge.co.uk  Mon Jun 27 12:37:48 2005
From: Igor.Pikovsky at rogge.co.uk (Igor Pikovsky)
Date: Mon, 27 Jun 2005 11:37:48 +0100
Subject: [R-sig-finance] Merging timeSeries objects
Message-ID: <8C27E77B81BE694C8A3ABDDA40A1E2C80526F746@RGPEX.rogge.co.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20050627/186ee35f/attachment.pl

From konradb at few.vu.nl  Tue Jun 28 13:01:59 2005
From: konradb at few.vu.nl (Konrad Banachewicz)
Date: Tue, 28 Jun 2005 13:01:59 +0200
Subject: [R-sig-finance] R-sig-finance Digest, Vol 13, Issue 6
In-Reply-To: <mailman.21.1119952802.1160.r-sig-finance@stat.math.ethz.ch>
References: <mailman.21.1119952802.1160.r-sig-finance@stat.math.ethz.ch>
Message-ID: <42C12E27.5080608@few.vu.nl>

Dear Igor,

>From: "Igor Pikovsky" <Igor.Pikovsky at rogge.co.uk>
>I have a few questions about timeSeries objects:
>
>1. How can I assign names to individual series in a multivariate object?
>I have tried specifying colNames parameter in timeSeries function, but
>it had been ignored.
>
that's curious; by timeSeries You mean the ts function from tseries ?
read.ts is always worth trying (if You can merge the data into one file 
and then
read it jointly), or You can work with the dse package by Paul Gilbert.

>2. How can I merge together several multivariate timeSeries objects, all
>having roughly the same dates? The mergeSeries function does something
>very different, apparently.
>
try ts.union from the stats package - of course the issue of what You 
mean by "roughly the same dates"
remains ...

>3. The documentation mentions that I need to set the environment
>variable TZ to "GMT". I have tried setting TZ, tz, zone and timezone,
>but am still getting a lot of warnings about timezone from various
>functions. Sys.date says I have GMT set.
>
no clue why You get the error here, sorry

>4. in timeSeries plot, how can I add a legend? Otherwise plotting a
>multivariate timeSeries is pretty useless...
>
extensive description (through a ton of examples :) can be found at  
Ajay Shah's webpage:
http://www.mayin.org/ajayshah/KB/R/

hope this helps,

konrad


