From info at genetrix.se  Tue Jan  9 03:17:48 2007
From: info at genetrix.se (genx)
Date: Mon, 8 Jan 2007 18:17:48 -0800 (PST)
Subject: [R-SIG-Finance] rMetrics
Message-ID: <8230851.post@talk.nabble.com>


I am trying to download data off Yahoo finance utilizing the rMetrics
packages but all the example code including several other examples found in
the rMetrics PDFs fail. After a successful download of the data i get the
following error message:


trying URL
'http://chart.yahoo.com/table.csv?s=^DJI&a=0&b=1&c=1999&d=11&e=31&f=2000&x=.csv'
Content type 'text/csv' length unknown
opened URL
downloaded 31Kb

Read 504 items
Read 7 items
Error in if (sum(lt$sec + lt$min + lt$hour) == 0) isoFormat = "%Y-%m-%d" : 
        missing value where TRUE/FALSE needed


The .R code i am trying run looks like this (it's from the demo suite):

    # Settings:
    symbol = "^DJI"
    file = "DJI.CSV"
    source = "http://chart.yahoo.com/table.csv?"
    # 1.1.1999 - 31.12.2000
    # Note months count from 0 to 11 !
    query = paste("s=", symbol,"&a=0&b=1&c=1999&d=11&e=31&f=2000&x=.csv", 
        sep = "")
    ###
    
    # Download: 
    DJI = yahooImport(query, file, source, try = TRUE)
    head(DJI at data)
    ###
        
    # Direct data access as.timeSeries Object:
    DJI = as.timeSeries(yahooImport(query, file, source, try = TRUE)@data)
    class(DJI)
    head(DJI)
    tail(DJI)
    ###



-- 
View this message in context: http://www.nabble.com/rMetrics-tf2943492.html#a8230851
Sent from the Rmetrics mailing list archive at Nabble.com.


From martin.becker at mx.uni-saarland.de  Tue Jan  9 10:05:31 2007
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Tue, 09 Jan 2007 10:05:31 +0100
Subject: [R-SIG-Finance] rMetrics
In-Reply-To: <8230851.post@talk.nabble.com>
References: <8230851.post@talk.nabble.com>
Message-ID: <45A35ADB.7090903@mx.uni-saarland.de>

It seems to be a problem with locales. Yahoo returns US-month-names, but 
the corresponding code fragment in Rmetrics seems to use the current 
system locale for date conversion, and thus it may fail to convert the 
rownames to dates (for some months, resulting in NAs). Setting LC_TIME 
(temporarily) to US provides a quick fix.
[I am not sure, but maybe altering LC_TIME temporarily could be done by 
Rmetrics?]

See below for the (inserted) commands.

Kind regards,
  Martin Becker

genx schrieb:
> I am trying to download data off Yahoo finance utilizing the rMetrics
> packages but all the example code including several other examples found in
> the rMetrics PDFs fail. After a successful download of the data i get the
> following error message:
>
>
> trying URL
> 'http://chart.yahoo.com/table.csv?s=^DJI&a=0&b=1&c=1999&d=11&e=31&f=2000&x=.csv'
> Content type 'text/csv' length unknown
> opened URL
> downloaded 31Kb
>
> Read 504 items
> Read 7 items
> Error in if (sum(lt$sec + lt$min + lt$hour) == 0) isoFormat = "%Y-%m-%d" : 
>         missing value where TRUE/FALSE needed
>
>
> The .R code i am trying run looks like this (it's from the demo suite):
>
>     # Settings:
>     symbol = "^DJI"
>     file = "DJI.CSV"
>     source = "http://chart.yahoo.com/table.csv?"
>     # 1.1.1999 - 31.12.2000
>     # Note months count from 0 to 11 !
>     query = paste("s=", symbol,"&a=0&b=1&c=1999&d=11&e=31&f=2000&x=.csv", 
>         sep = "")
>     ###
>     
>     # Download: 
>     DJI = yahooImport(query, file, source, try = TRUE)
>     head(DJI at data)
>     ###
>   
tmp<-Sys.getlocale("LC_TIME")
Sys.setlocale("LC_TIME","US")

>         
>     # Direct data access as.timeSeries Object:
>     DJI = as.timeSeries(yahooImport(query, file, source, try = TRUE)@data)
>   
Sys.setlocale("LC_TIME",tmp)

>     class(DJI)
>     head(DJI)
>     tail(DJI)
>     ###
>
>
>
>


From prossi79.r at gmail.com  Tue Jan  9 17:09:58 2007
From: prossi79.r at gmail.com (Paolo Rossi)
Date: Tue, 9 Jan 2007 17:09:58 +0100
Subject: [R-SIG-Finance] Error loading fCalendar package
Message-ID: <9e8f1a130701090809j392cc85fv105460497bc86d4@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070109/dc874028/attachment.pl 

From maechler at stat.math.ethz.ch  Tue Jan  9 17:32:32 2007
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 9 Jan 2007 17:32:32 +0100
Subject: [R-SIG-Finance] Error loading fCalendar package
In-Reply-To: <9e8f1a130701090809j392cc85fv105460497bc86d4@mail.gmail.com>
References: <9e8f1a130701090809j392cc85fv105460497bc86d4@mail.gmail.com>
Message-ID: <17827.50080.273016.894362@stat.math.ethz.ch>

>>>>> "Paolo" == Paolo Rossi <prossi79.r at gmail.com>
>>>>>     on Tue, 9 Jan 2007 17:09:58 +0100 writes:

    Paolo> Dear all,
    Paolo> when I load the fCalendar package I get this error:

    Paolo> "Error in lazyLoadDBfetch(key, datafile, compressed, envhook) :
    Paolo> ReadItem: type 25 unknown"
    Paolo> I'm using R ver 2.3.1, with rmetrics downloaded directly from CRAN.

    Paolo> could someone help me?

Yes. Upgrade R to 2.4.1

    Paolo> thank you

you are welcome :-)

Martin Maechler


From info at genetrix.se  Tue Jan  9 18:30:07 2007
From: info at genetrix.se (genx)
Date: Tue, 9 Jan 2007 09:30:07 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] rMetrics
In-Reply-To: <45A35ADB.7090903@mx.uni-saarland.de>
References: <8230851.post@talk.nabble.com>
	<45A35ADB.7090903@mx.uni-saarland.de>
Message-ID: <8242336.post@talk.nabble.com>


Thank you for your help Martin, the code runs but it doesnt feel correct
to apply a hack to make R/rMetrics to run on my ordinary WinXP system.
What is really puzzling me is that many of the examples and code found in 
the help files and also in the supplied PDF files does not run or does just 
run partly.

Is R & rMetrics really worth the effort for a non-hacker as me? What I
want is an easy way to do simulations on volatility (garch) , calculate l
og-returns, betas on portfolios , some option valuation (greeks) and 
thats it.



It seems to be a problem with locales. Yahoo returns US-month-names, but 
the corresponding code fragment in Rmetrics seems to use the current 
system locale for date conversion, and thus it may fail to convert the 
rownames to dates (for some months, resulting in NAs). Setting LC_TIME 
(temporarily) to US provides a quick fix.
[I am not sure, but maybe altering LC_TIME temporarily could be done by 
Rmetrics?]

See below for the (inserted) commands.

Kind regards,
  Martin Becker

-- 
View this message in context: http://www.nabble.com/rMetrics-tf2943492.html#a8242336
Sent from the Rmetrics mailing list archive at Nabble.com.


From martin.becker at mx.uni-saarland.de  Tue Jan  9 19:23:00 2007
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Tue, 09 Jan 2007 19:23:00 +0100
Subject: [R-SIG-Finance] rMetrics
In-Reply-To: <8242336.post@talk.nabble.com>
References: <8230851.post@talk.nabble.com>	<45A35ADB.7090903@mx.uni-saarland.de>
	<8242336.post@talk.nabble.com>
Message-ID: <45A3DD84.6010707@mx.uni-saarland.de>

genx wrote:
> Thank you for your help Martin, the code runs but it doesnt feel correct
> to apply a hack to make R/rMetrics to run on my ordinary WinXP system.
>   
I wouldn't say that this is a "hack", it is just telling R that you are 
going to use some data in a language different from that of your 
installed Operating System. If you import *.csv - files with #,###.## - 
style numbers with a german Micro$oft Excel version, e.g., you have to 
change standard settings, too.
> What is really puzzling me is that many of the examples and code found in 
> the help files and also in the supplied PDF files does not run or does just 
> run partly.
>   
Maybe the examples run for all developers of Rmetrics, because they work 
on machines with unproblematic locale settings (concerning this issue). 
Maybe you are the first person who encountered this particular problem. 
And maybe (or rather probably) your report leads to a more robust 
implementation of yahooImport, which does not require changing locale 
settings manually any more.
> Is R & rMetrics really worth the effort for a non-hacker as me? What I
> want is an easy way to do simulations on volatility (garch) , calculate l
> og-returns, betas on portfolios , some option valuation (greeks) and 
> thats it.
>
>   
It took just a few hours until your problem got tracked down and a fix 
was provided. I doubt that support for commercial software can beat 
this. I would still give Rmetrics a try ;-)

Regards,

  Martin Becker


From guillaume.nicoulaud at halbis.com  Wed Jan 10 09:49:22 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Wed, 10 Jan 2007 09:49:22 +0100
Subject: [R-SIG-Finance] solve.QP
Message-ID: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc.fr>


Dear all,
I use solve.QP for Markowitz-like portfolio optimization purposes and I am trying to set some basic constraints. So far I have achieved to pass the followings:

- Sum of weights = desired target or band

- Target beta = anything I want

- Maximum individual weights (both long and short)

- Minimum individual weights if below 1/n (n being the number of stocks in the investment universe)



And now here is what I would like to do:

- Setting a target number of non-zero weights (I want - say - 30 longs and shorts...)

- Setting a target gross exposure e.g. sum(abs(wi)) == 2


Does anybody has a piece of code I could adapt to do this? Is there any other function that I could use with same level of flexibility than solve.QP?



Thanks for your help!

G


Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From patrick at burns-stat.com  Wed Jan 10 11:37:57 2007
From: patrick at burns-stat.com (Patrick Burns)
Date: Wed, 10 Jan 2007 10:37:57 +0000
Subject: [R-SIG-Finance] solve.QP
In-Reply-To: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc.fr>
References: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc.fr>
Message-ID: <45A4C205.3090506@burns-stat.com>

You can have a look at the POP package from
Burns Statistics, but it is commercial software.

Patrick Burns
patrick at burns-stat.com
+44 (0)20 8525 0696
http://www.burns-stat.com
(home of S Poetry and "A Guide for the Unwilling S User")

guillaume.nicoulaud at halbis.com wrote:

>Dear all,
>I use solve.QP for Markowitz-like portfolio optimization purposes and I am trying to set some basic constraints. So far I have achieved to pass the followings:
>
>- Sum of weights = desired target or band
>
>- Target beta = anything I want
>
>- Maximum individual weights (both long and short)
>
>- Minimum individual weights if below 1/n (n being the number of stocks in the investment universe)
>
>
>
>And now here is what I would like to do:
>
>- Setting a target number of non-zero weights (I want - say - 30 longs and shorts...)
>
>- Setting a target gross exposure e.g. sum(abs(wi)) == 2
>
>
>Does anybody has a piece of code I could adapt to do this? Is there any other function that I could use with same level of flexibility than solve.QP?
>
>
>
>Thanks for your help!
>
>G
>
>
>Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
>Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
>--- ----------------------------------------------------- ---
>The information contained in this e-mail is confidential. It...{{dropped}}
>
>_______________________________________________
>R-SIG-Finance at stat.math.ethz.ch mailing list
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>
>  
>


From Christian.Prinoth at epsilonsgr.it  Wed Jan 10 11:56:58 2007
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Wed, 10 Jan 2007 11:56:58 +0100
Subject: [R-SIG-Finance] solve.QP
In-Reply-To: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc
	.fr>
Message-ID: <8D64D4652EB17048B874B0503309CFCA01526606@epsilon2003.epsilonsgr.it>


This is a "not-so-easy" problem, since it involves non-linear constraints. I tried using langrangian multipliers, but even for very simple problems (eg linear objective function) it does not work so well. See an example below, where I try to obtain a long-short portfolio with a maximum exposure to a some "score". The optimal result should give weight 1/(maxL/2) to stocks in the long portfolio, and the opposite of that to the short names, but the procedure only gets somewhat close to that result (see plot).

Probably a genetic-algorithm approach ? la Burns works best in these cases...



nd<-100
scores<-sample(1:nd)
w<-array(0,nd)
mw<-0.2
maxL<-2
NetP<-0.0001

fnc<-function(x,score,l1,l2) {
	sum(x*score)-l1*0.5*sum(x)^2 -l2*0.5*(sum(abs(x))-maxL)^2
}

l1<-0
l2<-0
w<-optim(w,fnc,NULL,method="L-BFGS-B",lower=-mw,upper=mw,control=list(fnscale=-1,maxit=10000),hessian=F,scores,l1,l2)$par

chk<-T
l1<-0
l2<-0
while(chk){
	l1<-l1+200
	out<-optim(w,fnc,NULL,method="L-BFGS-B",lower=-mw,upper=mw,control=list(fnscale=-1,maxit=10000),hessian=F,scores,l1,l2)
	chk<-abs(sum(out$par))>NetP
	w<-out$par
}

chk<-T
l2<-0
while(chk){
	l2<-l2+200
	out<-optim(w,fnc,NULL,method="L-BFGS-B",lower=-mw,upper=mw,control=list(fnscale=-1,maxit=10000),hessian=F,scores,l1,l2)
	chk<-sum(abs(out$par))>maxL | abs(sum(out$par))>NetP
	w<-out$par
}

round(out$par,4)
c(out$value,sum(out$par*scores))
c(l1,l2,out$counts)
c(out$convergence,out$message)
round(sum(out$par),6)
round(sum(abs(out$par)),6)
plot(sort(out$par))



Christian Prinoth
cp at epsilonsgr.it
+39-0288102355


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
> guillaume.nicoulaud at halbis.com
> Sent: Wednesday, 10 January, 2007 09:49
> To: r-sig-finance at stat.math.ethz.ch
> Subject: [R-SIG-Finance] solve.QP
>
>
> Dear all,
> I use solve.QP for Markowitz-like portfolio optimization
> purposes and I am trying to set some basic constraints. So
> far I have achieved to pass the followings:
>
> - Sum of weights = desired target or band
>
> - Target beta = anything I want
>
> - Maximum individual weights (both long and short)
>
> - Minimum individual weights if below 1/n (n being the number
> of stocks in the investment universe)
>
>
>
> And now here is what I would like to do:
>
> - Setting a target number of non-zero weights (I want - say -
> 30 longs and shorts...)
>
> - Setting a target gross exposure e.g. sum(abs(wi)) == 2
>
>
> Does anybody has a piece of code I could adapt to do this? Is
> there any other function that I could use with same level of
> flexibility than solve.QP?
>
>
>
> Thanks for your help!
>
> G
>
>
> Les informations contenues dans ce message sont
> confidentielles et peuvent constituer des informations
> privilegiees. Si vous n etes pas le destinataire de ce
> message, il vous est interdit de le copier, de le faire
> suivre, de le divulguer ou d en utiliser tout ou partie. Si
> vous avez recu ce message par erreur, merci de le supprimer
> de votre systeme, ainsi que toutes ses copies, et d en
> avertir immediatement l expediteur par message de retour.
> Il est impossible de garantir que les communications par
> messagerie electronique arrivent en temps utile, sont
> securisees ou denuees de toute erreur ou virus. En
> consequence, l expediteur n accepte aucune responsabilite du
> fait des erreurs ou omissions qui pourraient en resulter.
> --- ----------------------------------------------------- ---
> The information contained in this e-mail is confidential.\...{{dropped}}


From brian at braverock.com  Wed Jan 10 13:03:24 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 10 Jan 2007 06:03:24 -0600
Subject: [R-SIG-Finance] solve.QP (for portfolio optimization)
In-Reply-To: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc.fr>
References: <OF96F8D8BB.E5E3D8B6-ONC125725F.00305E83-C125725F.0030B7FF@hsbc.fr>
Message-ID: <200701100603.26184.brian@braverock.com>

On Wednesday 10 January 2007 02:49, guillaume.nicoulaud at halbis.com wrote:
> Dear all,
> I use solve.QP for Markowitz-like portfolio optimization purposes and I
> am trying to set some basic constraints. So far I have achieved to pass
> the followings:
<...>
> And now here is what I would like to do:
>
> - Setting a target number of non-zero weights (I want - say - 30 longs
> and shorts...)
>
> - Setting a target gross exposure e.g. sum(abs(wi)) == 2
>
> Does anybody has a piece of code I could adapt to do this? Is there any
> other function that I could use with same level of flexibility than
> solve.QP?

I see the Patrick and Christian have already replied to this post as well, 
so I'll try not to be redundant.

If you can define your constraints as linear constraints, you may be able 
to use linear programming such as the simplex() fn in R to construct the 
surface to optimize over. 

It appears to be a general truism that I've discovered as I dig deeper 
into the optimization problem that the more constraints you place on a 
portfolio, the more likely you are to not create a smooth surface, and 
open yourself to problems of local maxima/minima.  

In one of my early forrays into optimization in R, Patrick suggested 'A 
Data-driven optimization heuristic for downside risk minimization' by 
Gilli et al. which discussed a technique called threshold accepting which 
allows the setting of multiple arbitrary heuristic and quantitative 
constraints.  This would be very useful as an optimization mechanism, but 
also be quite problem-dependent, and not simple to implement in R.

Techniques such as threshold accepting (suggested by Patrick to me), 
genetic algorithm (suggested to you by Christian), simulated annealing, 
bayesian optimization, or utility function based optimization (using 
brute force or sub-sampling) can avoid the local maxima/minima problem.

Since you appear to want to stick with Markowitz-style optimization for 
now, one "easy" approach that I can recommend is to use a pricing model, 
such as CAPM or Arbitrage Pricing Theory, that is appropriate to your 
problem space to separate your long and short portfolios *before* 
attempting optimization.  Markowitz or similar optimizations will work 
fine for your long portfolio, and you'll need to evaluate whether 
Markowitz will work well for your short portfolio.  You may find, as many 
others in the optimization literature have, that the short portfolio 
requires a different optimization approach.

If you're looking for a reference, 
Introduction to Modern Portfolio Optimization with 
NuOPT, S-PLUS and S+Bayes
by Bernd Scherer, R. Douglas Martin

Is quite a good overview, and although the code is for S-Plus, many/most 
of the functions have good analogs in R.

Regards,

   - Brian

-- 
http://braverock.com/brian/resume-quant.pdf


From guillaume.nicoulaud at halbis.com  Wed Jan 10 13:26:45 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Wed, 10 Jan 2007 13:26:45 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A_Re=3A__solve=2EQP_?=
 =?iso-8859-15?q?=28for_portfolio_optimization=29?=
Message-ID: <OF4EDEAE85.4B7946DF-ONC125725F.0042B2B0-C125725F.00449EED@hsbc.fr>

Thanks Patrick / Christian and Brian
--- Brian wrote ---

"You may find, as many others in the optimization literature have, that the short portfolio
requires a different optimization approach."

I did... and it actually doesn't work! That's why I would like to optimize the whole portfolio instead of doing this separatly for longs and shorts (in a Markowitz-like framework *for now*).

G


Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From brian at braverock.com  Wed Jan 10 14:06:26 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 10 Jan 2007 07:06:26 -0600
Subject: [R-SIG-Finance] solve.QP (for portfolio optimization)
In-Reply-To: <OF4EDEAE85.4B7946DF-ONC125725F.0042B2B0-C125725F.00449EED@hsbc.fr>
References: <OF4EDEAE85.4B7946DF-ONC125725F.0042B2B0-C125725F.00449EED@hsbc.fr>
Message-ID: <200701100706.26983.brian@braverock.com>

On Wednesday 10 January 2007 06:26, guillaume.nicoulaud at halbis.com wrote:
> --- Brian wrote ---
>
> "You may find, as many others in the optimization literature have, that
> the short portfolio requires a different optimization approach."
>
> I did... and it actually doesn't work! That's why I would like to
> optimize the whole portfolio instead of doing this separatly for longs
> and shorts (in a Markowitz-like framework *for now*).

Markowitz style optimization will try to minimize variance across the 
entire portfolio.  You *want* the short portfolio to decline in value, as 
much as possible.  

While it should be possible to constrain individual instruments to be on 
the short portfolio, I haven't worked with the solve.QP function 
constraints in enough detail to give you any pointers there, and I don't 
think a minimum variance portfolio is really what you want. 

Perhaps you can be a little more specific on the problems you had with 
trying to optimize the long and short portfolios separately?

I'll give a couple examples of approaches that could work well for your 
short portfolio (your exact circumstances will vary based on the 
instruments you're constructing a portfolio over, of course).  In your 
short portfolio, you have previously made some forecast that the 
instruments in the short portfolio will decline in value.  You need to 
make some decision about how much to short, from the limits you have on 
total short positions in your portfolio. One method of choosing how much 
to short is based on your confidence in your price target: higher 
confidence equals a larger short position.  Another method is to use some 
other appropriate measure of risk, like downside deviation or average 
drawdown: larger [downside risk measure] equals larger short position, 
because the instrument tends to move further down in price.

Regards,

   - Brian

-- 
http://braverock.com/brian/resume-quant.pdf


From Christian.Prinoth at epsilonsgr.it  Wed Jan 10 14:35:56 2007
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Wed, 10 Jan 2007 14:35:56 +0100
Subject: [R-SIG-Finance] solve.QP (for portfolio optimization)
In-Reply-To: <200701100706.26983.brian@braverock.com>
Message-ID: <8D64D4652EB17048B874B0503309CFCA0152660E@epsilon2003.epsilonsgr.it>

If the goal is to build some kind of market neutral position, one could
also take a 2-step approach:

1) build an optimized long portfolio that maximizes some score\expected
return\whatever
2) build a short portfolio that minimizes that same score, while
constraining risk exposure (however defined) to be similar to that of
the long portfolio.

This way it is easier to specify leverage, number of positions etc.

Christian Prinoth
cp at epsilonsgr.it
+39-0288102355


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
> Brian G. Peterson
> Sent: Wednesday, 10 January, 2007 14:06
> To: r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] solve.QP (for portfolio optimization)
>
> On Wednesday 10 January 2007 06:26,
> guillaume.nicoulaud at halbis.com wrote:
> > --- Brian wrote ---
> >
> > "You may find, as many others in the optimization literature have,
> > that the short portfolio requires a different optimization
> approach."
> >
> > I did... and it actually doesn't work! That's why I would like to
> > optimize the whole portfolio instead of doing this
> separatly for longs
> > and shorts (in a Markowitz-like framework *for now*).
>
> Markowitz style optimization will try to minimize variance
> across the entire portfolio.  You *want* the short portfolio
> to decline in value, as much as possible. 
>
> While it should be possible to constrain individual
> instruments to be on the short portfolio, I haven't worked
> with the solve.QP function constraints in enough detail to
> give you any pointers there, and I don't think a minimum
> variance portfolio is really what you want.
>
> Perhaps you can be a little more specific on the problems you
> had with trying to optimize the long and short portfolios separately?
>
> I'll give a couple examples of approaches that could work
> well for your short portfolio (your exact circumstances will
> vary based on the instruments you're constructing a portfolio
> over, of course).  In your short portfolio, you have
> previously made some forecast that the instruments in the
> short portfolio will decline in value.  You need to make some
> decision about how much to short, from the limits you have on
> total short positions in your portfolio. One method of
> choosing how much to short is based on your confidence in
> your price target: higher confidence equals a larger short
> position.  Another method is to use some other appropriate
> measure of risk, like downside deviation or average
> drawdown: larger [downside risk measure] equals larger short
> position, because the instrument tends to move further down in price.
>
> Regards,
>
>    - Brian
>
> --
> http://braverock.com/brian/resume-quant.pdf
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

DISCLAIMER:\ L'utilizzo non autorizzato del presente messagg...{{dropped}}


From guillaume.nicoulaud at halbis.com  Wed Jan 10 15:04:18 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Wed, 10 Jan 2007 15:04:18 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A_Re=3A__solve=2EQP_?=
 =?iso-8859-15?q?=28for_portfolio_optimization=29?=
Message-ID: <OF80922B86.0263A52E-ONC125725F.004B1DE3-C125725F.004D8D66@hsbc.fr>

--- about Christian's two-step approach ---

I've tryed this. The issue is that provided we want to minimize the *overall* portfolio variance we have to manage potential correlations between longs and shorts (e.g. if some of your longs are "anti-correlated" - is that the correct word?
- with some of your shorts). In my tests, simple equally weighted portfolios are less volatiles.

--- Brian wrote ---
" Markowitz style optimization will try to minimize variance across the
entire portfolio.  You *want* the short portfolio to decline in value, as
much as possible. "

I agree. Yet I could think the same way for my long portfolio: I want these stocks to increase in value as much as possible.
So in the end the question is about minimizing variance in general [or not]. At the moment, this is what I'm trying to do (also I agree with your concerns on Markowitz-like frameworks and will keep your suggestions in mind).

G




                                                                                                                           
                                                                                                                           
                                                        Pour :   <r-sig-finance at stat.math.ethz.ch>                         
                                                        cc :                                                               
                                                        Objet :  Re: [R-SIG-Finance] solve.QP (for portfolio optimization) 
             "Christian Prinoth"                                                                                           
             <Christian.Prinoth at epsilonsgr.it>                                                                             
             Envoy? par :                                                                                                  
             r-sig-finance-bounces at stat.math.ethz.                                                                         
             ch                                                                                                            
                                                                                                                           
                                                                                                                           
             10/01/2007 14:35                                                                                              
                                                                                                                           
                                                                                                                           




If the goal is to build some kind of market neutral position, one could
also take a 2-step approach:

1) build an optimized long portfolio that maximizes some score\expected
return\whatever
2) build a short portfolio that minimizes that same score, while
constraining risk exposure (however defined) to be similar to that of
the long portfolio.

This way it is easier to specify leverage, number of positions etc.

Christian Prinoth
cp at epsilonsgr.it
+39-0288102355


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
> Brian G. Peterson
> Sent: Wednesday, 10 January, 2007 14:06
> To: r-sig-finance at stat.math.ethz.ch
> Subject: Re: [R-SIG-Finance] solve.QP (for portfolio optimization)
>
> On Wednesday 10 January 2007 06:26,
> guillaume.nicoulaud at halbis.com wrote:
> > --- Brian wrote ---
> >
> > "You may find, as many others in the optimization literature have,
> > that the short portfolio requires a different optimization
> approach."
> >
> > I did... and it actually doesn't work! That's why I would like to
> > optimize the whole portfolio instead of doing this
> separatly for longs
> > and shorts (in a Markowitz-like framework *for now*).
>
> Markowitz style optimization will try to minimize variance
> across the entire portfolio.  You *want* the short portfolio
> to decline in value, as much as possible.
>
> While it should be possible to constrain individual
> instruments to be on the short portfolio, I haven't worked
> with the solve.QP function constraints in enough detail to
> give you any pointers there, and I don't think a minimum
> variance portfolio is really what you want.
>
> Perhaps you can be a little more specific on the problems you
> had with trying to optimize the long and short portfolios separately?
>
> I'll give a couple examples of approaches that could work
> well for your short portfolio (your exact circumstances will
> vary based on the instruments you're constructing a portfolio
> over, of course).  In your short portfolio, you have
> previously made some forecast that the instruments in the
> short portfolio will decline in value.  You need to make some
> decision about how much to short, from the limits you have on
> total short positions in your portfolio. One method of
> choosing how much to short is based on your confidence in
> your price target: higher confidence equals a larger short
> position.  Another method is to use some other appropriate
> measure of risk, like downside deviation or average
> drawdown: larger [downside risk measure] equals larger short
> position, because the instrument tends to move further down in price.
>
> Regards,
>
>    - Brian
>
> --
> http://braverock.com/brian/resume-quant.pdf
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>

DISCLAIMER:\ L'utilizzo non autorizzato del presente messagg...{{dropped}}

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance




Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From Christian.Prinoth at epsilonsgr.it  Wed Jan 10 15:16:33 2007
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Wed, 10 Jan 2007 15:16:33 +0100
Subject: [R-SIG-Finance]
	=?iso-8859-1?q?R=E9f=2E_=3A_Re=3A__solve=2EQP_=28?=
	=?iso-8859-1?q?for_portfolio_optimization=29?=
In-Reply-To: <OF80922B86.0263A52E-ONC125725F.004B1DE3-C125725F.004D8D66@hsbc
	.fr>
Message-ID: <8D64D4652EB17048B874B0503309CFCA01526619@epsilon2003.epsilonsgr.it>


IMHO opinion, the concept of correlation is not so useful in this context. I think that if you wish to contain overall variance you are much better off trying to contain risk exposures (eg, net sector exposure etc.), than trying to offset correlations (or betas!) between different assets, since those are way too unstable.

Christian Prinoth
cp at epsilonsgr.it
+39-0288102355


> -----Original Message-----
> From: guillaume.nicoulaud at halbis.com
> [mailto:guillaume.nicoulaud at halbis.com]
> Sent: Wednesday, 10 January, 2007 15:04
> To: Christian Prinoth
> Cc: r-sig-finance at stat.math.ethz.ch;
> r-sig-finance-bounces at stat.math.ethz.ch
> Subject: R?f. : Re: [R-SIG-Finance] solve.QP (for portfolio
> optimization)
>
> --- about Christian's two-step approach ---
>
> I've tryed this. The issue is that provided we want to
> minimize the *overall* portfolio variance we have to manage
> potential correlations between longs and shorts (e.g. if some
> of your longs are "anti-correlated" - is that the correct word?
> - with some of your shorts). In my tests, simple equally
> weighted portfolios are less volatiles.
>
> --- Brian wrote ---
> " Markowitz style optimization will try to minimize variance
> across the entire portfolio.  You *want* the short portfolio
> to decline in value, as much as possible. "
>
> I agree. Yet I could think the same way for my long
> portfolio: I want these stocks to increase in value as much
> as possible.
> So in the end the question is about minimizing variance in
> general [or not]. At the moment, this is what I'm trying to
> do (also I agree with your concerns on Markowitz-like
> frameworks and will keep your suggestions in mind).
>
> G
>
>
>
>
>                                                              
>                                                             
>                                                              
>                                                             
>                                                         Pour
> :   <r-sig-finance at stat.math.ethz.ch>                        
>                                                         cc : 
>                                                             
>                                                         Objet
> :  Re: [R-SIG-Finance] solve.QP (for portfolio optimization)
>              "Christian Prinoth"                             
>                                                             
>              <Christian.Prinoth at epsilonsgr.it>               
>                                                             
>              Envoy? par :                                    
>                                                             
>              r-sig-finance-bounces at stat.math.ethz.           
>                                                             
>              ch                                              
>                                                             
>                                                              
>                                                             
>                                                              
>                                                             
>              10/01/2007 14:35                                
>                                                             
>                                                              
>                                                             
>                                                              
>                                                             
>
>
>
>
> If the goal is to build some kind of market neutral position,
> one could also take a 2-step approach:
>
> 1) build an optimized long portfolio that maximizes some
> score\expected return\whatever
> 2) build a short portfolio that minimizes that same score,
> while constraining risk exposure (however defined) to be
> similar to that of the long portfolio.
>
> This way it is easier to specify leverage, number of positions etc.
>
> Christian Prinoth
> cp at epsilonsgr.it
> +39-0288102355
>
>
> > -----Original Message-----
> > From: r-sig-finance-bounces at stat.math.ethz.ch
> > [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf
> Of Brian G.
> > Peterson
> > Sent: Wednesday, 10 January, 2007 14:06
> > To: r-sig-finance at stat.math.ethz.ch
> > Subject: Re: [R-SIG-Finance] solve.QP (for portfolio optimization)
> >
> > On Wednesday 10 January 2007 06:26,
> > guillaume.nicoulaud at halbis.com wrote:
> > > --- Brian wrote ---
> > >
> > > "You may find, as many others in the optimization
> literature have,
> > > that the short portfolio requires a different optimization
> > approach."
> > >
> > > I did... and it actually doesn't work! That's why I would like to
> > > optimize the whole portfolio instead of doing this
> > separatly for longs
> > > and shorts (in a Markowitz-like framework *for now*).
> >
> > Markowitz style optimization will try to minimize variance
> across the
> > entire portfolio.  You *want* the short portfolio to
> decline in value,
> > as much as possible.
> >
> > While it should be possible to constrain individual
> instruments to be
> > on the short portfolio, I haven't worked with the solve.QP function
> > constraints in enough detail to give you any pointers there, and I
> > don't think a minimum variance portfolio is really what you want.
> >
> > Perhaps you can be a little more specific on the problems
> you had with
> > trying to optimize the long and short portfolios separately?
> >
> > I'll give a couple examples of approaches that could work well for
> > your short portfolio (your exact circumstances will vary
> based on the
> > instruments you're constructing a portfolio over, of
> course).  In your
> > short portfolio, you have previously made some forecast that the
> > instruments in the short portfolio will decline in value. 
> You need to
> > make some decision about how much to short, from the limits
> you have
> > on total short positions in your portfolio. One method of
> choosing how
> > much to short is based on your confidence in your price
> target: higher
> > confidence equals a larger short position.  Another method
> is to use
> > some other appropriate measure of risk, like downside deviation or
> > average
> > drawdown: larger [downside risk measure] equals larger
> short position,
> > because the instrument tends to move further down in price.
> >
> > Regards,
> >
> >    - Brian
> >
> > --
> > http://braverock.com/brian/resume-quant.pdf
> >
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
>
> DISCLAIMER:\ L'utilizzo non autorizzato del presente
> messagg...{{dropped}}
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>
>
>
> Les informations contenues dans ce message sont
> confidentielles et peuvent constituer des informations
> privilegiees. Si vous n etes pas le destinataire de ce
> message, il vous est interdit de le copier, de le faire
> suivre, de le divulguer ou d en utiliser tout ou partie. Si
> vous avez recu ce message par erreur, merci de le supprimer
> de votre systeme, ainsi que toutes ses copies, et d en
> avertir immediatement l expediteur par message de retour.
> Il est impossible de garantir que les communications par
> messagerie electronique arrivent en temps utile, sont
> securisees ou denuees de toute erreur ou virus. En
> consequence, l expediteur n accepte aucune responsabilite du
> fait des erreurs ou omissions qui pourraient en resulter.
> --- ----------------------------------------------------- ---
> The information contained in this e-mail is confidential. ...{{dropped}}


From marcella.marinelli at uniroma1.it  Thu Jan 11 15:26:10 2007
From: marcella.marinelli at uniroma1.it (march)
Date: Thu, 11 Jan 2007 06:26:10 -0800 (PST)
Subject: [R-SIG-Finance] simulation gbm with jumps
Message-ID: <8278024.post@talk.nabble.com>


Hi everybody
I'd like to simulate a Generalized Wiener Process with jumps. Any
suggestion?
Thanks
Marcella
-- 
View this message in context: http://www.nabble.com/simulation-gbm-with-jumps-tf2959050.html#a8278024
Sent from the Rmetrics mailing list archive at Nabble.com.


From martin.becker at mx.uni-saarland.de  Thu Jan 11 15:56:55 2007
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Thu, 11 Jan 2007 15:56:55 +0100
Subject: [R-SIG-Finance] simulation gbm with jumps
In-Reply-To: <8278024.post@talk.nabble.com>
References: <8278024.post@talk.nabble.com>
Message-ID: <45A65037.5060409@mx.uni-saarland.de>

march schrieb:
> Hi everybody
> I'd like to simulate a Generalized Wiener Process with jumps. Any
> suggestion?
>   

This seems to be a quite general task. Is the jump activity of the 
concerning process finite (as, e.g., in Merton jump-diffusions)? Which 
characteristics of the process have to be simulated? Whole paths or just 
final values?
The books of Wim Schoutens (L?vy Processes in Finance, 2003, Wiley) and 
Rama Cont/Peter Tankov (Financial Modelling with Jump Processes, 2004, 
Chapman&Hall) may be good starting points.

> Thanks
> Marcella
>   

Regards,

  Martin Becker


From finbref.2006 at gmail.com  Thu Jan 11 17:00:55 2007
From: finbref.2006 at gmail.com (Thomas Steiner)
Date: Thu, 11 Jan 2007 17:00:55 +0100
Subject: [R-SIG-Finance] simulation gbm with jumps
In-Reply-To: <45A65037.5060409@mx.uni-saarland.de>
References: <8278024.post@talk.nabble.com>
	<45A65037.5060409@mx.uni-saarland.de>
Message-ID: <d0f55a670701110800i77c8252ax86a8cf411ded9ffd@mail.gmail.com>

> The books of ...

just to add one:
Glasserman, Paul: "Monte Carlo Methods in Financial Engineering"
Springer Series: Stochastic Modelling and Applied Probability , Vol.
53

Thomas


From kriskumar at earthlink.net  Fri Jan 12 04:11:17 2007
From: kriskumar at earthlink.net (kriskumar at earthlink.net)
Date: Fri, 12 Jan 2007 03:11:17 +0000
Subject: [R-SIG-Finance] simulation gbm with jumps
In-Reply-To: <d0f55a670701110800i77c8252ax86a8cf411ded9ffd@mail.gmail.com>
References: <8278024.post@talk.nabble.com><45A65037.5060409@mx.uni-saarland.de>
	<d0f55a670701110800i77c8252ax86a8cf411ded9ffd@mail.gmail.com>
Message-ID: <674895759-1168571491-cardhu_blackberry.rim.net-772629379-@bwe035-cell00.bisx.prod.on.blackberry>

For merton that is poisson jumps with jump size being lognormal it is fairly easy with ?rpoisson and ?rnorm. And 
simillarly for schouten's nig there is dnig. There is a nice paper on simulating from the inverse gamma by nick webber and is fairly easy to do in R as well.

Best
Kris
Sent from my BlackBerry? wireless handheld  

-----Original Message-----
From: "Thomas Steiner" <finbref.2006 at gmail.com>
Date: Thu, 11 Jan 2007 17:00:55 
To:"Martin Becker" <martin.becker at mx.uni-saarland.de>
Cc:r-sig-finance at stat.math.ethz.ch, march <marcella.marinelli at uniroma1.it>
Subject: Re: [R-SIG-Finance] simulation gbm with jumps

> The books of ...

just to add one:
Glasserman, Paul: "Monte Carlo Methods in Financial Engineering"
Springer Series: Stochastic Modelling and Applied Probability , Vol.
53

Thomas

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance


From info at genetrix.se  Fri Jan 12 09:57:11 2007
From: info at genetrix.se (genx)
Date: Fri, 12 Jan 2007 00:57:11 -0800 (PST)
Subject: [R-SIG-Finance] Days between dates
Message-ID: <8294794.post@talk.nabble.com>


What is the function to calculate amount of days between dates ? This is
useful when pricing options, number of days (t) expressed as fraction year
between today and strike day.

Question two, are there any functions to price warrants ? 
-- 
View this message in context: http://www.nabble.com/Days-between-dates-tf2964721.html#a8294794
Sent from the Rmetrics mailing list archive at Nabble.com.


From guillaume.nicoulaud at halbis.com  Fri Jan 12 10:00:41 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Fri, 12 Jan 2007 10:00:41 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A__Days_between_dates?=
Message-ID: <OFFE24367E.D4172B5B-ONC1257261.00317160-C1257261.0031C1E1@hsbc.fr>

I would suggest [ difftime ]

Rgds
G


Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From martin.becker at mx.uni-saarland.de  Fri Jan 12 10:22:59 2007
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Fri, 12 Jan 2007 10:22:59 +0100
Subject: [R-SIG-Finance] Days between dates
In-Reply-To: <8294794.post@talk.nabble.com>
References: <8294794.post@talk.nabble.com>
Message-ID: <45A75373.3010901@mx.uni-saarland.de>

genx schrieb:
> What is the function to calculate amount of days between dates ? This is
> useful when pricing options, number of days (t) expressed as fraction year
> between today and strike day.
>
>   
There is more than one way to represent dates in R, but mostly "-" 
works. To do calculations based on these differences, as.numeric() might 
be useful, e.g.:

 > as.numeric(as.Date("2006-10-10")-as.Date("2005-05-05"))
[1] 523

> Question two, are there any functions to price warrants ? 
>   
I am not aware of the particular differences of pricing options and 
pricing warrants. Package "fOptions" implements some option pricing 
formulae.

Kind regards,

  Martin Becker


From guillaume.nicoulaud at halbis.com  Fri Jan 12 10:43:25 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Fri, 12 Jan 2007 10:43:25 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A_Re=3A__Days_between_?=
	=?iso-8859-15?q?dates?=
Message-ID: <OF1AE1F3EB.5A044CB5-ONC1257261.00353F4D-C1257261.0035AB5D@hsbc.fr>

You may also use difftime (end date, start date, units = defaults to 'days')


> difftime('2006-12-31','2005-12-31')

Time difference of 365 days

> difftime('2006-12-31','2005-12-31',units='weeks')

Time difference of 52.14286 weeks

> difftime('2006-12-31','2005-12-31',units='hours')

Time difference of 8760 hours



G


Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From dsamperi at DecisionSynergy.com  Sun Jan 14 02:20:39 2007
From: dsamperi at DecisionSynergy.com (Dominick Samperi)
Date: Sat, 13 Jan 2007 20:20:39 -0500
Subject: [R-SIG-Finance] FinancePack and The Mind of the Market
Message-ID: <45A98567.8070208@DecisionSynergy.com>

The C++ and R code that is part of the R packages
FinancePack and FractalPack may be of some interest
to users of QuantLib and/or R-sig-finance. There you
will find open source implementations of implied tree
construction, volatility surface calibration, credit
modeling, time series generation using multifractals and
other methods, agent-based simulations, Mandelbrot
set exploration, scale-free and random network
simulations, and a few other functions.

The underlying C++ code is NOT copyleft, and can
be incorporated into systems like QuantLib (for example)
under the terms of an Open Source License.

Some of this software was designed to complement my
paper titled "The Mind of the Market", where I develop
a neuroscientific viewpoint on finance practice. It can be
downloaded from http://ssrn.com/abstract=955023.

Please feel free (and obliged if you find this stuff useful) to send me
any feedback on the software and/or the paper that you might
have (especially the paper).

These packages were designed to serve as examples for
researchers and practitioners who want to provide
software illustrations of their work along with
paper publications, something that seems to be fairly
common in statistics, but not common enough in
other disciplines like finance.  The idea is to provide
a complete framework including a GUI to illustrate
your results and permit the user to experiment. The
wide availability of the open source R system makes
this more feasible. (The importance of this
for computational science is discussed under the topic
"reproducible research" at
http://www-stat.stanford.edu/~wavelab, for example).

The packages and associated documentation can be
downloaded from http://www.DecisionSynergy.com.
The document FinancePack.pdf describes both packages
and elaborates on the philosophy mentioned above. The
package RcppTemplate may be helpful for building an R
package around C++ code that implements your ideas.

See FinancePack.pdf for more info, and please read
"The Mind of the Market" and send me your thoughts...

Thanks,
Dominick


From Achim.Zeileis at R-project.org  Wed Jan 17 18:12:06 2007
From: Achim.Zeileis at R-project.org (Achim Zeileis)
Date: Wed, 17 Jan 2007 18:12:06 +0100
Subject: [R-SIG-Finance] Fan charts in "vars" package
Message-ID: <20070117181206.33ebb9e2.Achim.Zeileis@R-project.org>

Dear Finance SIG,

I'm forwarding this mail from Philip Wagner about fan charts.

(Philip, the Finance SIG (special interest group) is the appropriate
list for asking questions related to econometric/financial problems.
For subscription, see
  https://stat.ethz.ch/mailman/listinfo/r-sig-finance
If a question is about a contributed package, it is good practice to
have the package author (in this case Bernhard Pfaff) in Cc.)

And now the question...
Z

Hello, 
 
I work as a macroeconomist, and I?m trying to do add some fan charts to
my porjections. I would please like to know if someone could help me
out. I?m specifically having trouble with the fan charts in the "var"
package. I would please like to know how I can fix a "mean" or "medium"
in the predict( ) function for the VAR estimation. So that, in the fan
chart ,the center of the projection would be the "medium" I had
previously fixed. If you have the answer for my question or just know
some book I could read that could help me out, I would be very please.

With best regards,
Philip P. Wagner
Unibanco Macroeconomic Research
Fone: (55 11) 3584 4675
e-mail: philip.wagner at unibanco.com.br


From Rob.Hyndman at buseco.monash.edu.au  Wed Jan 17 22:12:34 2007
From: Rob.Hyndman at buseco.monash.edu.au (Rob Hyndman)
Date: Thu, 18 Jan 2007 08:12:34 +1100
Subject: [R-SIG-Finance] Fan charts in "vars" package
In-Reply-To: <20070117181206.33ebb9e2.Achim.Zeileis@R-project.org>
References: <20070117181206.33ebb9e2.Achim.Zeileis@R-project.org>
Message-ID: <905db6ff0701171312v7c1d5e97h97807cb8be54b741@mail.gmail.com>

You can also produce fan charts with the forecast package.


> Hello,
>
> I work as a macroeconomist, and I?m trying to do add some fan charts to
> my porjections. I would please like to know if someone could help me
> out. I?m specifically having trouble with the fan charts in the "var"
> package. I would please like to know how I can fix a "mean" or "medium"
> in the predict( ) function for the VAR estimation. So that, in the fan
> chart ,the center of the projection would be the "medium" I had
> previously fixed. If you have the answer for my question or just know
> some book I could read that could help me out, I would be very please.
>
> With best regards,
> Philip P. Wagner
> Unibanco Macroeconomic Research
> Fone: (55 11) 3584 4675
> e-mail: philip.wagner at unibanco.com.br
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>


-- 
_____________________________
Rob J Hyndman
Professor of Statistics, Monash University
Editor-in-Chief, International Journal of Forecasting
http://www.robhyndman.info/


From michel.pouchain at certi.adc.education.fr  Fri Jan 19 08:42:16 2007
From: michel.pouchain at certi.adc.education.fr (POUCHAIN Michel)
Date: Fri, 19 Jan 2007 08:42:16 +0100
Subject: [R-SIG-Finance] a pb wtith a script of fMultivar
Message-ID: <21a20e21e586.21e58621a20e@adc1.adc.education.fr>

from an example of the doc of fMultivar
This is the script with the "require" for the libraries
and under R2.3.1
Copy of the error message
is it necesary to load an other lib ? an other function ?
Thanks
sincerely
Michel POUCHAIN
university PAris 13
------------------------------------------------------------
require(fBasics)
require(fCalendar)
require(fSeries)
require(fMultivar)
require(fExtremes)
require(fOptions)
require(fPortfolio)
require(mgcv)

## SOURCE("fMultivar.2A-RegressionModelling")
## Not run:
## regFit -
data(recession)
recession[,1] = paste(recession[,1], "28", sep = "")
## myPlot -
myPlot = function(recession, in.sample) {
recession = as.timeSeries(recession)[, "recession"]
in.sample = as.timeSeries(recession)[, "recession"]
Date = recession[, "date"]
Date = trunc(Date/100) + (Date-100*trunc(Date/100))/12
Recession = recession[, "recession"]
inSample = as.vector(in.sample)
plot(Date, Recession, type = "n", main = "US Recession")
grid()
lines(Date, Recession, type = "h", col = "steelblue3")
lines(Date, inSample)
}
## Generalized Additive Modelling:
require(mgcv)
par(mfrow = c(2, 2))
fit = gregFit(formula = recession ~ s(tbills3m) + s(tbonds10y),
family = gaussian(), data = recession, use = "gam")
# In Sample Prediction:
in.sample = predict(fit, newdata = recession)$fit
myPlot(recession, in.sample)
# Summary:
summary(fit)
# Add plots from the original plot method:
gam.fit = fit at fit
class(gam.fit) = "gam"
plot(gam.fit)
## End(Not run)
------------------------------------
Error message
-------------

[1] TRUE
> par(mfrow = c(2, 2))
> fit = gregFit(formula = recession ~ s(tbills3m) + s(tbonds10y),
+ family = gaussian(), data = recession, use = "gam")
Erreur : impossible de trouver la fonction "gregFit"
> # In Sample Prediction:
> in.sample = predict(fit, newdata = recession)$fit
Erreur dans predict(fit, newdata = recession) : 
        objet "fit" non trouv?
> myPlot(recession, in.sample)
Erreur dans if (timeTest == 0) iso.format = "%Y-%m-%d" : 
        valeur manquante l? o? TRUE / FALSE est requis
> # Summary:
> summary(fit)
Erreur dans summary(fit) : objet "fit" non trouv?
> # Add plots from the original plot method:
> gam.fit = fit at fit
Erreur : objet "fit" non trouv?
> class(gam.fit) = "gam"
> plot(gam.fit)
Erreur dans plot.gam(gam.fit) : No terms to plot - nothing for
plot.gam() to do.
> ## End(Not run)
> 
>


From tobias_elbert at hotmail.com  Wed Jan 10 02:26:48 2007
From: tobias_elbert at hotmail.com (Tobias)
Date: Tue, 9 Jan 2007 17:26:48 -0800 (PST)
Subject: [R-SIG-Finance] Backing out implied parameters from HNGARCH option
	model
Message-ID: <8250644.post@talk.nabble.com>


Dear all,

I am trying to back out the implied parameters using observed options prices
and the Heston-Nandi Garch model via NLS. 

For this purpose I am using Diethelm Wuertz's pricing algorithm in a
function called hnoption similar to this:

hnoption <- function(b)      #where b is the vector of parameters passed on
to the pricing algorithm
{
     ....
     hnoption <- value obtained via pricing algorithm
}

calccall <- function(b)
{
	for (jj in 1:num1)
	{
		counter <<- jj 
		qq[jj] <- hnoption(b)
		
	}
	
	calccall <- sum((c-qq)^2)
 }

# some initial guess of parameters
bstart <- c(.1,.1,1,-.5,.7)

p <- optim(bstart,calccall,hessian = TRUE)

The code works fine for a few iterations of optim(). However, at some point
it produces parameter values that cause an integral that's being evaluated
in hnoption to drift off to infinity. At least that's what I think happens
when R produces the error: error in integrate(): non-finite function value.
I have tried to constrain some parameters in optim() but keep receiving the
same error. 

I would really appreciate if someone could point me to possible solutions. 

Regards 

Tobias

-- 
View this message in context: http://www.nabble.com/Backing-out-implied-parameters-from-HNGARCH-option-model-tf2950123.html#a8250644
Sent from the Rmetrics mailing list archive at Nabble.com.


From jpressnell at westnet.com.au  Tue Jan 23 21:08:11 2007
From: jpressnell at westnet.com.au (Jerry Pressnell)
Date: Wed, 24 Jan 2007 07:08:11 +1100
Subject: [R-SIG-Finance] get.hist.quote
Message-ID: <000001c73f2a$35de35c0$6401a8c0@DESKTOP>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070124/cf540bbf/attachment.pl 

From bbands at gmail.com  Tue Jan 23 21:13:58 2007
From: bbands at gmail.com (BBands)
Date: Tue, 23 Jan 2007 12:13:58 -0800
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <000001c73f2a$35de35c0$6401a8c0@DESKTOP>
References: <000001c73f2a$35de35c0$6401a8c0@DESKTOP>
Message-ID: <6e8360ad0701231213w8ba3a72i94337cfb7927893e@mail.gmail.com>

On 1/23/07, Jerry Pressnell <jpressnell at westnet.com.au> wrote:
> I have been running this script regularly for some time. Recently the
> following error message appeared.
>
> Any suggestions to correct this change would be appreciated.
>
>
>
> EWL<-get.hist.quote("EWL",start=(today <- Sys.Date())-350,quote="Cl")
>
> trying URL 'http://chart.yahoo.com/table.csv?s=EWL&a=1&b&c 06&d=0&e!&f
> 07&g=d&q=q&y=0&z=EWL&x=.csv'
>
> Content type 'text/csv' length unknown
>
> opened URL
>
> downloaded 11Kb
>
>
>
> Error in if (dat[n] != start) cat(format(dat[n], "time series starts
> %Y-%m-%d\n")) :
>
> missing value where TRUE/FALSE needed

I received a similar message a few weeks ago. Apparently in was a
Yahoo! problem as it went away within an hour and I haven't seen it
since.

     jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.


From junkmanu at free.fr  Tue Jan 23 21:29:22 2007
From: junkmanu at free.fr (manu)
Date: Tue, 23 Jan 2007 21:29:22 +0100
Subject: [R-SIG-Finance] R-SIG-Finance Digest, Vol 32, Issue 7
Message-ID: <45B4BB5400078B5D@> (added by postmaster@aliceadsl.fr)


hi michel
the code works with 2.4.1

the pb must be a problem of version
update to 2.4.1 ;-)

regards

emmanuel

>from an example of the doc of fMultivar
>This is the script with the "require" for the libraries
>and under R2.3.1
>Copy of the error message
>is it necesary to load an other lib ? an other function ?
>Thanks
>sincerely
>Michel POUCHAIN
>university PAris 13
>------------------------------------------------------------
>require(fBasics)
>require(fCalendar)
>require(fSeries)
>require(fMultivar)
>require(fExtremes)
>require(fOptions)
>require(fPortfolio)
>require(mgcv)
>
>## SOURCE("fMultivar.2A-RegressionModelling")
>## Not run:
>## regFit -
>data(recession)
>recession[,1] = paste(recession[,1], "28", sep = "")
>## myPlot -
>myPlot = function(recession, in.sample) {
>recession = as.timeSeries(recession)[, "recession"]
>in.sample = as.timeSeries(recession)[, "recession"]
>Date = recession[, "date"]
>Date = trunc(Date/100) + (Date-100*trunc(Date/100))/12
>Recession = recession[, "recession"]
>inSample = as.vector(in.sample)
>plot(Date, Recession, type = "n", main = "US Recession")
>grid()
>lines(Date, Recession, type = "h", col = "steelblue3")
>lines(Date, inSample)
>}
>## Generalized Additive Modelling:
>require(mgcv)
>par(mfrow = c(2, 2))
>fit = gregFit(formula = recession ~ s(tbills3m) + s(tbonds10y),
>family = gaussian(), data = recession, use = "gam")
># In Sample Prediction:
>in.sample = predict(fit, newdata = recession)$fit
>myPlot(recession, in.sample)
># Summary:
>summary(fit)
># Add plots from the original plot method:
>gam.fit = fit at fit
>class(gam.fit) = "gam"
>plot(gam.fit)
>## End(Not run)
>------------------------------------
>Error message
>-------------
>
>[1] TRUE
>> par(mfrow = c(2, 2))
>> fit = gregFit(formula = recession ~ s(tbills3m) + s(tbonds10y),
>+ family = gaussian(), data = recession, use = "gam")
>Erreur : impossible de trouver la fonction "gregFit"
>> # In Sample Prediction:
>> in.sample = predict(fit, newdata = recession)$fit
>Erreur dans predict(fit, newdata = recession) : 
>        objet "fit" non trouv?
>> myPlot(recession, in.sample)
>Erreur dans if (timeTest == 0) iso.format = "%Y-%m-%d" : 
>        valeur manquante l? o? TRUE / FALSE est requis
>> # Summary:
>> summary(fit)
>Erreur dans summary(fit) : objet "fit" non trouv?
>> # Add plots from the original plot method:
>> gam.fit = fit at fit
>Erreur : objet "fit" non trouv?
>> class(gam.fit) = "gam"
>> plot(gam.fit)
>Erreur dans plot.gam(gam.fit) : No terms to plot - nothing for
>plot.gam() to do.
>> ## End(Not run)
>> 
>>
>
>
>
>------------------------------
>
>Message: 2
>Date: Tue, 9 Jan 2007 17:26:48 -0800 (PST)
>From: Tobias <tobias_elbert at hotmail.com>
>Subject: [R-SIG-Finance] Backing out implied parameters from HNGARCH
>	option	model
>To: r-sig-finance at stat.math.ethz.ch
>Message-ID: <8250644.post at talk.nabble.com>
>Content-Type: text/plain; charset=us-ascii
>
>
>Dear all,
>
>I am trying to back out the implied parameters using observed options prices
>and the Heston-Nandi Garch model via NLS. 
>
>For this purpose I am using Diethelm Wuertz's pricing algorithm in a
>function called hnoption similar to this:
>
>hnoption <- function(b)      #where b is the vector of parameters passed on
>to the pricing algorithm
>{
>     ....
>     hnoption <- value obtained via pricing algorithm
>}
>
>calccall <- function(b)
>{
>	for (jj in 1:num1)
>	{
>		counter <<- jj 
>		qq[jj] <- hnoption(b)
>		
>	}
>	
>	calccall <- sum((c-qq)^2)
> }
>
># some initial guess of parameters
>bstart <- c(.1,.1,1,-.5,.7)
>
>p <- optim(bstart,calccall,hessian = TRUE)
>
>The code works fine for a few iterations of optim(). However, at some point
>it produces parameter values that cause an integral that's being evaluated
>in hnoption to drift off to infinity. At least that's what I think happens
>when R produces the error: error in integrate(): non-finite function value.
>I have tried to constrain some parameters in optim() but keep receiving the
>same error. 
>
>I would really appreciate if someone could point me to possible solutions. 
>
>Regards 
>
>Tobias
>
>-- 
>View this message in context: http://www.nabble.com/Backing-out-implied-parameters-from-HNGARCH-option-model-tf2950123.html#a8250644
>Sent from the Rmetrics mailing list archive at Nabble.com.
>
>
>
>------------------------------
>
>_______________________________________________
>R-SIG-Finance mailing list
>R-SIG-Finance at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>
>End of R-SIG-Finance Digest, Vol 32, Issue 7
>********************************************
>

= = = = = = = = = ========= = = = = = = = = = =
			
manu
junkmanu at free.fr
23/01/2007


From jpressnell at westnet.com.au  Tue Jan 23 22:30:34 2007
From: jpressnell at westnet.com.au (Jerry Pressnell)
Date: Wed, 24 Jan 2007 08:30:34 +1100
Subject: [R-SIG-Finance] get.hist.quote
Message-ID: <000701c73f35$b786a660$6401a8c0@DESKTOP>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070124/0867c64d/attachment.pl 

From info at genetrix.se  Fri Jan 26 09:59:54 2007
From: info at genetrix.se (genx)
Date: Fri, 26 Jan 2007 00:59:54 -0800 (PST)
Subject: [R-SIG-Finance] getReturns
Message-ID: <8647844.post@talk.nabble.com>


plot(getReturns(logseries))
Error in ans[-1, ] : incorrect number of dimensions

Anyone got a clue why i get this error message? I have a series with ~1400
close values, did a log(series).
-- 
View this message in context: http://www.nabble.com/getReturns-tf3121306.html#a8647844
Sent from the Rmetrics mailing list archive at Nabble.com.


From info at genetrix.se  Fri Jan 26 17:32:33 2007
From: info at genetrix.se (genx)
Date: Fri, 26 Jan 2007 08:32:33 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] getReturns
In-Reply-To: <8647844.post@talk.nabble.com>
References: <8647844.post@talk.nabble.com>
Message-ID: <8654450.post@talk.nabble.com>


str(logseries) 

 atomic [1:200] 5.97 5.98 5.98 5.98 5.98 ...
 - attr(*, "index")=Class 'Date'  num [1:200] 13249 13250 13251 13252 13255
...



genx wrote:
> 
> plot(getReturns(logseries))
> Error in ans[-1, ] : incorrect number of dimensions
> 
> Anyone got a clue why i get this error message? I have a series with ~1400
> close values, did a log(series).
> 

-- 
View this message in context: http://www.nabble.com/getReturns-tf3121306.html#a8654450
Sent from the Rmetrics mailing list archive at Nabble.com.


From prossi79.r at gmail.com  Fri Jan 26 18:41:33 2007
From: prossi79.r at gmail.com (Paolo Rossi)
Date: Fri, 26 Jan 2007 18:41:33 +0100
Subject: [R-SIG-Finance] Error with solve.QP function
Message-ID: <9e8f1a130701260941v1fd0437bkb561352b4057c55d@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070126/04cb6cce/attachment.pl 

From Mark.Leeds at morganstanley.com  Fri Jan 26 21:25:33 2007
From: Mark.Leeds at morganstanley.com (Leeds, Mark (IED))
Date: Fri, 26 Jan 2007 15:25:33 -0500
Subject: [R-SIG-Finance] FW: Re: [R] comparison of packages for Unit Root
	test
Message-ID: <D3AEEDA31E57474B840BEBC25A8A8344F395EB@NYWEXMB23.msad.ms.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070126/c31da4d6/attachment.pl 

From Achim.Zeileis at R-project.org  Thu Feb  1 03:20:27 2007
From: Achim.Zeileis at R-project.org (Achim Zeileis)
Date: Thu, 1 Feb 2007 03:20:27 +0100 (CET)
Subject: [R-SIG-Finance] CFE 2007: Abstract submission
Message-ID: <Pine.LNX.4.44.0701301531170.10150-100000@disco.wu-wien.ac.at>

Dear useRs,

the online abstract submission is now open for the workshop
  Computational and Financial Econometrics
  April 20-22, 2007
  University of Geneva, Switzerland
  http://www.csdassn.org/europe/CFE07/
organized jointly by the Society for Computational Economics, the
ERCIM Working Group on "Computing & Statistics" and the International
Association for Statistical Computing.

I would like to invite the subscribers to this list to present their work
at this workshop. If you are interested, please submit an abstract via the
Web page above, indicating in the "Comment" field that it is intended

  for the session "Computational Econometrics and Finance in R"

The submission deadline is March 2, 2007.

Looking forward to seeing you in Geneva.
Best wishes,
Z


From mail at xesoftware.com.au  Thu Feb  8 23:05:21 2007
From: mail at xesoftware.com.au (stephenc)
Date: Fri, 9 Feb 2007 09:05:21 +1100
Subject: [R-SIG-Finance] some help with technical analysis
Message-ID: <006301c74bcd$3ba841d0$7701a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070209/a3d93e88/attachment.pl 

From brian at braverock.com  Thu Feb  8 23:22:11 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 8 Feb 2007 16:22:11 -0600
Subject: [R-SIG-Finance] some help with technical analysis
In-Reply-To: <006301c74bcd$3ba841d0$7701a8c0@tablet>
References: <006301c74bcd$3ba841d0$7701a8c0@tablet>
Message-ID: <200702081622.11583.brian@braverock.com>

On Thursday 08 February 2007 16:05, stephenc wrote:
> Is there published material of this type with examples, etc about how
> to do technical analysis with fMultivar?

I'll let someone else answer most of the rest of your query, but in 
general for fMultivar and other R packages, 

?functionname

will give you function help, including examples that should be directly 
executable (including loading whatever data they need)

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From joshulrich21 at hotmail.com  Fri Feb  9 04:11:03 2007
From: joshulrich21 at hotmail.com (Josh Ulrich)
Date: Thu, 08 Feb 2007 21:11:03 -0600
Subject: [R-SIG-Finance] some help with technical analysis
Message-ID: <BAY111-F23C0C25D8996FB20B4C867DB9C0@phx.gbl>

>Where can I get the file spc1970-pattern.csv, spcindis, spc1970 assuming
>these are the data files for the examples so I can study the code that is
>given?

The file "spc1970-pattern.csv" is created by one of the examples in 
"./fMultivar/demo/xmpDWChapter041.R".  The other data sets can be found in 
"./fMultivar/data" in archived versions of fMultivar.  You can find one of 
the archived versions containing the data here:
http://cran.wustl.edu/src/contrib/Archive/F/fMultivar_221.10065.tar.gz

Also note that the "rsiTA" function does not compute the traditional Welles 
Wilder RSI.

Regards,
Josh

_________________________________________________________________
>From predictions to trailers, check out the MSN Entertainment Guide to the 
Academy Awards?


From info at genetrix.se  Fri Feb  9 10:53:37 2007
From: info at genetrix.se (genx)
Date: Fri, 9 Feb 2007 01:53:37 -0800 (PST)
Subject: [R-SIG-Finance] get.hist.quote
Message-ID: <8882885.post@talk.nabble.com>


All of a sudden get.hist.quote cease to function, i switched to zoo after i
totally failed to get yahooImport to work. I've been using the below R
snippet for weeks without any problems what so ever. 

The error

R> source("OMX.R")
trying URL
'http://chart.yahoo.com/table.csv?s=^OMX&a=2&b=11&c=2005&d=1&e=08&f=2007&g=d&q=q&y=0&z=^OMX&x=.csv'
Content type 'text/csv' length unknown
opened URL
.......... .......... ..
downloaded 22Kb

Error in if (!quiet && dat[n] != start) cat(format(dat[n], "time series
starts %Y-%m-%d\n")) :
        missing value where TRUE/FALSE needed


The R snippet

OMX <- get.hist.quote("^OMX",start=(today <- Sys.Date())-735,quote="Cl")
save(OMX, file="OMX.csv")


-- 
View this message in context: http://www.nabble.com/get.hist.quote-tf3199391.html#a8882885
Sent from the Rmetrics mailing list archive at Nabble.com.


From joshulrich21 at hotmail.com  Fri Feb  9 14:52:41 2007
From: joshulrich21 at hotmail.com (Josh Ulrich)
Date: Fri, 09 Feb 2007 07:52:41 -0600
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <8882885.post@talk.nabble.com>
Message-ID: <BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>

>All of a sudden get.hist.quote cease to function, i switched to zoo after i
>totally failed to get yahooImport to work. I've been using the below R
>snippet for weeks without any problems what so ever.

<snip>

>Error in if (!quiet && dat[n] != start) cat(format(dat[n], "time series
>starts %Y-%m-%d\n")) :
>          missing value where TRUE/FALSE needed

This is because Yahoo recently changed the date format of its CSV files from 
"%d-%m-%y" to "%Y-%m-%d".  All that needs to be changed in 'get.hist.quote' 
is this line of code:
from: dat <- as.Date(dat, "%d-%b-%Y")
to: dat <- as.Date(dat, "%Y-%m-%d")

Other similar functions (e.g. 'yahooImport') will likely have the same 
problem.

_________________________________________________________________
Check out all that glitters with the MSN Entertainment Guide to the Academy 
Awards?   http://movies.msn.com/movies/oscars2007/?icid=ncoscartagline2


From ggrothendieck at gmail.com  Fri Feb  9 15:02:40 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 9 Feb 2007 09:02:40 -0500
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
References: <8882885.post@talk.nabble.com>
	<BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
Message-ID: <971536df0702090602g7d070bc8l78d0ec48d6bd5286@mail.gmail.com>

Here is a kludge that will allow it to work until its fixed:


get.hist.quote <- function(...) {
	as.Date <- function(x, fmt, ...) {
		if (!missing(fmt)) fmt <- "%Y-%m-%d"
		base::as.Date(x, fmt, ...)
	}
	get.hist.quote <- tseries::get.hist.quote
	environment(get.hist.quote) <- environment()
	get.hist.quote(...)
}

# test
ibm <- get.hist.quote("ibm")



On 2/9/07, Josh Ulrich <joshulrich21 at hotmail.com> wrote:
> >All of a sudden get.hist.quote cease to function, i switched to zoo after i
> >totally failed to get yahooImport to work. I've been using the below R
> >snippet for weeks without any problems what so ever.
>
> <snip>
>
> >Error in if (!quiet && dat[n] != start) cat(format(dat[n], "time series
> >starts %Y-%m-%d\n")) :
> >          missing value where TRUE/FALSE needed
>
> This is because Yahoo recently changed the date format of its CSV files from
> "%d-%m-%y" to "%Y-%m-%d".  All that needs to be changed in 'get.hist.quote'
> is this line of code:
> from: dat <- as.Date(dat, "%d-%b-%Y")
> to: dat <- as.Date(dat, "%Y-%m-%d")
>
> Other similar functions (e.g. 'yahooImport') will likely have the same
> problem.
>
> _________________________________________________________________
> Check out all that glitters with the MSN Entertainment Guide to the Academy
> Awards(r)   http://movies.msn.com/movies/oscars2007/?icid=ncoscartagline2
>
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>


From info at genetrix.se  Fri Feb  9 16:04:59 2007
From: info at genetrix.se (genx)
Date: Fri, 9 Feb 2007 07:04:59 -0800 (PST)
Subject: [R-SIG-Finance] [R-sig-finance] get.hist.quote
In-Reply-To: <BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
References: <8882885.post@talk.nabble.com>
	<BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
Message-ID: <8887237.post@talk.nabble.com>



Josh Ulrich wrote:
> 
> This is because Yahoo recently changed the date format of its CSV files
> from 
> "%d-%m-%y" to "%Y-%m-%d".  All that needs to be changed in
> 'get.hist.quote' 
> is this line of code:
> from: dat <- as.Date(dat, "%d-%b-%Y")
> to: dat <- as.Date(dat, "%Y-%m-%d")
> 
> Other similar functions (e.g. 'yahooImport') will likely have the same 
> problem.
> 

I suspected it was a Yahoo issue, ok, then i know for sure and hope rmetrics
and zoo update the packages to reflect to changes made by finance yahoo.

Thank you for your help, very much appreciated.
-- 
View this message in context: http://www.nabble.com/get.hist.quote-tf3199391.html#a8887237
Sent from the Rmetrics mailing list archive at Nabble.com.


From ggrothendieck at gmail.com  Fri Feb  9 17:08:56 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 9 Feb 2007 11:08:56 -0500
Subject: [R-SIG-Finance] [R-sig-finance] get.hist.quote
In-Reply-To: <8887237.post@talk.nabble.com>
References: <8882885.post@talk.nabble.com>
	<BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
	<8887237.post@talk.nabble.com>
Message-ID: <971536df0702090808q47a7b2d6k741be3c7788e0415@mail.gmail.com>

On 2/9/07, genx <info at genetrix.se> wrote:
>
>
> Josh Ulrich wrote:
> >
> > This is because Yahoo recently changed the date format of its CSV files
> > from
> > "%d-%m-%y" to "%Y-%m-%d".  All that needs to be changed in
> > 'get.hist.quote'
> > is this line of code:
> > from: dat <- as.Date(dat, "%d-%b-%Y")
> > to: dat <- as.Date(dat, "%Y-%m-%d")
> >
> > Other similar functions (e.g. 'yahooImport') will likely have the same
> > problem.
> >
>
> I suspected it was a Yahoo issue, ok, then i know for sure and hope rmetrics
> and zoo update the packages to reflect to changes made by finance yahoo.

This has nothing to do with with the zoo package.  Its a matter of
changing get.hist.quote in the tseries package to handle
the change in yahoo.


From mail at xesoftware.com.au  Fri Feb  9 21:53:50 2007
From: mail at xesoftware.com.au (stephenc)
Date: Sat, 10 Feb 2007 07:53:50 +1100
Subject: [R-SIG-Finance] displaying a traditional stock chart
Message-ID: <015101c74c8c$68c28760$7701a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070210/f618c1e7/attachment.pl 

From deliverable at gmail.com  Fri Feb  9 22:03:43 2007
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Fri, 9 Feb 2007 13:03:43 -0800
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <015101c74c8c$68c28760$7701a8c0@tablet>
References: <015101c74c8c$68c28760$7701a8c0@tablet>
Message-ID: <37D30C21-8FD3-4501-9345-6495C3D6C1E8@gmail.com>

I'd happily recommend FCharts -- although not for R per se, this is a  
fantastic application which can read text inputs and generate all  
kinds of charts, if you're into that sort of thing.

http://www.spacejock.com/FreechartsSE.html

Cheers,
Alexy

On Feb 9, 2007, at 12:53 PM, stephenc wrote:

> Hi
>
>
>
> Can anyone point me to the code for a traditional bar-chart display  
> with
> high. low. open, close and volume all shown on the same chart?
>
>
>
> Stephen Choularton
>
> 02 9999 2226
>
> 0413 545 182
>
>
>
>
>
>
>
>
> -- 
>
>
>
> 9:58 PM
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance


From bbands at gmail.com  Fri Feb  9 22:13:56 2007
From: bbands at gmail.com (BBands)
Date: Fri, 9 Feb 2007 13:13:56 -0800
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <015101c74c8c$68c28760$7701a8c0@tablet>
References: <015101c74c8c$68c28760$7701a8c0@tablet>
Message-ID: <6e8360ad0702091313n2c0d88eco1e1bd8560f116342@mail.gmail.com>

On 2/9/07, stephenc <mail at xesoftware.com.au> wrote:
> Hi
>
> Can anyone point me to the code for a traditional bar-chart display with
> high. low. open, close and volume all shown on the same chart?

Dirk and I worked on something that might be of interest...

http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=65

     jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.


From whit.armstrong at hcmny.com  Fri Feb  9 22:51:15 2007
From: whit.armstrong at hcmny.com (Armstrong, Whit)
Date: Fri, 9 Feb 2007 16:51:15 -0500
Subject: [R-SIG-Finance] displaying a traditional stock chart
Message-ID: <E58BE6136618CF4C964F6EC7773AE569F57066@ex4.nyc.hcmny.com>

looks like a nice chart, but one of the key features missing from R is
interactive charts.

simple things like mouse tracking, zoom, line annotations, etc.

This would be huge to have in R.

Anyone have an idea how hard this would be?



> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch 
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of BBands
> Sent: Friday, February 09, 2007 4:14 PM
> To: R-sig-finance
> Subject: Re: [R-SIG-Finance] displaying a traditional stock chart
> 
> On 2/9/07, stephenc <mail at xesoftware.com.au> wrote:
> > Hi
> >
> > Can anyone point me to the code for a traditional bar-chart display 
> > with high. low. open, close and volume all shown on the same chart?
> 
> Dirk and I worked on something that might be of interest...
> 
> http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=65
> 
>      jab
> --
> John Bollinger, CFA, CMT
> www.BollingerBands.com
> 
> If you advance far enough, you arrive at the beginning.
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 




This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.


From edd at debian.org  Sat Feb 10 02:23:45 2007
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 9 Feb 2007 19:23:45 -0600
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <E58BE6136618CF4C964F6EC7773AE569F57066@ex4.nyc.hcmny.com>
References: <E58BE6136618CF4C964F6EC7773AE569F57066@ex4.nyc.hcmny.com>
Message-ID: <17869.7841.953771.779999@basebud.nulle.part>


On 9 February 2007 at 16:51, Armstrong, Whit wrote:
| looks like a nice chart, but one of the key features missing from R is
| interactive charts.
| 
| simple things like mouse tracking, zoom, line annotations, etc.

Try the various Java devices at www.rosuda.org, or now rforge.net. A lot of
that was already in the latest Quantian, and it has also gotten easier on
Debian / Ubuntu thanks to the packages Sun Java and R's new R CMD reconfjava. 

Just to see how painful it would be to do, I also added mouse tracking to
something with R's tcltk a few years ago. But I'm no gui hacker so...

| This would be huge to have in R.
| 
| Anyone have an idea how hard this would be?

Somewhat, as we know, as the base R graphics are static. But with Java you
can do some tricks. I also hope that svg device will help for zooming etc.

Dirk

-- 
Hell, there are no rules here - we're trying to accomplish something. 
                                                  -- Thomas A. Edison


From ecjbosu at aol.com  Sun Feb 11 01:10:30 2007
From: ecjbosu at aol.com (Joe W. Byers)
Date: Sat, 10 Feb 2007 18:10:30 -0600
Subject: [R-SIG-Finance] NERC holiday calendar
Message-ID: <45CE5EF6.2040004@aol.com>

Spencer, Diethelm, and rmetrics followers,

I have created a calendar function to build out the NERC holidays for
power prices.  NERC: North American Reliability Council.  I started this
because I needed a NYMEX calendar as the text at the bottom explains,
but I am still waiting on NYMEX to reply on my questions.

The NERC holiday function is based on teh holidayNYSE function from
rmetrics and the NERC website rules found at
http://www.nerc.com/~oc/offpeaks.html

I would appreciate any help in verifying this function.  It returns the
correct holidays as shown on their website.  I am not sure if the
historical holidays are correct, especially prior to 1971 when Memorial
day was on 5/30.  I have sent the NERC contact an email with this question.

I did add a new argument to the function for the FinCenter of the
timedate class because NERC covers all North America.  User will want to
set this to the FinCenter appropriate for their use (Chicago,
Pacific,...).  It would be cool to add NERC regions to the timedate zone
or fincenter lists, but this is another discussion.

I would be honored if rmetrics would consider adding this function to
the fCalendar package.

The function is:
#North American Energy Reliabibity Council Holidays calendar
# for determining days when the 16 hour on peak hours of a day
# for the region are recognized as off peak hours.
holidayNERC<-function (year = currentYear,FinCenter = "Eastern")
{
    holidays = NULL
    for (y in year) {
        if (y >= 1885)
            holidays = c(holidays, as.character(USNewYearsDay(y)))
        if (y >= 1885)
            holidays = c(holidays, as.character(USIndependenceDay(y)))
        if (y >= 1885)
            holidays = c(holidays, as.character(USThanksgivingDay(y)))
        if (y >= 1885)
            holidays = c(holidays, as.character(USChristmasDay(y)))
        if (y >= 1887)
            holidays = c(holidays, as.character(USLaborDay(y)))
        if (y <= 1970)
            holidays = c(holidays,
as.character(USDecorationMemorialDay(y)))
        if (y >= 1971)
            holidays = c(holidays, as.character(USMemorialDay(y)))
    }
    holidays = sort(holidays)
    ans = timeDate(holidays)
    ans = ans + as.integer(as.POSIXlt(ans at Data)$wday == 0) *
        24 * 3600
    posix = as.POSIXlt(ans at Data)
    y = posix$year + 1900
    m = posix$mon + 1
    lastday = as.POSIXlt((timeCalendar(y = y + (m + 1)%/%13,
        m = m + 1 - (m + 1)%/%13 * 12, d = 1) - 24 * 3600)@Data)$mday
    ExceptOnLastFriday = timeDate(as.character(.last.of.nday(year = y,
        month = m, lastday = lastday, nday = 5)))
    ans = ans - as.integer(ans >= timeDate("1959-07-03") &
as.POSIXlt(ans at Data)$wday ==
        0 & ans != ExceptOnLastFriday) * 24 * 3600
    ans = ans[!(as.POSIXlt(ans at Data)$wday == 0 |
as.POSIXlt(ans at Data)$wday ==
        6)]
    ans at FinCenter = FinCenter
    ans
}
#########################################################################

Thank you
Joe Wayne Byers, Ph.D.

Spencer Graves wrote:
 >       What level of help do you need?  Have you tried listing the
 > function 'holidayNYSE', making a local copy, then editing it do what you
 > want?  After you've tried that, please send the results to Diethelm
 > Wuertz and me.  If you can't make it work, please explain the problem.
 >
 >       Hope this helps.
 >       Spencer Graves
 >
 > Joe W. Byers wrote:
 >> Rmetrics
 >>
 >> Can anyone help me create a new holidays calendar method like
 >> holidaysNYSE() for NYMEX holidays.  The only difference is the holidays
 >> for Independence day and thanks giving.
 >> Independence Day
 >>  Monday, July 3*
 >>  Tuesday, July 4
 >>  (Electronic trading closed Sunday and Monday, July 2 and 3; reopens
 >> 6:00 PM, July 4)
 >> Thanksgiving
 >>  Thursday, November 23
 >>  Friday, November 24
 >>  (NYMEX ClearPort? and CME Globex? open both days)
 >>
 >> NYMEX is closed on Monday July 3rd this year since the 4th is on a
 >> Tuesday and Friday the day following Thanksgiving.  This will end in
 >> 2007 according to NYMEX.  The Independence day holiday I think will
 >> observe Friday as a holiday when the 4th is on a Thurs but, 
according to
 >> NYMEX they are not sure for 2007.  Also the webpage
 >> http://www.nymex.com/holida_schedu.aspx notes that Christmas eve will
 >> become a holiday in 2007 but expirations will not change.  I am sending
 >> their customer service a request to post a document with the holiday
 >> rules as well as these tables for those of us who worry about a
 >> derivatives calendar.
 >>
 >> Thank you
 >> Joe
 >>
 >> _______________________________________________
 >> R-SIG-Finance at stat.math.ethz.ch mailing list
 >> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
 >>
 >


From ecjbosu at aol.com  Sun Feb 11 01:55:03 2007
From: ecjbosu at aol.com (Joe W. Byers)
Date: Sat, 10 Feb 2007 18:55:03 -0600
Subject: [R-SIG-Finance] NYSE Holiday question for handling holidays that
	occur on a weekend.
In-Reply-To: <mailman.888.1171042740.17937.r-sig-finance@stat.math.ethz.ch>
References: <mailman.888.1171042740.17937.r-sig-finance@stat.math.ethz.ch>
Message-ID: <45CE6967.7000202@aol.com>

All,

The following quote is from the NYSE rule book concerning holidays.

The Exchange Board has also determined that, when any 
<javascript:gotoPreviousHit('traverse_IDAP3JQTIDAP3JQT')>holiday 
<javascript:gotoNextHit('traverse_IDAP3JQTIDAP3JQT')> observed by the 
Exchange falls on a Saturday, the Exchange will not be open for business 
on the preceding Friday and when any 
<javascript:gotoPreviousHit('traverse_IDAP3JQTIDAP3JQT')>holiday 
<javascript:gotoNextHit('traverse_IDAP3JQTIDAP3JQT')> observed by the 
Exchange falls on a Sunday, the Exchange will not be open for business 
on the succeeding Monday, unless unusual business conditions exist, such 
as the ending of a monthly or the yearly accounting period.

This would mean that the calendar functions for the US relating to the 
NYSE and other holidays should have Independence day, Christmas, and New 
Years test for this condition and return the previous or the following 
day for a holiday.

Currently USIndependenceDay is
function (year = currentYear)
{
    ans = year * 10000 + 704
    timeDate(as.character(ans))
}

For example Independence Day 2009 is a Saturday
isWeekday(USIndenpendenceDay(2009))
2009-07-04
     FALSE
The previous day is the recognized holiday
 isWeekday(USIndependenceDay(2009)-24*3600)
2009-07-03
      TRUE

The question I have is the calender functions to return the explicit 
holiday or the implicit holiday that is determined by accounting for 
weekends?

If the implicit holiday code was the correct code, the functions could 
be modified similar to
USIndependenceDay1<-function (year = currentYear)
{
    ans = year * 10000 + 704
    ret=timeDate(as.character(ans))
    if (weekdays(timeDate(as.character(ans))@Data,T)=='Sat')
      ret=timeDate(as.character(ans)) - 24 * 3600
    if (weekdays(timeDate(as.character(ans))@Data,T)=='Sun')
      ret=timeDate(as.character(ans)) + 24 * 3600

    ret
}
USIndependenceDay1(2009)

But a more efficient code would be a function .holiday.weekend.check as
.holiday.weekend.check<-function (date)
{
    ret=timeDate(as.character(date))
    if (weekdays(timeDate(as.character(date))@Data,T)=='Sat')
      ret=timeDate(as.character(ans)) - 24 * 3600
    if (weekdays(timeDate(as.character(date))@Data,T)=='Sun')
      ret=timeDate(as.character(date)) + 24 * 3600

    ret
}
USIndependenceDay2<-function (year = currentYear)
{
    ans = year * 10000 + 704
    .holiday.weekend.check(ans)
}

this would minimize the editing of the current modules.

Thank you
Joe


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070210/5a77566d/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hit-img
Type: image/jpeg
Size: 1089 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070210/5a77566d/attachment.jpe 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hit-img
Type: image/jpeg
Size: 1006 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070210/5a77566d/attachment-0001.jpe 

From Kurt.Hornik at wu-wien.ac.at  Sun Feb 11 14:04:51 2007
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Sun, 11 Feb 2007 14:04:51 +0100
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
References: <8882885.post@talk.nabble.com>
	<BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
Message-ID: <17871.5235.683218.447789@mithrandir.hornik.net>

>>>>> Josh Ulrich writes:

>> All of a sudden get.hist.quote cease to function, i switched to zoo after i
>> totally failed to get yahooImport to work. I've been using the below R
>> snippet for weeks without any problems what so ever.

> <snip>

>> Error in if (!quiet && dat[n] != start) cat(format(dat[n], "time series
>> starts %Y-%m-%d\n")) :
>> missing value where TRUE/FALSE needed

> This is because Yahoo recently changed the date format of its CSV files from 
> "%d-%m-%y" to "%Y-%m-%d".  All that needs to be changed in 'get.hist.quote' 
> is this line of code:
> from: dat <- as.Date(dat, "%d-%b-%Y")
> to: dat <- as.Date(dat, "%Y-%m-%d")

Thanks.  Updated version of tseries on CRAN now.

Best
-k


From mail at xesoftware.com.au  Mon Feb 12 22:57:59 2007
From: mail at xesoftware.com.au (stephenc)
Date: Tue, 13 Feb 2007 08:57:59 +1100
Subject: [R-SIG-Finance] extracting technical indicators
Message-ID: <000a01c74ef0$ddbee020$7701a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070213/00bc933f/attachment.pl 

From joshulrich21 at hotmail.com  Tue Feb 13 01:45:51 2007
From: joshulrich21 at hotmail.com (Josh Ulrich)
Date: Mon, 12 Feb 2007 18:45:51 -0600
Subject: [R-SIG-Finance] extracting technical indicators
In-Reply-To: <000a01c74ef0$ddbee020$7701a8c0@tablet>
Message-ID: <BAY111-F22D2492D810ED841BC1AAFDB900@phx.gbl>

It seems to be an error in the functions.  They call an object (x) that 
isn't defined in the function arguments.  I would suggest simply calculating 
the function results yourself, since they aren't complicated:

vohl.TA <- H - L
vor.TA <- (H - L) / L


>From: "stephenc" <mail at xesoftware.com.au>
>To: <r-sig-finance at stat.math.ethz.ch>
>Subject: [R-SIG-Finance] extracting technical indicators
>Date: Tue, 13 Feb 2007 08:57:59 +1100
>
>Hi
>
>I am running the examples of technical analysis.
>
>I have my own data covering the SPI.  Everything goes fine until I get to
>three indicators near the bottom of the list where I get these error
>messages:
>
>typical.TA = typicalpriceTA(H, L, C)
>
> >      vohl.TA = vohlTA(H, L)
>
>Error in inherits(object, "timeSeries") : object "x" not found
>
> >      vor.TA = vorTA(H, L)
>
>Error in inherits(object, "timeSeries") : object "x" not found
>
> >      wclose.TA = wcloseTA(H, L, C)
>
> >   vohl.TA = vohlTA(H, L)
>
>
>Can anyone cast some light on this?
>
>Stephen Choularton
>02 9999 2226
>0413 545 182

_________________________________________________________________
>From predictions to trailers, check out the MSN Entertainment Guide to the 
Academy Awards?


From mail at xesoftware.com.au  Tue Feb 13 02:40:40 2007
From: mail at xesoftware.com.au (stephenc)
Date: Tue, 13 Feb 2007 12:40:40 +1100
Subject: [R-SIG-Finance] fpdTA and spdTA - correct figures for lags
Message-ID: <008001c74f0f$fe0199d0$7701a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070213/ae286590/attachment.pl 

From bbands at gmail.com  Tue Feb 13 04:11:54 2007
From: bbands at gmail.com (BBands)
Date: Mon, 12 Feb 2007 19:11:54 -0800
Subject: [R-SIG-Finance] fpdTA and spdTA - correct figures for lags
In-Reply-To: <008001c74f0f$fe0199d0$7701a8c0@tablet>
References: <008001c74f0f$fe0199d0$7701a8c0@tablet>
Message-ID: <6e8360ad0702121911q31c9e507u5ffca1f163c00eff@mail.gmail.com>

On 2/12/07, stephenc <mail at xesoftware.com.au> wrote:
> Hi
>
> I have searched high and low to try and find some examples with the
> following stochastic functions being used as I don't know what the lags
> should be:
>
>   fpdTA(close, high, low, lag1, lag2)
>
>  spdTA(close, high, low, lag1, lag2, lag3)

Well, I GUESS that they are "Stochastic" functions as in George Lane's
"f"ast and "s"low "Stochastics". If that is the case, the defaults are
typically 10, 3 and 10, 3, 3 respectively. However, that and a couple
of bucks will get you on the Subway--unlike when we were kids and had
keys to the Subway.

     jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.


From joshulrich21 at hotmail.com  Tue Feb 13 04:26:41 2007
From: joshulrich21 at hotmail.com (Josh Ulrich)
Date: Mon, 12 Feb 2007 21:26:41 -0600
Subject: [R-SIG-Finance] fpdTA and spdTA - correct figures for lags
In-Reply-To: <008001c74f0f$fe0199d0$7701a8c0@tablet>
Message-ID: <BAY111-F3219226B4CEECDD0E31DF8DB900@phx.gbl>

>I have searched high and low to try and find some examples with the
>following stochastic functions being used as I don?t know what the lags
>should be:
>
>   fpdTA(close, high, low, lag1, lag2)
>
>  spdTA(close, high, low, lag1, lag2, lag3)
>

'lag1' should be the number of fast%K periods.  'lag2' should be the number 
of periods for fast%D, which is a 'lag2' period moving average of fast%K.  
'lag3' should be the number of periods for slow%D, which is a 'lag3' period 
moving average of fast%D.

You can find more information on the calculation of stochastics here:
http://www.fmlabs.com/reference/StochasticOscillator.htm
http://www.equis.com/Customer/Resources/TAAZ?c=3&p=106
http://linnsoft.com/tour/techind/stoc.htm
http://stockcharts.com/education/IndicatorAnalysis/indic_stochasticOscillator.html

_________________________________________________________________

Spaces


From whit.armstrong at hcmny.com  Tue Feb 13 15:19:20 2007
From: whit.armstrong at hcmny.com (Armstrong, Whit)
Date: Tue, 13 Feb 2007 09:19:20 -0500
Subject: [R-SIG-Finance] displaying a traditional stock chart
Message-ID: <E58BE6136618CF4C964F6EC7773AE569F5710C@ex4.nyc.hcmny.com>

Thanks, Dirk.

I was thinking of an R integrated chart.

I've done the whole R->C->Java route before with Rexcepoi, and it's
quite a pain.

I would love to do simple things like select time ranges (x axis ranges)
w/ the mouse on the chart that you and John Bollinger built together.

My previous employer had an internal scripting language that had
interactive graphs.  It's tough to give it up once you get used to
having it.

I assume that that kind of behaviour would require some major changes to
R internals.  Once nice implementation that I've seen which also
preserves the look and feel of R charts is the Rgl package.

http://rgl.neoscientists.org/gallery.shtml

Thx,
Whit


> -----Original Message-----
> From: Dirk Eddelbuettel [mailto:edd at debian.org] 
> Sent: Friday, February 09, 2007 8:24 PM
> To: Armstrong, Whit
> Cc: R-sig-finance
> Subject: Re: [R-SIG-Finance] displaying a traditional stock chart
> 
> 
> On 9 February 2007 at 16:51, Armstrong, Whit wrote:
> | looks like a nice chart, but one of the key features 
> missing from R is 
> | interactive charts.
> | 
> | simple things like mouse tracking, zoom, line annotations, etc.
> 
> Try the various Java devices at www.rosuda.org, or now 
> rforge.net. A lot of that was already in the latest Quantian, 
> and it has also gotten easier on Debian / Ubuntu thanks to 
> the packages Sun Java and R's new R CMD reconfjava. 
> 
> Just to see how painful it would be to do, I also added mouse 
> tracking to something with R's tcltk a few years ago. But I'm 
> no gui hacker so...
> 
> | This would be huge to have in R.
> | 
> | Anyone have an idea how hard this would be?
> 
> Somewhat, as we know, as the base R graphics are static. But 
> with Java you can do some tricks. I also hope that svg device 
> will help for zooming etc.
> 
> Dirk
> 
> --
> Hell, there are no rules here - we're trying to accomplish something. 
>                                                   -- Thomas A. Edison
> 




This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.


From whit.armstrong at hcmny.com  Tue Feb 13 17:36:53 2007
From: whit.armstrong at hcmny.com (Armstrong, Whit)
Date: Tue, 13 Feb 2007 11:36:53 -0500
Subject: [R-SIG-Finance] displaying a traditional stock chart
Message-ID: <E58BE6136618CF4C964F6EC7773AE569F57127@ex4.nyc.hcmny.com>

That sounds interesting.

I guess it depends on how far we choose to take the interaction.

The in house system that I used had drop down menus for applying
functions to the series in the plot.  Also, another really nice feature
was that you could click in the upper left hand corner and type any
expression which would then be added to the chart.  The expression could
be as simple as a variable name, or it could be a function applied to a
variable.

It sounds like something like that would be out of the question with the
SVG device, but for simple operations like zooming in and out, or
highlighting date ranges SVG could be the way to go.

Let me know if you would like to pursue this.

One other solution I have thought about is using Trolltech's Qt 4.2,
which has nice plotting facilities.  Now that it is available on Windows
as well as Linux/Unix it is a viable option. (this pdf has a simple
graphics view in it, page 2)
http://www.trolltech.com/pdf/Qt_42_DS_A4_Web.pdf

Thanks,
Whit


> -----Original Message-----
> From: Tony Plate [mailto:tplate at acm.org] 
> Sent: Tuesday, February 13, 2007 11:13 AM
> To: Armstrong, Whit
> Cc: R-sig-finance
> Subject: Re: [R-SIG-Finance] displaying a traditional stock chart
> 
> The SVG format supports "tooltip style" annotations.  I have 
> a modified version of the SVG device for R that can add these 
> -- if there's interest, I could package it up.  I suspect 
> that SVG could also support zooming and mouse tracking, but I 
> haven't looked into that.
> 
> -- Tony Plate
> 
> Armstrong, Whit wrote:
> > looks like a nice chart, but one of the key features 
> missing from R is 
> > interactive charts.
> > 
> > simple things like mouse tracking, zoom, line annotations, etc.
> > 
> > This would be huge to have in R.
> > 
> > Anyone have an idea how hard this would be?
> > 
> > 
> > 
> > 
> >>-----Original Message-----
> >>From: r-sig-finance-bounces at stat.math.ethz.ch
> >>[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of BBands
> >>Sent: Friday, February 09, 2007 4:14 PM
> >>To: R-sig-finance
> >>Subject: Re: [R-SIG-Finance] displaying a traditional stock chart
> >>
> >>On 2/9/07, stephenc <mail at xesoftware.com.au> wrote:
> >>
> >>>Hi
> >>>
> >>>Can anyone point me to the code for a traditional 
> bar-chart display 
> >>>with high. low. open, close and volume all shown on the same chart?
> >>
> >>Dirk and I worked on something that might be of interest...
> >>
> >>http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=65
> >>
> >>     jab
> >>--
> >>John Bollinger, CFA, CMT
> >>www.BollingerBands.com
> >>
> >>If you advance far enough, you arrive at the beginning.
> >>
> >>_______________________________________________
> >>R-SIG-Finance at stat.math.ethz.ch mailing list 
> >>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >>
> > 
> > 
> > 
> > 
> > 
> > This e-mail message is intended only for the named 
> recipient(s) above. It may contain confidential information. 
> If you are not the intended recipient you are hereby notified 
> that any dissemination, distribution or copying of this 
> e-mail and any attachment(s) is strictly prohibited. If you 
> have received this e-mail in error, please immediately notify 
> the sender by replying to this e-mail and delete the message 
> and any attachment(s) from your system. Thank you.
> > 
> > 
> > 
> > 
> ----------------------------------------------------------------------
> > --
> > 
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list 
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> 




This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.


From singularitaet at gmx.net  Tue Feb 13 19:47:17 2007
From: singularitaet at gmx.net (Stefan Grosse)
Date: Tue, 13 Feb 2007 19:47:17 +0100
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <6e8360ad0702091313n2c0d88eco1e1bd8560f116342@mail.gmail.com>
References: <015101c74c8c$68c28760$7701a8c0@tablet>
	<6e8360ad0702091313n2c0d88eco1e1bd8560f116342@mail.gmail.com>
Message-ID: <45D207B5.8010600@gmx.net>

BBands wrote:
> On 2/9/07, stephenc <mail at xesoftware.com.au> wrote:
>   
>> Hi
>>
>> Can anyone point me to the code for a traditional bar-chart display with
>> high. low. open, close and volume all shown on the same chart?
>>     
>
> Dirk and I worked on something that might be of interest...
>
> http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=65
>
>      jab
>   
Very nice.


From ecjbosu at aol.com  Tue Feb 13 20:37:53 2007
From: ecjbosu at aol.com (Joe Byers)
Date: Tue, 13 Feb 2007 13:37:53 -0600
Subject: [R-SIG-Finance] yahooImport
In-Reply-To: <17871.5235.683218.447789@mithrandir.hornik.net>
References: <8882885.post@talk.nabble.com>	<BAY111-F20DBA775607ADCE425AC34DB9C0@phx.gbl>
	<17871.5235.683218.447789@mithrandir.hornik.net>
Message-ID: <45D21391.1090209@aol.com>

I am trying to use the yahooImport() and get the following error for the
default source as

    yahooImport('IBM')
trying URL 'http://chart.yahoo.com/table.csv?IBM'
Error in download.file(url = paste(source, query, sep = ""), destfile =
file,  :
         cannot open URL 'http://chart.yahoo.com/table.csv?IBM'
In addition: Warning message:
cannot open: HTTP status was '404 Not Found'
Error: attempt to apply non-function


Yahoo has changed the source URL to
http://ichart.finance.yahoo.com/table.csv?s=IBM
so the default might need changing as well.

I tried passing the new source as               
    a<-yahooImport('IBM','source=http://ichart.finance.yahoo.com/table.csv?s=')

I had to add s= to the source string.  I now get the following error
trying URL 'http://ichart.finance.yahoo.com/table.csv?s=IBM'
Content type 'text/csv' length unknown
opened URL
downloaded 567Kb

Read 11356 items
Error in matrix(unlist(x2), byrow = TRUE, nrow = length(x2)) :
         matrix: invalid 'ncol' value (< 0)
a now has the 'no internet access' as its value.

I am stuck here.  Any thoughts?

I included yahooImport below for reference

Thank you
Joe





function (query, file = "tempfile", source =
"http://chart.yahoo.com/table.csv?",
     save = FALSE, sep = ";", swap = 20, try = TRUE)
{
     if (try) {
         z = try(yahooImport(file = file, source = source, query = query,
             save = save, try = FALSE))
         if (class(z) == "try-error" || class(z) == "Error") {
             return("No Internet Access")
         }
         else {
             return(z)
         }
     }
     else {
         if (class(version) != "Sversion") {
             method = NULL
         }
         else {
             method = "wget"
         }
         download.file(url = paste(source, query, sep = ""), destfile =
file,
             method = method)
         x1 = rev(scan(file, what = "", skip = 1))
         x2 = strsplit(x1[regexpr("-...-..,", x1) > 0], ",")
         x1 = matrix(unlist(x2), byrow = TRUE, nrow = length(x2))
         z = matrix(as.numeric(x1[, -1]), ncol = dim(x1)[2] -
             1)
         rowNames = as.character(as.Date(x1[, 1], format = "%d-%b-%y"))
         colNames = scan(file = file, n = dim(x1)[2], what = "",
             sep = ",")[-1]
         dimnames(z) = list(rowNames, colNames)
         if (save) {
             write.table(t(c("%Y-%m-%d", colNames)), file, quote = FALSE,
                 row.names = FALSE, col.names = FALSE, sep = ";")
             write.table(z, file, quote = FALSE, append = TRUE,
                 col.names = FALSE, sep = ";")
         }
         else {
             unlink(file)
         }
         z = data.frame(DATE = rowNames, z, row.names = NULL)
         ans = new("fWEBDATA", call = match.call(), param =
c("Instrument Query" = query),
             data = z, title = "Web Data Import from Yahoo", description
= as.character(date()))
         return(ans)
     }
     invisible()
}


From tplate at acm.org  Tue Feb 13 17:13:08 2007
From: tplate at acm.org (Tony Plate)
Date: Tue, 13 Feb 2007 09:13:08 -0700
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <E58BE6136618CF4C964F6EC7773AE569F57066@ex4.nyc.hcmny.com>
References: <E58BE6136618CF4C964F6EC7773AE569F57066@ex4.nyc.hcmny.com>
Message-ID: <45D1E394.9070605@acm.org>

The SVG format supports "tooltip style" annotations.  I have a modified 
version of the SVG device for R that can add these -- if there's 
interest, I could package it up.  I suspect that SVG could also support 
zooming and mouse tracking, but I haven't looked into that.

-- Tony Plate

Armstrong, Whit wrote:
> looks like a nice chart, but one of the key features missing from R is
> interactive charts.
> 
> simple things like mouse tracking, zoom, line annotations, etc.
> 
> This would be huge to have in R.
> 
> Anyone have an idea how hard this would be?
> 
> 
> 
> 
>>-----Original Message-----
>>From: r-sig-finance-bounces at stat.math.ethz.ch 
>>[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of BBands
>>Sent: Friday, February 09, 2007 4:14 PM
>>To: R-sig-finance
>>Subject: Re: [R-SIG-Finance] displaying a traditional stock chart
>>
>>On 2/9/07, stephenc <mail at xesoftware.com.au> wrote:
>>
>>>Hi
>>>
>>>Can anyone point me to the code for a traditional bar-chart display 
>>>with high. low. open, close and volume all shown on the same chart?
>>
>>Dirk and I worked on something that might be of interest...
>>
>>http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=65
>>
>>     jab
>>--
>>John Bollinger, CFA, CMT
>>www.BollingerBands.com
>>
>>If you advance far enough, you arrive at the beginning.
>>
>>_______________________________________________
>>R-SIG-Finance at stat.math.ethz.ch mailing list 
>>https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>
> 
> 
> 
> 
> 
> This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance


From edd at debian.org  Wed Feb 14 03:19:14 2007
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 13 Feb 2007 20:19:14 -0600
Subject: [R-SIG-Finance] displaying a traditional stock chart
In-Reply-To: <E58BE6136618CF4C964F6EC7773AE569F5710C@ex4.nyc.hcmny.com>
References: <E58BE6136618CF4C964F6EC7773AE569F5710C@ex4.nyc.hcmny.com>
Message-ID: <17874.29090.236758.724388@basebud.nulle.part>


Hi Whit,

On 13 February 2007 at 09:19, Armstrong, Whit wrote:
| I was thinking of an R integrated chart.

But I assume you also both know that the basic R chart is static.  There is
no way around that. Hence eg Java as an alternative for dynamic chart
widgets.  Do play with iPlots etc example, it is quite nice for the iris
example to click on one of the species in a factor barplot and automagically
see the colors change in for the matching group in the scatter plot.
 
| I assume that that kind of behaviour would require some major changes to
| R internals.  Once nice implementation that I've seen which also

Depends. You can probably also also hack something quickly in RGtk2
(try install.packages("rattle") for a very powerful GUI in RGtk2) that 
would just refetch / replot in R. Possibly not the quickest solution
to run, but possibly the quickest to code.

| preserves the look and feel of R charts is the Rgl package.
| 
| http://rgl.neoscientists.org/gallery.shtml

I found rgl (which I started to package for Debian as soon as it
appeared) to be promising, but hard to use.  IIRC Duncan Murdoch
recently put another package 'on top of' rgl but I haven't looked
at it yet.

On to mail nb 2 with the reply to Tony's excellent suggestion (and yes,
please do make the svg device public)  


On 13 February 2007 at 11:36, Armstrong, Whit wrote:
| That sounds interesting.
[...] 
| It sounds like something like that would be out of the question with the
| SVG device, but for simple operations like zooming in and out, or
| highlighting date ranges SVG could be the way to go.
| 
| Let me know if you would like to pursue this.
| 
| One other solution I have thought about is using Trolltech's Qt 4.2,
| which has nice plotting facilities.  Now that it is available on Windows
| as well as Linux/Unix it is a viable option. (this pdf has a simple
| graphics view in it, page 2)
| http://www.trolltech.com/pdf/Qt_42_DS_A4_Web.pdf

I came the same conclusion and started to dabble with Qt and in particular
Qwt (the related non-Trolltech project for scientific widgets).  Qt offers
both OpenGL and SVG natively.  But so far, I only played with Qt3
functonality.  

Dirk

-- 
Hell, there are no rules here - we're trying to accomplish something. 
                                                  -- Thomas A. Edison


From whit.armstrong at hcmny.com  Wed Feb 14 17:33:46 2007
From: whit.armstrong at hcmny.com (Armstrong, Whit)
Date: Wed, 14 Feb 2007 11:33:46 -0500
Subject: [R-SIG-Finance] displaying a traditional stock chart
Message-ID: <E58BE6136618CF4C964F6EC7773AE569F5718A@ex4.nyc.hcmny.com>

Thanks for the feedback, Dirk.

Yes R charts are static.  that's really the main problem, and I'd love
to change that, but doing so would likely incite a lot of resistance
from R-core.

Would love to get something going with Qt, but it looks like SVG might
be best for quick solution.  Tony, let me know if I can help.

Thx,
Whit


> -----Original Message-----
> From: Dirk Eddelbuettel [mailto:edd at debian.org] 
> Sent: Tuesday, February 13, 2007 9:19 PM
> To: Armstrong, Whit
> Cc: Tony Plate; R-sig-finance
> Subject: RE: [R-SIG-Finance] displaying a traditional stock chart
> 
> 
> Hi Whit,
> 
> On 13 February 2007 at 09:19, Armstrong, Whit wrote:
> | I was thinking of an R integrated chart.
> 
> But I assume you also both know that the basic R chart is 
> static.  There is no way around that. Hence eg Java as an 
> alternative for dynamic chart widgets.  Do play with iPlots 
> etc example, it is quite nice for the iris example to click 
> on one of the species in a factor barplot and automagically 
> see the colors change in for the matching group in the scatter plot.
>  
> | I assume that that kind of behaviour would require some 
> major changes 
> | to R internals.  Once nice implementation that I've seen which also
> 
> Depends. You can probably also also hack something quickly in 
> RGtk2 (try install.packages("rattle") for a very powerful GUI 
> in RGtk2) that would just refetch / replot in R. Possibly not 
> the quickest solution to run, but possibly the quickest to code.
> 
> | preserves the look and feel of R charts is the Rgl package.
> | 
> | http://rgl.neoscientists.org/gallery.shtml
> 
> I found rgl (which I started to package for Debian as soon as it
> appeared) to be promising, but hard to use.  IIRC Duncan 
> Murdoch recently put another package 'on top of' rgl but I 
> haven't looked at it yet.
> 
> On to mail nb 2 with the reply to Tony's excellent suggestion 
> (and yes, please do make the svg device public)  
> 
> 
> On 13 February 2007 at 11:36, Armstrong, Whit wrote:
> | That sounds interesting.
> [...] 
> | It sounds like something like that would be out of the 
> question with 
> | the SVG device, but for simple operations like zooming in 
> and out, or 
> | highlighting date ranges SVG could be the way to go.
> | 
> | Let me know if you would like to pursue this.
> | 
> | One other solution I have thought about is using 
> Trolltech's Qt 4.2, 
> | which has nice plotting facilities.  Now that it is available on 
> | Windows as well as Linux/Unix it is a viable option. (this 
> pdf has a 
> | simple graphics view in it, page 2) 
> | http://www.trolltech.com/pdf/Qt_42_DS_A4_Web.pdf
> 
> I came the same conclusion and started to dabble with Qt and 
> in particular Qwt (the related non-Trolltech project for 
> scientific widgets).  Qt offers both OpenGL and SVG natively. 
>  But so far, I only played with Qt3 functonality.  
> 
> Dirk
> 
> --
> Hell, there are no rules here - we're trying to accomplish something. 
>                                                   -- Thomas A. Edison
> 




This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.


From ecjbosu at aol.com  Thu Feb 15 00:37:39 2007
From: ecjbosu at aol.com (Joe Byers)
Date: Wed, 14 Feb 2007 17:37:39 -0600
Subject: [R-SIG-Finance] assetsStat function Question
In-Reply-To: <mailman.0.1171135957.22506.r-sig-finance@stat.math.ethz.ch>
References: <mailman.0.1171135957.22506.r-sig-finance@stat.math.ethz.ch>
Message-ID: <45D39D43.7050304@aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070214/1b646825/attachment.pl 

From brian at braverock.com  Thu Feb 15 01:44:53 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 14 Feb 2007 18:44:53 -0600
Subject: [R-SIG-Finance] assetsStat function Question
In-Reply-To: <45D39D43.7050304@aol.com>
References: <mailman.0.1171135957.22506.r-sig-finance@stat.math.ethz.ch>
	<45D39D43.7050304@aol.com>
Message-ID: <200702141844.54156.brian@braverock.com>

On Wednesday 14 February 2007 17:37, Joe Byers wrote:
> I was looking at the assetsStat function as an example for my
> investments class for calculating portfolio statistics. The
> documentation said it was developed for monthly data and rescaling was
> a problem.  I reviewed the code to determine the rescaling factors I
> would need for daily or weekly data when I noticed the following two
> lines of code (bold face in the function attached at the bottom).
> * *       result[3, i] = annualizedAverage = mean(r) * sqrt(12)
>         result[4, i] = annualizedVolatility = sqrt(var(r))
> the AnnualizedAverage in multiplied by the sqrt(12) should this be just
> 12? and the following line of code have the standard deviation
> multiplied by the sqrt(12) or sqrt(var(r)*12)?

Joe, 

In the performance analytics functions that we had previously posted to 
this list, we use scale as a parameter to the annualized functions.  

So annualized return becomes:

prod(1 + R)^(scale/length(R)) - 1)

and Annualizeed Volatility is:

sqrt(scale)*sqrt(var(R))

scale = number of periods in a year (daily scale = 252, monthly scale = 
12 ,quarterly scale = 4)

Hope it helps.

We're working on packing all our previously released functions now, but 
writing .Rd files, standardizing parameter names and ordering, and 
collecting sample data, examples, and tests is taking time.

Regards,

  - Brian

> function (x)
> {
>     statistics = 14
>     if (is.null(dim(x))) {
>         n = 1
>         x = matrix(x, length(x))
>         result = matrix(rep(0, times = statistics), ncol = 1)
>     }
>     else {
>         n = dim(x)[2]
>         result = matrix(rep(0, times = statistics * n), ncol = n)
>     }
>     stat.names = c("Records", "paMean", "paAve", "paVola", "paSkew",
>         "paKurt", "maxDD", "TUW", "mMaxLoss", "mVaR", "mModVaR",
>         "mSharpe", "mModSharpe", "skPrice")
>     dimnames(result) = list(stat.names, dimnames(x)[[2]])
>     for (i in 1:n) {
>         r = x[, i]
>         result[1, i] = length(r)
>         result[2, i] = annualizedMean = (1 + mean(r))^12 - 1
> *        result[3, i] = annualizedAverage = mean(r) * sqrt(12)
>         result[4, i] = annualizedVolatility = sqrt(var(r))
> *        result[5, i] = annualizedSkewness = skewness(r)
>         result[6, i] = annualizedKurtosis = kurtosis(r)
>         result[7, i] = maxDrawdown = max(cummax(cumsum(r)) -
>             cumsum(r))
>         result[8, i] = timeUnderWater =
> max(diff(which(diff(cummax(cumsum(r))) !=
>             0)))
>         result[9, i] = maxMonthlyLoss = min(r)
>         zc = 2.33
>         result[10, i] = monthlyVaR = annualizedMean - zc *
> annualizedVolatility
>         p = 0.99
>         s = annualizedSkewness
>         k = annualizedKurtosis
>         zcf = zc + (zc * zc - 1) * s/6 + zc * (zc * zc - 3) *
>             k/24 + zc * (2 * zc * zc - 5) * s * s/36
>         result[11, i] = monthlyModVaR = annualizedMean - zcf *
>             annualizedVolatility
>         result[12, i] = monthlySharpeRatio =
> annualizedMean/annualizedVolatility
>         result[13, i] = monthlyModSharpeRatio =
> annualizedMean/monthlyModVaR result[14, i] = skewnesskurtosisPrice =
> annualizedMean * (monthlyModVaR/monthlyVaR - 1)
>     }
>     ans = as.data.frame(round(result, digits = 3))
>     ans
> }
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From mail at xesoftware.com.au  Thu Feb 15 10:45:31 2007
From: mail at xesoftware.com.au (stephenc)
Date: Thu, 15 Feb 2007 20:45:31 +1100
Subject: [R-SIG-Finance] average directional index
Message-ID: <001101c750e6$09955430$6401a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070215/46fbe96e/attachment.pl 

From brian at braverock.com  Thu Feb 15 13:19:46 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 15 Feb 2007 06:19:46 -0600
Subject: [R-SIG-Finance] TAQ data and Eric Zivot's HF Library
Message-ID: <200702150619.47694.brian@braverock.com>

I find myself needing to analyze TAQ high frequency data.

Eric Zivot and Bingcheng Yan wrote a paper and released code here:

http://faculty.washington.edu/ezivot/research/hfanalysis.pdf
http://faculty.washington.edu/ezivot/research/HFLibrary.SSC

That can handle TAQ data, and has some other useful characteristics for 
high frequency data cleanup.

1. Has anyone thought about porting these scripts to R ?

2. Some functions rely on diff.timeSeries from S+Finmetrics.  I'm not 
aware of a correllary function in R.  Does anyone have any ideas on 
replicating diff.Timeseries?

If I can get permission, any ported code would be made public so that no 
one else would have to repeat the work.

Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From ecjbosu at aol.com  Thu Feb 15 17:13:10 2007
From: ecjbosu at aol.com (Joe Byers)
Date: Thu, 15 Feb 2007 10:13:10 -0600
Subject: [R-SIG-Finance] assetsStat function Question
In-Reply-To: <200702150708.48281.brian@braverock.com>
References: <mailman.0.1171135957.22506.r-sig-finance@stat.math.ethz.ch>
	<200702141844.54156.brian@braverock.com> <45D456D5.3040606@aol.com>
	<200702150708.48281.brian@braverock.com>
Message-ID: <45D48696.9010205@aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070215/50db3103/attachment.pl 

From guillaume.nicoulaud at halbis.com  Thu Feb 15 17:39:08 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Thu, 15 Feb 2007 17:39:08 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A_Re=3A__assetsStat_fu?=
 =?iso-8859-15?q?nction_Question?=
Message-ID: <OF9038EF27.C7772937-ONC1257283.005AFE02-C1257283.005BC1AB@hsbc.fr>

Hi all,
Here are a few functions for those who want play with the higher moment CAPM. I never really used them so they may be some area for improvements. Suggestions are welcome (in particular, the cokurt function is likely to hurt your pc for more
than 100 assets)!!



###########################################################################

covar <- function(X)

      { # author: me!



      # Definition:

      # The covar() function returns the sample covariance matrix of X. Unlike

      # the cov() function in R, the denominator used is n (not n-1): this

      # yields in a potentially biased estimator.

      # X should be a matrix without NAs, rows should be observations and

      # columns the assets.



      if(!is.matrix(X))

            stop('X should be a matrix\n')

      if(any(is.na(X)) == TRUE)

            stop('NAs detected in X!\n')



      t(X) -> x

      ncol(x) -> n

      rowMeans(x) -> xbar



      f <- function(xi, xbar) { xi-xbar }

      apply(x, 2, f, xbar = xbar) -> T



      (1/n) * T%*%t(T) -> res



      return (res)



      }



coskew <- function(X)

      { # author: me!



      # Definition:

      # The coskew() function returns the co-skewness matrix of X.

      # As suggested by Athayde and Fl?res (2001), we transform the (n,n,n)

      # co-skewness matrix into a (n,n^2) matrix, simply by slicing each (n,n)

      # layer and pasting them, in the same order, sideways.

      # X should be a matrix without NAs, rows should be observations and

      # columns the assets.



      if(!is.matrix(X))

            stop('X should be a matrix\n')

      if(any(is.na(X)) == TRUE)

            stop('NAs detected in X!\n')



      t <- ncol(X)

      n <- nrow(X)



      f1 <- function(xi) xi - mean(xi)

      apply(X, 2, f1) -> x



      f2 <- function(xi, t) rep(xi, t)



      x1 <- matrix( apply(x, 2, f2, t = t), n, t^2 )

      x2 <- matrix( rep(x, t), n, t^2 )



      res <- (1/n) * t(x) %*% (x1*x2)



      return (res)



      }



cokurt <- function(X)

      { # author: me!



      # Definition:

      # The cokurt() function returns the co-kurtosis matrix of X.

      # As suggested by Athayde and Fl?res (2001), we transform the (n,n,n,n)

      # co-kurtosis matrix into a (n,n^3) matrix, simply by slicing each (n,n)

      # layer and pasting them, in the same order, sideways.

      # X should be a matrix without NAs, rows should be observations and

      # columns the assets.



      if(!is.matrix(X))

            stop('X should be a matrix\n')

      if(any(is.na(X)) == TRUE)

            stop('NAs detected in X!\n')



      t <- ncol(X)

      n <- nrow(X)



      f1 <- function(xi) xi - mean(xi)

      apply(X, 2, f1) -> x



      f2 <- function(xi, t) rep(xi, t^2)

      f3 <- function(xi, t) rep(xi, t)



      x1 <- matrix( apply(x, 2, f2, t = t), n, t^3 )

      x2 <- matrix( apply(x, 2, f3, t = t) ,n, t^3 )

      x3 <- matrix( rep(x, t^2), n, t^3)



      res <- (1/n) * t(x) %*% (x1*x2*x3)



      return (res)



      }



evar <- function(

      w,                      # A vector of n weights

      M                       # A (n,n) covariance matrix

      )



      { # author: me!



      # Definition:

      # The evar() function returns the sample variance from the sample

      # covariance matrix (M) and a vector of weights (w).



      as.numeric(w) -> w



      if( !is.matrix(M) || nrow(M) != ncol(M) )

            stop('Argument M should be a squared matrix!\n')

      if( length(w) != ncol(R) )

            stop('Arguments w and R are not consistent!\n')



      as.matrix(w) -> w



      as.numeric( t(w)%*%M%*%w ) -> res



      return (res)



      }



eskew <- function(

      w,                      # A vector of n weights

      M                       # A (n,n^2) co-skewness matrix

      )



      { # author: me!



      # Definition:

      # The eskew() function returns the sample skewness from the sample

      # co-skewness matrix (M) and a vector of weights (w). Based on the

      # methodology proposed by Athayde and Fl?res (2001).



      as.numeric( w %x% w ) -> w2



      if( !is.matrix(M) )

            stop('Argument M should be a matrix!\n')

      if( ncol(M) < nrow(M) )

            M <- t(M)

      if( ncol(M) != nrow(M)^2 )

            stop('Argument M should be a n x n^2 matrix!\n')

      if( length(w2) != ncol(M) )

            stop('Arguments w and R are not consistent!\n')



      as.matrix(w2) -> w2



      as.numeric( t(w) %*% M %*% w2 ) -> res



      return (res)



      }



ekurt <- function(

      w,                      # A vector of n weights

      M                       # A (n,n^3) co-kurtosis matrix

      )



      {

      # author: me!



      # Definition:

      # The eskurt() function returns the sample kurtosis from the sample

      # co-kurtosis matrix (M) and a vector of weights (w). Based on the

      # methodology proposed by Athayde and Fl?res (2001).



      as.numeric( w %x% w %x% w ) -> w3



      if( !is.matrix(M) )

            stop('Argument M should be a matrix!\n')

      if( ncol(M) < nrow(M) )

            M <- t(M)

      if( ncol(M) != nrow(M)^3 )

            stop('Argument M should be a n x n^3 matrix!\n')

      if( length(w3) != ncol(M) )

            stop('Arguments w and R are not consistent!\n')



      as.matrix(w3) -> w3



      as.numeric( t(w) %*% M %*% wxwxw ) -> res



      return (res)



      }

###########################################################################




                                                                                                                            
                                                                                                                            
                                                        Pour :   brian at braverock.com, r-sig-finance at stat.math.ethz.ch       
                                                        cc :                                                                
                                                        Objet :  Re: [R-SIG-Finance] assetsStat function Question           
             Joe Byers <ecjbosu at aol.com>                                                                                    
             Envoy? par :                                                                                                   
             r-sig-finance-bounces at stat.math.ethz.                                                                          
             ch                                                                                                             
                                                                                                                            
                                                                                                                            
             15/02/2007 17:13                                                                                               
                                                                                                                            
                                                                                                                            




brian at braverock.com wrote:
> On Thursday 15 February 2007 06:49, Joe W. Byers wrote:
>
>>> Hope it helps.
>>>
>> This helps a bunch and is what I was thinking about doing to modify
>> this function.  I was also trying to be tactful about the assetsStat
>> functions is clearly wrong and all the risk stats that use these two
>> variables are incorrect.
>>
>
> I also think the modifiedVaR calculation is wrong there, and doesn't take
> the higher moments   Our functions have a Modified Cornish-Fisher VaR
> calc that I think is more complete/correct.
>
>
>>> We're working on packing all our previously released functions now,
>>> but writing .Rd files, standardizing parameter names and ordering,
>>> and collecting sample data, examples, and tests is taking time.
>>>
>> Do you want some help? I might be able to help with docs, data (I have
>> a lot of energy data), and examples ( teach so I have some good ones ).
>>
>
> I'll do a little more cleanup by Saturday morning at the latest, and post
> the code and package tarball for you to take a look at.  In additiona to
> all the analytics functions, have quite a few chart and (text) table
> functions that collect performance statistics into groupings that we find
> useful.
>
> I am wondering whether you've ever done any thinking about co-skewness or
> co-kurtosis.  I had previously implemented and released functions for
> these, but I'm now pretty much convinced that they are incorrect (which
> also makes the standardized systematic functions that rely on them
> incorrect).  Help sorting that out would be greatly appreciated.
>
Brian,
First, I looked at your code and the calculations look good.  My
knowledge of the higher moment CAPM literature for these moments is that
the co-skewness is the return on asset i * the square of the return on
the portfolio. So your Ra and Ri may be reversed.  This I would clarify.

Second, I am not a theoretical statistician, so please bear that in mind
with the following statements.  Skewness for a single asset is the third
moment.  Co-skewness of 2 assets is also the third moment or could be
the second moment of the covariances.  The co-skewness is
mean((Ri-mean(Ri)*(Rj-mean(Rj)^2) but could also be the
mean((Rj-mean(Rj)*(Ri-mean(Ri)^2), could it not?  This means that for
every combination of assets there are 2 co-skewness terms and 2
co-kurtosis terms.  A matrix of co-skewness or co-kurtosis may not be
symmetric.  The higher moment CAPM uses asset j as the market and
investors are concerned with minimizing systematic skewness and kurtosis
meaning the first equation above it the co-skewness calculation.
Investors want little negative skewness with the market and small
positive kurtosis (see COVARIANCE, COSKEWNESS AND COKURTOSIS IN GLOBAL
REAL ESTATE SECURITIES Kim Hiang LIOW and Lanz C.W.J. CHAN, Department
of Real Estate, National University of Singapore).  I am not sure but
these seem to a choice of direction is required in measuring the co
moments.  The higher moment CAPM chooses the market return and
systematic skewness and kurtosis.  A hedged portfolio will choose the
hedging instrument to measure systematic skewness and kurtosis.

This is my thoughts and I have no empirical work on co-skewness or
co-kurtosis, but we do have R and the ability to download security
prices to look at these.  I know this probably does not help, but maybe
we will get some additional comments.

Good luck
Joe

> Regards,
>
>   - Brian
>
>


             [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance




Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From ezivot at u.washington.edu  Thu Feb 15 19:54:03 2007
From: ezivot at u.washington.edu (Eric Zivot)
Date: Thu, 15 Feb 2007 10:54:03 -0800
Subject: [R-SIG-Finance] TAQ data and Eric Zivot's HF Library
In-Reply-To: <200702150619.47694.brian@braverock.com>
Message-ID: <200702151854.l1FIs3vX025097@smtp.washington.edu>

This library has gotten a bit old, and there are a bunch of new techniques
for the analysis of high frequency data (especially for realized variance
etc) that have appeared recently. I am in the process of substantially
updating the library with the help of one of my Phd students and this may
involve a port to R. I'll keep the list informed.
ez


-----Original Message-----
From: Brian G. Peterson [mailto:brian at braverock.com] 
Sent: Thursday, February 15, 2007 4:20 AM
To: r-sig-finance at stat.math.ethz.ch
Cc: ezivot at u.washington.edu
Subject: TAQ data and Eric Zivot's HF Library

I find myself needing to analyze TAQ high frequency data.

Eric Zivot and Bingcheng Yan wrote a paper and released code here:

http://faculty.washington.edu/ezivot/research/hfanalysis.pdf
http://faculty.washington.edu/ezivot/research/HFLibrary.SSC

That can handle TAQ data, and has some other useful characteristics for high
frequency data cleanup.

1. Has anyone thought about porting these scripts to R ?

2. Some functions rely on diff.timeSeries from S+Finmetrics.  I'm not aware
of a correllary function in R.  Does anyone have any ideas on replicating
diff.Timeseries?

If I can get permission, any ported code would be made public so that no one
else would have to repeat the work.

Regards,

  - Brian

--
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From ecjbosu at aol.com  Thu Feb 15 20:09:26 2007
From: ecjbosu at aol.com (Joe Byers)
Date: Thu, 15 Feb 2007 13:09:26 -0600
Subject: [R-SIG-Finance] assetsStat function Question
In-Reply-To: <200702150708.48281.brian@braverock.com>
References: <mailman.0.1171135957.22506.r-sig-finance@stat.math.ethz.ch>
	<200702141844.54156.brian@braverock.com> <45D456D5.3040606@aol.com>
	<200702150708.48281.brian@braverock.com>
Message-ID: <45D4AFE6.2070105@aol.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070215/be02b0ba/attachment.pl 

From evgeny.panov at citigroup.com  Thu Feb 15 21:12:50 2007
From: evgeny.panov at citigroup.com (Panov, Evgeny [CIB-EQTY])
Date: Thu, 15 Feb 2007 15:12:50 -0500
Subject: [R-SIG-Finance] TAQ data and Eric Zivot's HF Library
Message-ID: <370AE4BE62A7674C8299149A951D1D580650D5BA@EXNJMB61.nam.nsroot.net>

Did anybody try to look at co-skewnesses for stocks for different sampling frequencies?
(i.e. 1-week as opposed to 1-day as opposed to 5-minutes)

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch]On Behalf Of Eric Zivot
Sent: Thursday, February 15, 2007 1:54 PM
To: 'Brian G. Peterson'; r-sig-finance at stat.math.ethz.ch
Subject: Re: [R-SIG-Finance] TAQ data and Eric Zivot's HF Library


This library has gotten a bit old, and there are a bunch of new techniques
for the analysis of high frequency data (especially for realized variance
etc) that have appeared recently. I am in the process of substantially
updating the library with the help of one of my Phd students and this may
involve a port to R. I'll keep the list informed.
ez


-----Original Message-----
From: Brian G. Peterson [mailto:brian at braverock.com] 
Sent: Thursday, February 15, 2007 4:20 AM
To: r-sig-finance at stat.math.ethz.ch
Cc: ezivot at u.washington.edu
Subject: TAQ data and Eric Zivot's HF Library

I find myself needing to analyze TAQ high frequency data.

Eric Zivot and Bingcheng Yan wrote a paper and released code here:

http://faculty.washington.edu/ezivot/research/hfanalysis.pdf
http://faculty.washington.edu/ezivot/research/HFLibrary.SSC

That can handle TAQ data, and has some other useful characteristics for high
frequency data cleanup.

1. Has anyone thought about porting these scripts to R ?

2. Some functions rely on diff.timeSeries from S+Finmetrics.  I'm not aware
of a correllary function in R.  Does anyone have any ideas on replicating
diff.Timeseries?

If I can get permission, any ported code would be made public so that no one
else would have to repeat the work.

Regards,

  - Brian

--
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance


From whit.armstrong at hcmny.com  Thu Feb 15 23:40:38 2007
From: whit.armstrong at hcmny.com (Armstrong, Whit)
Date: Thu, 15 Feb 2007 17:40:38 -0500
Subject: [R-SIG-Finance] SVG device with tooltips
Message-ID: <E58BE6136618CF4C964F6EC7773AE569F57229@ex4.nyc.hcmny.com>

cool. thanks. 

will check it out.

> -----Original Message-----
> From: Tony Plate [mailto:tplate at acm.org] 
> Sent: Thursday, February 15, 2007 5:33 PM
> To: R-sig-finance
> Cc: Armstrong, Whit; Dirk Eddelbuettel; Tony Plate
> Subject: SVG device with tooltips
> 
> I put experimental SVG device package, which includes the 
> ability to have popup tooltips, at
> 
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_
> 0.6.1.tar.gz
> (source)
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_
> 0.6.1.zip
> (windows binary package)
> 
> Examples of the plots produced are at:
> 
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg
> 
> (These are the first 3 examples produced by the code in the 
> help file -- I've just put them here so that people can see 
> the SVG output without having to get, compile and install the 
> package.)
> 
> This SVG device is called RSVGwTipsDevice, and is based on 
> the RSvgDevice package written by T Jake Luciani 
> <jakeluciani at yahoo.com> (who did express mild interest in 
> these modifications, but didn't have time to look at them or 
> comment on them.)
> 
> Limitations/features are:
> 
> * standard graphics primitives are used (points(), rect(), 
> etc), and the
>   same code should work with any device (for other devices, 
> the calls that specify tooltips should have no effect.)
> * tooltips are attached to shapes: e.g., the output of 
> points(), rect(), and polygon(), but not lines()
> * the tooltip is specified in a separate call to the drawing function
> * only the first shape produced by an R drawing function will 
> have a tooltip (so, if you want each point to have a tooltip, 
> each must be drawn separately)
> * the tooltips that have a title + 2 lines of text probably 
> use non-standard SVG code -- I wrote the SVG code by trial 
> and error and it's probably not correct.  These tooltips 
> display fine in Firefox, but the Batik standalone SVG viewer 
> doesn't like them.
> 
> One possible approach to get around the limitation that 
> vectorized calls to points() (etc) only have a tooltip on the 
> first point is to allow specifying in advance a vector of 
> tooltip text.  However, the whole approach of having to 
> supply the tooltip text in advance is not very nice -- though 
> it was the only way I could think of making the standard 
> graphics primitives work with tooltips (because the standard 
> graphics primitives don't allow optional extra arguments).
> 
> If you try this out, please bear in mind that this really is 
> experimental code.  Comments/suggestions/contributions are 
> welcome (especially from SVG experts!)
> 
> It's probably reasonably easy to add other dynamic graphics 
> features such as zooming and x/y location readout.  I just 
> haven't tried, but if anyone is inspired and comes up with 
> something, I'm happy to try to integrate it!
> 
> -- Tony Plate
> 




This e-mail message is intended only for the named recipient(s) above. It may contain confidential information. If you are not the intended recipient you are hereby notified that any dissemination, distribution or copying of this e-mail and any attachment(s) is strictly prohibited. If you have received this e-mail in error, please immediately notify the sender by replying to this e-mail and delete the message and any attachment(s) from your system. Thank you.


From mail at xesoftware.com.au  Fri Feb 16 03:32:28 2007
From: mail at xesoftware.com.au (stephenc)
Date: Fri, 16 Feb 2007 13:32:28 +1100
Subject: [R-SIG-Finance] adx formula
Message-ID: <010001c75172$b65517a0$6401a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070216/fcc8691f/attachment.pl 

From mail at xesoftware.com.au  Fri Feb 16 04:00:31 2007
From: mail at xesoftware.com.au (stephenc)
Date: Fri, 16 Feb 2007 14:00:31 +1100
Subject: [R-SIG-Finance] adx formula - apologies for including windows
	formating in last email ; -(
Message-ID: <011d01c75176$a0edfa90$6401a8c0@tablet>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070216/f5d727e0/attachment.pl 

From tplate at acm.org  Thu Feb 15 23:33:25 2007
From: tplate at acm.org (Tony Plate)
Date: Thu, 15 Feb 2007 15:33:25 -0700
Subject: [R-SIG-Finance] SVG device with tooltips
Message-ID: <45D4DFB5.2050005@acm.org>

I put experimental SVG device package, which includes the ability to 
have popup tooltips, at

http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.tar.gz 
(source)
http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.zip 
(windows binary package)

Examples of the plots produced are at:

http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg

(These are the first 3 examples produced by the code in the help file -- 
I've just put them here so that people can see the SVG output without 
having to get, compile and install the package.)

This SVG device is called RSVGwTipsDevice, and is based on the 
RSvgDevice package written by T Jake Luciani <jakeluciani at yahoo.com> 
(who did express mild interest in these modifications, but didn't have 
time to look at them or comment on them.)

Limitations/features are:

* standard graphics primitives are used (points(), rect(), etc), and the 
  same code should work with any device (for other devices, the calls 
that specify tooltips should have no effect.)
* tooltips are attached to shapes: e.g., the output of points(), rect(), 
and polygon(), but not lines()
* the tooltip is specified in a separate call to the drawing function
* only the first shape produced by an R drawing function will have a 
tooltip (so, if you want each point to have a tooltip, each must be 
drawn separately)
* the tooltips that have a title + 2 lines of text probably use 
non-standard SVG code -- I wrote the SVG code by trial and error and 
it's probably not correct.  These tooltips display fine in Firefox, but 
the Batik standalone SVG viewer doesn't like them.

One possible approach to get around the limitation that vectorized calls 
to points() (etc) only have a tooltip on the first point is to allow 
specifying in advance a vector of tooltip text.  However, the whole 
approach of having to supply the tooltip text in advance is not very 
nice -- though it was the only way I could think of making the standard 
graphics primitives work with tooltips (because the standard graphics 
primitives don't allow optional extra arguments).

If you try this out, please bear in mind that this really is 
experimental code.  Comments/suggestions/contributions are welcome 
(especially from SVG experts!)

It's probably reasonably easy to add other dynamic graphics features 
such as zooming and x/y location readout.  I just haven't tried, but if 
anyone is inspired and comes up with something, I'm happy to try to 
integrate it!

-- Tony Plate


From ggrothendieck at gmail.com  Fri Feb 16 04:37:11 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Thu, 15 Feb 2007 22:37:11 -0500
Subject: [R-SIG-Finance] SVG device with tooltips
In-Reply-To: <45D4DFB5.2050005@acm.org>
References: <45D4DFB5.2050005@acm.org>
Message-ID: <971536df0702151937y36748750pa06e55f2178c5c6c@mail.gmail.com>

When I click on the three svg files in IE7 on Windows XP I get the xml
source code, not a graphic.  If go to Adobe's site I do get SVG graphics
for their examples.  I have Adobe's SVG addin installed.

On 2/15/07, Tony Plate <tplate at acm.org> wrote:
> I put experimental SVG device package, which includes the ability to
> have popup tooltips, at
>
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.tar.gz
> (source)
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.zip
> (windows binary package)
>
> Examples of the plots produced are at:
>
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg
>
> (These are the first 3 examples produced by the code in the help file --
> I've just put them here so that people can see the SVG output without
> having to get, compile and install the package.)
>
> This SVG device is called RSVGwTipsDevice, and is based on the
> RSvgDevice package written by T Jake Luciani <jakeluciani at yahoo.com>
> (who did express mild interest in these modifications, but didn't have
> time to look at them or comment on them.)
>
> Limitations/features are:
>
> * standard graphics primitives are used (points(), rect(), etc), and the
>  same code should work with any device (for other devices, the calls
> that specify tooltips should have no effect.)
> * tooltips are attached to shapes: e.g., the output of points(), rect(),
> and polygon(), but not lines()
> * the tooltip is specified in a separate call to the drawing function
> * only the first shape produced by an R drawing function will have a
> tooltip (so, if you want each point to have a tooltip, each must be
> drawn separately)
> * the tooltips that have a title + 2 lines of text probably use
> non-standard SVG code -- I wrote the SVG code by trial and error and
> it's probably not correct.  These tooltips display fine in Firefox, but
> the Batik standalone SVG viewer doesn't like them.
>
> One possible approach to get around the limitation that vectorized calls
> to points() (etc) only have a tooltip on the first point is to allow
> specifying in advance a vector of tooltip text.  However, the whole
> approach of having to supply the tooltip text in advance is not very
> nice -- though it was the only way I could think of making the standard
> graphics primitives work with tooltips (because the standard graphics
> primitives don't allow optional extra arguments).
>
> If you try this out, please bear in mind that this really is
> experimental code.  Comments/suggestions/contributions are welcome
> (especially from SVG experts!)
>
> It's probably reasonably easy to add other dynamic graphics features
> such as zooming and x/y location readout.  I just haven't tried, but if
> anyone is inspired and comes up with something, I'm happy to try to
> integrate it!
>
> -- Tony Plate
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>


From mel at altk.com  Fri Feb 16 10:15:57 2007
From: mel at altk.com (mel)
Date: Fri, 16 Feb 2007 10:15:57 +0100
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
Message-ID: <45D5764D.7070304@altk.com>

recommended C++ compiler for R package ?

Dear All,

I'm an interactive brokers customer and also a fan user of R.
I wish to use IB TWS API directly from R.

To reach this goal i intend to write a piece of C++ code,
probably in form of a package,
which has to be able to speak both with the TWSAPI, and with R
(at least callable from R).

My question is if there is a recommended compiler
for developing an R package, or if it doesn't matter ?
Reading the docs, g++ seems often used, (but often on linux machines).

I have M$VC++6.0, Borland C++ Builder 6, but those compilers like
to add unuseful stuff, so i'm thinking about g++, but it seems
that g++ has no associate IDE on windows which is my OS.

Advices much appreciated.
Thanks


From brian at braverock.com  Fri Feb 16 14:47:30 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 16 Feb 2007 07:47:30 -0600
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
In-Reply-To: <45D5764D.7070304@altk.com>
References: <45D5764D.7070304@altk.com>
Message-ID: <200702160747.30528.brian@braverock.com>

On Friday 16 February 2007 03:15, mel wrote:
> My question is if there is a recommended compiler
> for developing an R package, or if it doesn't matter ?
> Reading the docs, g++ seems often used, (but often on linux machines).
>
> I have M$VC++6.0, Borland C++ Builder 6, but those compilers like
> to add unuseful stuff, so i'm thinking about g++, but it seems
> that g++ has no associate IDE on windows which is my OS.
>
> Advices much appreciated.

You can use other compilers and linkers from inside Visual Studio.  I 
haven't used Borland in years, but I'm sure something similar is possible 
there.

Here's a MSDN Article to get you started:

http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=323081&SiteID=1

And please do share your R<->IB libraries with the rest of the community 
once you have them put together.

Regards,

  - Brian
-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From herrold at owlriver.com  Fri Feb 16 16:55:38 2007
From: herrold at owlriver.com (R P Herrold)
Date: Fri, 16 Feb 2007 10:55:38 -0500 (EST)
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
In-Reply-To: <45D5764D.7070304@altk.com>
References: <45D5764D.7070304@altk.com>
Message-ID: <Pine.LNX.4.64.0702161045440.1033@new.owlriver.com>

On Fri, 16 Feb 2007, mel wrote:

> recommended C++ compiler for R package ?

> I'm an interactive brokers customer and also a fan user of R.
> I wish to use IB TWS API directly from R.
>
> To reach this goal i intend to write a piece of C++ code, 
> probably in form of a package, which has to be able to speak 
> both with the TWSAPI, and with R (at least callable from R).

Good news -- we have already done most of the work -- add R 
linkages and you are done:

     http://www.trading-shim.org/

The code is available under the GPL, and commercial licenses 
and SLAs are also available.  I would _love_ for you to join 
us in getting those R bindings worked out.

The Mailing list is free to subscribe to; a bug tracker 
exists; anonymous FTP access to the code exists, and all the 
rest that are the hallmarks of an open source project.

It can no doubt be fit into a VMWare instance, anthough I have 
not done so yet - that is on my personal 'TODO' list, so that 
Windows users are supported.

-- Russ Herrold


From muckjail at yahoo.com  Fri Feb 16 17:02:42 2007
From: muckjail at yahoo.com (michael mathews)
Date: Fri, 16 Feb 2007 08:02:42 -0800 (PST)
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
Message-ID: <976780.22694.qm@web38910.mail.mud.yahoo.com>

oops should know better than just hit reply



 
____________________________________________________________________________________
Don't get soaked.  Take a quick peak at the forecast

-------------- next part --------------
An embedded message was scrubbed...
From: unknown sender
Subject: no subject
Date: Fri, 16 Feb 2007 08:01:11 -0800 (PST)
Size: 2024
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070216/69a050c9/attachment.mht 

From edd at debian.org  Fri Feb 16 17:24:45 2007
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 16 Feb 2007 10:24:45 -0600
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
In-Reply-To: <976780.22694.qm@web38910.mail.mud.yahoo.com>
References: <976780.22694.qm@web38910.mail.mud.yahoo.com>
Message-ID: <17877.56013.409811.707337@basebud.nulle.part>


On 16 February 2007 at 08:02, michael mathews wrote:
| On windows I would recommend Visual C++ 2005
| Is mostly standards complient has a decent IDE and you can get the
| express edition for free here
| http://msdn.microsoft.com/vstudio/express/

Maybe I am missing something but the question was 'C++ compiler for R
package' and last I checked, only gcc/g++ were officially supported.

Being able to use Visual C++ could be beneficial for external libraries etc.
AFAIK it has been possible with some elbow-grease. Eg Dominick has a short
tutorial in his RcppTemplate package on CRAN. 

However, I could not get that to work in a slighly more complex example (with
several in-house and third-party libraries). Things worked with g++ on a
stricter subset of libraries.

Dirk

-- 
Hell, there are no rules here - we're trying to accomplish something. 
                                                  -- Thomas A. Edison


From tplate at acm.org  Fri Feb 16 17:31:39 2007
From: tplate at acm.org (Tony Plate)
Date: Fri, 16 Feb 2007 09:31:39 -0700
Subject: [R-SIG-Finance] SVG device with tooltips
In-Reply-To: <971536df0702151937y36748750pa06e55f2178c5c6c@mail.gmail.com>
References: <45D4DFB5.2050005@acm.org>
	<971536df0702151937y36748750pa06e55f2178c5c6c@mail.gmail.com>
Message-ID: <45D5DC6B.4030008@acm.org>

Thanks for the feedback!  The SVG code appears to not work with IE on 
Windows.  I've had several reports (including from Gabor) that it does 
work with Firefox, on both GNU/Linux and Windows.  If anyone knows 
what's wrong and how to fix it so that it works with IE, I'd be happy to 
incorporate a fix (but it's not something I'm going to spend much time 
on myself).  AFAICS, it's not just a matter of including a DTD -- I 
tried that and it still wouldn't display in IE.

-- Tony



Gabor Grothendieck wrote:
> When I click on the three svg files in IE7 on Windows XP I get the xml
> source code, not a graphic.  If go to Adobe's site I do get SVG graphics
> for their examples.  I have Adobe's SVG addin installed.
> 
> On 2/15/07, Tony Plate <tplate at acm.org> wrote:
>> I put experimental SVG device package, which includes the ability to
>> have popup tooltips, at
>>
>> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.tar.gz
>> (source)
>> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.zip
>> (windows binary package)
>>
>> Examples of the plots produced are at:
>>
>> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
>> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
>> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg
>>
>> (These are the first 3 examples produced by the code in the help file --
>> I've just put them here so that people can see the SVG output without
>> having to get, compile and install the package.)
>>
>> This SVG device is called RSVGwTipsDevice, and is based on the
>> RSvgDevice package written by T Jake Luciani <jakeluciani at yahoo.com>
>> (who did express mild interest in these modifications, but didn't have
>> time to look at them or comment on them.)
>>
>> Limitations/features are:
>>
>> * standard graphics primitives are used (points(), rect(), etc), and the
>>  same code should work with any device (for other devices, the calls
>> that specify tooltips should have no effect.)
>> * tooltips are attached to shapes: e.g., the output of points(), rect(),
>> and polygon(), but not lines()
>> * the tooltip is specified in a separate call to the drawing function
>> * only the first shape produced by an R drawing function will have a
>> tooltip (so, if you want each point to have a tooltip, each must be
>> drawn separately)
>> * the tooltips that have a title + 2 lines of text probably use
>> non-standard SVG code -- I wrote the SVG code by trial and error and
>> it's probably not correct.  These tooltips display fine in Firefox, but
>> the Batik standalone SVG viewer doesn't like them.
>>
>> One possible approach to get around the limitation that vectorized calls
>> to points() (etc) only have a tooltip on the first point is to allow
>> specifying in advance a vector of tooltip text.  However, the whole
>> approach of having to supply the tooltip text in advance is not very
>> nice -- though it was the only way I could think of making the standard
>> graphics primitives work with tooltips (because the standard graphics
>> primitives don't allow optional extra arguments).
>>
>> If you try this out, please bear in mind that this really is
>> experimental code.  Comments/suggestions/contributions are welcome
>> (especially from SVG experts!)
>>
>> It's probably reasonably easy to add other dynamic graphics features
>> such as zooming and x/y location readout.  I just haven't tried, but if
>> anyone is inspired and comes up with something, I'm happy to try to
>> integrate it!
>>
>> -- Tony Plate
>>
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>>
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>


From frainj at tcd.ie  Fri Feb 16 22:04:04 2007
From: frainj at tcd.ie (John C. Frain)
Date: Fri, 16 Feb 2007 21:04:04 +0000
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
In-Reply-To: <45D5764D.7070304@altk.com>
References: <45D5764D.7070304@altk.com>
Message-ID: <1171659844.45d61c4468c89@mymail.tcd.ie>

I am not an expert on C or C++ but I have used the the Mingw MS Windows port of
gcc with the free IDE Mingw Developer (www.parinasoft.com) with success.  There
is another free IDE Dev-C++ (www.blodshed.net/devcpp.html) for Ms Windows which
I have not used but which also uses the Mingw port of gcc.  I have heard good
reports of this.

John


John C. Frain.
Economics Department
Trinity College Dublin
Dublin 2

www.tcd.ie/Economics/staff/frainj/home.html
mailto:frainj at tcd.ie


Quoting mel <mel at altk.com>:

> recommended C++ compiler for R package ?
>
> Dear All,
>
> I'm an interactive brokers customer and also a fan user of R.
> I wish to use IB TWS API directly from R.
>
> To reach this goal i intend to write a piece of C++ code,
> probably in form of a package,
> which has to be able to speak both with the TWSAPI, and with R
> (at least callable from R).
>
> My question is if there is a recommended compiler
> for developing an R package, or if it doesn't matter ?
> Reading the docs, g++ seems often used, (but often on linux machines).
>
> I have M$VC++6.0, Borland C++ Builder 6, but those compilers like
> to add unuseful stuff, so i'm thinking about g++, but it seems
> that g++ has no associate IDE on windows which is my OS.
>
> Advices much appreciated.
> Thanks
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>


From ygasawa at yahoo.fr  Sat Feb 17 15:35:21 2007
From: ygasawa at yahoo.fr (Emmanuel Leclercq)
Date: Sat, 17 Feb 2007 14:35:21 +0000 (GMT)
Subject: [R-SIG-Finance] Parameters estimation of ARMA with infinite
	variance using LAD
Message-ID: <756375.47100.qm@web26508.mail.ukl.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070217/011d666f/attachment.pl 

From brian at braverock.com  Sat Feb 17 17:39:01 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 17 Feb 2007 10:39:01 -0600
Subject: [R-SIG-Finance] Parameters estimation of ARMA with infinite
	variance using LAD
In-Reply-To: <756375.47100.qm@web26508.mail.ukl.yahoo.com>
References: <756375.47100.qm@web26508.mail.ukl.yahoo.com>
Message-ID: <200702171039.01476.brian@braverock.com>

On Saturday 17 February 2007 08:35, Emmanuel Leclercq wrote:
> I would like to estimate parameters of an ARMA process with infinte
> variance with the method proposed be R. Davis (1995), that is, using
> least absolute deviations. Does anyone know ?if there exists any R
> library able to do that ?
>
> thanks in advance
>
> Emmanuel

There are many sets of functions for ARMA/ARIMA in R. Have you looked at 
these to determine if they will be adequate for your needs?

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From wuertz at itp.phys.ethz.ch  Sun Feb 18 15:58:12 2007
From: wuertz at itp.phys.ethz.ch (Diethelm Wuertz)
Date: Sun, 18 Feb 2007 15:58:12 +0100
Subject: [R-SIG-Finance] 1st International R/Rmetrics Workshop
Message-ID: <45D86984.3070904@itp.phys.ethz.ch>


The 1st International
R/Rmetrics User and Developer Workshop ...

will take place from July 8-12th, 2007
at Meielisalp, Lake Thune, Switzerland.
See www.rmetrics.org


The Workshop Focuses on ...

  > using R/Rmetrics as the premier
    open source solution for financial
    market analysis, valuation of
    financial instruments, and
    insurance tasks,
  > providing a platform for R/Rmetrics
    users to discuss and exchange
    ideas how R and Rmetrics can be
    used to do computations, data
    analysis, and visualization in
    finance and insurance,
  > giving an overview of the new
    features of the rapidly evolving
    R/Rmetrics project and discussing
    future developments.


The Program Consists of ...

  > presentations of new R/Rmetrics
    directions and developments
    through keynote lectures.
  > user-contributed presentations
    reflecting the wide range of
    fields in which R and Rmetrics
    are used in finance and insurance
    to analyze and model data.
  > bringing together developers,
    practitioners, and users from
    finance and insurance providing a
    platform for common discussions
    and exchange of ideas.


Organization ...

Rmetrics Foundation, co-organized by
Swiss Federal Institute of Technology,
    Zurich, and
University of Economics and Business
    Administration, Vienna.

    Web Site:   
        www.rmetrics.org
    Conference Chairs:
        Diethelm W?rtz, Swiss Federal
            Institute of Technology,
            Zurich
        Kurt Hornik, University of
            Economics and Business
            Administration, Vienna


From mel at altk.com  Mon Feb 19 09:23:42 2007
From: mel at altk.com (mel)
Date: Mon, 19 Feb 2007 09:23:42 +0100
Subject: [R-SIG-Finance] recommended C++ compiler for R package ?
In-Reply-To: <45D5764D.7070304@altk.com>
References: <45D5764D.7070304@altk.com>
Message-ID: <45D95E8E.5080308@altk.com>

Great thanks to all for the valuable answers.

On the R side, as told by D. Eddelbuettel it appears that
gcc/g++ are indeed the supported compilers to create R packages.
Others are usable ... at user's own risks.

VC++6 (Excerpts from docs) :
- ... lacks some standard functions such as isnan and isfinite ... we
have seen examples of IEC60559 arithmetic being performed incorrectly.
- ... has changed the floating point control word (in its initialization
code) to a setting incompatible with that needed for R.

This is a point to take in consideration.
I would prefer to be able to be confident in the code results.

On the interactive brokers IB side, VC++6 seems used by numerous people,
but i didn't find that VC++6 is "officially" supported or prefered.

I'll go deeper on those issues.

Thank you very much to all
Vincent


From Achim.Zeileis at wu-wien.ac.at  Mon Feb 19 11:07:48 2007
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Mon, 19 Feb 2007 11:07:48 +0100 (CET)
Subject: [R-SIG-Finance] Reminder: CFE 2007 Submission Deadline
Message-ID: <Pine.LNX.4.44.0702191054030.20434-100000@disco.wu-wien.ac.at>

Dear useRs,

just a quick reminder that the abstract submission deadline
  2007-03-02
for the workshop
  Computational and Financial Econometrics
  April 20-22, 2007
  University of Geneva, Switzerland
  http://www.csdassn.org/europe/CFE07/
is approaching.

If you're interested in the workshop, please consider submitting an
abstract for the session
  "Computational Econometrics and Finance in R"
I would be happy to see many of the subscribers to this mailing list in
Geneva!

Best wishes,
Z


From rfrancois at mango-solutions.com  Mon Feb 19 15:48:14 2007
From: rfrancois at mango-solutions.com (Romain Francois)
Date: Mon, 19 Feb 2007 14:48:14 +0000
Subject: [R-SIG-Finance] SVG device with tooltips
In-Reply-To: <45D4DFB5.2050005@acm.org>
References: <45D4DFB5.2050005@acm.org>
Message-ID: <45D9B8AE.1080100@mango-solutions.com>

Hi,

Thank you for that nice package. As part of my job here, we integrate
SVG with packages such as R and it's an area of great interest to me due
to the graphical capabilities it allows. I managed to use your work to
produce a graphic from a package I'm writing about profiling R code. It
is much nicer with the SVG interactivity than with any other format. The
example shows a profiling graphic of one line of code, I'll send a Mango
t-shirt to the first one that tells me what line of code I profiled ...

http://www.mango-solutions.com/examples/profileplot.svg

The idea of the graphic is that the area of a rectangle represents the
number of times a given function was called.

A couple of thoughts :
- the package inherits the style="all kinds of stuff" from RSvgDevice
when a use of css would help. n my example I get the following results:

> length( gsub( '.*style="(.*)".*', '\\1', grep( 'style', rl, value =
TRUE)) )
[1] 173 
> length(unique( gsub( '.*style="(.*)".*', '\\1', grep( 'style', rl,
value = TRUE))) )
[1] 44
 and if I look deeper into the code, only the fill: field differ from
the many style I have

I think it could be good to use some CSS in the package. A way to do it
could be to post process the file after it is created, that can be fun
!, or generate the css as graphical objects are added to the svg file.

- The javascript scripts are embed to the document, it could be useful
to be able to link the javascript, could be an option ?

- I believe css could be used instead of javascript for the tooltips, I
specially think of the pseudo class "hover", something on the lines of :

rect.*{
  display:none;
}
rect:hover.*{
  display:inline;
}

the downside is that using hover won't bring IE any closer to be able to
render the file properly.

- What about links, so if I click on the glm rect on my example, it will
bring the help page of glm, ...

- I've tested it with konqueror, it does not seem to work

Anyway, nice package, ...

Romain


Tony Plate wrote:
> I put experimental SVG device package, which includes the ability to 
> have popup tooltips, at
>
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.tar.gz 
> (source)
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.zip 
> (windows binary package)
>
> Examples of the plots produced are at:
>
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
> http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg
>
> (These are the first 3 examples produced by the code in the help file -- 
> I've just put them here so that people can see the SVG output without 
> having to get, compile and install the package.)
>
> This SVG device is called RSVGwTipsDevice, and is based on the 
> RSvgDevice package written by T Jake Luciani <jakeluciani at yahoo.com> 
> (who did express mild interest in these modifications, but didn't have 
> time to look at them or comment on them.)
>
> Limitations/features are:
>
> * standard graphics primitives are used (points(), rect(), etc), and the 
>   same code should work with any device (for other devices, the calls 
> that specify tooltips should have no effect.)
> * tooltips are attached to shapes: e.g., the output of points(), rect(), 
> and polygon(), but not lines()
> * the tooltip is specified in a separate call to the drawing function
> * only the first shape produced by an R drawing function will have a 
> tooltip (so, if you want each point to have a tooltip, each must be 
> drawn separately)
> * the tooltips that have a title + 2 lines of text probably use 
> non-standard SVG code -- I wrote the SVG code by trial and error and 
> it's probably not correct.  These tooltips display fine in Firefox, but 
> the Batik standalone SVG viewer doesn't like them.
>
> One possible approach to get around the limitation that vectorized calls 
> to points() (etc) only have a tooltip on the first point is to allow 
> specifying in advance a vector of tooltip text.  However, the whole 
> approach of having to supply the tooltip text in advance is not very 
> nice -- though it was the only way I could think of making the standard 
> graphics primitives work with tooltips (because the standard graphics 
> primitives don't allow optional extra arguments).
>
> If you try this out, please bear in mind that this really is 
> experimental code.  Comments/suggestions/contributions are welcome 
> (especially from SVG experts!)
>
> It's probably reasonably easy to add other dynamic graphics features 
> such as zooming and x/y location readout.  I just haven't tried, but if 
> anyone is inspired and comes up with something, I'm happy to try to 
> integrate it!
>
> -- Tony Plate
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>
>   


-- 
Mango Solutions
Tel  +44 1249 467 467
Fax  +44 1249 467 468
Mob  +44 7813 526 123
data analysis that delivers


From mdowle at concordiafunds.com  Mon Feb 19 17:28:40 2007
From: mdowle at concordiafunds.com (Matthew Dowle)
Date: Mon, 19 Feb 2007 16:28:40 -0000
Subject: [R-SIG-Finance] SVG device with tooltips
Message-ID: <946928E281E8FD4B91D5B2CC3C91967DAA9815@lnex01.CONCORDIAFUNDS.COM>


Romain,

Have you used Matlab's code profiler? It has some neat features which
would be great to see in R, in case you are looking for inspiration in
your profiling project.  For example: line by line timing, line
colouring according to the time spent on that line, parent/child
function call aggregation, barplots of time spent, hyperlinks from the
hit list of lines to their function's context. The line colouring is
useful as it allows you to run coverage testing as well as profiling
i.e. see the lines which did *not* execute. The profiler can also help
with debugging as the execution path is graphically observed. So it is
much more than just profiling, but achieved simply by timing line by
line. 

Matthew


> -----Original Message-----
> From: r-sig-finance-bounces at stat.math.ethz.ch 
> [mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of 
> Romain Francois
> Sent: 19 February 2007 14:48
> To: Tony Plate
> Cc: R-sig-finance
> Subject: Re: [R-SIG-Finance] SVG device with tooltips
> 
> 
> Hi,
> 
> Thank you for that nice package. As part of my job here, we 
> integrate SVG with packages such as R and it's an area of 
> great interest to me due to the graphical capabilities it 
> allows. I managed to use your work to produce a graphic from 
> a package I'm writing about profiling R code. It is much 
> nicer with the SVG interactivity than with any other format. 
> The example shows a profiling graphic of one line of code, 
> I'll send a Mango t-shirt to the first one that tells me what 
> line of code I profiled ...
> 
> http://www.mango-solutions.com/examples/profileplot.svg
> 
> The idea of the graphic is that the area of a rectangle 
> represents the number of times a given function was called.
> 
> A couple of thoughts :
> - the package inherits the style="all kinds of stuff" from 
> RSvgDevice when a use of css would help. n my example I get 
> the following results:
> 
> > length( gsub( '.*style="(.*)".*', '\\1', grep( 'style', rl, value =
> TRUE)) )
> [1] 173 
> > length(unique( gsub( '.*style="(.*)".*', '\\1', grep( 'style', rl,
> value = TRUE))) )
> [1] 44
>  and if I look deeper into the code, only the fill: field 
> differ from the many style I have
> 
> I think it could be good to use some CSS in the package. A 
> way to do it could be to post process the file after it is 
> created, that can be fun !, or generate the css as graphical 
> objects are added to the svg file.
> 
> - The javascript scripts are embed to the document, it could 
> be useful to be able to link the javascript, could be an option ?
> 
> - I believe css could be used instead of javascript for the 
> tooltips, I specially think of the pseudo class "hover", 
> something on the lines of :
> 
> rect.*{
>   display:none;
> }
> rect:hover.*{
>   display:inline;
> }
> 
> the downside is that using hover won't bring IE any closer to 
> be able to render the file properly.
> 
> - What about links, so if I click on the glm rect on my 
> example, it will bring the help page of glm, ...
> 
> - I've tested it with konqueror, it does not seem to work
> 
> Anyway, nice package, ...
> 
> Romain
> 
> 
> Tony Plate wrote:
> > I put experimental SVG device package, which includes the ability to
> > have popup tooltips, at
> >
> > 
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_0.6.1.ta
> > r.gz
> > (source)
> > 
> http://www.cybermesa.com/~champagne/RSVGwTips/RSVGwTipsDevice_
> 0.6.1.zip 
> > (windows binary package)
> >
> > Examples of the plots produced are at:
> >
> > http://www.cybermesa.com/~champagne/RSVGwTips/svgplot1.svg
> > http://www.cybermesa.com/~champagne/RSVGwTips/svgplot2.svg
> > http://www.cybermesa.com/~champagne/RSVGwTips/svgplot3.svg
> >
> > (These are the first 3 examples produced by the code in the 
> help file 
> > --
> > I've just put them here so that people can see the SVG 
> output without 
> > having to get, compile and install the package.)
> >
> > This SVG device is called RSVGwTipsDevice, and is based on the
> > RSvgDevice package written by T Jake Luciani 
> <jakeluciani at yahoo.com> 
> > (who did express mild interest in these modifications, but 
> didn't have 
> > time to look at them or comment on them.)
> >
> > Limitations/features are:
> >
> > * standard graphics primitives are used (points(), rect(), 
> etc), and the 
> >   same code should work with any device (for other devices, 
> the calls
> > that specify tooltips should have no effect.)
> > * tooltips are attached to shapes: e.g., the output of 
> points(), rect(), 
> > and polygon(), but not lines()
> > * the tooltip is specified in a separate call to the 
> drawing function
> > * only the first shape produced by an R drawing function 
> will have a 
> > tooltip (so, if you want each point to have a tooltip, each must be 
> > drawn separately)
> > * the tooltips that have a title + 2 lines of text probably use 
> > non-standard SVG code -- I wrote the SVG code by trial and 
> error and 
> > it's probably not correct.  These tooltips display fine in 
> Firefox, but 
> > the Batik standalone SVG viewer doesn't like them.
> >
> > One possible approach to get around the limitation that vectorized 
> > calls
> > to points() (etc) only have a tooltip on the first point is 
> to allow 
> > specifying in advance a vector of tooltip text.  However, the whole 
> > approach of having to supply the tooltip text in advance is 
> not very 
> > nice -- though it was the only way I could think of making 
> the standard 
> > graphics primitives work with tooltips (because the 
> standard graphics 
> > primitives don't allow optional extra arguments).
> >
> > If you try this out, please bear in mind that this really is
> > experimental code.  Comments/suggestions/contributions are welcome 
> > (especially from SVG experts!)
> >
> > It's probably reasonably easy to add other dynamic graphics features
> > such as zooming and x/y location readout.  I just haven't 
> tried, but if 
> > anyone is inspired and comes up with something, I'm happy to try to 
> > integrate it!
> >
> > -- Tony Plate
> >
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list 
> > https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> >
> >   
> 
> 
> -- 
> Mango Solutions
> Tel  +44 1249 467 467
> Fax  +44 1249 467 468
> Mob  +44 7813 526 123
> data analysis that delivers
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list 
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. 
> -- If you want to  post, subscribe first.
> 
>


From ecjbosu at aol.com  Mon Feb 19 19:13:55 2007
From: ecjbosu at aol.com (Joe Byers)
Date: Mon, 19 Feb 2007 12:13:55 -0600
Subject: [R-SIG-Finance] coskew/cokurtosis test
In-Reply-To: <200702182230.43624.brian@braverock.com>
References: <200702182230.43624.brian@braverock.com>
Message-ID: <45D9E8E3.5080303@aol.com>

Brian,

I probably should clarify my view of co-skew and co-kurt.  I view these 
in multivariate distribution setting.  I googled "multivariate skewness" 
and get 11,000 hits with the first 20-30 providing good references.  
Several reference a paper from 1970 that defines Mult-skew as

or

I am still reviewing these.

The references for co-skew and co-kurt that I can find and I think you 
are trying to implement view these as the skew beta and kurt beta in the 
higher moment CAPM, which would be the multi-skew and multi-kurt 
measures scaled by the market variance.

In my example, I use the covariance of all assets to scale your co-skew 
function results to get the multi-variate skewness measures.  I am going 
to test my quick and dirty calculation against the above formulas to 
validity.

Hope this helps
Joe

brian at braverock.com wrote:
> Joe,
>
> I finally got your posted script to work.  Thank you for sending it.
>
> I had cut and pasted it from my email to an editor window, and I think I 
> got email cruft or windows character encodings or something, because it 
> was causing syntax errors in R, even though I could visually see correct 
> syntax.  Changing the file encoding in an editor a couple of times 
> cleared it up.
>
> I'm going to need to take a bit of time to understand the transformations 
> at the tail end of your script, and compare it to the Kroenecker product 
> co-moment functions posted by Guillaume Nicoulaud.  I'll report back to 
> you and the list after looking at it a bit.
>
> Expect a package tarball from me tomorrow.  I was hoping my co-author 
> would have more .Rd documentation functions done by now, but I think you 
> may still find it useful even in its incompletely documented state.
>
> Thanks for your help with the co-moments.
>
> Regards,
>
>    - Brian
>
>   
r
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070219/2779fe9c/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: moz-screenshot.jpg
Type: image/jpeg
Size: 2987 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070219/2779fe9c/attachment.jpg 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: moz-screenshot-1.jpg
Type: image/jpeg
Size: 6051 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070219/2779fe9c/attachment-0001.jpg 

From m.koestlin at gmx.de  Mon Feb 19 06:21:56 2007
From: m.koestlin at gmx.de (=?iso-8859-1?Q?Markus_K=F6stlin?=)
Date: Mon, 19 Feb 2007 06:21:56 +0100
Subject: [R-SIG-Finance] [R-sig-finance] fBonds svensson fitting
Message-ID: <000001c753e5$e0534c00$0f01a8c0@Markus>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070219/f204294a/attachment.pl 

From oliverfaulhaber at gmx.de  Mon Feb 26 02:04:40 2007
From: oliverfaulhaber at gmx.de (Oliver Faulhaber)
Date: Mon, 26 Feb 2007 01:04:40 +0000
Subject: [R-SIG-Finance] Filtering Tick Data
Message-ID: <45E23228.1040702@gmx.de>

Hi all!

After trying various approaches throughout the last two hours, I hope to 
get help from this list:

- I have a timeSeries object with tick data for a whole day:

   2007-01-01 09:00:00 6000
   2007-01-01 09:00:15 6001
   2007-01-01 09:00:20 6002
   2007-01-01 09:00:50 6003
   2007-01-01 09:01:00 6004
   2007-01-01 09:01:35 6005
   2007-01-01 09:01:55 6006
   2007-01-01 09:02:05 6008

- I want to get a timeSeries object with data at an one-minute interval.
   If there exists no price for the specific time, the function should
   return an interpolated value:

   2007-01-01 09:00:00 6000
   2007-01-01 09:01:00 6004
   2007-01-01 09:02:00 6007

Can I just modify the existing alignDailySeries function or is there a 
easier way to achieve this?

Many thanks for your help in advance
Oliver


From brian at braverock.com  Mon Feb 26 02:27:40 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Sun, 25 Feb 2007 19:27:40 -0600
Subject: [R-SIG-Finance] Filtering Tick Data
In-Reply-To: <45E23228.1040702@gmx.de>
References: <45E23228.1040702@gmx.de>
Message-ID: <200702251927.40996.brian@braverock.com>

On Sunday 25 February 2007 19:04, Oliver Faulhaber wrote:
> - I want to get a timeSeries object with data at an one-minute
> interval. If there exists no price for the specific time, the function
> should return an interpolated value:

I would suggest the "aggregate" function from library "zoo" to coerce your 
irregular timeseries into a regular one-minute (or whatever) timeseries.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From joe at gnacademy.org  Mon Feb 26 02:56:01 2007
From: joe at gnacademy.org (Joseph Wang)
Date: Sun, 25 Feb 2007 19:56:01 -0600
Subject: [R-SIG-Finance] Paper on R/SWIG/QuantLib now on SSRN
Message-ID: <200702251956.01401.joe@gnacademy.org>

I finally had a chance to upload a conference paper I wrote describing the 
work I did on getting R, SWIG, and QuantLib together to research Shanghai 
warrants.  The paper was for an economics conference so it is light on 
technical details.

The paper is at

http://papers.ssrn.com/sol3/papers.cfm?abstract_id=965317

-- 
-------------------------------------------------------------------------------
Joseph Wang Ph.D. - joe at gnacademy.org  
China Derivatives Researcher and Software Developer - QuantLib
http://en.wikiversity.org/wiki/User:Roadrunner


From jefe_goode at yahoo.com  Fri Mar  2 00:28:04 2007
From: jefe_goode at yahoo.com (jefe goode)
Date: Thu, 1 Mar 2007 23:28:04 +0000 (GMT)
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <17871.5235.683218.447789@mithrandir.hornik.net>
Message-ID: <910624.80956.qm@web61018.mail.yahoo.com>

I have updated tseries today ('tseries' version:
0.10-7)
and I still get the problem below with get.hist.quote

Do we need to manually edit a line of code in
get.hist.quote? If so where do I find the source and
what steps needed to install?

Thanks

Jefe
--- Kurt Hornik <Kurt.Hornik at wu-wien.ac.at> wrote:

> >>>>> Josh Ulrich writes:
> 
> >> All of a sudden get.hist.quote cease to function,
> i switched to zoo after i
> >> totally failed to get yahooImport to work. I've
> been using the below R
> >> snippet for weeks without any problems what so
> ever.
> 
> > <snip>
> 
> >> Error in if (!quiet && dat[n] != start)
> cat(format(dat[n], "time series
> >> starts %Y-%m-%d\n")) :
> >> missing value where TRUE/FALSE needed
> 
> > This is because Yahoo recently changed the date
> format of its CSV files from 
> > "%d-%m-%y" to "%Y-%m-%d".  All that needs to be
> changed in 'get.hist.quote' 
> > is this line of code:
> > from: dat <- as.Date(dat, "%d-%b-%Y")
> > to: dat <- as.Date(dat, "%Y-%m-%d")
> 
> Thanks.  Updated version of tseries on CRAN now.
> 
> Best
> -k
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>


From josh.m.ulrich at gmail.com  Fri Mar  2 02:01:52 2007
From: josh.m.ulrich at gmail.com (Josh Ulrich)
Date: Thu, 1 Mar 2007 19:01:52 -0600
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <910624.80956.qm@web61018.mail.yahoo.com>
References: <17871.5235.683218.447789@mithrandir.hornik.net>
	<910624.80956.qm@web61018.mail.yahoo.com>
Message-ID: <8cca69990703011701uf39796dw1f5756d1b8629575@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070301/81e627de/attachment.pl 

From Kurt.Hornik at wu-wien.ac.at  Fri Mar  2 09:43:00 2007
From: Kurt.Hornik at wu-wien.ac.at (Kurt Hornik)
Date: Fri, 2 Mar 2007 09:43:00 +0100
Subject: [R-SIG-Finance] get.hist.quote
In-Reply-To: <910624.80956.qm@web61018.mail.yahoo.com>
References: <17871.5235.683218.447789@mithrandir.hornik.net>
	<910624.80956.qm@web61018.mail.yahoo.com>
Message-ID: <17895.58260.487185.738407@mithrandir.hornik.net>

>>>>> jefe goode writes:

> I have updated tseries today ('tseries' version:
> 0.10-7)

The current version of tseries is 0.10-11, not sure where you got 0.10-7
from.

The current version has been adjusted for Yahoo's change in data format
(they now seem to use ISO format).  I've been told that there are still
problems because servers seem to be changing: if anyone has details on
how to correctly programmatically interface these quoting services pls
let me know.

-k

> and I still get the problem below with get.hist.quote

> Do we need to manually edit a line of code in
> get.hist.quote? If so where do I find the source and
> what steps needed to install?

> Thanks

> Jefe
> --- Kurt Hornik <Kurt.Hornik at wu-wien.ac.at> wrote:

>> >>>>> Josh Ulrich writes:
>> 
>> >> All of a sudden get.hist.quote cease to function,
>> i switched to zoo after i
>> >> totally failed to get yahooImport to work. I've
>> been using the below R
>> >> snippet for weeks without any problems what so
>> ever.
>> 
>> > <snip>
>> 
>> >> Error in if (!quiet && dat[n] != start)
>> cat(format(dat[n], "time series
>> >> starts %Y-%m-%d\n")) :
>> >> missing value where TRUE/FALSE needed
>> 
>> > This is because Yahoo recently changed the date
>> format of its CSV files from 
>> > "%d-%m-%y" to "%Y-%m-%d".  All that needs to be
>> changed in 'get.hist.quote' 
>> > is this line of code:
>> > from: dat <- as.Date(dat, "%d-%b-%Y")
>> > to: dat <- as.Date(dat, "%Y-%m-%d")
>> 
>> Thanks.  Updated version of tseries on CRAN now.
>> 
>> Best
>> -k
>> 
>> _______________________________________________
>> R-SIG-Finance at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
>> 



		
> ___________________________________________________________ 
> To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com


From brian at braverock.com  Mon Mar  5 17:24:29 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 5 Mar 2007 10:24:29 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern econometrics
	for performance and risk (implemented)
Message-ID: <200703051024.29748.brian@braverock.com>

PerformanceAnalytics R package for Performance and Risk Analysis

We are pleased to release for the use and review of our peers and mentors
this R package of econometric tools for performance and risk analysis.

We are soliciting feedback on the PerformanceAnalytics package on
R-SIG-Finance in preparation for releasing this package to CRAN and
submission to one of the implementation journals.  We believe that the
code here is stable and usable, please report any problems that you
encounter.  We intend to continue adding documentation and examples
during this review period as well, so please suggest refinements,
examples, or references.  We intend to write a vignette that can include
inline equations, code, and graphics as part of the publication process,
but that may not be completed before the first release to CRAN.

PerformanceAnalytics R package version 0.9.3 (v1.0rc1)

Econometric tools for performance and risk analysis.

Description:
Library of econometric functions for performance and risk analysis of
financial portfolios. This library aims to aid practitioners and
researchers in using the latest research in analysis of both normal and
non-normal return streams.

We created this library to include functionality that has been appearing
in the academic literature on performance analysis and risk over the past
several years, but had no functional equivalent in R.  In doing so, we
also found it valuable to have wrapper functions for functionality easily
replicated in R, so that we could access that functionality using a
function with defaults and naming consistent with common usage in the
finance literature. The package covers Performance Analysis, Risk
Analysis (with a separate treatment of VaR), Summary Tables of related
statistics, Charts and Graphs, a variety of Wrappers and Utility
functions, and some thoughts on work yet to be done.

This R package contains over 80 original functions, and several
 additional wrappers to simplify parameters or provide accessible names
 for other functionality.

I suggest that you start with the summary documentation, either via the
attached PerformanceAnalytics-package.pdf
or as HTML with links here:
http://braverock.com/brian/R/PerformanceAnalytics-package.html

Below please find the index summary of all the functions included in the
documentation.

Regards,

    - Brian


#########################################################################
PerformanceAnalytics package index:

ActivePremium           Active Premium
BetaCoKurtosis          systematic kurtosis of an asset to the initial
                        portfolio
BetaCoSkewness          systematic skewness of an asset to an initial
                        portfolio
BetaCoVariance          systematic beta of an asset to an initial
                        portfolio
CAPM.alpha              calculate CAPM alpha
CAPM.beta               calculate CAPM beta
CAPM.utils              utility functions for CAPM CML, SML, and
                        RiskPremium
CalculateReturns        calculate simple or compound returns from
                        prices
CoKurtosis              calculate the co-moment for kurtosis of two
                        assets
CoSkewness              calculate the co-moment for skewness of two
                        assets
DownsideDeviation       function for downside risk of the return
                        distribution
InformationRatio        InformationRatio = ActivePremium/TrackingError
KellyRatio              calculate Kelly criterion ratio (leverage or
                        bet size) for a strategy
Omega                   calculate Omega for a return series
Return.annualized       calculate an annualized return for comparing
                        instruments with different length history
Return.cumulative       calculate a compounded (geometric) cumulative
                        return
SemiDeviation           deviation below the mean of the return
                        distribution
SharpeRatio             Sharpe Ratio
SharpeRatio.annualized
                        calculate annualized Sharpe Ratio
SharpeRatio.modified    calculate a modified Sharpe Ratio of
                        Return/modVaR
SortinoRatio            calculate Sortino Ratio of performance over
                        downside risk
StdDev                  Standard Deviation of Monthly Returns
StdDev.annualized       calculate an annualized Standard Deviation
TrackingError           Calculate Tracking Error of returns against a
                        benchmark
TreynorRatio            calculate Treynor Ratio of excess return over
                        CAPM beta
UpDownRatios            calculate metrics on up and down markets for
                        the benchmark asset
VaR.Beyond              calculate BVaR or loss Beyond traditional
                        mean-VaR
VaR.CornishFisher       calculate Modified Cornish-Fisher Value at Risk
VaR.Marginal            Calculate the Marginal VaR of each element of a
                        portfolio
chart.Bar               wrapper for barchart of returns
chart.BarVaR            Periodic returns in a bar chart with risk
                        metric overlay
chart.Boxplot           box whiskers plot wrapper, with sensible
                        defaults
chart.Correlation       correlation matrix chart
chart.Correlation.color
                        correlation matrix chart, in color
chart.CumReturns        Cumulates and graphs a set of periodic returns
chart.Drawdown          Time series chart of drawdowns through time
chart.Histogram         histogram of returns
chart.QQPlot            wrapper for qq.plot, with sensible defaults
chart.RegressionDiagnostics
                        regression diagnostics charts
chart.RelativePerformance
                        relative performance chart between multiple
                        return series
chart.RiskReturnScatter
                        scatter chart of returns vs risk for comparing
                        multiple instruments
chart.RollingCorrelation
                        chart rolling correlation fo multiple assets
chart.RollingMean       chart the rolling mean return
chart.RollingPerformance
                        wrapper to create a chart of rolling
                        performance metrics in a line chart
chart.RollingRegression
                        A wrapper to create charts of relative
                        regression performance through time
chart.Scatter           wrapper to draw scatter plot with sensible
                        defaults
chart.TimeSeries        Creates a time series chart with some
                        extensions.
charts.PerformanceSummary
                        Create combined wealth index, period
                        performance, and drawdown chart
charts.RegressionDiagnostics
                        multiple regression diagnostics charts in one
                        plot
charts.RollingPerformance
                        rolling performance chart
checkDataMatrix         check input data type and format to normalize
                        to a vector
checkDataVector         check input data type and format to normalize
                        to a vector
cummax.column           wrapper to calculate cummax on all columns in a
                        matrix
cumprod.column          wrapper to calculate cumprod on all columns in
                        a matrix
download.RiskFree       download 13-week US Treasury Bill Prices and
                        calculate 13-week US Treasury Bill returns
download.SP500PriceReturns
                        download S & P Prices and calculate S & P
                        returns
edhec                   EDHEC-Risk Hedge Fund Style Indices
findDrawdowns           Find the drawdowns in a timeseries.
maxDrawdown             caclulate the maximum drawdown from peak equity
mean.utils              calculate attributes relative to the mean of
                        the return series given incl. stderr, LCL, UCL
moment.fourth           calculate the fourth mathematical moment of the
                        return function
moment.third            calculate the third mathematical moment of the
                        return function
rollingCorrelation      rolling training period covariance/correlation
rollingFunction         wrapper to apply functions over a rolling
                        period
rollingRegression       Rolling Regression on Returns
rollingStat             wrapper to apply any function over a rolling
                        time window
sortDrawdowns           order list of drawdowns from worst to best
statsTable              wrapper function for combining arbitrary
                        function list into a table
table.AnnualizedReturns
                        Annualized Returns Summary: Statistics and
                        Stylized Facts
table.CAPM              Asset-Pricing Model Summary: Statistics and
                        Stylized Facts
table.Correlation       calculate correlalations of multicolumn data
table.DownsideRisk      Downside Risk Summary: Statistics and Stylized
                        Facts
table.HigherMoments     Higher Moments Summary: Statistics and Stylized
                        Facts
table.MonthlyReturns    Monthly Returns Summary: Statistics and
                        Stylized Facts
table.Returns           Monthly and Calendar year Return table
table.RollingPeriods    Rolling Periods Summary: Statistics and
                        Stylized Facts

#########################################################################
 R (http://r-project.org/) Econometrics for Performance and Risk Analysis

 Copyright (c) 2004-2007 Peter Carl and Brian G. Peterson

 This library is distributed under the GNU Public License (GPL)
 for full details see the file COPYING
#########################################################################


This package replaces, extends, and deprecates the work that we had
previously published here for review by this community:

https://stat.ethz.ch/pipermail/r-sig-finance/2006q3/000977.html
coskewness, cokurtosis, and higher beta co-moments of the return
distribution (implemented)
Brian G. Peterson Thu Aug 10 14:05:43 2006

https://stat.ethz.ch/pipermail/r-sig-finance/2006q4/001170.html
performance analytics functions missing from other libraries
 (implemented) Brian G. Peterson Sat Dec 9 16:48:43 CET 2006

--
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PerformanceAnalytics-package.pdf
Type: application/pdf
Size: 190781 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070305/780ef399/attachment.pdf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PerformanceAnalytics_0.9.3.tar.gz
Type: application/x-tgz
Size: 90709 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070305/780ef399/attachment.bin 

From john_d_mchenry at yahoo.com  Tue Mar  6 14:20:43 2007
From: john_d_mchenry at yahoo.com (John McHenry)
Date: Tue, 6 Mar 2007 05:20:43 -0800 (PST)
Subject: [R-SIG-Finance] Pairs trade?
Message-ID: <188219.56962.qm@web35402.mail.mud.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070306/fc17d4ca/attachment.pl 

From brian at braverock.com  Tue Mar  6 14:51:02 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 6 Mar 2007 07:51:02 -0600
Subject: [R-SIG-Finance] Pairs trade?
In-Reply-To: <188219.56962.qm@web35402.mail.mud.yahoo.com>
References: <188219.56962.qm@web35402.mail.mud.yahoo.com>
Message-ID: <200703060751.02811.brian@braverock.com>

On Tuesday 06 March 2007 07:20, John McHenry wrote:
> I'm looking for examples of how to code pairs trades in R. I'm self
> taught, so no example is too simple!
>
> Does any financial package cover pairs trading?

I'm not aware of any statistical software package that covers pairs 
trading per se.  Often, you would use statistical software to analyze 
historical correlations on related sector instruments to identify target 
pairs, and then use an execution environment to generate the signals when 
highly correlated instruments diverge.

There are execution environments like TradeStation or Interactive Brokers 
for retail trading (IB also has a professional product), which both have 
simple programming environments and some mean reversion methods built in.

To take advantage of pairs trades in actual practice, you also need a data 
management mechanism, price data, etc.  So, you may wish to start with 
one of the retail environments I've mentioned above, to avoid the extra 
overhead.

If you still want to code it in R, you'll need to start thinking about 
these questions:
- Where will I get market data?
- How will I calculate correlations?
- How will I generate my target list of highly paired instruments?
- What will be my signal for divergence?
- How wide a spread before I put the trade on?
- When do I take the trade off?  
- Will I ever move or take off only one side of the spread?
- What execution environment am I going to use?

R is capable of doing all these things.  Packages and functions exist for 
some individual techniques or portions of functionality to implement the 
software needed for my list of questions above.  Others you would have to 
write yourself or pay someone to write for you.

This list will be most useful to you if you attempt to implement something 
specific, and then ask the list when you have a question which might be 
phrased something like: 

"I've attempted to generate a timeseries of signals describing when two 
highly correlated instruments diverge by more than one standard 
deviation.  My code mostly works, but I can't formulate the long and 
short signals into a timeseries that I can use in my backtesting 
environment.  Could someone help me fix function pair_signals()?"

I hope this helps.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From dave at kanecap.com  Tue Mar  6 15:04:26 2007
From: dave at kanecap.com (David Kane)
Date: Tue, 6 Mar 2007 09:04:26 -0500
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics	for performance and risk (implemented)
In-Reply-To: <200703051024.29748.brian@braverock.com>
References: <200703051024.29748.brian@braverock.com>
Message-ID: <17901.29930.299711.115552@gargle.gargle.HOWL>

Brian G. Peterson writes:
 > We are soliciting feedback on the PerformanceAnalytics package on
 > R-SIG-Finance in preparation for releasing this package to CRAN and
 > submission to one of the implementation journals. 

This looks like great stuff. The more open source finance tools that
are available in R, the better. Comments (I have cc'd the entire list
to encourage more discussion):

1) It would be nice to see better integration between the different R
packages focussed on empirical finance. Do we really need another
calculation of the Sharpe ratio? To that end, we would welcome
collaboration on our portfolio/portfolioSim packages. If not with us,
then why not add these functions to Rmetrics?

2) At first glance, the code is not robust enough for production
work. I would like to see a namespace. S4, rather than S3,  classes
would be better. Are there really no test cases? I do not trust code
without test cases.

3) Much of the coding does not seem consistent with standard R
usage. For example, the initial argument for many functions is "R". It
is hard to imagine a worse convention. "x" or "data" would be more
consistent with standard practice.

Again, I don't want this to seem too critical. We need more
contributions, not fewer! I look forward to other comments from the
community.

Dave Kane


From brian at braverock.com  Tue Mar  6 15:32:07 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 6 Mar 2007 08:32:07 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics for performance and risk (implemented)
In-Reply-To: <17901.29930.299711.115552@gargle.gargle.HOWL>
References: <200703051024.29748.brian@braverock.com>
	<17901.29930.299711.115552@gargle.gargle.HOWL>
Message-ID: <200703060832.07473.brian@braverock.com>

On Tuesday 06 March 2007 08:04, David Kane wrote:
> Brian G. Peterson writes:
>  > We are soliciting feedback on the PerformanceAnalytics package on
>  > R-SIG-Finance in preparation for releasing this package to CRAN and
>  > submission to one of the implementation journals.
>
> This looks like great stuff. The more open source finance tools that
> are available in R, the better. Comments (I have cc'd the entire list
> to encourage more discussion):
>
> 1) It would be nice to see better integration between the different R
> packages focussed on empirical finance. Do we really need another
> calculation of the Sharpe ratio? To that end, we would welcome
> collaboration on our portfolio/portfolioSim packages. If not with us,
> then why not add these functions to Rmetrics?

David,

I think that the multitude of packages in R is one of its strengths.  We 
attempted with the CheckDataMatrix and CheckDataVector functions to make 
coercion of arguments transparent with as many types of input data as 
possible.  While I've appreciated your 'portfolio' and 'portfolioSim' 
packages (and reference them in our summary), it wasn't clear that the 
econometric functions in our code fit particularly well in your package.

No, we don't really need another calculation of Sharpe Ratio.  One 
implementation that I'm aware of assumes prices, not returns. One 
implementation only takes timeSeries.  We needed to do an annualized 
Sharpe ratio, and were going to provide many of the modifications to 
Sharpe Ratio as well, so we reluctantly re-implemented it to provide a 
complete collection of the Sharpe-related metrics with common parameters 
and usage. (I think this is the most complete collection in R of Sharpe 
and related or derived metrics.)

> 2) At first glance, the code is not robust enough for production
> work. I would like to see a namespace. S4, rather than S3,  classes
> would be better. Are there really no test cases? I do not trust code
> without test cases.

Almost all of the functions have executable examples in the .Rd files. 
These are tested for execution in the package build process. I'm not yet 
familiar enough with the unit test structures for packages in R to 
convert the examples into formal test cases with expected results, but we 
do intend to do so.  Any assistance would of course be appreciated.

There is, in my opinion, no need for a class for simple, mostly 
standalone, functions such as this.  I've been building enterprise scale 
object oriented software packages for a very long time, and classes are 
overused where they add only complexity and not clarity to an 
application, in my opinion.  I use classes when they add clarity, not for 
the sake of being object oriented. For something like 'zoo' or 
'portfolio', a class makes sense.  For Sortino Ratio or Cornish-Fisher 
VaR, a class adds unneeded complexity and weight.

I have used classes in R where they seemed appropriate.  A backtesting 
infrastructure, related data management interfaces, etc.  For this 
collection, I didn't see any clear class delineations.

What do you think the package would gain from a namespace?
   
> 3) Much of the coding does not seem consistent with standard R
> usage. For example, the initial argument for many functions is "R". It
> is hard to imagine a worse convention. "x" or "data" would be more
> consistent with standard practice.

'x' as a parameter name means nothing. 'R' for 'returns', 'Rb' for 
'returns of benchmark', 'rf' for 'risk free rate' all conform to what you 
will see in the statistical equations in the finance literature and in 
common computer science practice of meaningful variable names.

> Again, I don't want this to seem too critical. 

Not taken as too critical.  Hopefully my commentary make things more 
clear.  I would very much appreciate any pointers or examples on 
converting our .Rd examples into test cases with expected results based 
on your comments.

> We need more contributions, not fewer! 
> I look forward to other comments from the community.

I hope that the list chimes in with more commentary on the functionality 
as well.

Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From enrique.bengoechea at credit-suisse.com  Tue Mar  6 16:03:14 2007
From: enrique.bengoechea at credit-suisse.com (=?iso-8859-1?Q?Bengoechea_Bartolom=E9_Enrique_=28SIES_73=29?=)
Date: Tue, 6 Mar 2007 16:03:14 +0100
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics (...)
In-Reply-To: <mailman.15.1173178806.11892.r-sig-finance@stat.math.ethz.ch>
References: <mailman.15.1173178806.11892.r-sig-finance@stat.math.ethz.ch>
Message-ID: <19811401A1D8174CB3EAD7F6072E9B50649B6D@chsa1025.share.beluni.net>

Hi Brian,

Thanks a lot for sharing this package, which I find very very interesting, and fills an important gap in R financial packages.

After reviewing the docs I have some remarks which I know are mainly a matter of personal preference rather than real issues, and I know YMMV, but please let me share them with you.

First, on function names. When I started programming in R I created verbose names like the ones in this package. I came from a background in languages like Java where communicating purpose is important when naming functions and variables, and typing long names is not an issue because IDEs make your life easy. Nevertheless, R is also an *interactive* environment, and I realized I was typing the same long names again and again on the GUI, which was repetitive, prone to error, and bad for my RSI. So with time I renamed functions like "CalculateReturns" and "MaxDrawdown" to "returns" or "mdd", and I'm much happier now... 

I also learnt to turn my functions into methods. As a functional language, functions are first-class elements in R. It's generally recommeded to avoid polluting the namespace with tons of new functions, which makes them hard to remember. The preferred design is to create new classes that use standard methods as much as possible, as they are already known and easily remembered by other R users. An example of this for financial users is the difference between classes "timeSeries" and "zoo". I extensively tested both of them (and several others), and decided to use "zoo" for what is stated on its documentation:

"key design goals are (...) consistency with ts and base R by providing methods to standard generics. Therefore, standard functions can be used to work with "zoo" objects and memorization of new commands is reduced."

I really like "timeSeries", but having to remember and type "diffSeries" each time instead of just "diff", which I can apply to many different classes of objects, is a pain in the ass for me. And I see similar design decisions on this PerformanceAnalytics package.

With respect to parameters naming, I also find disturbing to have the main parameter of each function called "R", the name of the language itself!!! I started applying different conventions to my functions, but ended up using those in the base R package, where the main argument is usually called "x", "data", or similar.

I hope this is useful.

Best,

Enrique


From brian at braverock.com  Tue Mar  6 17:32:52 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 6 Mar 2007 10:32:52 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics (...)
In-Reply-To: <19811401A1D8174CB3EAD7F6072E9B50649B6D@chsa1025.share.beluni.net>
References: <mailman.15.1173178806.11892.r-sig-finance@stat.math.ethz.ch>
	<19811401A1D8174CB3EAD7F6072E9B50649B6D@chsa1025.share.beluni.net>
Message-ID: <200703061032.52791.brian@braverock.com>

On Tuesday 06 March 2007 09:03, Bengoechea Bartolom? Enrique wrote:
> Thanks a lot for sharing this package, which I find very very
> interesting, and fills an important gap in R financial packages.
>
> After reviewing the docs I have some remarks which I know are mainly a
> matter of personal preference rather than real issues, and I know YMMV,
> but please let me share them with you.

Enrique,

Thanks for the feedback.

> First, on function names. When I started programming in R I created
> verbose names like the ones in this package. I came from a background
> in languages like Java where communicating purpose is important when
> naming functions and variables, and typing long names is not an issue
> because IDEs make your life easy. Nevertheless, R is also an
> *interactive* environment, and I realized I was typing the same long
> names again and again on the GUI, which was repetitive, prone to error,
> and bad for my RSI. So with time I renamed functions like
> "CalculateReturns" and "MaxDrawdown" to "returns" or "mdd", and I'm
> much happier now...

I'm not set on this one way or the other.  I'm a definite proponent of 
descriptive naming, and I tend to maximize my use of an editor or IDE 
that includes intelligent completion of function and variable names.  
I've struggled in R to remember many of the very obscure short function 
names that I don't use constantly.  One option here, of course, is to 
create additional alias functions in the package like BCoS() to make sure 
you don't need to type BetaCoSkewness().  I don't have a good answer 
here, so more input from the community is appreciated. 

> I also learnt to turn my functions into methods. As a functional
> language, functions are first-class elements in R. It's generally
> recommeded to avoid polluting the namespace with tons of new functions,
> which makes them hard to remember. The preferred design is to create
> new classes that use standard methods as much as possible, as they are
> already known and easily remembered by other R users. An example of
> this for financial users is the difference between classes "timeSeries"
> and "zoo". I extensively tested both of them (and several others), and
> decided to use "zoo" for what is stated on its documentation:

when I load the package using

library(PerformanceAnalytics)

The ls() output is the same before and after loading the package.  Unlike 
using source() where function names from the sourced file become part of 
the top-level namespace. 

It seems that only if I were to use export() in the package load function 
would any of the code entities from the PerformanceAnalytics package get 
put into the global namespace.

Clearly I must be missing a distinction in how package namespaces work.  
Perhaps you could clarify?  

> "key design goals are (...) consistency with ts and base R by providing
> methods to standard generics. Therefore, standard functions can be used
> to work with "zoo" objects and memorization of new commands is
> reduced."

Clearly, this makes lots of sense for classes like zoo and timeSeries, 
which are effectively extensions of standard R data types and methods.

For these econometric functions, I just couldn't see a good way to wrap 
them up into a class that makes any logical sense.  Sometimes you're 
working with vectors of returns, other times with regular or irregular 
timeseries/zoo objects, sometimes with one instrument, sometimes with 
many.

The code currently uses mostly vectors and data.frames internally.  We're 
strongly considering changing to use zoo internally for everything, as it 
would probably also make some of the rolling and aggregation code we 
wrote redundant.

I'm open to specific suggestions, but couldn't come up with a good 
paradigm that made this functionality feel like obvious objects or 
classes.
 
> I really like "timeSeries", but having to remember and type
> "diffSeries" each time instead of just "diff", which I can apply to
> many different classes of objects, is a pain in the ass for me. And I
> see similar design decisions on this PerformanceAnalytics package.
>
> With respect to parameters naming, I also find disturbing to have the
> main parameter of each function called "R", the name of the language
> itself!!! I started applying different conventions to my functions, but
> ended up using those in the base R package, where the main argument is
> usually called "x", "data", or similar.

I would be open to renaming the variables to lowercase 'r', 'ra', 'rb' if 
the community feels strongly about it, although I'm not sure what would 
be gained. I think in general that the descriptive clarity is far better 
than a non-differentiated 'x', and consistency of naming across the 
package is more important than using 'x' for the handful of functions 
that take only one parameter.
 
Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From brian at braverock.com  Tue Mar  6 20:21:23 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Tue, 6 Mar 2007 13:21:23 -0600
Subject: [R-SIG-Finance] PerformanceAnalytics package installation
In-Reply-To: <200703051024.29748.brian@braverock.com>
References: <200703051024.29748.brian@braverock.com>
Message-ID: <200703061321.23411.brian@braverock.com>

On Monday 05 March 2007 10:24, Brian G. Peterson wrote:
> PerformanceAnalytics R package for Performance and Risk Analysis
>
> We are pleased to release for the use and review of our peers and
> mentors this R package of econometric tools for performance and risk
> analysis.
>
> We are soliciting feedback on the PerformanceAnalytics package on
> R-SIG-Finance in preparation for releasing this package to CRAN and
> submission to one of the implementation journals.  We believe that the
> code here is stable and usable, please report any problems that you
> encounter.  We intend to continue adding documentation and examples
> during this review period as well, so please suggest refinements,
> examples, or references.  We intend to write a vignette that can
> include inline equations, code, and graphics as part of the publication
> process, but that may not be completed before the first release to
> CRAN.
>
> PerformanceAnalytics R package version 0.9.3 (v1.0rc1)

I've received a few requests for information on how to install the 
Performanceanalytics package tarball,especially on MS Windows.

I've done a bit more digging, and here's what I've found:

I install from the shell command line with 

R CMD INSTALL PerformanceAnalytics_0.9.3.tar.gz

I don't directly know how to install a package tarball under R for 
Windows.

Here's what I was able to find with a bit of digging...

I don't see any instructions on installing source packages in Windows 
here:
http://wiki.r-project.org/rwiki/doku.php?id=getting-started:installation:packages

On this page:
http://cran.r-project.org/doc/manuals/R-admin.html

I see this:

<quote>
What install.packages does by default is different on Unix and Windows. On 
Unix-alikes (include MacOS X unless running from the GUI console) it 
consults the list of available source packages on CRAN (or other 
repository/ies), downloads the latest version of the package sources, and 
installs them (via R CMD INSTALL). On Windows it looks (by default) at 
the list of binary versions of packages available for your version of R 
and downloads the latest versions (if any), although optionally it will 
also download and install a source package by setting the type argument.

install.packages can install a source package from a local .tar.gz file by 
setting argument repos to NULL.

On Windows install.packages can also install a binary package from a local 
zip file by setting argument repos to NULL.
</quote>

Hope it helps...

Regards,

? ?- Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From AGarcia at bank-banque-canada.ca  Tue Mar  6 16:34:51 2007
From: AGarcia at bank-banque-canada.ca (Alejandro Garcia)
Date: Tue, 6 Mar 2007 10:34:51 -0500
Subject: [R-SIG-Finance] Is there a zip file for R in windows?
Message-ID: <A6DA59168387AF408128AC9C7EBE521D05D34789@BOC-EXMAIL1.bocad.bank-banque-canada.ca>

Is there a zip file to install PerformanceAnalytics package for R 2.4
running on Windows?

Thanks,

Alejandro

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of
r-sig-finance-request at stat.math.ethz.ch
Sent: March 6, 2007 6:00 AM
To: r-sig-finance at stat.math.ethz.ch
Subject: R-SIG-Finance Digest, Vol 34, Issue 2


Send R-SIG-Finance mailing list submissions to
	r-sig-finance at stat.math.ethz.ch

To subscribe or unsubscribe via the World Wide Web, visit
	https://stat.ethz.ch/mailman/listinfo/r-sig-finance
or, via email, send a message with subject or body 'help' to
	r-sig-finance-request at stat.math.ethz.ch

You can reach the person managing the list at
	r-sig-finance-owner at stat.math.ethz.ch

When replying, please edit your Subject line so it is more specific
than "Re: Contents of R-SIG-Finance digest..."


Today's Topics:

   1. PerformanceAnalytics package: modern econometrics	for
      performance and risk (implemented) (Brian G. Peterson)


----------------------------------------------------------------------

Message: 1
Date: Mon, 5 Mar 2007 10:24:29 -0600
From: "Brian G. Peterson" <brian at braverock.com>
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics	for performance and risk (implemented)
To: r-sig-finance at stat.math.ethz.ch
Message-ID: <200703051024.29748.brian at braverock.com>
Content-Type: text/plain; charset="iso-8859-1"

PerformanceAnalytics R package for Performance and Risk Analysis

We are pleased to release for the use and review of our peers and
mentors
this R package of econometric tools for performance and risk analysis.

We are soliciting feedback on the PerformanceAnalytics package on
R-SIG-Finance in preparation for releasing this package to CRAN and
submission to one of the implementation journals.  We believe that the
code here is stable and usable, please report any problems that you
encounter.  We intend to continue adding documentation and examples
during this review period as well, so please suggest refinements,
examples, or references.  We intend to write a vignette that can include
inline equations, code, and graphics as part of the publication process,
but that may not be completed before the first release to CRAN.

PerformanceAnalytics R package version 0.9.3 (v1.0rc1)

Econometric tools for performance and risk analysis.

Description:
Library of econometric functions for performance and risk analysis of
financial portfolios. This library aims to aid practitioners and
researchers in using the latest research in analysis of both normal and
non-normal return streams.

We created this library to include functionality that has been appearing
in the academic literature on performance analysis and risk over the
past
several years, but had no functional equivalent in R.  In doing so, we
also found it valuable to have wrapper functions for functionality
easily
replicated in R, so that we could access that functionality using a
function with defaults and naming consistent with common usage in the
finance literature. The package covers Performance Analysis, Risk
Analysis (with a separate treatment of VaR), Summary Tables of related
statistics, Charts and Graphs, a variety of Wrappers and Utility
functions, and some thoughts on work yet to be done.

This R package contains over 80 original functions, and several
 additional wrappers to simplify parameters or provide accessible names
 for other functionality.

I suggest that you start with the summary documentation, either via the
attached PerformanceAnalytics-package.pdf
or as HTML with links here:
http://braverock.com/brian/R/PerformanceAnalytics-package.html

Below please find the index summary of all the functions included in the
documentation.

Regards,

    - Brian


########################################################################
#
PerformanceAnalytics package index:

ActivePremium           Active Premium
BetaCoKurtosis          systematic kurtosis of an asset to the initial
                        portfolio
BetaCoSkewness          systematic skewness of an asset to an initial
                        portfolio
BetaCoVariance          systematic beta of an asset to an initial
                        portfolio
CAPM.alpha              calculate CAPM alpha
CAPM.beta               calculate CAPM beta
CAPM.utils              utility functions for CAPM CML, SML, and
                        RiskPremium
CalculateReturns        calculate simple or compound returns from
                        prices
CoKurtosis              calculate the co-moment for kurtosis of two
                        assets
CoSkewness              calculate the co-moment for skewness of two
                        assets
DownsideDeviation       function for downside risk of the return
                        distribution
InformationRatio        InformationRatio = ActivePremium/TrackingError
KellyRatio              calculate Kelly criterion ratio (leverage or
                        bet size) for a strategy
Omega                   calculate Omega for a return series
Return.annualized       calculate an annualized return for comparing
                        instruments with different length history
Return.cumulative       calculate a compounded (geometric) cumulative
                        return
SemiDeviation           deviation below the mean of the return
                        distribution
SharpeRatio             Sharpe Ratio
SharpeRatio.annualized
                        calculate annualized Sharpe Ratio
SharpeRatio.modified    calculate a modified Sharpe Ratio of
                        Return/modVaR
SortinoRatio            calculate Sortino Ratio of performance over
                        downside risk
StdDev                  Standard Deviation of Monthly Returns
StdDev.annualized       calculate an annualized Standard Deviation
TrackingError           Calculate Tracking Error of returns against a
                        benchmark
TreynorRatio            calculate Treynor Ratio of excess return over
                        CAPM beta
UpDownRatios            calculate metrics on up and down markets for
                        the benchmark asset
VaR.Beyond              calculate BVaR or loss Beyond traditional
                        mean-VaR
VaR.CornishFisher       calculate Modified Cornish-Fisher Value at Risk
VaR.Marginal            Calculate the Marginal VaR of each element of a
                        portfolio
chart.Bar               wrapper for barchart of returns
chart.BarVaR            Periodic returns in a bar chart with risk
                        metric overlay
chart.Boxplot           box whiskers plot wrapper, with sensible
                        defaults
chart.Correlation       correlation matrix chart
chart.Correlation.color
                        correlation matrix chart, in color
chart.CumReturns        Cumulates and graphs a set of periodic returns
chart.Drawdown          Time series chart of drawdowns through time
chart.Histogram         histogram of returns
chart.QQPlot            wrapper for qq.plot, with sensible defaults
chart.RegressionDiagnostics
                        regression diagnostics charts
chart.RelativePerformance
                        relative performance chart between multiple
                        return series
chart.RiskReturnScatter
                        scatter chart of returns vs risk for comparing
                        multiple instruments
chart.RollingCorrelation
                        chart rolling correlation fo multiple assets
chart.RollingMean       chart the rolling mean return
chart.RollingPerformance
                        wrapper to create a chart of rolling
                        performance metrics in a line chart
chart.RollingRegression
                        A wrapper to create charts of relative
                        regression performance through time
chart.Scatter           wrapper to draw scatter plot with sensible
                        defaults
chart.TimeSeries        Creates a time series chart with some
                        extensions.
charts.PerformanceSummary
                        Create combined wealth index, period
                        performance, and drawdown chart
charts.RegressionDiagnostics
                        multiple regression diagnostics charts in one
                        plot
charts.RollingPerformance
                        rolling performance chart
checkDataMatrix         check input data type and format to normalize
                        to a vector
checkDataVector         check input data type and format to normalize
                        to a vector
cummax.column           wrapper to calculate cummax on all columns in a
                        matrix
cumprod.column          wrapper to calculate cumprod on all columns in
                        a matrix
download.RiskFree       download 13-week US Treasury Bill Prices and
                        calculate 13-week US Treasury Bill returns
download.SP500PriceReturns
                        download S & P Prices and calculate S & P
                        returns
edhec                   EDHEC-Risk Hedge Fund Style Indices
findDrawdowns           Find the drawdowns in a timeseries.
maxDrawdown             caclulate the maximum drawdown from peak equity
mean.utils              calculate attributes relative to the mean of
                        the return series given incl. stderr, LCL, UCL
moment.fourth           calculate the fourth mathematical moment of the
                        return function
moment.third            calculate the third mathematical moment of the
                        return function
rollingCorrelation      rolling training period covariance/correlation
rollingFunction         wrapper to apply functions over a rolling
                        period
rollingRegression       Rolling Regression on Returns
rollingStat             wrapper to apply any function over a rolling
                        time window
sortDrawdowns           order list of drawdowns from worst to best
statsTable              wrapper function for combining arbitrary
                        function list into a table
table.AnnualizedReturns
                        Annualized Returns Summary: Statistics and
                        Stylized Facts
table.CAPM              Asset-Pricing Model Summary: Statistics and
                        Stylized Facts
table.Correlation       calculate correlalations of multicolumn data
table.DownsideRisk      Downside Risk Summary: Statistics and Stylized
                        Facts
table.HigherMoments     Higher Moments Summary: Statistics and Stylized
                        Facts
table.MonthlyReturns    Monthly Returns Summary: Statistics and
                        Stylized Facts
table.Returns           Monthly and Calendar year Return table
table.RollingPeriods    Rolling Periods Summary: Statistics and
                        Stylized Facts

########################################################################
#
 R (http://r-project.org/) Econometrics for Performance and Risk
Analysis

 Copyright (c) 2004-2007 Peter Carl and Brian G. Peterson

 This library is distributed under the GNU Public License (GPL)
 for full details see the file COPYING
########################################################################
#


This package replaces, extends, and deprecates the work that we had
previously published here for review by this community:

https://stat.ethz.ch/pipermail/r-sig-finance/2006q3/000977.html
coskewness, cokurtosis, and higher beta co-moments of the return
distribution (implemented)
Brian G. Peterson Thu Aug 10 14:05:43 2006

https://stat.ethz.ch/pipermail/r-sig-finance/2006q4/001170.html
performance analytics functions missing from other libraries
 (implemented) Brian G. Peterson Sat Dec 9 16:48:43 CET 2006

--
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PerformanceAnalytics-package.pdf
Type: application/pdf
Size: 190781 bytes
Desc: not available
Url :
https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070305/780ef3
99/attachment-0001.pdf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PerformanceAnalytics_0.9.3.tar.gz
Type: application/x-tgz
Size: 90709 bytes
Desc: not available
Url :
https://stat.ethz.ch/pipermail/r-sig-finance/attachments/20070305/780ef3
99/attachment-0001.bin 

------------------------------

_______________________________________________
R-SIG-Finance mailing list
R-SIG-Finance at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-finance


End of R-SIG-Finance Digest, Vol 34, Issue 2
********************************************
====================================================================================

La version fran?aise suit le texte anglais.

------------------------------------------------------------------------------------

This email may contain privileged and/or confidential inform...{{dropped}}


From brian at braverock.com  Wed Mar  7 13:19:19 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 7 Mar 2007 06:19:19 -0600
Subject: [R-SIG-Finance] Is there a zip file for R in windows?
In-Reply-To: <A6DA59168387AF408128AC9C7EBE521D05D34789@BOC-EXMAIL1.bocad.bank-banque-canada.ca>
References: <A6DA59168387AF408128AC9C7EBE521D05D34789@BOC-EXMAIL1.bocad.bank-banque-canada.ca>
Message-ID: <200703070619.19291.brian@braverock.com>

On Tuesday 06 March 2007 09:34, Alejandro Garcia wrote:
> Is there a zip file to install PerformanceAnalytics package for R 2.4
> running on Windows?

Alejandro,

No there isn't a Windows zip file yet.  I posted a message on installation 
under Windows to the list yesterday. It is archived here:

https://stat.ethz.ch/pipermail/r-sig-finance/2007q1/001292.html

Hopefully that will help you out.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From brian at braverock.com  Wed Mar  7 13:46:23 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 7 Mar 2007 06:46:23 -0600
Subject: [R-SIG-Finance] TAQ data and Eric Zivot's HF Library
In-Reply-To: <200702150619.47694.brian@braverock.com>
References: <200702150619.47694.brian@braverock.com>
Message-ID: <200703070646.23909.brian@braverock.com>

On Thursday 15 February 2007 02:12 pm, Panov, Evgeny [CIB-EQTY] wrote:

> Did anybody try to look at co-skewnesses for stocks for different
> sampling frequencies? 
> (i.e. 1-week as opposed to 1-day as opposed to 5-minutes) 

I realized that no one responded to this post.

We had previously released functions for the co-moments to this list, and 
CoSkewness is included in the code we released as the 
PerformanceAnalytics package this week.

You could use wavelets (via the package waveslim) or the aggregate 
function from zoo to construct the series for the various frequencies 
that you want to analyze.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From martin.becker at mx.uni-saarland.de  Wed Mar  7 14:11:54 2007
From: martin.becker at mx.uni-saarland.de (Martin Becker)
Date: Wed, 07 Mar 2007 14:11:54 +0100
Subject: [R-SIG-Finance] Is there a zip file for R in windows?
In-Reply-To: <200703070619.19291.brian@braverock.com>
References: <A6DA59168387AF408128AC9C7EBE521D05D34789@BOC-EXMAIL1.bocad.bank-banque-canada.ca>
	<200703070619.19291.brian@braverock.com>
Message-ID: <45EEBA1A.8050103@mx.uni-saarland.de>

Without any guarantees, but seems to work on my WinXP/R-2.4.1:

http://www.saar-gate.net/download/PerformanceAnalytics_0.9.3.zip

HTH,

  Martin

Brian G. Peterson schrieb:
> On Tuesday 06 March 2007 09:34, Alejandro Garcia wrote:
>   
>> Is there a zip file to install PerformanceAnalytics package for R 2.4
>> running on Windows?
>>     
>
> Alejandro,
>
> No there isn't a Windows zip file yet.  I posted a message on installation 
> under Windows to the list yesterday. It is archived here:
>
> https://stat.ethz.ch/pipermail/r-sig-finance/2007q1/001292.html
>
> Hopefully that will help you out.
>
> Regards,
>
>    - Brian
>
>


From enrique.bengoechea at credit-suisse.com  Wed Mar  7 18:20:51 2007
From: enrique.bengoechea at credit-suisse.com (=?iso-8859-1?Q?Bengoechea_Bartolom=E9_Enrique_=28SIES_73=29?=)
Date: Wed, 7 Mar 2007 18:20:51 +0100
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics (...)
In-Reply-To: <200703061032.52791.brian@braverock.com>
References: <mailman.15.1173178806.11892.r-sig-finance@stat.math.ethz.ch>
	<19811401A1D8174CB3EAD7F6072E9B50649B6D@chsa1025.share.beluni.net>
	<200703061032.52791.brian@braverock.com>
Message-ID: <19811401A1D8174CB3EAD7F6072E9B50649D68@chsa1025.share.beluni.net>

> I'm a definite proponent of descriptive naming, 

I'm also, but only for languages that are not interactive!!

> Clearly I must be missing a distinction in how package 
> namespaces work. Perhaps you could clarify?  

Sorry, my fault. I was talking of "polluting the namespace" at a conceptual level, in the sense of overloading the capacity of the user to remember so many different function names....

> For these econometric functions, I just couldn't see a good 
> way to wrap them up into a class that makes any logical 
> sense.  Sometimes you're working with vectors of returns, 
> other times with regular or irregular timeseries/zoo objects, 
> sometimes with one instrument, sometimes with many.

This is the case with many R classes. "zoo" for example can be either a vector or a matrix, and its index can be of any class provided a few methods are provided for it. So it shouldn't be a problem. A few checks and a good number of coertion methods should do the trick. In fact, It seems to me that your functions checkDataVector() and checkDataMatrix() are kind of fulfilling the role of standard coertion methods, isn't it? Why not use the standard facilities provided by the language?

It's true most functions in your package wouldn't match standard generics as they provide financial-specific computations, but then functions like chart.Bar() could implement the generic barplot() if a "returns" class that extends "zoo" is defined (just an example!)

It would be nice to have other people's feedback, but my own libraries became much easier to use and maintain when I made an effort to build classes and reuse standard generics. Also, when in doubt about some convention, to me it makes sense to match those in the base packages, even if I agree naming an argument "x" is not very appealing  :-))

> The code currently uses mostly vectors and data.frames 
> internally.  We're strongly considering changing to use zoo 
> internally for everything, as it would probably also make 
> some of the rolling and aggregation code we wrote redundant.

I ended up doing this for my own code and, yes, it simplified things a lot. 

In any case, very interesting issues.

Best,

Enrique


From m_hofert at web.de  Fri Mar  9 19:51:23 2007
From: m_hofert at web.de (Hofert Marius)
Date: Fri, 9 Mar 2007 19:51:23 +0100
Subject: [R-SIG-Finance] Standardized residuals for garchFit?
Message-ID: <3B7ED11D-100F-47E5-B34C-7F80838E4672@web.de>

Hi,

does a garchFit() return the residuals or the standardized residuals  
if one uses @residuals?
If the former, is there an option for returning the standardized  
residuals? In the package description "The fSeries Package" (October  
22, 2006), it's mentioned on page 35 that "The method for computation  
of the residuals may have an additional argument named standardize  
which allows to standardize the residuals by the conditional  
variance", but I could not figure out how this option is brought in.  
Apart from that, shouldn't it be "...standardize the residuals by the  
conditional _standard deviation_" and is this what the option  
standardize is actually doing (if applied somehow)?

Best regards

Marius


From rich7804 at yahoo.com  Sat Mar 10 01:00:51 2007
From: rich7804 at yahoo.com (Rich Ghazarian)
Date: Fri, 9 Mar 2007 16:00:51 -0800 (PST)
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
Message-ID: <600659.18400.qm@web30806.mail.mud.yahoo.com>



Irregularly Spaced Time Series:




I am trying a TS data that has the following format,  but I am not able to import it as a TS frame?  I want to fit the data to a GARCH, but I can
not do that unless it is indexed to the appropriate series.  


 


Date                Rt


1/12/2003            0.1


1/13/2003            0.5


1/14/2003            0.3


1/17/2003            0.1


1/18/2003            0.32


1/20/2003            0.276


1/21/2003            0.28


1/22/2003            0.284


 


I search and could not find an answer to the question.  



Thank you


 




Rich Ghazarian



 
____________________________________________________________________________________
Bored stiff? Loosen up...


From ggrothendieck at gmail.com  Sat Mar 10 01:12:05 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Fri, 9 Mar 2007 19:12:05 -0500
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
In-Reply-To: <600659.18400.qm@web30806.mail.mud.yahoo.com>
References: <600659.18400.qm@web30806.mail.mud.yahoo.com>
Message-ID: <971536df0703091612k5c3be936i2534b1c00c0d701f@mail.gmail.com>

The zoo package can _represent_ irregularly spaced series.
You can then re-index it to be acceptable to whatever garch
function you are using.

library(zoo)
vignette("zoo")


On 3/9/07, Rich Ghazarian <rich7804 at yahoo.com> wrote:
>
>
> Irregularly Spaced Time Series:
>
>
>
>
> I am trying a TS data that has the following format,  but I am not able to import it as a TS frame?  I want to fit the data to a GARCH, but I can
> not do that unless it is indexed to the appropriate series.
>
>
>
>
>
> Date                Rt
>
>
> 1/12/2003            0.1
>
>
> 1/13/2003            0.5
>
>
> 1/14/2003            0.3
>
>
> 1/17/2003            0.1
>
>
> 1/18/2003            0.32
>
>
> 1/20/2003            0.276
>
>
> 1/21/2003            0.28
>
>
> 1/22/2003            0.284
>
>
>
>
>
> I search and could not find an answer to the question.
>
>
>
> Thank you
>
>
>
>
>
>
>
> Rich Ghazarian
>
>
>
>
> ____________________________________________________________________________________
> Bored stiff? Loosen up...
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>


From ahala2000 at yahoo.com  Sat Mar 10 03:18:46 2007
From: ahala2000 at yahoo.com (elton wang)
Date: Fri, 9 Mar 2007 18:18:46 -0800 (PST)
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
In-Reply-To: <971536df0703091612k5c3be936i2534b1c00c0d701f@mail.gmail.com>
Message-ID: <389088.22508.qm@web31404.mail.mud.yahoo.com>

Why not add zero returns for businessdays inbetween?
If you really want to fit to the irregular dates,how
are you going to use it to predict?  

> 
> On 3/9/07, Rich Ghazarian <rich7804 at yahoo.com>
> wrote:
> >
> >
> > Irregularly Spaced Time Series:
> >
> >
> >
> >
> > I am trying a TS data that has the following
> format,  but I am not able to import it as a TS
> frame?  I want to fit the data to a GARCH, but I can
> > not do that unless it is indexed to the
> appropriate series.
> >
> >
> >
> >
> >
> > Date                Rt
> >
> >
> > 1/12/2003            0.1
> >
> >
> > 1/13/2003            0.5
> >
> >
> > 1/14/2003            0.3
> >
> >
> > 1/17/2003            0.1
> >
> >
> > 1/18/2003            0.32
> >
> >
> > 1/20/2003            0.276
> >
> >
> > 1/21/2003            0.28
> >
> >
> > 1/22/2003            0.284
> >
> >
> >
> >
> >
> > I search and could not find an answer to the
> question.
> >
> >
> >
> > Thank you
> >
> >
> >
> >
> >
> >
> >
> > Rich Ghazarian
> >
> >
> >
> >
> >
>
____________________________________________________________________________________
> > Bored stiff? Loosen up...
> >
> > _______________________________________________
> > R-SIG-Finance at stat.math.ethz.ch mailing list
> >
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> > -- Subscriber-posting only.
> > -- If you want to post, subscribe first.
> >
> 
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only. 
> -- If you want to post, subscribe first.
> 



 
____________________________________________________________________________________
Looking for earth-friendly autos? 
Browse Top Cars by "Green Rating" at Yahoo! Autos' Green Center.


From brian at braverock.com  Sat Mar 10 03:45:04 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Fri, 9 Mar 2007 20:45:04 -0600
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
In-Reply-To: <389088.22508.qm@web31404.mail.mud.yahoo.com>
References: <389088.22508.qm@web31404.mail.mud.yahoo.com>
Message-ID: <200703092045.04332.brian@braverock.com>

On Friday 09 March 2007 20:18, elton wang wrote:
> Why not add zero returns for businessdays inbetween?
> If you really want to fit to the irregular dates,how
> are you going to use it to predict?

As Gabor Grothendieck has already pointed out, the zoo class may be 
reindexed or aggregated into a regular series for the purposes of GARCH 
using several methods to regularize the series.  Missing observations do 
not necessarily mean zero return for the period.  

Regards,

   - Brian
 
> > On 3/9/07, Rich Ghazarian <rich7804 at yahoo.com>
> >
> > wrote:
> > > Irregularly Spaced Time Series:
> > >
> > > I am trying a TS data that has the following
> >
> > format,  but I am not able to import it as a TS
> > frame?  I want to fit the data to a GARCH, but I can
> >
> > > not do that unless it is indexed to the
> >
> > appropriate series.
> >
> > > Date                Rt
> > > 1/12/2003            0.1
> > > 1/13/2003            0.5
> > > 1/14/2003            0.3
> > > 1/17/2003            0.1
> > > 1/18/2003            0.32
> > > 1/20/2003            0.276
> > > 1/21/2003            0.28
> > > 1/22/2003            0.284
> > >
> > > I search and could not find an answer to the
> > question.


From rich7804 at yahoo.com  Sat Mar 10 21:02:39 2007
From: rich7804 at yahoo.com (Rich Ghazarian)
Date: Sat, 10 Mar 2007 12:02:39 -0800 (PST)
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
Message-ID: <914893.56256.qm@web30815.mail.mud.yahoo.com>


Brian,

Thank you for your input.

Here is what I get and I don't understand why?   Thank you for your help

> Z <- read.zoo(na.exclude("pp.csv", sep = ",", format = "%d %b %Y"))


     V1            
1    01/12-03,0.1  
2    01/13-03,0.5  
3    01/14-03,0.3  
4    01/15-03,0.1  
5    01/19-03,0.284
6    01/20-03,0.288



 
____________________________________________________________________________________
Be a PS3 game guru.


From brian at braverock.com  Sat Mar 10 21:34:14 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 10 Mar 2007 14:34:14 -0600
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
In-Reply-To: <914893.56256.qm@web30815.mail.mud.yahoo.com>
References: <914893.56256.qm@web30815.mail.mud.yahoo.com>
Message-ID: <200703101434.15032.brian@braverock.com>

On Saturday 10 March 2007 14:02, Rich Ghazarian wrote:
> Brian,
>
> Thank you for your input.
>
> Here is what I get and I don't understand why?   Thank you for your
> help
>
> > Z <- read.zoo(na.exclude("pp.csv", sep = ",", format = "%d %b %Y"))
>
>      V1
> 1    01/12-03,0.1
> 2    01/13-03,0.5
> 3    01/14-03,0.3
> 4    01/15-03,0.1
> 5    01/19-03,0.284
> 6    01/20-03,0.288

You haven't told us what the format of your CSV file is, but I suspect 
that your problem is with your format string.  You need to tell zoo how 
to interpret the date column from your source CSV.  Details in the zoo 
documentation.

Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From brian at braverock.com  Sat Mar 10 21:48:59 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Sat, 10 Mar 2007 14:48:59 -0600
Subject: [R-SIG-Finance] Irregularly Spaced Time Series
In-Reply-To: <200703101434.15032.brian@braverock.com>
References: <914893.56256.qm@web30815.mail.mud.yahoo.com>
	<200703101434.15032.brian@braverock.com>
Message-ID: <200703101448.59542.brian@braverock.com>

> On Saturday 10 March 2007 14:02, Rich Ghazarian wrote:
> > Brian,
> >
> > Thank you for your input.
> >
> > Here is what I get and I don't understand why?   Thank you for your
> > help
> >
> > > Z <- read.zoo(na.exclude("pp.csv", sep = ",", format = "%d %b %Y"))
> >
> >      V1
> > 1    01/12-03,0.1
> > 2    01/13-03,0.5
> > 3    01/14-03,0.3
> > 4    01/15-03,0.1
> > 5    01/19-03,0.284
> > 6    01/20-03,0.288

On Saturday 10 March 2007 14:34, Brian G. Peterson wrote:
> You haven't told us what the format of your CSV file is, but I suspect
> that your problem is with your format string.  You need to tell zoo how
> to interpret the date column from your source CSV.  Details in the zoo
> documentation.

Once you have the data into a zoo object and indexed correctly, you can 
examine the other na.* methods for zoo, like na.locf or na.approx, or 
look at the documentation for the aggregate function to coerce the 
irregular source data into the type of series and frequency you need for 
your analysis.

Regards,

   - Brian 

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From rich7804 at yahoo.com  Sun Mar 11 06:06:24 2007
From: rich7804 at yahoo.com (Rich Ghazarian)
Date: Sat, 10 Mar 2007 21:06:24 -0800 (PST)
Subject: [R-SIG-Finance] Error in read.zoo
Message-ID: <860510.81082.qm@web30808.mail.mud.yahoo.com>

I get the following error and don't know how to get around this?

z <- read.zoo("pp.csv", sep = " ", format = "%m/%d-%y")
Error in read.zoo("pp.csv", sep = " ", format = "%m/%d-%y") :
        index contains NAs


My Data looks like this




 
____________________________________________________________________________________
Bored stiff? Loosen up...


From Achim.Zeileis at wu-wien.ac.at  Sun Mar 11 12:24:26 2007
From: Achim.Zeileis at wu-wien.ac.at (Achim Zeileis)
Date: Sun, 11 Mar 2007 12:24:26 +0100 (CET)
Subject: [R-SIG-Finance] Error in read.zoo
In-Reply-To: <860510.81082.qm@web30808.mail.mud.yahoo.com>
References: <860510.81082.qm@web30808.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.64.0703111221430.17202@eowyn>

On Sat, 10 Mar 2007, Rich Ghazarian wrote:

> I get the following error and don't know how to get around this?
>
> z <- read.zoo("pp.csv", sep = " ", format = "%m/%d-%y")
> Error in read.zoo("pp.csv", sep = " ", format = "%m/%d-%y") :
>        index contains NAs
>
> My Data looks like this
>
>
>

Does this mean that there is no data? ;-)
More seriously, we would need an example to say anything useful.
Z

>
> ____________________________________________________________________________________
> Bored stiff? Loosen up...
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>


From rich7804 at yahoo.com  Tue Mar 13 02:42:22 2007
From: rich7804 at yahoo.com (Rich Ghazarian)
Date: Mon, 12 Mar 2007 18:42:22 -0700 (PDT)
Subject: [R-SIG-Finance] NAs for GARCH
Message-ID: <504882.44530.qm@web30805.mail.mud.yahoo.com>

Here is what my data looks like, after I try to remove the NAs, but I still get an error message for GARCH, any suggestion as to how I can index this.  The data is irregular daily returns, and I would like to fit a GARCH type model, but I am not sure how to apply zooreg or ts 

The raw data in CSV format


 
 
  2/5/2001
  0.29
 
 
  2/6/2001
  0.35
 
 
  2/7/2001
  0.31
 
 
  2/8/2001
  0.26
 
 
  2/9/2001
  0.26
 
 
  2/12/2001
  0.36
 
 
  2/13/2001
  0.43
 
 
  2/14/2001
  0.47
 
 
  2/15/2001
  0.34
 
 z1 <- read.zoo("pp.csv", sep = " ", format = "%m/%d/%y")

and apply

> na.locf(z1)

Time Series:

Start = 11358 

End = 13426 

Frequency = 1 

   [1]  0.291  0.354
 0.310  0.262  0.261  0.261  0.261  0.355
 0.427  0.473  0.340

  [12]  0.158  0.158
 0.158  0.158  0.021  0.032 -0.103 -0.103 -0.103 -0.103
-0.103

  [23] -0.208 -0.165  0.021
-0.078 -0.078 -0.078 -0.035 -0.020  0.065  0.065 -0.022

  [34] -0.022 -0.022 -0.024 -0.127
-0.127  0.000  0.152  0.152  0.152  0.464  0.392

  [45]  0.237  0.178
 0.069  0.069  0.069 -0.053  0.041  0.099  0.111
 0.157  0.157

  [56]  0.157  0.390
 0.397  0.172  0.179  0.068  0.068  0.068
 0.151  0.318  0.396

  [67]  0.452  0.452
 0.452  0.452  0.307  0.157  0.102 -0.120 -0.074
-0.074 -0.074

  [78]  0.069  0.028
 0.043  0.206  0.199  0.199  0.199  0.141
 0.066  0.085 -0.028

  [89] -0.053 -0.053 -0.053  0.068
 0.094  0.130  0.084 -0.050 -0.050 -0.050 -0.129

<!--
D(["mb"," [100] -0.147 -0.113  0.087\n 0.050  0.050  0.050  0.120  0.104  0.104\n-0.051 -0.148\u003c/font\>\n\u003cbr\>\n\u003cbr\>\u003cfont size\u003d\"2\" face\u003d\"sans-serif\"\>&gt; garch(z1, order \u003d c(1, 1), coef\n\u003d NULL, itmax \u003d 200, eps \u003d NULL,grad \u003d c(&quot;analytical&quot;,&quot;numerical&quot;),\nseries \u003d NULL, trace \u003d TRUE)\u003c/font\>\n\u003cbr\>\u003cfont size\u003d\"2\" face\u003d\"sans-serif\"\>Error in garch(z1, order \u003d c(1, 1),\ncoef \u003d NULL, itmax \u003d 200, eps \u003d NULL,  : \u003c/font\>\n\u003cbr\>\u003cfont size\u003d\"2\" face\u003d\"sans-serif\"\>        NAs in x\u003c/font\>\n\u003cbr\>\n--\u003d_alternative 007F353B8825729C_\u003d--",0]
);
D(["ma",[1,"\u003ctable class\u003datt cellspacing\u003d0 cellpadding\u003d5 border\u003d0\>\u003ctr\>\u003ctd colspan\u003d2\>\u003cb style\u003dpadding-left:3\>2 attachments\u003c/b\> &#8212; Scanning for viruses...\u003ctr\>\u003ctd\>\u003ctable cellspacing\u003d0 cellpadding\u003d0\>\u003ctr\>\u003ctd\>\u003cimg width\u003d16 height\u003d16 src\u003d\"/mail/images/generic.gif\"\>\u003ctd width\u003d7\>\u003ctd\>\u003cb\>gas.csv\u003c/b\>\u003cbr\>30K \u003c/table\>\u003ctr\>\u003ctd\>\u003ctable cellspacing\u003d0 cellpadding\u003d0\>\u003ctr\>\u003ctd\>\u003cimg width\u003d16 height\u003d16 src\u003d\"/mail/images/generic.gif\"\>\u003ctd width\u003d7\>\u003ctd\>\u003cb\>pp.csv\u003c/b\>\u003cbr\>23K \u003c/table\>\u003c/table\>","1114869f291fd79d"]
]
);

//--> [100] -0.147 -0.113  0.087
 0.050  0.050  0.050  0.120  0.104  0.104
-0.051 -0.148



> garch(z1, order = c(1, 1), coef
= NULL, itmax = 200, eps = NULL,grad = c("analytical","numerical"),
series = NULL, trace = TRUE)

Error in garch(z1, order = c(1, 1),
coef = NULL, itmax = 200, eps = NULL,  : 

        NAs in x






--=_alternative 007F353B8825729C_=--

----- Original Message ----
From: "r-sig-finance-request at stat.math.ethz.ch" <r-sig-finance-request at stat.math.ethz.ch>
To: r-sig-finance at stat.math.ethz.ch
Sent: Monday, March 12, 2007 4:00:05 AM
Subject: R-SIG-Finance Digest, Vol 34, Issue 7

Send R-SIG-Finance mailing list submissions to
    r-sig-finance at stat.math.ethz.ch

To subscribe or unsubscribe via the World Wide Web, visit
    https://stat.ethz.ch/mailman/listinfo/r-sig-finance
or, via email, send a message with subject or body 'help' to
    r-sig-finance-request at stat.math.ethz.ch

You can reach the person managing the list at
    r-sig-finance-owner at stat.math.ethz.ch

When replying, please edit your Subject line so it is more specific
than "Re: Contents of R-SIG-Finance digest..."


Today's Topics:

   1. Re: Error in read.zoo (Achim Zeileis)


----------------------------------------------------------------------

Message: 1
Date: Sun, 11 Mar 2007 12:24:26 +0100 (CET)
From: Achim Zeileis <Achim.Zeileis at wu-wien.ac.at>
Subject: Re: [R-SIG-Finance] Error in read.zoo

Cc: r-sig-finance at stat.math.ethz.ch
Message-ID: <Pine.LNX.4.64.0703111221430.17202 at eowyn>
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed

On Sat, 10 Mar 2007, Rich Ghazarian wrote:

> I get the following error and don't know how to get around this?
>
> z <- read.zoo("pp.csv", sep = " ", format = "%m/%d-%y")
> Error in read.zoo("pp.csv", sep = " ", format = "%m/%d-%y") :
>        index contains NAs
>
> My Data looks like this
>
>
>

Does this mean that there is no data? ;-)
More seriously, we would need an example to say anything useful.
Z

>
> ____________________________________________________________________________________
> Bored stiff? Loosen up...
>
> _______________________________________________
> R-SIG-Finance at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> -- Subscriber-posting only.
> -- If you want to post, subscribe first.
>
>



------------------------------

_______________________________________________
R-SIG-Finance mailing list
R-SIG-Finance at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-finance


End of R-SIG-Finance Digest, Vol 34, Issue 7
********************************************





 
____________________________________________________________________________________
Be a PS3 game guru.


From brian at braverock.com  Tue Mar 13 02:59:36 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Mon, 12 Mar 2007 20:59:36 -0500
Subject: [R-SIG-Finance] NAs for GARCH
In-Reply-To: <504882.44530.qm@web30805.mail.mud.yahoo.com>
References: <504882.44530.qm@web30805.mail.mud.yahoo.com>
Message-ID: <200703122059.36905.brian@braverock.com>

On Monday 12 March 2007 20:42, Rich Ghazarian wrote:
> Here is what my data looks like, after I try to remove the NAs, but I
> still get an error message for GARCH, any suggestion as to how I can
> index this. ?The data is irregular daily returns, and I would like to
> fit a GARCH type model, but I am not sure how to apply zooreg or ts

As I said in an earlier post, you have a few options. zoo provides a 
number of functions which may help you decide what to do with missing 
days.  na.locf, na.omit,  na.approx, or thw aggregate function may be 
used.  You'll need to decide which method is most appropriate to your 
data and best represents your missing observations.  If enough 
observations are missing, for instance, you may need to use aggregate to 
fit a weekly regular series.  Only examination of your data will tell you 
what the right answer is, the list can be of limited assistance.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From ahala2000 at yahoo.com  Tue Mar 13 13:42:27 2007
From: ahala2000 at yahoo.com (elton wang)
Date: Tue, 13 Mar 2007 05:42:27 -0700 (PDT)
Subject: [R-SIG-Finance] NAs for GARCH
In-Reply-To: <504882.44530.qm@web30805.mail.mud.yahoo.com>
Message-ID: <27704.29871.qm@web31413.mail.mud.yahoo.com>

This data set below is just missing weekends. On
businessday basis, they are actually continous. So
there is no point to go for irregular time frame
GARCH. 

irregular time frame will only be useful if there are
missing data, but from your data below, it looks to me
there are no missing data, there are no data at all on
those dates, this is a big difference.
 
--- Rich Ghazarian <rich7804 at yahoo.com> wrote:

> Here is what my data looks like, after I try to
> remove the NAs, but I still get an error message for
> GARCH, any suggestion as to how I can index this. 
> The data is irregular daily returns, and I would
> like to fit a GARCH type model, but I am not sure
> how to apply zooreg or ts 
> 
> The raw data in CSV format
> 
> 
>  
>  
>   2/5/2001
>   0.29
>  
>  
>   2/6/2001
>   0.35
>  
>  
>   2/7/2001
>   0.31
>  
>  
>   2/8/2001
>   0.26
>  
>  
>   2/9/2001
>   0.26
>  
>  
>   2/12/2001
>   0.36
>  
>  
>   2/13/2001
>   0.43
>  
>  
>   2/14/2001
>   0.47
>  
>  
>   2/15/2001
>   0.34
>  
>  z1 <- read.zoo("pp.csv", sep = " ", format =
> "%m/%d/%y")
> 
> and apply
> 
> > na.locf(z1)
> 
> Time Series:
> 
> Start = 11358 
> 
> End = 13426 
> 
> Frequency = 1 
> 
>    [1]  0.291  0.354
>  0.310  0.262  0.261  0.261  0.261  0.355
>  0.427  0.473  0.340
> 
>   [12]  0.158  0.158
>  0.158  0.158  0.021  0.032 -0.103 -0.103 -0.103
> -0.103
> -0.103
> 
>   [23] -0.208 -0.165  0.021
> -0.078 -0.078 -0.078 -0.035 -0.020  0.065  0.065
> -0.022
> 
>   [34] -0.022 -0.022 -0.024 -0.127
> -0.127  0.000  0.152  0.152  0.152  0.464  0.392
> 
>   [45]  0.237  0.178
>  0.069  0.069  0.069 -0.053  0.041  0.099  0.111
>  0.157  0.157
> 
>   [56]  0.157  0.390
>  0.397  0.172  0.179  0.068  0.068  0.068
>  0.151  0.318  0.396
> 
>   [67]  0.452  0.452
>  0.452  0.452  0.307  0.157  0.102 -0.120 -0.074
> -0.074 -0.074
> 
>   [78]  0.069  0.028
>  0.043  0.206  0.199  0.199  0.199  0.141
>  0.066  0.085 -0.028
> 
>   [89] -0.053 -0.053 -0.053  0.068
>  0.094  0.130  0.084 -0.050 -0.050 -0.050 -0.129
> 
> <!--
> D(["mb"," [100] -0.147 -0.113  0.087\n 0.050  0.050 
> 0.050  0.120  0.104  0.104\n-0.051
>
-0.148\u003c/font\>\n\u003cbr\>\n\u003cbr\>\u003cfont
> size\u003d\"2\" face\u003d\"sans-serif\"\>&gt;
> garch(z1, order \u003d c(1, 1), coef\n\u003d NULL,
> itmax \u003d 200, eps \u003d NULL,grad \u003d
>
c(&quot;analytical&quot;,&quot;numerical&quot;),\nseries
> \u003d NULL, trace \u003d
> TRUE)\u003c/font\>\n\u003cbr\>\u003cfont
> size\u003d\"2\" face\u003d\"sans-serif\"\>Error in
> garch(z1, order \u003d c(1, 1),\ncoef \u003d NULL,
> itmax \u003d 200, eps \u003d NULL,  :
> \u003c/font\>\n\u003cbr\>\u003cfont size\u003d\"2\"
> face\u003d\"sans-serif\"\>        NAs in
> x\u003c/font\>\n\u003cbr\>\n--\u003d_alternative
> 007F353B8825729C_\u003d--",0]
> );
> D(["ma",[1,"\u003ctable class\u003datt
> cellspacing\u003d0 cellpadding\u003d5
> border\u003d0\>\u003ctr\>\u003ctd
> colspan\u003d2\>\u003cb style\u003dpadding-left:3\>2
> attachments\u003c/b\> ??? Scanning for
> viruses...\u003ctr\>\u003ctd\>\u003ctable
> cellspacing\u003d0
> cellpadding\u003d0\>\u003ctr\>\u003ctd\>\u003cimg
> width\u003d16 height\u003d16
> src\u003d\"/mail/images/generic.gif\"\>\u003ctd
>
width\u003d7\>\u003ctd\>\u003cb\>gas.csv\u003c/b\>\u003cbr\>30K
> \u003c/table\>\u003ctr\>\u003ctd\>\u003ctable
> cellspacing\u003d0
> cellpadding\u003d0\>\u003ctr\>\u003ctd\>\u003cimg
> width\u003d16 height\u003d16
> src\u003d\"/mail/images/generic.gif\"\>\u003ctd
>
width\u003d7\>\u003ctd\>\u003cb\>pp.csv\u003c/b\>\u003cbr\>23K
> \u003c/table\>\u003c/table\>","1114869f291fd79d"]
> ]
> );
> 
> //--> [100] -0.147 -0.113  0.087
>  0.050  0.050  0.050  0.120  0.104  0.104
> -0.051 -0.148
> 
> 
> 
> > garch(z1, order = c(1, 1), coef
> = NULL, itmax = 200, eps = NULL,grad =
> c("analytical","numerical"),
> series = NULL, trace = TRUE)
> 
> Error in garch(z1, order = c(1, 1),
> coef = NULL, itmax = 200, eps = NULL,  : 
> 
>         NAs in x
> 
> 
> 
> 
> 
> 
> --=_alternative 007F353B8825729C_=--
> 
> ----- Original Message ----
> From: "r-sig-finance-request at stat.math.ethz.ch"
> <r-sig-finance-request at stat.math.ethz.ch>
> To: r-sig-finance at stat.math.ethz.ch
> Sent: Monday, March 12, 2007 4:00:05 AM
> Subject: R-SIG-Finance Digest, Vol 34, Issue 7
> 
> Send R-SIG-Finance mailing list submissions to
>     r-sig-finance at stat.math.ethz.ch
> 
> To subscribe or unsubscribe via the World Wide Web,
> visit
>    
> https://stat.ethz.ch/mailman/listinfo/r-sig-finance
> or, via email, send a message with subject or body
> 'help' to
>     r-sig-finance-request at stat.math.ethz.ch
> 
> You can reach the person managing the list at
>     r-sig-finance-owner at stat.math.ethz.ch
> 
> When replying, please edit your Subject line so it
> is more specific
> than "Re: Contents of R-SIG-Finance digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: Error in read.zoo (Achim Zeileis)
> 
> 
>
----------------------------------------------------------------------
> 
> Message: 1
> Date: Sun, 11 Mar 2007 12:24:26 +0100 (CET)
> From: Achim Zeileis <Achim.Zeileis at wu-wien.ac.at>
> Subject: Re: [R-SIG-Finance] Error in read.zoo
> 
> Cc: r-sig-finance at stat.math.ethz.ch
> Message-ID:
> <Pine.LNX.4.64.0703111221430.17202 at eowyn>
> Content-Type: TEXT/PLAIN; charset=US-ASCII;
> format=flowed
> 
=== message truncated ===



 
____________________________________________________________________________________
8:00? 8:25? 8:40? Find a flick in no time


From Mark.Leeds at morganstanley.com  Thu Mar 15 17:42:10 2007
From: Mark.Leeds at morganstanley.com (Leeds, Mark (IED))
Date: Thu, 15 Mar 2007 12:42:10 -0400
Subject: [R-SIG-Finance] fBasics data
Message-ID: <D3AEEDA31E57474B840BEBC25A8A8344F396D6@NYWEXMB23.msad.ms.com>

 
When I read the fBasics doc, it shows code that can make data sets
available to you. Yet, when I follow the doc, The command exactly in the
example, I get an doesn't seem to work. 

 source("fBasics.12D-ZivotWangData")

Or 

 Source("fBasics.12D-ZivotWangData")

I get cannot open file for the former and could not find function SOURCE
for the latter.

If someone has time, would they to take a look at page 16 of the fBasics
Doc. Maybe your doc is more updated so it's the part where they load the
downjones 30 data ).
and follow the code and see if anything comes up for you.  I was going
to send this to R-help but I try to limit my bothers  to one per day max
and I already used my allotment for the day.  

My info is below. Thanks.

 version
               _                           
platform       i686-pc-linux-gnu           
arch           i686                        
os             linux-gnu                   
system         i686, linux-gnu             
status                                     
major          2                           
minor          4.0                         
year           2006                        
month          10                          
day            03                          
svn rev        39566                       
language       R                           
version.string R version 2.4.0 (2006-10-03)


From brian at braverock.com  Thu Mar 15 18:07:13 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 15 Mar 2007 12:07:13 -0500
Subject: [R-SIG-Finance] fBasics data
In-Reply-To: <D3AEEDA31E57474B840BEBC25A8A8344F396D6@NYWEXMB23.msad.ms.com>
References: <D3AEEDA31E57474B840BEBC25A8A8344F396D6@NYWEXMB23.msad.ms.com>
Message-ID: <200703151207.13669.brian@braverock.com>

On Thursday 15 March 2007 11:42, Leeds, Mark (IED) wrote:
> When I read the fBasics doc, it shows code that can make data sets
> available to you. Yet, when I follow the doc, The command exactly in
> the example, I get an doesn't seem to work.
>
>  source("fBasics.12D-ZivotWangData")
>
> Or
>
>  Source("fBasics.12D-ZivotWangData")
>
> I get cannot open file for the former and could not find function
> SOURCE for the latter.

I'm not going to dig it out for you, but I'll try to point you in the 
right direction...

Recently, RMetrics moved many of the data sets to a package called 
'fEcofin'.  Many of the older data sets ended up in this new package.

Second, I'm not sure if the Zivot and Wang data sets are still distributed 
with current RMetrics packages.  If this is the case for the data you 
want, you have two options.  The first option would be to look through 
older archived versions of the RMetrics packages for the data set you 
want.  The second option would be to look on Eric Zivot's website for his 
book. (and *do* buy that book if you don't already own a copy, it is an 
invaluable reference for these topics in R as well as S+FinMetrics)

Finally, the command is 'source' for "source"'ing any other file into R, 
always.

?source

from the R prompt will give you more information.

Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From unthomas at student.ethz.ch  Wed Mar 21 14:45:35 2007
From: unthomas at student.ethz.ch (=?iso-8859-1?Q?Untern=E4hrer__Thomas?=)
Date: Wed, 21 Mar 2007 14:45:35 +0100
Subject: [R-SIG-Finance] single-period markowitz portfolio optimization
Message-ID: <B370A35D30A87449A7B61CDFB4ABFEFF193927@EX5.d.ethz.ch>


Dear list members,

I'm looking for a single-period markowitz porfolio omptimization algorithm (I have average returns and the covariance matrix).
As far as I know the function MarkowitzPortfolio in the package fPortfolio needs a (time) series per asset.

Is there allready a function I can use?

Thanks a lot

regards,

Thomas


From brian at braverock.com  Wed Mar 21 15:15:19 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Wed, 21 Mar 2007 09:15:19 -0500
Subject: [R-SIG-Finance] single-period markowitz portfolio optimization
In-Reply-To: <B370A35D30A87449A7B61CDFB4ABFEFF193927@EX5.d.ethz.ch>
References: <B370A35D30A87449A7B61CDFB4ABFEFF193927@EX5.d.ethz.ch>
Message-ID: <200703210915.19607.brian@braverock.com>

On Wednesday 21 March 2007 08:45, Untern?hrer Thomas wrote:
> I'm looking for a single-period markowitz porfolio omptimization
> algorithm (I have average returns and the covariance matrix). As far as
> I know the function MarkowitzPortfolio in the package fPortfolio needs
> a (time) series per asset.
>
> Is there allready a function I can use?

You should be able to use solve.QP directly.  There are many posts in the 
list archives for this list about using solve.QP to construct a 
Markowitz-style optimized portfolio.

Regards,

   - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From guillaume.nicoulaud at halbis.com  Wed Mar 21 15:16:48 2007
From: guillaume.nicoulaud at halbis.com (guillaume.nicoulaud at halbis.com)
Date: Wed, 21 Mar 2007 15:16:48 +0100
Subject: [R-SIG-Finance] =?iso-8859-15?q?R=E9f=2E_=3A__single-period_marko?=
 =?iso-8859-15?q?witz_portfolio_optimization?=
Message-ID: <OF61676319.4A135236-ONC12572A5.004DC477-C12572A5.004EBFFF@hsbc.fr>

I would recommend solve.QP from quadprog

Here is a basic implementation:

      c1 <- matrix(1, n, 1)

      c2 <- diag( rep( 1, n) )

      c3 <- diag( rep(-1, n) )

      cC <- cbind(c1, c2, c3)



      t1 <- Sw

      t2 <- matrix(Mn, n, 1)

      t3 <- matrix(-Mx, n, 1)

      tT  <- matrix( c(t1, t2, t3) )



      library('quadprog', character.only = TRUE)



      opt <- solve.QP(M, Si, cC, tT, 1)

      opt[[1]] -> res

      names(res) <- colnames(M)


with:
n = number of assets
M = covariance matrix
Si = a numeric vector containing your expected returns
Sw = target sum of weights (usually 1 in long-only portfolios)
Mn = minimum individual weights as a numeric vector (use with care, will fail if n*Mn > Sw)
Mx = maximum individual weights as a numeric vector


Les informations contenues dans ce message sont confidentielles et peuvent constituer des informations privilegiees. Si vous n etes pas le destinataire de ce message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d en utiliser tout ou partie. Si vous avez recu ce message par erreur, merci de le supprimer de votre systeme, ainsi que toutes ses copies, et d en avertir immediatement l expediteur par message de retour.
Il est impossible de garantir que les communications par messagerie electronique arrivent en temps utile, sont securisees ou denuees de toute erreur ou virus. En consequence, l expediteur n accepte aucune responsabilite du fait des erreurs ou omissions qui pourraient en resulter.
--- ----------------------------------------------------- ---
The information contained in this e-mail is confidential. It...{{dropped}}


From edd at debian.org  Wed Mar 21 15:35:28 2007
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 21 Mar 2007 09:35:28 -0500
Subject: [R-SIG-Finance] single-period markowitz portfolio optimization
In-Reply-To: <B370A35D30A87449A7B61CDFB4ABFEFF193927@EX5.d.ethz.ch>
References: <B370A35D30A87449A7B61CDFB4ABFEFF193927@EX5.d.ethz.ch>
Message-ID: <20070321143528.GA21477@eddelbuettel.com>

On Wed, Mar 21, 2007 at 02:45:35PM +0100, Untern?hrer  Thomas wrote:
> I'm looking for a single-period markowitz porfolio omptimization algorithm (I have average returns and the covariance matrix).
> As far as I know the function MarkowitzPortfolio in the package fPortfolio needs a (time) series per asset.

Which, I presume, it uses to calculate the first and second moments
you already have.  So read and understand the relevant code following_
that calculation, and feed it your values.  Not a bad exercise.

> Is there allready a function I can use?

Try 

    help(portfolio.optim, package=tseries)

but it also starts from a set of returns.

Dirk

-- 
Hell, there are no rules here - we're trying to accomplish something. 
                                                  -- Thomas A. Edison


From keywan.christian.rasekhschaffe at lu.unisi.ch  Tue Mar 13 18:44:23 2007
From: keywan.christian.rasekhschaffe at lu.unisi.ch (Rasekhschaffe Keywan Christian)
Date: Tue, 13 Mar 2007 18:44:23 +0100
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern econometrics
	for performance and risk (implemented)
Message-ID: <8F76929B20F2D742980BAFF3797833CB4A0C5B@usi06.usilu.net>

Dear Brian,
I wanted to download the performanceanalytics package, but could not
figure out how to do it. Could you let me know how to download and
install the package?

Thank you very much in advance for your help,
Keywan


From roger.bos at us.rothschild.com  Thu Mar 15 18:43:32 2007
From: roger.bos at us.rothschild.com (Bos, Roger)
Date: Thu, 15 Mar 2007 13:43:32 -0400
Subject: [R-SIG-Finance] fBasics data
In-Reply-To: <D3AEEDA31E57474B840BEBC25A8A8344F396D6@NYWEXMB23.msad.ms.com>
Message-ID: <D8C95B444AD6EE4AAD638D818A9CFD343A201F@RINNYCSE000.rth.ad.rothschild.com>

You want to use the first example you listed, Source won't work because
of the capital 'S'.  See ?source.  It simply reads in R code or data.
That means you file is not in your working directory.  Do a file search
for your filename and put the full path in the source command and it
should work.

HTH,

Roger
 

-----Original Message-----
From: r-sig-finance-bounces at stat.math.ethz.ch
[mailto:r-sig-finance-bounces at stat.math.ethz.ch] On Behalf Of Leeds,
Mark (IED)
Sent: Thursday, March 15, 2007 12:42 PM
To: r-sig-finance at stat.math.ethz.ch
Subject: [R-SIG-Finance] fBasics data

 
When I read the fBasics doc, it shows code that can make data sets
available to you. Yet, when I follow the doc, The command exactly in the
example, I get an doesn't seem to work. 

 source("fBasics.12D-ZivotWangData")

Or 

 Source("fBasics.12D-ZivotWangData")

I get cannot open file for the former and could not find function SOURCE
for the latter.

If someone has time, would they to take a look at page 16 of the fBasics
Doc. Maybe your doc is more updated so it's the part where they load the
downjones 30 data ).
and follow the code and see if anything comes up for you.  I was going
to send this to R-help but I try to limit my bothers  to one per day max
and I already used my allotment for the day.  

My info is below. Thanks.

 version
               _                           
platform       i686-pc-linux-gnu           
arch           i686                        
os             linux-gnu                   
system         i686, linux-gnu             
status                                     
major          2                           
minor          4.0                         
year           2006                        
month          10                          
day            03                          
svn rev        39566                       
language       R                           
version.string R version 2.4.0 (2006-10-03)

_______________________________________________
R-SIG-Finance at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/r-sig-finance
-- Subscriber-posting only. 
-- If you want to post, subscribe first.

********************************************************************** * 
This message is for the named person's use only. It may 
contain confidential, proprietary or legally privileged 
information. No right to confidential or privileged treatment 
of this message is waived or lost by any error in 
transmission. If you have received this message in error, 
please immediately notify the sender by e-mail, 
delete the message and all copies from your system and destroy 
any hard copies. You must not, directly or indirectly, use, 
disclose, distribute, print or copy any part of this message 
if you are not the intended recipient.


From brian at braverock.com  Thu Mar 22 22:39:51 2007
From: brian at braverock.com (Brian G. Peterson)
Date: Thu, 22 Mar 2007 16:39:51 -0500
Subject: [R-SIG-Finance] PerformanceAnalytics package: modern
	econometrics for performance and risk (implemented)
In-Reply-To: <8F76929B20F2D742980BAFF3797833CB4A0C5B@usi06.usilu.net>
References: <8F76929B20F2D742980BAFF3797833CB4A0C5B@usi06.usilu.net>
Message-ID: <200703221639.51936.brian@braverock.com>

On Tuesday 13 March 2007 12:44, Rasekhschaffe Keywan Christian wrote:
> Dear Brian,
> I wanted to download the performanceanalytics package, but could not
> figure out how to do it. Could you let me know how to download and
> install the package?
>
> Thank you very much in advance for your help,
> Keywan

I attached the package to my initial mail.  Most of the list archives 
online should have the tarball attached.  If you are running Windows, 
someone helpfully posted a windows binary zip file a couple days after my 
initial message.  So perhaps you could be a bit more specific in the 
exact problem you are having?

Regards,

  - Brian

-- 
773-459-4973 mobile
http://braverock.com/brian/resume-quant.pdf


From us at activestocks.de  Sun Mar 25 12:10:52 2007
From: us at activestocks.de (Ulrich Staudinger)
Date: Sun, 25 Mar 2007 12:10:52 +0200
Subject: [R-SIG-Finance] possible bug in cdoTA
Message-ID: <46064AAC.9070401@activestocks.de>

Hi there,
i don't know if i am on the right list, but anyway :)
I am right now in the process of synchronizing my own code base (ccapi2 
/ http://www.activestocksde) with the code base of RMetrics' indicators. 
And i found this code in RMetrics:

 > cdoTA
function (x, lag1 = 12, lag2 = 26, lag3 = 9)
{
    cdo = macdTA(x, lag1, lag2) - cdsTA(x, lag3)
    if (is.timeSeries(x))
        colnames(cdo) <- "CDO"
    cdo
}
 >

and

 > cdsTA
function (x, lag1 = 12, lag2 = 26, lag3 = 9)
{
    cds = emaTA(macdTA(x, lag1, lag2), lag3)
    if (is.timeSeries(x))
        colnames(cds) <- "CDS"
    cds
}
 >

However, cdsTA in cdoTA is called with lag2=26 and lag3=9. I think these 
hardcoded values are wrong. I think the cdoTA code should rather be

 > cdoTA
function (x, lag1 = 12, lag2 = 26, lag3 = 9)
{
    cdo = macdTA(x, lag1, lag2) - cdsTA(x, lag1, lag2, lag3)
    if (is.timeSeries(x))
        colnames(cdo) <- "CDO"
    cdo
}
 >


Please correct me if i am wrong. I also don't know if this has been 
reported / discussed, yet.

Thanks,
Sincerely yours,
Ulrich Staudinger


From bbands at gmail.com  Sun Mar 25 16:54:00 2007
From: bbands at gmail.com (BBands)
Date: Sun, 25 Mar 2007 07:54:00 -0700
Subject: [R-SIG-Finance] possible bug in cdoTA
In-Reply-To: <46064AAC.9070401@activestocks.de>
References: <46064AAC.9070401@activestocks.de>
Message-ID: <6e8360ad0703250754k5501ccb9q2dd1f7186d5c64a2@mail.gmail.com>

There are three pieces to the puzzle: MACD, MACD Signal and MACD Histogram.

Where x is a time series and a=12, b=26, c=9 are Appel's defaults:

MACD = ema(x, a) - ema(x, b)
MACD_Signal = ema(MACD, c)
MACD_Histogram = MACD - MACD_Signal

Hope that helps,

    jab

    jab
-- 
John Bollinger, CFA, CMT
www.BollingerBands.com

If you advance far enough, you arrive at the beginning.


